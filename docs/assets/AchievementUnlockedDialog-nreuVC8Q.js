import{j as t,B as m,P as e,D as j,b4 as v,d as C,b5 as T,e as c,f as E,m as w,g as f,bb as A}from"./mui-DHtKCVyI.js";import{r as h}from"./vendor-B0qVADJY.js";import{A as R,m as l,q as S}from"./index-Bme_WGpp.js";import"./firebase-CJLtoEJQ.js";const b=({color:r,delay:n,startX:i})=>{const a=["#FF6B6B","#4ECDC4","#FFD93D","#6BCB77","#4D96FF","#FF9F9F"],d=r||a[Math.floor(Math.random()*a.length)];return t.jsx(l.div,{initial:{top:-20,left:`${i}%`,rotate:0,scale:1},animate:{top:"110vh",left:`${i+(Math.random()*20-10)}%`,rotate:Math.random()*720-360,scale:[1,1.2,.8]},transition:{duration:3+Math.random()*2,delay:n,ease:"easeOut"},style:{position:"fixed",width:Math.random()*10+5+"px",height:Math.random()*10+5+"px",backgroundColor:d,borderRadius:Math.random()>.5?"50%":"0%",zIndex:9999,pointerEvents:"none"}})};b.propTypes={color:e.string,delay:e.number,startX:e.number};const y=({active:r=!1,duration:n=3e3,intensity:i=50})=>{const[a,d]=h.useState([]);return h.useEffect(()=>{if(r){const o=Array.from({length:i},(u,x)=>({id:`confetti-${Date.now()}-${x}`,startX:Math.random()*100,delay:Math.random()*.5}));d(o);const p=setTimeout(()=>{d([])},n);return()=>clearTimeout(p)}},[r,n,i]),t.jsx(m,{sx:{position:"fixed",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:9999},children:t.jsx(R,{children:a.map(o=>t.jsx(b,{startX:o.startX,delay:o.delay},o.id))})})};y.propTypes={active:e.bool,duration:e.number,intensity:e.number};const F=({open:r,onClose:n,achievement:i,onShare:a})=>{const[d,o]=h.useState(!1);if(h.useEffect(()=>{if(r&&i){o(!0);const s=setTimeout(()=>{o(!1)},3e3);return()=>clearTimeout(s)}},[r,i]),!i)return null;const p=S[i.tier],u=async()=>{const s=`I just unlocked the "${i.name}" achievement in GoodLift! ${i.icon}

${i.description}`;if(navigator.share)try{await navigator.share({title:"GoodLift Achievement",text:s})}catch(g){g.name!=="AbortError"&&(console.error("Error sharing:",g),x(s))}else x(s);a&&a(i)},x=s=>{navigator.clipboard.writeText(s).then(()=>{alert("Achievement text copied to clipboard!")})};return t.jsxs(t.Fragment,{children:[t.jsx(y,{active:d}),t.jsxs(j,{open:r,onClose:n,maxWidth:"sm",fullWidth:!0,TransitionComponent:v,TransitionProps:{direction:"up"},PaperProps:{sx:{borderRadius:3,background:p.gradient,color:p.textColor,overflow:"visible"}},children:[t.jsxs(C,{sx:{textAlign:"center",py:4},children:[t.jsx(l.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:260,damping:20,delay:.1},children:t.jsx(m,{sx:{width:100,height:100,borderRadius:"50%",bgcolor:"rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px",border:"4px solid rgba(255, 255, 255, 0.3)"},children:t.jsx(T,{sx:{fontSize:"4rem",color:"rgba(255, 255, 255, 0.9)"}})})}),t.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:t.jsx(c,{variant:"h6",sx:{fontWeight:600,mb:2,opacity:.9,letterSpacing:"0.1em",textTransform:"uppercase"},children:"Achievement Unlocked!"})}),t.jsx(l.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15,delay:.5},children:t.jsx(c,{variant:"h1",sx:{fontSize:"5rem",mb:2},children:i.icon})}),t.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:t.jsx(c,{variant:"h4",sx:{fontWeight:700,mb:1},children:i.name})}),t.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.9},children:t.jsx(m,{sx:{display:"inline-block",px:2,py:.5,borderRadius:2,bgcolor:"rgba(255, 255, 255, 0.2)",mb:2},children:t.jsx(c,{variant:"caption",sx:{fontWeight:700,letterSpacing:"0.1em",textTransform:"uppercase"},children:i.tier})})}),t.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.1},children:t.jsx(c,{variant:"body1",sx:{opacity:.9,maxWidth:"80%",margin:"0 auto"},children:i.description})})]}),t.jsx(E,{sx:{justifyContent:"center",pb:3,px:3},children:t.jsxs(w,{direction:{xs:"column",sm:"row"},spacing:2,sx:{width:"100%"},children:[t.jsx(f,{variant:"contained",onClick:n,fullWidth:!0,sx:{bgcolor:"rgba(255, 255, 255, 0.9)",color:"primary.main","&:hover":{bgcolor:"rgba(255, 255, 255, 1)"}},children:"Awesome!"}),t.jsx(f,{variant:"outlined",startIcon:t.jsx(A,{}),onClick:u,fullWidth:!0,sx:{borderColor:"rgba(255, 255, 255, 0.5)",color:"rgba(255, 255, 255, 0.9)","&:hover":{borderColor:"rgba(255, 255, 255, 0.8)",bgcolor:"rgba(255, 255, 255, 0.1)"}},children:"Share"})]})})]})]})};F.propTypes={open:e.bool.isRequired,onClose:e.func.isRequired,achievement:e.shape({id:e.string.isRequired,name:e.string.isRequired,description:e.string.isRequired,icon:e.string.isRequired,tier:e.string.isRequired}),onShare:e.func};export{F as default};
