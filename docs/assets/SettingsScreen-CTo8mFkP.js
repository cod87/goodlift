import{j as e,D as se,c as ie,B as n,bz as Be,e as r,d as te,aN as w,bA as Me,L as S,o as t,bB as o,h as re,q as a,bC as ne,aP as me,aU as ae,s as oe,aY as ue,bD as Oe,O as m,aM as Le,z as He,f as le,g as I,bE as pe,P as l,bF as ee,r as Ue,bG as Ye,m as xe,C as M,n as O,p as z,bH as _e,be as L,bI as Ge,E as Je,bJ as Ve,J as D,N as P,v as h,bK as Ke,bL as Qe,bM as E,b as Xe,a9 as Ze,bN as es,bO as ss,bP as is,bQ as ts,bl as rs,bn as ns,b6 as as,bR as os,bS as ls,bT as cs,aO as ds}from"./mui-DHtKCVyI.js";import{r as x}from"./vendor-B0qVADJY.js";import{Y as xs,Z as hs,G as ms,_ as us,u as ps,a as G,m as js,$ as gs,a0 as he,a1 as Q,a2 as ys,a3 as fs}from"./index-Bme_WGpp.js";import{d as bs}from"./profileUtils-DW-d_yQV.js";import{getWellnessCategories as vs}from"./wellnessTaskService-CyWyGg8q.js";import{r as Ss,s as ws}from"./pushNotificationService-C2m6P97J.js";import"./firebase-CJLtoEJQ.js";const je=({open:N,onClose:C,onConfirm:H,resetInfo:i})=>{const[c,W]=x.useState(""),[u,k]=x.useState(!1),[$,p]=x.useState(null),T=c.toLowerCase()==="reset",f=async()=>{k(!0),p(null);try{await H(),W(""),C()}catch(v){p(v.message||"Failed to reset data. Please try again.")}finally{k(!1)}},b=()=>{u||(W(""),p(null),C())};return e.jsxs(se,{open:N,onClose:b,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:2}},children:[e.jsx(ie,{sx:{pb:1},children:e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Be,{color:"warning"}),e.jsx(r,{variant:"h6",component:"span",children:"Reset Personal Data"})]})}),e.jsxs(te,{children:[e.jsxs(w,{severity:"warning",sx:{mb:2},children:["This action will delete your workout data and statistics. You will have"," ",e.jsx("strong",{children:"30 days"})," to recover your data if you change your mind."]}),e.jsxs(r,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,sx:{mt:2},children:[e.jsx(Me,{color:"error",sx:{verticalAlign:"middle",mr:.5}}),"The following will be deleted:"]}),e.jsxs(S,{dense:!0,sx:{bgcolor:"background.paper",borderRadius:1,mb:2},children:[i.totalWorkouts>0&&e.jsxs(t,{children:[e.jsx(o,{sx:{minWidth:40},children:e.jsx(re,{fontSize:"small"})}),e.jsx(a,{primary:`${i.totalWorkouts} workout${i.totalWorkouts!==1?"s":""}`,secondary:"Complete workout history"})]}),i.totalHiitSessions>0&&e.jsxs(t,{children:[e.jsx(o,{sx:{minWidth:40},children:e.jsx(ne,{fontSize:"small"})}),e.jsx(a,{primary:`${i.totalHiitSessions} HIIT session${i.totalHiitSessions!==1?"s":""}`})]}),i.totalCardioSessions>0&&e.jsxs(t,{children:[e.jsx(o,{sx:{minWidth:40},children:e.jsx(me,{fontSize:"small"})}),e.jsx(a,{primary:`${i.totalCardioSessions} cardio session${i.totalCardioSessions!==1?"s":""}`})]}),i.totalStretchSessions>0&&e.jsxs(t,{children:[e.jsx(o,{sx:{minWidth:40},children:e.jsx(ae,{fontSize:"small"})}),e.jsx(a,{primary:`${i.totalStretchSessions} stretch session${i.totalStretchSessions!==1?"s":""}`})]}),i.totalPlans>0&&e.jsxs(t,{children:[e.jsx(o,{sx:{minWidth:40},children:e.jsx(oe,{fontSize:"small"})}),e.jsx(a,{primary:`${i.totalPlans} workout plan${i.totalPlans!==1?"s":""}`})]}),i.totalFavoriteWorkouts>0&&e.jsxs(t,{children:[e.jsx(o,{sx:{minWidth:40},children:e.jsx(ue,{fontSize:"small"})}),e.jsx(a,{primary:`${i.totalFavoriteWorkouts} favorite workout${i.totalFavoriteWorkouts!==1?"s":""}`})]}),i.totalPinnedExercises>0&&e.jsxs(t,{children:[e.jsx(o,{sx:{minWidth:40},children:e.jsx(Oe,{fontSize:"small"})}),e.jsx(a,{primary:`${i.totalPinnedExercises} pinned exercise${i.totalPinnedExercises!==1?"s":""}`})]}),e.jsx(t,{children:e.jsx(a,{primary:"All statistics and achievements",secondary:"Streaks, PRs, total volume, etc."})}),e.jsx(t,{children:e.jsx(a,{primary:"Exercise weights and target reps",secondary:"Saved progress tracking data"})})]}),e.jsx(m,{sx:{my:2}}),e.jsxs(r,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,children:[e.jsx(Le,{color:"success",sx:{verticalAlign:"middle",mr:.5}}),"The following will be preserved:"]}),e.jsxs(S,{dense:!0,sx:{bgcolor:"background.paper",borderRadius:1,mb:2},children:[e.jsx(t,{children:e.jsx(a,{primary:"Login credentials and authentication"})}),e.jsx(t,{children:e.jsx(a,{primary:"Profile information (name, email, avatar)"})}),e.jsx(t,{children:e.jsx(a,{primary:"App preferences and settings"})})]}),e.jsx(w,{severity:"info",sx:{mb:2},children:'Your data will be backed up for 30 days. Use the "Recover Data" option to restore it within this period.'}),$&&e.jsx(w,{severity:"error",sx:{mb:2},children:$}),e.jsxs(n,{sx:{mt:2},children:[e.jsxs(r,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["To confirm, type ",e.jsx("strong",{children:"RESET"})," below:"]}),e.jsx(He,{fullWidth:!0,size:"small",value:c,onChange:v=>W(v.target.value),placeholder:"Type RESET to confirm",disabled:u,autoComplete:"off",sx:{mt:1}})]})]}),e.jsxs(le,{sx:{px:3,pb:2},children:[e.jsx(I,{onClick:b,disabled:u,children:"Cancel"}),e.jsx(I,{variant:"contained",color:"error",onClick:f,disabled:!T||u,startIcon:u?e.jsx(pe,{size:20}):null,children:u?"Resetting...":"Reset Data"})]})]})};je.propTypes={open:l.bool.isRequired,onClose:l.func.isRequired,onConfirm:l.func.isRequired,resetInfo:l.shape({totalWorkouts:l.number.isRequired,totalHiitSessions:l.number.isRequired,totalCardioSessions:l.number.isRequired,totalStretchSessions:l.number.isRequired,totalPlans:l.number.isRequired,totalFavoriteWorkouts:l.number.isRequired,totalFavoriteExercises:l.number.isRequired,totalPinnedExercises:l.number.isRequired,hasData:l.bool.isRequired}).isRequired};const ge=({open:N,onClose:C,onRecover:H,backup:i})=>{const[c,W]=x.useState(!1),[u,k]=x.useState(null);if(!i)return null;const $=new Date(i.timestamp),p=new Date(i.expiresAt),T=Math.ceil((i.expiresAt-Date.now())/(1e3*60*60*24)),f=T<=7,b=(i.data.workoutHistory||[]).length,v=(i.data.hiitSessions||[]).length,A=(i.data.cardioSessions||[]).length,U=(i.data.stretchSessions||[]).length,F=(i.data.workoutPlans||[]).length,Y=(i.data.favoriteWorkouts||[]).length,_=async()=>{W(!0),k(null);try{await H(),C()}catch(B){k(B.message||"Failed to recover data. Please try again.")}finally{W(!1)}},q=()=>{c||(k(null),C())};return e.jsxs(se,{open:N,onClose:q,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:2}},children:[e.jsx(ie,{sx:{pb:1},children:e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(ee,{color:"primary"}),e.jsx(r,{variant:"h6",component:"span",children:"Recover Your Data"})]})}),e.jsxs(te,{children:[e.jsxs(w,{severity:f?"warning":"info",sx:{mb:2},icon:e.jsx(Ye,{}),children:[e.jsxs(r,{variant:"body2",children:[e.jsx("strong",{children:"Backup created:"})," ",$.toLocaleString()]}),e.jsxs(r,{variant:"body2",children:[e.jsx("strong",{children:"Expires:"})," ",p.toLocaleDateString()," ",e.jsx(Ue,{label:`${T} day${T!==1?"s":""} remaining`,size:"small",color:f?"warning":"default",sx:{ml:1}})]})]}),e.jsx(r,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,children:"Your backup contains:"}),e.jsxs(S,{dense:!0,sx:{bgcolor:"background.paper",borderRadius:1,mb:2},children:[b>0&&e.jsxs(t,{children:[e.jsx(re,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),e.jsx(a,{primary:`${b} workout${b!==1?"s":""}`})]}),v>0&&e.jsxs(t,{children:[e.jsx(ne,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),e.jsx(a,{primary:`${v} HIIT session${v!==1?"s":""}`})]}),A>0&&e.jsxs(t,{children:[e.jsx(me,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),e.jsx(a,{primary:`${A} cardio session${A!==1?"s":""}`})]}),U>0&&e.jsxs(t,{children:[e.jsx(ae,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),e.jsx(a,{primary:`${U} stretch session${U!==1?"s":""}`})]}),F>0&&e.jsxs(t,{children:[e.jsx(oe,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),e.jsx(a,{primary:`${F} workout plan${F!==1?"s":""}`})]}),Y>0&&e.jsxs(t,{children:[e.jsx(ue,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),e.jsx(a,{primary:`${Y} favorite workout${Y!==1?"s":""}`})]}),e.jsx(t,{children:e.jsx(a,{primary:"All statistics and achievements",secondary:"Including streaks, PRs, and total volume"})}),e.jsx(t,{children:e.jsx(a,{primary:"Exercise weights and target reps",secondary:"Your saved progress tracking data"})})]}),e.jsx(w,{severity:"warning",sx:{mb:2},children:e.jsxs(r,{variant:"body2",children:[e.jsx("strong",{children:"Warning:"})," Recovering this backup will replace your current data. Any workouts or progress you've logged since the reset will be lost."]})}),u&&e.jsx(w,{severity:"error",sx:{mb:2},children:u})]}),e.jsxs(le,{sx:{px:3,pb:2},children:[e.jsx(I,{onClick:q,disabled:c,children:"Cancel"}),e.jsx(I,{variant:"contained",color:"primary",onClick:_,disabled:c,startIcon:c?e.jsx(pe,{size:20}):e.jsx(ee,{}),children:c?"Recovering...":"Recover Data"})]})]})};ge.propTypes={open:l.bool.isRequired,onClose:l.func.isRequired,onRecover:l.func.isRequired,backup:l.shape({timestamp:l.number.isRequired,expiresAt:l.number.isRequired,data:l.object.isRequired})};const Cs=({onNavigate:N})=>{const{mode:C,toggleTheme:H}=xs(),{preferences:i,updatePreference:c}=hs(),{profile:W,stats:u}=ms(),{isGuest:k}=us(),{resetWeekCycle:$}=ps(),[p,T]=x.useState(()=>{try{const s=localStorage.getItem("audioVolume");return s?parseFloat(s):.3}catch{return .3}}),[f,b]=x.useState(G.isMutedState()),[v,A]=x.useState(!1),[U,F]=x.useState(!1),[Y,_]=x.useState(!1),[q,B]=x.useState(null),[J,V]=x.useState(null),[ye,j]=x.useState(!1),[fe,g]=x.useState(""),[be,y]=x.useState("success"),[ve]=x.useState(()=>vs()),[R,Se]=x.useState(()=>{try{const s=localStorage.getItem("goodlift_stretch_prefs");return s?JSON.parse(s):{showWarmup:!0,showCooldown:!0,defaultWarmupDuration:5,defaultCooldownDuration:5}}catch{return{showWarmup:!0,showCooldown:!0,defaultWarmupDuration:5,defaultCooldownDuration:5}}});x.useEffect(()=>{try{localStorage.setItem("audioVolume",p.toString())}catch(s){console.warn("Could not save volume preference",s)}},[p]),x.useEffect(()=>{try{localStorage.setItem("goodlift_stretch_prefs",JSON.stringify(R))}catch(s){console.warn("Could not save stretch preferences",s)}},[R]),x.useEffect(()=>{(async()=>{await gs();const d=await he();B(d),V(Q())})()},[]);const we=(s,d)=>{T(d),d>0&&f&&(G.setMuted(!1),b(!1)),d===0&&!f&&(G.setMuted(!0),b(!0))},Ce=()=>{H(),f||G.playTransitionBeep()},We=()=>{p>0&&!f&&G.playBeep(800,200,p)},K=(s,d)=>{Se(Z=>({...Z,[s]:d}))},ke=()=>{bs(W,u)},Re=()=>{V(Q()),A(!0)},De=()=>{A(!1)},Pe=async()=>{const s=await ys();s.success?(B(s.backup),V(Q()),g(s.message),y("success"),j(!0),setTimeout(()=>{window.location.reload()},2e3)):(g(s.message),y("error"),j(!0))},Te=async()=>{const s=await he();B(s),F(!0)},ze=()=>{F(!1)},Ee=async()=>{const s=await fs();s.success?(B(null),V(Q()),g(s.message),y("success"),j(!0),setTimeout(()=>{window.location.reload()},2e3)):(g(s.message),y("error"),j(!0))},ce=()=>{j(!1)},X=s=>{N&&N(s)},Ie=()=>{_(!0)},de=()=>{_(!1)},Ne=async()=>{_(!1);try{await $(),g("Week cycle reset to Week 1. Automatic workout assignment re-enabled."),y("success"),j(!0)}catch(s){console.error("Error resetting week cycle:",s),g("Failed to reset week cycle"),y("error"),j(!0)}},$e=async s=>{s?await Ss()?(c("pushNotificationsEnabled",!0),g("Push notifications enabled!"),y("success"),j(!0)):(g("Permission denied. Please enable notifications in your browser settings."),y("error"),j(!0)):(c("pushNotificationsEnabled",!1),g("Push notifications disabled"),y("info"),j(!0))},Ae=s=>{const d=i.wellnessCategories||[],Z=d.includes(s)?d.filter(qe=>qe!==s):[...d,s];c("wellnessCategories",Z)},Fe=()=>{ws(i),g("Test notification sent!"),y("success"),j(!0)};return e.jsxs(n,{sx:{minHeight:"100vh",padding:{xs:1,sm:2,md:3,lg:4},paddingBottom:{xs:"80px",sm:3,md:4},background:s=>s.palette.background.default,overflowX:"hidden",width:"100%",boxSizing:"border-box"},children:[e.jsxs(js.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx(n,{sx:{display:"flex",justifyContent:"center",mb:2},children:e.jsx("img",{src:"/goodlift/goodlift-logo.svg",alt:"GoodLift",style:{height:"50px",width:"auto"}})}),e.jsx(r,{variant:"h4",sx:{mb:2,fontWeight:700,color:"text.primary"},children:"Settings"}),e.jsxs(xe,{spacing:2,sx:{maxWidth:600},children:[e.jsx(M,{sx:{borderRadius:2,boxShadow:3},children:e.jsxs(O,{sx:{p:0},children:[e.jsx(r,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"User Profile"}),e.jsx(S,{sx:{py:0},children:e.jsx(t,{disablePadding:!0,children:e.jsxs(z,{onClick:()=>X("profile"),sx:{py:1},children:[e.jsx(o,{sx:{minWidth:40},children:e.jsx(_e,{sx:{color:"primary.main"}})}),e.jsx(a,{primary:"Profile Information",primaryTypographyProps:{fontWeight:500}}),e.jsx(L,{sx:{color:"text.secondary"}})]})})})]})}),e.jsx(M,{sx:{borderRadius:2,boxShadow:3},children:e.jsxs(O,{sx:{p:0},children:[e.jsx(r,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"Exercise Database"}),e.jsx(S,{sx:{py:0},children:e.jsx(t,{disablePadding:!0,children:e.jsxs(z,{onClick:()=>X("exercise-list"),sx:{py:1},children:[e.jsx(o,{sx:{minWidth:40},children:e.jsx(Ge,{sx:{color:"primary.main"}})}),e.jsx(a,{primary:"Browse Exercises",primaryTypographyProps:{fontWeight:500}}),e.jsx(L,{sx:{color:"text.secondary"}})]})})})]})}),e.jsx(M,{sx:{borderRadius:2,boxShadow:3},children:e.jsxs(O,{sx:{p:0},children:[e.jsx(r,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"Workout Scheduling"}),e.jsxs(S,{sx:{py:0},children:[e.jsx(t,{disablePadding:!0,children:e.jsxs(z,{onClick:()=>X("edit-weekly-schedule"),sx:{py:1},children:[e.jsx(o,{sx:{minWidth:40},children:e.jsx(Je,{sx:{color:"primary.main"}})}),e.jsx(a,{primary:"Edit Weekly Schedule",primaryTypographyProps:{fontWeight:500}}),e.jsx(L,{sx:{color:"text.secondary"}})]})}),e.jsx(m,{component:"li"}),e.jsx(t,{disablePadding:!0,children:e.jsxs(z,{onClick:Ie,sx:{py:1},children:[e.jsx(o,{sx:{minWidth:40},children:e.jsx(oe,{sx:{color:"primary.main"}})}),e.jsx(a,{primary:"Reset Week Counter",primaryTypographyProps:{fontWeight:500}}),e.jsx(L,{sx:{color:"text.secondary"}})]})})]})]})}),e.jsx(M,{sx:{borderRadius:2,boxShadow:3},children:e.jsxs(O,{sx:{p:0},children:[e.jsx(r,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"App Preferences"}),e.jsxs(S,{sx:{py:0},children:[e.jsxs(t,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",width:"100%",mb:.5},children:[e.jsx(o,{sx:{minWidth:40},children:e.jsx(Ve,{sx:{color:"primary.main"}})}),e.jsx(r,{variant:"body2",fontWeight:500,children:"Unit System"})]}),e.jsx(D,{size:"small",sx:{ml:5,minWidth:160},children:e.jsxs(P,{value:i.units,onChange:s=>c("units",s.target.value),children:[e.jsx(h,{value:"imperial",children:"Imperial (lbs, in)"}),e.jsx(h,{value:"metric",children:"Metric (kg, cm)"})]})})]}),e.jsx(m,{component:"li"}),e.jsxs(t,{sx:{py:1},children:[e.jsx(o,{sx:{minWidth:40},children:C==="dark"?e.jsx(Ke,{sx:{color:"primary.main"}}):e.jsx(Qe,{sx:{color:"primary.main"}})}),e.jsx(a,{primary:"Theme",primaryTypographyProps:{fontWeight:500}}),e.jsx(E,{checked:C==="light",onChange:Ce,color:"primary"})]}),e.jsx(m,{component:"li"}),e.jsxs(t,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",width:"100%",mb:.5},children:[e.jsx(o,{sx:{minWidth:40},children:e.jsx(Xe,{sx:{color:"primary.main"}})}),e.jsx(r,{variant:"body2",fontWeight:500,children:"Sound Effects"})]}),e.jsx(n,{sx:{ml:5,width:"calc(100% - 40px)"},children:e.jsx(Ze,{value:p,onChange:we,onChangeCommitted:We,min:0,max:1,step:.1,valueLabelDisplay:"auto",valueLabelFormat:s=>`${Math.round(s*100)}%`,sx:{width:180,"& .MuiSlider-thumb":{width:16,height:16},"& .MuiSlider-track":{height:4},"& .MuiSlider-rail":{height:4}}})})]}),e.jsx(m,{component:"li"}),e.jsxs(t,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(o,{sx:{minWidth:40},children:e.jsx(ae,{sx:{color:"primary.main"}})}),e.jsx(r,{variant:"body2",fontWeight:500,children:"Warmup Reminders"})]}),e.jsx(E,{checked:R.showWarmup,onChange:s=>K("showWarmup",s.target.checked),color:"primary"})]}),R.showWarmup&&e.jsx(D,{size:"small",sx:{ml:5,mt:.5,minWidth:160},children:e.jsxs(P,{value:R.defaultWarmupDuration,onChange:s=>K("defaultWarmupDuration",s.target.value),children:[e.jsx(h,{value:5,children:"5 minutes"}),e.jsx(h,{value:7,children:"7 minutes"}),e.jsx(h,{value:10,children:"10 minutes"})]})})]}),e.jsx(m,{component:"li"}),e.jsxs(t,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(o,{sx:{minWidth:40},children:e.jsx(re,{sx:{color:"primary.main"}})}),e.jsx(r,{variant:"body2",fontWeight:500,children:"Cooldown Reminders"})]}),e.jsx(E,{checked:R.showCooldown,onChange:s=>K("showCooldown",s.target.checked),color:"primary"})]}),R.showCooldown&&e.jsx(D,{size:"small",sx:{ml:5,mt:.5,minWidth:160},children:e.jsxs(P,{value:R.defaultCooldownDuration,onChange:s=>K("defaultCooldownDuration",s.target.value),children:[e.jsx(h,{value:5,children:"5 minutes"}),e.jsx(h,{value:7,children:"7 minutes"}),e.jsx(h,{value:10,children:"10 minutes"})]})})]})]})]})}),e.jsx(M,{sx:{borderRadius:2,boxShadow:3},children:e.jsxs(O,{sx:{p:0},children:[e.jsx(r,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"Wellness & Notifications"}),e.jsxs(S,{sx:{py:0},children:[e.jsxs(t,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(o,{sx:{minWidth:40},children:e.jsx(es,{sx:{color:"primary.main"}})}),e.jsx(r,{variant:"body2",fontWeight:500,children:"Push Notifications"})]}),e.jsx(E,{checked:i.pushNotificationsEnabled||!1,onChange:s=>$e(s.target.checked),color:"primary"})]}),i.pushNotificationsEnabled&&e.jsx(n,{sx:{ml:5,mt:1,width:"calc(100% - 40px)"},children:e.jsx(I,{size:"small",variant:"outlined",onClick:Fe,sx:{fontSize:"0.75rem"},children:"Send Test Notification"})})]}),e.jsx(m,{component:"li"}),e.jsx(t,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:e.jsxs(n,{sx:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(o,{sx:{minWidth:40},children:e.jsx(ss,{sx:{color:"primary.main"}})}),e.jsx(r,{variant:"body2",fontWeight:500,children:"Daily Wellness Tasks"})]}),e.jsx(E,{checked:i.dailyWellnessTasksEnabled||!1,onChange:s=>c("dailyWellnessTasksEnabled",s.target.checked),color:"primary",disabled:!i.pushNotificationsEnabled})]})}),e.jsx(m,{component:"li"}),i.dailyWellnessTasksEnabled&&e.jsxs(e.Fragment,{children:[e.jsxs(t,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",width:"100%",mb:.5},children:[e.jsx(o,{sx:{minWidth:40},children:e.jsx(is,{sx:{color:"primary.main"}})}),e.jsx(r,{variant:"body2",fontWeight:500,children:"Relationship Status"})]}),e.jsx(D,{size:"small",sx:{ml:5,minWidth:160},children:e.jsxs(P,{value:i.relationshipStatus||"All",onChange:s=>c("relationshipStatus",s.target.value),children:[e.jsx(h,{value:"All",children:"All"}),e.jsx(h,{value:"Single",children:"Single"}),e.jsx(h,{value:"In Relationship",children:"In Relationship"})]})})]}),e.jsx(m,{component:"li"}),e.jsxs(t,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",width:"100%",mb:1},children:[e.jsx(o,{sx:{minWidth:40},children:e.jsx(ts,{sx:{color:"primary.main"}})}),e.jsx(r,{variant:"body2",fontWeight:500,children:"Wellness Categories"})]}),e.jsxs(n,{sx:{ml:5,width:"calc(100% - 40px)"},children:[e.jsx(r,{variant:"caption",color:"text.secondary",sx:{mb:1,display:"block"},children:"Select categories for personalized wellness tasks"}),e.jsx(xe,{spacing:.5,children:ve.map(s=>e.jsx(rs,{control:e.jsx(E,{size:"small",checked:(i.wellnessCategories||[]).includes(s),onChange:()=>Ae(s),color:"primary"}),label:e.jsx(r,{variant:"caption",children:s}),sx:{m:0}},s))})]})]}),e.jsx(m,{component:"li"})]}),i.pushNotificationsEnabled&&e.jsxs(e.Fragment,{children:[e.jsxs(t,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",width:"100%",mb:.5},children:[e.jsx(o,{sx:{minWidth:40},children:e.jsx(ns,{sx:{color:"primary.main"}})}),e.jsx(r,{variant:"body2",fontWeight:500,children:"Morning Notification Time"})]}),e.jsxs(n,{sx:{ml:5,display:"flex",gap:1},children:[e.jsx(D,{size:"small",sx:{minWidth:80},children:e.jsx(P,{value:i.morningNotificationTime?.hour||8,onChange:s=>c("morningNotificationTime",{...i.morningNotificationTime,hour:s.target.value}),children:Array.from({length:24},(s,d)=>e.jsx(h,{value:d,children:d.toString().padStart(2,"0")},d))})}),e.jsx(r,{variant:"body2",sx:{alignSelf:"center"},children:":"}),e.jsx(D,{size:"small",sx:{minWidth:80},children:e.jsx(P,{value:i.morningNotificationTime?.minute||0,onChange:s=>c("morningNotificationTime",{...i.morningNotificationTime,minute:s.target.value}),children:[0,15,30,45].map(s=>e.jsx(h,{value:s,children:s.toString().padStart(2,"0")},s))})})]})]}),e.jsx(m,{component:"li"}),e.jsxs(t,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between",mb:1},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(o,{sx:{minWidth:40},children:e.jsx(ne,{sx:{color:"primary.main"}})}),e.jsx(r,{variant:"body2",fontWeight:500,children:"Follow-up Notifications"})]}),e.jsx(E,{checked:i.enableFollowupNotifications??!0,onChange:s=>c("enableFollowupNotifications",s.target.checked),color:"primary"})]}),i.enableFollowupNotifications&&e.jsxs(e.Fragment,{children:[e.jsx(r,{variant:"caption",color:"text.secondary",sx:{ml:5,mb:.5,display:"block"},children:"Daily tasks: 9 PM | Weekly tasks: Saturday morning"}),e.jsxs(n,{sx:{ml:5,display:"flex",gap:1,alignItems:"center"},children:[e.jsx(r,{variant:"caption",children:"Follow-up time:"}),e.jsx(D,{size:"small",sx:{minWidth:80},children:e.jsx(P,{value:i.followupNotificationTime?.hour||21,onChange:s=>c("followupNotificationTime",{...i.followupNotificationTime,hour:s.target.value}),children:Array.from({length:24},(s,d)=>e.jsx(h,{value:d,children:d.toString().padStart(2,"0")},d))})}),e.jsx(r,{variant:"body2",children:":"}),e.jsx(D,{size:"small",sx:{minWidth:80},children:e.jsx(P,{value:i.followupNotificationTime?.minute||0,onChange:s=>c("followupNotificationTime",{...i.followupNotificationTime,minute:s.target.value}),children:[0,15,30,45].map(s=>e.jsx(h,{value:s,children:s.toString().padStart(2,"0")},s))})})]})]})]})]})]})]})}),e.jsx(M,{sx:{borderRadius:2,boxShadow:3},children:e.jsxs(O,{sx:{p:0},children:[e.jsx(r,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"Data & Privacy"}),e.jsxs(S,{sx:{py:0},children:[e.jsx(t,{disablePadding:!0,children:e.jsxs(z,{onClick:ke,sx:{py:1},children:[e.jsx(o,{sx:{minWidth:40},children:e.jsx(as,{sx:{color:"primary.main"}})}),e.jsx(a,{primary:"Export Data",primaryTypographyProps:{fontWeight:500}})]})}),e.jsx(m,{component:"li"}),q&&e.jsxs(e.Fragment,{children:[e.jsx(t,{disablePadding:!0,children:e.jsxs(z,{onClick:Te,sx:{py:1},children:[e.jsx(o,{sx:{minWidth:40},children:e.jsx(ee,{sx:{color:"success.main"}})}),e.jsx(a,{primary:"Recover Data",primaryTypographyProps:{fontWeight:500}}),e.jsx(L,{sx:{color:"text.secondary"}})]})}),e.jsx(m,{component:"li"})]}),e.jsx(t,{disablePadding:!0,children:e.jsxs(z,{onClick:Re,disabled:!J?.hasData,sx:{py:1},children:[e.jsx(o,{sx:{minWidth:40},children:e.jsx(os,{sx:{color:J?.hasData?"error.main":"text.disabled"}})}),e.jsx(a,{primary:"Reset Personal Data",primaryTypographyProps:{fontWeight:500}}),e.jsx(L,{sx:{color:"text.secondary"}})]})}),e.jsx(m,{component:"li"}),e.jsxs(t,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",width:"100%",mb:.5},children:[e.jsx(o,{sx:{minWidth:40},children:e.jsx(ls,{sx:{color:"primary.main"}})}),e.jsx(r,{variant:"body2",fontWeight:500,children:"Privacy"})]}),e.jsx(n,{sx:{ml:5,width:"calc(100% - 40px)"},children:k?e.jsx(w,{severity:"info",sx:{py:.5,fontSize:"0.8rem"},children:"Create an account to access cloud sync and data privacy features"}):e.jsx(w,{severity:"success",sx:{py:.5,fontSize:"0.8rem"},children:"Your data is securely stored in Firebase and synced across your devices"})})]})]})]})}),e.jsx(n,{sx:{mt:2},children:e.jsx(r,{variant:"body2",color:"text.secondary",sx:{textAlign:"center"},children:"Your preferences are saved automatically"})})]})]}),J&&e.jsx(je,{open:v,onClose:De,onConfirm:Pe,resetInfo:J}),q&&e.jsx(ge,{open:U,onClose:ze,onRecover:Ee,backup:q}),e.jsxs(se,{open:Y,onClose:de,maxWidth:"xs",fullWidth:!0,children:[e.jsx(ie,{children:"Reset Week Counter?"}),e.jsx(te,{children:e.jsx(cs,{children:"Are you sure you want to reset the week counter back to Week 1? This will re-enable automatic workout assignment."})}),e.jsxs(le,{children:[e.jsx(I,{onClick:de,color:"primary",children:"Cancel"}),e.jsx(I,{onClick:Ne,color:"primary",variant:"contained",children:"Continue"})]})]}),e.jsx(ds,{open:ye,autoHideDuration:6e3,onClose:ce,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:e.jsx(w,{onClose:ce,severity:be,sx:{width:"100%"},children:fe})})]})};Cs.propTypes={onNavigate:l.func};export{Cs as default};
