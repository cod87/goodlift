var tk=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import{P as H,j as a,B as Y,T as ss,I as rt,V as Y1,a as hg,D as Gn,b as os,W as nk,c as R,d as $n,e as Qn,f as ve,C as qe,g as hc,h as kd,A as sk,F as Cn,S as rk,i as Le,k as Fe,l as Me,m as Hn,n as ik,E as Oc,L as Hs,o as rs,p as U1,q as et,r as ht,s as Ip,R as Bp,t as Nn,u as ms,v as Mt,w as Rc,x as Gs,y as vt,z as St,M as Se,G as Lp,H as Np,J as ec,K as Fp,N as ua,O as Ci,Q as nr,U as pc,X as Qe,Y as or,Z as da,_ as ak,$ as Or,a0 as Fn,a1 as $d,a2 as ok,a3 as lk,a4 as ck,a5 as uk,a6 as q1,a7 as dk,a8 as fk,a9 as qs,aa as Rr,ab as G1,ac as hk,ad as Ic,ae as pk,af as $1,ag as mk,ah as gk,ai as yk,aj as vi,ak as Pd,al as xk,am as bk,an as gm,ao as pg,ap as Q1,aq as mg,ar as vk,as as Sk,at as K1,au as X1,av as Z1,aw as vo,ax as Qt,ay as J1,az as wk,aA as jk,aB as zo,aC as Ck,aD as gg,aE as Bc,aF as ym,aG as Tk,aH as Hp,aI as ej,aJ as od,aK as Dk,aL as jd,aM as Ek,aN as Z,aO as st,aP as Jt,aQ as vn,aR as Sn,aS as _r,aT as ze,aU as Rn,aV as rn,aW as va,aX as Ae,aY as tc,aZ as as,a_ as Qd,a$ as Mk,b0 as kk,b1 as Et,b2 as Pk,b3 as tj,b4 as Bo,b5 as Ir,b6 as yg,b7 as Po,b8 as Ti,b9 as nj,ba as Ak,bb as Ok,bc as sr,bd as yi,be as sj,bf as rj,bg as Rk,bh as Lo,bi as Ik,bj as ij,bk as Jv,bl as Bk,bm as ld,bn as Lk,bo as Nk,bp as Fk,bq as Hk,br as _k,bs as zk,bt as Wk,bu as eS,bv as tS,bw as nS}from"./mui-BQIdA7Ql.js";import{d as Vk,e as Yk,g as aj,a as xi,r as x}from"./vendor-CsU6LQgQ.js";import{i as Uk,g as qk,a as Gk,d as fa,s as Kd,b as xg,o as $k,c as Qk,e as Kk,f as Xk}from"./firebase-Oo_YHxoL.js";var EY=tk((xs,bs)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function s(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=s(l);fetch(l.href,u)}})();var _p={exports:{}},Vl={},zp={exports:{}},Wp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sS;function Zk(){return sS||(sS=1,(function(e){function t(F,I){var Q=F.length;F.push(I);e:for(;0<Q;){var ee=Q-1>>>1,ye=F[ee];if(0<l(ye,I))F[ee]=I,F[Q]=ye,Q=ee;else break e}}function s(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var I=F[0],Q=F.pop();if(Q!==I){F[0]=Q;e:for(var ee=0,ye=F.length,fe=ye>>>1;ee<fe;){var ge=2*(ee+1)-1,De=F[ge],ke=ge+1,Oe=F[ke];if(0>l(De,Q))ke<ye&&0>l(Oe,De)?(F[ee]=Oe,F[ke]=Q,ee=ke):(F[ee]=De,F[ge]=Q,ee=ge);else if(ke<ye&&0>l(Oe,Q))F[ee]=Oe,F[ke]=Q,ee=ke;else break e}}return I}function l(F,I){var Q=F.sortIndex-I.sortIndex;return Q!==0?Q:F.id-I.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var d=Date,f=d.now();e.unstable_now=function(){return d.now()-f}}var p=[],g=[],y=1,v=null,b=3,S=!1,j=!1,D=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function P(F){for(var I=s(g);I!==null;){if(I.callback===null)i(g);else if(I.startTime<=F)i(g),I.sortIndex=I.expirationTime,t(p,I);else break;I=s(g)}}function N(F){if(D=!1,P(F),!j)if(s(p)!==null)j=!0,W||(W=!0,A());else{var I=s(g);I!==null&&z(N,I.startTime-F)}}var W=!1,E=-1,L=5,_=-1;function B(){return T?!0:!(e.unstable_now()-_<L)}function V(){if(T=!1,W){var F=e.unstable_now();_=F;var I=!0;try{e:{j=!1,D&&(D=!1,M(E),E=-1),S=!0;var Q=b;try{t:{for(P(F),v=s(p);v!==null&&!(v.expirationTime>F&&B());){var ee=v.callback;if(typeof ee=="function"){v.callback=null,b=v.priorityLevel;var ye=ee(v.expirationTime<=F);if(F=e.unstable_now(),typeof ye=="function"){v.callback=ye,P(F),I=!0;break t}v===s(p)&&i(p),P(F)}else i(p);v=s(p)}if(v!==null)I=!0;else{var fe=s(g);fe!==null&&z(N,fe.startTime-F),I=!1}}break e}finally{v=null,b=Q,S=!1}I=void 0}}finally{I?A():W=!1}}}var A;if(typeof k=="function")A=function(){k(V)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,U=q.port2;q.port1.onmessage=V,A=function(){U.postMessage(null)}}else A=function(){C(V,0)};function z(F,I){E=C(function(){F(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(F){switch(b){case 1:case 2:case 3:var I=3;break;default:I=b}var Q=b;b=I;try{return F()}finally{b=Q}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(F,I){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Q=b;b=F;try{return I()}finally{b=Q}},e.unstable_scheduleCallback=function(F,I,Q){var ee=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ee+Q:ee):Q=ee,F){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=Q+ye,F={id:y++,callback:I,priorityLevel:F,startTime:Q,expirationTime:ye,sortIndex:-1},Q>ee?(F.sortIndex=Q,t(g,F),s(p)===null&&F===s(g)&&(D?(M(E),E=-1):D=!0,z(N,Q-ee))):(F.sortIndex=ye,t(p,F),j||S||(j=!0,W||(W=!0,A()))),F},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(F){var I=b;return function(){var Q=b;b=I;try{return F.apply(this,arguments)}finally{b=Q}}}})(Wp)),Wp}var rS;function Jk(){return rS||(rS=1,zp.exports=Zk()),zp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iS;function eP(){if(iS)return Vl;iS=1;var e=Jk(),t=Vk(),s=Yk();function i(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function d(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function f(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function p(n){if(u(n)!==n)throw Error(i(188))}function g(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(i(188));return r!==n?null:n}for(var o=n,c=r;;){var h=o.return;if(h===null)break;var m=h.alternate;if(m===null){if(c=h.return,c!==null){o=c;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===o)return p(h),n;if(m===c)return p(h),r;m=m.sibling}throw Error(i(188))}if(o.return!==c.return)o=h,c=m;else{for(var w=!1,O=h.child;O;){if(O===o){w=!0,o=h,c=m;break}if(O===c){w=!0,c=h,o=m;break}O=O.sibling}if(!w){for(O=m.child;O;){if(O===o){w=!0,o=m,c=h;break}if(O===c){w=!0,c=m,o=h;break}O=O.sibling}if(!w)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?n:r}function y(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=y(n),r!==null)return r;n=n.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),k=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function A(n){return n===null||typeof n!="object"?null:(n=V&&n[V]||n["@@iterator"],typeof n=="function"?n:null)}var q=Symbol.for("react.client.reference");function U(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===q?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case D:return"Fragment";case C:return"Profiler";case T:return"StrictMode";case N:return"Suspense";case W:return"SuspenseList";case _:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case j:return"Portal";case k:return n.displayName||"Context";case M:return(n._context.displayName||"Context")+".Consumer";case P:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case E:return r=n.displayName||null,r!==null?r:U(n.type)||"Memo";case L:r=n._payload,n=n._init;try{return U(n(r))}catch{}}return null}var z=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},ee=[],ye=-1;function fe(n){return{current:n}}function ge(n){0>ye||(n.current=ee[ye],ee[ye]=null,ye--)}function De(n,r){ye++,ee[ye]=n.current,n.current=r}var ke=fe(null),Oe=fe(null),Ve=fe(null),Ue=fe(null);function nt(n,r){switch(De(Ve,r),De(Oe,n),De(ke,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?wv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=wv(r),n=jv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ge(ke),De(ke,n)}function Ne(){ge(ke),ge(Oe),ge(Ve)}function ce(n){n.memoizedState!==null&&De(Ue,n);var r=ke.current,o=jv(r,n.type);r!==o&&(De(Oe,n),De(ke,o))}function de(n){Oe.current===n&&(ge(ke),ge(Oe)),Ue.current===n&&(ge(Ue),Hl._currentValue=Q)}var Te,Ee;function oe(n){if(Te===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Te=r&&r[1]||"",Ee=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Te+n+Ee}var Ce=!1;function te(n,r){if(!n||Ce)return"";Ce=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(ae){var ie=ae}Reflect.construct(n,[],me)}else{try{me.call()}catch(ae){ie=ae}n.call(me.prototype)}}else{try{throw Error()}catch(ae){ie=ae}(me=n())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(ae){if(ae&&ie&&typeof ae.stack=="string")return[ae.stack,ie.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),w=m[0],O=m[1];if(w&&O){var G=w.split(`
`),re=O.split(`
`);for(h=c=0;c<G.length&&!G[c].includes("DetermineComponentFrameRoot");)c++;for(;h<re.length&&!re[h].includes("DetermineComponentFrameRoot");)h++;if(c===G.length||h===re.length)for(c=G.length-1,h=re.length-1;1<=c&&0<=h&&G[c]!==re[h];)h--;for(;1<=c&&0<=h;c--,h--)if(G[c]!==re[h]){if(c!==1||h!==1)do if(c--,h--,0>h||G[c]!==re[h]){var ue=`
`+G[c].replace(" at new "," at ");return n.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",n.displayName)),ue}while(1<=c&&0<=h);break}}}finally{Ce=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?oe(o):""}function we(n,r){switch(n.tag){case 26:case 27:case 5:return oe(n.type);case 16:return oe("Lazy");case 13:return n.child!==r&&r!==null?oe("Suspense Fallback"):oe("Suspense");case 19:return oe("SuspenseList");case 0:case 15:return te(n.type,!1);case 11:return te(n.type.render,!1);case 1:return te(n.type,!0);case 31:return oe("Activity");default:return""}}function ne(n){try{var r="",o=null;do r+=we(n,o),o=n,n=n.return;while(n);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var le=Object.prototype.hasOwnProperty,$=e.unstable_scheduleCallback,be=e.unstable_cancelCallback,K=e.unstable_shouldYield,he=e.unstable_requestPaint,xe=e.unstable_now,je=e.unstable_getCurrentPriorityLevel,Re=e.unstable_ImmediatePriority,Ke=e.unstable_UserBlockingPriority,lt=e.unstable_NormalPriority,Be=e.unstable_LowPriority,Ge=e.unstable_IdlePriority,Ze=e.log,xt=e.unstable_setDisableYieldValue,it=null,at=null;function dt(n){if(typeof Ze=="function"&&xt(n),at&&typeof at.setStrictMode=="function")try{at.setStrictMode(it,n)}catch{}}var qt=Math.clz32?Math.clz32:Tn,ft=Math.log,yn=Math.LN2;function Tn(n){return n>>>=0,n===0?32:31-(ft(n)/yn|0)|0}var Ln=256,$s=262144,_n=4194304;function fr(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ma(n,r,o){var c=n.pendingLanes;if(c===0)return 0;var h=0,m=n.suspendedLanes,w=n.pingedLanes;n=n.warmLanes;var O=c&134217727;return O!==0?(c=O&~m,c!==0?h=fr(c):(w&=O,w!==0?h=fr(w):o||(o=O&~n,o!==0&&(h=fr(o))))):(O=c&~m,O!==0?h=fr(O):w!==0?h=fr(w):o||(o=c&~n,o!==0&&(h=fr(o)))),h===0?0:r!==0&&r!==h&&(r&m)===0&&(m=h&-h,o=r&-r,m>=o||m===32&&(o&4194048)!==0)?r:h}function ka(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function sx(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dn(){var n=_n;return _n<<=1,(_n&62914560)===0&&(_n=4194304),n}function vs(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function Wr(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function VE(n,r,o,c,h,m){var w=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var O=n.entanglements,G=n.expirationTimes,re=n.hiddenUpdates;for(o=w&~o;0<o;){var ue=31-qt(o),me=1<<ue;O[ue]=0,G[ue]=-1;var ie=re[ue];if(ie!==null)for(re[ue]=null,ue=0;ue<ie.length;ue++){var ae=ie[ue];ae!==null&&(ae.lane&=-536870913)}o&=~me}c!==0&&rx(n,c,0),m!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=m&~(w&~r))}function rx(n,r,o){n.pendingLanes|=r,n.suspendedLanes&=~r;var c=31-qt(r);n.entangledLanes|=r,n.entanglements[c]=n.entanglements[c]|1073741824|o&261930}function ix(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var c=31-qt(o),h=1<<c;h&r|n[c]&r&&(n[c]|=r),o&=~h}}function ax(n,r){var o=r&-r;return o=(o&42)!==0?1:jf(o),(o&(n.suspendedLanes|r))!==0?0:o}function jf(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Cf(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function ox(){var n=I.p;return n!==0?n:(n=window.event,n===void 0?32:qv(n.type))}function lx(n,r){var o=I.p;try{return I.p=n,r()}finally{I.p=o}}var Vr=Math.random().toString(36).slice(2),Dn="__reactFiber$"+Vr,Kn="__reactProps$"+Vr,Pa="__reactContainer$"+Vr,Tf="__reactEvents$"+Vr,YE="__reactListeners$"+Vr,UE="__reactHandles$"+Vr,cx="__reactResources$"+Vr,el="__reactMarker$"+Vr;function Df(n){delete n[Dn],delete n[Kn],delete n[Tf],delete n[YE],delete n[UE]}function Aa(n){var r=n[Dn];if(r)return r;for(var o=n.parentNode;o;){if(r=o[Pa]||o[Dn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(n=Pv(n);n!==null;){if(o=n[Dn])return o;n=Pv(n)}return r}n=o,o=n.parentNode}return null}function Oa(n){if(n=n[Dn]||n[Pa]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function tl(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(i(33))}function Ra(n){var r=n[cx];return r||(r=n[cx]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function wn(n){n[el]=!0}var ux=new Set,dx={};function Ai(n,r){Ia(n,r),Ia(n+"Capture",r)}function Ia(n,r){for(dx[n]=r,n=0;n<r.length;n++)ux.add(r[n])}var qE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fx={},hx={};function GE(n){return le.call(hx,n)?!0:le.call(fx,n)?!1:qE.test(n)?hx[n]=!0:(fx[n]=!0,!1)}function Qc(n,r,o){if(GE(r))if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+o)}}function Kc(n,r,o){if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+o)}}function hr(n,r,o,c){if(c===null)n.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(r,o,""+c)}}function Ss(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function px(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function $E(n,r,o){var c=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var h=c.get,m=c.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return h.call(this)},set:function(w){o=""+w,m.call(this,w)}}),Object.defineProperty(n,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Ef(n){if(!n._valueTracker){var r=px(n)?"checked":"value";n._valueTracker=$E(n,r,""+n[r])}}function mx(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return n&&(c=px(n)?n.checked?"true":"false":n.value),n=c,n!==o?(r.setValue(n),!0):!1}function Xc(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var QE=/[\n"\\]/g;function ws(n){return n.replace(QE,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Mf(n,r,o,c,h,m,w,O){n.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.type=w:n.removeAttribute("type"),r!=null?w==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Ss(r)):n.value!==""+Ss(r)&&(n.value=""+Ss(r)):w!=="submit"&&w!=="reset"||n.removeAttribute("value"),r!=null?kf(n,w,Ss(r)):o!=null?kf(n,w,Ss(o)):c!=null&&n.removeAttribute("value"),h==null&&m!=null&&(n.defaultChecked=!!m),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?n.name=""+Ss(O):n.removeAttribute("name")}function gx(n,r,o,c,h,m,w,O){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),r!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){Ef(n);return}o=o!=null?""+Ss(o):"",r=r!=null?""+Ss(r):o,O||r===n.value||(n.value=r),n.defaultValue=r}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=O?n.checked:!!c,n.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.name=w),Ef(n)}function kf(n,r,o){r==="number"&&Xc(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Ba(n,r,o,c){if(n=n.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<n.length;o++)h=r.hasOwnProperty("$"+n[o].value),n[o].selected!==h&&(n[o].selected=h),h&&c&&(n[o].defaultSelected=!0)}else{for(o=""+Ss(o),r=null,h=0;h<n.length;h++){if(n[h].value===o){n[h].selected=!0,c&&(n[h].defaultSelected=!0);return}r!==null||n[h].disabled||(r=n[h])}r!==null&&(r.selected=!0)}}function yx(n,r,o){if(r!=null&&(r=""+Ss(r),r!==n.value&&(n.value=r),o==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=o!=null?""+Ss(o):""}function xx(n,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(i(92));if(z(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=Ss(r),n.defaultValue=o,c=n.textContent,c===o&&c!==""&&c!==null&&(n.value=c),Ef(n)}function La(n,r){if(r){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=r;return}}n.textContent=r}var KE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bx(n,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":c?n.setProperty(r,o):typeof o!="number"||o===0||KE.has(r)?r==="float"?n.cssFloat=o:n[r]=(""+o).trim():n[r]=o+"px"}function vx(n,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(n=n.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var h in r)c=r[h],r.hasOwnProperty(h)&&o[h]!==c&&bx(n,h,c)}else for(var m in r)r.hasOwnProperty(m)&&bx(n,m,r[m])}function Pf(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var XE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ZE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zc(n){return ZE.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function pr(){}var Af=null;function Of(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Na=null,Fa=null;function Sx(n){var r=Oa(n);if(r&&(n=r.stateNode)){var o=n[Kn]||null;e:switch(n=r.stateNode,r.type){case"input":if(Mf(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+ws(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==n&&c.form===n.form){var h=c[Kn]||null;if(!h)throw Error(i(90));Mf(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===n.form&&mx(c)}break e;case"textarea":yx(n,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Ba(n,!!o.multiple,r,!1)}}}var Rf=!1;function wx(n,r,o){if(Rf)return n(r,o);Rf=!0;try{var c=n(r);return c}finally{if(Rf=!1,(Na!==null||Fa!==null)&&(Hu(),Na&&(r=Na,n=Fa,Fa=Na=null,Sx(r),n)))for(r=0;r<n.length;r++)Sx(n[r])}}function nl(n,r){var o=n.stateNode;if(o===null)return null;var c=o[Kn]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),If=!1;if(mr)try{var sl={};Object.defineProperty(sl,"passive",{get:function(){If=!0}}),window.addEventListener("test",sl,sl),window.removeEventListener("test",sl,sl)}catch{If=!1}var Yr=null,Bf=null,Jc=null;function jx(){if(Jc)return Jc;var n,r=Bf,o=r.length,c,h="value"in Yr?Yr.value:Yr.textContent,m=h.length;for(n=0;n<o&&r[n]===h[n];n++);var w=o-n;for(c=1;c<=w&&r[o-c]===h[m-c];c++);return Jc=h.slice(n,1<c?1-c:void 0)}function eu(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function tu(){return!0}function Cx(){return!1}function Xn(n){function r(o,c,h,m,w){this._reactName=o,this._targetInst=h,this.type=c,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var O in n)n.hasOwnProperty(O)&&(o=n[O],this[O]=o?o(m):m[O]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?tu:Cx,this.isPropagationStopped=Cx,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=tu)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=tu)},persist:function(){},isPersistent:tu}),r}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nu=Xn(Oi),rl=v({},Oi,{view:0,detail:0}),JE=Xn(rl),Lf,Nf,il,su=v({},rl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hf,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==il&&(il&&n.type==="mousemove"?(Lf=n.screenX-il.screenX,Nf=n.screenY-il.screenY):Nf=Lf=0,il=n),Lf)},movementY:function(n){return"movementY"in n?n.movementY:Nf}}),Tx=Xn(su),e2=v({},su,{dataTransfer:0}),t2=Xn(e2),n2=v({},rl,{relatedTarget:0}),Ff=Xn(n2),s2=v({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),r2=Xn(s2),i2=v({},Oi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),a2=Xn(i2),o2=v({},Oi,{data:0}),Dx=Xn(o2),l2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},u2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function d2(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=u2[n])?!!r[n]:!1}function Hf(){return d2}var f2=v({},rl,{key:function(n){if(n.key){var r=l2[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=eu(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?c2[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hf,charCode:function(n){return n.type==="keypress"?eu(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?eu(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),h2=Xn(f2),p2=v({},su,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ex=Xn(p2),m2=v({},rl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hf}),g2=Xn(m2),y2=v({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),x2=Xn(y2),b2=v({},su,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),v2=Xn(b2),S2=v({},Oi,{newState:0,oldState:0}),w2=Xn(S2),j2=[9,13,27,32],_f=mr&&"CompositionEvent"in window,al=null;mr&&"documentMode"in document&&(al=document.documentMode);var C2=mr&&"TextEvent"in window&&!al,Mx=mr&&(!_f||al&&8<al&&11>=al),kx=" ",Px=!1;function Ax(n,r){switch(n){case"keyup":return j2.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ox(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ha=!1;function T2(n,r){switch(n){case"compositionend":return Ox(r);case"keypress":return r.which!==32?null:(Px=!0,kx);case"textInput":return n=r.data,n===kx&&Px?null:n;default:return null}}function D2(n,r){if(Ha)return n==="compositionend"||!_f&&Ax(n,r)?(n=jx(),Jc=Bf=Yr=null,Ha=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Mx&&r.locale!=="ko"?null:r.data;default:return null}}var E2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rx(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!E2[n.type]:r==="textarea"}function Ix(n,r,o,c){Na?Fa?Fa.push(c):Fa=[c]:Na=c,r=qu(r,"onChange"),0<r.length&&(o=new nu("onChange","change",null,o,c),n.push({event:o,listeners:r}))}var ol=null,ll=null;function M2(n){gv(n,0)}function ru(n){var r=tl(n);if(mx(r))return n}function Bx(n,r){if(n==="change")return r}var Lx=!1;if(mr){var zf;if(mr){var Wf="oninput"in document;if(!Wf){var Nx=document.createElement("div");Nx.setAttribute("oninput","return;"),Wf=typeof Nx.oninput=="function"}zf=Wf}else zf=!1;Lx=zf&&(!document.documentMode||9<document.documentMode)}function Fx(){ol&&(ol.detachEvent("onpropertychange",Hx),ll=ol=null)}function Hx(n){if(n.propertyName==="value"&&ru(ll)){var r=[];Ix(r,ll,n,Of(n)),wx(M2,r)}}function k2(n,r,o){n==="focusin"?(Fx(),ol=r,ll=o,ol.attachEvent("onpropertychange",Hx)):n==="focusout"&&Fx()}function P2(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ru(ll)}function A2(n,r){if(n==="click")return ru(r)}function O2(n,r){if(n==="input"||n==="change")return ru(r)}function R2(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var ls=typeof Object.is=="function"?Object.is:R2;function cl(n,r){if(ls(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var h=o[c];if(!le.call(r,h)||!ls(n[h],r[h]))return!1}return!0}function _x(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function zx(n,r){var o=_x(n);n=0;for(var c;o;){if(o.nodeType===3){if(c=n+o.textContent.length,n<=r&&c>=r)return{node:o,offset:r-n};n=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=_x(o)}}function Wx(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Wx(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Vx(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Xc(n.document);r instanceof n.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)n=r.contentWindow;else break;r=Xc(n.document)}return r}function Vf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var I2=mr&&"documentMode"in document&&11>=document.documentMode,_a=null,Yf=null,ul=null,Uf=!1;function Yx(n,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Uf||_a==null||_a!==Xc(c)||(c=_a,"selectionStart"in c&&Vf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ul&&cl(ul,c)||(ul=c,c=qu(Yf,"onSelect"),0<c.length&&(r=new nu("onSelect","select",null,r,o),n.push({event:r,listeners:c}),r.target=_a)))}function Ri(n,r){var o={};return o[n.toLowerCase()]=r.toLowerCase(),o["Webkit"+n]="webkit"+r,o["Moz"+n]="moz"+r,o}var za={animationend:Ri("Animation","AnimationEnd"),animationiteration:Ri("Animation","AnimationIteration"),animationstart:Ri("Animation","AnimationStart"),transitionrun:Ri("Transition","TransitionRun"),transitionstart:Ri("Transition","TransitionStart"),transitioncancel:Ri("Transition","TransitionCancel"),transitionend:Ri("Transition","TransitionEnd")},qf={},Ux={};mr&&(Ux=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function Ii(n){if(qf[n])return qf[n];if(!za[n])return n;var r=za[n],o;for(o in r)if(r.hasOwnProperty(o)&&o in Ux)return qf[n]=r[o];return n}var qx=Ii("animationend"),Gx=Ii("animationiteration"),$x=Ii("animationstart"),B2=Ii("transitionrun"),L2=Ii("transitionstart"),N2=Ii("transitioncancel"),Qx=Ii("transitionend"),Kx=new Map,Gf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gf.push("scrollEnd");function _s(n,r){Kx.set(n,r),Ai(r,[n])}var iu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},js=[],Wa=0,$f=0;function au(){for(var n=Wa,r=$f=Wa=0;r<n;){var o=js[r];js[r++]=null;var c=js[r];js[r++]=null;var h=js[r];js[r++]=null;var m=js[r];if(js[r++]=null,c!==null&&h!==null){var w=c.pending;w===null?h.next=h:(h.next=w.next,w.next=h),c.pending=h}m!==0&&Xx(o,h,m)}}function ou(n,r,o,c){js[Wa++]=n,js[Wa++]=r,js[Wa++]=o,js[Wa++]=c,$f|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function Qf(n,r,o,c){return ou(n,r,o,c),lu(n)}function Bi(n,r){return ou(n,null,null,r),lu(n)}function Xx(n,r,o){n.lanes|=o;var c=n.alternate;c!==null&&(c.lanes|=o);for(var h=!1,m=n.return;m!==null;)m.childLanes|=o,c=m.alternate,c!==null&&(c.childLanes|=o),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(h=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,h&&r!==null&&(h=31-qt(o),n=m.hiddenUpdates,c=n[h],c===null?n[h]=[r]:c.push(r),r.lane=o|536870912),m):null}function lu(n){if(50<Ol)throw Ol=0,rp=null,Error(i(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Va={};function F2(n,r,o,c){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cs(n,r,o,c){return new F2(n,r,o,c)}function Kf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function gr(n,r){var o=n.alternate;return o===null?(o=cs(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Zx(n,r){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,r=o.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function cu(n,r,o,c,h,m){var w=0;if(c=n,typeof n=="function")Kf(n)&&(w=1);else if(typeof n=="string")w=VM(n,o,ke.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case _:return n=cs(31,o,r,h),n.elementType=_,n.lanes=m,n;case D:return Li(o.children,h,m,r);case T:w=8,h|=24;break;case C:return n=cs(12,o,r,h|2),n.elementType=C,n.lanes=m,n;case N:return n=cs(13,o,r,h),n.elementType=N,n.lanes=m,n;case W:return n=cs(19,o,r,h),n.elementType=W,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case k:w=10;break e;case M:w=9;break e;case P:w=11;break e;case E:w=14;break e;case L:w=16,c=null;break e}w=29,o=Error(i(130,n===null?"null":typeof n,"")),c=null}return r=cs(w,o,r,h),r.elementType=n,r.type=c,r.lanes=m,r}function Li(n,r,o,c){return n=cs(7,n,c,r),n.lanes=o,n}function Xf(n,r,o){return n=cs(6,n,null,r),n.lanes=o,n}function Jx(n){var r=cs(18,null,null,0);return r.stateNode=n,r}function Zf(n,r,o){return r=cs(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var e0=new WeakMap;function Cs(n,r){if(typeof n=="object"&&n!==null){var o=e0.get(n);return o!==void 0?o:(r={value:n,source:r,stack:ne(r)},e0.set(n,r),r)}return{value:n,source:r,stack:ne(r)}}var Ya=[],Ua=0,uu=null,dl=0,Ts=[],Ds=0,Ur=null,Qs=1,Ks="";function yr(n,r){Ya[Ua++]=dl,Ya[Ua++]=uu,uu=n,dl=r}function t0(n,r,o){Ts[Ds++]=Qs,Ts[Ds++]=Ks,Ts[Ds++]=Ur,Ur=n;var c=Qs;n=Ks;var h=32-qt(c)-1;c&=~(1<<h),o+=1;var m=32-qt(r)+h;if(30<m){var w=h-h%5;m=(c&(1<<w)-1).toString(32),c>>=w,h-=w,Qs=1<<32-qt(r)+h|o<<h|c,Ks=m+n}else Qs=1<<m|o<<h|c,Ks=n}function Jf(n){n.return!==null&&(yr(n,1),t0(n,1,0))}function eh(n){for(;n===uu;)uu=Ya[--Ua],Ya[Ua]=null,dl=Ya[--Ua],Ya[Ua]=null;for(;n===Ur;)Ur=Ts[--Ds],Ts[Ds]=null,Ks=Ts[--Ds],Ts[Ds]=null,Qs=Ts[--Ds],Ts[Ds]=null}function n0(n,r){Ts[Ds++]=Qs,Ts[Ds++]=Ks,Ts[Ds++]=Ur,Qs=r.id,Ks=r.overflow,Ur=n}var En=null,zt=null,bt=!1,qr=null,Es=!1,th=Error(i(519));function Gr(n){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fl(Cs(r,n)),th}function s0(n){var r=n.stateNode,o=n.type,c=n.memoizedProps;switch(r[Dn]=n,r[Kn]=c,o){case"dialog":mt("cancel",r),mt("close",r);break;case"iframe":case"object":case"embed":mt("load",r);break;case"video":case"audio":for(o=0;o<Il.length;o++)mt(Il[o],r);break;case"source":mt("error",r);break;case"img":case"image":case"link":mt("error",r),mt("load",r);break;case"details":mt("toggle",r);break;case"input":mt("invalid",r),gx(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":mt("invalid",r);break;case"textarea":mt("invalid",r),xx(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||vv(r.textContent,o)?(c.popover!=null&&(mt("beforetoggle",r),mt("toggle",r)),c.onScroll!=null&&mt("scroll",r),c.onScrollEnd!=null&&mt("scrollend",r),c.onClick!=null&&(r.onclick=pr),r=!0):r=!1,r||Gr(n,!0)}function r0(n){for(En=n.return;En;)switch(En.tag){case 5:case 31:case 13:Es=!1;return;case 27:case 3:Es=!0;return;default:En=En.return}}function qa(n){if(n!==En)return!1;if(!bt)return r0(n),bt=!0,!1;var r=n.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||bp(n.type,n.memoizedProps)),o=!o),o&&zt&&Gr(n),r0(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));zt=kv(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));zt=kv(n)}else r===27?(r=zt,oi(n.type)?(n=Cp,Cp=null,zt=n):zt=r):zt=En?ks(n.stateNode.nextSibling):null;return!0}function Ni(){zt=En=null,bt=!1}function nh(){var n=qr;return n!==null&&(ts===null?ts=n:ts.push.apply(ts,n),qr=null),n}function fl(n){qr===null?qr=[n]:qr.push(n)}var sh=fe(null),Fi=null,xr=null;function $r(n,r,o){De(sh,r._currentValue),r._currentValue=o}function br(n){n._currentValue=sh.current,ge(sh)}function rh(n,r,o){for(;n!==null;){var c=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),n===o)break;n=n.return}}function ih(n,r,o,c){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var m=h.dependencies;if(m!==null){var w=h.child;m=m.firstContext;e:for(;m!==null;){var O=m;m=h;for(var G=0;G<r.length;G++)if(O.context===r[G]){m.lanes|=o,O=m.alternate,O!==null&&(O.lanes|=o),rh(m.return,o,n),c||(w=null);break e}m=O.next}}else if(h.tag===18){if(w=h.return,w===null)throw Error(i(341));w.lanes|=o,m=w.alternate,m!==null&&(m.lanes|=o),rh(w,o,n),w=null}else w=h.child;if(w!==null)w.return=h;else for(w=h;w!==null;){if(w===n){w=null;break}if(h=w.sibling,h!==null){h.return=w.return,w=h;break}w=w.return}h=w}}function Ga(n,r,o,c){n=null;for(var h=r,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var w=h.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var O=h.type;ls(h.pendingProps.value,w.value)||(n!==null?n.push(O):n=[O])}}else if(h===Ue.current){if(w=h.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(Hl):n=[Hl])}h=h.return}n!==null&&ih(r,n,o,c),r.flags|=262144}function du(n){for(n=n.firstContext;n!==null;){if(!ls(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Hi(n){Fi=n,xr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Mn(n){return i0(Fi,n)}function fu(n,r){return Fi===null&&Hi(n),i0(n,r)}function i0(n,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},xr===null){if(n===null)throw Error(i(308));xr=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else xr=xr.next=r;return o}var H2=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(o,c){n.push(c)}};this.abort=function(){r.aborted=!0,n.forEach(function(o){return o()})}},_2=e.unstable_scheduleCallback,z2=e.unstable_NormalPriority,fn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ah(){return{controller:new H2,data:new Map,refCount:0}}function hl(n){n.refCount--,n.refCount===0&&_2(z2,function(){n.controller.abort()})}var pl=null,oh=0,$a=0,Qa=null;function W2(n,r){if(pl===null){var o=pl=[];oh=0,$a=up(),Qa={status:"pending",value:void 0,then:function(c){o.push(c)}}}return oh++,r.then(a0,a0),r}function a0(){if(--oh===0&&pl!==null){Qa!==null&&(Qa.status="fulfilled");var n=pl;pl=null,$a=0,Qa=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function V2(n,r){var o=[],c={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return n.then(function(){c.status="fulfilled",c.value=r;for(var h=0;h<o.length;h++)(0,o[h])(r)},function(h){for(c.status="rejected",c.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),c}var o0=F.S;F.S=function(n,r){Yb=xe(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&W2(n,r),o0!==null&&o0(n,r)};var _i=fe(null);function lh(){var n=_i.current;return n!==null?n:Nt.pooledCache}function hu(n,r){r===null?De(_i,_i.current):De(_i,r.pool)}function l0(){var n=lh();return n===null?null:{parent:fn._currentValue,pool:n}}var Ka=Error(i(460)),ch=Error(i(474)),pu=Error(i(542)),mu={then:function(){}};function c0(n){return n=n.status,n==="fulfilled"||n==="rejected"}function u0(n,r,o){switch(o=n[o],o===void 0?n.push(r):o!==r&&(r.then(pr,pr),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,f0(n),n;default:if(typeof r.status=="string")r.then(pr,pr);else{if(n=Nt,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=r,n.status="pending",n.then(function(c){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=c}},function(c){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,f0(n),n}throw Wi=r,Ka}}function zi(n){try{var r=n._init;return r(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Wi=o,Ka):o}}var Wi=null;function d0(){if(Wi===null)throw Error(i(459));var n=Wi;return Wi=null,n}function f0(n){if(n===Ka||n===pu)throw Error(i(483))}var Xa=null,ml=0;function gu(n){var r=ml;return ml+=1,Xa===null&&(Xa=[]),u0(Xa,n,r)}function gl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function yu(n,r){throw r.$$typeof===b?Error(i(525)):(n=Object.prototype.toString.call(r),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function h0(n){function r(J,X){if(n){var se=J.deletions;se===null?(J.deletions=[X],J.flags|=16):se.push(X)}}function o(J,X){if(!n)return null;for(;X!==null;)r(J,X),X=X.sibling;return null}function c(J){for(var X=new Map;J!==null;)J.key!==null?X.set(J.key,J):X.set(J.index,J),J=J.sibling;return X}function h(J,X){return J=gr(J,X),J.index=0,J.sibling=null,J}function m(J,X,se){return J.index=se,n?(se=J.alternate,se!==null?(se=se.index,se<X?(J.flags|=67108866,X):se):(J.flags|=67108866,X)):(J.flags|=1048576,X)}function w(J){return n&&J.alternate===null&&(J.flags|=67108866),J}function O(J,X,se,pe){return X===null||X.tag!==6?(X=Xf(se,J.mode,pe),X.return=J,X):(X=h(X,se),X.return=J,X)}function G(J,X,se,pe){var Ye=se.type;return Ye===D?ue(J,X,se.props.children,pe,se.key):X!==null&&(X.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===L&&zi(Ye)===X.type)?(X=h(X,se.props),gl(X,se),X.return=J,X):(X=cu(se.type,se.key,se.props,null,J.mode,pe),gl(X,se),X.return=J,X)}function re(J,X,se,pe){return X===null||X.tag!==4||X.stateNode.containerInfo!==se.containerInfo||X.stateNode.implementation!==se.implementation?(X=Zf(se,J.mode,pe),X.return=J,X):(X=h(X,se.children||[]),X.return=J,X)}function ue(J,X,se,pe,Ye){return X===null||X.tag!==7?(X=Li(se,J.mode,pe,Ye),X.return=J,X):(X=h(X,se),X.return=J,X)}function me(J,X,se){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=Xf(""+X,J.mode,se),X.return=J,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case S:return se=cu(X.type,X.key,X.props,null,J.mode,se),gl(se,X),se.return=J,se;case j:return X=Zf(X,J.mode,se),X.return=J,X;case L:return X=zi(X),me(J,X,se)}if(z(X)||A(X))return X=Li(X,J.mode,se,null),X.return=J,X;if(typeof X.then=="function")return me(J,gu(X),se);if(X.$$typeof===k)return me(J,fu(J,X),se);yu(J,X)}return null}function ie(J,X,se,pe){var Ye=X!==null?X.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Ye!==null?null:O(J,X,""+se,pe);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case S:return se.key===Ye?G(J,X,se,pe):null;case j:return se.key===Ye?re(J,X,se,pe):null;case L:return se=zi(se),ie(J,X,se,pe)}if(z(se)||A(se))return Ye!==null?null:ue(J,X,se,pe,null);if(typeof se.then=="function")return ie(J,X,gu(se),pe);if(se.$$typeof===k)return ie(J,X,fu(J,se),pe);yu(J,se)}return null}function ae(J,X,se,pe,Ye){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return J=J.get(se)||null,O(X,J,""+pe,Ye);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case S:return J=J.get(pe.key===null?se:pe.key)||null,G(X,J,pe,Ye);case j:return J=J.get(pe.key===null?se:pe.key)||null,re(X,J,pe,Ye);case L:return pe=zi(pe),ae(J,X,se,pe,Ye)}if(z(pe)||A(pe))return J=J.get(se)||null,ue(X,J,pe,Ye,null);if(typeof pe.then=="function")return ae(J,X,se,gu(pe),Ye);if(pe.$$typeof===k)return ae(J,X,se,fu(X,pe),Ye);yu(X,pe)}return null}function Ie(J,X,se,pe){for(var Ye=null,wt=null,He=X,ct=X=0,yt=null;He!==null&&ct<se.length;ct++){He.index>ct?(yt=He,He=null):yt=He.sibling;var jt=ie(J,He,se[ct],pe);if(jt===null){He===null&&(He=yt);break}n&&He&&jt.alternate===null&&r(J,He),X=m(jt,X,ct),wt===null?Ye=jt:wt.sibling=jt,wt=jt,He=yt}if(ct===se.length)return o(J,He),bt&&yr(J,ct),Ye;if(He===null){for(;ct<se.length;ct++)He=me(J,se[ct],pe),He!==null&&(X=m(He,X,ct),wt===null?Ye=He:wt.sibling=He,wt=He);return bt&&yr(J,ct),Ye}for(He=c(He);ct<se.length;ct++)yt=ae(He,J,ct,se[ct],pe),yt!==null&&(n&&yt.alternate!==null&&He.delete(yt.key===null?ct:yt.key),X=m(yt,X,ct),wt===null?Ye=yt:wt.sibling=yt,wt=yt);return n&&He.forEach(function(fi){return r(J,fi)}),bt&&yr(J,ct),Ye}function Xe(J,X,se,pe){if(se==null)throw Error(i(151));for(var Ye=null,wt=null,He=X,ct=X=0,yt=null,jt=se.next();He!==null&&!jt.done;ct++,jt=se.next()){He.index>ct?(yt=He,He=null):yt=He.sibling;var fi=ie(J,He,jt.value,pe);if(fi===null){He===null&&(He=yt);break}n&&He&&fi.alternate===null&&r(J,He),X=m(fi,X,ct),wt===null?Ye=fi:wt.sibling=fi,wt=fi,He=yt}if(jt.done)return o(J,He),bt&&yr(J,ct),Ye;if(He===null){for(;!jt.done;ct++,jt=se.next())jt=me(J,jt.value,pe),jt!==null&&(X=m(jt,X,ct),wt===null?Ye=jt:wt.sibling=jt,wt=jt);return bt&&yr(J,ct),Ye}for(He=c(He);!jt.done;ct++,jt=se.next())jt=ae(He,J,ct,jt.value,pe),jt!==null&&(n&&jt.alternate!==null&&He.delete(jt.key===null?ct:jt.key),X=m(jt,X,ct),wt===null?Ye=jt:wt.sibling=jt,wt=jt);return n&&He.forEach(function(ek){return r(J,ek)}),bt&&yr(J,ct),Ye}function Lt(J,X,se,pe){if(typeof se=="object"&&se!==null&&se.type===D&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case S:e:{for(var Ye=se.key;X!==null;){if(X.key===Ye){if(Ye=se.type,Ye===D){if(X.tag===7){o(J,X.sibling),pe=h(X,se.props.children),pe.return=J,J=pe;break e}}else if(X.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===L&&zi(Ye)===X.type){o(J,X.sibling),pe=h(X,se.props),gl(pe,se),pe.return=J,J=pe;break e}o(J,X);break}else r(J,X);X=X.sibling}se.type===D?(pe=Li(se.props.children,J.mode,pe,se.key),pe.return=J,J=pe):(pe=cu(se.type,se.key,se.props,null,J.mode,pe),gl(pe,se),pe.return=J,J=pe)}return w(J);case j:e:{for(Ye=se.key;X!==null;){if(X.key===Ye)if(X.tag===4&&X.stateNode.containerInfo===se.containerInfo&&X.stateNode.implementation===se.implementation){o(J,X.sibling),pe=h(X,se.children||[]),pe.return=J,J=pe;break e}else{o(J,X);break}else r(J,X);X=X.sibling}pe=Zf(se,J.mode,pe),pe.return=J,J=pe}return w(J);case L:return se=zi(se),Lt(J,X,se,pe)}if(z(se))return Ie(J,X,se,pe);if(A(se)){if(Ye=A(se),typeof Ye!="function")throw Error(i(150));return se=Ye.call(se),Xe(J,X,se,pe)}if(typeof se.then=="function")return Lt(J,X,gu(se),pe);if(se.$$typeof===k)return Lt(J,X,fu(J,se),pe);yu(J,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,X!==null&&X.tag===6?(o(J,X.sibling),pe=h(X,se),pe.return=J,J=pe):(o(J,X),pe=Xf(se,J.mode,pe),pe.return=J,J=pe),w(J)):o(J,X)}return function(J,X,se,pe){try{ml=0;var Ye=Lt(J,X,se,pe);return Xa=null,Ye}catch(He){if(He===Ka||He===pu)throw He;var wt=cs(29,He,null,J.mode);return wt.lanes=pe,wt.return=J,wt}finally{}}}var Vi=h0(!0),p0=h0(!1),Qr=!1;function uh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dh(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Kr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Xr(n,r,o){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Tt&2)!==0){var h=c.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),c.pending=r,r=lu(n),Xx(n,null,o),r}return ou(n,c,r,o),lu(n)}function yl(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=n.pendingLanes,o|=c,r.lanes=o,ix(n,o)}}function fh(n,r){var o=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var h=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?h=m=w:m=m.next=w,o=o.next}while(o!==null);m===null?h=m=r:m=m.next=r}else h=m=r;o={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}var hh=!1;function xl(){if(hh){var n=Qa;if(n!==null)throw n}}function bl(n,r,o,c){hh=!1;var h=n.updateQueue;Qr=!1;var m=h.firstBaseUpdate,w=h.lastBaseUpdate,O=h.shared.pending;if(O!==null){h.shared.pending=null;var G=O,re=G.next;G.next=null,w===null?m=re:w.next=re,w=G;var ue=n.alternate;ue!==null&&(ue=ue.updateQueue,O=ue.lastBaseUpdate,O!==w&&(O===null?ue.firstBaseUpdate=re:O.next=re,ue.lastBaseUpdate=G))}if(m!==null){var me=h.baseState;w=0,ue=re=G=null,O=m;do{var ie=O.lane&-536870913,ae=ie!==O.lane;if(ae?(gt&ie)===ie:(c&ie)===ie){ie!==0&&ie===$a&&(hh=!0),ue!==null&&(ue=ue.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Ie=n,Xe=O;ie=r;var Lt=o;switch(Xe.tag){case 1:if(Ie=Xe.payload,typeof Ie=="function"){me=Ie.call(Lt,me,ie);break e}me=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Xe.payload,ie=typeof Ie=="function"?Ie.call(Lt,me,ie):Ie,ie==null)break e;me=v({},me,ie);break e;case 2:Qr=!0}}ie=O.callback,ie!==null&&(n.flags|=64,ae&&(n.flags|=8192),ae=h.callbacks,ae===null?h.callbacks=[ie]:ae.push(ie))}else ae={lane:ie,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ue===null?(re=ue=ae,G=me):ue=ue.next=ae,w|=ie;if(O=O.next,O===null){if(O=h.shared.pending,O===null)break;ae=O,O=ae.next,ae.next=null,h.lastBaseUpdate=ae,h.shared.pending=null}}while(!0);ue===null&&(G=me),h.baseState=G,h.firstBaseUpdate=re,h.lastBaseUpdate=ue,m===null&&(h.shared.lanes=0),ni|=w,n.lanes=w,n.memoizedState=me}}function m0(n,r){if(typeof n!="function")throw Error(i(191,n));n.call(r)}function g0(n,r){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)m0(o[n],r)}var Za=fe(null),xu=fe(0);function y0(n,r){n=Mr,De(xu,n),De(Za,r),Mr=n|r.baseLanes}function ph(){De(xu,Mr),De(Za,Za.current)}function mh(){Mr=xu.current,ge(Za),ge(xu)}var us=fe(null),Ms=null;function Zr(n){var r=n.alternate;De(an,an.current&1),De(us,n),Ms===null&&(r===null||Za.current!==null||r.memoizedState!==null)&&(Ms=n)}function gh(n){De(an,an.current),De(us,n),Ms===null&&(Ms=n)}function x0(n){n.tag===22?(De(an,an.current),De(us,n),Ms===null&&(Ms=n)):Jr()}function Jr(){De(an,an.current),De(us,us.current)}function ds(n){ge(us),Ms===n&&(Ms=null),ge(an)}var an=fe(0);function bu(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||wp(o)||jp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var vr=0,ot=null,It=null,hn=null,vu=!1,Ja=!1,Yi=!1,Su=0,vl=0,eo=null,Y2=0;function en(){throw Error(i(321))}function yh(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!ls(n[o],r[o]))return!1;return!0}function xh(n,r,o,c,h,m){return vr=m,ot=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,F.H=n===null||n.memoizedState===null?tb:Rh,Yi=!1,m=o(c,h),Yi=!1,Ja&&(m=v0(r,o,c,h)),b0(n),m}function b0(n){F.H=jl;var r=It!==null&&It.next!==null;if(vr=0,hn=It=ot=null,vu=!1,vl=0,eo=null,r)throw Error(i(300));n===null||pn||(n=n.dependencies,n!==null&&du(n)&&(pn=!0))}function v0(n,r,o,c){ot=n;var h=0;do{if(Ja&&(eo=null),vl=0,Ja=!1,25<=h)throw Error(i(301));if(h+=1,hn=It=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}F.H=nb,m=r(o,c)}while(Ja);return m}function U2(){var n=F.H,r=n.useState()[0];return r=typeof r.then=="function"?Sl(r):r,n=n.useState()[0],(It!==null?It.memoizedState:null)!==n&&(ot.flags|=1024),r}function bh(){var n=Su!==0;return Su=0,n}function vh(n,r,o){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~o}function Sh(n){if(vu){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}vu=!1}vr=0,hn=It=ot=null,Ja=!1,vl=Su=0,eo=null}function zn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?ot.memoizedState=hn=n:hn=hn.next=n,hn}function on(){if(It===null){var n=ot.alternate;n=n!==null?n.memoizedState:null}else n=It.next;var r=hn===null?ot.memoizedState:hn.next;if(r!==null)hn=r,It=n;else{if(n===null)throw ot.alternate===null?Error(i(467)):Error(i(310));It=n,n={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},hn===null?ot.memoizedState=hn=n:hn=hn.next=n}return hn}function wu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(n){var r=vl;return vl+=1,eo===null&&(eo=[]),n=u0(eo,n,r),r=ot,(hn===null?r.memoizedState:hn.next)===null&&(r=r.alternate,F.H=r===null||r.memoizedState===null?tb:Rh),n}function ju(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Sl(n);if(n.$$typeof===k)return Mn(n)}throw Error(i(438,String(n)))}function wh(n){var r=null,o=ot.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=ot.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=wu(),ot.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(n),c=0;c<n;c++)o[c]=B;return r.index++,o}function Sr(n,r){return typeof r=="function"?r(n):r}function Cu(n){var r=on();return jh(r,It,n)}function jh(n,r,o){var c=n.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var h=n.baseQueue,m=c.pending;if(m!==null){if(h!==null){var w=h.next;h.next=m.next,m.next=w}r.baseQueue=h=m,c.pending=null}if(m=n.baseState,h===null)n.memoizedState=m;else{r=h.next;var O=w=null,G=null,re=r,ue=!1;do{var me=re.lane&-536870913;if(me!==re.lane?(gt&me)===me:(vr&me)===me){var ie=re.revertLane;if(ie===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),me===$a&&(ue=!0);else if((vr&ie)===ie){re=re.next,ie===$a&&(ue=!0);continue}else me={lane:0,revertLane:re.revertLane,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},G===null?(O=G=me,w=m):G=G.next=me,ot.lanes|=ie,ni|=ie;me=re.action,Yi&&o(m,me),m=re.hasEagerState?re.eagerState:o(m,me)}else ie={lane:me,revertLane:re.revertLane,gesture:re.gesture,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},G===null?(O=G=ie,w=m):G=G.next=ie,ot.lanes|=me,ni|=me;re=re.next}while(re!==null&&re!==r);if(G===null?w=m:G.next=O,!ls(m,n.memoizedState)&&(pn=!0,ue&&(o=Qa,o!==null)))throw o;n.memoizedState=m,n.baseState=w,n.baseQueue=G,c.lastRenderedState=m}return h===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function Ch(n){var r=on(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=n;var c=o.dispatch,h=o.pending,m=r.memoizedState;if(h!==null){o.pending=null;var w=h=h.next;do m=n(m,w.action),w=w.next;while(w!==h);ls(m,r.memoizedState)||(pn=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),o.lastRenderedState=m}return[m,c]}function S0(n,r,o){var c=ot,h=on(),m=bt;if(m){if(o===void 0)throw Error(i(407));o=o()}else o=r();var w=!ls((It||h).memoizedState,o);if(w&&(h.memoizedState=o,pn=!0),h=h.queue,Eh(C0.bind(null,c,h,n),[n]),h.getSnapshot!==r||w||hn!==null&&hn.memoizedState.tag&1){if(c.flags|=2048,to(9,{destroy:void 0},j0.bind(null,c,h,o,r),null),Nt===null)throw Error(i(349));m||(vr&127)!==0||w0(c,r,o)}return o}function w0(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=ot.updateQueue,r===null?(r=wu(),ot.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function j0(n,r,o,c){r.value=o,r.getSnapshot=c,T0(r)&&D0(n)}function C0(n,r,o){return o(function(){T0(r)&&D0(n)})}function T0(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!ls(n,o)}catch{return!0}}function D0(n){var r=Bi(n,2);r!==null&&ns(r,n,2)}function Th(n){var r=zn();if(typeof n=="function"){var o=n;if(n=o(),Yi){dt(!0);try{o()}finally{dt(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:n},r}function E0(n,r,o,c){return n.baseState=o,jh(n,It,typeof c=="function"?c:Sr)}function q2(n,r,o,c,h){if(Eu(n))throw Error(i(485));if(n=r.action,n!==null){var m={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){m.listeners.push(w)}};F.T!==null?o(!0):m.isTransition=!1,c(m),o=r.pending,o===null?(m.next=r.pending=m,M0(r,m)):(m.next=o.next,r.pending=o.next=m)}}function M0(n,r){var o=r.action,c=r.payload,h=n.state;if(r.isTransition){var m=F.T,w={};F.T=w;try{var O=o(h,c),G=F.S;G!==null&&G(w,O),k0(n,r,O)}catch(re){Dh(n,r,re)}finally{m!==null&&w.types!==null&&(m.types=w.types),F.T=m}}else try{m=o(h,c),k0(n,r,m)}catch(re){Dh(n,r,re)}}function k0(n,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){P0(n,r,c)},function(c){return Dh(n,r,c)}):P0(n,r,o)}function P0(n,r,o){r.status="fulfilled",r.value=o,A0(r),n.state=o,r=n.pending,r!==null&&(o=r.next,o===r?n.pending=null:(o=o.next,r.next=o,M0(n,o)))}function Dh(n,r,o){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,A0(r),r=r.next;while(r!==c)}n.action=null}function A0(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function O0(n,r){return r}function R0(n,r){if(bt){var o=Nt.formState;if(o!==null){e:{var c=ot;if(bt){if(zt){t:{for(var h=zt,m=Es;h.nodeType!==8;){if(!m){h=null;break t}if(h=ks(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){zt=ks(h.nextSibling),c=h.data==="F!";break e}}Gr(c)}c=!1}c&&(r=o[0])}}return o=zn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:O0,lastRenderedState:r},o.queue=c,o=Z0.bind(null,ot,c),c.dispatch=o,c=Th(!1),m=Oh.bind(null,ot,!1,c.queue),c=zn(),h={state:r,dispatch:null,action:n,pending:null},c.queue=h,o=q2.bind(null,ot,h,m,o),h.dispatch=o,c.memoizedState=n,[r,o,!1]}function I0(n){var r=on();return B0(r,It,n)}function B0(n,r,o){if(r=jh(n,r,O0)[0],n=Cu(Sr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Sl(r)}catch(w){throw w===Ka?pu:w}else c=r;r=on();var h=r.queue,m=h.dispatch;return o!==r.memoizedState&&(ot.flags|=2048,to(9,{destroy:void 0},G2.bind(null,h,o),null)),[c,m,n]}function G2(n,r){n.action=r}function L0(n){var r=on(),o=It;if(o!==null)return B0(r,o,n);on(),r=r.memoizedState,o=on();var c=o.queue.dispatch;return o.memoizedState=n,[r,c,!1]}function to(n,r,o,c){return n={tag:n,create:o,deps:c,inst:r,next:null},r=ot.updateQueue,r===null&&(r=wu(),ot.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=n.next=n:(c=o.next,o.next=n,n.next=c,r.lastEffect=n),n}function N0(){return on().memoizedState}function Tu(n,r,o,c){var h=zn();ot.flags|=n,h.memoizedState=to(1|r,{destroy:void 0},o,c===void 0?null:c)}function Du(n,r,o,c){var h=on();c=c===void 0?null:c;var m=h.memoizedState.inst;It!==null&&c!==null&&yh(c,It.memoizedState.deps)?h.memoizedState=to(r,m,o,c):(ot.flags|=n,h.memoizedState=to(1|r,m,o,c))}function F0(n,r){Tu(8390656,8,n,r)}function Eh(n,r){Du(2048,8,n,r)}function $2(n){ot.flags|=4;var r=ot.updateQueue;if(r===null)r=wu(),ot.updateQueue=r,r.events=[n];else{var o=r.events;o===null?r.events=[n]:o.push(n)}}function H0(n){var r=on().memoizedState;return $2({ref:r,nextImpl:n}),function(){if((Tt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function _0(n,r){return Du(4,2,n,r)}function z0(n,r){return Du(4,4,n,r)}function W0(n,r){if(typeof r=="function"){n=n();var o=r(n);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function V0(n,r,o){o=o!=null?o.concat([n]):null,Du(4,4,W0.bind(null,r,n),o)}function Mh(){}function Y0(n,r){var o=on();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&yh(r,c[1])?c[0]:(o.memoizedState=[n,r],n)}function U0(n,r){var o=on();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&yh(r,c[1]))return c[0];if(c=n(),Yi){dt(!0);try{n()}finally{dt(!1)}}return o.memoizedState=[c,r],c}function kh(n,r,o){return o===void 0||(vr&1073741824)!==0&&(gt&261930)===0?n.memoizedState=r:(n.memoizedState=o,n=qb(),ot.lanes|=n,ni|=n,o)}function q0(n,r,o,c){return ls(o,r)?o:Za.current!==null?(n=kh(n,o,c),ls(n,r)||(pn=!0),n):(vr&42)===0||(vr&1073741824)!==0&&(gt&261930)===0?(pn=!0,n.memoizedState=o):(n=qb(),ot.lanes|=n,ni|=n,r)}function G0(n,r,o,c,h){var m=I.p;I.p=m!==0&&8>m?m:8;var w=F.T,O={};F.T=O,Oh(n,!1,r,o);try{var G=h(),re=F.S;if(re!==null&&re(O,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var ue=V2(G,c);wl(n,r,ue,ps(n))}else wl(n,r,c,ps(n))}catch(me){wl(n,r,{then:function(){},status:"rejected",reason:me},ps())}finally{I.p=m,w!==null&&O.types!==null&&(w.types=O.types),F.T=w}}function Q2(){}function Ph(n,r,o,c){if(n.tag!==5)throw Error(i(476));var h=$0(n).queue;G0(n,h,r,Q,o===null?Q2:function(){return Q0(n),o(c)})}function $0(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:Q},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:o},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Q0(n){var r=$0(n);r.next===null&&(r=n.alternate.memoizedState),wl(n,r.next.queue,{},ps())}function Ah(){return Mn(Hl)}function K0(){return on().memoizedState}function X0(){return on().memoizedState}function K2(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var o=ps();n=Kr(o);var c=Xr(r,n,o);c!==null&&(ns(c,r,o),yl(c,r,o)),r={cache:ah()},n.payload=r;return}r=r.return}}function X2(n,r,o){var c=ps();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Eu(n)?J0(r,o):(o=Qf(n,r,o,c),o!==null&&(ns(o,n,c),eb(o,r,c)))}function Z0(n,r,o){var c=ps();wl(n,r,o,c)}function wl(n,r,o,c){var h={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Eu(n))J0(r,h);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var w=r.lastRenderedState,O=m(w,o);if(h.hasEagerState=!0,h.eagerState=O,ls(O,w))return ou(n,r,h,0),Nt===null&&au(),!1}catch{}finally{}if(o=Qf(n,r,h,c),o!==null)return ns(o,n,c),eb(o,r,c),!0}return!1}function Oh(n,r,o,c){if(c={lane:2,revertLane:up(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Eu(n)){if(r)throw Error(i(479))}else r=Qf(n,o,c,2),r!==null&&ns(r,n,2)}function Eu(n){var r=n.alternate;return n===ot||r!==null&&r===ot}function J0(n,r){Ja=vu=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function eb(n,r,o){if((o&4194048)!==0){var c=r.lanes;c&=n.pendingLanes,o|=c,r.lanes=o,ix(n,o)}}var jl={readContext:Mn,use:ju,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useInsertionEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useSyncExternalStore:en,useId:en,useHostTransitionStatus:en,useFormState:en,useActionState:en,useOptimistic:en,useMemoCache:en,useCacheRefresh:en};jl.useEffectEvent=en;var tb={readContext:Mn,use:ju,useCallback:function(n,r){return zn().memoizedState=[n,r===void 0?null:r],n},useContext:Mn,useEffect:F0,useImperativeHandle:function(n,r,o){o=o!=null?o.concat([n]):null,Tu(4194308,4,W0.bind(null,r,n),o)},useLayoutEffect:function(n,r){return Tu(4194308,4,n,r)},useInsertionEffect:function(n,r){Tu(4,2,n,r)},useMemo:function(n,r){var o=zn();r=r===void 0?null:r;var c=n();if(Yi){dt(!0);try{n()}finally{dt(!1)}}return o.memoizedState=[c,r],c},useReducer:function(n,r,o){var c=zn();if(o!==void 0){var h=o(r);if(Yi){dt(!0);try{o(r)}finally{dt(!1)}}}else h=r;return c.memoizedState=c.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},c.queue=n,n=n.dispatch=X2.bind(null,ot,n),[c.memoizedState,n]},useRef:function(n){var r=zn();return n={current:n},r.memoizedState=n},useState:function(n){n=Th(n);var r=n.queue,o=Z0.bind(null,ot,r);return r.dispatch=o,[n.memoizedState,o]},useDebugValue:Mh,useDeferredValue:function(n,r){var o=zn();return kh(o,n,r)},useTransition:function(){var n=Th(!1);return n=G0.bind(null,ot,n.queue,!0,!1),zn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,o){var c=ot,h=zn();if(bt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),Nt===null)throw Error(i(349));(gt&127)!==0||w0(c,r,o)}h.memoizedState=o;var m={value:o,getSnapshot:r};return h.queue=m,F0(C0.bind(null,c,m,n),[n]),c.flags|=2048,to(9,{destroy:void 0},j0.bind(null,c,m,o,r),null),o},useId:function(){var n=zn(),r=Nt.identifierPrefix;if(bt){var o=Ks,c=Qs;o=(c&~(1<<32-qt(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Su++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=Y2++,r="_"+r+"r_"+o.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:Ah,useFormState:R0,useActionState:R0,useOptimistic:function(n){var r=zn();r.memoizedState=r.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Oh.bind(null,ot,!0,o),o.dispatch=r,[n,r]},useMemoCache:wh,useCacheRefresh:function(){return zn().memoizedState=K2.bind(null,ot)},useEffectEvent:function(n){var r=zn(),o={impl:n};return r.memoizedState=o,function(){if((Tt&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Rh={readContext:Mn,use:ju,useCallback:Y0,useContext:Mn,useEffect:Eh,useImperativeHandle:V0,useInsertionEffect:_0,useLayoutEffect:z0,useMemo:U0,useReducer:Cu,useRef:N0,useState:function(){return Cu(Sr)},useDebugValue:Mh,useDeferredValue:function(n,r){var o=on();return q0(o,It.memoizedState,n,r)},useTransition:function(){var n=Cu(Sr)[0],r=on().memoizedState;return[typeof n=="boolean"?n:Sl(n),r]},useSyncExternalStore:S0,useId:K0,useHostTransitionStatus:Ah,useFormState:I0,useActionState:I0,useOptimistic:function(n,r){var o=on();return E0(o,It,n,r)},useMemoCache:wh,useCacheRefresh:X0};Rh.useEffectEvent=H0;var nb={readContext:Mn,use:ju,useCallback:Y0,useContext:Mn,useEffect:Eh,useImperativeHandle:V0,useInsertionEffect:_0,useLayoutEffect:z0,useMemo:U0,useReducer:Ch,useRef:N0,useState:function(){return Ch(Sr)},useDebugValue:Mh,useDeferredValue:function(n,r){var o=on();return It===null?kh(o,n,r):q0(o,It.memoizedState,n,r)},useTransition:function(){var n=Ch(Sr)[0],r=on().memoizedState;return[typeof n=="boolean"?n:Sl(n),r]},useSyncExternalStore:S0,useId:K0,useHostTransitionStatus:Ah,useFormState:L0,useActionState:L0,useOptimistic:function(n,r){var o=on();return It!==null?E0(o,It,n,r):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:wh,useCacheRefresh:X0};nb.useEffectEvent=H0;function Ih(n,r,o,c){r=n.memoizedState,o=o(c,r),o=o==null?r:v({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Bh={enqueueSetState:function(n,r,o){n=n._reactInternals;var c=ps(),h=Kr(c);h.payload=r,o!=null&&(h.callback=o),r=Xr(n,h,c),r!==null&&(ns(r,n,c),yl(r,n,c))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var c=ps(),h=Kr(c);h.tag=1,h.payload=r,o!=null&&(h.callback=o),r=Xr(n,h,c),r!==null&&(ns(r,n,c),yl(r,n,c))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=ps(),c=Kr(o);c.tag=2,r!=null&&(c.callback=r),r=Xr(n,c,o),r!==null&&(ns(r,n,o),yl(r,n,o))}};function sb(n,r,o,c,h,m,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,w):r.prototype&&r.prototype.isPureReactComponent?!cl(o,c)||!cl(h,m):!0}function rb(n,r,o,c){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==n&&Bh.enqueueReplaceState(r,r.state,null)}function Ui(n,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(n=n.defaultProps){o===r&&(o=v({},o));for(var h in n)o[h]===void 0&&(o[h]=n[h])}return o}function ib(n){iu(n)}function ab(n){console.error(n)}function ob(n){iu(n)}function Mu(n,r){try{var o=n.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function lb(n,r,o){try{var c=n.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Lh(n,r,o){return o=Kr(o),o.tag=3,o.payload={element:null},o.callback=function(){Mu(n,r)},o}function cb(n){return n=Kr(n),n.tag=3,n}function ub(n,r,o,c){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var m=c.value;n.payload=function(){return h(m)},n.callback=function(){lb(r,o,c)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(n.callback=function(){lb(r,o,c),typeof h!="function"&&(si===null?si=new Set([this]):si.add(this));var O=c.stack;this.componentDidCatch(c.value,{componentStack:O!==null?O:""})})}function Z2(n,r,o,c,h){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&Ga(r,o,h,!0),o=us.current,o!==null){switch(o.tag){case 31:case 13:return Ms===null?_u():o.alternate===null&&tn===0&&(tn=3),o.flags&=-257,o.flags|=65536,o.lanes=h,c===mu?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),op(n,c,h)),!1;case 22:return o.flags|=65536,c===mu?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),op(n,c,h)),!1}throw Error(i(435,o.tag))}return op(n,c,h),_u(),!1}if(bt)return r=us.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,c!==th&&(n=Error(i(422),{cause:c}),fl(Cs(n,o)))):(c!==th&&(r=Error(i(423),{cause:c}),fl(Cs(r,o))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,c=Cs(c,o),h=Lh(n.stateNode,c,h),fh(n,h),tn!==4&&(tn=2)),!1;var m=Error(i(520),{cause:c});if(m=Cs(m,o),Al===null?Al=[m]:Al.push(m),tn!==4&&(tn=2),r===null)return!0;c=Cs(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,n=h&-h,o.lanes|=n,n=Lh(o.stateNode,c,n),fh(o,n),!1;case 1:if(r=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(si===null||!si.has(m))))return o.flags|=65536,h&=-h,o.lanes|=h,h=cb(h),ub(h,n,o,c),fh(o,h),!1}o=o.return}while(o!==null);return!1}var Nh=Error(i(461)),pn=!1;function kn(n,r,o,c){r.child=n===null?p0(r,null,o,c):Vi(r,n.child,o,c)}function db(n,r,o,c,h){o=o.render;var m=r.ref;if("ref"in c){var w={};for(var O in c)O!=="ref"&&(w[O]=c[O])}else w=c;return Hi(r),c=xh(n,r,o,w,m,h),O=bh(),n!==null&&!pn?(vh(n,r,h),wr(n,r,h)):(bt&&O&&Jf(r),r.flags|=1,kn(n,r,c,h),r.child)}function fb(n,r,o,c,h){if(n===null){var m=o.type;return typeof m=="function"&&!Kf(m)&&m.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=m,hb(n,r,m,c,h)):(n=cu(o.type,null,c,r,r.mode,h),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,!Uh(n,h)){var w=m.memoizedProps;if(o=o.compare,o=o!==null?o:cl,o(w,c)&&n.ref===r.ref)return wr(n,r,h)}return r.flags|=1,n=gr(m,c),n.ref=r.ref,n.return=r,r.child=n}function hb(n,r,o,c,h){if(n!==null){var m=n.memoizedProps;if(cl(m,c)&&n.ref===r.ref)if(pn=!1,r.pendingProps=c=m,Uh(n,h))(n.flags&131072)!==0&&(pn=!0);else return r.lanes=n.lanes,wr(n,r,h)}return Fh(n,r,o,c,h)}function pb(n,r,o,c){var h=c.children,m=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,n!==null){for(c=r.child=n.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;c=h&~m}else c=0,r.child=null;return mb(n,r,m,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&hu(r,m!==null?m.cachePool:null),m!==null?y0(r,m):ph(),x0(r);else return c=r.lanes=536870912,mb(n,r,m!==null?m.baseLanes|o:o,o,c)}else m!==null?(hu(r,m.cachePool),y0(r,m),Jr(),r.memoizedState=null):(n!==null&&hu(r,null),ph(),Jr());return kn(n,r,h,o),r.child}function Cl(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function mb(n,r,o,c,h){var m=lh();return m=m===null?null:{parent:fn._currentValue,pool:m},r.memoizedState={baseLanes:o,cachePool:m},n!==null&&hu(r,null),ph(),x0(r),n!==null&&Ga(n,r,c,!0),r.childLanes=h,null}function ku(n,r){return r=Au({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function gb(n,r,o){return Vi(r,n.child,null,o),n=ku(r,r.pendingProps),n.flags|=2,ds(r),r.memoizedState=null,n}function J2(n,r,o){var c=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(bt){if(c.mode==="hidden")return n=ku(r,c),r.lanes=536870912,Cl(null,n);if(gh(r),(n=zt)?(n=Mv(n,Es),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:Ur!==null?{id:Qs,overflow:Ks}:null,retryLane:536870912,hydrationErrors:null},o=Jx(n),o.return=r,r.child=o,En=r,zt=null)):n=null,n===null)throw Gr(r);return r.lanes=536870912,null}return ku(r,c)}var m=n.memoizedState;if(m!==null){var w=m.dehydrated;if(gh(r),h)if(r.flags&256)r.flags&=-257,r=gb(n,r,o);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(i(558));else if(pn||Ga(n,r,o,!1),h=(o&n.childLanes)!==0,pn||h){if(c=Nt,c!==null&&(w=ax(c,o),w!==0&&w!==m.retryLane))throw m.retryLane=w,Bi(n,w),ns(c,n,w),Nh;_u(),r=gb(n,r,o)}else n=m.treeContext,zt=ks(w.nextSibling),En=r,bt=!0,qr=null,Es=!1,n!==null&&n0(r,n),r=ku(r,c),r.flags|=4096;return r}return n=gr(n.child,{mode:c.mode,children:c.children}),n.ref=r.ref,r.child=n,n.return=r,n}function Pu(n,r){var o=r.ref;if(o===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(n===null||n.ref!==o)&&(r.flags|=4194816)}}function Fh(n,r,o,c,h){return Hi(r),o=xh(n,r,o,c,void 0,h),c=bh(),n!==null&&!pn?(vh(n,r,h),wr(n,r,h)):(bt&&c&&Jf(r),r.flags|=1,kn(n,r,o,h),r.child)}function yb(n,r,o,c,h,m){return Hi(r),r.updateQueue=null,o=v0(r,c,o,h),b0(n),c=bh(),n!==null&&!pn?(vh(n,r,m),wr(n,r,m)):(bt&&c&&Jf(r),r.flags|=1,kn(n,r,o,m),r.child)}function xb(n,r,o,c,h){if(Hi(r),r.stateNode===null){var m=Va,w=o.contextType;typeof w=="object"&&w!==null&&(m=Mn(w)),m=new o(c,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Bh,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=c,m.state=r.memoizedState,m.refs={},uh(r),w=o.contextType,m.context=typeof w=="object"&&w!==null?Mn(w):Va,m.state=r.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Ih(r,o,w,c),m.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(w=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),w!==m.state&&Bh.enqueueReplaceState(m,m.state,null),bl(r,c,m,h),xl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(n===null){m=r.stateNode;var O=r.memoizedProps,G=Ui(o,O);m.props=G;var re=m.context,ue=o.contextType;w=Va,typeof ue=="object"&&ue!==null&&(w=Mn(ue));var me=o.getDerivedStateFromProps;ue=typeof me=="function"||typeof m.getSnapshotBeforeUpdate=="function",O=r.pendingProps!==O,ue||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(O||re!==w)&&rb(r,m,c,w),Qr=!1;var ie=r.memoizedState;m.state=ie,bl(r,c,m,h),xl(),re=r.memoizedState,O||ie!==re||Qr?(typeof me=="function"&&(Ih(r,o,me,c),re=r.memoizedState),(G=Qr||sb(r,o,G,c,ie,re,w))?(ue||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=re),m.props=c,m.state=re,m.context=w,c=G):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{m=r.stateNode,dh(n,r),w=r.memoizedProps,ue=Ui(o,w),m.props=ue,me=r.pendingProps,ie=m.context,re=o.contextType,G=Va,typeof re=="object"&&re!==null&&(G=Mn(re)),O=o.getDerivedStateFromProps,(re=typeof O=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==me||ie!==G)&&rb(r,m,c,G),Qr=!1,ie=r.memoizedState,m.state=ie,bl(r,c,m,h),xl();var ae=r.memoizedState;w!==me||ie!==ae||Qr||n!==null&&n.dependencies!==null&&du(n.dependencies)?(typeof O=="function"&&(Ih(r,o,O,c),ae=r.memoizedState),(ue=Qr||sb(r,o,ue,c,ie,ae,G)||n!==null&&n.dependencies!==null&&du(n.dependencies))?(re||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,ae,G),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,ae,G)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||w===n.memoizedProps&&ie===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&ie===n.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=ae),m.props=c,m.state=ae,m.context=G,c=ue):(typeof m.componentDidUpdate!="function"||w===n.memoizedProps&&ie===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&ie===n.memoizedState||(r.flags|=1024),c=!1)}return m=c,Pu(n,r),c=(r.flags&128)!==0,m||c?(m=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,n!==null&&c?(r.child=Vi(r,n.child,null,h),r.child=Vi(r,null,o,h)):kn(n,r,o,h),r.memoizedState=m.state,n=r.child):n=wr(n,r,h),n}function bb(n,r,o,c){return Ni(),r.flags|=256,kn(n,r,o,c),r.child}var Hh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _h(n){return{baseLanes:n,cachePool:l0()}}function zh(n,r,o){return n=n!==null?n.childLanes&~o:0,r&&(n|=hs),n}function vb(n,r,o){var c=r.pendingProps,h=!1,m=(r.flags&128)!==0,w;if((w=m)||(w=n!==null&&n.memoizedState===null?!1:(an.current&2)!==0),w&&(h=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,n===null){if(bt){if(h?Zr(r):Jr(),(n=zt)?(n=Mv(n,Es),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:Ur!==null?{id:Qs,overflow:Ks}:null,retryLane:536870912,hydrationErrors:null},o=Jx(n),o.return=r,r.child=o,En=r,zt=null)):n=null,n===null)throw Gr(r);return jp(n)?r.lanes=32:r.lanes=536870912,null}var O=c.children;return c=c.fallback,h?(Jr(),h=r.mode,O=Au({mode:"hidden",children:O},h),c=Li(c,h,o,null),O.return=r,c.return=r,O.sibling=c,r.child=O,c=r.child,c.memoizedState=_h(o),c.childLanes=zh(n,w,o),r.memoizedState=Hh,Cl(null,c)):(Zr(r),Wh(r,O))}var G=n.memoizedState;if(G!==null&&(O=G.dehydrated,O!==null)){if(m)r.flags&256?(Zr(r),r.flags&=-257,r=Vh(n,r,o)):r.memoizedState!==null?(Jr(),r.child=n.child,r.flags|=128,r=null):(Jr(),O=c.fallback,h=r.mode,c=Au({mode:"visible",children:c.children},h),O=Li(O,h,o,null),O.flags|=2,c.return=r,O.return=r,c.sibling=O,r.child=c,Vi(r,n.child,null,o),c=r.child,c.memoizedState=_h(o),c.childLanes=zh(n,w,o),r.memoizedState=Hh,r=Cl(null,c));else if(Zr(r),jp(O)){if(w=O.nextSibling&&O.nextSibling.dataset,w)var re=w.dgst;w=re,c=Error(i(419)),c.stack="",c.digest=w,fl({value:c,source:null,stack:null}),r=Vh(n,r,o)}else if(pn||Ga(n,r,o,!1),w=(o&n.childLanes)!==0,pn||w){if(w=Nt,w!==null&&(c=ax(w,o),c!==0&&c!==G.retryLane))throw G.retryLane=c,Bi(n,c),ns(w,n,c),Nh;wp(O)||_u(),r=Vh(n,r,o)}else wp(O)?(r.flags|=192,r.child=n.child,r=null):(n=G.treeContext,zt=ks(O.nextSibling),En=r,bt=!0,qr=null,Es=!1,n!==null&&n0(r,n),r=Wh(r,c.children),r.flags|=4096);return r}return h?(Jr(),O=c.fallback,h=r.mode,G=n.child,re=G.sibling,c=gr(G,{mode:"hidden",children:c.children}),c.subtreeFlags=G.subtreeFlags&65011712,re!==null?O=gr(re,O):(O=Li(O,h,o,null),O.flags|=2),O.return=r,c.return=r,c.sibling=O,r.child=c,Cl(null,c),c=r.child,O=n.child.memoizedState,O===null?O=_h(o):(h=O.cachePool,h!==null?(G=fn._currentValue,h=h.parent!==G?{parent:G,pool:G}:h):h=l0(),O={baseLanes:O.baseLanes|o,cachePool:h}),c.memoizedState=O,c.childLanes=zh(n,w,o),r.memoizedState=Hh,Cl(n.child,c)):(Zr(r),o=n.child,n=o.sibling,o=gr(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,n!==null&&(w=r.deletions,w===null?(r.deletions=[n],r.flags|=16):w.push(n)),r.child=o,r.memoizedState=null,o)}function Wh(n,r){return r=Au({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Au(n,r){return n=cs(22,n,null,r),n.lanes=0,n}function Vh(n,r,o){return Vi(r,n.child,null,o),n=Wh(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Sb(n,r,o){n.lanes|=r;var c=n.alternate;c!==null&&(c.lanes|=r),rh(n.return,r,o)}function Yh(n,r,o,c,h,m){var w=n.memoizedState;w===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:h,treeForkCount:m}:(w.isBackwards=r,w.rendering=null,w.renderingStartTime=0,w.last=c,w.tail=o,w.tailMode=h,w.treeForkCount=m)}function wb(n,r,o){var c=r.pendingProps,h=c.revealOrder,m=c.tail;c=c.children;var w=an.current,O=(w&2)!==0;if(O?(w=w&1|2,r.flags|=128):w&=1,De(an,w),kn(n,r,c,o),c=bt?dl:0,!O&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Sb(n,o,r);else if(n.tag===19)Sb(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(h){case"forwards":for(o=r.child,h=null;o!==null;)n=o.alternate,n!==null&&bu(n)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),Yh(r,!1,h,o,m,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(n=h.alternate,n!==null&&bu(n)===null){r.child=h;break}n=h.sibling,h.sibling=o,o=h,h=n}Yh(r,!0,o,null,m,c);break;case"together":Yh(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function wr(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),ni|=r.lanes,(o&r.childLanes)===0)if(n!==null){if(Ga(n,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(i(153));if(r.child!==null){for(n=r.child,o=gr(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=gr(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function Uh(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&du(n)))}function eM(n,r,o){switch(r.tag){case 3:nt(r,r.stateNode.containerInfo),$r(r,fn,n.memoizedState.cache),Ni();break;case 27:case 5:ce(r);break;case 4:nt(r,r.stateNode.containerInfo);break;case 10:$r(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,gh(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Zr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?vb(n,r,o):(Zr(r),n=wr(n,r,o),n!==null?n.sibling:null);Zr(r);break;case 19:var h=(n.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(Ga(n,r,o,!1),c=(o&r.childLanes)!==0),h){if(c)return wb(n,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),De(an,an.current),c)break;return null;case 22:return r.lanes=0,pb(n,r,o,r.pendingProps);case 24:$r(r,fn,n.memoizedState.cache)}return wr(n,r,o)}function jb(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps)pn=!0;else{if(!Uh(n,o)&&(r.flags&128)===0)return pn=!1,eM(n,r,o);pn=(n.flags&131072)!==0}else pn=!1,bt&&(r.flags&1048576)!==0&&t0(r,dl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(n=zi(r.elementType),r.type=n,typeof n=="function")Kf(n)?(c=Ui(n,c),r.tag=1,r=xb(null,r,n,c,o)):(r.tag=0,r=Fh(null,r,n,c,o));else{if(n!=null){var h=n.$$typeof;if(h===P){r.tag=11,r=db(null,r,n,c,o);break e}else if(h===E){r.tag=14,r=fb(null,r,n,c,o);break e}}throw r=U(n)||n,Error(i(306,r,""))}}return r;case 0:return Fh(n,r,r.type,r.pendingProps,o);case 1:return c=r.type,h=Ui(c,r.pendingProps),xb(n,r,c,h,o);case 3:e:{if(nt(r,r.stateNode.containerInfo),n===null)throw Error(i(387));c=r.pendingProps;var m=r.memoizedState;h=m.element,dh(n,r),bl(r,c,null,o);var w=r.memoizedState;if(c=w.cache,$r(r,fn,c),c!==m.cache&&ih(r,[fn],o,!0),xl(),c=w.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=bb(n,r,c,o);break e}else if(c!==h){h=Cs(Error(i(424)),r),fl(h),r=bb(n,r,c,o);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(zt=ks(n.firstChild),En=r,bt=!0,qr=null,Es=!0,o=p0(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ni(),c===h){r=wr(n,r,o);break e}kn(n,r,c,o)}r=r.child}return r;case 26:return Pu(n,r),n===null?(o=Iv(r.type,null,r.pendingProps,null))?r.memoizedState=o:bt||(o=r.type,n=r.pendingProps,c=Gu(Ve.current).createElement(o),c[Dn]=r,c[Kn]=n,Pn(c,o,n),wn(c),r.stateNode=c):r.memoizedState=Iv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return ce(r),n===null&&bt&&(c=r.stateNode=Av(r.type,r.pendingProps,Ve.current),En=r,Es=!0,h=zt,oi(r.type)?(Cp=h,zt=ks(c.firstChild)):zt=h),kn(n,r,r.pendingProps.children,o),Pu(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&bt&&((h=c=zt)&&(c=PM(c,r.type,r.pendingProps,Es),c!==null?(r.stateNode=c,En=r,zt=ks(c.firstChild),Es=!1,h=!0):h=!1),h||Gr(r)),ce(r),h=r.type,m=r.pendingProps,w=n!==null?n.memoizedProps:null,c=m.children,bp(h,m)?c=null:w!==null&&bp(h,w)&&(r.flags|=32),r.memoizedState!==null&&(h=xh(n,r,U2,null,null,o),Hl._currentValue=h),Pu(n,r),kn(n,r,c,o),r.child;case 6:return n===null&&bt&&((n=o=zt)&&(o=AM(o,r.pendingProps,Es),o!==null?(r.stateNode=o,En=r,zt=null,n=!0):n=!1),n||Gr(r)),null;case 13:return vb(n,r,o);case 4:return nt(r,r.stateNode.containerInfo),c=r.pendingProps,n===null?r.child=Vi(r,null,c,o):kn(n,r,c,o),r.child;case 11:return db(n,r,r.type,r.pendingProps,o);case 7:return kn(n,r,r.pendingProps,o),r.child;case 8:return kn(n,r,r.pendingProps.children,o),r.child;case 12:return kn(n,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,$r(r,r.type,c.value),kn(n,r,c.children,o),r.child;case 9:return h=r.type._context,c=r.pendingProps.children,Hi(r),h=Mn(h),c=c(h),r.flags|=1,kn(n,r,c,o),r.child;case 14:return fb(n,r,r.type,r.pendingProps,o);case 15:return hb(n,r,r.type,r.pendingProps,o);case 19:return wb(n,r,o);case 31:return J2(n,r,o);case 22:return pb(n,r,o,r.pendingProps);case 24:return Hi(r),c=Mn(fn),n===null?(h=lh(),h===null&&(h=Nt,m=ah(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=o),h=m),r.memoizedState={parent:c,cache:h},uh(r),$r(r,fn,h)):((n.lanes&o)!==0&&(dh(n,r),bl(r,null,null,o),xl()),h=n.memoizedState,m=r.memoizedState,h.parent!==c?(h={parent:c,cache:c},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),$r(r,fn,c)):(c=m.cache,$r(r,fn,c),c!==h.cache&&ih(r,[fn],o,!0))),kn(n,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function jr(n){n.flags|=4}function qh(n,r,o,c,h){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(h&335544128)===h)if(n.stateNode.complete)n.flags|=8192;else if(Kb())n.flags|=8192;else throw Wi=mu,ch}else n.flags&=-16777217}function Cb(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Hv(r))if(Kb())n.flags|=8192;else throw Wi=mu,ch}function Ou(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?dn():536870912,n.lanes|=r,io|=r)}function Tl(n,r){if(!bt)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Wt(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,c=0;if(r)for(var h=n.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags&65011712,c|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=c,n.childLanes=o,r}function tM(n,r,o){var c=r.pendingProps;switch(eh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(r),null;case 1:return Wt(r),null;case 3:return o=r.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),br(fn),Ne(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(qa(r)?jr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,nh())),Wt(r),null;case 26:var h=r.type,m=r.memoizedState;return n===null?(jr(r),m!==null?(Wt(r),Cb(r,m)):(Wt(r),qh(r,h,null,c,o))):m?m!==n.memoizedState?(jr(r),Wt(r),Cb(r,m)):(Wt(r),r.flags&=-16777217):(n=n.memoizedProps,n!==c&&jr(r),Wt(r),qh(r,h,n,c,o)),null;case 27:if(de(r),o=Ve.current,h=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==c&&jr(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return Wt(r),null}n=ke.current,qa(r)?s0(r):(n=Av(h,c,o),r.stateNode=n,jr(r))}return Wt(r),null;case 5:if(de(r),h=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==c&&jr(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return Wt(r),null}if(m=ke.current,qa(r))s0(r);else{var w=Gu(Ve.current);switch(m){case 1:m=w.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=w.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=w.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=w.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=w.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?w.createElement("select",{is:c.is}):w.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?w.createElement(h,{is:c.is}):w.createElement(h)}}m[Dn]=r,m[Kn]=c;e:for(w=r.child;w!==null;){if(w.tag===5||w.tag===6)m.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===r)break e;for(;w.sibling===null;){if(w.return===null||w.return===r)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}r.stateNode=m;e:switch(Pn(m,h,c),h){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&jr(r)}}return Wt(r),qh(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,o),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==c&&jr(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(i(166));if(n=Ve.current,qa(r)){if(n=r.stateNode,o=r.memoizedProps,c=null,h=En,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}n[Dn]=r,n=!!(n.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||vv(n.nodeValue,o)),n||Gr(r,!0)}else n=Gu(n).createTextNode(c),n[Dn]=r,r.stateNode=n}return Wt(r),null;case 31:if(o=r.memoizedState,n===null||n.memoizedState!==null){if(c=qa(r),o!==null){if(n===null){if(!c)throw Error(i(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[Dn]=r}else Ni(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Wt(r),n=!1}else o=nh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return r.flags&256?(ds(r),r):(ds(r),null);if((r.flags&128)!==0)throw Error(i(558))}return Wt(r),null;case 13:if(c=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=qa(r),c!==null&&c.dehydrated!==null){if(n===null){if(!h)throw Error(i(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Dn]=r}else Ni(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Wt(r),h=!1}else h=nh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(ds(r),r):(ds(r),null)}return ds(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,n=n!==null&&n.memoizedState!==null,o&&(c=r.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==h&&(c.flags|=2048)),o!==n&&o&&(r.child.flags|=8192),Ou(r,r.updateQueue),Wt(r),null);case 4:return Ne(),n===null&&pp(r.stateNode.containerInfo),Wt(r),null;case 10:return br(r.type),Wt(r),null;case 19:if(ge(an),c=r.memoizedState,c===null)return Wt(r),null;if(h=(r.flags&128)!==0,m=c.rendering,m===null)if(h)Tl(c,!1);else{if(tn!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(m=bu(n),m!==null){for(r.flags|=128,Tl(c,!1),n=m.updateQueue,r.updateQueue=n,Ou(r,n),r.subtreeFlags=0,n=o,o=r.child;o!==null;)Zx(o,n),o=o.sibling;return De(an,an.current&1|2),bt&&yr(r,c.treeForkCount),r.child}n=n.sibling}c.tail!==null&&xe()>Nu&&(r.flags|=128,h=!0,Tl(c,!1),r.lanes=4194304)}else{if(!h)if(n=bu(m),n!==null){if(r.flags|=128,h=!0,n=n.updateQueue,r.updateQueue=n,Ou(r,n),Tl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!bt)return Wt(r),null}else 2*xe()-c.renderingStartTime>Nu&&o!==536870912&&(r.flags|=128,h=!0,Tl(c,!1),r.lanes=4194304);c.isBackwards?(m.sibling=r.child,r.child=m):(n=c.last,n!==null?n.sibling=m:r.child=m,c.last=m)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=xe(),n.sibling=null,o=an.current,De(an,h?o&1|2:o&1),bt&&yr(r,c.treeForkCount),n):(Wt(r),null);case 22:case 23:return ds(r),mh(),c=r.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(Wt(r),r.subtreeFlags&6&&(r.flags|=8192)):Wt(r),o=r.updateQueue,o!==null&&Ou(r,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),n!==null&&ge(_i),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),br(fn),Wt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function nM(n,r){switch(eh(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return br(fn),Ne(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return de(r),null;case 31:if(r.memoizedState!==null){if(ds(r),r.alternate===null)throw Error(i(340));Ni()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(ds(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Ni()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ge(an),null;case 4:return Ne(),null;case 10:return br(r.type),null;case 22:case 23:return ds(r),mh(),n!==null&&ge(_i),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return br(fn),null;case 25:return null;default:return null}}function Tb(n,r){switch(eh(r),r.tag){case 3:br(fn),Ne();break;case 26:case 27:case 5:de(r);break;case 4:Ne();break;case 31:r.memoizedState!==null&&ds(r);break;case 13:ds(r);break;case 19:ge(an);break;case 10:br(r.type);break;case 22:case 23:ds(r),mh(),n!==null&&ge(_i);break;case 24:br(fn)}}function Dl(n,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var h=c.next;o=h;do{if((o.tag&n)===n){c=void 0;var m=o.create,w=o.inst;c=m(),w.destroy=c}o=o.next}while(o!==h)}}catch(O){At(r,r.return,O)}}function ei(n,r,o){try{var c=r.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var m=h.next;c=m;do{if((c.tag&n)===n){var w=c.inst,O=w.destroy;if(O!==void 0){w.destroy=void 0,h=r;var G=o,re=O;try{re()}catch(ue){At(h,G,ue)}}}c=c.next}while(c!==m)}}catch(ue){At(r,r.return,ue)}}function Db(n){var r=n.updateQueue;if(r!==null){var o=n.stateNode;try{g0(r,o)}catch(c){At(n,n.return,c)}}}function Eb(n,r,o){o.props=Ui(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(c){At(n,r,c)}}function El(n,r){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof o=="function"?n.refCleanup=o(c):o.current=c}}catch(h){At(n,r,h)}}function Xs(n,r){var o=n.ref,c=n.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(h){At(n,r,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){At(n,r,h)}else o.current=null}function Mb(n){var r=n.type,o=n.memoizedProps,c=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(h){At(n,n.return,h)}}function Gh(n,r,o){try{var c=n.stateNode;CM(c,n.type,o,r),c[Kn]=r}catch(h){At(n,n.return,h)}}function kb(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&oi(n.type)||n.tag===4}function $h(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||kb(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&oi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Qh(n,r,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(n),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=pr));else if(c!==4&&(c===27&&oi(n.type)&&(o=n.stateNode,r=null),n=n.child,n!==null))for(Qh(n,r,o),n=n.sibling;n!==null;)Qh(n,r,o),n=n.sibling}function Ru(n,r,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?o.insertBefore(n,r):o.appendChild(n);else if(c!==4&&(c===27&&oi(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Ru(n,r,o),n=n.sibling;n!==null;)Ru(n,r,o),n=n.sibling}function Pb(n){var r=n.stateNode,o=n.memoizedProps;try{for(var c=n.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Pn(r,c,o),r[Dn]=n,r[Kn]=o}catch(m){At(n,n.return,m)}}var Cr=!1,mn=!1,Kh=!1,Ab=typeof WeakSet=="function"?WeakSet:Set,jn=null;function sM(n,r){if(n=n.containerInfo,yp=ed,n=Vx(n),Vf(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var h=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var w=0,O=-1,G=-1,re=0,ue=0,me=n,ie=null;t:for(;;){for(var ae;me!==o||h!==0&&me.nodeType!==3||(O=w+h),me!==m||c!==0&&me.nodeType!==3||(G=w+c),me.nodeType===3&&(w+=me.nodeValue.length),(ae=me.firstChild)!==null;)ie=me,me=ae;for(;;){if(me===n)break t;if(ie===o&&++re===h&&(O=w),ie===m&&++ue===c&&(G=w),(ae=me.nextSibling)!==null)break;me=ie,ie=me.parentNode}me=ae}o=O===-1||G===-1?null:{start:O,end:G}}else o=null}o=o||{start:0,end:0}}else o=null;for(xp={focusedElem:n,selectionRange:o},ed=!1,jn=r;jn!==null;)if(r=jn,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,jn=n;else for(;jn!==null;){switch(r=jn,m=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)h=n[o],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,o=r,h=m.memoizedProps,m=m.memoizedState,c=o.stateNode;try{var Ie=Ui(o.type,h);n=c.getSnapshotBeforeUpdate(Ie,m),c.__reactInternalSnapshotBeforeUpdate=n}catch(Xe){At(o,o.return,Xe)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,o=n.nodeType,o===9)Sp(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Sp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=r.sibling,n!==null){n.return=r.return,jn=n;break}jn=r.return}}function Ob(n,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Dr(n,o),c&4&&Dl(5,o);break;case 1:if(Dr(n,o),c&4)if(n=o.stateNode,r===null)try{n.componentDidMount()}catch(w){At(o,o.return,w)}else{var h=Ui(o.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(h,r,n.__reactInternalSnapshotBeforeUpdate)}catch(w){At(o,o.return,w)}}c&64&&Db(o),c&512&&El(o,o.return);break;case 3:if(Dr(n,o),c&64&&(n=o.updateQueue,n!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{g0(n,r)}catch(w){At(o,o.return,w)}}break;case 27:r===null&&c&4&&Pb(o);case 26:case 5:Dr(n,o),r===null&&c&4&&Mb(o),c&512&&El(o,o.return);break;case 12:Dr(n,o);break;case 31:Dr(n,o),c&4&&Bb(n,o);break;case 13:Dr(n,o),c&4&&Lb(n,o),c&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=fM.bind(null,o),OM(n,o))));break;case 22:if(c=o.memoizedState!==null||Cr,!c){r=r!==null&&r.memoizedState!==null||mn,h=Cr;var m=mn;Cr=c,(mn=r)&&!m?Er(n,o,(o.subtreeFlags&8772)!==0):Dr(n,o),Cr=h,mn=m}break;case 30:break;default:Dr(n,o)}}function Rb(n){var r=n.alternate;r!==null&&(n.alternate=null,Rb(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Df(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Gt=null,Zn=!1;function Tr(n,r,o){for(o=o.child;o!==null;)Ib(n,r,o),o=o.sibling}function Ib(n,r,o){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(it,o)}catch{}switch(o.tag){case 26:mn||Xs(o,r),Tr(n,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:mn||Xs(o,r);var c=Gt,h=Zn;oi(o.type)&&(Gt=o.stateNode,Zn=!1),Tr(n,r,o),Ll(o.stateNode),Gt=c,Zn=h;break;case 5:mn||Xs(o,r);case 6:if(c=Gt,h=Zn,Gt=null,Tr(n,r,o),Gt=c,Zn=h,Gt!==null)if(Zn)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(o.stateNode)}catch(m){At(o,r,m)}else try{Gt.removeChild(o.stateNode)}catch(m){At(o,r,m)}break;case 18:Gt!==null&&(Zn?(n=Gt,Dv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),po(n)):Dv(Gt,o.stateNode));break;case 4:c=Gt,h=Zn,Gt=o.stateNode.containerInfo,Zn=!0,Tr(n,r,o),Gt=c,Zn=h;break;case 0:case 11:case 14:case 15:ei(2,o,r),mn||ei(4,o,r),Tr(n,r,o);break;case 1:mn||(Xs(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Eb(o,r,c)),Tr(n,r,o);break;case 21:Tr(n,r,o);break;case 22:mn=(c=mn)||o.memoizedState!==null,Tr(n,r,o),mn=c;break;default:Tr(n,r,o)}}function Bb(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{po(n)}catch(o){At(r,r.return,o)}}}function Lb(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{po(n)}catch(o){At(r,r.return,o)}}function rM(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Ab),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Ab),r;default:throw Error(i(435,n.tag))}}function Iu(n,r){var o=rM(n);r.forEach(function(c){if(!o.has(c)){o.add(c);var h=hM.bind(null,n,c);c.then(h,h)}})}function Jn(n,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var h=o[c],m=n,w=r,O=w;e:for(;O!==null;){switch(O.tag){case 27:if(oi(O.type)){Gt=O.stateNode,Zn=!1;break e}break;case 5:Gt=O.stateNode,Zn=!1;break e;case 3:case 4:Gt=O.stateNode.containerInfo,Zn=!0;break e}O=O.return}if(Gt===null)throw Error(i(160));Ib(m,w,h),Gt=null,Zn=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Nb(r,n),r=r.sibling}var zs=null;function Nb(n,r){var o=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Jn(r,n),es(n),c&4&&(ei(3,n,n.return),Dl(3,n),ei(5,n,n.return));break;case 1:Jn(r,n),es(n),c&512&&(mn||o===null||Xs(o,o.return)),c&64&&Cr&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var h=zs;if(Jn(r,n),es(n),c&512&&(mn||o===null||Xs(o,o.return)),c&4){var m=o!==null?o.memoizedState:null;if(c=n.memoizedState,o===null)if(c===null)if(n.stateNode===null){e:{c=n.type,o=n.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":m=h.getElementsByTagName("title")[0],(!m||m[el]||m[Dn]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(c),h.head.insertBefore(m,h.querySelector("head > title"))),Pn(m,c,o),m[Dn]=n,wn(m),c=m;break e;case"link":var w=Nv("link","href",h).get(c+(o.href||""));if(w){for(var O=0;O<w.length;O++)if(m=w[O],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(O,1);break t}}m=h.createElement(c),Pn(m,c,o),h.head.appendChild(m);break;case"meta":if(w=Nv("meta","content",h).get(c+(o.content||""))){for(O=0;O<w.length;O++)if(m=w[O],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(O,1);break t}}m=h.createElement(c),Pn(m,c,o),h.head.appendChild(m);break;default:throw Error(i(468,c))}m[Dn]=n,wn(m),c=m}n.stateNode=c}else Fv(h,n.type,n.stateNode);else n.stateNode=Lv(h,c,n.memoizedProps);else m!==c?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,c===null?Fv(h,n.type,n.stateNode):Lv(h,c,n.memoizedProps)):c===null&&n.stateNode!==null&&Gh(n,n.memoizedProps,o.memoizedProps)}break;case 27:Jn(r,n),es(n),c&512&&(mn||o===null||Xs(o,o.return)),o!==null&&c&4&&Gh(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Jn(r,n),es(n),c&512&&(mn||o===null||Xs(o,o.return)),n.flags&32){h=n.stateNode;try{La(h,"")}catch(Ie){At(n,n.return,Ie)}}c&4&&n.stateNode!=null&&(h=n.memoizedProps,Gh(n,h,o!==null?o.memoizedProps:h)),c&1024&&(Kh=!0);break;case 6:if(Jn(r,n),es(n),c&4){if(n.stateNode===null)throw Error(i(162));c=n.memoizedProps,o=n.stateNode;try{o.nodeValue=c}catch(Ie){At(n,n.return,Ie)}}break;case 3:if(Ku=null,h=zs,zs=$u(r.containerInfo),Jn(r,n),zs=h,es(n),c&4&&o!==null&&o.memoizedState.isDehydrated)try{po(r.containerInfo)}catch(Ie){At(n,n.return,Ie)}Kh&&(Kh=!1,Fb(n));break;case 4:c=zs,zs=$u(n.stateNode.containerInfo),Jn(r,n),es(n),zs=c;break;case 12:Jn(r,n),es(n);break;case 31:Jn(r,n),es(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Iu(n,c)));break;case 13:Jn(r,n),es(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Lu=xe()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Iu(n,c)));break;case 22:h=n.memoizedState!==null;var G=o!==null&&o.memoizedState!==null,re=Cr,ue=mn;if(Cr=re||h,mn=ue||G,Jn(r,n),mn=ue,Cr=re,es(n),c&8192)e:for(r=n.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(o===null||G||Cr||mn||qi(n)),o=null,r=n;;){if(r.tag===5||r.tag===26){if(o===null){G=o=r;try{if(m=G.stateNode,h)w=m.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{O=G.stateNode;var me=G.memoizedProps.style,ie=me!=null&&me.hasOwnProperty("display")?me.display:null;O.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(Ie){At(G,G.return,Ie)}}}else if(r.tag===6){if(o===null){G=r;try{G.stateNode.nodeValue=h?"":G.memoizedProps}catch(Ie){At(G,G.return,Ie)}}}else if(r.tag===18){if(o===null){G=r;try{var ae=G.stateNode;h?Ev(ae,!0):Ev(G.stateNode,!1)}catch(Ie){At(G,G.return,Ie)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=n.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Iu(n,o))));break;case 19:Jn(r,n),es(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Iu(n,c)));break;case 30:break;case 21:break;default:Jn(r,n),es(n)}}function es(n){var r=n.flags;if(r&2){try{for(var o,c=n.return;c!==null;){if(kb(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var h=o.stateNode,m=$h(n);Ru(n,m,h);break;case 5:var w=o.stateNode;o.flags&32&&(La(w,""),o.flags&=-33);var O=$h(n);Ru(n,O,w);break;case 3:case 4:var G=o.stateNode.containerInfo,re=$h(n);Qh(n,re,G);break;default:throw Error(i(161))}}catch(ue){At(n,n.return,ue)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Fb(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Fb(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Dr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Ob(n,r.alternate,r),r=r.sibling}function qi(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:ei(4,r,r.return),qi(r);break;case 1:Xs(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Eb(r,r.return,o),qi(r);break;case 27:Ll(r.stateNode);case 26:case 5:Xs(r,r.return),qi(r);break;case 22:r.memoizedState===null&&qi(r);break;case 30:qi(r);break;default:qi(r)}n=n.sibling}}function Er(n,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,h=n,m=r,w=m.flags;switch(m.tag){case 0:case 11:case 15:Er(h,m,o),Dl(4,m);break;case 1:if(Er(h,m,o),c=m,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(re){At(c,c.return,re)}if(c=m,h=c.updateQueue,h!==null){var O=c.stateNode;try{var G=h.shared.hiddenCallbacks;if(G!==null)for(h.shared.hiddenCallbacks=null,h=0;h<G.length;h++)m0(G[h],O)}catch(re){At(c,c.return,re)}}o&&w&64&&Db(m),El(m,m.return);break;case 27:Pb(m);case 26:case 5:Er(h,m,o),o&&c===null&&w&4&&Mb(m),El(m,m.return);break;case 12:Er(h,m,o);break;case 31:Er(h,m,o),o&&w&4&&Bb(h,m);break;case 13:Er(h,m,o),o&&w&4&&Lb(h,m);break;case 22:m.memoizedState===null&&Er(h,m,o),El(m,m.return);break;case 30:break;default:Er(h,m,o)}r=r.sibling}}function Xh(n,r){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&hl(o))}function Zh(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&hl(n))}function Ws(n,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Hb(n,r,o,c),r=r.sibling}function Hb(n,r,o,c){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Ws(n,r,o,c),h&2048&&Dl(9,r);break;case 1:Ws(n,r,o,c);break;case 3:Ws(n,r,o,c),h&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&hl(n)));break;case 12:if(h&2048){Ws(n,r,o,c),n=r.stateNode;try{var m=r.memoizedProps,w=m.id,O=m.onPostCommit;typeof O=="function"&&O(w,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(G){At(r,r.return,G)}}else Ws(n,r,o,c);break;case 31:Ws(n,r,o,c);break;case 13:Ws(n,r,o,c);break;case 23:break;case 22:m=r.stateNode,w=r.alternate,r.memoizedState!==null?m._visibility&2?Ws(n,r,o,c):Ml(n,r):m._visibility&2?Ws(n,r,o,c):(m._visibility|=2,no(n,r,o,c,(r.subtreeFlags&10256)!==0||!1)),h&2048&&Xh(w,r);break;case 24:Ws(n,r,o,c),h&2048&&Zh(r.alternate,r);break;default:Ws(n,r,o,c)}}function no(n,r,o,c,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=n,w=r,O=o,G=c,re=w.flags;switch(w.tag){case 0:case 11:case 15:no(m,w,O,G,h),Dl(8,w);break;case 23:break;case 22:var ue=w.stateNode;w.memoizedState!==null?ue._visibility&2?no(m,w,O,G,h):Ml(m,w):(ue._visibility|=2,no(m,w,O,G,h)),h&&re&2048&&Xh(w.alternate,w);break;case 24:no(m,w,O,G,h),h&&re&2048&&Zh(w.alternate,w);break;default:no(m,w,O,G,h)}r=r.sibling}}function Ml(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=n,c=r,h=c.flags;switch(c.tag){case 22:Ml(o,c),h&2048&&Xh(c.alternate,c);break;case 24:Ml(o,c),h&2048&&Zh(c.alternate,c);break;default:Ml(o,c)}r=r.sibling}}var kl=8192;function so(n,r,o){if(n.subtreeFlags&kl)for(n=n.child;n!==null;)_b(n,r,o),n=n.sibling}function _b(n,r,o){switch(n.tag){case 26:so(n,r,o),n.flags&kl&&n.memoizedState!==null&&YM(o,zs,n.memoizedState,n.memoizedProps);break;case 5:so(n,r,o);break;case 3:case 4:var c=zs;zs=$u(n.stateNode.containerInfo),so(n,r,o),zs=c;break;case 22:n.memoizedState===null&&(c=n.alternate,c!==null&&c.memoizedState!==null?(c=kl,kl=16777216,so(n,r,o),kl=c):so(n,r,o));break;default:so(n,r,o)}}function zb(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Pl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];jn=c,Vb(c,n)}zb(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Wb(n),n=n.sibling}function Wb(n){switch(n.tag){case 0:case 11:case 15:Pl(n),n.flags&2048&&ei(9,n,n.return);break;case 3:Pl(n);break;case 12:Pl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Bu(n)):Pl(n);break;default:Pl(n)}}function Bu(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];jn=c,Vb(c,n)}zb(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:ei(8,r,r.return),Bu(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Bu(r));break;default:Bu(r)}n=n.sibling}}function Vb(n,r){for(;jn!==null;){var o=jn;switch(o.tag){case 0:case 11:case 15:ei(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:hl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,jn=c;else e:for(o=n;jn!==null;){c=jn;var h=c.sibling,m=c.return;if(Rb(c),c===o){jn=null;break e}if(h!==null){h.return=m,jn=h;break e}jn=m}}}var iM={getCacheForType:function(n){var r=Mn(fn),o=r.data.get(n);return o===void 0&&(o=n(),r.data.set(n,o)),o},cacheSignal:function(){return Mn(fn).controller.signal}},aM=typeof WeakMap=="function"?WeakMap:Map,Tt=0,Nt=null,pt=null,gt=0,Pt=0,fs=null,ti=!1,ro=!1,Jh=!1,Mr=0,tn=0,ni=0,Gi=0,ep=0,hs=0,io=0,Al=null,ts=null,tp=!1,Lu=0,Yb=0,Nu=1/0,Fu=null,si=null,xn=0,ri=null,ao=null,kr=0,np=0,sp=null,Ub=null,Ol=0,rp=null;function ps(){return(Tt&2)!==0&&gt!==0?gt&-gt:F.T!==null?up():ox()}function qb(){if(hs===0)if((gt&536870912)===0||bt){var n=$s;$s<<=1,($s&3932160)===0&&($s=262144),hs=n}else hs=536870912;return n=us.current,n!==null&&(n.flags|=32),hs}function ns(n,r,o){(n===Nt&&(Pt===2||Pt===9)||n.cancelPendingCommit!==null)&&(oo(n,0),ii(n,gt,hs,!1)),Wr(n,o),((Tt&2)===0||n!==Nt)&&(n===Nt&&((Tt&2)===0&&(Gi|=o),tn===4&&ii(n,gt,hs,!1)),Zs(n))}function Gb(n,r,o){if((Tt&6)!==0)throw Error(i(327));var c=!o&&(r&127)===0&&(r&n.expiredLanes)===0||ka(n,r),h=c?cM(n,r):ap(n,r,!0),m=c;do{if(h===0){ro&&!c&&ii(n,r,0,!1);break}else{if(o=n.current.alternate,m&&!oM(o)){h=ap(n,r,!1),m=!1;continue}if(h===2){if(m=r,n.errorRecoveryDisabledLanes&m)var w=0;else w=n.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;e:{var O=n;h=Al;var G=O.current.memoizedState.isDehydrated;if(G&&(oo(O,w).flags|=256),w=ap(O,w,!1),w!==2){if(Jh&&!G){O.errorRecoveryDisabledLanes|=m,Gi|=m,h=4;break e}m=ts,ts=h,m!==null&&(ts===null?ts=m:ts.push.apply(ts,m))}h=w}if(m=!1,h!==2)continue}}if(h===1){oo(n,0),ii(n,r,0,!0);break}e:{switch(c=n,m=h,m){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:ii(c,r,hs,!ti);break e;case 2:ts=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(h=Lu+300-xe(),10<h)){if(ii(c,r,hs,!ti),Ma(c,0,!0)!==0)break e;kr=r,c.timeoutHandle=Cv($b.bind(null,c,o,ts,Fu,tp,r,hs,Gi,io,ti,m,"Throttled",-0,0),h);break e}$b(c,o,ts,Fu,tp,r,hs,Gi,io,ti,m,null,-0,0)}}break}while(!0);Zs(n)}function $b(n,r,o,c,h,m,w,O,G,re,ue,me,ie,ae){if(n.timeoutHandle=-1,me=r.subtreeFlags,me&8192||(me&16785408)===16785408){me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pr},_b(r,m,me);var Ie=(m&62914560)===m?Lu-xe():(m&4194048)===m?Yb-xe():0;if(Ie=UM(me,Ie),Ie!==null){kr=m,n.cancelPendingCommit=Ie(nv.bind(null,n,r,m,o,c,h,w,O,G,ue,me,null,ie,ae)),ii(n,m,w,!re);return}}nv(n,r,m,o,c,h,w,O,G)}function oM(n){for(var r=n;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var h=o[c],m=h.getSnapshot;h=h.value;try{if(!ls(m(),h))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ii(n,r,o,c){r&=~ep,r&=~Gi,n.suspendedLanes|=r,n.pingedLanes&=~r,c&&(n.warmLanes|=r),c=n.expirationTimes;for(var h=r;0<h;){var m=31-qt(h),w=1<<m;c[m]=-1,h&=~w}o!==0&&rx(n,o,r)}function Hu(){return(Tt&6)===0?(Rl(0),!1):!0}function ip(){if(pt!==null){if(Pt===0)var n=pt.return;else n=pt,xr=Fi=null,Sh(n),Xa=null,ml=0,n=pt;for(;n!==null;)Tb(n.alternate,n),n=n.return;pt=null}}function oo(n,r){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,EM(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),kr=0,ip(),Nt=n,pt=o=gr(n.current,null),gt=r,Pt=0,fs=null,ti=!1,ro=ka(n,r),Jh=!1,io=hs=ep=Gi=ni=tn=0,ts=Al=null,tp=!1,(r&8)!==0&&(r|=r&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=r;0<c;){var h=31-qt(c),m=1<<h;r|=n[h],c&=~m}return Mr=r,au(),o}function Qb(n,r){ot=null,F.H=jl,r===Ka||r===pu?(r=d0(),Pt=3):r===ch?(r=d0(),Pt=4):Pt=r===Nh?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,fs=r,pt===null&&(tn=1,Mu(n,Cs(r,n.current)))}function Kb(){var n=us.current;return n===null?!0:(gt&4194048)===gt?Ms===null:(gt&62914560)===gt||(gt&536870912)!==0?n===Ms:!1}function Xb(){var n=F.H;return F.H=jl,n===null?jl:n}function Zb(){var n=F.A;return F.A=iM,n}function _u(){tn=4,ti||(gt&4194048)!==gt&&us.current!==null||(ro=!0),(ni&134217727)===0&&(Gi&134217727)===0||Nt===null||ii(Nt,gt,hs,!1)}function ap(n,r,o){var c=Tt;Tt|=2;var h=Xb(),m=Zb();(Nt!==n||gt!==r)&&(Fu=null,oo(n,r)),r=!1;var w=tn;e:do try{if(Pt!==0&&pt!==null){var O=pt,G=fs;switch(Pt){case 8:ip(),w=6;break e;case 3:case 2:case 9:case 6:us.current===null&&(r=!0);var re=Pt;if(Pt=0,fs=null,lo(n,O,G,re),o&&ro){w=0;break e}break;default:re=Pt,Pt=0,fs=null,lo(n,O,G,re)}}lM(),w=tn;break}catch(ue){Qb(n,ue)}while(!0);return r&&n.shellSuspendCounter++,xr=Fi=null,Tt=c,F.H=h,F.A=m,pt===null&&(Nt=null,gt=0,au()),w}function lM(){for(;pt!==null;)Jb(pt)}function cM(n,r){var o=Tt;Tt|=2;var c=Xb(),h=Zb();Nt!==n||gt!==r?(Fu=null,Nu=xe()+500,oo(n,r)):ro=ka(n,r);e:do try{if(Pt!==0&&pt!==null){r=pt;var m=fs;t:switch(Pt){case 1:Pt=0,fs=null,lo(n,r,m,1);break;case 2:case 9:if(c0(m)){Pt=0,fs=null,ev(r);break}r=function(){Pt!==2&&Pt!==9||Nt!==n||(Pt=7),Zs(n)},m.then(r,r);break e;case 3:Pt=7;break e;case 4:Pt=5;break e;case 7:c0(m)?(Pt=0,fs=null,ev(r)):(Pt=0,fs=null,lo(n,r,m,7));break;case 5:var w=null;switch(pt.tag){case 26:w=pt.memoizedState;case 5:case 27:var O=pt;if(w?Hv(w):O.stateNode.complete){Pt=0,fs=null;var G=O.sibling;if(G!==null)pt=G;else{var re=O.return;re!==null?(pt=re,zu(re)):pt=null}break t}}Pt=0,fs=null,lo(n,r,m,5);break;case 6:Pt=0,fs=null,lo(n,r,m,6);break;case 8:ip(),tn=6;break e;default:throw Error(i(462))}}uM();break}catch(ue){Qb(n,ue)}while(!0);return xr=Fi=null,F.H=c,F.A=h,Tt=o,pt!==null?0:(Nt=null,gt=0,au(),tn)}function uM(){for(;pt!==null&&!K();)Jb(pt)}function Jb(n){var r=jb(n.alternate,n,Mr);n.memoizedProps=n.pendingProps,r===null?zu(n):pt=r}function ev(n){var r=n,o=r.alternate;switch(r.tag){case 15:case 0:r=yb(o,r,r.pendingProps,r.type,void 0,gt);break;case 11:r=yb(o,r,r.pendingProps,r.type.render,r.ref,gt);break;case 5:Sh(r);default:Tb(o,r),r=pt=Zx(r,Mr),r=jb(o,r,Mr)}n.memoizedProps=n.pendingProps,r===null?zu(n):pt=r}function lo(n,r,o,c){xr=Fi=null,Sh(r),Xa=null,ml=0;var h=r.return;try{if(Z2(n,h,r,o,gt)){tn=1,Mu(n,Cs(o,n.current)),pt=null;return}}catch(m){if(h!==null)throw pt=h,m;tn=1,Mu(n,Cs(o,n.current)),pt=null;return}r.flags&32768?(bt||c===1?n=!0:ro||(gt&536870912)!==0?n=!1:(ti=n=!0,(c===2||c===9||c===3||c===6)&&(c=us.current,c!==null&&c.tag===13&&(c.flags|=16384))),tv(r,n)):zu(r)}function zu(n){var r=n;do{if((r.flags&32768)!==0){tv(r,ti);return}n=r.return;var o=tM(r.alternate,r,Mr);if(o!==null){pt=o;return}if(r=r.sibling,r!==null){pt=r;return}pt=r=n}while(r!==null);tn===0&&(tn=5)}function tv(n,r){do{var o=nM(n.alternate,n);if(o!==null){o.flags&=32767,pt=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(n=n.sibling,n!==null)){pt=n;return}pt=n=o}while(n!==null);tn=6,pt=null}function nv(n,r,o,c,h,m,w,O,G){n.cancelPendingCommit=null;do Wu();while(xn!==0);if((Tt&6)!==0)throw Error(i(327));if(r!==null){if(r===n.current)throw Error(i(177));if(m=r.lanes|r.childLanes,m|=$f,VE(n,o,m,w,O,G),n===Nt&&(pt=Nt=null,gt=0),ao=r,ri=n,kr=o,np=m,sp=h,Ub=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,pM(lt,function(){return ov(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=F.T,F.T=null,h=I.p,I.p=2,w=Tt,Tt|=4;try{sM(n,r,o)}finally{Tt=w,I.p=h,F.T=c}}xn=1,sv(),rv(),iv()}}function sv(){if(xn===1){xn=0;var n=ri,r=ao,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=F.T,F.T=null;var c=I.p;I.p=2;var h=Tt;Tt|=4;try{Nb(r,n);var m=xp,w=Vx(n.containerInfo),O=m.focusedElem,G=m.selectionRange;if(w!==O&&O&&O.ownerDocument&&Wx(O.ownerDocument.documentElement,O)){if(G!==null&&Vf(O)){var re=G.start,ue=G.end;if(ue===void 0&&(ue=re),"selectionStart"in O)O.selectionStart=re,O.selectionEnd=Math.min(ue,O.value.length);else{var me=O.ownerDocument||document,ie=me&&me.defaultView||window;if(ie.getSelection){var ae=ie.getSelection(),Ie=O.textContent.length,Xe=Math.min(G.start,Ie),Lt=G.end===void 0?Xe:Math.min(G.end,Ie);!ae.extend&&Xe>Lt&&(w=Lt,Lt=Xe,Xe=w);var J=zx(O,Xe),X=zx(O,Lt);if(J&&X&&(ae.rangeCount!==1||ae.anchorNode!==J.node||ae.anchorOffset!==J.offset||ae.focusNode!==X.node||ae.focusOffset!==X.offset)){var se=me.createRange();se.setStart(J.node,J.offset),ae.removeAllRanges(),Xe>Lt?(ae.addRange(se),ae.extend(X.node,X.offset)):(se.setEnd(X.node,X.offset),ae.addRange(se))}}}}for(me=[],ae=O;ae=ae.parentNode;)ae.nodeType===1&&me.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<me.length;O++){var pe=me[O];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}ed=!!yp,xp=yp=null}finally{Tt=h,I.p=c,F.T=o}}n.current=r,xn=2}}function rv(){if(xn===2){xn=0;var n=ri,r=ao,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=F.T,F.T=null;var c=I.p;I.p=2;var h=Tt;Tt|=4;try{Ob(n,r.alternate,r)}finally{Tt=h,I.p=c,F.T=o}}xn=3}}function iv(){if(xn===4||xn===3){xn=0,he();var n=ri,r=ao,o=kr,c=Ub;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?xn=5:(xn=0,ao=ri=null,av(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(si=null),Cf(o),r=r.stateNode,at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(it,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=F.T,h=I.p,I.p=2,F.T=null;try{for(var m=n.onRecoverableError,w=0;w<c.length;w++){var O=c[w];m(O.value,{componentStack:O.stack})}}finally{F.T=r,I.p=h}}(kr&3)!==0&&Wu(),Zs(n),h=n.pendingLanes,(o&261930)!==0&&(h&42)!==0?n===rp?Ol++:(Ol=0,rp=n):Ol=0,Rl(0)}}function av(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,hl(r)))}function Wu(){return sv(),rv(),iv(),ov()}function ov(){if(xn!==5)return!1;var n=ri,r=np;np=0;var o=Cf(kr),c=F.T,h=I.p;try{I.p=32>o?32:o,F.T=null,o=sp,sp=null;var m=ri,w=kr;if(xn=0,ao=ri=null,kr=0,(Tt&6)!==0)throw Error(i(331));var O=Tt;if(Tt|=4,Wb(m.current),Hb(m,m.current,w,o),Tt=O,Rl(0,!1),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(it,m)}catch{}return!0}finally{I.p=h,F.T=c,av(n,r)}}function lv(n,r,o){r=Cs(o,r),r=Lh(n.stateNode,r,2),n=Xr(n,r,2),n!==null&&(Wr(n,2),Zs(n))}function At(n,r,o){if(n.tag===3)lv(n,n,o);else for(;r!==null;){if(r.tag===3){lv(r,n,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(si===null||!si.has(c))){n=Cs(o,n),o=cb(2),c=Xr(r,o,2),c!==null&&(ub(o,c,r,n),Wr(c,2),Zs(c));break}}r=r.return}}function op(n,r,o){var c=n.pingCache;if(c===null){c=n.pingCache=new aM;var h=new Set;c.set(r,h)}else h=c.get(r),h===void 0&&(h=new Set,c.set(r,h));h.has(o)||(Jh=!0,h.add(o),n=dM.bind(null,n,r,o),r.then(n,n))}function dM(n,r,o){var c=n.pingCache;c!==null&&c.delete(r),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Nt===n&&(gt&o)===o&&(tn===4||tn===3&&(gt&62914560)===gt&&300>xe()-Lu?(Tt&2)===0&&oo(n,0):ep|=o,io===gt&&(io=0)),Zs(n)}function cv(n,r){r===0&&(r=dn()),n=Bi(n,r),n!==null&&(Wr(n,r),Zs(n))}function fM(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),cv(n,o)}function hM(n,r){var o=0;switch(n.tag){case 31:case 13:var c=n.stateNode,h=n.memoizedState;h!==null&&(o=h.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(r),cv(n,o)}function pM(n,r){return $(n,r)}var Vu=null,co=null,lp=!1,Yu=!1,cp=!1,ai=0;function Zs(n){n!==co&&n.next===null&&(co===null?Vu=co=n:co=co.next=n),Yu=!0,lp||(lp=!0,gM())}function Rl(n,r){if(!cp&&Yu){cp=!0;do for(var o=!1,c=Vu;c!==null;){if(n!==0){var h=c.pendingLanes;if(h===0)var m=0;else{var w=c.suspendedLanes,O=c.pingedLanes;m=(1<<31-qt(42|n)+1)-1,m&=h&~(w&~O),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,hv(c,m))}else m=gt,m=Ma(c,c===Nt?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||ka(c,m)||(o=!0,hv(c,m));c=c.next}while(o);cp=!1}}function mM(){uv()}function uv(){Yu=lp=!1;var n=0;ai!==0&&DM()&&(n=ai);for(var r=xe(),o=null,c=Vu;c!==null;){var h=c.next,m=dv(c,r);m===0?(c.next=null,o===null?Vu=h:o.next=h,h===null&&(co=o)):(o=c,(n!==0||(m&3)!==0)&&(Yu=!0)),c=h}xn!==0&&xn!==5||Rl(n),ai!==0&&(ai=0)}function dv(n,r){for(var o=n.suspendedLanes,c=n.pingedLanes,h=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var w=31-qt(m),O=1<<w,G=h[w];G===-1?((O&o)===0||(O&c)!==0)&&(h[w]=sx(O,r)):G<=r&&(n.expiredLanes|=O),m&=~O}if(r=Nt,o=gt,o=Ma(n,n===r?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,o===0||n===r&&(Pt===2||Pt===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&be(c),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||ka(n,o)){if(r=o&-o,r===n.callbackPriority)return r;switch(c!==null&&be(c),Cf(o)){case 2:case 8:o=Ke;break;case 32:o=lt;break;case 268435456:o=Ge;break;default:o=lt}return c=fv.bind(null,n),o=$(o,c),n.callbackPriority=r,n.callbackNode=o,r}return c!==null&&c!==null&&be(c),n.callbackPriority=2,n.callbackNode=null,2}function fv(n,r){if(xn!==0&&xn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Wu()&&n.callbackNode!==o)return null;var c=gt;return c=Ma(n,n===Nt?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(Gb(n,c,r),dv(n,xe()),n.callbackNode!=null&&n.callbackNode===o?fv.bind(null,n):null)}function hv(n,r){if(Wu())return null;Gb(n,r,!0)}function gM(){MM(function(){(Tt&6)!==0?$(Re,mM):uv()})}function up(){if(ai===0){var n=$a;n===0&&(n=Ln,Ln<<=1,(Ln&261888)===0&&(Ln=256)),ai=n}return ai}function pv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Zc(""+n)}function mv(n,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,n.id&&o.setAttribute("form",n.id),r.parentNode.insertBefore(o,r),n=new FormData(n),o.parentNode.removeChild(o),n}function yM(n,r,o,c,h){if(r==="submit"&&o&&o.stateNode===h){var m=pv((h[Kn]||null).action),w=c.submitter;w&&(r=(r=w[Kn]||null)?pv(r.formAction):w.getAttribute("formAction"),r!==null&&(m=r,w=null));var O=new nu("action","action",null,c,h);n.push({event:O,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ai!==0){var G=w?mv(h,w):new FormData(h);Ph(o,{pending:!0,data:G,method:h.method,action:m},null,G)}}else typeof m=="function"&&(O.preventDefault(),G=w?mv(h,w):new FormData(h),Ph(o,{pending:!0,data:G,method:h.method,action:m},m,G))},currentTarget:h}]})}}for(var dp=0;dp<Gf.length;dp++){var fp=Gf[dp],xM=fp.toLowerCase(),bM=fp[0].toUpperCase()+fp.slice(1);_s(xM,"on"+bM)}_s(qx,"onAnimationEnd"),_s(Gx,"onAnimationIteration"),_s($x,"onAnimationStart"),_s("dblclick","onDoubleClick"),_s("focusin","onFocus"),_s("focusout","onBlur"),_s(B2,"onTransitionRun"),_s(L2,"onTransitionStart"),_s(N2,"onTransitionCancel"),_s(Qx,"onTransitionEnd"),Ia("onMouseEnter",["mouseout","mouseover"]),Ia("onMouseLeave",["mouseout","mouseover"]),Ia("onPointerEnter",["pointerout","pointerover"]),Ia("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Il));function gv(n,r){r=(r&4)!==0;for(var o=0;o<n.length;o++){var c=n[o],h=c.event;c=c.listeners;e:{var m=void 0;if(r)for(var w=c.length-1;0<=w;w--){var O=c[w],G=O.instance,re=O.currentTarget;if(O=O.listener,G!==m&&h.isPropagationStopped())break e;m=O,h.currentTarget=re;try{m(h)}catch(ue){iu(ue)}h.currentTarget=null,m=G}else for(w=0;w<c.length;w++){if(O=c[w],G=O.instance,re=O.currentTarget,O=O.listener,G!==m&&h.isPropagationStopped())break e;m=O,h.currentTarget=re;try{m(h)}catch(ue){iu(ue)}h.currentTarget=null,m=G}}}}function mt(n,r){var o=r[Tf];o===void 0&&(o=r[Tf]=new Set);var c=n+"__bubble";o.has(c)||(yv(r,n,2,!1),o.add(c))}function hp(n,r,o){var c=0;r&&(c|=4),yv(o,n,c,r)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function pp(n){if(!n[Uu]){n[Uu]=!0,ux.forEach(function(o){o!=="selectionchange"&&(vM.has(o)||hp(o,!1,n),hp(o,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Uu]||(r[Uu]=!0,hp("selectionchange",!1,r))}}function yv(n,r,o,c){switch(qv(r)){case 2:var h=$M;break;case 8:h=QM;break;default:h=kp}o=h.bind(null,r,o,n),h=void 0,!If||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),c?h!==void 0?n.addEventListener(r,o,{capture:!0,passive:h}):n.addEventListener(r,o,!0):h!==void 0?n.addEventListener(r,o,{passive:h}):n.addEventListener(r,o,!1)}function mp(n,r,o,c,h){var m=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var O=c.stateNode.containerInfo;if(O===h)break;if(w===4)for(w=c.return;w!==null;){var G=w.tag;if((G===3||G===4)&&w.stateNode.containerInfo===h)return;w=w.return}for(;O!==null;){if(w=Aa(O),w===null)return;if(G=w.tag,G===5||G===6||G===26||G===27){c=m=w;continue e}O=O.parentNode}}c=c.return}wx(function(){var re=m,ue=Of(o),me=[];e:{var ie=Kx.get(n);if(ie!==void 0){var ae=nu,Ie=n;switch(n){case"keypress":if(eu(o)===0)break e;case"keydown":case"keyup":ae=h2;break;case"focusin":Ie="focus",ae=Ff;break;case"focusout":Ie="blur",ae=Ff;break;case"beforeblur":case"afterblur":ae=Ff;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Tx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=t2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=g2;break;case qx:case Gx:case $x:ae=r2;break;case Qx:ae=x2;break;case"scroll":case"scrollend":ae=JE;break;case"wheel":ae=v2;break;case"copy":case"cut":case"paste":ae=a2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Ex;break;case"toggle":case"beforetoggle":ae=w2}var Xe=(r&4)!==0,Lt=!Xe&&(n==="scroll"||n==="scrollend"),J=Xe?ie!==null?ie+"Capture":null:ie;Xe=[];for(var X=re,se;X!==null;){var pe=X;if(se=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||se===null||J===null||(pe=nl(X,J),pe!=null&&Xe.push(Bl(X,pe,se))),Lt)break;X=X.return}0<Xe.length&&(ie=new ae(ie,Ie,null,o,ue),me.push({event:ie,listeners:Xe}))}}if((r&7)===0){e:{if(ie=n==="mouseover"||n==="pointerover",ae=n==="mouseout"||n==="pointerout",ie&&o!==Af&&(Ie=o.relatedTarget||o.fromElement)&&(Aa(Ie)||Ie[Pa]))break e;if((ae||ie)&&(ie=ue.window===ue?ue:(ie=ue.ownerDocument)?ie.defaultView||ie.parentWindow:window,ae?(Ie=o.relatedTarget||o.toElement,ae=re,Ie=Ie?Aa(Ie):null,Ie!==null&&(Lt=u(Ie),Xe=Ie.tag,Ie!==Lt||Xe!==5&&Xe!==27&&Xe!==6)&&(Ie=null)):(ae=null,Ie=re),ae!==Ie)){if(Xe=Tx,pe="onMouseLeave",J="onMouseEnter",X="mouse",(n==="pointerout"||n==="pointerover")&&(Xe=Ex,pe="onPointerLeave",J="onPointerEnter",X="pointer"),Lt=ae==null?ie:tl(ae),se=Ie==null?ie:tl(Ie),ie=new Xe(pe,X+"leave",ae,o,ue),ie.target=Lt,ie.relatedTarget=se,pe=null,Aa(ue)===re&&(Xe=new Xe(J,X+"enter",Ie,o,ue),Xe.target=se,Xe.relatedTarget=Lt,pe=Xe),Lt=pe,ae&&Ie)t:{for(Xe=SM,J=ae,X=Ie,se=0,pe=J;pe;pe=Xe(pe))se++;pe=0;for(var Ye=X;Ye;Ye=Xe(Ye))pe++;for(;0<se-pe;)J=Xe(J),se--;for(;0<pe-se;)X=Xe(X),pe--;for(;se--;){if(J===X||X!==null&&J===X.alternate){Xe=J;break t}J=Xe(J),X=Xe(X)}Xe=null}else Xe=null;ae!==null&&xv(me,ie,ae,Xe,!1),Ie!==null&&Lt!==null&&xv(me,Lt,Ie,Xe,!0)}}e:{if(ie=re?tl(re):window,ae=ie.nodeName&&ie.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ie.type==="file")var wt=Bx;else if(Rx(ie))if(Lx)wt=O2;else{wt=P2;var He=k2}else ae=ie.nodeName,!ae||ae.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?re&&Pf(re.elementType)&&(wt=Bx):wt=A2;if(wt&&(wt=wt(n,re))){Ix(me,wt,o,ue);break e}He&&He(n,ie,re),n==="focusout"&&re&&ie.type==="number"&&re.memoizedProps.value!=null&&kf(ie,"number",ie.value)}switch(He=re?tl(re):window,n){case"focusin":(Rx(He)||He.contentEditable==="true")&&(_a=He,Yf=re,ul=null);break;case"focusout":ul=Yf=_a=null;break;case"mousedown":Uf=!0;break;case"contextmenu":case"mouseup":case"dragend":Uf=!1,Yx(me,o,ue);break;case"selectionchange":if(I2)break;case"keydown":case"keyup":Yx(me,o,ue)}var ct;if(_f)e:{switch(n){case"compositionstart":var yt="onCompositionStart";break e;case"compositionend":yt="onCompositionEnd";break e;case"compositionupdate":yt="onCompositionUpdate";break e}yt=void 0}else Ha?Ax(n,o)&&(yt="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(yt="onCompositionStart");yt&&(Mx&&o.locale!=="ko"&&(Ha||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Ha&&(ct=jx()):(Yr=ue,Bf="value"in Yr?Yr.value:Yr.textContent,Ha=!0)),He=qu(re,yt),0<He.length&&(yt=new Dx(yt,n,null,o,ue),me.push({event:yt,listeners:He}),ct?yt.data=ct:(ct=Ox(o),ct!==null&&(yt.data=ct)))),(ct=C2?T2(n,o):D2(n,o))&&(yt=qu(re,"onBeforeInput"),0<yt.length&&(He=new Dx("onBeforeInput","beforeinput",null,o,ue),me.push({event:He,listeners:yt}),He.data=ct)),yM(me,n,re,o,ue)}gv(me,r)})}function Bl(n,r,o){return{instance:n,listener:r,currentTarget:o}}function qu(n,r){for(var o=r+"Capture",c=[];n!==null;){var h=n,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=nl(n,o),h!=null&&c.unshift(Bl(n,h,m)),h=nl(n,r),h!=null&&c.push(Bl(n,h,m))),n.tag===3)return c;n=n.return}return[]}function SM(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function xv(n,r,o,c,h){for(var m=r._reactName,w=[];o!==null&&o!==c;){var O=o,G=O.alternate,re=O.stateNode;if(O=O.tag,G!==null&&G===c)break;O!==5&&O!==26&&O!==27||re===null||(G=re,h?(re=nl(o,m),re!=null&&w.unshift(Bl(o,re,G))):h||(re=nl(o,m),re!=null&&w.push(Bl(o,re,G)))),o=o.return}w.length!==0&&n.push({event:r,listeners:w})}var wM=/\r\n?/g,jM=/\u0000|\uFFFD/g;function bv(n){return(typeof n=="string"?n:""+n).replace(wM,`
`).replace(jM,"")}function vv(n,r){return r=bv(r),bv(n)===r}function Bt(n,r,o,c,h,m){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||La(n,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&La(n,""+c);break;case"className":Kc(n,"class",c);break;case"tabIndex":Kc(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Kc(n,o,c);break;case"style":vx(n,c,m);break;case"data":if(r!=="object"){Kc(n,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){n.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=Zc(""+c),n.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(r!=="input"&&Bt(n,r,"name",h.name,h,null),Bt(n,r,"formEncType",h.formEncType,h,null),Bt(n,r,"formMethod",h.formMethod,h,null),Bt(n,r,"formTarget",h.formTarget,h,null)):(Bt(n,r,"encType",h.encType,h,null),Bt(n,r,"method",h.method,h,null),Bt(n,r,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=Zc(""+c),n.setAttribute(o,c);break;case"onClick":c!=null&&(n.onclick=pr);break;case"onScroll":c!=null&&mt("scroll",n);break;case"onScrollEnd":c!=null&&mt("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}o=Zc(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""+c):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":c===!0?n.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,c):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(o,c):n.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(o):n.setAttribute(o,c);break;case"popover":mt("beforetoggle",n),mt("toggle",n),Qc(n,"popover",c);break;case"xlinkActuate":hr(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":hr(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":hr(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":hr(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":hr(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":hr(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":hr(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":hr(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":hr(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Qc(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=XE.get(o)||o,Qc(n,o,c))}}function gp(n,r,o,c,h,m){switch(o){case"style":vx(n,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"children":typeof c=="string"?La(n,c):(typeof c=="number"||typeof c=="bigint")&&La(n,""+c);break;case"onScroll":c!=null&&mt("scroll",n);break;case"onScrollEnd":c!=null&&mt("scrollend",n);break;case"onClick":c!=null&&(n.onclick=pr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dx.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),r=o.slice(2,h?o.length-7:void 0),m=n[Kn]||null,m=m!=null?m[o]:null,typeof m=="function"&&n.removeEventListener(r,m,h),typeof c=="function")){typeof m!="function"&&m!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(r,c,h);break e}o in n?n[o]=c:c===!0?n.setAttribute(o,""):Qc(n,o,c)}}}function Pn(n,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mt("error",n),mt("load",n);var c=!1,h=!1,m;for(m in o)if(o.hasOwnProperty(m)){var w=o[m];if(w!=null)switch(m){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Bt(n,r,m,w,o,null)}}h&&Bt(n,r,"srcSet",o.srcSet,o,null),c&&Bt(n,r,"src",o.src,o,null);return;case"input":mt("invalid",n);var O=m=w=h=null,G=null,re=null;for(c in o)if(o.hasOwnProperty(c)){var ue=o[c];if(ue!=null)switch(c){case"name":h=ue;break;case"type":w=ue;break;case"checked":G=ue;break;case"defaultChecked":re=ue;break;case"value":m=ue;break;case"defaultValue":O=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(i(137,r));break;default:Bt(n,r,c,ue,o,null)}}gx(n,m,O,G,re,w,h,!1);return;case"select":mt("invalid",n),c=w=m=null;for(h in o)if(o.hasOwnProperty(h)&&(O=o[h],O!=null))switch(h){case"value":m=O;break;case"defaultValue":w=O;break;case"multiple":c=O;default:Bt(n,r,h,O,o,null)}r=m,o=w,n.multiple=!!c,r!=null?Ba(n,!!c,r,!1):o!=null&&Ba(n,!!c,o,!0);return;case"textarea":mt("invalid",n),m=h=c=null;for(w in o)if(o.hasOwnProperty(w)&&(O=o[w],O!=null))switch(w){case"value":c=O;break;case"defaultValue":h=O;break;case"children":m=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(i(91));break;default:Bt(n,r,w,O,o,null)}xx(n,c,h,m);return;case"option":for(G in o)if(o.hasOwnProperty(G)&&(c=o[G],c!=null))switch(G){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Bt(n,r,G,c,o,null)}return;case"dialog":mt("beforetoggle",n),mt("toggle",n),mt("cancel",n),mt("close",n);break;case"iframe":case"object":mt("load",n);break;case"video":case"audio":for(c=0;c<Il.length;c++)mt(Il[c],n);break;case"image":mt("error",n),mt("load",n);break;case"details":mt("toggle",n);break;case"embed":case"source":case"link":mt("error",n),mt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in o)if(o.hasOwnProperty(re)&&(c=o[re],c!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Bt(n,r,re,c,o,null)}return;default:if(Pf(r)){for(ue in o)o.hasOwnProperty(ue)&&(c=o[ue],c!==void 0&&gp(n,r,ue,c,o,void 0));return}}for(O in o)o.hasOwnProperty(O)&&(c=o[O],c!=null&&Bt(n,r,O,c,o,null))}function CM(n,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,w=null,O=null,G=null,re=null,ue=null;for(ae in o){var me=o[ae];if(o.hasOwnProperty(ae)&&me!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":G=me;default:c.hasOwnProperty(ae)||Bt(n,r,ae,null,c,me)}}for(var ie in c){var ae=c[ie];if(me=o[ie],c.hasOwnProperty(ie)&&(ae!=null||me!=null))switch(ie){case"type":m=ae;break;case"name":h=ae;break;case"checked":re=ae;break;case"defaultChecked":ue=ae;break;case"value":w=ae;break;case"defaultValue":O=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,r));break;default:ae!==me&&Bt(n,r,ie,ae,c,me)}}Mf(n,w,O,G,re,ue,m,h);return;case"select":ae=w=O=ie=null;for(m in o)if(G=o[m],o.hasOwnProperty(m)&&G!=null)switch(m){case"value":break;case"multiple":ae=G;default:c.hasOwnProperty(m)||Bt(n,r,m,null,c,G)}for(h in c)if(m=c[h],G=o[h],c.hasOwnProperty(h)&&(m!=null||G!=null))switch(h){case"value":ie=m;break;case"defaultValue":O=m;break;case"multiple":w=m;default:m!==G&&Bt(n,r,h,m,c,G)}r=O,o=w,c=ae,ie!=null?Ba(n,!!o,ie,!1):!!c!=!!o&&(r!=null?Ba(n,!!o,r,!0):Ba(n,!!o,o?[]:"",!1));return;case"textarea":ae=ie=null;for(O in o)if(h=o[O],o.hasOwnProperty(O)&&h!=null&&!c.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Bt(n,r,O,null,c,h)}for(w in c)if(h=c[w],m=o[w],c.hasOwnProperty(w)&&(h!=null||m!=null))switch(w){case"value":ie=h;break;case"defaultValue":ae=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==m&&Bt(n,r,w,h,c,m)}yx(n,ie,ae);return;case"option":for(var Ie in o)if(ie=o[Ie],o.hasOwnProperty(Ie)&&ie!=null&&!c.hasOwnProperty(Ie))switch(Ie){case"selected":n.selected=!1;break;default:Bt(n,r,Ie,null,c,ie)}for(G in c)if(ie=c[G],ae=o[G],c.hasOwnProperty(G)&&ie!==ae&&(ie!=null||ae!=null))switch(G){case"selected":n.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:Bt(n,r,G,ie,c,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xe in o)ie=o[Xe],o.hasOwnProperty(Xe)&&ie!=null&&!c.hasOwnProperty(Xe)&&Bt(n,r,Xe,null,c,ie);for(re in c)if(ie=c[re],ae=o[re],c.hasOwnProperty(re)&&ie!==ae&&(ie!=null||ae!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,r));break;default:Bt(n,r,re,ie,c,ae)}return;default:if(Pf(r)){for(var Lt in o)ie=o[Lt],o.hasOwnProperty(Lt)&&ie!==void 0&&!c.hasOwnProperty(Lt)&&gp(n,r,Lt,void 0,c,ie);for(ue in c)ie=c[ue],ae=o[ue],!c.hasOwnProperty(ue)||ie===ae||ie===void 0&&ae===void 0||gp(n,r,ue,ie,c,ae);return}}for(var J in o)ie=o[J],o.hasOwnProperty(J)&&ie!=null&&!c.hasOwnProperty(J)&&Bt(n,r,J,null,c,ie);for(me in c)ie=c[me],ae=o[me],!c.hasOwnProperty(me)||ie===ae||ie==null&&ae==null||Bt(n,r,me,ie,c,ae)}function Sv(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function TM(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var h=o[c],m=h.transferSize,w=h.initiatorType,O=h.duration;if(m&&O&&Sv(w)){for(w=0,O=h.responseEnd,c+=1;c<o.length;c++){var G=o[c],re=G.startTime;if(re>O)break;var ue=G.transferSize,me=G.initiatorType;ue&&Sv(me)&&(G=G.responseEnd,w+=ue*(G<O?1:(O-re)/(G-re)))}if(--c,r+=8*(m+w)/(h.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var yp=null,xp=null;function Gu(n){return n.nodeType===9?n:n.ownerDocument}function wv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function bp(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var vp=null;function DM(){var n=window.event;return n&&n.type==="popstate"?n===vp?!1:(vp=n,!0):(vp=null,!1)}var Cv=typeof setTimeout=="function"?setTimeout:void 0,EM=typeof clearTimeout=="function"?clearTimeout:void 0,Tv=typeof Promise=="function"?Promise:void 0,MM=typeof queueMicrotask=="function"?queueMicrotask:typeof Tv<"u"?function(n){return Tv.resolve(null).then(n).catch(kM)}:Cv;function kM(n){setTimeout(function(){throw n})}function oi(n){return n==="head"}function Dv(n,r){var o=r,c=0;do{var h=o.nextSibling;if(n.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"||o==="/&"){if(c===0){n.removeChild(h),po(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Ll(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,Ll(o);for(var m=o.firstChild;m;){var w=m.nextSibling,O=m.nodeName;m[el]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=w}}else o==="body"&&Ll(n.ownerDocument.body);o=h}while(o);po(r)}function Ev(n,r){var o=n;n=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=c}while(o)}function Sp(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Sp(o),Df(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function PM(n,r,o,c){for(;n.nodeType===1;){var h=o;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[el])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=ks(n.nextSibling),n===null)break}return null}function AM(n,r,o){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=ks(n.nextSibling),n===null))return null;return n}function Mv(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=ks(n.nextSibling),n===null))return null;return n}function wp(n){return n.data==="$?"||n.data==="$~"}function jp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function OM(n,r){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function ks(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var Cp=null;function kv(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(r===0)return ks(n.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}n=n.nextSibling}return null}function Pv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return n;r--}else o!=="/$"&&o!=="/&"||r++}n=n.previousSibling}return null}function Av(n,r,o){switch(r=Gu(o),n){case"html":if(n=r.documentElement,!n)throw Error(i(452));return n;case"head":if(n=r.head,!n)throw Error(i(453));return n;case"body":if(n=r.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function Ll(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Df(n)}var Ps=new Map,Ov=new Set;function $u(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Pr=I.d;I.d={f:RM,r:IM,D:BM,C:LM,L:NM,m:FM,X:_M,S:HM,M:zM};function RM(){var n=Pr.f(),r=Hu();return n||r}function IM(n){var r=Oa(n);r!==null&&r.tag===5&&r.type==="form"?Q0(r):Pr.r(n)}var uo=typeof document>"u"?null:document;function Rv(n,r,o){var c=uo;if(c&&typeof r=="string"&&r){var h=ws(r);h='link[rel="'+n+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),Ov.has(h)||(Ov.add(h),n={rel:n,crossOrigin:o,href:r},c.querySelector(h)===null&&(r=c.createElement("link"),Pn(r,"link",n),wn(r),c.head.appendChild(r)))}}function BM(n){Pr.D(n),Rv("dns-prefetch",n,null)}function LM(n,r){Pr.C(n,r),Rv("preconnect",n,r)}function NM(n,r,o){Pr.L(n,r,o);var c=uo;if(c&&n&&r){var h='link[rel="preload"][as="'+ws(r)+'"]';r==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+ws(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+ws(o.imageSizes)+'"]')):h+='[href="'+ws(n)+'"]';var m=h;switch(r){case"style":m=fo(n);break;case"script":m=ho(n)}Ps.has(m)||(n=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:n,as:r},o),Ps.set(m,n),c.querySelector(h)!==null||r==="style"&&c.querySelector(Nl(m))||r==="script"&&c.querySelector(Fl(m))||(r=c.createElement("link"),Pn(r,"link",n),wn(r),c.head.appendChild(r)))}}function FM(n,r){Pr.m(n,r);var o=uo;if(o&&n){var c=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+ws(c)+'"][href="'+ws(n)+'"]',m=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ho(n)}if(!Ps.has(m)&&(n=v({rel:"modulepreload",href:n},r),Ps.set(m,n),o.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Fl(m)))return}c=o.createElement("link"),Pn(c,"link",n),wn(c),o.head.appendChild(c)}}}function HM(n,r,o){Pr.S(n,r,o);var c=uo;if(c&&n){var h=Ra(c).hoistableStyles,m=fo(n);r=r||"default";var w=h.get(m);if(!w){var O={loading:0,preload:null};if(w=c.querySelector(Nl(m)))O.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":r},o),(o=Ps.get(m))&&Tp(n,o);var G=w=c.createElement("link");wn(G),Pn(G,"link",n),G._p=new Promise(function(re,ue){G.onload=re,G.onerror=ue}),G.addEventListener("load",function(){O.loading|=1}),G.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Qu(w,r,c)}w={type:"stylesheet",instance:w,count:1,state:O},h.set(m,w)}}}function _M(n,r){Pr.X(n,r);var o=uo;if(o&&n){var c=Ra(o).hoistableScripts,h=ho(n),m=c.get(h);m||(m=o.querySelector(Fl(h)),m||(n=v({src:n,async:!0},r),(r=Ps.get(h))&&Dp(n,r),m=o.createElement("script"),wn(m),Pn(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(h,m))}}function zM(n,r){Pr.M(n,r);var o=uo;if(o&&n){var c=Ra(o).hoistableScripts,h=ho(n),m=c.get(h);m||(m=o.querySelector(Fl(h)),m||(n=v({src:n,async:!0,type:"module"},r),(r=Ps.get(h))&&Dp(n,r),m=o.createElement("script"),wn(m),Pn(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(h,m))}}function Iv(n,r,o,c){var h=(h=Ve.current)?$u(h):null;if(!h)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=fo(o.href),o=Ra(h).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=fo(o.href);var m=Ra(h).hoistableStyles,w=m.get(n);if(w||(h=h.ownerDocument||h,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,w),(m=h.querySelector(Nl(n)))&&!m._p&&(w.instance=m,w.state.loading=5),Ps.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Ps.set(n,o),m||WM(h,n,o,w.state))),r&&c===null)throw Error(i(528,""));return w}if(r&&c!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ho(o),o=Ra(h).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function fo(n){return'href="'+ws(n)+'"'}function Nl(n){return'link[rel="stylesheet"]['+n+"]"}function Bv(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function WM(n,r,o,c){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=n.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),Pn(r,"link",o),wn(r),n.head.appendChild(r))}function ho(n){return'[src="'+ws(n)+'"]'}function Fl(n){return"script[async]"+n}function Lv(n,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=n.querySelector('style[data-href~="'+ws(o.href)+'"]');if(c)return r.instance=c,wn(c),c;var h=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),wn(c),Pn(c,"style",h),Qu(c,o.precedence,n),r.instance=c;case"stylesheet":h=fo(o.href);var m=n.querySelector(Nl(h));if(m)return r.state.loading|=4,r.instance=m,wn(m),m;c=Bv(o),(h=Ps.get(h))&&Tp(c,h),m=(n.ownerDocument||n).createElement("link"),wn(m);var w=m;return w._p=new Promise(function(O,G){w.onload=O,w.onerror=G}),Pn(m,"link",c),r.state.loading|=4,Qu(m,o.precedence,n),r.instance=m;case"script":return m=ho(o.src),(h=n.querySelector(Fl(m)))?(r.instance=h,wn(h),h):(c=o,(h=Ps.get(m))&&(c=v({},o),Dp(c,h)),n=n.ownerDocument||n,h=n.createElement("script"),wn(h),Pn(h,"link",c),n.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Qu(c,o.precedence,n));return r.instance}function Qu(n,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,m=h,w=0;w<c.length;w++){var O=c[w];if(O.dataset.precedence===r)m=O;else if(m!==h)break}m?m.parentNode.insertBefore(n,m.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(n,r.firstChild))}function Tp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Dp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Ku=null;function Nv(n,r,o){if(Ku===null){var c=new Map,h=Ku=new Map;h.set(o,c)}else h=Ku,c=h.get(o),c||(c=new Map,h.set(o,c));if(c.has(n))return c;for(c.set(n,null),o=o.getElementsByTagName(n),h=0;h<o.length;h++){var m=o[h];if(!(m[el]||m[Dn]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var w=m.getAttribute(r)||"";w=n+w;var O=c.get(w);O?O.push(m):c.set(w,[m])}}return c}function Fv(n,r,o){n=n.ownerDocument||n,n.head.insertBefore(o,r==="title"?n.querySelector("head > title"):null)}function VM(n,r,o){if(o===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Hv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function YM(n,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var h=fo(c.href),m=r.querySelector(Nl(h));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=Xu.bind(n),r.then(n,n)),o.state.loading|=4,o.instance=m,wn(m);return}m=r.ownerDocument||r,c=Bv(c),(h=Ps.get(h))&&Tp(c,h),m=m.createElement("link"),wn(m);var w=m;w._p=new Promise(function(O,G){w.onload=O,w.onerror=G}),Pn(m,"link",c),o.instance=m}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=Xu.bind(n),r.addEventListener("load",o),r.addEventListener("error",o))}}var Ep=0;function UM(n,r){return n.stylesheets&&n.count===0&&Ju(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var c=setTimeout(function(){if(n.stylesheets&&Ju(n,n.stylesheets),n.unsuspend){var m=n.unsuspend;n.unsuspend=null,m()}},6e4+r);0<n.imgBytes&&Ep===0&&(Ep=62500*TM());var h=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Ju(n,n.stylesheets),n.unsuspend)){var m=n.unsuspend;n.unsuspend=null,m()}},(n.imgBytes>Ep?50:800)+r);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(c),clearTimeout(h)}}:null}function Xu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ju(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Zu=null;function Ju(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Zu=new Map,r.forEach(qM,n),Zu=null,Xu.call(n))}function qM(n,r){if(!(r.state.loading&4)){var o=Zu.get(n);if(o)var c=o.get(null);else{o=new Map,Zu.set(n,o);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var w=h[m];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),c=w)}c&&o.set(null,c)}h=r.instance,w=h.getAttribute("data-precedence"),m=o.get(w)||c,m===c&&o.set(null,h),o.set(w,h),this.count++,c=Xu.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),m?m.parentNode.insertBefore(h,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),r.state.loading|=4}}var Hl={$$typeof:k,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function GM(n,r,o,c,h,m,w,O,G){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vs(0),this.hiddenUpdates=vs(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function _v(n,r,o,c,h,m,w,O,G,re,ue,me){return n=new GM(n,r,o,w,G,re,ue,me,O),r=1,m===!0&&(r|=24),m=cs(3,null,null,r),n.current=m,m.stateNode=n,r=ah(),r.refCount++,n.pooledCache=r,r.refCount++,m.memoizedState={element:c,isDehydrated:o,cache:r},uh(m),n}function zv(n){return n?(n=Va,n):Va}function Wv(n,r,o,c,h,m){h=zv(h),c.context===null?c.context=h:c.pendingContext=h,c=Kr(r),c.payload={element:o},m=m===void 0?null:m,m!==null&&(c.callback=m),o=Xr(n,c,r),o!==null&&(ns(o,n,r),yl(o,n,r))}function Vv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function Mp(n,r){Vv(n,r),(n=n.alternate)&&Vv(n,r)}function Yv(n){if(n.tag===13||n.tag===31){var r=Bi(n,67108864);r!==null&&ns(r,n,67108864),Mp(n,67108864)}}function Uv(n){if(n.tag===13||n.tag===31){var r=ps();r=jf(r);var o=Bi(n,r);o!==null&&ns(o,n,r),Mp(n,r)}}var ed=!0;function $M(n,r,o,c){var h=F.T;F.T=null;var m=I.p;try{I.p=2,kp(n,r,o,c)}finally{I.p=m,F.T=h}}function QM(n,r,o,c){var h=F.T;F.T=null;var m=I.p;try{I.p=8,kp(n,r,o,c)}finally{I.p=m,F.T=h}}function kp(n,r,o,c){if(ed){var h=Pp(c);if(h===null)mp(n,r,c,td,o),Gv(n,c);else if(XM(h,n,r,o,c))c.stopPropagation();else if(Gv(n,c),r&4&&-1<KM.indexOf(n)){for(;h!==null;){var m=Oa(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var w=fr(m.pendingLanes);if(w!==0){var O=m;for(O.pendingLanes|=2,O.entangledLanes|=2;w;){var G=1<<31-qt(w);O.entanglements[1]|=G,w&=~G}Zs(m),(Tt&6)===0&&(Nu=xe()+500,Rl(0))}}break;case 31:case 13:O=Bi(m,2),O!==null&&ns(O,m,2),Hu(),Mp(m,2)}if(m=Pp(c),m===null&&mp(n,r,c,td,o),m===h)break;h=m}h!==null&&c.stopPropagation()}else mp(n,r,c,null,o)}}function Pp(n){return n=Of(n),Ap(n)}var td=null;function Ap(n){if(td=null,n=Aa(n),n!==null){var r=u(n);if(r===null)n=null;else{var o=r.tag;if(o===13){if(n=d(r),n!==null)return n;n=null}else if(o===31){if(n=f(r),n!==null)return n;n=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return td=n,null}function qv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(je()){case Re:return 2;case Ke:return 8;case lt:case Be:return 32;case Ge:return 268435456;default:return 32}default:return 32}}var Op=!1,li=null,ci=null,ui=null,_l=new Map,zl=new Map,di=[],KM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gv(n,r){switch(n){case"focusin":case"focusout":li=null;break;case"dragenter":case"dragleave":ci=null;break;case"mouseover":case"mouseout":ui=null;break;case"pointerover":case"pointerout":_l.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(r.pointerId)}}function Wl(n,r,o,c,h,m){return n===null||n.nativeEvent!==m?(n={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:m,targetContainers:[h]},r!==null&&(r=Oa(r),r!==null&&Yv(r)),n):(n.eventSystemFlags|=c,r=n.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),n)}function XM(n,r,o,c,h){switch(r){case"focusin":return li=Wl(li,n,r,o,c,h),!0;case"dragenter":return ci=Wl(ci,n,r,o,c,h),!0;case"mouseover":return ui=Wl(ui,n,r,o,c,h),!0;case"pointerover":var m=h.pointerId;return _l.set(m,Wl(_l.get(m)||null,n,r,o,c,h)),!0;case"gotpointercapture":return m=h.pointerId,zl.set(m,Wl(zl.get(m)||null,n,r,o,c,h)),!0}return!1}function $v(n){var r=Aa(n.target);if(r!==null){var o=u(r);if(o!==null){if(r=o.tag,r===13){if(r=d(o),r!==null){n.blockedOn=r,lx(n.priority,function(){Uv(o)});return}}else if(r===31){if(r=f(o),r!==null){n.blockedOn=r,lx(n.priority,function(){Uv(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function nd(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var o=Pp(n.nativeEvent);if(o===null){o=n.nativeEvent;var c=new o.constructor(o.type,o);Af=c,o.target.dispatchEvent(c),Af=null}else return r=Oa(o),r!==null&&Yv(r),n.blockedOn=o,!1;r.shift()}return!0}function Qv(n,r,o){nd(n)&&o.delete(r)}function ZM(){Op=!1,li!==null&&nd(li)&&(li=null),ci!==null&&nd(ci)&&(ci=null),ui!==null&&nd(ui)&&(ui=null),_l.forEach(Qv),zl.forEach(Qv)}function sd(n,r){n.blockedOn===r&&(n.blockedOn=null,Op||(Op=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ZM)))}var rd=null;function Kv(n){rd!==n&&(rd=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){rd===n&&(rd=null);for(var r=0;r<n.length;r+=3){var o=n[r],c=n[r+1],h=n[r+2];if(typeof c!="function"){if(Ap(c||o)===null)continue;break}var m=Oa(o);m!==null&&(n.splice(r,3),r-=3,Ph(m,{pending:!0,data:h,method:o.method,action:c},c,h))}}))}function po(n){function r(G){return sd(G,n)}li!==null&&sd(li,n),ci!==null&&sd(ci,n),ui!==null&&sd(ui,n),_l.forEach(r),zl.forEach(r);for(var o=0;o<di.length;o++){var c=di[o];c.blockedOn===n&&(c.blockedOn=null)}for(;0<di.length&&(o=di[0],o.blockedOn===null);)$v(o),o.blockedOn===null&&di.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var h=o[c],m=o[c+1],w=h[Kn]||null;if(typeof m=="function")w||Kv(o);else if(w){var O=null;if(m&&m.hasAttribute("formAction")){if(h=m,w=m[Kn]||null)O=w.formAction;else if(Ap(h)!==null)continue}else O=w.action;typeof O=="function"?o[c+1]=O:(o.splice(c,3),c-=3),Kv(o)}}}function Xv(){function n(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(w){return h=w})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,h=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function Rp(n){this._internalRoot=n}id.prototype.render=Rp.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,c=ps();Wv(o,c,n,r,null,null)},id.prototype.unmount=Rp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Wv(n.current,2,null,n,null,null),Hu(),r[Pa]=null}};function id(n){this._internalRoot=n}id.prototype.unstable_scheduleHydration=function(n){if(n){var r=ox();n={blockedOn:null,target:n,priority:r};for(var o=0;o<di.length&&r!==0&&r<di[o].priority;o++);di.splice(o,0,n),o===0&&$v(n)}};var Zv=t.version;if(Zv!=="19.2.0")throw Error(i(527,Zv,"19.2.0"));I.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=g(r),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var JM={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{it=ad.inject(JM),at=ad}catch{}}return Vl.createRoot=function(n,r){if(!l(n))throw Error(i(299));var o=!1,c="",h=ib,m=ab,w=ob;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError)),r=_v(n,1,!1,null,null,o,c,null,h,m,w,Xv),n[Pa]=r.current,pp(n),new Rp(r)},Vl.hydrateRoot=function(n,r,o){if(!l(n))throw Error(i(299));var c=!1,h="",m=ib,w=ab,O=ob,G=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError),o.formState!==void 0&&(G=o.formState)),r=_v(n,1,!0,r,o??null,c,h,G,m,w,O,Xv),r.context=zv(null),o=r.current,c=ps(),c=jf(c),h=Kr(c),h.callback=null,Xr(o,h,c),o=c,r.current.lanes=o,Wr(r,o),Zs(r),n[Pa]=r.current,pp(n),new id(r)},Vl.version="19.2.0",Vl}var aS;function tP(){if(aS)return _p.exports;aS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),_p.exports=eP(),_p.exports}var nP=tP();const sP=aj(nP);var oj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},oS=xi.createContext&&xi.createContext(oj),rP=["attr","size","title"];function iP(e,t){if(e==null)return{};var s=aP(e,t),i,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)i=u[l],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(s[i]=e[i])}return s}function aP(e,t){if(e==null)return{};var s={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;s[i]=e[i]}return s}function Ad(){return Ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},Ad.apply(this,arguments)}function lS(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),s.push.apply(s,i)}return s}function Od(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?lS(Object(s),!0).forEach(function(i){oP(e,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):lS(Object(s)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(s,i))})}return e}function oP(e,t,s){return t=lP(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function lP(e){var t=cP(e,"string");return typeof t=="symbol"?t:t+""}function cP(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var i=s.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lj(e){return e&&e.map((t,s)=>xi.createElement(t.tag,Od({key:s},t.attr),lj(t.child)))}function Wo(e){return t=>xi.createElement(uP,Ad({attr:Od({},e.attr)},t),lj(e.child))}function uP(e){var t=s=>{var{attr:i,size:l,title:u}=e,d=iP(e,rP),f=l||s.size||"1em",p;return s.className&&(p=s.className),e.className&&(p=(p?p+" ":"")+e.className),xi.createElement("svg",Ad({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,i,d,{className:p,style:Od(Od({color:e.color||s.color},s.style),e.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),u&&xi.createElement("title",null,u),e.children)};return oS!==void 0?xi.createElement(oS.Consumer,null,s=>t(s)):t(oj)}function dP(e){return Wo({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 16h4c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1v-1a2 2 0 1 0-4 0v1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1zm.8-6c0-.66.54-1.2 1.2-1.2.66 0 1.2.54 1.2 1.2v1h-2.4v-1zM17 1H7c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 18H7V5h10v14z"},child:[]}]})(e)}function fP(e){return Wo({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m23.25 12.77-2.57-2.57-1.41 1.41 2.22 2.22-5.66 5.66L4.51 8.17l5.66-5.66 2.1 2.1 1.41-1.41L11.23.75a1.49 1.49 0 0 0-2.12 0L2.75 7.11a1.49 1.49 0 0 0 0 2.12l12.02 12.02c.59.59 1.54.59 2.12 0l6.36-6.36c.59-.59.59-1.54 0-2.12zM8.47 20.48A10.487 10.487 0 0 1 2.5 12H1c.51 6.16 5.66 11 11.95 11l.66-.03-3.81-3.82-1.33 1.33zM16 9h5c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1v-.5a2.5 2.5 0 0 0-5 0V3c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1zm.8-6.5c0-.94.76-1.7 1.7-1.7s1.7.76 1.7 1.7V3h-3.4v-.5z"},child:[]}]})(e)}class hP{constructor(){this.audioContext=null,this.isMuted=this.loadMutePreference(),this.volume=this.loadVolumePreference(),this.sounds={},this.initAudioContext()}initAudioContext(){if(!this.audioContext&&typeof window<"u")try{this.audioContext=new(window.AudioContext||window.webkitAudioContext)}catch(t){console.warn("Web Audio API not supported",t)}}loadMutePreference(){try{return localStorage.getItem("audioMuted")==="true"}catch{return!1}}loadVolumePreference(){try{const t=localStorage.getItem("audioVolume");return t?parseFloat(t):.3}catch{return .3}}saveMutePreference(){try{localStorage.setItem("audioMuted",this.isMuted.toString())}catch(t){console.warn("Could not save mute preference",t)}}toggleMute(){return this.isMuted=!this.isMuted,this.saveMutePreference(),this.isMuted}setMuted(t){this.isMuted=t,this.saveMutePreference()}isMutedState(){return this.isMuted}playBeep(t=800,s=200,i=null){if(this.isMuted)return;const l=i!==null?i:this.loadVolumePreference();if(!(!this.audioContext&&(this.initAudioContext(),!this.audioContext)))try{this.audioContext.state==="suspended"&&this.audioContext.resume();const u=this.audioContext.createOscillator(),d=this.audioContext.createGain();u.connect(d),d.connect(this.audioContext.destination),u.frequency.value=t,u.type="sine",d.gain.setValueAtTime(l,this.audioContext.currentTime),d.gain.exponentialRampToValueAtTime(.01,this.audioContext.currentTime+s/1e3),u.start(this.audioContext.currentTime),u.stop(this.audioContext.currentTime+s/1e3)}catch(u){console.warn("Could not play beep",u)}}playHighBeep(){this.playBeep(1e3,300)}playLowBeep(){this.playBeep(400,300)}playChime(){if(!this.isMuted&&!(!this.audioContext&&(this.initAudioContext(),!this.audioContext)))try{this.audioContext.state==="suspended"&&this.audioContext.resume(),this.playBeep(800,200),setTimeout(()=>{this.playBeep(1e3,400)},150)}catch(t){console.warn("Could not play chime",t)}}playCountdownBeep(){this.isMuted||(this.playBeep(600,150),setTimeout(()=>this.playBeep(600,150),200),setTimeout(()=>this.playBeep(600,150),400))}playCompletionFanfare(){if(!this.isMuted&&!(!this.audioContext&&(this.initAudioContext(),!this.audioContext)))try{this.audioContext.state==="suspended"&&this.audioContext.resume(),[523,659,784,1047].forEach((s,i)=>{setTimeout(()=>{this.playBeep(s,300)},i*150)})}catch(t){console.warn("Could not play completion fanfare",t)}}playTransitionBeep(){this.isMuted||this.playBeep(700,200)}}const Ct=new hP;class pP{constructor(){this.wakeLock=null,this.isSupported="wakeLock"in navigator}isWakeLockSupported(){return this.isSupported}async requestWakeLock(){if(!this.isSupported)return console.warn("Wake Lock API is not supported in this browser"),!1;try{return this.wakeLock=await navigator.wakeLock.request("screen"),console.log("Wake Lock acquired"),this.wakeLock.addEventListener("release",()=>{console.log("Wake Lock released")}),!0}catch(t){return console.error(`Failed to acquire wake lock: ${t.name}, ${t.message}`),!1}}async releaseWakeLock(){if(this.wakeLock!==null)try{await this.wakeLock.release(),this.wakeLock=null,console.log("Wake Lock manually released")}catch(t){console.error(`Failed to release wake lock: ${t.message}`)}}isActive(){return this.wakeLock!==null&&!this.wakeLock.released}async reacquireOnVisibilityChange(){if(!this.isSupported)return;const t=async()=>{document.visibilityState==="visible"&&this.wakeLock!==null&&this.wakeLock.released&&await this.requestWakeLock()};return document.addEventListener("visibilitychange",t),()=>{document.removeEventListener("visibilitychange",t)}}}const Un=new pP,cj=({onNavigate:e})=>{const[t,s]=x.useState(Ct.isMutedState()),[i,l]=x.useState(Un.isActive()),[u]=x.useState(Un.isWakeLockSupported());x.useEffect(()=>{const p=Un.reacquireOnVisibilityChange();return()=>{p&&p.then(g=>g&&g())}},[]);const d=()=>{const p=Ct.toggleMute();s(p)},f=async()=>{if(i)await Un.releaseWakeLock(),l(!1);else{const p=await Un.requestWakeLock();l(p)}};return a.jsxs(Y,{component:"header",sx:{position:"fixed",top:0,left:0,right:0,height:"60px",display:"flex",alignItems:"center",justifyContent:"center",padding:"0 1rem",background:"#2a3647",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)",zIndex:100,transition:"left 0.3s ease",borderBottom:"1px solid rgba(29, 181, 132, 0.2)"},children:[a.jsx(Y,{onClick:()=>e&&e("progress"),sx:{display:"flex",alignItems:"center",justifyContent:"center",cursor:e?"pointer":"default",transition:"transform 0.2s ease","&:hover":e?{transform:"scale(1.05)"}:{},"&:active":e?{transform:"scale(0.98)"}:{}},"aria-label":e?"Go to Progress screen":void 0,role:e?"button":void 0,tabIndex:e?0:void 0,onKeyDown:e?p=>{(p.key==="Enter"||p.key===" ")&&(p.preventDefault(),e("progress"))}:void 0,children:a.jsx("img",{src:"/goodlift/goodlift-favicon.svg",alt:"GoodLift",style:{height:"40px",width:"40px",display:"block"}})}),a.jsxs(Y,{sx:{position:"absolute",right:"1rem",display:"flex",alignItems:"center",gap:.5},children:[a.jsx(ss,{title:t?"Unmute sounds":"Mute sounds",children:a.jsx(rt,{onClick:d,sx:{color:t?"grey.500":"primary.main",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{backgroundColor:"rgba(29, 181, 132, 0.15)"}},"aria-label":t?"Unmute sounds":"Mute sounds",children:t?a.jsx(Y1,{}):a.jsx(hg,{})})}),u&&a.jsx(ss,{title:i?"Screen kept awake":"Allow screen sleep",children:a.jsx(rt,{onClick:f,sx:{color:i?"secondary.main":"grey.500",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{backgroundColor:"rgba(255, 140, 0, 0.15)"}},"aria-label":i?"Release wake lock":"Keep screen awake",children:i?a.jsx(fP,{size:24}):a.jsx(dP,{size:24})})})]})]})};cj.propTypes={onNavigate:H.func};const bg=x.createContext({});function Sa(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const vg=typeof window<"u",Sg=vg?x.useLayoutEffect:x.useEffect,Xd=x.createContext(null);function wg(e,t){e.indexOf(t)===-1&&e.push(t)}function jg(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}function mP([...e],t,s){const i=t<0?e.length+t:t;if(i>=0&&i<e.length){const l=s<0?e.length+s:s,[u]=e.splice(t,1);e.splice(l,0,u)}return e}const Br=(e,t,s)=>s>t?t:s<e?e:s;let Cg=()=>{};const Lr={},uj=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function dj(e){return typeof e=="object"&&e!==null}const fj=e=>/^0[^.\s]+$/u.test(e);function Tg(e){let t;return()=>(t===void 0&&(t=e()),t)}const Fs=e=>e,gP=(e,t)=>s=>t(e(s)),Lc=(...e)=>e.reduce(gP),mc=(e,t,s)=>{const i=t-e;return i===0?1:(s-e)/i};class Dg{constructor(){this.subscriptions=[]}add(t){return wg(this.subscriptions,t),()=>jg(this.subscriptions,t)}notify(t,s,i){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](t,s,i);else for(let u=0;u<l;u++){const d=this.subscriptions[u];d&&d(t,s,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rr=e=>e*1e3,Ls=e=>e/1e3;function hj(e,t){return t?e*(1e3/t):0}const pj=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,yP=1e-7,xP=12;function bP(e,t,s,i,l){let u,d,f=0;do d=t+(s-t)/2,u=pj(d,i,l)-e,u>0?s=d:t=d;while(Math.abs(u)>yP&&++f<xP);return d}function Nc(e,t,s,i){if(e===t&&s===i)return Fs;const l=u=>bP(u,0,1,e,s);return u=>u===0||u===1?u:pj(l(u),t,i)}const mj=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,gj=e=>t=>1-e(1-t),yj=Nc(.33,1.53,.69,.99),Eg=gj(yj),xj=mj(Eg),bj=e=>(e*=2)<1?.5*Eg(e):.5*(2-Math.pow(2,-10*(e-1))),Mg=e=>1-Math.sin(Math.acos(e)),vj=gj(Mg),Sj=mj(Mg),vP=Nc(.42,0,1,1),SP=Nc(0,0,.58,1),wj=Nc(.42,0,.58,1),wP=e=>Array.isArray(e)&&typeof e[0]!="number",jj=e=>Array.isArray(e)&&typeof e[0]=="number",jP={linear:Fs,easeIn:vP,easeInOut:wj,easeOut:SP,circIn:Mg,circInOut:Sj,circOut:vj,backIn:Eg,backInOut:xj,backOut:yj,anticipate:bj},CP=e=>typeof e=="string",cS=e=>{if(jj(e)){Cg(e.length===4);const[t,s,i,l]=e;return Nc(t,s,i,l)}else if(CP(e))return jP[e];return e},cd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function TP(e,t){let s=new Set,i=new Set,l=!1,u=!1;const d=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function p(y){d.has(y)&&(g.schedule(y),e()),y(f)}const g={schedule:(y,v=!1,b=!1)=>{const j=b&&l?s:i;return v&&d.add(y),j.has(y)||j.add(y),y},cancel:y=>{i.delete(y),d.delete(y)},process:y=>{if(f=y,l){u=!0;return}l=!0,[s,i]=[i,s],s.forEach(p),s.clear(),l=!1,u&&(u=!1,g.process(y))}};return g}const DP=40;function Cj(e,t){let s=!1,i=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=()=>s=!0,d=cd.reduce((k,P)=>(k[P]=TP(u),k),{}),{setup:f,read:p,resolveKeyframes:g,preUpdate:y,update:v,preRender:b,render:S,postRender:j}=d,D=()=>{const k=Lr.useManualTiming?l.timestamp:performance.now();s=!1,Lr.useManualTiming||(l.delta=i?1e3/60:Math.max(Math.min(k-l.timestamp,DP),1)),l.timestamp=k,l.isProcessing=!0,f.process(l),p.process(l),g.process(l),y.process(l),v.process(l),b.process(l),S.process(l),j.process(l),l.isProcessing=!1,s&&t&&(i=!1,e(D))},T=()=>{s=!0,i=!0,l.isProcessing||e(D)};return{schedule:cd.reduce((k,P)=>{const N=d[P];return k[P]=(W,E=!1,L=!1)=>(s||T(),N.schedule(W,E,L)),k},{}),cancel:k=>{for(let P=0;P<cd.length;P++)d[cd[P]].cancel(k)},state:l,steps:d}}const{schedule:Ut,cancel:Nr,state:An,steps:Vp}=Cj(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fs,!0);let Cd;function EP(){Cd=void 0}const is={now:()=>(Cd===void 0&&is.set(An.isProcessing||Lr.useManualTiming?An.timestamp:performance.now()),Cd),set:e=>{Cd=e,queueMicrotask(EP)}},Tj=e=>t=>typeof t=="string"&&t.startsWith(e),kg=Tj("--"),MP=Tj("var(--"),Pg=e=>MP(e)?kP.test(e.split("/*")[0].trim()):!1,kP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Vo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},gc={...Vo,transform:e=>Br(0,1,e)},ud={...Vo,default:1},nc=e=>Math.round(e*1e5)/1e5,Ag=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function PP(e){return e==null}const AP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Og=(e,t)=>s=>!!(typeof s=="string"&&AP.test(s)&&s.startsWith(e)||t&&!PP(s)&&Object.prototype.hasOwnProperty.call(s,t)),Dj=(e,t,s)=>i=>{if(typeof i!="string")return i;const[l,u,d,f]=i.match(Ag);return{[e]:parseFloat(l),[t]:parseFloat(u),[s]:parseFloat(d),alpha:f!==void 0?parseFloat(f):1}},OP=e=>Br(0,255,e),Yp={...Vo,transform:e=>Math.round(OP(e))},na={test:Og("rgb","red"),parse:Dj("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:i=1})=>"rgba("+Yp.transform(e)+", "+Yp.transform(t)+", "+Yp.transform(s)+", "+nc(gc.transform(i))+")"};function RP(e){let t="",s="",i="",l="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),i=e.substring(5,7),l=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),i=e.substring(3,4),l=e.substring(4,5),t+=t,s+=s,i+=i,l+=l),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(i,16),alpha:l?parseInt(l,16)/255:1}}const xm={test:Og("#"),parse:RP,transform:na.transform},Fc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),mi=Fc("deg"),ir=Fc("%"),Je=Fc("px"),IP=Fc("vh"),BP=Fc("vw"),uS={...ir,parse:e=>ir.parse(e)/100,transform:e=>ir.transform(e*100)},So={test:Og("hsl","hue"),parse:Dj("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:i=1})=>"hsla("+Math.round(e)+", "+ir.transform(nc(t))+", "+ir.transform(nc(s))+", "+nc(gc.transform(i))+")"},gn={test:e=>na.test(e)||xm.test(e)||So.test(e),parse:e=>na.test(e)?na.parse(e):So.test(e)?So.parse(e):xm.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?na.transform(e):So.transform(e),getAnimatableNone:e=>{const t=gn.parse(e);return t.alpha=0,gn.transform(t)}},LP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function NP(e){return isNaN(e)&&typeof e=="string"&&(e.match(Ag)?.length||0)+(e.match(LP)?.length||0)>0}const Ej="number",Mj="color",FP="var",HP="var(",dS="${}",_P=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yc(e){const t=e.toString(),s=[],i={color:[],number:[],var:[]},l=[];let u=0;const f=t.replace(_P,p=>(gn.test(p)?(i.color.push(u),l.push(Mj),s.push(gn.parse(p))):p.startsWith(HP)?(i.var.push(u),l.push(FP),s.push(p)):(i.number.push(u),l.push(Ej),s.push(parseFloat(p))),++u,dS)).split(dS);return{values:s,split:f,indexes:i,types:l}}function kj(e){return yc(e).values}function Pj(e){const{split:t,types:s}=yc(e),i=t.length;return l=>{let u="";for(let d=0;d<i;d++)if(u+=t[d],l[d]!==void 0){const f=s[d];f===Ej?u+=nc(l[d]):f===Mj?u+=gn.transform(l[d]):u+=l[d]}return u}}const zP=e=>typeof e=="number"?0:gn.test(e)?gn.getAnimatableNone(e):e;function WP(e){const t=kj(e);return Pj(e)(t.map(zP))}const Si={test:NP,parse:kj,createTransformer:Pj,getAnimatableNone:WP};function Up(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function VP({hue:e,saturation:t,lightness:s,alpha:i}){e/=360,t/=100,s/=100;let l=0,u=0,d=0;if(!t)l=u=d=s;else{const f=s<.5?s*(1+t):s+t-s*t,p=2*s-f;l=Up(p,f,e+1/3),u=Up(p,f,e),d=Up(p,f,e-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(d*255),alpha:i}}function Rd(e,t){return s=>s>0?t:e}const Kt=(e,t,s)=>e+(t-e)*s,qp=(e,t,s)=>{const i=e*e,l=s*(t*t-i)+i;return l<0?0:Math.sqrt(l)},YP=[xm,na,So],UP=e=>YP.find(t=>t.test(e));function fS(e){const t=UP(e);if(!t)return!1;let s=t.parse(e);return t===So&&(s=VP(s)),s}const hS=(e,t)=>{const s=fS(e),i=fS(t);if(!s||!i)return Rd(e,t);const l={...s};return u=>(l.red=qp(s.red,i.red,u),l.green=qp(s.green,i.green,u),l.blue=qp(s.blue,i.blue,u),l.alpha=Kt(s.alpha,i.alpha,u),na.transform(l))},bm=new Set(["none","hidden"]);function qP(e,t){return bm.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function GP(e,t){return s=>Kt(e,t,s)}function Rg(e){return typeof e=="number"?GP:typeof e=="string"?Pg(e)?Rd:gn.test(e)?hS:KP:Array.isArray(e)?Aj:typeof e=="object"?gn.test(e)?hS:$P:Rd}function Aj(e,t){const s=[...e],i=s.length,l=e.map((u,d)=>Rg(u)(u,t[d]));return u=>{for(let d=0;d<i;d++)s[d]=l[d](u);return s}}function $P(e,t){const s={...e,...t},i={};for(const l in s)e[l]!==void 0&&t[l]!==void 0&&(i[l]=Rg(e[l])(e[l],t[l]));return l=>{for(const u in i)s[u]=i[u](l);return s}}function QP(e,t){const s=[],i={color:0,var:0,number:0};for(let l=0;l<t.values.length;l++){const u=t.types[l],d=e.indexes[u][i[u]],f=e.values[d]??0;s[l]=f,i[u]++}return s}const KP=(e,t)=>{const s=Si.createTransformer(t),i=yc(e),l=yc(t);return i.indexes.var.length===l.indexes.var.length&&i.indexes.color.length===l.indexes.color.length&&i.indexes.number.length>=l.indexes.number.length?bm.has(e)&&!l.values.length||bm.has(t)&&!i.values.length?qP(e,t):Lc(Aj(QP(i,l),l.values),s):Rd(e,t)};function Oj(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?Kt(e,t,s):Rg(e)(e,t)}const XP=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>Ut.update(t,s),stop:()=>Nr(t),now:()=>An.isProcessing?An.timestamp:is.now()}},Rj=(e,t,s=10)=>{let i="";const l=Math.max(Math.round(t/s),2);for(let u=0;u<l;u++)i+=Math.round(e(u/(l-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Id=2e4;function Ig(e){let t=0;const s=50;let i=e.next(t);for(;!i.done&&t<Id;)t+=s,i=e.next(t);return t>=Id?1/0:t}function ZP(e,t=100,s){const i=s({...e,keyframes:[0,t]}),l=Math.min(Ig(i),Id);return{type:"keyframes",ease:u=>i.next(l*u).value/t,duration:Ls(l)}}const JP=5;function Ij(e,t,s){const i=Math.max(t-JP,0);return hj(s-e(i),t-i)}const nn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Gp=.001;function eA({duration:e=nn.duration,bounce:t=nn.bounce,velocity:s=nn.velocity,mass:i=nn.mass}){let l,u,d=1-t;d=Br(nn.minDamping,nn.maxDamping,d),e=Br(nn.minDuration,nn.maxDuration,Ls(e)),d<1?(l=g=>{const y=g*d,v=y*e,b=y-s,S=vm(g,d),j=Math.exp(-v);return Gp-b/S*j},u=g=>{const v=g*d*e,b=v*s+s,S=Math.pow(d,2)*Math.pow(g,2)*e,j=Math.exp(-v),D=vm(Math.pow(g,2),d);return(-l(g)+Gp>0?-1:1)*((b-S)*j)/D}):(l=g=>{const y=Math.exp(-g*e),v=(g-s)*e+1;return-Gp+y*v},u=g=>{const y=Math.exp(-g*e),v=(s-g)*(e*e);return y*v});const f=5/e,p=nA(l,u,f);if(e=rr(e),isNaN(p))return{stiffness:nn.stiffness,damping:nn.damping,duration:e};{const g=Math.pow(p,2)*i;return{stiffness:g,damping:d*2*Math.sqrt(i*g),duration:e}}}const tA=12;function nA(e,t,s){let i=s;for(let l=1;l<tA;l++)i=i-e(i)/t(i);return i}function vm(e,t){return e*Math.sqrt(1-t*t)}const sA=["duration","bounce"],rA=["stiffness","damping","mass"];function pS(e,t){return t.some(s=>e[s]!==void 0)}function iA(e){let t={velocity:nn.velocity,stiffness:nn.stiffness,damping:nn.damping,mass:nn.mass,isResolvedFromDuration:!1,...e};if(!pS(e,rA)&&pS(e,sA))if(e.visualDuration){const s=e.visualDuration,i=2*Math.PI/(s*1.2),l=i*i,u=2*Br(.05,1,1-(e.bounce||0))*Math.sqrt(l);t={...t,mass:nn.mass,stiffness:l,damping:u}}else{const s=eA(e);t={...t,...s,mass:nn.mass},t.isResolvedFromDuration=!0}return t}function Bd(e=nn.visualDuration,t=nn.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:l}=s;const u=s.keyframes[0],d=s.keyframes[s.keyframes.length-1],f={done:!1,value:u},{stiffness:p,damping:g,mass:y,duration:v,velocity:b,isResolvedFromDuration:S}=iA({...s,velocity:-Ls(s.velocity||0)}),j=b||0,D=g/(2*Math.sqrt(p*y)),T=d-u,C=Ls(Math.sqrt(p/y)),M=Math.abs(T)<5;i||(i=M?nn.restSpeed.granular:nn.restSpeed.default),l||(l=M?nn.restDelta.granular:nn.restDelta.default);let k;if(D<1){const N=vm(C,D);k=W=>{const E=Math.exp(-D*C*W);return d-E*((j+D*C*T)/N*Math.sin(N*W)+T*Math.cos(N*W))}}else if(D===1)k=N=>d-Math.exp(-C*N)*(T+(j+C*T)*N);else{const N=C*Math.sqrt(D*D-1);k=W=>{const E=Math.exp(-D*C*W),L=Math.min(N*W,300);return d-E*((j+D*C*T)*Math.sinh(L)+N*T*Math.cosh(L))/N}}const P={calculatedDuration:S&&v||null,next:N=>{const W=k(N);if(S)f.done=N>=v;else{let E=N===0?j:0;D<1&&(E=N===0?rr(j):Ij(k,N,W));const L=Math.abs(E)<=i,_=Math.abs(d-W)<=l;f.done=L&&_}return f.value=f.done?d:W,f},toString:()=>{const N=Math.min(Ig(P),Id),W=Rj(E=>P.next(N*E).value,N,30);return N+"ms "+W},toTransition:()=>{}};return P}Bd.applyToOptions=e=>{const t=ZP(e,100,Bd);return e.ease=t.ease,e.duration=rr(t.duration),e.type="keyframes",e};function Sm({keyframes:e,velocity:t=0,power:s=.8,timeConstant:i=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:d,min:f,max:p,restDelta:g=.5,restSpeed:y}){const v=e[0],b={done:!1,value:v},S=L=>f!==void 0&&L<f||p!==void 0&&L>p,j=L=>f===void 0?p:p===void 0||Math.abs(f-L)<Math.abs(p-L)?f:p;let D=s*t;const T=v+D,C=d===void 0?T:d(T);C!==T&&(D=C-v);const M=L=>-D*Math.exp(-L/i),k=L=>C+M(L),P=L=>{const _=M(L),B=k(L);b.done=Math.abs(_)<=g,b.value=b.done?C:B};let N,W;const E=L=>{S(b.value)&&(N=L,W=Bd({keyframes:[b.value,j(b.value)],velocity:Ij(k,L,b.value),damping:l,stiffness:u,restDelta:g,restSpeed:y}))};return E(0),{calculatedDuration:null,next:L=>{let _=!1;return!W&&N===void 0&&(_=!0,P(L),E(L)),N!==void 0&&L>=N?W.next(L-N):(!_&&P(L),b)}}}function aA(e,t,s){const i=[],l=s||Lr.mix||Oj,u=e.length-1;for(let d=0;d<u;d++){let f=l(e[d],e[d+1]);if(t){const p=Array.isArray(t)?t[d]||Fs:t;f=Lc(p,f)}i.push(f)}return i}function Bj(e,t,{clamp:s=!0,ease:i,mixer:l}={}){const u=e.length;if(Cg(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const d=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=aA(t,i,l),p=f.length,g=y=>{if(d&&y<e[0])return t[0];let v=0;if(p>1)for(;v<e.length-2&&!(y<e[v+1]);v++);const b=mc(e[v],e[v+1],y);return f[v](b)};return s?y=>g(Br(e[0],e[u-1],y)):g}function oA(e,t){const s=e[e.length-1];for(let i=1;i<=t;i++){const l=mc(0,t,i);e.push(Kt(s,1,l))}}function lA(e){const t=[0];return oA(t,e.length-1),t}function cA(e,t){return e.map(s=>s*t)}function uA(e,t){return e.map(()=>t||wj).splice(0,e.length-1)}function sc({duration:e=300,keyframes:t,times:s,ease:i="easeInOut"}){const l=wP(i)?i.map(cS):cS(i),u={done:!1,value:t[0]},d=cA(s&&s.length===t.length?s:lA(t),e),f=Bj(d,t,{ease:Array.isArray(l)?l:uA(t,l)});return{calculatedDuration:e,next:p=>(u.value=f(p),u.done=p>=e,u)}}const dA=e=>e!==null;function Bg(e,{repeat:t,repeatType:s="loop"},i,l=1){const u=e.filter(dA),f=l<0||t&&s!=="loop"&&t%2===1?0:u.length-1;return!f||i===void 0?u[f]:i}const fA={decay:Sm,inertia:Sm,tween:sc,keyframes:sc,spring:Bd};function Lj(e){typeof e.type=="string"&&(e.type=fA[e.type])}class Lg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const hA=e=>e/100;class Ng extends Lg{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==is.now()&&this.tick(is.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Lj(t);const{type:s=sc,repeat:i=0,repeatDelay:l=0,repeatType:u,velocity:d=0}=t;let{keyframes:f}=t;const p=s||sc;p!==sc&&typeof f[0]!="number"&&(this.mixKeyframes=Lc(hA,Oj(f[0],f[1])),f=[0,100]);const g=p({...t,keyframes:f});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...f].reverse(),velocity:-d})),g.calculatedDuration===null&&(g.calculatedDuration=Ig(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+l,this.totalDuration=this.resolvedDuration*(i+1)-l,this.generator=g}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:i,totalDuration:l,mixKeyframes:u,mirroredGenerator:d,resolvedDuration:f,calculatedDuration:p}=this;if(this.startTime===null)return i.next(0);const{delay:g=0,keyframes:y,repeat:v,repeatType:b,repeatDelay:S,type:j,onUpdate:D,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-l/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const C=this.currentTime-g*(this.playbackSpeed>=0?1:-1),M=this.playbackSpeed>=0?C<0:C>l;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let k=this.currentTime,P=i;if(v){const L=Math.min(this.currentTime,l)/f;let _=Math.floor(L),B=L%1;!B&&L>=1&&(B=1),B===1&&_--,_=Math.min(_,v+1),!!(_%2)&&(b==="reverse"?(B=1-B,S&&(B-=S/f)):b==="mirror"&&(P=d)),k=Br(0,1,B)*f}const N=M?{done:!1,value:y[0]}:P.next(k);u&&(N.value=u(N.value));let{done:W}=N;!M&&p!==null&&(W=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&W);return E&&j!==Sm&&(N.value=Bg(y,this.options,T,this.speed)),D&&D(N.value),E&&this.finish(),N}then(t,s){return this.finished.then(t,s)}get duration(){return Ls(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ls(t)}get time(){return Ls(this.currentTime)}set time(t){t=rr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(is.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=Ls(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=XP,startTime:s}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=s??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(is.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function pA(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const sa=e=>e*180/Math.PI,wm=e=>{const t=sa(Math.atan2(e[1],e[0]));return jm(t)},mA={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:wm,rotateZ:wm,skewX:e=>sa(Math.atan(e[1])),skewY:e=>sa(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},jm=e=>(e=e%360,e<0&&(e+=360),e),mS=wm,gS=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),yS=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),gA={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:gS,scaleY:yS,scale:e=>(gS(e)+yS(e))/2,rotateX:e=>jm(sa(Math.atan2(e[6],e[5]))),rotateY:e=>jm(sa(Math.atan2(-e[2],e[0]))),rotateZ:mS,rotate:mS,skewX:e=>sa(Math.atan(e[4])),skewY:e=>sa(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Cm(e){return e.includes("scale")?1:0}function Tm(e,t){if(!e||e==="none")return Cm(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,l;if(s)i=gA,l=s;else{const f=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=mA,l=f}if(!l)return Cm(t);const u=i[t],d=l[1].split(",").map(xA);return typeof u=="function"?u(d):d[u]}const yA=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return Tm(s,t)};function xA(e){return parseFloat(e.trim())}const Yo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Uo=new Set(Yo),xS=e=>e===Vo||e===Je,bA=new Set(["x","y","z"]),vA=Yo.filter(e=>!bA.has(e));function SA(e){const t=[];return vA.forEach(s=>{const i=e.getValue(s);i!==void 0&&(t.push([s,i.get()]),i.set(s.startsWith("scale")?1:0))}),t}const ia={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Tm(t,"x"),y:(e,{transform:t})=>Tm(t,"y")};ia.translateX=ia.x;ia.translateY=ia.y;const aa=new Set;let Dm=!1,Em=!1,Mm=!1;function Nj(){if(Em){const e=Array.from(aa).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),s=new Map;t.forEach(i=>{const l=SA(i);l.length&&(s.set(i,l),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const l=s.get(i);l&&l.forEach(([u,d])=>{i.getValue(u)?.set(d)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Em=!1,Dm=!1,aa.forEach(e=>e.complete(Mm)),aa.clear()}function Fj(){aa.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Em=!0)})}function wA(){Mm=!0,Fj(),Nj(),Mm=!1}class Fg{constructor(t,s,i,l,u,d=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=i,this.motionValue=l,this.element=u,this.isAsync=d}scheduleResolve(){this.state="scheduled",this.isAsync?(aa.add(this),Dm||(Dm=!0,Ut.read(Fj),Ut.resolveKeyframes(Nj))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:i,motionValue:l}=this;if(t[0]===null){const u=l?.get(),d=t[t.length-1];if(u!==void 0)t[0]=u;else if(i&&s){const f=i.readValue(s,d);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=d),l&&u===void 0&&l.set(t[0])}pA(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),aa.delete(this)}cancel(){this.state==="scheduled"&&(aa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const jA=e=>e.startsWith("--");function CA(e,t,s){jA(t)?e.style.setProperty(t,s):e.style[t]=s}const TA=Tg(()=>window.ScrollTimeline!==void 0),DA={};function EA(e,t){const s=Tg(e);return()=>DA[t]??s()}const Hj=EA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Jl=([e,t,s,i])=>`cubic-bezier(${e}, ${t}, ${s}, ${i})`,bS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Jl([0,.65,.55,1]),circOut:Jl([.55,0,1,.45]),backIn:Jl([.31,.01,.66,-.59]),backOut:Jl([.33,1.53,.69,.99])};function _j(e,t){if(e)return typeof e=="function"?Hj()?Rj(e,t):"ease-out":jj(e)?Jl(e):Array.isArray(e)?e.map(s=>_j(s,t)||bS.easeOut):bS[e]}function MA(e,t,s,{delay:i=0,duration:l=300,repeat:u=0,repeatType:d="loop",ease:f="easeOut",times:p}={},g=void 0){const y={[t]:s};p&&(y.offset=p);const v=_j(f,l);Array.isArray(v)&&(y.easing=v);const b={delay:i,duration:l,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:u+1,direction:d==="reverse"?"alternate":"normal"};return g&&(b.pseudoElement=g),e.animate(y,b)}function zj(e){return typeof e=="function"&&"applyToOptions"in e}function kA({type:e,...t}){return zj(e)&&Hj()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class PA extends Lg{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:i,keyframes:l,pseudoElement:u,allowFlatten:d=!1,finalKeyframe:f,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=d,this.options=t,Cg(typeof t.type!="string");const g=kA(t);this.animation=MA(s,i,l,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const y=Bg(l,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):CA(s,i,y),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Ls(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ls(t)}get time(){return Ls(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=rr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&TA()?(this.animation.timeline=t,Fs):s(this)}}const Wj={anticipate:bj,backInOut:xj,circInOut:Sj};function AA(e){return e in Wj}function OA(e){typeof e.ease=="string"&&AA(e.ease)&&(e.ease=Wj[e.ease])}const vS=10;class RA extends PA{constructor(t){OA(t),Lj(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:i,onComplete:l,element:u,...d}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const f=new Ng({...d,autoplay:!1}),p=rr(this.finishedTime??this.time);s.setWithVelocity(f.sample(p-vS).value,f.sample(p).value,vS),f.stop()}}const SS=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Si.test(e)||e==="0")&&!e.startsWith("url("));function IA(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function BA(e,t,s,i){const l=e[0];if(l===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],d=SS(l,t),f=SS(u,t);return!d||!f?!1:IA(e)||(s==="spring"||zj(s))&&i}function km(e){e.duration=0,e.type="keyframes"}const LA=new Set(["opacity","clipPath","filter","transform"]),NA=Tg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function FA(e){const{motionValue:t,name:s,repeatDelay:i,repeatType:l,damping:u,type:d}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return NA()&&s&&LA.has(s)&&(s!=="transform"||!g)&&!p&&!i&&l!=="mirror"&&u!==0&&d!=="inertia"}const HA=40;class _A extends Lg{constructor({autoplay:t=!0,delay:s=0,type:i="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:d="loop",keyframes:f,name:p,motionValue:g,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=is.now();const b={autoplay:t,delay:s,type:i,repeat:l,repeatDelay:u,repeatType:d,name:p,motionValue:g,element:y,...v},S=y?.KeyframeResolver||Fg;this.keyframeResolver=new S(f,(j,D,T)=>this.onKeyframesResolved(j,D,b,!T),p,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,s,i,l){this.keyframeResolver=void 0;const{name:u,type:d,velocity:f,delay:p,isHandoff:g,onUpdate:y}=i;this.resolvedAt=is.now(),BA(t,u,d,f)||((Lr.instantAnimations||!p)&&y?.(Bg(t,i,s)),t[0]=t[t.length-1],km(i),i.repeat=0);const b={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>HA?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...i,keyframes:t},S=!g&&FA(b)?new RA({...b,element:b.motionValue.owner.current}):new Ng(b);S.finished.then(()=>this.notifyFinished()).catch(Fs),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),wA()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const zA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function WA(e){const t=zA.exec(e);if(!t)return[,];const[,s,i,l]=t;return[`--${s??i}`,l]}function Vj(e,t,s=1){const[i,l]=WA(e);if(!i)return;const u=window.getComputedStyle(t).getPropertyValue(i);if(u){const d=u.trim();return uj(d)?parseFloat(d):d}return Pg(l)?Vj(l,t,s+1):l}function Hg(e,t){return e?.[t]??e?.default??e}const Yj=new Set(["width","height","top","left","right","bottom",...Yo]),VA={test:e=>e==="auto",parse:e=>e},Uj=e=>t=>t.test(e),qj=[Vo,Je,ir,mi,BP,IP,VA],wS=e=>qj.find(Uj(e));function YA(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||fj(e):!0}const UA=new Set(["brightness","contrast","saturate","opacity"]);function qA(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=s.match(Ag)||[];if(!i)return e;const l=s.replace(i,"");let u=UA.has(t)?1:0;return i!==s&&(u*=100),t+"("+u+l+")"}const GA=/\b([a-z-]*)\(.*?\)/gu,Pm={...Si,getAnimatableNone:e=>{const t=e.match(GA);return t?t.map(qA).join(" "):e}},jS={...Vo,transform:Math.round},$A={rotate:mi,rotateX:mi,rotateY:mi,rotateZ:mi,scale:ud,scaleX:ud,scaleY:ud,scaleZ:ud,skew:mi,skewX:mi,skewY:mi,distance:Je,translateX:Je,translateY:Je,translateZ:Je,x:Je,y:Je,z:Je,perspective:Je,transformPerspective:Je,opacity:gc,originX:uS,originY:uS,originZ:Je},_g={borderWidth:Je,borderTopWidth:Je,borderRightWidth:Je,borderBottomWidth:Je,borderLeftWidth:Je,borderRadius:Je,radius:Je,borderTopLeftRadius:Je,borderTopRightRadius:Je,borderBottomRightRadius:Je,borderBottomLeftRadius:Je,width:Je,maxWidth:Je,height:Je,maxHeight:Je,top:Je,right:Je,bottom:Je,left:Je,padding:Je,paddingTop:Je,paddingRight:Je,paddingBottom:Je,paddingLeft:Je,margin:Je,marginTop:Je,marginRight:Je,marginBottom:Je,marginLeft:Je,backgroundPositionX:Je,backgroundPositionY:Je,...$A,zIndex:jS,fillOpacity:gc,strokeOpacity:gc,numOctaves:jS},QA={..._g,color:gn,backgroundColor:gn,outlineColor:gn,fill:gn,stroke:gn,borderColor:gn,borderTopColor:gn,borderRightColor:gn,borderBottomColor:gn,borderLeftColor:gn,filter:Pm,WebkitFilter:Pm},Gj=e=>QA[e];function $j(e,t){let s=Gj(e);return s!==Pm&&(s=Si),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const KA=new Set(["auto","none","0"]);function XA(e,t,s){let i=0,l;for(;i<e.length&&!l;){const u=e[i];typeof u=="string"&&!KA.has(u)&&yc(u).values.length&&(l=e[i]),i++}if(l&&s)for(const u of t)e[u]=$j(s,l)}class ZA extends Fg{constructor(t,s,i,l,u){super(t,s,i,l,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:i}=this;if(!s||!s.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),Pg(g))){const y=Vj(g,s.current);y!==void 0&&(t[p]=y),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Yj.has(i)||t.length!==2)return;const[l,u]=t,d=wS(l),f=wS(u);if(d!==f)if(xS(d)&&xS(f))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else ia[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,i=[];for(let l=0;l<t.length;l++)(t[l]===null||YA(t[l]))&&i.push(l);i.length&&XA(t,i,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ia[i](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const l=s[s.length-1];l!==void 0&&t.getValue(i,l).jump(l,!1)}measureEndState(){const{element:t,name:s,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const l=t.getValue(s);l&&l.jump(this.measuredOrigin,!1);const u=i.length-1,d=i[u];i[u]=ia[s](t.measureViewportBox(),window.getComputedStyle(t.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,p])=>{t.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function JA(e,t,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const l=s?.[e]??i.querySelectorAll(e);return l?Array.from(l):[]}return Array.from(e)}const Qj=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Kj(e){return dj(e)&&"offsetHeight"in e}const CS=30,eO=e=>!isNaN(parseFloat(e)),rc={current:void 0};class tO{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const l=is.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=is.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=eO(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new Dg);const i=this.events[t].add(s);return t==="change"?()=>{i(),Ut.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,s,i){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return rc.current&&rc.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=is.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>CS)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,CS);return hj(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ha(e,t){return new tO(e,t)}const{schedule:zg}=Cj(queueMicrotask,!1),Us={x:!1,y:!1};function Xj(){return Us.x||Us.y}function nO(e){return e==="x"||e==="y"?Us[e]?null:(Us[e]=!0,()=>{Us[e]=!1}):Us.x||Us.y?null:(Us.x=Us.y=!0,()=>{Us.x=Us.y=!1})}function Zj(e,t){const s=JA(e),i=new AbortController,l={passive:!0,...t,signal:i.signal};return[s,l,()=>i.abort()]}function TS(e){return!(e.pointerType==="touch"||Xj())}function sO(e,t,s={}){const[i,l,u]=Zj(e,s),d=f=>{if(!TS(f))return;const{target:p}=f,g=t(p,f);if(typeof g!="function"||!p)return;const y=v=>{TS(v)&&(g(v),p.removeEventListener("pointerleave",y))};p.addEventListener("pointerleave",y,l)};return i.forEach(f=>{f.addEventListener("pointerenter",d,l)}),u}const Jj=(e,t)=>t?e===t?!0:Jj(e,t.parentElement):!1,Wg=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,rO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function iO(e){return rO.has(e.tagName)||e.tabIndex!==-1}const Td=new WeakSet;function DS(e){return t=>{t.key==="Enter"&&e(t)}}function $p(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const aO=(e,t)=>{const s=e.currentTarget;if(!s)return;const i=DS(()=>{if(Td.has(s))return;$p(s,"down");const l=DS(()=>{$p(s,"up")}),u=()=>$p(s,"cancel");s.addEventListener("keyup",l,t),s.addEventListener("blur",u,t)});s.addEventListener("keydown",i,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",i),t)};function ES(e){return Wg(e)&&!Xj()}function oO(e,t,s={}){const[i,l,u]=Zj(e,s),d=f=>{const p=f.currentTarget;if(!ES(f))return;Td.add(p);const g=t(p,f),y=(S,j)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),Td.has(p)&&Td.delete(p),ES(S)&&typeof g=="function"&&g(S,{success:j})},v=S=>{y(S,p===window||p===document||s.useGlobalTarget||Jj(p,S.target))},b=S=>{y(S,!1)};window.addEventListener("pointerup",v,l),window.addEventListener("pointercancel",b,l)};return i.forEach(f=>{(s.useGlobalTarget?window:f).addEventListener("pointerdown",d,l),Kj(f)&&(f.addEventListener("focus",g=>aO(g,l)),!iO(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),u}function eC(e){return dj(e)&&"ownerSVGElement"in e}function lO(e){return eC(e)&&e.tagName==="svg"}function cO(...e){const t=!Array.isArray(e[0]),s=t?0:-1,i=e[0+s],l=e[1+s],u=e[2+s],d=e[3+s],f=Bj(l,u,d);return t?f(i):f}const On=e=>!!(e&&e.getVelocity),uO=[...qj,gn,Si],dO=e=>uO.find(Uj(e)),Zd=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function MS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function fO(...e){return t=>{let s=!1;const i=e.map(l=>{const u=MS(l,t);return!s&&typeof u=="function"&&(s=!0),u});if(s)return()=>{for(let l=0;l<i.length;l++){const u=i[l];typeof u=="function"?u():MS(e[l],null)}}}}function hO(...e){return x.useCallback(fO(...e),e)}class pO extends x.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const i=s.offsetParent,l=Kj(i)&&i.offsetWidth||0,u=this.props.sizeRef.current;u.height=s.offsetHeight||0,u.width=s.offsetWidth||0,u.top=s.offsetTop,u.left=s.offsetLeft,u.right=l-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function mO({children:e,isPresent:t,anchorX:s,root:i}){const l=x.useId(),u=x.useRef(null),d=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=x.useContext(Zd),p=hO(u,e?.ref);return x.useInsertionEffect(()=>{const{width:g,height:y,top:v,left:b,right:S}=d.current;if(t||!u.current||!g||!y)return;const j=s==="left"?`left: ${b}`:`right: ${S}`;u.current.dataset.motionPopId=l;const D=document.createElement("style");f&&(D.nonce=f);const T=i??document.head;return T.appendChild(D),D.sheet&&D.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${j}px !important;
            top: ${v}px !important;
          }
        `),()=>{T.contains(D)&&T.removeChild(D)}},[t]),a.jsx(pO,{isPresent:t,childRef:u,sizeRef:d,children:x.cloneElement(e,{ref:p})})}const gO=({children:e,initial:t,isPresent:s,onExitComplete:i,custom:l,presenceAffectsLayout:u,mode:d,anchorX:f,root:p})=>{const g=Sa(yO),y=x.useId();let v=!0,b=x.useMemo(()=>(v=!1,{id:y,initial:t,isPresent:s,custom:l,onExitComplete:S=>{g.set(S,!0);for(const j of g.values())if(!j)return;i&&i()},register:S=>(g.set(S,!1),()=>g.delete(S))}),[s,g,i]);return u&&v&&(b={...b}),x.useMemo(()=>{g.forEach((S,j)=>g.set(j,!1))},[s]),x.useEffect(()=>{!s&&!g.size&&i&&i()},[s]),d==="popLayout"&&(e=a.jsx(mO,{isPresent:s,anchorX:f,root:p,children:e})),a.jsx(Xd.Provider,{value:b,children:e})};function yO(){return new Map}function tC(e=!0){const t=x.useContext(Xd);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:i,register:l}=t,u=x.useId();x.useEffect(()=>{if(e)return l(u)},[e]);const d=x.useCallback(()=>e&&i&&i(u),[u,i,e]);return!s&&i?[!1,d]:[!0]}const dd=e=>e.key||"";function kS(e){const t=[];return x.Children.forEach(e,s=>{x.isValidElement(s)&&t.push(s)}),t}const xc=({children:e,custom:t,initial:s=!0,onExitComplete:i,presenceAffectsLayout:l=!0,mode:u="sync",propagate:d=!1,anchorX:f="left",root:p})=>{const[g,y]=tC(d),v=x.useMemo(()=>kS(e),[e]),b=d&&!g?[]:v.map(dd),S=x.useRef(!0),j=x.useRef(v),D=Sa(()=>new Map),[T,C]=x.useState(v),[M,k]=x.useState(v);Sg(()=>{S.current=!1,j.current=v;for(let W=0;W<M.length;W++){const E=dd(M[W]);b.includes(E)?D.delete(E):D.get(E)!==!0&&D.set(E,!1)}},[M,b.length,b.join("-")]);const P=[];if(v!==T){let W=[...v];for(let E=0;E<M.length;E++){const L=M[E],_=dd(L);b.includes(_)||(W.splice(E,0,L),P.push(L))}return u==="wait"&&P.length&&(W=P),k(kS(W)),C(v),null}const{forceRender:N}=x.useContext(bg);return a.jsx(a.Fragment,{children:M.map(W=>{const E=dd(W),L=d&&!g?!1:v===M||b.includes(E),_=()=>{if(D.has(E))D.set(E,!0);else return;let B=!0;D.forEach(V=>{V||(B=!1)}),B&&(N?.(),k(j.current),d&&y?.(),i&&i())};return a.jsx(gO,{isPresent:L,initial:!S.current||s?void 0:!1,custom:t,presenceAffectsLayout:l,mode:u,root:p,onExitComplete:L?void 0:_,anchorX:f,children:W},E)})})},nC=x.createContext({strict:!1}),PS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},No={};for(const e in PS)No[e]={isEnabled:t=>PS[e].some(s=>!!t[s])};function xO(e){for(const t in e)No[t]={...No[t],...e[t]}}const bO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ld(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||bO.has(e)}let sC=e=>!Ld(e);function vO(e){typeof e=="function"&&(sC=t=>t.startsWith("on")?!Ld(t):e(t))}try{vO(require("@emotion/is-prop-valid").default)}catch{}function SO(e,t,s){const i={};for(const l in e)l==="values"&&typeof e.values=="object"||(sC(l)||s===!0&&Ld(l)||!t&&!Ld(l)||e.draggable&&l.startsWith("onDrag"))&&(i[l]=e[l]);return i}const Jd=x.createContext({});function ef(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function bc(e){return typeof e=="string"||Array.isArray(e)}const Vg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Yg=["initial",...Vg];function tf(e){return ef(e.animate)||Yg.some(t=>bc(e[t]))}function rC(e){return!!(tf(e)||e.variants)}function wO(e,t){if(tf(e)){const{initial:s,animate:i}=e;return{initial:s===!1||bc(s)?s:void 0,animate:bc(i)?i:void 0}}return e.inherit!==!1?t:{}}function jO(e){const{initial:t,animate:s}=wO(e,x.useContext(Jd));return x.useMemo(()=>({initial:t,animate:s}),[AS(t),AS(s)])}function AS(e){return Array.isArray(e)?e.join(" "):e}const vc={};function CO(e){for(const t in e)vc[t]=e[t],kg(t)&&(vc[t].isCSSVariable=!0)}function iC(e,{layout:t,layoutId:s}){return Uo.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!vc[e]||e==="opacity")}const TO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},DO=Yo.length;function EO(e,t,s){let i="",l=!0;for(let u=0;u<DO;u++){const d=Yo[u],f=e[d];if(f===void 0)continue;let p=!0;if(typeof f=="number"?p=f===(d.startsWith("scale")?1:0):p=parseFloat(f)===0,!p||s){const g=Qj(f,_g[d]);if(!p){l=!1;const y=TO[d]||d;i+=`${y}(${g}) `}s&&(t[d]=g)}}return i=i.trim(),s?i=s(t,l?"":i):l&&(i="none"),i}function Ug(e,t,s){const{style:i,vars:l,transformOrigin:u}=e;let d=!1,f=!1;for(const p in t){const g=t[p];if(Uo.has(p)){d=!0;continue}else if(kg(p)){l[p]=g;continue}else{const y=Qj(g,_g[p]);p.startsWith("origin")?(f=!0,u[p]=y):i[p]=y}}if(t.transform||(d||s?i.transform=EO(t,e.transform,s):i.transform&&(i.transform="none")),f){const{originX:p="50%",originY:g="50%",originZ:y=0}=u;i.transformOrigin=`${p} ${g} ${y}`}}const qg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function aC(e,t,s){for(const i in t)!On(t[i])&&!iC(i,s)&&(e[i]=t[i])}function MO({transformTemplate:e},t){return x.useMemo(()=>{const s=qg();return Ug(s,t,e),Object.assign({},s.vars,s.style)},[t])}function kO(e,t){const s=e.style||{},i={};return aC(i,s,e),Object.assign(i,MO(e,t)),i}function PO(e,t){const s={},i=kO(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=i,s}const AO={offset:"stroke-dashoffset",array:"stroke-dasharray"},OO={offset:"strokeDashoffset",array:"strokeDasharray"};function RO(e,t,s=1,i=0,l=!0){e.pathLength=1;const u=l?AO:OO;e[u.offset]=Je.transform(-i);const d=Je.transform(t),f=Je.transform(s);e[u.array]=`${d} ${f}`}function oC(e,{attrX:t,attrY:s,attrScale:i,pathLength:l,pathSpacing:u=1,pathOffset:d=0,...f},p,g,y){if(Ug(e,f,g),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:b}=e;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=y?.transformBox??"fill-box",delete v.transformBox),t!==void 0&&(v.x=t),s!==void 0&&(v.y=s),i!==void 0&&(v.scale=i),l!==void 0&&RO(v,l,u,d,!1)}const lC=()=>({...qg(),attrs:{}}),cC=e=>typeof e=="string"&&e.toLowerCase()==="svg";function IO(e,t,s,i){const l=x.useMemo(()=>{const u=lC();return oC(u,t,cC(i),e.transformTemplate,e.style),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};aC(u,e.style,e),l.style={...u,...l.style}}return l}const BO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Gg(e){return typeof e!="string"||e.includes("-")?!1:!!(BO.indexOf(e)>-1||/[A-Z]/u.test(e))}function LO(e,t,s,{latestValues:i},l,u=!1){const f=(Gg(e)?IO:PO)(t,i,l,e),p=SO(t,typeof e=="string",u),g=e!==x.Fragment?{...p,...f,ref:s}:{},{children:y}=t,v=x.useMemo(()=>On(y)?y.get():y,[y]);return x.createElement(e,{...g,children:v})}function OS(e){const t=[{},{}];return e?.values.forEach((s,i)=>{t[0][i]=s.get(),t[1][i]=s.getVelocity()}),t}function $g(e,t,s,i){if(typeof t=="function"){const[l,u]=OS(i);t=t(s!==void 0?s:e.custom,l,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[l,u]=OS(i);t=t(s!==void 0?s:e.custom,l,u)}return t}function Dd(e){return On(e)?e.get():e}function NO({scrapeMotionValuesFromProps:e,createRenderState:t},s,i,l){return{latestValues:FO(s,i,l,e),renderState:t()}}function FO(e,t,s,i){const l={},u=i(e,{});for(const b in u)l[b]=Dd(u[b]);let{initial:d,animate:f}=e;const p=tf(e),g=rC(e);t&&g&&!p&&e.inherit!==!1&&(d===void 0&&(d=t.initial),f===void 0&&(f=t.animate));let y=s?s.initial===!1:!1;y=y||d===!1;const v=y?f:d;if(v&&typeof v!="boolean"&&!ef(v)){const b=Array.isArray(v)?v:[v];for(let S=0;S<b.length;S++){const j=$g(e,b[S]);if(j){const{transitionEnd:D,transition:T,...C}=j;for(const M in C){let k=C[M];if(Array.isArray(k)){const P=y?k.length-1:0;k=k[P]}k!==null&&(l[M]=k)}for(const M in D)l[M]=D[M]}}}return l}const uC=e=>(t,s)=>{const i=x.useContext(Jd),l=x.useContext(Xd),u=()=>NO(e,t,i,l);return s?u():Sa(u)};function Qg(e,t,s){const{style:i}=e,l={};for(const u in i)(On(i[u])||t.style&&On(t.style[u])||iC(u,e)||s?.getValue(u)?.liveStyle!==void 0)&&(l[u]=i[u]);return l}const HO=uC({scrapeMotionValuesFromProps:Qg,createRenderState:qg});function dC(e,t,s){const i=Qg(e,t,s);for(const l in e)if(On(e[l])||On(t[l])){const u=Yo.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;i[u]=e[l]}return i}const _O=uC({scrapeMotionValuesFromProps:dC,createRenderState:lC}),zO=Symbol.for("motionComponentSymbol");function wo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function WO(e,t,s){return x.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),s&&(typeof s=="function"?s(i):wo(s)&&(s.current=i))},[t])}const Kg=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),VO="framerAppearId",fC="data-"+Kg(VO),hC=x.createContext({});function YO(e,t,s,i,l){const{visualElement:u}=x.useContext(Jd),d=x.useContext(nC),f=x.useContext(Xd),p=x.useContext(Zd).reducedMotion,g=x.useRef(null);i=i||d.renderer,!g.current&&i&&(g.current=i(e,{visualState:t,parent:u,props:s,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:p}));const y=g.current,v=x.useContext(hC);y&&!y.projection&&l&&(y.type==="html"||y.type==="svg")&&UO(g.current,s,l,v);const b=x.useRef(!1);x.useInsertionEffect(()=>{y&&b.current&&y.update(s,f)});const S=s[fC],j=x.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return Sg(()=>{y&&(b.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),j.current&&y.animationState&&y.animationState.animateChanges())}),x.useEffect(()=>{y&&(!j.current&&y.animationState&&y.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),j.current=!1),y.enteringChildren=void 0)}),y}function UO(e,t,s,i){const{layoutId:l,layout:u,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:g,layoutCrossfade:y}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:pC(e.parent)),e.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||f&&wo(f),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:p,layoutRoot:g})}function pC(e){if(e)return e.options.allowProjection!==!1?e.projection:pC(e.parent)}function Qp(e,{forwardMotionProps:t=!1}={},s,i){s&&xO(s);const l=Gg(e)?_O:HO;function u(f,p){let g;const y={...x.useContext(Zd),...f,layoutId:qO(f)},{isStatic:v}=y,b=jO(f),S=l(f,v);if(!v&&vg){GO();const j=$O(y);g=j.MeasureLayout,b.visualElement=YO(e,S,y,i,j.ProjectionNode)}return a.jsxs(Jd.Provider,{value:b,children:[g&&b.visualElement?a.jsx(g,{visualElement:b.visualElement,...y}):null,LO(e,f,WO(S,b.visualElement,p),S,v,t)]})}u.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const d=x.forwardRef(u);return d[zO]=e,d}function qO({layoutId:e}){const t=x.useContext(bg).id;return t&&e!==void 0?t+"-"+e:e}function GO(e,t){x.useContext(nC).strict}function $O(e){const{drag:t,layout:s}=No;if(!t&&!s)return{};const i={...t,...s};return{MeasureLayout:t?.isEnabled(e)||s?.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function QO(e,t){if(typeof Proxy>"u")return Qp;const s=new Map,i=(u,d)=>Qp(u,d,e,t),l=(u,d)=>i(u,d);return new Proxy(l,{get:(u,d)=>d==="create"?i:(s.has(d)||s.set(d,Qp(d,void 0,e,t)),s.get(d))})}function mC({top:e,left:t,right:s,bottom:i}){return{x:{min:t,max:s},y:{min:e,max:i}}}function KO({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function XO(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:i.y,right:i.x}}function Kp(e){return e===void 0||e===1}function Am({scale:e,scaleX:t,scaleY:s}){return!Kp(e)||!Kp(t)||!Kp(s)}function Ji(e){return Am(e)||gC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function gC(e){return RS(e.x)||RS(e.y)}function RS(e){return e&&e!=="0%"}function Nd(e,t,s){const i=e-s,l=t*i;return s+l}function IS(e,t,s,i,l){return l!==void 0&&(e=Nd(e,l,i)),Nd(e,s,i)+t}function Om(e,t=0,s=1,i,l){e.min=IS(e.min,t,s,i,l),e.max=IS(e.max,t,s,i,l)}function yC(e,{x:t,y:s}){Om(e.x,t.translate,t.scale,t.originPoint),Om(e.y,s.translate,s.scale,s.originPoint)}const BS=.999999999999,LS=1.0000000000001;function ZO(e,t,s,i=!1){const l=s.length;if(!l)return;t.x=t.y=1;let u,d;for(let f=0;f<l;f++){u=s[f],d=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(i&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Co(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),d&&(t.x*=d.x.scale,t.y*=d.y.scale,yC(e,d)),i&&Ji(u.latestValues)&&Co(e,u.latestValues))}t.x<LS&&t.x>BS&&(t.x=1),t.y<LS&&t.y>BS&&(t.y=1)}function jo(e,t){e.min=e.min+t,e.max=e.max+t}function NS(e,t,s,i,l=.5){const u=Kt(e.min,e.max,l);Om(e,t,s,u,i)}function Co(e,t){NS(e.x,t.x,t.scaleX,t.scale,t.originX),NS(e.y,t.y,t.scaleY,t.scale,t.originY)}function xC(e,t){return mC(XO(e.getBoundingClientRect(),t))}function JO(e,t,s){const i=xC(e,s),{scroll:l}=t;return l&&(jo(i.x,l.offset.x),jo(i.y,l.offset.y)),i}const FS=()=>({translate:0,scale:1,origin:0,originPoint:0}),To=()=>({x:FS(),y:FS()}),HS=()=>({min:0,max:0}),ln=()=>({x:HS(),y:HS()}),Rm={current:null},bC={current:!1};function eR(){if(bC.current=!0,!!vg)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Rm.current=e.matches;e.addEventListener("change",t),t()}else Rm.current=!1}const tR=new WeakMap;function nR(e,t,s){for(const i in t){const l=t[i],u=s[i];if(On(l))e.addValue(i,l);else if(On(u))e.addValue(i,ha(l,{owner:e}));else if(u!==l)if(e.hasValue(i)){const d=e.getValue(i);d.liveStyle===!0?d.jump(l):d.hasAnimated||d.set(l)}else{const d=e.getStaticValue(i);e.addValue(i,ha(d!==void 0?d:l,{owner:e}))}}for(const i in s)t[i]===void 0&&e.removeValue(i);return t}const _S=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class sR{scrapeMotionValuesFromProps(t,s,i){return{}}constructor({parent:t,props:s,presenceContext:i,reducedMotionConfig:l,blockInitialAnimation:u,visualState:d},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Fg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=is.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Ut.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=d;this.latestValues=p,this.baseTarget={...p},this.initialValues=s.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=s,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=l,this.options=f,this.blockInitialAnimation=!!u,this.isControllingVariants=tf(s),this.isVariantNode=rC(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(s,{},this);for(const b in v){const S=v[b];p[b]!==void 0&&On(S)&&S.set(p[b])}}mount(t){this.current=t,tR.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,i)=>this.bindToMotionValue(i,s)),bC.current||eR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Rm.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Nr(this.notifyUpdate),Nr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Uo.has(t);i&&this.onBindTransform&&this.onBindTransform();const l=s.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&Ut.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{l(),u&&u(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in No){const s=No[t];if(!s)continue;const{isEnabled:i,Feature:l}=s;if(!this.features[t]&&l&&i(this.props)&&(this.features[t]=new l(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ln()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let i=0;i<_S.length;i++){const l=_S[i];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u="on"+l,d=t[u];d&&(this.propEventSubscriptions[l]=this.on(l,d))}this.prevMotionValues=nR(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const i=this.values.get(t);s!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&s!==void 0&&(i=ha(s===null?void 0:s,{owner:this}),this.addValue(t,i)),i}readValue(t,s){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(uj(i)||fj(i))?i=parseFloat(i):!dO(i)&&Si.test(s)&&(i=$j(t,s)),this.setBaseTarget(t,On(i)?i.get():i)),On(i)?i.get():i}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){const{initial:s}=this.props;let i;if(typeof s=="string"||typeof s=="object"){const u=$g(this.props,s,this.presenceContext?.custom);u&&(i=u[t])}if(s&&i!==void 0)return i;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!On(l)?l:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new Dg),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){zg.render(this.render)}}class vC extends sR{constructor(){super(...arguments),this.KeyframeResolver=ZA}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:i}){delete s[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;On(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function SC(e,{style:t,vars:s},i,l){const u=e.style;let d;for(d in t)u[d]=t[d];l?.applyProjectionStyles(u,i);for(d in s)u.setProperty(d,s[d])}function rR(e){return window.getComputedStyle(e)}class iR extends vC{constructor(){super(...arguments),this.type="html",this.renderInstance=SC}readValueFromInstance(t,s){if(Uo.has(s))return this.projection?.isProjecting?Cm(s):yA(t,s);{const i=rR(t),l=(kg(s)?i.getPropertyValue(s):i[s])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:s}){return xC(t,s)}build(t,s,i){Ug(t,s,i.transformTemplate)}scrapeMotionValuesFromProps(t,s,i){return Qg(t,s,i)}}const wC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function aR(e,t,s,i){SC(e,t,void 0,i);for(const l in t.attrs)e.setAttribute(wC.has(l)?l:Kg(l),t.attrs[l])}class oR extends vC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ln}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(Uo.has(s)){const i=Gj(s);return i&&i.default||0}return s=wC.has(s)?s:Kg(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,i){return dC(t,s,i)}build(t,s,i){oC(t,s,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,s,i,l){aR(t,s,i,l)}mount(t){this.isSVGTag=cC(t.tagName),super.mount(t)}}const lR=(e,t)=>Gg(e)?new oR(t):new iR(t,{allowProjection:e!==x.Fragment});function Ao(e,t,s){const i=e.getProps();return $g(i,t,s!==void 0?s:i.custom,e)}const Im=e=>Array.isArray(e);function cR(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,ha(s))}function uR(e){return Im(e)?e[e.length-1]||0:e}function dR(e,t){const s=Ao(e,t);let{transitionEnd:i={},transition:l={},...u}=s||{};u={...u,...i};for(const d in u){const f=uR(u[d]);cR(e,d,f)}}function fR(e){return!!(On(e)&&e.add)}function Bm(e,t){const s=e.getValue("willChange");if(fR(s))return s.add(t);if(!s&&Lr.WillChange){const i=new Lr.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function jC(e){return e.props[fC]}const hR=e=>e!==null;function pR(e,{repeat:t,repeatType:s="loop"},i){const l=e.filter(hR),u=t&&s!=="loop"&&t%2===1?0:l.length-1;return l[u]}const mR={type:"spring",stiffness:500,damping:25,restSpeed:10},gR=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),yR={type:"keyframes",duration:.8},xR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bR=(e,{keyframes:t})=>t.length>2?yR:Uo.has(e)?e.startsWith("scale")?gR(t[1]):mR:xR;function vR({when:e,delay:t,delayChildren:s,staggerChildren:i,staggerDirection:l,repeat:u,repeatType:d,repeatDelay:f,from:p,elapsed:g,...y}){return!!Object.keys(y).length}const Xg=(e,t,s,i={},l,u)=>d=>{const f=Hg(i,e)||{},p=f.delay||i.delay||0;let{elapsed:g=0}=i;g=g-rr(p);const y={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-g,onUpdate:b=>{t.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{d(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:u?void 0:l};vR(f)||Object.assign(y,bR(e,y)),y.duration&&(y.duration=rr(y.duration)),y.repeatDelay&&(y.repeatDelay=rr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(km(y),y.delay===0&&(v=!0)),(Lr.instantAnimations||Lr.skipAnimations)&&(v=!0,km(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,v&&!u&&t.get()!==void 0){const b=pR(y.keyframes,f);if(b!==void 0){Ut.update(()=>{y.onUpdate(b),y.onComplete()});return}}return f.isSync?new Ng(y):new _A(y)};function SR({protectedKeys:e,needsAnimating:t},s){const i=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,i}function CC(e,t,{delay:s=0,transitionOverride:i,type:l}={}){let{transition:u=e.getDefaultTransition(),transitionEnd:d,...f}=t;i&&(u=i);const p=[],g=l&&e.animationState&&e.animationState.getState()[l];for(const y in f){const v=e.getValue(y,e.latestValues[y]??null),b=f[y];if(b===void 0||g&&SR(g,y))continue;const S={delay:s,...Hg(u||{},y)},j=v.get();if(j!==void 0&&!v.isAnimating&&!Array.isArray(b)&&b===j&&!S.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const C=jC(e);if(C){const M=window.MotionHandoffAnimation(C,y,Ut);M!==null&&(S.startTime=M,D=!0)}}Bm(e,y),v.start(Xg(y,v,b,e.shouldReduceMotion&&Yj.has(y)?{type:!1}:S,e,D));const T=v.animation;T&&p.push(T)}return d&&Promise.all(p).then(()=>{Ut.update(()=>{d&&dR(e,d)})}),p}function TC(e,t,s,i=0,l=1){const u=Array.from(e).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),d=e.size,f=(d-1)*i;return typeof s=="function"?s(u,d):l===1?u*i:f-u*i}function Lm(e,t,s={}){const i=Ao(e,t,s.type==="exit"?e.presenceContext?.custom:void 0);let{transition:l=e.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(l=s.transitionOverride);const u=i?()=>Promise.all(CC(e,i,s)):()=>Promise.resolve(),d=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:v}=l;return wR(e,t,p,g,y,v,s)}:()=>Promise.resolve(),{when:f}=l;if(f){const[p,g]=f==="beforeChildren"?[u,d]:[d,u];return p().then(()=>g())}else return Promise.all([u(),d(s.delay)])}function wR(e,t,s=0,i=0,l=0,u=1,d){const f=[];for(const p of e.variantChildren)p.notify("AnimationStart",t),f.push(Lm(p,t,{...d,delay:s+(typeof i=="function"?0:i)+TC(e.variantChildren,p,i,l,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(f)}function jR(e,t,s={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const l=t.map(u=>Lm(e,u,s));i=Promise.all(l)}else if(typeof t=="string")i=Lm(e,t,s);else{const l=typeof t=="function"?Ao(e,t,s.custom):t;i=Promise.all(CC(e,l,s))}return i.then(()=>{e.notify("AnimationComplete",t)})}function DC(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let i=0;i<s;i++)if(t[i]!==e[i])return!1;return!0}const CR=Yg.length;function EC(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?EC(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<CR;s++){const i=Yg[s],l=e.props[i];(bc(l)||l===!1)&&(t[i]=l)}return t}const TR=[...Vg].reverse(),DR=Vg.length;function ER(e){return t=>Promise.all(t.map(({animation:s,options:i})=>jR(e,s,i)))}function MR(e){let t=ER(e),s=zS(),i=!0;const l=p=>(g,y)=>{const v=Ao(e,y,p==="exit"?e.presenceContext?.custom:void 0);if(v){const{transition:b,transitionEnd:S,...j}=v;g={...g,...j,...S}}return g};function u(p){t=p(e)}function d(p){const{props:g}=e,y=EC(e.parent)||{},v=[],b=new Set;let S={},j=1/0;for(let T=0;T<DR;T++){const C=TR[T],M=s[C],k=g[C]!==void 0?g[C]:y[C],P=bc(k),N=C===p?M.isActive:null;N===!1&&(j=T);let W=k===y[C]&&k!==g[C]&&P;if(W&&i&&e.manuallyAnimateOnMount&&(W=!1),M.protectedKeys={...S},!M.isActive&&N===null||!k&&!M.prevProp||ef(k)||typeof k=="boolean")continue;const E=kR(M.prevProp,k);let L=E||C===p&&M.isActive&&!W&&P||T>j&&P,_=!1;const B=Array.isArray(k)?k:[k];let V=B.reduce(l(C),{});N===!1&&(V={});const{prevResolvedValues:A={}}=M,q={...A,...V},U=I=>{L=!0,b.has(I)&&(_=!0,b.delete(I)),M.needsAnimating[I]=!0;const Q=e.getValue(I);Q&&(Q.liveStyle=!1)};for(const I in q){const Q=V[I],ee=A[I];if(S.hasOwnProperty(I))continue;let ye=!1;Im(Q)&&Im(ee)?ye=!DC(Q,ee):ye=Q!==ee,ye?Q!=null?U(I):b.add(I):Q!==void 0&&b.has(I)?U(I):M.protectedKeys[I]=!0}M.prevProp=k,M.prevResolvedValues=V,M.isActive&&(S={...S,...V}),i&&e.blockInitialAnimation&&(L=!1);const z=W&&E;L&&(!z||_)&&v.push(...B.map(I=>{const Q={type:C};if(typeof I=="string"&&i&&!z&&e.manuallyAnimateOnMount&&e.parent){const{parent:ee}=e,ye=Ao(ee,I);if(ee.enteringChildren&&ye){const{delayChildren:fe}=ye.transition||{};Q.delay=TC(ee.enteringChildren,e,fe)}}return{animation:I,options:Q}}))}if(b.size){const T={};if(typeof g.initial!="boolean"){const C=Ao(e,Array.isArray(g.initial)?g.initial[0]:g.initial);C&&C.transition&&(T.transition=C.transition)}b.forEach(C=>{const M=e.getBaseTarget(C),k=e.getValue(C);k&&(k.liveStyle=!0),T[C]=M??null}),v.push({animation:T})}let D=!!v.length;return i&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(D=!1),i=!1,D?t(v):Promise.resolve()}function f(p,g){if(s[p].isActive===g)return Promise.resolve();e.variantChildren?.forEach(v=>v.animationState?.setActive(p,g)),s[p].isActive=g;const y=d(p);for(const v in s)s[v].protectedKeys={};return y}return{animateChanges:d,setActive:f,setAnimateFunction:u,getState:()=>s,reset:()=>{s=zS()}}}function kR(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!DC(t,e):!1}function $i(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function zS(){return{animate:$i(!0),whileInView:$i(),whileHover:$i(),whileTap:$i(),whileDrag:$i(),whileFocus:$i(),exit:$i()}}class Di{constructor(t){this.isMounted=!1,this.node=t}update(){}}class PR extends Di{constructor(t){super(t),t.animationState||(t.animationState=MR(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ef(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let AR=0;class OR extends Di{constructor(){super(...arguments),this.id=AR++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const l=this.node.animationState.setActive("exit",!t);s&&!t&&l.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const RR={animation:{Feature:PR},exit:{Feature:OR}};function Sc(e,t,s,i={passive:!0}){return e.addEventListener(t,s,i),()=>e.removeEventListener(t,s)}function Hc(e){return{point:{x:e.pageX,y:e.pageY}}}const IR=e=>t=>Wg(t)&&e(t,Hc(t));function ic(e,t,s,i){return Sc(e,t,IR(s),i)}const MC=1e-4,BR=1-MC,LR=1+MC,kC=.01,NR=0-kC,FR=0+kC;function qn(e){return e.max-e.min}function HR(e,t,s){return Math.abs(e-t)<=s}function WS(e,t,s,i=.5){e.origin=i,e.originPoint=Kt(t.min,t.max,e.origin),e.scale=qn(s)/qn(t),e.translate=Kt(s.min,s.max,e.origin)-e.originPoint,(e.scale>=BR&&e.scale<=LR||isNaN(e.scale))&&(e.scale=1),(e.translate>=NR&&e.translate<=FR||isNaN(e.translate))&&(e.translate=0)}function ac(e,t,s,i){WS(e.x,t.x,s.x,i?i.originX:void 0),WS(e.y,t.y,s.y,i?i.originY:void 0)}function VS(e,t,s){e.min=s.min+t.min,e.max=e.min+qn(t)}function _R(e,t,s){VS(e.x,t.x,s.x),VS(e.y,t.y,s.y)}function YS(e,t,s){e.min=t.min-s.min,e.max=e.min+qn(t)}function oc(e,t,s){YS(e.x,t.x,s.x),YS(e.y,t.y,s.y)}function Is(e){return[e("x"),e("y")]}const PC=({current:e})=>e?e.ownerDocument.defaultView:null,US=(e,t)=>Math.abs(e-t);function zR(e,t){const s=US(e.x,t.x),i=US(e.y,t.y);return Math.sqrt(s**2+i**2)}class AC{constructor(t,s,{transformPagePoint:i,contextWindow:l=window,dragSnapToOrigin:u=!1,distanceThreshold:d=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Zp(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,j=zR(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!j)return;const{point:D}=b,{timestamp:T}=An;this.history.push({...D,timestamp:T});const{onStart:C,onMove:M}=this.handlers;S||(C&&C(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,b)},this.handlePointerMove=(b,S)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Xp(S,this.transformPagePoint),Ut.update(this.updatePoint,!0)},this.handlePointerUp=(b,S)=>{this.end();const{onEnd:j,onSessionEnd:D,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Zp(b.type==="pointercancel"?this.lastMoveEventInfo:Xp(S,this.transformPagePoint),this.history);this.startEvent&&j&&j(b,C),D&&D(b,C)},!Wg(t))return;this.dragSnapToOrigin=u,this.handlers=s,this.transformPagePoint=i,this.distanceThreshold=d,this.contextWindow=l||window;const f=Hc(t),p=Xp(f,this.transformPagePoint),{point:g}=p,{timestamp:y}=An;this.history=[{...g,timestamp:y}];const{onSessionStart:v}=s;v&&v(t,Zp(p,this.history)),this.removeListeners=Lc(ic(this.contextWindow,"pointermove",this.handlePointerMove),ic(this.contextWindow,"pointerup",this.handlePointerUp),ic(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Nr(this.updatePoint)}}function Xp(e,t){return t?{point:t(e.point)}:e}function qS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Zp({point:e},t){return{point:e,delta:qS(e,OC(t)),offset:qS(e,WR(t)),velocity:VR(t,.1)}}function WR(e){return e[0]}function OC(e){return e[e.length-1]}function VR(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,i=null;const l=OC(e);for(;s>=0&&(i=e[s],!(l.timestamp-i.timestamp>rr(t)));)s--;if(!i)return{x:0,y:0};const u=Ls(l.timestamp-i.timestamp);if(u===0)return{x:0,y:0};const d={x:(l.x-i.x)/u,y:(l.y-i.y)/u};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function YR(e,{min:t,max:s},i){return t!==void 0&&e<t?e=i?Kt(t,e,i.min):Math.max(e,t):s!==void 0&&e>s&&(e=i?Kt(s,e,i.max):Math.min(e,s)),e}function GS(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function UR(e,{top:t,left:s,bottom:i,right:l}){return{x:GS(e.x,s,l),y:GS(e.y,t,i)}}function $S(e,t){let s=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,i]=[i,s]),{min:s,max:i}}function qR(e,t){return{x:$S(e.x,t.x),y:$S(e.y,t.y)}}function GR(e,t){let s=.5;const i=qn(e),l=qn(t);return l>i?s=mc(t.min,t.max-i,e.min):i>l&&(s=mc(e.min,e.max-l,t.min)),Br(0,1,s)}function $R(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const Nm=.35;function QR(e=Nm){return e===!1?e=0:e===!0&&(e=Nm),{x:QS(e,"left","right"),y:QS(e,"top","bottom")}}function QS(e,t,s){return{min:KS(e,t),max:KS(e,s)}}function KS(e,t){return typeof e=="number"?e:e[t]||0}const KR=new WeakMap;class XR{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ln(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:i}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const u=v=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Hc(v).point)},d=(v,b)=>{const{drag:S,dragPropagation:j,onDragStart:D}=this.getProps();if(S&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=nO(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Is(C=>{let M=this.getAxisMotionValue(C).get()||0;if(ir.test(M)){const{projection:k}=this.visualElement;if(k&&k.layout){const P=k.layout.layoutBox[C];P&&(M=qn(P)*(parseFloat(M)/100))}}this.originPoint[C]=M}),D&&Ut.postRender(()=>D(v,b)),Bm(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},f=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b;const{dragPropagation:S,dragDirectionLock:j,onDirectionLock:D,onDrag:T}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:C}=b;if(j&&this.currentDirection===null){this.currentDirection=ZR(C),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",b.point,C),this.updateAxis("y",b.point,C),this.visualElement.render(),T&&T(v,b)},p=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b,this.stop(v,b),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Is(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new AC(t,{onSessionStart:u,onStart:d,onMove:f,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:PC(this.visualElement)})}stop(t,s){const i=t||this.latestPointerEvent,l=s||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!l||!i)return;const{velocity:d}=l;this.startAnimation(d);const{onDragEnd:f}=this.getProps();f&&Ut.postRender(()=>f(i,l))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,i){const{drag:l}=this.getProps();if(!i||!fd(t,l,this.currentDirection))return;const u=this.getAxisMotionValue(t);let d=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(d=YR(d,this.constraints[t],this.elastic[t])),u.set(d)}resolveConstraints(){const{dragConstraints:t,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,l=this.constraints;t&&wo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=UR(i.layoutBox,t):this.constraints=!1,this.elastic=QR(s),l!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Is(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=$R(i.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!wo(t))return!1;const i=t.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=JO(i,l.root,this.visualElement.getTransformPagePoint());let d=qR(l.layout.layoutBox,u);if(s){const f=s(KO(d));this.hasMutatedConstraints=!!f,f&&(d=mC(f))}return d}startAnimation(t){const{drag:s,dragMomentum:i,dragElastic:l,dragTransition:u,dragSnapToOrigin:d,onDragTransitionEnd:f}=this.getProps(),p=this.constraints||{},g=Is(y=>{if(!fd(y,s,this.currentDirection))return;let v=p&&p[y]||{};d&&(v={min:0,max:0});const b=l?200:1e6,S=l?40:1e7,j={type:"inertia",velocity:i?t[y]:0,bounceStiffness:b,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...u,...v};return this.startAxisValueAnimation(y,j)});return Promise.all(g).then(f)}startAxisValueAnimation(t,s){const i=this.getAxisMotionValue(t);return Bm(this.visualElement,t),i.start(Xg(t,i,0,s,this.visualElement,!1))}stopAnimation(){Is(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Is(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),l=i[s];return l||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Is(s=>{const{drag:i}=this.getProps();if(!fd(s,i,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(s);if(l&&l.layout){const{min:d,max:f}=l.layout.layoutBox[s];u.set(t[s]-Kt(d,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:i}=this.visualElement;if(!wo(s)||!i||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Is(d=>{const f=this.getAxisMotionValue(d);if(f&&this.constraints!==!1){const p=f.get();l[d]=GR({min:p,max:p},this.constraints[d])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Is(d=>{if(!fd(d,t,null))return;const f=this.getAxisMotionValue(d),{min:p,max:g}=this.constraints[d];f.set(Kt(p,g,l[d]))})}addListeners(){if(!this.visualElement.current)return;KR.set(this.visualElement,this);const t=this.visualElement.current,s=ic(t,"pointerdown",p=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(p)}),i=()=>{const{dragConstraints:p}=this.getProps();wo(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",i);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),Ut.read(i);const d=Sc(window,"resize",()=>this.scalePositionWithinConstraints()),f=l.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Is(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=p[y].translate,v.set(v.get()+p[y].translate))}),this.visualElement.render())}));return()=>{d(),s(),u(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:i=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:d=Nm,dragMomentum:f=!0}=t;return{...t,drag:s,dragDirectionLock:i,dragPropagation:l,dragConstraints:u,dragElastic:d,dragMomentum:f}}}function fd(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function ZR(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class JR extends Di{constructor(t){super(t),this.removeGroupControls=Fs,this.removeListeners=Fs,this.controls=new XR(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fs}unmount(){this.removeGroupControls(),this.removeListeners()}}const XS=e=>(t,s)=>{e&&Ut.postRender(()=>e(t,s))};class eI extends Di{constructor(){super(...arguments),this.removePointerDownListener=Fs}onPointerDown(t){this.session=new AC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:PC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:i,onPanEnd:l}=this.node.getProps();return{onSessionStart:XS(t),onStart:XS(s),onMove:i,onEnd:(u,d)=>{delete this.session,l&&Ut.postRender(()=>l(u,d))}}}mount(){this.removePointerDownListener=ic(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ed={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ZS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Yl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Je.test(e))e=parseFloat(e);else return e;const s=ZS(e,t.target.x),i=ZS(e,t.target.y);return`${s}% ${i}%`}},tI={correct:(e,{treeScale:t,projectionDelta:s})=>{const i=e,l=Si.parse(e);if(l.length>5)return i;const u=Si.createTransformer(e),d=typeof l[0]!="number"?1:0,f=s.x.scale*t.x,p=s.y.scale*t.y;l[0+d]/=f,l[1+d]/=p;const g=Kt(f,p,.5);return typeof l[2+d]=="number"&&(l[2+d]/=g),typeof l[3+d]=="number"&&(l[3+d]/=g),u(l)}};let Jp=!1;class nI extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:i,layoutId:l}=this.props,{projection:u}=t;CO(sI),u&&(s.group&&s.group.add(u),i&&i.register&&l&&i.register(u),Jp&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Ed.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:i,drag:l,isPresent:u}=this.props,{projection:d}=i;return d&&(d.isPresent=u,Jp=!0,l||t.layoutDependency!==s||s===void 0||t.isPresent!==u?d.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?d.promote():d.relegate()||Ut.postRender(()=>{const f=d.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),zg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:i}=this.props,{projection:l}=t;Jp=!0,l&&(l.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(l),i&&i.deregister&&i.deregister(l))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function RC(e){const[t,s]=tC(),i=x.useContext(bg);return a.jsx(nI,{...e,layoutGroup:i,switchLayoutGroup:x.useContext(hC),isPresent:t,safeToRemove:s})}const sI={borderRadius:{...Yl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Yl,borderTopRightRadius:Yl,borderBottomLeftRadius:Yl,borderBottomRightRadius:Yl,boxShadow:tI};function rI(e,t,s){const i=On(e)?e:ha(e);return i.start(Xg("",i,t,s)),i.animation}const iI=(e,t)=>e.depth-t.depth;class aI{constructor(){this.children=[],this.isDirty=!1}add(t){wg(this.children,t),this.isDirty=!0}remove(t){jg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(iI),this.isDirty=!1,this.children.forEach(t)}}function oI(e,t){const s=is.now(),i=({timestamp:l})=>{const u=l-s;u>=t&&(Nr(i),e(u-t))};return Ut.setup(i,!0),()=>Nr(i)}const IC=["TopLeft","TopRight","BottomLeft","BottomRight"],lI=IC.length,JS=e=>typeof e=="string"?parseFloat(e):e,ew=e=>typeof e=="number"||Je.test(e);function cI(e,t,s,i,l,u){l?(e.opacity=Kt(0,s.opacity??1,uI(i)),e.opacityExit=Kt(t.opacity??1,0,dI(i))):u&&(e.opacity=Kt(t.opacity??1,s.opacity??1,i));for(let d=0;d<lI;d++){const f=`border${IC[d]}Radius`;let p=tw(t,f),g=tw(s,f);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||ew(p)===ew(g)?(e[f]=Math.max(Kt(JS(p),JS(g),i),0),(ir.test(g)||ir.test(p))&&(e[f]+="%")):e[f]=g}(t.rotate||s.rotate)&&(e.rotate=Kt(t.rotate||0,s.rotate||0,i))}function tw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const uI=BC(0,.5,vj),dI=BC(.5,.95,Fs);function BC(e,t,s){return i=>i<e?0:i>t?1:s(mc(e,t,i))}function nw(e,t){e.min=t.min,e.max=t.max}function As(e,t){nw(e.x,t.x),nw(e.y,t.y)}function sw(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function rw(e,t,s,i,l){return e-=t,e=Nd(e,1/s,i),l!==void 0&&(e=Nd(e,1/l,i)),e}function fI(e,t=0,s=1,i=.5,l,u=e,d=e){if(ir.test(t)&&(t=parseFloat(t),t=Kt(d.min,d.max,t/100)-d.min),typeof t!="number")return;let f=Kt(u.min,u.max,i);e===u&&(f-=t),e.min=rw(e.min,t,s,f,l),e.max=rw(e.max,t,s,f,l)}function iw(e,t,[s,i,l],u,d){fI(e,t[s],t[i],t[l],t.scale,u,d)}const hI=["x","scaleX","originX"],pI=["y","scaleY","originY"];function aw(e,t,s,i){iw(e.x,t,hI,s?s.x:void 0,i?i.x:void 0),iw(e.y,t,pI,s?s.y:void 0,i?i.y:void 0)}function ow(e){return e.translate===0&&e.scale===1}function LC(e){return ow(e.x)&&ow(e.y)}function lw(e,t){return e.min===t.min&&e.max===t.max}function mI(e,t){return lw(e.x,t.x)&&lw(e.y,t.y)}function cw(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function NC(e,t){return cw(e.x,t.x)&&cw(e.y,t.y)}function uw(e){return qn(e.x)/qn(e.y)}function dw(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class gI{constructor(){this.members=[]}add(t){wg(this.members,t),t.scheduleRender()}remove(t){if(jg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(l=>t===l);if(s===0)return!1;let i;for(let l=s;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){i=u;break}}return i?(this.promote(i),!0):!1}promote(t,s){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,s&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:l}=t.options;l===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:i}=t;s.onExitComplete&&s.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yI(e,t,s){let i="";const l=e.x.translate/t.x,u=e.y.translate/t.y,d=s?.z||0;if((l||u||d)&&(i=`translate3d(${l}px, ${u}px, ${d}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:g,rotate:y,rotateX:v,rotateY:b,skewX:S,skewY:j}=s;g&&(i=`perspective(${g}px) ${i}`),y&&(i+=`rotate(${y}deg) `),v&&(i+=`rotateX(${v}deg) `),b&&(i+=`rotateY(${b}deg) `),S&&(i+=`skewX(${S}deg) `),j&&(i+=`skewY(${j}deg) `)}const f=e.x.scale*t.x,p=e.y.scale*t.y;return(f!==1||p!==1)&&(i+=`scale(${f}, ${p})`),i||"none"}const em=["","X","Y","Z"],xI=1e3;let bI=0;function tm(e,t,s,i){const{latestValues:l}=t;l[e]&&(s[e]=l[e],t.setStaticValue(e,0),i&&(i[e]=0))}function FC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=jC(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:l,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",Ut,!(l||u))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&FC(i)}function HC({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:i,resetTransform:l}){return class{constructor(d={},f=t?.()){this.id=bI++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(wI),this.nodes.forEach(DI),this.nodes.forEach(EI),this.nodes.forEach(jI)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new aI)}addEventListener(d,f){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new Dg),this.eventHandlers.get(d).add(f)}notifyListeners(d,...f){const p=this.eventHandlers.get(d);p&&p.notify(...f)}hasListeners(d){return this.eventHandlers.has(d)}mount(d){if(this.instance)return;this.isSVG=eC(d)&&!lO(d),this.instance=d;const{layoutId:f,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||f)&&(this.isLayoutDirty=!0),e){let y,v=0;const b=()=>this.root.updateBlockedByResize=!1;Ut.read(()=>{v=window.innerWidth}),e(d,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,y&&y(),y=oI(b,250),Ed.hasAnimatedSinceResize&&(Ed.hasAnimatedSinceResize=!1,this.nodes.forEach(pw)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||g.getDefaultTransition()||OI,{onLayoutAnimationStart:D,onLayoutAnimationComplete:T}=g.getProps(),C=!this.targetLayout||!NC(this.targetLayout,S),M=!v&&b;if(this.options.layoutRoot||this.resumeFrom||M||v&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...Hg(j,"layout"),onPlay:D,onComplete:T};(g.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(y,M)}else v||pw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Nr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(MI),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&FC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:f,layout:p}=this.options;if(f===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(hw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(TI),this.nodes.forEach(vI),this.nodes.forEach(SI)):this.nodes.forEach(hw),this.clearAllSnapshots();const f=is.now();An.delta=Br(0,1e3/60,f-An.timestamp),An.timestamp=f,An.isProcessing=!0,Vp.update.process(An),Vp.preRender.process(An),Vp.render.process(An),An.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(CI),this.sharedNodes.forEach(kI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!qn(this.snapshot.measuredBox.x)&&!qn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ln(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(f=!1),f&&this.instance){const p=i(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:p,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!l)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!LC(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;d&&this.instance&&(f||Ji(this.latestValues)||y)&&(l(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const f=this.measurePageBox();let p=this.removeElementScroll(f);return d&&(p=this.removeTransform(p)),RI(p),{animationId:this.root.animationId,measuredBox:f,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:d}=this.options;if(!d)return ln();const f=d.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(II))){const{scroll:g}=this.root;g&&(jo(f.x,g.offset.x),jo(f.y,g.offset.y))}return f}removeElementScroll(d){const f=ln();if(As(f,d),this.scroll?.wasRoot)return f;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:y,options:v}=g;g!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&As(f,d),jo(f.x,y.offset.x),jo(f.y,y.offset.y))}return f}applyTransform(d,f=!1){const p=ln();As(p,d);for(let g=0;g<this.path.length;g++){const y=this.path[g];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Co(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Ji(y.latestValues)&&Co(p,y.latestValues)}return Ji(this.latestValues)&&Co(p,this.latestValues),p}removeTransform(d){const f=ln();As(f,d);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!Ji(g.latestValues))continue;Am(g.latestValues)&&g.updateSnapshot();const y=ln(),v=g.measurePageBox();As(y,v),aw(f,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return Ji(this.latestValues)&&aw(f,this.latestValues),f}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==An.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(d||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!(!this.layout||!(y||v))){if(this.resolvedRelativeTargetAt=An.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ln(),this.relativeTargetOrigin=ln(),oc(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),As(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ln(),this.targetWithTransforms=ln()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_R(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):As(this.target,this.layout.layoutBox),yC(this.target,this.targetDelta)):As(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ln(),this.relativeTargetOrigin=ln(),oc(this.relativeTargetOrigin,this.target,b.target),As(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Am(this.parent.latestValues)||gC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const d=this.getLead(),f=!!this.resumingFrom||this!==d;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===An.timestamp&&(p=!1),p)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;As(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;ZO(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=ln());const{target:S}=d;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(sw(this.prevProjectionDelta.x,this.projectionDelta.x),sw(this.prevProjectionDelta.y,this.projectionDelta.y)),ac(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!dw(this.projectionDelta.x,this.prevProjectionDelta.x)||!dw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){if(this.options.visualElement?.scheduleRender(),d){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=To(),this.projectionDelta=To(),this.projectionDeltaWithTransform=To()}setAnimationOrigin(d,f=!1){const p=this.snapshot,g=p?p.latestValues:{},y={...this.latestValues},v=To();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=ln(),S=p?p.source:void 0,j=this.layout?this.layout.source:void 0,D=S!==j,T=this.getStack(),C=!T||T.members.length<=1,M=!!(D&&!C&&this.options.crossfade===!0&&!this.path.some(AI));this.animationProgress=0;let k;this.mixTargetDelta=P=>{const N=P/1e3;mw(v.x,d.x,N),mw(v.y,d.y,N),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(oc(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),PI(this.relativeTarget,this.relativeTargetOrigin,b,N),k&&mI(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=ln()),As(k,this.relativeTarget)),D&&(this.animationValues=y,cI(y,g,this.latestValues,N,M,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Nr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ut.update(()=>{Ed.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ha(0)),this.currentAnimation=rI(this.motionValue,[0,1e3],{...d,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),d.onUpdate&&d.onUpdate(f)},onStop:()=>{},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(xI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:f,target:p,layout:g,latestValues:y}=d;if(!(!f||!p||!g)){if(this!==d&&this.layout&&g&&_C(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||ln();const v=qn(this.layout.layoutBox.x);p.x.min=d.target.x.min,p.x.max=p.x.min+v;const b=qn(this.layout.layoutBox.y);p.y.min=d.target.y.min,p.y.max=p.y.min+b}As(f,p),Co(f,y),ac(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(d,f){this.sharedNodes.has(d)||this.sharedNodes.set(d,new gI),this.sharedNodes.get(d).add(f);const g=f.options.initialPromotionConfig;f.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(f):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){const{layoutId:d}=this.options;return d?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:d}=this.options;return d?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:f,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),d&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let f=!1;const{latestValues:p}=d;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(f=!0),!f)return;const g={};p.z&&tm("z",d,g,this.animationValues);for(let y=0;y<em.length;y++)tm(`rotate${em[y]}`,d,g,this.animationValues),tm(`skew${em[y]}`,d,g,this.animationValues);d.render();for(const y in g)d.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);d.scheduleRender()}applyProjectionStyles(d,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){d.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,d.visibility="",d.opacity="",d.pointerEvents=Dd(f?.pointerEvents)||"",d.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=Dd(f?.pointerEvents)||""),this.hasProjected&&!Ji(this.latestValues)&&(d.transform=p?p({},""):"none",this.hasProjected=!1);return}d.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let v=yI(this.projectionDeltaWithTransform,this.treeScale,y);p&&(v=p(y,v)),d.transform=v;const{x:b,y:S}=this.projectionDelta;d.transformOrigin=`${b.origin*100}% ${S.origin*100}% 0`,g.animationValues?d.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:d.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const j in vc){if(y[j]===void 0)continue;const{correct:D,applyTo:T,isCSSVariable:C}=vc[j],M=v==="none"?y[j]:D(y[j],g);if(T){const k=T.length;for(let P=0;P<k;P++)d[T[P]]=M}else C?this.options.visualElement.renderState.vars[j]=M:d[j]=M}this.options.layoutId&&(d.pointerEvents=g===this?Dd(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>d.currentAnimation?.stop()),this.root.nodes.forEach(fw),this.root.sharedNodes.clear()}}}function vI(e){e.updateLayout()}function SI(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=e.layout,{animationType:l}=e.options,u=t.source!==e.layout.source;l==="size"?Is(y=>{const v=u?t.measuredBox[y]:t.layoutBox[y],b=qn(v);v.min=s[y].min,v.max=v.min+b}):_C(l,t.layoutBox,s)&&Is(y=>{const v=u?t.measuredBox[y]:t.layoutBox[y],b=qn(s[y]);v.max=v.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+b)});const d=To();ac(d,s,t.layoutBox);const f=To();u?ac(f,e.applyTransform(i,!0),t.measuredBox):ac(f,s,t.layoutBox);const p=!LC(d);let g=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:b}=y;if(v&&b){const S=ln();oc(S,t.layoutBox,v.layoutBox);const j=ln();oc(j,s,b.layoutBox),NC(S,j)||(g=!0),y.options.layoutRoot&&(e.relativeTarget=j,e.relativeTargetOrigin=S,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:f,layoutDelta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function wI(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function jI(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function CI(e){e.clearSnapshot()}function fw(e){e.clearMeasurements()}function hw(e){e.isLayoutDirty=!1}function TI(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function pw(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function DI(e){e.resolveTargetDelta()}function EI(e){e.calcProjection()}function MI(e){e.resetSkewAndRotation()}function kI(e){e.removeLeadSnapshot()}function mw(e,t,s){e.translate=Kt(t.translate,0,s),e.scale=Kt(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function gw(e,t,s,i){e.min=Kt(t.min,s.min,i),e.max=Kt(t.max,s.max,i)}function PI(e,t,s,i){gw(e.x,t.x,s.x,i),gw(e.y,t.y,s.y,i)}function AI(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const OI={duration:.45,ease:[.4,0,.1,1]},yw=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),xw=yw("applewebkit/")&&!yw("chrome/")?Math.round:Fs;function bw(e){e.min=xw(e.min),e.max=xw(e.max)}function RI(e){bw(e.x),bw(e.y)}function _C(e,t,s){return e==="position"||e==="preserve-aspect"&&!HR(uw(t),uw(s),.2)}function II(e){return e!==e.root&&e.scroll?.wasRoot}const BI=HC({attachResizeListener:(e,t)=>Sc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),nm={current:void 0},zC=HC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!nm.current){const e=new BI({});e.mount(window),e.setOptions({layoutScroll:!0}),nm.current=e}return nm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),LI={pan:{Feature:eI},drag:{Feature:JR,ProjectionNode:zC,MeasureLayout:RC}};function vw(e,t,s){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",s==="Start");const l="onHover"+s,u=i[l];u&&Ut.postRender(()=>u(t,Hc(t)))}class NI extends Di{mount(){const{current:t}=this.node;t&&(this.unmount=sO(t,(s,i)=>(vw(this.node,i,"Start"),l=>vw(this.node,l,"End"))))}unmount(){}}class FI extends Di{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Lc(Sc(this.node.current,"focus",()=>this.onFocus()),Sc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Sw(e,t,s){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",s==="Start");const l="onTap"+(s==="End"?"":s),u=i[l];u&&Ut.postRender(()=>u(t,Hc(t)))}class HI extends Di{mount(){const{current:t}=this.node;t&&(this.unmount=oO(t,(s,i)=>(Sw(this.node,i,"Start"),(l,{success:u})=>Sw(this.node,l,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Fm=new WeakMap,sm=new WeakMap,_I=e=>{const t=Fm.get(e.target);t&&t(e)},zI=e=>{e.forEach(_I)};function WI({root:e,...t}){const s=e||document;sm.has(s)||sm.set(s,{});const i=sm.get(s),l=JSON.stringify(t);return i[l]||(i[l]=new IntersectionObserver(zI,{root:e,...t})),i[l]}function VI(e,t,s){const i=WI(t);return Fm.set(e,s),i.observe(e),()=>{Fm.delete(e),i.unobserve(e)}}const YI={some:0,all:1};class UI extends Di{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:i,amount:l="some",once:u}=t,d={root:s?s.current:void 0,rootMargin:i,threshold:typeof l=="number"?l:YI[l]},f=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),b=g?y:v;b&&b(p)};return VI(this.node.current,d,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(qI(t,s))&&this.startObserver()}unmount(){}}function qI({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const GI={inView:{Feature:UI},tap:{Feature:HI},focus:{Feature:FI},hover:{Feature:NI}},$I={layout:{ProjectionNode:zC,MeasureLayout:RC}},QI={...RR,...GI,...LI,...$I},Pe=QO(QI,lR);function WC(e){const t=Sa(()=>ha(e)),{isStatic:s}=x.useContext(Zd);if(s){const[,i]=x.useState(e);x.useEffect(()=>t.on("change",i),[])}return t}function VC(e,t){const s=WC(t()),i=()=>s.set(t());return i(),Sg(()=>{const l=()=>Ut.preRender(i,!1,!0),u=e.map(d=>d.on("change",l));return()=>{u.forEach(d=>d()),Nr(i)}}),s}function KI(e){rc.current=[],e();const t=VC(rc.current,e);return rc.current=void 0,t}function XI(e,t,s,i){if(typeof e=="function")return KI(e);const l=typeof t=="function"?t:cO(t,s,i);return Array.isArray(e)?ww(e,l):ww([e],([u])=>l(u))}function ww(e,t){const s=Sa(()=>[]);return VC(e,()=>{s.length=0;const i=e.length;for(let l=0;l<i;l++)s[l]=e[l].get();return t(s)})}const YC=x.createContext(null);function ZI(e,t,s,i){if(!i)return e;const l=e.findIndex(y=>y.value===t);if(l===-1)return e;const u=i>0?1:-1,d=e[l+u];if(!d)return e;const f=e[l],p=d.layout,g=Kt(p.min,p.max,.5);return u===1&&f.layout.max+s>g||u===-1&&f.layout.min+s<g?mP(e,l,l+u):e}function JI({children:e,as:t="ul",axis:s="y",onReorder:i,values:l,...u},d){const f=Sa(()=>Pe[t]),p=[],g=x.useRef(!1),y={axis:s,registerItem:(v,b)=>{const S=p.findIndex(j=>v===j.value);S!==-1?p[S].layout=b[s]:p.push({value:v,layout:b[s]}),p.sort(t3)},updateOrder:(v,b,S)=>{if(g.current)return;const j=ZI(p,v,b,S);p!==j&&(g.current=!0,i(j.map(e3).filter(D=>l.indexOf(D)!==-1)))}};return x.useEffect(()=>{g.current=!1}),a.jsx(f,{...u,ref:d,ignoreStrict:!0,children:a.jsx(YC.Provider,{value:y,children:e})})}const UC=x.forwardRef(JI);function e3(e){return e.value}function t3(e,t){return e.layout.min-t.layout.min}function jw(e,t=0){return On(e)?e:WC(t)}function n3({children:e,style:t={},value:s,as:i="li",onDrag:l,layout:u=!0,...d},f){const p=Sa(()=>Pe[i]),g=x.useContext(YC),y={x:jw(t.x),y:jw(t.y)},v=XI([y.x,y.y],([D,T])=>D||T?1:"unset"),{axis:b,registerItem:S,updateOrder:j}=g;return a.jsx(p,{drag:b,...d,dragSnapToOrigin:!0,style:{...t,x:y.x,y:y.y,zIndex:v},layout:u,onDrag:(D,T)=>{const{velocity:C}=T;C[b]&&j(s,y[b].get(),C[b]),l&&l(D,T)},onLayoutMeasure:D=>S(s,D),ref:f,ignoreStrict:!0,children:e})}const qC=x.forwardRef(n3);function s3(e){return Wo({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function r3(e){return Wo({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M104 96H56c-13.3 0-24 10.7-24 24v104H8c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h24v104c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24zm528 128h-24V120c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v272c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h24c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM456 32h-48c-13.3 0-24 10.7-24 24v168H256V56c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v400c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h128v168c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24z"},child:[]}]})(e)}function i3(e){return Wo({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function a3(e){return Wo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}const o3={apiKey:"AIzaSyCxgAj6zUGeScwae1Slw-JqX-ZAEcEhAcI",authDomain:"goodlift-7760a.firebaseapp.com",projectId:"goodlift-7760a",storageBucket:"goodlift-7760a.firebasestorage.app",messagingSenderId:"444306542177",appId:"1:444306542177:web:ea09005a6d4cf46d6f6420",measurementId:"G-YR73MY2CH6"},GC=Uk(o3),pa=qk(GC),hd=Gk(GC),Hm=e=>{if(e==null)return null;if(Array.isArray(e))return e.map(t=>Hm(t));if(typeof e=="object"){const t={};for(const[s,i]of Object.entries(e))i!==void 0&&(t[s]=Hm(i));return t}return e},cr=async(e,t)=>{if(!e){console.error("Cannot save data: No user ID provided");return}try{const s=fa(pa,"users",e,"data","userData"),i=Hm({...t,lastUpdated:new Date().toISOString()});await Kd(s,i,{merge:!0})}catch(s){throw console.error("Error saving data to Firebase:",s),s}},wa=async e=>{if(!e)return console.error("Cannot load data: No user ID provided"),null;try{const t=fa(pa,"users",e,"data","userData"),s=await xg(t);return s.exists()?s.data():null}catch(t){throw console.error("Error loading data from Firebase:",t),t}},_c=async(e,t)=>{if(e)try{await cr(e,{workoutHistory:t})}catch(s){console.error("Error saving workout history to Firebase:",s)}},nf=async(e,t)=>{if(e)try{await cr(e,{userStats:t})}catch(s){console.error("Error saving user stats to Firebase:",s)}},Zg=async(e,t)=>{if(e)try{await cr(e,{exerciseWeights:t})}catch(s){console.error("Error saving exercise weights to Firebase:",s)}},Jg=async(e,t)=>{if(e)try{await cr(e,{exerciseTargetReps:t})}catch(s){console.error("Error saving exercise target reps to Firebase:",s)}},sf=async(e,t)=>{if(e)try{await cr(e,{hiitSessions:t})}catch(s){console.error("Error saving HIIT sessions to Firebase:",s)}},rf=async(e,t)=>{if(e)try{await cr(e,{cardioSessions:t})}catch(s){console.error("Error saving cardio sessions to Firebase:",s)}},ey=async(e,t)=>{if(e)try{await cr(e,{stretchSessions:t})}catch(s){console.error("Error saving stretch sessions to Firebase:",s)}},af=async(e,t)=>{if(e)try{await cr(e,{yogaSessions:t})}catch(s){console.error("Error saving yoga sessions to Firebase:",s)}},ty=async(e,t)=>{if(e)try{await cr(e,{workoutPlans:t})}catch(s){console.error("Error saving workout plans to Firebase:",s)}},_m=async(e,t)=>{if(e)try{await cr(e,{activePlanId:t})}catch(s){console.error("Error saving active plan to Firebase:",s)}},ny="goodlift_guest_mode",zm=1,qo={WORKOUT_HISTORY:"goodlift_guest_workout_history",USER_STATS:"goodlift_guest_user_stats",EXERCISE_WEIGHTS:"goodlift_guest_exercise_weights",EXERCISE_TARGET_REPS:"goodlift_guest_exercise_target_reps",HIIT_SESSIONS:"goodlift_guest_hiit_sessions",STRETCH_SESSIONS:"goodlift_guest_stretch_sessions",YOGA_SESSIONS:"goodlift_guest_yoga_sessions",CARDIO_SESSIONS:"goodlift_guest_cardio_sessions",FAVORITE_WORKOUTS:"goodlift_guest_favorite_workouts",FAVORITE_EXERCISES:"goodlift_guest_favorite_exercises",PINNED_EXERCISES:"goodlift_guest_pinned_exercises",SNACKBAR_DISMISSED:"goodlift_guest_snackbar_dismissed",YOGA_CONFIG:"goodlift_guest_yoga_config",YOGA_TTS_ENABLED:"goodlift_guest_yoga_tts_enabled"},tt=()=>{try{return localStorage.getItem(ny)==="true"}catch(e){return console.error("Error checking guest mode:",e),!1}},l3=()=>{try{localStorage.setItem(ny,"true")}catch(e){console.error("Error enabling guest mode:",e),sy(e)}},Fd=()=>{try{localStorage.removeItem(ny)}catch(e){console.error("Error disabling guest mode:",e)}},Bn=e=>{const t=qo[e.toUpperCase()];if(!t)return console.error(`Invalid category: ${e}`),null;try{const s=localStorage.getItem(t);if(!s)return null;const i=JSON.parse(s);return i.version&&i.version!==zm&&console.warn(`Data version mismatch for ${e}: ${i.version} vs ${zm}`),i.data!==void 0?i.data:i}catch(s){return console.error(`Error reading guest data for ${e}:`,s),null}},kt=(e,t)=>{const s=qo[e.toUpperCase()];if(!s){console.error(`Invalid category: ${e}`);return}try{const i={version:zm,data:t,lastUpdated:new Date().toISOString()};localStorage.setItem(s,JSON.stringify(i))}catch(i){console.error(`Error saving guest data for ${e}:`,i),sy(i)}},Wm=()=>{try{Object.values(qo).forEach(e=>{localStorage.removeItem(e)}),Fd()}catch(e){console.error("Error clearing guest data:",e)}},$C=()=>{const e={};try{Object.entries(qo).forEach(([t,s])=>{if(t==="SNACKBAR_DISMISSED")return;const i=localStorage.getItem(s);if(i)try{const l=JSON.parse(i);e[t.toLowerCase()]=l.data!==void 0?l.data:l}catch(l){console.error(`Error parsing guest data for ${t}:`,l)}})}catch(t){console.error("Error getting all guest data:",t)}return e},c3=()=>{try{const e=localStorage.getItem(qo.SNACKBAR_DISMISSED);if(!e)return!0;const t=parseInt(e,10),s=Date.now(),i=1440*60*1e3;return s-t>i}catch(e){return console.error("Error checking snackbar status:",e),!0}},u3=()=>{try{localStorage.setItem(qo.SNACKBAR_DISMISSED,Date.now().toString())}catch(e){console.error("Error dismissing snackbar:",e),sy(e)}},sy=e=>{(e.name==="QuotaExceededError"||e.code===22)&&console.error("localStorage quota exceeded. Some data may not be saved.")},_e={WORKOUT_HISTORY:"goodlift_workout_history",USER_STATS:"goodlift_user_stats",EXERCISE_WEIGHTS:"goodlift_exercise_weights",EXERCISE_TARGET_REPS:"goodlift_exercise_target_reps",HIIT_SESSIONS:"goodlift_hiit_sessions",STRETCH_SESSIONS:"goodlift_stretch_sessions",YOGA_SESSIONS:"goodlift_yoga_sessions",CARDIO_SESSIONS:"goodlift_cardio_sessions",FAVORITE_WORKOUTS:"goodlift_favorite_workouts",FAVORITE_EXERCISES:"goodlift_favorite_exercises",PINNED_EXERCISES:"goodlift_pinned_exercises",WORKOUT_PLANS:"goodlift_workout_plans",ACTIVE_PLAN:"goodlift_active_plan"};let We=null;const QC=e=>{We=e},wc=()=>We,Ei=async()=>{try{if(tt())return Bn("workout_history")||[];if(We)try{const t=await wa(We);if(t?.workoutHistory)return localStorage.setItem(_e.WORKOUT_HISTORY,JSON.stringify(t.workoutHistory)),t.workoutHistory}catch(t){console.error("Firebase fetch failed, using localStorage:",t)}const e=localStorage.getItem(_e.WORKOUT_HISTORY);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading workout history:",e),[]}},ry=async e=>{try{if(!e)throw new Error("Workout data is required");const t=await Ei();t.unshift(e),tt()?kt("workout_history",t):(localStorage.setItem(_e.WORKOUT_HISTORY,JSON.stringify(t)),We&&await _c(We,t))}catch(t){throw console.error("Error saving workout:",t),t}},d3=async e=>{try{const t=await Ei();if(e<0||e>=t.length)throw new Error("Invalid workout index");t.splice(e,1),tt()?kt("workout_history",t):(localStorage.setItem(_e.WORKOUT_HISTORY,JSON.stringify(t)),We&&await _c(We,t))}catch(t){throw console.error("Error deleting workout:",t),t}},f3=async(e,t)=>{try{const s=await Ei();if(e<0||e>=s.length)throw new Error("Invalid workout index");s[e]={...s[e],...t},tt()?kt("workout_history",s):(localStorage.setItem(_e.WORKOUT_HISTORY,JSON.stringify(s)),We&&await _c(We,s))}catch(s){throw console.error("Error updating workout:",s),s}},iy=async()=>{try{const e=await Ei(),t=e.length,s=e.reduce((b,S)=>b+(S.duration||0),0),l=Go().reduce((b,S)=>b+(S.duration||0),0),d=$o().reduce((b,S)=>b+(S.duration||0),0),p=zc().reduce((b,S)=>b+(S.duration||0),0),y=Qo().reduce((b,S)=>b+(S.duration||0),0),v={totalWorkouts:t,totalTime:s,totalHiitTime:l,totalCardioTime:d,totalStretchTime:p,totalYogaTime:y};return tt()?kt("user_stats",v):(localStorage.setItem(_e.USER_STATS,JSON.stringify(v)),We&&await nf(We,v)),v}catch(e){return console.error("Error calculating user stats:",e),{totalWorkouts:0,totalTime:0,totalHiitTime:0,totalCardioTime:0,totalStretchTime:0,totalYogaTime:0}}},KC=async e=>{try{if(!e)throw new Error("Stats object is required");tt()?kt("user_stats",e):(localStorage.setItem(_e.USER_STATS,JSON.stringify(e)),We&&await nf(We,e))}catch(t){throw console.error("Error saving user stats:",t),t}},jc=async e=>{try{if(tt()){const u=Bn("exercise_weights")?.[e];return u!==void 0?u:null}if(We)try{const l=await wa(We);if(l?.exerciseWeights){localStorage.setItem(_e.EXERCISE_WEIGHTS,JSON.stringify(l.exerciseWeights));const u=l.exerciseWeights[e];return u!==void 0?u:null}}catch(l){console.error("Firebase fetch failed, using localStorage:",l)}const t=localStorage.getItem(_e.EXERCISE_WEIGHTS),i=(t?JSON.parse(t):{})[e];return i!==void 0?i:null}catch(t){return console.error("Error reading exercise weight:",t),null}},h3=async()=>{try{if(tt())return Bn("exercise_weights")||{};if(We)try{const t=await wa(We);if(t?.exerciseWeights)return localStorage.setItem(_e.EXERCISE_WEIGHTS,JSON.stringify(t.exerciseWeights)),t.exerciseWeights}catch(t){console.error("Firebase fetch failed, using localStorage:",t)}const e=localStorage.getItem(_e.EXERCISE_WEIGHTS);return e?JSON.parse(e):{}}catch(e){return console.error("Error reading exercise weights:",e),{}}},ma=async(e,t)=>{try{if(!e)throw new Error("Exercise name is required");if(t!=null&&(typeof t!="number"||t<0))throw new Error("Weight must be a positive number or null");const s=await h3();s[e]=t??null,tt()?kt("exercise_weights",s):(localStorage.setItem(_e.EXERCISE_WEIGHTS,JSON.stringify(s)),We&&await Zg(We,s))}catch(s){throw console.error("Error saving exercise weight:",s),s}},Fo=async e=>{try{if(tt()){const u=Bn("exercise_target_reps")?.[e];return u!==void 0?u:null}if(We)try{const l=await wa(We);if(l?.exerciseTargetReps){localStorage.setItem(_e.EXERCISE_TARGET_REPS,JSON.stringify(l.exerciseTargetReps));const u=l.exerciseTargetReps[e];return u!==void 0?u:null}}catch(l){console.error("Firebase fetch failed, using localStorage:",l)}const t=localStorage.getItem(_e.EXERCISE_TARGET_REPS),i=(t?JSON.parse(t):{})[e];return i!==void 0?i:null}catch(t){return console.error("Error reading exercise target reps:",t),null}},Cc=async(e,t)=>{try{if(!e)throw new Error("Exercise name is required");if(t!=null&&(typeof t!="number"||t<1))throw new Error("Reps must be a positive number or null");let s={};if(tt())s=Bn("exercise_target_reps")||{};else{const i=localStorage.getItem(_e.EXERCISE_TARGET_REPS);s=i?JSON.parse(i):{}}s[e]=t??null,tt()?kt("exercise_target_reps",s):(localStorage.setItem(_e.EXERCISE_TARGET_REPS,JSON.stringify(s)),We&&await Jg(We,s))}catch(s){throw console.error("Error saving exercise target reps:",s),s}},XC=async e=>{if(!e){console.error("Cannot load data: No user ID provided");return}try{QC(e);const t=await wa(e);if(t)t.workoutHistory&&localStorage.setItem(_e.WORKOUT_HISTORY,JSON.stringify(t.workoutHistory)),t.userStats&&localStorage.setItem(_e.USER_STATS,JSON.stringify(t.userStats)),t.exerciseWeights&&localStorage.setItem(_e.EXERCISE_WEIGHTS,JSON.stringify(t.exerciseWeights)),t.exerciseTargetReps&&localStorage.setItem(_e.EXERCISE_TARGET_REPS,JSON.stringify(t.exerciseTargetReps)),t.hiitSessions&&localStorage.setItem(_e.HIIT_SESSIONS,JSON.stringify(t.hiitSessions)),t.cardioSessions&&localStorage.setItem(_e.CARDIO_SESSIONS,JSON.stringify(t.cardioSessions)),t.stretchSessions&&localStorage.setItem(_e.STRETCH_SESSIONS,JSON.stringify(t.stretchSessions)),t.yogaSessions&&localStorage.setItem(_e.YOGA_SESSIONS,JSON.stringify(t.yogaSessions)),t.workoutPlans&&localStorage.setItem(_e.WORKOUT_PLANS,JSON.stringify(t.workoutPlans)),t.activePlanId&&localStorage.setItem(_e.ACTIVE_PLAN,t.activePlanId);else{const s=await Ei(),i=await iy(),l=localStorage.getItem(_e.EXERCISE_WEIGHTS),u=l?JSON.parse(l):{},d=localStorage.getItem(_e.EXERCISE_TARGET_REPS),f=d?JSON.parse(d):{},p=Go(),g=$o(),y=zc(),v=Qo(),b=localStorage.getItem(_e.WORKOUT_PLANS),S=b?JSON.parse(b):[],j=localStorage.getItem(_e.ACTIVE_PLAN);(s.length>0||i?.totalWorkouts>0||Object.keys(u).length>0||Object.keys(f).length>0||p.length>0||g.length>0||y.length>0||v.length>0||S.length>0||j)&&await Promise.all([_c(e,s),nf(e,i),Zg(e,u),Jg(e,f),sf(e,p),rf(e,g),ey(e,y),af(e,v),ty(e,S),_m(e,j)])}}catch(t){console.error("Error loading user data from cloud:",t)}},Go=()=>{try{if(tt())return Bn("hiit_sessions")||[];const e=localStorage.getItem(_e.HIIT_SESSIONS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading HIIT sessions:",e),[]}},ay=async e=>{try{if(!e)throw new Error("Session data is required");const t=Go();t.unshift(e),tt()?kt("hiit_sessions",t):(localStorage.setItem(_e.HIIT_SESSIONS,JSON.stringify(t)),We&&await sf(We,t))}catch(t){throw console.error("Error saving HIIT session:",t),t}},$o=()=>{try{if(tt())return Bn("cardio_sessions")||[];const e=localStorage.getItem(_e.CARDIO_SESSIONS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading cardio sessions:",e),[]}},p3=async e=>{try{if(!e)throw new Error("Session data is required");const t=$o(),s={id:`${Date.now()}-${Math.random().toString(36).substring(2,11)}`,cardioType:e.cardioType,duration:e.duration,date:e.date||Date.now(),notes:e.notes||""};t.unshift(s),tt()?kt("cardio_sessions",t):(localStorage.setItem(_e.CARDIO_SESSIONS,JSON.stringify(t)),We&&await rf(We,t))}catch(t){throw console.error("Error saving cardio session:",t),t}},m3=async e=>{try{const t=$o();if(!t.find(l=>l.id===e))throw new Error("Session not found");const i=t.filter(l=>l.id!==e);tt()?kt("cardio_sessions",i):(localStorage.setItem(_e.CARDIO_SESSIONS,JSON.stringify(i)),We&&await rf(We,i))}catch(t){throw console.error("Error deleting cardio session:",t),t}},g3=async(e,t)=>{try{const s=$o(),i=s.findIndex(l=>l.id===e);if(i===-1)throw new Error("Session not found");s[i]={...s[i],...t},tt()?kt("cardio_sessions",s):(localStorage.setItem(_e.CARDIO_SESSIONS,JSON.stringify(s)),We&&await rf(We,s))}catch(s){throw console.error("Error updating cardio session:",s),s}},oa=()=>{try{if(tt())return Bn("favorite_workouts")||[];const e=localStorage.getItem(_e.FAVORITE_WORKOUTS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading favorite workouts:",e),[]}},of=e=>{try{if(!e)throw new Error("Workout data is required");const t=oa(),s={id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:e.name||`${e.type} Workout`,type:e.type,equipment:e.equipment||"all",exercises:e.exercises,savedAt:new Date().toISOString()};t.unshift(s),tt()?kt("favorite_workouts",t):localStorage.setItem(_e.FAVORITE_WORKOUTS,JSON.stringify(t))}catch(t){throw console.error("Error saving favorite workout:",t),t}},y3=e=>{try{const s=oa().filter(i=>i.id!==e);tt()?kt("favorite_workouts",s):localStorage.setItem(_e.FAVORITE_WORKOUTS,JSON.stringify(s))}catch(t){throw console.error("Error deleting favorite workout:",t),t}},x3=(e,t)=>{try{if(!e||!t)throw new Error("Workout ID and new name are required");const i=oa().map(l=>l.id===e?{...l,name:t}:l);tt()?kt("favorite_workouts",i):localStorage.setItem(_e.FAVORITE_WORKOUTS,JSON.stringify(i))}catch(s){throw console.error("Error updating favorite workout name:",s),s}},zc=()=>{try{if(tt())return Bn("stretch_sessions")||[];const e=localStorage.getItem(_e.STRETCH_SESSIONS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading stretch sessions:",e),[]}},b3=async e=>{try{if(!e)throw new Error("Session data is required");const t=zc();t.unshift(e),tt()?kt("stretch_sessions",t):(localStorage.setItem(_e.STRETCH_SESSIONS,JSON.stringify(t)),We&&await ey(We,t))}catch(t){throw console.error("Error saving stretch session:",t),t}},v3=async e=>{try{const s=zc().filter(i=>i.id!==e);tt()?kt("stretch_sessions",s):(localStorage.setItem(_e.STRETCH_SESSIONS,JSON.stringify(s)),We&&await ey(We,s))}catch(t){throw console.error("Error deleting stretch session:",t),t}},Qo=()=>{try{if(tt())return Bn("yoga_sessions")||[];const e=localStorage.getItem(_e.YOGA_SESSIONS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading yoga sessions:",e),[]}},oy=async e=>{try{if(!e)throw new Error("Session data is required");const t=Qo();t.unshift(e),tt()?kt("yoga_sessions",t):(localStorage.setItem(_e.YOGA_SESSIONS,JSON.stringify(t)),We&&await af(We,t))}catch(t){throw console.error("Error saving yoga session:",t),t}},S3=async(e,t)=>{try{const s=Qo(),i=s.findIndex(l=>l.id===e);if(i===-1)throw new Error("Session not found");s[i]={...s[i],...t},tt()?kt("yoga_sessions",s):(localStorage.setItem(_e.YOGA_SESSIONS,JSON.stringify(s)),We&&await af(We,s))}catch(s){throw console.error("Error updating yoga session:",s),s}},w3=async e=>{try{const s=Qo().filter(i=>i.id!==e);tt()?kt("yoga_sessions",s):(localStorage.setItem(_e.YOGA_SESSIONS,JSON.stringify(s)),We&&await af(We,s))}catch(t){throw console.error("Error deleting yoga session:",t),t}},j3=async e=>{try{const s=Go().filter(i=>i.id!==e);tt()?kt("hiit_sessions",s):(localStorage.setItem(_e.HIIT_SESSIONS,JSON.stringify(s)),We&&await sf(We,s))}catch(t){throw console.error("Error deleting HIIT session:",t),t}},C3=async(e,t)=>{try{const s=Go(),i=s.findIndex(l=>l.id===e);if(i===-1)throw new Error("Session not found");s[i]={...s[i],...t},tt()?kt("hiit_sessions",s):(localStorage.setItem(_e.HIIT_SESSIONS,JSON.stringify(s)),We&&await sf(We,s))}catch(s){throw console.error("Error updating HIIT session:",s),s}},ly=()=>{try{if(tt()){const t=Bn("favorite_exercises")||[];return new Set(t)}const e=localStorage.getItem(_e.FAVORITE_EXERCISES);return new Set(e?JSON.parse(e):[])}catch(e){return console.error("Error reading favorite exercises:",e),new Set}},T3=e=>{try{if(!e)throw new Error("Exercise name is required");const t=ly();let s;t.has(e)?(t.delete(e),s=!1):(t.add(e),s=!0);const i=Array.from(t);return tt()?kt("favorite_exercises",i):localStorage.setItem(_e.FAVORITE_EXERCISES,JSON.stringify(i)),s}catch(t){throw console.error("Error toggling favorite exercise:",t),t}},D3=e=>ly().has(e),cy=()=>{try{if(tt())return Bn("pinned_exercises")||[];const e=localStorage.getItem(_e.PINNED_EXERCISES);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading pinned exercises:",e),[]}},ZC=e=>{try{if(!Array.isArray(e))throw new Error("Pinned exercises must be an array");const t=e.slice(0,10);tt()?kt("pinned_exercises",t):localStorage.setItem(_e.PINNED_EXERCISES,JSON.stringify(t))}catch(t){throw console.error("Error saving pinned exercises:",t),t}},E3=(e,t="weight")=>{try{const s=cy();return s.some(i=>i.exerciseName===e)||s.length>=10?!1:(s.push({exerciseName:e,trackingMode:t}),ZC(s),!0)}catch(s){return console.error("Error adding pinned exercise:",s),!1}},M3=e=>{try{const s=cy().filter(i=>i.exerciseName!==e);ZC(s)}catch(t){throw console.error("Error removing pinned exercise:",t),t}},wi=async()=>{try{if(tt())return Bn("workout_plans")||[];if(We)try{const t=await wa(We);if(t?.workoutPlans)return localStorage.setItem(_e.WORKOUT_PLANS,JSON.stringify(t.workoutPlans)),t.workoutPlans}catch(t){console.error("Firebase fetch failed, using localStorage:",t)}const e=localStorage.getItem(_e.WORKOUT_PLANS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading workout plans:",e),[]}},Hd=async e=>{try{const t=await wi(),s=t.findIndex(i=>i.id===e.id);s>=0?t[s]=e:t.push(e),tt()?kt("workout_plans",t):(localStorage.setItem(_e.WORKOUT_PLANS,JSON.stringify(t)),We&&(console.log("Syncing to Firebase for user:",We),await ty(We,t),console.log("Firebase sync complete")))}catch(t){throw console.error("Error saving workout plan:",t),t}},uy=async e=>{try{const s=(await wi()).filter(l=>l.id!==e);tt()?kt("workout_plans",s):(localStorage.setItem(_e.WORKOUT_PLANS,JSON.stringify(s)),We&&await ty(We,s));const i=await Ko();i&&i.id===e&&await ar(null)}catch(t){throw console.error("Error deleting workout plan:",t),t}},Ko=async()=>{try{if(tt())return Bn("active_plan")||null;if(We)try{const s=await wa(We);if(s?.activePlanId)return localStorage.setItem(_e.ACTIVE_PLAN,s.activePlanId),(await wi()).find(l=>l.id===s.activePlanId)||null}catch(s){console.error("Firebase fetch failed, using localStorage:",s)}const e=localStorage.getItem(_e.ACTIVE_PLAN);return e&&(await wi()).find(s=>s.id===e)||null}catch(e){return console.error("Error reading active plan:",e),null}},ar=async e=>{try{if(tt())if(e){const s=(await wi()).find(i=>i.id===e);kt("active_plan",s)}else kt("active_plan",null);else e?(localStorage.setItem(_e.ACTIVE_PLAN,e),We&&await _m(We,e)):(localStorage.removeItem(_e.ACTIVE_PLAN),We&&await _m(We,null))}catch(t){throw console.error("Error setting active plan:",t),t}},JC=x.createContext({}),lf=()=>x.useContext(JC),eT=({children:e})=>{const[t,s]=x.useState(null),[i,l]=x.useState(!0),[u,d]=x.useState(!1),[f,p]=x.useState(!1),g=()=>{if(tt()){const T=$C(),C=Object.keys(T).length>0;return p(C),C}return p(!1),!1},y=(T,C)=>Xk(hd,T,C),v=(T,C)=>Kk(hd,T,C),b=()=>u?(d(!1),Fd(),s(null),Promise.resolve()):Qk(hd),S=()=>{l3(),d(!0),s({uid:"guest",email:null,isGuest:!0})},j=async(T,C)=>{if(d(!1),C||Fd(),s(T),!C)try{await XC(T.uid)}catch(M){console.error("Error loading user data:",M)}};x.useEffect(()=>(tt()&&(d(!0),s({uid:"guest",email:null,isGuest:!0}),g(),l(!1)),$k(hd,async C=>{if(C){const M=g();await j(C,M)}else tt()||(d(!1),p(!1),s(null),QC(null));l(!1)})),[]);const D={currentUser:t,isGuest:u,hasGuestData:f,signup:y,login:v,logout:b,continueAsGuest:S,checkGuestData:g};return a.jsx(JC.Provider,{value:D,children:!i&&e})};eT.propTypes={children:H.node.isRequired};const tT=({open:e,onClose:t,onConfirm:s})=>a.jsxs(Gn,{open:e,onClose:t,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:2}},children:[a.jsx(os,{sx:{pb:1},children:a.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsx(nk,{sx:{color:"warning.main",fontSize:28}}),a.jsx(R,{variant:"h6",component:"span",sx:{fontWeight:600},children:"Sign Out as Guest?"})]})}),a.jsxs($n,{children:[a.jsx(R,{variant:"body1",sx:{mb:2},children:"All your workout data, progress, and settings will be permanently deleted if you sign out."}),a.jsx(R,{variant:"body1",sx:{fontWeight:600,color:"primary.main"},children:"Want to keep your data? Sign up first to save everything to the cloud!"})]}),a.jsxs(Qn,{sx:{p:2,pt:0},children:[a.jsx(ve,{onClick:t,variant:"outlined",sx:{borderColor:"primary.main",color:"primary.main"},children:"Cancel"}),a.jsx(ve,{onClick:s,variant:"contained",color:"error",sx:{fontWeight:600},children:"Sign Out & Delete Data"})]})]});tT.propTypes={open:H.bool.isRequired,onClose:H.func.isRequired,onConfirm:H.func.isRequired};const nT=({currentScreen:e,onNavigate:t,isOpen:s,onToggle:i})=>{const{currentUser:l,isGuest:u,logout:d}=lf(),[f,p]=x.useState(!1),[g,y]=x.useState(!1);x.useEffect(()=>{const D=()=>{p(window.innerWidth<=768)};return D(),window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]);const v=async()=>{if(u){y(!0);return}try{await d()}catch(D){console.error("Failed to log out:",D),alert("Failed to log out. Please try again.")}},b=async()=>{try{Wm(),await d(),y(!1)}catch(D){console.error("Failed to log out:",D),alert("Failed to log out. Please try again.")}},S=D=>{t(D),f&&i()},j=!f||s;return a.jsxs(a.Fragment,{children:[f&&!s&&a.jsx(Pe.button,{className:"hamburger-menu",onClick:i,initial:{opacity:0},animate:{opacity:1},whileHover:{scale:1.1},whileTap:{scale:.9},style:{position:"fixed",top:"max(1rem, env(safe-area-inset-top))",left:"max(1rem, env(safe-area-inset-left))",zIndex:1001,background:"transparent",color:"#1db584",border:"none",borderRadius:"0",padding:"8px",cursor:"pointer",boxShadow:"none"},children:a.jsx(s3,{size:24})}),f&&s&&a.jsx(Pe.div,{className:"sidebar-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:i,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:999}}),a.jsx(xc,{children:j&&a.jsxs(Pe.aside,{initial:f?{x:-320}:!1,animate:{x:0},exit:f?{x:-320}:{},transition:{type:"spring",stiffness:300,damping:30},className:"navigation-sidebar",style:{position:"fixed",top:0,left:0,width:"280px",height:"100vh",background:"#2a3647",backdropFilter:"blur(10px)",boxShadow:"4px 0 20px rgba(0, 0, 0, 0.5)",zIndex:1e3,overflow:"hidden",display:"flex",flexDirection:"column"},children:[a.jsxs("div",{style:{padding:"1.5rem 1.5rem 1rem",borderBottom:"2px solid rgba(29, 181, 132, 0.2)"},children:[a.jsx(Pe.button,{whileHover:{scale:1.05},whileTap:{scale:.98},onClick:()=>S("home"),style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem",background:"transparent",border:"none",cursor:"pointer",padding:0,width:"100%"},"aria-label":"Go to Home screen",children:a.jsx("img",{src:"/goodlift/goodlift-logo.svg",alt:"GoodLift",style:{height:"48px",width:"auto"}})}),u&&a.jsx(Pe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},style:{display:"flex",justifyContent:"center",marginTop:"0.5rem"},children:a.jsx(ss,{title:"You're in guest mode. Sign up to save your data permanently!",arrow:!0,children:a.jsx(qe,{label:"Guest Mode",size:"small",sx:{bgcolor:"warning.main",color:"white",fontWeight:600,fontSize:"0.75rem"}})})})]}),a.jsxs("nav",{style:{padding:"1rem 0",flex:1,overflowY:"auto",overflowX:"hidden"},children:[a.jsx(gi,{icon:a.jsx(i3,{}),label:"Home",isActive:e==="home",onClick:()=>S("home")}),a.jsx(gi,{icon:a.jsx(r3,{}),label:"Training Hub",isActive:e==="selection"||e==="preview",onClick:()=>S("selection")}),a.jsx(gi,{icon:a.jsx(hc,{}),label:"Timer Hub",isActive:e==="timer",onClick:()=>S("timer")}),a.jsx(gi,{icon:a.jsx(kd,{}),label:"Progress",isActive:e==="progress",onClick:()=>S("progress")}),a.jsx(gi,{icon:a.jsx(sk,{}),label:"Log Activity",isActive:e==="log-activity",onClick:()=>S("log-activity")}),a.jsx(gi,{icon:a.jsx(Cn,{}),label:"Exercise List",isActive:e==="exercise-list",onClick:()=>S("exercise-list")}),a.jsx(gi,{icon:a.jsx(rk,{}),label:"Settings",isActive:e==="settings",onClick:()=>S("settings")})]}),l&&a.jsx("div",{style:{padding:"1rem 1.5rem",paddingBottom:"max(1rem, env(safe-area-inset-bottom))",borderTop:"2px solid rgba(29, 181, 132, 0.2)",flexShrink:0},children:a.jsxs(Pe.button,{onClick:v,whileHover:{scale:1.02},whileTap:{scale:.98},style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"10px 20px",fontSize:"0.95rem",fontWeight:600,background:"#ff8c00",color:"white",border:"none",borderRadius:"8px",cursor:"pointer"},children:[a.jsx(a3,{})," Logout"]})})]})}),a.jsx(tT,{open:g,onClose:()=>y(!1),onConfirm:b})]})},gi=({icon:e,label:t,isActive:s,onClick:i})=>a.jsxs(Pe.button,{onClick:i,whileHover:{x:5,backgroundColor:"rgba(29, 181, 132, 0.1)"},whileTap:{scale:.98},style:{display:"flex",alignItems:"center",gap:"0.75rem",width:"100%",padding:"12px 1.5rem",fontSize:"1rem",fontWeight:600,background:s?"rgba(29, 181, 132, 0.2)":"transparent",color:s?"#1db584":"#a0a8b3",border:"none",borderLeft:s?"4px solid #1db584":"4px solid transparent",textAlign:"left",cursor:"pointer",transition:"all 0.2s ease"},children:[e,a.jsx("span",{children:t})]});gi.propTypes={icon:H.node.isRequired,label:H.string.isRequired,isActive:H.bool.isRequired,onClick:H.func.isRequired};H.node.isRequired,H.string.isRequired,H.bool.isRequired,H.func.isRequired;nT.propTypes={currentScreen:H.string.isRequired,onNavigate:H.func.isRequired,isOpen:H.bool.isRequired,onToggle:H.func.isRequired};const sT=e=>{const t=Math.floor(e/3600),s=Math.floor(e%3600/60),i=e%60;return`${t.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`},rT=e=>{if(!e)return"";try{const t=new URL(e);let s=t.searchParams.get("v");if(!s){const i=t.pathname.split("/");s=i[i.length-1]}return s=s?.split("&")[0],s?`https://www.youtube.com/embed/${encodeURIComponent(s)}`:""}catch(t){return console.error("Invalid YouTube URL:",e,t),""}},k3=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),la=e=>{const t=Math.floor(e/3600),s=Math.floor(e%3600/60);return t>0?`${t}h ${s}m`:`${s}m`},dy=e=>{if(typeof e=="string"){const t=e.toLowerCase();return t.includes("upper")?"upper":t.includes("lower")?"lower":"full"}if(e?.type)return dy(e.type);if(e?.["Primary Muscle"]){const t=e["Primary Muscle"].toLowerCase();if(t.includes("upper"))return"upper";if(t.includes("lower"))return"lower"}return"full"},Cw=()=>`${Date.now()}-${Math.random().toString(36).substring(2,11)}`,Vm=e=>({push:"Push",pull:"Pull",legs:"Legs",upper:"Upper Body",lower:"Lower Body",full:"Full Body",yoga:"Yoga",hiit:"HIIT",rest:"Rest",cardio:"Cardio"})[e]||e.charAt(0).toUpperCase()+e.slice(1),Ym=3,Do=8,cf="/goodlift/data/exercises.json",Eo={UPPER_BODY:["Chest","Upper Chest","Lower Chest","Inner Chest","Back","Lats","Upper Back","Lower Back","Delts","Front Delts","Rear Delts","Side Delts","Biceps","Triceps","Forearms","Traps"],LOWER_BODY:["Quads","Hamstrings","Glutes","Calves","Hip Flexors"]},pd={UPPER_BODY:{DUMBBELL:5,BARBELL:2.5},LOWER_BODY:{DUMBBELL:10,BARBELL:5}},P3={MILLISECONDS_PER_DAY:864e5},fy=x.memo(({todaysWorkout:e,nextWorkouts:t=[],lastWorkout:s,onQuickStart:i,onViewPlan:l,loading:u=!1})=>{const d=s&&s.date,p=(()=>{if(!d)return null;const g=new Date(s.date),v=Math.abs(new Date-g);return Math.ceil(v/P3.MILLISECONDS_PER_DAY)})();return a.jsx(Le,{sx:{width:"100%",borderRadius:3,boxShadow:"0 4px 16px rgba(19, 70, 134, 0.08)",background:"linear-gradient(135deg, rgba(19, 70, 134, 0.02) 0%, rgba(237, 63, 39, 0.02) 100%)"},children:a.jsxs(Fe,{sx:{p:2,"&:last-child":{pb:2}},children:[a.jsx(Y,{sx:{mb:2},children:a.jsx(R,{variant:"overline",sx:{color:"primary.main",fontWeight:600,letterSpacing:1},children:"TODAY'S WORKOUT"})}),e&&e.type!=="rest"?a.jsxs(Y,{sx:{mb:2},children:[a.jsxs(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[a.jsxs(R,{variant:"h5",sx:{fontWeight:700,color:"text.primary"},children:[Vm(e.type),e.focus&&a.jsx(qe,{label:e.focus,size:"small",sx:{ml:1,textTransform:"capitalize"}})]}),p!==null&&a.jsx(R,{variant:"caption",sx:{color:"text.secondary"},children:p===0?"Today":`${p}d ago`})]}),d&&a.jsxs(R,{variant:"body2",sx:{color:"text.secondary",mb:1},children:["Last: ",la(s.duration||0),s.exercises&&`  ${s.exercises.length} exercises`]}),e.estimatedDuration&&a.jsxs(R,{variant:"body2",sx:{color:"text.secondary"},children:["Estimated: ~",e.estimatedDuration," min"]})]}):a.jsxs(Y,{sx:{mb:2},children:[a.jsx(R,{variant:"h5",sx:{fontWeight:700,color:"text.primary",mb:1},children:"Rest Day"}),a.jsx(R,{variant:"body2",sx:{color:"text.secondary"},children:"Recovery is key to growth. Take it easy!"})]}),a.jsxs(Me,{direction:"row",spacing:1,sx:{mb:2},children:[a.jsx(ve,{variant:"contained",startIcon:a.jsx(Hn,{}),onClick:i,disabled:u||e&&e.type==="rest",sx:{flex:1},children:"START"}),a.jsx(ve,{variant:"outlined",startIcon:a.jsx(ik,{}),onClick:l,sx:{flex:1},children:"View Plan"})]}),t.length>0&&a.jsxs(Y,{children:[a.jsx(R,{variant:"caption",sx:{color:"text.secondary",fontWeight:600,textTransform:"uppercase",letterSpacing:.5},children:"What's Next:"}),a.jsx(Me,{spacing:.5,sx:{mt:1},children:t.map((g,y)=>g.type!=="rest"&&a.jsx(Y,{sx:{display:"flex",alignItems:"center",pl:1,borderLeft:"2px solid",borderColor:y===0?"primary.main":"secondary.main"},children:a.jsxs(R,{variant:"body2",sx:{color:"text.primary"},children:[a.jsxs("strong",{children:[g.day,":"]})," ",Vm(g.type)]})},y))})]})]})})});fy.displayName="QuickStartCard";fy.propTypes={todaysWorkout:H.shape({day:H.string,type:H.string,focus:H.string,estimatedDuration:H.number,description:H.string}),nextWorkouts:H.arrayOf(H.shape({day:H.string,type:H.string,description:H.string})),lastWorkout:H.shape({date:H.string,duration:H.number,exercises:H.array}),onQuickStart:H.func.isRequired,onViewPlan:H.func.isRequired,loading:H.bool};const hy=x.memo(({weeklyPlan:e=[],onQuickStartDay:t,onEditPlan:s,currentDay:i=new Date().getDay()})=>{const u=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][i],d=f=>({push:"primary",pull:"info",legs:"warning",upper:"primary",lower:"warning",full:"success",yoga:"secondary",hiit:"error",rest:"default",cardio:"info"})[f]||"default";return a.jsx(Le,{sx:{width:"100%",borderRadius:3,boxShadow:"0 4px 16px rgba(19, 70, 134, 0.08)"},children:a.jsxs(Fe,{sx:{p:2,"&:last-child":{pb:2}},children:[a.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[a.jsx(R,{variant:"overline",sx:{color:"primary.main",fontWeight:600,letterSpacing:1},children:"THIS WEEK"}),a.jsx(rt,{size:"small",onClick:s,"aria-label":"Edit plan",children:a.jsx(Oc,{fontSize:"small"})})]}),a.jsx(Hs,{sx:{p:0},children:e.map((f,p)=>{const g=f.day===u,y=f.type==="rest";return a.jsx(rs,{disablePadding:!0,sx:{mb:.5,borderRadius:1,bgcolor:g?"action.selected":"transparent"},children:a.jsx(U1,{onClick:()=>!y&&t&&t(f),disabled:y,sx:{borderRadius:1,py:1,px:1.5,"&:hover":{bgcolor:y?"transparent":"action.hover"}},children:a.jsxs(Y,{sx:{display:"flex",alignItems:"center",width:"100%",gap:1},children:[a.jsx(R,{variant:"body2",sx:{minWidth:"35px",fontWeight:g?700:600,color:g?"primary.main":"text.secondary"},children:f.day}),a.jsxs(Y,{sx:{flex:1},children:[a.jsx(R,{variant:"body2",sx:{fontWeight:g?600:400,color:y?"text.secondary":"text.primary"},children:Vm(f.type)}),f.description&&!y&&a.jsx(R,{variant:"caption",sx:{color:"text.secondary",display:"block",fontSize:"0.7rem"},children:f.estimatedDuration?`~${f.estimatedDuration} min`:""})]}),!y&&a.jsx(qe,{label:f.focus||f.style||"workout",size:"small",color:d(f.type),sx:{textTransform:"capitalize",fontSize:"0.7rem",height:"20px"}}),!y&&a.jsx(rt,{size:"small",onClick:v=>{v.stopPropagation(),t&&t(f)},sx:{ml:1,color:"primary.main"},children:a.jsx(Hn,{fontSize:"small"})})]})})},p)})})]})})});hy.displayName="WeeklyPlanPreview";hy.propTypes={weeklyPlan:H.arrayOf(H.shape({day:H.string.isRequired,type:H.string.isRequired,focus:H.string,style:H.string,estimatedDuration:H.number,description:H.string})).isRequired,onQuickStartDay:H.func,onEditPlan:H.func.isRequired,currentDay:H.number};const ur=({title:e,subtitle:t,icon:s,action:i})=>a.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",py:1,px:2,borderBottom:"1px solid",borderColor:"divider",mb:2},children:[a.jsxs(Y,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[a.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1},children:[s&&a.jsx("span",{style:{fontSize:"1.2rem"},children:s}),a.jsx(R,{variant:"h6",sx:{fontSize:"1.1rem",fontWeight:700},children:e})]}),t&&a.jsx(R,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.875rem"},children:t})]}),i&&i]});ur.propTypes={title:H.string.isRequired,subtitle:H.string,icon:H.node,action:H.node};const A3=({planStyle:e="ppl",startDate:t=new Date().toISOString(),customDays:s=null})=>{const i=new Date(t);return i.setDate(i.getDate()+6),{planId:`plan_${t.split("T")[0].replace(/-/g,"_")}`,planStyle:e,startDate:t,endDate:i.toISOString(),createdAt:new Date().toISOString(),days:s||O3(e,t)}},O3=(e,t)=>{const s=[],i=new Date(t);for(let l=0;l<7;l++){const u=new Date(i);u.setDate(i.getDate()+l),s.push(R3({dayIndex:l,date:u.toISOString(),planStyle:e}))}return s},R3=({dayIndex:e,date:t,planStyle:s,type:i=null,subtype:l=null,focus:u="strength",includes:d=["strength"],estimatedDuration:f=60})=>{if(!i||!l){const p=I3(s,e);i=i||p.type,l=l||p.subtype}return{dayIndex:e,date:t,type:i,subtype:l,focus:u,includes:d,estimatedDuration:f,generatedWorkout:null,completedSessions:[]}},I3=(e,t)=>({ppl:[{type:"strength",subtype:"push"},{type:"strength",subtype:"pull"},{type:"strength",subtype:"legs"},{type:"yoga",subtype:"flexibility"},{type:"strength",subtype:"push"},{type:"hiit",subtype:"full"},{type:"rest",subtype:"rest"}],upper_lower:[{type:"strength",subtype:"upper"},{type:"strength",subtype:"lower"},{type:"rest",subtype:"rest"},{type:"strength",subtype:"upper"},{type:"strength",subtype:"lower"},{type:"hiit",subtype:"full"},{type:"rest",subtype:"rest"}],full_body:[{type:"strength",subtype:"full"},{type:"yoga",subtype:"flexibility"},{type:"strength",subtype:"full"},{type:"hiit",subtype:"full"},{type:"strength",subtype:"full"},{type:"rest",subtype:"rest"},{type:"rest",subtype:"rest"}]})[e]?.[t]||{type:"rest",subtype:"rest"},B3=(e,t,s)=>({...e,planId:t,planDay:s}),L3=(e,t,s)=>e.filter(i=>i.planId===t&&i.planDay===s),iT=()=>{const[e,t]=x.useState(null),[s,i]=x.useState(null),[l,u]=x.useState(!0);x.useEffect(()=>{(async()=>{u(!0);try{const M=await Ko();if(M)t(M);else{const k=A3({planStyle:"ppl",startDate:new Date().toISOString()});await ar(k),t(k)}}catch(M){console.error("Error loading plan:",M)}finally{u(!1)}})()},[]);const d=x.useCallback(()=>{if(!e)return null;const C=new Date;if(C.setHours(0,0,0,0),e.sessions&&Array.isArray(e.sessions))return e.sessions.find(P=>{const N=new Date(P.date);return N.setHours(0,0,0,0),N.getTime()===C.getTime()})||null;const M=C.getDay();return e.days?.[M]||null},[e]),f=x.useCallback(C=>!e||!e.days?null:e.days[C]||null,[e]),p=x.useCallback((C=3)=>{if(!e)return[];const M=new Date;M.setHours(0,0,0,0);const k=[];if(e.sessions&&Array.isArray(e.sessions))return e.sessions.filter(W=>{const E=new Date(W.date);return E.setHours(0,0,0,0),E>M&&W.type!=="rest"}).sort((W,E)=>new Date(W.date)-new Date(E.date)).slice(0,C).map(W=>{const E=new Date(W.date);return{...W,day:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][E.getDay()]}});if(!e.days)return[];const P=M.getDay();for(let N=1;N<=7&&k.length<C;N++){const W=(P+N)%7,E=e.days[W];E&&E.type!=="rest"&&k.push(E)}return k},[e]),g=x.useCallback(async C=>{try{await ar(C),t(C)}catch(M){console.error("Error updating plan:",M)}},[]),y=x.useCallback(C=>{const M=f(C);return i(M),M},[f]),v=x.useCallback(()=>{i(null)},[]),b=x.useCallback((C,M=null)=>{if(!e)return null;const k=e.days[C];return k?{fromPlan:!0,planId:e.planId,planDay:C,dayData:k,workoutData:M||k.generatedWorkout,workoutType:k.subtype,estimatedDuration:k.estimatedDuration}:null},[e]),S=x.useCallback((C,M=null)=>{if(!e)return C;const k=M!==null?M:s?.dayIndex;return k==null?C:B3(C,e.planId,k)},[e,s]),j=x.useCallback((C,M)=>e?L3(C,e.planId,M):[],[e]),D=x.useCallback((C,M)=>j(C,M).length>0,[j]),T=x.useCallback(()=>({planId:e?.planId||null,planDay:s?.dayIndex??null,hasPlan:!!e,hasSelectedDay:!!s}),[e,s]);return{currentPlan:e,selectedPlanDay:s,loading:l,getTodaysWorkout:d,getPlanDay:f,getUpcomingWorkouts:p,updatePlan:g,selectDay:y,clearSelectedDay:v,createWorkoutNavState:b,linkSession:S,getSessionsForDay:j,hasDayCompleted:D,getPlanContext:T}},N3="modulepreload",F3=function(e){return"/goodlift/"+e},Tw={},Dw=function(t,s,i){let l=Promise.resolve();if(s&&s.length>0){let p=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=d?.nonce||d?.getAttribute("nonce");l=p(s.map(g=>{if(g=F3(g),g in Tw)return;Tw[g]=!0;const y=g.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const b=document.createElement("link");if(b.rel=y?"stylesheet":N3,y||(b.as="script"),b.crossOrigin="",b.href=g,f&&b.setAttribute("nonce",f),document.head.appendChild(b),y)return new Promise((S,j)=>{b.addEventListener("load",S),b.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return l.then(d=>{for(const f of d||[])f.status==="rejected"&&u(f.reason);return t().catch(u)})},H3=(e,t="intermediate")=>({beginner:{full:6,upper:6,lower:6,push:7,pull:7,legs:7},intermediate:{full:8,upper:8,lower:8,push:8,pull:8,legs:8},advanced:{full:9,upper:10,lower:10,push:10,pull:10,legs:10}})[t]?.[e]||Do,_3={Chest:"Lats",Lats:"Chest",Quads:"Hamstrings",Hamstrings:"Quads",Biceps:"Triceps",Triceps:"Biceps",Shoulders:"Lats"},$t=(e,t,s,i=[],l="all")=>{let u=(e[t]||[]).filter(f=>!i.some(p=>p["Exercise Name"]===f["Exercise Name"]));if(l!=="all"){const f=Array.isArray(l)?l:[l];u=u.filter(p=>{const g=p.Equipment.toLowerCase();return f.some(y=>{const v=y.toLowerCase();return v==="cable machine"?g.includes("cable"):v==="dumbbells"?g.includes("dumbbell"):g.includes(v)})})}if(u.length<s)return console.warn(`Insufficient exercises for ${t}. Available: ${u.length}, Requested: ${s}`),u;const d=[...u];for(let f=d.length-1;f>0;f--){const p=Math.floor(Math.random()*(f+1));[d[f],d[p]]=[d[p],d[f]]}return d.slice(0,s)},z3=e=>{const t=[],s=[...e];let i=1;for(;s.length>=2;){const l=s.shift(),u=l["Primary Muscle"].split("(")[0].trim(),d=_3[u];let f=-1;d&&(f=s.findIndex(g=>g["Primary Muscle"].includes(d))),f===-1&&(f=s.findIndex(g=>!g["Primary Muscle"].includes(u))),f===-1&&(f=0);const p=s.splice(f,1)[0];t.push({...l,supersetGroup:i}),t.push({...p,supersetGroup:i}),i++}return s.length>0&&t.push(...s.map(l=>({...l,supersetGroup:null}))),t},W3=(e,t,s="all",i="intermediate")=>{const l=e.reduce((f,p)=>{const g=p["Primary Muscle"].split("(")[0].trim();return f[g]||(f[g]=[]),f[g].push(p),f},{});let u=[];const d=H3(t,i);switch(t){case"push":u.push(...$t(l,"Chest",3,u,s)),u.push(...$t(l,"Delts",2,u,s)),u.push(...$t(l,"Triceps",3,u,s));break;case"pull":u.push(...$t(l,"Lats",4,u,s)),u.push(...$t(l,"Biceps",3,u,s)),u.push(...$t(l,"Traps",1,u,s));break;case"legs":u.push(...$t(l,"Quads",3,u,s)),u.push(...$t(l,"Hamstrings",3,u,s)),u.push(...$t(l,"Glutes",1,u,s)),u.push(...$t(l,"Calves",1,u,s));break;case"upper":u.push(...$t(l,"Chest",3,u,s)),u.push(...$t(l,"Lats",3,u,s)),u.push(...$t(l,"Biceps",1,u,s)),u.push(...$t(l,"Triceps",1,u,s));break;case"lower":{const f=Math.min(4,Math.floor(d*.4)),p=Math.min(3,Math.floor(d*.3)),g=Math.max(1,d-f-p-1);u.push(...$t(l,"Quads",f,u,s)),u.push(...$t(l,"Hamstrings",p,u,s)),u.push(...$t(l,"Glutes",1,u,s)),g>0&&u.push(...$t(l,"Core",g,u,s));break}case"full":{const f=Math.floor(d/4),p=d-f*4;u.push(...$t(l,"Chest",f,u,s)),u.push(...$t(l,"Lats",f,u,s)),u.push(...$t(l,"Quads",f,u,s)),u.push(...$t(l,"Hamstrings",f,u,s)),p>0&&u.push(...$t(l,"Core",p,u,s));break}default:console.warn(`Unknown workout type: ${t}`);break}if(u.length>d)u=u.slice(0,d);else if(u.length<d){const f=Object.keys(l);for(;u.length<d&&f.length>0;){const p=f[Math.floor(Math.random()*f.length)],g=$t(l,p,1,u,s);if(g.length>0)u.push(g[0]);else break}}return u},V3=(e,t,s="all",i="intermediate")=>{if(!e||e.length===0)return console.error("Exercise database is empty. Cannot generate workout."),[];const l=W3(e,t,s,i);return z3(l)},Y3=e=>{const t=[];e.id||t.push("Session missing id"),e.date||t.push("Session missing date"),e.type||t.push("Session missing type"),e.status||t.push("Session missing status"),e.populationError&&t.push(e.populationError);const s=["upper","lower","full","push","pull","legs"].includes(e.type),i=e.type==="hiit",l=e.type==="yoga"||e.type==="stretch";return s?(!e.exercises||!Array.isArray(e.exercises)||e.exercises.length===0)&&t.push(`Standard workout session (${e.type}) missing exercises array`):i?e.sessionData?(!e.sessionData.mainWorkout||!e.sessionData.mainWorkout.exercises)&&t.push("HIIT session missing mainWorkout exercises"):t.push("HIIT session missing sessionData"):l&&(e.sessionData?(!e.sessionData.mainPractice||!e.sessionData.mainPractice.sequences)&&t.push("Yoga session missing mainPractice sequences"):t.push("Yoga session missing sessionData")),{isValid:t.length===0,errors:t}},py=async e=>{const{goal:t="general_fitness",experienceLevel:s="intermediate",daysPerWeek:i=3,duration:l=30,startDate:u=new Date,sessionTypes:d=["full"],equipmentAvailable:f=["all"],preferredDays:p=null,planName:g="My Workout Plan"}=e;if(i<2||i>7)throw new Error("Days per week must be between 2 and 7");if(l<1||l>90)throw new Error("Duration must be between 1 and 90 days");const y=U3(i,s),v=q3({startDate:u,duration:l,daysPerWeek:i,splitType:y,sessionTypes:d,preferredDays:p,experienceLevel:s}),b=X3(l),S={},j=[];for(let C=0;C<v.length;C++){const M=v[C],k=Math.floor(C/i)+1,P=b.includes(k),N=b.filter(E=>E<k).length+1,W=`${M.type}_block${N}`;if(S[W])j.push({...M,exercises:M.type!=="hiit"&&M.type!=="yoga"&&M.type!=="stretch"?S[W]:null,sessionData:M.type==="hiit"||M.type==="yoga"||M.type==="stretch"?S[W]:null,isDeloadWeek:P});else{const E=await Z3(M,s,k,f);S[W]=E.exercises||E.sessionData,j.push(E)}}const D=[];return j.forEach((C,M)=>{const k=Y3(C);k.isValid||D.push(`Session ${M+1} (${C.type}): ${k.errors.join(", ")}`)}),D.length>0&&console.warn("Some sessions failed validation:",D),{id:Q3(),name:g,startDate:u.getTime(),endDate:new Date(u.getTime()+l*24*60*60*1e3).getTime(),duration:l,goal:t,experienceLevel:s,daysPerWeek:i,splitType:y,sessionTypes:d,equipmentAvailable:f,sessions:j,deloadWeeks:b,periodization:{type:l>=56?"undulating":"linear",deloadFrequency:4,volumeProgression:"10% weekly increase"},created:Date.now(),modified:Date.now(),active:!0,validationWarnings:D.length>0?D:[]}},U3=(e,t)=>e<=3||t==="beginner"?"full_body":e===4||e===5?"upper_lower":"ppl",q3=e=>{const{startDate:t,duration:s,daysPerWeek:i,splitType:l,sessionTypes:u,preferredDays:d,experienceLevel:f}=e,p=[],g=new Date(t);g.setHours(0,0,0,0);const y=G3(i,d),v=$3(l,u,f);let b=0,S=new Date(g);for(;S.getTime()<g.getTime()+s*24*60*60*1e3;){const j=S.getDay();if(y.includes(j)){const D=v[b%v.length];p.push({id:K3(),date:S.getTime(),type:D,status:"planned",exercises:null,sessionData:null,completedAt:null,notes:""}),b++}S=new Date(S.getTime()+1440*60*1e3)}return p},G3=(e,t)=>{if(t&&t.length===e)return t;const s={2:[1,4],3:[1,3,5],4:[1,2,4,5],5:[1,2,3,4,5],6:[1,2,3,4,5,6],7:[0,1,2,3,4,5,6]};return s[e]||s[3]},$3=(e,t,s)=>{const i=t.some(p=>["full","upper","lower","push","pull","legs"].includes(p)),l=t.includes("hiit"),u=t.includes("cardio"),d=t.includes("yoga")||t.includes("stretch");let f=[];return i&&(e==="full_body"?f=["full","full","full"]:e==="upper_lower"?f=["upper","lower","upper","lower"]:e==="ppl"&&(f=["push","pull","legs","push","pull","legs"])),f.length>0?(s!=="beginner"&&(l||u)&&(f.length>=4&&l?f.splice(3,0,"hiit"):f.length>=3&&u&&f.push("cardio")),d&&f.length>=3&&f.push("yoga")):(l&&f.push("hiit"),u&&f.push("cardio"),d&&f.push("yoga")),f.length===0&&(f=["full","full","full"]),f},Q3=()=>`plan_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,K3=()=>`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,X3=e=>{const t=Math.floor(e/7),s=[];for(let i=4;i<=t;i+=4)s.push(i);return s},Md=e=>{const t=Date.now(),s=e.sessions.length,i=e.sessions.filter(f=>f.status==="completed").length,l=e.sessions.filter(f=>f.status==="skipped").length,u=e.sessions.filter(f=>f.status==="planned"&&f.date<t).length,d=e.sessions.filter(f=>f.status==="planned"&&f.date>=t).length;return{totalSessions:s,completedSessions:i,skippedSessions:l,missedSessions:u,upcomingSessions:d,completionRate:s>0?i/s*100:0}},Z3=async(e,t,s,i=["all"])=>{if(["upper","lower","full","push","pull","legs"].includes(e.type))try{const l=await fetch("/goodlift/data/exercises.json"),u=l.ok?await l.json():[];let d=u;e.type==="upper"?d=u.filter(g=>g["Workout Type"]&&(g["Workout Type"].includes("Upper Body")||g["Workout Type"].includes("Full Body")||g["Workout Type"].includes("Push/Pull/Legs"))):e.type==="lower"?d=u.filter(g=>g["Workout Type"]&&(g["Workout Type"].includes("Lower Body")||g["Workout Type"].includes("Full Body")||g["Workout Type"].includes("Push/Pull/Legs"))):e.type==="full"?d=u.filter(g=>g["Workout Type"]&&g["Workout Type"].includes("Full Body")):["push","pull","legs"].includes(e.type)&&(d=u.filter(g=>g["Workout Type"]&&g["Workout Type"].includes("Push/Pull/Legs")));const f=i.includes("all")?"all":i,p=V3(d,e.type,f,t);return{...e,exercises:p,sessionData:null}}catch(l){return console.error("Error generating standard workout session:",l),{...e,exercises:[],populationError:`Failed to generate exercises: ${l.message}`}}if(e.type==="hiit")try{const{generateHIITSession:l,HIIT_PROTOCOLS:u}=await Dw(async()=>{const{generateHIITSession:y,HIIT_PROTOCOLS:v}=await Promise.resolve().then(()=>VB);return{generateHIITSession:y,HIIT_PROTOCOLS:v}},void 0),d=await fetch("/goodlift/data/exercises.json"),f=d.ok?await d.json():[];let p="BALANCED";t==="beginner"?p="MAX_POWER":t==="advanced"&&s>=4&&(p="METABOLIC");const g=l({modality:"bodyweight",level:t,protocol:p,exercises:f,lowerImpact:t==="beginner",goal:"cardiovascular"});return{...e,sessionData:g,exercises:null}}catch(l){return console.error("Error generating HIIT session:",l),{...e,exercises:null,sessionData:null,populationError:`Failed to generate HIIT session: ${l.message}`}}if(e.type==="yoga"||e.type==="stretch")try{const{generateYogaSession:l}=await Dw(async()=>{const{generateYogaSession:g}=await Promise.resolve().then(()=>YB);return{generateYogaSession:g}},void 0),u=await fetch("/goodlift/data/yoga-poses.json"),d=u.ok?await u.json():[];let f="power";s%2===0?f="restorative":s>=8&&(f=s%3===0?"yin":"flexibility");const p=l({mode:f,level:t,poses:d,goal:f==="restorative"||f==="yin"?"recovery":"balance"});return{...e,sessionData:p,exercises:null}}catch(l){return console.error("Error generating Yoga session:",l),{...e,exercises:null,sessionData:null,populationError:`Failed to generate Yoga session: ${l.message}`}}return{...e,exercises:e.exercises||null,sessionData:e.sessionData||null}},my=({open:e,onClose:t,onPlanCreated:s})=>{const[i,l]=x.useState(""),[u,d]=x.useState("3"),[f,p]=x.useState("general_fitness"),[g,y]=x.useState("intermediate"),[v,b]=x.useState(!1),[S,j]=x.useState(null),D=()=>{v||(l(""),d("3"),p("general_fitness"),y("intermediate"),j(null),t())},T=async()=>{try{b(!0),j(null);const C=await py({planName:i||"My Workout Plan",daysPerWeek:parseInt(u,10),goal:f,experienceLevel:g,duration:30,startDate:new Date,equipmentAvailable:["all"],sessionTypes:["full","upper","lower","hiit","cardio","yoga"]});await Hd(C),await ar(C.id),s&&s(C),D()}catch(C){console.error("Error generating plan:",C),j(C.message||"Failed to generate plan. Please try again.")}finally{b(!1)}};return a.jsxs(Gn,{open:e,onClose:D,maxWidth:"sm",fullWidth:!0,children:[a.jsx(os,{children:"Create New Workout Plan"}),a.jsx($n,{children:a.jsxs(Y,{sx:{display:"flex",flexDirection:"column",gap:3,pt:2},children:[a.jsx(et,{label:"Plan Name (Optional)",value:i,onChange:C=>l(C.target.value),fullWidth:!0,placeholder:"e.g., Summer Training",disabled:v}),a.jsxs(ht,{component:"fieldset",disabled:v,children:[a.jsx(Ip,{component:"legend",children:"Days Per Week"}),a.jsxs(Bp,{value:u,onChange:C=>d(C.target.value),children:[a.jsx(Nn,{value:"3",control:a.jsx(ms,{}),label:"3 days"}),a.jsx(Nn,{value:"4",control:a.jsx(ms,{}),label:"4 days"}),a.jsx(Nn,{value:"5",control:a.jsx(ms,{}),label:"5 days"}),a.jsx(Nn,{value:"6",control:a.jsx(ms,{}),label:"6 days"})]})]}),a.jsxs(ht,{component:"fieldset",disabled:v,children:[a.jsx(Ip,{component:"legend",children:"Goal"}),a.jsxs(Bp,{value:f,onChange:C=>p(C.target.value),children:[a.jsx(Nn,{value:"strength",control:a.jsx(ms,{}),label:"Strength"}),a.jsx(Nn,{value:"hypertrophy",control:a.jsx(ms,{}),label:"Muscle"}),a.jsx(Nn,{value:"fat_loss",control:a.jsx(ms,{}),label:"Fat-Loss"}),a.jsx(Nn,{value:"general_fitness",control:a.jsx(ms,{}),label:"General"})]})]}),a.jsxs(ht,{component:"fieldset",disabled:v,children:[a.jsx(Ip,{component:"legend",children:"Experience Level"}),a.jsxs(Bp,{value:g,onChange:C=>y(C.target.value),children:[a.jsx(Nn,{value:"beginner",control:a.jsx(ms,{}),label:"Beginner"}),a.jsx(Nn,{value:"intermediate",control:a.jsx(ms,{}),label:"Intermediate"}),a.jsx(Nn,{value:"advanced",control:a.jsx(ms,{}),label:"Advanced"})]})]}),S&&a.jsx(Mt,{severity:"error",onClose:()=>j(null),children:S}),v&&a.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:2},children:[a.jsx(Rc,{size:24}),a.jsx(R,{variant:"body2",color:"text.secondary",children:"Generating your plan..."})]})]})}),a.jsxs(Qn,{children:[a.jsx(ve,{onClick:D,disabled:v,children:"Cancel"}),a.jsx(ve,{onClick:T,variant:"contained",disabled:v,children:"Generate Plan"})]})]})};my.propTypes={open:H.bool.isRequired,onClose:H.func.isRequired,onPlanCreated:H.func};const gy=x.memo(({workoutType:e,selectedEquipment:t,equipmentOptions:s,onWorkoutTypeChange:i,onEquipmentChange:l,onStartWorkout:u,onCustomize:d,onNavigate:f,loading:p})=>{const[g,y]=x.useState([]),[v,b]=x.useState(!1),[S,j]=x.useState(null),[D,T]=x.useState(""),[C,M]=x.useState(null),[k,P]=x.useState(null),[N,W]=x.useState(!1),{currentPlan:E,getTodaysWorkout:L,getUpcomingWorkouts:_,getPlanDay:B,createWorkoutNavState:V}=iT();x.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),y(oa()),(async()=>{const de=await Ei();if(de&&de.length>0){const Te=de[0];P({date:Te.date,duration:Te.duration,exercises:Te.exercises?Object.keys(Te.exercises):[]})}})()},[]);const A=L(),q=_(2),U=(()=>{if(!E)return[];const ce=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],de=new Date,Te=[];if(E.sessions&&Array.isArray(E.sessions))for(let Ee=0;Ee<7;Ee++){const oe=new Date(de);oe.setDate(de.getDate()+Ee),oe.setHours(0,0,0,0);const Ce=E.sessions.find(te=>{const we=new Date(te.date);return we.setHours(0,0,0,0),we.getTime()===oe.getTime()});Ce?Te.push({day:ce[oe.getDay()],type:Ce.type,focus:Ce.focus,estimatedDuration:Ce.estimatedDuration,label:Ce.type.charAt(0).toUpperCase()+Ce.type.slice(1)}):Te.push({day:ce[oe.getDay()],type:"rest",label:"Rest"})}else if(E.days&&Array.isArray(E.days))return E.days.map((Ee,oe)=>({day:ce[oe],type:Ee.subtype||Ee.type,focus:Ee.focus,estimatedDuration:Ee.estimatedDuration,label:Ee.subtype?Ee.subtype.charAt(0).toUpperCase()+Ee.subtype.slice(1):Ee.type}));return Te})(),z=()=>{if(e){const ce=t.has("all")?"all":Array.from(t);u(e,ce)}},F=()=>{if(e&&d){const ce=t.has("all")?"all":Array.from(t);d(e,ce)}},I=ce=>{y3(ce),y(oa())},Q=ce=>{j(ce),T(ce.name),b(!0)},ee=()=>{S&&D.trim()&&(x3(S.id,D.trim()),y(oa()),b(!1),j(null),T(""))},ye=()=>{b(!1),j(null),T("")},fe=()=>{W(!0)},ge=()=>{W(!1)},De=()=>{window.location.reload()},ke=ce=>{i(ce.type),l(ce.equipment||"all");const de=ce.equipment==="all"?"all":[ce.equipment];u(ce.type,de,ce.exercises)},Oe=()=>{if(A&&A.type!=="rest"){const ce=A.subtype||A.type;i(ce);const de=t.has("all")?"all":Array.from(t),Te=new Date().getDay(),Ee=V(Te);u(ce,de,null,Ee)}},Ve=ce=>{if(!ce||ce.type==="rest")return;const de=U.findIndex(te=>te.day===ce.day);if(de===-1)return;const Te=B(de);if(!Te)return;const Ee=Te.subtype||Te.type;i(Ee);const oe=t.has("all")?"all":Array.from(t),Ce=V(de);u(Ee,oe,null,Ce)},Ue=()=>{f&&f("progress")},nt=ce=>{const de=new Set(t);ce==="all"?(de.clear(),de.add("all")):(de.has("all")&&de.delete("all"),de.has(ce)?de.delete(ce):de.add(ce),de.size===0&&de.add("all")),l(de)},Ne=()=>{if(t.has("all"))return"All Equipment";const ce=Array.from(t);return ce.length===0?"All Equipment":ce.length===1?s.find(Te=>Te.toLowerCase()===ce[0])||ce[0]:`${ce.length} selected`};return a.jsxs(Y,{sx:{width:"100%",minHeight:"100vh"},children:[a.jsx(ur,{title:"Workouts",icon:""}),a.jsxs(Pe.div,{className:"screen selection-screen",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"calc(100vh - 4rem)",padding:"1rem",paddingBottom:"max(2rem, calc(env(safe-area-inset-bottom) + 1rem))",overflow:"auto"},children:[p?a.jsx(Y,{sx:{textAlign:"center"},children:a.jsx(R,{variant:"h5",sx:{mb:2},children:"Generating workout..."})}):a.jsxs(Y,{sx:{width:"100%",maxWidth:800},children:[a.jsx(Y,{sx:{mb:3},children:a.jsx(fy,{todaysWorkout:A,nextWorkouts:q,lastWorkout:k,onQuickStart:Oe,onViewPlan:Ue,loading:p})}),a.jsx(Y,{sx:{mb:3},children:a.jsx(hy,{weeklyPlan:U,onQuickStartDay:Ve,onEditPlan:Ue})}),a.jsx(Y,{sx:{mb:3},children:a.jsx(ve,{variant:"outlined",startIcon:a.jsx(Gs,{}),onClick:fe,fullWidth:!0,sx:{py:1.5,borderRadius:2,textTransform:"none",fontSize:"1rem",fontWeight:600},children:"Create New Plan"})}),a.jsx(Le,{sx:{maxWidth:800,width:"100%",borderRadius:3,boxShadow:"0 8px 32px rgba(19, 70, 134, 0.12)"},children:a.jsxs(Fe,{sx:{p:{xs:2,sm:4}},children:[a.jsx(Y,{sx:{mb:3},children:a.jsxs(Me,{direction:{xs:"column",sm:"row"},spacing:2,sx:{width:"100%"},children:[a.jsxs(ht,{fullWidth:!0,children:[a.jsx(vt,{id:"workout-type-label",children:"Workout Type"}),a.jsxs(St,{labelId:"workout-type-label",id:"workout-type-select",value:e||"full",label:"Workout Type",onChange:ce=>i(ce.target.value),children:[a.jsx(Se,{value:"full",children:"Full Body"}),a.jsx(Se,{value:"upper",children:"Upper Body"}),a.jsx(Se,{value:"lower",children:"Lower Body"})]})]}),a.jsx(Y,{sx:{width:"100%"},children:a.jsxs(Lp,{sx:{boxShadow:"none",border:"1px solid rgba(0, 0, 0, 0.23)",borderRadius:"4px","&:before":{display:"none"},"&.Mui-expanded":{margin:0}},children:[a.jsx(Np,{expandIcon:a.jsx(ec,{}),sx:{minHeight:"56px","&.Mui-expanded":{minHeight:"56px"},"& .MuiAccordionSummary-content":{margin:"16px 0","&.Mui-expanded":{margin:"16px 0"}}},children:a.jsxs(Y,{sx:{display:"flex",flexDirection:"column",width:"100%"},children:[a.jsx(R,{variant:"caption",sx:{color:"rgba(0, 0, 0, 0.6)",fontSize:"0.75rem",lineHeight:1,mb:.5},children:"Equipment"}),a.jsx(R,{sx:{color:"rgba(0, 0, 0, 0.87)",fontSize:"1rem"},children:Ne()})]})}),a.jsx(Fp,{sx:{pt:0,pb:2},children:a.jsxs(Y,{component:"div",role:"group","aria-label":"Equipment selection",children:[a.jsx(Nn,{control:a.jsx(ms,{checked:t.has("all"),onChange:()=>nt("all")}),label:"All Equipment",sx:{mb:1,display:"flex"}}),s.map(ce=>a.jsx(Nn,{control:a.jsx(ms,{checked:t.has(ce.toLowerCase()),onChange:()=>nt(ce.toLowerCase())}),label:ce,sx:{mb:1,display:"flex"}},ce))]})})]})})]})}),g.length>0&&a.jsx(Y,{sx:{mb:3},children:a.jsxs(Lp,{sx:{boxShadow:"none","&:before":{display:"none"}},children:[a.jsx(Np,{expandIcon:a.jsx(ec,{}),children:a.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsx(ua,{sx:{color:"warning.main"}}),a.jsxs(R,{variant:"h6",sx:{fontWeight:600,color:"text.primary",fontSize:{xs:"1rem",sm:"1.25rem"}},children:["Favorite Workouts (",g.length,")"]})]})}),a.jsx(Fp,{children:a.jsx(Me,{spacing:1.5,children:g.map(ce=>a.jsx(Le,{sx:{border:"1px solid",borderColor:"divider",boxShadow:"none","&:hover":{boxShadow:"0 2px 8px rgba(19, 70, 134, 0.1)"}},children:a.jsxs(Fe,{sx:{p:2,"&:last-child":{pb:2}},children:[a.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between",alignItems:"start",mb:1},children:[a.jsxs(Y,{sx:{flex:1},children:[a.jsx(R,{variant:"body1",sx:{fontWeight:600,mb:.5},children:ce.name}),a.jsxs(Me,{direction:"row",spacing:1,sx:{mb:1},children:[a.jsx(qe,{label:ce.type.charAt(0).toUpperCase()+ce.type.slice(1),size:"small",sx:{fontSize:"0.7rem"}}),a.jsx(qe,{label:`${ce.exercises.length} exercises`,size:"small",variant:"outlined",sx:{fontSize:"0.7rem"}})]})]}),a.jsxs(Y,{sx:{display:"flex",gap:.5},children:[a.jsx(rt,{size:"small",onClick:()=>Q(ce),sx:{color:"primary.main"},children:a.jsx(Oc,{fontSize:"small"})}),a.jsx(rt,{size:"small",onClick:()=>I(ce.id),sx:{color:"error.main"},children:a.jsx(Ci,{fontSize:"small"})})]})]}),a.jsxs(Lp,{expanded:C===ce.id,onChange:()=>M(C===ce.id?null:ce.id),sx:{boxShadow:"none","&:before":{display:"none"},bgcolor:"transparent"},children:[a.jsx(Np,{expandIcon:a.jsx(ec,{}),sx:{minHeight:"auto","& .MuiAccordionSummary-content":{margin:"8px 0"}},children:a.jsx(R,{variant:"caption",sx:{fontWeight:600,color:"primary.main"},children:"View Exercises"})}),a.jsx(Fp,{sx:{pt:0},children:a.jsx(Hs,{dense:!0,sx:{py:0},children:ce.exercises.map((de,Te)=>a.jsx(rs,{sx:{px:0},children:a.jsx(nr,{primary:de["Exercise Name"]||de.name||"Unknown Exercise",secondary:`${de.Equipment||de.equipment||"N/A"}  ${de["Primary Muscle"]||de.primaryMuscle||"N/A"}`,primaryTypographyProps:{variant:"body2",fontWeight:500},secondaryTypographyProps:{variant:"caption"}})},Te))})})]}),a.jsx(ve,{size:"small",variant:"contained",onClick:()=>ke(ce),sx:{fontSize:"0.8rem",textTransform:"none",mt:1},fullWidth:!0,children:"Load Workout"})]})},ce.id))})})]})}),a.jsxs(Me,{direction:"row",spacing:2,sx:{width:"100%"},children:[a.jsx(ve,{variant:"outlined",size:"large",fullWidth:!0,disabled:!e,onClick:F,sx:{py:2,fontSize:"1.1rem",fontWeight:600,borderRadius:2,textTransform:"none",borderWidth:2,"&:hover":{borderWidth:2}},children:"Customize"}),a.jsx(ve,{variant:"contained",size:"large",fullWidth:!0,disabled:!e,onClick:z,sx:{py:2,fontSize:"1.1rem",fontWeight:600,borderRadius:2,textTransform:"none"},children:"Generate"})]})]})})]}),a.jsxs(Gn,{open:v,onClose:ye,maxWidth:"sm",fullWidth:!0,children:[a.jsx(os,{children:"Edit Workout Name"}),a.jsx($n,{children:a.jsx(et,{autoFocus:!0,margin:"dense",label:"Workout Name",type:"text",fullWidth:!0,variant:"outlined",value:D,onChange:ce=>T(ce.target.value),onKeyPress:ce=>{ce.key==="Enter"&&ee()}})}),a.jsxs(Qn,{children:[a.jsx(ve,{onClick:ye,color:"inherit",children:"Cancel"}),a.jsx(ve,{onClick:ee,variant:"contained",disabled:!D.trim(),children:"Save"})]})]}),a.jsx(my,{open:N,onClose:ge,onPlanCreated:De})]})]})});gy.displayName="SelectionScreen";gy.propTypes={workoutType:H.string.isRequired,selectedEquipment:H.instanceOf(Set).isRequired,equipmentOptions:H.array.isRequired,onWorkoutTypeChange:H.func.isRequired,onEquipmentChange:H.func.isRequired,onStartWorkout:H.func.isRequired,onCustomize:H.func,onNavigate:H.func,loading:H.bool.isRequired};const aT=({workoutType:e,selectedEquipment:t,onWorkoutTypeChange:s,onStartWorkout:i,onCustomize:l,onNavigate:u,loading:d})=>{const[f,p]=x.useState([]),[g,y]=x.useState(null),[v,b]=x.useState(!1),[S,j]=x.useState(!1),[D,T]=x.useState([]),[C,M]=x.useState({name:"",goal:"general_fitness",experienceLevel:"intermediate",daysPerWeek:3,duration:30,sessionTypes:["full","upper","lower","hiit","cardio","yoga"]}),{getTodaysWorkout:k,createWorkoutNavState:P}=iT();x.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),N(),W()},[]);const N=async()=>{const z=await wi();p(z);const F=await Ko();y(F)},W=async()=>{const z=await Ei();T(z.slice(0,3))},E=k(),_=(()=>{if(!g||!g.sessions||!Array.isArray(g.sessions))return[];const z=new Date;z.setHours(0,0,0,0);const F=[];for(let I=1;I<=3;I++){const Q=new Date(z);Q.setDate(Q.getDate()+I),Q.setHours(0,0,0,0);const ee=g.sessions.find(ye=>{const fe=new Date(ye.date);return fe.setHours(0,0,0,0),fe.getTime()===Q.getTime()});F.push({date:Q,session:ee||{type:"rest"}})}return F})(),B=()=>{if(E&&E.type!=="rest"){const z=E.subtype||E.type;s(z);const F=t.has("all")?"all":Array.from(t),I=new Date().getDay(),Q=P(I);i(z,F,null,Q)}else{const z=t.has("all")?"all":Array.from(t);i(e||"full",z)}},V=async()=>{try{j(!0);const z=await py({...C,planName:C.name||"My Workout Plan",startDate:new Date,equipmentAvailable:["all"]});await Hd(z),z.name==="This Week"&&await ar(z.id),await N(),b(!1),M({name:"",goal:"general_fitness",experienceLevel:"intermediate",daysPerWeek:3,duration:30,sessionTypes:["full","upper","lower","hiit","cardio","yoga"]})}catch(z){console.error("Error generating plan:",z),alert(`Failed to generate plan: ${z.message}`)}finally{j(!1)}},A=async z=>{try{await ar(z),await N()}catch(F){console.error("Error setting active plan:",F)}},q=async z=>{if(window.confirm("Are you sure you want to delete this plan?"))try{await uy(z),await N()}catch(F){console.error("Error deleting plan:",F)}},U=z=>{const F=Math.floor(z/60),I=z%60;return F>0?`${F}h ${I}m`:`${I}m`};return a.jsxs(Y,{sx:{maxWidth:"1400px",margin:"0 auto",p:{xs:2,md:3},minHeight:"100vh"},children:[a.jsx(ur,{title:"Training Hub",subtitle:"Workouts, plans, cardio, mobility & yoga in one place"}),a.jsxs(Me,{spacing:2,children:[a.jsx(Le,{sx:{bgcolor:"background.paper"},children:a.jsx(Fe,{children:a.jsxs(Me,{spacing:2,children:[a.jsxs(Me,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[a.jsxs(R,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsx(pc,{})," Active Plan"]}),a.jsx(ve,{size:"small",startIcon:a.jsx(Gs,{}),onClick:()=>b(!0),sx:{color:"secondary.main"},children:"New Plan"})]}),g?a.jsxs(Y,{children:[a.jsx(R,{variant:"h5",sx:{color:"primary.main",mb:1},children:g.name}),a.jsxs(Me,{spacing:1,children:[a.jsxs(R,{variant:"body2",color:"text.secondary",children:["Goal: ",g.goal?.replace("_"," ")||"General Fitness"]}),a.jsxs(R,{variant:"body2",color:"text.secondary",children:[g.sessions?.length||0," sessions planned"]}),E&&E.type!=="rest"&&a.jsx(ve,{variant:"contained",color:"primary",startIcon:a.jsx(Hn,{}),onClick:B,fullWidth:!0,sx:{mt:2},children:"Start Today's Workout"}),E&&E.type==="rest"&&a.jsx(qe,{label:"Rest Day",color:"info",sx:{mt:2}})]})]}):a.jsxs(Y,{sx:{textAlign:"center",py:3},children:[a.jsx(R,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"No active plan. Create one to stay on track!"}),a.jsx(ve,{variant:"contained",color:"secondary",startIcon:a.jsx(Gs,{}),onClick:()=>b(!0),children:"Create Plan"})]})]})})}),a.jsx(Le,{sx:{bgcolor:"background.paper"},children:a.jsx(Fe,{children:a.jsxs(Me,{spacing:2,children:[a.jsxs(R,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsx(Cn,{})," Quick Start"]}),a.jsxs(ht,{fullWidth:!0,size:"small",children:[a.jsx(vt,{children:"Workout Type"}),a.jsxs(St,{value:e||"full",onChange:z=>s(z.target.value),label:"Workout Type",children:[a.jsx(Se,{value:"full",children:"Full Body"}),a.jsx(Se,{value:"upper",children:"Upper Body"}),a.jsx(Se,{value:"lower",children:"Lower Body"}),a.jsx(Se,{value:"push",children:"Push"}),a.jsx(Se,{value:"pull",children:"Pull"}),a.jsx(Se,{value:"legs",children:"Legs"})]})]}),a.jsx(ve,{variant:"contained",color:"secondary",startIcon:a.jsx(Hn,{}),onClick:B,fullWidth:!0,disabled:d,size:"large",children:d?"Generating...":"Generate Workout"}),l&&a.jsx(ve,{variant:"outlined",color:"secondary",startIcon:a.jsx(Oc,{}),onClick:()=>l(e||"full"),fullWidth:!0,children:"Customize Exercises"})]})})}),_.length>0&&a.jsx(Le,{sx:{bgcolor:"background.paper"},children:a.jsxs(Fe,{children:[a.jsxs(R,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[a.jsx(pc,{})," Next 3 Days"]}),a.jsx(Qe,{container:!0,spacing:2,children:_.map((z,F)=>{const I=z.session.type==="rest";return a.jsx(Qe,{item:!0,xs:12,sm:4,children:a.jsx(Le,{sx:{bgcolor:"background.default",border:"1px solid",borderColor:I?"divider":"primary.main",opacity:I?.7:1},children:a.jsxs(Fe,{sx:{py:2},children:[a.jsx(R,{variant:"subtitle2",color:"text.secondary",children:z.date.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),I?a.jsx(R,{variant:"h6",sx:{color:"text.secondary",my:1},children:"Rest Day"}):a.jsxs(a.Fragment,{children:[a.jsx(R,{variant:"h6",sx:{color:"primary.main",my:1},children:z.session.type.charAt(0).toUpperCase()+z.session.type.slice(1)}),z.session.focus&&a.jsx(R,{variant:"body2",color:"text.secondary",children:z.session.focus})]})]})})},F)})})]})}),f.length>0&&a.jsx(Le,{sx:{bgcolor:"background.paper"},children:a.jsxs(Fe,{children:[a.jsx(R,{variant:"h6",sx:{mb:2},children:"My Plans"}),a.jsx(Qe,{container:!0,spacing:2,children:f.map(z=>{const F=Md(z),I=g?.id===z.id;return a.jsx(Qe,{item:!0,xs:12,sm:6,md:4,children:a.jsx(Le,{sx:{bgcolor:"background.default",border:"2px solid",borderColor:I?"primary.main":"transparent",position:"relative"},children:a.jsxs(Fe,{children:[I&&a.jsx(qe,{label:"Active",color:"primary",size:"small",sx:{position:"absolute",top:8,right:8}}),a.jsx(R,{variant:"h6",sx:{mb:1,pr:I?8:0},children:z.name}),a.jsxs(R,{variant:"body2",color:"text.secondary",sx:{mb:1},children:[F.totalSessions," sessions  ",z.daysPerWeek," days/week"]}),a.jsxs(Me,{direction:"row",spacing:1,sx:{mt:2},children:[!I&&a.jsx(ve,{size:"small",onClick:()=>A(z.id),variant:"outlined",color:"primary",children:"Activate"}),a.jsx(rt,{size:"small",onClick:()=>q(z.id),sx:{color:"error.main"},children:a.jsx(Ci,{fontSize:"small"})})]})]})})},z.id)})})]})}),D.length>0&&a.jsx(Le,{sx:{bgcolor:"background.paper"},children:a.jsxs(Fe,{children:[a.jsxs(Me,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[a.jsxs(R,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsx(kd,{})," Recent Activity"]}),a.jsx(ve,{size:"small",onClick:()=>u("progress"),sx:{color:"primary.main"},children:"View All"})]}),a.jsx(Me,{spacing:1,children:D.map((z,F)=>a.jsx(Y,{sx:{p:2,bgcolor:"background.default",borderRadius:1,borderLeft:"4px solid",borderLeftColor:"primary.main"},children:a.jsxs(Me,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[a.jsxs(Y,{children:[a.jsx(R,{variant:"subtitle2",children:z.type?.charAt(0).toUpperCase()+z.type?.slice(1)||"Workout"}),a.jsx(R,{variant:"caption",color:"text.secondary",children:new Date(z.date).toLocaleDateString()})]}),a.jsx(R,{variant:"body2",color:"text.secondary",children:U(z.duration||0)})]})},F))})]})}),a.jsx(Le,{sx:{bgcolor:"background.paper"},children:a.jsxs(Fe,{sx:{py:2},children:[a.jsxs(R,{variant:"h6",sx:{mb:1.5,display:"flex",alignItems:"center",gap:1},children:[a.jsx(or,{})," Mobility & Yoga"]}),a.jsxs(Me,{direction:"row",spacing:1,children:[a.jsx(ve,{variant:"outlined",size:"small",onClick:()=>u("yoga-selection"),sx:{flex:1,py:1,fontSize:"0.85rem"},children:"Yoga"}),a.jsx(ve,{variant:"outlined",size:"small",onClick:()=>u("mobility"),sx:{flex:1,py:1,fontSize:"0.85rem"},children:"Stretching"})]})]})}),a.jsx(Le,{sx:{bgcolor:"background.paper"},children:a.jsxs(Fe,{sx:{py:2},children:[a.jsxs(R,{variant:"h6",sx:{mb:1.5,display:"flex",alignItems:"center",gap:1},children:[a.jsx(da,{})," Cardio"]}),a.jsxs(Qe,{container:!0,spacing:1,children:[a.jsx(Qe,{item:!0,xs:6,children:a.jsx(ve,{variant:"outlined",size:"small",onClick:()=>u("hiit-selection"),fullWidth:!0,sx:{py:1,fontSize:"0.85rem"},children:"HIIT"})}),a.jsx(Qe,{item:!0,xs:6,children:a.jsx(ve,{variant:"outlined",size:"small",onClick:()=>u("hiit"),fullWidth:!0,sx:{py:1,fontSize:"0.85rem"},children:"Timer"})}),a.jsx(Qe,{item:!0,xs:6,children:a.jsx(ve,{variant:"outlined",size:"small",onClick:()=>u("log-cardio"),fullWidth:!0,sx:{py:1,fontSize:"0.85rem"},children:"Log Cardio"})})]})]})})]}),a.jsxs(Gn,{open:v,onClose:()=>b(!1),maxWidth:"sm",fullWidth:!0,children:[a.jsx(os,{children:"Create New Workout Plan"}),a.jsx($n,{children:a.jsxs(Me,{spacing:2,sx:{mt:1},children:[a.jsx(et,{label:"Plan Name",fullWidth:!0,value:C.name,onChange:z=>M({...C,name:z.target.value}),placeholder:"e.g., Summer Cut, Strength Building"}),a.jsxs(ht,{fullWidth:!0,children:[a.jsx(vt,{children:"Goal"}),a.jsxs(St,{value:C.goal,onChange:z=>M({...C,goal:z.target.value}),label:"Goal",children:[a.jsx(Se,{value:"general_fitness",children:"General Fitness"}),a.jsx(Se,{value:"muscle_building",children:"Muscle Building"}),a.jsx(Se,{value:"strength",children:"Strength"}),a.jsx(Se,{value:"fat_loss",children:"Fat Loss"})]})]}),a.jsxs(ht,{fullWidth:!0,children:[a.jsx(vt,{children:"Experience Level"}),a.jsxs(St,{value:C.experienceLevel,onChange:z=>M({...C,experienceLevel:z.target.value}),label:"Experience Level",children:[a.jsx(Se,{value:"beginner",children:"Beginner"}),a.jsx(Se,{value:"intermediate",children:"Intermediate"}),a.jsx(Se,{value:"advanced",children:"Advanced"})]})]}),a.jsxs(ht,{fullWidth:!0,children:[a.jsx(vt,{children:"Days Per Week"}),a.jsx(St,{value:C.daysPerWeek,onChange:z=>M({...C,daysPerWeek:z.target.value}),label:"Days Per Week",children:[3,4,5,6,7].map(z=>a.jsxs(Se,{value:z,children:[z," days"]},z))})]}),a.jsxs(ht,{fullWidth:!0,children:[a.jsx(vt,{children:"Plan Duration (days)"}),a.jsxs(St,{value:C.duration,onChange:z=>M({...C,duration:z.target.value}),label:"Plan Duration (days)",children:[a.jsx(Se,{value:7,children:"1 week"}),a.jsx(Se,{value:14,children:"2 weeks"}),a.jsx(Se,{value:30,children:"1 month"}),a.jsx(Se,{value:60,children:"2 months"}),a.jsx(Se,{value:90,children:"3 months"})]})]})]})}),a.jsxs(Qn,{children:[a.jsx(ve,{onClick:()=>b(!1),children:"Cancel"}),a.jsx(ve,{onClick:V,variant:"contained",color:"primary",disabled:S||!C.name,children:S?"Generating...":"Create Plan"})]})]})]})};aT.propTypes={workoutType:H.string,selectedEquipment:H.instanceOf(Set).isRequired,onWorkoutTypeChange:H.func.isRequired,onStartWorkout:H.func.isRequired,onCustomize:H.func,onNavigate:H.func.isRequired,loading:H.bool};var Xo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},J3={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},eB=class{#e=J3;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},ra=new eB;function tB(e){setTimeout(e,0)}var ga=typeof window>"u"||"Deno"in globalThis;function Vn(){}function nB(e,t){return typeof e=="function"?e(t):e}function Um(e){return typeof e=="number"&&e>=0&&e!==1/0}function oT(e,t){return Math.max(e+(t||0)-Date.now(),0)}function bi(e,t){return typeof e=="function"?e(t):e}function Bs(e,t){return typeof e=="function"?e(t):e}function Ew(e,t){const{type:s="all",exact:i,fetchStatus:l,predicate:u,queryKey:d,stale:f}=e;if(d){if(i){if(t.queryHash!==yy(d,t.options))return!1}else if(!Tc(t.queryKey,d))return!1}if(s!=="all"){const p=t.isActive();if(s==="active"&&!p||s==="inactive"&&p)return!1}return!(typeof f=="boolean"&&t.isStale()!==f||l&&l!==t.state.fetchStatus||u&&!u(t))}function Mw(e,t){const{exact:s,status:i,predicate:l,mutationKey:u}=e;if(u){if(!t.options.mutationKey)return!1;if(s){if(ya(t.options.mutationKey)!==ya(u))return!1}else if(!Tc(t.options.mutationKey,u))return!1}return!(i&&t.state.status!==i||l&&!l(t))}function yy(e,t){return(t?.queryKeyHashFn||ya)(e)}function ya(e){return JSON.stringify(e,(t,s)=>qm(s)?Object.keys(s).sort().reduce((i,l)=>(i[l]=s[l],i),{}):s)}function Tc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>Tc(e[s],t[s])):!1}var sB=Object.prototype.hasOwnProperty;function lT(e,t){if(e===t)return e;const s=kw(e)&&kw(t);if(!s&&!(qm(e)&&qm(t)))return t;const l=(s?e:Object.keys(e)).length,u=s?t:Object.keys(t),d=u.length,f=s?new Array(d):{};let p=0;for(let g=0;g<d;g++){const y=s?g:u[g],v=e[y],b=t[y];if(v===b){f[y]=v,(s?g<l:sB.call(e,y))&&p++;continue}if(v===null||b===null||typeof v!="object"||typeof b!="object"){f[y]=b;continue}const S=lT(v,b);f[y]=S,S===v&&p++}return l===d&&p===l?e:f}function _d(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function kw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function qm(e){if(!Pw(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!Pw(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Pw(e){return Object.prototype.toString.call(e)==="[object Object]"}function rB(e){return new Promise(t=>{ra.setTimeout(t,e)})}function Gm(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?lT(e,t):t}function iB(e,t,s=0){const i=[...e,t];return s&&i.length>s?i.slice(1):i}function aB(e,t,s=0){const i=[t,...e];return s&&i.length>s?i.slice(0,-1):i}var xy=Symbol();function cT(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===xy?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function uT(e,t){return typeof e=="function"?e(...t):!!e}var oB=class extends Xo{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!ga&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},by=new oB;function $m(){let e,t;const s=new Promise((l,u)=>{e=l,t=u});s.status="pending",s.catch(()=>{});function i(l){Object.assign(s,l),delete s.resolve,delete s.reject}return s.resolve=l=>{i({status:"fulfilled",value:l}),e(l)},s.reject=l=>{i({status:"rejected",reason:l}),t(l)},s}var lB=tB;function cB(){let e=[],t=0,s=f=>{f()},i=f=>{f()},l=lB;const u=f=>{t?e.push(f):l(()=>{s(f)})},d=()=>{const f=e;e=[],f.length&&l(()=>{i(()=>{f.forEach(p=>{s(p)})})})};return{batch:f=>{let p;t++;try{p=f()}finally{t--,t||d()}return p},batchCalls:f=>(...p)=>{u(()=>{f(...p)})},schedule:u,setNotifyFunction:f=>{s=f},setBatchNotifyFunction:f=>{i=f},setScheduler:f=>{l=f}}}var bn=cB(),uB=class extends Xo{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!ga&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},zd=new uB;function dB(e){return Math.min(1e3*2**e,3e4)}function dT(e){return(e??"online")==="online"?zd.isOnline():!0}var Qm=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function fT(e){let t=!1,s=0,i;const l=$m(),u=()=>l.status!=="pending",d=D=>{if(!u()){const T=new Qm(D);b(T),e.onCancel?.(T)}},f=()=>{t=!0},p=()=>{t=!1},g=()=>by.isFocused()&&(e.networkMode==="always"||zd.isOnline())&&e.canRun(),y=()=>dT(e.networkMode)&&e.canRun(),v=D=>{u()||(i?.(),l.resolve(D))},b=D=>{u()||(i?.(),l.reject(D))},S=()=>new Promise(D=>{i=T=>{(u()||g())&&D(T)},e.onPause?.()}).then(()=>{i=void 0,u()||e.onContinue?.()}),j=()=>{if(u())return;let D;const T=s===0?e.initialPromise:void 0;try{D=T??e.fn()}catch(C){D=Promise.reject(C)}Promise.resolve(D).then(v).catch(C=>{if(u())return;const M=e.retry??(ga?0:3),k=e.retryDelay??dB,P=typeof k=="function"?k(s,C):k,N=M===!0||typeof M=="number"&&s<M||typeof M=="function"&&M(s,C);if(t||!N){b(C);return}s++,e.onFail?.(s,C),rB(P).then(()=>g()?void 0:S()).then(()=>{t?b(C):j()})})};return{promise:l,status:()=>l.status,cancel:d,continue:()=>(i?.(),l),cancelRetry:f,continueRetry:p,canStart:y,start:()=>(y()?j():S().then(j),l)}}var hT=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Um(this.gcTime)&&(this.#e=ra.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ga?1/0:300*1e3))}clearGcTimeout(){this.#e&&(ra.clearTimeout(this.#e),this.#e=void 0)}},fB=class extends hT{#e;#t;#n;#r;#s;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Ow(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=Ow(this.options);t.data!==void 0&&(this.setState(Aw(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const s=Gm(this.state.data,e,this.options);return this.#i({data:s,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),s}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#s?.promise;return this.#s?.cancel(e),t?t.then(Vn).catch(Vn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Bs(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===xy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>bi(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!oT(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#o=!0,s.signal)})},l=()=>{const f=cT(this.options,t),g=(()=>{const y={client:this.#r,queryKey:this.queryKey,meta:this.meta};return i(y),y})();return this.#o=!1,this.options.persister?this.options.persister(f,g,this):f(g)},d=(()=>{const f={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:l};return i(f),f})();this.options.behavior?.onFetch(d,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#i({type:"fetch",meta:d.fetchOptions?.meta}),this.#s=fT({initialPromise:t?.initialPromise,fn:d.fetchFn,onCancel:f=>{f instanceof Qm&&f.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(f,p)=>{this.#i({type:"failed",failureCount:f,error:p})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0});try{const f=await this.#s.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#n.config.onSuccess?.(f,this),this.#n.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof Qm){if(f.silent)return this.#s.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#i({type:"error",error:f}),this.#n.config.onError?.(f,this),this.#n.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#i(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...pT(s.data,this.options),fetchMeta:e.meta??null};case"success":const i={...s,...Aw(e.data,e.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const l=e.error;return{...s,error:l,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),bn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function pT(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:dT(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Aw(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Ow(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,i=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var hB=class extends Xo{constructor(e,t){super(),this.options=t,this.#e=e,this.#i=null,this.#o=$m(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#r=void 0;#s;#a;#o;#i;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Rw(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Km(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Km(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#S(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Bs(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),t._defaulted&&!_d(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&Iw(this.#t,s,this.options,t)&&this.#d(),this.updateResult(),i&&(this.#t!==s||Bs(this.options.enabled,this.#t)!==Bs(t.enabled,this.#t)||bi(this.options.staleTime,this.#t)!==bi(t.staleTime,this.#t))&&this.#g();const l=this.#y();i&&(this.#t!==s||Bs(this.options.enabled,this.#t)!==Bs(t.enabled,this.#t)||l!==this.#l)&&this.#x(l)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),s=this.createResult(t,e);return mB(this,s)&&(this.#r=s,this.#a=this.options,this.#s=this.#t.state),s}getCurrentResult(){return this.#r}trackResult(e,t){return new Proxy(e,{get:(s,i)=>(this.trackProp(i),t?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,i))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(e){this.#w();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Vn)),t}#g(){this.#v();const e=bi(this.options.staleTime,this.#t);if(ga||this.#r.isStale||!Um(e))return;const s=oT(this.#r.dataUpdatedAt,e)+1;this.#c=ra.setTimeout(()=>{this.#r.isStale||this.updateResult()},s)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#x(e){this.#S(),this.#l=e,!(ga||Bs(this.options.enabled,this.#t)===!1||!Um(this.#l)||this.#l===0)&&(this.#u=ra.setInterval(()=>{(this.options.refetchIntervalInBackground||by.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#x(this.#y())}#v(){this.#c&&(ra.clearTimeout(this.#c),this.#c=void 0)}#S(){this.#u&&(ra.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const s=this.#t,i=this.options,l=this.#r,u=this.#s,d=this.#a,p=e!==s?e.state:this.#n,{state:g}=e;let y={...g},v=!1,b;if(t._optimisticResults){const L=this.hasListeners(),_=!L&&Rw(e,t),B=L&&Iw(e,s,t,i);(_||B)&&(y={...y,...pT(g.data,e.options)}),t._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:S,errorUpdatedAt:j,status:D}=y;b=y.data;let T=!1;if(t.placeholderData!==void 0&&b===void 0&&D==="pending"){let L;l?.isPlaceholderData&&t.placeholderData===d?.placeholderData?(L=l.data,T=!0):L=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,L!==void 0&&(D="success",b=Gm(l?.data,L,t),v=!0)}if(t.select&&b!==void 0&&!T)if(l&&b===u?.data&&t.select===this.#m)b=this.#f;else try{this.#m=t.select,b=t.select(b),b=Gm(l?.data,b,t),this.#f=b,this.#i=null}catch(L){this.#i=L}this.#i&&(S=this.#i,b=this.#f,j=Date.now(),D="error");const C=y.fetchStatus==="fetching",M=D==="pending",k=D==="error",P=M&&C,N=b!==void 0,E={status:D,fetchStatus:y.fetchStatus,isPending:M,isSuccess:D==="success",isError:k,isInitialLoading:P,isLoading:P,data:b,dataUpdatedAt:y.dataUpdatedAt,error:S,errorUpdatedAt:j,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>p.dataUpdateCount||y.errorUpdateCount>p.errorUpdateCount,isFetching:C,isRefetching:C&&!M,isLoadingError:k&&!N,isPaused:y.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:k&&N,isStale:vy(e,t),refetch:this.refetch,promise:this.#o,isEnabled:Bs(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const L=V=>{E.status==="error"?V.reject(E.error):E.data!==void 0&&V.resolve(E.data)},_=()=>{const V=this.#o=E.promise=$m();L(V)},B=this.#o;switch(B.status){case"pending":e.queryHash===s.queryHash&&L(B);break;case"fulfilled":(E.status==="error"||E.data!==B.value)&&_();break;case"rejected":(E.status!=="error"||E.error!==B.reason)&&_();break}}return E}updateResult(){const e=this.#r,t=this.createResult(this.#t,this.options);if(this.#s=this.#t.state,this.#a=this.options,this.#s.data!==void 0&&(this.#h=this.#t),_d(t,e))return;this.#r=t;const s=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,l=typeof i=="function"?i():i;if(l==="all"||!l&&!this.#p.size)return!0;const u=new Set(l??this.#p);return this.options.throwOnError&&u.add("error"),Object.keys(this.#r).some(d=>{const f=d;return this.#r[f]!==e[f]&&u.has(f)})};this.#j({listeners:s()})}#w(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#j(e){bn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function pB(e,t){return Bs(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Rw(e,t){return pB(e,t)||e.state.data!==void 0&&Km(e,t,t.refetchOnMount)}function Km(e,t,s){if(Bs(t.enabled,e)!==!1&&bi(t.staleTime,e)!=="static"){const i=typeof s=="function"?s(e):s;return i==="always"||i!==!1&&vy(e,t)}return!1}function Iw(e,t,s,i){return(e!==t||Bs(i.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&vy(e,s)}function vy(e,t){return Bs(t.enabled,e)!==!1&&e.isStaleByTime(bi(t.staleTime,e))}function mB(e,t){return!_d(e.getCurrentResult(),t)}function Bw(e){return{onFetch:(t,s)=>{const i=t.options,l=t.fetchOptions?.meta?.fetchMore?.direction,u=t.state.data?.pages||[],d=t.state.data?.pageParams||[];let f={pages:[],pageParams:[]},p=0;const g=async()=>{let y=!1;const v=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},b=cT(t.options,t.fetchOptions),S=async(j,D,T)=>{if(y)return Promise.reject();if(D==null&&j.pages.length)return Promise.resolve(j);const M=(()=>{const W={client:t.client,queryKey:t.queryKey,pageParam:D,direction:T?"backward":"forward",meta:t.options.meta};return v(W),W})(),k=await b(M),{maxPages:P}=t.options,N=T?aB:iB;return{pages:N(j.pages,k,P),pageParams:N(j.pageParams,D,P)}};if(l&&u.length){const j=l==="backward",D=j?gB:Lw,T={pages:u,pageParams:d},C=D(i,T);f=await S(T,C,j)}else{const j=e??u.length;do{const D=p===0?d[0]??i.initialPageParam:Lw(i,f);if(p>0&&D==null)break;f=await S(f,D),p++}while(p<j)}return f};t.options.persister?t.fetchFn=()=>t.options.persister?.(g,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s):t.fetchFn=g}}}function Lw(e,{pages:t,pageParams:s}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,s[i],s):void 0}function gB(e,{pages:t,pageParams:s}){return t.length>0?e.getPreviousPageParam?.(t[0],t,s[0],s):void 0}var yB=class extends hT{#e;#t;#n;#r;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||mT(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#s({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=fT({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(u,d)=>{this.#s({type:"failed",failureCount:u,error:d})},onPause:()=>{this.#s({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",l=!this.#r.canStart();try{if(i)t();else{this.#s({type:"pending",variables:e,isPaused:l}),await this.#n.config.onMutate?.(e,this,s);const d=await this.options.onMutate?.(e,s);d!==this.state.context&&this.#s({type:"pending",context:d,variables:e,isPaused:l})}const u=await this.#r.start();return await this.#n.config.onSuccess?.(u,e,this.state.context,this,s),await this.options.onSuccess?.(u,e,this.state.context,s),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(u,null,e,this.state.context,s),this.#s({type:"success",data:u}),u}catch(u){try{throw await this.#n.config.onError?.(u,e,this.state.context,this,s),await this.options.onError?.(u,e,this.state.context,s),await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(void 0,u,e,this.state.context,s),u}finally{this.#s({type:"error",error:u})}}finally{this.#n.runNext(this)}}#s(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),bn.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function mT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var xB=class extends Xo{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,s){const i=new yB({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:s});return this.add(i),i}add(e){this.#e.add(e);const t=md(e);if(typeof t=="string"){const s=this.#t.get(t);s?s.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=md(e);if(typeof t=="string"){const s=this.#t.get(t);if(s)if(s.length>1){const i=s.indexOf(e);i!==-1&&s.splice(i,1)}else s[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=md(e);if(typeof t=="string"){const i=this.#t.get(t)?.find(l=>l.state.status==="pending");return!i||i===e}else return!0}runNext(e){const t=md(e);return typeof t=="string"?this.#t.get(t)?.find(i=>i!==e&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){bn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(s=>Mw(t,s))}findAll(e={}){return this.getAll().filter(t=>Mw(e,t))}notify(e){bn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return bn.batch(()=>Promise.all(e.map(t=>t.continue().catch(Vn))))}};function md(e){return e.options.scope?.id}var bB=class extends Xo{#e;#t=void 0;#n;#r;constructor(t,s){super(),this.#e=t,this.setOptions(s),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const s=this.options;this.options=this.#e.defaultMutationOptions(t),_d(this.options,s)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),s?.mutationKey&&this.options.mutationKey&&ya(s.mutationKey)!==ya(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#s(),this.#a(t)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#s(),this.#a()}mutate(t,s){return this.#r=s,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(t)}#s(){const t=this.#n?.state??mT();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#a(t){bn.batch(()=>{if(this.#r&&this.hasListeners()){const s=this.#t.variables,i=this.#t.context,l={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#r.onSuccess?.(t.data,s,i,l),this.#r.onSettled?.(t.data,null,s,i,l)):t?.type==="error"&&(this.#r.onError?.(t.error,s,i,l),this.#r.onSettled?.(void 0,t.error,s,i,l))}this.listeners.forEach(s=>{s(this.#t)})})}},vB=class extends Xo{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,s){const i=t.queryKey,l=t.queryHash??yy(i,t);let u=this.get(l);return u||(u=new fB({client:e,queryKey:i,queryHash:l,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(i)}),this.add(u)),u}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){bn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>Ew(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>Ew(e,s)):t}notify(e){bn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){bn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){bn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},SB=class{#e;#t;#n;#r;#s;#a;#o;#i;constructor(e={}){this.#e=e.queryCache||new vB,this.#t=e.mutationCache||new xB,this.#n=e.defaultOptions||{},this.#r=new Map,this.#s=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=by.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=zd.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=this.#e.build(this,t),i=s.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(bi(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:s})=>{const i=s.data;return[t,i]})}setQueryData(e,t,s){const i=this.defaultQueryOptions({queryKey:e}),u=this.#e.get(i.queryHash)?.state.data,d=nB(t,u);if(d!==void 0)return this.#e.build(this,i).setData(d,{...s,manual:!0})}setQueriesData(e,t,s){return bn.batch(()=>this.#e.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,s)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;bn.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=this.#e;return bn.batch(()=>(s.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},i=bn.batch(()=>this.#e.findAll(e).map(l=>l.cancel(s)));return Promise.all(i).then(Vn).catch(Vn)}invalidateQueries(e,t={}){return bn.batch(()=>(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},i=bn.batch(()=>this.#e.findAll(e).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let u=l.fetch(void 0,s);return s.throwOnError||(u=u.catch(Vn)),l.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(i).then(Vn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=this.#e.build(this,t);return s.isStaleByTime(bi(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Vn).catch(Vn)}fetchInfiniteQuery(e){return e.behavior=Bw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Vn).catch(Vn)}ensureInfiniteQueryData(e){return e.behavior=Bw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return zd.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#r.set(ya(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#r.values()],s={};return t.forEach(i=>{Tc(e,i.queryKey)&&Object.assign(s,i.defaultOptions)}),s}setMutationDefaults(e,t){this.#s.set(ya(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#s.values()],s={};return t.forEach(i=>{Tc(e,i.mutationKey)&&Object.assign(s,i.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=yy(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===xy&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},gT=x.createContext(void 0),Sy=e=>{const t=x.useContext(gT);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},wB=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(gT.Provider,{value:e,children:t})),yT=x.createContext(!1),jB=()=>x.useContext(yT);yT.Provider;function CB(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var TB=x.createContext(CB()),DB=()=>x.useContext(TB),EB=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},MB=e=>{x.useEffect(()=>{e.clearReset()},[e])},kB=({result:e,errorResetBoundary:t,throwOnError:s,query:i,suspense:l})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&(l&&e.data===void 0||uT(s,[e.error,i])),PB=e=>{if(e.suspense){const s=l=>l==="static"?l:Math.max(l??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...l)=>s(i(...l)):s(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},AB=(e,t)=>e.isLoading&&e.isFetching&&!t,OB=(e,t)=>e?.suspense&&t.isPending,Nw=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function RB(e,t,s){const i=jB(),l=DB(),u=Sy(),d=u.defaultQueryOptions(e);u.getDefaultOptions().queries?._experimental_beforeQuery?.(d),d._optimisticResults=i?"isRestoring":"optimistic",PB(d),EB(d,l),MB(l);const f=!u.getQueryCache().get(d.queryHash),[p]=x.useState(()=>new t(u,d)),g=p.getOptimisticResult(d),y=!i&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(v=>{const b=y?p.subscribe(bn.batchCalls(v)):Vn;return p.updateResult(),b},[p,y]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),x.useEffect(()=>{p.setOptions(d)},[d,p]),OB(d,g))throw Nw(d,p,l);if(kB({result:g,errorResetBoundary:l,throwOnError:d.throwOnError,query:u.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw g.error;return u.getDefaultOptions().queries?._experimental_afterQuery?.(d,g),d.experimental_prefetchInRender&&!ga&&AB(g,i)&&(f?Nw(d,p,l):u.getQueryCache().get(d.queryHash)?.promise)?.catch(Vn).finally(()=>{p.updateResult()}),d.notifyOnChangeProps?g:p.trackResult(g)}function uf(e,t){return RB(e,hB)}function IB(e,t){const s=Sy(),[i]=x.useState(()=>new bB(s,e));x.useEffect(()=>{i.setOptions(e)},[i,e]);const l=x.useSyncExternalStore(x.useCallback(d=>i.subscribe(bn.batchCalls(d)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),u=x.useCallback((d,f)=>{i.mutate(d,f).catch(Vn)},[i]);if(l.error&&uT(i.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:u,mutateAsync:l.mutate}}const Wc=({value:e,onChange:t,availableExercises:s,label:i="Exercise",placeholder:l="Type to search and swap exercise...",size:u="small",fullWidth:d=!0,disabled:f=!1,sx:p={}})=>{const g=y=>{if(!y)return s;const v=y.toLowerCase().split(" ").filter(b=>b.length>0);return s.filter(b=>{const S=[b["Exercise Name"],b["Primary Muscle"],b["Secondary Muscles"],b.Equipment,b["Movement Pattern"],b.Difficulty,b["Workout Type"]].join(" ").toLowerCase();return v.every(j=>S.includes(j))})};return a.jsx(ak,{fullWidth:d,size:u,options:s,value:e,onChange:t,disabled:f,getOptionLabel:y=>y["Exercise Name"]||y.name||"",filterOptions:(y,v)=>g(v.inputValue),isOptionEqualToValue:(y,v)=>(y["Exercise Name"]||y.name)===(v["Exercise Name"]||v.name),renderInput:y=>a.jsx(et,{...y,label:i,placeholder:l}),renderOption:(y,v)=>{const{key:b,...S}=y;return a.jsx("li",{...S,children:a.jsxs(Y,{children:[a.jsx(R,{variant:"body2",children:v["Exercise Name"]}),a.jsxs(R,{variant:"caption",color:"text.secondary",children:[v["Primary Muscle"],"  ",v.Equipment]})]})},b)},noOptionsText:"No exercises found. Try different search terms.",sx:p})};Wc.propTypes={value:H.object,onChange:H.func.isRequired,availableExercises:H.array.isRequired,label:H.string,placeholder:H.string,size:H.string,fullWidth:H.bool,disabled:H.bool,sx:H.object};const xT=({open:e,onClose:t,onSave:s,initialSession:i=null,allExercises:l=[],sessionDate:u=null})=>{const[d,f]=x.useState("full"),[p,g]=x.useState([]),[y,v]=x.useState(null),[b,S]=x.useState([]);x.useEffect(()=>{i?(f(i.type||"full"),g(i.exercises||[])):(f("full"),g([]))},[i,e]),x.useEffect(()=>{if(!l||l.length===0)return;let k=l;d==="upper"?k=l.filter(P=>P["Workout Type"]&&(P["Workout Type"].includes("Upper Body")||P["Workout Type"].includes("Full Body")||P["Workout Type"].includes("Push/Pull/Legs"))):d==="lower"?k=l.filter(P=>P["Workout Type"]&&(P["Workout Type"].includes("Lower Body")||P["Workout Type"].includes("Full Body")||P["Workout Type"].includes("Push/Pull/Legs"))):d==="full"?k=l.filter(P=>P["Workout Type"]&&P["Workout Type"].includes("Full Body")):["push","pull","legs"].includes(d)&&(k=l.filter(P=>P["Workout Type"]&&P["Workout Type"].includes("Push/Pull/Legs"))),S(k)},[l,d]);const j=()=>{if(!y)return;const k={...y,name:y["Exercise Name"]||y.name,sets:3,reps:"10",weight:"",restSeconds:90,supersetGroup:null};g([...p,k]),v(null)},D=k=>{g(p.filter((P,N)=>N!==k))},T=(k,P,N)=>{g(p.map((W,E)=>E===k?{...W,[P]:N}:W))},C=()=>{if(p.length===0){alert("Please add at least one exercise to the session");return}const k={id:i?.id||`session_${Date.now()}`,date:u||i?.date||Date.now(),type:d,exercises:p,status:i?.status||"planned",notes:i?.notes||"",completedAt:null,sessionData:null};s(k),M()},M=()=>{g([]),v(null),t()};return a.jsxs(Gn,{open:e,onClose:M,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{minHeight:"70vh"}},children:[a.jsx(os,{children:a.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsx(Cn,{color:"primary"}),a.jsx(R,{variant:"h6",children:i?"Edit Session":"Build New Session"})]})}),a.jsx($n,{children:a.jsxs(Y,{sx:{display:"flex",flexDirection:"column",gap:2,pt:1},children:[a.jsxs(ht,{fullWidth:!0,children:[a.jsx(vt,{children:"Session Type"}),a.jsxs(St,{value:d,label:"Session Type",onChange:k=>f(k.target.value),children:[a.jsx(Se,{value:"full",children:"Full Body"}),a.jsx(Se,{value:"upper",children:"Upper Body"}),a.jsx(Se,{value:"lower",children:"Lower Body"}),a.jsx(Se,{value:"push",children:"Push"}),a.jsx(Se,{value:"pull",children:"Pull"}),a.jsx(Se,{value:"legs",children:"Legs"})]})]}),a.jsx(Or,{}),a.jsxs(Y,{children:[a.jsx(R,{variant:"subtitle2",gutterBottom:!0,sx:{fontWeight:600},children:"Add Exercise"}),a.jsxs(Y,{sx:{display:"flex",gap:1,alignItems:"flex-start"},children:[a.jsx(Wc,{value:y,onChange:(k,P)=>v(P),availableExercises:b,label:"Search exercises",placeholder:"Type to search by name, muscle, or equipment...",sx:{flex:1}}),a.jsx(ve,{variant:"contained",color:"primary",onClick:j,disabled:!y,startIcon:a.jsx(Gs,{}),sx:{mt:.5},children:"Add"})]})]}),a.jsxs(Y,{children:[a.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[a.jsxs(R,{variant:"subtitle2",sx:{fontWeight:600},children:["Exercises (",p.length,")"]}),p.length>0&&a.jsx(qe,{label:`${p.length} exercise${p.length!==1?"s":""}`,size:"small",color:"primary"})]}),p.length===0?a.jsx(Fn,{sx:{p:3,textAlign:"center",bgcolor:"background.default"},children:a.jsx(R,{variant:"body2",color:"text.secondary",children:"No exercises added yet. Use the search bar above to add exercises."})}):a.jsx(Hs,{sx:{maxHeight:"400px",overflowY:"auto",p:0},children:p.map((k,P)=>a.jsx(Fn,{sx:{mb:1.5,border:"1px solid",borderColor:"divider"},children:a.jsxs(rs,{sx:{flexDirection:"column",alignItems:"stretch",p:2},children:[a.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1.5},children:[a.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsx($d,{sx:{color:"text.disabled",cursor:"grab"}}),a.jsxs(Y,{children:[a.jsxs(R,{variant:"subtitle2",sx:{fontWeight:600},children:[P+1,". ",k.name||k["Exercise Name"]]}),a.jsxs(R,{variant:"caption",color:"text.secondary",children:[k["Primary Muscle"],"  ",k.Equipment]})]})]}),a.jsx(rt,{size:"small",color:"error",onClick:()=>D(P),children:a.jsx(Ci,{})})]}),a.jsxs(Y,{sx:{display:"flex",gap:1.5,flexWrap:"wrap"},children:[a.jsx(et,{size:"small",label:"Sets",type:"number",value:k.sets||3,onChange:N=>T(P,"sets",parseInt(N.target.value)||3),sx:{width:"80px"},inputProps:{min:1,max:10}}),a.jsx(et,{size:"small",label:"Reps",value:k.reps||"10",onChange:N=>T(P,"reps",N.target.value),sx:{width:"100px"},placeholder:"e.g., 10 or 8-12"}),a.jsx(et,{size:"small",label:"Rest (sec)",type:"number",value:k.restSeconds||90,onChange:N=>T(P,"restSeconds",parseInt(N.target.value)||90),sx:{width:"100px"},inputProps:{min:0,max:300}})]})]})},P))})]})]})}),a.jsxs(Qn,{sx:{px:3,pb:2},children:[a.jsx(ve,{onClick:M,children:"Cancel"}),a.jsx(ve,{variant:"contained",color:"primary",onClick:C,disabled:p.length===0,children:"Save Session"})]})]})};xT.propTypes={open:H.bool.isRequired,onClose:H.func.isRequired,onSave:H.func.isRequired,initialSession:H.object,allExercises:H.array,sessionDate:H.number};const bT=({open:e,onClose:t,onSave:s})=>{const[i,l]=x.useState(0),[u,d]=x.useState(""),[f,p]=x.useState("general_fitness"),[g,y]=x.useState("intermediate"),[v,b]=x.useState([]),[S,j]=x.useState(!1),[D,T]=x.useState(null),[C,M]=x.useState(null),{data:k=[]}=uf({queryKey:["exercises"],queryFn:async()=>{const U=await fetch("/goodlift/data/exercises.json");if(!U.ok)throw new Error("Failed to load exercises");return U.json()},staleTime:1/0});x.useEffect(()=>{e&&(l(0),d(""),p("general_fitness"),y("intermediate"),b([]))},[e]);const P=["Plan Details","Add Sessions","Review & Save"],N=()=>{if(i===0&&!u.trim()){alert("Please enter a plan name");return}l(U=>U+1)},W=()=>{l(U=>U-1)},E=()=>{T(null),M(null),j(!0)},L=(U,z)=>{T(U),M(z),j(!0)},_=U=>{window.confirm("Are you sure you want to delete this session?")&&b(v.filter((z,F)=>F!==U))},B=U=>{b(C!==null?v.map((z,F)=>F===C?U:z):[...v,U]),j(!1),T(null),M(null)},V=()=>{if(v.length===0){alert("Please add at least one session to the plan");return}const U=[...v].sort((fe,ge)=>fe.date-ge.date),z=U[0].date,F=U[U.length-1].date,I=Math.ceil((F-z)/(1440*60*1e3))+1,Q=[...new Set(v.map(fe=>fe.type))],ee=Math.round(v.length/(I/7))||3,ye={id:`plan_${Date.now()}`,name:u,startDate:z,endDate:F,duration:I,goal:f,experienceLevel:g,daysPerWeek:Math.min(ee,7),splitType:"custom",sessionTypes:Q,equipmentAvailable:["all"],sessions:U,deloadWeeks:[],periodization:{type:"custom",deloadFrequency:null,volumeProgression:"manual"},created:Date.now(),modified:Date.now(),active:!1};s(ye),A()},A=()=>{l(0),d(""),p("general_fitness"),y("intermediate"),b([]),j(!1),T(null),M(null),t()},q=U=>({full:"Full Body",upper:"Upper Body",lower:"Lower Body",push:"Push",pull:"Pull",legs:"Legs"})[U]||U;return a.jsxs(a.Fragment,{children:[a.jsxs(Gn,{open:e,onClose:A,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{minHeight:"70vh"}},children:[a.jsx(os,{children:a.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsx(pc,{color:"primary"}),a.jsx(R,{variant:"h6",children:"Build Custom Workout Plan"})]})}),a.jsx($n,{children:a.jsxs(Y,{sx:{pt:2},children:[a.jsx(ok,{activeStep:i,sx:{mb:4},children:P.map(U=>a.jsx(lk,{children:a.jsx(ck,{children:U})},U))}),i===0&&a.jsxs(Y,{sx:{display:"flex",flexDirection:"column",gap:3},children:[a.jsx(Mt,{severity:"info",children:"Create a custom workout plan by building it session-by-session. Start by entering your plan details."}),a.jsx(et,{fullWidth:!0,label:"Plan Name",value:u,onChange:U=>d(U.target.value),placeholder:"e.g., My Custom 4-Week Plan",required:!0}),a.jsxs(ht,{fullWidth:!0,children:[a.jsx(vt,{children:"Goal"}),a.jsxs(St,{value:f,label:"Goal",onChange:U=>p(U.target.value),children:[a.jsx(Se,{value:"strength",children:"Strength"}),a.jsx(Se,{value:"hypertrophy",children:"Muscle Gain"}),a.jsx(Se,{value:"fat_loss",children:"Fat Loss"}),a.jsx(Se,{value:"general_fitness",children:"General Fitness"})]})]}),a.jsxs(ht,{fullWidth:!0,children:[a.jsx(vt,{children:"Experience Level"}),a.jsxs(St,{value:g,label:"Experience Level",onChange:U=>y(U.target.value),children:[a.jsx(Se,{value:"beginner",children:"Beginner"}),a.jsx(Se,{value:"intermediate",children:"Intermediate"}),a.jsx(Se,{value:"advanced",children:"Advanced"})]})]})]}),i===1&&a.jsxs(Y,{sx:{display:"flex",flexDirection:"column",gap:2},children:[a.jsx(Mt,{severity:"info",children:"Add workout sessions to your plan. Each session can be customized with specific exercises."}),a.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs(R,{variant:"h6",children:["Sessions (",v.length,")"]}),a.jsx(ve,{variant:"contained",color:"primary",startIcon:a.jsx(Gs,{}),onClick:E,children:"Add Session"})]}),v.length===0?a.jsxs(Fn,{sx:{p:4,textAlign:"center",bgcolor:"background.default"},children:[a.jsx(Cn,{sx:{fontSize:48,color:"text.disabled",mb:2}}),a.jsx(R,{variant:"body1",color:"text.secondary",gutterBottom:!0,children:"No sessions added yet"}),a.jsx(R,{variant:"body2",color:"text.secondary",sx:{mb:2},children:'Click "Add Session" to start building your workout plan'})]}):a.jsx(Hs,{sx:{maxHeight:"400px",overflowY:"auto"},children:v.map((U,z)=>a.jsx(Fn,{sx:{mb:1.5,border:"1px solid",borderColor:"divider"},children:a.jsx(rs,{secondaryAction:a.jsxs(Y,{sx:{display:"flex",gap:.5},children:[a.jsx(rt,{size:"small",onClick:()=>L(U,z),children:a.jsx(Oc,{})}),a.jsx(rt,{size:"small",color:"error",onClick:()=>_(z),children:a.jsx(Ci,{})})]}),children:a.jsx(nr,{primary:a.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsxs(R,{variant:"subtitle2",sx:{fontWeight:600},children:["Session ",z+1]}),a.jsx(qe,{label:q(U.type),size:"small",color:"primary"})]}),secondary:a.jsxs(R,{variant:"body2",color:"text.secondary",children:[U.exercises?.length||0," exercise",U.exercises?.length!==1?"s":"",U.exercises?.length>0&&`  ${U.exercises.slice(0,2).map(F=>F.name||F["Exercise Name"]).join(", ")}${U.exercises.length>2?"...":""}`]})})})},z))})]}),i===2&&a.jsxs(Y,{sx:{display:"flex",flexDirection:"column",gap:3},children:[a.jsx(Mt,{severity:"success",children:"Review your custom workout plan before saving."}),a.jsxs(Fn,{sx:{p:2,bgcolor:"background.default"},children:[a.jsx(R,{variant:"h6",gutterBottom:!0,children:"Plan Summary"}),a.jsx(Or,{sx:{my:1.5}}),a.jsxs(Y,{sx:{display:"flex",flexDirection:"column",gap:1},children:[a.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between"},children:[a.jsx(R,{variant:"body2",color:"text.secondary",children:"Plan Name:"}),a.jsx(R,{variant:"body2",sx:{fontWeight:600},children:u})]}),a.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between"},children:[a.jsx(R,{variant:"body2",color:"text.secondary",children:"Goal:"}),a.jsx(R,{variant:"body2",sx:{fontWeight:600},children:f==="general_fitness"?"General Fitness":f==="hypertrophy"?"Muscle Gain":f==="fat_loss"?"Fat Loss":"Strength"})]}),a.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between"},children:[a.jsx(R,{variant:"body2",color:"text.secondary",children:"Experience Level:"}),a.jsx(R,{variant:"body2",sx:{fontWeight:600},children:g.charAt(0).toUpperCase()+g.slice(1)})]}),a.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between"},children:[a.jsx(R,{variant:"body2",color:"text.secondary",children:"Total Sessions:"}),a.jsx(R,{variant:"body2",sx:{fontWeight:600},children:v.length})]}),a.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between"},children:[a.jsx(R,{variant:"body2",color:"text.secondary",children:"Total Exercises:"}),a.jsx(R,{variant:"body2",sx:{fontWeight:600},children:v.reduce((U,z)=>U+(z.exercises?.length||0),0)})]})]})]}),a.jsxs(Y,{children:[a.jsx(R,{variant:"subtitle2",gutterBottom:!0,sx:{fontWeight:600},children:"Session Details"}),a.jsx(Hs,{sx:{maxHeight:"300px",overflowY:"auto"},children:v.map((U,z)=>a.jsxs(Fn,{sx:{mb:1,p:1.5,border:"1px solid",borderColor:"divider"},children:[a.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[a.jsxs(R,{variant:"subtitle2",sx:{fontWeight:600},children:["Session ",z+1]}),a.jsx(qe,{label:q(U.type),size:"small"})]}),a.jsxs(R,{variant:"caption",color:"text.secondary",children:[U.exercises?.length||0," exercises"]})]},z))})]})]})]})}),a.jsxs(Qn,{sx:{px:3,pb:2},children:[a.jsx(ve,{onClick:A,children:"Cancel"}),a.jsx(Y,{sx:{flex:1}}),i>0&&a.jsx(ve,{onClick:W,children:"Back"}),i<P.length-1?a.jsx(ve,{variant:"contained",onClick:N,disabled:i===0&&!u.trim(),children:"Next"}):a.jsx(ve,{variant:"contained",color:"primary",onClick:V,disabled:v.length===0,children:"Save Plan"})]})]}),a.jsx(xT,{open:S,onClose:()=>{j(!1),T(null),M(null)},onSave:B,initialSession:D,allExercises:k,sessionDate:D?.date||(v.length>0?v[v.length-1].date+1440*60*1e3:Date.now())})]})};bT.propTypes={open:H.bool.isRequired,onClose:H.func.isRequired,onSave:H.func.isRequired};const vT=({onNavigate:e})=>{const[t,s]=x.useState([]),[i,l]=x.useState(null),[u,d]=x.useState(!1),[f,p]=x.useState(!1),[g,y]=x.useState(null),[v,b]=x.useState(!1),[S,j]=x.useState(null),[D,T]=x.useState({name:"",goal:"general_fitness",experienceLevel:"intermediate",daysPerWeek:3,duration:30,sessionTypes:["full","upper","lower","hiit","cardio","yoga"]});x.useEffect(()=>{C()},[]);const C=async()=>{console.log("loadPlans called");const I=await wi();console.log("Loaded plans:",I.length,"plans"),console.log("Plan details:",I.map(ee=>({id:ee.id,name:ee.name,sessions:ee.sessions?.length}))),s(I);const Q=await Ko();console.log("Active plan:",Q?{id:Q.id,name:Q.name}:"none"),l(Q)},M=()=>{y(null),d(!0)},k=()=>{y(null),p(!0)},P=I=>{y(I.currentTarget)},N=()=>{y(null)},W=()=>{d(!1),T({name:"",goal:"general_fitness",experienceLevel:"intermediate",daysPerWeek:3,duration:30,sessionTypes:["full","upper","lower","hiit","cardio","yoga"]})},E=(I,Q)=>{T(ee=>({...ee,[I]:Q}))},L=I=>{T(Q=>{const ee=Q.sessionTypes;return ee.includes(I)?{...Q,sessionTypes:ee.filter(ye=>ye!==I)}:{...Q,sessionTypes:[...ee,I]}})},_=async()=>{try{b(!0),console.log("Starting plan generation with form:",D);const I=await py({...D,planName:D.name||"My Workout Plan",startDate:new Date,equipmentAvailable:["all"]});console.log("Plan generated successfully:",{id:I.id,name:I.name,sessionCount:I.sessions.length,firstSessionHasExercises:I.sessions[0]?.exercises?.length>0,sampleSession:I.sessions[0]}),await Hd(I),console.log("Plan saved to storage"),I.name==="This Week"&&(await ar(I.id),console.log('Auto-activated "This Week" plan:',I.id)),await C(),console.log("Plans reloaded"),W()}catch(I){console.error("Error generating plan:",I),console.error("Error stack:",I.stack),alert(`Failed to generate plan: ${I.message}`)}finally{b(!1)}},B=async I=>{try{await Hd(I),await C(),p(!1)}catch(Q){console.error("Error saving built plan:",Q),alert(`Failed to save plan: ${Q.message}`)}},V=async I=>{try{await ar(I),await C()}catch(Q){console.error("Error setting active plan:",Q)}},A=async I=>{if(window.confirm("Are you sure you want to delete this plan?"))try{await uy(I),await C()}catch(Q){console.error("Error deleting plan:",Q)}},q=I=>{ar(I.id),e&&e("progress")},U=I=>{j(S===I?null:I)},z=I=>({strength:"Strength",hypertrophy:"Muscle Gain",fat_loss:"Fat Loss",general_fitness:"General Fitness"})[I]||I,F=I=>({beginner:"Beginner",intermediate:"Intermediate",advanced:"Advanced"})[I]||I;return a.jsxs(Y,{sx:{width:"100%",minHeight:"100vh"},children:[a.jsx(ur,{title:"Workout Plans",icon:"",action:a.jsx(ve,{variant:"contained",color:"primary",size:"small",startIcon:a.jsx(Gs,{}),onClick:P,children:"Create Plan"})}),a.jsxs(uk,{anchorEl:g,open:!!g,onClose:N,children:[a.jsxs(Se,{onClick:k,children:[a.jsx(q1,{sx:{mr:1}}),"Build Custom Plan"]}),a.jsxs(Se,{onClick:M,children:[a.jsx(dk,{sx:{mr:1}}),"Auto-Generate Plan"]})]}),a.jsxs(fk,{maxWidth:"lg",sx:{py:2,px:{xs:2,sm:3}},children:[i&&a.jsxs(Fn,{sx:{p:2,mb:2,bgcolor:"primary.light",color:"white",borderRadius:2},children:[a.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:1},children:[a.jsxs(Y,{sx:{flex:1,minWidth:0},children:[a.jsx(R,{variant:"subtitle2",sx:{opacity:.9,textTransform:"uppercase",fontSize:"0.75rem"},children:"Active Plan"}),a.jsx(R,{variant:"h6",sx:{fontWeight:600,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:i.name})]}),a.jsx(qs,{sx:{ml:1}})]}),a.jsxs(Y,{sx:{display:"flex",gap:.5,mb:1.5,flexWrap:"wrap"},children:[a.jsx(qe,{label:z(i.goal),size:"small",sx:{bgcolor:"white",height:20,fontSize:"0.7rem"}}),a.jsx(qe,{label:`${i.daysPerWeek}x/week`,size:"small",sx:{bgcolor:"white",height:20,fontSize:"0.7rem"}}),a.jsx(qe,{label:F(i.experienceLevel),size:"small",sx:{bgcolor:"white",height:20,fontSize:"0.7rem"}})]}),a.jsxs(Y,{sx:{mb:1},children:[a.jsx(R,{variant:"caption",sx:{opacity:.9},children:(()=>{const I=Md(i);return`${I.completedSessions}/${I.totalSessions} sessions  ${Math.round(I.completionRate)}% complete`})()}),a.jsx(Rr,{variant:"determinate",value:Md(i).completionRate,sx:{mt:.5,height:4,borderRadius:2,bgcolor:"rgba(255,255,255,0.3)","& .MuiLinearProgress-bar":{bgcolor:"white"}}})]}),a.jsx(ve,{variant:"contained",color:"secondary",size:"small",startIcon:a.jsx(pc,{}),onClick:()=>q(i),fullWidth:!0,children:"View Calendar"})]}),a.jsxs(Fn,{sx:{borderRadius:2,overflow:"hidden"},children:[a.jsx(Y,{sx:{p:2,bgcolor:"background.default",borderBottom:"1px solid",borderColor:"divider"},children:a.jsxs(R,{variant:"h6",sx:{fontWeight:600},children:["All Plans (",t.length,")"]})}),t.length===0?a.jsxs(Y,{sx:{p:4,textAlign:"center"},children:[a.jsx(R,{variant:"body1",color:"text.secondary",gutterBottom:!0,children:"No workout plans yet"}),a.jsx(R,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Create your first workout plan to get started"}),a.jsx(ve,{variant:"contained",color:"primary",startIcon:a.jsx(Gs,{}),onClick:M,children:"Create Plan"})]}):a.jsx(Hs,{sx:{p:0},children:t.map((I,Q)=>{const ee=Md(I),ye=i&&i.id===I.id,fe=S===I.id;return a.jsxs(Y,{children:[a.jsx(rs,{sx:{borderBottom:!fe&&Q<t.length-1?"1px solid":"none",borderColor:"divider",py:2,px:2,bgcolor:ye?"action.selected":"transparent",cursor:"pointer","&:hover":{bgcolor:ye?"action.selected":"action.hover"}},onClick:()=>U(I.id),secondaryAction:a.jsxs(Y,{sx:{display:"flex",gap:.5,ml:1},children:[a.jsx(ss,{title:"View Calendar",children:a.jsx(rt,{size:"medium",onClick:ge=>{ge.stopPropagation(),q(I)},children:a.jsx(pc,{})})}),!ye&&a.jsx(ss,{title:"Set Active",children:a.jsx(rt,{size:"medium",onClick:ge=>{ge.stopPropagation(),V(I.id)},children:a.jsx(Hn,{})})}),a.jsx(ss,{title:"Delete",children:a.jsx(rt,{size:"medium",onClick:ge=>{ge.stopPropagation(),A(I.id)},children:a.jsx(Ci,{})})}),a.jsx(rt,{size:"small",onClick:ge=>ge.stopPropagation(),children:fe?a.jsx(G1,{}):a.jsx(ec,{})})]}),children:a.jsx(nr,{sx:{pr:{xs:14,sm:12}},primary:a.jsx(Y,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:a.jsx(R,{variant:"subtitle1",sx:{fontWeight:600},children:I.name})}),secondary:a.jsxs(Y,{children:[a.jsxs(Y,{sx:{display:"flex",gap:.5,mb:.5,flexWrap:"wrap",maxWidth:"100%"},children:[a.jsx(qe,{label:z(I.goal),size:"small",sx:{height:18,fontSize:"0.65rem"}}),a.jsx(qe,{label:`${I.daysPerWeek}x/week`,size:"small",sx:{height:18,fontSize:"0.65rem"}}),a.jsx(qe,{label:`${I.duration} days`,size:"small",sx:{height:18,fontSize:"0.65rem"}}),a.jsx(qe,{label:F(I.experienceLevel),size:"small",sx:{height:18,fontSize:"0.65rem"}})]}),a.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1,mt:1},children:[a.jsxs(R,{variant:"caption",color:"text.secondary",sx:{minWidth:"fit-content"},children:[ee.completedSessions,"/",ee.totalSessions,"  ",Math.round(ee.completionRate),"%"]}),a.jsx(Rr,{variant:"determinate",value:ee.completionRate,sx:{flex:1,height:4,borderRadius:2,maxWidth:150}})]})]})})}),a.jsx(hk,{in:fe,timeout:"auto",unmountOnExit:!0,children:a.jsxs(Y,{sx:{px:2,pb:2,pt:1,bgcolor:"background.default",borderBottom:Q<t.length-1?"1px solid":"none",borderColor:"divider"},children:[a.jsx(R,{variant:"subtitle2",sx:{fontWeight:600,mb:1},children:"Workout Schedule"}),I.sessions&&I.sessions.length>0?a.jsx(Y,{sx:{maxHeight:400,overflowY:"auto"},children:I.sessions.map((ge,De)=>a.jsxs(Y,{sx:{mb:1.5,p:1.5,bgcolor:"background.paper",borderRadius:1,border:"1px solid",borderColor:"divider"},children:[a.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:.5},children:[a.jsx(R,{variant:"body2",sx:{fontWeight:600},children:new Date(ge.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),a.jsx(qe,{label:ge.type.toUpperCase(),size:"small",color:ge.type==="rest"?"default":"primary",sx:{height:20,fontSize:"0.7rem"}})]}),ge.exercises&&ge.exercises.length>0&&a.jsxs(Y,{sx:{mt:1},children:[a.jsxs(R,{variant:"caption",color:"text.secondary",sx:{fontWeight:600},children:["Exercises (",ge.exercises.length,"):"]}),a.jsxs(Y,{sx:{mt:.5},children:[ge.exercises.slice(0,5).map((ke,Oe)=>a.jsxs(R,{variant:"caption",color:"text.secondary",sx:{display:"block",ml:1},children:[" ",ke["Exercise Name"]||ke.name||"Unknown Exercise"]},Oe)),ge.exercises.length>5&&a.jsxs(R,{variant:"caption",color:"text.secondary",sx:{display:"block",ml:1,fontStyle:"italic"},children:["... and ",ge.exercises.length-5," more"]})]})]})]},ge.id||De))}):a.jsx(R,{variant:"body2",color:"text.secondary",children:"No sessions available"})]})})]},I.id)})})]}),a.jsxs(Gn,{open:u,onClose:W,maxWidth:"sm",fullWidth:!0,children:[a.jsx(os,{children:"Create Workout Plan"}),a.jsx($n,{children:a.jsxs(Y,{sx:{pt:2,display:"flex",flexDirection:"column",gap:2},children:[a.jsx(et,{fullWidth:!0,label:"Plan Name",value:D.name,onChange:I=>E("name",I.target.value),placeholder:"e.g., Summer Strength Plan"}),a.jsxs(ht,{fullWidth:!0,children:[a.jsx(vt,{children:"Goal"}),a.jsxs(St,{value:D.goal,label:"Goal",onChange:I=>E("goal",I.target.value),children:[a.jsx(Se,{value:"strength",children:"Strength"}),a.jsx(Se,{value:"hypertrophy",children:"Muscle Gain"}),a.jsx(Se,{value:"fat_loss",children:"Fat Loss"}),a.jsx(Se,{value:"general_fitness",children:"General Fitness"})]})]}),a.jsxs(ht,{fullWidth:!0,children:[a.jsx(vt,{children:"Experience Level"}),a.jsxs(St,{value:D.experienceLevel,label:"Experience Level",onChange:I=>E("experienceLevel",I.target.value),children:[a.jsx(Se,{value:"beginner",children:"Beginner"}),a.jsx(Se,{value:"intermediate",children:"Intermediate"}),a.jsx(Se,{value:"advanced",children:"Advanced"})]})]}),a.jsxs(ht,{fullWidth:!0,children:[a.jsx(vt,{children:"Days per Week"}),a.jsx(St,{value:D.daysPerWeek,label:"Days per Week",onChange:I=>E("daysPerWeek",I.target.value),children:[2,3,4,5,6,7].map(I=>a.jsxs(Se,{value:I,children:[I," days"]},I))})]}),a.jsxs(ht,{fullWidth:!0,children:[a.jsx(vt,{children:"Duration (days)"}),a.jsxs(St,{value:D.duration,label:"Duration (days)",onChange:I=>E("duration",I.target.value),children:[a.jsx(Se,{value:7,children:"1 week"}),a.jsx(Se,{value:14,children:"2 weeks"}),a.jsx(Se,{value:30,children:"30 days"}),a.jsx(Se,{value:60,children:"60 days"}),a.jsx(Se,{value:90,children:"90 days"})]})]}),a.jsxs(Y,{children:[a.jsx(R,{variant:"subtitle2",gutterBottom:!0,children:"Session Types"}),a.jsx(Y,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:[{value:"full",label:"Full Body"},{value:"upper",label:"Upper Body"},{value:"lower",label:"Lower Body"},{value:"hiit",label:"HIIT"},{value:"cardio",label:"Cardio"},{value:"yoga",label:"Yoga/Mobility"}].map(I=>a.jsx(qe,{label:I.label,onClick:()=>L(I.value),color:D.sessionTypes.includes(I.value)?"primary":"default",variant:D.sessionTypes.includes(I.value)?"filled":"outlined"},I.value))})]})]})}),a.jsxs(Qn,{children:[a.jsx(ve,{onClick:W,disabled:v,children:"Cancel"}),a.jsx(ve,{onClick:_,variant:"contained",color:"primary",disabled:!D.name||D.sessionTypes.length===0||v,children:v?"Generating...":"Generate Plan"})]})]}),a.jsx(bT,{open:f,onClose:()=>p(!1),onSave:B})]})]})};vT.propTypes={onNavigate:H.func};const Fw=e=>!e||typeof e!="string"?[]:e.split(",").map(t=>t.trim()).filter(t=>t.length>0),ST=e=>{const t=Fw(e.primaryMuscles),s=Fw(e.secondaryMuscles||"");return[...t,...s]},BB=(e,t)=>{const s=ST(e);let i=0;for(const l of t)for(const u of s)l.toLowerCase()===u.toLowerCase()?i+=10:(l.toLowerCase().includes(u.toLowerCase())||u.toLowerCase().includes(l.toLowerCase()))&&(i+=5);return i},LB=e=>ST(e).some(s=>s.toLowerCase().includes("full body")),gd=e=>{const t=[...e];for(let s=t.length-1;s>0;s--){const i=Math.floor(Math.random()*(s+1));[t[s],t[i]]=[t[i],t[s]]}return t},Hw=(e,t,s,i)=>{if(!i||i.length===0)return console.warn("No stretches available"),[];if(!e||e.length===0)return gd(i).slice(0,s);const l=i.map(g=>({stretch:g,score:BB(g,e),isFullBody:LB(g)})),u=l.filter(g=>g.score>0).sort((g,y)=>y.score-g.score),d=l.filter(g=>g.isFullBody&&g.score===0),f=[],p=new Set;for(const g of u){if(f.length>=s)break;const y=i.indexOf(g.stretch);p.has(y)||(f.push(g.stretch),p.add(y))}if(f.length<s){const g=gd(d.map(y=>y.stretch));for(const y of g){if(f.length>=s)break;const v=i.indexOf(y);p.has(v)||(f.push(y),p.add(v))}}if(f.length<s){const g=i.filter((v,b)=>!p.has(b)),y=gd(g);for(const v of y){if(f.length>=s)break;f.push(v)}}return gd(f).slice(0,s)},Xm=({stretch:e,onNext:t,onSkipAll:s,currentIndex:i,totalCount:l,phaseType:u})=>{const[d,f]=x.useState(e.duration||30),p=x.useRef(null);x.useEffect(()=>(f(e.duration||30),p.current=setInterval(()=>{f(y=>y<=1?(clearInterval(p.current),setTimeout(()=>t(),500),0):y-1)},1e3),()=>{p.current&&clearInterval(p.current)}),[e,t]);const g=(e.duration-d)/e.duration*100;return a.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},style:{width:"100%",maxWidth:"600px",margin:"0 auto"},children:a.jsxs(Y,{sx:{p:3,bgcolor:"background.paper",borderRadius:2,boxShadow:3},children:[a.jsxs(Y,{sx:{mb:2,textAlign:"center"},children:[a.jsxs(R,{variant:"overline",color:"text.secondary",children:[u==="warmup"?"Warm-Up":"Cool-Down"," - Stretch ",i+1," of ",l]}),a.jsx(R,{variant:"h5",sx:{fontWeight:600,mt:1},children:e.name}),a.jsx(R,{variant:"body2",color:"text.secondary",sx:{mt:1},children:e.description})]}),a.jsxs(Y,{sx:{display:"flex",flexDirection:"column",alignItems:"center",my:3},children:[a.jsxs(Y,{sx:{position:"relative",display:"inline-flex"},children:[a.jsx(Rc,{variant:"determinate",value:g,size:120,thickness:4,sx:{color:u==="warmup"?"warning.main":"info.main"}}),a.jsx(Y,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(R,{variant:"h3",component:"div",color:"text.primary",children:d})})]}),a.jsx(R,{variant:"caption",color:"text.secondary",sx:{mt:1},children:"seconds remaining"})]}),e.youtubeLink&&a.jsx(Y,{sx:{mb:2},children:a.jsx("div",{style:{position:"relative",paddingBottom:"56.25%",height:0,overflow:"hidden"},children:a.jsx("iframe",{src:rT(e.youtubeLink),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"8px"}})})}),a.jsxs(Y,{sx:{display:"flex",gap:2,mt:3,flexDirection:{xs:"column",sm:"row"}},children:[a.jsxs(ve,{variant:"outlined",onClick:s,fullWidth:!0,sx:{order:{xs:2,sm:1}},children:["Skip ",u==="warmup"?"Warm-Up":"Cool-Down"]}),a.jsx(ve,{variant:"contained",onClick:t,endIcon:a.jsx(Ic,{}),fullWidth:!0,sx:{order:{xs:1,sm:2}},children:"Next Stretch"})]})]})},e.name)};Xm.propTypes={stretch:H.shape({name:H.string.isRequired,description:H.string.isRequired,primaryMuscles:H.string.isRequired,secondaryMuscles:H.string,duration:H.number.isRequired,youtubeLink:H.string}).isRequired,onNext:H.func.isRequired,onSkipAll:H.func.isRequired,currentIndex:H.number.isRequired,totalCount:H.number.isRequired,phaseType:H.oneOf(["warmup","cooldown"]).isRequired};const wT=({workoutPlan:e,onComplete:t,onExit:s})=>{const[i,l]=x.useState(0),[u,d]=x.useState([]),[f,p]=x.useState(0),[g,y]=x.useState(null),[v,b]=x.useState(null),[S,j]=x.useState(!1),[D,T]=x.useState(!1),[C,M]=x.useState({}),k=x.useRef(null),P=x.useRef(null),[N,W]=x.useState("warmup"),[E,L]=x.useState(0),[_,B]=x.useState([]),[V,A]=x.useState([]),[q,U]=x.useState(!1),[z,F]=x.useState(!1),[I,Q]=x.useState(!1),[ee,ye]=x.useState(!1),fe=x.useMemo(()=>{const oe=[];for(let te=0;te<4;te++){const we=e[te*2],ne=e[te*2+1];if(!(!we||!ne))for(let le=1;le<=Ym;le++)oe.push({exercise:we,setNumber:le}),oe.push({exercise:ne,setNumber:le})}return oe},[e]);x.useEffect(()=>{(async()=>{try{const te=await(await fetch("/data/stretching-library.json")).json(),we=[];e.forEach(K=>{if(K["Primary Muscle"]&&we.push(K["Primary Muscle"]),K["Secondary Muscles"]){const he=K["Secondary Muscles"].split(",").map(xe=>xe.trim()).filter(xe=>xe.length>0);we.push(...he)}});const ne=[...new Set(we)],le=localStorage.getItem("goodlift_stretching_prefs");if((le?JSON.parse(le):{}).alwaysSkipWarmup)F(!0),W("exercise");else{const K=Hw(ne,"dynamic",Math.floor(Math.random()*2)+5,te.dynamic);B(K)}const be=Hw(ne,"static",Math.floor(Math.random()*2)+4,te.static);A(be)}catch(Ce){console.error("Error loading stretching library:",Ce),F(!0),W("exercise")}})()},[e]),x.useEffect(()=>(k.current=Date.now(),P.current=setInterval(()=>{const Ce=Math.floor((Date.now()-k.current)/1e3);p(Ce)},1e3),(async()=>{const Ce={},te=[...new Set(e.map(we=>we["Exercise Name"]))];await Promise.all(te.map(async we=>{const[ne,le]=await Promise.all([jc(we),Fo(we)]);Ce[we]={weight:ne??null,reps:le??null}})),M(Ce)})(),()=>{P.current&&clearInterval(P.current)}),[e]),x.useEffect(()=>{const oe=fe[i];if(oe?.exercise?.["Exercise Name"]){const Ce=oe.exercise["Exercise Name"],te=C[Ce];y(te?.weight??null),b(te?.reps??null)}window.scrollTo({top:0,behavior:"smooth"})},[i,C,fe]);const ge=fe[i],De=ge?.exercise?.["Exercise Name"],ke=async oe=>{const Ce={};oe.forEach(({exerciseName:te,setNumber:we,weight:ne,reps:le})=>{Ce[te]||(Ce[te]=[]),Ce[te].push({setNumber:we,weight:ne,reps:le})});for(const[te,we]of Object.entries(Ce)){const ne=C[te]||{weight:null,reps:null},le=ne.reps??0,$=ne.weight,be=we.map(je=>je.reps).filter(je=>typeof je=="number"&&!isNaN(je));if(be.length===0)continue;const K=Math.min(...be),he=be.every(je=>je>=le);if(be.every(je=>je>le)&&K>0&&await Cc(te,K),he){const je=we[we.length-1].weight;typeof je=="number"&&!isNaN(je)&&je>=0&&je!==$&&await ma(te,je)}}},Oe=()=>{N==="warmup"?E+1>=_.length?(U(!0),W("exercise"),L(0)):L(oe=>oe+1):N==="cooldown"&&(E+1>=V.length?(Q(!0),W("complete")):L(oe=>oe+1))},Ve=()=>{F(!0),W("exercise");const oe=localStorage.getItem("goodlift_stretching_prefs"),Ce=oe?JSON.parse(oe):{};localStorage.setItem("goodlift_stretching_prefs",JSON.stringify({...Ce,lastSkippedWarmup:new Date().toISOString()}))},Ue=()=>{ye(!0),W("complete");const oe=localStorage.getItem("goodlift_stretching_prefs"),Ce=oe?JSON.parse(oe):{};localStorage.setItem("goodlift_stretching_prefs",JSON.stringify({...Ce,lastSkippedCooldown:new Date().toISOString()}))},nt=()=>{const oe=Math.floor((Date.now()-k.current)/1e3);P.current&&clearInterval(P.current);const Ce={date:new Date().toISOString(),type:e[0]?.["Primary Muscle"]||"unknown",duration:oe,exercises:{},warmupCompleted:q,warmupSkipped:z,cooldownCompleted:I,cooldownSkipped:ee,totalDuration:oe};u.forEach(te=>{const{exerciseName:we,setNumber:ne,weight:le,reps:$}=te;Ce.exercises[we]||(Ce.exercises[we]={sets:[]}),Ce.exercises[we].sets.push({set:ne,weight:le,reps:$})}),t(Ce)},Ne=async oe=>{oe.preventDefault();const Ce=oe.target.closest("form")||document.querySelector("form"),te=Ce?.querySelector("#weight-select"),we=Ce?.querySelector("#reps-select");if(!te||!we){console.error("Form inputs not found");return}const ne=Math.max(0,parseFloat(te.value)||0),le=parseInt(we.value,10),$=le>0?le:0,be={exerciseName:ge.exercise["Exercise Name"],setNumber:ge.setNumber,weight:ne,reps:$},K=[...u,be];d(K),i+1>=fe.length?(await ke(K),W("cooldown"),L(0)):l(he=>he+1)},ce=()=>{i>0&&(l(oe=>oe-1),d(oe=>oe.slice(0,-1)))},de=async()=>{if(window.confirm("Save this workout as partially complete? Your current progress will be saved.")){await ke(u);const oe=Math.floor((Date.now()-k.current)/1e3);P.current&&clearInterval(P.current);const Ce={date:new Date().toISOString(),type:e[0]?.["Primary Muscle"]||"unknown",duration:oe,exercises:{},isPartial:!0};u.forEach(te=>{const{exerciseName:we,setNumber:ne,weight:le,reps:$}=te;Ce.exercises[we]||(Ce.exercises[we]={sets:[]}),Ce.exercises[we].sets.push({set:ne,weight:le,reps:$})}),t(Ce)}},Te=()=>{window.confirm("Are you sure you want to exit? Your progress will not be saved.")&&(P.current&&clearInterval(P.current),s())},Ee=()=>{try{const oe=dy(e[0]);of({name:`${oe.charAt(0).toUpperCase()+oe.slice(1)} Body Workout`,type:oe,equipment:"all",exercises:e}),j(!0),T(!0)}catch(oe){console.error("Error saving to favorites:",oe),alert("Failed to save workout to favorites")}};return!ge&&N==="exercise"?null:N==="warmup"?_.length===0?a.jsx("div",{children:"Loading warmup..."}):a.jsxs("div",{className:"screen",style:{paddingBottom:"100px",padding:"0.5rem",maxWidth:"100vw",boxSizing:"border-box"},children:[a.jsx(Y,{sx:{mb:1.5,px:{xs:.5,sm:0}},children:a.jsx(R,{variant:"h6",sx:{fontWeight:600,textAlign:"center",mb:1},children:"Warm-Up Phase"})}),a.jsx(Xm,{stretch:_[E],onNext:Oe,onSkipAll:Ve,currentIndex:E,totalCount:_.length,phaseType:"warmup"})]}):N==="cooldown"?V.length===0?(W("complete"),null):a.jsxs("div",{className:"screen",style:{paddingBottom:"100px",padding:"0.5rem",maxWidth:"100vw",boxSizing:"border-box"},children:[a.jsx(Y,{sx:{mb:1.5,px:{xs:.5,sm:0}},children:a.jsx(R,{variant:"h6",sx:{fontWeight:600,textAlign:"center",mb:1},children:"Cool-Down Phase"})}),a.jsx(Xm,{stretch:V[E],onNext:Oe,onSkipAll:Ue,currentIndex:E,totalCount:V.length,phaseType:"cooldown"})]}):N==="complete"?a.jsx("div",{className:"screen",style:{paddingBottom:"100px",padding:"2rem",maxWidth:"100vw",boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"60vh"},children:a.jsxs(Pe.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},style:{textAlign:"center"},children:[a.jsx(pk,{sx:{fontSize:80,color:"primary.main",mb:2}}),a.jsx(R,{variant:"h4",sx:{fontWeight:600,mb:2},children:"Workout Complete! "}),a.jsxs(R,{variant:"body1",color:"text.secondary",sx:{mb:3},children:["Great job! You've completed your workout",!z&&!ee?" including warmup and cooldown phases":z?ee?"":" including cooldown phase":" including warmup phase","."]}),a.jsx(ve,{variant:"contained",size:"large",onClick:nt,sx:{mt:2},children:"Finish Workout"})]})}):a.jsxs("div",{className:"screen",style:{paddingBottom:"100px",padding:"0.5rem",maxWidth:"100vw",boxSizing:"border-box"},children:[a.jsxs(Y,{sx:{mb:1.5,px:{xs:.5,sm:0}},children:[a.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:.5,gap:1},children:[a.jsx(R,{variant:"body1",sx:{fontWeight:600,fontSize:{xs:"0.9rem",sm:"1.25rem"}},children:sT(f)}),a.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:{xs:.5,sm:1}},children:[a.jsx(rt,{onClick:Ee,disabled:S,size:"small",sx:{color:S?"warning.main":"action.active","&:hover":{color:"warning.main"},p:{xs:.5,sm:1}},"aria-label":"Save to favorites",children:S?a.jsx(ua,{sx:{fontSize:{xs:20,sm:24}}}):a.jsx($1,{sx:{fontSize:{xs:20,sm:24}}})}),a.jsxs(R,{variant:"body1",sx:{fontWeight:600,fontSize:{xs:"0.9rem",sm:"1.25rem"}},children:[i+1,"/",fe.length]})]})]}),a.jsx(Rr,{variant:"determinate",value:i/fe.length*100,sx:{height:{xs:6,sm:8},borderRadius:4,bgcolor:"rgba(138, 190, 185, 0.2)","& .MuiLinearProgress-bar":{bgcolor:"primary.main",borderRadius:4}}})]}),a.jsx("div",{className:"exercise-card-container",children:a.jsx(xc,{mode:"wait",children:a.jsx(Pe.form,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},onSubmit:Ne,children:a.jsxs(Pe.div,{className:"exercise-card",initial:{scale:.95},animate:{scale:1},transition:{duration:.3},children:[a.jsx("h2",{children:De}),a.jsx("div",{className:"youtube-embed",children:a.jsx("iframe",{src:rT(ge.exercise.YouTube_Demonstration_Link),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),a.jsxs("p",{className:"set-info",children:["Set ",ge.setNumber," of ",Ym]}),(g!==null||v!==null)&&a.jsxs(Pe.p,{className:"prev-weight",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.2},children:["Target: ",g??""," lbs  ",v??""," reps"]}),a.jsxs("div",{className:"input-row",children:[a.jsxs("div",{className:"input-group",children:[a.jsx("label",{htmlFor:"weight-select",children:"Weight (lbs)"}),a.jsx("input",{id:"weight-select",type:"tel",inputMode:"decimal",pattern:"[0-9]*([.,][0-9]+)?",step:"2.5",min:"0",max:"500",className:"exercise-input",defaultValue:g??"",placeholder:"","aria-label":"Weight in pounds",onFocus:oe=>{oe.target.select();const te=oe.target.getBoundingClientRect().bottom,ne=window.innerHeight*.55;te>ne&&setTimeout(()=>{oe.target.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{window.scrollBy({top:-80,behavior:"smooth"})},100)},300)},style:{width:"100%",padding:"12px",borderRadius:"8px",border:"2px solid var(--color-border)",fontSize:"1rem",fontFamily:"var(--font-body)",backgroundColor:"var(--color-surface)",color:"var(--color-text)"}})]}),a.jsxs("div",{className:"input-group",children:[a.jsx("label",{htmlFor:"reps-select",children:"Reps"}),a.jsx("input",{id:"reps-select",type:"number",inputMode:"numeric",step:"1",min:"1",max:"20",className:"exercise-input",defaultValue:v??"",placeholder:"","aria-label":"Repetitions",onFocus:oe=>{oe.target.select();const te=oe.target.getBoundingClientRect().bottom,ne=window.innerHeight*.55;te>ne&&setTimeout(()=>{oe.target.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{window.scrollBy({top:-80,behavior:"smooth"})},100)},300)},style:{width:"100%",padding:"12px",borderRadius:"8px",border:"2px solid var(--color-border)",fontSize:"1rem",fontFamily:"var(--font-body)",backgroundColor:"var(--color-surface)",color:"var(--color-text)"}})]})]}),a.jsxs("div",{className:"workout-nav-buttons",children:[i>0&&a.jsxs(Pe.button,{type:"button",className:"back-btn",onClick:ce,whileHover:{scale:1.02},whileTap:{scale:.98},children:[a.jsx(mk,{sx:{fontSize:18,mr:.5}})," Back"]}),a.jsxs(Pe.button,{type:"submit",className:"next-btn",whileHover:{scale:1.02},whileTap:{scale:.98},children:["Next ",a.jsx(gk,{sx:{fontSize:18,ml:.5}})]})]})]})},i)})}),a.jsxs("div",{className:"workout-controls",children:[a.jsxs(Pe.button,{className:"exit-workout-btn",onClick:Te,whileHover:{scale:1.05},whileTap:{scale:.95},style:{background:"rgb(237, 63, 39)",marginBottom:"12px",color:"white"},children:[a.jsx(yk,{sx:{fontSize:18,mr:.5}})," End Workout"]}),u.length>0&&a.jsx(Pe.button,{className:"partial-complete-btn",onClick:de,whileHover:{scale:1.05},whileTap:{scale:.95},style:{background:"rgb(254, 178, 26)",color:"rgb(19, 70, 134)"},children:"End and Save"})]}),a.jsx(vi,{open:D,autoHideDuration:3e3,onClose:()=>T(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:a.jsx(Mt,{severity:"success",onClose:()=>T(!1),children:"Workout saved to favorites!"})})]})};wT.propTypes={workoutPlan:H.array.isRequired,onComplete:H.func.isRequired,onExit:H.func.isRequired};const wy=x.memo(({workout:e,workoutType:t,onStart:s,onCancel:i,onRandomizeExercise:l})=>{const[u,d]=x.useState({}),[f,p]=x.useState(!0),[g,y]=x.useState(!1),[v,b]=x.useState(!1),[S,j]=x.useState({}),[D,T]=x.useState({open:!1,message:"",severity:"info"}),[C,M]=x.useState([]);x.useEffect(()=>{(async()=>{try{const U=await(await fetch(cf)).json();let z=U;t==="upper"?z=U.filter(F=>F["Workout Type"]&&(F["Workout Type"].includes("Upper Body")||F["Workout Type"].includes("Full Body")||F["Workout Type"].includes("Push/Pull/Legs"))):t==="lower"?z=U.filter(F=>F["Workout Type"]&&(F["Workout Type"].includes("Lower Body")||F["Workout Type"].includes("Full Body")||F["Workout Type"].includes("Push/Pull/Legs"))):t==="full"&&(z=U.filter(F=>F["Workout Type"]&&F["Workout Type"].includes("Full Body"))),M(z)}catch(q){console.error("Error loading exercises:",q),M([])}})()},[t]),x.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),(async()=>{const q={};for(const U of e){const z=U["Exercise Name"],[F,I]=await Promise.all([jc(z),Fo(z)]);q[z]={weight:F??"",targetReps:I??""}}d(q),p(!1)})()},[e]),x.useEffect(()=>{const A=async()=>{const q=Object.keys(u),U=e.filter(z=>!q.includes(z["Exercise Name"]));if(U.length>0){const z={...u};for(const F of U){const I=F["Exercise Name"];if(!S[I]){const[Q,ee]=await Promise.all([jc(I),Fo(I)]);z[I]={weight:Q??"",targetReps:ee??""}}}d(z)}};!f&&Object.keys(u).length>0&&A()},[e,f]);const k=(A,q)=>{if(q===""||/^\d*\.?\d*$/.test(q)){const U=q===""?"":parseFloat(q);d(z=>({...z,[A]:{...z[A],weight:U}})),j(z=>({...z,[A]:{...z[A],weightCustomized:!0}}))}},P=(A,q)=>{if(q===""||q===null||q===void 0)return;const U=parseFloat(q);if(!isNaN(U)&&U>0){const z=Math.round(U/2.5)*2.5;z!==U&&(d(F=>({...F,[A]:{...F[A],weight:z}})),T({open:!0,message:`Weight adjusted to ${z} lbs (nearest 2.5 lb increment)`,severity:"info"}))}},N=(A,q)=>{if(q===""||/^\d+$/.test(q)){const U=q===""?"":parseInt(q,10);d(z=>({...z,[A]:{...z[A],targetReps:U}})),j(z=>({...z,[A]:{...z[A],repsCustomized:!0}}))}},W=(A,q)=>{if(q===""||q===null||q===void 0)return;const U=parseInt(q,10);(isNaN(U)||U<1)&&d(z=>({...z,[A]:{...z[A],targetReps:""}}))},E=x.useCallback((A,q)=>{l&&l(A,q)},[l]),L=x.useCallback((A,q)=>{!q||!l||l(q,A)},[l]),_=async()=>{for(const[A,q]of Object.entries(u)){const U=q.weight===""?null:q.weight,z=q.targetReps===""?null:q.targetReps;await ma(A,U),await Cc(A,z)}s()},B=()=>{try{of({name:`${t.charAt(0).toUpperCase()+t.slice(1)} Body Workout`,type:t,exercises:e}),y(!0),b(!0)}catch(A){console.error("Error saving to favorites:",A)}},V=[];for(let A=0;A<e.length;A+=2)e[A]&&e[A+1]&&V.push([e[A],e[A+1]]);return f?a.jsx(Y,{sx:{textAlign:"center",py:8,display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:a.jsx("img",{src:"/goodlift/dancing-icon.svg",alt:"Loading workout...",style:{width:"150px",height:"150px"}})}):a.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"screen",style:{maxWidth:"900px",margin:"0 auto",padding:"1rem",width:"100%",boxSizing:"border-box",overflowX:"hidden"},children:[a.jsxs(Y,{sx:{mb:{xs:2,sm:4},textAlign:"center",position:"relative",px:{xs:.5,sm:0}},children:[a.jsx(rt,{onClick:B,disabled:g,size:"small",sx:{position:"absolute",top:0,right:{xs:0,sm:0},color:g?"warning.main":"action.active",minWidth:"44px",minHeight:"44px","&:hover":{color:"warning.main"},p:{xs:.5,sm:1}},"aria-label":"Save to favorites",children:g?a.jsx(ua,{sx:{fontSize:{xs:24,sm:32}}}):a.jsx(Pd,{sx:{fontSize:{xs:24,sm:32}}})}),a.jsx(Pe.div,{initial:{scale:.8},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},children:a.jsx(Cn,{sx:{fontSize:{xs:48,sm:60},color:"primary.main",mb:{xs:1,sm:2}}})}),a.jsxs(R,{variant:"h3",component:"h1",gutterBottom:!0,sx:{fontWeight:700,color:"primary.main",fontSize:{xs:"1.5rem",sm:"3rem"}},children:["Your ",t.charAt(0).toUpperCase()+t.slice(1)," Body Workout"]}),a.jsxs(R,{variant:"subtitle1",color:"text.secondary",sx:{mb:1,fontSize:{xs:"0.875rem",sm:"1rem"}},children:[V.length," Supersets  ",e.length," Exercises  3 Sets Each"]}),a.jsx(R,{variant:"body2",color:"primary.main",sx:{fontWeight:600,fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Set your starting target weight and target reps for each exercise"})]}),a.jsx(Me,{spacing:{xs:2,sm:3},sx:{px:{xs:.5,sm:0}},children:V.map((A,q)=>a.jsx(Pe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*q,duration:.4},children:a.jsx(Le,{sx:{background:"linear-gradient(135deg, rgba(138, 190, 185, 0.1), rgba(193, 120, 90, 0.1))",border:"2px solid",borderColor:"primary.main",borderRadius:3,transition:"all 0.3s ease",maxWidth:"100%",boxSizing:"border-box","&:hover":{transform:"translateY(-4px)",boxShadow:"0 12px 24px rgba(48, 86, 105, 0.2)"}},children:a.jsxs(Fe,{sx:{p:{xs:1.5,sm:2}},children:[a.jsx(R,{variant:"h6",gutterBottom:!0,sx:{color:"secondary.main",fontWeight:600,mb:2,display:"flex",alignItems:"center",gap:1},children:a.jsx(qe,{label:`Superset ${q+1}`,size:"small",sx:{bgcolor:"secondary.main",color:"white",fontWeight:600}})}),a.jsx(Me,{spacing:{xs:1.5,sm:2},children:A.map((U,z)=>{const F=U["Exercise Name"],I=u[F]||{weight:"",targetReps:""};return a.jsxs(Y,{sx:{p:{xs:1.5,sm:2},bgcolor:"white",borderRadius:2,transition:"all 0.2s ease"},children:[a.jsxs(Y,{sx:{display:"flex",alignItems:"flex-start",gap:{xs:1,sm:2},mb:{xs:1.5,sm:2}},children:[a.jsx(R,{sx:{fontSize:{xs:"1.5rem",sm:"2rem"},color:"primary.main",fontWeight:700,minWidth:{xs:"30px",sm:"40px"}},children:z===0?"A":"B"}),a.jsxs(Y,{sx:{flex:1,minWidth:0},children:[a.jsxs(Y,{sx:{display:"flex",alignItems:"flex-start",gap:1,mb:.5},children:[a.jsx(Y,{sx:{flex:1},children:a.jsx(Wc,{value:U,onChange:(Q,ee)=>{if(ee){const ye=q*2+z;L(ye,ee)}},availableExercises:C,label:"Exercise",placeholder:"Type to search and swap...",disabled:C.length===0})}),l&&a.jsx(rt,{size:"small",onClick:Q=>{Q.stopPropagation();const ee=q*2+z;E(U,ee)},sx:{color:"primary.main",minWidth:"44px",minHeight:"44px",mt:.5,"&:hover":{backgroundColor:"rgba(19, 70, 134, 0.08)"}},"aria-label":`Randomize ${F}`,children:a.jsx(xk,{fontSize:"small"})})]}),a.jsxs(Me,{direction:"row",spacing:1,flexWrap:"wrap",children:[a.jsx(qe,{label:U["Primary Muscle"],size:"small",variant:"outlined",sx:{borderColor:"primary.main",color:"primary.main",fontSize:{xs:"0.65rem",sm:"0.75rem"}}}),a.jsx(qe,{label:U.Equipment,size:"small",variant:"outlined",sx:{borderColor:"text.secondary",color:"text.secondary",fontSize:{xs:"0.65rem",sm:"0.75rem"}}})]})]})]}),a.jsxs(Me,{direction:"row",spacing:{xs:1,sm:2},sx:{pl:{xs:4,sm:7},flexWrap:{xs:"wrap",sm:"nowrap"}},children:[a.jsx(et,{type:"tel",inputMode:"decimal",value:I.weight===""?"":I.weight,onChange:Q=>k(F,Q.target.value),onBlur:Q=>P(F,Q.target.value),onFocus:Q=>Q.target.select(),placeholder:"Weight (lbs)",size:"small",inputProps:{min:0,max:500,step:2.5,pattern:"[0-9]*([.,][0-9]+)?","aria-label":`Target weight in pounds for ${F}`},sx:{minWidth:{xs:100,sm:120},flex:{xs:"1 1 45%",sm:"none"}}}),a.jsx(et,{type:"tel",inputMode:"numeric",value:I.targetReps===""?"":I.targetReps,onChange:Q=>N(F,Q.target.value),onBlur:Q=>W(F,Q.target.value),onFocus:Q=>Q.target.select(),placeholder:"Reps",size:"small",inputProps:{min:1,max:20,step:1,pattern:"\\d*","aria-label":`Target repetitions for ${F}`},sx:{minWidth:{xs:100,sm:120},flex:{xs:"1 1 45%",sm:"none"}}})]})]},z)})})]})})},q))}),a.jsx(Pe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:a.jsxs(Me,{direction:"row",spacing:2,sx:{mt:{xs:3,sm:4},px:{xs:.5,sm:0}},justifyContent:"center",children:[a.jsx(ve,{variant:"contained",size:"large",onClick:i,sx:{borderRadius:2,minWidth:{xs:"60px",sm:"80px"},px:{xs:1,sm:2},py:1.5,fontSize:{xs:"1.2rem",sm:"1.5rem"},fontWeight:600,bgcolor:"rgb(237, 63, 39)",color:"white","&:hover":{bgcolor:"rgb(200, 50, 30)"}},children:""}),a.jsx(ve,{variant:"contained",size:"large",startIcon:g?a.jsx(ua,{}):a.jsx(Pd,{}),onClick:B,disabled:g,sx:{borderRadius:2,flex:1,maxWidth:{xs:"130px",sm:"150px"},px:{xs:2,sm:3},py:1.5,fontSize:{xs:"0.9rem",sm:"1.1rem"},fontWeight:600,bgcolor:g?"rgb(76, 175, 80)":"rgb(254, 178, 26)",color:"white","&:hover":{bgcolor:g?"rgb(56, 142, 60)":"rgb(245, 158, 11)"},"&:disabled":{bgcolor:"rgb(76, 175, 80)",color:"white",opacity:.8}},children:g?"Saved!":"Save"}),a.jsx(ve,{variant:"contained",size:"large",startIcon:a.jsx(Hn,{}),onClick:_,sx:{borderRadius:2,flex:1,maxWidth:{xs:"130px",sm:"150px"},px:{xs:2,sm:3},py:1.5,fontSize:{xs:"0.9rem",sm:"1.1rem"},fontWeight:600,bgcolor:"rgb(19, 70, 134)",color:"white","&:hover":{bgcolor:"rgb(15, 56, 107)",transform:"translateY(-2px)",boxShadow:"0 8px 16px rgba(19, 70, 134, 0.3)"},transition:"all 0.3s ease"},children:"Begin"})]})}),a.jsx(vi,{open:v,autoHideDuration:3e3,onClose:()=>b(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:a.jsx(Mt,{severity:"success",onClose:()=>b(!1),children:"Workout saved to favorites!"})}),a.jsx(vi,{open:D.open,autoHideDuration:4e3,onClose:()=>T({...D,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:a.jsx(Mt,{severity:D.severity,onClose:()=>T({...D,open:!1}),children:D.message})})]})});wy.displayName="WorkoutPreview";wy.propTypes={workout:H.array.isRequired,workoutType:H.string.isRequired,onStart:H.func.isRequired,onCancel:H.func.isRequired,onRandomizeExercise:H.func,equipmentFilter:H.oneOfType([H.string,H.array])};const yd=2,_w=["Core","Abs","Obliques"],jy=x.memo(({workoutType:e,equipmentFilter:t,allExercises:s,onCancel:i,onContinue:l})=>{const[u,d]=x.useState([]),[f,p]=x.useState(""),[g,y]=x.useState("all"),[v,b]=x.useState("all"),[S,j]=x.useState("all"),D=Do,T=x.useMemo(()=>{let B=[...s];if(e==="upper"?B=B.filter(V=>{const A=V["Primary Muscle"].split("(")[0].trim();return Eo.UPPER_BODY.includes(A)}):e==="lower"&&(B=B.filter(V=>{const A=V["Primary Muscle"].split("(")[0].trim();return Eo.LOWER_BODY.includes(A)||_w.includes(A)})),t!=="all"&&Array.isArray(t)&&t.length>0&&(B=B.filter(V=>{const A=V.Equipment.toLowerCase();return t.some(q=>{const U=q.toLowerCase();return U==="cable machine"?A.includes("cable"):U==="dumbbells"?A.includes("dumbbell"):A.includes(U)})})),f){const V=f.toLowerCase();B=B.filter(A=>A["Exercise Name"].toLowerCase().includes(V)||A["Primary Muscle"].toLowerCase().includes(V)||A["Secondary Muscles"]?.toLowerCase().includes(V)||A.Equipment.toLowerCase().includes(V))}return g!=="all"&&(B=B.filter(V=>V["Primary Muscle"].split("(")[0].trim()===g)),v!=="all"&&(B=B.filter(V=>{const A=V.Equipment.toLowerCase(),q=v.toLowerCase();return A.includes(q)})),S!=="all"&&(B=B.filter(V=>V["Exercise Type"]===S)),B},[s,e,t,f,g,v,S]),C=x.useMemo(()=>{let B=[...s];e==="upper"?B=B.filter(A=>{const q=A["Primary Muscle"].split("(")[0].trim();return Eo.UPPER_BODY.includes(q)}):e==="lower"&&(B=B.filter(A=>{const q=A["Primary Muscle"].split("(")[0].trim();return Eo.LOWER_BODY.includes(q)||_w.includes(q)})),t!=="all"&&Array.isArray(t)&&t.length>0&&(B=B.filter(A=>{const q=A.Equipment.toLowerCase();return t.some(U=>{const z=U.toLowerCase();return z==="cable machine"?q.includes("cable"):z==="dumbbells"?q.includes("dumbbell"):q.includes(z)})}));const V=new Set;return B.forEach(A=>{const q=A["Primary Muscle"].split("(")[0].trim();V.add(q)}),["all",...Array.from(V).sort()]},[s,e,t]),M=x.useMemo(()=>{const B=new Set;return T.forEach(V=>{B.add(V.Equipment)}),["all",...Array.from(B).sort()]},[T]),k=x.useMemo(()=>{const B=new Set;return T.forEach(V=>{B.add(V["Exercise Type"])}),["all",...Array.from(B).sort()]},[T]),P=B=>{const V=B["Exercise Name"];u.some(q=>q["Exercise Name"]===V)?d(q=>q.filter(U=>U["Exercise Name"]!==V)):u.length<D&&d(q=>[...q,B])},N=B=>{d(V=>V.filter(A=>A["Exercise Name"]!==B))},W=B=>{d(B)},E=B=>u.some(V=>V["Exercise Name"]===B["Exercise Name"]),L=u.length<D,_=u.length===D;return a.jsxs(Pe.div,{className:"screen",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{display:"flex",flexDirection:"column",minHeight:"calc(100vh - 4rem)",padding:"1rem",paddingBottom:"max(2rem, calc(env(safe-area-inset-bottom) + 1rem))",overflow:"auto"},children:[a.jsxs(Y,{sx:{maxWidth:1200,width:"100%",margin:"0 auto",mb:2},children:[a.jsxs(Y,{sx:{textAlign:"center",mb:2},children:[a.jsx(R,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontWeight:700,color:"primary.main",fontSize:{xs:"1.5rem",sm:"2rem"}},children:"Customize Your Workout"}),a.jsxs(R,{variant:"subtitle1",color:"text.secondary",sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:["Select exactly ",D," exercises"]})]}),a.jsx(Mt,{severity:_?"success":"info",icon:_?a.jsx(qs,{}):void 0,sx:{mb:2},children:a.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1,flexWrap:"wrap"},children:[a.jsxs(R,{variant:"body2",sx:{fontWeight:600},children:["Selected: ",u.length," / ",D]}),!_&&a.jsxs(R,{variant:"body2",color:"text.secondary",children:["(",D-u.length," more needed)"]})]})}),u.length>0&&a.jsxs(Fn,{elevation:3,sx:{p:2,mb:2,bgcolor:"rgba(19, 70, 134, 0.03)",borderRadius:2,border:"2px solid",borderColor:"primary.main"},role:"region","aria-label":"Selected exercises preview",children:[a.jsxs(R,{variant:"subtitle2",sx:{mb:1.5,fontWeight:600,color:"primary.main"},children:[a.jsx("span",{role:"img","aria-label":"clipboard",children:""})," Your Workout Order (drag to reorder)"]}),a.jsx(UC,{axis:"y",values:u,onReorder:W,style:{padding:0,margin:0,listStyle:"none"},children:a.jsx(Me,{spacing:1,children:u.map((B,V)=>{const A=V%yd===0&&V<u.length-1,q=V%yd===1;return a.jsx(qC,{value:B,style:{listStyle:"none"},children:a.jsx(Pe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.2},children:a.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1,p:1,bgcolor:"white",borderRadius:1,border:"1px solid",borderColor:A||q?"warning.main":"divider",boxShadow:A||q?"0 2px 8px rgba(254, 178, 26, 0.2)":"none",cursor:"grab","&:active":{cursor:"grabbing"},position:"relative"},children:[(A||q)&&a.jsx(ss,{title:"Superset pair - perform back-to-back",children:a.jsx(Y,{sx:{position:"absolute",left:0,top:0,bottom:0,width:4,bgcolor:"warning.main",borderRadius:"4px 0 0 4px"}})}),a.jsx($d,{sx:{color:"action.active",fontSize:{xs:16,sm:20}}}),a.jsx(qe,{label:V+1,size:"small",sx:{minWidth:{xs:24,sm:28},height:{xs:24,sm:28},fontSize:{xs:"0.7rem",sm:"0.8rem"},fontWeight:700,bgcolor:"primary.main",color:"white"}}),a.jsx(Y,{sx:{flex:1,minWidth:0},children:a.jsx(R,{variant:"body2",sx:{fontWeight:600,fontSize:{xs:"0.75rem",sm:"0.875rem"},overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:B["Exercise Name"]})}),(A||q)&&a.jsx(qe,{icon:a.jsx(bk,{sx:{fontSize:14}}),label:"Superset",size:"small",sx:{height:{xs:20,sm:24},fontSize:{xs:"0.6rem",sm:"0.7rem"},bgcolor:"warning.main",color:"white","& .MuiChip-icon":{color:"white",marginLeft:"4px"}}}),a.jsx(rt,{size:"small",onClick:()=>N(B["Exercise Name"]),sx:{color:"error.main",p:{xs:.25,sm:.5}},children:a.jsx(gm,{sx:{fontSize:{xs:16,sm:20}}})})]})})},B["Exercise Name"])})})}),u.length>=yd&&u.length%yd===0&&a.jsx(Mt,{severity:"info",sx:{mt:2,py:.5},children:a.jsxs(R,{variant:"caption",children:[a.jsx("span",{role:"img","aria-label":"light bulb",children:""})," Exercises are grouped in pairs as supersets (perform back-to-back with minimal rest)"]})})]}),a.jsxs(Me,{direction:"row",spacing:2,children:[a.jsx(ve,{variant:"outlined",onClick:i,fullWidth:!0,sx:{py:1.5,fontSize:{xs:"0.9rem",sm:"1rem"},fontWeight:600,borderRadius:2,textTransform:"none"},children:"Cancel"}),a.jsx(ve,{variant:"contained",onClick:()=>l(u),disabled:!_,fullWidth:!0,sx:{py:1.5,fontSize:{xs:"0.9rem",sm:"1rem"},fontWeight:600,borderRadius:2,textTransform:"none"},children:"Continue to Preview"})]})]}),a.jsx(Y,{sx:{maxWidth:1200,width:"100%",margin:"0 auto",mb:2,position:"sticky",top:{xs:60,sm:70},bgcolor:"background.default",zIndex:5,pb:1},children:a.jsx(Fn,{elevation:2,sx:{p:2,borderRadius:2},children:a.jsxs(Me,{spacing:2,children:[a.jsx(et,{fullWidth:!0,size:"small",placeholder:"Search exercises...",value:f,onChange:B=>p(B.target.value),InputProps:{startAdornment:a.jsx(pg,{position:"start",children:a.jsx(Q1,{})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}}),a.jsxs(Me,{direction:{xs:"column",sm:"row"},spacing:1.5,children:[a.jsxs(ht,{size:"small",sx:{minWidth:{xs:"100%",sm:140}},children:[a.jsx(vt,{children:"Body Part"}),a.jsx(St,{value:g,label:"Body Part",onChange:B=>y(B.target.value),children:C.map(B=>a.jsx(Se,{value:B,children:B==="all"?"All Muscles":B},B))})]}),a.jsxs(ht,{size:"small",sx:{minWidth:{xs:"100%",sm:140}},children:[a.jsx(vt,{children:"Equipment"}),a.jsx(St,{value:v,label:"Equipment",onChange:B=>b(B.target.value),children:M.map(B=>a.jsx(Se,{value:B,children:B==="all"?"All Equipment":B},B))})]}),a.jsxs(ht,{size:"small",sx:{minWidth:{xs:"100%",sm:140}},children:[a.jsx(vt,{children:"Type"}),a.jsx(St,{value:S,label:"Type",onChange:B=>j(B.target.value),children:k.map(B=>a.jsx(Se,{value:B,children:B==="all"?"All Types":B},B))})]})]}),(f||g!=="all"||v!=="all"||S!=="all")&&a.jsxs(Y,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:[f&&a.jsx(qe,{label:`Search: "${f}"`,size:"small",onDelete:()=>p("")}),g!=="all"&&a.jsx(qe,{label:`Body: ${g}`,size:"small",onDelete:()=>y("all")}),v!=="all"&&a.jsx(qe,{label:`Equip: ${v}`,size:"small",onDelete:()=>b("all")}),S!=="all"&&a.jsx(qe,{label:`Type: ${S}`,size:"small",onDelete:()=>j("all")})]})]})})}),a.jsxs(Y,{sx:{maxWidth:1200,width:"100%",margin:"0 auto"},children:[a.jsxs(R,{variant:"body2",color:"text.secondary",sx:{mb:1,textAlign:"center"},children:[T.length," exercises available"]}),a.jsx(Me,{spacing:1,children:T.map(B=>{const V=E(B),A=!L&&!V;return a.jsx(Le,{sx:{border:"1px solid",borderColor:V?"primary.main":"divider",bgcolor:V?"rgba(19, 70, 134, 0.05)":"white",cursor:A?"not-allowed":"pointer",opacity:A?.5:1,transition:"all 0.2s ease","&:hover":A?{}:{borderColor:"primary.main",transform:"translateY(-1px)",boxShadow:"0 2px 8px rgba(19, 70, 134, 0.12)"}},onClick:()=>!A&&P(B),children:a.jsx(Fe,{sx:{p:{xs:1,sm:1.5},"&:last-child":{pb:{xs:1,sm:1.5}}},children:a.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:{xs:1,sm:1.5}},children:[a.jsx(mg,{checked:V,disabled:A,size:"small",sx:{p:0},onClick:q=>q.stopPropagation(),onChange:()=>P(B)}),a.jsxs(Y,{sx:{flex:1,minWidth:0},children:[a.jsx(R,{variant:"body2",sx:{fontWeight:600,mb:.5,fontSize:{xs:"0.8rem",sm:"0.9rem"},lineHeight:1.3},children:B["Exercise Name"]}),a.jsxs(Y,{sx:{display:"flex",flexWrap:"wrap",gap:.5,alignItems:"center"},children:[a.jsx(qe,{label:B["Primary Muscle"].split("(")[0].trim(),size:"small",sx:{fontSize:{xs:"0.6rem",sm:"0.65rem"},height:{xs:18,sm:20},bgcolor:"primary.main",color:"white","& .MuiChip-label":{px:{xs:.5,sm:.75},py:0}}}),a.jsx(qe,{label:B.Equipment,size:"small",variant:"outlined",sx:{fontSize:{xs:"0.6rem",sm:"0.65rem"},height:{xs:18,sm:20},"& .MuiChip-label":{px:{xs:.5,sm:.75},py:0}}}),a.jsx(qe,{label:B["Exercise Type"],size:"small",variant:"outlined",sx:{fontSize:{xs:"0.6rem",sm:"0.65rem"},height:{xs:18,sm:20},"& .MuiChip-label":{px:{xs:.5,sm:.75},py:0}}})]})]})]})})},B["Exercise Name"])})}),T.length===0&&a.jsx(Mt,{severity:"warning",sx:{mt:2},children:"No exercises found for the selected filters. Please adjust your search or filters."})]})]})});jy.displayName="CustomizeExerciseScreen";jy.propTypes={workoutType:H.string.isRequired,equipmentFilter:H.oneOfType([H.string,H.array]).isRequired,allExercises:H.array.isRequired,onCancel:H.func.isRequired,onContinue:H.func.isRequired};const rm=2.5,Cy=x.memo(({workout:e,workoutType:t,onStart:s,onCancel:i})=>{const[l,u]=x.useState(e),[d,f]=x.useState({}),[p,g]=x.useState(!0),[y,v]=x.useState(!1),[b,S]=x.useState(!1),[j,D]=x.useState({open:!1,message:"",severity:"info"}),[T,C]=x.useState([]);x.useEffect(()=>{(async()=>{try{const B=await(await fetch(cf)).json();let V=B;t==="upper"?V=B.filter(A=>A["Workout Type"]&&(A["Workout Type"].includes("Upper Body")||A["Workout Type"].includes("Full Body")||A["Workout Type"].includes("Push/Pull/Legs"))):t==="lower"?V=B.filter(A=>A["Workout Type"]&&(A["Workout Type"].includes("Lower Body")||A["Workout Type"].includes("Full Body")||A["Workout Type"].includes("Push/Pull/Legs"))):t==="full"&&(V=B.filter(A=>A["Workout Type"]&&A["Workout Type"].includes("Full Body"))),C(V)}catch(_){console.error("Error loading exercises:",_),C([])}})()},[t]),x.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),(async()=>{const _={};for(const B of l){const V=B["Exercise Name"],[A,q]=await Promise.all([jc(V),Fo(V)]);_[V]={weight:A??"",targetReps:q??""}}f(_),g(!1)})()},[l]);const M=(L,_)=>{if(_===""||/^\d*\.?\d*$/.test(_)){const B=_===""?"":parseFloat(_);f(V=>({...V,[L]:{...V[L],weight:B}}))}},k=(L,_)=>{if(_===""||_===null||_===void 0)return;const B=parseFloat(_);if(!isNaN(B)&&B>0){const V=Math.round(B/rm)*rm;V!==B&&(f(A=>({...A,[L]:{...A[L],weight:V}})),D({open:!0,message:`Weight adjusted to ${V} lbs (nearest ${rm} lb increment)`,severity:"info"}))}},P=(L,_)=>{if(_===""||/^\d+$/.test(_)){const B=_===""?"":parseInt(_,10);f(V=>({...V,[L]:{...V[L],targetReps:B}}))}},N=(L,_)=>{if(!_)return;const B=[...l];B[L]={..._,name:_["Exercise Name"]||_.name},u(B);const V=l[L]["Exercise Name"],A=_["Exercise Name"];V!==A&&f(q=>{const U=q[V]||{weight:"",targetReps:""},{[V]:z,...F}=q;return{...F,[A]:U}})},W=async()=>{for(const[L,_]of Object.entries(d)){const B=_.weight===""?null:_.weight,V=_.targetReps===""?null:_.targetReps;await ma(L,B),await Cc(L,V)}s(l)},E=()=>{try{of({name:`Custom ${t.charAt(0).toUpperCase()+t.slice(1)} Body Workout`,type:t,exercises:l}),v(!0),S(!0)}catch(L){console.error("Error saving to favorites:",L)}};return p?a.jsx(Y,{sx:{textAlign:"center",py:8,display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:a.jsx("img",{src:"/goodlift/dancing-icon.svg",alt:"Loading workout...",style:{width:"150px",height:"150px"}})}):a.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"screen",style:{maxWidth:"900px",margin:"0 auto",padding:"1rem",width:"100%",boxSizing:"border-box",overflowX:"hidden"},children:[a.jsxs(Y,{sx:{mb:{xs:2,sm:4},textAlign:"center",position:"relative",px:{xs:.5,sm:0}},children:[a.jsx(rt,{onClick:E,disabled:y,size:"small",sx:{position:"absolute",top:0,right:{xs:0,sm:0},color:y?"warning.main":"action.active",minWidth:"44px",minHeight:"44px","&:hover":{color:"warning.main"},p:{xs:.5,sm:1}},"aria-label":"Save to favorites",children:y?a.jsx(ua,{sx:{fontSize:{xs:24,sm:32}}}):a.jsx(Pd,{sx:{fontSize:{xs:24,sm:32}}})}),a.jsx(Pe.div,{initial:{scale:.8},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},children:a.jsx(Cn,{sx:{fontSize:{xs:48,sm:60},color:"primary.main",mb:{xs:1,sm:2}}})}),a.jsx(R,{variant:"h3",component:"h1",gutterBottom:!0,sx:{fontWeight:700,color:"primary.main",fontSize:{xs:"1.5rem",sm:"3rem"}},children:"Your Custom Workout"}),a.jsxs(R,{variant:"subtitle1",color:"text.secondary",sx:{mb:1,fontSize:{xs:"0.875rem",sm:"1rem"}},children:[l.length," Exercises  3 Sets Each"]}),a.jsx(Mt,{severity:"info",sx:{mt:2,mb:2},children:a.jsx(R,{variant:"body2",sx:{fontWeight:600},children:"Drag and drop to reorder exercises"})})]}),a.jsx(UC,{axis:"y",values:l,onReorder:u,style:{padding:0,margin:0,listStyle:"none"},children:a.jsx(Me,{spacing:{xs:2,sm:3},sx:{px:{xs:.5,sm:0}},children:l.map((L,_)=>{const B=L["Exercise Name"],V=d[B]||{weight:"",targetReps:""};return a.jsx(qC,{value:L,style:{listStyle:"none"},children:a.jsx(Pe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*_,duration:.3},children:a.jsx(Le,{sx:{background:"linear-gradient(135deg, rgba(138, 190, 185, 0.1), rgba(193, 120, 90, 0.1))",border:"2px solid",borderColor:"primary.main",borderRadius:3,transition:"all 0.3s ease",maxWidth:"100%",boxSizing:"border-box",cursor:"grab","&:active":{cursor:"grabbing"},"&:hover":{transform:"translateY(-4px)",boxShadow:"0 12px 24px rgba(48, 86, 105, 0.2)"}},children:a.jsx(Fe,{sx:{p:{xs:1.5,sm:2}},children:a.jsxs(Y,{sx:{display:"flex",alignItems:"flex-start",gap:2},children:[a.jsx(Y,{sx:{display:"flex",alignItems:"center",color:"text.secondary",cursor:"grab","&:active":{cursor:"grabbing"}},children:a.jsx($d,{})}),a.jsx(R,{sx:{fontSize:{xs:"1.5rem",sm:"2rem"},color:"primary.main",fontWeight:700,minWidth:{xs:"30px",sm:"40px"}},children:_+1}),a.jsxs(Y,{sx:{flex:1,minWidth:0},children:[a.jsx(Y,{sx:{mb:1},children:a.jsx(Wc,{value:L,onChange:(A,q)=>{q&&N(_,q)},availableExercises:T,label:"Exercise",placeholder:"Type to search and swap...",disabled:T.length===0})}),a.jsxs(Me,{direction:"row",spacing:1,flexWrap:"wrap",sx:{mb:2},children:[a.jsx(qe,{label:L["Primary Muscle"],size:"small",variant:"outlined",sx:{borderColor:"primary.main",color:"primary.main",fontSize:{xs:"0.65rem",sm:"0.75rem"}}}),a.jsx(qe,{label:L.Equipment,size:"small",variant:"outlined",sx:{borderColor:"text.secondary",color:"text.secondary",fontSize:{xs:"0.65rem",sm:"0.75rem"}}})]}),a.jsxs(Me,{direction:"row",spacing:{xs:1,sm:2},sx:{flexWrap:{xs:"wrap",sm:"nowrap"}},children:[a.jsx(et,{type:"tel",inputMode:"decimal",label:"Target Weight (lbs)",value:V.weight===""?"":V.weight,onChange:A=>M(B,A.target.value),onBlur:A=>k(B,A.target.value),onFocus:A=>A.target.select(),placeholder:"",size:"small",inputProps:{min:0,max:500,step:2.5,pattern:"[0-9]*([.,][0-9]+)?","aria-label":`Target weight in pounds for ${B}`},sx:{minWidth:{xs:100,sm:120},flex:{xs:"1 1 45%",sm:"none"}}}),a.jsx(et,{type:"tel",inputMode:"numeric",label:"Target Reps",value:V.targetReps===""?"":V.targetReps,onChange:A=>P(B,A.target.value),onFocus:A=>A.target.select(),placeholder:"",size:"small",inputProps:{min:1,max:20,step:1,pattern:"\\d*","aria-label":`Target repetitions for ${B}`},sx:{minWidth:{xs:100,sm:120},flex:{xs:"1 1 45%",sm:"none"}}})]})]})]})})})})},B)})})}),a.jsx(Pe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:a.jsxs(Me,{direction:"row",spacing:2,sx:{mt:{xs:3,sm:4},px:{xs:.5,sm:0}},justifyContent:"center",children:[a.jsx(ve,{variant:"contained",size:"large",onClick:i,sx:{borderRadius:2,minWidth:{xs:"60px",sm:"80px"},px:{xs:1,sm:2},py:1.5,fontSize:{xs:"1.2rem",sm:"1.5rem"},fontWeight:600,bgcolor:"rgb(237, 63, 39)",color:"white","&:hover":{bgcolor:"rgb(200, 50, 30)"}},children:""}),a.jsx(ve,{variant:"contained",size:"large",startIcon:y?a.jsx(ua,{}):a.jsx(Pd,{}),onClick:E,disabled:y,sx:{borderRadius:2,flex:1,maxWidth:{xs:"130px",sm:"150px"},px:{xs:2,sm:3},py:1.5,fontSize:{xs:"0.9rem",sm:"1.1rem"},fontWeight:600,bgcolor:y?"rgb(76, 175, 80)":"rgb(254, 178, 26)",color:"white","&:hover":{bgcolor:y?"rgb(56, 142, 60)":"rgb(245, 158, 11)"},"&:disabled":{bgcolor:"rgb(76, 175, 80)",color:"white",opacity:.8}},children:y?"Saved!":"Save"}),a.jsx(ve,{variant:"contained",size:"large",startIcon:a.jsx(Hn,{}),onClick:W,sx:{borderRadius:2,flex:1,maxWidth:{xs:"130px",sm:"150px"},px:{xs:2,sm:3},py:1.5,fontSize:{xs:"0.9rem",sm:"1.1rem"},fontWeight:600,bgcolor:"rgb(19, 70, 134)",color:"white","&:hover":{bgcolor:"rgb(15, 56, 107)",transform:"translateY(-2px)",boxShadow:"0 8px 16px rgba(19, 70, 134, 0.3)"},transition:"all 0.3s ease"},children:"Begin"})]})}),a.jsx(vi,{open:b,autoHideDuration:3e3,onClose:()=>S(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:a.jsx(Mt,{severity:"success",onClose:()=>S(!1),children:"Workout saved to favorites!"})}),a.jsx(vi,{open:j.open,autoHideDuration:4e3,onClose:()=>D({...j,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:a.jsx(Mt,{severity:j.severity,onClose:()=>D({...j,open:!1}),children:j.message})})]})});Cy.displayName="CustomWorkoutPreview";Cy.propTypes={workout:H.array.isRequired,workoutType:H.string.isRequired,onStart:H.func.isRequired,onCancel:H.func.isRequired};const Ty=x.memo(({workoutData:e,workoutPlan:t,onFinish:s,onExportCSV:i})=>{const[l,u]=x.useState(!1),[d,f]=x.useState(!1);x.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const p=()=>{try{if(!t||t.length===0){alert("Cannot save workout: No exercise data available");return}const g=dy(e);of({name:`${g.charAt(0).toUpperCase()+g.slice(1)} Body Workout`,type:g,equipment:"all",exercises:t}),u(!0),f(!0)}catch(g){console.error("Error saving to favorites:",g),alert("Failed to save workout to favorites")}};return a.jsxs(Pe.div,{className:"screen completion-screen",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{padding:"1rem",maxWidth:"900px",margin:"0 auto"},children:[a.jsxs(Pe.div,{className:"completion-header",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,type:"spring",stiffness:200},children:[a.jsx(Y,{sx:{position:"relative"},children:a.jsx(rt,{onClick:p,disabled:l,sx:{position:"absolute",top:0,right:0,color:l?"warning.main":"white","&:hover":{color:"warning.main"}},"aria-label":"Save to favorites",children:l?a.jsx(ua,{sx:{fontSize:32}}):a.jsx($1,{sx:{fontSize:32}})})}),a.jsx(Pe.div,{initial:{y:-20},animate:{y:[0,-10,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut"},children:a.jsx("img",{src:"/goodlift/dancing-icon.svg",alt:"Celebration",style:{width:"120px",height:"120px",marginBottom:"1rem"}})}),a.jsx("h1",{children:"Workout Complete!"}),a.jsxs("p",{className:"completion-time",children:["Total Time: ",a.jsx("strong",{children:sT(e.duration)})]})]}),a.jsxs("div",{className:"workout-summary-container",children:[a.jsx(R,{variant:"h4",component:"h2",sx:{fontWeight:700,mb:3,textAlign:"center",color:"text.primary"},children:"Workout Summary"}),a.jsx(Me,{spacing:2,children:Object.entries(e.exercises).map(([g,y],v)=>a.jsx(Pe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3+v*.1},children:a.jsx(Le,{sx:{borderRadius:3,transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 24px rgba(48, 86, 105, 0.15)"}},children:a.jsxs(Fe,{children:[a.jsx(R,{variant:"h6",component:"h3",sx:{color:"primary.main",fontWeight:600,mb:2,pb:1,borderBottom:"2px solid",borderColor:"rgba(138, 190, 185, 0.2)"},children:g}),a.jsx(Me,{spacing:1,children:y.sets.map((b,S)=>a.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:1.5,bgcolor:"rgba(183, 229, 205, 0.3)",borderRadius:2,transition:"all 0.2s ease","&:hover":{bgcolor:"primary.main",color:"white","& .MuiChip-root":{bgcolor:"white",color:"primary.main"}}},children:[a.jsx(qe,{label:`Set ${b.set}`,size:"small",sx:{fontWeight:600,minWidth:60}}),a.jsxs(R,{sx:{fontWeight:600,fontSize:"1rem"},children:[b.weight," lbs  ",b.reps," reps"]})]},S))})]})})},g))})]}),a.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:a.jsxs(Me,{direction:{xs:"column",sm:"row"},spacing:2,sx:{mt:4},children:[a.jsx(ve,{variant:"outlined",size:"large",startIcon:a.jsx(vk,{}),onClick:i,sx:{flex:1,borderRadius:2,py:1.5,fontSize:"1rem",fontWeight:600,borderColor:"secondary.main",color:"secondary.main","&:hover":{borderColor:"secondary.dark",bgcolor:"rgba(193, 120, 90, 0.1)"}},children:"Download CSV"}),a.jsx(ve,{variant:"contained",size:"large",startIcon:a.jsx(Sk,{}),onClick:s,sx:{flex:1,borderRadius:2,py:1.5,fontSize:"1rem",fontWeight:600,bgcolor:"primary.main","&:hover":{bgcolor:"primary.dark"}},children:"Finish"})]})}),a.jsx(vi,{open:d,autoHideDuration:3e3,onClose:()=>f(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:a.jsx(Mt,{severity:"success",onClose:()=>f(!1),children:"Workout saved to favorites!"})})]})});Ty.displayName="CompletionScreen";Ty.propTypes={workoutData:H.object.isRequired,workoutPlan:H.array,onFinish:H.func.isRequired,onExportCSV:H.func.isRequired};const jT=({workoutSessions:e=[],onDayClick:t,viewMode:s="weekly"})=>{const[i,l]=x.useState(new Date);x.useEffect(()=>{l(new Date)},[s]);const u=x.useMemo(()=>{const P=new Map;return e.forEach(N=>{const W=new Date(N.date),E=`${W.getFullYear()}-${String(W.getMonth()+1).padStart(2,"0")}-${String(W.getDate()).padStart(2,"0")}`;P.has(E)||P.set(E,{sessions:[],durations:{}});const L=P.get(E);L.sessions.push(N),L.durations[N.type]||(L.durations[N.type]=0),L.durations[N.type]+=N.duration||0}),P},[e]),d=P=>{const N=`${P.getFullYear()}-${String(P.getMonth()+1).padStart(2,"0")}-${String(P.getDate()).padStart(2,"0")}`;return u.get(N)||{sessions:[],durations:{}}},f=()=>{const P=i.getFullYear(),N=i.getMonth(),W=i.getDate(),E=new Date(P,N,W).getDay(),L=new Date(P,N,W-E),_=[];for(let B=0;B<7;B++){const V=new Date(L);V.setDate(L.getDate()+B),_.push(V)}return _},p=()=>{const P=i.getFullYear(),N=i.getMonth(),W=new Date(P,N,1),L=new Date(P,N+1,0).getDate(),_=W.getDay(),B=[];for(let V=0;V<_;V++)B.push(null);for(let V=1;V<=L;V++){const A=new Date(P,N,V);B.push(A)}return B},g=()=>{const P=new Date(i);s==="weekly"?P.setDate(i.getDate()-7):P.setMonth(i.getMonth()-1),l(P)},y=()=>{const P=new Date(i);s==="weekly"?P.setDate(i.getDate()+7):P.setMonth(i.getMonth()+1),l(P)},v=()=>{l(new Date)},b=()=>{if(s==="weekly"){const P=f(),N=P[0],W=P[6];return N.getMonth()===W.getMonth()?`${N.toLocaleDateString("en-US",{month:"long"})} ${N.getDate()}-${W.getDate()}, ${N.getFullYear()}`:`${N.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${W.toLocaleDateString("en-US",{month:"short",day:"numeric"})}, ${W.getFullYear()}`}return i.toLocaleDateString("en-US",{month:"long",year:"numeric"})},S=P=>{if(!P)return!1;const N=new Date;return P.getDate()===N.getDate()&&P.getMonth()===N.getMonth()&&P.getFullYear()===N.getFullYear()},j=P=>{const{sessions:N}=P;if(N.length===0)return{icon:null,bookmarks:[]};const W=N.find(_=>_.type==="upper"||_.type==="lower"||_.type==="full");if(W){const _=[];return N.some(B=>B.type==="cardio"||B.type==="hiit")&&_.push("cardio"),N.some(B=>B.type==="yoga"||B.type==="stretch")&&_.push("yoga"),{icon:W.type,bookmarks:_}}const E=N.some(_=>_.type==="cardio"||_.type==="hiit"),L=N.some(_=>_.type==="yoga"||_.type==="stretch");if(E&&L){const _=(P.durations.cardio||0)+(P.durations.hiit||0),B=(P.durations.yoga||0)+(P.durations.stretch||0);return _>=B?{icon:"cardio",bookmarks:["yoga"]}:{icon:"yoga",bookmarks:["cardio"]}}else{if(E)return{icon:"cardio",bookmarks:[]};if(L)return{icon:"yoga",bookmarks:[]}}return{icon:null,bookmarks:[]}},D=P=>{const N="/goodlift/icons/";switch(P){case"upper":return`${N}upperbody-calendaricon.svg`;case"lower":return`${N}lowerbody-calendaricon.svg`;case"full":return`${N}fullbody-calendaricon.svg`;case"cardio":return`${N}cardio-calendaricon.svg`;case"yoga":return`${N}yoga-calendaricon.svg`;default:return null}},T=P=>{switch(P){case"cardio":return"#2196f3";case"yoga":return"#9c27b0";default:return"#ccc"}},C=P=>{P&&t&&t(P)},M=(P,N)=>{(P.key==="Enter"||P.key===" ")&&N&&t&&(P.preventDefault(),t(N))},k=s==="weekly"?f():p();return a.jsxs(Y,{sx:{width:"100%",bgcolor:"background.paper",borderRadius:2,p:2,boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},role:"region","aria-label":"Workout calendar",children:[a.jsxs("div",{className:"calendar-header",children:[a.jsxs("div",{className:"calendar-controls",children:[a.jsx("button",{onClick:g,className:"calendar-nav-btn","aria-label":s==="weekly"?"Previous week":"Previous month",children:""}),a.jsx("h3",{className:"calendar-period",id:"calendar-month-label",children:b()}),a.jsx("button",{onClick:y,className:"calendar-nav-btn","aria-label":s==="weekly"?"Next week":"Next month",children:""})]}),a.jsx("div",{className:"calendar-actions",children:a.jsx("button",{onClick:v,className:"calendar-today-btn","aria-label":"Go to today",children:"Today"})})]}),a.jsxs("div",{className:`calendar-grid ${s==="weekly"?"weekly":"monthly"}`,role:"grid","aria-labelledby":"calendar-month-label",children:[s==="weekly"?["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].map(P=>a.jsx("div",{className:"calendar-day-label",role:"columnheader",children:P},P)):["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(P=>a.jsx("div",{className:"calendar-day-label",role:"columnheader",children:P},P)),k.map((P,N)=>{const W=P?d(P):{sessions:[],durations:{}},E=W.sessions.length>0,L=E?j(W):{icon:null,bookmarks:[]};return a.jsx("div",{className:`calendar-day ${P?"":"empty"} ${S(P)?"today":""} ${E?"has-activity":""}`,onClick:()=>C(P),onKeyDown:_=>M(_,P),role:"gridcell",tabIndex:P&&E?0:-1,"aria-label":P?`${P.toLocaleDateString()}, ${E?`${W.sessions.length} workout${W.sessions.length>1?"s":""}`:"no workouts"}`:"",style:{cursor:P&&E?"pointer":"default"},children:P&&a.jsx(a.Fragment,{children:a.jsxs(Y,{sx:{position:"relative",width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[a.jsx("span",{className:"day-number",children:P.getDate()}),L.icon&&a.jsx(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},children:a.jsx("img",{src:D(L.icon),alt:L.icon,style:{width:"40px",height:"40px",opacity:(()=>{const _=W.sessions.some(V=>V.status==="completed"),B=W.sessions.some(V=>V.status==="planned");return _?.8:B?.5:.8})(),filter:!W.sessions.some(B=>B.status==="completed")&&W.sessions.some(B=>B.status==="planned")?"grayscale(1)":"none"}})}),L.bookmarks.length>0&&a.jsx(Y,{sx:{position:"absolute",top:"2px",right:"2px",display:"flex",flexDirection:"column",gap:"2px",zIndex:1},children:L.bookmarks.map((_,B)=>a.jsx(Y,{sx:{width:"8px",height:"12px",backgroundColor:T(_),borderRadius:"0 0 2px 2px",clipPath:"polygon(0 0, 100% 0, 100% 80%, 50% 60%, 0 80%)"}},B))})]})})},N)})]}),a.jsxs("div",{className:"calendar-legend",children:[a.jsxs("div",{className:"legend-item",children:[a.jsx("img",{src:"/goodlift/icons/fullbody-calendaricon.svg",alt:"","aria-hidden":"true",style:{width:"16px",height:"16px"}}),a.jsx("span",{children:"Full Body"})]}),a.jsxs("div",{className:"legend-item",children:[a.jsx("img",{src:"/goodlift/icons/upperbody-calendaricon.svg",alt:"","aria-hidden":"true",style:{width:"16px",height:"16px"}}),a.jsx("span",{children:"Upper Body"})]}),a.jsxs("div",{className:"legend-item",children:[a.jsx("img",{src:"/goodlift/icons/lowerbody-calendaricon.svg",alt:"","aria-hidden":"true",style:{width:"16px",height:"16px"}}),a.jsx("span",{children:"Lower Body"})]}),a.jsxs("div",{className:"legend-item",children:[a.jsx("img",{src:"/goodlift/icons/cardio-calendaricon.svg",alt:"","aria-hidden":"true",style:{width:"16px",height:"16px"}}),a.jsx("span",{children:"Cardio"})]}),a.jsxs("div",{className:"legend-item",children:[a.jsx("img",{src:"/goodlift/icons/yoga-calendaricon.svg",alt:"","aria-hidden":"true",style:{width:"16px",height:"16px"}}),a.jsx("span",{children:"Mobility"})]}),a.jsxs("div",{className:"legend-item",children:[a.jsx(Y,{sx:{width:"8px",height:"12px",backgroundColor:"#2196f3",borderRadius:"0 0 2px 2px",clipPath:"polygon(0 0, 100% 0, 100% 80%, 50% 60%, 0 80%)"},"aria-hidden":"true"}),a.jsx("span",{children:"Additional Sessions"})]})]})]})};jT.propTypes={workoutSessions:H.arrayOf(H.shape({date:H.number.isRequired,type:H.string.isRequired,duration:H.number,status:H.string})),onDayClick:H.func,viewMode:H.oneOf(["weekly","monthly"])};const NB=(e,t,s="weight")=>{if(!e||!Array.isArray(e))return[];const i=[];return[...e].reverse().forEach(u=>{if(!u.exercises||!u.exercises[t])return;const f=u.exercises[t].sets||[];if(f.length===0)return;let p;s==="weight"?p=Math.max(...f.map(g=>g.weight||0)):s==="reps"&&(p=Math.max(...f.map(g=>g.reps||0))),p>0&&i.push({date:new Date(u.date),value:p,workout:u})}),i},FB=e=>{if(!e||!Array.isArray(e))return[];const t=new Set;return e.forEach(s=>{s.exercises&&Object.keys(s.exercises).forEach(i=>{t.add(i)})}),Array.from(t).sort()},CT=()=>{const[e,t]=x.useState(!0),[s,i]=x.useState([]),[l,u]=x.useState([]),[d,f]=x.useState([]),[p,g]=x.useState([]),[y,v]=x.useState([]),[b,S]=x.useState(null),[j,D]=x.useState(null),[T,C]=x.useState([]),[M,k]=x.useState([]),[P,N]=x.useState("all"),[W,E]=x.useState(!1),[L,_]=x.useState(""),[B,V]=x.useState(!1),[A,q]=x.useState(null),[U,z]=x.useState(null),[F,I]=x.useState(!1),Q=async()=>{t(!0);try{const[$,be,K,he,xe,je]=await Promise.all([Ei(),zc(),Qo(),Go(),$o(),Ko()]);i($),u(be),f(K),g(he),v(xe),S(je);const Re=cy();C(Re);try{const Be=(await(await fetch(cf)).json()).map(Ge=>Ge["Exercise Name"]).sort();k(Be)}catch(Ke){console.error("Error loading exercises:",Ke);const lt=FB($);k(lt)}}catch($){console.error("Error loading progress data:",$)}finally{t(!1)}};x.useEffect(()=>{Q()},[]);const ee=async $=>{window.confirm("Are you sure you want to delete this workout? This action cannot be undone.")&&(await d3($),await Q())},ye=async $=>{window.confirm("Are you sure you want to delete this stretch session? This action cannot be undone.")&&(await v3($),await Q())},fe=async $=>{window.confirm("Are you sure you want to delete this yoga session? This action cannot be undone.")&&(await w3($),await Q())},ge=async $=>{window.confirm("Are you sure you want to delete this HIIT session? This action cannot be undone.")&&(await j3($),await Q())},De=async $=>{window.confirm("Are you sure you want to delete this cardio session? This action cannot be undone.")&&(await m3($),await Q())},ke=($,be)=>{q({...$,index:be}),z("workout"),V(!0)},Oe=$=>{q($),z("cardio"),V(!0)},Ve=$=>{q($),z("hiit"),V(!0)},Ue=$=>{q($),z("yoga"),V(!0)},nt=async $=>{try{U==="workout"?await f3(A.index,$):U==="cardio"?await g3(A.id,$):U==="hiit"?await C3(A.id,$):U==="yoga"&&await S3(A.id,$),await Q(),V(!1),q(null),z(null)}catch(be){console.error("Error saving edit:",be),alert("Failed to save changes. Please try again.")}},Ne=$=>{M3($),C(T.filter(be=>be.exerciseName!==$))},ce=$=>{E3($,"weight")&&(C([...T,{exerciseName:$,trackingMode:"weight"}]),E(!1),_(""))},de=$=>{if(P==="all")return $;const be=new Date;let K;return P==="month"?K=new Date(be.getTime()-720*60*60*1e3):P==="2weeks"&&(K=new Date(be.getTime()-336*60*60*1e3)),$.filter(he=>new Date(he.date)>=K)},Ee=(()=>{const $=de(s),be=de(y),K=de(p),he=de(d),xe=$.length,je=$.reduce((at,dt)=>at+(dt.duration||0),0),Re=xe>0?Math.round(je/xe/60):0,Ke=[...be,...K],lt=Ke.length,Be=Ke.reduce((at,dt)=>at+(dt.duration||0),0),Ge=lt>0?Math.round(Be/lt/60):0,Ze=he.length,xt=he.reduce((at,dt)=>at+(dt.duration||0),0),it=Ze>0?Math.round(xt/Ze/60):0;return{totalWorkouts:xe,avgWorkout:Re,totalCardio:lt,avgCardio:Ge,totalYoga:Ze,avgYoga:it}})(),oe=[...s.map($=>({date:$.date,type:$.type||"full",duration:$.duration||0,status:"completed"})),...p.map($=>({date:$.date,type:"hiit",duration:$.duration||0,status:"completed"})),...y.map($=>({date:$.date,type:"cardio",duration:$.duration||0,status:"completed"})),...l.map($=>({date:$.date,type:"stretch",duration:$.duration||0,status:"completed"})),...d.map($=>({date:$.date,type:"yoga",duration:$.duration||0,status:"completed"})),...(b?.sessions||[]).map($=>({date:$.date,type:$.type,duration:$.duration||60,status:$.status||"planned"}))],Ce=$=>{D($),setTimeout(()=>{const be=document.querySelector(".activities-section");be&&be.scrollIntoView({behavior:"smooth",block:"start"})},100)},te=($,be)=>{const K=new Date($),he=new Date(be);return K.getFullYear()===he.getFullYear()&&K.getMonth()===he.getMonth()&&K.getDate()===he.getDate()},ne=j?{workouts:s.filter($=>te($.date,j)),hiit:p.filter($=>te($.date,j)),stretch:l.filter($=>te($.date,j)),yoga:d.filter($=>te($.date,j)),cardio:y.filter($=>te($.date,j))}:{workouts:s,hiit:p,stretch:l,yoga:d,cardio:y},le=j&&(ne.workouts.length>0||ne.hiit.length>0||ne.stretch.length>0||ne.yoga.length>0||ne.cardio.length>0);return e?a.jsx(Y,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:a.jsx(R,{variant:"h5",color:"text.secondary",children:"Loading..."})}):a.jsxs(Y,{sx:{width:"100%",minHeight:"100vh"},children:[a.jsx(ur,{title:"Progress",subtitle:"Track your fitness journey"}),a.jsxs(Y,{sx:{maxWidth:"1400px",margin:"0 auto",p:{xs:2,md:3}},children:[a.jsxs(Me,{spacing:2,children:[a.jsx(Le,{sx:{bgcolor:"background.paper"},children:a.jsxs(Fe,{children:[a.jsxs(Me,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[a.jsx(R,{variant:"h6",children:"Statistics"}),a.jsxs(ht,{size:"small",sx:{minWidth:120},children:[a.jsx(vt,{children:"Period"}),a.jsxs(St,{value:P,label:"Period",onChange:$=>N($.target.value),children:[a.jsx(Se,{value:"all",children:"All Time"}),a.jsx(Se,{value:"month",children:"Past Month"}),a.jsx(Se,{value:"2weeks",children:"Past 2 Weeks"})]})]})]}),a.jsx(K1,{component:Fn,variant:"outlined",children:a.jsxs(X1,{size:"small",children:[a.jsx(Z1,{children:a.jsxs(vo,{children:[a.jsx(Qt,{sx:{fontWeight:700},children:"Category"}),a.jsx(Qt,{align:"right",sx:{fontWeight:700},children:"Sessions"}),a.jsx(Qt,{align:"right",sx:{fontWeight:700},children:"Avg Duration"})]})}),a.jsxs(J1,{children:[a.jsxs(vo,{children:[a.jsx(Qt,{children:"Workouts"}),a.jsx(Qt,{align:"right",children:Ee.totalWorkouts}),a.jsxs(Qt,{align:"right",children:[Ee.avgWorkout,"m"]})]}),a.jsxs(vo,{children:[a.jsx(Qt,{children:"Cardio & HIIT"}),a.jsx(Qt,{align:"right",children:Ee.totalCardio}),a.jsxs(Qt,{align:"right",children:[Ee.avgCardio,"m"]})]}),a.jsxs(vo,{children:[a.jsx(Qt,{children:"Mobility & Yoga"}),a.jsx(Qt,{align:"right",children:Ee.totalYoga}),a.jsxs(Qt,{align:"right",children:[Ee.avgYoga,"m"]})]})]})]})})]})}),a.jsx(Le,{sx:{bgcolor:"background.paper"},children:a.jsxs(Fe,{children:[a.jsxs(Me,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[a.jsx(R,{variant:"h6",children:"Calendar"}),a.jsx(ve,{size:"small",endIcon:F?a.jsx(G1,{}):a.jsx(ec,{}),onClick:()=>I(!F),children:F?"Monthly":"Weekly"})]}),a.jsx(jT,{workoutSessions:oe,onDayClick:Ce,viewMode:F?"monthly":"weekly"}),j&&a.jsxs(Y,{sx:{mt:2,p:2,bgcolor:"action.hover",borderRadius:2},children:[a.jsxs(Me,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[a.jsx(R,{variant:"body2",sx:{fontWeight:600},children:j.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),a.jsx(rt,{size:"small",onClick:()=>D(null),children:a.jsx(gm,{fontSize:"small"})})]}),le&&a.jsxs(R,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:1},children:[ne.workouts.length+ne.hiit.length+ne.stretch.length+ne.yoga.length+ne.cardio.length," session(s) recorded"]})]})]})}),s.length>0&&a.jsx(Le,{sx:{bgcolor:"background.paper"},children:a.jsxs(Fe,{children:[a.jsxs(Me,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[a.jsxs(R,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsx(kd,{})," Progressive Overload"]}),T.length<10&&a.jsx(ve,{size:"small",startIcon:a.jsx(Gs,{}),onClick:()=>E(!0),sx:{color:"secondary.main"},children:"Track Exercise"})]}),T.length===0?a.jsxs(Y,{sx:{textAlign:"center",py:4},children:[a.jsx(R,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Track your favorite exercises to see your progress over time"}),a.jsx(ve,{variant:"contained",startIcon:a.jsx(Gs,{}),onClick:()=>E(!0),children:"Add Exercise"})]}):a.jsx(Me,{spacing:2,children:T.map($=>{const be=NB(s,$.exerciseName,"weight"),K=be.length>0?be[0].value:0,he=be.length>0?be[be.length-1].value:0,xe=he>K?"up":he<K?"down":"same";return a.jsxs(Y,{sx:{p:2,borderRadius:2,border:"1px solid",borderColor:"divider",bgcolor:"background.default"},children:[a.jsxs(Me,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",sx:{mb:1.5},children:[a.jsx(R,{variant:"body1",sx:{fontWeight:600,flex:1},children:$.exerciseName}),a.jsx(rt,{onClick:()=>Ne($.exerciseName),size:"small",sx:{color:"text.secondary"},children:a.jsx(gm,{sx:{fontSize:18}})})]}),be.length>0?a.jsxs(Me,{direction:"row",alignItems:"center",spacing:2,sx:{justifyContent:"center",py:1},children:[a.jsxs(Y,{sx:{textAlign:"center"},children:[a.jsx(R,{variant:"caption",color:"text.secondary",children:"Starting"}),a.jsxs(R,{variant:"h5",sx:{fontWeight:700,color:"primary.main"},children:[K," lbs"]})]}),a.jsxs(Y,{sx:{display:"flex",alignItems:"center",px:2},children:[xe==="up"&&a.jsx(kd,{sx:{fontSize:40,color:"success.main"}}),xe==="down"&&a.jsx(wk,{sx:{fontSize:40,color:"error.main"}}),xe==="same"&&a.jsx(jk,{sx:{fontSize:40,color:"text.secondary"}})]}),a.jsxs(Y,{sx:{textAlign:"center"},children:[a.jsx(R,{variant:"caption",color:"text.secondary",children:"Current"}),a.jsxs(R,{variant:"h5",sx:{fontWeight:700,color:"secondary.main"},children:[he," lbs"]})]})]}):a.jsx(R,{variant:"caption",color:"text.secondary",sx:{display:"block",textAlign:"center",py:2},children:"No data available"})]},$.exerciseName)})})]})}),a.jsx(Le,{sx:{bgcolor:"background.paper"},className:"activities-section",children:a.jsxs(Fe,{children:[a.jsxs(Me,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[a.jsx(R,{variant:"h6",children:j?`Activities on ${j.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}`:"Recent Activities"}),j&&a.jsx(ve,{size:"small",onClick:()=>D(null),children:"Show All"})]}),a.jsx(Me,{spacing:1,children:j&&!le?a.jsx(R,{sx:{textAlign:"center",py:4,color:"text.secondary"},children:"No activities logged for this day."}):a.jsxs(a.Fragment,{children:[ne.workouts.map(($,be)=>a.jsx(xo,{type:"workout",session:$,index:be,onEdit:()=>ke($,be),onDelete:()=>ee(be)},`workout-${be}`)),ne.hiit.map($=>a.jsx(xo,{type:"hiit",session:$,onEdit:()=>Ve($),onDelete:()=>ge($.id)},$.id)),ne.cardio.map($=>a.jsx(xo,{type:"cardio",session:$,onEdit:()=>Oe($),onDelete:()=>De($.id)},$.id)),ne.yoga.map($=>a.jsx(xo,{type:"yoga",session:$,onEdit:()=>Ue($),onDelete:()=>fe($.id)},$.id)),ne.stretch.map($=>a.jsx(xo,{type:"stretch",session:$,onDelete:()=>ye($.id)},$.id)),!j&&s.length===0&&p.length===0&&l.length===0&&d.length===0&&y.length===0&&a.jsx(R,{sx:{textAlign:"center",py:4,color:"text.secondary"},children:"No activity history yet. Complete your first activity to see it here!"})]})})]})})]}),a.jsxs(Gn,{open:W,onClose:()=>{E(!1),_("")},maxWidth:"xs",fullWidth:!0,children:[a.jsx(os,{children:"Add Exercise to Track"}),a.jsxs($n,{children:[a.jsx(et,{fullWidth:!0,placeholder:"Search exercises...",value:L,onChange:$=>_($.target.value),variant:"outlined",size:"small",sx:{mb:2,mt:1}}),a.jsx(Hs,{sx:{maxHeight:400,overflow:"auto"},children:M.filter($=>!T.some(be=>be.exerciseName===$)).filter($=>$.toLowerCase().includes(L.toLowerCase())).map($=>a.jsx(rs,{disablePadding:!0,children:a.jsx(U1,{onClick:()=>ce($),children:a.jsx(nr,{primary:$})})},$))})]}),a.jsx(Qn,{children:a.jsx(ve,{onClick:()=>{E(!1),_("")},children:"Cancel"})})]}),A&&a.jsx(TT,{open:B,onClose:()=>{V(!1),q(null),z(null)},onSave:nt,session:A,sessionType:U})]})]})},xo=({type:e,session:t,onEdit:s,onDelete:i})=>{const l=()=>a.jsx("span",{children:""}),u=()=>a.jsx("span",{children:""}),d=()=>a.jsx("span",{children:""}),f=()=>a.jsx("span",{children:""}),p=()=>{switch(e){case"hiit":return a.jsx(u,{});case"cardio":return a.jsx(d,{});case"yoga":return a.jsx(f,{});case"stretch":return a.jsx(d,{});default:return a.jsx(l,{})}},g=()=>{switch(e){case"hiit":return"HIIT Session";case"cardio":return t.cardioType||"Cardio";case"yoga":return"Yoga Session";case"stretch":return"Stretch Session";default:return t.type?`${t.type.charAt(0).toUpperCase()+t.type.slice(1)} Body`:"Workout"}},y=()=>{switch(e){case"hiit":return"secondary.main";case"cardio":return"#2196f3";case"yoga":return"#9c27b0";case"stretch":return"success.main";default:return"primary.main"}};return a.jsx(Le,{sx:{borderLeft:"3px solid",borderLeftColor:y(),borderRadius:1,transition:"all 0.2s ease","&:hover":{transform:"translateX(2px)",boxShadow:"0 2px 8px rgba(48, 86, 105, 0.12)"}},children:a.jsx(Fe,{sx:{p:1.5,"&:last-child":{pb:1.5}},children:a.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs(Y,{sx:{flex:1},children:[a.jsxs(Me,{direction:"row",spacing:.75,alignItems:"center",sx:{mb:.25},children:[p(),a.jsx(R,{variant:"body2",sx:{fontWeight:600,fontSize:"0.875rem"},children:g()}),a.jsxs(R,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem"},children:[" ",k3(t.date)]}),t.isPartial&&a.jsx(qe,{label:"Partial",size:"small",sx:{height:18,fontSize:"0.65rem"},variant:"outlined"})]}),a.jsxs(Me,{direction:"row",spacing:1,alignItems:"center",children:[a.jsx(R,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem"},children:la(t.duration)}),t.exercises&&a.jsxs(a.Fragment,{children:[a.jsx(R,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem"},children:""}),a.jsxs(R,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem"},children:[Object.keys(t.exercises).length," exercises"]})]})]})]}),a.jsxs(Y,{sx:{display:"flex",gap:.5},children:[s&&a.jsx(rt,{onClick:s,size:"small",sx:{color:"text.secondary"},children:a.jsx(Oc,{sx:{fontSize:18}})}),i&&a.jsx(rt,{onClick:i,size:"small",sx:{color:"text.secondary"},children:a.jsx(Ci,{sx:{fontSize:18}})})]})]})})})};xo.propTypes={type:H.string.isRequired,session:H.object.isRequired,onEdit:H.func,onDelete:H.func};const TT=({open:e,onClose:t,onSave:s,session:i,sessionType:l})=>{const[u,d]=x.useState(i.duration?Math.round(i.duration/60):0),[f,p]=x.useState(i.notes||""),[g,y]=x.useState(i.type||"full"),[v,b]=x.useState(i.cardioType||""),S=()=>{const D={duration:u*60,notes:f.trim()};l==="workout"?D.type=g:l==="cardio"&&(D.cardioType=v.trim()),s(D)},j=()=>{switch(l){case"workout":return"Edit Workout";case"cardio":return"Edit Cardio Session";case"hiit":return"Edit HIIT Session";case"yoga":return"Edit Yoga Session";default:return"Edit Session"}};return a.jsxs(Gn,{open:e,onClose:t,maxWidth:"sm",fullWidth:!0,children:[a.jsx(os,{children:j()}),a.jsx($n,{children:a.jsxs(Me,{spacing:2,sx:{mt:1},children:[a.jsx(et,{fullWidth:!0,type:"number",label:"Duration (minutes)",value:u,onChange:D=>d(D.target.value),inputProps:{min:0,step:1}}),l==="workout"&&a.jsxs(ht,{fullWidth:!0,children:[a.jsx(vt,{children:"Workout Type"}),a.jsxs(St,{value:g,label:"Workout Type",onChange:D=>y(D.target.value),children:[a.jsx(Se,{value:"upper",children:"Upper Body"}),a.jsx(Se,{value:"lower",children:"Lower Body"}),a.jsx(Se,{value:"full",children:"Full Body"})]})]}),l==="cardio"&&a.jsx(et,{fullWidth:!0,label:"Cardio Type",value:v,onChange:D=>b(D.target.value)}),a.jsx(et,{fullWidth:!0,multiline:!0,rows:4,label:"Notes (optional)",value:f,onChange:D=>p(D.target.value)})]})}),a.jsxs(Qn,{children:[a.jsx(ve,{onClick:t,children:"Cancel"}),a.jsx(ve,{onClick:S,variant:"contained",children:"Save Changes"})]})]})};TT.propTypes={open:H.bool.isRequired,onClose:H.func.isRequired,onSave:H.func.isRequired,session:H.object.isRequired,sessionType:H.string.isRequired};CT.propTypes={};const HB=()=>{const[e,t]=x.useState("30"),[s,i]=x.useState("15"),[l,u]=x.useState("8"),[d,f]=x.useState(0),[p,g]=x.useState(30),[y,v]=x.useState(!1),[b,S]=x.useState(!0),[j,D]=x.useState(!0),[T,C]=x.useState(0),M=x.useRef(null),k=x.useRef(null);x.useEffect(()=>(y&&!j?Un.requestWakeLock():Un.releaseWakeLock(),()=>{Un.releaseWakeLock()}),[y,j]);const P=x.useCallback(async()=>{v(!1);const A=Date.now(),q=Math.floor((A-k.current)/1e3);Ct.playCompletionFanfare(),await ay({id:`hiit_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,date:new Date().toISOString(),duration:q,workTime:parseInt(e),restTime:parseInt(s),rounds:parseInt(l)}),C(q)},[e,s,l]);x.useEffect(()=>(y?M.current=setInterval(()=>{g(A=>A<=1?b?(Ct.playLowBeep(),S(!1),parseInt(s)):(f(q=>q+1),d+1>=parseInt(l)?(P(),0):(Ct.playHighBeep(),S(!0),parseInt(e))):A-1)},1e3):M.current&&clearInterval(M.current),()=>{M.current&&clearInterval(M.current)}),[y,b,d,l,e,s,P]);const N=()=>{j&&(D(!1),f(0),g(parseInt(e)),S(!0),C(0),k.current=Date.now(),Ct.playHighBeep()),v(!0)},W=()=>{v(!1)},E=()=>{v(!1),D(!0),f(0),g(parseInt(e)),S(!0),C(0),k.current=null},L=A=>{const q=parseInt(A);return A!==""&&!isNaN(q)&&q>0},_=()=>L(e)&&L(s)&&L(l),B=()=>b?"rgb(237, 63, 39)":"rgb(19, 70, 134)",V=()=>d>=l?"Complete!":b?"WORK":"REST";return j?a.jsxs(Pe.div,{className:"screen",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[a.jsx(R,{variant:"h3",component:"h1",sx:{fontWeight:700,mb:4,textAlign:"center",color:"primary.main"},children:"HIIT Timer Setup"}),a.jsxs(Y,{sx:{maxWidth:600,margin:"0 auto"},children:[a.jsx(Le,{sx:{mb:3,borderRadius:3},children:a.jsxs(Fe,{children:[a.jsxs(Qe,{container:!0,spacing:3,children:[a.jsx(Qe,{item:!0,xs:12,sm:4,children:a.jsx(et,{label:"Work Time (seconds)",type:"number",value:e,onChange:A=>t(A.target.value),fullWidth:!0,error:!L(e),helperText:L(e)?"":"Must be a positive number",InputProps:{inputProps:{min:1}}})}),a.jsx(Qe,{item:!0,xs:12,sm:4,children:a.jsx(et,{label:"Rest Time (seconds)",type:"number",value:s,onChange:A=>i(A.target.value),fullWidth:!0,error:!L(s),helperText:L(s)?"":"Must be a positive number",InputProps:{inputProps:{min:1}}})}),a.jsx(Qe,{item:!0,xs:12,sm:4,children:a.jsx(et,{label:"Rounds",type:"number",value:l,onChange:A=>u(A.target.value),fullWidth:!0,error:!L(l),helperText:L(l)?"":"Must be a positive number",InputProps:{inputProps:{min:1}}})})]}),a.jsx(Y,{sx:{mt:3},children:a.jsxs(R,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["Total estimated time: ",_()?la((parseInt(e)+parseInt(s))*parseInt(l)):"N/A"]})}),a.jsx(ve,{variant:"contained",color:"primary",size:"large",fullWidth:!0,onClick:N,startIcon:a.jsx(Hn,{}),sx:{mt:3},disabled:!_(),children:"Start Session"})]})}),a.jsx(Le,{sx:{borderRadius:3,bgcolor:"background.paper"},children:a.jsxs(Fe,{children:[a.jsx(R,{variant:"h6",sx:{mb:2,fontWeight:600},children:"About HIIT Training"}),a.jsx(R,{variant:"body2",color:"text.secondary",children:"High-Intensity Interval Training (HIIT) alternates between intense bursts of activity and fixed periods of less-intense activity or rest. It's an efficient way to improve cardiovascular fitness and burn calories."})]})})]})]}):a.jsx(Pe.div,{className:"screen",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{width:"100%",maxWidth:"100vw",boxSizing:"border-box"},children:a.jsxs(Y,{sx:{maxWidth:600,margin:"0 auto",textAlign:"center",padding:{xs:"1rem",sm:"2rem"},width:"100%",boxSizing:"border-box"},children:[a.jsx(Le,{sx:{borderRadius:3,p:{xs:2,sm:3,md:4},bgcolor:B(),color:"white",minHeight:"400px",display:"flex",flexDirection:"column",justifyContent:"center",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.3)"},children:a.jsxs(Fe,{children:[a.jsx(R,{variant:"h2",sx:{fontWeight:700,mb:2,fontSize:{xs:"2rem",sm:"3rem"},textTransform:"uppercase",letterSpacing:2},children:V()}),a.jsx(R,{variant:"h1",sx:{fontWeight:700,fontSize:{xs:"5rem",sm:"6rem",md:"8rem"},mb:2,fontFamily:"monospace",lineHeight:1},children:p}),a.jsxs(R,{variant:"h5",sx:{mb:4,opacity:.9,fontSize:{xs:"1rem",sm:"1.25rem"}},children:["Round ",d+1," of ",parseInt(l)]}),a.jsxs(Y,{sx:{display:"flex",gap:2,justifyContent:"center",flexWrap:"wrap"},children:[!y&&d<parseInt(l)?a.jsx(ve,{variant:"contained",size:"large",onClick:N,startIcon:a.jsx(Hn,{}),sx:{bgcolor:"white",color:B(),"&:hover":{bgcolor:"rgba(255, 255, 255, 0.9)"}},children:d===0?"Start":"Resume"}):y?a.jsx(ve,{variant:"contained",size:"large",onClick:W,startIcon:a.jsx(zo,{}),sx:{bgcolor:"white",color:B(),"&:hover":{bgcolor:"rgba(255, 255, 255, 0.9)"}},children:"Pause"}):null,a.jsx(ve,{variant:"outlined",size:"large",onClick:E,startIcon:a.jsx(Ck,{}),sx:{borderColor:"white",color:"white","&:hover":{borderColor:"white",bgcolor:"rgba(255, 255, 255, 0.1)"}},children:"Reset"})]}),d>=parseInt(l)&&a.jsxs(Y,{sx:{mt:4,width:"100%"},children:[a.jsx(R,{variant:"h4",sx:{mb:2,fontSize:{xs:"1.5rem",sm:"2rem"}},children:" Workout Complete!"}),a.jsxs(R,{variant:"h6",sx:{fontSize:{xs:"1rem",sm:"1.25rem"}},children:["Total Time: ",la(T)]})]})]})}),a.jsx(Le,{sx:{mt:3,borderRadius:3},children:a.jsx(Fe,{children:a.jsxs(Y,{sx:{display:"flex",justifyContent:"space-around",flexWrap:"wrap",gap:2},children:[a.jsxs(Y,{children:[a.jsx(R,{variant:"caption",color:"text.secondary",children:"Work Time"}),a.jsxs(R,{variant:"h6",color:"primary",children:[parseInt(e),"s"]})]}),a.jsxs(Y,{children:[a.jsx(R,{variant:"caption",color:"text.secondary",children:"Rest Time"}),a.jsxs(R,{variant:"h6",color:"primary",children:[parseInt(s),"s"]})]}),a.jsxs(Y,{children:[a.jsx(R,{variant:"caption",color:"text.secondary",children:"Total Rounds"}),a.jsx(R,{variant:"h6",color:"primary",children:parseInt(l)})]})]})})})]})})},Ns={MAX_POWER:{name:"Maximum Power (1:4)",workSeconds:20,restSeconds:80,description:"Maximum power development, allows full recovery, sustainable anaerobic training",guideSection:"1.2",difficulty:"beginner"},BALANCED:{name:"Balanced (1:2)",workSeconds:30,restSeconds:60,description:"Balanced anaerobic-aerobic stimulus, moderate cardiovascular demand",guideSection:"1.2",difficulty:"intermediate"},CONDITIONING:{name:"Conditioning (1:1)",workSeconds:45,restSeconds:45,description:"Aerobic-dominant stimulus, sustainable intensity, excellent for conditioning",guideSection:"1.2",difficulty:"intermediate"},METABOLIC:{name:"Metabolic (2:1)",workSeconds:40,restSeconds:20,description:"High intensity, significant metabolic demand, requires higher fitness base",guideSection:"1.2",difficulty:"advanced"},TABATA:{name:"Tabata",workSeconds:20,restSeconds:10,description:"Maximum intensity protocol, 8 rounds per exercise",guideSection:"1.2",difficulty:"advanced"},REHIT:{name:"REHIT",workSeconds:20,restSeconds:150,description:"Maximum intensity, minimal total time, advanced only",guideSection:"1.2",difficulty:"advanced"}},Dy={BODYWEIGHT:{name:"Bodyweight HIIT",benefits:["Fat loss","Cardiovascular health","Full-body conditioning"],guideSection:"2"},PLYOMETRIC:{name:"Plyometric HIIT",benefits:["Power development","Explosive strength","Athletic performance"],guideSection:"3"},CYCLING:{name:"Cycling HIIT",benefits:["Low-impact","Cardiovascular fitness","Leg strength"],guideSection:"4"},ROWING:{name:"Rowing HIIT",benefits:["Full-body engagement","Low-impact","Cardiovascular health"],guideSection:"5"},ELLIPTICAL:{name:"Elliptical HIIT",benefits:["Very low-impact","Joint-friendly","Cardiovascular fitness"],guideSection:"6"},STEP:{name:"Step Platform HIIT",benefits:["Lower body power","Coordination","Metabolic conditioning"],guideSection:"7"}},Zm=e=>{const{level:t="intermediate",protocol:s="BALANCED",exercises:i=[],lowerImpact:l=!1}=e,u=Ns[s],d=i.filter(j=>{const D=j["HIIT Compatible"]==="Yes"||j["Workout Type"]&&j["Workout Type"].includes("HIIT"),T=j.Equipment==="Bodyweight";return D&&T}),f=l?d.filter(j=>j.Difficulty==="Beginner"||j.Difficulty==="Intermediate"):d;let p,g,y,v;switch(t){case"beginner":p=2,g=6,y=5,v=5;break;case"intermediate":p=2,g=8,y=5,v=5;break;case"advanced":p=s==="TABATA"?4:3,g=s==="TABATA"?4:8,y=3,v=3;break;default:p=2,g=8,y=5,v=5}const b=Wd(f,g);return{type:"bodyweight_hiit",level:t,protocol:u,warmup:{duration:y*60,exercises:_B(t)},mainWorkout:{rounds:p,exercises:b.map(j=>({name:j["Exercise Name"],primaryMuscle:j["Primary Muscle"],secondaryMuscles:j["Secondary Muscles"],workSeconds:u.workSeconds,restSeconds:u.restSeconds,difficulty:j.Difficulty,equipment:j.Equipment}))},cooldown:{duration:v*60,exercises:AT()},totalDuration:WB(y,v,p,g,u),guideReference:"Sections 2.2-2.4"}},DT=e=>{const{level:t="intermediate",protocol:s="BALANCED",exercises:i=[],lowerImpact:l=!1}=e,u=Ns[s],f=i.filter(S=>{const j=S["HIIT Compatible"]==="Yes"||S["Workout Type"]&&S["Workout Type"].includes("HIIT"),D=S.Progression==="Power Development",T=S["Exercise Name"]&&S["Exercise Name"].toLowerCase().includes("jump");return j&&D||T}).filter(S=>!(l&&S.Difficulty==="Advanced"||t==="beginner"&&S.Difficulty==="Advanced")),p=4,g=5,y=4,v=4,b=[];for(let S=0;S<p;S++){const j=Wd(f,g);b.push({circuitNumber:S+1,exercises:j.map(D=>({name:D["Exercise Name"],primaryMuscle:D["Primary Muscle"],secondaryMuscles:D["Secondary Muscles"],workSeconds:40,restSeconds:20,difficulty:D.Difficulty,equipment:D.Equipment}))})}return{type:"plyometric_hiit",level:t,protocol:u,warmup:{duration:y*60,exercises:zB()},mainWorkout:{circuits:b},cooldown:{duration:v*60,exercises:AT()},totalDuration:y*60+p*g*60+v*60,guideReference:"Section 3.2"}},ET=e=>{const{level:t="intermediate"}=e;let s;switch(t){case"beginner":s={type:"cycling_hiit",level:"beginner",protocol:Ns.BALANCED,name:"Steady State Intervals",warmup:{duration:300,description:"Easy pedaling, low resistance (RPE 5/10) for 3 min, gradually increase resistance (RPE 6/10) for 2 min"},mainWorkout:{rounds:10,intervals:[{type:"work",duration:30,intensity:"High resistance, 80-90 RPM, RPE 8-9/10 (sprint)"},{type:"rest",duration:60,intensity:"Low resistance, 90-100 RPM, RPE 5-6/10 (recovery)"}]},cooldown:{duration:300,description:"Easy pedaling, very low resistance (RPE 4-5/10) for 3 min, stretching and controlled breathing for 2 min"},totalDuration:1500,guideReference:"Section 4.2"};break;case"intermediate":s={type:"cycling_hiit",level:"intermediate",protocol:{name:"Pyramid Protocol"},name:"Pyramid Protocol",warmup:{duration:300,description:"Easy pedaling, gradually increasing resistance"},mainWorkout:{pyramid:[{work:30,rest:60,intensity:"RPE 9/10"},{work:60,rest:90,intensity:"RPE 8-9/10"},{work:90,rest:120,intensity:"RPE 8/10"},{work:120,rest:120,intensity:"RPE 7-8/10"},{work:90,rest:90,intensity:"RPE 8/10"},{work:60,rest:60,intensity:"RPE 9/10"},{work:30,rest:60,intensity:"RPE 10/10"}]},cooldown:{duration:300,description:"Very easy pedaling for 3 min, stretching for 2 min"},totalDuration:1800,guideReference:"Section 4.3"};break;case"advanced":s={type:"cycling_hiit",level:"advanced",protocol:Ns.REHIT,name:"REHIT Protocol",warmup:{duration:240,description:"Easy pedaling, gradually increasing resistance"},mainWorkout:{sprints:[{sprintNumber:1,duration:20,intensity:"RPE 9.5-10/10, cadence 100+ RPM",recovery:150},{sprintNumber:2,duration:20,intensity:"RPE 9.5-10/10",recovery:150},{sprintNumber:3,duration:20,intensity:"RPE 9.5-10/10 (optional)",recovery:150}]},cooldown:{duration:180,description:"Easy pedaling and breathing"},totalDuration:900,guideReference:"Section 4.4"};break}return s},MT=e=>{const{level:t="intermediate"}=e;return t==="beginner"?{type:"rowing_hiit",level:"beginner",protocol:Ns.BALANCED,name:"Distance Intervals",warmup:{duration:180,description:"Easy rowing, focusing on form (light resistance, steady 20-24 strokes/min)"},mainWorkout:{rounds:7,intervals:[{type:"work",duration:45,intensity:"Moderate-high intensity rowing (RPE 7-8/10)"},{type:"rest",duration:90,intensity:"Easy steady-state rowing (RPE 5/10)"}]},cooldown:{duration:180,description:"Easy light rowing for 2 min, breathing and stretching for 1 min"},totalDuration:1200,musclesWorked:"Glutes, quads, hamstrings, back, shoulders, core, arms",guideReference:"Section 5.2"}:{type:"rowing_hiit",level:"intermediate",protocol:{name:"Power and Endurance Mix"},name:"Power and Endurance Mix",warmup:{duration:240,description:"Easy rowing plus dynamic stretching"},mainWorkout:{blocks:[{name:"Power Focus",rounds:4,intervals:[{type:"work",duration:60,intensity:"High power output, explosive drive (RPE 8-9/10), faster stroke rate (30+ strokes/min)"},{type:"rest",duration:60,intensity:"Easy recovery rowing (RPE 5/10)"}]},{name:"Active Rest",duration:60,intensity:"Very light rowing"},{name:"Endurance Focus",rounds:3,intervals:[{type:"work",duration:120,intensity:"Steady moderate-hard intensity (RPE 7-8/10), controlled stroke rate"},{type:"rest",duration:60,intensity:"Easy recovery rowing (RPE 5/10)"}]}]},cooldown:{duration:240,description:"Very light rowing for 2 min, stretching (lower back, shoulders, hamstrings) for 2 min"},totalDuration:1500,guideReference:"Section 5.3"}},kT=e=>{const{level:t="beginner"}=e;return{type:"elliptical_hiit",level:t,protocol:{name:"Progressive Intervals"},name:"Progressive Intervals",warmup:{duration:180,description:"Low resistance, moderate pace (RPE 5-6/10)"},mainWorkout:{rounds:[{name:"Round 1",duration:300,intervals:[{type:"work",duration:30,intensity:"Hard (RPE 8/10)"},{type:"rest",duration:30,intensity:"Easy (RPE 4/10)"}],repetitions:5},{name:"Recovery",duration:60,intensity:"Very light resistance"},{name:"Round 2",duration:360,intervals:[{type:"work",duration:40,intensity:"Hard (RPE 8/10)"},{type:"rest",duration:20,intensity:"Easy (RPE 4/10)"}],repetitions:6}]},cooldown:{duration:180,description:"Low resistance, easy pace"},totalDuration:1200,musclesWorked:"Quads, glutes, hamstrings, hip flexors, calves",guideReference:"Section 6.2"}},PT=e=>{const{exercises:t=[]}=e,s=t.filter(i=>{const l=i.Equipment&&i.Equipment.toLowerCase().includes("box"),u=i["Movement Pattern"]&&(i["Movement Pattern"].includes("Lower")||i["Movement Pattern"]==="Lower Leg"),d=i["HIIT Compatible"]==="Yes";return l||u&&d});return{type:"step_hiit",level:"intermediate",protocol:{name:"Upper and Lower Integration"},name:"Step Platform HIIT",equipment:"Adjustable step platform (height 4-8 inches)",warmup:{duration:240,exercises:["Marching on/off step (1 min)","Elevated toe taps (1 min)","Step-ups slow, controlled (1 min)","Arm circles and dynamic stretching (1 min)"]},mainWorkout:{rounds:[{name:"Round 1 - Lower Body Emphasis",duration:600,exercises:Wd(s,6).map(i=>({name:i["Exercise Name"],duration:40,rest:20})),repetitions:2},{name:"Round 2 - Total Body Integration",duration:600,exercises:Wd(s,5).map(i=>({name:i["Exercise Name"],duration:45,rest:15})),repetitions:2}]},cooldown:{duration:360,description:"Walking and breathing (2 min), lower body and hip stretching (3 min), calm breathing (1 min)"},totalDuration:1800,guideReference:"Section 7.1"}};function Wd(e,t){const s=[...e].sort(()=>Math.random()-.5);return s.slice(0,Math.min(t,s.length))}function _B(e){const t=["High Knees March (1 min)","Arm Circles + Hip Circles (1 min)","Cat-Cow Motion (1 min)","Bodyweight Squats slow (1 min)","Walking Lunges (1 min)"];return e==="advanced"?t.slice(0,3):t}function zB(){return["Light jog or high knees march (1 min)","Glute activation - glute bridges, clamshells (1 min)","Hip mobility - leg swings, circles (1 min)","Cat-Cow and arm circles (1 min)"]}function AT(){return["Walking and deep breathing (2 min)","Standing Forward Fold (1 min)","Child's Pose (1 min)","Supine Twist Stretch (1 min)"]}function WB(e,t,s,i,l){const u=e*60,d=t*60,f=s*i*l.workSeconds,p=s*i*l.restSeconds;return u+f+p+d}const Ey=e=>{const{modality:t="bodyweight",goal:s="cardiovascular"}=e;let i;switch(t){case"bodyweight":i=Zm(e);break;case"plyometric":i=DT(e);break;case"cycling":i=ET(e);break;case"rowing":i=MT(e);break;case"elliptical":i=kT(e);break;case"step":i=PT(e);break;default:i=Zm(e)}return i.metadata={generatedAt:new Date().toISOString(),goal:s,healthBenefits:Dy[t.toUpperCase()]?.benefits||[],guideSource:".github/HIIT-YOGA-GUIDE.md"},i},VB=Object.freeze(Object.defineProperty({__proto__:null,EXERCISE_CATEGORIES:Dy,HIIT_PROTOCOLS:Ns,generateBodyweightSession:Zm,generateCyclingSession:ET,generateEllipticalSession:kT,generateHIITSession:Ey,generatePlyometricSession:DT,generateRowingSession:MT,generateStepSession:PT},Symbol.toStringTag,{value:"Module"})),OT=({open:e,onClose:t,onSave:s,allExercises:i=[]})=>{const[l,u]=x.useState("plyometric"),[d,f]=x.useState("BALANCED"),[p,g]=x.useState([]),[y,v]=x.useState(null),[b,S]=x.useState([]),[j,D]=x.useState(3),[T,C]=x.useState(!1);x.useEffect(()=>{e&&(u("plyometric"),f("BALANCED"),g([]),v(null),D(3),C(!1))},[e]),x.useEffect(()=>{if(!i||i.length===0)return;let L=i;(l==="plyometric"||l==="bodyweight")&&(L=i.filter(_=>{const B=_.Equipment?.toLowerCase()||"",V=_["Workout Type"]?.toLowerCase()||"",A=_["Exercise Name"]?.toLowerCase()||"";return B.includes("bodyweight")||B.includes("none")||V.includes("hiit")||V.includes("cardio")||A.includes("jump")||A.includes("burpee")||A.includes("sprint")||A.includes("plyo")})),T&&L.length>0&&(L=L.filter(_=>{const B=_["Exercise Name"]?.toLowerCase()||"";return!(B.includes("jump")||B.includes("hop")||B.includes("bound")||B.includes("sprint"))})),S(L)},[i,l,T]);const M=()=>{if(!y)return;const L=Ns[d],_={...y,name:y["Exercise Name"]||y.name,workSeconds:L.workSeconds,restSeconds:L.restSeconds};g([...p,_]),v(null)},k=L=>{g(p.filter((_,B)=>B!==L))},P=(L,_,B)=>{g(p.map((V,A)=>A===L?{...V,[_]:B}:V))},N=()=>{if(p.length===0){alert("Please add at least one exercise to the HIIT session");return}const L=Ns[d],_=300,B=300,V=p.reduce((U,z)=>U+(z.workSeconds+z.restSeconds)*j,0),A=_+V+B,q={id:`hiit_session_${Date.now()}`,date:Date.now(),type:"hiit",exercises:null,status:"planned",notes:`Custom ${l} HIIT - ${L.name}`,completedAt:null,sessionData:{protocol:L,modality:l,warmup:{duration:_,exercises:["Dynamic stretching","Light cardio"]},mainWorkout:{exercises:p,rounds:j,workSeconds:L.workSeconds,restSeconds:L.restSeconds},cooldown:{duration:B,exercises:["Static stretching","Foam rolling"]},totalDuration:A,lowerImpact:T}};s(q),W()},W=()=>{g([]),v(null),t()},E=Ns[d];return a.jsxs(Gn,{open:e,onClose:W,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{minHeight:"70vh"}},children:[a.jsx(os,{children:a.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsx(da,{color:"primary"}),a.jsx(R,{variant:"h6",children:"Build Custom HIIT Session"})]})}),a.jsx($n,{children:a.jsxs(Y,{sx:{display:"flex",flexDirection:"column",gap:2,pt:1},children:[a.jsxs(Mt,{severity:"info",children:[a.jsx(R,{variant:"subtitle2",gutterBottom:!0,children:a.jsx("strong",{children:E.name})}),a.jsx(R,{variant:"body2",children:E.description}),a.jsxs(R,{variant:"caption",display:"block",sx:{mt:.5},children:["Work: ",E.workSeconds,"s | Rest: ",E.restSeconds,"s"]})]}),a.jsxs(Y,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[a.jsxs(ht,{sx:{flex:1,minWidth:"200px"},children:[a.jsx(vt,{children:"Modality"}),a.jsxs(St,{value:l,label:"Modality",onChange:L=>u(L.target.value),children:[a.jsx(Se,{value:"plyometric",children:"Plyometric HIIT"}),a.jsx(Se,{value:"bodyweight",children:"Bodyweight HIIT"})]})]}),a.jsxs(ht,{sx:{flex:1,minWidth:"200px"},children:[a.jsx(vt,{children:"Protocol"}),a.jsx(St,{value:d,label:"Protocol",onChange:L=>f(L.target.value),children:Object.entries(Ns).map(([L,_])=>a.jsxs(Se,{value:L,children:[_.name," (",_.workSeconds,":",_.restSeconds,"s)"]},L))})]}),a.jsx(et,{label:"Rounds",type:"number",value:j,onChange:L=>D(Math.max(1,Math.min(10,parseInt(L.target.value)||1))),sx:{width:"120px"},inputProps:{min:1,max:10}})]}),(l==="plyometric"||l==="bodyweight")&&a.jsx(Nn,{control:a.jsx(mg,{checked:T,onChange:L=>C(L.target.checked)}),label:"Lower Impact (exclude jumps and high-impact moves)"}),a.jsx(Or,{}),a.jsxs(Y,{children:[a.jsx(R,{variant:"subtitle2",gutterBottom:!0,sx:{fontWeight:600},children:"Add Exercise"}),a.jsxs(Y,{sx:{display:"flex",gap:1,alignItems:"flex-start"},children:[a.jsx(Wc,{value:y,onChange:(L,_)=>v(_),availableExercises:b,label:"Search exercises",placeholder:"Type to search plyometric/bodyweight exercises...",sx:{flex:1}}),a.jsx(ve,{variant:"contained",color:"primary",onClick:M,disabled:!y,startIcon:a.jsx(Gs,{}),sx:{mt:.5},children:"Add"})]}),a.jsxs(R,{variant:"caption",color:"text.secondary",sx:{mt:.5,display:"block"},children:["Available exercises: ",b.length]})]}),a.jsxs(Y,{children:[a.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[a.jsxs(R,{variant:"subtitle2",sx:{fontWeight:600},children:["Exercises (",p.length,")"]}),p.length>0&&a.jsx(qe,{label:`${j} rounds  ${p.length} exercises`,size:"small",color:"primary"})]}),p.length===0?a.jsx(Fn,{sx:{p:3,textAlign:"center",bgcolor:"background.default"},children:a.jsx(R,{variant:"body2",color:"text.secondary",children:"No exercises added yet. Use the search bar above to add exercises."})}):a.jsx(Hs,{sx:{maxHeight:"350px",overflowY:"auto",p:0},children:p.map((L,_)=>a.jsx(Fn,{sx:{mb:1.5,border:"1px solid",borderColor:"divider"},children:a.jsxs(rs,{sx:{flexDirection:"column",alignItems:"stretch",p:2},children:[a.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1.5},children:[a.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsx($d,{sx:{color:"text.disabled",cursor:"grab"}}),a.jsxs(Y,{children:[a.jsxs(R,{variant:"subtitle2",sx:{fontWeight:600},children:[_+1,". ",L.name||L["Exercise Name"]]}),a.jsxs(R,{variant:"caption",color:"text.secondary",children:[L["Primary Muscle"],"  ",L.Equipment]})]})]}),a.jsx(rt,{size:"small",color:"error",onClick:()=>k(_),children:a.jsx(Ci,{})})]}),a.jsxs(Y,{sx:{display:"flex",gap:1.5,flexWrap:"wrap"},children:[a.jsx(et,{size:"small",label:"Work (sec)",type:"number",value:L.workSeconds,onChange:B=>P(_,"workSeconds",parseInt(B.target.value)||E.workSeconds),sx:{width:"110px"},inputProps:{min:10,max:120}}),a.jsx(et,{size:"small",label:"Rest (sec)",type:"number",value:L.restSeconds,onChange:B=>P(_,"restSeconds",parseInt(B.target.value)||E.restSeconds),sx:{width:"110px"},inputProps:{min:0,max:180}}),a.jsx(Y,{sx:{display:"flex",alignItems:"center",px:1},children:a.jsxs(R,{variant:"caption",color:"text.secondary",children:["Total per round: ",L.workSeconds+L.restSeconds,"s"]})})]})]})},_))})]}),p.length>0&&a.jsxs(Fn,{sx:{p:2,bgcolor:"background.default"},children:[a.jsx(R,{variant:"subtitle2",gutterBottom:!0,sx:{fontWeight:600},children:"Session Summary"}),a.jsxs(Y,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[a.jsx(R,{variant:"caption",color:"text.secondary",children:"Warmup: 5 minutes"}),a.jsxs(R,{variant:"caption",color:"text.secondary",children:["Main workout: ",j," rounds  ",p.length," exercises = ",Math.round(p.reduce((L,_)=>L+(_.workSeconds+_.restSeconds)*j,0)/60)," minutes"]}),a.jsx(R,{variant:"caption",color:"text.secondary",children:"Cooldown: 5 minutes"}),a.jsx(Or,{sx:{my:.5}}),a.jsxs(R,{variant:"caption",sx:{fontWeight:600},children:["Total duration: ~",Math.round((600+p.reduce((L,_)=>L+(_.workSeconds+_.restSeconds)*j,0))/60)," minutes"]})]})]})]})}),a.jsxs(Qn,{sx:{px:3,pb:2},children:[a.jsx(ve,{onClick:W,children:"Cancel"}),a.jsx(ve,{variant:"contained",color:"primary",onClick:N,disabled:p.length===0,children:"Save HIIT Session"})]})]})};OT.propTypes={open:H.bool.isRequired,onClose:H.func.isRequired,onSave:H.func.isRequired,allExercises:H.array};const RT=({onNavigate:e})=>{const[t,s]=x.useState("bodyweight"),[i,l]=x.useState("intermediate"),[u,d]=x.useState("BALANCED"),[f,p]=x.useState(!1),[g,y]=x.useState("cardiovascular"),[v,b]=x.useState(!1),{data:S=[],isLoading:j}=uf({queryKey:["exercises"],queryFn:async()=>{const k=await fetch("/goodlift/data/exercises.json");if(!k.ok)throw new Error("Failed to load exercises");return k.json()},staleTime:1/0}),D=()=>{const k=Ey({modality:t,level:i,protocol:u,exercises:S,lowerImpact:f,goal:g});localStorage.setItem("currentHiitSession",JSON.stringify(k)),e("hiit-session")},T=k=>{localStorage.setItem("currentHiitSession",JSON.stringify(k)),b(!1),e("hiit-session")};if(j)return a.jsx(Y,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:a.jsx(Rc,{color:"secondary",size:60})});const C=Ns[u],M=Dy[t.toUpperCase()];return a.jsxs(Pe.div,{className:"screen",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[a.jsxs(R,{variant:"h3",component:"h1",sx:{fontWeight:700,mb:2,textAlign:"center",color:"primary.main",display:"flex",alignItems:"center",justifyContent:"center",gap:2},children:[a.jsx(da,{fontSize:"large"}),"HIIT Session Builder"]}),a.jsx(R,{variant:"subtitle1",sx:{textAlign:"center",mb:4,color:"text.secondary"},children:"Science-backed HIIT workouts based on .github/HIIT-YOGA-GUIDE.md"}),a.jsxs(Y,{sx:{maxWidth:800,margin:"0 auto"},children:[a.jsxs(Mt,{severity:"info",sx:{mb:3},children:[a.jsxs(R,{variant:"subtitle2",gutterBottom:!0,children:[a.jsx("strong",{children:"Selected Protocol:"})," ",C.name]}),a.jsx(R,{variant:"body2",children:C.description}),a.jsxs(R,{variant:"caption",display:"block",sx:{mt:1},children:["Guide Reference: Section ",C.guideSection," | Difficulty: ",C.difficulty]})]}),a.jsxs(Qe,{container:!0,spacing:3,children:[a.jsx(Qe,{item:!0,xs:12,md:6,children:a.jsx(Le,{children:a.jsxs(Fe,{children:[a.jsxs(R,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsx(Cn,{}),"Modality"]}),a.jsxs(ht,{fullWidth:!0,sx:{mt:2},children:[a.jsx(vt,{children:"HIIT Type"}),a.jsxs(St,{value:t,label:"HIIT Type",onChange:k=>s(k.target.value),children:[a.jsx(Se,{value:"bodyweight",children:"Bodyweight HIIT"}),a.jsx(Se,{value:"plyometric",children:"Plyometric HIIT"}),a.jsx(Se,{value:"cycling",children:"Cycling HIIT"}),a.jsx(Se,{value:"rowing",children:"Rowing HIIT"}),a.jsx(Se,{value:"elliptical",children:"Elliptical HIIT"}),a.jsx(Se,{value:"step",children:"Step Platform HIIT"})]})]}),M&&a.jsxs(Y,{sx:{mt:2},children:[a.jsxs(R,{variant:"caption",color:"text.secondary",children:["Guide Section: ",M.guideSection]}),a.jsx(Y,{sx:{mt:1,display:"flex",flexWrap:"wrap",gap:1},children:M.benefits.map((k,P)=>a.jsx(qe,{label:k,size:"small",color:"primary",variant:"outlined"},P))})]})]})})}),a.jsx(Qe,{item:!0,xs:12,md:6,children:a.jsx(Le,{children:a.jsxs(Fe,{children:[a.jsx(R,{variant:"h6",gutterBottom:!0,children:"Experience Level"}),a.jsxs(ht,{fullWidth:!0,sx:{mt:2},children:[a.jsx(vt,{children:"Level"}),a.jsxs(St,{value:i,label:"Level",onChange:k=>l(k.target.value),children:[a.jsx(Se,{value:"beginner",children:"Beginner"}),a.jsx(Se,{value:"intermediate",children:"Intermediate"}),a.jsx(Se,{value:"advanced",children:"Advanced"})]})]}),a.jsxs(R,{variant:"body2",sx:{mt:2},color:"text.secondary",children:[i==="beginner"&&"Lower intensity, longer rest, focus on form",i==="intermediate"&&"Moderate intensity, balanced work-rest",i==="advanced"&&"High intensity, shorter rest, maximum effort"]})]})})}),a.jsx(Qe,{item:!0,xs:12,md:6,children:a.jsx(Le,{children:a.jsxs(Fe,{children:[a.jsx(R,{variant:"h6",gutterBottom:!0,children:"Work-to-Rest Ratio"}),a.jsxs(ht,{fullWidth:!0,sx:{mt:2},children:[a.jsx(vt,{children:"Protocol"}),a.jsx(St,{value:u,label:"Protocol",onChange:k=>d(k.target.value),children:Object.entries(Ns).map(([k,P])=>a.jsxs(Se,{value:k,children:[P.name," (",P.workSeconds,":",P.restSeconds,"s)"]},k))})]})]})})}),a.jsx(Qe,{item:!0,xs:12,md:6,children:a.jsx(Le,{children:a.jsxs(Fe,{children:[a.jsx(R,{variant:"h6",gutterBottom:!0,children:"Health Goal"}),a.jsxs(ht,{fullWidth:!0,sx:{mt:2},children:[a.jsx(vt,{children:"Goal"}),a.jsxs(St,{value:g,label:"Goal",onChange:k=>y(k.target.value),children:[a.jsx(Se,{value:"fat_loss",children:"Fat Loss"}),a.jsx(Se,{value:"cardiovascular",children:"Cardiovascular Health"}),a.jsx(Se,{value:"power",children:"Power Development"})]})]})]})})}),(t==="bodyweight"||t==="plyometric")&&a.jsx(Qe,{item:!0,xs:12,children:a.jsx(Le,{children:a.jsxs(Fe,{children:[a.jsx(R,{variant:"h6",gutterBottom:!0,children:"Options"}),a.jsxs(Y,{sx:{mt:2},children:[a.jsxs(ve,{variant:f?"contained":"outlined",onClick:()=>p(!f),fullWidth:!0,children:[f?" ":"","Lower-Impact Modifications"]}),a.jsx(R,{variant:"caption",display:"block",sx:{mt:1},color:"text.secondary",children:"Use lower-impact alternatives to reduce joint stress (e.g., step instead of jump)"})]})]})})})]}),a.jsxs(Y,{sx:{mt:4,textAlign:"center",display:"flex",flexDirection:"column",gap:2,alignItems:"center"},children:[a.jsx(ve,{variant:"contained",size:"large",onClick:D,sx:{minWidth:250,py:1.5,fontSize:"1.1rem"},children:"Generate HIIT Session"}),a.jsx(Or,{sx:{width:"100%",maxWidth:400},children:a.jsx(R,{variant:"caption",color:"text.secondary",children:"OR"})}),a.jsx(ve,{variant:"outlined",size:"large",startIcon:a.jsx(q1,{}),onClick:()=>b(!0),sx:{minWidth:250,py:1.5,fontSize:"1.1rem"},children:"Build Custom Session"}),a.jsx(R,{variant:"caption",color:"text.secondary",sx:{maxWidth:400,textAlign:"center"},children:"Build your own HIIT session exercise-by-exercise with custom work/rest intervals"})]}),a.jsx(Mt,{severity:"success",sx:{mt:3},children:a.jsx(R,{variant:"body2",children:"All HIIT protocols are based on evidence-based research from .github/HIIT-YOGA-GUIDE.md. Sessions include proper warm-up, main workout, and cool-down sequences with progressive overload support."})})]}),a.jsx(OT,{open:v,onClose:()=>b(!1),onSave:T,allExercises:S})]})};RT.propTypes={onNavigate:H.func.isRequired};const Vs={IDLE:"idle",RUNNING:"running",PAUSED:"paused",COMPLETE:"complete"},Wn={WARMUP:"warmup",WORK:"work",REST:"rest"},IT=({exercises:e=[],rounds:t=1,workTime:s=30,restTime:i=15,onComplete:l=()=>{}}={})=>{const[u,d]=x.useState(Vs.IDLE),[f,p]=x.useState(Wn.WARMUP),[g,y]=x.useState(0),[v,b]=x.useState(0),[S,j]=x.useState(0),[D,T]=x.useState(0),C=x.useRef(null),M=x.useRef(null),k=x.useCallback(()=>!e||e.length===0?null:e[v],[e,v]),P=x.useCallback(()=>{if(!e||e.length===0)return 0;const A=e.length*t,q=g*e.length+v;return Math.min(100,q/A*100)},[e,t,g,v]),N=x.useCallback(()=>{d(Vs.RUNNING),f===Wn.WARMUP&&S===0&&(p(Wn.WORK),j(s)),M.current=Date.now()},[f,S,s]),W=x.useCallback(()=>{d(Vs.PAUSED)},[]),E=x.useCallback(()=>{d(Vs.RUNNING),M.current=Date.now()},[]),L=x.useCallback(()=>{d(Vs.IDLE),p(Wn.WARMUP),y(0),b(0),j(0),T(0),C.current&&clearInterval(C.current)},[]),_=x.useCallback(()=>{v<e.length-1?(b(A=>A+1),p(Wn.WORK),j(s)):g<t-1?(y(A=>A+1),b(0),p(Wn.WORK),j(s)):(d(Vs.COMPLETE),p(Wn.COMPLETE),l())},[v,g,e.length,t,s,l]),B=x.useCallback(()=>{v>0?(b(A=>A-1),p(Wn.WORK),j(s)):g>0&&(y(A=>A-1),b(e.length-1),p(Wn.WORK),j(s))},[v,g,e.length,s]);x.useEffect(()=>{if(u===Vs.RUNNING)return C.current=setInterval(()=>{j(A=>{if(A<=1){if(f===Wn.WORK)return p(Wn.REST),i;if(f===Wn.REST)return v<e.length-1?(b(q=>q+1),p(Wn.WORK),s):g<t-1?(y(q=>q+1),b(0),p(Wn.WORK),s):(d(Vs.COMPLETE),p(Wn.COMPLETE),l(),0)}return A-1}),T(A=>A+1)},1e3),()=>{C.current&&clearInterval(C.current)}},[u,f,v,g,e.length,t,s,i,l]);const V=x.useCallback(A=>{const q=Math.floor(A/60),U=A%60;return`${q}:${U.toString().padStart(2,"0")}`},[]);return{timerState:u,currentPhase:f,currentRound:g,currentExerciseIndex:v,timeRemaining:S,totalElapsedTime:D,currentExercise:k(),progress:P(),isRunning:u===Vs.RUNNING,isPaused:u===Vs.PAUSED,isComplete:u===Vs.COMPLETE,start:N,pause:W,resume:E,stop:L,skipToNext:_,skipToPrevious:B,formatTime:V}},BT=({onNavigate:e})=>{const[t,s]=x.useState(null),[i,l]=x.useState(!1),[u,d]=x.useState(""),[f,p]=x.useState(5),g=x.useCallback(()=>{l(!0)},[]),y=IT({exercises:t?.mainWorkout?.exercises||[],rounds:t?.mainWorkout?.rounds||1,workTime:t?.protocol?.workSeconds||30,restTime:t?.protocol?.restSeconds||15,onComplete:g}),{currentPhase:v,currentRound:b,timeRemaining:S,totalElapsedTime:j,currentExercise:D,progress:T,isRunning:C,isPaused:M,isComplete:k,start:P,pause:N,resume:W,stop:E,skipToNext:L,skipToPrevious:_,formatTime:B}=y;x.useEffect(()=>{const F=localStorage.getItem("currentHiitSession");if(F){const I=JSON.parse(F);s(I)}},[]),x.useEffect(()=>{k&&l(!0)},[k]);const V=()=>{C?N():M?W():P()},A=()=>{E(),l(!0)},q=async()=>{if(!t)return;const F=sessionStorage.getItem("currentWorkoutPlanContext"),I=F?JSON.parse(F):null,Q={type:t.type||"hiit",date:Date.now(),duration:j||t.totalDuration,level:t.level,protocol:t.protocol?.name,modality:t.type,perceivedExertion:f,notes:u,completed:!0,metadata:t.metadata,planId:I?.planId||null,planDay:I?.planDay??null};await ay(Q),sessionStorage.removeItem("currentWorkoutPlanContext"),l(!1),e&&e("progress")},U=()=>{if(!t)return null;if(v==="warmup")return{title:"Warm-up",description:t.warmup?.exercises?.map(F=>F.name).join(", ")||"Prepare your body",icon:a.jsx(Cn,{})};if(v==="work"||v==="rest"){const F=D;return F?{title:F.name||F["Exercise Name"]||"Exercise",description:`Round ${b+1} of ${t.mainWorkout?.rounds||1}`,muscles:`${F.primaryMuscle||F["Primary Muscle"]||""}${F.secondaryMuscles||F["Secondary Muscles"]?`  ${F.secondaryMuscles||F["Secondary Muscles"]}`:""}`,modification:F.modification||F.Modification,icon:a.jsx(Cn,{})}:null}return v==="cooldown"?{title:"Cool-down",description:t.cooldown?.exercises?.map(F=>F.name).join(", ")||"Stretch and recover",icon:a.jsx(qs,{})}:v==="complete"?{title:"Session Complete!",description:"Great work!",icon:a.jsx(qs,{})}:null};if(!t)return a.jsxs(Y,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"50vh",gap:2,p:3},children:[a.jsx(R,{variant:"h6",color:"text.secondary",children:"No session loaded"}),a.jsx(R,{variant:"body2",color:"text.secondary",sx:{textAlign:"center"},children:"Please select a HIIT session from the calendar or generate a new session."}),e&&a.jsx(ve,{variant:"contained",color:"primary",onClick:()=>e("hiit-selection"),children:"Generate HIIT Session"})]});if(!t.mainWorkout||!t.mainWorkout.exercises||t.mainWorkout.exercises.length===0)return a.jsxs(Y,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"50vh",gap:2,p:3},children:[a.jsx(R,{variant:"h6",color:"error",children:"Invalid session data"}),a.jsx(R,{variant:"body2",color:"text.secondary",sx:{textAlign:"center"},children:"This session does not have exercises. Please regenerate the session or select a different one."}),e&&a.jsx(ve,{variant:"contained",color:"primary",onClick:()=>e("hiit-selection"),children:"Generate New Session"})]});const z=U();return a.jsxs(Y,{sx:{width:"100%",minHeight:"100vh"},children:[a.jsx(ur,{title:t.protocol?.name||"HIIT Session",icon:"",action:a.jsx(qe,{label:`${t.level||"intermediate"} level`,color:"primary",size:"small"})}),a.jsxs(Pe.div,{className:"screen",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{padding:"1rem",maxWidth:"900px",margin:"0 auto"},children:[a.jsx(Le,{sx:{mb:3},children:a.jsxs(Fe,{children:[a.jsx(R,{variant:"subtitle2",gutterBottom:!0,id:"session-progress-label",children:"Session Progress"}),a.jsx(Rr,{variant:"determinate",value:T,sx:{height:8,borderRadius:4},"aria-labelledby":"session-progress-label","aria-valuenow":T,"aria-valuemin":0,"aria-valuemax":100})]})}),a.jsx(Le,{sx:{mb:3,bgcolor:v==="work"?"rgba(237, 63, 39, 0.05)":"background.paper"},children:a.jsx(Fe,{children:a.jsxs(Me,{spacing:2,children:[a.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1},children:[z?.icon,a.jsxs(R,{variant:"overline",sx:{fontWeight:600},"aria-live":"polite",children:[v==="work"&&"WORK",v==="rest"&&"REST",v==="warmup"&&"WARMUP",v==="cooldown"&&"COOLDOWN",v==="complete"&&"COMPLETE"]})]}),a.jsx(R,{variant:"h3",sx:{fontWeight:700,color:"primary.main"},role:"heading","aria-level":1,children:z?.title}),a.jsx(R,{variant:"body1",color:"text.secondary",children:z?.description}),z?.muscles&&a.jsxs(R,{variant:"body2",color:"text.secondary",children:[a.jsx("strong",{children:"Muscles:"})," ",z.muscles]}),z?.modification&&a.jsxs(Mt,{severity:"info",sx:{mt:1},children:[a.jsx("strong",{children:"Lower-Impact Alternative:"})," ",z.modification]}),a.jsxs(Y,{sx:{textAlign:"center",py:3,bgcolor:"rgba(19, 70, 134, 0.05)",borderRadius:2},children:[a.jsx(hc,{sx:{fontSize:48,color:"primary.main",mb:1},"aria-hidden":"true"}),a.jsx(R,{variant:"h2",sx:{fontWeight:800,color:"primary.main"},"aria-live":"polite","aria-atomic":"true",role:"timer",children:B(S)})]}),a.jsxs(Me,{direction:"row",spacing:2,justifyContent:"center",children:[a.jsx(rt,{onClick:_,size:"large","aria-label":"Previous exercise",sx:{bgcolor:"secondary.main",color:"white","&:hover":{bgcolor:"secondary.dark"},minWidth:64,minHeight:64},children:a.jsx(gg,{})}),a.jsx(rt,{onClick:V,size:"large","aria-label":C?"Pause session":M?"Resume session":"Start session",sx:{bgcolor:"primary.main",color:"white","&:hover":{bgcolor:"primary.dark"},minWidth:64,minHeight:64},children:C?a.jsx(zo,{}):a.jsx(Hn,{})}),a.jsx(rt,{onClick:L,size:"large","aria-label":"Skip to next exercise",sx:{bgcolor:"warning.main",color:"white","&:hover":{bgcolor:"warning.dark"},minWidth:64,minHeight:64},children:a.jsx(Ic,{})}),a.jsx(rt,{onClick:A,size:"large","aria-label":"Stop session",sx:{bgcolor:"error.main",color:"white","&:hover":{bgcolor:"error.dark"},minWidth:64,minHeight:64},children:a.jsx(Bc,{})})]})]})})}),a.jsx(Le,{children:a.jsxs(Fe,{children:[a.jsx(R,{variant:"h6",gutterBottom:!0,children:"Session Details"}),a.jsxs(Me,{spacing:1,children:[a.jsxs(R,{variant:"body2",children:[a.jsx("strong",{children:"Total Duration:"})," ",B(t.totalDuration||0)]}),a.jsxs(R,{variant:"body2",children:[a.jsx("strong",{children:"Work/Rest Ratio:"})," ",t.protocol?.workSeconds,":",t.protocol?.restSeconds,"s"]}),t.mainWorkout?.rounds&&a.jsxs(R,{variant:"body2",children:[a.jsx("strong",{children:"Rounds:"})," ",t.mainWorkout.rounds]}),a.jsxs(R,{variant:"caption",color:"text.secondary",children:["Guide Reference: ",t.guideReference||t.metadata?.guideSource||"HIIT-YOGA-GUIDE.md"]})]})]})}),a.jsxs(Gn,{open:i,onClose:()=>l(!1),children:[a.jsx(os,{children:a.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsx(qs,{color:"success"}),"Session Complete!"]})}),a.jsx($n,{children:a.jsxs(Me,{spacing:3,children:[a.jsx(R,{children:"Great work! How was your session?"}),a.jsx(et,{label:"Rate Your Exertion (1-10)",type:"number",value:f,onChange:F=>p(Math.min(10,Math.max(1,parseInt(F.target.value)||5))),inputProps:{min:1,max:10},fullWidth:!0,helperText:"1 = Very Easy, 10 = Maximum Effort"}),a.jsx(et,{label:"Session Notes (optional)",multiline:!0,rows:3,value:u,onChange:F=>d(F.target.value),fullWidth:!0,placeholder:"How did you feel? Any observations?"})]})}),a.jsxs(Qn,{children:[a.jsx(ve,{onClick:()=>l(!1),children:"Cancel"}),a.jsx(ve,{onClick:q,variant:"contained",color:"primary",children:"Save Session"})]})]})]})]})};BT.propTypes={onNavigate:H.func.isRequired};const Mi={POWER:{name:"Power Yoga",description:"Build strength, flexibility, balance, and cardiovascular conditioning",duration:45,benefits:["Strength building","Cardiovascular fitness","Balance","Full-body workout"],guideSection:"8.2",sympatheticActivation:"high"},RESTORATIVE:{name:"Restorative Yoga",description:"Deep stretch, stress relief, parasympathetic nervous system activation",duration:45,benefits:["Stress relief","Deep relaxation","Recovery","Parasympathetic activation"],guideSection:"8.3",sympatheticActivation:"low"},YIN:{name:"Yin Yoga",description:"Deep tissue and fascia release, long-hold passive stretching",duration:55,benefits:["Fascia release","Deep flexibility","Meditation","Joint health"],guideSection:"8.4",sympatheticActivation:"low"},FLEXIBILITY:{name:"Flexibility Yoga",description:"Target hip and hamstring opening, address tightness from training and sitting",duration:45,benefits:["Hip flexibility","Hamstring flexibility","Lower back release","Mobility"],guideSection:"8.5",sympatheticActivation:"medium"},CORE:{name:"Core Strength Yoga",description:"Develop core strength and stability for athletic performance",duration:40,benefits:["Core strength","Stability","Athletic performance","Injury prevention"],guideSection:"8.6",sympatheticActivation:"high"}},Fr={UJJAYI:{name:"Ujjayi Breathing",description:"Ocean-like sound, throat constriction, calming",instruction:"Breathe through nose with slight throat constriction, creating ocean sound",benefits:["Calming","Focus","Heat generation"],useIn:["Power","Restorative","Yin"]},EXTENDED_EXHALE:{name:"Extended Exhale",description:"2:1 or 3:1 ratio - parasympathetic activation",instruction:"Inhale 4 counts, exhale 8 counts",benefits:["Parasympathetic activation","Stress relief","Sleep preparation"],useIn:["Restorative","Yin"]},ALTERNATE_NOSTRIL:{name:"Alternate Nostril Breathing (Nadi Shodhana)",description:"Balance nervous system",instruction:"Close right nostril, inhale left. Close left, exhale right. Continue alternating.",benefits:["Nervous system balance","Mental clarity","Stress reduction"],useIn:["Restorative","Flexibility"]},NATURAL:{name:"Natural Diaphragmatic Breathing",description:"Allow breath to happen naturally",instruction:"No forced breath control; focus on present moment awareness",benefits:["Relaxation","Natural flow","Meditation support"],useIn:["Yin","Restorative"]}},Jm=e=>{const{poses:t=[],level:s="intermediate"}=e,i=t.filter(d=>{const f=d.Type&&d.Type.includes("Power"),p=d.Category==="Standing"||d.Category==="Core",y=(d["Session Type"]||"").includes("Power Yoga");return f||p||y}),l=s==="beginner"?.8:s==="advanced"?1.2:1;return{type:"power_yoga",mode:Mi.POWER,level:s,warmup:{duration:300,sequence:[{pose:"Mountain Pose",duration:30,instruction:"5 deep breaths (body awareness)"},{pose:"Cat-Cow",duration:120,instruction:"10 rounds (spinal mobility)"},{pose:"Downward-Facing Dog",duration:30,instruction:"5 breaths (full body awakening)"}]},standingSequence:{duration:900,exercises:[{name:"Warrior I Flow",poses:hi(i,["Warrior I"]),hold:Math.round(30*l),sides:2,rounds:3,focus:"Glutes, hip flexors, core, shoulders"},{name:"Warrior II to Extended Triangle",poses:hi(i,["Warrior II","Extended Triangle"]),hold:Math.round(37*l),sides:2,rounds:2,focus:"Hip stability, hamstring flexibility, obliques"},{name:"Chair Pose Hold",poses:hi(i,["Chair Pose"]),hold:Math.round(37*l),rounds:3,focus:"Glutes, quads, core"},{name:"Standing Forward Fold",poses:hi(i,["Standing Forward Fold"]),hold:60,rounds:2,focus:"Hamstring flexibility, lower back release"},{name:"Tree Pose Balance Work",poses:hi(i,["Tree Pose"]),hold:Math.round(37*l),sides:2,rounds:2,focus:"Balance, hip stability, focus"}]},coreSequence:{duration:900,exercises:[{name:"Plank Variations",duration:300,variations:[{pose:"Plank Pose",hold:Math.round(45*l),rounds:3},{pose:"Side Plank",hold:Math.round(30*l),sides:2,rounds:2},{pose:"Plank to Downward Dog Flow",rounds:10}]},{name:"Boat Pose",poses:hi(i,["Boat Pose"]),hold:Math.round(25*l),rounds:4,rest:30},{name:"Bridge Pose Pulses",poses:hi(i,["Bridge Pose"]),hold:30,rounds:3,focus:"Glutes, hamstrings, core"},{name:"Locust Pose Holds",poses:hi(i,["Locust Pose"]),hold:20,rounds:3,rest:30,focus:"Posterior chain (erector spinae, glutes)"}]},cooldown:{duration:600,sequence:[{pose:"Pigeon Pose",duration:90,sides:2,benefit:"Deep hip opener"},{pose:"Seated Forward Fold",duration:90,benefit:"Hamstring and lower back release"},{pose:"Reclined Twist",duration:45,sides:2,benefit:"Spinal rotation, digestive aid"},{pose:"Legs-Up-the-Wall",duration:120,benefit:"Parasympathetic activation",optional:!0},{pose:"Savasana",duration:180,benefit:"Integration and calm"}]},breathing:Fr.UJJAYI,totalDuration:2700,musclesWorked:"Full body emphasis on glutes, core, shoulders; hamstring and hip flexibility",guideReference:"Section 8.2"}},LT=e=>{const{poses:t=[]}=e,s=t.filter(i=>{const l=i.Type&&i.Type.includes("Restorative"),u=i.Category==="Restorative",f=(i["Session Type"]||"").includes("Restorative");return l||u||f});return{type:"restorative_yoga",mode:Mi.RESTORATIVE,level:"all",props:["Yoga blocks","Bolsters","Straps","Blankets"],opening:{duration:180,sequence:[{activity:"Seated cross-legged meditation with ujjayi breathing",duration:180,instruction:"Set intention for calm and recovery"}]},warmupFlow:{duration:300,sequence:[{pose:"Cat-Cow",duration:60,instruction:"5 rounds, slow and gentle"},{pose:"Child's Pose",duration:60,instruction:"Calming, forward fold"}]},restorativeSequence:{duration:2220,instruction:"Hold each pose for 3-6 minutes with props for support",poses:[{name:"Supine Butterfly",pose:Ft(s,"Supine Butterfly"),duration:300,props:"Bolster under spine, block under head",benefits:"Hip opening, chest opening, parasympathetic activation"},{name:"Supported Fish Pose",duration:180,props:"Bolster under mid-back",benefits:"Chest and hip flexor opening"},{name:"Legs-Up-the-Wall",pose:Ft(s,"Legs-Up-the-Wall"),duration:600,props:"Bolster under pelvis (optional)",benefits:"Circulation, stress relief, inversion benefits"},{name:"Half Lord of Fishes",pose:Ft(s,"Half Lord of Fishes"),duration:240,sides:2,props:"Block or pillow under knees for support",benefits:"Spinal rotation, digestive aid"},{name:"Supported Child's Pose",pose:Ft(s,"Child's Pose"),duration:300,props:"Bolster supporting torso, block under head",benefits:"Hamstring and hip opening, calming"},{name:"Reclined Twist",pose:Ft(s,"Reclined Twist"),duration:180,sides:2,benefits:"Spinal rotation, core release"}]},closing:{duration:300,sequence:[{pose:"Savasana",duration:300,instruction:"Fully supported with blankets and blocks. 5 minutes of complete relaxation."}]},breathing:{primary:Fr.UJJAYI,emphasis:"Longer exhales (6-8 count in, 8-10 count out)",secondary:Fr.EXTENDED_EXHALE},totalDuration:3e3,benefits:"Deep stretching and release; parasympathetic activation",guideReference:"Section 8.3"}},NT=e=>{const{poses:t=[]}=e,s=t.filter(i=>{const l=i.Type&&i.Type.includes("Yin"),u=i.Category==="Hip Opener"||i.Category==="Forward Fold",f=(i["Session Type"]||"").includes("Yin");return l||u||f});return{type:"yin_yoga",mode:Mi.YIN,level:"all",philosophy:"Hold poses 3-6 minutes each; go to edge of sensation (not pain)",props:["Yoga blocks","Bolsters","Straps","Blankets"],opening:{duration:300,sequence:[{activity:"Seated meditation with natural breathing",duration:180},{activity:"Gentle neck and shoulder rolls",duration:120}]},mainSequence:{duration:2880,poses:[{pose:"Cat-Cow",duration:120,instruction:"Gentle warm-up"},{name:"Supported Child's Pose",pose:Ft(s,"Child's Pose"),duration:300,props:"Bolster supporting torso",targetTissues:"Hamstrings, hip extensors, shoulders"},{name:"Pigeon Pose",pose:Ft(s,"Pigeon Pose"),duration:300,sides:2,totalDuration:600,props:"Blanket under hip if needed",targetTissues:"Hip external rotators (piriformis), glutes, hip flexors"},{name:"Wide-Legged Forward Fold",pose:Ft(s,"Wide-Legged Forward Fold"),duration:300,props:"Blocks under hands",targetTissues:"Hamstrings, hip adductors, erector spinae"},{name:"Dragon Pose/Low Lizard Lunge",pose:Ft(s,"Lizard Pose"),duration:300,sides:2,totalDuration:600,props:"Blocks under hands for support",targetTissues:"Hip flexors, psoas, hamstrings"},{name:"Seated Forward Fold",pose:Ft(s,"Seated Forward Fold"),duration:300,props:"Block under head if needed; blanket under sit bones",targetTissues:"Hamstrings, erector spinae, calf muscles"},{name:"Supine Butterfly",pose:Ft(s,"Supine Butterfly"),duration:240,props:"Bolster under spine, block under head",targetTissues:"Hip adductors, hip flexors, pelvic floor"},{name:"Reclining Spinal Twist",pose:Ft(s,"Reclined Twist"),duration:240,sides:2,totalDuration:480,props:"Pillow or block support",targetTissues:"IT band, glutes, spinal erectors, obliques"}]},closing:{duration:420,sequence:[{pose:"Savasana",duration:420,instruction:"Complete relaxation; allow body to integrate changes"}]},breathing:Fr.NATURAL,breathingInstruction:"Natural diaphragmatic breathing. No forced breath control; let breath happen naturally. Focus: Present moment awareness",totalDuration:3600,targetTissues:"Deep fascial and connective tissue release throughout entire body",guideReference:"Section 8.4"}},FT=e=>{const{poses:t=[]}=e,s=t.filter(i=>{const l=i.Type&&i.Type.includes("Flexibility"),u=i.Category==="Hip Opener"||i.Category==="Forward Fold",f=(i["Session Type"]||"").includes("Flexibility");return l||u||f});return{type:"flexibility_yoga",mode:Mi.FLEXIBILITY,level:"all",objective:"Address lower body tightness (common from sitting and training)",warmup:{duration:300,sequence:[{pose:"Cat-Cow",duration:60,instruction:"8 rounds"},{pose:"Downward-Facing Dog",duration:60}]},standingSequence:{duration:720,poses:[{name:"Low Lunge with Hip Flexor Stretch",duration:45,sides:2,props:"Block under hands if needed",stretchTarget:"Hip flexors, quads"},{name:"Pyramid Pose",pose:Ft(s,"Pyramid Pose"),duration:60,sides:2,stretchTarget:"Hamstrings, hip adductors"},{name:"Half-Split",pose:Ft(s,"Half Split"),duration:60,sides:2,stretchTarget:"Hamstrings, hip adductors"},{name:"Wide-Legged Forward Fold",pose:Ft(s,"Wide-Legged Forward Fold"),duration:90,stretchTarget:"Hamstrings, hip adductors, inner thighs"}]},floorSequence:{duration:1200,poses:[{name:"Lizard Pose",pose:Ft(s,"Lizard Pose"),duration:90,sides:2,stretchTarget:"Hip flexors, hip abductors, hamstrings"},{name:"Pigeon Pose",pose:Ft(s,"Pigeon Pose"),duration:120,sides:2,stretchTarget:"Hip external rotators, glutes, hip flexors"},{name:"Low Lunge Variation",duration:60,sides:2,props:"Blanket under back knee if needed",stretchTarget:"Hip flexors, psoas, quads"},{name:"Cow Face Pose",pose:Ft(s,"Cow Face Pose"),duration:60,sides:2,instruction:"If hip flexibility allows",stretchTarget:"Hip abductors, glutes, hip flexors"},{name:"Seated Forward Fold",pose:Ft(s,"Seated Forward Fold"),duration:120,stretchTarget:"Hamstrings, erector spinae"},{name:"Reclined Pigeon",pose:Ft(s,"Reclined Pigeon"),duration:90,sides:2,stretchTarget:"Glutes, hip external rotators, lower back"}]},closing:{duration:480,sequence:[{pose:"Legs-Up-the-Wall",duration:300,instruction:"If available, or supine position"},{pose:"Reclined Twist",duration:60,sides:2},{pose:"Savasana",duration:180}]},breathing:Fr.ALTERNATE_NOSTRIL,totalDuration:2700,emphasis:"Deep lower body flexibility emphasis",guideReference:"Section 8.5"}},HT=e=>{const{poses:t=[]}=e,s=t.filter(i=>{const l=i.Category==="Core",u=i.Type&&i.Type.includes("Power"),f=(i["Session Type"]||"").includes("Core");return l||u&&f});return{type:"core_yoga",mode:Mi.CORE,level:"intermediate",objective:"Develop core strength and stability for athletic performance and injury prevention",warmup:{duration:300,sequence:[{pose:"Cat-Cow",duration:60,instruction:"8 rounds"},{pose:"Downward-Facing Dog",duration:60,instruction:"60 sec hold"}]},coreActivation:{duration:1200,sections:[{name:"Plank Hold Series",duration:480,exercises:[{pose:"Plank Pose",hold:45,rounds:3,rest:30},{pose:"Plank with Shoulder Taps",hold:40,rounds:2},{pose:"Plank to Downward Dog Flow",rounds:10}]},{name:"Side Plank Series",duration:300,exercises:[{pose:"Side Plank",side:"right",hold:35,rounds:2,rest:30},{pose:"Side Plank",side:"left",hold:35,rounds:2,rest:30}]},{name:"Boat Pose Progression",duration:240,exercises:[{pose:"Half Boat",hold:30,rounds:2},{pose:"Boat Pose",hold:25,rounds:2}]},{name:"Dolphin Pose",pose:Ft(s,"Dolphin Pose"),hold:45,rounds:2,benefit:"Shoulder stabilization"}]},standingCore:{duration:600,exercises:[{name:"Chair Pose",pose:Ft(s,"Chair Pose"),hold:37,rounds:3},{name:"Warrior III",pose:Ft(s,"Warrior III"),hold:30,sides:2,rounds:2},{name:"Extended Triangle with Rotation",pose:Ft(s,"Extended Triangle"),hold:45,sides:2,rounds:2},{name:"Standing Crunch",duration:20,rounds:2,instruction:"Reach up and down"}]},coreHolds:{duration:300,exercises:[{name:"Bridge Pose Hold",pose:Ft(s,"Bridge Pose"),hold:60,rounds:2,rest:30},{name:"Locust Pose Hold",pose:Ft(s,"Locust Pose"),hold:30,rounds:3}]},cooldown:{duration:300,optional:!0,sequence:[{pose:"Child's Pose",duration:120},{pose:"Spinal Twist",duration:60,sides:2},{pose:"Final rest",duration:60}]},breathing:Fr.UJJAYI,totalDuration:2400,emphasis:"Deep and superficial core muscles; stabilizer muscles",guideReference:"Section 8.6"}};function Ft(e,t){return e.find(s=>s.Name===t||s.Sanskrit===t)}function hi(e,t){return t.map(s=>Ft(e,s)).filter(s=>s)}const My=e=>{const{mode:t="power",goal:s="balance"}=e;let i;switch(t.toLowerCase()){case"power":i=Jm(e);break;case"restorative":i=LT(e);break;case"yin":i=NT(e);break;case"flexibility":i=FT(e);break;case"core":i=HT(e);break;default:i=Jm(e)}return i.metadata={generatedAt:new Date().toISOString(),goal:s,guideSource:".github/HIIT-YOGA-GUIDE.md",parasympatheticBalance:Mi[t.toUpperCase()]?.sympatheticActivation==="low"},i},YB=Object.freeze(Object.defineProperty({__proto__:null,BREATHING_TECHNIQUES:Fr,YOGA_MODES:Mi,generateCoreYogaSession:HT,generateFlexibilityYogaSession:FT,generatePowerYogaSession:Jm,generateRestorativeYogaSession:LT,generateYinYogaSession:NT,generateYogaSession:My},Symbol.toStringTag,{value:"Module"})),_T=({onNavigate:e})=>{const[t,s]=x.useState("power"),[i,l]=x.useState("intermediate"),[u,d]=x.useState("balance"),{data:f=[],isLoading:p}=uf({queryKey:["yogaPoses"],queryFn:async()=>{const b=await fetch("/goodlift/data/yoga-poses.json");if(!b.ok)throw new Error("Failed to load yoga poses");return b.json()},staleTime:1/0}),g=()=>{const b=My({mode:t,level:i,poses:f,goal:u});localStorage.setItem("currentYogaSession",JSON.stringify(b)),e("yoga-session")};if(p)return a.jsx(Y,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:a.jsx(Rc,{color:"secondary",size:60})});const y=Mi[t.toUpperCase()],v=y?.sympatheticActivation==="low"?Fr.UJJAYI:Fr.NATURAL;return a.jsxs(Pe.div,{className:"screen",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[a.jsxs(R,{variant:"h3",component:"h1",sx:{fontWeight:700,mb:2,textAlign:"center",color:"primary.main",display:"flex",alignItems:"center",justifyContent:"center",gap:2},children:[a.jsx(or,{fontSize:"large"}),"Yoga Session Builder"]}),a.jsx(R,{variant:"subtitle1",sx:{textAlign:"center",mb:4,color:"text.secondary"},children:"Evidence-based yoga flows from .github/HIIT-YOGA-GUIDE.md"}),a.jsxs(Y,{sx:{maxWidth:900,margin:"0 auto"},children:[y&&a.jsxs(Mt,{severity:y.sympatheticActivation==="low"?"success":"info",sx:{mb:3},icon:y.sympatheticActivation==="low"?a.jsx(ym,{}):a.jsx(Cn,{}),children:[a.jsxs(R,{variant:"subtitle2",gutterBottom:!0,children:[a.jsx("strong",{children:y.name})," - ",y.duration," minutes"]}),a.jsx(R,{variant:"body2",gutterBottom:!0,children:y.description}),a.jsx(Y,{sx:{mt:1,display:"flex",flexWrap:"wrap",gap:1},children:y.benefits.map((b,S)=>a.jsx(qe,{label:b,size:"small",color:"primary",variant:"outlined"},S))}),a.jsxs(R,{variant:"caption",display:"block",sx:{mt:1},children:["Guide Reference: Section ",y.guideSection," | Nervous System: ",y.sympatheticActivation==="low"?"Parasympathetic (Calming)":"Balanced/Active"]})]}),a.jsxs(Qe,{container:!0,spacing:3,children:[a.jsx(Qe,{item:!0,xs:12,md:6,children:a.jsx(Le,{children:a.jsxs(Fe,{children:[a.jsxs(R,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsx(or,{}),"Yoga Mode"]}),a.jsxs(ht,{fullWidth:!0,sx:{mt:2},children:[a.jsx(vt,{children:"Mode"}),a.jsxs(St,{value:t,label:"Mode",onChange:b=>s(b.target.value),children:[a.jsx(Se,{value:"power",children:"Power Yoga"}),a.jsx(Se,{value:"restorative",children:"Restorative Yoga"}),a.jsx(Se,{value:"yin",children:"Yin Yoga"}),a.jsx(Se,{value:"flexibility",children:"Flexibility Focus"}),a.jsx(Se,{value:"core",children:"Core Strength"})]})]}),a.jsxs(R,{variant:"body2",sx:{mt:2},color:"text.secondary",children:[t==="power"&&"Dynamic flow focusing on strength, balance, and cardiovascular conditioning",t==="restorative"&&"Deep relaxation with props, parasympathetic activation for recovery",t==="yin"&&"Long passive holds (3-6 min) for deep tissue and fascia release",t==="flexibility"&&"Target hip and hamstring opening, address tightness",t==="core"&&"Build core strength and stability for athletic performance"]})]})})}),a.jsx(Qe,{item:!0,xs:12,md:6,children:a.jsx(Le,{children:a.jsxs(Fe,{children:[a.jsx(R,{variant:"h6",gutterBottom:!0,children:"Experience Level"}),a.jsxs(ht,{fullWidth:!0,sx:{mt:2},children:[a.jsx(vt,{children:"Level"}),a.jsxs(St,{value:i,label:"Level",onChange:b=>l(b.target.value),children:[a.jsx(Se,{value:"beginner",children:"Beginner"}),a.jsx(Se,{value:"intermediate",children:"Intermediate"}),a.jsx(Se,{value:"advanced",children:"Advanced"})]})]}),a.jsxs(R,{variant:"body2",sx:{mt:2},color:"text.secondary",children:[i==="beginner"&&"Shorter holds, simpler poses, more guidance",i==="intermediate"&&"Standard holds, balanced challenge",i==="advanced"&&"Longer holds, complex variations, arm balances and inversions"]})]})})}),a.jsx(Qe,{item:!0,xs:12,md:6,children:a.jsx(Le,{children:a.jsxs(Fe,{children:[a.jsx(R,{variant:"h6",gutterBottom:!0,children:"Primary Goal"}),a.jsxs(ht,{fullWidth:!0,sx:{mt:2},children:[a.jsx(vt,{children:"Goal"}),a.jsxs(St,{value:u,label:"Goal",onChange:b=>d(b.target.value),children:[a.jsx(Se,{value:"strength",children:"Strength Building"}),a.jsx(Se,{value:"flexibility",children:"Flexibility Development"}),a.jsx(Se,{value:"recovery",children:"Recovery & Rest"}),a.jsx(Se,{value:"stress_relief",children:"Stress Relief"}),a.jsx(Se,{value:"balance",children:"Balance & Stability"})]})]})]})})}),a.jsx(Qe,{item:!0,xs:12,md:6,children:a.jsx(Le,{children:a.jsxs(Fe,{children:[a.jsx(R,{variant:"h6",gutterBottom:!0,children:"Breathing Technique"}),a.jsx(R,{variant:"subtitle2",color:"primary",sx:{mt:2},children:v.name}),a.jsx(R,{variant:"body2",color:"text.secondary",sx:{mt:1},children:v.description}),a.jsxs(R,{variant:"caption",display:"block",sx:{mt:1},children:["Instruction: ",v.instruction]})]})})}),a.jsx(Qe,{item:!0,xs:12,children:a.jsx(Le,{children:a.jsxs(Fe,{children:[a.jsx(R,{variant:"h6",gutterBottom:!0,children:"What to Expect"}),a.jsxs(Hs,{dense:!0,children:[a.jsx(rs,{children:a.jsx(nr,{primary:"Warm-up Sequence",secondary:"Gentle movements to prepare body and mind"})}),a.jsx(rs,{children:a.jsx(nr,{primary:"Main Practice",secondary:`${y?.duration-10||30}-minute focused sequence`})}),a.jsx(rs,{children:a.jsx(nr,{primary:"Cool-down & Savasana",secondary:"Integration, relaxation, and final rest"})}),a.jsx(rs,{children:a.jsx(nr,{primary:"Props Needed",secondary:t==="restorative"||t==="yin"?"Yoga blocks, bolsters, straps, blankets (optional but recommended)":"Yoga mat (optional: blocks for modifications)"})})]})]})})})]}),a.jsx(Y,{sx:{mt:4,textAlign:"center"},children:a.jsx(ve,{variant:"contained",size:"large",onClick:g,sx:{minWidth:250,py:1.5,fontSize:"1.1rem"},children:"Generate Yoga Session"})}),a.jsxs(Mt,{severity:"success",sx:{mt:3},children:[a.jsx(R,{variant:"body2",children:"All yoga sequences follow evidence-based principles from .github/HIIT-YOGA-GUIDE.md with proper sequencing, hold timing, and breathwork integration for maximum health benefits."}),a.jsxs(R,{variant:"caption",display:"block",sx:{mt:1},children:[a.jsx("strong",{children:"Recovery Balance:"})," Restorative and Yin yoga support parasympathetic nervous system activation, essential for balancing high-intensity training (Guide Section 10.1)."]})]})]})]})};_T.propTypes={onNavigate:H.func.isRequired};const zT=({onNavigate:e})=>{const[t,s]=x.useState(null),[i,l]=x.useState(!1),[u,d]=x.useState(""),[f,p]=x.useState(5),g=x.useCallback(()=>{if(!t)return[];const Q=[];return t.warmup?.poses&&Q.push(...t.warmup.poses),t.mainPractice?.sequences&&t.mainPractice.sequences.forEach(ee=>{ee.poses&&Q.push(...ee.poses)}),t.cooldown?.poses&&Q.push(...t.cooldown.poses),Q},[t]),y=x.useCallback(()=>{l(!0)},[]),v=x.useCallback(()=>{const Q=g();if(Q.length===0)return 30;const ee=Q.reduce((ye,fe)=>ye+(fe.holdDuration||30),0);return Math.round(ee/Q.length)},[g]),b=IT({exercises:g(),rounds:1,workTime:v(),restTime:5,onComplete:y}),{currentPhase:S,currentExerciseIndex:j,timeRemaining:D,totalElapsedTime:T,currentExercise:C,progress:M,isRunning:k,isPaused:P,isComplete:N,start:W,pause:E,resume:L,stop:_,skipToNext:B,skipToPrevious:V,formatTime:A}=b;x.useEffect(()=>{const Q=localStorage.getItem("currentYogaSession");if(Q){const ee=JSON.parse(Q);s(ee)}},[]),x.useEffect(()=>{N&&l(!0)},[N]);const q=()=>{k?E():P?L():W()},U=()=>{_(),l(!0)},z=async()=>{if(!t)return;const Q=sessionStorage.getItem("currentWorkoutPlanContext"),ee=Q?JSON.parse(Q):null,ye={type:t.type||"yoga",date:Date.now(),duration:T||t.totalDuration,mode:t.mode,level:t.level,perceivedExertion:f,notes:u,completed:!0,metadata:t.metadata,planId:ee?.planId||null,planDay:ee?.planDay??null};await oy(ye),sessionStorage.removeItem("currentWorkoutPlanContext"),l(!1),e&&e("progress")},F=()=>{if(!t||!C)return null;const Q=C,ee=t.warmup?.poses?.length||0,ye=t.mainPractice?.sequences?.reduce((ge,De)=>ge+(De.poses?.length||0),0)||0;let fe="PRACTICE";return j<ee?fe="WARMUP":j>=ee+ye&&(fe="COOLDOWN"),S==="work"?{title:Q.name||Q.Name||"Pose",description:Q.sanskritName||Q.Sanskrit||"",muscles:`${Q.primaryMuscles||Q["Primary Muscles"]||""}${Q.secondaryMuscles||Q["Secondary Muscles"]?`  ${Q.secondaryMuscles||Q["Secondary Muscles"]}`:""}`,benefits:Q.benefits||Q.Benefits,instruction:Q.instruction||Q.Instruction,icon:a.jsx(or,{}),phaseLabel:fe}:S==="rest"?{title:"Transition",description:"Prepare for next pose",icon:a.jsx(ym,{}),phaseLabel:"TRANSITION"}:S==="warmup"?{title:t.opening?.name||"Opening Meditation",description:t.opening?.description||"Set your intention",breathingTechnique:t.breathingTechnique,icon:a.jsx(ym,{}),phaseLabel:"OPENING"}:S==="complete"?{title:"Namaste ",description:"Session complete",icon:a.jsx(qs,{}),phaseLabel:"COMPLETE"}:null};if(!t)return a.jsxs(Y,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"50vh",gap:2,p:3},children:[a.jsx(R,{variant:"h6",color:"text.secondary",children:"No session loaded"}),a.jsx(R,{variant:"body2",color:"text.secondary",sx:{textAlign:"center"},children:"Please select a yoga session from the calendar or generate a new session."}),e&&a.jsx(ve,{variant:"contained",color:"primary",onClick:()=>e("yoga-selection"),children:"Generate Yoga Session"})]});if(!t.mainPractice||!t.mainPractice.sequences||t.mainPractice.sequences.length===0)return a.jsxs(Y,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"50vh",gap:2,p:3},children:[a.jsx(R,{variant:"h6",color:"error",children:"Invalid session data"}),a.jsx(R,{variant:"body2",color:"text.secondary",sx:{textAlign:"center"},children:"This session does not have poses. Please regenerate the session or select a different one."}),e&&a.jsx(ve,{variant:"contained",color:"primary",onClick:()=>e("yoga-selection"),children:"Generate New Session"})]});const I=F();return a.jsxs(Y,{sx:{width:"100%",minHeight:"100vh"},children:[a.jsx(ur,{title:t.name||"Yoga Session",icon:"",action:a.jsxs(Me,{direction:"row",spacing:1,children:[a.jsx(qe,{label:`${t.level||"intermediate"} level`,color:"primary",size:"small"}),a.jsx(qe,{label:t.mode||"yoga",color:"secondary",size:"small"})]})}),a.jsxs(Pe.div,{className:"screen",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{padding:"1rem",maxWidth:"900px",margin:"0 auto"},children:[a.jsx(Le,{sx:{mb:3},children:a.jsxs(Fe,{children:[a.jsx(R,{variant:"subtitle2",gutterBottom:!0,id:"yoga-session-progress-label",children:"Session Progress"}),a.jsx(Rr,{variant:"determinate",value:M,sx:{height:8,borderRadius:4},"aria-labelledby":"yoga-session-progress-label","aria-valuenow":M,"aria-valuemin":0,"aria-valuemax":100})]})}),a.jsx(Le,{sx:{mb:3,bgcolor:"rgba(19, 70, 134, 0.02)"},children:a.jsx(Fe,{children:a.jsxs(Me,{spacing:2,children:[a.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1},children:[I?.icon,a.jsx(R,{variant:"overline",sx:{fontWeight:600},"aria-live":"polite",children:I?.phaseLabel||S.toUpperCase()})]}),a.jsx(R,{variant:"h3",sx:{fontWeight:700,color:"primary.main"},role:"heading","aria-level":1,children:I?.title}),I?.description&&a.jsx(R,{variant:"h6",color:"text.secondary",sx:{fontStyle:"italic"},children:I.description}),I?.muscles&&a.jsxs(R,{variant:"body2",color:"text.secondary",children:[a.jsx("strong",{children:"Muscles:"})," ",I.muscles]}),I?.instruction&&a.jsxs(Mt,{severity:"info",children:[a.jsx("strong",{children:"Instruction:"})," ",I.instruction]}),I?.benefits&&Array.isArray(I.benefits)&&a.jsxs(Y,{children:[a.jsx(R,{variant:"subtitle2",gutterBottom:!0,children:"Benefits:"}),a.jsx(Hs,{dense:!0,children:I.benefits.map((Q,ee)=>a.jsx(rs,{sx:{py:0},children:a.jsx(nr,{primary:Q})},ee))})]}),I?.breathingTechnique&&a.jsxs(Mt,{severity:"success",children:[a.jsx(R,{variant:"subtitle2",gutterBottom:!0,children:a.jsx("strong",{children:I.breathingTechnique.name})}),a.jsx(R,{variant:"body2",children:I.breathingTechnique.instruction})]}),a.jsxs(Y,{sx:{textAlign:"center",py:3,bgcolor:"rgba(19, 70, 134, 0.05)",borderRadius:2},children:[a.jsx(hc,{sx:{fontSize:48,color:"primary.main",mb:1},"aria-hidden":"true"}),a.jsx(R,{variant:"h2",sx:{fontWeight:800,color:"primary.main"},"aria-live":"polite","aria-atomic":"true",role:"timer",children:A(D)}),a.jsx(R,{variant:"caption",color:"text.secondary",children:"Hold Time"})]}),a.jsxs(Me,{direction:"row",spacing:2,justifyContent:"center",children:[a.jsx(rt,{onClick:V,size:"large","aria-label":"Previous pose",sx:{bgcolor:"secondary.main",color:"white","&:hover":{bgcolor:"secondary.dark"},minWidth:64,minHeight:64},children:a.jsx(gg,{})}),a.jsx(rt,{onClick:q,size:"large","aria-label":k?"Pause session":P?"Resume session":"Start session",sx:{bgcolor:"primary.main",color:"white","&:hover":{bgcolor:"primary.dark"},minWidth:64,minHeight:64},children:k?a.jsx(zo,{}):a.jsx(Hn,{})}),a.jsx(rt,{onClick:B,size:"large","aria-label":"Skip to next pose",sx:{bgcolor:"warning.main",color:"white","&:hover":{bgcolor:"warning.dark"},minWidth:64,minHeight:64},children:a.jsx(Ic,{})}),a.jsx(rt,{onClick:U,size:"large","aria-label":"Stop session",sx:{bgcolor:"error.main",color:"white","&:hover":{bgcolor:"error.dark"},minWidth:64,minHeight:64},children:a.jsx(Bc,{})})]})]})})}),a.jsx(Le,{children:a.jsxs(Fe,{children:[a.jsx(R,{variant:"h6",gutterBottom:!0,children:"Session Details"}),a.jsxs(Me,{spacing:1,children:[a.jsxs(R,{variant:"body2",children:[a.jsx("strong",{children:"Total Duration:"})," ",A(t.totalDuration||0)]}),a.jsxs(R,{variant:"body2",children:[a.jsx("strong",{children:"Mode:"})," ",t.name||t.mode]}),t.metadata?.parasympatheticBalance&&a.jsx(qe,{label:"Parasympathetic Activation - Recovery & Calm",size:"small",color:"success",sx:{mt:1}}),a.jsxs(R,{variant:"caption",color:"text.secondary",sx:{mt:1},children:["Guide Reference: ",t.guideReference||t.metadata?.guideSource||"HIIT-YOGA-GUIDE.md"]})]})]})}),a.jsxs(Gn,{open:i,onClose:()=>l(!1),children:[a.jsx(os,{children:a.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsx(qs,{color:"success"}),"Namaste "]})}),a.jsx($n,{children:a.jsxs(Me,{spacing:3,children:[a.jsx(R,{children:"Session complete. How was your practice?"}),a.jsx(et,{label:"Rate Your Experience (1-10)",type:"number",value:f,onChange:Q=>p(Math.min(10,Math.max(1,parseInt(Q.target.value)||5))),inputProps:{min:1,max:10},fullWidth:!0,helperText:"1 = Very Easy, 10 = Very Challenging"}),a.jsx(et,{label:"Session Notes (optional)",multiline:!0,rows:3,value:u,onChange:Q=>d(Q.target.value),fullWidth:!0,placeholder:"How did you feel? Any insights or improvements?"})]})}),a.jsxs(Qn,{children:[a.jsx(ve,{onClick:()=>l(!1),children:"Cancel"}),a.jsx(ve,{onClick:z,variant:"contained",color:"primary",children:"Save Session"})]})]})]})]})};zT.propTypes={onNavigate:H.func.isRequired};const WT=JSON.parse(`[{"Name":"Boat Pose","Sanskrit":"Navasana","Primary Muscles":"Rectus Abdominis, Hip Flexors, Quads","Secondary Muscles":"Core, Back, Shoulders","Type":"Power Yoga","Hold Duration":22,"Benefits":"Core strength, hip flexor strength, balance","Level":"Intermediate","Category":"Core","Session Type":"Power Yoga, Core Strength","Props Needed":"None"},{"Name":"Bow Pose","Sanskrit":"Dhanurasana","Primary Muscles":"Chest, Quads, Hip Flexors","Secondary Muscles":"Delts, Back","Type":"Power Yoga","Hold Duration":30,"Benefits":"Chest, hip, and quad opening, backbend","Level":"Intermediate","Category":"Backbend","Session Type":"Power Yoga, Full Body","Props Needed":"None"},{"Name":"Bridge Pose","Sanskrit":"Setu Bandha Sarvangasana","Primary Muscles":"Glutes, Hamstrings, Erector Spinae","Secondary Muscles":"Hip Flexors, Chest, Shoulders","Type":"Power Yoga","Hold Duration":45,"Benefits":"Glute activation, spinal extension, core","Level":"Beginner","Category":"Backbend","Session Type":"Power Yoga, Core Strength","Props Needed":"None"},{"Name":"Camel Pose","Sanskrit":"Ustrasana","Primary Muscles":"Chest, Hip Flexors, Quads","Secondary Muscles":"Delts, Back, Glutes","Type":"Power Yoga","Hold Duration":30,"Benefits":"Deep chest and hip flexor opening, spinal extension","Level":"Intermediate","Category":"Backbend","Session Type":"Power Yoga, Flexibility","Props Needed":"Block (optional)"},{"Name":"Cat-Cow","Sanskrit":"Marjaryasana-Bitilasana","Primary Muscles":"Erector Spinae, Rectus Abdominis","Secondary Muscles":"Shoulders, Hip Flexors","Type":"Flexibility Yoga","Hold Duration":5,"Benefits":"Spinal mobility, warm-up, core engagement","Level":"Beginner","Category":"Dynamic","Session Type":"Power Yoga, Warm-up","Props Needed":"None"},{"Name":"Chair Pose","Sanskrit":"Utkatasana","Primary Muscles":"Glutes, Quads, Hip Flexors","Secondary Muscles":"Core, Shoulders, Chest","Type":"Power Yoga","Hold Duration":32,"Benefits":"Lower body strength, core engagement","Level":"Beginner","Category":"Standing","Session Type":"Power Yoga, Full Body","Props Needed":"None"},{"Name":"Child's Pose","Sanskrit":"Balasana","Primary Muscles":"Hamstrings, Glutes, Erector Spinae","Secondary Muscles":"Hip Flexors, Shoulders, Back","Type":"Restorative Yoga","Hold Duration":120,"Benefits":"Recovery, hip flexibility, calming","Level":"Beginner","Category":"Restorative","Session Type":"Restorative Yoga, Yin Yoga","Props Needed":"Bolster (optional)"},{"Name":"Cobra Pose","Sanskrit":"Bhujangasana","Primary Muscles":"Chest, Shoulders, Erector Spinae","Secondary Muscles":"Core, Hip Flexors, Back","Type":"Power Yoga","Hold Duration":22,"Benefits":"Chest opening, core, spinal extension","Level":"Beginner","Category":"Backbend","Session Type":"Power Yoga, Flexibility","Props Needed":"None"},{"Name":"Cow Face Pose","Sanskrit":"Gomukhasana","Primary Muscles":"Shoulders, Chest","Secondary Muscles":"Hip Flexors, Lats, Back","Type":"Flexibility Yoga","Hold Duration":45,"Benefits":"Shoulder flexibility, chest opening","Level":"Intermediate","Category":"Shoulder Opener","Session Type":"Flexibility Yoga, Power Yoga","Props Needed":"Strap (optional)"},{"Name":"Crescent Lunge","Sanskrit":"Anjaneyasana","Primary Muscles":"Glutes, Quads, Hip Flexors","Secondary Muscles":"Core, Shoulders, Hamstrings","Type":"Power Yoga","Hold Duration":45,"Benefits":"Hip flexor opening, leg strength, balance","Level":"Beginner","Category":"Standing","Session Type":"Power Yoga, Flexibility","Props Needed":"None"},{"Name":"Dolphin Pose","Sanskrit":"Pincha Mayurasana prep","Primary Muscles":"Shoulders, Core, Hip Flexors","Secondary Muscles":"Chest, Triceps, Back","Type":"Power Yoga","Hold Duration":45,"Benefits":"Shoulder strength, core stability, inversion prep","Level":"Intermediate","Category":"Inversion Prep","Session Type":"Power Yoga, Core Strength","Props Needed":"None"},{"Name":"Downward-Facing Dog","Sanskrit":"Adho Mukha Svanasana","Primary Muscles":"Shoulders, Lats, Hamstrings","Secondary Muscles":"Core, Chest, Hip Flexors","Type":"Power Yoga","Hold Duration":45,"Benefits":"Full-body stretch, inversion, core engagement","Level":"Beginner","Category":"Standing","Session Type":"Power Yoga, Full Body","Props Needed":"None"},{"Name":"Dragon Pose","Sanskrit":"Utthan Pristhasana (Dragon)","Primary Muscles":"Hip Flexors, Quads","Secondary Muscles":"Glutes, Hamstrings","Type":"Yin Yoga","Hold Duration":90,"Benefits":"Hip flexor and quad opening","Level":"Intermediate","Category":"Hip Opener","Session Type":"Yin Yoga, Flexibility","Props Needed":"Block (optional)"},{"Name":"Eagle Pose","Sanskrit":"Garudasana","Primary Muscles":"Hip Abductors, Hip Adductors, Core","Secondary Muscles":"Quads, Glutes, Shoulders","Type":"Power Yoga","Hold Duration":25,"Benefits":"Hip opening, balance, focus, shoulder strength","Level":"Intermediate","Category":"Balance","Session Type":"Power Yoga, Balance","Props Needed":"None"},{"Name":"Extended Side Angle","Sanskrit":"Utthita Parsvakonasana","Primary Muscles":"Glutes, Quads, Hip Abductors","Secondary Muscles":"Obliques, Shoulders, Chest","Type":"Power Yoga","Hold Duration":37,"Benefits":"Hip opening, lateral core, shoulder mobility","Level":"Intermediate","Category":"Standing","Session Type":"Power Yoga, Flexibility","Props Needed":"Block (optional)"},{"Name":"Extended Triangle","Sanskrit":"Utthita Trikonasana","Primary Muscles":"Hamstrings, Hip Adductors","Secondary Muscles":"Glutes, Obliques, Shoulders","Type":"Power Yoga","Hold Duration":37,"Benefits":"Hamstring/hip flexibility, spinal rotation","Level":"Beginner","Category":"Standing","Session Type":"Power Yoga, Flexibility, Full Body","Props Needed":"Block (optional)"},{"Name":"Fish Pose (Full)","Sanskrit":"Matsyasana (Full)","Primary Muscles":"Chest, Hip Flexors","Secondary Muscles":"Delts, Back, Shoulders","Type":"Power Yoga","Hold Duration":45,"Benefits":"Deep chest and hip flexor opening, backbend","Level":"Intermediate","Category":"Backbend","Session Type":"Power Yoga, Flexibility","Props Needed":"None"},{"Name":"Forearm Plank","Sanskrit":"Pincha Mayurasana prep","Primary Muscles":"Shoulders, Core, Triceps","Secondary Muscles":"Chest, Back, Quads","Type":"Power Yoga","Hold Duration":45,"Benefits":"Shoulder stability, core strength","Level":"Intermediate","Category":"Core","Session Type":"Power Yoga, Core Strength","Props Needed":"None"},{"Name":"Formidable Face Pose","Sanskrit":"Gandha Bherundasana","Primary Muscles":"Core, Shoulders, Neck","Secondary Muscles":"Back, Chest","Type":"Power Yoga","Hold Duration":15,"Benefits":"Inversion, core strength","Level":"Advanced","Category":"Inversion","Session Type":"Power Yoga","Props Needed":"None"},{"Name":"Gate Pose","Sanskrit":"Parighasana","Primary Muscles":"Obliques, Hip Abductors","Secondary Muscles":"Lats, Hamstrings, Shoulders","Type":"Power Yoga","Hold Duration":45,"Benefits":"Side body stretch, hip opening, lateral core","Level":"Intermediate","Category":"Standing","Session Type":"Power Yoga, Flexibility","Props Needed":"Block (optional)"},{"Name":"Half Lord of Fishes","Sanskrit":"Ardha Matsyendrasana","Primary Muscles":"Obliques, Erector Spinae, Hip Flexors","Secondary Muscles":"Glutes, Shoulders, Core","Type":"Flexibility Yoga","Hold Duration":45,"Benefits":"Spinal rotation, hip flexibility, digestion aid","Level":"Intermediate","Category":"Twist","Session Type":"Flexibility Yoga, Yin Yoga","Props Needed":"None"},{"Name":"Half Split","Sanskrit":"Ardha Hanumanasana","Primary Muscles":"Hamstrings, Hip Adductors","Secondary Muscles":"Glutes, Calves, Hip Flexors","Type":"Flexibility Yoga","Hold Duration":60,"Benefits":"Hamstring flexibility, hip opening","Level":"Intermediate","Category":"Forward Fold","Session Type":"Flexibility Yoga, Yin Yoga","Props Needed":"Block (optional)"},{"Name":"Happy Baby","Sanskrit":"Ananda Balasana","Primary Muscles":"Hip Flexors, Hip Adductors","Secondary Muscles":"Lower Back, Glutes, Hamstrings","Type":"Restorative Yoga","Hold Duration":90,"Benefits":"Hip opening, lower back release, relaxation","Level":"Beginner","Category":"Restorative","Session Type":"Restorative Yoga, Yin Yoga","Props Needed":"None"},{"Name":"Headstand","Sanskrit":"Sirsasana","Primary Muscles":"Core, Shoulders, Hip Flexors","Secondary Muscles":"Neck, Back, Arms","Type":"Power Yoga","Hold Duration":45,"Benefits":"Full-body inversion, mental clarity, strength","Level":"Advanced","Category":"Inversion","Session Type":"Power Yoga, Full Body","Props Needed":"Blanket (optional)"},{"Name":"Humble Warrior","Sanskrit":"Bhairavasana","Primary Muscles":"Shoulders, Chest, Hip Flexors","Secondary Muscles":"Lats, Back, Glutes","Type":"Power Yoga","Hold Duration":45,"Benefits":"Shoulder and chest opening, hip flexibility","Level":"Intermediate","Category":"Standing","Session Type":"Power Yoga, Flexibility","Props Needed":"None"},{"Name":"Legs-Up-the-Wall","Sanskrit":"Viparita Karani","Primary Muscles":"Hip Flexors, Hamstrings, Core","Secondary Muscles":"Calves, Glutes, Lower Back","Type":"Restorative Yoga","Hold Duration":600,"Benefits":"Circulation, stress relief, parasympathetic activation","Level":"Beginner","Category":"Inversion","Session Type":"Restorative Yoga, Yin Yoga","Props Needed":"Bolster (optional)"},{"Name":"Lizard Pose","Sanskrit":"Utthan Pristhasana","Primary Muscles":"Hip Flexors, Hip Abductors","Secondary Muscles":"Hamstrings, Glutes, Inner Thighs","Type":"Yin Yoga","Hold Duration":75,"Benefits":"Hip and hamstring opening","Level":"Intermediate","Category":"Hip Opener","Session Type":"Yin Yoga, Flexibility","Props Needed":"Block (optional)"},{"Name":"Locust Pose","Sanskrit":"Salabhasana","Primary Muscles":"Erector Spinae, Glutes, Posterior Deltoids","Secondary Muscles":"Hamstrings, Hip Extensors, Back","Type":"Power Yoga","Hold Duration":22,"Benefits":"Posterior chain strength, spinal extension","Level":"Intermediate","Category":"Backbend","Session Type":"Power Yoga, Core Strength","Props Needed":"None"},{"Name":"Low Lunge","Sanskrit":"Anjaneyasana (low variation)","Primary Muscles":"Hip Flexors, Glutes, Quads","Secondary Muscles":"Hamstrings, Core","Type":"Flexibility Yoga","Hold Duration":60,"Benefits":"Hip flexor opening, leg strength","Level":"Beginner","Category":"Hip Opener","Session Type":"Flexibility Yoga, Power Yoga","Props Needed":"Block (optional)"},{"Name":"Mountain Pose","Sanskrit":"Tadasana","Primary Muscles":"Quads, Glutes, Core","Secondary Muscles":"All stabilizer muscles","Type":"Power Yoga","Hold Duration":45,"Benefits":"Body awareness, posture, balance","Level":"Beginner","Category":"Standing","Session Type":"Power Yoga, Balance","Props Needed":"None"},{"Name":"Peacock Pose","Sanskrit":"Pincha Mayurasana","Primary Muscles":"Core, Shoulders","Secondary Muscles":"Triceps, Back, Chest","Type":"Power Yoga","Hold Duration":30,"Benefits":"Shoulder strength, core stability, inversion","Level":"Advanced","Category":"Arm Balance","Session Type":"Power Yoga, Core Strength","Props Needed":"None"},{"Name":"Pigeon Pose","Sanskrit":"Eka Pada Rajakapotasana","Primary Muscles":"Hip External Rotators, Glutes","Secondary Muscles":"Hip Flexors, Hamstrings, Lower Back","Type":"Yin Yoga","Hold Duration":75,"Benefits":"Deep hip opening, lower back release","Level":"Intermediate","Category":"Hip Opener","Session Type":"Yin Yoga, Flexibility","Props Needed":"Block (optional)"},{"Name":"Plank Pose","Sanskrit":"Phalakasana","Primary Muscles":"Core, Shoulders, Triceps","Secondary Muscles":"Chest, Quads, Back","Type":"Power Yoga","Hold Duration":45,"Benefits":"Core strength, shoulder stability","Level":"Beginner","Category":"Core","Session Type":"Power Yoga, Core Strength, HIIT","Props Needed":"None"},{"Name":"Plow Pose","Sanskrit":"Halasana","Primary Muscles":"Neck, Shoulders, Hamstrings","Secondary Muscles":"Back, Chest","Type":"Power Yoga","Hold Duration":45,"Benefits":"Full inversion, shoulder and hamstring stretch","Level":"Advanced","Category":"Inversion","Session Type":"Power Yoga, Full Body","Props Needed":"Blanket (optional)"},{"Name":"Pyramid Pose","Sanskrit":"Parsvottanasana","Primary Muscles":"Hamstrings, Hip Adductors","Secondary Muscles":"Glutes, Calves, Shoulders","Type":"Flexibility Yoga","Hold Duration":67,"Benefits":"Hamstring flexibility, spinal rotation","Level":"Intermediate","Category":"Forward Fold","Session Type":"Flexibility Yoga, Power Yoga","Props Needed":"Block (optional)"},{"Name":"Reclined Pigeon","Sanskrit":"Supta Kapotasana","Primary Muscles":"Hip External Rotators, Glutes","Secondary Muscles":"Hip Flexors, Lower Back, Hamstrings","Type":"Restorative Yoga","Hold Duration":90,"Benefits":"Hip opening, glute stretch, relaxation","Level":"Beginner","Category":"Hip Opener","Session Type":"Restorative Yoga, Yin Yoga","Props Needed":"None"},{"Name":"Reclined Twist","Sanskrit":"Supta Matsyendrasana","Primary Muscles":"Obliques, Erector Spinae","Secondary Muscles":"Glutes, Hip Flexors, Shoulders","Type":"Restorative Yoga","Hold Duration":90,"Benefits":"Spinal rotation, digestive aid, relaxation","Level":"Beginner","Category":"Twist","Session Type":"Restorative Yoga, Yin Yoga","Props Needed":"None"},{"Name":"Reverse Warrior","Sanskrit":"Viparita Virabhadrasana","Primary Muscles":"Glutes, Quads, Obliques","Secondary Muscles":"Shoulders, Hip Flexors, Core","Type":"Power Yoga","Hold Duration":45,"Benefits":"Side body stretch, leg strength, hip opening","Level":"Beginner","Category":"Standing","Session Type":"Power Yoga, Flexibility, Full Body","Props Needed":"None"},{"Name":"Scorpion Pose","Sanskrit":"Vrschikasana","Primary Muscles":"Core, Delts, Chest","Secondary Muscles":"Quads, Hip Flexors","Type":"Power Yoga","Hold Duration":20,"Benefits":"Deep backbend, inversion, core strength","Level":"Advanced","Category":"Backbend","Session Type":"Power Yoga, Core Strength","Props Needed":"None"},{"Name":"Seal Pose","Sanskrit":"Bhujangasana (Seal variation)","Primary Muscles":"Chest, Hip Flexors","Secondary Muscles":"Delts, Back","Type":"Power Yoga","Hold Duration":30,"Benefits":"Chest and hip flexor opening, backbend","Level":"Intermediate","Category":"Backbend","Session Type":"Power Yoga, Flexibility","Props Needed":"None"},{"Name":"Seated Forward Fold","Sanskrit":"Paschimottanasana","Primary Muscles":"Hamstrings, Erector Spinae, Glutes","Secondary Muscles":"Hip Adductors, Calves, Shoulders","Type":"Yin Yoga","Hold Duration":75,"Benefits":"Hamstring/lower back flexibility, calming","Level":"Beginner","Category":"Forward Fold","Session Type":"Yin Yoga, Restorative Yoga, Flexibility","Props Needed":"Block (optional)"},{"Name":"Seated Spinal Twist","Sanskrit":"Ardha Matsyendrasana","Primary Muscles":"Obliques, Erector Spinae","Secondary Muscles":"Glutes, Shoulders","Type":"Flexibility Yoga","Hold Duration":60,"Benefits":"Spinal rotation, digestive aid","Level":"Beginner","Category":"Twist","Session Type":"Flexibility Yoga, Yin Yoga","Props Needed":"None"},{"Name":"Shoulder Stand","Sanskrit":"Salamba Sarvangasana","Primary Muscles":"Shoulders, Neck, Core","Secondary Muscles":"Triceps, Back, Hip Flexors","Type":"Power Yoga","Hold Duration":45,"Benefits":"Inversion benefits, shoulder strength, thyroid stimulation","Level":"Advanced","Category":"Inversion","Session Type":"Power Yoga, Full Body","Props Needed":"Block, Blanket (optional)"},{"Name":"Side Plank","Sanskrit":"Vasisthasana","Primary Muscles":"Obliques, Shoulders, Hip Abductors","Secondary Muscles":"Core, Quads, Lats","Type":"Power Yoga","Hold Duration":25,"Benefits":"Lateral core strength, shoulder stabilization","Level":"Intermediate","Category":"Core","Session Type":"Power Yoga, Core Strength","Props Needed":"None"},{"Name":"Sleeping Swan","Sanskrit":"Eka Pada Rajakapotasana (Sleeping)","Primary Muscles":"Hip External Rotators, Glutes","Secondary Muscles":"Hip Flexors, Lower Back, Hamstrings","Type":"Yin Yoga","Hold Duration":120,"Benefits":"Very deep hip opening","Level":"Intermediate","Category":"Hip Opener","Session Type":"Yin Yoga, Restorative Yoga","Props Needed":"Bolster (optional)"},{"Name":"Sphinx Pose","Sanskrit":"Salamba Bhujangasana","Primary Muscles":"Chest, Shoulders, Core","Secondary Muscles":"Erector Spinae, Hip Flexors","Type":"Restorative Yoga","Hold Duration":45,"Benefits":"Gentle spinal extension, chest opening","Level":"Beginner","Category":"Backbend","Session Type":"Restorative Yoga, Flexibility","Props Needed":"None"},{"Name":"Standing Forward Fold","Sanskrit":"Uttanasana","Primary Muscles":"Hamstrings, Glutes, Erector Spinae","Secondary Muscles":"Hip Adductors, Calves, Shoulders","Type":"Flexibility Yoga","Hold Duration":67,"Benefits":"Hamstring/lower back flexibility, calming","Level":"Beginner","Category":"Forward Fold","Session Type":"Flexibility Yoga, Restorative Yoga","Props Needed":"Block (optional)"},{"Name":"Supine Butterfly","Sanskrit":"Supta Baddha Konasana","Primary Muscles":"Hip Abductors, Hip Adductors, Hip Flexors","Secondary Muscles":"Pelvic floor, Lower Abdomen, Chest","Type":"Restorative Yoga","Hold Duration":240,"Benefits":"Deep hip opening, pelvic release, chest opening","Level":"Beginner","Category":"Restorative","Session Type":"Restorative Yoga, Yin Yoga","Props Needed":"Bolster, Block"},{"Name":"Supine Figure 4","Sanskrit":"Supta Agnisthasana","Primary Muscles":"Glutes, Hip External Rotators","Secondary Muscles":"Hip Flexors, Lower Back","Type":"Yin Yoga","Hold Duration":90,"Benefits":"Deep glute and hip opening","Level":"Beginner","Category":"Hip Opener","Session Type":"Yin Yoga, Restorative Yoga","Props Needed":"None"},{"Name":"Supported Fish Pose","Sanskrit":"Matsyasana (Supported)","Primary Muscles":"Chest, Hip Flexors","Secondary Muscles":"Delts, Back","Type":"Restorative Yoga","Hold Duration":180,"Benefits":"Chest and hip flexor opening, stress relief","Level":"Beginner","Category":"Backbend","Session Type":"Restorative Yoga","Props Needed":"Bolster, Block"},{"Name":"Tree Pose","Sanskrit":"Vrksasana","Primary Muscles":"Hip Abductors, Hip Stabilizers, Quads","Secondary Muscles":"Glutes, Core, Shoulders","Type":"Power Yoga","Hold Duration":45,"Benefits":"Balance, hip stability, focus","Level":"Beginner","Category":"Balance","Session Type":"Power Yoga, Balance","Props Needed":"None"},{"Name":"Twisted Lunge","Sanskrit":"Parivrtta Anjaneyasana","Primary Muscles":"Obliques, Hip Flexors, Glutes","Secondary Muscles":"Quads, Shoulders, Core","Type":"Power Yoga","Hold Duration":45,"Benefits":"Spinal rotation, hip opening, balance","Level":"Intermediate","Category":"Twist","Session Type":"Power Yoga, Flexibility","Props Needed":"None"},{"Name":"Upward-Facing Dog","Sanskrit":"Urdhva Mukha Svanasana","Primary Muscles":"Chest, Shoulders, Triceps","Secondary Muscles":"Abs, Hip Flexors, Back","Type":"Power Yoga","Hold Duration":22,"Benefits":"Chest opening, core engagement, backbend","Level":"Intermediate","Category":"Backbend","Session Type":"Power Yoga, Flexibility","Props Needed":"None"},{"Name":"Warrior I","Sanskrit":"Virabhadrasana I","Primary Muscles":"Glutes, Quads, Hip Flexors","Secondary Muscles":"Core, Shoulders, Chest","Type":"Power Yoga","Hold Duration":45,"Benefits":"Lower body strength, hip flexibility, core","Level":"Beginner","Category":"Standing","Session Type":"Power Yoga, Full Body","Props Needed":"None"},{"Name":"Warrior II","Sanskrit":"Virabhadrasana II","Primary Muscles":"Glutes, Quads, Hip Abductors","Secondary Muscles":"Core, Shoulders, Back","Type":"Power Yoga","Hold Duration":45,"Benefits":"Leg strength, hip opening, balance","Level":"Beginner","Category":"Standing","Session Type":"Power Yoga, Full Body","Props Needed":"None"},{"Name":"Warrior III","Sanskrit":"Virabhadrasana III","Primary Muscles":"Glutes, Back, Hip Extensors","Secondary Muscles":"Quads, Hamstrings, Core, Shoulders","Type":"Power Yoga","Hold Duration":25,"Benefits":"Balance, glute activation, core stability","Level":"Intermediate","Category":"Balance","Session Type":"Power Yoga, Balance","Props Needed":"None"},{"Name":"Wheel Pose","Sanskrit":"Urdhva Mukha Svanasana (full)","Primary Muscles":"Quads, Hip Flexors, Chest","Secondary Muscles":"Delts, Back, Core","Type":"Power Yoga","Hold Duration":30,"Benefits":"Deep backbend, full body opening","Level":"Advanced","Category":"Backbend","Session Type":"Power Yoga, Full Body","Props Needed":"None"},{"Name":"Wide-Legged Forward Fold","Sanskrit":"Prasarita Padottanasana","Primary Muscles":"Hamstrings, Hip Adductors, Erector Spinae","Secondary Muscles":"Glutes, Inner Thighs, Calves","Type":"Flexibility Yoga","Hold Duration":75,"Benefits":"Hamstring flexibility, hip adductor stretch","Level":"Beginner","Category":"Forward Fold","Session Type":"Flexibility Yoga, Power Yoga","Props Needed":"Block (optional)"}]`),ut={HIIT:"hiit",CARDIO:"cardio",YOGA:"yoga"},im=WT.map(e=>e.Name),zw="goodlift_timer_settings",UB=()=>{const[e,t]=x.useState(0),[s,i]=x.useState(30),[l,u]=x.useState(15),[d,f]=x.useState(8),[p,g]=x.useState(20),[y,v]=x.useState(5),[b,S]=x.useState(20),[j,D]=x.useState(2),[T,C]=x.useState(5),[M,k]=x.useState(!1),[P,N]=x.useState(!1),[W,E]=x.useState(!0),[L,_]=x.useState(0),[B,V]=x.useState(0),[A,q]=x.useState(0),[U,z]=x.useState(!0),[F,I]=x.useState(""),[Q,ee]=x.useState([]),[ye,fe]=x.useState(!1),[ge,De]=x.useState(""),ke=x.useRef(null),Oe=x.useRef(null),Ve=x.useRef(0);x.useEffect(()=>{(()=>{try{const le=localStorage.getItem(zw);if(le){const $=JSON.parse(le);$.hiit&&(i($.hiit.workTime||30),u($.hiit.restTime||15),f($.hiit.rounds||8)),$.cardio&&(g($.cardio.duration||20),v($.cardio.intervalMinutes||5)),$.yoga&&(S($.yoga.flowDuration||20),D($.yoga.poseInterval||2),C($.yoga.cooldown||5)),$.lastTab!==void 0&&t($.lastTab)}}catch(le){console.error("Error loading timer settings:",le)}})()},[]),x.useEffect(()=>{(()=>{try{const le={lastTab:e,hiit:{workTime:s,restTime:l,rounds:d},cardio:{duration:p,intervalMinutes:y},yoga:{flowDuration:b,poseInterval:j,cooldown:T}};localStorage.setItem(zw,JSON.stringify(le))}catch(le){console.error("Error saving timer settings:",le)}})()},[e,s,l,d,p,y,b,j,T]),x.useEffect(()=>(M&&!P?Un.requestWakeLock():Un.releaseWakeLock(),()=>{Un.releaseWakeLock()}),[M,P]);const Ue=x.useCallback(()=>{const ne=im.filter(le=>!Q.includes(le));return ne.length===0?(ee([]),im[Math.floor(Math.random()*im.length)]):ne[Math.floor(Math.random()*ne.length)]},[Q]),nt=x.useCallback(()=>{switch(e===0?ut.HIIT:e===1?ut.CARDIO:ut.YOGA){case ut.HIIT:return d*(s+l);case ut.CARDIO:return p*60;case ut.YOGA:return b*60;default:return 0}},[e,d,s,l,p,b]),Ne=x.useCallback(async()=>{k(!1),N(!1);const ne=Date.now(),le=Math.floor((ne-Oe.current+Ve.current)/1e3);Ct.playCompletionFanfare(),V(le),fe(!0)},[]);x.useEffect(()=>(M&&!P?ke.current=setInterval(()=>{_(ne=>{if(ne<=1){const le=e===0?ut.HIIT:e===1?ut.CARDIO:ut.YOGA;if(le===ut.HIIT)return U?(Ct.playLowBeep(),z(!1),l):(q($=>$+1),A+1>=d?(Ne(),0):(Ct.playHighBeep(),z(!0),s));if(le===ut.CARDIO){const $=Math.floor((Date.now()-Oe.current+Ve.current)/1e3),be=p*60-$,K=y*60;return $>0&&$%K===0&&be>0&&Ct.playChime(),be<=1?(Ne(),0):be}if(le===ut.YOGA){const $=Math.floor((Date.now()-Oe.current+Ve.current)/1e3),be=b*60,K=be-$,he=j*60;if($>0&&$%he===0&&K>he){const je=Ue();I(je),ee(Re=>[...Re,je]),Ct.playChime()}const xe=be-T*60;return $>=xe&&F!=="Cooldown - Corpse Pose (Savasana)"&&(I("Cooldown - Corpse Pose (Savasana)"),Ct.playTransitionBeep()),K<=1?(Ne(),0):K}return ne}return ne-1})},1e3):ke.current&&clearInterval(ke.current),()=>{ke.current&&clearInterval(ke.current)}),[M,P,U,A,e,s,l,d,p,y,b,j,T,F,Ne,Ue]);const ce=()=>{const ne=e===0?ut.HIIT:e===1?ut.CARDIO:ut.YOGA;if(E(!1),k(!0),N(!1),Oe.current=Date.now(),Ve.current=0,ne===ut.HIIT){const le=Ey({modality:"bodyweight",level:"intermediate",protocol:"BALANCED",exercises:[]});console.log("HIIT session generated:",le),_(s),q(0),z(!0),Ct.playHighBeep()}else if(ne===ut.CARDIO){const le=p*60;_(le),Ct.playHighBeep()}else if(ne===ut.YOGA){const le=My({mode:"power",level:"intermediate",poses:WT});console.log("Yoga session generated:",le);const $=b*60;_($);const be=Ue();I(be),ee([be]),Ct.playChime()}},de=()=>{if(P){N(!1);const ne=Date.now()-Te.current;Oe.current+=ne,Ct.playTransitionBeep()}else N(!0),Te.current=Date.now(),Ct.playLowBeep()},Te=x.useRef(null),Ee=()=>{k(!1),N(!1),E(!0),_(0),q(0),I(""),ee([]),Ct.playLowBeep()},oe=()=>{const ne=Ue();I(ne),ee(le=>[...le,ne]),Ct.playTransitionBeep()},Ce=async()=>{const ne=e===0?ut.HIIT:e===1?ut.CARDIO:ut.YOGA;try{const le={id:`${ne}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,date:new Date().toISOString(),type:ne,duration:B,completed:!0,notes:ge};ne===ut.HIIT?(le.workTime=s,le.restTime=l,le.rounds=A,le.targetRounds=d):ne===ut.CARDIO?(le.targetDuration=p*60,le.intervalMinutes=y):ne===ut.YOGA&&(le.flowDuration=b,le.poseInterval=j,le.cooldown=T,le.posesCompleted=Q.length),await ry(le),fe(!1),De(""),Ee()}catch(le){console.error("Error saving session:",le),alert("Failed to save session. Please try again.")}},te=()=>{const ne=e===0?ut.HIIT:e===1?ut.CARDIO:ut.YOGA;if(ne===ut.HIIT)return a.jsxs(Me,{spacing:3,children:[a.jsx(R,{variant:"h6",sx:{fontWeight:700},children:" Configure HIIT Session"}),a.jsxs(Qe,{container:!0,spacing:2,children:[a.jsx(Qe,{item:!0,xs:12,sm:4,children:a.jsx(et,{fullWidth:!0,label:"Work Time (seconds)",type:"number",value:s,onChange:le=>i(Math.max(1,parseInt(le.target.value)||30)),inputProps:{min:1,max:300}})}),a.jsx(Qe,{item:!0,xs:12,sm:4,children:a.jsx(et,{fullWidth:!0,label:"Rest Time (seconds)",type:"number",value:l,onChange:le=>u(Math.max(1,parseInt(le.target.value)||15)),inputProps:{min:1,max:300}})}),a.jsx(Qe,{item:!0,xs:12,sm:4,children:a.jsx(et,{fullWidth:!0,label:"Rounds",type:"number",value:d,onChange:le=>f(Math.max(1,parseInt(le.target.value)||8)),inputProps:{min:1,max:50}})})]}),a.jsxs(Mt,{severity:"info",children:[a.jsx("strong",{children:"Total Duration:"})," ",la(nt())]})]});if(ne===ut.CARDIO)return a.jsxs(Me,{spacing:3,children:[a.jsx(R,{variant:"h6",sx:{fontWeight:700},children:" Configure Cardio Session"}),a.jsxs(Qe,{container:!0,spacing:2,children:[a.jsx(Qe,{item:!0,xs:12,sm:6,children:a.jsx(et,{fullWidth:!0,label:"Duration (minutes)",type:"number",value:p,onChange:le=>g(Math.max(1,parseInt(le.target.value)||20)),inputProps:{min:1,max:120}})}),a.jsx(Qe,{item:!0,xs:12,sm:6,children:a.jsx(et,{fullWidth:!0,label:"Interval Alert (minutes)",type:"number",value:y,onChange:le=>v(Math.max(1,parseInt(le.target.value)||5)),inputProps:{min:1,max:60}})})]}),a.jsx(Mt,{severity:"info",children:a.jsxs("strong",{children:["Session will alert every ",y," minutes"]})})]});if(ne===ut.YOGA)return a.jsxs(Me,{spacing:3,children:[a.jsx(R,{variant:"h6",sx:{fontWeight:700},children:" Configure Yoga Session"}),a.jsxs(Qe,{container:!0,spacing:2,children:[a.jsx(Qe,{item:!0,xs:12,sm:4,children:a.jsx(et,{fullWidth:!0,label:"Flow Duration (minutes)",type:"number",value:b,onChange:le=>S(Math.max(1,parseInt(le.target.value)||20)),inputProps:{min:1,max:120}})}),a.jsx(Qe,{item:!0,xs:12,sm:4,children:a.jsx(et,{fullWidth:!0,label:"Pose Interval (minutes)",type:"number",value:j,onChange:le=>D(Math.max(1,parseInt(le.target.value)||2)),inputProps:{min:1,max:30}})}),a.jsx(Qe,{item:!0,xs:12,sm:4,children:a.jsx(et,{fullWidth:!0,label:"Cooldown (minutes)",type:"number",value:T,onChange:le=>C(Math.max(1,parseInt(le.target.value)||5)),inputProps:{min:1,max:30}})})]}),a.jsxs(Mt,{severity:"info",children:["New poses will appear every ",j," minutes, with ",T," minutes of cooldown at the end"]})]})},we=()=>{const ne=e===0?ut.HIIT:e===1?ut.CARDIO:ut.YOGA,le=(nt()-L)/nt()*100;return a.jsxs(Y,{sx:{textAlign:"center"},children:[a.jsx(Rr,{variant:"determinate",value:le,sx:{height:10,borderRadius:5,mb:4,bgcolor:"rgba(255, 255, 255, 0.2)","& .MuiLinearProgress-bar":{bgcolor:ne===ut.HIIT?"warning.main":ne===ut.CARDIO?"secondary.main":"primary.main"}}}),a.jsx(Pe.div,{animate:{scale:P?1:[1,1.02,1]},transition:{duration:1,repeat:P?0:1/0},children:a.jsx(R,{variant:"h1",sx:{fontSize:{xs:"4rem",sm:"6rem",md:"8rem"},fontWeight:900,color:P?"text.secondary":ne===ut.HIIT&&!U?"info.main":ne===ut.HIIT?"warning.main":ne===ut.CARDIO?"secondary.main":"primary.main",textShadow:"0 4px 20px rgba(0,0,0,0.3)",mb:2},children:la(L)})}),a.jsxs(Me,{direction:"row",spacing:2,justifyContent:"center",sx:{mb:4},children:[ne===ut.HIIT&&a.jsxs(a.Fragment,{children:[a.jsx(qe,{label:U?"WORK":"REST",color:U?"warning":"info",sx:{fontSize:"1.2rem",fontWeight:700,px:3,py:2}}),a.jsx(qe,{label:`Round ${A+1}/${d}`,variant:"outlined",sx:{fontSize:"1.2rem",fontWeight:700,px:3,py:2}})]}),ne===ut.YOGA&&F&&a.jsx(qe,{label:F,color:"primary",icon:a.jsx(or,{}),sx:{fontSize:"1.2rem",fontWeight:700,px:3,py:2}})]}),a.jsxs(Me,{direction:"row",spacing:2,justifyContent:"center",children:[a.jsx(ve,{variant:"contained",size:"large",onClick:de,startIcon:P?a.jsx(Hn,{}):a.jsx(zo,{}),sx:{fontSize:"1.2rem",fontWeight:700,px:4,py:2,bgcolor:P?"success.main":"warning.main","&:hover":{bgcolor:P?"success.dark":"warning.dark"}},children:P?"Resume":"Pause"}),a.jsx(ve,{variant:"contained",size:"large",onClick:Ee,startIcon:a.jsx(Bc,{}),sx:{fontSize:"1.2rem",fontWeight:700,px:4,py:2,bgcolor:"error.main","&:hover":{bgcolor:"error.dark"}},children:"Stop"}),ne===ut.YOGA&&a.jsx(ve,{variant:"outlined",size:"large",onClick:oe,startIcon:a.jsx(Ic,{}),sx:{fontSize:"1.2rem",fontWeight:700,px:4,py:2},children:"Next Pose"})]})]})};return a.jsxs(Y,{sx:{width:"100%",minHeight:"100vh"},children:[a.jsx(ur,{title:"Timer Hub",icon:""}),a.jsx(Pe.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{maxWidth:"1200px",margin:"0 auto",padding:"1rem"},children:a.jsx(Le,{sx:{borderRadius:3,bgcolor:"background.paper"},children:a.jsxs(Fe,{sx:{p:{xs:2,sm:4}},children:[a.jsxs(Tk,{value:e,onChange:(ne,le)=>!M&&t(le),variant:"fullWidth",sx:{mb:4,"& .MuiTab-root":{fontSize:{xs:"0.9rem",sm:"1.1rem"},fontWeight:700,py:2}},children:[a.jsx(Hp,{icon:a.jsx(ej,{}),label:"HIIT ",iconPosition:"start",disabled:M}),a.jsx(Hp,{icon:a.jsx(da,{}),label:"Cardio ",iconPosition:"start",disabled:M}),a.jsx(Hp,{icon:a.jsx(or,{}),label:"Yoga ",iconPosition:"start",disabled:M})]}),a.jsx(Or,{sx:{mb:4}}),W?a.jsxs(a.Fragment,{children:[te(),a.jsx(Y,{sx:{mt:4,textAlign:"center"},children:a.jsx(ve,{variant:"contained",size:"large",onClick:ce,startIcon:a.jsx(Hn,{}),sx:{fontSize:"1.5rem",fontWeight:700,px:6,py:3,bgcolor:e===0?"warning.main":e===1?"secondary.main":"primary.main",color:e===0?"primary.main":"white","&:hover":{bgcolor:e===0?"warning.dark":e===1?"secondary.dark":"primary.dark"}},children:"Start Session"})})]}):we()]})})}),a.jsxs(Gn,{open:ye,onClose:()=>fe(!1),maxWidth:"sm",fullWidth:!0,children:[a.jsx(os,{children:a.jsxs(Me,{direction:"row",spacing:2,alignItems:"center",children:[a.jsx(qs,{color:"success",sx:{fontSize:40}}),a.jsx(R,{variant:"h5",sx:{fontWeight:700},children:"Session Complete! "})]})}),a.jsx($n,{children:a.jsxs(Me,{spacing:3,sx:{mt:2},children:[a.jsxs(Mt,{severity:"success",children:[a.jsxs(R,{variant:"body1",children:[a.jsx("strong",{children:"Duration:"})," ",la(B)]}),a.jsxs(R,{variant:"body1",children:[a.jsx("strong",{children:"Type:"})," ",e===0?"HIIT":e===1?"Cardio":"Yoga"]}),a.jsxs(R,{variant:"body1",children:[a.jsx("strong",{children:"Date:"})," ",new Date().toLocaleString()]})]}),a.jsx(et,{fullWidth:!0,label:"Session Notes (optional)",multiline:!0,rows:3,value:ge,onChange:ne=>De(ne.target.value),placeholder:"How did you feel? Any observations?"})]})}),a.jsxs(Qn,{sx:{p:3},children:[a.jsx(ve,{onClick:()=>fe(!1),children:"Cancel"}),a.jsx(ve,{variant:"contained",onClick:Ce,startIcon:a.jsx(qs,{}),sx:{fontWeight:700},children:"Save Session"})]})]})]})},qB=()=>{const[e,t]=x.useState(!0),[s,i]=x.useState(""),[l,u]=x.useState(""),[d,f]=x.useState(""),[p,g]=x.useState(!1),{login:y,signup:v}=lf();return{isLogin:e,email:s,setEmail:i,password:l,setPassword:u,error:d,loading:p,handleSubmit:async j=>{if(j.preventDefault(),!s||!l){f("Please fill in all fields");return}if(l.length<6){f("Password must be at least 6 characters");return}try{f(""),g(!0),e?await y(s,l):await v(s,l)}catch(D){console.error("Auth error:",D.code||"Unknown error"),D.code==="auth/user-not-found"||D.code==="auth/wrong-password"?f("Invalid email or password"):D.code==="auth/email-already-in-use"?f("Email already in use"):D.code==="auth/invalid-email"?f("Invalid email address"):D.code==="auth/weak-password"?f("Password is too weak"):f(`Failed to ${e?"log in":"sign up"}. Please try again.`)}finally{g(!1)}},toggleMode:()=>{t(!e),f(""),i(""),u("")}}},GB=()=>{const{isLogin:e,email:t,setEmail:s,password:i,setPassword:l,error:u,loading:d,handleSubmit:f,toggleMode:p}=qB(),{continueAsGuest:g}=lf();return a.jsx(Y,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:y=>y.palette.background.default,p:2},children:a.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsx(Le,{sx:{maxWidth:440,width:"100%",borderRadius:4,boxShadow:"0 8px 32px rgba(19, 70, 134, 0.2)"},children:a.jsxs(Fe,{sx:{p:4},children:[a.jsxs(Y,{sx:{textAlign:"center",mb:4},children:[a.jsx(Pe.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},style:{marginBottom:"1rem"},children:a.jsx("img",{src:"/goodlift/goodlift-logo.svg",alt:"GoodLift",style:{height:"80px",width:"auto"}})}),a.jsx(xc,{mode:"wait",children:a.jsxs(Pe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.3},children:[a.jsx(R,{variant:"h5",sx:{fontWeight:600,mb:1},children:e?"Welcome Back":"Create Account"}),a.jsx(R,{variant:"body2",color:"text.secondary",children:e?"Log in to continue your fitness journey":"Sign up to start tracking your workouts"})]},e?"login":"signup")})]}),a.jsx(xc,{mode:"wait",children:u&&a.jsx(Pe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:a.jsx(Mt,{severity:"error",sx:{mb:3},children:u})})}),a.jsxs(Y,{component:"form",onSubmit:f,children:[a.jsx(et,{fullWidth:!0,label:"Email",type:"email",value:t,onChange:y=>s(y.target.value),disabled:d,required:!0,sx:{mb:2}}),a.jsx(et,{fullWidth:!0,label:"Password",type:"password",value:i,onChange:y=>l(y.target.value),disabled:d,required:!0,sx:{mb:3}}),a.jsx(Pe.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:a.jsx(ve,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:d,sx:{py:1.5,fontSize:"1.1rem",fontWeight:600,bgcolor:"primary.main","&:hover":{bgcolor:"primary.dark"}},children:d?"Please wait...":e?"Log In":"Sign Up"})}),a.jsx(Or,{sx:{my:2},children:"OR"}),a.jsx(Pe.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:a.jsx(ve,{fullWidth:!0,variant:"outlined",size:"large",disabled:d,onClick:g,sx:{py:1.5,fontSize:"1.1rem",fontWeight:600,borderColor:"secondary.main",color:"secondary.main","&:hover":{borderColor:"secondary.dark",bgcolor:"rgba(237, 63, 39, 0.05)"}},children:"Continue as Guest"})}),a.jsx(Y,{sx:{mt:3,pt:3,borderTop:"1px solid",borderColor:"divider",textAlign:"center"},children:a.jsxs(R,{variant:"body2",color:"text.secondary",children:[e?"Don't have an account? ":"Already have an account? ",a.jsx(ve,{onClick:p,disabled:d,sx:{color:"primary.main",fontWeight:600,textDecoration:"underline","&:hover":{bgcolor:"transparent",textDecoration:"underline"}},children:e?"Sign Up":"Log In"})]})})]})]})})})})},lc=[{name:"Neck Side Stretch",primaryMuscles:"Neck",secondaryMuscles:"Upper Back, Traps",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=v5I0J_6w6jw"},{name:"Neck Rotation",primaryMuscles:"Neck",secondaryMuscles:"Traps",type:"Dynamic",duration:60,youtubeLink:"https://www.youtube.com/watch?v=xfGKhRo5bpI"},{name:"Shoulder Cross-Body Stretch",primaryMuscles:"Delts, Rear Delts",secondaryMuscles:"Upper Back",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=b6H9SHC0H9Y"},{name:"Overhead Triceps Stretch",primaryMuscles:"Triceps",secondaryMuscles:"Delts, Lats",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=EQO_8NRkljo"},{name:"Arm Circles",primaryMuscles:"Delts",secondaryMuscles:"Upper Back, Chest",type:"Dynamic",duration:60,youtubeLink:"https://www.youtube.com/watch?v=Ue_PRcVBdm8"},{name:"Doorway Chest Stretch",primaryMuscles:"Chest",secondaryMuscles:"Front Delts",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=qGJABe9R2zQ"},{name:"Standing Chest Expansion",primaryMuscles:"Chest",secondaryMuscles:"Front Delts, Biceps",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=mvh5zHB-xkc"},{name:"Child's Pose",primaryMuscles:"Lower Back",secondaryMuscles:"Lats, Glutes",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=2MTIlxJ82vY",difficulty:"Beginner"},{name:"Cat-Cow Stretch",primaryMuscles:"Back, Core",secondaryMuscles:"Abs",type:"Dynamic",duration:60,youtubeLink:"https://www.youtube.com/watch?v=kqnua4rHVVA",difficulty:"Beginner"},{name:"Seated Spinal Twist",primaryMuscles:"Back, Obliques",secondaryMuscles:"Lower Back, Glutes",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=DGd7kJyPZjU",difficulty:"Beginner"},{name:"Hip Flexor Stretch (Lunge)",primaryMuscles:"Hip Flexors",secondaryMuscles:"Quads",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=hdW4IXXCzKE"},{name:"Pigeon Pose",primaryMuscles:"Glutes, Hip Flexors",secondaryMuscles:"Lower Back",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=0_zDd6kQ",difficulty:"Intermediate"},{name:"Figure 4 Stretch",primaryMuscles:"Glutes",secondaryMuscles:"Lower Back, Hip Flexors",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=JbyjNymZP8M"},{name:"Butterfly Stretch",primaryMuscles:"Inner Thighs, Groin",secondaryMuscles:"Hip Flexors",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=mJiSzM1X7m0"},{name:"Standing Quad Stretch",primaryMuscles:"Quads",secondaryMuscles:"Hip Flexors",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=kRHQDSuhYKE"},{name:"Lying Quad Stretch",primaryMuscles:"Quads",secondaryMuscles:"Hip Flexors",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=5Mn5g6W-BZk"},{name:"Standing Hamstring Stretch",primaryMuscles:"Hamstrings",secondaryMuscles:"Lower Back, Calves",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=BPmv-3EQk2c"},{name:"Seated Forward Fold",primaryMuscles:"Hamstrings, Lower Back",secondaryMuscles:"Calves",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=U21floGmwDs",difficulty:"Beginner"},{name:"Downward Dog",primaryMuscles:"Hamstrings, Calves",secondaryMuscles:"Back, Delts",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=gZJWYonQKxY",difficulty:"Beginner"},{name:"Wall Calf Stretch",primaryMuscles:"Calves",secondaryMuscles:"Hamstrings",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=hjCRc2jYKyY"},{name:"Standing Calf Raise Stretch",primaryMuscles:"Calves",secondaryMuscles:"",type:"Dynamic",duration:60,youtubeLink:"https://www.youtube.com/watch?v=V3E_fFrLZmE"},{name:"Cobra Stretch",primaryMuscles:"Abs",secondaryMuscles:"Hip Flexors, Chest",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=JDcdhTuycOI",difficulty:"Beginner"},{name:"Side Bend Stretch",primaryMuscles:"Obliques",secondaryMuscles:"Lats, Side Delts",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=y1bKLSIvR1A"},{name:"World's Greatest Stretch",primaryMuscles:"Hip Flexors, Hamstrings",secondaryMuscles:"Glutes, Back, Chest",type:"Dynamic",duration:60,youtubeLink:"https://www.youtube.com/watch?v=a25W3YHBXP4",difficulty:"Intermediate"},{name:"Thread the Needle",primaryMuscles:"Upper Back, Delts",secondaryMuscles:"Obliques, Lower Back",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=lVGgLfg3wQ8",difficulty:"Beginner"},{name:"Warrior I Pose",primaryMuscles:"Hip Flexors, Quads",secondaryMuscles:"Glutes, Core",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=VC4s_PmJBkA",difficulty:"Beginner"},{name:"Triangle Pose",primaryMuscles:"Hamstrings, Obliques",secondaryMuscles:"Inner Thighs, Back",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=2S-ozXfUL9g",difficulty:"Intermediate"},{name:"Happy Baby Pose",primaryMuscles:"Hip Flexors, Glutes",secondaryMuscles:"Lower Back, Inner Thighs",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=p28vdRmDuLg",difficulty:"Beginner"},{name:"Supine Spinal Twist",primaryMuscles:"Lower Back, Obliques",secondaryMuscles:"Glutes, Chest",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=DQBT3u-x7TE",difficulty:"Beginner"}],Ww=e=>e.split(",").map(t=>t.trim()).filter(t=>t.length>0),cc=e=>{const t=Ww(e.primaryMuscles),s=Ww(e.secondaryMuscles||"");return[...t,...s]},am={NECK:["Neck","Traps"],SHOULDERS:["Delts","Front Delts","Rear Delts","Side Delts"],CHEST:["Chest","Upper Chest","Lower Chest"],BACK:["Back","Upper Back","Lower Back","Lats"],CORE:["Core","Abs","Obliques"],ARMS:["Biceps","Triceps","Forearms"],HIPS:["Hip Flexors","Glutes","Groin","Inner Thighs"],LEGS_UPPER:["Quads","Hamstrings"],LEGS_LOWER:["Calves"]},Vw=(e,t)=>cc(e).some(i=>t.some(l=>i.includes(l)||l.includes(i))),eg=(e=10)=>{const t=[],s=new Set,i=Object.keys(am);for(const l of i){if(t.length>=e)break;const u=am[l],d=lc.filter(f=>Vw(f,u)&&!t.includes(f));if(d.length>0){const f=Math.floor(Math.random()*d.length);t.push(d[f]),s.add(l)}}for(;t.length<e;){const l=i.filter(u=>!s.has(u));if(l.length>0){const u=l[Math.floor(Math.random()*l.length)],d=am[u],f=lc.filter(p=>Vw(p,d)&&!t.includes(p));if(f.length>0){const p=Math.floor(Math.random()*f.length);t.push(f[p]),s.add(u)}else s.add(u)}else{const u=lc.filter(f=>!t.includes(f));if(u.length===0)break;const d=Math.floor(Math.random()*u.length);t.push(u[d])}}return tg(t)},$B=(e,t=10)=>{if(!e||e.length===0)return eg(t);const s=lc.filter(u=>{const d=cc(u);return e.some(f=>d.some(p=>p.includes(f)||f.includes(p)))});if(s.length===0)return console.warn("No stretches found for specified muscles, using full body selection"),eg(t);if(s.length<=t)return tg(s);const i=[],l=new Set;for(const u of e){if(i.length>=t)break;const d=s.filter(f=>i.includes(f)?!1:cc(f).some(g=>g.includes(u)||u.includes(g)));if(d.length>0){const f=Math.floor(Math.random()*d.length);i.push(d[f]),cc(d[f]).forEach(p=>l.add(p))}}for(;i.length<t;){const u=s.filter(f=>!i.includes(f));if(u.length===0)break;const d=Math.floor(Math.random()*u.length);i.push(u[d])}return tg(i)},tg=e=>{const t=[...e];for(let s=t.length-1;s>0;s--){const i=Math.floor(Math.random()*(s+1));[t[s],t[i]]=[t[i],t[s]]}return t},QB=()=>{const e=new Set;return lc.forEach(t=>{cc(t).forEach(s=>e.add(s))}),Array.from(e).sort()},KB=()=>{const[e,t]=x.useState({flowLength:10,coolDownLength:5,poseSuggestionFrequency:1}),[s,i]=x.useState(!0),l="goodlift_yoga_config";return x.useEffect(()=>{(async()=>{try{if(tt()){const g=Bn("yoga_config");g&&t(g),i(!1);return}const f=wc();if(f)try{const g=fa(pa,"users",f,"yoga","config"),y=await xg(g);if(y.exists()){const v=y.data();t(v),localStorage.setItem(l,JSON.stringify(v)),i(!1);return}}catch(g){console.error("Error loading yoga config from Firebase:",g)}const p=localStorage.getItem(l);p&&t(JSON.parse(p))}catch(f){console.error("Error loading yoga config:",f)}finally{i(!1)}})()},[]),{config:e,saveConfig:async d=>{try{if(t(d),tt())kt("yoga_config",d);else{localStorage.setItem(l,JSON.stringify(d));const f=wc();if(f)try{const p=fa(pa,"users",f,"yoga","config");await Kd(p,d,{merge:!0})}catch(p){console.error("Error saving yoga config to Firebase:",p)}}}catch(f){console.error("Error saving yoga config:",f)}},loading:s}},VT=({onStartStretchSession:e,onStartYogaSession:t})=>{const[s,i]=x.useState(null),[l,u]=x.useState(null),[d,f]=x.useState([]),{config:p,saveConfig:g}=KB(),[y,v]=x.useState({flowLength:p?.flowLength||15,coolDownLength:p?.coolDownLength||5,poseSuggestionFrequency:p?.poseSuggestionFrequency||1}),b=QB(),S=()=>{i("stretch")},j=()=>{i("yoga")},D=()=>{u("full")},T=()=>{u("custom")},C=E=>{f(L=>L.includes(E)?L.filter(_=>_!==E):[...L,E])},M=()=>{l==="full"?e("full",[]):l==="custom"&&e("custom",d)},k=async()=>{await g(y),t(y)},P=()=>{l?(u(null),f([])):i(null)},N=l==="custom"&&d.length===0,W=y.poseSuggestionFrequency>y.flowLength;return a.jsx(Y,{sx:{padding:{xs:"2rem 1rem",sm:"2rem",md:"3rem"},maxWidth:"1200px",margin:"0 auto",minHeight:"calc(100vh - 60px)"},children:a.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx(R,{variant:"h3",sx:{fontFamily:"'Montserrat', sans-serif",fontWeight:800,color:"primary.main",marginBottom:"0.5rem",textAlign:"center"},children:"Mobility"}),a.jsx(R,{variant:"body1",sx:{color:"text.secondary",marginBottom:"2rem",textAlign:"center"},children:"Choose your mobility session to improve flexibility, recovery, and mindfulness"}),!s&&a.jsxs(Qe,{container:!0,spacing:3,sx:{marginTop:2},children:[a.jsx(Qe,{item:!0,xs:12,md:6,children:a.jsx(Pe.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:a.jsx(Le,{onClick:S,sx:{cursor:"pointer",height:"100%",transition:"all 0.3s ease","&:hover":{boxShadow:6,borderColor:"success.main"},border:"2px solid",borderColor:"divider"},children:a.jsxs(Fe,{sx:{padding:4},children:[a.jsx(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:2},children:a.jsx(Cn,{sx:{fontSize:60,color:"success.main"}})}),a.jsx(R,{variant:"h5",sx:{fontWeight:700,textAlign:"center",marginBottom:2,color:"success.main"},children:"Stretching"}),a.jsx(R,{variant:"body2",sx:{textAlign:"center",marginBottom:2,color:"text.secondary"},children:"Improve flexibility and recovery with guided stretches for all major muscle groups"}),a.jsxs(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1,marginTop:2},children:[a.jsx(od,{sx:{color:"success.main"}}),a.jsx(R,{variant:"h6",sx:{fontWeight:600,color:"success.main"},children:"~10 minutes"})]})]})})})}),a.jsx(Qe,{item:!0,xs:12,md:6,children:a.jsx(Pe.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:a.jsx(Le,{onClick:j,sx:{cursor:"pointer",height:"100%",transition:"all 0.3s ease","&:hover":{boxShadow:6,borderColor:"#9c27b0"},border:"2px solid",borderColor:"divider"},children:a.jsxs(Fe,{sx:{padding:4},children:[a.jsx(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:2},children:a.jsx(or,{sx:{fontSize:60,color:"#9c27b0"}})}),a.jsx(R,{variant:"h5",sx:{fontWeight:700,textAlign:"center",marginBottom:2,color:"#9c27b0"},children:"Yoga"}),a.jsx(R,{variant:"body2",sx:{textAlign:"center",marginBottom:2,color:"text.secondary"},children:"Flow through guided yoga poses with optional cool-down for mindfulness and flexibility"}),a.jsxs(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1,marginTop:2},children:[a.jsx(od,{sx:{color:"#9c27b0"}}),a.jsx(R,{variant:"h6",sx:{fontWeight:600,color:"#9c27b0"},children:"15-30 minutes"})]})]})})})})]}),s==="stretch"&&!l&&a.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:a.jsxs(Qe,{container:!0,spacing:3,sx:{marginTop:2},children:[a.jsx(Qe,{item:!0,xs:12,md:6,children:a.jsx(Pe.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:a.jsx(Le,{onClick:D,sx:{cursor:"pointer",height:"100%",transition:"all 0.3s ease","&:hover":{boxShadow:6,borderColor:"primary.main"},border:"2px solid",borderColor:"divider"},children:a.jsxs(Fe,{sx:{padding:4},children:[a.jsx(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:2},children:a.jsx(Cn,{sx:{fontSize:60,color:"primary.main"}})}),a.jsx(R,{variant:"h5",sx:{fontWeight:700,textAlign:"center",marginBottom:2,color:"primary.main"},children:"Full Body Stretch"}),a.jsx(R,{variant:"body2",sx:{textAlign:"center",marginBottom:2,color:"text.secondary"},children:"A balanced routine covering all major muscle groups for complete flexibility and recovery."}),a.jsxs(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1,marginTop:2},children:[a.jsx(od,{sx:{color:"secondary.main"}}),a.jsx(R,{variant:"h6",sx:{fontWeight:600,color:"secondary.main"},children:"~10 minutes"})]})]})})})}),a.jsx(Qe,{item:!0,xs:12,md:6,children:a.jsx(Pe.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:a.jsx(Le,{onClick:T,sx:{cursor:"pointer",height:"100%",transition:"all 0.3s ease","&:hover":{boxShadow:6,borderColor:"secondary.main"},border:"2px solid",borderColor:"divider"},children:a.jsxs(Fe,{sx:{padding:4},children:[a.jsx(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:2},children:a.jsx(Cn,{sx:{fontSize:60,color:"secondary.main"}})}),a.jsx(R,{variant:"h5",sx:{fontWeight:700,textAlign:"center",marginBottom:2,color:"secondary.main"},children:"Custom Stretch"}),a.jsx(R,{variant:"body2",sx:{textAlign:"center",marginBottom:2,color:"text.secondary"},children:"Choose specific muscle groups to focus on areas that need attention or recovery."}),a.jsxs(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1,marginTop:2},children:[a.jsx(od,{sx:{color:"secondary.main"}}),a.jsx(R,{variant:"h6",sx:{fontWeight:600,color:"secondary.main"},children:"~10 minutes"})]})]})})})})]})}),s==="stretch"&&l==="custom"&&a.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:a.jsx(Le,{sx:{marginTop:3},children:a.jsxs(Fe,{sx:{padding:3},children:[a.jsx(R,{variant:"h5",sx:{fontWeight:700,marginBottom:2,color:"primary.main"},children:"Select Muscle Groups"}),a.jsx(R,{variant:"body2",sx:{marginBottom:3,color:"text.secondary"},children:"Choose the areas you want to focus on during your stretch session."}),a.jsx(Dk,{children:a.jsx(Qe,{container:!0,spacing:1,children:b.map(E=>a.jsx(Qe,{item:!0,xs:6,sm:4,md:3,children:a.jsx(Nn,{control:a.jsx(mg,{checked:d.includes(E),onChange:()=>C(E),sx:{color:"primary.main","&.Mui-checked":{color:"primary.main"}}}),label:E,sx:{marginBottom:.5}})},E))})}),d.length>0&&a.jsxs(Y,{sx:{marginTop:3},children:[a.jsxs(R,{variant:"subtitle2",sx:{marginBottom:1,fontWeight:600},children:["Selected (",d.length,"):"]}),a.jsx(Y,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:d.map(E=>a.jsx(qe,{label:E,onDelete:()=>C(E),color:"primary"},E))})]})]})})}),s==="stretch"&&l==="full"&&a.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:a.jsx(Le,{sx:{marginTop:3},children:a.jsxs(Fe,{sx:{padding:4,textAlign:"center"},children:[a.jsx(Cn,{sx:{fontSize:80,color:"primary.main",marginBottom:2}}),a.jsx(R,{variant:"h5",sx:{fontWeight:700,marginBottom:2,color:"primary.main"},children:"Full Body Stretch Session"}),a.jsx(R,{variant:"body1",sx:{marginBottom:1},children:"10 carefully selected stretches"}),a.jsx(R,{variant:"body1",sx:{marginBottom:1},children:"All major muscle groups covered"}),a.jsx(R,{variant:"body1",sx:{marginBottom:2},children:"1 minute per stretch"}),a.jsx(R,{variant:"h6",sx:{marginTop:2,fontWeight:600,color:"secondary.main"},children:"Total Duration: ~10 minutes"})]})})}),s==="yoga"&&a.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:a.jsx(Le,{sx:{marginTop:3,maxWidth:"800px",margin:"1.5rem auto 0"},children:a.jsxs(Fe,{sx:{padding:3},children:[a.jsx(R,{variant:"h5",sx:{fontWeight:700,marginBottom:3,color:"primary.main",textAlign:"center"},children:"Configure Your Yoga Session"}),a.jsxs(Qe,{container:!0,spacing:3,sx:{mb:3},children:[a.jsx(Qe,{item:!0,xs:12,sm:4,children:a.jsxs(ht,{fullWidth:!0,variant:"outlined",children:[a.jsx(vt,{id:"flow-duration-label",sx:{fontWeight:600,color:"primary.main"},children:"Flow Duration"}),a.jsxs(St,{labelId:"flow-duration-label",id:"flow-duration",value:y.flowLength,onChange:E=>v({...y,flowLength:E.target.value}),label:"Flow Duration",children:[a.jsx(Se,{value:10,children:"10 minutes"}),a.jsx(Se,{value:15,children:"15 minutes"}),a.jsx(Se,{value:20,children:"20 minutes"})]}),a.jsx(jd,{children:"Length of active flow"})]})}),a.jsx(Qe,{item:!0,xs:12,sm:4,children:a.jsxs(ht,{fullWidth:!0,variant:"outlined",children:[a.jsx(vt,{id:"cooldown-duration-label",sx:{fontWeight:600,color:"primary.main"},children:"Cool Down"}),a.jsxs(St,{labelId:"cooldown-duration-label",id:"cooldown-duration",value:y.coolDownLength,onChange:E=>v({...y,coolDownLength:E.target.value}),label:"Cool Down",children:[a.jsx(Se,{value:0,children:"No cool down"}),a.jsx(Se,{value:5,children:"5 minutes"}),a.jsx(Se,{value:10,children:"10 minutes"})]}),a.jsx(jd,{children:"Post-flow relaxation"})]})}),a.jsx(Qe,{item:!0,xs:12,sm:4,children:a.jsxs(ht,{fullWidth:!0,variant:"outlined",error:W,children:[a.jsx(vt,{id:"pose-interval-label",sx:{fontWeight:600,color:W?"error.main":"primary.main"},children:"Pose Interval"}),a.jsxs(St,{labelId:"pose-interval-label",id:"pose-interval",value:y.poseSuggestionFrequency,onChange:E=>v({...y,poseSuggestionFrequency:E.target.value}),label:"Pose Interval",children:[a.jsx(Se,{value:1,children:"Every 1 min"}),a.jsx(Se,{value:2,children:"Every 2 min"}),a.jsx(Se,{value:3,children:"Every 3 min"}),a.jsx(Se,{value:4,children:"Every 4 min"}),a.jsx(Se,{value:5,children:"Every 5 min"})]}),a.jsx(jd,{children:W?"Pose suggestion interval cannot be greater than flow duration":"Suggestion frequency"})]})})]}),a.jsxs(Y,{sx:{p:2,bgcolor:E=>`${E.palette.primary.main}1A`,borderRadius:2,border:E=>`1px solid ${E.palette.primary.main}33`,mb:2},children:[a.jsx(R,{variant:"body2",sx:{fontWeight:600,mb:1,color:"primary.main"},children:"Session Preview"}),a.jsxs(Me,{spacing:.5,children:[a.jsxs(R,{variant:"body2",color:"text.secondary",children:[a.jsx("strong",{children:"Flow:"})," ",y.flowLength," min"]}),a.jsxs(R,{variant:"body2",color:"text.secondary",children:[a.jsx("strong",{children:"Cool Down:"})," ",y.coolDownLength===0?"None":`${y.coolDownLength} min`]}),a.jsxs(R,{variant:"body2",color:"text.secondary",children:[a.jsx("strong",{children:"Total Duration:"})," ",y.flowLength+y.coolDownLength," min"]}),a.jsxs(R,{variant:"body2",color:"text.secondary",children:[a.jsx("strong",{children:"Pose Suggestions:"})," Every ",y.poseSuggestionFrequency," min during flow"]})]})]})]})})}),(l||s==="yoga")&&a.jsxs(Y,{sx:{marginTop:4,display:"flex",gap:2,justifyContent:"center",flexWrap:"wrap"},children:[a.jsx(ve,{variant:"outlined",size:"large",onClick:P,sx:{minWidth:"150px",padding:"12px 32px",fontSize:"1.1rem"},children:"Back"}),a.jsx(ve,{variant:"contained",size:"large",onClick:s==="yoga"?k:M,disabled:s==="stretch"?N:W,startIcon:a.jsx(Hn,{}),sx:{minWidth:"200px",padding:"12px 32px",fontSize:"1.1rem",fontWeight:600},children:"Start Session"})]}),s&&!l&&s!=="yoga"&&a.jsx(Y,{sx:{marginTop:4,display:"flex",justifyContent:"center"},children:a.jsx(ve,{variant:"outlined",size:"large",onClick:P,sx:{minWidth:"150px",padding:"12px 32px",fontSize:"1.1rem"},children:"Back"})})]})})};VT.propTypes={onStartStretchSession:H.func.isRequired,onStartYogaSession:H.func.isRequired};class XB{constructor(){this.isSupported="speechSynthesis"in window,this.isEnabled=this.loadTTSPreference(),this.currentUtterance=null}isTTSSupported(){return this.isSupported}loadTTSPreference(){try{const t=localStorage.getItem("ttsEnabled");return t===null?!0:t==="true"}catch{return!0}}saveTTSPreference(){try{localStorage.setItem("ttsEnabled",this.isEnabled.toString())}catch(t){console.warn("Could not save TTS preference",t)}}toggleTTS(){return this.isEnabled=!this.isEnabled,this.saveTTSPreference(),!this.isEnabled&&this.isSupported&&window.speechSynthesis.cancel(),this.isEnabled}setEnabled(t){this.isEnabled=t,this.saveTTSPreference(),!t&&this.isSupported&&window.speechSynthesis.cancel()}isEnabledState(){return this.isEnabled}speak(t,s={}){return new Promise((i,l)=>{if(!this.isSupported){console.warn("Speech Synthesis not supported in this browser"),l(new Error("Speech Synthesis not supported"));return}if(!this.isEnabled){i();return}window.speechSynthesis.cancel();const u=new SpeechSynthesisUtterance(t);u.rate=s.rate||1,u.pitch=s.pitch||1,u.volume=s.volume||1,u.lang=s.lang||"en-US";const d=window.speechSynthesis.getVoices();if(d.length>0){let f=d.find(p=>p.lang.startsWith("en")&&(p.name.toLowerCase().includes("female")||p.name.toLowerCase().includes("natural")||p.name.toLowerCase().includes("premium")||p.name.toLowerCase().includes("neural")));f||(f=d.find(p=>p.lang.startsWith("en")&&p.localService===!1)),f||(f=d.find(p=>p.lang.startsWith("en"))),f&&(u.voice=f)}u.onend=()=>{this.currentUtterance=null,i()},u.onerror=f=>{console.error("Speech synthesis error:",f),this.currentUtterance=null,l(f)},this.currentUtterance=u,window.speechSynthesis.speak(u)})}async announceExercise(t){try{await this.speak(t,{rate:.85,pitch:.95})}catch(s){console.warn("Could not announce exercise:",s)}}async announceMessage(t){try{await this.speak(t,{rate:1})}catch(s){console.warn("Could not announce message:",s)}}stop(){this.isSupported&&(window.speechSynthesis.cancel(),this.currentUtterance=null)}pause(){this.isSupported&&window.speechSynthesis.speaking&&window.speechSynthesis.pause()}resume(){this.isSupported&&window.speechSynthesis.paused&&window.speechSynthesis.resume()}isSpeaking(){return this.isSupported&&window.speechSynthesis.speaking}}const Ul=new XB,YT=({stretches:e,onComplete:t,onExit:s})=>{const[i,l]=x.useState(0),[u,d]=x.useState(60),[f,p]=x.useState(!1),[g,y]=x.useState(Ul.isEnabledState()),v=x.useRef(null),b=x.useRef(!1),S=e[i],j=(60-u)/60*100,D=(i*60+(60-u))/(e.length*60)*100;x.useEffect(()=>(Un.requestWakeLock(),()=>{Un.releaseWakeLock(),Ul.stop()}),[]),x.useEffect(()=>{!b.current&&g&&(Ul.announceExercise(S.name),b.current=!0)},[i,S.name,g]),x.useEffect(()=>(f?v.current&&clearInterval(v.current):v.current=setInterval(()=>{d(W=>W<=1?i<e.length-1?(l(E=>E+1),b.current=!1,Ct.playTransitionBeep(),60):(clearInterval(v.current),Ct.playCompletionFanfare(),setTimeout(()=>{t()},500),0):W-1)},1e3),()=>{v.current&&clearInterval(v.current)}),[f,i,e.length,t]);const T=()=>{p(W=>!W)},C=x.useCallback(()=>{i<e.length-1&&(l(W=>W+1),d(60),b.current=!1,Ct.playTransitionBeep())},[i,e.length]),M=x.useCallback(()=>{i>0&&(l(W=>W-1),d(60),b.current=!1,Ct.playTransitionBeep())},[i]),k=()=>{const W=Ul.toggleTTS();y(W)},P=()=>{v.current&&clearInterval(v.current),Ul.stop(),s()},N=W=>{const E=Math.floor(W/60),L=W%60;return`${E}:${L.toString().padStart(2,"0")}`};return a.jsxs(Y,{sx:{padding:{xs:"0.5rem",sm:"1rem",md:"2rem"},maxWidth:"900px",margin:"0 auto",minHeight:"calc(100vh - 60px)",width:"100%",boxSizing:"border-box"},children:[a.jsxs(Y,{sx:{marginBottom:3},children:[a.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between",marginBottom:1},children:[a.jsxs(R,{variant:"body2",sx:{fontWeight:600},children:["Stretch ",i+1," of ",e.length]}),a.jsxs(R,{variant:"body2",sx:{fontWeight:600},children:[Math.round(D),"% Complete"]})]}),a.jsx(Rr,{variant:"determinate",value:D,sx:{height:8,borderRadius:4,backgroundColor:"rgba(19, 70, 134, 0.1)","& .MuiLinearProgress-bar":{backgroundColor:"primary.main"}}})]}),a.jsx(xc,{mode:"wait",children:a.jsx(Pe.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},children:a.jsx(Le,{sx:{background:"linear-gradient(135deg, rgba(19, 70, 134, 0.05) 0%, rgba(237, 63, 39, 0.05) 100%)",boxShadow:4},children:a.jsxs(Fe,{sx:{padding:{xs:2,sm:3},width:"100%",boxSizing:"border-box"},children:[a.jsx(R,{variant:"h4",sx:{fontFamily:"'Montserrat', sans-serif",fontWeight:800,color:"primary.main",marginBottom:{xs:1,sm:2},textAlign:"center",fontSize:{xs:"1.5rem",sm:"2rem"}},children:S.name}),a.jsxs(Y,{sx:{marginBottom:{xs:2,sm:3},textAlign:"center"},children:[a.jsx(R,{variant:"h1",sx:{fontFamily:"'Montserrat', sans-serif",fontWeight:800,color:f?"grey.500":"secondary.main",fontSize:{xs:"3rem",sm:"4rem",md:"5rem"},marginBottom:1,lineHeight:1},children:N(u)}),a.jsx(Rr,{variant:"determinate",value:j,sx:{height:{xs:8,sm:12},borderRadius:6,backgroundColor:"rgba(237, 63, 39, 0.1)","& .MuiLinearProgress-bar":{backgroundColor:"secondary.main"}}})]}),a.jsxs(Y,{sx:{marginBottom:{xs:2,sm:3}},children:[a.jsx(R,{variant:"subtitle2",sx:{fontWeight:600,marginBottom:.5,color:"primary.main",fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Primary Muscles:"}),a.jsx(Y,{sx:{display:"flex",flexWrap:"wrap",gap:.5,marginBottom:{xs:1,sm:2}},children:S.primaryMuscles.split(",").map((W,E)=>a.jsx(qe,{label:W.trim(),color:"primary",size:"medium"},E))}),S.secondaryMuscles&&a.jsxs(a.Fragment,{children:[a.jsx(R,{variant:"subtitle2",sx:{fontWeight:600,marginBottom:.5,color:"text.secondary",fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Secondary Muscles:"}),a.jsx(Y,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:S.secondaryMuscles.split(",").map((W,E)=>{const L=W.trim();return L?a.jsx(qe,{label:L,variant:"outlined",size:"small"},E):null})})]})]}),S.youtubeLink&&a.jsx(ve,{variant:"outlined",startIcon:a.jsx(Ek,{}),onClick:()=>window.open(S.youtubeLink,"_blank"),fullWidth:!0,sx:{marginBottom:{xs:2,sm:3},fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Watch Demonstration"}),a.jsxs(Y,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:{xs:1,sm:2},marginBottom:{xs:1,sm:2},flexWrap:"wrap"},children:[a.jsx(ss,{title:"Previous stretch",children:a.jsx("span",{children:a.jsx(rt,{onClick:M,disabled:i===0,sx:{backgroundColor:"primary.main",color:"white","&:hover":{backgroundColor:"primary.dark"},"&:disabled":{backgroundColor:"grey.300",color:"grey.500"}},children:a.jsx(gg,{})})})}),a.jsx(ss,{title:f?"Resume":"Pause",children:a.jsx(rt,{onClick:T,sx:{backgroundColor:"secondary.main",color:"white",width:{xs:56,sm:64},height:{xs:56,sm:64},"&:hover":{backgroundColor:"secondary.dark"}},children:f?a.jsx(Hn,{sx:{fontSize:{xs:32,sm:40}}}):a.jsx(zo,{sx:{fontSize:{xs:32,sm:40}}})})}),a.jsx(ss,{title:"Next stretch",children:a.jsx("span",{children:a.jsx(rt,{onClick:C,disabled:i===e.length-1,sx:{backgroundColor:"primary.main",color:"white","&:hover":{backgroundColor:"primary.dark"},"&:disabled":{backgroundColor:"grey.300",color:"grey.500"}},children:a.jsx(Ic,{})})})})]}),a.jsxs(Y,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:2},children:[a.jsx(ss,{title:g?"Voice announcements on":"Voice announcements off",children:a.jsx(rt,{onClick:k,color:g?"primary":"default",children:g?a.jsx(hg,{}):a.jsx(Y1,{})})}),a.jsx(ve,{variant:"outlined",color:"error",startIcon:a.jsx(Bc,{}),onClick:P,sx:{minWidth:"120px"},children:"End Session"})]})]})})},i)})]})};YT.propTypes={stretches:H.arrayOf(H.shape({name:H.string.isRequired,primaryMuscles:H.string.isRequired,secondaryMuscles:H.string,youtubeLink:H.string})).isRequired,onComplete:H.func.isRequired,onExit:H.func.isRequired};const ZB=()=>{const e=Sy();return IB({mutationFn:async t=>{const{date:s,flow:i,cooldown:l,interval:u,poseCount:d,duration:f,cooldownDisabled:p=l===0}=t,g={id:`yoga_${Date.now()}_${Math.random().toString(36).substring(2,11)}`,date:s||new Date().toISOString(),flowLength:i,coolDownLength:l,poseSuggestionFrequency:u,poseCount:d||0,duration:f||(i+l)*60,cooldownDisabled:p,timestamp:Date.now()};if(tt()){const y=Bn("yoga_sessions")||[];y.unshift(g),kt("yoga_sessions",y)}else{const y="goodlift_yoga_sessions",v=JSON.parse(localStorage.getItem(y)||"[]");v.unshift(g),localStorage.setItem(y,JSON.stringify(v));const b=wc();if(b)try{const S=fa(pa,"users",b,"yoga_sessions",g.id);await Kd(S,g)}catch(S){console.error("Error saving yoga session to Firestore:",S)}}return g},onSuccess:t=>{e.invalidateQueries({queryKey:["yogaSessions"]}),e.setQueryData(["yogaSessions"],s=>s?[t,...s]:[t])},onError:t=>{console.error("Error saving yoga session:",t)}})},UT=({config:e,onComplete:t,onExit:s})=>{const[i,l]=x.useState("countdown"),[u,d]=x.useState(15),[f,p]=x.useState(!1),[g,y]=x.useState("Sun Salutations"),[v,b]=x.useState(0),[S,j]=x.useState(null),D=x.useRef(null),T=x.useRef(0),C=ZB(),{data:M=[],isLoading:k}=uf({queryKey:["yogaPoses"],queryFn:async()=>{const U=await fetch("/goodlift/data/yoga-poses.json");if(!U.ok)throw new Error("Failed to load yoga poses");return U.json()},staleTime:1/0});x.useEffect(()=>(Un.requestWakeLock(),()=>Un.releaseWakeLock()),[]);const P=x.useCallback(U=>{if(e.ttsEnabled&&"speechSynthesis"in window){window.speechSynthesis.cancel();const z=new SpeechSynthesisUtterance(U);z.rate=.9,z.pitch=1,z.volume=1,window.speechSynthesis.speak(z)}},[e.ttsEnabled]),N=x.useCallback(U=>{const z=M.filter(F=>F.Type===U);return z.length===0?null:z[Math.floor(Math.random()*z.length)]},[M]),W=x.useCallback(U=>{const z=N(U);z&&(y(z.Name),b(F=>F+1),P(z.Name),Ct.playHighBeep())},[N,P]),E=x.useCallback(async()=>{try{const U=Date.now(),z=Math.floor((U-S)/1e3);await C.mutateAsync({date:new Date().toISOString(),flow:e.flowLength,cooldown:e.coolDownLength,interval:e.poseSuggestionFrequency,poseCount:v,duration:z||(e.flowLength+e.coolDownLength)*60,cooldownDisabled:e.coolDownLength===0}),Ct.playCompletionFanfare(),P("Great work! Your yoga session is complete. Namaste.")}catch(U){console.error("Error saving yoga session:",U)}},[S,e.flowLength,e.coolDownLength,e.poseSuggestionFrequency,v,P,C]);x.useEffect(()=>(!f&&!k?D.current=setInterval(()=>{d(U=>{if(U<=1)return clearInterval(D.current),i==="countdown"?(l("flow"),j(Date.now()),T.current=e.poseSuggestionFrequency*60,P("Begin your practice with Sun Salutations"),Ct.playHighBeep(),e.flowLength*60):i==="flow"?e.coolDownLength===0?(l("complete"),E(),0):(l("cooldown"),y("Cool Down"),T.current=60,P("Begin cool down"),W("Cool Down Pose"),Ct.playLowBeep(),e.coolDownLength*60):(i==="cooldown"&&(l("complete"),E()),0);const z=U-1;return i==="flow"&&z===T.current?(W("Flow Pose"),T.current-=e.poseSuggestionFrequency*60):i==="cooldown"&&z%60===0&&z>0&&W("Cool Down Pose"),z})},1e3):D.current&&clearInterval(D.current),()=>{D.current&&clearInterval(D.current)}),[f,i,k,e,P,W,E]);const L=()=>{p(U=>!U)},_=()=>{window.confirm("Are you sure you want to end this yoga session?")&&(D.current&&clearInterval(D.current),s())},B=()=>{t()},V=U=>{const z=Math.floor(U/60),F=U%60;return`${z}:${F.toString().padStart(2,"0")}`},A=()=>i==="countdown"?(15-u)/15*100:i==="flow"?(e.flowLength*60-u)/(e.flowLength*60)*100:i==="cooldown"?(e.coolDownLength*60-u)/(e.coolDownLength*60)*100:100,q=()=>i==="countdown"?"Get Ready":i==="flow"?"Flow Phase":i==="cooldown"?"Cool Down":"Complete";return k?a.jsx(Y,{sx:{p:4,textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:a.jsx("img",{src:"/goodlift/dancing-icon.svg",alt:"Loading yoga session...",style:{width:"150px",height:"150px"}})}):i==="complete"?a.jsx(Y,{sx:{padding:{xs:"2rem 1rem",sm:"2rem",md:"3rem"},maxWidth:"700px",margin:"0 auto",minHeight:"calc(100vh - 60px)",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(Pe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},style:{width:"100%"},children:a.jsx(Le,{sx:{background:"linear-gradient(135deg, rgba(156, 39, 176, 0.05) 0%, rgba(19, 70, 134, 0.05) 100%)",boxShadow:6},children:a.jsxs(Fe,{sx:{padding:{xs:3,sm:5},textAlign:"center"},children:[a.jsx(R,{variant:"h2",sx:{fontFamily:"'Montserrat', sans-serif",fontWeight:800,color:"#9c27b0",marginBottom:2},children:"Namaste! "}),a.jsx(R,{variant:"h5",sx:{color:"text.secondary",marginBottom:3},children:"Your yoga session is complete"}),a.jsxs(Me,{spacing:2,sx:{mb:4},children:[a.jsxs(R,{variant:"body1",children:["Duration: ",e.flowLength+e.coolDownLength," minutes"]}),a.jsxs(R,{variant:"body1",children:["Poses practiced: ",v]})]}),a.jsx(ve,{variant:"contained",size:"large",onClick:B,sx:{minWidth:"200px",padding:"12px 32px",fontSize:"1.1rem",fontWeight:600,bgcolor:"#9c27b0","&:hover":{bgcolor:"#7b1fa2"}},children:"Done"})]})})})}):a.jsx(Y,{sx:{padding:{xs:"2rem 1rem",sm:"2rem",md:"3rem"},maxWidth:"900px",margin:"0 auto",minHeight:"calc(100vh - 60px)"},children:a.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsx(Le,{sx:{background:"linear-gradient(135deg, rgba(156, 39, 176, 0.05) 0%, rgba(19, 70, 134, 0.05) 100%)",boxShadow:4},children:a.jsxs(Fe,{sx:{padding:{xs:3,sm:4}},children:[a.jsx(Y,{sx:{textAlign:"center",mb:3},children:a.jsx(qe,{label:q(),sx:{fontSize:"1rem",fontWeight:700,bgcolor:i==="countdown"?"warning.main":i==="flow"?"#9c27b0":"success.main",color:"white",px:2,py:3}})}),a.jsxs(Y,{sx:{textAlign:"center",mb:3},children:[a.jsx(R,{variant:"h1",sx:{fontFamily:"'Montserrat', sans-serif",fontWeight:800,color:f?"grey.500":"#9c27b0",fontSize:{xs:"4rem",sm:"6rem"},mb:2},children:V(u)}),a.jsx(Rr,{variant:"determinate",value:A(),sx:{height:12,borderRadius:6,backgroundColor:"rgba(156, 39, 176, 0.1)","& .MuiLinearProgress-bar":{backgroundColor:"#9c27b0"}}})]}),a.jsxs(Y,{sx:{textAlign:"center",mb:4,p:3,bgcolor:"rgba(156, 39, 176, 0.1)",borderRadius:2,border:"1px solid rgba(156, 39, 176, 0.2)"},children:[a.jsx(R,{variant:"h6",sx:{fontWeight:600,mb:1,color:"text.secondary"},children:i==="countdown"?"Prepare to begin":"Current Focus"}),a.jsx(R,{variant:"h4",sx:{fontFamily:"'Montserrat', sans-serif",fontWeight:700,color:"#9c27b0"},children:g})]}),a.jsxs(Me,{direction:"row",spacing:2,justifyContent:"center",sx:{mb:2},children:[a.jsx(ss,{title:f?"Resume":"Pause",children:a.jsx(rt,{onClick:L,disabled:i==="countdown",sx:{backgroundColor:"#9c27b0",color:"white",width:64,height:64,"&:hover":{backgroundColor:"#7b1fa2"},"&:disabled":{backgroundColor:"grey.400"}},children:f?a.jsx(Hn,{sx:{fontSize:40}}):a.jsx(zo,{sx:{fontSize:40}})})}),a.jsx(ss,{title:"End session",children:a.jsx(rt,{onClick:_,sx:{backgroundColor:"error.main",color:"white",width:56,height:56,"&:hover":{backgroundColor:"error.dark"}},children:a.jsx(Bc,{})})})]}),a.jsxs(Me,{spacing:1,sx:{textAlign:"center"},children:[a.jsxs(R,{variant:"body2",color:"text.secondary",children:["Poses suggested: ",v]}),i!=="countdown"&&a.jsxs(R,{variant:"body2",color:"text.secondary",children:[i==="flow"?"Flow":"Cool Down",": ",V(u)," remaining"]})]})]})})})})};UT.propTypes={config:H.shape({flowLength:H.number.isRequired,coolDownLength:H.number.isRequired,poseSuggestionFrequency:H.number.isRequired,ttsEnabled:H.bool.isRequired}).isRequired,onComplete:H.func.isRequired,onExit:H.func.isRequired};const JB=()=>{const[e,t]=x.useState(!1),[s,i]=x.useState(!0),l="goodlift_yoga_tts_enabled";return x.useEffect(()=>{(async()=>{try{if(tt()){const g=Bn("yoga_tts_enabled");g!=null&&t(g),i(!1);return}const f=wc();if(f)try{const g=fa(pa,"users",f,"yoga","preferences"),y=await xg(g);if(y.exists()){const v=y.data();if(v.ttsEnabled!==void 0){t(v.ttsEnabled),localStorage.setItem(l,JSON.stringify(v.ttsEnabled)),i(!1);return}}}catch(g){console.error("Error loading yoga TTS preference from Firebase:",g)}const p=localStorage.getItem(l);p!==null&&t(JSON.parse(p))}catch(f){console.error("Error loading yoga TTS preference:",f)}finally{i(!1)}})()},[]),{ttsEnabled:e,setTtsEnabled:async d=>{try{if(t(d),tt())kt("yoga_tts_enabled",d);else{localStorage.setItem(l,JSON.stringify(d));const f=wc();if(f)try{const p=fa(pa,"users",f,"yoga","preferences");await Kd(p,{ttsEnabled:d},{merge:!0})}catch(p){console.error("Error saving yoga TTS preference to Firebase:",p)}}}catch(f){console.error("Error saving yoga TTS preference:",f)}},loading:s}},eL=()=>{const[e,t]=x.useState("selection"),[s,i]=x.useState([]),[l,u]=x.useState(""),[d,f]=x.useState(null),[p,g]=x.useState(null),{ttsEnabled:y}=JB(),v=(C,M)=>{let k;C==="full"?k=eg(10):k=$B(M,10),i(k),u(C),t("stretch-session")},b=C=>{const M={...C,ttsEnabled:y};f(M),t("yoga-session")},S=async()=>{try{const C={id:`stretch_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,date:new Date().toISOString(),type:l,stretchesCompleted:s.length,stretches:s.map(M=>M.name),duration:s.length*60};await b3(C)}catch(C){console.error("Failed to save stretch session:",C)}g("stretch"),t("complete")},j=async C=>{try{await oy(C)}catch(M){console.error("Failed to save yoga session:",M)}g("yoga"),t("complete")},D=()=>{t("selection"),i([]),f(null)},T=()=>{t("selection"),i([]),f(null),g(null)};return a.jsxs(a.Fragment,{children:[e==="selection"&&a.jsx(VT,{onStartStretchSession:v,onStartYogaSession:b}),e==="stretch-session"&&s.length>0&&a.jsx(YT,{stretches:s,onComplete:S,onExit:D}),e==="yoga-session"&&d&&a.jsx(UT,{config:d,onComplete:j,onExit:D}),e==="complete"&&a.jsx(Y,{sx:{padding:{xs:"2rem 1rem",sm:"2rem",md:"3rem"},maxWidth:"700px",margin:"0 auto",minHeight:"calc(100vh - 60px)",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(Pe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},style:{width:"100%"},children:a.jsx(Le,{sx:{background:p==="stretch"?"linear-gradient(135deg, rgba(19, 70, 134, 0.05) 0%, rgba(76, 175, 80, 0.05) 100%)":"linear-gradient(135deg, rgba(19, 70, 134, 0.05) 0%, rgba(156, 39, 176, 0.05) 100%)",boxShadow:6},children:a.jsxs(Fe,{sx:{padding:{xs:3,sm:5},textAlign:"center"},children:[a.jsx(Pe.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},children:a.jsx(qs,{sx:{fontSize:100,color:p==="stretch"?"success.main":"#9c27b0",marginBottom:2}})}),a.jsx(R,{variant:"h3",sx:{fontFamily:"'Montserrat', sans-serif",fontWeight:800,color:"primary.main",marginBottom:2},children:"Session Complete!"}),a.jsx(R,{variant:"h6",sx:{color:"text.secondary",marginBottom:3},children:p==="stretch"?"Great job! You've completed your stretch session.":"Namaste! You've completed your yoga session."}),p==="stretch"&&a.jsxs(a.Fragment,{children:[a.jsxs(R,{variant:"body1",sx:{marginBottom:1},children:[s.length," stretches completed"]}),a.jsxs(R,{variant:"body1",sx:{marginBottom:4},children:["~",s.length," minutes of stretching"]})]}),p==="yoga"&&d&&a.jsxs(a.Fragment,{children:[a.jsxs(R,{variant:"body1",sx:{marginBottom:1},children:[d.flowLength," minute flow"]}),d.coolDownLength>0&&a.jsxs(R,{variant:"body1",sx:{marginBottom:1},children:[d.coolDownLength," minute cool down"]}),a.jsxs(R,{variant:"body1",sx:{marginBottom:4},children:["Total: ",d.flowLength+d.coolDownLength," minutes"]})]}),a.jsx(ve,{variant:"contained",size:"large",onClick:T,sx:{minWidth:"200px",padding:"12px 32px",fontSize:"1.1rem",fontWeight:600},children:"Done"})]})})})})]})},qT=({onNavigate:e})=>{const t=()=>{e&&e("hiit")},s=()=>{e&&e("hiit-selection")},i=()=>{e&&e("yoga-selection")},l=()=>{e&&e("log-cardio")};return a.jsxs(Y,{sx:{width:"100%",minHeight:"100vh"},children:[a.jsx(ur,{title:"Cardio & Conditioning",icon:""}),a.jsx(Pe.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{maxWidth:"900px",margin:"0 auto",padding:"1rem"},children:a.jsxs(Qe,{container:!0,spacing:3,children:[a.jsx(Qe,{item:!0,xs:12,md:6,children:a.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsx(Le,{sx:{borderRadius:3,height:"100%",transition:"all 0.3s ease",cursor:"pointer","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 24px rgba(237, 63, 39, 0.2)"}},onClick:s,children:a.jsxs(Fe,{sx:{p:3,height:"100%",display:"flex",flexDirection:"column"},children:[a.jsxs(Me,{direction:"row",spacing:2,alignItems:"center",sx:{mb:2},children:[a.jsx(Y,{sx:{p:2,borderRadius:2,bgcolor:"rgba(237, 63, 39, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(da,{sx:{fontSize:40,color:"secondary.main"}})}),a.jsxs(Y,{sx:{flex:1},children:[a.jsx(R,{variant:"h5",sx:{fontWeight:700,mb:.5},children:"HIIT Sessions"}),a.jsx(R,{variant:"body2",color:"text.secondary",children:"Generate science-backed HIIT workouts"})]})]}),a.jsx(R,{variant:"body2",color:"text.secondary",sx:{mb:2,flex:1},children:"Bodyweight, plyometric, cycling, rowing, elliptical, and step platform protocols from .github/HIIT-YOGA-GUIDE.md"}),a.jsx(ve,{variant:"contained",fullWidth:!0,sx:{bgcolor:"secondary.main","&:hover":{bgcolor:"secondary.dark"},py:1.5,fontWeight:600},onClick:s,children:"Build HIIT Session"})]})})})}),a.jsx(Qe,{item:!0,xs:12,md:6,children:a.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},children:a.jsx(Le,{sx:{borderRadius:3,height:"100%",transition:"all 0.3s ease",cursor:"pointer","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 24px rgba(19, 70, 134, 0.2)"}},onClick:i,children:a.jsxs(Fe,{sx:{p:3,height:"100%",display:"flex",flexDirection:"column"},children:[a.jsxs(Me,{direction:"row",spacing:2,alignItems:"center",sx:{mb:2},children:[a.jsx(Y,{sx:{p:2,borderRadius:2,bgcolor:"rgba(19, 70, 134, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(or,{sx:{fontSize:40,color:"primary.main"}})}),a.jsxs(Y,{sx:{flex:1},children:[a.jsx(R,{variant:"h5",sx:{fontWeight:700,mb:.5},children:"Yoga Sessions"}),a.jsx(R,{variant:"body2",color:"text.secondary",children:"Generate evidence-based yoga flows"})]})]}),a.jsx(R,{variant:"body2",color:"text.secondary",sx:{mb:2,flex:1},children:"Power, restorative, yin, flexibility, and core strength yoga from .github/HIIT-YOGA-GUIDE.md"}),a.jsx(ve,{variant:"contained",fullWidth:!0,sx:{bgcolor:"primary.main","&:hover":{bgcolor:"primary.dark"},py:1.5,fontWeight:600},onClick:i,children:"Build Yoga Session"})]})})})}),a.jsx(Qe,{item:!0,xs:12,md:6,children:a.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:a.jsx(Le,{sx:{borderRadius:3,transition:"all 0.3s ease",cursor:"pointer","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 24px rgba(254, 178, 26, 0.2)"}},onClick:t,children:a.jsxs(Fe,{sx:{p:3},children:[a.jsxs(Me,{direction:"row",spacing:2,alignItems:"center",sx:{mb:2},children:[a.jsx(Y,{sx:{p:2,borderRadius:2,bgcolor:"rgba(254, 178, 26, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(ej,{sx:{fontSize:40,color:"warning.main"}})}),a.jsxs(Y,{sx:{flex:1},children:[a.jsx(R,{variant:"h5",sx:{fontWeight:700,mb:.5},children:"HIIT Timer"}),a.jsx(R,{variant:"body2",color:"text.secondary",children:"Customizable interval timer"})]})]}),a.jsx(ve,{variant:"contained",fullWidth:!0,sx:{bgcolor:"warning.main",color:"primary.main","&:hover":{bgcolor:"warning.dark"},py:1.5,fontWeight:600},onClick:t,children:"Start Timer"})]})})})}),a.jsx(Qe,{item:!0,xs:12,md:6,children:a.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},children:a.jsx(Le,{sx:{borderRadius:3,transition:"all 0.3s ease",cursor:"pointer","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 24px rgba(19, 70, 134, 0.2)"}},onClick:l,children:a.jsxs(Fe,{sx:{p:3},children:[a.jsxs(Me,{direction:"row",spacing:2,alignItems:"center",sx:{mb:2},children:[a.jsx(Y,{sx:{p:2,borderRadius:2,bgcolor:"rgba(19, 70, 134, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(Cn,{sx:{fontSize:40,color:"primary.main"}})}),a.jsxs(Y,{sx:{flex:1},children:[a.jsx(R,{variant:"h5",sx:{fontWeight:700,mb:.5},children:"Log Cardio"}),a.jsx(R,{variant:"body2",color:"text.secondary",children:"Track running, cycling, swimming"})]})]}),a.jsx(ve,{variant:"contained",fullWidth:!0,sx:{bgcolor:"primary.main","&:hover":{bgcolor:"primary.dark"},py:1.5,fontWeight:600},onClick:l,children:"Log Session"})]})})})})]})})]})};qT.propTypes={onNavigate:H.func};var tL=function(t){return nL(t)&&!sL(t)};function nL(e){return!!e&&typeof e=="object"}function sL(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||aL(e)}var rL=typeof Symbol=="function"&&Symbol.for,iL=rL?Symbol.for("react.element"):60103;function aL(e){return e.$$typeof===iL}function oL(e){return Array.isArray(e)?[]:{}}function Vd(e,t){return t.clone!==!1&&t.isMergeableObject(e)?Dc(oL(e),e,t):e}function lL(e,t,s){return e.concat(t).map(function(i){return Vd(i,s)})}function cL(e,t,s){var i={};return s.isMergeableObject(e)&&Object.keys(e).forEach(function(l){i[l]=Vd(e[l],s)}),Object.keys(t).forEach(function(l){!s.isMergeableObject(t[l])||!e[l]?i[l]=Vd(t[l],s):i[l]=Dc(e[l],t[l],s)}),i}function Dc(e,t,s){s=s||{},s.arrayMerge=s.arrayMerge||lL,s.isMergeableObject=s.isMergeableObject||tL;var i=Array.isArray(t),l=Array.isArray(e),u=i===l;return u?i?s.arrayMerge(e,t,s):cL(e,t,s):Vd(t,s)}Dc.all=function(t,s){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(i,l){return Dc(i,l,s)},{})};var ng=Dc,GT=typeof global=="object"&&global&&global.Object===Object&&global,uL=typeof self=="object"&&self&&self.Object===Object&&self,dr=GT||uL||Function("return this")(),ji=dr.Symbol,$T=Object.prototype,dL=$T.hasOwnProperty,fL=$T.toString,ql=ji?ji.toStringTag:void 0;function hL(e){var t=dL.call(e,ql),s=e[ql];try{e[ql]=void 0;var i=!0}catch{}var l=fL.call(e);return i&&(t?e[ql]=s:delete e[ql]),l}var pL=Object.prototype,mL=pL.toString;function gL(e){return mL.call(e)}var yL="[object Null]",xL="[object Undefined]",Yw=ji?ji.toStringTag:void 0;function ja(e){return e==null?e===void 0?xL:yL:Yw&&Yw in Object(e)?hL(e):gL(e)}function QT(e,t){return function(s){return e(t(s))}}var ky=QT(Object.getPrototypeOf,Object);function Ca(e){return e!=null&&typeof e=="object"}var bL="[object Object]",vL=Function.prototype,SL=Object.prototype,KT=vL.toString,wL=SL.hasOwnProperty,jL=KT.call(Object);function Uw(e){if(!Ca(e)||ja(e)!=bL)return!1;var t=ky(e);if(t===null)return!0;var s=wL.call(t,"constructor")&&t.constructor;return typeof s=="function"&&s instanceof s&&KT.call(s)==jL}function CL(){this.__data__=[],this.size=0}function XT(e,t){return e===t||e!==e&&t!==t}function df(e,t){for(var s=e.length;s--;)if(XT(e[s][0],t))return s;return-1}var TL=Array.prototype,DL=TL.splice;function EL(e){var t=this.__data__,s=df(t,e);if(s<0)return!1;var i=t.length-1;return s==i?t.pop():DL.call(t,s,1),--this.size,!0}function ML(e){var t=this.__data__,s=df(t,e);return s<0?void 0:t[s][1]}function kL(e){return df(this.__data__,e)>-1}function PL(e,t){var s=this.__data__,i=df(s,e);return i<0?(++this.size,s.push([e,t])):s[i][1]=t,this}function zr(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var i=e[t];this.set(i[0],i[1])}}zr.prototype.clear=CL;zr.prototype.delete=EL;zr.prototype.get=ML;zr.prototype.has=kL;zr.prototype.set=PL;function AL(){this.__data__=new zr,this.size=0}function OL(e){var t=this.__data__,s=t.delete(e);return this.size=t.size,s}function RL(e){return this.__data__.get(e)}function IL(e){return this.__data__.has(e)}function Vc(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var BL="[object AsyncFunction]",LL="[object Function]",NL="[object GeneratorFunction]",FL="[object Proxy]";function ZT(e){if(!Vc(e))return!1;var t=ja(e);return t==LL||t==NL||t==BL||t==FL}var om=dr["__core-js_shared__"],qw=(function(){var e=/[^.]+$/.exec(om&&om.keys&&om.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function HL(e){return!!qw&&qw in e}var _L=Function.prototype,zL=_L.toString;function Ta(e){if(e!=null){try{return zL.call(e)}catch{}try{return e+""}catch{}}return""}var WL=/[\\^$.*+?()[\]{}|]/g,VL=/^\[object .+?Constructor\]$/,YL=Function.prototype,UL=Object.prototype,qL=YL.toString,GL=UL.hasOwnProperty,$L=RegExp("^"+qL.call(GL).replace(WL,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function QL(e){if(!Vc(e)||HL(e))return!1;var t=ZT(e)?$L:VL;return t.test(Ta(e))}function KL(e,t){return e?.[t]}function Da(e,t){var s=KL(e,t);return QL(s)?s:void 0}var Ec=Da(dr,"Map"),Mc=Da(Object,"create");function XL(){this.__data__=Mc?Mc(null):{},this.size=0}function ZL(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var JL="__lodash_hash_undefined__",e6=Object.prototype,t6=e6.hasOwnProperty;function n6(e){var t=this.__data__;if(Mc){var s=t[e];return s===JL?void 0:s}return t6.call(t,e)?t[e]:void 0}var s6=Object.prototype,r6=s6.hasOwnProperty;function i6(e){var t=this.__data__;return Mc?t[e]!==void 0:r6.call(t,e)}var a6="__lodash_hash_undefined__";function o6(e,t){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=Mc&&t===void 0?a6:t,this}function xa(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var i=e[t];this.set(i[0],i[1])}}xa.prototype.clear=XL;xa.prototype.delete=ZL;xa.prototype.get=n6;xa.prototype.has=i6;xa.prototype.set=o6;function l6(){this.size=0,this.__data__={hash:new xa,map:new(Ec||zr),string:new xa}}function c6(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function ff(e,t){var s=e.__data__;return c6(t)?s[typeof t=="string"?"string":"hash"]:s.map}function u6(e){var t=ff(this,e).delete(e);return this.size-=t?1:0,t}function d6(e){return ff(this,e).get(e)}function f6(e){return ff(this,e).has(e)}function h6(e,t){var s=ff(this,e),i=s.size;return s.set(e,t),this.size+=s.size==i?0:1,this}function ki(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var i=e[t];this.set(i[0],i[1])}}ki.prototype.clear=l6;ki.prototype.delete=u6;ki.prototype.get=d6;ki.prototype.has=f6;ki.prototype.set=h6;var p6=200;function m6(e,t){var s=this.__data__;if(s instanceof zr){var i=s.__data__;if(!Ec||i.length<p6-1)return i.push([e,t]),this.size=++s.size,this;s=this.__data__=new ki(i)}return s.set(e,t),this.size=s.size,this}function Zo(e){var t=this.__data__=new zr(e);this.size=t.size}Zo.prototype.clear=AL;Zo.prototype.delete=OL;Zo.prototype.get=RL;Zo.prototype.has=IL;Zo.prototype.set=m6;function g6(e,t){for(var s=-1,i=e==null?0:e.length;++s<i&&t(e[s],s,e)!==!1;);return e}var Gw=(function(){try{var e=Da(Object,"defineProperty");return e({},"",{}),e}catch{}})();function JT(e,t,s){t=="__proto__"&&Gw?Gw(e,t,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[t]=s}var y6=Object.prototype,x6=y6.hasOwnProperty;function eD(e,t,s){var i=e[t];(!(x6.call(e,t)&&XT(i,s))||s===void 0&&!(t in e))&&JT(e,t,s)}function hf(e,t,s,i){var l=!s;s||(s={});for(var u=-1,d=t.length;++u<d;){var f=t[u],p=void 0;p===void 0&&(p=e[f]),l?JT(s,f,p):eD(s,f,p)}return s}function b6(e,t){for(var s=-1,i=Array(e);++s<e;)i[s]=t(s);return i}var v6="[object Arguments]";function $w(e){return Ca(e)&&ja(e)==v6}var tD=Object.prototype,S6=tD.hasOwnProperty,w6=tD.propertyIsEnumerable,j6=$w((function(){return arguments})())?$w:function(e){return Ca(e)&&S6.call(e,"callee")&&!w6.call(e,"callee")},Yc=Array.isArray;function C6(){return!1}var nD=typeof xs=="object"&&xs&&!xs.nodeType&&xs,Qw=nD&&typeof bs=="object"&&bs&&!bs.nodeType&&bs,T6=Qw&&Qw.exports===nD,Kw=T6?dr.Buffer:void 0,D6=Kw?Kw.isBuffer:void 0,sD=D6||C6,E6=9007199254740991,M6=/^(?:0|[1-9]\d*)$/;function k6(e,t){var s=typeof e;return t=t??E6,!!t&&(s=="number"||s!="symbol"&&M6.test(e))&&e>-1&&e%1==0&&e<t}var P6=9007199254740991;function rD(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=P6}var A6="[object Arguments]",O6="[object Array]",R6="[object Boolean]",I6="[object Date]",B6="[object Error]",L6="[object Function]",N6="[object Map]",F6="[object Number]",H6="[object Object]",_6="[object RegExp]",z6="[object Set]",W6="[object String]",V6="[object WeakMap]",Y6="[object ArrayBuffer]",U6="[object DataView]",q6="[object Float32Array]",G6="[object Float64Array]",$6="[object Int8Array]",Q6="[object Int16Array]",K6="[object Int32Array]",X6="[object Uint8Array]",Z6="[object Uint8ClampedArray]",J6="[object Uint16Array]",e5="[object Uint32Array]",Vt={};Vt[q6]=Vt[G6]=Vt[$6]=Vt[Q6]=Vt[K6]=Vt[X6]=Vt[Z6]=Vt[J6]=Vt[e5]=!0;Vt[A6]=Vt[O6]=Vt[Y6]=Vt[R6]=Vt[U6]=Vt[I6]=Vt[B6]=Vt[L6]=Vt[N6]=Vt[F6]=Vt[H6]=Vt[_6]=Vt[z6]=Vt[W6]=Vt[V6]=!1;function t5(e){return Ca(e)&&rD(e.length)&&!!Vt[ja(e)]}function Py(e){return function(t){return e(t)}}var iD=typeof xs=="object"&&xs&&!xs.nodeType&&xs,uc=iD&&typeof bs=="object"&&bs&&!bs.nodeType&&bs,n5=uc&&uc.exports===iD,lm=n5&&GT.process,Ho=(function(){try{var e=uc&&uc.require&&uc.require("util").types;return e||lm&&lm.binding&&lm.binding("util")}catch{}})(),Xw=Ho&&Ho.isTypedArray,s5=Xw?Py(Xw):t5,r5=Object.prototype,i5=r5.hasOwnProperty;function aD(e,t){var s=Yc(e),i=!s&&j6(e),l=!s&&!i&&sD(e),u=!s&&!i&&!l&&s5(e),d=s||i||l||u,f=d?b6(e.length,String):[],p=f.length;for(var g in e)(t||i5.call(e,g))&&!(d&&(g=="length"||l&&(g=="offset"||g=="parent")||u&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||k6(g,p)))&&f.push(g);return f}var a5=Object.prototype;function Ay(e){var t=e&&e.constructor,s=typeof t=="function"&&t.prototype||a5;return e===s}var o5=QT(Object.keys,Object),l5=Object.prototype,c5=l5.hasOwnProperty;function u5(e){if(!Ay(e))return o5(e);var t=[];for(var s in Object(e))c5.call(e,s)&&s!="constructor"&&t.push(s);return t}function oD(e){return e!=null&&rD(e.length)&&!ZT(e)}function Oy(e){return oD(e)?aD(e):u5(e)}function d5(e,t){return e&&hf(t,Oy(t),e)}function f5(e){var t=[];if(e!=null)for(var s in Object(e))t.push(s);return t}var h5=Object.prototype,p5=h5.hasOwnProperty;function m5(e){if(!Vc(e))return f5(e);var t=Ay(e),s=[];for(var i in e)i=="constructor"&&(t||!p5.call(e,i))||s.push(i);return s}function Ry(e){return oD(e)?aD(e,!0):m5(e)}function g5(e,t){return e&&hf(t,Ry(t),e)}var lD=typeof xs=="object"&&xs&&!xs.nodeType&&xs,Zw=lD&&typeof bs=="object"&&bs&&!bs.nodeType&&bs,y5=Zw&&Zw.exports===lD,Jw=y5?dr.Buffer:void 0,e1=Jw?Jw.allocUnsafe:void 0;function x5(e,t){if(t)return e.slice();var s=e.length,i=e1?e1(s):new e.constructor(s);return e.copy(i),i}function cD(e,t){var s=-1,i=e.length;for(t||(t=Array(i));++s<i;)t[s]=e[s];return t}function b5(e,t){for(var s=-1,i=e==null?0:e.length,l=0,u=[];++s<i;){var d=e[s];t(d,s,e)&&(u[l++]=d)}return u}function uD(){return[]}var v5=Object.prototype,S5=v5.propertyIsEnumerable,t1=Object.getOwnPropertySymbols,Iy=t1?function(e){return e==null?[]:(e=Object(e),b5(t1(e),function(t){return S5.call(e,t)}))}:uD;function w5(e,t){return hf(e,Iy(e),t)}function dD(e,t){for(var s=-1,i=t.length,l=e.length;++s<i;)e[l+s]=t[s];return e}var j5=Object.getOwnPropertySymbols,fD=j5?function(e){for(var t=[];e;)dD(t,Iy(e)),e=ky(e);return t}:uD;function C5(e,t){return hf(e,fD(e),t)}function hD(e,t,s){var i=t(e);return Yc(e)?i:dD(i,s(e))}function T5(e){return hD(e,Oy,Iy)}function D5(e){return hD(e,Ry,fD)}var sg=Da(dr,"DataView"),rg=Da(dr,"Promise"),ig=Da(dr,"Set"),ag=Da(dr,"WeakMap"),n1="[object Map]",E5="[object Object]",s1="[object Promise]",r1="[object Set]",i1="[object WeakMap]",a1="[object DataView]",M5=Ta(sg),k5=Ta(Ec),P5=Ta(rg),A5=Ta(ig),O5=Ta(ag),Ar=ja;(sg&&Ar(new sg(new ArrayBuffer(1)))!=a1||Ec&&Ar(new Ec)!=n1||rg&&Ar(rg.resolve())!=s1||ig&&Ar(new ig)!=r1||ag&&Ar(new ag)!=i1)&&(Ar=function(e){var t=ja(e),s=t==E5?e.constructor:void 0,i=s?Ta(s):"";if(i)switch(i){case M5:return a1;case k5:return n1;case P5:return s1;case A5:return r1;case O5:return i1}return t});var R5=Object.prototype,I5=R5.hasOwnProperty;function B5(e){var t=e.length,s=new e.constructor(t);return t&&typeof e[0]=="string"&&I5.call(e,"index")&&(s.index=e.index,s.input=e.input),s}var o1=dr.Uint8Array;function By(e){var t=new e.constructor(e.byteLength);return new o1(t).set(new o1(e)),t}function L5(e,t){var s=t?By(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.byteLength)}var N5=/\w*$/;function F5(e){var t=new e.constructor(e.source,N5.exec(e));return t.lastIndex=e.lastIndex,t}var l1=ji?ji.prototype:void 0,c1=l1?l1.valueOf:void 0;function H5(e){return c1?Object(c1.call(e)):{}}function _5(e,t){var s=t?By(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.length)}var z5="[object Boolean]",W5="[object Date]",V5="[object Map]",Y5="[object Number]",U5="[object RegExp]",q5="[object Set]",G5="[object String]",$5="[object Symbol]",Q5="[object ArrayBuffer]",K5="[object DataView]",X5="[object Float32Array]",Z5="[object Float64Array]",J5="[object Int8Array]",eN="[object Int16Array]",tN="[object Int32Array]",nN="[object Uint8Array]",sN="[object Uint8ClampedArray]",rN="[object Uint16Array]",iN="[object Uint32Array]";function aN(e,t,s){var i=e.constructor;switch(t){case Q5:return By(e);case z5:case W5:return new i(+e);case K5:return L5(e,s);case X5:case Z5:case J5:case eN:case tN:case nN:case sN:case rN:case iN:return _5(e,s);case V5:return new i;case Y5:case G5:return new i(e);case U5:return F5(e);case q5:return new i;case $5:return H5(e)}}var u1=Object.create,oN=(function(){function e(){}return function(t){if(!Vc(t))return{};if(u1)return u1(t);e.prototype=t;var s=new e;return e.prototype=void 0,s}})();function lN(e){return typeof e.constructor=="function"&&!Ay(e)?oN(ky(e)):{}}var cN="[object Map]";function uN(e){return Ca(e)&&Ar(e)==cN}var d1=Ho&&Ho.isMap,dN=d1?Py(d1):uN,fN="[object Set]";function hN(e){return Ca(e)&&Ar(e)==fN}var f1=Ho&&Ho.isSet,pN=f1?Py(f1):hN,mN=1,gN=2,yN=4,pD="[object Arguments]",xN="[object Array]",bN="[object Boolean]",vN="[object Date]",SN="[object Error]",mD="[object Function]",wN="[object GeneratorFunction]",jN="[object Map]",CN="[object Number]",gD="[object Object]",TN="[object RegExp]",DN="[object Set]",EN="[object String]",MN="[object Symbol]",kN="[object WeakMap]",PN="[object ArrayBuffer]",AN="[object DataView]",ON="[object Float32Array]",RN="[object Float64Array]",IN="[object Int8Array]",BN="[object Int16Array]",LN="[object Int32Array]",NN="[object Uint8Array]",FN="[object Uint8ClampedArray]",HN="[object Uint16Array]",_N="[object Uint32Array]",_t={};_t[pD]=_t[xN]=_t[PN]=_t[AN]=_t[bN]=_t[vN]=_t[ON]=_t[RN]=_t[IN]=_t[BN]=_t[LN]=_t[jN]=_t[CN]=_t[gD]=_t[TN]=_t[DN]=_t[EN]=_t[MN]=_t[NN]=_t[FN]=_t[HN]=_t[_N]=!0;_t[SN]=_t[mD]=_t[kN]=!1;function dc(e,t,s,i,l,u){var d,f=t&mN,p=t&gN,g=t&yN;if(d!==void 0)return d;if(!Vc(e))return e;var y=Yc(e);if(y){if(d=B5(e),!f)return cD(e,d)}else{var v=Ar(e),b=v==mD||v==wN;if(sD(e))return x5(e,f);if(v==gD||v==pD||b&&!l){if(d=p||b?{}:lN(e),!f)return p?C5(e,g5(d,e)):w5(e,d5(d,e))}else{if(!_t[v])return l?e:{};d=aN(e,v,f)}}u||(u=new Zo);var S=u.get(e);if(S)return S;u.set(e,d),pN(e)?e.forEach(function(T){d.add(dc(T,t,s,T,e,u))}):dN(e)&&e.forEach(function(T,C){d.set(C,dc(T,t,s,C,e,u))});var j=g?p?D5:T5:p?Ry:Oy,D=y?void 0:j(e);return g6(D||e,function(T,C){D&&(C=T,T=e[C]),eD(d,C,dc(T,t,s,C,e,u))}),d}var zN=1,WN=4;function xd(e){return dc(e,zN|WN)}var cm,h1;function VN(){if(h1)return cm;h1=1;var e=Array.isArray,t=Object.keys,s=Object.prototype.hasOwnProperty,i=typeof Element<"u";function l(u,d){if(u===d)return!0;if(u&&d&&typeof u=="object"&&typeof d=="object"){var f=e(u),p=e(d),g,y,v;if(f&&p){if(y=u.length,y!=d.length)return!1;for(g=y;g--!==0;)if(!l(u[g],d[g]))return!1;return!0}if(f!=p)return!1;var b=u instanceof Date,S=d instanceof Date;if(b!=S)return!1;if(b&&S)return u.getTime()==d.getTime();var j=u instanceof RegExp,D=d instanceof RegExp;if(j!=D)return!1;if(j&&D)return u.toString()==d.toString();var T=t(u);if(y=T.length,y!==t(d).length)return!1;for(g=y;g--!==0;)if(!s.call(d,T[g]))return!1;if(i&&u instanceof Element&&d instanceof Element)return u===d;for(g=y;g--!==0;)if(v=T[g],!(v==="_owner"&&u.$$typeof)&&!l(u[v],d[v]))return!1;return!0}return u!==u&&d!==d}return cm=function(d,f){try{return l(d,f)}catch(p){if(p.message&&p.message.match(/stack|recursion/i)||p.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",p.name,p.message),!1;throw p}},cm}var YN=VN();const ea=aj(YN);var UN=4;function p1(e){return dc(e,UN)}function yD(e,t){for(var s=-1,i=e==null?0:e.length,l=Array(i);++s<i;)l[s]=t(e[s],s,e);return l}var qN="[object Symbol]";function Ly(e){return typeof e=="symbol"||Ca(e)&&ja(e)==qN}var GN="Expected a function";function Ny(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(GN);var s=function(){var i=arguments,l=t?t.apply(this,i):i[0],u=s.cache;if(u.has(l))return u.get(l);var d=e.apply(this,i);return s.cache=u.set(l,d)||u,d};return s.cache=new(Ny.Cache||ki),s}Ny.Cache=ki;var $N=500;function QN(e){var t=Ny(e,function(i){return s.size===$N&&s.clear(),i}),s=t.cache;return t}var KN=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,XN=/\\(\\)?/g,ZN=QN(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(KN,function(s,i,l,u){t.push(l?u.replace(XN,"$1"):i||s)}),t});function JN(e){if(typeof e=="string"||Ly(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var m1=ji?ji.prototype:void 0,g1=m1?m1.toString:void 0;function xD(e){if(typeof e=="string")return e;if(Yc(e))return yD(e,xD)+"";if(Ly(e))return g1?g1.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function e4(e){return e==null?"":xD(e)}function bD(e){return Yc(e)?yD(e,JN):Ly(e)?[e]:cD(ZN(e4(e)))}function Yt(){return Yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},Yt.apply(this,arguments)}function Mo(e,t){if(e==null)return{};var s={},i=Object.keys(e),l,u;for(u=0;u<i.length;u++)l=i[u],!(t.indexOf(l)>=0)&&(s[l]=e[l]);return s}var pf=x.createContext(void 0);pf.displayName="FormikContext";var t4=pf.Provider;pf.Consumer;function vD(){var e=x.useContext(pf);return e}var ys=function(t){return typeof t=="function"},mf=function(t){return t!==null&&typeof t=="object"},n4=function(t){return String(Math.floor(Number(t)))===t},um=function(t){return Object.prototype.toString.call(t)==="[object String]"},s4=function(t){return x.Children.count(t)===0},dm=function(t){return mf(t)&&ys(t.then)};function gs(e,t,s,i){i===void 0&&(i=0);for(var l=bD(t);e&&i<l.length;)e=e[l[i++]];return i!==l.length&&!e||e===void 0?s:e}function ca(e,t,s){for(var i=p1(e),l=i,u=0,d=bD(t);u<d.length-1;u++){var f=d[u],p=gs(e,d.slice(0,u+1));if(p&&(mf(p)||Array.isArray(p)))l=l[f]=p1(p);else{var g=d[u+1];l=l[f]=n4(g)&&Number(g)>=0?[]:{}}}return(u===0?e:l)[d[u]]===s?e:(s===void 0?delete l[d[u]]:l[d[u]]=s,u===0&&s===void 0&&delete i[d[u]],i)}function SD(e,t,s,i){s===void 0&&(s=new WeakMap),i===void 0&&(i={});for(var l=0,u=Object.keys(e);l<u.length;l++){var d=u[l],f=e[d];mf(f)?s.get(f)||(s.set(f,!0),i[d]=Array.isArray(f)?[]:{},SD(f,t,s,i[d])):i[d]=t}return i}function r4(e,t){switch(t.type){case"SET_VALUES":return Yt({},e,{values:t.payload});case"SET_TOUCHED":return Yt({},e,{touched:t.payload});case"SET_ERRORS":return ea(e.errors,t.payload)?e:Yt({},e,{errors:t.payload});case"SET_STATUS":return Yt({},e,{status:t.payload});case"SET_ISSUBMITTING":return Yt({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return Yt({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return Yt({},e,{values:ca(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return Yt({},e,{touched:ca(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return Yt({},e,{errors:ca(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return Yt({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return Yt({},e,{touched:SD(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":return Yt({},e,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Yt({},e,{isSubmitting:!1});default:return e}}var Qi={},bd={};function i4(e){var t=e.validateOnChange,s=t===void 0?!0:t,i=e.validateOnBlur,l=i===void 0?!0:i,u=e.validateOnMount,d=u===void 0?!1:u,f=e.isInitialValid,p=e.enableReinitialize,g=p===void 0?!1:p,y=e.onSubmit,v=Mo(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),b=Yt({validateOnChange:s,validateOnBlur:l,validateOnMount:d,onSubmit:y},v),S=x.useRef(b.initialValues),j=x.useRef(b.initialErrors||Qi),D=x.useRef(b.initialTouched||bd),T=x.useRef(b.initialStatus),C=x.useRef(!1),M=x.useRef({});x.useEffect(function(){return C.current=!0,function(){C.current=!1}},[]);var k=x.useState(0),P=k[1],N=x.useRef({values:xd(b.initialValues),errors:xd(b.initialErrors)||Qi,touched:xd(b.initialTouched)||bd,status:xd(b.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),W=N.current,E=x.useCallback(function(K){var he=N.current;N.current=r4(he,K),he!==N.current&&P(function(xe){return xe+1})},[]),L=x.useCallback(function(K,he){return new Promise(function(xe,je){var Re=b.validate(K,he);Re==null?xe(Qi):dm(Re)?Re.then(function(Ke){xe(Ke||Qi)},function(Ke){je(Ke)}):xe(Re)})},[b.validate]),_=x.useCallback(function(K,he){var xe=b.validationSchema,je=ys(xe)?xe(he):xe,Re=he&&je.validateAt?je.validateAt(he,K):l4(K,je);return new Promise(function(Ke,lt){Re.then(function(){Ke(Qi)},function(Be){Be.name==="ValidationError"?Ke(o4(Be)):lt(Be)})})},[b.validationSchema]),B=x.useCallback(function(K,he){return new Promise(function(xe){return xe(M.current[K].validate(he))})},[]),V=x.useCallback(function(K){var he=Object.keys(M.current).filter(function(je){return ys(M.current[je].validate)}),xe=he.length>0?he.map(function(je){return B(je,gs(K,je))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(xe).then(function(je){return je.reduce(function(Re,Ke,lt){return Ke==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||Ke&&(Re=ca(Re,he[lt],Ke)),Re},{})})},[B]),A=x.useCallback(function(K){return Promise.all([V(K),b.validationSchema?_(K):{},b.validate?L(K):{}]).then(function(he){var xe=he[0],je=he[1],Re=he[2],Ke=ng.all([xe,je,Re],{arrayMerge:c4});return Ke})},[b.validate,b.validationSchema,V,L,_]),q=Os(function(K){return K===void 0&&(K=W.values),E({type:"SET_ISVALIDATING",payload:!0}),A(K).then(function(he){return C.current&&(E({type:"SET_ISVALIDATING",payload:!1}),E({type:"SET_ERRORS",payload:he})),he})});x.useEffect(function(){d&&C.current===!0&&ea(S.current,b.initialValues)&&q(S.current)},[d,q]);var U=x.useCallback(function(K){var he=K&&K.values?K.values:S.current,xe=K&&K.errors?K.errors:j.current?j.current:b.initialErrors||{},je=K&&K.touched?K.touched:D.current?D.current:b.initialTouched||{},Re=K&&K.status?K.status:T.current?T.current:b.initialStatus;S.current=he,j.current=xe,D.current=je,T.current=Re;var Ke=function(){E({type:"RESET_FORM",payload:{isSubmitting:!!K&&!!K.isSubmitting,errors:xe,touched:je,status:Re,values:he,isValidating:!!K&&!!K.isValidating,submitCount:K&&K.submitCount&&typeof K.submitCount=="number"?K.submitCount:0}})};if(b.onReset){var lt=b.onReset(W.values,Ee);dm(lt)?lt.then(Ke):Ke()}else Ke()},[b.initialErrors,b.initialStatus,b.initialTouched,b.onReset]);x.useEffect(function(){C.current===!0&&!ea(S.current,b.initialValues)&&g&&(S.current=b.initialValues,U(),d&&q(S.current))},[g,b.initialValues,U,d,q]),x.useEffect(function(){g&&C.current===!0&&!ea(j.current,b.initialErrors)&&(j.current=b.initialErrors||Qi,E({type:"SET_ERRORS",payload:b.initialErrors||Qi}))},[g,b.initialErrors]),x.useEffect(function(){g&&C.current===!0&&!ea(D.current,b.initialTouched)&&(D.current=b.initialTouched||bd,E({type:"SET_TOUCHED",payload:b.initialTouched||bd}))},[g,b.initialTouched]),x.useEffect(function(){g&&C.current===!0&&!ea(T.current,b.initialStatus)&&(T.current=b.initialStatus,E({type:"SET_STATUS",payload:b.initialStatus}))},[g,b.initialStatus,b.initialTouched]);var z=Os(function(K){if(M.current[K]&&ys(M.current[K].validate)){var he=gs(W.values,K),xe=M.current[K].validate(he);return dm(xe)?(E({type:"SET_ISVALIDATING",payload:!0}),xe.then(function(je){return je}).then(function(je){E({type:"SET_FIELD_ERROR",payload:{field:K,value:je}}),E({type:"SET_ISVALIDATING",payload:!1})})):(E({type:"SET_FIELD_ERROR",payload:{field:K,value:xe}}),Promise.resolve(xe))}else if(b.validationSchema)return E({type:"SET_ISVALIDATING",payload:!0}),_(W.values,K).then(function(je){return je}).then(function(je){E({type:"SET_FIELD_ERROR",payload:{field:K,value:gs(je,K)}}),E({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),F=x.useCallback(function(K,he){var xe=he.validate;M.current[K]={validate:xe}},[]),I=x.useCallback(function(K){delete M.current[K]},[]),Q=Os(function(K,he){E({type:"SET_TOUCHED",payload:K});var xe=he===void 0?l:he;return xe?q(W.values):Promise.resolve()}),ee=x.useCallback(function(K){E({type:"SET_ERRORS",payload:K})},[]),ye=Os(function(K,he){var xe=ys(K)?K(W.values):K;E({type:"SET_VALUES",payload:xe});var je=he===void 0?s:he;return je?q(xe):Promise.resolve()}),fe=x.useCallback(function(K,he){E({type:"SET_FIELD_ERROR",payload:{field:K,value:he}})},[]),ge=Os(function(K,he,xe){E({type:"SET_FIELD_VALUE",payload:{field:K,value:he}});var je=xe===void 0?s:xe;return je?q(ca(W.values,K,he)):Promise.resolve()}),De=x.useCallback(function(K,he){var xe=he,je=K,Re;if(!um(K)){K.persist&&K.persist();var Ke=K.target?K.target:K.currentTarget,lt=Ke.type,Be=Ke.name,Ge=Ke.id,Ze=Ke.value,xt=Ke.checked;Ke.outerHTML;var it=Ke.options,at=Ke.multiple;xe=he||Be||Ge,je=/number|range/.test(lt)?(Re=parseFloat(Ze),isNaN(Re)?"":Re):/checkbox/.test(lt)?d4(gs(W.values,xe),xt,Ze):it&&at?u4(it):Ze}xe&&ge(xe,je)},[ge,W.values]),ke=Os(function(K){if(um(K))return function(he){return De(he,K)};De(K)}),Oe=Os(function(K,he,xe){he===void 0&&(he=!0),E({type:"SET_FIELD_TOUCHED",payload:{field:K,value:he}});var je=xe===void 0?l:xe;return je?q(W.values):Promise.resolve()}),Ve=x.useCallback(function(K,he){K.persist&&K.persist();var xe=K.target,je=xe.name,Re=xe.id;xe.outerHTML;var Ke=he||je||Re;Oe(Ke,!0)},[Oe]),Ue=Os(function(K){if(um(K))return function(he){return Ve(he,K)};Ve(K)}),nt=x.useCallback(function(K){ys(K)?E({type:"SET_FORMIK_STATE",payload:K}):E({type:"SET_FORMIK_STATE",payload:function(){return K}})},[]),Ne=x.useCallback(function(K){E({type:"SET_STATUS",payload:K})},[]),ce=x.useCallback(function(K){E({type:"SET_ISSUBMITTING",payload:K})},[]),de=Os(function(){return E({type:"SUBMIT_ATTEMPT"}),q().then(function(K){var he=K instanceof Error,xe=!he&&Object.keys(K).length===0;if(xe){var je;try{if(je=oe(),je===void 0)return}catch(Re){throw Re}return Promise.resolve(je).then(function(Re){return C.current&&E({type:"SUBMIT_SUCCESS"}),Re}).catch(function(Re){if(C.current)throw E({type:"SUBMIT_FAILURE"}),Re})}else if(C.current&&(E({type:"SUBMIT_FAILURE"}),he))throw K})}),Te=Os(function(K){K&&K.preventDefault&&ys(K.preventDefault)&&K.preventDefault(),K&&K.stopPropagation&&ys(K.stopPropagation)&&K.stopPropagation(),de().catch(function(he){console.warn("Warning: An unhandled error was caught from submitForm()",he)})}),Ee={resetForm:U,validateForm:q,validateField:z,setErrors:ee,setFieldError:fe,setFieldTouched:Oe,setFieldValue:ge,setStatus:Ne,setSubmitting:ce,setTouched:Q,setValues:ye,setFormikState:nt,submitForm:de},oe=Os(function(){return y(W.values,Ee)}),Ce=Os(function(K){K&&K.preventDefault&&ys(K.preventDefault)&&K.preventDefault(),K&&K.stopPropagation&&ys(K.stopPropagation)&&K.stopPropagation(),U()}),te=x.useCallback(function(K){return{value:gs(W.values,K),error:gs(W.errors,K),touched:!!gs(W.touched,K),initialValue:gs(S.current,K),initialTouched:!!gs(D.current,K),initialError:gs(j.current,K)}},[W.errors,W.touched,W.values]),we=x.useCallback(function(K){return{setValue:function(xe,je){return ge(K,xe,je)},setTouched:function(xe,je){return Oe(K,xe,je)},setError:function(xe){return fe(K,xe)}}},[ge,Oe,fe]),ne=x.useCallback(function(K){var he=mf(K),xe=he?K.name:K,je=gs(W.values,xe),Re={name:xe,value:je,onChange:ke,onBlur:Ue};if(he){var Ke=K.type,lt=K.value,Be=K.as,Ge=K.multiple;Ke==="checkbox"?lt===void 0?Re.checked=!!je:(Re.checked=!!(Array.isArray(je)&&~je.indexOf(lt)),Re.value=lt):Ke==="radio"?(Re.checked=je===lt,Re.value=lt):Be==="select"&&Ge&&(Re.value=Re.value||[],Re.multiple=!0)}return Re},[Ue,ke,W.values]),le=x.useMemo(function(){return!ea(S.current,W.values)},[S.current,W.values]),$=x.useMemo(function(){return typeof f<"u"?le?W.errors&&Object.keys(W.errors).length===0:f!==!1&&ys(f)?f(b):f:W.errors&&Object.keys(W.errors).length===0},[f,le,W.errors,b]),be=Yt({},W,{initialValues:S.current,initialErrors:j.current,initialTouched:D.current,initialStatus:T.current,handleBlur:Ue,handleChange:ke,handleReset:Ce,handleSubmit:Te,resetForm:U,setErrors:ee,setFormikState:nt,setFieldTouched:Oe,setFieldValue:ge,setFieldError:fe,setStatus:Ne,setSubmitting:ce,setTouched:Q,setValues:ye,submitForm:de,validateForm:q,validateField:z,isValid:$,dirty:le,unregisterField:I,registerField:F,getFieldProps:ne,getFieldMeta:te,getFieldHelpers:we,validateOnBlur:l,validateOnChange:s,validateOnMount:d});return be}function a4(e){var t=i4(e),s=e.component,i=e.children,l=e.render,u=e.innerRef;return x.useImperativeHandle(u,function(){return t}),x.createElement(t4,{value:t},s?x.createElement(s,t):l?l(t):i?ys(i)?i(t):s4(i)?null:x.Children.only(i):null)}function o4(e){var t={};if(e.inner){if(e.inner.length===0)return ca(t,e.path,e.message);for(var l=e.inner,s=Array.isArray(l),i=0,l=s?l:l[Symbol.iterator]();;){var u;if(s){if(i>=l.length)break;u=l[i++]}else{if(i=l.next(),i.done)break;u=i.value}var d=u;gs(t,d.path)||(t=ca(t,d.path,d.message))}}return t}function l4(e,t,s,i){s===void 0&&(s=!1);var l=og(e);return t[s?"validateSync":"validate"](l,{abortEarly:!1,context:l})}function og(e){var t=Array.isArray(e)?[]:{};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var i=String(s);Array.isArray(e[i])===!0?t[i]=e[i].map(function(l){return Array.isArray(l)===!0||Uw(l)?og(l):l!==""?l:void 0}):Uw(e[i])?t[i]=og(e[i]):t[i]=e[i]!==""?e[i]:void 0}return t}function c4(e,t,s){var i=e.slice();return t.forEach(function(u,d){if(typeof i[d]>"u"){var f=s.clone!==!1,p=f&&s.isMergeableObject(u);i[d]=p?ng(Array.isArray(u)?[]:{},u,s):u}else s.isMergeableObject(u)?i[d]=ng(e[d],u,s):e.indexOf(u)===-1&&i.push(u)}),i}function u4(e){return Array.from(e).filter(function(t){return t.selected}).map(function(t){return t.value})}function d4(e,t,s){if(typeof e=="boolean")return!!t;var i=[],l=!1,u=-1;if(Array.isArray(e))i=e,u=e.indexOf(s),l=u>=0;else if(!s||s=="true"||s=="false")return!!t;return t&&s&&!l?i.concat(s):l?i.slice(0,u).concat(i.slice(u+1)):i}var f4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?x.useLayoutEffect:x.useEffect;function Os(e){var t=x.useRef(e);return f4(function(){t.current=e}),x.useCallback(function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];return t.current.apply(void 0,i)},[])}function mo(e){var t=e.validate,s=e.name,i=e.render,l=e.children,u=e.as,d=e.component,f=e.className,p=Mo(e,["validate","name","render","children","as","component","className"]),g=vD(),y=Mo(g,["validate","validationSchema"]),v=y.registerField,b=y.unregisterField;x.useEffect(function(){return v(s,{validate:t}),function(){b(s)}},[v,b,s,t]);var S=y.getFieldProps(Yt({name:s},p)),j=y.getFieldMeta(s),D={field:S,form:y};if(i)return i(Yt({},D,{meta:j}));if(ys(l))return l(Yt({},D,{meta:j}));if(d){if(typeof d=="string"){var T=p.innerRef,C=Mo(p,["innerRef"]);return x.createElement(d,Yt({ref:T},S,C,{className:f}),l)}return x.createElement(d,Yt({field:S,form:y},p,{className:f}),l)}var M=u||"input";if(typeof M=="string"){var k=p.innerRef,P=Mo(p,["innerRef"]);return x.createElement(M,Yt({ref:k},S,P,{className:f}),l)}return x.createElement(M,Yt({},S,p,{className:f}),l)}var wD=x.forwardRef(function(e,t){var s=e.action,i=Mo(e,["action"]),l=s??"#",u=vD(),d=u.handleReset,f=u.handleSubmit;return x.createElement("form",Yt({onSubmit:f,ref:t,onReset:d,action:l},i))});wD.displayName="Form";const jD=6048e5,h4=864e5,CD=6e4,TD=36e5,p4=1e3,y1=Symbol.for("constructDateFrom");function Xt(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&y1 in e?e[y1](t):e instanceof Date?new e.constructor(t):new Date(t)}function $e(e,t){return Xt(t||e,e)}function gf(e,t,s){const i=$e(e,s?.in);return isNaN(t)?Xt(s?.in||e,NaN):(t&&i.setDate(i.getDate()+t),i)}function DD(e,t,s){return Xt(e,+$e(e)+t)}function m4(e,t,s){return DD(e,t*1e3)}function g4(e,t,s){const i=$e(e,s?.in);return i.setTime(i.getTime()+t*CD),i}function y4(e,t,s){return DD(e,t*TD)}function x4(e,t,s){return gf(e,t*7,s)}function ED(e,t,s){const i=$e(e,s?.in);if(isNaN(t))return Xt(e,NaN);if(!t)return i;const l=i.getDate(),u=Xt(e,i.getTime());u.setMonth(i.getMonth()+t+1,0);const d=u.getDate();return l>=d?u:(i.setFullYear(u.getFullYear(),u.getMonth(),l),i)}function b4(e,t,s){return ED(e,t*12,s)}function x1(e,t){const s=$e(e,t?.in);return s.setHours(23,59,59,999),s}let v4={};function Ea(){return v4}function S4(e,t){const s=Ea(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,l=$e(e,t?.in),u=l.getDay(),d=(u<i?-7:0)+6-(u-i);return l.setDate(l.getDate()+d),l.setHours(23,59,59,999),l}function b1(e,t){const s=$e(e,t?.in),i=s.getFullYear();return s.setFullYear(i+1,0,0),s.setHours(23,59,59,999),s}const w4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},j4=(e,t,s)=>{let i;const l=w4[e];return typeof l=="string"?i=l:t===1?i=l.one:i=l.other.replace("{{count}}",t.toString()),s?.addSuffix?s.comparison&&s.comparison>0?"in "+i:i+" ago":i};function fm(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const C4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},T4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},D4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},E4={date:fm({formats:C4,defaultWidth:"full"}),time:fm({formats:T4,defaultWidth:"full"}),dateTime:fm({formats:D4,defaultWidth:"full"})},M4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},k4=(e,t,s,i)=>M4[e];function Gl(e){return(t,s)=>{const i=s?.context?String(s.context):"standalone";let l;if(i==="formatting"&&e.formattingValues){const d=e.defaultFormattingWidth||e.defaultWidth,f=s?.width?String(s.width):d;l=e.formattingValues[f]||e.formattingValues[d]}else{const d=e.defaultWidth,f=s?.width?String(s.width):e.defaultWidth;l=e.values[f]||e.values[d]}const u=e.argumentCallback?e.argumentCallback(t):t;return l[u]}}const P4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},A4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},O4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},R4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},I4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},B4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},L4=(e,t)=>{const s=Number(e),i=s%100;if(i>20||i<10)switch(i%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},N4={ordinalNumber:L4,era:Gl({values:P4,defaultWidth:"wide"}),quarter:Gl({values:A4,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Gl({values:O4,defaultWidth:"wide"}),day:Gl({values:R4,defaultWidth:"wide"}),dayPeriod:Gl({values:I4,defaultWidth:"wide",formattingValues:B4,defaultFormattingWidth:"wide"})};function $l(e){return(t,s={})=>{const i=s.width,l=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],u=t.match(l);if(!u)return null;const d=u[0],f=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],p=Array.isArray(f)?H4(f,v=>v.test(d)):F4(f,v=>v.test(d));let g;g=e.valueCallback?e.valueCallback(p):p,g=s.valueCallback?s.valueCallback(g):g;const y=t.slice(d.length);return{value:g,rest:y}}}function F4(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function H4(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function _4(e){return(t,s={})=>{const i=t.match(e.matchPattern);if(!i)return null;const l=i[0],u=t.match(e.parsePattern);if(!u)return null;let d=e.valueCallback?e.valueCallback(u[0]):u[0];d=s.valueCallback?s.valueCallback(d):d;const f=t.slice(l.length);return{value:d,rest:f}}}const z4=/^(\d+)(th|st|nd|rd)?/i,W4=/\d+/i,V4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Y4={any:[/^b/i,/^(a|c)/i]},U4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},q4={any:[/1/i,/2/i,/3/i,/4/i]},G4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Q4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},K4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},X4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Z4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},J4={ordinalNumber:_4({matchPattern:z4,parsePattern:W4,valueCallback:e=>parseInt(e,10)}),era:$l({matchPatterns:V4,defaultMatchWidth:"wide",parsePatterns:Y4,defaultParseWidth:"any"}),quarter:$l({matchPatterns:U4,defaultMatchWidth:"wide",parsePatterns:q4,defaultParseWidth:"any",valueCallback:e=>e+1}),month:$l({matchPatterns:G4,defaultMatchWidth:"wide",parsePatterns:$4,defaultParseWidth:"any"}),day:$l({matchPatterns:Q4,defaultMatchWidth:"wide",parsePatterns:K4,defaultParseWidth:"any"}),dayPeriod:$l({matchPatterns:X4,defaultMatchWidth:"any",parsePatterns:Z4,defaultParseWidth:"any"})},Fy={code:"en-US",formatDistance:j4,formatLong:E4,formatRelative:k4,localize:N4,match:J4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Yd(e){const t=$e(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function Uc(e,...t){const s=Xt.bind(null,t.find(i=>typeof i=="object"));return t.map(s)}function kc(e,t){const s=$e(e,t?.in);return s.setHours(0,0,0,0),s}function eF(e,t,s){const[i,l]=Uc(s?.in,e,t),u=kc(i),d=kc(l),f=+u-Yd(u),p=+d-Yd(d);return Math.round((f-p)/h4)}function MD(e,t){const s=$e(e,t?.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}function tF(e,t){const s=$e(e,t?.in);return eF(s,MD(s))+1}function Hr(e,t){const s=Ea(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,l=$e(e,t?.in),u=l.getDay(),d=(u<i?7:0)+u-i;return l.setDate(l.getDate()-d),l.setHours(0,0,0,0),l}function _o(e,t){return Hr(e,{...t,weekStartsOn:1})}function kD(e,t){const s=$e(e,t?.in),i=s.getFullYear(),l=Xt(s,0);l.setFullYear(i+1,0,4),l.setHours(0,0,0,0);const u=_o(l),d=Xt(s,0);d.setFullYear(i,0,4),d.setHours(0,0,0,0);const f=_o(d);return s.getTime()>=u.getTime()?i+1:s.getTime()>=f.getTime()?i:i-1}function nF(e,t){const s=kD(e,t),i=Xt(e,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),_o(i)}function PD(e,t){const s=$e(e,t?.in),i=+_o(s)-+nF(s);return Math.round(i/jD)+1}function Hy(e,t){const s=$e(e,t?.in),i=s.getFullYear(),l=Ea(),u=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,d=Xt(t?.in||e,0);d.setFullYear(i+1,0,u),d.setHours(0,0,0,0);const f=Hr(d,t),p=Xt(t?.in||e,0);p.setFullYear(i,0,u),p.setHours(0,0,0,0);const g=Hr(p,t);return+s>=+f?i+1:+s>=+g?i:i-1}function sF(e,t){const s=Ea(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,l=Hy(e,t),u=Xt(t?.in||e,0);return u.setFullYear(l,0,i),u.setHours(0,0,0,0),Hr(u,t)}function _y(e,t){const s=$e(e,t?.in),i=+Hr(s,t)-+sF(s,t);return Math.round(i/jD)+1}function Rt(e,t){const s=e<0?"-":"",i=Math.abs(e).toString().padStart(t,"0");return s+i}const pi={y(e,t){const s=e.getFullYear(),i=s>0?s:1-s;return Rt(t==="yy"?i%100:i,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):Rt(s+1,2)},d(e,t){return Rt(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,t){return Rt(e.getHours()%12||12,t.length)},H(e,t){return Rt(e.getHours(),t.length)},m(e,t){return Rt(e.getMinutes(),t.length)},s(e,t){return Rt(e.getSeconds(),t.length)},S(e,t){const s=t.length,i=e.getMilliseconds(),l=Math.trunc(i*Math.pow(10,s-3));return Rt(l,t.length)}},go={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},v1={G:function(e,t,s){const i=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(i,{width:"abbreviated"});case"GGGGG":return s.era(i,{width:"narrow"});case"GGGG":default:return s.era(i,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const i=e.getFullYear(),l=i>0?i:1-i;return s.ordinalNumber(l,{unit:"year"})}return pi.y(e,t)},Y:function(e,t,s,i){const l=Hy(e,i),u=l>0?l:1-l;if(t==="YY"){const d=u%100;return Rt(d,2)}return t==="Yo"?s.ordinalNumber(u,{unit:"year"}):Rt(u,t.length)},R:function(e,t){const s=kD(e);return Rt(s,t.length)},u:function(e,t){const s=e.getFullYear();return Rt(s,t.length)},Q:function(e,t,s){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Rt(i,2);case"Qo":return s.ordinalNumber(i,{unit:"quarter"});case"QQQ":return s.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,s){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Rt(i,2);case"qo":return s.ordinalNumber(i,{unit:"quarter"});case"qqq":return s.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,s){const i=e.getMonth();switch(t){case"M":case"MM":return pi.M(e,t);case"Mo":return s.ordinalNumber(i+1,{unit:"month"});case"MMM":return s.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,s){const i=e.getMonth();switch(t){case"L":return String(i+1);case"LL":return Rt(i+1,2);case"Lo":return s.ordinalNumber(i+1,{unit:"month"});case"LLL":return s.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,s,i){const l=_y(e,i);return t==="wo"?s.ordinalNumber(l,{unit:"week"}):Rt(l,t.length)},I:function(e,t,s){const i=PD(e);return t==="Io"?s.ordinalNumber(i,{unit:"week"}):Rt(i,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):pi.d(e,t)},D:function(e,t,s){const i=tF(e);return t==="Do"?s.ordinalNumber(i,{unit:"dayOfYear"}):Rt(i,t.length)},E:function(e,t,s){const i=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(i,{width:"short",context:"formatting"});case"EEEE":default:return s.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,s,i){const l=e.getDay(),u=(l-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(u);case"ee":return Rt(u,2);case"eo":return s.ordinalNumber(u,{unit:"day"});case"eee":return s.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(l,{width:"short",context:"formatting"});case"eeee":default:return s.day(l,{width:"wide",context:"formatting"})}},c:function(e,t,s,i){const l=e.getDay(),u=(l-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(u);case"cc":return Rt(u,t.length);case"co":return s.ordinalNumber(u,{unit:"day"});case"ccc":return s.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(l,{width:"narrow",context:"standalone"});case"cccccc":return s.day(l,{width:"short",context:"standalone"});case"cccc":default:return s.day(l,{width:"wide",context:"standalone"})}},i:function(e,t,s){const i=e.getDay(),l=i===0?7:i;switch(t){case"i":return String(l);case"ii":return Rt(l,t.length);case"io":return s.ordinalNumber(l,{unit:"day"});case"iii":return s.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(i,{width:"short",context:"formatting"});case"iiii":default:return s.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,s){const l=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(e,t,s){const i=e.getHours();let l;switch(i===12?l=go.noon:i===0?l=go.midnight:l=i/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(e,t,s){const i=e.getHours();let l;switch(i>=17?l=go.evening:i>=12?l=go.afternoon:i>=4?l=go.morning:l=go.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let i=e.getHours()%12;return i===0&&(i=12),s.ordinalNumber(i,{unit:"hour"})}return pi.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):pi.H(e,t)},K:function(e,t,s){const i=e.getHours()%12;return t==="Ko"?s.ordinalNumber(i,{unit:"hour"}):Rt(i,t.length)},k:function(e,t,s){let i=e.getHours();return i===0&&(i=24),t==="ko"?s.ordinalNumber(i,{unit:"hour"}):Rt(i,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):pi.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):pi.s(e,t)},S:function(e,t){return pi.S(e,t)},X:function(e,t,s){const i=e.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return w1(i);case"XXXX":case"XX":return ta(i);case"XXXXX":case"XXX":default:return ta(i,":")}},x:function(e,t,s){const i=e.getTimezoneOffset();switch(t){case"x":return w1(i);case"xxxx":case"xx":return ta(i);case"xxxxx":case"xxx":default:return ta(i,":")}},O:function(e,t,s){const i=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+S1(i,":");case"OOOO":default:return"GMT"+ta(i,":")}},z:function(e,t,s){const i=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+S1(i,":");case"zzzz":default:return"GMT"+ta(i,":")}},t:function(e,t,s){const i=Math.trunc(+e/1e3);return Rt(i,t.length)},T:function(e,t,s){return Rt(+e,t.length)}};function S1(e,t=""){const s=e>0?"-":"+",i=Math.abs(e),l=Math.trunc(i/60),u=i%60;return u===0?s+String(l):s+String(l)+t+Rt(u,2)}function w1(e,t){return e%60===0?(e>0?"-":"+")+Rt(Math.abs(e)/60,2):ta(e,t)}function ta(e,t=""){const s=e>0?"-":"+",i=Math.abs(e),l=Rt(Math.trunc(i/60),2),u=Rt(i%60,2);return s+l+t+u}const j1=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},AD=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},rF=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],i=s[1],l=s[2];if(!l)return j1(e,t);let u;switch(i){case"P":u=t.dateTime({width:"short"});break;case"PP":u=t.dateTime({width:"medium"});break;case"PPP":u=t.dateTime({width:"long"});break;case"PPPP":default:u=t.dateTime({width:"full"});break}return u.replace("{{date}}",j1(i,t)).replace("{{time}}",AD(l,t))},Ud={p:AD,P:rF},iF=/^D+$/,aF=/^Y+$/,oF=["D","DD","YY","YYYY"];function OD(e){return iF.test(e)}function RD(e){return aF.test(e)}function lg(e,t,s){const i=lF(e,t,s);if(console.warn(i),oF.includes(e))throw new RangeError(i)}function lF(e,t,s){const i=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${i} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function cF(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ID(e){return!(!cF(e)&&typeof e!="number"||isNaN(+$e(e)))}const uF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fF=/^'([^]*?)'?$/,hF=/''/g,pF=/[a-zA-Z]/;function mF(e,t,s){const i=Ea(),l=s?.locale??i.locale??Fy,u=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,d=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,f=$e(e,s?.in);if(!ID(f))throw new RangeError("Invalid time value");let p=t.match(dF).map(y=>{const v=y[0];if(v==="p"||v==="P"){const b=Ud[v];return b(y,l.formatLong)}return y}).join("").match(uF).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const v=y[0];if(v==="'")return{isToken:!1,value:gF(y)};if(v1[v])return{isToken:!0,value:y};if(v.match(pF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:y}});l.localize.preprocessor&&(p=l.localize.preprocessor(f,p));const g={firstWeekContainsDate:u,weekStartsOn:d,locale:l};return p.map(y=>{if(!y.isToken)return y.value;const v=y.value;(!s?.useAdditionalWeekYearTokens&&RD(v)||!s?.useAdditionalDayOfYearTokens&&OD(v))&&lg(v,t,String(e));const b=v1[v[0]];return b(f,v,l.localize,g)}).join("")}function gF(e){const t=e.match(fF);return t?t[1].replace(hF,"'"):e}function yF(e,t){return $e(e,t?.in).getDate()}function BD(e,t){const s=$e(e,t?.in),i=s.getFullYear(),l=s.getMonth(),u=Xt(s,0);return u.setFullYear(i,l+1,0),u.setHours(0,0,0,0),u.getDate()}function xF(e,t){return $e(e,t?.in).getHours()}function bF(e,t){return $e(e,t?.in).getMinutes()}function vF(e,t){return $e(e,t?.in).getMonth()}function SF(e){return $e(e).getSeconds()}function wF(e){return $e(e).getMilliseconds()}function jF(e,t){return $e(e,t?.in).getFullYear()}function hm(e,t){return+$e(e)>+$e(t)}function pm(e,t){return+$e(e)<+$e(t)}function CF(e,t){return+$e(e)==+$e(t)}function TF(e,t,s){const[i,l]=Uc(s?.in,e,t);return+kc(i)==+kc(l)}function DF(e,t,s){const[i,l]=Uc(s?.in,e,t);return i.getFullYear()===l.getFullYear()}function EF(e,t,s){const[i,l]=Uc(s?.in,e,t);return i.getFullYear()===l.getFullYear()&&i.getMonth()===l.getMonth()}function C1(e,t){const s=$e(e,t?.in);return s.setMinutes(0,0,0),s}function MF(e,t,s){const[i,l]=Uc(s?.in,e,t);return+C1(i)==+C1(l)}function kF(){return Object.assign({},Ea())}function PF(e,t){const s=AF(t)?new t(0):Xt(t,0);return s.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),s.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),s}function AF(e){return typeof e=="function"&&e.prototype?.constructor===e}const OF=10;class LD{subPriority=0;validate(t,s){return!0}}class RF extends LD{constructor(t,s,i,l,u){super(),this.value=t,this.validateValue=s,this.setValue=i,this.priority=l,u&&(this.subPriority=u)}validate(t,s){return this.validateValue(t,this.value,s)}set(t,s,i){return this.setValue(t,s,this.value,i)}}class IF extends LD{priority=OF;subPriority=-1;constructor(t,s){super(),this.context=t||(i=>Xt(s,i))}set(t,s){return s.timestampIsSet?t:Xt(t,PF(t,this.context))}}class Dt{run(t,s,i,l){const u=this.parse(t,s,i,l);return u?{setter:new RF(u.value,this.validate,this.set,this.priority,this.subPriority),rest:u.rest}:null}validate(t,s,i){return!0}}class BF extends Dt{priority=140;parse(t,s,i){switch(s){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,s,i){return s.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const cn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},er={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function un(e,t){return e&&{value:t(e.value),rest:e.rest}}function Zt(e,t){const s=t.match(e);return s?{value:parseInt(s[0],10),rest:t.slice(s[0].length)}:null}function tr(e,t){const s=t.match(e);if(!s)return null;if(s[0]==="Z")return{value:0,rest:t.slice(1)};const i=s[1]==="+"?1:-1,l=s[2]?parseInt(s[2],10):0,u=s[3]?parseInt(s[3],10):0,d=s[5]?parseInt(s[5],10):0;return{value:i*(l*TD+u*CD+d*p4),rest:t.slice(s[0].length)}}function ND(e){return Zt(cn.anyDigitsSigned,e)}function sn(e,t){switch(e){case 1:return Zt(cn.singleDigit,t);case 2:return Zt(cn.twoDigits,t);case 3:return Zt(cn.threeDigits,t);case 4:return Zt(cn.fourDigits,t);default:return Zt(new RegExp("^\\d{1,"+e+"}"),t)}}function qd(e,t){switch(e){case 1:return Zt(cn.singleDigitSigned,t);case 2:return Zt(cn.twoDigitsSigned,t);case 3:return Zt(cn.threeDigitsSigned,t);case 4:return Zt(cn.fourDigitsSigned,t);default:return Zt(new RegExp("^-?\\d{1,"+e+"}"),t)}}function zy(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function FD(e,t){const s=t>0,i=s?t:1-t;let l;if(i<=50)l=e||100;else{const u=i+50,d=Math.trunc(u/100)*100,f=e>=u%100;l=e+d-(f?100:0)}return s?l:1-l}function HD(e){return e%400===0||e%4===0&&e%100!==0}class LF extends Dt{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,s,i){const l=u=>({year:u,isTwoDigitYear:s==="yy"});switch(s){case"y":return un(sn(4,t),l);case"yo":return un(i.ordinalNumber(t,{unit:"year"}),l);default:return un(sn(s.length,t),l)}}validate(t,s){return s.isTwoDigitYear||s.year>0}set(t,s,i){const l=t.getFullYear();if(i.isTwoDigitYear){const d=FD(i.year,l);return t.setFullYear(d,0,1),t.setHours(0,0,0,0),t}const u=!("era"in s)||s.era===1?i.year:1-i.year;return t.setFullYear(u,0,1),t.setHours(0,0,0,0),t}}class NF extends Dt{priority=130;parse(t,s,i){const l=u=>({year:u,isTwoDigitYear:s==="YY"});switch(s){case"Y":return un(sn(4,t),l);case"Yo":return un(i.ordinalNumber(t,{unit:"year"}),l);default:return un(sn(s.length,t),l)}}validate(t,s){return s.isTwoDigitYear||s.year>0}set(t,s,i,l){const u=Hy(t,l);if(i.isTwoDigitYear){const f=FD(i.year,u);return t.setFullYear(f,0,l.firstWeekContainsDate),t.setHours(0,0,0,0),Hr(t,l)}const d=!("era"in s)||s.era===1?i.year:1-i.year;return t.setFullYear(d,0,l.firstWeekContainsDate),t.setHours(0,0,0,0),Hr(t,l)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class FF extends Dt{priority=130;parse(t,s){return qd(s==="R"?4:s.length,t)}set(t,s,i){const l=Xt(t,0);return l.setFullYear(i,0,4),l.setHours(0,0,0,0),_o(l)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class HF extends Dt{priority=130;parse(t,s){return qd(s==="u"?4:s.length,t)}set(t,s,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class _F extends Dt{priority=120;parse(t,s,i){switch(s){case"Q":case"QQ":return sn(s.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,s){return s>=1&&s<=4}set(t,s,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class zF extends Dt{priority=120;parse(t,s,i){switch(s){case"q":case"qq":return sn(s.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,s){return s>=1&&s<=4}set(t,s,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class WF extends Dt{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,s,i){const l=u=>u-1;switch(s){case"M":return un(Zt(cn.month,t),l);case"MM":return un(sn(2,t),l);case"Mo":return un(i.ordinalNumber(t,{unit:"month"}),l);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,s){return s>=0&&s<=11}set(t,s,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class VF extends Dt{priority=110;parse(t,s,i){const l=u=>u-1;switch(s){case"L":return un(Zt(cn.month,t),l);case"LL":return un(sn(2,t),l);case"Lo":return un(i.ordinalNumber(t,{unit:"month"}),l);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,s){return s>=0&&s<=11}set(t,s,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function YF(e,t,s){const i=$e(e,s?.in),l=_y(i,s)-t;return i.setDate(i.getDate()-l*7),$e(i,s?.in)}class UF extends Dt{priority=100;parse(t,s,i){switch(s){case"w":return Zt(cn.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return sn(s.length,t)}}validate(t,s){return s>=1&&s<=53}set(t,s,i,l){return Hr(YF(t,i,l),l)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function qF(e,t,s){const i=$e(e,s?.in),l=PD(i,s)-t;return i.setDate(i.getDate()-l*7),i}class GF extends Dt{priority=100;parse(t,s,i){switch(s){case"I":return Zt(cn.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return sn(s.length,t)}}validate(t,s){return s>=1&&s<=53}set(t,s,i){return _o(qF(t,i))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const $F=[31,28,31,30,31,30,31,31,30,31,30,31],QF=[31,29,31,30,31,30,31,31,30,31,30,31];class KF extends Dt{priority=90;subPriority=1;parse(t,s,i){switch(s){case"d":return Zt(cn.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return sn(s.length,t)}}validate(t,s){const i=t.getFullYear(),l=HD(i),u=t.getMonth();return l?s>=1&&s<=QF[u]:s>=1&&s<=$F[u]}set(t,s,i){return t.setDate(i),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class XF extends Dt{priority=90;subpriority=1;parse(t,s,i){switch(s){case"D":case"DD":return Zt(cn.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return sn(s.length,t)}}validate(t,s){const i=t.getFullYear();return HD(i)?s>=1&&s<=366:s>=1&&s<=365}set(t,s,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function Wy(e,t,s){const i=Ea(),l=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,u=$e(e,s?.in),d=u.getDay(),p=(t%7+7)%7,g=7-l,y=t<0||t>6?t-(d+g)%7:(p+g)%7-(d+g)%7;return gf(u,y,s)}class ZF extends Dt{priority=90;parse(t,s,i){switch(s){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,s){return s>=0&&s<=6}set(t,s,i,l){return t=Wy(t,i,l),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class JF extends Dt{priority=90;parse(t,s,i,l){const u=d=>{const f=Math.floor((d-1)/7)*7;return(d+l.weekStartsOn+6)%7+f};switch(s){case"e":case"ee":return un(sn(s.length,t),u);case"eo":return un(i.ordinalNumber(t,{unit:"day"}),u);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,s){return s>=0&&s<=6}set(t,s,i,l){return t=Wy(t,i,l),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class eH extends Dt{priority=90;parse(t,s,i,l){const u=d=>{const f=Math.floor((d-1)/7)*7;return(d+l.weekStartsOn+6)%7+f};switch(s){case"c":case"cc":return un(sn(s.length,t),u);case"co":return un(i.ordinalNumber(t,{unit:"day"}),u);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,s){return s>=0&&s<=6}set(t,s,i,l){return t=Wy(t,i,l),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function tH(e,t){const s=$e(e,t?.in).getDay();return s===0?7:s}function nH(e,t,s){const i=$e(e,s?.in),l=tH(i,s),u=t-l;return gf(i,u,s)}class sH extends Dt{priority=90;parse(t,s,i){const l=u=>u===0?7:u;switch(s){case"i":case"ii":return sn(s.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return un(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),l);case"iiiii":return un(i.day(t,{width:"narrow",context:"formatting"}),l);case"iiiiii":return un(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),l);case"iiii":default:return un(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),l)}}validate(t,s){return s>=1&&s<=7}set(t,s,i){return t=nH(t,i),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class rH extends Dt{priority=80;parse(t,s,i){switch(s){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,s,i){return t.setHours(zy(i),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class iH extends Dt{priority=80;parse(t,s,i){switch(s){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,s,i){return t.setHours(zy(i),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class aH extends Dt{priority=80;parse(t,s,i){switch(s){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,s,i){return t.setHours(zy(i),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class oH extends Dt{priority=70;parse(t,s,i){switch(s){case"h":return Zt(cn.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return sn(s.length,t)}}validate(t,s){return s>=1&&s<=12}set(t,s,i){const l=t.getHours()>=12;return l&&i<12?t.setHours(i+12,0,0,0):!l&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class lH extends Dt{priority=70;parse(t,s,i){switch(s){case"H":return Zt(cn.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return sn(s.length,t)}}validate(t,s){return s>=0&&s<=23}set(t,s,i){return t.setHours(i,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class cH extends Dt{priority=70;parse(t,s,i){switch(s){case"K":return Zt(cn.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return sn(s.length,t)}}validate(t,s){return s>=0&&s<=11}set(t,s,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class uH extends Dt{priority=70;parse(t,s,i){switch(s){case"k":return Zt(cn.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return sn(s.length,t)}}validate(t,s){return s>=1&&s<=24}set(t,s,i){const l=i<=24?i%24:i;return t.setHours(l,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class dH extends Dt{priority=60;parse(t,s,i){switch(s){case"m":return Zt(cn.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return sn(s.length,t)}}validate(t,s){return s>=0&&s<=59}set(t,s,i){return t.setMinutes(i,0,0),t}incompatibleTokens=["t","T"]}class fH extends Dt{priority=50;parse(t,s,i){switch(s){case"s":return Zt(cn.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return sn(s.length,t)}}validate(t,s){return s>=0&&s<=59}set(t,s,i){return t.setSeconds(i,0),t}incompatibleTokens=["t","T"]}class hH extends Dt{priority=30;parse(t,s){const i=l=>Math.trunc(l*Math.pow(10,-s.length+3));return un(sn(s.length,t),i)}set(t,s,i){return t.setMilliseconds(i),t}incompatibleTokens=["t","T"]}class pH extends Dt{priority=10;parse(t,s){switch(s){case"X":return tr(er.basicOptionalMinutes,t);case"XX":return tr(er.basic,t);case"XXXX":return tr(er.basicOptionalSeconds,t);case"XXXXX":return tr(er.extendedOptionalSeconds,t);case"XXX":default:return tr(er.extended,t)}}set(t,s,i){return s.timestampIsSet?t:Xt(t,t.getTime()-Yd(t)-i)}incompatibleTokens=["t","T","x"]}class mH extends Dt{priority=10;parse(t,s){switch(s){case"x":return tr(er.basicOptionalMinutes,t);case"xx":return tr(er.basic,t);case"xxxx":return tr(er.basicOptionalSeconds,t);case"xxxxx":return tr(er.extendedOptionalSeconds,t);case"xxx":default:return tr(er.extended,t)}}set(t,s,i){return s.timestampIsSet?t:Xt(t,t.getTime()-Yd(t)-i)}incompatibleTokens=["t","T","X"]}class gH extends Dt{priority=40;parse(t){return ND(t)}set(t,s,i){return[Xt(t,i*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class yH extends Dt{priority=20;parse(t){return ND(t)}set(t,s,i){return[Xt(t,i),{timestampIsSet:!0}]}incompatibleTokens="*"}const xH={G:new BF,y:new LF,Y:new NF,R:new FF,u:new HF,Q:new _F,q:new zF,M:new WF,L:new VF,w:new UF,I:new GF,d:new KF,D:new XF,E:new ZF,e:new JF,c:new eH,i:new sH,a:new rH,b:new iH,B:new aH,h:new oH,H:new lH,K:new cH,k:new uH,m:new dH,s:new fH,S:new hH,X:new pH,x:new mH,t:new gH,T:new yH},bH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,SH=/^'([^]*?)'?$/,wH=/''/g,jH=/\S/,CH=/[a-zA-Z]/;function TH(e,t,s,i){const l=()=>Xt(i?.in||s,NaN),u=kF(),d=i?.locale??u.locale??Fy,f=i?.firstWeekContainsDate??i?.locale?.options?.firstWeekContainsDate??u.firstWeekContainsDate??u.locale?.options?.firstWeekContainsDate??1,p=i?.weekStartsOn??i?.locale?.options?.weekStartsOn??u.weekStartsOn??u.locale?.options?.weekStartsOn??0;if(!t)return e?l():$e(s,i?.in);const g={firstWeekContainsDate:f,weekStartsOn:p,locale:d},y=[new IF(i?.in,s)],v=t.match(vH).map(T=>{const C=T[0];if(C in Ud){const M=Ud[C];return M(T,d.formatLong)}return T}).join("").match(bH),b=[];for(let T of v){!i?.useAdditionalWeekYearTokens&&RD(T)&&lg(T,t,e),!i?.useAdditionalDayOfYearTokens&&OD(T)&&lg(T,t,e);const C=T[0],M=xH[C];if(M){const{incompatibleTokens:k}=M;if(Array.isArray(k)){const N=b.find(W=>k.includes(W.token)||W.token===C);if(N)throw new RangeError(`The format string mustn't contain \`${N.fullToken}\` and \`${T}\` at the same time`)}else if(M.incompatibleTokens==="*"&&b.length>0)throw new RangeError(`The format string mustn't contain \`${T}\` and any other token at the same time`);b.push({token:C,fullToken:T});const P=M.run(e,T,d.match,g);if(!P)return l();y.push(P.setter),e=P.rest}else{if(C.match(CH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if(T==="''"?T="'":C==="'"&&(T=DH(T)),e.indexOf(T)===0)e=e.slice(T.length);else return l()}}if(e.length>0&&jH.test(e))return l();const S=y.map(T=>T.priority).sort((T,C)=>C-T).filter((T,C,M)=>M.indexOf(T)===C).map(T=>y.filter(C=>C.priority===T).sort((C,M)=>M.subPriority-C.subPriority)).map(T=>T[0]);let j=$e(s,i?.in);if(isNaN(+j))return l();const D={};for(const T of S){if(!T.validate(j,g))return l();const C=T.set(j,D,g);Array.isArray(C)?(j=C[0],Object.assign(D,C[1])):j=C}return j}function DH(e){return e.match(SH)[1].replace(wH,"'")}function EH(e,t,s){const i=$e(e,s?.in);return i.setDate(t),i}function MH(e,t,s){const i=$e(e,s?.in);return i.setHours(t),i}function kH(e,t,s){const i=$e(e,s?.in);return i.setMinutes(t),i}function PH(e,t,s){const i=$e(e,s?.in),l=i.getFullYear(),u=i.getDate(),d=Xt(e,0);d.setFullYear(l,t,15),d.setHours(0,0,0,0);const f=BD(d);return i.setMonth(t,Math.min(u,f)),i}function AH(e,t,s){const i=$e(e,s?.in);return i.setSeconds(t),i}function OH(e,t,s){const i=$e(e,s?.in);return i.setMilliseconds(t),i}function RH(e,t,s){const i=$e(e,s?.in);return isNaN(+i)?Xt(e,NaN):(i.setFullYear(t),i)}function IH(e,t){const s=$e(e,t?.in);return s.setDate(1),s.setHours(0,0,0,0),s}function BH(e,t){const s=$e(e,t?.in),i=s.getMonth();return s.setFullYear(s.getFullYear(),i+1,0),s.setHours(23,59,59,999),s}function LH(e,t,s){const i=+$e(e,s?.in),[l,u]=[+$e(t.start,s?.in),+$e(t.end,s?.in)].sort((d,f)=>d-f);return i>=l&&i<=u}const NH={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},FH={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",dayOfMonthFull:"do",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class HH{isMUIAdapter=!0;isTimezoneCompatible=!1;formatTokenMap=NH;escapedCharacters={start:"'",end:"'"};constructor(t){const{locale:s,formats:i,longFormatters:l,lib:u}=t;this.locale=s,this.formats=Z({},FH,i),this.longFormatters=l,this.lib=u||"date-fns"}date=t=>typeof t>"u"?new Date:t===null?null:new Date(t);getInvalidDate=()=>new Date("Invalid Date");getTimezone=()=>"default";setTimezone=t=>t;toJsDate=t=>t;getCurrentLocaleCode=()=>this.locale.code;is12HourCycleInCurrentLocale=()=>/a/.test(this.locale.formatLong.time({width:"short"}));expandFormat=t=>{const s=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return t.match(s).map(i=>{const l=i[0];if(l==="p"||l==="P"){const u=this.longFormatters[l];return u(i,this.locale.formatLong)}return i}).join("")};formatNumber=t=>t;getDayOfWeek=t=>t.getDay()+1}class _H extends HH{constructor({locale:t,formats:s}={}){super({locale:t??Fy,formats:s,longFormatters:Ud})}parse=(t,s)=>t===""?null:TH(t,s,new Date,{locale:this.locale});isValid=t=>t==null?!1:ID(t);format=(t,s)=>this.formatByString(t,this.formats[s]);formatByString=(t,s)=>mF(t,s,{locale:this.locale});isEqual=(t,s)=>t===null&&s===null?!0:t===null||s===null?!1:CF(t,s);isSameYear=(t,s)=>DF(t,s);isSameMonth=(t,s)=>EF(t,s);isSameDay=(t,s)=>TF(t,s);isSameHour=(t,s)=>MF(t,s);isAfter=(t,s)=>hm(t,s);isAfterYear=(t,s)=>hm(t,b1(s));isAfterDay=(t,s)=>hm(t,x1(s));isBefore=(t,s)=>pm(t,s);isBeforeYear=(t,s)=>pm(t,this.startOfYear(s));isBeforeDay=(t,s)=>pm(t,this.startOfDay(s));isWithinRange=(t,[s,i])=>LH(t,{start:s,end:i});startOfYear=t=>MD(t);startOfMonth=t=>IH(t);startOfWeek=t=>Hr(t,{locale:this.locale});startOfDay=t=>kc(t);endOfYear=t=>b1(t);endOfMonth=t=>BH(t);endOfWeek=t=>S4(t,{locale:this.locale});endOfDay=t=>x1(t);addYears=(t,s)=>b4(t,s);addMonths=(t,s)=>ED(t,s);addWeeks=(t,s)=>x4(t,s);addDays=(t,s)=>gf(t,s);addHours=(t,s)=>y4(t,s);addMinutes=(t,s)=>g4(t,s);addSeconds=(t,s)=>m4(t,s);getYear=t=>jF(t);getMonth=t=>vF(t);getDate=t=>yF(t);getHours=t=>xF(t);getMinutes=t=>bF(t);getSeconds=t=>SF(t);getMilliseconds=t=>wF(t);setYear=(t,s)=>RH(t,s);setMonth=(t,s)=>PH(t,s);setDate=(t,s)=>EH(t,s);setHours=(t,s)=>MH(t,s);setMinutes=(t,s)=>kH(t,s);setSeconds=(t,s)=>AH(t,s);setMilliseconds=(t,s)=>OH(t,s);getDaysInMonth=t=>BD(t);getWeekArray=t=>{const s=this.startOfWeek(this.startOfMonth(t)),i=this.endOfWeek(this.endOfMonth(t));let l=0,u=s;const d=[];for(;this.isBefore(u,i);){const f=Math.floor(l/7);d[f]=d[f]||[],d[f].push(u),u=this.addDays(u,1),l+=1}return d};getWeekNumber=t=>_y(t,{locale:this.locale});getYearRange=([t,s])=>{const i=this.startOfYear(t),l=this.endOfYear(s),u=[];let d=i;for(;this.isBefore(d,l);)u.push(d),d=this.addYears(d,1);return u}}const zH=["localeText"],cg=x.createContext(null),_D=function(t){const{localeText:s}=t,i=st(t,zH),{adapter:l,localeText:u}=x.useContext(cg)??{adapter:void 0,localeText:void 0},d=Jt({props:i,name:"MuiLocalizationProvider"}),{children:f,dateAdapter:p,dateFormats:g,dateLibInstance:y,adapterLocale:v,localeText:b}=d,S=x.useMemo(()=>Z({},b,u,s),[b,u,s]),j=x.useMemo(()=>{if(!p)return l||null;const C=new p({locale:v,formats:g,instance:y});if(!C.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/quickstart/#installation"].join(`
`));return C},[p,v,g,y,l]),D=x.useMemo(()=>j?{minDate:j.date("1900-01-01T00:00:00.000"),maxDate:j.date("2099-12-31T00:00:00.000")}:null,[j]),T=x.useMemo(()=>({utils:j,adapter:j,defaultDates:D,localeText:S}),[D,j,S]);return a.jsx(cg.Provider,{value:T,children:f})},Ql=(e,t)=>e.length!==t.length?!1:t.every(s=>e.includes(s)),WH=({openTo:e,defaultOpenTo:t,views:s,defaultViews:i})=>{const l=s??i;let u;if(e!=null)u=e;else if(l.includes(t))u=t;else if(l.length>0)u=l[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:l,openTo:u}},Gd=(e,t,s)=>{let i=t;return i=e.setHours(i,e.getHours(s)),i=e.setMinutes(i,e.getMinutes(s)),i=e.setSeconds(i,e.getSeconds(s)),i=e.setMilliseconds(i,e.getMilliseconds(s)),i},Pc=({date:e,disableFuture:t,disablePast:s,maxDate:i,minDate:l,isDateDisabled:u,adapter:d,timezone:f})=>{const p=Gd(d,d.date(void 0,f),e);s&&d.isBefore(l,p)&&(l=p),t&&d.isAfter(i,p)&&(i=p);let g=e,y=e;for(d.isBefore(e,l)&&(g=l,y=null),d.isAfter(e,i)&&(y&&(y=i),g=null);g||y;){if(g&&d.isAfter(g,i)&&(g=null),y&&d.isBefore(y,l)&&(y=null),g){if(!u(g))return g;g=d.addDays(g,1)}if(y){if(!u(y))return y;y=d.addDays(y,-1)}}return null},VH=(e,t)=>e.isValid(t)?t:null,T1=(e,t,s)=>t==null||!e.isValid(t)?s:t,YH=(e,t,s)=>!e.isValid(t)&&t!=null&&!e.isValid(s)&&s!=null?!0:e.isEqual(t,s),Vy=(e,t)=>{const i=[e.startOfYear(t)];for(;i.length<12;){const l=i[i.length-1];i.push(e.addMonths(l,1))}return i},zD=(e,t,s)=>s==="date"?e.startOfDay(e.date(void 0,t)):e.date(void 0,t),UH=["year","month","day"],D1=e=>UH.includes(e),Yy=(e,{format:t,views:s},i)=>{if(t!=null)return t;const l=e.formats;return Ql(s,["year"])?l.year:Ql(s,["month"])?l.month:Ql(s,["day"])?l.dayOfMonth:Ql(s,["month","year"])?`${l.month} ${l.year}`:Ql(s,["day","month"])?`${l.month} ${l.dayOfMonth}`:i?/en/.test(e.getCurrentLocaleCode())?l.normalDateWithWeekday:l.normalDate:l.keyboardDate},qH=(e,t)=>{const s=e.startOfWeek(t);return[0,1,2,3,4,5,6].map(i=>e.addDays(s,i))},GH=["hours","minutes","seconds"],$H=e=>GH.includes(e),E1=(e,t)=>t.getHours(e)*3600+t.getMinutes(e)*60+t.getSeconds(e),QH=(e,t)=>(s,i)=>e?t.isAfter(s,i):E1(s,t)>E1(i,t),Js={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},KH=e=>Math.max(...e.map(t=>Js[t.type]??1)),Kl=(e,t,s)=>{if(t===Js.year)return e.startOfYear(s);if(t===Js.month)return e.startOfMonth(s);if(t===Js.day)return e.startOfDay(s);let i=s;return t<Js.minutes&&(i=e.setMinutes(i,0)),t<Js.seconds&&(i=e.setSeconds(i,0)),t<Js.milliseconds&&(i=e.setMilliseconds(i,0)),i},XH=({props:e,adapter:t,granularity:s,timezone:i,getTodayDate:l})=>{let u=l?l():Kl(t,s,zD(t,i));e.minDate!=null&&t.isAfterDay(e.minDate,u)&&(u=Kl(t,s,e.minDate)),e.maxDate!=null&&t.isBeforeDay(e.maxDate,u)&&(u=Kl(t,s,e.maxDate));const d=QH(e.disableIgnoringDatePartForTimeValidation??!1,t);return e.minTime!=null&&d(e.minTime,u)&&(u=Kl(t,s,e.disableIgnoringDatePartForTimeValidation?e.minTime:Gd(t,u,e.minTime))),e.maxTime!=null&&d(u,e.maxTime)&&(u=Kl(t,s,e.disableIgnoringDatePartForTimeValidation?e.maxTime:Gd(t,u,e.maxTime))),u},WD=(e,t)=>{const s=e.formatTokenMap[t];if(s==null)throw new Error([`MUI X: The token "${t}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof s=="string"?{type:s,contentType:s==="meridiem"?"letter":"digit",maxLength:void 0}:{type:s.sectionType,contentType:s.contentType,maxLength:s.maxLength}},yf=(e,t)=>{const s=[],i=e.date(void 0,"default"),l=e.startOfWeek(i),u=e.endOfWeek(i);let d=l;for(;e.isBefore(d,u);)s.push(d),d=e.addDays(d,1);return s.map(f=>e.formatByString(f,t))},VD=(e,t,s,i)=>{switch(s){case"month":return Vy(e,e.date(void 0,t)).map(l=>e.formatByString(l,i));case"weekDay":return yf(e,i);case"meridiem":{const l=e.date(void 0,t);return[e.startOfDay(l),e.endOfDay(l)].map(u=>e.formatByString(u,i))}default:return[]}},M1="s",ZH=["0","1","2","3","4","5","6","7","8","9"],JH=e=>{const t=e.date(void 0);return e.formatByString(e.setSeconds(t,0),M1)==="0"?ZH:Array.from({length:10}).map((i,l)=>e.formatByString(e.setSeconds(t,l),M1))},ba=(e,t)=>{if(t[0]==="0")return e;const s=[];let i="";for(let l=0;l<e.length;l+=1){i+=e[l];const u=t.indexOf(i);u>-1&&(s.push(u.toString()),i="")}return s.join("")},Uy=(e,t)=>t[0]==="0"?e:e.split("").map(s=>t[Number(s)]).join(""),k1=(e,t)=>{const s=ba(e,t);return s!==" "&&!Number.isNaN(Number(s))},qy=(e,t)=>Number(e).toString().padStart(t,"0"),YD=(e,t,s,i,l)=>{if(l.type==="day"&&l.contentType==="digit-with-letter"){const d=e.setDate(s.longestMonth,t);return e.formatByString(d,l.format)}let u=t.toString();return l.hasLeadingZerosInInput&&(u=qy(u,l.maxLength)),Uy(u,i)},Gy=(e,t,s)=>{let i=e.value||e.placeholder;const l=t==="non-input"?e.hasLeadingZerosInFormat:e.hasLeadingZerosInInput;return t==="non-input"&&e.hasLeadingZerosInInput&&!e.hasLeadingZerosInFormat&&(i=Number(ba(i,s)).toString()),["input-rtl","input-ltr"].includes(t)&&e.contentType==="digit"&&!l&&i.length===1&&(i=`${i}`),t==="input-rtl"&&(i=`${i}`),i},P1=(e,t,s,i)=>e.formatByString(e.parse(t,s),i),e_=(e,t)=>e.formatByString(e.date(void 0,"system"),t).length===4,UD=(e,t,s,i)=>{if(t!=="digit")return!1;const l=e.date(void 0,"default");switch(s){case"year":return e.lib==="dayjs"&&i==="YY"?!0:e.formatByString(e.setYear(l,1),i).startsWith("0");case"month":return e.formatByString(e.startOfYear(l),i).length>1;case"day":return e.formatByString(e.startOfMonth(l),i).length>1;case"weekDay":return e.formatByString(e.startOfWeek(l),i).length>1;case"hours":return e.formatByString(e.setHours(l,1),i).length>1;case"minutes":return e.formatByString(e.setMinutes(l,1),i).length>1;case"seconds":return e.formatByString(e.setSeconds(l,1),i).length>1;default:throw new Error("Invalid section type")}},t_=(e,t,s)=>{const i=t.some(p=>p.type==="day"),l=[],u=[];for(let p=0;p<t.length;p+=1){const g=t[p];i&&g.type==="weekDay"||(l.push(g.format),u.push(Gy(g,"non-input",s)))}const d=l.join(" "),f=u.join(" ");return e.parse(f,d)},n_=e=>e.map(t=>`${t.startSeparator}${t.value||t.placeholder}${t.endSeparator}`).join(""),s_=(e,t,s)=>{const l=e.map(u=>{const d=Gy(u,s?"input-rtl":"input-ltr",t);return`${u.startSeparator}${d}${u.endSeparator}`}).join("");return s?`${l}`:l},r_=(e,t,s)=>{const i=e.date(void 0,s),l=e.endOfYear(i),u=e.endOfDay(i),{maxDaysInMonth:d,longestMonth:f}=Vy(e,i).reduce((p,g)=>{const y=e.getDaysInMonth(g);return y>p.maxDaysInMonth?{maxDaysInMonth:y,longestMonth:g}:p},{maxDaysInMonth:0,longestMonth:null});return{year:({format:p})=>({minimum:0,maximum:e_(e,p)?9999:99}),month:()=>({minimum:1,maximum:e.getMonth(l)+1}),day:({currentDate:p})=>({minimum:1,maximum:e.isValid(p)?e.getDaysInMonth(p):d,longestMonth:f}),weekDay:({format:p,contentType:g})=>{if(g==="digit"){const y=yf(e,p).map(Number);return{minimum:Math.min(...y),maximum:Math.max(...y)}}return{minimum:1,maximum:7}},hours:({format:p})=>{const g=e.getHours(u);return ba(e.formatByString(e.endOfDay(i),p),t)!==g.toString()?{minimum:1,maximum:Number(ba(e.formatByString(e.startOfDay(i),p),t))}:{minimum:0,maximum:g}},minutes:()=>({minimum:0,maximum:e.getMinutes(u)}),seconds:()=>({minimum:0,maximum:e.getSeconds(u)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}},i_=(e,t,s,i)=>{switch(t.type){case"year":return e.setYear(i,e.getYear(s));case"month":return e.setMonth(i,e.getMonth(s));case"weekDay":{let l=e.formatByString(s,t.format);t.hasLeadingZerosInInput&&(l=qy(l,t.maxLength));const u=yf(e,t.format),d=u.indexOf(l),p=u.indexOf(t.value)-d;return e.addDays(s,p)}case"day":return e.setDate(i,e.getDate(s));case"meridiem":{const l=e.getHours(s)<12,u=e.getHours(i);return l&&u>=12?e.addHours(i,-12):!l&&u<12?e.addHours(i,12):i}case"hours":return e.setHours(i,e.getHours(s));case"minutes":return e.setMinutes(i,e.getMinutes(s));case"seconds":return e.setSeconds(i,e.getSeconds(s));default:return i}},A1={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},O1=(e,t,s,i,l)=>[...s].sort((u,d)=>A1[u.type]-A1[d.type]).reduce((u,d)=>!l||d.modified?i_(e,d,t,u):u,i),a_=()=>navigator.userAgent.toLowerCase().includes("android"),o_=(e,t)=>{const s={};if(!t)return e.forEach((p,g)=>{const y=g===0?null:g-1,v=g===e.length-1?null:g+1;s[g]={leftIndex:y,rightIndex:v}}),{neighbors:s,startIndex:0,endIndex:e.length-1};const i={},l={};let u=0,d=0,f=e.length-1;for(;f>=0;){d=e.findIndex((p,g)=>g>=u&&p.endSeparator?.includes(" ")&&p.endSeparator!==" / "),d===-1&&(d=e.length-1);for(let p=d;p>=u;p-=1)l[p]=f,i[f]=p,f-=1;u=d+1}return e.forEach((p,g)=>{const y=l[g],v=y===0?null:i[y-1],b=y===e.length-1?null:i[y+1];s[g]={leftIndex:v,rightIndex:b}}),{neighbors:s,startIndex:i[0],endIndex:i[e.length-1]}},ug=(e,t)=>{if(e==null)return null;if(e==="all")return"all";if(typeof e=="string"){const s=t.findIndex(i=>i.type===e);return s===-1?null:s}return e},l_=["value","referenceDate"],lr={emptyValue:null,getTodayValue:zD,getInitialReferenceValue:e=>{let{value:t,referenceDate:s}=e,i=st(e,l_);return i.adapter.isValid(t)?t:s??XH(i)},cleanValue:VH,areValuesEqual:YH,isSameError:(e,t)=>e===t,hasError:e=>e!=null,defaultErrorState:null,getTimezone:(e,t)=>e.isValid(t)?e.getTimezone(t):null,setTimezone:(e,t,s)=>s==null?null:e.setTimezone(s,t)},c_={updateReferenceValue:(e,t,s)=>e.isValid(t)?t:s,getSectionsFromValue:(e,t)=>t(e),getV7HiddenInputValueFromSections:n_,getV6InputValueFromSections:s_,parseValueStr:(e,t,s)=>s(e.trim(),t),getDateFromSection:e=>e,getDateSectionsFromValue:e=>e,updateDateInValue:(e,t,s)=>s,clearDateSections:e=>e.map(t=>Z({},t,{value:""}))};function u_(e){return vn("MuiPickersToolbar",e)}Sn("MuiPickersToolbar",["root","title","content"]);const qD=x.createContext(()=>!0);function d_(){return x.useContext(qD)}const GD=x.createContext(null);function $D(){return x.useContext(GD)}const $y=x.createContext(null),Jo=()=>{const e=x.useContext($y);if(e==null)throw new Error("MUI X: The `usePickerContext` hook can only be called inside the context of a Picker component");return e},QD=x.createContext(null),KD=x.createContext({ownerState:{isPickerDisabled:!1,isPickerReadOnly:!1,isPickerValueEmpty:!1,isPickerOpen:!1,pickerVariant:"desktop",pickerOrientation:"portrait"},rootRefObject:{current:null},labelId:void 0,dismissViews:()=>{},hasUIView:!0,getCurrentViewMode:()=>"UI",triggerElement:null,viewContainerRole:null,defaultActionBarActions:[],onPopperExited:void 0});function XD(e){const{contextValue:t,actionsContextValue:s,privateContextValue:i,fieldPrivateContextValue:l,isValidContextValue:u,localeText:d,children:f}=e;return a.jsx($y.Provider,{value:t,children:a.jsx(QD.Provider,{value:s,children:a.jsx(KD.Provider,{value:i,children:a.jsx(GD.Provider,{value:l,children:a.jsx(qD.Provider,{value:u,children:a.jsx(_D,{localeText:d,children:f})})})})})})}const In=()=>x.useContext(KD);function ZD(){const{ownerState:e}=In(),t=_r();return x.useMemo(()=>Z({},e,{toolbarDirection:t?"rtl":"ltr"}),[e,t])}const f_=["children","className","classes","toolbarTitle","hidden","titleId","classes","landscapeDirection"],h_=e=>rn({root:["root"],title:["title"],content:["content"]},u_,e),p_=ze("div",{name:"MuiPickersToolbar",slot:"Root"})(({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:e.spacing(2,3),variants:[{props:{pickerOrientation:"landscape"},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),m_=ze("div",{name:"MuiPickersToolbar",slot:"Content",shouldForwardProp:e=>va(e)&&e!=="landscapeDirection"})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{pickerOrientation:"landscape"},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{pickerOrientation:"landscape",landscapeDirection:"row"},style:{flexDirection:"row"}}]}),g_=x.forwardRef(function(t,s){const i=Jt({props:t,name:"MuiPickersToolbar"}),{children:l,className:u,classes:d,toolbarTitle:f,hidden:p,titleId:g,landscapeDirection:y}=i,v=st(i,f_),b=ZD(),S=h_(d);return p?null:a.jsxs(p_,Z({ref:s,className:Rn(S.root,u),ownerState:b},v,{children:[a.jsx(R,{color:"text.secondary",variant:"overline",id:g,className:S.title,children:f}),a.jsx(m_,{className:S.content,ownerState:b,landscapeDirection:y,children:l})]}))}),y_=e=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:Z({},e)}}}}),JD={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:e=>e==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",nextStepButtonLabel:"Next",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",timeRangePickerToolbarTitle:"Select time range",clockLabelText:(e,t)=>`Select ${e}. ${t?`Selected time is ${t}`:"No time selected"}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:e=>e?`Choose date, selected date is ${e}`:"Choose date",openTimePickerDialogue:e=>e?`Choose time, selected time is ${e}`:"Choose time",openRangePickerDialogue:e=>e?`Choose range, selected range is ${e}`:"Choose range",fieldClearLabel:"Clear",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>e.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>e.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},x_=JD;y_(JD);const Qy=()=>{const e=x.useContext(cg);if(e===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(e.adapter===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const t=x.useMemo(()=>Z({},x_,e.localeText),[e.localeText]);return x.useMemo(()=>Z({},e,{localeText:t}),[e,t])},Ht=()=>Qy().adapter,Pi=()=>Qy().localeText,dg=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],fg=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],eE=["minDateTime","maxDateTime"],b_=[...dg,...fg,...eE],tE=e=>b_.reduce((t,s)=>(e.hasOwnProperty(s)&&(t[s]=e[s]),t),{}),v_=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","unstableStartFieldRef","unstableEndFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator","autoFocus","focused"],nE=(e,t)=>x.useMemo(()=>{const s=Z({},e),i={},l=u=>{s.hasOwnProperty(u)&&(i[u]=s[u],delete s[u])};return v_.forEach(l),t==="date"?dg.forEach(l):t==="time"?fg.forEach(l):t==="date-time"&&(dg.forEach(l),fg.forEach(l),eE.forEach(l)),{forwardedProps:s,internalProps:i}},[e,t]),S_=({adapter:e,format:t})=>{let s=10,i=t,l=e.expandFormat(t);for(;l!==i;)if(i=l,l=e.expandFormat(i),s-=1,s<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the component.");return l},w_=({adapter:e,expandedFormat:t})=>{const s=[],{start:i,end:l}=e.escapedCharacters,u=new RegExp(`(\\${i}[^\\${l}]*\\${l})+`,"g");let d=null;for(;d=u.exec(t);)s.push({start:d.index,end:u.lastIndex-1});return s},j_=(e,t,s,i)=>{switch(s.type){case"year":return t.fieldYearPlaceholder({digitAmount:e.formatByString(e.date(void 0,"default"),i).length,format:i});case"month":return t.fieldMonthPlaceholder({contentType:s.contentType,format:i});case"day":return t.fieldDayPlaceholder({format:i});case"weekDay":return t.fieldWeekDayPlaceholder({contentType:s.contentType,format:i});case"hours":return t.fieldHoursPlaceholder({format:i});case"minutes":return t.fieldMinutesPlaceholder({format:i});case"seconds":return t.fieldSecondsPlaceholder({format:i});case"meridiem":return t.fieldMeridiemPlaceholder({format:i});default:return i}},C_=({adapter:e,date:t,shouldRespectLeadingZeros:s,localeText:i,localizedDigits:l,now:u,token:d,startSeparator:f})=>{if(d==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const p=WD(e,d),g=UD(e,p.contentType,p.type,d),y=s?g:p.contentType==="digit",v=e.isValid(t);let b=v?e.formatByString(t,d):"",S=null;if(y)if(g)S=b===""?e.formatByString(u,d).length:b.length;else{if(p.maxLength==null)throw new Error(`MUI X: The token ${d} should have a 'maxLength' property on it's adapter`);S=p.maxLength,v&&(b=Uy(qy(ba(b,l),S),l))}return Z({},p,{format:d,maxLength:S,value:b,placeholder:j_(e,i,p,d),hasLeadingZerosInFormat:g,hasLeadingZerosInInput:y,startSeparator:f,endSeparator:"",modified:!1})},T_=e=>{const{adapter:t,expandedFormat:s,escapedParts:i}=e,l=t.date(void 0),u=[];let d="";const f=Object.keys(t.formatTokenMap).sort((S,j)=>j.length-S.length),p=/^([a-zA-Z]+)/,g=new RegExp(`^(${f.join("|")})*$`),y=new RegExp(`^(${f.join("|")})`),v=S=>i.find(j=>j.start<=S&&j.end>=S);let b=0;for(;b<s.length;){const S=v(b),j=S!=null,D=p.exec(s.slice(b))?.[1];if(!j&&D!=null&&g.test(D)){let T=D;for(;T.length>0;){const C=y.exec(T)[1];T=T.slice(C.length),u.push(C_(Z({},e,{now:l,token:C,startSeparator:d}))),d=""}b+=D.length}else{const T=s[b];j&&S?.start===b||S?.end===b||(u.length===0?d+=T:(u[u.length-1].endSeparator+=T,u[u.length-1].isEndFormatSeparator=!0)),b+=1}}return u.length===0&&d.length>0&&u.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:d,endSeparator:"",modified:!1}),u},D_=({isRtl:e,formatDensity:t,sections:s})=>s.map(i=>{const l=u=>{let d=u;return e&&d!==null&&d.includes(" ")&&(d=`${d}`),t==="spacious"&&["/",".","-"].includes(d)&&(d=` ${d} `),d};return i.startSeparator=l(i.startSeparator),i.endSeparator=l(i.endSeparator),i}),R1=e=>{let t=S_(e);e.isRtl&&e.enableAccessibleFieldDOMStructure&&(t=t.split(" ").reverse().join(" "));const s=w_(Z({},e,{expandedFormat:t})),i=T_(Z({},e,{expandedFormat:t,escapedParts:s}));return D_(Z({},e,{sections:i}))},Ky=()=>x.useContext($y),E_=()=>{const e=x.useContext(QD);if(e==null)throw new Error(["MUI X: The `usePickerActionsContext` can only be called in fields that are used as a slot of a Picker component"].join(`
`));return e};function M_(e){return vn("MuiDatePickerToolbar",e)}Sn("MuiDatePickerToolbar",["root","title"]);const k_=["toolbarFormat","toolbarPlaceholder","className","classes"],P_=e=>rn({root:["root"],title:["title"]},M_,e),A_=ze(g_,{name:"MuiDatePickerToolbar",slot:"Root"})({}),O_=ze(R,{name:"MuiDatePickerToolbar",slot:"Title"})({variants:[{props:{pickerOrientation:"landscape"},style:{margin:"auto 16px auto auto"}}]}),R_=x.forwardRef(function(t,s){const i=Jt({props:t,name:"MuiDatePickerToolbar"}),{toolbarFormat:l,toolbarPlaceholder:u="",className:d,classes:f}=i,p=st(i,k_),g=Ht(),{value:y,views:v,orientation:b}=Jo(),S=Pi(),j=ZD(),D=P_(f),T=x.useMemo(()=>{if(!g.isValid(y))return u;const C=Yy(g,{format:l,views:v},!0);return g.formatByString(y,C)},[y,l,u,g,v]);return a.jsx(A_,Z({ref:s,toolbarTitle:S.datePickerToolbarTitle,className:Rn(D.root,d)},p,{children:a.jsx(O_,{variant:"h4",align:b==="landscape"?"left":"center",ownerState:j,className:D.title,children:T})}))}),qc=({props:e,value:t,timezone:s,adapter:i})=>{if(t===null)return null;const{shouldDisableDate:l,shouldDisableMonth:u,shouldDisableYear:d,disablePast:f,disableFuture:p,minDate:g,maxDate:y}=e,v=i.date(void 0,s);switch(!0){case!i.isValid(t):return"invalidDate";case!!(l&&l(t)):return"shouldDisableDate";case!!(u&&u(t)):return"shouldDisableMonth";case!!(d&&d(t)):return"shouldDisableYear";case!!(p&&i.isAfterDay(t,v)):return"disableFuture";case!!(f&&i.isBeforeDay(t,v)):return"disablePast";case!!(g&&i.isBeforeDay(t,g)):return"minDate";case!!(y&&i.isAfterDay(t,y)):return"maxDate";default:return null}};qc.valueManager=lr;function sE(e){const{props:t,validator:s,value:i,timezone:l,onError:u}=e,d=Ht(),f=x.useRef(s.valueManager.defaultErrorState),p=s({adapter:d,value:i,timezone:l,props:t}),g=s.valueManager.hasError(p);x.useEffect(()=>{u&&!s.valueManager.isSameError(p,f.current)&&u(p,i),f.current=p},[s,u,p,i]);const y=Ae(v=>s({adapter:d,value:v,timezone:l,props:t}));return{validationError:p,hasValidationError:g,getValidationErrorForNewValue:y}}const I_=()=>Qy().defaultDates,xf=e=>{const t=Ht(),s=x.useRef(void 0);return s.current===void 0&&(s.current=t.date(void 0,e)),s.current};function B_(e={}){const{enableAccessibleFieldDOMStructure:t=!0}=e;return x.useMemo(()=>({valueType:"date",validator:qc,internal_valueManager:lr,internal_fieldValueManager:c_,internal_enableAccessibleFieldDOMStructure:t,internal_useApplyDefaultValuesToFieldInternalProps:N_,internal_useOpenPickerButtonAriaLabel:L_}),[t])}function L_(e){const t=Ht(),s=Pi();return x.useMemo(()=>{const i=t.isValid(e)?t.format(e,"fullDate"):null;return s.openDatePickerDialogue(i)},[e,s,t])}function N_(e){const t=Ht(),s=Gc(e);return x.useMemo(()=>Z({},e,s,{format:e.format??t.formats.keyboardDate}),[e,s,t])}function Gc(e){const t=Ht(),s=I_();return x.useMemo(()=>({disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,minDate:T1(t,e.minDate,s.minDate),maxDate:T1(t,e.maxDate,s.maxDate)}),[e.minDate,e.maxDate,e.disableFuture,e.disablePast,t,s])}function rE(e,t){const s=Jt({props:e,name:t}),i=Gc(s),l=x.useMemo(()=>s.localeText?.toolbarTitle==null?s.localeText:Z({},s.localeText,{datePickerToolbarTitle:s.localeText.toolbarTitle}),[s.localeText]);return Z({},s,i,{localeText:l},WH({views:s.views,openTo:s.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{slots:Z({toolbar:R_},s.slots)})}function F_(e){return vn("MuiPickerPopper",e)}Sn("MuiPickerPopper",["root","paper"]);function H_(e,t){return Array.isArray(t)?t.every(s=>e.indexOf(s)!==-1):e.indexOf(t)!==-1}const __=e=>{setTimeout(e,0)},iE=(e=document)=>{const t=e.activeElement;return t?t.shadowRoot?iE(t.shadowRoot):t:null},Yn=e=>iE(tc(e)),z_="@media (pointer: fine)",W_=["PaperComponent","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],V_=e=>rn({root:["root"],paper:["paper"]},F_,e),Y_=ze(Pk,{name:"MuiPickerPopper",slot:"Root"})(({theme:e})=>({zIndex:e.zIndex.modal})),U_=ze(Fn,{name:"MuiPickerPopper",slot:"Paper"})({outline:0,transformOrigin:"top center",variants:[{props:({popperPlacement:e})=>new Set(["top","top-start","top-end"]).has(e),style:{transformOrigin:"bottom center"}}]});function q_(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function G_(e,t){const s=x.useRef(!1),i=x.useRef(!1),l=x.useRef(null),u=x.useRef(!1);x.useEffect(()=>{if(!e)return;function p(){u.current=!0}return document.addEventListener("mousedown",p,!0),document.addEventListener("touchstart",p,!0),()=>{document.removeEventListener("mousedown",p,!0),document.removeEventListener("touchstart",p,!0),u.current=!1}},[e]);const d=Ae(p=>{if(!u.current)return;const g=i.current;i.current=!1;const y=tc(l.current);if(!l.current||"clientX"in p&&q_(p,y))return;if(s.current){s.current=!1;return}let v;p.composedPath?v=p.composedPath().indexOf(l.current)>-1:v=!y.documentElement.contains(p.target)||l.current.contains(p.target),!v&&!g&&t(p)}),f=p=>{p.defaultMuiPrevented||(i.current=!0)};return x.useEffect(()=>{if(e){const p=tc(l.current),g=()=>{s.current=!0};return p.addEventListener("touchstart",d),p.addEventListener("touchmove",g),()=>{p.removeEventListener("touchstart",d),p.removeEventListener("touchmove",g)}}},[e,d]),x.useEffect(()=>{if(e){const p=tc(l.current);return p.addEventListener("click",d),()=>{p.removeEventListener("click",d),i.current=!1}}},[e,d]),[l,f,f]}const $_=x.forwardRef((e,t)=>{const{PaperComponent:s,ownerState:i,children:l,paperSlotProps:u,paperClasses:d,onPaperClick:f,onPaperTouchStart:p}=e,g=st(e,W_),y=Et({elementType:s,externalSlotProps:u,additionalProps:{tabIndex:-1,elevation:8,ref:t},className:d,ownerState:i});return a.jsx(s,Z({},g,y,{onClick:v=>{f(v),y.onClick?.(v)},onTouchStart:v=>{p(v),y.onTouchStart?.(v)},ownerState:i,children:l}))});function Q_(e){const t=Jt({props:e,name:"MuiPickerPopper"}),{children:s,placement:i="bottom-start",slots:l,slotProps:u,classes:d}=t,{open:f,popupRef:p,reduceAnimations:g}=Jo(),{ownerState:y,rootRefObject:v}=In(),{dismissViews:b,getCurrentViewMode:S,onPopperExited:j,triggerElement:D,viewContainerRole:T}=In();x.useEffect(()=>{function I(Q){f&&Q.key==="Escape"&&b()}return document.addEventListener("keydown",I),()=>{document.removeEventListener("keydown",I)}},[b,f]);const C=x.useRef(null);x.useEffect(()=>{T==="tooltip"||S()==="field"||(f?C.current=Yn(v.current):C.current&&C.current instanceof HTMLElement&&setTimeout(()=>{C.current instanceof HTMLElement&&C.current.focus()}))},[f,T,S,v]);const M=V_(d),k=Ae(()=>{T==="tooltip"?__(()=>{v.current?.contains(Yn(v.current))||p.current?.contains(Yn(p.current))||b()}):b()}),[P,N,W]=G_(f,k),E=x.useRef(null),L=as(E,p),_=as(L,P),B=I=>{I.key==="Escape"&&(I.stopPropagation(),b())},V=l?.desktopTransition??g?Qd:Mk,A=l?.desktopTrapFocus??kk,q=l?.desktopPaper??U_,U=l?.popper??Y_,z=Et({elementType:U,externalSlotProps:u?.popper,additionalProps:{transition:!0,role:T??void 0,open:f,placement:i,anchorEl:D,onKeyDown:B},className:M.root,ownerState:y}),F=x.useMemo(()=>Z({},y,{popperPlacement:z.placement}),[y,z.placement]);return a.jsx(U,Z({},z,{children:({TransitionProps:I})=>a.jsx(A,Z({open:f,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:T==="tooltip",isEnabled:()=>!0},u?.desktopTrapFocus,{children:a.jsx(V,Z({},I,u?.desktopTransition,{onExited:Q=>{j?.(),u?.desktopTransition?.onExited?.(Q),I?.onExited?.()},children:a.jsx($_,{PaperComponent:q,ownerState:F,ref:_,onPaperClick:N,onPaperTouchStart:W,paperClasses:M.paper,paperSlotProps:u?.desktopPaper,children:s})}))}))}))}const K_="@media (prefers-reduced-motion: reduce)",Oo=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),I1=Oo&&Oo[1]?parseInt(Oo[1],10):null,B1=Oo&&Oo[2]?parseInt(Oo[2],10):null,X_=I1&&I1<10||B1&&B1<13||!1;function aE(e){const t=tj(K_,{defaultMatches:!1});return e??(t||X_)}const oE={hasNextStep:!1,hasSeveralSteps:!1,goToNextStep:()=>{},areViewsInSameStep:()=>!0};function Z_(e){const{steps:t,isViewMatchingStep:s,onStepChange:i}=e;return l=>{if(t==null)return oE;const u=t.findIndex(f=>s(l.view,f)),d=u===-1||u===t.length-1?null:t[u+1];return{hasNextStep:d!=null,hasSeveralSteps:t.length>1,goToNextStep:()=>{d!=null&&i(Z({},l,{step:d}))},areViewsInSameStep:(f,p)=>{const g=t.find(v=>s(f,v)),y=t.find(v=>s(p,v));return g===y}}}}function lE({onChange:e,onViewChange:t,openTo:s,view:i,views:l,autoFocus:u,focusedView:d,onFocusedViewChange:f,getStepNavigation:p}){const g=x.useRef(s),y=x.useRef(l),v=x.useRef(l.includes(s)?s:l[0]),[b,S]=Bo({name:"useViews",state:"view",controlled:i,default:v.current}),j=x.useRef(u?b:null),[D,T]=Bo({name:"useViews",state:"focusedView",controlled:d,default:j.current}),C=p?p({setView:S,view:b,defaultView:v.current,views:l}):oE;x.useEffect(()=>{(g.current&&g.current!==s||y.current&&y.current.some(_=>!l.includes(_)))&&(S(l.includes(s)?s:l[0]),y.current=l,g.current=s)},[s,S,b,l]);const M=l.indexOf(b),k=l[M-1]??null,P=l[M+1]??null,N=Ae((_,B)=>{T(B?_:V=>_===V?null:V),f?.(_,B)}),W=Ae(_=>{N(_,!0),_!==b&&(S(_),t&&t(_))}),E=Ae(()=>{P&&W(P)}),L=Ae((_,B,V)=>{const A=B==="finish",q=V?l.indexOf(V)<l.length-1:!!P;e(_,A&&q?"partial":B,V);let z=null;if(V!=null&&V!==b?z=V:A&&(z=b),z==null)return;const F=l[l.indexOf(z)+1];F==null||!C.areViewsInSameStep(z,F)||W(F)});return Z({},C,{view:b,setView:W,focusedView:D,setFocusedView:N,nextView:P,previousView:k,defaultView:l.includes(s)?s:l[0],goToNextView:E,setValueAndGoToNextView:L})}function L1(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}function J_(e,t){const[s,i]=x.useState(L1);return Ir(()=>{const l=()=>{i(L1())};return window.addEventListener("orientationchange",l),()=>{window.removeEventListener("orientationchange",l)}},[]),H_(e,["hours","minutes","seconds"])?"portrait":t??s}const $c=({name:e,timezone:t,value:s,defaultValue:i,referenceDate:l,onChange:u,valueManager:d})=>{const f=Ht(),[p,g]=Bo({name:e,state:"value",controlled:s,default:i??d.emptyValue}),y=x.useMemo(()=>d.getTimezone(f,p),[f,d,p]),v=Ae(D=>y==null?D:d.setTimezone(f,y,D)),b=x.useMemo(()=>t||y||(l?f.getTimezone(Array.isArray(l)?l[0]:l):"default"),[t,y,l,f]),S=x.useMemo(()=>d.setTimezone(f,b,p),[d,f,b,p]),j=Ae((D,...T)=>{const C=v(D);g(C),u?.(C,...T)});return{value:S,handleValueChange:j,timezone:b}};function ez(e){const{props:t,valueManager:s,validator:i}=e,{value:l,defaultValue:u,onChange:d,referenceDate:f,timezone:p,onAccept:g,closeOnSelect:y,open:v,onOpen:b,onClose:S}=t,{current:j}=x.useRef(u),{current:D}=x.useRef(l!==void 0),{current:T}=x.useRef(v!==void 0),C=Ht(),{timezone:M,value:k,handleValueChange:P}=$c({name:"a picker component",timezone:p,value:l,defaultValue:j,referenceDate:f,onChange:d,valueManager:s}),[N,W]=x.useState(()=>({open:!1,lastExternalValue:k,clockShallowValue:void 0,lastCommittedValue:k,hasBeenModifiedSinceMount:!1})),{getValidationErrorForNewValue:E}=sE({props:t,validator:i,timezone:M,value:k,onError:t.onError}),L=Ae(A=>{const q=typeof A=="function"?A(N.open):A;T||W(U=>Z({},U,{open:q})),q&&b&&b(),q||S?.()}),_=Ae((A,q)=>{const{changeImportance:U="accept",skipPublicationIfPristine:z=!1,validationError:F,shortcut:I,shouldClose:Q=U==="accept"}=q??{};let ee,ye;!z&&!D&&!N.hasBeenModifiedSinceMount?(ee=!0,ye=U==="accept"):(ee=!s.areValuesEqual(C,A,k),ye=U==="accept"&&!s.areValuesEqual(C,A,N.lastCommittedValue)),W(De=>Z({},De,{clockShallowValue:ee?void 0:De.clockShallowValue,lastCommittedValue:ye?A:De.lastCommittedValue,hasBeenModifiedSinceMount:!0}));let fe=null;const ge=()=>(fe||(fe={validationError:F??E(A)},I&&(fe.shortcut=I)),fe);ee&&P(A,ge()),ye&&g&&g(A,ge()),Q&&L(!1)});k!==N.lastExternalValue&&W(A=>Z({},A,{lastExternalValue:k,clockShallowValue:void 0,hasBeenModifiedSinceMount:!0}));const B=Ae((A,q="partial")=>{if(q==="shallow"){W(U=>Z({},U,{clockShallowValue:A,hasBeenModifiedSinceMount:!0}));return}_(A,{changeImportance:q==="finish"&&y?"accept":"set"})});x.useEffect(()=>{if(T){if(v===void 0)throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");W(A=>Z({},A,{open:v}))}},[T,v]);const V=x.useMemo(()=>s.cleanValue(C,N.clockShallowValue===void 0?k:N.clockShallowValue),[C,s,N.clockShallowValue,k]);return{timezone:M,state:N,setValue:_,setValueFromView:B,setOpen:L,value:k,viewValue:V}}const tz=["className","sx"],cE=({ref:e,props:t,valueManager:s,valueType:i,variant:l,validator:u,onPopperExited:d,autoFocusView:f,rendererInterceptor:p,localeText:g,viewContainerRole:y,getStepNavigation:v})=>{const{views:b,view:S,openTo:j,onViewChange:D,viewRenderers:T,reduceAnimations:C,orientation:M,disableOpenPicker:k,closeOnSelect:P,disabled:N,readOnly:W,formatDensity:E,enableAccessibleFieldDOMStructure:L,selectedSections:_,onSelectedSectionsChange:B,format:V,label:A,autoFocus:q,name:U}=t,{className:z,sx:F}=t,I=st(t,tz),Q=yg(),ee=Ht(),ye=aE(C),fe=J_(b,M),{current:ge}=x.useRef(j??null),[De,ke]=x.useState(null),Oe=x.useRef(null),Ve=x.useRef(null),Ue=x.useRef(null),nt=as(e,Ue),{timezone:Ne,state:ce,setOpen:de,setValue:Te,setValueFromView:Ee,value:oe,viewValue:Ce}=ez({props:t,valueManager:s,validator:u}),{view:te,setView:we,defaultView:ne,focusedView:le,setFocusedView:$,setValueAndGoToNextView:be,goToNextStep:K,hasNextStep:he,hasSeveralSteps:xe}=lE({view:S,views:b,openTo:j,onChange:Ee,onViewChange:D,autoFocus:f,getStepNavigation:v}),je=Ae(()=>Te(s.emptyValue)),Re=Ae(()=>Te(s.getTodayValue(ee,Ne,i))),Ke=Ae(()=>Te(oe)),lt=Ae(()=>Te(ce.lastCommittedValue,{skipPublicationIfPristine:!0})),Be=Ae(()=>{Te(oe,{skipPublicationIfPristine:!0})}),{hasUIView:Ge,viewModeLookup:Ze,timeViewsCount:xt}=x.useMemo(()=>b.reduce((dn,vs)=>{const Wr=T[vs]==null?"field":"UI";return dn.viewModeLookup[vs]=Wr,Wr==="UI"&&(dn.hasUIView=!0,$H(vs)&&(dn.timeViewsCount+=1)),dn},{hasUIView:!1,viewModeLookup:{},timeViewsCount:0}),[T,b]),it=Ze[te],at=Ae(()=>it),[dt,qt]=x.useState(it==="UI"?te:null);dt!==te&&Ze[te]==="UI"&&qt(te),Ir(()=>{it==="field"&&ce.open&&(de(!1),setTimeout(()=>{Ve?.current?.setSelectedSections(te),Ve?.current?.focusField(te)}))},[te]),Ir(()=>{if(!ce.open)return;let dn=te;it==="field"&&dt!=null&&(dn=dt),dn!==ne&&Ze[dn]==="UI"&&Ze[ne]==="UI"&&(dn=ne),dn!==te&&we(dn),$(dn,!0)},[ce.open]);const ft=x.useMemo(()=>({isPickerValueEmpty:s.areValuesEqual(ee,oe,s.emptyValue),isPickerOpen:ce.open,isPickerDisabled:t.disabled??!1,isPickerReadOnly:t.readOnly??!1,pickerOrientation:fe,pickerVariant:l}),[ee,s,oe,ce.open,fe,l,t.disabled,t.readOnly]),yn=x.useMemo(()=>k||!Ge?"hidden":N||W?"disabled":"enabled",[k,Ge,N,W]),Tn=Ae(K),Ln=x.useMemo(()=>P&&!xe?[]:["cancel","nextOrAccept"],[P,xe]),$s=x.useMemo(()=>({setValue:Te,setOpen:de,clearValue:je,setValueToToday:Re,acceptValueChanges:Ke,cancelValueChanges:lt,setView:we,goToNextStep:Tn}),[Te,de,je,Re,Ke,lt,we,Tn]),_n=x.useMemo(()=>Z({},$s,{value:oe,timezone:Ne,open:ce.open,views:b,view:dt,initialView:ge,disabled:N??!1,readOnly:W??!1,autoFocus:q??!1,variant:l,orientation:fe,popupRef:Oe,reduceAnimations:ye,triggerRef:ke,triggerStatus:yn,hasNextStep:he,fieldFormat:V??"",name:U,label:A,rootSx:F,rootRef:nt,rootClassName:z}),[$s,oe,nt,l,fe,ye,N,W,V,z,U,A,F,yn,he,Ne,ce.open,dt,b,ge,q]),fr=x.useMemo(()=>({dismissViews:Be,ownerState:ft,hasUIView:Ge,getCurrentViewMode:at,rootRefObject:Ue,labelId:Q,triggerElement:De,viewContainerRole:y,defaultActionBarActions:Ln,onPopperExited:d}),[Be,ft,Ge,at,Q,De,y,Ln,d]),Ma=x.useMemo(()=>({formatDensity:E,enableAccessibleFieldDOMStructure:L,selectedSections:_,onSelectedSectionsChange:B,fieldRef:Ve}),[E,L,_,B,Ve]);return{providerProps:{localeText:g,contextValue:_n,privateContextValue:fr,actionsContextValue:$s,fieldPrivateContextValue:Ma,isValidContextValue:dn=>{const vs=u({adapter:ee,value:dn,timezone:Ne,props:t});return!s.hasError(vs)}},renderCurrentView:()=>{if(dt==null)return null;const dn=T[dt];if(dn==null)return null;const vs=Z({},I,{views:b,timezone:Ne,value:Ce,onChange:be,view:dt,onViewChange:we,showViewSwitcher:xt>1,timeViewsCount:xt},y==="tooltip"?{focusedView:null,onFocusedViewChange:()=>{}}:{focusedView:le,onFocusedViewChange:$});return p?a.jsx(p,{viewRenderers:T,popperView:dt,rendererProps:vs}):dn(vs)},ownerState:ft}};function uE(e){return vn("MuiPickersLayout",e)}const Ki=Sn("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),nz=["actions"],sz=ze(Qn,{name:"MuiPickersLayout",slot:"ActionBar"})({});function rz(e){const{actions:t}=e,s=st(e,nz),i=Pi(),{clearValue:l,setValueToToday:u,acceptValueChanges:d,cancelValueChanges:f,goToNextStep:p,hasNextStep:g}=Jo();if(t==null||t.length===0)return null;const y=t?.map(v=>{switch(v){case"clear":return a.jsx(ve,{onClick:l,children:i.clearButtonLabel},v);case"cancel":return a.jsx(ve,{onClick:f,children:i.cancelButtonLabel},v);case"accept":return a.jsx(ve,{onClick:d,children:i.okButtonLabel},v);case"today":return a.jsx(ve,{onClick:u,children:i.todayButtonLabel},v);case"next":return a.jsx(ve,{onClick:p,children:i.nextStepButtonLabel},v);case"nextOrAccept":return g?a.jsx(ve,{onClick:p,children:i.nextStepButtonLabel},v):a.jsx(ve,{onClick:d,children:i.okButtonLabel},v);default:return null}});return a.jsx(sz,Z({},s,{children:y}))}const iz=x.memo(rz),Ac=36,bf=2,vf=320,az=280,Xy=336,oz=["items","changeImportance"],lz=["getValue"],cz=ze(Hs,{name:"MuiPickersLayout",slot:"Shortcuts"})({});function uz(e){const{items:t,changeImportance:s="accept"}=e,i=st(e,oz),{setValue:l}=E_(),u=d_();if(t==null||t.length===0)return null;const d=t.map(f=>{let{getValue:p}=f,g=st(f,lz);const y=p({isValid:u});return Z({},g,{label:g.label,onClick:()=>{l(y,{changeImportance:s,shortcut:g})},disabled:!u(y)})});return a.jsx(cz,Z({dense:!0,sx:[{maxHeight:Xy,maxWidth:200,overflow:"auto"},...Array.isArray(i.sx)?i.sx:[i.sx]]},i,{children:d.map(f=>a.jsx(rs,{children:a.jsx(qe,Z({},f))},f.id??f.label))}))}const dz=["ownerState"];function fz(e){return e.view!==null}const hz=(e,t)=>{const{pickerOrientation:s}=t;return rn({root:["root",s==="landscape"&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},uE,e)},pz=e=>{const{ownerState:t,defaultActionBarActions:s}=In(),{view:i}=Jo(),l=_r(),{children:u,slots:d,slotProps:f,classes:p}=e,g=x.useMemo(()=>Z({},t,{layoutDirection:l?"rtl":"ltr",hasShortcuts:!1}),[t,l]),y=hz(p,g),v=d?.actionBar??iz,b=Et({elementType:v,externalSlotProps:f?.actionBar,additionalProps:{actions:s},className:y.actionBar,ownerState:g}),S=st(b,dz),j=a.jsx(v,Z({},S)),D=d?.toolbar,T=Et({elementType:D,externalSlotProps:f?.toolbar,className:y.toolbar,ownerState:g}),C=fz(T)&&D?a.jsx(D,Z({},T)):null,M=u,k=d?.tabs,P=i&&k?a.jsx(k,Z({className:y.tabs},f?.tabs)):null,N=d?.shortcuts??uz,W=Et({elementType:N,externalSlotProps:f?.shortcuts,className:y.shortcuts,ownerState:g}),E=Array.isArray(W?.items)&&W.items.length>0,L=i&&N?a.jsx(N,Z({},W)):null;return{toolbar:C,content:M,tabs:P,actionBar:j,shortcuts:L,ownerState:Z({},g,{hasShortcuts:E})}},mz=(e,t)=>{const{pickerOrientation:s}=t;return rn({root:["root",s==="landscape"&&"landscape"],contentWrapper:["contentWrapper"]},uE,e)},gz=ze("div",{name:"MuiPickersLayout",slot:"Root"})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${Ki.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{pickerOrientation:"landscape",hasShortcuts:!1},style:{[`& .${Ki.toolbar}`]:{gridColumn:1,gridRow:"1 / 3"}}},{props:{pickerOrientation:"landscape",hasShortcuts:!0},style:{[`& .${Ki.toolbar}`]:{gridColumn:"2 / 4",gridRow:1,maxWidth:"max-content"},[`& .${Ki.shortcuts}`]:{gridColumn:1,gridRow:2}}},{props:{pickerOrientation:"portrait"},style:{[`& .${Ki.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${Ki.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{hasShortcuts:!0,layoutDirection:"rtl"},style:{[`& .${Ki.shortcuts}`]:{gridColumn:4}}}]}),yz=ze("div",{name:"MuiPickersLayout",slot:"ContentWrapper"})({gridColumn:"2 / 4",gridRow:2,display:"flex",flexDirection:"column"}),dE=x.forwardRef(function(t,s){const i=Jt({props:t,name:"MuiPickersLayout"}),{toolbar:l,content:u,tabs:d,actionBar:f,shortcuts:p,ownerState:g}=pz(i),{orientation:y,variant:v}=Jo(),{sx:b,className:S,classes:j}=i,D=mz(j,g);return a.jsxs(gz,{ref:s,sx:b,className:Rn(D.root,S),ownerState:g,children:[y==="landscape"?p:l,y==="landscape"?l:p,a.jsx(yz,{className:D.contentWrapper,ownerState:g,children:v==="desktop"?a.jsxs(x.Fragment,{children:[u,d]}):a.jsxs(x.Fragment,{children:[d,u]})}),f]})});function fE(e){const{steps:t}=e;return Z_({steps:t,isViewMatchingStep:(s,i)=>i.views==null||i.views.includes(s),onStepChange:({step:s,defaultView:i,setView:l,view:u,views:d})=>{const f=s.views==null?i:s.views.find(p=>d.includes(p));f!==u&&l(f)}})}const xz=["props","steps"],bz=["ownerState"],vz=e=>{let{props:t,steps:s}=e,i=st(e,xz);const{slots:l,slotProps:u,label:d,inputRef:f,localeText:p}=t,g=fE({steps:s}),{providerProps:y,renderCurrentView:v,ownerState:b}=cE(Z({},i,{props:t,localeText:p,autoFocusView:!0,viewContainerRole:"dialog",variant:"desktop",getStepNavigation:g})),S=y.privateContextValue.labelId,j=u?.toolbar?.hidden??!1,D=l.field,T=Et({elementType:D,externalSlotProps:u?.field,additionalProps:Z({},j&&{id:S}),ownerState:b}),C=st(T,bz),M=l.layout??dE;let k=S;j&&(d?k=`${S}-label`:k=void 0);const P=Z({},u,{toolbar:Z({},u?.toolbar,{titleId:S}),popper:Z({"aria-labelledby":k},u?.popper)});return{renderPicker:()=>a.jsxs(XD,Z({},y,{children:[a.jsx(D,Z({},C,{slots:l,slotProps:P,inputRef:f})),a.jsx(Q_,{slots:l,slotProps:P,children:a.jsx(M,Z({},P?.layout,{slots:l,slotProps:P,children:v()}))})]}))}},yo=e=>e.saveQuery!=null,hE=({stateResponse:{localizedDigits:e,sectionsValueBoundaries:t,state:s,timezone:i,setCharacterQuery:l,setTempAndroidValueStr:u,updateSectionValue:d}})=>{const f=Ht(),p=({keyPressed:v,sectionIndex:b},S,j)=>{const D=v.toLowerCase(),T=s.sections[b];if(s.characterQuery!=null&&(!j||j(s.characterQuery.value))&&s.characterQuery.sectionIndex===b){const M=`${s.characterQuery.value}${D}`,k=S(M,T);if(!yo(k))return l({sectionIndex:b,value:M,sectionType:T.type}),k}const C=S(D,T);return yo(C)&&!C.saveQuery?(l(null),null):(l({sectionIndex:b,value:D,sectionType:T.type}),yo(C)?null:C)},g=v=>{const b=(D,T,C)=>{const M=T.filter(k=>k.toLowerCase().startsWith(C));return M.length===0?{saveQuery:!1}:{sectionValue:M[0],shouldGoToNextSection:M.length===1}},S=(D,T,C,M)=>{const k=P=>VD(f,i,T.type,P);if(T.contentType==="letter")return b(T.format,k(T.format),D);if(C&&M!=null&&WD(f,C).contentType==="letter"){const P=k(C),N=b(C,P,D);return yo(N)?{saveQuery:!1}:Z({},N,{sectionValue:M(N.sectionValue,P)})}return{saveQuery:!1}};return p(v,(D,T)=>{switch(T.type){case"month":{const C=M=>P1(f,M,f.formats.month,T.format);return S(D,T,f.formats.month,C)}case"weekDay":{const C=(M,k)=>k.indexOf(M).toString();return S(D,T,f.formats.weekday,C)}case"meridiem":return S(D,T);default:return{saveQuery:!1}}})},y=v=>{const b=({queryValue:j,skipIfBelowMinimum:D,section:T})=>{const C=ba(j,e),M=Number(C),k=t[T.type]({currentDate:null,format:T.format,contentType:T.contentType});if(M>k.maximum)return{saveQuery:!1};if(D&&M<k.minimum)return{saveQuery:!0};const P=M*10>k.maximum||C.length===k.maximum.toString().length;return{sectionValue:YD(f,M,k,e,T),shouldGoToNextSection:P}};return p(v,(j,D)=>{if(D.contentType==="digit"||D.contentType==="digit-with-letter")return b({queryValue:j,skipIfBelowMinimum:!1,section:D});if(D.type==="month"){UD(f,"digit","month","MM");const T=b({queryValue:j,skipIfBelowMinimum:!0,section:{type:D.type,format:"MM",hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2}});if(yo(T))return T;const C=P1(f,T.sectionValue,"MM",D.format);return Z({},T,{sectionValue:C})}if(D.type==="weekDay"){const T=b({queryValue:j,skipIfBelowMinimum:!0,section:D});if(yo(T))return T;const C=yf(f,D.format)[Number(T.sectionValue)-1];return Z({},T,{sectionValue:C})}return{saveQuery:!1}},j=>k1(j,e))};return Ae(v=>{const b=s.sections[v.sectionIndex],j=k1(v.keyPressed,e)?y(Z({},v,{keyPressed:Uy(v.keyPressed,e)})):g(v);if(j==null){u(null);return}d({section:b,newSectionValue:j.sectionValue,shouldGoToNextSection:j.shouldGoToNextSection})})},Sz=5e3,pE=e=>{const t=Ht(),s=Pi(),i=_r(),{manager:{validator:l,valueType:u,internal_valueManager:d,internal_fieldValueManager:f},internalPropsWithDefaults:p,internalPropsWithDefaults:{value:g,defaultValue:y,referenceDate:v,onChange:b,format:S,formatDensity:j="dense",selectedSections:D,onSelectedSectionsChange:T,shouldRespectLeadingZeros:C=!1,timezone:M,enableAccessibleFieldDOMStructure:k=!0},forwardedProps:{error:P}}=e,{value:N,handleValueChange:W,timezone:E}=$c({name:"a field component",timezone:M,value:g,defaultValue:y,referenceDate:v,onChange:b,valueManager:d}),L=x.useRef(N);x.useEffect(()=>{L.current=N},[N]);const{hasValidationError:_}=sE({props:p,validator:l,timezone:E,value:N,onError:p.onError}),B=x.useMemo(()=>P!==void 0?P:_,[_,P]),V=x.useMemo(()=>JH(t),[t]),A=x.useMemo(()=>r_(t,V,E),[t,V,E]),q=x.useCallback(te=>f.getSectionsFromValue(te,we=>R1({adapter:t,localeText:s,localizedDigits:V,format:S,date:we,formatDensity:j,shouldRespectLeadingZeros:C,enableAccessibleFieldDOMStructure:k,isRtl:i})),[f,S,s,V,i,C,t,j,k]),[U,z]=x.useState(()=>{const te=q(N),we={sections:te,lastExternalValue:N,lastSectionsDependencies:{format:S,isRtl:i,locale:t.locale},tempValueStrAndroid:null,characterQuery:null},ne=KH(te),le=d.getInitialReferenceValue({referenceDate:v,value:N,adapter:t,props:p,granularity:ne,timezone:E});return Z({},we,{referenceValue:le})}),[F,I]=Bo({controlled:D,default:null,name:"useField",state:"selectedSections"}),Q=te=>{I(te),T?.(te)},ee=x.useMemo(()=>ug(F,U.sections),[F,U.sections]),ye=ee==="all"?0:ee,fe=x.useMemo(()=>o_(U.sections,i&&!k),[U.sections,i,k]),ge=x.useMemo(()=>U.sections.every(te=>te.value===""),[U.sections]),De=te=>{const we={validationError:l({adapter:t,value:te,timezone:E,props:p})};W(te,we)},ke=(te,we)=>{const ne=[...U.sections];return ne[te]=Z({},ne[te],{value:we,modified:!0}),ne},Oe=x.useRef(null),Ve=Po(),Ue=te=>{ye!=null&&(Oe.current={sectionIndex:ye,value:te},Ve.start(0,()=>{Oe.current=null}))},nt=()=>{d.areValuesEqual(t,N,d.emptyValue)?z(te=>Z({},te,{sections:te.sections.map(we=>Z({},we,{value:""})),tempValueStrAndroid:null,characterQuery:null})):(z(te=>Z({},te,{characterQuery:null})),De(d.emptyValue))},Ne=()=>{if(ye==null)return;const te=U.sections[ye];te.value!==""&&(Ue(""),f.getDateFromSection(N,te)===null?z(we=>Z({},we,{sections:ke(ye,""),tempValueStrAndroid:null,characterQuery:null})):(z(we=>Z({},we,{characterQuery:null})),De(f.updateDateInValue(N,te,null))))},ce=te=>{const we=(le,$)=>{const be=t.parse(le,S);if(!t.isValid(be))return null;const K=R1({adapter:t,localeText:s,localizedDigits:V,format:S,date:be,formatDensity:j,shouldRespectLeadingZeros:C,enableAccessibleFieldDOMStructure:k,isRtl:i});return O1(t,be,K,$,!1)},ne=f.parseValueStr(te,U.referenceValue,we);De(ne)},de=Po(),Te=({section:te,newSectionValue:we,shouldGoToNextSection:ne})=>{Ve.clear(),de.clear();const le=f.getDateFromSection(N,te);ne&&ye<U.sections.length-1&&Q(ye+1);const $=ke(ye,we),be=f.getDateSectionsFromValue($,te),K=t_(t,be,V);if(t.isValid(K)){const he=O1(t,K,be,f.getDateFromSection(U.referenceValue,te),!0);return le==null&&de.start(0,()=>{L.current===N&&z(xe=>Z({},xe,{sections:f.clearDateSections(U.sections,te),tempValueStrAndroid:null}))}),De(f.updateDateInValue(N,te,he))}return be.every(he=>he.value!=="")&&(le==null||t.isValid(le))?(Ue(we),De(f.updateDateInValue(N,te,K))):le!=null?(Ue(we),De(f.updateDateInValue(N,te,null))):z(he=>Z({},he,{sections:$,tempValueStrAndroid:null}))},Ee=te=>z(we=>Z({},we,{tempValueStrAndroid:te})),oe=Ae(te=>{z(we=>Z({},we,{characterQuery:te}))});if(N!==U.lastExternalValue){const te=Oe.current!=null&&!t.isValid(f.getDateFromSection(N,U.sections[Oe.current.sectionIndex]));let we;te?we=ke(Oe.current.sectionIndex,Oe.current.value):we=q(N),z(ne=>Z({},ne,{lastExternalValue:N,sections:we,sectionsDependencies:{format:S,isRtl:i,locale:t.locale},referenceValue:te?ne.referenceValue:f.updateReferenceValue(t,N,ne.referenceValue),tempValueStrAndroid:null}))}if(i!==U.lastSectionsDependencies.isRtl||S!==U.lastSectionsDependencies.format||t.locale!==U.lastSectionsDependencies.locale){const te=q(N);z(we=>Z({},we,{lastSectionsDependencies:{format:S,isRtl:i,locale:t.locale},sections:te,tempValueStrAndroid:null,characterQuery:null}))}U.characterQuery!=null&&!B&&ye==null&&oe(null),U.characterQuery!=null&&U.sections[U.characterQuery.sectionIndex]?.type!==U.characterQuery.sectionType&&oe(null),x.useEffect(()=>{Oe.current!=null&&(Oe.current=null)});const Ce=Po();return x.useEffect(()=>(U.characterQuery!=null&&Ce.start(Sz,()=>oe(null)),()=>{}),[U.characterQuery,oe,Ce]),x.useEffect(()=>{U.tempValueStrAndroid!=null&&ye!=null&&Ne()},[U.sections]),{activeSectionIndex:ye,areAllSectionsEmpty:ge,error:B,localizedDigits:V,parsedSelectedSections:ee,sectionOrder:fe,sectionsValueBoundaries:A,state:U,timezone:E,value:N,clearValue:nt,clearActiveSection:Ne,setCharacterQuery:oe,setSelectedSections:Q,setTempAndroidValueStr:Ee,updateSectionValue:Te,updateValueFromValueStr:ce,getSectionsFromValue:q}};function mE(e){const{manager:{internal_useApplyDefaultValuesToFieldInternalProps:t},internalProps:s,skipContextFieldRefAssignment:i}=e,l=Ky(),u=$D(),d=as(s.unstableFieldRef,i?null:u?.fieldRef),f=l?.setValue,p=x.useCallback((y,v)=>f?.(y,{validationError:v.validationError,shouldClose:!1}),[f]),g=x.useMemo(()=>u!=null&&l!=null?Z({value:l.value,onChange:p,timezone:l.timezone,disabled:l.disabled,readOnly:l.readOnly,autoFocus:l.autoFocus&&!l.open,focused:l.open?!0:void 0,format:l.fieldFormat,formatDensity:u.formatDensity,enableAccessibleFieldDOMStructure:u.enableAccessibleFieldDOMStructure,selectedSections:u.selectedSections,onSelectedSectionsChange:u.onSelectedSectionsChange,unstableFieldRef:d},s):s,[l,u,s,p,d]);return t(g)}function Zy(e){const{focused:t,domGetters:s,stateResponse:{parsedSelectedSections:i,state:l}}=e;if(!s.isReady())return;const u=tc(s.getRoot()).getSelection();if(!u)return;if(i==null){u.rangeCount>0&&u.getRangeAt(0).startContainer instanceof Node&&s.getRoot().contains(u.getRangeAt(0).startContainer)&&u.removeAllRanges(),t&&s.getRoot().blur();return}if(!s.getRoot().contains(Yn(s.getRoot())))return;const d=new window.Range;let f;i==="all"?f=s.getRoot():l.sections[i].type==="empty"?f=s.getSectionContainer(i):f=s.getSectionContent(i),d.selectNodeContents(f),f.focus(),u.removeAllRanges(),u.addRange(d)}function gE(e){const t=Ht(),{manager:{internal_fieldValueManager:s},internalPropsWithDefaults:{minutesStep:i,disabled:l,readOnly:u},stateResponse:{state:d,value:f,activeSectionIndex:p,parsedSelectedSections:g,sectionsValueBoundaries:y,localizedDigits:v,timezone:b,sectionOrder:S,clearValue:j,clearActiveSection:D,setSelectedSections:T,updateSectionValue:C}}=e;return Ae(M=>{if(!l)switch(!0){case((M.ctrlKey||M.metaKey)&&String.fromCharCode(M.keyCode)==="A"&&!M.shiftKey&&!M.altKey):{M.preventDefault(),T("all");break}case M.key==="ArrowRight":{if(M.preventDefault(),g==null)T(S.startIndex);else if(g==="all")T(S.endIndex);else{const k=S.neighbors[g].rightIndex;k!==null&&T(k)}break}case M.key==="ArrowLeft":{if(M.preventDefault(),g==null)T(S.endIndex);else if(g==="all")T(S.startIndex);else{const k=S.neighbors[g].leftIndex;k!==null&&T(k)}break}case M.key==="Delete":{if(M.preventDefault(),u)break;g==null||g==="all"?j():D();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(M.key):{if(M.preventDefault(),u||p==null)break;g==="all"&&T(p);const k=d.sections[p],P=jz(t,b,k,M.key,y,v,s.getDateFromSection(f,k),{minutesStep:i});C({section:k,newSectionValue:P,shouldGoToNextSection:!1});break}}})}function wz(e){switch(e){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}}function jz(e,t,s,i,l,u,d,f){const p=wz(i),g=i==="Home",y=i==="End",v=s.value===""||g||y,b=()=>{const j=l[s.type]({currentDate:d,format:s.format,contentType:s.contentType}),D=M=>YD(e,M,j,u,s),T=s.type==="minutes"&&f?.minutesStep?f.minutesStep:1;let C;if(v){if(s.type==="year"&&!y&&!g)return e.formatByString(e.date(void 0,t),s.format);p>0||g?C=j.minimum:C=j.maximum}else C=parseInt(ba(s.value,u),10)+p*T;return C%T!==0&&((p<0||g)&&(C+=T-(T+C)%T),(p>0||y)&&(C-=C%T)),C>j.maximum?D(j.minimum+(C-j.maximum-1)%(j.maximum-j.minimum+1)):C<j.minimum?D(j.maximum-(j.minimum-C-1)%(j.maximum-j.minimum+1)):D(C)},S=()=>{const j=VD(e,t,s.type,s.format);if(j.length===0)return s.value;if(v)return p>0||g?j[0]:j[j.length-1];const C=((j.indexOf(s.value)+p)%j.length+j.length)%j.length;return j[C]};return s.contentType==="digit"||s.contentType==="digit-with-letter"?b():S()}function Cz(e){const{manager:t,focused:s,setFocused:i,domGetters:l,stateResponse:u,applyCharacterEditing:d,internalPropsWithDefaults:f,stateResponse:{parsedSelectedSections:p,sectionOrder:g,state:y,clearValue:v,setCharacterQuery:b,setSelectedSections:S,updateValueFromValueStr:j},internalPropsWithDefaults:{disabled:D=!1,readOnly:T=!1}}=e,C=gE({manager:t,internalPropsWithDefaults:f,stateResponse:u}),M=Po(),k=Ae(L=>{D||!l.isReady()||(i(!0),p==="all"?M.start(0,()=>{const _=document.getSelection().getRangeAt(0).startOffset;if(_===0){S(g.startIndex);return}let B=0,V=0;for(;V<_&&B<y.sections.length;){const A=y.sections[B];B+=1,V+=`${A.startSeparator}${A.value||A.placeholder}${A.endSeparator}`.length}S(B-1)}):s?l.getRoot().contains(L.target)||S(g.startIndex):(i(!0),S(g.startIndex)))}),P=Ae(L=>{if(!l.isReady()||p!=="all")return;const B=L.target.textContent??"";l.getRoot().innerHTML=y.sections.map(V=>`${V.startSeparator}${V.value||V.placeholder}${V.endSeparator}`).join(""),Zy({focused:s,domGetters:l,stateResponse:u}),B.length===0||B.charCodeAt(0)===10?(v(),S("all")):B.length>1?j(B):(p==="all"&&S(0),d({keyPressed:B,sectionIndex:0}))}),N=Ae(L=>{if(T||p!=="all"){L.preventDefault();return}const _=L.clipboardData.getData("text");L.preventDefault(),b(null),j(_)}),W=Ae(()=>{if(s||D||!l.isReady())return;const L=Yn(l.getRoot());i(!0),l.getSectionIndexFromDOMElement(L)!=null||S(g.startIndex)}),E=Ae(()=>{setTimeout(()=>{if(!l.isReady())return;const L=Yn(l.getRoot());!l.getRoot().contains(L)&&(i(!1),S(null))})});return{onKeyDown:C,onBlur:E,onFocus:W,onClick:k,onPaste:N,onInput:P,contentEditable:p==="all",tabIndex:f.disabled||p===0?-1:0}}function Tz(e){const{manager:{internal_fieldValueManager:t},stateResponse:{areAllSectionsEmpty:s,state:i,updateValueFromValueStr:l}}=e,u=Ae(f=>{l(f.target.value)});return{value:x.useMemo(()=>s?"":t.getV7HiddenInputValueFromSections(i.sections),[s,i.sections,t]),onChange:u}}function Dz(e){const{stateResponse:{setSelectedSections:t},internalPropsWithDefaults:{disabled:s=!1}}=e,i=x.useCallback(l=>u=>{s||u.isDefaultPrevented()||t(l)},[s,t]);return x.useCallback(l=>({"data-sectionindex":l,onClick:i(l)}),[i])}function Ez(e){const t=Ht(),s=Pi(),{focused:i,domGetters:l,stateResponse:u,applyCharacterEditing:d,manager:{internal_fieldValueManager:f},stateResponse:{parsedSelectedSections:p,sectionsValueBoundaries:g,state:y,value:v,clearActiveSection:b,setCharacterQuery:S,setSelectedSections:j,updateSectionValue:D,updateValueFromValueStr:T},internalPropsWithDefaults:{disabled:C=!1,readOnly:M=!1}}=e,k=p==="all",P=!k&&!C&&!M,N=Ae(V=>{if(!l.isReady())return;const A=y.sections[V];l.getSectionContent(V).innerHTML=A.value||A.placeholder,Zy({focused:i,domGetters:l,stateResponse:u})}),W=Ae(V=>{if(!l.isReady())return;const A=V.target,q=A.textContent??"",U=l.getSectionIndexFromDOMElement(A),z=y.sections[U];if(M){N(U);return}if(q.length===0){if(z.value===""){N(U);return}const F=V.nativeEvent.inputType;if(F==="insertParagraph"||F==="insertLineBreak"){N(U);return}N(U),b();return}d({keyPressed:q,sectionIndex:U}),N(U)}),E=Ae(V=>{V.preventDefault()}),L=Ae(V=>{if(V.preventDefault(),M||C||typeof p!="number")return;const A=y.sections[p],q=V.clipboardData.getData("text"),U=/^[a-zA-Z]+$/.test(q),z=/^[0-9]+$/.test(q),F=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(q);A.contentType==="letter"&&U||A.contentType==="digit"&&z||A.contentType==="digit-with-letter"&&F?(S(null),D({section:A,newSectionValue:q,shouldGoToNextSection:!0})):!U&&!z&&(S(null),T(q))}),_=Ae(V=>{V.preventDefault(),V.dataTransfer.dropEffect="none"}),B=x.useCallback(V=>()=>{C||j(V)},[C,j]);return x.useCallback((V,A)=>{const q=g[V.type]({currentDate:f.getDateFromSection(v,V),contentType:V.contentType,format:V.format});return{onInput:W,onPaste:L,onMouseUp:E,onDragOver:_,onFocus:B(A),"aria-readonly":M,"aria-valuenow":kz(V,t),"aria-valuemin":q.minimum,"aria-valuemax":q.maximum,"aria-valuetext":V.value?Mz(V,t):s.empty,"aria-label":s[V.type],"aria-disabled":C,tabIndex:!P||k||A>0?-1:0,contentEditable:!k&&!C&&!M,role:"spinbutton","data-range-position":V.dateName||void 0,spellCheck:P?!1:void 0,autoCapitalize:P?"none":void 0,autoCorrect:P?"off":void 0,children:V.value||V.placeholder,inputMode:V.contentType==="letter"?"text":"numeric"}},[g,k,C,M,P,s,t,W,L,E,_,B,f,v])}function Mz(e,t){if(e.value)switch(e.type){case"month":{if(e.contentType==="digit"){const i=t.setMonth(t.date(),Number(e.value)-1);return t.isValid(i)?t.format(i,"month"):""}const s=t.parse(e.value,e.format);return s&&t.isValid(s)?t.format(s,"month"):void 0}case"day":if(e.contentType==="digit"){const s=t.setDate(t.startOfYear(t.date()),Number(e.value));return t.isValid(s)?t.format(s,"dayOfMonthFull"):""}return e.value;case"weekDay":return;default:return}}function kz(e,t){if(e.value)switch(e.type){case"weekDay":return e.contentType==="letter"?void 0:Number(e.value);case"meridiem":{const s=t.parse(`01:00 ${e.value}`,`${t.formats.hours12h}:${t.formats.minutes} ${e.format}`);return s?t.getHours(s)>=12?1:0:void 0}case"day":return e.contentType==="digit-with-letter"?parseInt(e.value,10):Number(e.value);case"month":{if(e.contentType==="digit")return Number(e.value);const s=t.parse(e.value,e.format);return s?t.getMonth(s)+1:void 0}default:return e.contentType!=="letter"?Number(e.value):void 0}}const Pz=e=>{const{props:t,manager:s,skipContextFieldRefAssignment:i,manager:{valueType:l,internal_useOpenPickerButtonAriaLabel:u}}=e,{internalProps:d,forwardedProps:f}=nE(t,l),p=mE({manager:s,internalProps:d,skipContextFieldRefAssignment:i}),{sectionListRef:g,onBlur:y,onClick:v,onFocus:b,onInput:S,onPaste:j,onKeyDown:D,onClear:T,clearable:C}=f,{disabled:M=!1,readOnly:k=!1,autoFocus:P=!1,focused:N,unstableFieldRef:W}=p,E=x.useRef(null),L=as(g,E),_=x.useMemo(()=>({isReady:()=>E.current!=null,getRoot:()=>E.current.getRoot(),getSectionContainer:te=>E.current.getSectionContainer(te),getSectionContent:te=>E.current.getSectionContent(te),getSectionIndexFromDOMElement:te=>E.current.getSectionIndexFromDOMElement(te)}),[E]),B=pE({manager:s,internalPropsWithDefaults:p,forwardedProps:f}),{areAllSectionsEmpty:V,error:A,parsedSelectedSections:q,sectionOrder:U,state:z,value:F,clearValue:I,setSelectedSections:Q}=B,ee=hE({stateResponse:B}),ye=u(F),[fe,ge]=x.useState(!1);function De(te=0){if(M||!E.current||N1(E)!=null)return;const we=ug(te,z.sections);ge(!0),E.current.getSectionContent(we).focus()}const ke=Cz({manager:s,internalPropsWithDefaults:p,stateResponse:B,applyCharacterEditing:ee,focused:fe,setFocused:ge,domGetters:_}),Oe=Tz({manager:s,stateResponse:B}),Ve=Dz({stateResponse:B,internalPropsWithDefaults:p}),Ue=Ez({manager:s,stateResponse:B,applyCharacterEditing:ee,internalPropsWithDefaults:p,domGetters:_,focused:fe}),nt=Ae(te=>{D?.(te),ke.onKeyDown(te)}),Ne=Ae(te=>{y?.(te),ke.onBlur(te)}),ce=Ae(te=>{b?.(te),ke.onFocus(te)}),de=Ae(te=>{te.isDefaultPrevented()||(v?.(te),ke.onClick(te))}),Te=Ae(te=>{j?.(te),ke.onPaste(te)}),Ee=Ae(te=>{S?.(te),ke.onInput(te)}),oe=Ae((te,...we)=>{te.preventDefault(),T?.(te,...we),I(),F1(E)?Q(U.startIndex):De(0)}),Ce=x.useMemo(()=>z.sections.map((te,we)=>{const ne=Ue(te,we);return{container:Ve(we),content:Ue(te,we),before:{children:te.startSeparator},after:{children:te.endSeparator,"data-range-position":te.isEndFormatSeparator?ne["data-range-position"]:void 0}}}),[z.sections,Ve,Ue]);return x.useEffect(()=>{if(E.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please add the `enableAccessibleFieldDOMStructure={false}` prop to your Picker or Field component:","","<DatePicker enableAccessibleFieldDOMStructure={false} slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));P&&!M&&E.current&&E.current.getSectionContent(U.startIndex).focus()},[]),Ir(()=>{if(!(!fe||!E.current)){if(q==="all")E.current.getRoot().focus();else if(typeof q=="number"){const te=E.current.getSectionContent(q);te&&te.focus()}}},[q,fe]),Ir(()=>{Zy({focused:fe,domGetters:_,stateResponse:B})}),x.useImperativeHandle(W,()=>({getSections:()=>z.sections,getActiveSectionIndex:()=>N1(E),setSelectedSections:te=>{if(M||!E.current)return;const we=ug(te,z.sections);ge((we==="all"?0:we)!==null),Q(te)},focusField:De,isFieldFocused:()=>F1(E)})),Z({},f,ke,{onBlur:Ne,onClick:de,onFocus:ce,onInput:Ee,onPaste:Te,onKeyDown:nt,onClear:oe},Oe,{error:A,clearable:!!(C&&!V&&!k&&!M),focused:N??fe,sectionListRef:L,enableAccessibleFieldDOMStructure:!0,elements:Ce,areAllSectionsEmpty:V,disabled:M,readOnly:k,autoFocus:P,openPickerAriaLabel:ye})};function N1(e){const t=Yn(e.current?.getRoot());return!t||!e.current||!e.current.getRoot().contains(t)?null:e.current.getSectionIndexFromDOMElement(t)}function F1(e){const t=Yn(e.current?.getRoot());return!!e.current&&e.current.getRoot().contains(t)}const ko=e=>e.replace(/[\u2066\u2067\u2068\u2069]/g,""),Az=(e,t,s)=>{let i=0,l=s?1:0;const u=[];for(let d=0;d<e.length;d+=1){const f=e[d],p=Gy(f,s?"input-rtl":"input-ltr",t),g=`${f.startSeparator}${p}${f.endSeparator}`,y=ko(g).length,v=g.length,b=ko(p),S=l+(b===""?0:p.indexOf(b[0]))+f.startSeparator.length,j=S+b.length;u.push(Z({},f,{start:i,end:i+y,startInInput:S,endInInput:j})),i+=y,l+=v}return u},Oz=e=>{const t=_r(),s=Po(),i=Po(),{props:l,manager:u,skipContextFieldRefAssignment:d,manager:{valueType:f,internal_valueManager:p,internal_fieldValueManager:g,internal_useOpenPickerButtonAriaLabel:y}}=e,{internalProps:v,forwardedProps:b}=nE(l,f),S=mE({manager:u,internalProps:v,skipContextFieldRefAssignment:d}),{onFocus:j,onClick:D,onPaste:T,onBlur:C,onKeyDown:M,onClear:k,clearable:P,inputRef:N,placeholder:W}=b,{readOnly:E=!1,disabled:L=!1,autoFocus:_=!1,focused:B,unstableFieldRef:V}=S,A=x.useRef(null),q=as(N,A),U=pE({manager:u,internalPropsWithDefaults:S,forwardedProps:b}),{activeSectionIndex:z,areAllSectionsEmpty:F,error:I,localizedDigits:Q,parsedSelectedSections:ee,sectionOrder:ye,state:fe,value:ge,clearValue:De,clearActiveSection:ke,setCharacterQuery:Oe,setSelectedSections:Ve,setTempAndroidValueStr:Ue,updateSectionValue:nt,updateValueFromValueStr:Ne,getSectionsFromValue:ce}=U,de=hE({stateResponse:U}),Te=y(ge),Ee=x.useMemo(()=>Az(fe.sections,Q,t),[fe.sections,Q,t]);function oe(){const Be=A.current.selectionStart??0;let Ge;Be<=Ee[0].startInInput||Be>=Ee[Ee.length-1].endInInput?Ge=1:Ge=Ee.findIndex(xt=>xt.startInInput-xt.startSeparator.length>Be);const Ze=Ge===-1?Ee.length-1:Ge-1;Ve(Ze)}function Ce(Be=0){Yn(A.current)!==A.current&&(A.current?.focus(),Ve(Be))}const te=Ae(Be=>{j?.(Be);const Ge=A.current;s.start(0,()=>{!Ge||Ge!==A.current||z==null&&(Ge.value.length&&Number(Ge.selectionEnd)-Number(Ge.selectionStart)===Ge.value.length?Ve("all"):oe())})}),we=Ae((Be,...Ge)=>{Be.isDefaultPrevented()||(D?.(Be,...Ge),oe())}),ne=Ae(Be=>{if(T?.(Be),Be.preventDefault(),E||L)return;const Ge=Be.clipboardData.getData("text");if(typeof ee=="number"){const Ze=fe.sections[ee],xt=/^[a-zA-Z]+$/.test(Ge),it=/^[0-9]+$/.test(Ge),at=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(Ge);if(Ze.contentType==="letter"&&xt||Ze.contentType==="digit"&&it||Ze.contentType==="digit-with-letter"&&at){Oe(null),nt({section:Ze,newSectionValue:Ge,shouldGoToNextSection:!0});return}if(xt||it)return}Oe(null),Ne(Ge)}),le=Ae(Be=>{C?.(Be),Ve(null)}),$=Ae(Be=>{if(E)return;const Ge=Be.target.value;if(Ge===""){De();return}const Ze=Be.nativeEvent.data,xt=Ze&&Ze.length>1,it=xt?Ze:Ge,at=ko(it);if(ee==="all"&&Ve(z),z==null||xt){Ne(xt?Ze:at);return}let dt;if(ee==="all"&&at.length===1)dt=at;else{const qt=ko(g.getV6InputValueFromSections(Ee,Q,t));let ft=-1,yn=-1;for(let _n=0;_n<qt.length;_n+=1)ft===-1&&qt[_n]!==at[_n]&&(ft=_n),yn===-1&&qt[qt.length-_n-1]!==at[at.length-_n-1]&&(yn=_n);const Tn=Ee[z];if(ft<Tn.start||qt.length-yn-1>Tn.end)return;const $s=at.length-qt.length+Tn.end-ko(Tn.endSeparator||"").length;dt=at.slice(Tn.start+ko(Tn.startSeparator||"").length,$s)}if(dt.length===0){a_()&&Ue(it),ke();return}de({keyPressed:dt,sectionIndex:z})}),be=Ae((Be,...Ge)=>{Be.preventDefault(),k?.(Be,...Ge),De(),H1(A)?Ve(ye.startIndex):Ce(0)}),K=gE({manager:u,internalPropsWithDefaults:S,stateResponse:U}),he=Ae(Be=>{M?.(Be),K(Be)}),xe=x.useMemo(()=>W!==void 0?W:g.getV6InputValueFromSections(ce(p.emptyValue),Q,t),[W,g,ce,p.emptyValue,Q,t]),je=x.useMemo(()=>fe.tempValueStrAndroid??g.getV6InputValueFromSections(fe.sections,Q,t),[fe.sections,g,fe.tempValueStrAndroid,Q,t]);x.useEffect(()=>{A.current&&A.current===Yn(A.current)&&Ve("all")},[]),Ir(()=>{function Be(){if(!A.current)return;if(ee==null){A.current.scrollLeft&&(A.current.scrollLeft=0);return}if(A.current!==Yn(A.current))return;const Ge=A.current.scrollTop;if(ee==="all")A.current.select();else{const Ze=Ee[ee],xt=Ze.type==="empty"?Ze.startInInput-Ze.startSeparator.length:Ze.startInInput,it=Ze.type==="empty"?Ze.endInInput+Ze.endSeparator.length:Ze.endInInput;(xt!==A.current.selectionStart||it!==A.current.selectionEnd)&&A.current===Yn(A.current)&&A.current.setSelectionRange(xt,it),i.start(0,()=>{A.current&&A.current===Yn(A.current)&&A.current.selectionStart===A.current.selectionEnd&&(A.current.selectionStart!==xt||A.current.selectionEnd!==it)&&Be()})}A.current.scrollTop=Ge}Be()});const Re=x.useMemo(()=>z==null||fe.sections[z].contentType==="letter"?"text":"numeric",[z,fe.sections]),lt=!(A.current&&A.current===Yn(A.current))&&F;return x.useImperativeHandle(V,()=>({getSections:()=>fe.sections,getActiveSectionIndex:()=>{const Be=A.current.selectionStart??0,Ge=A.current.selectionEnd??0;if(Be===0&&Ge===0)return null;const Ze=Be<=Ee[0].startInInput?1:Ee.findIndex(xt=>xt.startInInput-xt.startSeparator.length>Be);return Ze===-1?Ee.length-1:Ze-1},setSelectedSections:Be=>Ve(Be),focusField:Ce,isFieldFocused:()=>H1(A)})),Z({},b,{error:I,clearable:!!(P&&!F&&!E&&!L),onBlur:le,onClick:we,onFocus:te,onPaste:ne,onKeyDown:he,onClear:be,inputRef:q,enableAccessibleFieldDOMStructure:!1,placeholder:xe,inputMode:Re,autoComplete:"off",value:lt?"":je,onChange:$,focused:B,disabled:L,readOnly:E,autoFocus:_,openPickerAriaLabel:Te})};function H1(e){return e.current===Yn(e.current)}const Rz=e=>{const t=$D();return(e.props.enableAccessibleFieldDOMStructure??t?.enableAccessibleFieldDOMStructure??!0?Pz:Oz)(e)},Iz=e=>{const t=B_(e);return Rz({manager:t,props:e})};function Jy(e){const{ownerState:t}=In(),s=_r();return x.useMemo(()=>Z({},t,{isFieldDisabled:e.disabled??!1,isFieldReadOnly:e.readOnly??!1,isFieldRequired:e.required??!1,fieldDirection:s?"rtl":"ltr"}),[t,e.disabled,e.readOnly,e.required,s])}const Bz=Ti(a.jsx("path",{d:"M7 10l5 5 5-5z"})),Lz=Ti(a.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"})),Nz=Ti(a.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})),Fz=Ti(a.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}));Ti(a.jsxs(x.Fragment,{children:[a.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),a.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}));Ti(a.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}));Ti(a.jsxs(x.Fragment,{children:[a.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),a.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}));const Hz=Ti(a.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));function _z(e){return vn("MuiPickersTextField",e)}Sn("MuiPickersTextField",["root","focused","disabled","error","required"]);function zz(e){return vn("MuiPickersInputBase",e)}const Ro=Sn("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input","inputSizeSmall","activeBar"]);function Wz(e){return vn("MuiPickersSectionList",e)}const bo=Sn("MuiPickersSectionList",["root","section","sectionContent"]),Vz=["slots","slotProps","elements","sectionListRef","classes"],yE=ze("div",{name:"MuiPickersSectionList",slot:"Root"})({direction:"ltr /*! @noflip */",outline:"none"}),xE=ze("span",{name:"MuiPickersSectionList",slot:"Section"})({}),bE=ze("span",{name:"MuiPickersSectionList",slot:"SectionSeparator"})({whiteSpace:"pre"}),vE=ze("span",{name:"MuiPickersSectionList",slot:"SectionContent"})({outline:"none"}),Yz=e=>rn({root:["root"],section:["section"],sectionContent:["sectionContent"]},Wz,e);function Uz(e){const{slots:t,slotProps:s,element:i,classes:l}=e,{ownerState:u}=In(),d=t?.section??xE,f=Et({elementType:d,externalSlotProps:s?.section,externalForwardedProps:i.container,className:l.section,ownerState:u}),p=t?.sectionContent??vE,g=Et({elementType:p,externalSlotProps:s?.sectionContent,externalForwardedProps:i.content,additionalProps:{suppressContentEditableWarning:!0},className:l.sectionContent,ownerState:u}),y=t?.sectionSeparator??bE,v=Et({elementType:y,externalSlotProps:s?.sectionSeparator,externalForwardedProps:i.before,ownerState:Z({},u,{separatorPosition:"before"})}),b=Et({elementType:y,externalSlotProps:s?.sectionSeparator,externalForwardedProps:i.after,ownerState:Z({},u,{separatorPosition:"after"})}),S=x.useRef(null),j=as(g.ref,S),D=T=>{const C=T.relatedTarget,M=T.currentTarget.closest(`.${bo.root}`);if(M&&C instanceof Node&&M.contains(C)){T.stopPropagation();return}};return a.jsxs(d,Z({},f,{children:[a.jsx(y,Z({},v)),a.jsx(p,Z({},g,{ref:j,onBlur:D})),a.jsx(y,Z({},b))]}))}const qz=x.forwardRef(function(t,s){const i=Jt({props:t,name:"MuiPickersSectionList"}),{slots:l,slotProps:u,elements:d,sectionListRef:f,classes:p}=i,g=st(i,Vz),y=Yz(p),{ownerState:v}=In(),b=x.useRef(null),S=as(s,b),j=C=>{if(!b.current)throw new Error(`MUI X: Cannot call sectionListRef.${C} before the mount of the component.`);return b.current};x.useImperativeHandle(f,()=>({getRoot(){return j("getRoot")},getSectionContainer(C){return j("getSectionContainer").querySelector(`.${bo.section}[data-sectionindex="${C}"]`)},getSectionContent(C){return j("getSectionContent").querySelector(`.${bo.section}[data-sectionindex="${C}"] .${bo.sectionContent}`)},getSectionIndexFromDOMElement(C){const M=j("getSectionIndexFromDOMElement");if(C==null||!M.contains(C))return null;let k=null;return C.classList.contains(bo.section)?k=C:C.classList.contains(bo.sectionContent)&&(k=C.parentElement),k==null?null:Number(k.dataset.sectionindex)}}));const D=l?.root??yE,T=Et({elementType:D,externalSlotProps:u?.root,externalForwardedProps:g,additionalProps:{ref:S,suppressContentEditableWarning:!0},className:y.root,ownerState:v});return a.jsx(D,Z({},T,{children:T.contentEditable?d.map(({content:C,before:M,after:k})=>`${M.children}${C.children}${k.children}`).join(""):a.jsx(x.Fragment,{children:d.map((C,M)=>a.jsx(Uz,{slots:l,slotProps:u,element:C,classes:y},M))})}))}),SE=x.createContext(null),Sf=()=>{const e=x.useContext(SE);if(e==null)throw new Error(["MUI X: The `usePickerTextFieldOwnerState` can only be called in components that are used inside a PickerTextField component"].join(`
`));return e},Gz=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef","onFocus","onBlur","classes","ownerState"],$z=e=>Math.round(e*1e5)/1e5,wf=ze("div",{name:"MuiPickersInputBase",slot:"Root"})(({theme:e})=>Z({},e.typography.body1,{color:(e.vars||e).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${$z(.15/16)}em`,variants:[{props:{isInputInFullWidth:!0},style:{width:"100%"}}]})),ex=ze(yE,{name:"MuiPickersInputBase",slot:"SectionsContainer"})(({theme:e})=>({padding:"4px 0 5px",fontFamily:e.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{fieldDirection:"rtl"},style:{justifyContent:"end"}},{props:{inputSize:"small"},style:{paddingTop:1}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0},style:{color:"currentColor",opacity:0}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0,inputHasLabel:!1},style:e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:e.palette.mode==="light"?.42:.5}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0,inputHasLabel:!0,isLabelShrunk:!0},style:e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:e.palette.mode==="light"?.42:.5}}]})),Qz=ze(xE,{name:"MuiPickersInputBase",slot:"Section"})(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"inline-block",whiteSpace:"nowrap"})),Kz=ze(vE,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(e,t)=>t.content})(({theme:e})=>({fontFamily:e.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),Xz=ze(bE,{name:"MuiPickersInputBase",slot:"Separator"})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),Zz=ze("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(e,t)=>t.hiddenInput})(Z({},Ok)),Jz=ze("div",{name:"MuiPickersInputBase",slot:"ActiveBar"})(({theme:e,ownerState:t})=>({display:"none",position:"absolute",height:2,bottom:2,borderTopLeftRadius:2,borderTopRightRadius:2,transition:e.transitions.create(["width","left"],{duration:e.transitions.duration.shortest}),backgroundColor:(e.vars||e).palette.primary.main,'[data-active-range-position="start"] &, [data-active-range-position="end"] &':{display:"block"},'[data-active-range-position="start"] &':{left:t.sectionOffsets[0]},'[data-active-range-position="end"] &':{left:t.sectionOffsets[1]}})),eW=(e,t)=>{const{isFieldFocused:s,isFieldDisabled:i,isFieldReadOnly:l,hasFieldError:u,inputSize:d,isInputInFullWidth:f,inputColor:p,hasStartAdornment:g,hasEndAdornment:y}=t,v={root:["root",s&&!i&&"focused",i&&"disabled",l&&"readOnly",u&&"error",f&&"fullWidth",`color${Ak(p)}`,d==="small"&&"inputSizeSmall",g&&"adornedStart",y&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"],activeBar:["activeBar"]};return rn(v,zz,e)};function _1(e,t,s,i){if(e.content.id){const l=t.current?.querySelectorAll(`[data-sectionindex="${s}"] [data-range-position="${i}"]`);if(l)return Array.from(l).reduce((u,d)=>u+d.offsetWidth,0)}return 0}function tW(e,t){let s=0;if(t.current?.getAttribute("data-active-range-position")==="end")for(let l=e.length-1;l>=e.length/2;l-=1)s+=_1(e[l],t,l,"end");else for(let l=0;l<e.length/2;l+=1)s+=_1(e[l],t,l,"start");return{activeBarWidth:s,sectionOffsets:[t.current?.querySelector('[data-sectionindex="0"]')?.offsetLeft||0,t.current?.querySelector(`[data-sectionindex="${e.length/2}"]`)?.offsetLeft||0]}}const tx=x.forwardRef(function(t,s){const i=Jt({props:t,name:"MuiPickersInputBase"}),{elements:l,areAllSectionsEmpty:u,value:d,onChange:f,id:p,endAdornment:g,startAdornment:y,renderSuffix:v,slots:b,slotProps:S,contentEditable:j,tabIndex:D,onInput:T,onPaste:C,onKeyDown:M,name:k,readOnly:P,inputProps:N,inputRef:W,sectionListRef:E,onFocus:L,onBlur:_,classes:B,ownerState:V}=i,A=st(i,Gz),q=Sf(),U=x.useRef(null),z=x.useRef(null),F=x.useRef([]),I=as(s,U),Q=as(N?.ref,W),ee=nj();if(!ee)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const ye=V??q,fe=ce=>{ee.onFocus?.(ce),L?.(ce)},ge=ce=>{fe(ce)},De=ce=>{if(M?.(ce),ce.key==="Enter"&&!ce.defaultMuiPrevented){if(U.current?.dataset.multiInput)return;const de=U.current?.closest("form"),Te=de?.querySelector('[type="submit"]');if(!de||!Te)return;ce.preventDefault(),de.requestSubmit(Te)}},ke=ce=>{ee.onBlur?.(ce),_?.(ce)};x.useEffect(()=>{ee&&ee.setAdornedStart(!!y)},[ee,y]),x.useEffect(()=>{ee&&(u?ee.onEmpty():ee.onFilled())},[ee,u]);const Oe=eW(B,ye),Ve=b?.root||wf,Ue=Et({elementType:Ve,externalSlotProps:S?.root,externalForwardedProps:A,additionalProps:{"aria-invalid":ee.error,ref:I},className:Oe.root,ownerState:ye}),nt=b?.input||ex,Ne=l.some(ce=>ce.content["data-range-position"]!==void 0);return x.useEffect(()=>{if(!Ne||!ye.isPickerOpen)return;const{activeBarWidth:ce,sectionOffsets:de}=tW(l,U);F.current=[de[0],de[1]],z.current&&(z.current.style.width=`${ce}px`)},[l,Ne,ye.isPickerOpen]),a.jsxs(Ve,Z({},Ue,{children:[y,a.jsx(qz,{sectionListRef:E,elements:l,contentEditable:j,tabIndex:D,className:Oe.sectionsContainer,onFocus:fe,onBlur:ke,onInput:T,onPaste:C,onKeyDown:De,slots:{root:nt,section:Qz,sectionContent:Kz,sectionSeparator:Xz},slotProps:{root:Z({},S?.input,{ownerState:ye}),sectionContent:{className:Ro.sectionContent},sectionSeparator:({separatorPosition:ce})=>({className:ce==="before"?Ro.sectionBefore:Ro.sectionAfter})}}),g,v?v(Z({},ee)):null,a.jsx(Zz,Z({name:k,className:Oe.input,value:d,onChange:f,id:p,"aria-hidden":"true",tabIndex:-1,readOnly:P,required:ee.required,disabled:ee.disabled,onFocus:ge},N,{ref:Q})),Ne&&a.jsx(Jz,{className:Oe.activeBar,ref:z,ownerState:{sectionOffsets:F.current}})]}))});function nW(e){return vn("MuiPickersOutlinedInput",e)}const Ys=Z({},Ro,Sn("MuiPickersOutlinedInput",["root","notchedOutline","input"])),sW=["children","className","label","notched","shrink"],rW=ze("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline"})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),z1=ze("span")(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit"})),iW=ze("legend",{shouldForwardProp:e=>va(e)&&e!=="notched"})(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{inputHasLabel:!1},style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:{inputHasLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{inputHasLabel:!0,notched:!0},style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]}));function aW(e){const{className:t,label:s,notched:i}=e,l=st(e,sW),u=Sf();return a.jsx(rW,Z({"aria-hidden":!0,className:t},l,{ownerState:u,children:a.jsx(iW,{ownerState:u,notched:i,children:s?a.jsx(z1,{children:s}):a.jsx(z1,{className:"notranslate",children:""})})}))}const oW=["label","autoFocus","ownerState","classes","notched"],lW=ze(wf,{name:"MuiPickersOutlinedInput",slot:"Root"})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Ys.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ys.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${Ys.focused} .${Ys.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${Ys.disabled}`]:{[`& .${Ys.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled},"*":{color:(e.vars||e).palette.action.disabled}},[`&.${Ys.error} .${Ys.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},variants:Object.keys((e.vars??e).palette).filter(s=>(e.vars??e).palette[s]?.main??!1).map(s=>({props:{inputColor:s},style:{[`&.${Ys.focused}:not(.${Ys.error}) .${Ys.notchedOutline}`]:{borderColor:(e.vars||e).palette[s].main}}}))}}),cW=ze(ex,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer"})({padding:"16.5px 0",variants:[{props:{inputSize:"small"},style:{padding:"8.5px 0"}}]}),uW=e=>{const s=rn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},nW,e);return Z({},e,s)},wE=x.forwardRef(function(t,s){const i=Jt({props:t,name:"MuiPickersOutlinedInput"}),{label:l,classes:u,notched:d}=i,f=st(i,oW),p=nj(),g=uW(u);return a.jsx(tx,Z({slots:{root:lW,input:cW},renderSuffix:y=>a.jsx(aW,{shrink:!!(d||y.adornedStart||y.focused||y.filled),notched:!!(d||y.adornedStart||y.focused||y.filled),className:g.notchedOutline,label:l!=null&&l!==""&&p?.required?a.jsxs(x.Fragment,{children:[l,"","*"]}):l})},f,{label:l,classes:g,ref:s}))});wE.muiName="Input";function dW(e){return vn("MuiPickersFilledInput",e)}const Xi=Z({},Ro,Sn("MuiPickersFilledInput",["root","underline","input"])),fW=["label","autoFocus","disableUnderline","hiddenLabel","classes"],hW=ze(wf,{name:"MuiPickersFilledInput",slot:"Root",shouldForwardProp:e=>va(e)&&e!=="disableUnderline"})(({theme:e})=>{const t=e.palette.mode==="light",s=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",l=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",u=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:l,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:i}},[`&.${Xi.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:i},[`&.${Xi.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:u},variants:[...Object.keys((e.vars??e).palette).filter(d=>(e.vars??e).palette[d].main).map(d=>({props:{inputColor:d,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[d]?.main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Xi.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Xi.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Xi.disabled}, .${Xi.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Xi.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:{hasStartAdornment:!0},style:{paddingLeft:12}},{props:{hasEndAdornment:!0},style:{paddingRight:12}}]}}),pW=ze(ex,{name:"MuiPickersFilledInput",slot:"sectionsContainer",shouldForwardProp:e=>va(e)&&e!=="hiddenLabel"})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{inputSize:"small"},style:{paddingTop:21,paddingBottom:4}},{props:{hasStartAdornment:!0},style:{paddingLeft:0}},{props:{hasEndAdornment:!0},style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,inputSize:"small"},style:{paddingTop:8,paddingBottom:9}}]}),mW=(e,t)=>{const{inputHasUnderline:s}=t,l=rn({root:["root",s&&"underline"],input:["input"]},dW,e);return Z({},e,l)},jE=x.forwardRef(function(t,s){const i=Jt({props:t,name:"MuiPickersFilledInput"}),{label:l,disableUnderline:u=!1,hiddenLabel:d=!1,classes:f}=i,p=st(i,fW),g=Sf(),y=Z({},g,{inputHasUnderline:!u}),v=mW(f,y);return a.jsx(tx,Z({slots:{root:hW,input:pW},slotProps:{root:{disableUnderline:u},input:{hiddenLabel:d}}},p,{label:l,classes:v,ref:s,ownerState:y}))});jE.muiName="Input";function gW(e){return vn("MuiPickersFilledInput",e)}const Xl=Z({},Ro,Sn("MuiPickersInput",["root","underline","input"])),yW=["label","autoFocus","disableUnderline","ownerState","classes"],xW=ze(wf,{name:"MuiPickersInput",slot:"Root",shouldForwardProp:e=>va(e)&&e!=="disableUnderline"})(({theme:e})=>{let s=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(s=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((e.vars??e).palette).filter(i=>(e.vars??e).palette[i].main).map(i=>({props:{inputColor:i,inputHasUnderline:!0},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[i].main}`}}})),{props:{inputHasUnderline:!0},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Xl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Xl.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Xl.disabled}, .${Xl.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${s}`}},[`&.${Xl.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),bW=(e,t)=>{const{inputHasUnderline:s}=t,l=rn({root:["root",!s&&"underline"],input:["input"]},gW,e);return Z({},e,l)},CE=x.forwardRef(function(t,s){const i=Jt({props:t,name:"MuiPickersInput"}),{label:l,disableUnderline:u=!1,classes:d}=i,f=st(i,yW),p=Sf(),g=Z({},p,{inputHasUnderline:!u}),y=bW(d,g);return a.jsx(tx,Z({slots:{root:xW},slotProps:{root:{disableUnderline:u}}},f,{ownerState:g,label:l,classes:y,ref:s}))});CE.muiName="Input";const vW=["onFocus","onBlur","className","classes","color","disabled","error","variant","required","hiddenLabel","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps","data-active-range-position"],SW={standard:CE,filled:jE,outlined:wE},wW=ze(ht,{name:"MuiPickersTextField",slot:"Root"})({maxWidth:"100%"}),jW=(e,t)=>{const{isFieldFocused:s,isFieldDisabled:i,isFieldRequired:l}=t;return rn({root:["root",s&&!i&&"focused",i&&"disabled",l&&"required"]},_z,e)},TE=x.forwardRef(function(t,s){const i=Jt({props:t,name:"MuiPickersTextField"}),{onFocus:l,onBlur:u,className:d,classes:f,color:p="primary",disabled:g=!1,error:y=!1,variant:v="outlined",required:b=!1,hiddenLabel:S=!1,InputProps:j,inputProps:D,inputRef:T,sectionListRef:C,elements:M,areAllSectionsEmpty:k,onClick:P,onKeyDown:N,onKeyUp:W,onPaste:E,onInput:L,endAdornment:_,startAdornment:B,tabIndex:V,contentEditable:A,focused:q,value:U,onChange:z,fullWidth:F,id:I,name:Q,helperText:ee,FormHelperTextProps:ye,label:fe,InputLabelProps:ge,"data-active-range-position":De}=i,ke=st(i,vW),Oe=x.useRef(null),Ve=as(s,Oe),Ue=yg(I),nt=ee&&Ue?`${Ue}-helper-text`:void 0,Ne=fe&&Ue?`${Ue}-label`:void 0,ce=Jy({disabled:i.disabled,required:i.required,readOnly:j?.readOnly}),de=x.useMemo(()=>Z({},ce,{isFieldValueEmpty:k,isFieldFocused:q??!1,hasFieldError:y??!1,inputSize:i.size??"medium",inputColor:p??"primary",isInputInFullWidth:F??!1,hasStartAdornment:!!(B??j?.startAdornment),hasEndAdornment:!!(_??j?.endAdornment),inputHasLabel:!!fe,isLabelShrunk:!!ge?.shrink}),[ce,k,q,y,i.size,p,F,B,_,j?.startAdornment,j?.endAdornment,fe,ge?.shrink]),Te=jW(f,de),Ee=SW[v],oe={};return v==="outlined"?(ge&&typeof ge.shrink<"u"&&(oe.notched=ge.shrink),oe.label=fe):v==="filled"&&(oe.hiddenLabel=S),a.jsx(SE.Provider,{value:de,children:a.jsxs(wW,Z({className:Rn(Te.root,d),ref:Ve,focused:q,disabled:g,variant:v,error:y,color:p,fullWidth:F,required:b,ownerState:de},ke,{children:[fe!=null&&fe!==""&&a.jsx(vt,Z({htmlFor:Ue,id:Ne},ge,{children:fe})),a.jsx(Ee,Z({elements:M,areAllSectionsEmpty:k,onClick:P,onKeyDown:N,onKeyUp:W,onInput:L,onPaste:E,onFocus:l,onBlur:u,endAdornment:_,startAdornment:B,tabIndex:V,contentEditable:A,value:U,onChange:z,id:Ue,fullWidth:F,inputProps:D,inputRef:T,sectionListRef:C,label:fe,name:Q,role:"group","aria-labelledby":Ne,"aria-describedby":nt,"aria-live":nt?"polite":void 0,"data-active-range-position":De},oe,j)),ee&&a.jsx(jd,Z({id:nt},ye,{children:ee}))]}))})}),CW=["enableAccessibleFieldDOMStructure"],TW=["InputProps","readOnly","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],DW=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],EW=["ownerState"],MW=["ownerState"],kW=["ownerState"],PW=["ownerState"],AW=["InputProps","inputProps"],mm=()=>{},OW=e=>{let{enableAccessibleFieldDOMStructure:t}=e,s=st(e,CW);if(t){const{InputProps:M,readOnly:k,onClear:P,clearable:N,clearButtonPosition:W,openPickerButtonPosition:E,openPickerAriaLabel:L}=s,_=st(s,TW),B=yi>=6&&_?.slotProps?.input?fc(_?.slotProps?.input,M):mm;return{clearable:N,onClear:P,clearButtonPosition:W,openPickerButtonPosition:E,openPickerAriaLabel:L,textFieldProps:Z({},_,yi>=6&&_?.slotProps?.input?{slotProps:Z({},_?.slotProps,{input:V=>Z({},sr(B,V),{readOnly:k})})}:{InputProps:Z({},M??{},{readOnly:k})})}}const{onPaste:i,onKeyDown:l,inputMode:u,readOnly:d,InputProps:f,inputProps:p,inputRef:g,onClear:y,clearable:v,clearButtonPosition:b,openPickerButtonPosition:S,openPickerAriaLabel:j}=s,D=st(s,DW),T=yi>=6&&D?.slotProps?.input?fc(D?.slotProps?.input,f):mm,C=yi>=6&&D?.slotProps?.htmlInput?fc(D?.slotProps?.htmlInput,p):mm;return{clearable:v,onClear:y,clearButtonPosition:b,openPickerButtonPosition:S,openPickerAriaLabel:j,textFieldProps:Z({},D,yi>=6&&(D?.slotProps?.input||D?.slotProps?.htmlInput)?{slotProps:Z({},D?.slotProps,{input:M=>Z({},sr(T,M),{readOnly:d}),htmlInput:M=>Z({},sr(C,M),{inputMode:u,onPaste:i,onKeyDown:l,ref:g})})}:{InputProps:Z({},f??{},{readOnly:d}),inputProps:Z({},p??{},{inputMode:u,onPaste:i,onKeyDown:l,ref:g})})}},nx=x.createContext({slots:{},slotProps:{},inputRef:void 0});function RW(e){const{fieldResponse:t,defaultOpenPickerIcon:s}=e,i=Pi(),l=Ky(),u=x.useContext(nx),{textFieldProps:d,onClear:f,clearable:p,openPickerAriaLabel:g,clearButtonPosition:y="end",openPickerButtonPosition:v="end"}=OW(t),b=Jy(d),S=Ae(ye=>{ye.preventDefault(),l?.setOpen(fe=>!fe)}),j=l?l.triggerStatus:"hidden",D=p?y:null,T=j!=="hidden"?v:null,C=u.slots.textField??(t.enableAccessibleFieldDOMStructure===!1?et:TE),M=u.slots.inputAdornment??pg,k=Et({elementType:M,externalSlotProps:u.slotProps.inputAdornment,additionalProps:{position:"start"},ownerState:Z({},b,{position:"start"})}),P=st(k,EW),N=Et({elementType:M,externalSlotProps:u.slotProps.inputAdornment,additionalProps:{position:"end"},ownerState:Z({},b,{position:"end"})}),W=st(N,MW),E=u.slots.openPickerButton??rt,L=Et({elementType:E,externalSlotProps:u.slotProps.openPickerButton,additionalProps:{disabled:j==="disabled",onClick:S,"aria-label":g,edge:d.variant!=="standard"?T:!1},ownerState:b}),_=st(L,kW),B=u.slots.openPickerIcon??s,V=Et({elementType:B,externalSlotProps:u.slotProps.openPickerIcon,ownerState:b}),A=u.slots.clearButton??rt,q=Et({elementType:A,externalSlotProps:u.slotProps.clearButton,className:"clearButton",additionalProps:{title:i.fieldClearLabel,tabIndex:-1,onClick:f,disabled:t.disabled||t.readOnly,edge:d.variant!=="standard"&&D!==T?D:!1},ownerState:b}),U=st(q,PW),z=u.slots.clearIcon??Hz,F=Et({elementType:z,externalSlotProps:u.slotProps.clearIcon,additionalProps:{fontSize:"small"},ownerState:b});d.ref=as(d.ref,l?.rootRef);const I={},Q=sr((yi>=6&&d?.slotProps?.input)??d.InputProps,b);l&&(I.ref=l.triggerRef),!Q?.startAdornment&&(D==="start"||T==="start")&&(I.startAdornment=a.jsxs(M,Z({},P,{children:[T==="start"&&a.jsx(E,Z({},_,{children:a.jsx(B,Z({},V))})),D==="start"&&a.jsx(A,Z({},U,{children:a.jsx(z,Z({},F))}))]}))),!Q?.endAdornment&&(D==="end"||T==="end")&&(I.endAdornment=a.jsxs(M,Z({},W,{children:[D==="end"&&a.jsx(A,Z({},U,{children:a.jsx(z,Z({},F))})),T==="end"&&a.jsx(E,Z({},_,{children:a.jsx(B,Z({},V))}))]}))),!I?.endAdornment&&!I?.startAdornment&&u.slots.inputAdornment&&(I.endAdornment=a.jsx(M,Z({},W))),D!=null&&(d.sx=[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(d.sx)?d.sx:[d.sx]]);const ee=yi>=6&&d?.slotProps?.input?sr(fc(Q,I),b):Z({},Q,I);return d.inputProps=yi>=6&&d?.slotProps?.htmlInput?sr(d.slotProps.htmlInput,b):d.inputProps,delete d?.slotProps?.input,t.enableAccessibleFieldDOMStructure&&delete d?.slotProps,a.jsx(C,Z({},d,{InputProps:ee}))}function fc(e,t){return e?t?s=>Z({},sr(t,s),sr(e,s)):e:t}function IW(e){const{ref:t,externalForwardedProps:s,slotProps:i}=e,l=x.useContext(nx),u=Ky(),d=Jy(s),{InputProps:f,inputProps:p}=s,g=st(s,AW),y=Et({elementType:TE,externalSlotProps:fc(l.slotProps.textField,i?.textField),externalForwardedProps:g,additionalProps:{ref:t,sx:u?.rootSx,label:u?.label,name:u?.name,className:u?.rootClassName,inputRef:l.inputRef},ownerState:d});return y.inputProps=Z({},p,y.inputProps),y.InputProps=Z({},f,y.InputProps),y}function BW(e){const{slots:t={},slotProps:s={},inputRef:i,children:l}=e,u=x.useMemo(()=>({inputRef:i,slots:{openPickerButton:t.openPickerButton,openPickerIcon:t.openPickerIcon,textField:t.textField,inputAdornment:t.inputAdornment,clearIcon:t.clearIcon,clearButton:t.clearButton},slotProps:{openPickerButton:s.openPickerButton,openPickerIcon:s.openPickerIcon,textField:s.textField,inputAdornment:s.inputAdornment,clearIcon:s.clearIcon,clearButton:s.clearButton}}),[i,t.openPickerButton,t.openPickerIcon,t.textField,t.inputAdornment,t.clearIcon,t.clearButton,s.openPickerButton,s.openPickerIcon,s.textField,s.inputAdornment,s.clearIcon,s.clearButton]);return a.jsx(nx.Provider,{value:u,children:l})}const LW=["slots","slotProps"],DE=x.forwardRef(function(t,s){const i=Jt({props:t,name:"MuiDateField"}),{slots:l,slotProps:u}=i,d=st(i,LW),f=IW({slotProps:u,ref:s,externalForwardedProps:d}),p=Iz(f);return a.jsx(BW,{slots:l,slotProps:u,inputRef:d.inputRef,children:a.jsx(RW,{fieldResponse:p,defaultOpenPickerIcon:Fz})})}),EE=({shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:s,minDate:i,maxDate:l,disableFuture:u,disablePast:d,timezone:f})=>{const p=Ht();return x.useCallback(g=>qc({adapter:p,value:g,timezone:f,props:{shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:s,minDate:i,maxDate:l,disableFuture:u,disablePast:d}})!==null,[p,e,t,s,i,l,u,d,f])},NW=(e,t)=>(s,i)=>{switch(i.type){case"setVisibleDate":return Z({},s,{slideDirection:i.direction,currentMonth:i.month,isMonthSwitchingAnimating:!t.isSameMonth(i.month,s.currentMonth)&&!e&&!i.skipAnimation,focusedDay:i.focusedDay});case"changeMonthTimezone":{const l=i.newTimezone;if(t.getTimezone(s.currentMonth)===l)return s;let u=t.setTimezone(s.currentMonth,l);return t.getMonth(u)!==t.getMonth(s.currentMonth)&&(u=t.setMonth(u,t.getMonth(s.currentMonth))),Z({},s,{currentMonth:u})}case"finishMonthSwitchingAnimation":return Z({},s,{isMonthSwitchingAnimating:!1});default:throw new Error("missing support")}},FW=e=>{const{value:t,referenceDate:s,disableFuture:i,disablePast:l,maxDate:u,minDate:d,onMonthChange:f,onYearChange:p,reduceAnimations:g,shouldDisableDate:y,timezone:v,getCurrentMonthFromVisibleDate:b}=e,S=Ht(),j=x.useRef(NW(!!g,S)).current,D=x.useMemo(()=>lr.getInitialReferenceValue({value:t,adapter:S,timezone:v,props:e,referenceDate:s,granularity:Js.day}),[s,v]),[T,C]=x.useReducer(j,{isMonthSwitchingAnimating:!1,focusedDay:D,currentMonth:S.startOfMonth(D),slideDirection:"left"}),M=EE({shouldDisableDate:y,minDate:d,maxDate:u,disableFuture:i,disablePast:l,timezone:v});x.useEffect(()=>{C({type:"changeMonthTimezone",newTimezone:S.getTimezone(D)})},[D,S]);const k=Ae(({target:N,reason:W})=>{if(W==="cell-interaction"&&T.focusedDay!=null&&S.isSameDay(N,T.focusedDay))return;const E=W==="cell-interaction";let L,_;if(W==="cell-interaction")L=b(N,T.currentMonth),_=N;else if(L=S.isSameMonth(N,T.currentMonth)?T.currentMonth:S.startOfMonth(N),_=N,M(_)){const A=S.startOfMonth(N),q=S.endOfMonth(N);_=Pc({adapter:S,date:_,minDate:S.isBefore(d,A)?A:d,maxDate:S.isAfter(u,q)?q:u,disablePast:l,disableFuture:i,isDateDisabled:M,timezone:v})}const B=!S.isSameMonth(T.currentMonth,L),V=!S.isSameYear(T.currentMonth,L);B&&f?.(L),V&&p?.(S.startOfYear(L)),C({type:"setVisibleDate",month:L,direction:S.isAfterDay(L,T.currentMonth)?"left":"right",focusedDay:T.focusedDay!=null&&_!=null&&S.isSameDay(_,T.focusedDay)?T.focusedDay:_,skipAnimation:E})}),P=x.useCallback(()=>{C({type:"finishMonthSwitchingAnimation"})},[]);return{referenceDate:D,calendarState:T,setVisibleDate:k,isDateDisabled:M,onMonthSwitchingAnimationEnd:P}},HW=e=>vn("MuiPickersFadeTransitionGroup",e);Sn("MuiPickersFadeTransitionGroup",["root"]);const _W=["children"],zW=e=>rn({root:["root"]},HW,e),WW=ze(rj,{name:"MuiPickersFadeTransitionGroup",slot:"Root"})({display:"block",position:"relative"});function ME(e){const t=Jt({props:e,name:"MuiPickersFadeTransitionGroup"}),{className:s,reduceAnimations:i,transKey:l,classes:u}=t,{children:d}=t,f=st(t,_W),p=zW(u),g=sj();return i?d:a.jsx(WW,{className:Rn(p.root,s),ownerState:f,children:a.jsx(Qd,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:g.transitions.duration.enteringScreen,enter:g.transitions.duration.enteringScreen,exit:0},children:d},l)})}function VW(e){return vn("MuiPickersDay",e)}const Zi=Sn("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]);function kE(e){const{disabled:t,selected:s,today:i,outsideCurrentMonth:l,day:u,disableMargin:d,disableHighlightToday:f,showDaysOutsideCurrentMonth:p}=e,g=Ht(),{ownerState:y}=In();return x.useMemo(()=>Z({},y,{day:u,isDaySelected:s??!1,isDayDisabled:t??!1,isDayCurrent:i??!1,isDayOutsideMonth:l??!1,isDayStartOfWeek:g.isSameDay(u,g.startOfWeek(u)),isDayEndOfWeek:g.isSameDay(u,g.endOfWeek(u)),disableMargin:d??!1,disableHighlightToday:f??!1,showDaysOutsideCurrentMonth:p??!1}),[g,y,u,s,t,i,l,d,f,p])}const YW=["autoFocus","className","classes","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","children","isFirstVisibleCell","isLastVisibleCell","day","selected","disabled","today","outsideCurrentMonth","disableMargin","disableHighlightToday","showDaysOutsideCurrentMonth"],UW=(e,t)=>{const{isDaySelected:s,isDayDisabled:i,isDayCurrent:l,isDayOutsideMonth:u,disableMargin:d,disableHighlightToday:f,showDaysOutsideCurrentMonth:p}=t,g=u&&!p;return rn({root:["root",s&&!g&&"selected",i&&"disabled",!d&&"dayWithMargin",!f&&l&&"today",u&&p&&"dayOutsideMonth",g&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},VW,e)},PE=({theme:e})=>Z({},e.typography.caption,{width:Ac,height:Ac,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Lo(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:Lo(e.palette.primary.main,e.palette.action.focusOpacity),[`&.${Zi.selected}`]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${Zi.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${Zi.disabled}:not(.${Zi.selected})`]:{color:(e.vars||e).palette.text.disabled},[`&.${Zi.disabled}&.${Zi.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${bf}px`}},{props:{isDayOutsideMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(e.vars||e).palette.text.secondary}},{props:{disableHighlightToday:!1,isDayCurrent:!0},style:{[`&:not(.${Zi.selected})`]:{border:`1px solid ${(e.vars||e).palette.text.secondary}`}}}]}),AE=(e,t)=>{const{ownerState:s}=e;return[t.root,!s.disableMargin&&t.dayWithMargin,!s.disableHighlightToday&&s.isDayCurrent&&t.today,!s.isDayOutsideMonth&&s.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,s.isDayOutsideMonth&&!s.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},qW=ze(Rk,{name:"MuiPickersDay",slot:"Root",overridesResolver:AE})(PE),GW=ze("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:AE})(({theme:e})=>Z({},PE({theme:e}),{opacity:0,pointerEvents:"none"})),Zl=()=>{},$W=x.forwardRef(function(t,s){const i=Jt({props:t,name:"MuiPickersDay"}),{autoFocus:l=!1,className:u,classes:d,isAnimating:f,onClick:p,onDaySelect:g,onFocus:y=Zl,onBlur:v=Zl,onKeyDown:b=Zl,onMouseDown:S=Zl,onMouseEnter:j=Zl,children:D,day:T,selected:C,disabled:M,today:k,outsideCurrentMonth:P,disableMargin:N,disableHighlightToday:W,showDaysOutsideCurrentMonth:E}=i,L=st(i,YW),_=kE({day:T,selected:C,disabled:M,today:k,outsideCurrentMonth:P,disableMargin:N,disableHighlightToday:W,showDaysOutsideCurrentMonth:E}),B=UW(d,_),V=Ht(),A=x.useRef(null),q=as(A,s);Ir(()=>{l&&!M&&!f&&!P&&A.current.focus()},[l,M,f,P]);const U=F=>{S(F),P&&F.preventDefault()},z=F=>{F.defaultMuiPrevented=!0,M||g(T),P&&F.currentTarget.focus(),p&&p(F)};return P&&!E?a.jsx(GW,{className:Rn(B.root,B.hiddenDaySpacingFiller,u),ownerState:_,role:L.role}):a.jsx(qW,Z({className:Rn(B.root,u),ref:q,centerRipple:!0,disabled:M,tabIndex:C?0:-1,onKeyDown:F=>b(F,T),onFocus:F=>y(F,T),onBlur:F=>v(F,T),onMouseEnter:F=>j(F,T),onClick:z,onMouseDown:U},L,{ownerState:_,children:D??V.format(T,"dayOfMonth")}))}),QW=x.memo($W),KW=e=>vn("MuiPickersSlideTransition",e),Rs=Sn("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),XW=["children","className","reduceAnimations","slideDirection","transKey","classes"],ZW=(e,t)=>{const{slideDirection:s}=t,i={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${s}`],exitActive:[`slideExitActiveLeft-${s}`]};return rn(i,KW,e)},JW=ze(rj,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`.${Rs["slideEnter-left"]}`]:t["slideEnter-left"]},{[`.${Rs["slideEnter-right"]}`]:t["slideEnter-right"]},{[`.${Rs.slideEnterActive}`]:t.slideEnterActive},{[`.${Rs.slideExit}`]:t.slideExit},{[`.${Rs["slideExitActiveLeft-left"]}`]:t["slideExitActiveLeft-left"]},{[`.${Rs["slideExitActiveLeft-right"]}`]:t["slideExitActiveLeft-right"]}]})(({theme:e})=>{const t=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Rs["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Rs["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Rs.slideEnterActive}`]:{transform:"translate(0%)",transition:t},[`& .${Rs.slideExit}`]:{transform:"translate(0%)"},[`& .${Rs["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:t,zIndex:0},[`& .${Rs["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:t,zIndex:0}}});function eV(e){const t=Jt({props:e,name:"MuiPickersSlideTransition"}),{children:s,className:i,reduceAnimations:l,slideDirection:u,transKey:d,classes:f}=t,p=st(t,XW),{ownerState:g}=In(),y=Z({},g,{slideDirection:u}),v=ZW(f,y),b=sj();if(l)return a.jsx("div",{className:Rn(v.root,i),children:s});const S={exit:v.exit,enterActive:v.enterActive,enter:v.enter,exitActive:v.exitActive};return a.jsx(JW,{className:Rn(v.root,i),childFactory:j=>x.cloneElement(j,{classNames:S}),role:"presentation",ownerState:y,children:a.jsx(Ik,Z({mountOnEnter:!0,unmountOnExit:!0,timeout:b.transitions.duration.complex,classNames:S},p,{children:s}),d)})}const tV=e=>vn("MuiDayCalendar",e);Sn("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const nV=["parentProps","day","focusedDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],sV=["ownerState"],rV=e=>rn({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},tV,e),OE=(Ac+bf*2)*6,iV=ze("div",{name:"MuiDayCalendar",slot:"Root"})({}),aV=ze("div",{name:"MuiDayCalendar",slot:"Header"})({display:"flex",justifyContent:"center",alignItems:"center"}),oV=ze(R,{name:"MuiDayCalendar",slot:"WeekDayLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),lV=ze(R,{name:"MuiDayCalendar",slot:"WeekNumberLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.disabled})),cV=ze(R,{name:"MuiDayCalendar",slot:"WeekNumber"})(({theme:e})=>Z({},e.typography.caption,{width:Ac,height:Ac,padding:0,margin:`0 ${bf}px`,color:(e.vars||e).palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),uV=ze("div",{name:"MuiDayCalendar",slot:"LoadingContainer"})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:OE}),dV=ze(eV,{name:"MuiDayCalendar",slot:"SlideTransition"})({minHeight:OE}),fV=ze("div",{name:"MuiDayCalendar",slot:"MonthContainer"})({overflow:"hidden"}),hV=ze("div",{name:"MuiDayCalendar",slot:"WeekContainer"})({margin:`${bf}px 0`,display:"flex",justifyContent:"center"});function pV(e){let{parentProps:t,day:s,focusedDay:i,selectedDays:l,isDateDisabled:u,currentMonthNumber:d,isViewFocused:f}=e,p=st(e,nV);const{disabled:g,disableHighlightToday:y,isMonthSwitchingAnimating:v,showDaysOutsideCurrentMonth:b,slots:S,slotProps:j,timezone:D}=t,T=Ht(),C=xf(D),M=i!=null&&T.isSameDay(s,i),k=f&&M,P=l.some(U=>T.isSameDay(U,s)),N=T.isSameDay(s,C),W=x.useMemo(()=>g||u(s),[g,u,s]),E=x.useMemo(()=>T.getMonth(s)!==d,[T,s,d]),L=kE({day:s,selected:P,disabled:W,today:N,outsideCurrentMonth:E,disableMargin:void 0,disableHighlightToday:y,showDaysOutsideCurrentMonth:b}),_=S?.day??QW,B=Et({elementType:_,externalSlotProps:j?.day,additionalProps:Z({disableHighlightToday:y,showDaysOutsideCurrentMonth:b,role:"gridcell",isAnimating:v,"data-timestamp":T.toJsDate(s).valueOf()},p),ownerState:Z({},L,{day:s,isDayDisabled:W,isDaySelected:P})}),V=st(B,sV),A=x.useMemo(()=>{const U=T.startOfMonth(T.setMonth(s,d));return b?T.isSameDay(s,T.startOfWeek(U)):T.isSameDay(s,U)},[d,s,b,T]),q=x.useMemo(()=>{const U=T.endOfMonth(T.setMonth(s,d));return b?T.isSameDay(s,T.endOfWeek(U)):T.isSameDay(s,U)},[d,s,b,T]);return a.jsx(_,Z({},V,{day:s,disabled:W,autoFocus:!E&&k,today:N,outsideCurrentMonth:E,isFirstVisibleCell:A,isLastVisibleCell:q,selected:P,tabIndex:M?0:-1,"aria-selected":P,"aria-current":N?"date":void 0}))}function mV(e){const t=Jt({props:e,name:"MuiDayCalendar"}),s=Ht(),{onFocusedDayChange:i,className:l,classes:u,currentMonth:d,selectedDays:f,focusedDay:p,loading:g,onSelectedDaysChange:y,onMonthSwitchingAnimationEnd:v,readOnly:b,reduceAnimations:S,renderLoading:j=()=>a.jsx("span",{children:"..."}),slideDirection:D,TransitionProps:T,disablePast:C,disableFuture:M,minDate:k,maxDate:P,shouldDisableDate:N,shouldDisableMonth:W,shouldDisableYear:E,dayOfWeekFormatter:L=de=>s.format(de,"weekdayShort").charAt(0).toUpperCase(),hasFocus:_,onFocusedViewChange:B,gridLabelId:V,displayWeekNumber:A,fixedWeekNumber:q,timezone:U}=t,z=xf(U),F=rV(u),I=_r(),Q=EE({shouldDisableDate:N,shouldDisableMonth:W,shouldDisableYear:E,minDate:k,maxDate:P,disablePast:C,disableFuture:M,timezone:U}),ee=Pi(),ye=Ae(de=>{b||y(de)}),fe=de=>{Q(de)||(i(de),B?.(!0))},ge=Ae((de,Te)=>{switch(de.key){case"ArrowUp":fe(s.addDays(Te,-7)),de.preventDefault();break;case"ArrowDown":fe(s.addDays(Te,7)),de.preventDefault();break;case"ArrowLeft":{const Ee=s.addDays(Te,I?1:-1),oe=s.addMonths(Te,I?1:-1),Ce=Pc({adapter:s,date:Ee,minDate:I?Ee:s.startOfMonth(oe),maxDate:I?s.endOfMonth(oe):Ee,isDateDisabled:Q,timezone:U});fe(Ce||Ee),de.preventDefault();break}case"ArrowRight":{const Ee=s.addDays(Te,I?-1:1),oe=s.addMonths(Te,I?-1:1),Ce=Pc({adapter:s,date:Ee,minDate:I?s.startOfMonth(oe):Ee,maxDate:I?Ee:s.endOfMonth(oe),isDateDisabled:Q,timezone:U});fe(Ce||Ee),de.preventDefault();break}case"Home":fe(s.startOfWeek(Te)),de.preventDefault();break;case"End":fe(s.endOfWeek(Te)),de.preventDefault();break;case"PageUp":fe(s.addMonths(Te,1)),de.preventDefault();break;case"PageDown":fe(s.addMonths(Te,-1)),de.preventDefault();break}}),De=Ae((de,Te)=>fe(Te)),ke=Ae((de,Te)=>{p!=null&&s.isSameDay(p,Te)&&B?.(!1)}),Oe=s.getMonth(d),Ve=s.getYear(d),Ue=x.useMemo(()=>f.filter(de=>!!de).map(de=>s.startOfDay(de)),[s,f]),nt=`${Ve}-${Oe}`,Ne=x.useMemo(()=>x.createRef(),[nt]),ce=x.useMemo(()=>{const de=s.getWeekArray(d);let Te=s.addMonths(d,1);for(;q&&de.length<q;){const Ee=s.getWeekArray(Te),oe=s.isSameDay(de[de.length-1][0],Ee[0][0]);Ee.slice(oe?1:0).forEach(Ce=>{de.length<q&&de.push(Ce)}),Te=s.addMonths(Te,1)}return de},[d,q,s]);return a.jsxs(iV,{role:"grid","aria-labelledby":V,className:F.root,children:[a.jsxs(aV,{role:"row",className:F.header,children:[A&&a.jsx(lV,{variant:"caption",role:"columnheader","aria-label":ee.calendarWeekNumberHeaderLabel,className:F.weekNumberLabel,children:ee.calendarWeekNumberHeaderText}),qH(s,z).map((de,Te)=>a.jsx(oV,{variant:"caption",role:"columnheader","aria-label":s.format(de,"weekday"),className:F.weekDayLabel,children:L(de)},Te.toString()))]}),g?a.jsx(uV,{className:F.loadingContainer,children:j()}):a.jsx(dV,Z({transKey:nt,onExited:v,reduceAnimations:S,slideDirection:D,className:Rn(l,F.slideTransition)},T,{nodeRef:Ne,children:a.jsx(fV,{ref:Ne,role:"rowgroup",className:F.monthContainer,children:ce.map((de,Te)=>a.jsxs(hV,{role:"row",className:F.weekContainer,"aria-rowindex":Te+1,children:[A&&a.jsx(cV,{className:F.weekNumber,role:"rowheader","aria-label":ee.calendarWeekNumberAriaLabelText(s.getWeekNumber(de[0])),children:ee.calendarWeekNumberText(s.getWeekNumber(de[0]))}),de.map((Ee,oe)=>a.jsx(pV,{parentProps:t,day:Ee,selectedDays:Ue,isViewFocused:_,focusedDay:p,onKeyDown:ge,onFocus:De,onBlur:ke,onDaySelect:ye,isDateDisabled:Q,currentMonthNumber:Oe,"aria-colindex":oe+1},Ee.toString()))]},`week-${de[0]}`))})}))]})}function RE(e){return vn("MuiMonthCalendar",e)}const vd=Sn("MuiMonthCalendar",["root","button","disabled","selected"]),gV=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],yV=(e,t)=>{const s={button:["button",t.isMonthDisabled&&"disabled",t.isMonthSelected&&"selected"]};return rn(s,RE,e)},xV=ze("button",{name:"MuiMonthCalendar",slot:"Button",overridesResolver:(e,t)=>[t.button,{[`&.${vd.disabled}`]:t.disabled},{[`&.${vd.selected}`]:t.selected}]})(({theme:e})=>Z({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Lo(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Lo(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${vd.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${vd.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),bV=x.memo(function(t){const{autoFocus:s,classes:i,disabled:l,selected:u,value:d,onClick:f,onKeyDown:p,onFocus:g,onBlur:y,slots:v,slotProps:b}=t,S=st(t,gV),j=x.useRef(null),{ownerState:D}=In(),T=Z({},D,{isMonthDisabled:l,isMonthSelected:u}),C=yV(i,T);Ir(()=>{s&&j.current?.focus()},[s]);const M=v?.monthButton??xV,k=Et({elementType:M,externalSlotProps:b?.monthButton,externalForwardedProps:S,additionalProps:{disabled:l,ref:j,type:"button",role:"radio","aria-checked":u,onClick:P=>f(P,d),onKeyDown:P=>p(P,d),onFocus:P=>g(P,d),onBlur:P=>y(P,d)},ownerState:T,className:C.button});return a.jsx(M,Z({},k))}),vV=["autoFocus","className","currentMonth","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],SV=e=>rn({root:["root"]},RE,e);function wV(e,t){const s=Jt({props:e,name:t}),i=Gc(s);return Z({},s,i,{monthsPerRow:s.monthsPerRow??3})}const W1=(e,t,s,i,l)=>!!(e===t&&i&&l.isSameYear(s,i)),jV=ze("div",{name:"MuiMonthCalendar",slot:"Root",shouldForwardProp:e=>va(e)&&e!=="monthsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:16,padding:"8px 0",width:vf,boxSizing:"border-box",variants:[{props:{monthsPerRow:3},style:{columnGap:24}},{props:{monthsPerRow:4},style:{columnGap:0}}]}),CV=x.forwardRef(function(t,s){const i=wV(t,"MuiMonthCalendar"),{autoFocus:l,className:u,currentMonth:d,classes:f,value:p,defaultValue:g,referenceDate:y,disabled:v,disableFuture:b,disablePast:S,maxDate:j,minDate:D,onChange:T,shouldDisableMonth:C,readOnly:M,onMonthFocus:k,hasFocus:P,onFocusedViewChange:N,monthsPerRow:W,timezone:E,gridLabelId:L,slots:_,slotProps:B}=i,V=st(i,vV),{value:A,handleValueChange:q,timezone:U}=$c({name:"MonthCalendar",timezone:E,value:p,defaultValue:g,referenceDate:y,onChange:T,valueManager:lr}),z=xf(U),F=_r(),I=Ht(),{ownerState:Q}=In(),ee=x.useMemo(()=>lr.getInitialReferenceValue({value:A,adapter:I,props:i,timezone:U,referenceDate:y,granularity:Js.month}),[]),ye=SV(f),fe=x.useMemo(()=>I.getMonth(z),[I,z]),ge=x.useMemo(()=>A!=null?I.getMonth(A):null,[A,I]),[De,ke]=x.useState(()=>ge||I.getMonth(ee)),[Oe,Ve]=Bo({name:"MonthCalendar",state:"hasFocus",controlled:P,default:l??!1}),Ue=Ae(oe=>{Ve(oe),N&&N(oe)}),nt=x.useCallback(oe=>{const Ce=I.startOfMonth(S&&I.isAfter(z,D)?z:D),te=I.startOfMonth(b&&I.isBefore(z,j)?z:j),we=I.startOfMonth(oe);return I.isBefore(we,Ce)||I.isAfter(we,te)?!0:C?C(we):!1},[b,S,j,D,z,C,I]),Ne=Ae((oe,Ce)=>{if(M)return;const te=A&&d&&!I.isSameYear(A,d)?I.setYear(A,I.getYear(d)):A,we=I.setMonth(te??ee,Ce);q(we)}),ce=Ae(oe=>{nt(I.setMonth(A??d??ee,oe))||(ke(oe),Ue(!0),k&&k(oe))});x.useEffect(()=>{ke(oe=>ge!==null&&oe!==ge?ge:oe)},[ge]);const de=Ae((oe,Ce)=>{switch(oe.key){case"ArrowUp":ce((12+Ce-3)%12),oe.preventDefault();break;case"ArrowDown":ce((12+Ce+3)%12),oe.preventDefault();break;case"ArrowLeft":ce((12+Ce+(F?1:-1))%12),oe.preventDefault();break;case"ArrowRight":ce((12+Ce+(F?-1:1))%12),oe.preventDefault();break}}),Te=Ae((oe,Ce)=>{ce(Ce)}),Ee=Ae((oe,Ce)=>{De===Ce&&Ue(!1)});return a.jsx(jV,Z({ref:s,className:Rn(ye.root,u),ownerState:Q,role:"radiogroup","aria-labelledby":L,monthsPerRow:W},V,{children:Vy(I,d??A??ee).map(oe=>{const Ce=I.getMonth(oe),te=I.format(oe,"monthShort"),we=I.format(oe,"month"),ne=W1(Ce,ge,oe,A,I),le=v||nt(oe);return a.jsx(bV,{selected:ne,value:Ce,onClick:Ne,onKeyDown:de,autoFocus:Oe&&Ce===De,disabled:le,tabIndex:Ce===De&&!le?0:-1,onFocus:Te,onBlur:Ee,"aria-current":W1(Ce,fe,oe,z,I)?"date":void 0,"aria-label":we,slots:_,slotProps:B,classes:f,children:te},te)})}))});function IE(e){return vn("MuiYearCalendar",e)}const Sd=Sn("MuiYearCalendar",["root","button","disabled","selected"]),TV=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],DV=(e,t)=>{const s={button:["button",t.isYearDisabled&&"disabled",t.isYearSelected&&"selected"]};return rn(s,IE,e)},EV=ze("button",{name:"MuiYearCalendar",slot:"Button",overridesResolver:(e,t)=>[t.button,{[`&.${Sd.disabled}`]:t.disabled},{[`&.${Sd.selected}`]:t.selected}]})(({theme:e})=>Z({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.focusOpacity})`:Lo(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Lo(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Sd.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${Sd.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),MV=x.memo(function(t){const{autoFocus:s,classes:i,disabled:l,selected:u,value:d,onClick:f,onKeyDown:p,onFocus:g,onBlur:y,slots:v,slotProps:b}=t,S=st(t,TV),j=x.useRef(null),{ownerState:D}=In(),T=Z({},D,{isYearDisabled:l,isYearSelected:u}),C=DV(i,T);Ir(()=>{s&&j.current?.focus()},[s]);const M=v?.yearButton??EV,k=Et({elementType:M,externalSlotProps:b?.yearButton,externalForwardedProps:S,additionalProps:{disabled:l,ref:j,type:"button",role:"radio","aria-checked":u,onClick:P=>f(P,d),onKeyDown:P=>p(P,d),onFocus:P=>g(P,d),onBlur:P=>y(P,d)},ownerState:T,className:C.button});return a.jsx(M,Z({},k))}),kV=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsOrder","yearsPerRow","timezone","gridLabelId","slots","slotProps"],PV=e=>rn({root:["root"]},IE,e);function AV(e,t){const s=Jt({props:e,name:t}),i=Gc(s);return Z({},s,i,{yearsPerRow:s.yearsPerRow??3,yearsOrder:s.yearsOrder??"asc"})}const OV=ze("div",{name:"MuiYearCalendar",slot:"Root",shouldForwardProp:e=>va(e)&&e!=="yearsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:12,padding:"6px 0",overflowY:"auto",height:"100%",width:vf,maxHeight:az,boxSizing:"border-box",position:"relative",variants:[{props:{yearsPerRow:3},style:{columnGap:24}},{props:{yearsPerRow:4},style:{columnGap:0,padding:"0 2px"}}]}),RV=ze("div",{name:"MuiYearCalendar",slot:"ButtonFiller"})({height:36,width:72}),IV=x.forwardRef(function(t,s){const i=AV(t,"MuiYearCalendar"),{autoFocus:l,className:u,classes:d,value:f,defaultValue:p,referenceDate:g,disabled:y,disableFuture:v,disablePast:b,maxDate:S,minDate:j,onChange:D,readOnly:T,shouldDisableYear:C,onYearFocus:M,hasFocus:k,onFocusedViewChange:P,yearsOrder:N,yearsPerRow:W,timezone:E,gridLabelId:L,slots:_,slotProps:B}=i,V=st(i,kV),{value:A,handleValueChange:q,timezone:U}=$c({name:"YearCalendar",timezone:E,value:f,defaultValue:p,referenceDate:g,onChange:D,valueManager:lr}),z=xf(U),F=_r(),I=Ht(),{ownerState:Q}=In(),ee=x.useMemo(()=>lr.getInitialReferenceValue({value:A,adapter:I,props:i,timezone:U,referenceDate:g,granularity:Js.year}),[]),ye=PV(d),fe=x.useMemo(()=>I.getYear(z),[I,z]),ge=x.useMemo(()=>A!=null?I.getYear(A):null,[A,I]),[De,ke]=x.useState(()=>ge||I.getYear(ee)),[Oe,Ve]=Bo({name:"YearCalendar",state:"hasFocus",controlled:k,default:l??!1}),Ue=Ae($=>{Ve($),P&&P($)}),nt=x.useCallback($=>{if(b&&I.isBeforeYear($,z)||v&&I.isAfterYear($,z)||j&&I.isBeforeYear($,j)||S&&I.isAfterYear($,S))return!0;if(!C)return!1;const be=I.startOfYear($);return C(be)},[v,b,S,j,z,C,I]),Ne=Ae(($,be)=>{if(T)return;const K=I.setYear(A??ee,be);q(K)}),ce=Ae($=>{nt(I.setYear(A??ee,$))||(ke($),Ue(!0),M?.($))});x.useEffect(()=>{ke($=>ge!==null&&$!==ge?ge:$)},[ge]);const de=N!=="desc"?W*1:W*-1,Te=F&&N==="asc"||!F&&N==="desc"?-1:1,Ee=Ae(($,be)=>{switch($.key){case"ArrowUp":ce(be-de),$.preventDefault();break;case"ArrowDown":ce(be+de),$.preventDefault();break;case"ArrowLeft":ce(be-Te),$.preventDefault();break;case"ArrowRight":ce(be+Te),$.preventDefault();break}}),oe=Ae(($,be)=>{ce(be)}),Ce=Ae(($,be)=>{De===be&&Ue(!1)}),te=x.useRef(null),we=as(s,te);x.useEffect(()=>{if(l||te.current===null)return;const $=te.current.querySelector('[tabindex="0"]');if(!$)return;const be=$.offsetHeight,K=$.offsetTop,he=te.current.clientHeight,xe=te.current.scrollTop,je=K+be;be>he||K<xe||(te.current.scrollTop=je-he/2-be/2)},[l]);const ne=I.getYearRange([j,S]);N==="desc"&&ne.reverse();let le=W-ne.length%W;return le===W&&(le=0),a.jsxs(OV,Z({ref:we,className:Rn(ye.root,u),ownerState:Q,role:"radiogroup","aria-labelledby":L,yearsPerRow:W},V,{children:[ne.map($=>{const be=I.getYear($),K=be===ge,he=y||nt($);return a.jsx(MV,{selected:K,value:be,onClick:Ne,onKeyDown:Ee,autoFocus:Oe&&be===De,disabled:he,tabIndex:be===De&&!he?0:-1,onFocus:oe,onBlur:Ce,"aria-current":fe===be?"date":void 0,slots:_,slotProps:B,classes:d,children:I.format($,"year")},I.format($,"year"))}),Array.from({length:le},($,be)=>a.jsx(RV,{},be))]}))}),BV=e=>vn("MuiPickersCalendarHeader",e),LV=Sn("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]);function NV(e){return vn("MuiPickersArrowSwitcher",e)}Sn("MuiPickersArrowSwitcher",["root","spacer","button","previousIconButton","nextIconButton","leftArrowIcon","rightArrowIcon"]);const FV=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId","classes"],HV=["ownerState"],_V=["ownerState"],zV=ze("div",{name:"MuiPickersArrowSwitcher",slot:"Root"})({display:"flex"}),WV=ze("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer"})(({theme:e})=>({width:e.spacing(3)})),V1=ze(rt,{name:"MuiPickersArrowSwitcher",slot:"Button"})({variants:[{props:{isButtonHidden:!0},style:{visibility:"hidden"}}]}),VV=e=>rn({root:["root"],spacer:["spacer"],button:["button"],previousIconButton:["previousIconButton"],nextIconButton:["nextIconButton"],leftArrowIcon:["leftArrowIcon"],rightArrowIcon:["rightArrowIcon"]},NV,e),YV=x.forwardRef(function(t,s){const i=_r(),l=Jt({props:t,name:"MuiPickersArrowSwitcher"}),{children:u,className:d,slots:f,slotProps:p,isNextDisabled:g,isNextHidden:y,onGoToNext:v,nextLabel:b,isPreviousDisabled:S,isPreviousHidden:j,onGoToPrevious:D,previousLabel:T,labelId:C,classes:M}=l,k=st(l,FV),{ownerState:P}=In(),N=VV(M),W={isDisabled:g,isHidden:y,goTo:v,label:b},E={isDisabled:S,isHidden:j,goTo:D,label:T},L=f?.previousIconButton??V1,_=Et({elementType:L,externalSlotProps:p?.previousIconButton,additionalProps:{size:"medium",title:E.label,"aria-label":E.label,disabled:E.isDisabled,edge:"end",onClick:E.goTo},ownerState:Z({},P,{isButtonHidden:E.isHidden??!1}),className:Rn(N.button,N.previousIconButton)}),B=f?.nextIconButton??V1,V=Et({elementType:B,externalSlotProps:p?.nextIconButton,additionalProps:{size:"medium",title:W.label,"aria-label":W.label,disabled:W.isDisabled,edge:"start",onClick:W.goTo},ownerState:Z({},P,{isButtonHidden:W.isHidden??!1}),className:Rn(N.button,N.nextIconButton)}),A=f?.leftArrowIcon??Lz,q=Et({elementType:A,externalSlotProps:p?.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:P,className:N.leftArrowIcon}),U=st(q,HV),z=f?.rightArrowIcon??Nz,F=Et({elementType:z,externalSlotProps:p?.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:P,className:N.rightArrowIcon}),I=st(F,_V);return a.jsxs(zV,Z({ref:s,className:Rn(N.root,d),ownerState:P},k,{children:[a.jsx(L,Z({},_,{children:i?a.jsx(z,Z({},I)):a.jsx(A,Z({},U))})),u?a.jsx(R,{variant:"subtitle1",component:"span",id:C,children:u}):a.jsx(WV,{className:N.spacer,ownerState:P}),a.jsx(B,Z({},V,{children:i?a.jsx(A,Z({},U)):a.jsx(z,Z({},I))}))]}))});function UV(e,{disableFuture:t,maxDate:s,timezone:i}){const l=Ht();return x.useMemo(()=>{const u=l.date(void 0,i),d=l.startOfMonth(t&&l.isBefore(u,s)?u:s);return!l.isAfter(d,e)},[t,s,e,l,i])}function qV(e,{disablePast:t,minDate:s,timezone:i}){const l=Ht();return x.useMemo(()=>{const u=l.date(void 0,i),d=l.startOfMonth(t&&l.isAfter(u,s)?u:s);return!l.isBefore(d,e)},[t,s,e,l,i])}const GV=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","classes","timezone","format"],$V=["ownerState"],QV=e=>rn({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},BV,e),KV=ze("div",{name:"MuiPickersCalendarHeader",slot:"Root"})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),XV=ze("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer"})(({theme:e})=>Z({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),ZV=ze("div",{name:"MuiPickersCalendarHeader",slot:"Label"})({marginRight:6}),JV=ze(rt,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton"})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${LV.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),eY=ze(Bz,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon"})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"})),tY=x.forwardRef(function(t,s){const i=Pi(),l=Ht(),u=Jt({props:t,name:"MuiPickersCalendarHeader"}),{slots:d,slotProps:f,currentMonth:p,disabled:g,disableFuture:y,disablePast:v,maxDate:b,minDate:S,onMonthChange:j,onViewChange:D,view:T,reduceAnimations:C,views:M,labelId:k,className:P,classes:N,timezone:W,format:E=`${l.formats.month} ${l.formats.year}`}=u,L=st(u,GV),{ownerState:_}=In(),B=QV(N),V=d?.switchViewButton??JV,A=Et({elementType:V,externalSlotProps:f?.switchViewButton,additionalProps:{size:"small","aria-label":i.calendarViewSwitchingButtonAriaLabel(T)},ownerState:Z({},_,{view:T}),className:B.switchViewButton}),q=d?.switchViewIcon??eY,U=Et({elementType:q,externalSlotProps:f?.switchViewIcon,ownerState:_,className:B.switchViewIcon}),z=st(U,$V),F=()=>j(l.addMonths(p,1)),I=()=>j(l.addMonths(p,-1)),Q=UV(p,{disableFuture:y,maxDate:b,timezone:W}),ee=qV(p,{disablePast:v,minDate:S,timezone:W}),ye=()=>{if(!(M.length===1||!D||g))if(M.length===2)D(M.find(ge=>ge!==T)||M[0]);else{const ge=M.indexOf(T)!==0?0:1;D(M[ge])}};if(M.length===1&&M[0]==="year")return null;const fe=l.formatByString(p,E);return a.jsxs(KV,Z({},L,{ownerState:_,className:Rn(B.root,P),ref:s,children:[a.jsxs(XV,{role:"presentation",onClick:ye,ownerState:_,"aria-live":"polite",className:B.labelContainer,children:[a.jsx(ME,{reduceAnimations:C,transKey:fe,children:a.jsx(ZV,{id:k,ownerState:_,className:B.label,children:fe})}),M.length>1&&!g&&a.jsx(V,Z({},A,{children:a.jsx(q,Z({},z))}))]}),a.jsx(Qd,{in:T==="day",appear:!C,enter:!C,children:a.jsx(YV,{slots:d,slotProps:f,onGoToPrevious:I,isPreviousDisabled:ee,previousLabel:i.previousMonth,onGoToNext:F,isNextDisabled:Q,nextLabel:i.nextMonth})})]}))}),nY=ze("div")({overflow:"hidden",width:vf,maxHeight:Xy,display:"flex",flexDirection:"column",margin:"0 auto"}),sY=e=>vn("MuiDateCalendar",e);Sn("MuiDateCalendar",["root","viewTransitionContainer"]);const rY=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","classes","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsOrder","yearsPerRow","monthsPerRow","timezone"],iY=e=>rn({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},sY,e);function aY(e,t){const s=Jt({props:e,name:t}),i=aE(s.reduceAnimations),l=Gc(s);return Z({},s,l,{loading:s.loading??!1,openTo:s.openTo??"day",views:s.views??["year","day"],reduceAnimations:i,renderLoading:s.renderLoading??(()=>a.jsx("span",{children:"..."}))})}const oY=ze(nY,{name:"MuiDateCalendar",slot:"Root"})({display:"flex",flexDirection:"column",height:Xy}),lY=ze(ME,{name:"MuiDateCalendar",slot:"ViewTransitionContainer"})({}),cY=x.forwardRef(function(t,s){const i=Ht(),{ownerState:l}=In(),u=yg(),d=aY(t,"MuiDateCalendar"),{autoFocus:f,onViewChange:p,value:g,defaultValue:y,referenceDate:v,disableFuture:b,disablePast:S,onChange:j,onMonthChange:D,reduceAnimations:T,shouldDisableDate:C,shouldDisableMonth:M,shouldDisableYear:k,view:P,views:N,openTo:W,className:E,classes:L,disabled:_,readOnly:B,minDate:V,maxDate:A,disableHighlightToday:q,focusedView:U,onFocusedViewChange:z,showDaysOutsideCurrentMonth:F,fixedWeekNumber:I,dayOfWeekFormatter:Q,slots:ee,slotProps:ye,loading:fe,renderLoading:ge,displayWeekNumber:De,yearsOrder:ke,yearsPerRow:Oe,monthsPerRow:Ve,timezone:Ue}=d,nt=st(d,rY),{value:Ne,handleValueChange:ce,timezone:de}=$c({name:"DateCalendar",timezone:Ue,value:g,defaultValue:y,referenceDate:v,onChange:j,valueManager:lr}),{view:Te,setView:Ee,focusedView:oe,setFocusedView:Ce,goToNextView:te,setValueAndGoToNextView:we}=lE({view:P,views:N,openTo:W,onChange:ce,onViewChange:p,autoFocus:f,focusedView:U,onFocusedViewChange:z}),{referenceDate:ne,calendarState:le,setVisibleDate:$,isDateDisabled:be,onMonthSwitchingAnimationEnd:K}=FW({value:Ne,referenceDate:v,reduceAnimations:T,onMonthChange:D,minDate:V,maxDate:A,shouldDisableDate:C,disablePast:S,disableFuture:b,timezone:de,getCurrentMonthFromVisibleDate:(ft,yn)=>i.isSameMonth(ft,yn)?yn:i.startOfMonth(ft)}),he=_&&Ne||V,xe=_&&Ne||A,je=`${u}-grid-label`,Re=oe!==null,Ke=ee?.calendarHeader??tY,lt=Et({elementType:Ke,externalSlotProps:ye?.calendarHeader,additionalProps:{views:N,view:Te,currentMonth:le.currentMonth,onViewChange:Ee,onMonthChange:ft=>$({target:ft,reason:"header-navigation"}),minDate:he,maxDate:xe,disabled:_,disablePast:S,disableFuture:b,reduceAnimations:T,timezone:de,labelId:je},ownerState:l}),Be=Ae(ft=>{const yn=i.startOfMonth(ft),Tn=i.endOfMonth(ft),Ln=be(ft)?Pc({adapter:i,date:ft,minDate:i.isBefore(V,yn)?yn:V,maxDate:i.isAfter(A,Tn)?Tn:A,disablePast:S,disableFuture:b,isDateDisabled:be,timezone:de}):ft;Ln?(we(Ln,"finish"),$({target:Ln,reason:"cell-interaction"})):(te(),$({target:yn,reason:"cell-interaction"}))}),Ge=Ae(ft=>{const yn=i.startOfYear(ft),Tn=i.endOfYear(ft),Ln=be(ft)?Pc({adapter:i,date:ft,minDate:i.isBefore(V,yn)?yn:V,maxDate:i.isAfter(A,Tn)?Tn:A,disablePast:S,disableFuture:b,isDateDisabled:be,timezone:de}):ft;Ln?(we(Ln,"finish"),$({target:Ln,reason:"cell-interaction"})):(te(),$({target:yn,reason:"cell-interaction"}))}),Ze=Ae(ft=>ce(ft&&Gd(i,ft,Ne??ne),"finish",Te));x.useEffect(()=>{i.isValid(Ne)&&$({target:Ne,reason:"controlled-value-change"})},[Ne]);const xt=iY(L),it={disablePast:S,disableFuture:b,maxDate:A,minDate:V},at={disableHighlightToday:q,readOnly:B,disabled:_,timezone:de,gridLabelId:je,slots:ee,slotProps:ye},dt=x.useRef(Te);x.useEffect(()=>{dt.current!==Te&&(oe===dt.current&&Ce(Te,!0),dt.current=Te)},[oe,Ce,Te]);const qt=x.useMemo(()=>[Ne],[Ne]);return a.jsxs(oY,Z({ref:s,className:Rn(xt.root,E),ownerState:l},nt,{children:[a.jsx(Ke,Z({},lt,{slots:ee,slotProps:ye})),a.jsx(lY,{reduceAnimations:T,className:xt.viewTransitionContainer,transKey:Te,ownerState:l,children:a.jsxs("div",{children:[Te==="year"&&a.jsx(IV,Z({},it,at,{value:Ne,onChange:Ge,shouldDisableYear:k,hasFocus:Re,onFocusedViewChange:ft=>Ce("year",ft),yearsOrder:ke,yearsPerRow:Oe,referenceDate:ne})),Te==="month"&&a.jsx(CV,Z({},it,at,{currentMonth:le.currentMonth,hasFocus:Re,className:E,value:Ne,onChange:Be,shouldDisableMonth:M,onFocusedViewChange:ft=>Ce("month",ft),monthsPerRow:Ve,referenceDate:ne})),Te==="day"&&a.jsx(mV,Z({},le,it,at,{onMonthSwitchingAnimationEnd:K,hasFocus:Re,onFocusedDayChange:ft=>$({target:ft,reason:"cell-interaction"}),reduceAnimations:T,selectedDays:qt,onSelectedDaysChange:Ze,shouldDisableDate:C,shouldDisableMonth:M,shouldDisableYear:k,onFocusedViewChange:ft=>Ce("day",ft),showDaysOutsideCurrentMonth:F,fixedWeekNumber:I,dayOfWeekFormatter:Q,displayWeekNumber:De,loading:fe,renderLoading:ge}))]})})]}))}),Io=({view:e,onViewChange:t,views:s,focusedView:i,onFocusedViewChange:l,value:u,defaultValue:d,referenceDate:f,onChange:p,className:g,classes:y,disableFuture:v,disablePast:b,minDate:S,maxDate:j,shouldDisableDate:D,shouldDisableMonth:T,shouldDisableYear:C,reduceAnimations:M,onMonthChange:k,monthsPerRow:P,onYearChange:N,yearsOrder:W,yearsPerRow:E,slots:L,slotProps:_,loading:B,renderLoading:V,disableHighlightToday:A,readOnly:q,disabled:U,showDaysOutsideCurrentMonth:z,dayOfWeekFormatter:F,sx:I,autoFocus:Q,fixedWeekNumber:ee,displayWeekNumber:ye,timezone:fe})=>a.jsx(cY,{view:e,onViewChange:t,views:s.filter(D1),focusedView:i&&D1(i)?i:null,onFocusedViewChange:l,value:u,defaultValue:d,referenceDate:f,onChange:p,className:g,classes:y,disableFuture:v,disablePast:b,minDate:S,maxDate:j,shouldDisableDate:D,shouldDisableMonth:T,shouldDisableYear:C,reduceAnimations:M,onMonthChange:k,monthsPerRow:P,onYearChange:N,yearsOrder:W,yearsPerRow:E,slots:L,slotProps:_,loading:B,renderLoading:V,disableHighlightToday:A,readOnly:q,disabled:U,showDaysOutsideCurrentMonth:z,dayOfWeekFormatter:F,sx:I,autoFocus:Q,fixedWeekNumber:ee,displayWeekNumber:ye,timezone:fe}),BE=x.forwardRef(function(t,s){const i=Ht(),l=rE(t,"MuiDesktopDatePicker"),u=Z({day:Io,month:Io,year:Io},l.viewRenderers),d=Z({},l,{closeOnSelect:l.closeOnSelect??!0,viewRenderers:u,format:Yy(i,l,!1),yearsPerRow:l.yearsPerRow??4,slots:Z({field:DE},l.slots),slotProps:Z({},l.slotProps,{field:p=>Z({},sr(l.slotProps?.field,p),tE(l)),toolbar:Z({hidden:!0},l.slotProps?.toolbar)})}),{renderPicker:f}=vz({ref:s,props:d,valueManager:lr,valueType:"date",validator:qc,steps:null});return f()});BE.propTypes={autoFocus:H.bool,className:H.string,closeOnSelect:H.bool,dayOfWeekFormatter:H.func,defaultValue:H.object,disabled:H.bool,disableFuture:H.bool,disableHighlightToday:H.bool,disableOpenPicker:H.bool,disablePast:H.bool,displayWeekNumber:H.bool,enableAccessibleFieldDOMStructure:H.any,fixedWeekNumber:H.number,format:H.string,formatDensity:H.oneOf(["dense","spacious"]),inputRef:ij,label:H.node,loading:H.bool,localeText:H.object,maxDate:H.object,minDate:H.object,monthsPerRow:H.oneOf([3,4]),name:H.string,onAccept:H.func,onChange:H.func,onClose:H.func,onError:H.func,onMonthChange:H.func,onOpen:H.func,onSelectedSectionsChange:H.func,onViewChange:H.func,onYearChange:H.func,open:H.bool,openTo:H.oneOf(["day","month","year"]),orientation:H.oneOf(["landscape","portrait"]),readOnly:H.bool,reduceAnimations:H.bool,referenceDate:H.object,renderLoading:H.func,selectedSections:H.oneOfType([H.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),H.number]),shouldDisableDate:H.func,shouldDisableMonth:H.func,shouldDisableYear:H.func,showDaysOutsideCurrentMonth:H.bool,slotProps:H.object,slots:H.object,sx:H.oneOfType([H.arrayOf(H.oneOfType([H.func,H.object,H.bool])),H.func,H.object]),timezone:H.string,value:H.object,view:H.oneOf(["day","month","year"]),viewRenderers:H.shape({day:H.func,month:H.func,year:H.func}),views:H.arrayOf(H.oneOf(["day","month","year"]).isRequired),yearsOrder:H.oneOf(["asc","desc"]),yearsPerRow:H.oneOf([3,4])};const uY=ze(Gn)({[`& .${Jv.container}`]:{outline:0},[`& .${Jv.paper}`]:{outline:0,minWidth:vf}}),dY=ze($n)({"&:first-of-type":{padding:0}});function fY(e){const{children:t,slots:s,slotProps:i}=e,{open:l}=Jo(),{dismissViews:u,onPopperExited:d}=In(),f=s?.dialog??uY,p=s?.mobileTransition??Qd;return a.jsx(f,Z({open:l,onClose:()=>{u(),d?.()}},i?.dialog,{TransitionComponent:p,TransitionProps:i?.mobileTransition,PaperComponent:s?.mobilePaper,PaperProps:i?.mobilePaper,children:a.jsx(dY,{children:t})}))}const hY=["props","steps"],pY=["ownerState"],mY=e=>{let{props:t,steps:s}=e,i=st(e,hY);const{slots:l,slotProps:u,label:d,inputRef:f,localeText:p}=t,g=fE({steps:s}),{providerProps:y,renderCurrentView:v,ownerState:b}=cE(Z({},i,{props:t,localeText:p,autoFocusView:!0,viewContainerRole:"dialog",variant:"mobile",getStepNavigation:g})),S=y.privateContextValue.labelId,j=u?.toolbar?.hidden??!1,D=l.field,T=Et({elementType:D,externalSlotProps:u?.field,additionalProps:Z({},j&&{id:S}),ownerState:b}),C=st(T,pY),M=l.layout??dE;let k=S;j&&(d?k=`${S}-label`:k=void 0);const P=Z({},u,{toolbar:Z({},u?.toolbar,{titleId:S}),mobilePaper:Z({"aria-labelledby":k},u?.mobilePaper)});return{renderPicker:()=>a.jsxs(XD,Z({},y,{children:[a.jsx(D,Z({},C,{slots:l,slotProps:P,inputRef:f})),a.jsx(fY,{slots:l,slotProps:P,children:a.jsx(M,Z({},P?.layout,{slots:l,slotProps:P,children:v()}))})]}))}},LE=x.forwardRef(function(t,s){const i=Ht(),l=rE(t,"MuiMobileDatePicker"),u=Z({day:Io,month:Io,year:Io},l.viewRenderers),d=Z({},l,{viewRenderers:u,format:Yy(i,l,!1),slots:Z({field:DE},l.slots),slotProps:Z({},l.slotProps,{field:p=>Z({},sr(l.slotProps?.field,p),tE(l)),toolbar:Z({hidden:!1},l.slotProps?.toolbar)})}),{renderPicker:f}=mY({ref:s,props:d,valueManager:lr,valueType:"date",validator:qc,steps:null});return f()});LE.propTypes={autoFocus:H.bool,className:H.string,closeOnSelect:H.bool,dayOfWeekFormatter:H.func,defaultValue:H.object,disabled:H.bool,disableFuture:H.bool,disableHighlightToday:H.bool,disableOpenPicker:H.bool,disablePast:H.bool,displayWeekNumber:H.bool,enableAccessibleFieldDOMStructure:H.any,fixedWeekNumber:H.number,format:H.string,formatDensity:H.oneOf(["dense","spacious"]),inputRef:ij,label:H.node,loading:H.bool,localeText:H.object,maxDate:H.object,minDate:H.object,monthsPerRow:H.oneOf([3,4]),name:H.string,onAccept:H.func,onChange:H.func,onClose:H.func,onError:H.func,onMonthChange:H.func,onOpen:H.func,onSelectedSectionsChange:H.func,onViewChange:H.func,onYearChange:H.func,open:H.bool,openTo:H.oneOf(["day","month","year"]),orientation:H.oneOf(["landscape","portrait"]),readOnly:H.bool,reduceAnimations:H.bool,referenceDate:H.object,renderLoading:H.func,selectedSections:H.oneOfType([H.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),H.number]),shouldDisableDate:H.func,shouldDisableMonth:H.func,shouldDisableYear:H.func,showDaysOutsideCurrentMonth:H.bool,slotProps:H.object,slots:H.object,sx:H.oneOfType([H.arrayOf(H.oneOfType([H.func,H.object,H.bool])),H.func,H.object]),timezone:H.string,value:H.object,view:H.oneOf(["day","month","year"]),viewRenderers:H.shape({day:H.func,month:H.func,year:H.func}),views:H.arrayOf(H.oneOf(["day","month","year"]).isRequired),yearsOrder:H.oneOf(["asc","desc"]),yearsPerRow:H.oneOf([3,4])};const gY=["desktopModeMediaQuery"],yY=x.forwardRef(function(t,s){const i=Jt({props:t,name:"MuiDatePicker"}),{desktopModeMediaQuery:l=z_}=i,u=st(i,gY);return tj(l,{defaultMatches:!0})?a.jsx(BE,Z({ref:s},u)):a.jsx(LE,Z({ref:s},u))}),xY=60,bY=1500,Ot={WORKOUT:"workout",CARDIO:"cardio",HIIT:"hiit",YOGA:"yoga"},wd={UPPER:"upper",LOWER:"lower",FULL:"full"},NE=({onNavigate:e})=>{const[t,s]=x.useState({show:!1,message:"",severity:"success"}),[i,l]=x.useState(Ot.WORKOUT),u={date:new Date,duration:"",notes:"",workoutType:wd.FULL,numExercises:"",setsPerExercise:"",cardioType:""},d=b=>{const S={};return b.date||(S.date="Date is required"),b.duration?(isNaN(b.duration)||parseFloat(b.duration)<=0)&&(S.duration="Duration must be a positive number"):S.duration="Duration is required",i===Ot.WORKOUT&&(b.numExercises?(isNaN(b.numExercises)||parseInt(b.numExercises)<=0)&&(S.numExercises="Must be a positive number"):S.numExercises="Number of exercises is required",b.setsPerExercise?(isNaN(b.setsPerExercise)||parseInt(b.setsPerExercise)<=0)&&(S.setsPerExercise="Must be a positive number"):S.setsPerExercise="Sets per exercise is required"),i===Ot.CARDIO&&(!b.cardioType||b.cardioType.trim()==="")&&(S.cardioType="Cardio type is required"),S},f=async(b,{setSubmitting:S,resetForm:j})=>{try{const D=b.date.getTime(),T=parseFloat(b.duration)*xY;if(i===Ot.WORKOUT){const C={date:D,duration:T,type:b.workoutType,exercises:{},notes:b.notes.trim(),numExercises:parseInt(b.numExercises),setsPerExercise:parseInt(b.setsPerExercise),isManualLog:!0};await ry(C);const M=await iy();M.totalWorkouts+=1,M.totalTime+=C.duration,await KC(M),s({show:!0,message:"Workout logged successfully!",severity:"success"})}else if(i===Ot.CARDIO){const C={cardioType:b.cardioType.trim(),duration:T,date:D,notes:b.notes.trim()};await p3(C),s({show:!0,message:"Cardio session logged successfully!",severity:"success"})}else if(i===Ot.HIIT){const C={id:Cw(),date:D,duration:T,type:"Manual Log",notes:b.notes.trim()};await ay(C),s({show:!0,message:"HIIT session logged successfully!",severity:"success"})}else if(i===Ot.YOGA){const C={id:Cw(),date:D,duration:T,flowLength:0,coolDownLength:0,poseCount:0,type:"Manual Log",notes:b.notes.trim()};await oy(C),s({show:!0,message:"Yoga session logged successfully!",severity:"success"})}j(),setTimeout(()=>{e&&e("progress")},bY)}catch(D){console.error("Error saving activity:",D),s({show:!0,message:"Failed to save activity. Please try again.",severity:"error"})}finally{S(!1)}},p=()=>{switch(i){case Ot.WORKOUT:return a.jsx(Cn,{sx:{fontSize:48,color:"primary.main"}});case Ot.CARDIO:return a.jsx(da,{sx:{fontSize:48,color:"#2196f3"}});case Ot.HIIT:return a.jsx(hc,{sx:{fontSize:48,color:"secondary.main"}});case Ot.YOGA:return a.jsx(or,{sx:{fontSize:48,color:"#9c27b0"}});default:return a.jsx(Cn,{sx:{fontSize:48,color:"primary.main"}})}},g=()=>{switch(i){case Ot.WORKOUT:return"primary.main";case Ot.CARDIO:return"#2196f3";case Ot.HIIT:return"secondary.main";case Ot.YOGA:return"#9c27b0";default:return"primary.main"}},y=()=>{switch(i){case Ot.WORKOUT:return"rgba(19, 70, 134, 0.1)";case Ot.CARDIO:return"rgba(33, 150, 243, 0.1)";case Ot.HIIT:return"rgba(237, 63, 39, 0.1)";case Ot.YOGA:return"rgba(156, 39, 176, 0.1)";default:return"rgba(19, 70, 134, 0.1)"}},v=()=>{switch(i){case Ot.WORKOUT:return"Log Workout";case Ot.CARDIO:return"Log Cardio";case Ot.HIIT:return"Log HIIT";case Ot.YOGA:return"Log Yoga";default:return"Log Activity"}};return a.jsx(_D,{dateAdapter:_H,children:a.jsx(Y,{sx:{width:"100%",maxWidth:"700px",margin:"0 auto",padding:{xs:"1rem 0.75rem",sm:"1.5rem 1rem",md:"2rem 1rem"},boxSizing:"border-box"},children:a.jsxs(Pe.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[a.jsxs(Y,{sx:{mb:3,textAlign:"center"},children:[a.jsx(Y,{sx:{display:"flex",justifyContent:"center",mb:2},children:a.jsx(Y,{sx:{p:{xs:1.5,sm:2},borderRadius:"50%",bgcolor:y(),display:"flex",alignItems:"center",justifyContent:"center"},children:p()})}),a.jsx(R,{variant:"h3",sx:{fontWeight:700,color:g(),mb:1,fontSize:{xs:"1.5rem",sm:"2rem",md:"2.5rem"}},children:v()}),a.jsx(R,{variant:"body1",sx:{color:"text.secondary",mb:2,fontSize:{xs:"0.875rem",sm:"1rem"},px:{xs:1,sm:0}},children:"Manually log your completed fitness activities"}),a.jsx(Y,{sx:{display:"flex",justifyContent:"center",width:"100%",overflow:"auto",mb:2},children:a.jsxs(Bk,{value:i,exclusive:!0,onChange:(b,S)=>{S!==null&&l(S)},"aria-label":"activity type",sx:{flexWrap:{xs:"wrap",sm:"nowrap"},justifyContent:"center",gap:{xs:.5,sm:0},"& .MuiToggleButton-root":{fontSize:{xs:"0.75rem",sm:"0.875rem"},padding:{xs:"6px 8px",sm:"8px 16px"},minWidth:{xs:"calc(50% - 4px)",sm:"auto"},flex:{xs:"0 0 calc(50% - 4px)",sm:"0 1 auto"}}},children:[a.jsxs(ld,{value:Ot.WORKOUT,"aria-label":"workout",children:[a.jsx(Cn,{sx:{mr:{xs:.5,sm:1},fontSize:{xs:"1rem",sm:"1.25rem"}}}),a.jsx(Y,{component:"span",sx:{display:{xs:"none",sm:"inline"}},children:"Workout"}),a.jsx(Y,{component:"span",sx:{display:{xs:"inline",sm:"none"}},children:"Work"})]}),a.jsxs(ld,{value:Ot.CARDIO,"aria-label":"cardio",children:[a.jsx(da,{sx:{mr:{xs:.5,sm:1},fontSize:{xs:"1rem",sm:"1.25rem"}}}),"Cardio"]}),a.jsxs(ld,{value:Ot.HIIT,"aria-label":"hiit",children:[a.jsx(hc,{sx:{mr:{xs:.5,sm:1},fontSize:{xs:"1rem",sm:"1.25rem"}}}),"HIIT"]}),a.jsxs(ld,{value:Ot.YOGA,"aria-label":"yoga",children:[a.jsx(or,{sx:{mr:{xs:.5,sm:1},fontSize:{xs:"1rem",sm:"1.25rem"}}}),"Yoga"]})]})})]}),t.show&&a.jsx(Pe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:a.jsx(Mt,{severity:t.severity,sx:{mb:3},onClose:()=>s({...t,show:!1}),children:t.message})}),a.jsx(Le,{sx:{borderRadius:3,width:"100%",boxSizing:"border-box"},children:a.jsx(Fe,{sx:{p:{xs:2,sm:3},"&:last-child":{pb:{xs:2,sm:3}}},children:a.jsx(a4,{initialValues:u,validate:d,onSubmit:f,enableReinitialize:!0,children:({errors:b,touched:S,isSubmitting:j,isValid:D,dirty:T,values:C,setFieldValue:M})=>a.jsx(wD,{children:a.jsxs(Me,{spacing:2,children:[a.jsx(mo,{name:"date",children:()=>a.jsx(yY,{label:"Date",value:C.date,onChange:k=>M("date",k),slotProps:{textField:{fullWidth:!0,error:S.date&&!!b.date,helperText:S.date&&b.date,sx:{width:"100%"}}},sx:{width:"100%"}})}),a.jsx(mo,{name:"duration",children:({field:k})=>a.jsx(et,{...k,fullWidth:!0,type:"number",label:"Duration (minutes)",placeholder:"e.g., 45",error:S.duration&&!!b.duration,helperText:S.duration&&b.duration,variant:"outlined",inputProps:{min:0,step:1}})}),i===Ot.WORKOUT&&a.jsxs(a.Fragment,{children:[a.jsxs(ht,{fullWidth:!0,children:[a.jsx(vt,{children:"Workout Type"}),a.jsxs(St,{value:C.workoutType,label:"Workout Type",onChange:k=>M("workoutType",k.target.value),children:[a.jsx(Se,{value:wd.UPPER,children:"Upper Body"}),a.jsx(Se,{value:wd.LOWER,children:"Lower Body"}),a.jsx(Se,{value:wd.FULL,children:"Full Body"})]})]}),a.jsx(mo,{name:"numExercises",children:({field:k})=>a.jsx(et,{...k,fullWidth:!0,type:"number",label:"Number of Exercises",placeholder:"e.g., 6",error:S.numExercises&&!!b.numExercises,helperText:S.numExercises&&b.numExercises,variant:"outlined",inputProps:{min:1,step:1}})}),a.jsx(mo,{name:"setsPerExercise",children:({field:k})=>a.jsx(et,{...k,fullWidth:!0,type:"number",label:"Sets per Exercise",placeholder:"e.g., 3",error:S.setsPerExercise&&!!b.setsPerExercise,helperText:S.setsPerExercise&&b.setsPerExercise,variant:"outlined",inputProps:{min:1,step:1}})})]}),i===Ot.CARDIO&&a.jsx(mo,{name:"cardioType",children:({field:k})=>a.jsx(et,{...k,fullWidth:!0,label:"Cardio Type",placeholder:"e.g., Running, Cycling, Swimming",error:S.cardioType&&!!b.cardioType,helperText:S.cardioType&&b.cardioType,variant:"outlined"})}),a.jsx(mo,{name:"notes",children:({field:k})=>a.jsx(et,{...k,fullWidth:!0,multiline:!0,rows:4,label:"Notes (optional)",placeholder:"Add any notes about your session...",variant:"outlined"})}),a.jsx(ve,{type:"submit",variant:"contained",fullWidth:!0,disabled:j||!D||!T,sx:{bgcolor:g(),"&:hover":{bgcolor:g(),filter:"brightness(0.9)"},py:1.5,fontWeight:600,mt:2},children:j?"Logging...":`Log ${v().replace("Log ","")}`})]})})})})})]})})})};NE.propTypes={onNavigate:H.func};const vY={Chest:"Lats",Lats:"Chest",Quads:"Hamstrings",Hamstrings:"Quads",Biceps:"Triceps",Triceps:"Biceps",Shoulders:"Lats"},FE=()=>{const[e,t]=x.useState({}),[s,i]=x.useState([]),[l,u]=x.useState(!0),[d,f]=x.useState(null);x.useEffect(()=>{(async()=>{try{u(!0);const S=await fetch(cf);if(!S.ok)throw new Error(`Failed to load exercises: ${S.status}`);const j=await S.json();i(j);const D=j.reduce((T,C)=>{const M=C["Primary Muscle"].split("(")[0].trim();return T[M]||(T[M]=[]),T[M].push(C),T},{});t(D),u(!1)}catch(S){console.error("Failed to load exercise data:",S),f(S.message),u(!1)}})()},[]);const p=x.useCallback((b,S,j=[],D="all")=>{let T=(e[b]||[]).filter(M=>!j.some(k=>k["Exercise Name"]===M["Exercise Name"]));if(D!=="all"){const M=Array.isArray(D)?D:[D];T=T.filter(k=>{const P=k.Equipment.toLowerCase();return M.some(N=>{const W=N.toLowerCase();return W==="cable machine"?P.includes("cable"):W==="dumbbells"?P.includes("dumbbell"):P.includes(W)})})}if(T.length<S)return console.warn(`Insufficient exercises for ${b}. Available: ${T.length}, Requested: ${S}`),T;const C=[...T];for(let M=C.length-1;M>0;M--){const k=Math.floor(Math.random()*(M+1));[C[M],C[k]]=[C[k],C[M]]}return C.slice(0,S)},[e]),g=x.useCallback((b,S="all")=>{let j=[];switch(b){case"upper":j.push(...p("Chest",3,j,S)),j.push(...p("Lats",3,j,S)),j.push(...p("Biceps",1,j,S)),j.push(...p("Triceps",1,j,S));break;case"lower":{const D=Math.floor(Math.random()*2)+3,T=Math.floor(Math.random()*2)+2,C=Do-D-T;j.push(...p("Quads",D,j,S)),j.push(...p("Hamstrings",T,j,S)),C>0&&j.push(...p("Core",C,j,S));break}case"full":{const D=Math.floor(Math.random()*2)+1,T=Do-2-2-2-D;j.push(...p("Chest",2,j,S)),j.push(...p("Lats",2,j,S)),j.push(...p("Quads",2,j,S)),j.push(...p("Hamstrings",D,j,S)),T>0&&j.push(...p("Core",T,j,S));break}default:console.warn(`Unknown workout type: ${b}`);break}for(;j.length<Do&&j.length>0;){const D=Object.keys(e);if(D.length===0)break;const T=D[Math.floor(Math.random()*D.length)],C=p(T,1,j,S);if(C.length>0)j.push(C[0]);else break}return j.slice(0,Do)},[e,p]),y=x.useCallback(b=>{const S=[],j=[...b];for(;j.length>=2;){const D=j.shift(),T=D["Primary Muscle"].split("(")[0].trim(),C=vY[T];let M=-1;C&&(M=j.findIndex(P=>P["Primary Muscle"].includes(C))),M===-1&&(M=j.findIndex(P=>!P["Primary Muscle"].includes(T))),M===-1&&(M=0);const k=j.splice(M,1)[0];S.push(D,k)}return j.length>0&&S.push(...j),S},[]);return{generateWorkout:x.useCallback((b,S="all")=>{if(Object.keys(e).length===0)return console.error("Exercise database is empty. Cannot generate workout."),[];const j=g(b,S);return y(j)},[e,g,y]),allExercises:s,exerciseDB:e,loading:l,error:d}},SY=()=>{const{allExercises:e,loading:t}=FE(),[s,i]=x.useState(""),[l,u]=x.useState("all"),[d,f]=x.useState("all"),[p,g]=x.useState("all"),[y,v]=x.useState(new Set),[b,S]=x.useState({}),[j,D]=x.useState({});x.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),(async()=>{const L=new Set,_={},B={};await Promise.all(e.map(async V=>{const A=V["Exercise Name"];D3(A)&&L.add(A);const[q,U]=await Promise.all([jc(A),Fo(A)]);_[A]=q??"",B[A]=U??""})),v(L),S(_),D(B)})()},[e]);const T=x.useMemo(()=>{const E=new Set;return e.forEach(L=>{const _=L["Primary Muscle"].split("(")[0].trim();E.add(_)}),["all",...Array.from(E).sort()]},[e]),C=x.useMemo(()=>{const E=new Set;return e.forEach(L=>{E.add(L.Equipment)}),["all",...Array.from(E).sort()]},[e]),M=x.useMemo(()=>{const E=new Set;return e.forEach(L=>{E.add(L["Exercise Type"])}),["all",...Array.from(E).sort()]},[e]),k=x.useMemo(()=>e.filter(E=>{const L=s===""||E["Exercise Name"].toLowerCase().includes(s.toLowerCase())||E["Primary Muscle"].toLowerCase().includes(s.toLowerCase())||E.Equipment.toLowerCase().includes(s.toLowerCase()),_=E["Primary Muscle"].split("(")[0].trim(),B=l==="all"||_===l,V=d==="all"||E.Equipment===d,A=p==="all"||E["Exercise Type"]===p;return L&&B&&V&&A}),[e,s,l,d,p]),P=E=>{const L=T3(E);v(_=>{const B=new Set(_);return L?B.add(E):B.delete(E),B})},N=async(E,L)=>{if(L==="")S(_=>({..._,[E]:""})),await ma(E,null);else{const _=Math.max(0,Number(L));S(B=>({...B,[E]:_})),await ma(E,_)}},W=async(E,L)=>{if(L==="")D(_=>({..._,[E]:""})),await Cc(E,null);else{const _=Math.max(1,Number(L));D(B=>({...B,[E]:_})),await Cc(E,_)}};return t?a.jsx(Y,{sx:{p:4,textAlign:"center"},children:a.jsx(R,{variant:"h5",color:"text.secondary",children:"Loading exercises..."})}):a.jsxs(Y,{sx:{width:"100%",minHeight:"100vh"},children:[a.jsx(ur,{title:"Exercise Database",icon:""}),a.jsxs(Pe.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{padding:"1rem",maxWidth:"1400px",margin:"0 auto"},children:[a.jsx(Le,{sx:{mb:2,p:{xs:1,sm:2},borderRadius:2,boxShadow:"0 2px 8px rgba(19, 70, 134, 0.08)"},children:a.jsxs(Me,{spacing:1.5,children:[a.jsx(et,{fullWidth:!0,size:"small",placeholder:"Search exercises...",value:s,onChange:E=>i(E.target.value),InputProps:{startAdornment:a.jsx(pg,{position:"start",children:a.jsx(Q1,{fontSize:"small"})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:1.5}}}),a.jsxs(Me,{direction:{xs:"column",sm:"row"},spacing:1,sx:{width:"100%"},children:[a.jsxs(ht,{size:"small",sx:{minWidth:120,flex:1},children:[a.jsx(vt,{children:"Muscle"}),a.jsxs(St,{value:l,label:"Muscle",onChange:E=>u(E.target.value),children:[a.jsx(Se,{value:"all",children:"All Muscles"}),T.filter(E=>E!=="all").map(E=>a.jsx(Se,{value:E,children:E},E))]})]}),a.jsxs(ht,{size:"small",sx:{minWidth:120,flex:1},children:[a.jsx(vt,{children:"Equipment"}),a.jsxs(St,{value:d,label:"Equipment",onChange:E=>f(E.target.value),children:[a.jsx(Se,{value:"all",children:"All Equipment"}),C.filter(E=>E!=="all").map(E=>a.jsx(Se,{value:E,children:E},E))]})]}),a.jsxs(ht,{size:"small",sx:{minWidth:120,flex:1},children:[a.jsx(vt,{children:"Type"}),a.jsxs(St,{value:p,label:"Type",onChange:E=>g(E.target.value),children:[a.jsx(Se,{value:"all",children:"All Types"}),M.filter(E=>E!=="all").map(E=>a.jsx(Se,{value:E,children:E},E))]})]})]})]})}),a.jsxs(R,{variant:"body2",color:"text.secondary",sx:{mb:1.5,textAlign:"center",fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:["Showing ",k.length," of ",e.length," exercises"]}),k.length>0?a.jsx(K1,{component:Fn,sx:{borderRadius:2,boxShadow:"0 2px 8px rgba(19, 70, 134, 0.08)",maxHeight:"calc(100vh - 350px)",overflow:"auto"},children:a.jsxs(X1,{stickyHeader:!0,size:"small",sx:{minWidth:{xs:300,sm:650}},children:[a.jsx(Z1,{children:a.jsxs(vo,{children:[a.jsx(Qt,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5},children:a.jsx(Y,{sx:{display:"flex",alignItems:"center",gap:.5},children:a.jsx("span",{children:""})})}),a.jsx(Qt,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5},children:"Exercise Name"}),a.jsx(Qt,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5,display:{xs:"none",sm:"table-cell"}},children:"Type"}),a.jsx(Qt,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5,display:{xs:"none",md:"table-cell"}},children:"Equipment"}),a.jsx(Qt,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5,textAlign:"center"},children:"Target Weight (lbs)"}),a.jsx(Qt,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5,textAlign:"center"},children:"Target Reps"})]})}),a.jsx(J1,{children:k.map((E,L)=>{const _=y.has(E["Exercise Name"]),B=E["Exercise Name"],V=b[B],A=j[B];return a.jsxs(vo,{sx:{"&:hover":{bgcolor:"rgba(138, 190, 185, 0.05)"},bgcolor:L%2===0?"background.paper":"rgba(0, 0, 0, 0.02)"},children:[a.jsx(Qt,{sx:{py:1},children:a.jsx(ss,{title:_?"Remove from favorites":"Add to favorites",children:a.jsx(rt,{size:"small",onClick:()=>P(B),sx:{color:_?"rgb(237, 63, 39)":"action.disabled",p:.5},children:_?a.jsx(Lk,{fontSize:"small"}):a.jsx(Nk,{fontSize:"small"})})})}),a.jsx(Qt,{sx:{py:1},children:a.jsxs(Y,{children:[a.jsx(R,{variant:"body2",sx:{fontWeight:600,fontSize:{xs:"0.75rem",sm:"0.875rem"},color:"primary.main"},children:B}),a.jsxs(R,{variant:"caption",color:"text.secondary",sx:{fontSize:{xs:"0.65rem",sm:"0.75rem"},display:{xs:"block",sm:"none"}},children:[E["Exercise Type"],"  ",E.Equipment]})]})}),a.jsx(Qt,{sx:{py:1,display:{xs:"none",sm:"table-cell"}},children:a.jsx(qe,{label:E["Exercise Type"],size:"small",variant:"outlined",sx:{fontSize:"0.7rem",height:22,borderColor:E["Exercise Type"]==="Compound"?"primary.main":"text.secondary",color:E["Exercise Type"]==="Compound"?"primary.main":"text.secondary"}})}),a.jsx(Qt,{sx:{py:1,display:{xs:"none",md:"table-cell"}},children:a.jsx(R,{variant:"body2",sx:{fontSize:"0.8rem"},children:E.Equipment})}),a.jsx(Qt,{sx:{py:1},children:a.jsx(et,{type:"tel",inputMode:"decimal",size:"small",value:V===""?"":V,onChange:q=>N(B,q.target.value),onFocus:q=>q.target.select(),placeholder:"",inputProps:{min:0,step:5,pattern:"[0-9]*([.,][0-9]+)?","aria-label":`Target weight in pounds for ${B}`,style:{textAlign:"center",fontSize:"0.875rem",padding:"4px 8px"}},sx:{width:{xs:60,sm:70},"& .MuiOutlinedInput-root":{"& input":{textAlign:"center"}}}})}),a.jsx(Qt,{sx:{py:1},children:a.jsx(et,{type:"tel",inputMode:"numeric",size:"small",value:A===""?"":A,onChange:q=>W(B,q.target.value),onFocus:q=>q.target.select(),placeholder:"",inputProps:{min:1,step:1,pattern:"\\d*","aria-label":`Target repetitions for ${B}`,style:{textAlign:"center",fontSize:"0.875rem",padding:"4px 8px"}},sx:{width:{xs:60,sm:70},"& .MuiOutlinedInput-root":{"& input":{textAlign:"center"}}}})})]},B)})})]})}):a.jsxs(Y,{sx:{textAlign:"center",py:8},children:[a.jsx(R,{variant:"h6",color:"text.secondary",children:"No exercises found"}),a.jsx(R,{variant:"body2",color:"text.secondary",children:"Try adjusting your search or filters"})]})]})]})},HE=x.createContext(),_E=()=>{const e=x.useContext(HE);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e},zE=({children:e})=>{const[t,s]=x.useState(()=>{try{return localStorage.getItem("themeMode")==="light"?"light":"dark"}catch{return"dark"}});x.useEffect(()=>{try{localStorage.setItem("themeMode",t)}catch(d){console.warn("Could not save theme preference",d)}},[t]);const i=()=>{s(d=>d==="dark"?"light":"dark")},l=x.useMemo(()=>Fk({palette:t==="dark"?{mode:"dark",primary:{main:"#1db584",light:"#2dd099",dark:"#18a071"},secondary:{main:"#ff8c00",light:"#ffa333",dark:"#cc7000"},background:{default:"#1e2939",paper:"#2a3647"},text:{primary:"#ffffff",secondary:"#a0a8b3"},success:{main:"#1db584"},warning:{main:"#ff8c00"},error:{main:"#ef5350"},info:{main:"#6b8a9d"}}:{mode:"light",primary:{main:"#18a071",light:"#1db584",dark:"#0f7a55"},secondary:{main:"#ed3f27",light:"#ff6347",dark:"#cc3520"},background:{default:"rgb(255, 245, 233)",paper:"rgb(254, 230, 200)"},text:{primary:"#1e2939",secondary:"#4a5568"},success:{main:"#18a071"},warning:{main:"#ff8c00"},error:{main:"#ef5350"},info:{main:"#6b8a9d"}},typography:{fontFamily:"'Poppins', sans-serif",h1:{fontFamily:"'Montserrat', sans-serif",fontWeight:800},h2:{fontFamily:"'Montserrat', sans-serif",fontWeight:800},h3:{fontFamily:"'Montserrat', sans-serif",fontWeight:700},h4:{fontFamily:"'Montserrat', sans-serif",fontWeight:700},h5:{fontFamily:"'Montserrat', sans-serif",fontWeight:700},h6:{fontFamily:"'Montserrat', sans-serif",fontWeight:700}},components:{MuiCard:{styleOverrides:{root:{backgroundImage:"none"}}},MuiPaper:{styleOverrides:{root:{backgroundImage:"none"}}},MuiButton:{styleOverrides:{containedPrimary:t==="dark"?{backgroundColor:"#1db584","&:hover":{backgroundColor:"#18a071"}}:{backgroundColor:"#18a071",color:"#ffffff","&:hover":{backgroundColor:"#0f7a55"}},containedSecondary:t==="dark"?{backgroundColor:"#ff8c00","&:hover":{backgroundColor:"#cc7000"}}:{backgroundColor:"#ed3f27",color:"#ffffff","&:hover":{backgroundColor:"#cc3520"}}}}}}),[t]),u={mode:t,toggleTheme:i,theme:l};return a.jsx(HE.Provider,{value:u,children:e})};zE.propTypes={children:H.node.isRequired};const wY=()=>{const{mode:e,toggleTheme:t}=_E(),[s,i]=x.useState(()=>{try{const E=localStorage.getItem("audioVolume");return E?parseFloat(E):.3}catch{return .3}}),[l,u]=x.useState(Ct.isMutedState()),[d,f]=x.useState([]),[p,g]=x.useState(null),[y,v]=x.useState(!1);x.useEffect(()=>{b()},[]);const b=async()=>{const E=await wi();f(E);const L=await Ko();g(L)};x.useEffect(()=>{try{localStorage.setItem("audioVolume",s.toString())}catch(E){console.warn("Could not save volume preference",E)}},[s]);const S=(E,L)=>{i(L),L>0&&l&&(Ct.setMuted(!1),u(!1)),L===0&&!l&&(Ct.setMuted(!0),u(!0))},j=()=>{t(),l||Ct.playTransitionBeep()},D=()=>{s>0&&!l&&Ct.playBeep(800,200,s)},T=async E=>{try{await ar(E),await b()}catch(L){console.error("Error activating plan:",L)}},C=async E=>{if(window.confirm("Are you sure you want to delete this plan?"))try{await uy(E),await b()}catch(L){console.error("Error deleting plan:",L)}},M=()=>{v(!0)},k=()=>{v(!1)},P=async()=>{await b()},N=E=>({strength:"Strength",hypertrophy:"Muscle",fat_loss:"Fat-Loss",general_fitness:"General"})[E]||E,W=E=>({beginner:"Beginner",intermediate:"Intermediate",advanced:"Advanced"})[E]||E;return a.jsxs(Y,{sx:{minHeight:"100vh",padding:{xs:2,sm:3,md:4},background:E=>E.palette.background.default},children:[a.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx(R,{variant:"h4",sx:{mb:3,fontWeight:700,color:"text.primary"},children:"Settings"}),a.jsx(Le,{sx:{maxWidth:600,borderRadius:2,boxShadow:3},children:a.jsx(Fe,{sx:{p:3},children:a.jsxs(Me,{spacing:3,children:[a.jsxs(Y,{children:[a.jsxs(R,{variant:"h6",sx:{mb:2,fontWeight:600,display:"flex",alignItems:"center",gap:1},children:[e==="dark"?a.jsx(Hk,{}):a.jsx(_k,{}),"Appearance"]}),a.jsx(Nn,{control:a.jsx(zk,{checked:e==="light",onChange:j,color:"primary"}),label:a.jsxs(Y,{children:[a.jsx(R,{variant:"body1",fontWeight:500,children:e==="dark"?"Dark Theme":"Light Theme"}),a.jsx(R,{variant:"body2",color:"text.secondary",children:"Switch between dark and light modes"})]})})]}),a.jsx(Or,{}),a.jsxs(Y,{children:[a.jsxs(R,{variant:"h6",sx:{mb:2,fontWeight:600,display:"flex",alignItems:"center",gap:1},children:[a.jsx(hg,{}),"Sound"]}),a.jsxs(Y,{sx:{px:1},children:[a.jsx(R,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Sound Effects Volume"}),a.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:2},children:[a.jsx(Wk,{value:s,onChange:S,onChangeCommitted:D,min:0,max:1,step:.1,valueLabelDisplay:"auto",valueLabelFormat:E=>`${Math.round(E*100)}%`,sx:{flex:1,"& .MuiSlider-thumb":{width:20,height:20},"& .MuiSlider-track":{height:6},"& .MuiSlider-rail":{height:6}}}),a.jsxs(R,{variant:"body2",sx:{minWidth:45,fontWeight:600,color:"text.secondary"},children:[Math.round(s*100),"%"]})]}),a.jsx(R,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:1},children:"Adjust the volume of sound effects throughout the app. Set to 0 to mute all sounds."})]})]})]})})}),a.jsx(Le,{sx:{maxWidth:600,borderRadius:2,boxShadow:3,mt:3},children:a.jsx(Fe,{sx:{p:3},children:a.jsxs(Me,{spacing:3,children:[a.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx(R,{variant:"h6",sx:{fontWeight:600},children:"Workout Plans"}),a.jsx(ve,{variant:"contained",size:"small",startIcon:a.jsx(Gs,{}),onClick:M,sx:{textTransform:"none"},children:"Create Plan"})]}),a.jsx(Or,{}),d.length===0?a.jsx(R,{variant:"body2",color:"text.secondary",sx:{py:2,textAlign:"center"},children:"No workout plans yet. Create one to get started!"}):a.jsx(Hs,{sx:{py:0},children:d.map(E=>a.jsxs(rs,{sx:{border:"1px solid",borderColor:p?.id===E.id?"primary.main":"divider",borderRadius:2,mb:2,bgcolor:p?.id===E.id?"action.selected":"background.paper","&:last-child":{mb:0}},children:[a.jsx(nr,{primary:a.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[a.jsx(R,{variant:"body1",fontWeight:600,children:E.name}),p?.id===E.id&&a.jsx(qs,{color:"primary",fontSize:"small"})]}),secondary:a.jsxs(Me,{direction:"row",spacing:1,sx:{mt:1},children:[a.jsx(qe,{label:N(E.goal),size:"small",sx:{fontSize:"0.7rem",height:20}}),a.jsx(qe,{label:`${E.daysPerWeek}x/week`,size:"small",sx:{fontSize:"0.7rem",height:20}}),a.jsx(qe,{label:W(E.experienceLevel),size:"small",sx:{fontSize:"0.7rem",height:20}})]})}),a.jsxs(Me,{direction:"row",spacing:1,children:[p?.id!==E.id&&a.jsx(ve,{size:"small",variant:"outlined",onClick:()=>T(E.id),sx:{textTransform:"none"},children:"Activate"}),a.jsx(rt,{size:"small",onClick:()=>C(E.id),sx:{color:"error.main"},children:a.jsx(Ci,{fontSize:"small"})})]})]},E.id))})]})})}),a.jsx(Y,{sx:{mt:3},children:a.jsx(R,{variant:"body2",color:"text.secondary",children:"Your preferences are saved automatically and will persist between sessions."})})]}),a.jsx(my,{open:y,onClose:k,onPlanCreated:P})]})},WE=({open:e,onClose:t,userId:s})=>{const[i,l]=x.useState(!1),[u,d]=x.useState(null),f=async()=>{if(!s){d("No user ID provided");return}l(!0),d(null);try{const g=$C(),y=[];g.workout_history&&g.workout_history.length>0&&y.push(_c(s,g.workout_history)),g.user_stats&&y.push(nf(s,g.user_stats)),g.exercise_weights&&Object.keys(g.exercise_weights).length>0&&y.push(Zg(s,g.exercise_weights)),g.exercise_target_reps&&Object.keys(g.exercise_target_reps).length>0&&y.push(Jg(s,g.exercise_target_reps)),await Promise.all(y),Wm(),l(!1),t(!0)}catch(g){console.error("Error migrating guest data:",g),d("Failed to migrate data. Please try again."),l(!1)}},p=()=>{Wm(),t(!1)};return a.jsxs(Gn,{open:e,onClose:i?void 0:()=>t(!1),maxWidth:"sm",fullWidth:!0,disableEscapeKeyDown:i,PaperProps:{sx:{borderRadius:2}},children:[a.jsx(os,{sx:{pb:1},children:a.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsx(eS,{sx:{color:"primary.main",fontSize:28}}),a.jsx(R,{variant:"h6",component:"span",sx:{fontWeight:600},children:"Save Your Guest Data?"})]})}),a.jsxs($n,{children:[a.jsx(R,{variant:"body1",sx:{mb:2},children:"You have workout data from your guest session. Would you like to transfer it to your new account?"}),a.jsx(R,{variant:"body2",sx:{color:"text.secondary"},children:"This will save your workout history, progress, and settings to the cloud."}),u&&a.jsx(R,{variant:"body2",sx:{color:"error.main",mt:2},children:u})]}),a.jsxs(Qn,{sx:{p:2,pt:0},children:[a.jsx(ve,{onClick:p,disabled:i,variant:"text",sx:{color:"text.secondary"},children:"Skip"}),a.jsx(ve,{onClick:f,disabled:i,variant:"contained",startIcon:i?a.jsx(Rc,{size:20,color:"inherit"}):a.jsx(eS,{}),sx:{fontWeight:600},children:i?"Migrating...":"Save My Data"})]})]})};WE.propTypes={open:H.bool.isRequired,onClose:H.func.isRequired,userId:H.string};const jY=()=>{const[e,t]=x.useState(new Set);return x.useEffect(()=>{const s=()=>{const l=ly(),u=oa(),d=new Set;u.forEach(p=>{p.exercises&&Array.isArray(p.exercises)&&p.exercises.forEach(g=>{g&&g["Exercise Name"]&&d.add(g["Exercise Name"])})});const f=new Set([...l,...d]);t(f)};s();const i=setInterval(s,3e4);return()=>clearInterval(i)},[]),e};function CY(){const[e,t]=x.useState("home"),[s,i]=x.useState(!1),[l,u]=x.useState([]),[d,f]=x.useState("full"),[p,g]=x.useState(new Set(["all"])),[y,v]=x.useState([]),[b,S]=x.useState(null),[j,D]=x.useState(!1),[T,C]=x.useState(!1),[M,k]=x.useState({open:!1,message:"",severity:"info"}),[P,N]=x.useState(window.innerWidth>768),[W,E]=x.useState(!1),[L,_]=x.useState(!1),{currentUser:B,isGuest:V,hasGuestData:A}=lf(),{generateWorkout:q,allExercises:U,exerciseDB:z}=FE(),F=jY();x.useEffect(()=>{E(V?c3():!1)},[V]),x.useEffect(()=>{B&&!V&&A&&_(!0)},[B,V,A]);const I=async ne=>{if(_(!1),ne||Fd(),B&&B.uid)try{await XC(B.uid)}catch(le){console.error("Error loading user data after migration:",le)}},Q=()=>{u3(),E(!1)};x.useEffect(()=>{const ne=()=>{if(N(window.innerWidth>768),window.visualViewport){const $=window.visualViewport;document.documentElement.style.setProperty("--viewport-height",`${$.height}px`)}},le=()=>{setTimeout(()=>{window.scrollTo(0,0),ne()},100)};return window.addEventListener("resize",ne),window.addEventListener("orientationchange",le),window.visualViewport&&window.visualViewport.addEventListener("resize",ne),ne(),()=>{window.removeEventListener("resize",ne),window.removeEventListener("orientationchange",le),window.visualViewport&&window.visualViewport.removeEventListener("resize",ne)}},[]),x.useEffect(()=>{if(U.length>0){const ne=new Set;U.forEach(le=>{const $=le.Equipment;$.includes("Cable")?ne.add("Cable Machine"):$.includes("Dumbbell")?ne.add("Dumbbells"):ne.add($)}),v(Array.from(ne).sort())}},[U]);const ee=ne=>{t(ne),ne==="selection"&&i(!0)},ye=ne=>{f(ne)},fe=ne=>{if(ne instanceof Set)g(ne);else{const le=new Set;le.add(ne),g(le)}},ge=()=>{i(!s)},De=(ne,le,$=null,be=null)=>{D(!0),be?sessionStorage.setItem("currentWorkoutPlanContext",JSON.stringify(be)):sessionStorage.removeItem("currentWorkoutPlanContext"),setTimeout(()=>{const K=$||q(ne,le);u(K),f(ne),D(!1),C(!0),t("preview")},500)},ke=ne=>{f(ne),t("customize")},Oe=ne=>{u(ne),t("custom-preview")},Ve=()=>{t("selection")},Ue=ne=>{u(ne),C(!1),t("workout")},nt=()=>{t("selection")},Ne=()=>{C(!1),t("workout")},ce=()=>{C(!1),t("selection")},de=x.useCallback((ne,le)=>{if(!z||Object.keys(z).length===0){console.error("Exercise database not available"),k({open:!0,message:"Exercise database not loaded",severity:"error"});return}const $=ne["Primary Muscle"],be=ne["Exercise Type"],K=ne["Exercise Name"],he=z[$]||[];let xe=0;const je=3;let Re=null;for(;xe<je&&!Re;){xe++;let lt=he;const Be=Array.from(p);Be.includes("all")||(lt=he.filter(it=>{const at=it.Equipment;return Be.some(dt=>dt==="Cable Machine"?at.includes("Cable"):dt==="Dumbbells"?at.includes("Dumbbell"):at.includes(dt))})),lt=lt.filter(it=>it["Exercise Type"]===be);const Ge=l.map(it=>it["Exercise Name"]);let Ze=lt.filter(it=>it["Exercise Name"]!==K&&!Ge.includes(it["Exercise Name"]));if(Ze.length===0&&(Ze=lt.filter(it=>it["Exercise Name"]!==K)),Ze.length===0)continue;const xt=[...Ze];Ze.forEach(it=>{F.has(it["Exercise Name"])&&xt.push(it)}),Re=xt[Math.floor(Math.random()*xt.length)]}if(!Re){k({open:!0,message:"No alternative exercises available",severity:"warning"});return}const Ke=[...l];Ke[le]=Re,u(Ke)},[z,l,p,F]),Te=x.useCallback((ne,le)=>{const $=le.includes("Dumbbell")||le.includes("Kettlebell");return Eo.UPPER_BODY.includes(ne)?$?pd.UPPER_BODY.DUMBBELL:pd.UPPER_BODY.BARBELL:Eo.LOWER_BODY.includes(ne)?$?pd.LOWER_BODY.DUMBBELL:pd.LOWER_BODY.BARBELL:0},[]),Ee=x.useCallback(async ne=>{const le=[],$=sessionStorage.getItem("currentWorkoutPlanContext"),be=$?JSON.parse($):null;for(const[xe,je]of Object.entries(ne.exercises)){const Re=je.sets[je.sets.length-1];if(Re?.weight>0){const Ke=await Fo(xe);if(je.sets.every(Be=>Be.reps>=Ke)&&je.sets.length>=Ym){const Be=l.find(Ge=>Ge["Exercise Name"]===xe);if(Be){const Ge=Be["Primary Muscle"].split("(")[0].trim(),Ze=Te(Ge,Be.Equipment);if(Ze>0){const xt=Re.weight+Ze;await ma(xe,xt),le.push({exercise:xe,oldWeight:Re.weight,newWeight:xt,increase:Ze})}}}else await ma(xe,Re.weight)}}if(le.length>0){const xe=le.map(je=>`${je.exercise}: ${je.oldWeight}  ${je.newWeight} lbs (+${je.increase} lbs)`);k({open:!0,message:` Progressive Overload! You hit your target reps!

${xe.join(`
`)}`,severity:"success"})}const K={...ne,type:d,planId:be?.planId||null,planDay:be?.planDay??null};await ry(K),sessionStorage.removeItem("currentWorkoutPlanContext");const he=await iy();he.totalWorkouts+=1,he.totalTime+=ne.duration,await KC(he),S(K),t("completion")},[d,l,Te]),oe=()=>{t("selection")},Ce=()=>{t("selection")},te=()=>{if(!b)return;let le="data:text/csv;charset=utf-8,"+["Date","WorkoutType","Duration","Exercise","Set","Weight","Reps"].join(",")+`
`;for(const K in b.exercises)b.exercises[K].sets.forEach(xe=>{const je=[new Date(b.date).toLocaleString(),b.type,b.duration,K,xe.set,xe.weight,xe.reps];le+=je.join(",")+`
`});const $=encodeURI(le),be=document.createElement("a");be.setAttribute("href",$),be.setAttribute("download",`GoodLift_Workout_${new Date(b.date).toISOString().split("T")[0]}.csv`),document.body.appendChild(be),be.click(),document.body.removeChild(be)},{theme:we}=_E();return B?a.jsxs(tS,{theme:we,children:[a.jsx(nS,{}),a.jsxs("div",{style:{display:"flex",minHeight:"100vh"},children:[a.jsx(nT,{currentScreen:e,onNavigate:ee,isOpen:s,onToggle:ge}),a.jsx(cj,{onNavigate:ee}),a.jsxs("div",{id:"app",style:{flex:1,marginLeft:P?"280px":"0",marginTop:"60px",transition:"margin-left 0.3s ease"},children:[e==="home"&&a.jsx(gy,{workoutType:d,selectedEquipment:p,equipmentOptions:y,onWorkoutTypeChange:ye,onEquipmentChange:fe,onStartWorkout:De,onCustomize:ke,onNavigate:ee,loading:j}),e==="selection"&&a.jsx(aT,{workoutType:d,selectedEquipment:p,equipmentOptions:y,onWorkoutTypeChange:ye,onEquipmentChange:fe,onStartWorkout:De,onCustomize:ke,onNavigate:ee,loading:j}),e==="customize"&&a.jsx(jy,{workoutType:d,equipmentFilter:p.has("all")?"all":Array.from(p),allExercises:U,onCancel:Ve,onContinue:Oe}),e==="custom-preview"&&l.length>0&&a.jsx(Cy,{workout:l,workoutType:d,onStart:Ue,onCancel:nt}),e==="preview"&&T&&l.length>0&&a.jsx(wy,{workout:l,workoutType:d,onStart:Ne,onCancel:ce,onRandomizeExercise:de,equipmentFilter:Array.from(p)}),e==="workout"&&l.length>0&&a.jsx(wT,{workoutPlan:l,onComplete:Ee,onExit:oe}),e==="completion"&&b&&a.jsx(Ty,{workoutData:b,workoutPlan:l,onFinish:Ce,onExportCSV:te}),e==="progress"&&a.jsx(CT,{onNavigate:ee,onStartWorkout:De}),e==="workout-plan"&&a.jsx(vT,{onNavigate:ee}),e==="timer"&&a.jsx(UB,{}),e==="hiit"&&a.jsx(HB,{}),e==="hiit-selection"&&a.jsx(RT,{onNavigate:ee}),e==="hiit-session"&&a.jsx(BT,{onNavigate:ee}),e==="yoga-selection"&&a.jsx(_T,{onNavigate:ee}),e==="yoga-session"&&a.jsx(zT,{onNavigate:ee}),e==="cardio"&&a.jsx(qT,{onNavigate:ee}),e==="log-activity"&&a.jsx(NE,{onNavigate:ee}),(e==="stretch"||e==="yoga"||e==="mobility")&&a.jsx(eL,{}),e==="exercise-list"&&a.jsx(SY,{}),e==="settings"&&a.jsx(wY,{})]}),a.jsx(WE,{open:L,onClose:I,userId:B?.uid}),a.jsx(vi,{open:W,anchorOrigin:{vertical:"bottom",horizontal:"center"},sx:{bottom:{xs:80,sm:24}},children:a.jsx(Mt,{severity:"info",onClose:Q,action:a.jsx(ve,{color:"inherit",size:"small",onClick:()=>t("progress"),sx:{fontWeight:600},children:"Sign Up"}),sx:{width:"100%",maxWidth:"600px","& .MuiAlert-message":{fontSize:"0.95rem",fontWeight:500}},children:"You're in guest mode. Sign up to save your data permanently!"})}),a.jsx(vi,{open:M.open,autoHideDuration:8e3,onClose:()=>k({...M,open:!1}),anchorOrigin:{vertical:"top",horizontal:"center"},children:a.jsx(Mt,{onClose:()=>k({...M,open:!1}),severity:M.severity,sx:{whiteSpace:"pre-line","& .MuiAlert-message":{fontSize:"1rem",fontWeight:500}},children:M.message})})]})]}):a.jsxs(tS,{theme:we,children:[a.jsx(nS,{}),a.jsx(GB,{})]})}function TY(){return a.jsx(zE,{children:a.jsx(CY,{})})}const DY=new SB;sP.createRoot(document.getElementById("root")).render(a.jsx(xi.StrictMode,{children:a.jsx(wB,{client:DY,children:a.jsx(eT,{children:a.jsx(TY,{})})})}))});export default EY();
