var S2=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import{u as Jo,j as r,B as L,T as Rg,a as Gn,P as D,I as He,V as EC,b as _g,D as An,c as Un,d as Pn,e as P,f as On,g as Ae,F as w2,h as cn,i as C2,k as Aa,S as T2,l as k2,m as Ig,C as et,n as at,o as j2,p as dr,q as ut,r as Pa,s as Re,t as Cr,v as hh,w as Js,x as qo,M as D2,y as We,L as Tt,z as Bt,A as cc,E as E2,G as M2,H as ti,J as fh,K as Yn,N as rt,O as MC,Q as Da,R as Bd,U as Tr,W as mi,_ as ot,X as Q,Y as Rn,Z as _n,$ as an,a0 as Ki,a1 as qe,a2 as Hn,a3 as dn,a4 as Mr,a5 as ze,a6 as uc,a7 as hs,a8 as ph,a9 as A2,aa as P2,ab as Pt,ac as O2,ad as Yo,ae as qi,af as Wg,ag as Wo,ah as Wa,ai as AC,aj as R2,ak as _2,al as Mn,am as I2,an as Vt,ao as ct,ap as Nm,aq as hi,ar as ja,as as PC,at as W2,au as Go,av as N2,aw as OC,ax as kS,ay as qt,az as No,aA as Lo,aB as zo,aC as L2,aD as Oa,aE as gi,aF as yn,aG as Ng,aH as Fs,aI as Ft,aJ as RC,aK as Lg,aL as Vd,aM as Zs,aN as gr,aO as z2,aP as _C,aQ as zg,aR as IC,aS as B2,aT as mh,aU as WC,aV as Tc,aW as Ni,aX as Fc,aY as Vi,aZ as V2,a_ as F2,a$ as gh,b0 as Qt,b1 as Hc,b2 as Fd,b3 as jS,b4 as Yi,b5 as H2,b6 as NC,b7 as U2,b8 as q2,b9 as Y2,ba as G2,bb as $2,bc as DS,bd as K2,be as LC,bf as $o,bg as zC,bh as Q2,bi as BC,bj as VC,bk as FC,bl as X2,bm as ES,bn as Lm,bo as zm,bp as Z2,bq as J2,br as eP,bs as MS,bt as tP,bu as nP,bv as sP,bw as AS,bx as Is,by as iP,bz as aP,bA as rP,bB as oP,bC as lP,bD as HC,bE as cP,bF as Bg,bG as Bm,bH as uP,bI as dP,bJ as hP,bK as fP,bL as pP,bM as mP,bN as ar,bO as gP,bP as yP,bQ as xP,bR as bP,bS as vP,bT as SP,bU as Eo,bV as wP,bW as CP,bX as PS,bY as OS,bZ as RS}from"./mui-COIgFQ5B.js";import{d as TP,e as kP,g as UC,a as Ea,r as x}from"./vendor-B0qVADJY.js";import{r as Hd,_ as Ud,C as qd,a as Vg,E as qC,o as Fg,F as jP,d as sm,g as DP,v as EP,i as MP,b as AP,c as YC,e as PP,f as OP,h as RP,j as _P,k as GC,s as IP,l as WP,m as NP,n as LP,p as zP,q as BP}from"./firebase-DbM8b2ov.js";import{C as VP,a as FP,L as HP,P as UP,b as qP,p as YP,c as GP,d as $P,i as KP,e as QP}from"./charts--OcHBokA.js";var aq=S2((ws,Cs)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function s(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=s(l);fetch(l.href,u)}})();var im={exports:{}},Ql={},am={exports:{}},rm={};var _S;function XP(){return _S||(_S=1,(function(e){function t(F,Y){var ge=F.length;F.push(Y);e:for(;0<ge;){var pe=ge-1>>>1,Me=F[pe];if(0<l(Me,Y))F[pe]=Y,F[ge]=Me,ge=pe;else break e}}function s(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var Y=F[0],ge=F.pop();if(ge!==Y){F[0]=ge;e:for(var pe=0,Me=F.length,ve=Me>>>1;pe<ve;){var X=2*(pe+1)-1,Z=F[X],ce=X+1,xe=F[ce];if(0>l(Z,ge))ce<Me&&0>l(xe,Z)?(F[pe]=xe,F[ce]=ge,pe=ce):(F[pe]=Z,F[X]=ge,pe=X);else if(ce<Me&&0>l(xe,ge))F[pe]=xe,F[ce]=ge,pe=ce;else break e}}return Y}function l(F,Y){var ge=F.sortIndex-Y.sortIndex;return ge!==0?ge:F.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();e.unstable_now=function(){return d.now()-h}}var p=[],g=[],y=1,b=null,v=3,S=!1,j=!1,k=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function W(F){for(var Y=s(g);Y!==null;){if(Y.callback===null)a(g);else if(Y.startTime<=F)a(g),Y.sortIndex=Y.expirationTime,t(p,Y);else break;Y=s(g)}}function O(F){if(k=!1,W(F),!j)if(s(p)!==null)j=!0,R||(R=!0,z());else{var Y=s(g);Y!==null&&ae(O,Y.startTime-F)}}var R=!1,_=-1,N=5,I=-1;function V(){return w?!0:!(e.unstable_now()-I<N)}function B(){if(w=!1,R){var F=e.unstable_now();I=F;var Y=!0;try{e:{j=!1,k&&(k=!1,E(_),_=-1),S=!0;var ge=v;try{t:{for(W(F),b=s(p);b!==null&&!(b.expirationTime>F&&V());){var pe=b.callback;if(typeof pe=="function"){b.callback=null,v=b.priorityLevel;var Me=pe(b.expirationTime<=F);if(F=e.unstable_now(),typeof Me=="function"){b.callback=Me,W(F),Y=!0;break t}b===s(p)&&a(p),W(F)}else a(p);b=s(p)}if(b!==null)Y=!0;else{var ve=s(g);ve!==null&&ae(O,ve.startTime-F),Y=!1}}break e}finally{b=null,v=ge,S=!1}Y=void 0}}finally{Y?z():R=!1}}}var z;if(typeof M=="function")z=function(){M(B)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,U=ue.port2;ue.port1.onmessage=B,z=function(){U.postMessage(null)}}else z=function(){T(B,0)};function ae(F,Y){_=T(function(){F(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(F){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var ge=v;v=Y;try{return F()}finally{v=ge}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(F,Y){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ge=v;v=F;try{return Y()}finally{v=ge}},e.unstable_scheduleCallback=function(F,Y,ge){var pe=e.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?pe+ge:pe):ge=pe,F){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=ge+Me,F={id:y++,callback:Y,priorityLevel:F,startTime:ge,expirationTime:Me,sortIndex:-1},ge>pe?(F.sortIndex=ge,t(g,F),s(p)===null&&F===s(g)&&(k?(E(_),_=-1):k=!0,ae(O,ge-pe))):(F.sortIndex=Me,t(p,F),j||S||(j=!0,R||(R=!0,z()))),F},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(F){var Y=v;return function(){var ge=v;v=Y;try{return F.apply(this,arguments)}finally{v=ge}}}})(rm)),rm}var IS;function ZP(){return IS||(IS=1,am.exports=XP()),am.exports}var WS;function JP(){if(WS)return Ql;WS=1;var e=ZP(),t=TP(),s=kP();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,o=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(o=i.return),n=i.return;while(n)}return i.tag===3?o:null}function d(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function h(n){if(n.tag===31){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function p(n){if(u(n)!==n)throw Error(a(188))}function g(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(a(188));return i!==n?null:n}for(var o=n,c=i;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return p(f),n;if(m===c)return p(f),i;m=m.sibling}throw Error(a(188))}if(o.return!==c.return)o=f,c=m;else{for(var C=!1,A=f.child;A;){if(A===o){C=!0,o=f,c=m;break}if(A===c){C=!0,c=f,o=m;break}A=A.sibling}if(!C){for(A=m.child;A;){if(A===o){C=!0,o=m,c=f;break}if(A===c){C=!0,c=m,o=f;break}A=A.sibling}if(!C)throw Error(a(189))}}if(o.alternate!==c)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?n:i}function y(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=y(n),i!==null)return i;n=n.sibling}return null}var b=Object.assign,v=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),M=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function z(n){return n===null||typeof n!="object"?null:(n=B&&n[B]||n["@@iterator"],typeof n=="function"?n:null)}var ue=Symbol.for("react.client.reference");function U(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ue?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case k:return"Fragment";case T:return"Profiler";case w:return"StrictMode";case O:return"Suspense";case R:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case j:return"Portal";case M:return n.displayName||"Context";case E:return(n._context.displayName||"Context")+".Consumer";case W:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case _:return i=n.displayName||null,i!==null?i:U(n.type)||"Memo";case N:i=n._payload,n=n._init;try{return U(n(i))}catch{}}return null}var ae=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},pe=[],Me=-1;function ve(n){return{current:n}}function X(n){0>Me||(n.current=pe[Me],pe[Me]=null,Me--)}function Z(n,i){Me++,pe[Me]=n.current,n.current=i}var ce=ve(null),xe=ve(null),be=ve(null),re=ve(null);function G(n,i){switch(Z(be,i),Z(xe,n),Z(ce,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?$v(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=$v(i),n=Kv(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}X(ce),Z(ce,n)}function le(){X(ce),X(xe),X(be)}function $(n){n.memoizedState!==null&&Z(re,n);var i=ce.current,o=Kv(i,n.type);i!==o&&(Z(xe,n),Z(ce,o))}function he(n){xe.current===n&&(X(ce),X(xe)),re.current===n&&(X(re),Yl._currentValue=ge)}var Te,Oe;function me(n){if(Te===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Te=i&&i[1]||"",Oe=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Te+n+Oe}var te=!1;function ee(n,i){if(!n||te)return"";te=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var De=function(){throw Error()};if(Object.defineProperty(De.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(De,[])}catch(de){var oe=de}Reflect.construct(n,[],De)}else{try{De.call()}catch(de){oe=de}n.call(De.prototype)}}else{try{throw Error()}catch(de){oe=de}(De=n())&&typeof De.catch=="function"&&De.catch(function(){})}}catch(de){if(de&&oe&&typeof de.stack=="string")return[de.stack,oe.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),C=m[0],A=m[1];if(C&&A){var H=C.split(`
`),se=A.split(`
`);for(f=c=0;c<H.length&&!H[c].includes("DetermineComponentFrameRoot");)c++;for(;f<se.length&&!se[f].includes("DetermineComponentFrameRoot");)f++;if(c===H.length||f===se.length)for(c=H.length-1,f=se.length-1;1<=c&&0<=f&&H[c]!==se[f];)f--;for(;1<=c&&0<=f;c--,f--)if(H[c]!==se[f]){if(c!==1||f!==1)do if(c--,f--,0>f||H[c]!==se[f]){var Se=`
`+H[c].replace(" at new "," at ");return n.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",n.displayName)),Se}while(1<=c&&0<=f);break}}}finally{te=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?me(o):""}function Ie(n,i){switch(n.tag){case 26:case 27:case 5:return me(n.type);case 16:return me("Lazy");case 13:return n.child!==i&&i!==null?me("Suspense Fallback"):me("Suspense");case 19:return me("SuspenseList");case 0:case 15:return ee(n.type,!1);case 11:return ee(n.type.render,!1);case 1:return ee(n.type,!0);case 31:return me("Activity");default:return""}}function Ge(n){try{var i="",o=null;do i+=Ie(n,o),o=n,n=n.return;while(n);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Pe=Object.prototype.hasOwnProperty,ie=e.unstable_scheduleCallback,we=e.unstable_cancelCallback,q=e.unstable_shouldYield,fe=e.unstable_requestPaint,ye=e.unstable_now,Ee=e.unstable_getCurrentPriorityLevel,_e=e.unstable_ImmediatePriority,Le=e.unstable_UserBlockingPriority,Ze=e.unstable_NormalPriority,Be=e.unstable_LowPriority,$e=e.unstable_IdlePriority,Fe=e.log,dt=e.unstable_setDisableYieldValue,pt=null,Ye=null;function ht(n){if(typeof Fe=="function"&&dt(n),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(pt,n)}catch{}}var kt=Math.clz32?Math.clz32:Sn,mt=Math.log,hn=Math.LN2;function Sn(n){return n>>>=0,n===0?32:31-(mt(n)/hn|0)|0}var wn=256,Ts=262144,Nn=4194304;function Us(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Xi(n,i,o){var c=n.pendingLanes;if(c===0)return 0;var f=0,m=n.suspendedLanes,C=n.pingedLanes;n=n.warmLanes;var A=c&134217727;return A!==0?(c=A&~m,c!==0?f=Us(c):(C&=A,C!==0?f=Us(C):o||(o=A&~n,o!==0&&(f=Us(o))))):(A=c&~m,A!==0?f=Us(A):C!==0?f=Us(C):o||(o=c&~n,o!==0&&(f=Us(o)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,o=i&-i,m>=o||m===32&&(o&4194048)!==0)?i:f}function Zi(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function au(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function en(){var n=Nn;return Nn<<=1,(Nn&62914560)===0&&(Nn=4194304),n}function Kn(n){for(var i=[],o=0;31>o;o++)i.push(n);return i}function si(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function qh(n,i,o,c,f,m){var C=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var A=n.entanglements,H=n.expirationTimes,se=n.hiddenUpdates;for(o=C&~o;0<o;){var Se=31-kt(o),De=1<<Se;A[Se]=0,H[Se]=-1;var oe=se[Se];if(oe!==null)for(se[Se]=null,Se=0;Se<oe.length;Se++){var de=oe[Se];de!==null&&(de.lane&=-536870913)}o&=~De}c!==0&&Yh(n,c,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(C&~i))}function Yh(n,i,o){n.pendingLanes|=i,n.suspendedLanes&=~i;var c=31-kt(i);n.entangledLanes|=i,n.entanglements[c]=n.entanglements[c]|1073741824|o&261930}function ru(n,i){var o=n.entangledLanes|=i;for(n=n.entanglements;o;){var c=31-kt(o),f=1<<c;f&i|n[c]&i&&(n[c]|=i),o&=~f}}function Wr(n,i){var o=i&-i;return o=(o&42)!==0?1:Va(o),(o&(n.suspendedLanes|i))!==0?0:o}function Va(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function rl(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ce(){var n=Y.p;return n!==0?n:(n=window.event,n===void 0?32:xS(n.type))}function je(n,i){var o=Y.p;try{return Y.p=n,i()}finally{Y.p=o}}var Ne=Math.random().toString(36).slice(2),yt="__reactFiber$"+Ne,tn="__reactProps$"+Ne,ts="__reactContainer$"+Ne,Gh="__reactEvents$"+Ne,uM="__reactListeners$"+Ne,dM="__reactHandles$"+Ne,Ix="__reactResources$"+Ne,ol="__reactMarker$"+Ne;function $h(n){delete n[yt],delete n[tn],delete n[Gh],delete n[uM],delete n[dM]}function Nr(n){var i=n[yt];if(i)return i;for(var o=n.parentNode;o;){if(i=o[ts]||o[yt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(n=nS(n);n!==null;){if(o=n[yt])return o;n=nS(n)}return i}n=o,o=n.parentNode}return null}function Lr(n){if(n=n[yt]||n[ts]){var i=n.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return n}return null}function ll(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function zr(n){var i=n[Ix];return i||(i=n[Ix]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function In(n){n[ol]=!0}var Wx=new Set,Nx={};function Fa(n,i){Br(n,i),Br(n+"Capture",i)}function Br(n,i){for(Nx[n]=i,n=0;n<i.length;n++)Wx.add(i[n])}var hM=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lx={},zx={};function fM(n){return Pe.call(zx,n)?!0:Pe.call(Lx,n)?!1:hM.test(n)?zx[n]=!0:(Lx[n]=!0,!1)}function ou(n,i,o){if(fM(i))if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+o)}}function lu(n,i,o){if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+o)}}function bi(n,i,o,c){if(c===null)n.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(i,o,""+c)}}function ks(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Bx(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function pM(n,i,o){var c=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);if(!n.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,m=c.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(C){o=""+C,m.call(this,C)}}),Object.defineProperty(n,i,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(C){o=""+C},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Kh(n){if(!n._valueTracker){var i=Bx(n)?"checked":"value";n._valueTracker=pM(n,i,""+n[i])}}function Vx(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return n&&(c=Bx(n)?n.checked?"true":"false":n.value),n=c,n!==o?(i.setValue(n),!0):!1}function cu(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var mM=/[\n"\\]/g;function js(n){return n.replace(mM,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Qh(n,i,o,c,f,m,C,A){n.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.type=C:n.removeAttribute("type"),i!=null?C==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+ks(i)):n.value!==""+ks(i)&&(n.value=""+ks(i)):C!=="submit"&&C!=="reset"||n.removeAttribute("value"),i!=null?Xh(n,C,ks(i)):o!=null?Xh(n,C,ks(o)):c!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.name=""+ks(A):n.removeAttribute("name")}function Fx(n,i,o,c,f,m,C,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){Kh(n);return}o=o!=null?""+ks(o):"",i=i!=null?""+ks(i):o,A||i===n.value||(n.value=i),n.defaultValue=i}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=A?n.checked:!!c,n.defaultChecked=!!c,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(n.name=C),Kh(n)}function Xh(n,i,o){i==="number"&&cu(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Vr(n,i,o,c){if(n=n.options,i){i={};for(var f=0;f<o.length;f++)i["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=i.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&c&&(n[o].defaultSelected=!0)}else{for(o=""+ks(o),i=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Hx(n,i,o){if(i!=null&&(i=""+ks(i),i!==n.value&&(n.value=i),o==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=o!=null?""+ks(o):""}function Ux(n,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(a(92));if(ae(c)){if(1<c.length)throw Error(a(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=ks(i),n.defaultValue=o,c=n.textContent,c===o&&c!==""&&c!==null&&(n.value=c),Kh(n)}function Fr(n,i){if(i){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=i;return}}n.textContent=i}var gM=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qx(n,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":c?n.setProperty(i,o):typeof o!="number"||o===0||gM.has(i)?i==="float"?n.cssFloat=o:n[i]=(""+o).trim():n[i]=o+"px"}function Yx(n,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var f in i)c=i[f],i.hasOwnProperty(f)&&o[f]!==c&&qx(n,f,c)}else for(var m in i)i.hasOwnProperty(m)&&qx(n,m,i[m])}function Zh(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uu(n){return xM.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function vi(){}var Jh=null;function ef(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Hr=null,Ur=null;function Gx(n){var i=Lr(n);if(i&&(n=i.stateNode)){var o=n[tn]||null;e:switch(n=i.stateNode,i.type){case"input":if(Qh(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+js(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==n&&c.form===n.form){var f=c[tn]||null;if(!f)throw Error(a(90));Qh(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===n.form&&Vx(c)}break e;case"textarea":Hx(n,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&Vr(n,!!o.multiple,i,!1)}}}var tf=!1;function $x(n,i,o){if(tf)return n(i,o);tf=!0;try{var c=n(i);return c}finally{if(tf=!1,(Hr!==null||Ur!==null)&&(Xu(),Hr&&(i=Hr,n=Ur,Ur=Hr=null,Gx(i),n)))for(i=0;i<n.length;i++)Gx(n[i])}}function cl(n,i){var o=n.stateNode;if(o===null)return null;var c=o[tn]||null;if(c===null)return null;o=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var Si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nf=!1;if(Si)try{var ul={};Object.defineProperty(ul,"passive",{get:function(){nf=!0}}),window.addEventListener("test",ul,ul),window.removeEventListener("test",ul,ul)}catch{nf=!1}var Ji=null,sf=null,du=null;function Kx(){if(du)return du;var n,i=sf,o=i.length,c,f="value"in Ji?Ji.value:Ji.textContent,m=f.length;for(n=0;n<o&&i[n]===f[n];n++);var C=o-n;for(c=1;c<=C&&i[o-c]===f[m-c];c++);return du=f.slice(n,1<c?1-c:void 0)}function hu(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function fu(){return!0}function Qx(){return!1}function ns(n){function i(o,c,f,m,C){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=C,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(o=n[A],this[A]=o?o(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?fu:Qx,this.isPropagationStopped=Qx,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=fu)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=fu)},persist:function(){},isPersistent:fu}),i}var Ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pu=ns(Ha),dl=b({},Ha,{view:0,detail:0}),bM=ns(dl),af,rf,hl,mu=b({},dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lf,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==hl&&(hl&&n.type==="mousemove"?(af=n.screenX-hl.screenX,rf=n.screenY-hl.screenY):rf=af=0,hl=n),af)},movementY:function(n){return"movementY"in n?n.movementY:rf}}),Xx=ns(mu),vM=b({},mu,{dataTransfer:0}),SM=ns(vM),wM=b({},dl,{relatedTarget:0}),of=ns(wM),CM=b({},Ha,{animationName:0,elapsedTime:0,pseudoElement:0}),TM=ns(CM),kM=b({},Ha,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),jM=ns(kM),DM=b({},Ha,{data:0}),Zx=ns(DM),EM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PM(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=AM[n])?!!i[n]:!1}function lf(){return PM}var OM=b({},dl,{key:function(n){if(n.key){var i=EM[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=hu(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?MM[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lf,charCode:function(n){return n.type==="keypress"?hu(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?hu(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),RM=ns(OM),_M=b({},mu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jx=ns(_M),IM=b({},dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lf}),WM=ns(IM),NM=b({},Ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),LM=ns(NM),zM=b({},mu,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),BM=ns(zM),VM=b({},Ha,{newState:0,oldState:0}),FM=ns(VM),HM=[9,13,27,32],cf=Si&&"CompositionEvent"in window,fl=null;Si&&"documentMode"in document&&(fl=document.documentMode);var UM=Si&&"TextEvent"in window&&!fl,e0=Si&&(!cf||fl&&8<fl&&11>=fl),t0=" ",n0=!1;function s0(n,i){switch(n){case"keyup":return HM.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function i0(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var qr=!1;function qM(n,i){switch(n){case"compositionend":return i0(i);case"keypress":return i.which!==32?null:(n0=!0,t0);case"textInput":return n=i.data,n===t0&&n0?null:n;default:return null}}function YM(n,i){if(qr)return n==="compositionend"||!cf&&s0(n,i)?(n=Kx(),du=sf=Ji=null,qr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return e0&&i.locale!=="ko"?null:i.data;default:return null}}var GM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function a0(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!GM[n.type]:i==="textarea"}function r0(n,i,o,c){Hr?Ur?Ur.push(c):Ur=[c]:Hr=c,i=id(i,"onChange"),0<i.length&&(o=new pu("onChange","change",null,o,c),n.push({event:o,listeners:i}))}var pl=null,ml=null;function $M(n){Fv(n,0)}function gu(n){var i=ll(n);if(Vx(i))return n}function o0(n,i){if(n==="change")return i}var l0=!1;if(Si){var uf;if(Si){var df="oninput"in document;if(!df){var c0=document.createElement("div");c0.setAttribute("oninput","return;"),df=typeof c0.oninput=="function"}uf=df}else uf=!1;l0=uf&&(!document.documentMode||9<document.documentMode)}function u0(){pl&&(pl.detachEvent("onpropertychange",d0),ml=pl=null)}function d0(n){if(n.propertyName==="value"&&gu(ml)){var i=[];r0(i,ml,n,ef(n)),$x($M,i)}}function KM(n,i,o){n==="focusin"?(u0(),pl=i,ml=o,pl.attachEvent("onpropertychange",d0)):n==="focusout"&&u0()}function QM(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return gu(ml)}function XM(n,i){if(n==="click")return gu(i)}function ZM(n,i){if(n==="input"||n==="change")return gu(i)}function JM(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var fs=typeof Object.is=="function"?Object.is:JM;function gl(n,i){if(fs(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var o=Object.keys(n),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!Pe.call(i,f)||!fs(n[f],i[f]))return!1}return!0}function h0(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function f0(n,i){var o=h0(n);n=0;for(var c;o;){if(o.nodeType===3){if(c=n+o.textContent.length,n<=i&&c>=i)return{node:o,offset:i-n};n=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=h0(o)}}function p0(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?p0(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function m0(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=cu(n.document);i instanceof n.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)n=i.contentWindow;else break;i=cu(n.document)}return i}function hf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var eA=Si&&"documentMode"in document&&11>=document.documentMode,Yr=null,ff=null,yl=null,pf=!1;function g0(n,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;pf||Yr==null||Yr!==cu(c)||(c=Yr,"selectionStart"in c&&hf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),yl&&gl(yl,c)||(yl=c,c=id(ff,"onSelect"),0<c.length&&(i=new pu("onSelect","select",null,i,o),n.push({event:i,listeners:c}),i.target=Yr)))}function Ua(n,i){var o={};return o[n.toLowerCase()]=i.toLowerCase(),o["Webkit"+n]="webkit"+i,o["Moz"+n]="moz"+i,o}var Gr={animationend:Ua("Animation","AnimationEnd"),animationiteration:Ua("Animation","AnimationIteration"),animationstart:Ua("Animation","AnimationStart"),transitionrun:Ua("Transition","TransitionRun"),transitionstart:Ua("Transition","TransitionStart"),transitioncancel:Ua("Transition","TransitionCancel"),transitionend:Ua("Transition","TransitionEnd")},mf={},y0={};Si&&(y0=document.createElement("div").style,"AnimationEvent"in window||(delete Gr.animationend.animation,delete Gr.animationiteration.animation,delete Gr.animationstart.animation),"TransitionEvent"in window||delete Gr.transitionend.transition);function qa(n){if(mf[n])return mf[n];if(!Gr[n])return n;var i=Gr[n],o;for(o in i)if(i.hasOwnProperty(o)&&o in y0)return mf[n]=i[o];return n}var x0=qa("animationend"),b0=qa("animationiteration"),v0=qa("animationstart"),tA=qa("transitionrun"),nA=qa("transitionstart"),sA=qa("transitioncancel"),S0=qa("transitionend"),w0=new Map,gf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gf.push("scrollEnd");function qs(n,i){w0.set(n,i),Fa(i,[n])}var yu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Ds=[],$r=0,yf=0;function xu(){for(var n=$r,i=yf=$r=0;i<n;){var o=Ds[i];Ds[i++]=null;var c=Ds[i];Ds[i++]=null;var f=Ds[i];Ds[i++]=null;var m=Ds[i];if(Ds[i++]=null,c!==null&&f!==null){var C=c.pending;C===null?f.next=f:(f.next=C.next,C.next=f),c.pending=f}m!==0&&C0(o,f,m)}}function bu(n,i,o,c){Ds[$r++]=n,Ds[$r++]=i,Ds[$r++]=o,Ds[$r++]=c,yf|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function xf(n,i,o,c){return bu(n,i,o,c),vu(n)}function Ya(n,i){return bu(n,null,null,i),vu(n)}function C0(n,i,o){n.lanes|=o;var c=n.alternate;c!==null&&(c.lanes|=o);for(var f=!1,m=n.return;m!==null;)m.childLanes|=o,c=m.alternate,c!==null&&(c.childLanes|=o),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&i!==null&&(f=31-kt(o),n=m.hiddenUpdates,c=n[f],c===null?n[f]=[i]:c.push(i),i.lane=o|536870912),m):null}function vu(n){if(50<zl)throw zl=0,Dp=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Kr={};function iA(n,i,o,c){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ps(n,i,o,c){return new iA(n,i,o,c)}function bf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function wi(n,i){var o=n.alternate;return o===null?(o=ps(n.tag,i,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=i,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,i=n.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function T0(n,i){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Su(n,i,o,c,f,m){var C=0;if(c=n,typeof n=="function")bf(n)&&(C=1);else if(typeof n=="string")C=c2(n,o,ce.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=ps(31,o,i,f),n.elementType=I,n.lanes=m,n;case k:return Ga(o.children,f,m,i);case w:C=8,f|=24;break;case T:return n=ps(12,o,i,f|2),n.elementType=T,n.lanes=m,n;case O:return n=ps(13,o,i,f),n.elementType=O,n.lanes=m,n;case R:return n=ps(19,o,i,f),n.elementType=R,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case M:C=10;break e;case E:C=9;break e;case W:C=11;break e;case _:C=14;break e;case N:C=16,c=null;break e}C=29,o=Error(a(130,n===null?"null":typeof n,"")),c=null}return i=ps(C,o,i,f),i.elementType=n,i.type=c,i.lanes=m,i}function Ga(n,i,o,c){return n=ps(7,n,c,i),n.lanes=o,n}function vf(n,i,o){return n=ps(6,n,null,i),n.lanes=o,n}function k0(n){var i=ps(18,null,null,0);return i.stateNode=n,i}function Sf(n,i,o){return i=ps(4,n.children!==null?n.children:[],n.key,i),i.lanes=o,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var j0=new WeakMap;function Es(n,i){if(typeof n=="object"&&n!==null){var o=j0.get(n);return o!==void 0?o:(i={value:n,source:i,stack:Ge(i)},j0.set(n,i),i)}return{value:n,source:i,stack:Ge(i)}}var Qr=[],Xr=0,wu=null,xl=0,Ms=[],As=0,ea=null,ii=1,ai="";function Ci(n,i){Qr[Xr++]=xl,Qr[Xr++]=wu,wu=n,xl=i}function D0(n,i,o){Ms[As++]=ii,Ms[As++]=ai,Ms[As++]=ea,ea=n;var c=ii;n=ai;var f=32-kt(c)-1;c&=~(1<<f),o+=1;var m=32-kt(i)+f;if(30<m){var C=f-f%5;m=(c&(1<<C)-1).toString(32),c>>=C,f-=C,ii=1<<32-kt(i)+f|o<<f|c,ai=m+n}else ii=1<<m|o<<f|c,ai=n}function wf(n){n.return!==null&&(Ci(n,1),D0(n,1,0))}function Cf(n){for(;n===wu;)wu=Qr[--Xr],Qr[Xr]=null,xl=Qr[--Xr],Qr[Xr]=null;for(;n===ea;)ea=Ms[--As],Ms[As]=null,ai=Ms[--As],Ms[As]=null,ii=Ms[--As],Ms[As]=null}function E0(n,i){Ms[As++]=ii,Ms[As++]=ai,Ms[As++]=ea,ii=i.id,ai=i.overflow,ea=n}var Ln=null,Yt=null,Ct=!1,ta=null,Ps=!1,Tf=Error(a(519));function na(n){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bl(Es(i,n)),Tf}function M0(n){var i=n.stateNode,o=n.type,c=n.memoizedProps;switch(i[yt]=n,i[tn]=c,o){case"dialog":vt("cancel",i),vt("close",i);break;case"iframe":case"object":case"embed":vt("load",i);break;case"video":case"audio":for(o=0;o<Vl.length;o++)vt(Vl[o],i);break;case"source":vt("error",i);break;case"img":case"image":case"link":vt("error",i),vt("load",i);break;case"details":vt("toggle",i);break;case"input":vt("invalid",i),Fx(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":vt("invalid",i);break;case"textarea":vt("invalid",i),Ux(i,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||Yv(i.textContent,o)?(c.popover!=null&&(vt("beforetoggle",i),vt("toggle",i)),c.onScroll!=null&&vt("scroll",i),c.onScrollEnd!=null&&vt("scrollend",i),c.onClick!=null&&(i.onclick=vi),i=!0):i=!1,i||na(n,!0)}function A0(n){for(Ln=n.return;Ln;)switch(Ln.tag){case 5:case 31:case 13:Ps=!1;return;case 27:case 3:Ps=!0;return;default:Ln=Ln.return}}function Zr(n){if(n!==Ln)return!1;if(!Ct)return A0(n),Ct=!0,!1;var i=n.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Fp(n.type,n.memoizedProps)),o=!o),o&&Yt&&na(n),A0(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));Yt=tS(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));Yt=tS(n)}else i===27?(i=Yt,ga(n.type)?(n=Gp,Gp=null,Yt=n):Yt=i):Yt=Ln?Rs(n.stateNode.nextSibling):null;return!0}function $a(){Yt=Ln=null,Ct=!1}function kf(){var n=ta;return n!==null&&(rs===null?rs=n:rs.push.apply(rs,n),ta=null),n}function bl(n){ta===null?ta=[n]:ta.push(n)}var jf=ve(null),Ka=null,Ti=null;function sa(n,i,o){Z(jf,i._currentValue),i._currentValue=o}function ki(n){n._currentValue=jf.current,X(jf)}function Df(n,i,o){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===o)break;n=n.return}}function Ef(n,i,o,c){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var C=f.child;m=m.firstContext;e:for(;m!==null;){var A=m;m=f;for(var H=0;H<i.length;H++)if(A.context===i[H]){m.lanes|=o,A=m.alternate,A!==null&&(A.lanes|=o),Df(m.return,o,n),c||(C=null);break e}m=A.next}}else if(f.tag===18){if(C=f.return,C===null)throw Error(a(341));C.lanes|=o,m=C.alternate,m!==null&&(m.lanes|=o),Df(C,o,n),C=null}else C=f.child;if(C!==null)C.return=f;else for(C=f;C!==null;){if(C===n){C=null;break}if(f=C.sibling,f!==null){f.return=C.return,C=f;break}C=C.return}f=C}}function Jr(n,i,o,c){n=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var C=f.alternate;if(C===null)throw Error(a(387));if(C=C.memoizedProps,C!==null){var A=f.type;fs(f.pendingProps.value,C.value)||(n!==null?n.push(A):n=[A])}}else if(f===re.current){if(C=f.alternate,C===null)throw Error(a(387));C.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Yl):n=[Yl])}f=f.return}n!==null&&Ef(i,n,o,c),i.flags|=262144}function Cu(n){for(n=n.firstContext;n!==null;){if(!fs(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Qa(n){Ka=n,Ti=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function zn(n){return P0(Ka,n)}function Tu(n,i){return Ka===null&&Qa(n),P0(n,i)}function P0(n,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Ti===null){if(n===null)throw Error(a(308));Ti=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Ti=Ti.next=i;return o}var aA=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(o,c){n.push(c)}};this.abort=function(){i.aborted=!0,n.forEach(function(o){return o()})}},rA=e.unstable_scheduleCallback,oA=e.unstable_NormalPriority,Cn={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mf(){return{controller:new aA,data:new Map,refCount:0}}function vl(n){n.refCount--,n.refCount===0&&rA(oA,function(){n.controller.abort()})}var Sl=null,Af=0,eo=0,to=null;function lA(n,i){if(Sl===null){var o=Sl=[];Af=0,eo=Rp(),to={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Af++,i.then(O0,O0),i}function O0(){if(--Af===0&&Sl!==null){to!==null&&(to.status="fulfilled");var n=Sl;Sl=null,eo=0,to=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function cA(n,i){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){c.status="fulfilled",c.value=i;for(var f=0;f<o.length;f++)(0,o[f])(i)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var R0=F.S;F.S=function(n,i){gv=ye(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&lA(n,i),R0!==null&&R0(n,i)};var Xa=ve(null);function Pf(){var n=Xa.current;return n!==null?n:zt.pooledCache}function ku(n,i){i===null?Z(Xa,Xa.current):Z(Xa,i.pool)}function _0(){var n=Pf();return n===null?null:{parent:Cn._currentValue,pool:n}}var no=Error(a(460)),Of=Error(a(474)),ju=Error(a(542)),Du={then:function(){}};function I0(n){return n=n.status,n==="fulfilled"||n==="rejected"}function W0(n,i,o){switch(o=n[o],o===void 0?n.push(i):o!==i&&(i.then(vi,vi),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,L0(n),n;default:if(typeof i.status=="string")i.then(vi,vi);else{if(n=zt,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(c){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=c}},function(c){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,L0(n),n}throw Ja=i,no}}function Za(n){try{var i=n._init;return i(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ja=o,no):o}}var Ja=null;function N0(){if(Ja===null)throw Error(a(459));var n=Ja;return Ja=null,n}function L0(n){if(n===no||n===ju)throw Error(a(483))}var so=null,wl=0;function Eu(n){var i=wl;return wl+=1,so===null&&(so=[]),W0(so,n,i)}function Cl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Mu(n,i){throw i.$$typeof===v?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function z0(n){function i(J,K){if(n){var ne=J.deletions;ne===null?(J.deletions=[K],J.flags|=16):ne.push(K)}}function o(J,K){if(!n)return null;for(;K!==null;)i(J,K),K=K.sibling;return null}function c(J){for(var K=new Map;J!==null;)J.key!==null?K.set(J.key,J):K.set(J.index,J),J=J.sibling;return K}function f(J,K){return J=wi(J,K),J.index=0,J.sibling=null,J}function m(J,K,ne){return J.index=ne,n?(ne=J.alternate,ne!==null?(ne=ne.index,ne<K?(J.flags|=67108866,K):ne):(J.flags|=67108866,K)):(J.flags|=1048576,K)}function C(J){return n&&J.alternate===null&&(J.flags|=67108866),J}function A(J,K,ne,ke){return K===null||K.tag!==6?(K=vf(ne,J.mode,ke),K.return=J,K):(K=f(K,ne),K.return=J,K)}function H(J,K,ne,ke){var Qe=ne.type;return Qe===k?Se(J,K,ne.props.children,ke,ne.key):K!==null&&(K.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===N&&Za(Qe)===K.type)?(K=f(K,ne.props),Cl(K,ne),K.return=J,K):(K=Su(ne.type,ne.key,ne.props,null,J.mode,ke),Cl(K,ne),K.return=J,K)}function se(J,K,ne,ke){return K===null||K.tag!==4||K.stateNode.containerInfo!==ne.containerInfo||K.stateNode.implementation!==ne.implementation?(K=Sf(ne,J.mode,ke),K.return=J,K):(K=f(K,ne.children||[]),K.return=J,K)}function Se(J,K,ne,ke,Qe){return K===null||K.tag!==7?(K=Ga(ne,J.mode,ke,Qe),K.return=J,K):(K=f(K,ne),K.return=J,K)}function De(J,K,ne){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=vf(""+K,J.mode,ne),K.return=J,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case S:return ne=Su(K.type,K.key,K.props,null,J.mode,ne),Cl(ne,K),ne.return=J,ne;case j:return K=Sf(K,J.mode,ne),K.return=J,K;case N:return K=Za(K),De(J,K,ne)}if(ae(K)||z(K))return K=Ga(K,J.mode,ne,null),K.return=J,K;if(typeof K.then=="function")return De(J,Eu(K),ne);if(K.$$typeof===M)return De(J,Tu(J,K),ne);Mu(J,K)}return null}function oe(J,K,ne,ke){var Qe=K!==null?K.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Qe!==null?null:A(J,K,""+ne,ke);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case S:return ne.key===Qe?H(J,K,ne,ke):null;case j:return ne.key===Qe?se(J,K,ne,ke):null;case N:return ne=Za(ne),oe(J,K,ne,ke)}if(ae(ne)||z(ne))return Qe!==null?null:Se(J,K,ne,ke,null);if(typeof ne.then=="function")return oe(J,K,Eu(ne),ke);if(ne.$$typeof===M)return oe(J,K,Tu(J,ne),ke);Mu(J,ne)}return null}function de(J,K,ne,ke,Qe){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return J=J.get(ne)||null,A(K,J,""+ke,Qe);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case S:return J=J.get(ke.key===null?ne:ke.key)||null,H(K,J,ke,Qe);case j:return J=J.get(ke.key===null?ne:ke.key)||null,se(K,J,ke,Qe);case N:return ke=Za(ke),de(J,K,ne,ke,Qe)}if(ae(ke)||z(ke))return J=J.get(ne)||null,Se(K,J,ke,Qe,null);if(typeof ke.then=="function")return de(J,K,ne,Eu(ke),Qe);if(ke.$$typeof===M)return de(J,K,ne,Tu(K,ke),Qe);Mu(K,ke)}return null}function Ve(J,K,ne,ke){for(var Qe=null,Dt=null,Ue=K,gt=K=0,wt=null;Ue!==null&&gt<ne.length;gt++){Ue.index>gt?(wt=Ue,Ue=null):wt=Ue.sibling;var Et=oe(J,Ue,ne[gt],ke);if(Et===null){Ue===null&&(Ue=wt);break}n&&Ue&&Et.alternate===null&&i(J,Ue),K=m(Et,K,gt),Dt===null?Qe=Et:Dt.sibling=Et,Dt=Et,Ue=wt}if(gt===ne.length)return o(J,Ue),Ct&&Ci(J,gt),Qe;if(Ue===null){for(;gt<ne.length;gt++)Ue=De(J,ne[gt],ke),Ue!==null&&(K=m(Ue,K,gt),Dt===null?Qe=Ue:Dt.sibling=Ue,Dt=Ue);return Ct&&Ci(J,gt),Qe}for(Ue=c(Ue);gt<ne.length;gt++)wt=de(Ue,J,gt,ne[gt],ke),wt!==null&&(n&&wt.alternate!==null&&Ue.delete(wt.key===null?gt:wt.key),K=m(wt,K,gt),Dt===null?Qe=wt:Dt.sibling=wt,Dt=wt);return n&&Ue.forEach(function(Sa){return i(J,Sa)}),Ct&&Ci(J,gt),Qe}function st(J,K,ne,ke){if(ne==null)throw Error(a(151));for(var Qe=null,Dt=null,Ue=K,gt=K=0,wt=null,Et=ne.next();Ue!==null&&!Et.done;gt++,Et=ne.next()){Ue.index>gt?(wt=Ue,Ue=null):wt=Ue.sibling;var Sa=oe(J,Ue,Et.value,ke);if(Sa===null){Ue===null&&(Ue=wt);break}n&&Ue&&Sa.alternate===null&&i(J,Ue),K=m(Sa,K,gt),Dt===null?Qe=Sa:Dt.sibling=Sa,Dt=Sa,Ue=wt}if(Et.done)return o(J,Ue),Ct&&Ci(J,gt),Qe;if(Ue===null){for(;!Et.done;gt++,Et=ne.next())Et=De(J,Et.value,ke),Et!==null&&(K=m(Et,K,gt),Dt===null?Qe=Et:Dt.sibling=Et,Dt=Et);return Ct&&Ci(J,gt),Qe}for(Ue=c(Ue);!Et.done;gt++,Et=ne.next())Et=de(Ue,J,gt,Et.value,ke),Et!==null&&(n&&Et.alternate!==null&&Ue.delete(Et.key===null?gt:Et.key),K=m(Et,K,gt),Dt===null?Qe=Et:Dt.sibling=Et,Dt=Et);return n&&Ue.forEach(function(v2){return i(J,v2)}),Ct&&Ci(J,gt),Qe}function Lt(J,K,ne,ke){if(typeof ne=="object"&&ne!==null&&ne.type===k&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case S:e:{for(var Qe=ne.key;K!==null;){if(K.key===Qe){if(Qe=ne.type,Qe===k){if(K.tag===7){o(J,K.sibling),ke=f(K,ne.props.children),ke.return=J,J=ke;break e}}else if(K.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===N&&Za(Qe)===K.type){o(J,K.sibling),ke=f(K,ne.props),Cl(ke,ne),ke.return=J,J=ke;break e}o(J,K);break}else i(J,K);K=K.sibling}ne.type===k?(ke=Ga(ne.props.children,J.mode,ke,ne.key),ke.return=J,J=ke):(ke=Su(ne.type,ne.key,ne.props,null,J.mode,ke),Cl(ke,ne),ke.return=J,J=ke)}return C(J);case j:e:{for(Qe=ne.key;K!==null;){if(K.key===Qe)if(K.tag===4&&K.stateNode.containerInfo===ne.containerInfo&&K.stateNode.implementation===ne.implementation){o(J,K.sibling),ke=f(K,ne.children||[]),ke.return=J,J=ke;break e}else{o(J,K);break}else i(J,K);K=K.sibling}ke=Sf(ne,J.mode,ke),ke.return=J,J=ke}return C(J);case N:return ne=Za(ne),Lt(J,K,ne,ke)}if(ae(ne))return Ve(J,K,ne,ke);if(z(ne)){if(Qe=z(ne),typeof Qe!="function")throw Error(a(150));return ne=Qe.call(ne),st(J,K,ne,ke)}if(typeof ne.then=="function")return Lt(J,K,Eu(ne),ke);if(ne.$$typeof===M)return Lt(J,K,Tu(J,ne),ke);Mu(J,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,K!==null&&K.tag===6?(o(J,K.sibling),ke=f(K,ne),ke.return=J,J=ke):(o(J,K),ke=vf(ne,J.mode,ke),ke.return=J,J=ke),C(J)):o(J,K)}return function(J,K,ne,ke){try{wl=0;var Qe=Lt(J,K,ne,ke);return so=null,Qe}catch(Ue){if(Ue===no||Ue===ju)throw Ue;var Dt=ps(29,Ue,null,J.mode);return Dt.lanes=ke,Dt.return=J,Dt}finally{}}}var er=z0(!0),B0=z0(!1),ia=!1;function Rf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _f(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function aa(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ra(n,i,o){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Mt&2)!==0){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,i=vu(n),C0(n,null,o),i}return bu(n,c,i,o),vu(n)}function Tl(n,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=n.pendingLanes,o|=c,i.lanes=o,ru(n,o)}}function If(n,i){var o=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var C={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=C:m=m.next=C,o=o.next}while(o!==null);m===null?f=m=i:m=m.next=i}else f=m=i;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=i:n.next=i,o.lastBaseUpdate=i}var Wf=!1;function kl(){if(Wf){var n=to;if(n!==null)throw n}}function jl(n,i,o,c){Wf=!1;var f=n.updateQueue;ia=!1;var m=f.firstBaseUpdate,C=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var H=A,se=H.next;H.next=null,C===null?m=se:C.next=se,C=H;var Se=n.alternate;Se!==null&&(Se=Se.updateQueue,A=Se.lastBaseUpdate,A!==C&&(A===null?Se.firstBaseUpdate=se:A.next=se,Se.lastBaseUpdate=H))}if(m!==null){var De=f.baseState;C=0,Se=se=H=null,A=m;do{var oe=A.lane&-536870913,de=oe!==A.lane;if(de?(St&oe)===oe:(c&oe)===oe){oe!==0&&oe===eo&&(Wf=!0),Se!==null&&(Se=Se.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Ve=n,st=A;oe=i;var Lt=o;switch(st.tag){case 1:if(Ve=st.payload,typeof Ve=="function"){De=Ve.call(Lt,De,oe);break e}De=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=st.payload,oe=typeof Ve=="function"?Ve.call(Lt,De,oe):Ve,oe==null)break e;De=b({},De,oe);break e;case 2:ia=!0}}oe=A.callback,oe!==null&&(n.flags|=64,de&&(n.flags|=8192),de=f.callbacks,de===null?f.callbacks=[oe]:de.push(oe))}else de={lane:oe,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Se===null?(se=Se=de,H=De):Se=Se.next=de,C|=oe;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;de=A,A=de.next,de.next=null,f.lastBaseUpdate=de,f.shared.pending=null}}while(!0);Se===null&&(H=De),f.baseState=H,f.firstBaseUpdate=se,f.lastBaseUpdate=Se,m===null&&(f.shared.lanes=0),da|=C,n.lanes=C,n.memoizedState=De}}function V0(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function F0(n,i){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)V0(o[n],i)}var io=ve(null),Au=ve(0);function H0(n,i){n=_i,Z(Au,n),Z(io,i),_i=n|i.baseLanes}function Nf(){Z(Au,_i),Z(io,io.current)}function Lf(){_i=Au.current,X(io),X(Au)}var ms=ve(null),Os=null;function oa(n){var i=n.alternate;Z(fn,fn.current&1),Z(ms,n),Os===null&&(i===null||io.current!==null||i.memoizedState!==null)&&(Os=n)}function zf(n){Z(fn,fn.current),Z(ms,n),Os===null&&(Os=n)}function U0(n){n.tag===22?(Z(fn,fn.current),Z(ms,n),Os===null&&(Os=n)):la()}function la(){Z(fn,fn.current),Z(ms,ms.current)}function gs(n){X(ms),Os===n&&(Os=null),X(fn)}var fn=ve(0);function Pu(n){for(var i=n;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||qp(o)||Yp(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ji=0,ft=null,Wt=null,Tn=null,Ou=!1,ao=!1,tr=!1,Ru=0,Dl=0,ro=null,uA=0;function rn(){throw Error(a(321))}function Bf(n,i){if(i===null)return!1;for(var o=0;o<i.length&&o<n.length;o++)if(!fs(n[o],i[o]))return!1;return!0}function Vf(n,i,o,c,f,m){return ji=m,ft=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=n===null||n.memoizedState===null?Db:np,tr=!1,m=o(c,f),tr=!1,ao&&(m=Y0(i,o,c,f)),q0(n),m}function q0(n){F.H=Al;var i=Wt!==null&&Wt.next!==null;if(ji=0,Tn=Wt=ft=null,Ou=!1,Dl=0,ro=null,i)throw Error(a(300));n===null||kn||(n=n.dependencies,n!==null&&Cu(n)&&(kn=!0))}function Y0(n,i,o,c){ft=n;var f=0;do{if(ao&&(ro=null),Dl=0,ao=!1,25<=f)throw Error(a(301));if(f+=1,Tn=Wt=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}F.H=Eb,m=i(o,c)}while(ao);return m}function dA(){var n=F.H,i=n.useState()[0];return i=typeof i.then=="function"?El(i):i,n=n.useState()[0],(Wt!==null?Wt.memoizedState:null)!==n&&(ft.flags|=1024),i}function Ff(){var n=Ru!==0;return Ru=0,n}function Hf(n,i,o){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~o}function Uf(n){if(Ou){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ou=!1}ji=0,Tn=Wt=ft=null,ao=!1,Dl=Ru=0,ro=null}function Qn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?ft.memoizedState=Tn=n:Tn=Tn.next=n,Tn}function pn(){if(Wt===null){var n=ft.alternate;n=n!==null?n.memoizedState:null}else n=Wt.next;var i=Tn===null?ft.memoizedState:Tn.next;if(i!==null)Tn=i,Wt=n;else{if(n===null)throw ft.alternate===null?Error(a(467)):Error(a(310));Wt=n,n={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Tn===null?ft.memoizedState=Tn=n:Tn=Tn.next=n}return Tn}function _u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(n){var i=Dl;return Dl+=1,ro===null&&(ro=[]),n=W0(ro,n,i),i=ft,(Tn===null?i.memoizedState:Tn.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?Db:np),n}function Iu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return El(n);if(n.$$typeof===M)return zn(n)}throw Error(a(438,String(n)))}function qf(n){var i=null,o=ft.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=ft.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=_u(),ft.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(n),c=0;c<n;c++)o[c]=V;return i.index++,o}function Di(n,i){return typeof i=="function"?i(n):i}function Wu(n){var i=pn();return Yf(i,Wt,n)}function Yf(n,i,o){var c=n.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=o;var f=n.baseQueue,m=c.pending;if(m!==null){if(f!==null){var C=f.next;f.next=m.next,m.next=C}i.baseQueue=f=m,c.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{i=f.next;var A=C=null,H=null,se=i,Se=!1;do{var De=se.lane&-536870913;if(De!==se.lane?(St&De)===De:(ji&De)===De){var oe=se.revertLane;if(oe===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),De===eo&&(Se=!0);else if((ji&oe)===oe){se=se.next,oe===eo&&(Se=!0);continue}else De={lane:0,revertLane:se.revertLane,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},H===null?(A=H=De,C=m):H=H.next=De,ft.lanes|=oe,da|=oe;De=se.action,tr&&o(m,De),m=se.hasEagerState?se.eagerState:o(m,De)}else oe={lane:De,revertLane:se.revertLane,gesture:se.gesture,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},H===null?(A=H=oe,C=m):H=H.next=oe,ft.lanes|=De,da|=De;se=se.next}while(se!==null&&se!==i);if(H===null?C=m:H.next=A,!fs(m,n.memoizedState)&&(kn=!0,Se&&(o=to,o!==null)))throw o;n.memoizedState=m,n.baseState=C,n.baseQueue=H,c.lastRenderedState=m}return f===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function Gf(n){var i=pn(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=n;var c=o.dispatch,f=o.pending,m=i.memoizedState;if(f!==null){o.pending=null;var C=f=f.next;do m=n(m,C.action),C=C.next;while(C!==f);fs(m,i.memoizedState)||(kn=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),o.lastRenderedState=m}return[m,c]}function G0(n,i,o){var c=ft,f=pn(),m=Ct;if(m){if(o===void 0)throw Error(a(407));o=o()}else o=i();var C=!fs((Wt||f).memoizedState,o);if(C&&(f.memoizedState=o,kn=!0),f=f.queue,Qf(Q0.bind(null,c,f,n),[n]),f.getSnapshot!==i||C||Tn!==null&&Tn.memoizedState.tag&1){if(c.flags|=2048,oo(9,{destroy:void 0},K0.bind(null,c,f,o,i),null),zt===null)throw Error(a(349));m||(ji&127)!==0||$0(c,i,o)}return o}function $0(n,i,o){n.flags|=16384,n={getSnapshot:i,value:o},i=ft.updateQueue,i===null?(i=_u(),ft.updateQueue=i,i.stores=[n]):(o=i.stores,o===null?i.stores=[n]:o.push(n))}function K0(n,i,o,c){i.value=o,i.getSnapshot=c,X0(i)&&Z0(n)}function Q0(n,i,o){return o(function(){X0(i)&&Z0(n)})}function X0(n){var i=n.getSnapshot;n=n.value;try{var o=i();return!fs(n,o)}catch{return!0}}function Z0(n){var i=Ya(n,2);i!==null&&os(i,n,2)}function $f(n){var i=Qn();if(typeof n=="function"){var o=n;if(n=o(),tr){ht(!0);try{o()}finally{ht(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:n},i}function J0(n,i,o,c){return n.baseState=o,Yf(n,Wt,typeof c=="function"?c:Di)}function hA(n,i,o,c,f){if(zu(n))throw Error(a(485));if(n=i.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){m.listeners.push(C)}};F.T!==null?o(!0):m.isTransition=!1,c(m),o=i.pending,o===null?(m.next=i.pending=m,eb(i,m)):(m.next=o.next,i.pending=o.next=m)}}function eb(n,i){var o=i.action,c=i.payload,f=n.state;if(i.isTransition){var m=F.T,C={};F.T=C;try{var A=o(f,c),H=F.S;H!==null&&H(C,A),tb(n,i,A)}catch(se){Kf(n,i,se)}finally{m!==null&&C.types!==null&&(m.types=C.types),F.T=m}}else try{m=o(f,c),tb(n,i,m)}catch(se){Kf(n,i,se)}}function tb(n,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){nb(n,i,c)},function(c){return Kf(n,i,c)}):nb(n,i,o)}function nb(n,i,o){i.status="fulfilled",i.value=o,sb(i),n.state=o,i=n.pending,i!==null&&(o=i.next,o===i?n.pending=null:(o=o.next,i.next=o,eb(n,o)))}function Kf(n,i,o){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,sb(i),i=i.next;while(i!==c)}n.action=null}function sb(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function ib(n,i){return i}function ab(n,i){if(Ct){var o=zt.formState;if(o!==null){e:{var c=ft;if(Ct){if(Yt){t:{for(var f=Yt,m=Ps;f.nodeType!==8;){if(!m){f=null;break t}if(f=Rs(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Yt=Rs(f.nextSibling),c=f.data==="F!";break e}}na(c)}c=!1}c&&(i=o[0])}}return o=Qn(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ib,lastRenderedState:i},o.queue=c,o=Tb.bind(null,ft,c),c.dispatch=o,c=$f(!1),m=tp.bind(null,ft,!1,c.queue),c=Qn(),f={state:i,dispatch:null,action:n,pending:null},c.queue=f,o=hA.bind(null,ft,f,m,o),f.dispatch=o,c.memoizedState=n,[i,o,!1]}function rb(n){var i=pn();return ob(i,Wt,n)}function ob(n,i,o){if(i=Yf(n,i,ib)[0],n=Wu(Di)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=El(i)}catch(C){throw C===no?ju:C}else c=i;i=pn();var f=i.queue,m=f.dispatch;return o!==i.memoizedState&&(ft.flags|=2048,oo(9,{destroy:void 0},fA.bind(null,f,o),null)),[c,m,n]}function fA(n,i){n.action=i}function lb(n){var i=pn(),o=Wt;if(o!==null)return ob(i,o,n);pn(),i=i.memoizedState,o=pn();var c=o.queue.dispatch;return o.memoizedState=n,[i,c,!1]}function oo(n,i,o,c){return n={tag:n,create:o,deps:c,inst:i,next:null},i=ft.updateQueue,i===null&&(i=_u(),ft.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=n.next=n:(c=o.next,o.next=n,n.next=c,i.lastEffect=n),n}function cb(){return pn().memoizedState}function Nu(n,i,o,c){var f=Qn();ft.flags|=n,f.memoizedState=oo(1|i,{destroy:void 0},o,c===void 0?null:c)}function Lu(n,i,o,c){var f=pn();c=c===void 0?null:c;var m=f.memoizedState.inst;Wt!==null&&c!==null&&Bf(c,Wt.memoizedState.deps)?f.memoizedState=oo(i,m,o,c):(ft.flags|=n,f.memoizedState=oo(1|i,m,o,c))}function ub(n,i){Nu(8390656,8,n,i)}function Qf(n,i){Lu(2048,8,n,i)}function pA(n){ft.flags|=4;var i=ft.updateQueue;if(i===null)i=_u(),ft.updateQueue=i,i.events=[n];else{var o=i.events;o===null?i.events=[n]:o.push(n)}}function db(n){var i=pn().memoizedState;return pA({ref:i,nextImpl:n}),function(){if((Mt&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function hb(n,i){return Lu(4,2,n,i)}function fb(n,i){return Lu(4,4,n,i)}function pb(n,i){if(typeof i=="function"){n=n();var o=i(n);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function mb(n,i,o){o=o!=null?o.concat([n]):null,Lu(4,4,pb.bind(null,i,n),o)}function Xf(){}function gb(n,i){var o=pn();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&Bf(i,c[1])?c[0]:(o.memoizedState=[n,i],n)}function yb(n,i){var o=pn();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&Bf(i,c[1]))return c[0];if(c=n(),tr){ht(!0);try{n()}finally{ht(!1)}}return o.memoizedState=[c,i],c}function Zf(n,i,o){return o===void 0||(ji&1073741824)!==0&&(St&261930)===0?n.memoizedState=i:(n.memoizedState=o,n=xv(),ft.lanes|=n,da|=n,o)}function xb(n,i,o,c){return fs(o,i)?o:io.current!==null?(n=Zf(n,o,c),fs(n,i)||(kn=!0),n):(ji&42)===0||(ji&1073741824)!==0&&(St&261930)===0?(kn=!0,n.memoizedState=o):(n=xv(),ft.lanes|=n,da|=n,i)}function bb(n,i,o,c,f){var m=Y.p;Y.p=m!==0&&8>m?m:8;var C=F.T,A={};F.T=A,tp(n,!1,i,o);try{var H=f(),se=F.S;if(se!==null&&se(A,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var Se=cA(H,c);Ml(n,i,Se,bs(n))}else Ml(n,i,c,bs(n))}catch(De){Ml(n,i,{then:function(){},status:"rejected",reason:De},bs())}finally{Y.p=m,C!==null&&A.types!==null&&(C.types=A.types),F.T=C}}function mA(){}function Jf(n,i,o,c){if(n.tag!==5)throw Error(a(476));var f=vb(n).queue;bb(n,f,i,ge,o===null?mA:function(){return Sb(n),o(c)})}function vb(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:ge},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:o},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Sb(n){var i=vb(n);i.next===null&&(i=n.alternate.memoizedState),Ml(n,i.next.queue,{},bs())}function ep(){return zn(Yl)}function wb(){return pn().memoizedState}function Cb(){return pn().memoizedState}function gA(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var o=bs();n=aa(o);var c=ra(i,n,o);c!==null&&(os(c,i,o),Tl(c,i,o)),i={cache:Mf()},n.payload=i;return}i=i.return}}function yA(n,i,o){var c=bs();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},zu(n)?kb(i,o):(o=xf(n,i,o,c),o!==null&&(os(o,n,c),jb(o,i,c)))}function Tb(n,i,o){var c=bs();Ml(n,i,o,c)}function Ml(n,i,o,c){var f={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(zu(n))kb(i,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var C=i.lastRenderedState,A=m(C,o);if(f.hasEagerState=!0,f.eagerState=A,fs(A,C))return bu(n,i,f,0),zt===null&&xu(),!1}catch{}finally{}if(o=xf(n,i,f,c),o!==null)return os(o,n,c),jb(o,i,c),!0}return!1}function tp(n,i,o,c){if(c={lane:2,revertLane:Rp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},zu(n)){if(i)throw Error(a(479))}else i=xf(n,o,c,2),i!==null&&os(i,n,2)}function zu(n){var i=n.alternate;return n===ft||i!==null&&i===ft}function kb(n,i){ao=Ou=!0;var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}function jb(n,i,o){if((o&4194048)!==0){var c=i.lanes;c&=n.pendingLanes,o|=c,i.lanes=o,ru(n,o)}}var Al={readContext:zn,use:Iu,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useLayoutEffect:rn,useInsertionEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useSyncExternalStore:rn,useId:rn,useHostTransitionStatus:rn,useFormState:rn,useActionState:rn,useOptimistic:rn,useMemoCache:rn,useCacheRefresh:rn};Al.useEffectEvent=rn;var Db={readContext:zn,use:Iu,useCallback:function(n,i){return Qn().memoizedState=[n,i===void 0?null:i],n},useContext:zn,useEffect:ub,useImperativeHandle:function(n,i,o){o=o!=null?o.concat([n]):null,Nu(4194308,4,pb.bind(null,i,n),o)},useLayoutEffect:function(n,i){return Nu(4194308,4,n,i)},useInsertionEffect:function(n,i){Nu(4,2,n,i)},useMemo:function(n,i){var o=Qn();i=i===void 0?null:i;var c=n();if(tr){ht(!0);try{n()}finally{ht(!1)}}return o.memoizedState=[c,i],c},useReducer:function(n,i,o){var c=Qn();if(o!==void 0){var f=o(i);if(tr){ht(!0);try{o(i)}finally{ht(!1)}}}else f=i;return c.memoizedState=c.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},c.queue=n,n=n.dispatch=yA.bind(null,ft,n),[c.memoizedState,n]},useRef:function(n){var i=Qn();return n={current:n},i.memoizedState=n},useState:function(n){n=$f(n);var i=n.queue,o=Tb.bind(null,ft,i);return i.dispatch=o,[n.memoizedState,o]},useDebugValue:Xf,useDeferredValue:function(n,i){var o=Qn();return Zf(o,n,i)},useTransition:function(){var n=$f(!1);return n=bb.bind(null,ft,n.queue,!0,!1),Qn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,o){var c=ft,f=Qn();if(Ct){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),zt===null)throw Error(a(349));(St&127)!==0||$0(c,i,o)}f.memoizedState=o;var m={value:o,getSnapshot:i};return f.queue=m,ub(Q0.bind(null,c,m,n),[n]),c.flags|=2048,oo(9,{destroy:void 0},K0.bind(null,c,m,o,i),null),o},useId:function(){var n=Qn(),i=zt.identifierPrefix;if(Ct){var o=ai,c=ii;o=(c&~(1<<32-kt(c)-1)).toString(32)+o,i="_"+i+"R_"+o,o=Ru++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=uA++,i="_"+i+"r_"+o.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:ep,useFormState:ab,useActionState:ab,useOptimistic:function(n){var i=Qn();i.memoizedState=i.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=tp.bind(null,ft,!0,o),o.dispatch=i,[n,i]},useMemoCache:qf,useCacheRefresh:function(){return Qn().memoizedState=gA.bind(null,ft)},useEffectEvent:function(n){var i=Qn(),o={impl:n};return i.memoizedState=o,function(){if((Mt&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},np={readContext:zn,use:Iu,useCallback:gb,useContext:zn,useEffect:Qf,useImperativeHandle:mb,useInsertionEffect:hb,useLayoutEffect:fb,useMemo:yb,useReducer:Wu,useRef:cb,useState:function(){return Wu(Di)},useDebugValue:Xf,useDeferredValue:function(n,i){var o=pn();return xb(o,Wt.memoizedState,n,i)},useTransition:function(){var n=Wu(Di)[0],i=pn().memoizedState;return[typeof n=="boolean"?n:El(n),i]},useSyncExternalStore:G0,useId:wb,useHostTransitionStatus:ep,useFormState:rb,useActionState:rb,useOptimistic:function(n,i){var o=pn();return J0(o,Wt,n,i)},useMemoCache:qf,useCacheRefresh:Cb};np.useEffectEvent=db;var Eb={readContext:zn,use:Iu,useCallback:gb,useContext:zn,useEffect:Qf,useImperativeHandle:mb,useInsertionEffect:hb,useLayoutEffect:fb,useMemo:yb,useReducer:Gf,useRef:cb,useState:function(){return Gf(Di)},useDebugValue:Xf,useDeferredValue:function(n,i){var o=pn();return Wt===null?Zf(o,n,i):xb(o,Wt.memoizedState,n,i)},useTransition:function(){var n=Gf(Di)[0],i=pn().memoizedState;return[typeof n=="boolean"?n:El(n),i]},useSyncExternalStore:G0,useId:wb,useHostTransitionStatus:ep,useFormState:lb,useActionState:lb,useOptimistic:function(n,i){var o=pn();return Wt!==null?J0(o,Wt,n,i):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:qf,useCacheRefresh:Cb};Eb.useEffectEvent=db;function sp(n,i,o,c){i=n.memoizedState,o=o(c,i),o=o==null?i:b({},i,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var ip={enqueueSetState:function(n,i,o){n=n._reactInternals;var c=bs(),f=aa(c);f.payload=i,o!=null&&(f.callback=o),i=ra(n,f,c),i!==null&&(os(i,n,c),Tl(i,n,c))},enqueueReplaceState:function(n,i,o){n=n._reactInternals;var c=bs(),f=aa(c);f.tag=1,f.payload=i,o!=null&&(f.callback=o),i=ra(n,f,c),i!==null&&(os(i,n,c),Tl(i,n,c))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var o=bs(),c=aa(o);c.tag=2,i!=null&&(c.callback=i),i=ra(n,c,o),i!==null&&(os(i,n,o),Tl(i,n,o))}};function Mb(n,i,o,c,f,m,C){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,C):i.prototype&&i.prototype.isPureReactComponent?!gl(o,c)||!gl(f,m):!0}function Ab(n,i,o,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==n&&ip.enqueueReplaceState(i,i.state,null)}function nr(n,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(n=n.defaultProps){o===i&&(o=b({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}function Pb(n){yu(n)}function Ob(n){console.error(n)}function Rb(n){yu(n)}function Bu(n,i){try{var o=n.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function _b(n,i,o){try{var c=n.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function ap(n,i,o){return o=aa(o),o.tag=3,o.payload={element:null},o.callback=function(){Bu(n,i)},o}function Ib(n){return n=aa(n),n.tag=3,n}function Wb(n,i,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=c.value;n.payload=function(){return f(m)},n.callback=function(){_b(i,o,c)}}var C=o.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(n.callback=function(){_b(i,o,c),typeof f!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function xA(n,i,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&Jr(i,o,f,!0),o=ms.current,o!==null){switch(o.tag){case 31:case 13:return Os===null?Zu():o.alternate===null&&on===0&&(on=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===Du?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),Ap(n,c,f)),!1;case 22:return o.flags|=65536,c===Du?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),Ap(n,c,f)),!1}throw Error(a(435,o.tag))}return Ap(n,c,f),Zu(),!1}if(Ct)return i=ms.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,c!==Tf&&(n=Error(a(422),{cause:c}),bl(Es(n,o)))):(c!==Tf&&(i=Error(a(423),{cause:c}),bl(Es(i,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,c=Es(c,o),f=ap(n.stateNode,c,f),If(n,f),on!==4&&(on=2)),!1;var m=Error(a(520),{cause:c});if(m=Es(m,o),Ll===null?Ll=[m]:Ll.push(m),on!==4&&(on=2),i===null)return!0;c=Es(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=ap(o.stateNode,c,n),If(o,n),!1;case 1:if(i=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ha===null||!ha.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Ib(f),Wb(f,n,o,c),If(o,f),!1}o=o.return}while(o!==null);return!1}var rp=Error(a(461)),kn=!1;function Bn(n,i,o,c){i.child=n===null?B0(i,null,o,c):er(i,n.child,o,c)}function Nb(n,i,o,c,f){o=o.render;var m=i.ref;if("ref"in c){var C={};for(var A in c)A!=="ref"&&(C[A]=c[A])}else C=c;return Qa(i),c=Vf(n,i,o,C,m,f),A=Ff(),n!==null&&!kn?(Hf(n,i,f),Ei(n,i,f)):(Ct&&A&&wf(i),i.flags|=1,Bn(n,i,c,f),i.child)}function Lb(n,i,o,c,f){if(n===null){var m=o.type;return typeof m=="function"&&!bf(m)&&m.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=m,zb(n,i,m,c,f)):(n=Su(o.type,null,c,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!pp(n,f)){var C=m.memoizedProps;if(o=o.compare,o=o!==null?o:gl,o(C,c)&&n.ref===i.ref)return Ei(n,i,f)}return i.flags|=1,n=wi(m,c),n.ref=i.ref,n.return=i,i.child=n}function zb(n,i,o,c,f){if(n!==null){var m=n.memoizedProps;if(gl(m,c)&&n.ref===i.ref)if(kn=!1,i.pendingProps=c=m,pp(n,f))(n.flags&131072)!==0&&(kn=!0);else return i.lanes=n.lanes,Ei(n,i,f)}return op(n,i,o,c,f)}function Bb(n,i,o,c){var f=c.children,m=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,n!==null){for(c=i.child=n.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~m}else c=0,i.child=null;return Vb(n,i,m,o,c)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&ku(i,m!==null?m.cachePool:null),m!==null?H0(i,m):Nf(),U0(i);else return c=i.lanes=536870912,Vb(n,i,m!==null?m.baseLanes|o:o,o,c)}else m!==null?(ku(i,m.cachePool),H0(i,m),la(),i.memoizedState=null):(n!==null&&ku(i,null),Nf(),la());return Bn(n,i,f,o),i.child}function Pl(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Vb(n,i,o,c,f){var m=Pf();return m=m===null?null:{parent:Cn._currentValue,pool:m},i.memoizedState={baseLanes:o,cachePool:m},n!==null&&ku(i,null),Nf(),U0(i),n!==null&&Jr(n,i,c,!0),i.childLanes=f,null}function Vu(n,i){return i=Hu({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function Fb(n,i,o){return er(i,n.child,null,o),n=Vu(i,i.pendingProps),n.flags|=2,gs(i),i.memoizedState=null,n}function bA(n,i,o){var c=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(Ct){if(c.mode==="hidden")return n=Vu(i,c),i.lanes=536870912,Pl(null,n);if(zf(i),(n=Yt)?(n=eS(n,Ps),n=n!==null&&n.data==="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:ea!==null?{id:ii,overflow:ai}:null,retryLane:536870912,hydrationErrors:null},o=k0(n),o.return=i,i.child=o,Ln=i,Yt=null)):n=null,n===null)throw na(i);return i.lanes=536870912,null}return Vu(i,c)}var m=n.memoizedState;if(m!==null){var C=m.dehydrated;if(zf(i),f)if(i.flags&256)i.flags&=-257,i=Fb(n,i,o);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(a(558));else if(kn||Jr(n,i,o,!1),f=(o&n.childLanes)!==0,kn||f){if(c=zt,c!==null&&(C=Wr(c,o),C!==0&&C!==m.retryLane))throw m.retryLane=C,Ya(n,C),os(c,n,C),rp;Zu(),i=Fb(n,i,o)}else n=m.treeContext,Yt=Rs(C.nextSibling),Ln=i,Ct=!0,ta=null,Ps=!1,n!==null&&E0(i,n),i=Vu(i,c),i.flags|=4096;return i}return n=wi(n.child,{mode:c.mode,children:c.children}),n.ref=i.ref,i.child=n,n.return=i,n}function Fu(n,i){var o=i.ref;if(o===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(n===null||n.ref!==o)&&(i.flags|=4194816)}}function op(n,i,o,c,f){return Qa(i),o=Vf(n,i,o,c,void 0,f),c=Ff(),n!==null&&!kn?(Hf(n,i,f),Ei(n,i,f)):(Ct&&c&&wf(i),i.flags|=1,Bn(n,i,o,f),i.child)}function Hb(n,i,o,c,f,m){return Qa(i),i.updateQueue=null,o=Y0(i,c,o,f),q0(n),c=Ff(),n!==null&&!kn?(Hf(n,i,m),Ei(n,i,m)):(Ct&&c&&wf(i),i.flags|=1,Bn(n,i,o,m),i.child)}function Ub(n,i,o,c,f){if(Qa(i),i.stateNode===null){var m=Kr,C=o.contextType;typeof C=="object"&&C!==null&&(m=zn(C)),m=new o(c,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=ip,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=c,m.state=i.memoizedState,m.refs={},Rf(i),C=o.contextType,m.context=typeof C=="object"&&C!==null?zn(C):Kr,m.state=i.memoizedState,C=o.getDerivedStateFromProps,typeof C=="function"&&(sp(i,o,C,c),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(C=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),C!==m.state&&ip.enqueueReplaceState(m,m.state,null),jl(i,c,m,f),kl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(n===null){m=i.stateNode;var A=i.memoizedProps,H=nr(o,A);m.props=H;var se=m.context,Se=o.contextType;C=Kr,typeof Se=="object"&&Se!==null&&(C=zn(Se));var De=o.getDerivedStateFromProps;Se=typeof De=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,Se||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||se!==C)&&Ab(i,m,c,C),ia=!1;var oe=i.memoizedState;m.state=oe,jl(i,c,m,f),kl(),se=i.memoizedState,A||oe!==se||ia?(typeof De=="function"&&(sp(i,o,De,c),se=i.memoizedState),(H=ia||Mb(i,o,H,c,oe,se,C))?(Se||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=se),m.props=c,m.state=se,m.context=C,c=H):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{m=i.stateNode,_f(n,i),C=i.memoizedProps,Se=nr(o,C),m.props=Se,De=i.pendingProps,oe=m.context,se=o.contextType,H=Kr,typeof se=="object"&&se!==null&&(H=zn(se)),A=o.getDerivedStateFromProps,(se=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(C!==De||oe!==H)&&Ab(i,m,c,H),ia=!1,oe=i.memoizedState,m.state=oe,jl(i,c,m,f),kl();var de=i.memoizedState;C!==De||oe!==de||ia||n!==null&&n.dependencies!==null&&Cu(n.dependencies)?(typeof A=="function"&&(sp(i,o,A,c),de=i.memoizedState),(Se=ia||Mb(i,o,Se,c,oe,de,H)||n!==null&&n.dependencies!==null&&Cu(n.dependencies))?(se||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,de,H),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,de,H)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||C===n.memoizedProps&&oe===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&oe===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=de),m.props=c,m.state=de,m.context=H,c=Se):(typeof m.componentDidUpdate!="function"||C===n.memoizedProps&&oe===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&oe===n.memoizedState||(i.flags|=1024),c=!1)}return m=c,Fu(n,i),c=(i.flags&128)!==0,m||c?(m=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&c?(i.child=er(i,n.child,null,f),i.child=er(i,null,o,f)):Bn(n,i,o,f),i.memoizedState=m.state,n=i.child):n=Ei(n,i,f),n}function qb(n,i,o,c){return $a(),i.flags|=256,Bn(n,i,o,c),i.child}var lp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cp(n){return{baseLanes:n,cachePool:_0()}}function up(n,i,o){return n=n!==null?n.childLanes&~o:0,i&&(n|=xs),n}function Yb(n,i,o){var c=i.pendingProps,f=!1,m=(i.flags&128)!==0,C;if((C=m)||(C=n!==null&&n.memoizedState===null?!1:(fn.current&2)!==0),C&&(f=!0,i.flags&=-129),C=(i.flags&32)!==0,i.flags&=-33,n===null){if(Ct){if(f?oa(i):la(),(n=Yt)?(n=eS(n,Ps),n=n!==null&&n.data!=="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:ea!==null?{id:ii,overflow:ai}:null,retryLane:536870912,hydrationErrors:null},o=k0(n),o.return=i,i.child=o,Ln=i,Yt=null)):n=null,n===null)throw na(i);return Yp(n)?i.lanes=32:i.lanes=536870912,null}var A=c.children;return c=c.fallback,f?(la(),f=i.mode,A=Hu({mode:"hidden",children:A},f),c=Ga(c,f,o,null),A.return=i,c.return=i,A.sibling=c,i.child=A,c=i.child,c.memoizedState=cp(o),c.childLanes=up(n,C,o),i.memoizedState=lp,Pl(null,c)):(oa(i),dp(i,A))}var H=n.memoizedState;if(H!==null&&(A=H.dehydrated,A!==null)){if(m)i.flags&256?(oa(i),i.flags&=-257,i=hp(n,i,o)):i.memoizedState!==null?(la(),i.child=n.child,i.flags|=128,i=null):(la(),A=c.fallback,f=i.mode,c=Hu({mode:"visible",children:c.children},f),A=Ga(A,f,o,null),A.flags|=2,c.return=i,A.return=i,c.sibling=A,i.child=c,er(i,n.child,null,o),c=i.child,c.memoizedState=cp(o),c.childLanes=up(n,C,o),i.memoizedState=lp,i=Pl(null,c));else if(oa(i),Yp(A)){if(C=A.nextSibling&&A.nextSibling.dataset,C)var se=C.dgst;C=se,c=Error(a(419)),c.stack="",c.digest=C,bl({value:c,source:null,stack:null}),i=hp(n,i,o)}else if(kn||Jr(n,i,o,!1),C=(o&n.childLanes)!==0,kn||C){if(C=zt,C!==null&&(c=Wr(C,o),c!==0&&c!==H.retryLane))throw H.retryLane=c,Ya(n,c),os(C,n,c),rp;qp(A)||Zu(),i=hp(n,i,o)}else qp(A)?(i.flags|=192,i.child=n.child,i=null):(n=H.treeContext,Yt=Rs(A.nextSibling),Ln=i,Ct=!0,ta=null,Ps=!1,n!==null&&E0(i,n),i=dp(i,c.children),i.flags|=4096);return i}return f?(la(),A=c.fallback,f=i.mode,H=n.child,se=H.sibling,c=wi(H,{mode:"hidden",children:c.children}),c.subtreeFlags=H.subtreeFlags&65011712,se!==null?A=wi(se,A):(A=Ga(A,f,o,null),A.flags|=2),A.return=i,c.return=i,c.sibling=A,i.child=c,Pl(null,c),c=i.child,A=n.child.memoizedState,A===null?A=cp(o):(f=A.cachePool,f!==null?(H=Cn._currentValue,f=f.parent!==H?{parent:H,pool:H}:f):f=_0(),A={baseLanes:A.baseLanes|o,cachePool:f}),c.memoizedState=A,c.childLanes=up(n,C,o),i.memoizedState=lp,Pl(n.child,c)):(oa(i),o=n.child,n=o.sibling,o=wi(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,n!==null&&(C=i.deletions,C===null?(i.deletions=[n],i.flags|=16):C.push(n)),i.child=o,i.memoizedState=null,o)}function dp(n,i){return i=Hu({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Hu(n,i){return n=ps(22,n,null,i),n.lanes=0,n}function hp(n,i,o){return er(i,n.child,null,o),n=dp(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Gb(n,i,o){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),Df(n.return,i,o)}function fp(n,i,o,c,f,m){var C=n.memoizedState;C===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f,treeForkCount:m}:(C.isBackwards=i,C.rendering=null,C.renderingStartTime=0,C.last=c,C.tail=o,C.tailMode=f,C.treeForkCount=m)}function $b(n,i,o){var c=i.pendingProps,f=c.revealOrder,m=c.tail;c=c.children;var C=fn.current,A=(C&2)!==0;if(A?(C=C&1|2,i.flags|=128):C&=1,Z(fn,C),Bn(n,i,c,o),c=Ct?xl:0,!A&&n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Gb(n,o,i);else if(n.tag===19)Gb(n,o,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(o=i.child,f=null;o!==null;)n=o.alternate,n!==null&&Pu(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=i.child,i.child=null):(f=o.sibling,o.sibling=null),fp(i,!1,f,o,m,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Pu(n)===null){i.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}fp(i,!0,o,null,m,c);break;case"together":fp(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function Ei(n,i,o){if(n!==null&&(i.dependencies=n.dependencies),da|=i.lanes,(o&i.childLanes)===0)if(n!==null){if(Jr(n,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,o=wi(n,n.pendingProps),i.child=o,o.return=i;n.sibling!==null;)n=n.sibling,o=o.sibling=wi(n,n.pendingProps),o.return=i;o.sibling=null}return i.child}function pp(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Cu(n)))}function vA(n,i,o){switch(i.tag){case 3:G(i,i.stateNode.containerInfo),sa(i,Cn,n.memoizedState.cache),$a();break;case 27:case 5:$(i);break;case 4:G(i,i.stateNode.containerInfo);break;case 10:sa(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,zf(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(oa(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Yb(n,i,o):(oa(i),n=Ei(n,i,o),n!==null?n.sibling:null);oa(i);break;case 19:var f=(n.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(Jr(n,i,o,!1),c=(o&i.childLanes)!==0),f){if(c)return $b(n,i,o);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Z(fn,fn.current),c)break;return null;case 22:return i.lanes=0,Bb(n,i,o,i.pendingProps);case 24:sa(i,Cn,n.memoizedState.cache)}return Ei(n,i,o)}function Kb(n,i,o){if(n!==null)if(n.memoizedProps!==i.pendingProps)kn=!0;else{if(!pp(n,o)&&(i.flags&128)===0)return kn=!1,vA(n,i,o);kn=(n.flags&131072)!==0}else kn=!1,Ct&&(i.flags&1048576)!==0&&D0(i,xl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var c=i.pendingProps;if(n=Za(i.elementType),i.type=n,typeof n=="function")bf(n)?(c=nr(n,c),i.tag=1,i=Ub(null,i,n,c,o)):(i.tag=0,i=op(null,i,n,c,o));else{if(n!=null){var f=n.$$typeof;if(f===W){i.tag=11,i=Nb(null,i,n,c,o);break e}else if(f===_){i.tag=14,i=Lb(null,i,n,c,o);break e}}throw i=U(n)||n,Error(a(306,i,""))}}return i;case 0:return op(n,i,i.type,i.pendingProps,o);case 1:return c=i.type,f=nr(c,i.pendingProps),Ub(n,i,c,f,o);case 3:e:{if(G(i,i.stateNode.containerInfo),n===null)throw Error(a(387));c=i.pendingProps;var m=i.memoizedState;f=m.element,_f(n,i),jl(i,c,null,o);var C=i.memoizedState;if(c=C.cache,sa(i,Cn,c),c!==m.cache&&Ef(i,[Cn],o,!0),kl(),c=C.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:C.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=qb(n,i,c,o);break e}else if(c!==f){f=Es(Error(a(424)),i),bl(f),i=qb(n,i,c,o);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Yt=Rs(n.firstChild),Ln=i,Ct=!0,ta=null,Ps=!0,o=B0(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if($a(),c===f){i=Ei(n,i,o);break e}Bn(n,i,c,o)}i=i.child}return i;case 26:return Fu(n,i),n===null?(o=rS(i.type,null,i.pendingProps,null))?i.memoizedState=o:Ct||(o=i.type,n=i.pendingProps,c=ad(be.current).createElement(o),c[yt]=i,c[tn]=n,Vn(c,o,n),In(c),i.stateNode=c):i.memoizedState=rS(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return $(i),n===null&&Ct&&(c=i.stateNode=sS(i.type,i.pendingProps,be.current),Ln=i,Ps=!0,f=Yt,ga(i.type)?(Gp=f,Yt=Rs(c.firstChild)):Yt=f),Bn(n,i,i.pendingProps.children,o),Fu(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Ct&&((f=c=Yt)&&(c=QA(c,i.type,i.pendingProps,Ps),c!==null?(i.stateNode=c,Ln=i,Yt=Rs(c.firstChild),Ps=!1,f=!0):f=!1),f||na(i)),$(i),f=i.type,m=i.pendingProps,C=n!==null?n.memoizedProps:null,c=m.children,Fp(f,m)?c=null:C!==null&&Fp(f,C)&&(i.flags|=32),i.memoizedState!==null&&(f=Vf(n,i,dA,null,null,o),Yl._currentValue=f),Fu(n,i),Bn(n,i,c,o),i.child;case 6:return n===null&&Ct&&((n=o=Yt)&&(o=XA(o,i.pendingProps,Ps),o!==null?(i.stateNode=o,Ln=i,Yt=null,n=!0):n=!1),n||na(i)),null;case 13:return Yb(n,i,o);case 4:return G(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=er(i,null,c,o):Bn(n,i,c,o),i.child;case 11:return Nb(n,i,i.type,i.pendingProps,o);case 7:return Bn(n,i,i.pendingProps,o),i.child;case 8:return Bn(n,i,i.pendingProps.children,o),i.child;case 12:return Bn(n,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,sa(i,i.type,c.value),Bn(n,i,c.children,o),i.child;case 9:return f=i.type._context,c=i.pendingProps.children,Qa(i),f=zn(f),c=c(f),i.flags|=1,Bn(n,i,c,o),i.child;case 14:return Lb(n,i,i.type,i.pendingProps,o);case 15:return zb(n,i,i.type,i.pendingProps,o);case 19:return $b(n,i,o);case 31:return bA(n,i,o);case 22:return Bb(n,i,o,i.pendingProps);case 24:return Qa(i),c=zn(Cn),n===null?(f=Pf(),f===null&&(f=zt,m=Mf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),i.memoizedState={parent:c,cache:f},Rf(i),sa(i,Cn,f)):((n.lanes&o)!==0&&(_f(n,i),jl(i,null,null,o),kl()),f=n.memoizedState,m=i.memoizedState,f.parent!==c?(f={parent:c,cache:c},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),sa(i,Cn,c)):(c=m.cache,sa(i,Cn,c),c!==f.cache&&Ef(i,[Cn],o,!0))),Bn(n,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Mi(n){n.flags|=4}function mp(n,i,o,c,f){if((i=(n.mode&32)!==0)&&(i=!1),i){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(wv())n.flags|=8192;else throw Ja=Du,Of}else n.flags&=-16777217}function Qb(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!dS(i))if(wv())n.flags|=8192;else throw Ja=Du,Of}function Uu(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?en():536870912,n.lanes|=i,ho|=i)}function Ol(n,i){if(!Ct)switch(n.tailMode){case"hidden":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Gt(n){var i=n.alternate!==null&&n.alternate.child===n.child,o=0,c=0;if(i)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=o,i}function SA(n,i,o){var c=i.pendingProps;switch(Cf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(i),null;case 1:return Gt(i),null;case 3:return o=i.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),ki(Cn),le(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Zr(i)?Mi(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,kf())),Gt(i),null;case 26:var f=i.type,m=i.memoizedState;return n===null?(Mi(i),m!==null?(Gt(i),Qb(i,m)):(Gt(i),mp(i,f,null,c,o))):m?m!==n.memoizedState?(Mi(i),Gt(i),Qb(i,m)):(Gt(i),i.flags&=-16777217):(n=n.memoizedProps,n!==c&&Mi(i),Gt(i),mp(i,f,n,c,o)),null;case 27:if(he(i),o=be.current,f=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==c&&Mi(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Gt(i),null}n=ce.current,Zr(i)?M0(i):(n=sS(f,c,o),i.stateNode=n,Mi(i))}return Gt(i),null;case 5:if(he(i),f=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==c&&Mi(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Gt(i),null}if(m=ce.current,Zr(i))M0(i);else{var C=ad(be.current);switch(m){case 1:m=C.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=C.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=C.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=C.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=C.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?C.createElement("select",{is:c.is}):C.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?C.createElement(f,{is:c.is}):C.createElement(f)}}m[yt]=i,m[tn]=c;e:for(C=i.child;C!==null;){if(C.tag===5||C.tag===6)m.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===i)break e;for(;C.sibling===null;){if(C.return===null||C.return===i)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}i.stateNode=m;e:switch(Vn(m,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Mi(i)}}return Gt(i),mp(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,o),null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==c&&Mi(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(a(166));if(n=be.current,Zr(i)){if(n=i.stateNode,o=i.memoizedProps,c=null,f=Ln,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}n[yt]=i,n=!!(n.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Yv(n.nodeValue,o)),n||na(i,!0)}else n=ad(n).createTextNode(c),n[yt]=i,i.stateNode=n}return Gt(i),null;case 31:if(o=i.memoizedState,n===null||n.memoizedState!==null){if(c=Zr(i),o!==null){if(n===null){if(!c)throw Error(a(318));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(557));n[yt]=i}else $a(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Gt(i),n=!1}else o=kf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return i.flags&256?(gs(i),i):(gs(i),null);if((i.flags&128)!==0)throw Error(a(558))}return Gt(i),null;case 13:if(c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Zr(i),c!==null&&c.dehydrated!==null){if(n===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[yt]=i}else $a(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Gt(i),f=!1}else f=kf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(gs(i),i):(gs(i),null)}return gs(i),(i.flags&128)!==0?(i.lanes=o,i):(o=c!==null,n=n!==null&&n.memoizedState!==null,o&&(c=i.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==f&&(c.flags|=2048)),o!==n&&o&&(i.child.flags|=8192),Uu(i,i.updateQueue),Gt(i),null);case 4:return le(),n===null&&Np(i.stateNode.containerInfo),Gt(i),null;case 10:return ki(i.type),Gt(i),null;case 19:if(X(fn),c=i.memoizedState,c===null)return Gt(i),null;if(f=(i.flags&128)!==0,m=c.rendering,m===null)if(f)Ol(c,!1);else{if(on!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=Pu(n),m!==null){for(i.flags|=128,Ol(c,!1),n=m.updateQueue,i.updateQueue=n,Uu(i,n),i.subtreeFlags=0,n=o,o=i.child;o!==null;)T0(o,n),o=o.sibling;return Z(fn,fn.current&1|2),Ct&&Ci(i,c.treeForkCount),i.child}n=n.sibling}c.tail!==null&&ye()>Ku&&(i.flags|=128,f=!0,Ol(c,!1),i.lanes=4194304)}else{if(!f)if(n=Pu(m),n!==null){if(i.flags|=128,f=!0,n=n.updateQueue,i.updateQueue=n,Uu(i,n),Ol(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!Ct)return Gt(i),null}else 2*ye()-c.renderingStartTime>Ku&&o!==536870912&&(i.flags|=128,f=!0,Ol(c,!1),i.lanes=4194304);c.isBackwards?(m.sibling=i.child,i.child=m):(n=c.last,n!==null?n.sibling=m:i.child=m,c.last=m)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=ye(),n.sibling=null,o=fn.current,Z(fn,f?o&1|2:o&1),Ct&&Ci(i,c.treeForkCount),n):(Gt(i),null);case 22:case 23:return gs(i),Lf(),c=i.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(Gt(i),i.subtreeFlags&6&&(i.flags|=8192)):Gt(i),o=i.updateQueue,o!==null&&Uu(i,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),n!==null&&X(Xa),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),ki(Cn),Gt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function wA(n,i){switch(Cf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return ki(Cn),le(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return he(i),null;case 31:if(i.memoizedState!==null){if(gs(i),i.alternate===null)throw Error(a(340));$a()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if(gs(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));$a()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return X(fn),null;case 4:return le(),null;case 10:return ki(i.type),null;case 22:case 23:return gs(i),Lf(),n!==null&&X(Xa),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return ki(Cn),null;case 25:return null;default:return null}}function Xb(n,i){switch(Cf(i),i.tag){case 3:ki(Cn),le();break;case 26:case 27:case 5:he(i);break;case 4:le();break;case 31:i.memoizedState!==null&&gs(i);break;case 13:gs(i);break;case 19:X(fn);break;case 10:ki(i.type);break;case 22:case 23:gs(i),Lf(),n!==null&&X(Xa);break;case 24:ki(Cn)}}function Rl(n,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&n)===n){c=void 0;var m=o.create,C=o.inst;c=m(),C.destroy=c}o=o.next}while(o!==f)}}catch(A){Rt(i,i.return,A)}}function ca(n,i,o){try{var c=i.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var m=f.next;c=m;do{if((c.tag&n)===n){var C=c.inst,A=C.destroy;if(A!==void 0){C.destroy=void 0,f=i;var H=o,se=A;try{se()}catch(Se){Rt(f,H,Se)}}}c=c.next}while(c!==m)}}catch(Se){Rt(i,i.return,Se)}}function Zb(n){var i=n.updateQueue;if(i!==null){var o=n.stateNode;try{F0(i,o)}catch(c){Rt(n,n.return,c)}}}function Jb(n,i,o){o.props=nr(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(c){Rt(n,i,c)}}function _l(n,i){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof o=="function"?n.refCleanup=o(c):o.current=c}}catch(f){Rt(n,i,f)}}function ri(n,i){var o=n.ref,c=n.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){Rt(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Rt(n,i,f)}else o.current=null}function ev(n){var i=n.type,o=n.memoizedProps,c=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){Rt(n,n.return,f)}}function gp(n,i,o){try{var c=n.stateNode;UA(c,n.type,o,i),c[tn]=i}catch(f){Rt(n,n.return,f)}}function tv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ga(n.type)||n.tag===4}function yp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||tv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ga(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function xp(n,i,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(n),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=vi));else if(c!==4&&(c===27&&ga(n.type)&&(o=n.stateNode,i=null),n=n.child,n!==null))for(xp(n,i,o),n=n.sibling;n!==null;)xp(n,i,o),n=n.sibling}function qu(n,i,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?o.insertBefore(n,i):o.appendChild(n);else if(c!==4&&(c===27&&ga(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(qu(n,i,o),n=n.sibling;n!==null;)qu(n,i,o),n=n.sibling}function nv(n){var i=n.stateNode,o=n.memoizedProps;try{for(var c=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Vn(i,c,o),i[yt]=n,i[tn]=o}catch(m){Rt(n,n.return,m)}}var Ai=!1,jn=!1,bp=!1,sv=typeof WeakSet=="function"?WeakSet:Set,Wn=null;function CA(n,i){if(n=n.containerInfo,Bp=hd,n=m0(n),hf(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var C=0,A=-1,H=-1,se=0,Se=0,De=n,oe=null;t:for(;;){for(var de;De!==o||f!==0&&De.nodeType!==3||(A=C+f),De!==m||c!==0&&De.nodeType!==3||(H=C+c),De.nodeType===3&&(C+=De.nodeValue.length),(de=De.firstChild)!==null;)oe=De,De=de;for(;;){if(De===n)break t;if(oe===o&&++se===f&&(A=C),oe===m&&++Se===c&&(H=C),(de=De.nextSibling)!==null)break;De=oe,oe=De.parentNode}De=de}o=A===-1||H===-1?null:{start:A,end:H}}else o=null}o=o||{start:0,end:0}}else o=null;for(Vp={focusedElem:n,selectionRange:o},hd=!1,Wn=i;Wn!==null;)if(i=Wn,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Wn=n;else for(;Wn!==null;){switch(i=Wn,m=i.alternate,n=i.flags,i.tag){case 0:if((n&4)!==0&&(n=i.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)f=n[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,o=i,f=m.memoizedProps,m=m.memoizedState,c=o.stateNode;try{var Ve=nr(o.type,f);n=c.getSnapshotBeforeUpdate(Ve,m),c.__reactInternalSnapshotBeforeUpdate=n}catch(st){Rt(o,o.return,st)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,o=n.nodeType,o===9)Up(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Up(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,Wn=n;break}Wn=i.return}}function iv(n,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Oi(n,o),c&4&&Rl(5,o);break;case 1:if(Oi(n,o),c&4)if(n=o.stateNode,i===null)try{n.componentDidMount()}catch(C){Rt(o,o.return,C)}else{var f=nr(o.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(C){Rt(o,o.return,C)}}c&64&&Zb(o),c&512&&_l(o,o.return);break;case 3:if(Oi(n,o),c&64&&(n=o.updateQueue,n!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{F0(n,i)}catch(C){Rt(o,o.return,C)}}break;case 27:i===null&&c&4&&nv(o);case 26:case 5:Oi(n,o),i===null&&c&4&&ev(o),c&512&&_l(o,o.return);break;case 12:Oi(n,o);break;case 31:Oi(n,o),c&4&&ov(n,o);break;case 13:Oi(n,o),c&4&&lv(n,o),c&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=OA.bind(null,o),ZA(n,o))));break;case 22:if(c=o.memoizedState!==null||Ai,!c){i=i!==null&&i.memoizedState!==null||jn,f=Ai;var m=jn;Ai=c,(jn=i)&&!m?Ri(n,o,(o.subtreeFlags&8772)!==0):Oi(n,o),Ai=f,jn=m}break;case 30:break;default:Oi(n,o)}}function av(n){var i=n.alternate;i!==null&&(n.alternate=null,av(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&$h(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Xt=null,ss=!1;function Pi(n,i,o){for(o=o.child;o!==null;)rv(n,i,o),o=o.sibling}function rv(n,i,o){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(pt,o)}catch{}switch(o.tag){case 26:jn||ri(o,i),Pi(n,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:jn||ri(o,i);var c=Xt,f=ss;ga(o.type)&&(Xt=o.stateNode,ss=!1),Pi(n,i,o),Hl(o.stateNode),Xt=c,ss=f;break;case 5:jn||ri(o,i);case 6:if(c=Xt,f=ss,Xt=null,Pi(n,i,o),Xt=c,ss=f,Xt!==null)if(ss)try{(Xt.nodeType===9?Xt.body:Xt.nodeName==="HTML"?Xt.ownerDocument.body:Xt).removeChild(o.stateNode)}catch(m){Rt(o,i,m)}else try{Xt.removeChild(o.stateNode)}catch(m){Rt(o,i,m)}break;case 18:Xt!==null&&(ss?(n=Xt,Zv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),vo(n)):Zv(Xt,o.stateNode));break;case 4:c=Xt,f=ss,Xt=o.stateNode.containerInfo,ss=!0,Pi(n,i,o),Xt=c,ss=f;break;case 0:case 11:case 14:case 15:ca(2,o,i),jn||ca(4,o,i),Pi(n,i,o);break;case 1:jn||(ri(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Jb(o,i,c)),Pi(n,i,o);break;case 21:Pi(n,i,o);break;case 22:jn=(c=jn)||o.memoizedState!==null,Pi(n,i,o),jn=c;break;default:Pi(n,i,o)}}function ov(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{vo(n)}catch(o){Rt(i,i.return,o)}}}function lv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{vo(n)}catch(o){Rt(i,i.return,o)}}function TA(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new sv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new sv),i;default:throw Error(a(435,n.tag))}}function Yu(n,i){var o=TA(n);i.forEach(function(c){if(!o.has(c)){o.add(c);var f=RA.bind(null,n,c);c.then(f,f)}})}function is(n,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],m=n,C=i,A=C;e:for(;A!==null;){switch(A.tag){case 27:if(ga(A.type)){Xt=A.stateNode,ss=!1;break e}break;case 5:Xt=A.stateNode,ss=!1;break e;case 3:case 4:Xt=A.stateNode.containerInfo,ss=!0;break e}A=A.return}if(Xt===null)throw Error(a(160));rv(m,C,f),Xt=null,ss=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)cv(i,n),i=i.sibling}var Ys=null;function cv(n,i){var o=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:is(i,n),as(n),c&4&&(ca(3,n,n.return),Rl(3,n),ca(5,n,n.return));break;case 1:is(i,n),as(n),c&512&&(jn||o===null||ri(o,o.return)),c&64&&Ai&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=Ys;if(is(i,n),as(n),c&512&&(jn||o===null||ri(o,o.return)),c&4){var m=o!==null?o.memoizedState:null;if(c=n.memoizedState,o===null)if(c===null)if(n.stateNode===null){e:{c=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":m=f.getElementsByTagName("title")[0],(!m||m[ol]||m[yt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(c),f.head.insertBefore(m,f.querySelector("head > title"))),Vn(m,c,o),m[yt]=n,In(m),c=m;break e;case"link":var C=cS("link","href",f).get(c+(o.href||""));if(C){for(var A=0;A<C.length;A++)if(m=C[A],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){C.splice(A,1);break t}}m=f.createElement(c),Vn(m,c,o),f.head.appendChild(m);break;case"meta":if(C=cS("meta","content",f).get(c+(o.content||""))){for(A=0;A<C.length;A++)if(m=C[A],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){C.splice(A,1);break t}}m=f.createElement(c),Vn(m,c,o),f.head.appendChild(m);break;default:throw Error(a(468,c))}m[yt]=n,In(m),c=m}n.stateNode=c}else uS(f,n.type,n.stateNode);else n.stateNode=lS(f,c,n.memoizedProps);else m!==c?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,c===null?uS(f,n.type,n.stateNode):lS(f,c,n.memoizedProps)):c===null&&n.stateNode!==null&&gp(n,n.memoizedProps,o.memoizedProps)}break;case 27:is(i,n),as(n),c&512&&(jn||o===null||ri(o,o.return)),o!==null&&c&4&&gp(n,n.memoizedProps,o.memoizedProps);break;case 5:if(is(i,n),as(n),c&512&&(jn||o===null||ri(o,o.return)),n.flags&32){f=n.stateNode;try{Fr(f,"")}catch(Ve){Rt(n,n.return,Ve)}}c&4&&n.stateNode!=null&&(f=n.memoizedProps,gp(n,f,o!==null?o.memoizedProps:f)),c&1024&&(bp=!0);break;case 6:if(is(i,n),as(n),c&4){if(n.stateNode===null)throw Error(a(162));c=n.memoizedProps,o=n.stateNode;try{o.nodeValue=c}catch(Ve){Rt(n,n.return,Ve)}}break;case 3:if(ld=null,f=Ys,Ys=rd(i.containerInfo),is(i,n),Ys=f,as(n),c&4&&o!==null&&o.memoizedState.isDehydrated)try{vo(i.containerInfo)}catch(Ve){Rt(n,n.return,Ve)}bp&&(bp=!1,uv(n));break;case 4:c=Ys,Ys=rd(n.stateNode.containerInfo),is(i,n),as(n),Ys=c;break;case 12:is(i,n),as(n);break;case 31:is(i,n),as(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Yu(n,c)));break;case 13:is(i,n),as(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&($u=ye()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Yu(n,c)));break;case 22:f=n.memoizedState!==null;var H=o!==null&&o.memoizedState!==null,se=Ai,Se=jn;if(Ai=se||f,jn=Se||H,is(i,n),jn=Se,Ai=se,as(n),c&8192)e:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(o===null||H||Ai||jn||sr(n)),o=null,i=n;;){if(i.tag===5||i.tag===26){if(o===null){H=o=i;try{if(m=H.stateNode,f)C=m.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{A=H.stateNode;var De=H.memoizedProps.style,oe=De!=null&&De.hasOwnProperty("display")?De.display:null;A.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(Ve){Rt(H,H.return,Ve)}}}else if(i.tag===6){if(o===null){H=i;try{H.stateNode.nodeValue=f?"":H.memoizedProps}catch(Ve){Rt(H,H.return,Ve)}}}else if(i.tag===18){if(o===null){H=i;try{var de=H.stateNode;f?Jv(de,!0):Jv(H.stateNode,!1)}catch(Ve){Rt(H,H.return,Ve)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=n.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Yu(n,o))));break;case 19:is(i,n),as(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Yu(n,c)));break;case 30:break;case 21:break;default:is(i,n),as(n)}}function as(n){var i=n.flags;if(i&2){try{for(var o,c=n.return;c!==null;){if(tv(c)){o=c;break}c=c.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var f=o.stateNode,m=yp(n);qu(n,m,f);break;case 5:var C=o.stateNode;o.flags&32&&(Fr(C,""),o.flags&=-33);var A=yp(n);qu(n,A,C);break;case 3:case 4:var H=o.stateNode.containerInfo,se=yp(n);xp(n,se,H);break;default:throw Error(a(161))}}catch(Se){Rt(n,n.return,Se)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function uv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;uv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Oi(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)iv(n,i.alternate,i),i=i.sibling}function sr(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:ca(4,i,i.return),sr(i);break;case 1:ri(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Jb(i,i.return,o),sr(i);break;case 27:Hl(i.stateNode);case 26:case 5:ri(i,i.return),sr(i);break;case 22:i.memoizedState===null&&sr(i);break;case 30:sr(i);break;default:sr(i)}n=n.sibling}}function Ri(n,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,f=n,m=i,C=m.flags;switch(m.tag){case 0:case 11:case 15:Ri(f,m,o),Rl(4,m);break;case 1:if(Ri(f,m,o),c=m,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(se){Rt(c,c.return,se)}if(c=m,f=c.updateQueue,f!==null){var A=c.stateNode;try{var H=f.shared.hiddenCallbacks;if(H!==null)for(f.shared.hiddenCallbacks=null,f=0;f<H.length;f++)V0(H[f],A)}catch(se){Rt(c,c.return,se)}}o&&C&64&&Zb(m),_l(m,m.return);break;case 27:nv(m);case 26:case 5:Ri(f,m,o),o&&c===null&&C&4&&ev(m),_l(m,m.return);break;case 12:Ri(f,m,o);break;case 31:Ri(f,m,o),o&&C&4&&ov(f,m);break;case 13:Ri(f,m,o),o&&C&4&&lv(f,m);break;case 22:m.memoizedState===null&&Ri(f,m,o),_l(m,m.return);break;case 30:break;default:Ri(f,m,o)}i=i.sibling}}function vp(n,i){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&vl(o))}function Sp(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&vl(n))}function Gs(n,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)dv(n,i,o,c),i=i.sibling}function dv(n,i,o,c){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Gs(n,i,o,c),f&2048&&Rl(9,i);break;case 1:Gs(n,i,o,c);break;case 3:Gs(n,i,o,c),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&vl(n)));break;case 12:if(f&2048){Gs(n,i,o,c),n=i.stateNode;try{var m=i.memoizedProps,C=m.id,A=m.onPostCommit;typeof A=="function"&&A(C,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(H){Rt(i,i.return,H)}}else Gs(n,i,o,c);break;case 31:Gs(n,i,o,c);break;case 13:Gs(n,i,o,c);break;case 23:break;case 22:m=i.stateNode,C=i.alternate,i.memoizedState!==null?m._visibility&2?Gs(n,i,o,c):Il(n,i):m._visibility&2?Gs(n,i,o,c):(m._visibility|=2,lo(n,i,o,c,(i.subtreeFlags&10256)!==0||!1)),f&2048&&vp(C,i);break;case 24:Gs(n,i,o,c),f&2048&&Sp(i.alternate,i);break;default:Gs(n,i,o,c)}}function lo(n,i,o,c,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=n,C=i,A=o,H=c,se=C.flags;switch(C.tag){case 0:case 11:case 15:lo(m,C,A,H,f),Rl(8,C);break;case 23:break;case 22:var Se=C.stateNode;C.memoizedState!==null?Se._visibility&2?lo(m,C,A,H,f):Il(m,C):(Se._visibility|=2,lo(m,C,A,H,f)),f&&se&2048&&vp(C.alternate,C);break;case 24:lo(m,C,A,H,f),f&&se&2048&&Sp(C.alternate,C);break;default:lo(m,C,A,H,f)}i=i.sibling}}function Il(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=n,c=i,f=c.flags;switch(c.tag){case 22:Il(o,c),f&2048&&vp(c.alternate,c);break;case 24:Il(o,c),f&2048&&Sp(c.alternate,c);break;default:Il(o,c)}i=i.sibling}}var Wl=8192;function co(n,i,o){if(n.subtreeFlags&Wl)for(n=n.child;n!==null;)hv(n,i,o),n=n.sibling}function hv(n,i,o){switch(n.tag){case 26:co(n,i,o),n.flags&Wl&&n.memoizedState!==null&&u2(o,Ys,n.memoizedState,n.memoizedProps);break;case 5:co(n,i,o);break;case 3:case 4:var c=Ys;Ys=rd(n.stateNode.containerInfo),co(n,i,o),Ys=c;break;case 22:n.memoizedState===null&&(c=n.alternate,c!==null&&c.memoizedState!==null?(c=Wl,Wl=16777216,co(n,i,o),Wl=c):co(n,i,o));break;default:co(n,i,o)}}function fv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Nl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Wn=c,mv(c,n)}fv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)pv(n),n=n.sibling}function pv(n){switch(n.tag){case 0:case 11:case 15:Nl(n),n.flags&2048&&ca(9,n,n.return);break;case 3:Nl(n);break;case 12:Nl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Gu(n)):Nl(n);break;default:Nl(n)}}function Gu(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Wn=c,mv(c,n)}fv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:ca(8,i,i.return),Gu(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Gu(i));break;default:Gu(i)}n=n.sibling}}function mv(n,i){for(;Wn!==null;){var o=Wn;switch(o.tag){case 0:case 11:case 15:ca(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:vl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Wn=c;else e:for(o=n;Wn!==null;){c=Wn;var f=c.sibling,m=c.return;if(av(c),c===o){Wn=null;break e}if(f!==null){f.return=m,Wn=f;break e}Wn=m}}}var kA={getCacheForType:function(n){var i=zn(Cn),o=i.data.get(n);return o===void 0&&(o=n(),i.data.set(n,o)),o},cacheSignal:function(){return zn(Cn).controller.signal}},jA=typeof WeakMap=="function"?WeakMap:Map,Mt=0,zt=null,bt=null,St=0,Ot=0,ys=null,ua=!1,uo=!1,wp=!1,_i=0,on=0,da=0,ir=0,Cp=0,xs=0,ho=0,Ll=null,rs=null,Tp=!1,$u=0,gv=0,Ku=1/0,Qu=null,ha=null,En=0,fa=null,fo=null,Ii=0,kp=0,jp=null,yv=null,zl=0,Dp=null;function bs(){return(Mt&2)!==0&&St!==0?St&-St:F.T!==null?Rp():Ce()}function xv(){if(xs===0)if((St&536870912)===0||Ct){var n=Ts;Ts<<=1,(Ts&3932160)===0&&(Ts=262144),xs=n}else xs=536870912;return n=ms.current,n!==null&&(n.flags|=32),xs}function os(n,i,o){(n===zt&&(Ot===2||Ot===9)||n.cancelPendingCommit!==null)&&(po(n,0),pa(n,St,xs,!1)),si(n,o),((Mt&2)===0||n!==zt)&&(n===zt&&((Mt&2)===0&&(ir|=o),on===4&&pa(n,St,xs,!1)),oi(n))}function bv(n,i,o){if((Mt&6)!==0)throw Error(a(327));var c=!o&&(i&127)===0&&(i&n.expiredLanes)===0||Zi(n,i),f=c?MA(n,i):Mp(n,i,!0),m=c;do{if(f===0){uo&&!c&&pa(n,i,0,!1);break}else{if(o=n.current.alternate,m&&!DA(o)){f=Mp(n,i,!1),m=!1;continue}if(f===2){if(m=i,n.errorRecoveryDisabledLanes&m)var C=0;else C=n.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){i=C;e:{var A=n;f=Ll;var H=A.current.memoizedState.isDehydrated;if(H&&(po(A,C).flags|=256),C=Mp(A,C,!1),C!==2){if(wp&&!H){A.errorRecoveryDisabledLanes|=m,ir|=m,f=4;break e}m=rs,rs=f,m!==null&&(rs===null?rs=m:rs.push.apply(rs,m))}f=C}if(m=!1,f!==2)continue}}if(f===1){po(n,0),pa(n,i,0,!0);break}e:{switch(c=n,m=f,m){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:pa(c,i,xs,!ua);break e;case 2:rs=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=$u+300-ye(),10<f)){if(pa(c,i,xs,!ua),Xi(c,0,!0)!==0)break e;Ii=i,c.timeoutHandle=Qv(vv.bind(null,c,o,rs,Qu,Tp,i,xs,ir,ho,ua,m,"Throttled",-0,0),f);break e}vv(c,o,rs,Qu,Tp,i,xs,ir,ho,ua,m,null,-0,0)}}break}while(!0);oi(n)}function vv(n,i,o,c,f,m,C,A,H,se,Se,De,oe,de){if(n.timeoutHandle=-1,De=i.subtreeFlags,De&8192||(De&16785408)===16785408){De={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vi},hv(i,m,De);var Ve=(m&62914560)===m?$u-ye():(m&4194048)===m?gv-ye():0;if(Ve=d2(De,Ve),Ve!==null){Ii=m,n.cancelPendingCommit=Ve(Ev.bind(null,n,i,m,o,c,f,C,A,H,Se,De,null,oe,de)),pa(n,m,C,!se);return}}Ev(n,i,m,o,c,f,C,A,H)}function DA(n){for(var i=n;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],m=f.getSnapshot;f=f.value;try{if(!fs(m(),f))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function pa(n,i,o,c){i&=~Cp,i&=~ir,n.suspendedLanes|=i,n.pingedLanes&=~i,c&&(n.warmLanes|=i),c=n.expirationTimes;for(var f=i;0<f;){var m=31-kt(f),C=1<<m;c[m]=-1,f&=~C}o!==0&&Yh(n,o,i)}function Xu(){return(Mt&6)===0?(Bl(0),!1):!0}function Ep(){if(bt!==null){if(Ot===0)var n=bt.return;else n=bt,Ti=Ka=null,Uf(n),so=null,wl=0,n=bt;for(;n!==null;)Xb(n.alternate,n),n=n.return;bt=null}}function po(n,i){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,GA(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Ii=0,Ep(),zt=n,bt=o=wi(n.current,null),St=i,Ot=0,ys=null,ua=!1,uo=Zi(n,i),wp=!1,ho=xs=Cp=ir=da=on=0,rs=Ll=null,Tp=!1,(i&8)!==0&&(i|=i&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=i;0<c;){var f=31-kt(c),m=1<<f;i|=n[f],c&=~m}return _i=i,xu(),o}function Sv(n,i){ft=null,F.H=Al,i===no||i===ju?(i=N0(),Ot=3):i===Of?(i=N0(),Ot=4):Ot=i===rp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ys=i,bt===null&&(on=1,Bu(n,Es(i,n.current)))}function wv(){var n=ms.current;return n===null?!0:(St&4194048)===St?Os===null:(St&62914560)===St||(St&536870912)!==0?n===Os:!1}function Cv(){var n=F.H;return F.H=Al,n===null?Al:n}function Tv(){var n=F.A;return F.A=kA,n}function Zu(){on=4,ua||(St&4194048)!==St&&ms.current!==null||(uo=!0),(da&134217727)===0&&(ir&134217727)===0||zt===null||pa(zt,St,xs,!1)}function Mp(n,i,o){var c=Mt;Mt|=2;var f=Cv(),m=Tv();(zt!==n||St!==i)&&(Qu=null,po(n,i)),i=!1;var C=on;e:do try{if(Ot!==0&&bt!==null){var A=bt,H=ys;switch(Ot){case 8:Ep(),C=6;break e;case 3:case 2:case 9:case 6:ms.current===null&&(i=!0);var se=Ot;if(Ot=0,ys=null,mo(n,A,H,se),o&&uo){C=0;break e}break;default:se=Ot,Ot=0,ys=null,mo(n,A,H,se)}}EA(),C=on;break}catch(Se){Sv(n,Se)}while(!0);return i&&n.shellSuspendCounter++,Ti=Ka=null,Mt=c,F.H=f,F.A=m,bt===null&&(zt=null,St=0,xu()),C}function EA(){for(;bt!==null;)kv(bt)}function MA(n,i){var o=Mt;Mt|=2;var c=Cv(),f=Tv();zt!==n||St!==i?(Qu=null,Ku=ye()+500,po(n,i)):uo=Zi(n,i);e:do try{if(Ot!==0&&bt!==null){i=bt;var m=ys;t:switch(Ot){case 1:Ot=0,ys=null,mo(n,i,m,1);break;case 2:case 9:if(I0(m)){Ot=0,ys=null,jv(i);break}i=function(){Ot!==2&&Ot!==9||zt!==n||(Ot=7),oi(n)},m.then(i,i);break e;case 3:Ot=7;break e;case 4:Ot=5;break e;case 7:I0(m)?(Ot=0,ys=null,jv(i)):(Ot=0,ys=null,mo(n,i,m,7));break;case 5:var C=null;switch(bt.tag){case 26:C=bt.memoizedState;case 5:case 27:var A=bt;if(C?dS(C):A.stateNode.complete){Ot=0,ys=null;var H=A.sibling;if(H!==null)bt=H;else{var se=A.return;se!==null?(bt=se,Ju(se)):bt=null}break t}}Ot=0,ys=null,mo(n,i,m,5);break;case 6:Ot=0,ys=null,mo(n,i,m,6);break;case 8:Ep(),on=6;break e;default:throw Error(a(462))}}AA();break}catch(Se){Sv(n,Se)}while(!0);return Ti=Ka=null,F.H=c,F.A=f,Mt=o,bt!==null?0:(zt=null,St=0,xu(),on)}function AA(){for(;bt!==null&&!q();)kv(bt)}function kv(n){var i=Kb(n.alternate,n,_i);n.memoizedProps=n.pendingProps,i===null?Ju(n):bt=i}function jv(n){var i=n,o=i.alternate;switch(i.tag){case 15:case 0:i=Hb(o,i,i.pendingProps,i.type,void 0,St);break;case 11:i=Hb(o,i,i.pendingProps,i.type.render,i.ref,St);break;case 5:Uf(i);default:Xb(o,i),i=bt=T0(i,_i),i=Kb(o,i,_i)}n.memoizedProps=n.pendingProps,i===null?Ju(n):bt=i}function mo(n,i,o,c){Ti=Ka=null,Uf(i),so=null,wl=0;var f=i.return;try{if(xA(n,f,i,o,St)){on=1,Bu(n,Es(o,n.current)),bt=null;return}}catch(m){if(f!==null)throw bt=f,m;on=1,Bu(n,Es(o,n.current)),bt=null;return}i.flags&32768?(Ct||c===1?n=!0:uo||(St&536870912)!==0?n=!1:(ua=n=!0,(c===2||c===9||c===3||c===6)&&(c=ms.current,c!==null&&c.tag===13&&(c.flags|=16384))),Dv(i,n)):Ju(i)}function Ju(n){var i=n;do{if((i.flags&32768)!==0){Dv(i,ua);return}n=i.return;var o=SA(i.alternate,i,_i);if(o!==null){bt=o;return}if(i=i.sibling,i!==null){bt=i;return}bt=i=n}while(i!==null);on===0&&(on=5)}function Dv(n,i){do{var o=wA(n.alternate,n);if(o!==null){o.flags&=32767,bt=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(n=n.sibling,n!==null)){bt=n;return}bt=n=o}while(n!==null);on=6,bt=null}function Ev(n,i,o,c,f,m,C,A,H){n.cancelPendingCommit=null;do ed();while(En!==0);if((Mt&6)!==0)throw Error(a(327));if(i!==null){if(i===n.current)throw Error(a(177));if(m=i.lanes|i.childLanes,m|=yf,qh(n,o,m,C,A,H),n===zt&&(bt=zt=null,St=0),fo=i,fa=n,Ii=o,kp=m,jp=f,yv=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,_A(Ze,function(){return Rv(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=F.T,F.T=null,f=Y.p,Y.p=2,C=Mt,Mt|=4;try{CA(n,i,o)}finally{Mt=C,Y.p=f,F.T=c}}En=1,Mv(),Av(),Pv()}}function Mv(){if(En===1){En=0;var n=fa,i=fo,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=F.T,F.T=null;var c=Y.p;Y.p=2;var f=Mt;Mt|=4;try{cv(i,n);var m=Vp,C=m0(n.containerInfo),A=m.focusedElem,H=m.selectionRange;if(C!==A&&A&&A.ownerDocument&&p0(A.ownerDocument.documentElement,A)){if(H!==null&&hf(A)){var se=H.start,Se=H.end;if(Se===void 0&&(Se=se),"selectionStart"in A)A.selectionStart=se,A.selectionEnd=Math.min(Se,A.value.length);else{var De=A.ownerDocument||document,oe=De&&De.defaultView||window;if(oe.getSelection){var de=oe.getSelection(),Ve=A.textContent.length,st=Math.min(H.start,Ve),Lt=H.end===void 0?st:Math.min(H.end,Ve);!de.extend&&st>Lt&&(C=Lt,Lt=st,st=C);var J=f0(A,st),K=f0(A,Lt);if(J&&K&&(de.rangeCount!==1||de.anchorNode!==J.node||de.anchorOffset!==J.offset||de.focusNode!==K.node||de.focusOffset!==K.offset)){var ne=De.createRange();ne.setStart(J.node,J.offset),de.removeAllRanges(),st>Lt?(de.addRange(ne),de.extend(K.node,K.offset)):(ne.setEnd(K.node,K.offset),de.addRange(ne))}}}}for(De=[],de=A;de=de.parentNode;)de.nodeType===1&&De.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<De.length;A++){var ke=De[A];ke.element.scrollLeft=ke.left,ke.element.scrollTop=ke.top}}hd=!!Bp,Vp=Bp=null}finally{Mt=f,Y.p=c,F.T=o}}n.current=i,En=2}}function Av(){if(En===2){En=0;var n=fa,i=fo,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=F.T,F.T=null;var c=Y.p;Y.p=2;var f=Mt;Mt|=4;try{iv(n,i.alternate,i)}finally{Mt=f,Y.p=c,F.T=o}}En=3}}function Pv(){if(En===4||En===3){En=0,fe();var n=fa,i=fo,o=Ii,c=yv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?En=5:(En=0,fo=fa=null,Ov(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(ha=null),rl(o),i=i.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(pt,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=F.T,f=Y.p,Y.p=2,F.T=null;try{for(var m=n.onRecoverableError,C=0;C<c.length;C++){var A=c[C];m(A.value,{componentStack:A.stack})}}finally{F.T=i,Y.p=f}}(Ii&3)!==0&&ed(),oi(n),f=n.pendingLanes,(o&261930)!==0&&(f&42)!==0?n===Dp?zl++:(zl=0,Dp=n):zl=0,Bl(0)}}function Ov(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,vl(i)))}function ed(){return Mv(),Av(),Pv(),Rv()}function Rv(){if(En!==5)return!1;var n=fa,i=kp;kp=0;var o=rl(Ii),c=F.T,f=Y.p;try{Y.p=32>o?32:o,F.T=null,o=jp,jp=null;var m=fa,C=Ii;if(En=0,fo=fa=null,Ii=0,(Mt&6)!==0)throw Error(a(331));var A=Mt;if(Mt|=4,pv(m.current),dv(m,m.current,C,o),Mt=A,Bl(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(pt,m)}catch{}return!0}finally{Y.p=f,F.T=c,Ov(n,i)}}function _v(n,i,o){i=Es(o,i),i=ap(n.stateNode,i,2),n=ra(n,i,2),n!==null&&(si(n,2),oi(n))}function Rt(n,i,o){if(n.tag===3)_v(n,n,o);else for(;i!==null;){if(i.tag===3){_v(i,n,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ha===null||!ha.has(c))){n=Es(o,n),o=Ib(2),c=ra(i,o,2),c!==null&&(Wb(o,c,i,n),si(c,2),oi(c));break}}i=i.return}}function Ap(n,i,o){var c=n.pingCache;if(c===null){c=n.pingCache=new jA;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(o)||(wp=!0,f.add(o),n=PA.bind(null,n,i,o),i.then(n,n))}function PA(n,i,o){var c=n.pingCache;c!==null&&c.delete(i),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,zt===n&&(St&o)===o&&(on===4||on===3&&(St&62914560)===St&&300>ye()-$u?(Mt&2)===0&&po(n,0):Cp|=o,ho===St&&(ho=0)),oi(n)}function Iv(n,i){i===0&&(i=en()),n=Ya(n,i),n!==null&&(si(n,i),oi(n))}function OA(n){var i=n.memoizedState,o=0;i!==null&&(o=i.retryLane),Iv(n,o)}function RA(n,i){var o=0;switch(n.tag){case 31:case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(i),Iv(n,o)}function _A(n,i){return ie(n,i)}var td=null,go=null,Pp=!1,nd=!1,Op=!1,ma=0;function oi(n){n!==go&&n.next===null&&(go===null?td=go=n:go=go.next=n),nd=!0,Pp||(Pp=!0,WA())}function Bl(n,i){if(!Op&&nd){Op=!0;do for(var o=!1,c=td;c!==null;){if(n!==0){var f=c.pendingLanes;if(f===0)var m=0;else{var C=c.suspendedLanes,A=c.pingedLanes;m=(1<<31-kt(42|n)+1)-1,m&=f&~(C&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,zv(c,m))}else m=St,m=Xi(c,c===zt?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||Zi(c,m)||(o=!0,zv(c,m));c=c.next}while(o);Op=!1}}function IA(){Wv()}function Wv(){nd=Pp=!1;var n=0;ma!==0&&YA()&&(n=ma);for(var i=ye(),o=null,c=td;c!==null;){var f=c.next,m=Nv(c,i);m===0?(c.next=null,o===null?td=f:o.next=f,f===null&&(go=o)):(o=c,(n!==0||(m&3)!==0)&&(nd=!0)),c=f}En!==0&&En!==5||Bl(n),ma!==0&&(ma=0)}function Nv(n,i){for(var o=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var C=31-kt(m),A=1<<C,H=f[C];H===-1?((A&o)===0||(A&c)!==0)&&(f[C]=au(A,i)):H<=i&&(n.expiredLanes|=A),m&=~A}if(i=zt,o=St,o=Xi(n,n===i?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,o===0||n===i&&(Ot===2||Ot===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&we(c),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Zi(n,o)){if(i=o&-o,i===n.callbackPriority)return i;switch(c!==null&&we(c),rl(o)){case 2:case 8:o=Le;break;case 32:o=Ze;break;case 268435456:o=$e;break;default:o=Ze}return c=Lv.bind(null,n),o=ie(o,c),n.callbackPriority=i,n.callbackNode=o,i}return c!==null&&c!==null&&we(c),n.callbackPriority=2,n.callbackNode=null,2}function Lv(n,i){if(En!==0&&En!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(ed()&&n.callbackNode!==o)return null;var c=St;return c=Xi(n,n===zt?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(bv(n,c,i),Nv(n,ye()),n.callbackNode!=null&&n.callbackNode===o?Lv.bind(null,n):null)}function zv(n,i){if(ed())return null;bv(n,i,!0)}function WA(){$A(function(){(Mt&6)!==0?ie(_e,IA):Wv()})}function Rp(){if(ma===0){var n=eo;n===0&&(n=wn,wn<<=1,(wn&261888)===0&&(wn=256)),ma=n}return ma}function Bv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:uu(""+n)}function Vv(n,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,n.id&&o.setAttribute("form",n.id),i.parentNode.insertBefore(o,i),n=new FormData(n),o.parentNode.removeChild(o),n}function NA(n,i,o,c,f){if(i==="submit"&&o&&o.stateNode===f){var m=Bv((f[tn]||null).action),C=c.submitter;C&&(i=(i=C[tn]||null)?Bv(i.formAction):C.getAttribute("formAction"),i!==null&&(m=i,C=null));var A=new pu("action","action",null,c,f);n.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ma!==0){var H=C?Vv(f,C):new FormData(f);Jf(o,{pending:!0,data:H,method:f.method,action:m},null,H)}}else typeof m=="function"&&(A.preventDefault(),H=C?Vv(f,C):new FormData(f),Jf(o,{pending:!0,data:H,method:f.method,action:m},m,H))},currentTarget:f}]})}}for(var _p=0;_p<gf.length;_p++){var Ip=gf[_p],LA=Ip.toLowerCase(),zA=Ip[0].toUpperCase()+Ip.slice(1);qs(LA,"on"+zA)}qs(x0,"onAnimationEnd"),qs(b0,"onAnimationIteration"),qs(v0,"onAnimationStart"),qs("dblclick","onDoubleClick"),qs("focusin","onFocus"),qs("focusout","onBlur"),qs(tA,"onTransitionRun"),qs(nA,"onTransitionStart"),qs(sA,"onTransitionCancel"),qs(S0,"onTransitionEnd"),Br("onMouseEnter",["mouseout","mouseover"]),Br("onMouseLeave",["mouseout","mouseover"]),Br("onPointerEnter",["pointerout","pointerover"]),Br("onPointerLeave",["pointerout","pointerover"]),Fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function Fv(n,i){i=(i&4)!==0;for(var o=0;o<n.length;o++){var c=n[o],f=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var C=c.length-1;0<=C;C--){var A=c[C],H=A.instance,se=A.currentTarget;if(A=A.listener,H!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=se;try{m(f)}catch(Se){yu(Se)}f.currentTarget=null,m=H}else for(C=0;C<c.length;C++){if(A=c[C],H=A.instance,se=A.currentTarget,A=A.listener,H!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=se;try{m(f)}catch(Se){yu(Se)}f.currentTarget=null,m=H}}}}function vt(n,i){var o=i[Gh];o===void 0&&(o=i[Gh]=new Set);var c=n+"__bubble";o.has(c)||(Hv(i,n,2,!1),o.add(c))}function Wp(n,i,o){var c=0;i&&(c|=4),Hv(o,n,c,i)}var sd="_reactListening"+Math.random().toString(36).slice(2);function Np(n){if(!n[sd]){n[sd]=!0,Wx.forEach(function(o){o!=="selectionchange"&&(BA.has(o)||Wp(o,!1,n),Wp(o,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[sd]||(i[sd]=!0,Wp("selectionchange",!1,i))}}function Hv(n,i,o,c){switch(xS(i)){case 2:var f=p2;break;case 8:f=m2;break;default:f=Zp}o=f.bind(null,i,o,n),f=void 0,!nf||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(i,o,{capture:!0,passive:f}):n.addEventListener(i,o,!0):f!==void 0?n.addEventListener(i,o,{passive:f}):n.addEventListener(i,o,!1)}function Lp(n,i,o,c,f){var m=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var C=c.tag;if(C===3||C===4){var A=c.stateNode.containerInfo;if(A===f)break;if(C===4)for(C=c.return;C!==null;){var H=C.tag;if((H===3||H===4)&&C.stateNode.containerInfo===f)return;C=C.return}for(;A!==null;){if(C=Nr(A),C===null)return;if(H=C.tag,H===5||H===6||H===26||H===27){c=m=C;continue e}A=A.parentNode}}c=c.return}$x(function(){var se=m,Se=ef(o),De=[];e:{var oe=w0.get(n);if(oe!==void 0){var de=pu,Ve=n;switch(n){case"keypress":if(hu(o)===0)break e;case"keydown":case"keyup":de=RM;break;case"focusin":Ve="focus",de=of;break;case"focusout":Ve="blur",de=of;break;case"beforeblur":case"afterblur":de=of;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Xx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=SM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=WM;break;case x0:case b0:case v0:de=TM;break;case S0:de=LM;break;case"scroll":case"scrollend":de=bM;break;case"wheel":de=BM;break;case"copy":case"cut":case"paste":de=jM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=Jx;break;case"toggle":case"beforetoggle":de=FM}var st=(i&4)!==0,Lt=!st&&(n==="scroll"||n==="scrollend"),J=st?oe!==null?oe+"Capture":null:oe;st=[];for(var K=se,ne;K!==null;){var ke=K;if(ne=ke.stateNode,ke=ke.tag,ke!==5&&ke!==26&&ke!==27||ne===null||J===null||(ke=cl(K,J),ke!=null&&st.push(Fl(K,ke,ne))),Lt)break;K=K.return}0<st.length&&(oe=new de(oe,Ve,null,o,Se),De.push({event:oe,listeners:st}))}}if((i&7)===0){e:{if(oe=n==="mouseover"||n==="pointerover",de=n==="mouseout"||n==="pointerout",oe&&o!==Jh&&(Ve=o.relatedTarget||o.fromElement)&&(Nr(Ve)||Ve[ts]))break e;if((de||oe)&&(oe=Se.window===Se?Se:(oe=Se.ownerDocument)?oe.defaultView||oe.parentWindow:window,de?(Ve=o.relatedTarget||o.toElement,de=se,Ve=Ve?Nr(Ve):null,Ve!==null&&(Lt=u(Ve),st=Ve.tag,Ve!==Lt||st!==5&&st!==27&&st!==6)&&(Ve=null)):(de=null,Ve=se),de!==Ve)){if(st=Xx,ke="onMouseLeave",J="onMouseEnter",K="mouse",(n==="pointerout"||n==="pointerover")&&(st=Jx,ke="onPointerLeave",J="onPointerEnter",K="pointer"),Lt=de==null?oe:ll(de),ne=Ve==null?oe:ll(Ve),oe=new st(ke,K+"leave",de,o,Se),oe.target=Lt,oe.relatedTarget=ne,ke=null,Nr(Se)===se&&(st=new st(J,K+"enter",Ve,o,Se),st.target=ne,st.relatedTarget=Lt,ke=st),Lt=ke,de&&Ve)t:{for(st=VA,J=de,K=Ve,ne=0,ke=J;ke;ke=st(ke))ne++;ke=0;for(var Qe=K;Qe;Qe=st(Qe))ke++;for(;0<ne-ke;)J=st(J),ne--;for(;0<ke-ne;)K=st(K),ke--;for(;ne--;){if(J===K||K!==null&&J===K.alternate){st=J;break t}J=st(J),K=st(K)}st=null}else st=null;de!==null&&Uv(De,oe,de,st,!1),Ve!==null&&Lt!==null&&Uv(De,Lt,Ve,st,!0)}}e:{if(oe=se?ll(se):window,de=oe.nodeName&&oe.nodeName.toLowerCase(),de==="select"||de==="input"&&oe.type==="file")var Dt=o0;else if(a0(oe))if(l0)Dt=ZM;else{Dt=QM;var Ue=KM}else de=oe.nodeName,!de||de.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?se&&Zh(se.elementType)&&(Dt=o0):Dt=XM;if(Dt&&(Dt=Dt(n,se))){r0(De,Dt,o,Se);break e}Ue&&Ue(n,oe,se),n==="focusout"&&se&&oe.type==="number"&&se.memoizedProps.value!=null&&Xh(oe,"number",oe.value)}switch(Ue=se?ll(se):window,n){case"focusin":(a0(Ue)||Ue.contentEditable==="true")&&(Yr=Ue,ff=se,yl=null);break;case"focusout":yl=ff=Yr=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,g0(De,o,Se);break;case"selectionchange":if(eA)break;case"keydown":case"keyup":g0(De,o,Se)}var gt;if(cf)e:{switch(n){case"compositionstart":var wt="onCompositionStart";break e;case"compositionend":wt="onCompositionEnd";break e;case"compositionupdate":wt="onCompositionUpdate";break e}wt=void 0}else qr?s0(n,o)&&(wt="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(wt="onCompositionStart");wt&&(e0&&o.locale!=="ko"&&(qr||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&qr&&(gt=Kx()):(Ji=Se,sf="value"in Ji?Ji.value:Ji.textContent,qr=!0)),Ue=id(se,wt),0<Ue.length&&(wt=new Zx(wt,n,null,o,Se),De.push({event:wt,listeners:Ue}),gt?wt.data=gt:(gt=i0(o),gt!==null&&(wt.data=gt)))),(gt=UM?qM(n,o):YM(n,o))&&(wt=id(se,"onBeforeInput"),0<wt.length&&(Ue=new Zx("onBeforeInput","beforeinput",null,o,Se),De.push({event:Ue,listeners:wt}),Ue.data=gt)),NA(De,n,se,o,Se)}Fv(De,i)})}function Fl(n,i,o){return{instance:n,listener:i,currentTarget:o}}function id(n,i){for(var o=i+"Capture",c=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=cl(n,o),f!=null&&c.unshift(Fl(n,f,m)),f=cl(n,i),f!=null&&c.push(Fl(n,f,m))),n.tag===3)return c;n=n.return}return[]}function VA(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Uv(n,i,o,c,f){for(var m=i._reactName,C=[];o!==null&&o!==c;){var A=o,H=A.alternate,se=A.stateNode;if(A=A.tag,H!==null&&H===c)break;A!==5&&A!==26&&A!==27||se===null||(H=se,f?(se=cl(o,m),se!=null&&C.unshift(Fl(o,se,H))):f||(se=cl(o,m),se!=null&&C.push(Fl(o,se,H)))),o=o.return}C.length!==0&&n.push({event:i,listeners:C})}var FA=/\r\n?/g,HA=/\u0000|\uFFFD/g;function qv(n){return(typeof n=="string"?n:""+n).replace(FA,`
`).replace(HA,"")}function Yv(n,i){return i=qv(i),qv(n)===i}function Nt(n,i,o,c,f,m){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Fr(n,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Fr(n,""+c);break;case"className":lu(n,"class",c);break;case"tabIndex":lu(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":lu(n,o,c);break;case"style":Yx(n,c,m);break;case"data":if(i!=="object"){lu(n,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){n.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=uu(""+c),n.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(i!=="input"&&Nt(n,i,"name",f.name,f,null),Nt(n,i,"formEncType",f.formEncType,f,null),Nt(n,i,"formMethod",f.formMethod,f,null),Nt(n,i,"formTarget",f.formTarget,f,null)):(Nt(n,i,"encType",f.encType,f,null),Nt(n,i,"method",f.method,f,null),Nt(n,i,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=uu(""+c),n.setAttribute(o,c);break;case"onClick":c!=null&&(n.onclick=vi);break;case"onScroll":c!=null&&vt("scroll",n);break;case"onScrollEnd":c!=null&&vt("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}o=uu(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""+c):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":c===!0?n.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,c):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(o,c):n.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(o):n.setAttribute(o,c);break;case"popover":vt("beforetoggle",n),vt("toggle",n),ou(n,"popover",c);break;case"xlinkActuate":bi(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":bi(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":bi(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":bi(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":bi(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":bi(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":bi(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":bi(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":bi(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ou(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=yM.get(o)||o,ou(n,o,c))}}function zp(n,i,o,c,f,m){switch(o){case"style":Yx(n,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"children":typeof c=="string"?Fr(n,c):(typeof c=="number"||typeof c=="bigint")&&Fr(n,""+c);break;case"onScroll":c!=null&&vt("scroll",n);break;case"onScrollEnd":c!=null&&vt("scrollend",n);break;case"onClick":c!=null&&(n.onclick=vi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nx.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),i=o.slice(2,f?o.length-7:void 0),m=n[tn]||null,m=m!=null?m[o]:null,typeof m=="function"&&n.removeEventListener(i,m,f),typeof c=="function")){typeof m!="function"&&m!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(i,c,f);break e}o in n?n[o]=c:c===!0?n.setAttribute(o,""):ou(n,o,c)}}}function Vn(n,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",n),vt("load",n);var c=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var C=o[m];if(C!=null)switch(m){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Nt(n,i,m,C,o,null)}}f&&Nt(n,i,"srcSet",o.srcSet,o,null),c&&Nt(n,i,"src",o.src,o,null);return;case"input":vt("invalid",n);var A=m=C=f=null,H=null,se=null;for(c in o)if(o.hasOwnProperty(c)){var Se=o[c];if(Se!=null)switch(c){case"name":f=Se;break;case"type":C=Se;break;case"checked":H=Se;break;case"defaultChecked":se=Se;break;case"value":m=Se;break;case"defaultValue":A=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(a(137,i));break;default:Nt(n,i,c,Se,o,null)}}Fx(n,m,A,H,se,C,f,!1);return;case"select":vt("invalid",n),c=C=m=null;for(f in o)if(o.hasOwnProperty(f)&&(A=o[f],A!=null))switch(f){case"value":m=A;break;case"defaultValue":C=A;break;case"multiple":c=A;default:Nt(n,i,f,A,o,null)}i=m,o=C,n.multiple=!!c,i!=null?Vr(n,!!c,i,!1):o!=null&&Vr(n,!!c,o,!0);return;case"textarea":vt("invalid",n),m=f=c=null;for(C in o)if(o.hasOwnProperty(C)&&(A=o[C],A!=null))switch(C){case"value":c=A;break;case"defaultValue":f=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(a(91));break;default:Nt(n,i,C,A,o,null)}Ux(n,c,f,m);return;case"option":for(H in o)if(o.hasOwnProperty(H)&&(c=o[H],c!=null))switch(H){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Nt(n,i,H,c,o,null)}return;case"dialog":vt("beforetoggle",n),vt("toggle",n),vt("cancel",n),vt("close",n);break;case"iframe":case"object":vt("load",n);break;case"video":case"audio":for(c=0;c<Vl.length;c++)vt(Vl[c],n);break;case"image":vt("error",n),vt("load",n);break;case"details":vt("toggle",n);break;case"embed":case"source":case"link":vt("error",n),vt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in o)if(o.hasOwnProperty(se)&&(c=o[se],c!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Nt(n,i,se,c,o,null)}return;default:if(Zh(i)){for(Se in o)o.hasOwnProperty(Se)&&(c=o[Se],c!==void 0&&zp(n,i,Se,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&Nt(n,i,A,c,o,null))}function UA(n,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,C=null,A=null,H=null,se=null,Se=null;for(de in o){var De=o[de];if(o.hasOwnProperty(de)&&De!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":H=De;default:c.hasOwnProperty(de)||Nt(n,i,de,null,c,De)}}for(var oe in c){var de=c[oe];if(De=o[oe],c.hasOwnProperty(oe)&&(de!=null||De!=null))switch(oe){case"type":m=de;break;case"name":f=de;break;case"checked":se=de;break;case"defaultChecked":Se=de;break;case"value":C=de;break;case"defaultValue":A=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(a(137,i));break;default:de!==De&&Nt(n,i,oe,de,c,De)}}Qh(n,C,A,H,se,Se,m,f);return;case"select":de=C=A=oe=null;for(m in o)if(H=o[m],o.hasOwnProperty(m)&&H!=null)switch(m){case"value":break;case"multiple":de=H;default:c.hasOwnProperty(m)||Nt(n,i,m,null,c,H)}for(f in c)if(m=c[f],H=o[f],c.hasOwnProperty(f)&&(m!=null||H!=null))switch(f){case"value":oe=m;break;case"defaultValue":A=m;break;case"multiple":C=m;default:m!==H&&Nt(n,i,f,m,c,H)}i=A,o=C,c=de,oe!=null?Vr(n,!!o,oe,!1):!!c!=!!o&&(i!=null?Vr(n,!!o,i,!0):Vr(n,!!o,o?[]:"",!1));return;case"textarea":de=oe=null;for(A in o)if(f=o[A],o.hasOwnProperty(A)&&f!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Nt(n,i,A,null,c,f)}for(C in c)if(f=c[C],m=o[C],c.hasOwnProperty(C)&&(f!=null||m!=null))switch(C){case"value":oe=f;break;case"defaultValue":de=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&Nt(n,i,C,f,c,m)}Hx(n,oe,de);return;case"option":for(var Ve in o)if(oe=o[Ve],o.hasOwnProperty(Ve)&&oe!=null&&!c.hasOwnProperty(Ve))switch(Ve){case"selected":n.selected=!1;break;default:Nt(n,i,Ve,null,c,oe)}for(H in c)if(oe=c[H],de=o[H],c.hasOwnProperty(H)&&oe!==de&&(oe!=null||de!=null))switch(H){case"selected":n.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:Nt(n,i,H,oe,c,de)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var st in o)oe=o[st],o.hasOwnProperty(st)&&oe!=null&&!c.hasOwnProperty(st)&&Nt(n,i,st,null,c,oe);for(se in c)if(oe=c[se],de=o[se],c.hasOwnProperty(se)&&oe!==de&&(oe!=null||de!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(a(137,i));break;default:Nt(n,i,se,oe,c,de)}return;default:if(Zh(i)){for(var Lt in o)oe=o[Lt],o.hasOwnProperty(Lt)&&oe!==void 0&&!c.hasOwnProperty(Lt)&&zp(n,i,Lt,void 0,c,oe);for(Se in c)oe=c[Se],de=o[Se],!c.hasOwnProperty(Se)||oe===de||oe===void 0&&de===void 0||zp(n,i,Se,oe,c,de);return}}for(var J in o)oe=o[J],o.hasOwnProperty(J)&&oe!=null&&!c.hasOwnProperty(J)&&Nt(n,i,J,null,c,oe);for(De in c)oe=c[De],de=o[De],!c.hasOwnProperty(De)||oe===de||oe==null&&de==null||Nt(n,i,De,oe,c,de)}function Gv(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qA(){if(typeof performance.getEntriesByType=="function"){for(var n=0,i=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var f=o[c],m=f.transferSize,C=f.initiatorType,A=f.duration;if(m&&A&&Gv(C)){for(C=0,A=f.responseEnd,c+=1;c<o.length;c++){var H=o[c],se=H.startTime;if(se>A)break;var Se=H.transferSize,De=H.initiatorType;Se&&Gv(De)&&(H=H.responseEnd,C+=Se*(H<A?1:(A-se)/(H-se)))}if(--c,i+=8*(m+C)/(f.duration/1e3),n++,10<n)break}}if(0<n)return i/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Bp=null,Vp=null;function ad(n){return n.nodeType===9?n:n.ownerDocument}function $v(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kv(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Fp(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Hp=null;function YA(){var n=window.event;return n&&n.type==="popstate"?n===Hp?!1:(Hp=n,!0):(Hp=null,!1)}var Qv=typeof setTimeout=="function"?setTimeout:void 0,GA=typeof clearTimeout=="function"?clearTimeout:void 0,Xv=typeof Promise=="function"?Promise:void 0,$A=typeof queueMicrotask=="function"?queueMicrotask:typeof Xv<"u"?function(n){return Xv.resolve(null).then(n).catch(KA)}:Qv;function KA(n){setTimeout(function(){throw n})}function ga(n){return n==="head"}function Zv(n,i){var o=i,c=0;do{var f=o.nextSibling;if(n.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(c===0){n.removeChild(f),vo(i);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Hl(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,Hl(o);for(var m=o.firstChild;m;){var C=m.nextSibling,A=m.nodeName;m[ol]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=C}}else o==="body"&&Hl(n.ownerDocument.body);o=f}while(o);vo(i)}function Jv(n,i){var o=n;n=0;do{var c=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=c}while(o)}function Up(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Up(o),$h(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function QA(n,i,o,c){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[ol])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Rs(n.nextSibling),n===null)break}return null}function XA(n,i,o){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Rs(n.nextSibling),n===null))return null;return n}function eS(n,i){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=Rs(n.nextSibling),n===null))return null;return n}function qp(n){return n.data==="$?"||n.data==="$~"}function Yp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function ZA(n,i){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=i;else if(n.data!=="$?"||o.readyState!=="loading")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function Rs(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return n}var Gp=null;function tS(n){n=n.nextSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(i===0)return Rs(n.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}n=n.nextSibling}return null}function nS(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return n;i--}else o!=="/$"&&o!=="/&"||i++}n=n.previousSibling}return null}function sS(n,i,o){switch(i=ad(o),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function Hl(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);$h(n)}var _s=new Map,iS=new Set;function rd(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Wi=Y.d;Y.d={f:JA,r:e2,D:t2,C:n2,L:s2,m:i2,X:r2,S:a2,M:o2};function JA(){var n=Wi.f(),i=Xu();return n||i}function e2(n){var i=Lr(n);i!==null&&i.tag===5&&i.type==="form"?Sb(i):Wi.r(n)}var yo=typeof document>"u"?null:document;function aS(n,i,o){var c=yo;if(c&&typeof i=="string"&&i){var f=js(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),iS.has(f)||(iS.add(f),n={rel:n,crossOrigin:o,href:i},c.querySelector(f)===null&&(i=c.createElement("link"),Vn(i,"link",n),In(i),c.head.appendChild(i)))}}function t2(n){Wi.D(n),aS("dns-prefetch",n,null)}function n2(n,i){Wi.C(n,i),aS("preconnect",n,i)}function s2(n,i,o){Wi.L(n,i,o);var c=yo;if(c&&n&&i){var f='link[rel="preload"][as="'+js(i)+'"]';i==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+js(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+js(o.imageSizes)+'"]')):f+='[href="'+js(n)+'"]';var m=f;switch(i){case"style":m=xo(n);break;case"script":m=bo(n)}_s.has(m)||(n=b({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:n,as:i},o),_s.set(m,n),c.querySelector(f)!==null||i==="style"&&c.querySelector(Ul(m))||i==="script"&&c.querySelector(ql(m))||(i=c.createElement("link"),Vn(i,"link",n),In(i),c.head.appendChild(i)))}}function i2(n,i){Wi.m(n,i);var o=yo;if(o&&n){var c=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+js(c)+'"][href="'+js(n)+'"]',m=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=bo(n)}if(!_s.has(m)&&(n=b({rel:"modulepreload",href:n},i),_s.set(m,n),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ql(m)))return}c=o.createElement("link"),Vn(c,"link",n),In(c),o.head.appendChild(c)}}}function a2(n,i,o){Wi.S(n,i,o);var c=yo;if(c&&n){var f=zr(c).hoistableStyles,m=xo(n);i=i||"default";var C=f.get(m);if(!C){var A={loading:0,preload:null};if(C=c.querySelector(Ul(m)))A.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":i},o),(o=_s.get(m))&&$p(n,o);var H=C=c.createElement("link");In(H),Vn(H,"link",n),H._p=new Promise(function(se,Se){H.onload=se,H.onerror=Se}),H.addEventListener("load",function(){A.loading|=1}),H.addEventListener("error",function(){A.loading|=2}),A.loading|=4,od(C,i,c)}C={type:"stylesheet",instance:C,count:1,state:A},f.set(m,C)}}}function r2(n,i){Wi.X(n,i);var o=yo;if(o&&n){var c=zr(o).hoistableScripts,f=bo(n),m=c.get(f);m||(m=o.querySelector(ql(f)),m||(n=b({src:n,async:!0},i),(i=_s.get(f))&&Kp(n,i),m=o.createElement("script"),In(m),Vn(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function o2(n,i){Wi.M(n,i);var o=yo;if(o&&n){var c=zr(o).hoistableScripts,f=bo(n),m=c.get(f);m||(m=o.querySelector(ql(f)),m||(n=b({src:n,async:!0,type:"module"},i),(i=_s.get(f))&&Kp(n,i),m=o.createElement("script"),In(m),Vn(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function rS(n,i,o,c){var f=(f=be.current)?rd(f):null;if(!f)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=xo(o.href),o=zr(f).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=xo(o.href);var m=zr(f).hoistableStyles,C=m.get(n);if(C||(f=f.ownerDocument||f,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,C),(m=f.querySelector(Ul(n)))&&!m._p&&(C.instance=m,C.state.loading=5),_s.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},_s.set(n,o),m||l2(f,n,o,C.state))),i&&c===null)throw Error(a(528,""));return C}if(i&&c!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=bo(o),o=zr(f).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function xo(n){return'href="'+js(n)+'"'}function Ul(n){return'link[rel="stylesheet"]['+n+"]"}function oS(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function l2(n,i,o,c){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=n.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Vn(i,"link",o),In(i),n.head.appendChild(i))}function bo(n){return'[src="'+js(n)+'"]'}function ql(n){return"script[async]"+n}function lS(n,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=n.querySelector('style[data-href~="'+js(o.href)+'"]');if(c)return i.instance=c,In(c),c;var f=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),In(c),Vn(c,"style",f),od(c,o.precedence,n),i.instance=c;case"stylesheet":f=xo(o.href);var m=n.querySelector(Ul(f));if(m)return i.state.loading|=4,i.instance=m,In(m),m;c=oS(o),(f=_s.get(f))&&$p(c,f),m=(n.ownerDocument||n).createElement("link"),In(m);var C=m;return C._p=new Promise(function(A,H){C.onload=A,C.onerror=H}),Vn(m,"link",c),i.state.loading|=4,od(m,o.precedence,n),i.instance=m;case"script":return m=bo(o.src),(f=n.querySelector(ql(m)))?(i.instance=f,In(f),f):(c=o,(f=_s.get(m))&&(c=b({},o),Kp(c,f)),n=n.ownerDocument||n,f=n.createElement("script"),In(f),Vn(f,"link",c),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,od(c,o.precedence,n));return i.instance}function od(n,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,m=f,C=0;C<c.length;C++){var A=c[C];if(A.dataset.precedence===i)m=A;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(n,i.firstChild))}function $p(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Kp(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var ld=null;function cS(n,i,o){if(ld===null){var c=new Map,f=ld=new Map;f.set(o,c)}else f=ld,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(n))return c;for(c.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var m=o[f];if(!(m[ol]||m[yt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var C=m.getAttribute(i)||"";C=n+C;var A=c.get(C);A?A.push(m):c.set(C,[m])}}return c}function uS(n,i,o){n=n.ownerDocument||n,n.head.insertBefore(o,i==="title"?n.querySelector("head > title"):null)}function c2(n,i,o){if(o===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function dS(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function u2(n,i,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=xo(c.href),m=i.querySelector(Ul(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(n.count++,n=cd.bind(n),i.then(n,n)),o.state.loading|=4,o.instance=m,In(m);return}m=i.ownerDocument||i,c=oS(c),(f=_s.get(f))&&$p(c,f),m=m.createElement("link"),In(m);var C=m;C._p=new Promise(function(A,H){C.onload=A,C.onerror=H}),Vn(m,"link",c),o.instance=m}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=cd.bind(n),i.addEventListener("load",o),i.addEventListener("error",o))}}var Qp=0;function d2(n,i){return n.stylesheets&&n.count===0&&dd(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var c=setTimeout(function(){if(n.stylesheets&&dd(n,n.stylesheets),n.unsuspend){var m=n.unsuspend;n.unsuspend=null,m()}},6e4+i);0<n.imgBytes&&Qp===0&&(Qp=62500*qA());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&dd(n,n.stylesheets),n.unsuspend)){var m=n.unsuspend;n.unsuspend=null,m()}},(n.imgBytes>Qp?50:800)+i);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function cd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dd(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ud=null;function dd(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ud=new Map,i.forEach(h2,n),ud=null,cd.call(n))}function h2(n,i){if(!(i.state.loading&4)){var o=ud.get(n);if(o)var c=o.get(null);else{o=new Map,ud.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var C=f[m];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(o.set(C.dataset.precedence,C),c=C)}c&&o.set(null,c)}f=i.instance,C=f.getAttribute("data-precedence"),m=o.get(C)||c,m===c&&o.set(null,f),o.set(C,f),this.count++,c=cd.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var Yl={$$typeof:M,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function f2(n,i,o,c,f,m,C,A,H){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kn(0),this.hiddenUpdates=Kn(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function hS(n,i,o,c,f,m,C,A,H,se,Se,De){return n=new f2(n,i,o,C,H,se,Se,De,A),i=1,m===!0&&(i|=24),m=ps(3,null,null,i),n.current=m,m.stateNode=n,i=Mf(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:c,isDehydrated:o,cache:i},Rf(m),n}function fS(n){return n?(n=Kr,n):Kr}function pS(n,i,o,c,f,m){f=fS(f),c.context===null?c.context=f:c.pendingContext=f,c=aa(i),c.payload={element:o},m=m===void 0?null:m,m!==null&&(c.callback=m),o=ra(n,c,i),o!==null&&(os(o,n,i),Tl(o,n,i))}function mS(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<i?o:i}}function Xp(n,i){mS(n,i),(n=n.alternate)&&mS(n,i)}function gS(n){if(n.tag===13||n.tag===31){var i=Ya(n,67108864);i!==null&&os(i,n,67108864),Xp(n,67108864)}}function yS(n){if(n.tag===13||n.tag===31){var i=bs();i=Va(i);var o=Ya(n,i);o!==null&&os(o,n,i),Xp(n,i)}}var hd=!0;function p2(n,i,o,c){var f=F.T;F.T=null;var m=Y.p;try{Y.p=2,Zp(n,i,o,c)}finally{Y.p=m,F.T=f}}function m2(n,i,o,c){var f=F.T;F.T=null;var m=Y.p;try{Y.p=8,Zp(n,i,o,c)}finally{Y.p=m,F.T=f}}function Zp(n,i,o,c){if(hd){var f=Jp(c);if(f===null)Lp(n,i,c,fd,o),bS(n,c);else if(y2(f,n,i,o,c))c.stopPropagation();else if(bS(n,c),i&4&&-1<g2.indexOf(n)){for(;f!==null;){var m=Lr(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var C=Us(m.pendingLanes);if(C!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;C;){var H=1<<31-kt(C);A.entanglements[1]|=H,C&=~H}oi(m),(Mt&6)===0&&(Ku=ye()+500,Bl(0))}}break;case 31:case 13:A=Ya(m,2),A!==null&&os(A,m,2),Xu(),Xp(m,2)}if(m=Jp(c),m===null&&Lp(n,i,c,fd,o),m===f)break;f=m}f!==null&&c.stopPropagation()}else Lp(n,i,c,null,o)}}function Jp(n){return n=ef(n),em(n)}var fd=null;function em(n){if(fd=null,n=Nr(n),n!==null){var i=u(n);if(i===null)n=null;else{var o=i.tag;if(o===13){if(n=d(i),n!==null)return n;n=null}else if(o===31){if(n=h(i),n!==null)return n;n=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return fd=n,null}function xS(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ee()){case _e:return 2;case Le:return 8;case Ze:case Be:return 32;case $e:return 268435456;default:return 32}default:return 32}}var tm=!1,ya=null,xa=null,ba=null,Gl=new Map,$l=new Map,va=[],g2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bS(n,i){switch(n){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":xa=null;break;case"mouseover":case"mouseout":ba=null;break;case"pointerover":case"pointerout":Gl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(i.pointerId)}}function Kl(n,i,o,c,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Lr(i),i!==null&&gS(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function y2(n,i,o,c,f){switch(i){case"focusin":return ya=Kl(ya,n,i,o,c,f),!0;case"dragenter":return xa=Kl(xa,n,i,o,c,f),!0;case"mouseover":return ba=Kl(ba,n,i,o,c,f),!0;case"pointerover":var m=f.pointerId;return Gl.set(m,Kl(Gl.get(m)||null,n,i,o,c,f)),!0;case"gotpointercapture":return m=f.pointerId,$l.set(m,Kl($l.get(m)||null,n,i,o,c,f)),!0}return!1}function vS(n){var i=Nr(n.target);if(i!==null){var o=u(i);if(o!==null){if(i=o.tag,i===13){if(i=d(o),i!==null){n.blockedOn=i,je(n.priority,function(){yS(o)});return}}else if(i===31){if(i=h(o),i!==null){n.blockedOn=i,je(n.priority,function(){yS(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function pd(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var o=Jp(n.nativeEvent);if(o===null){o=n.nativeEvent;var c=new o.constructor(o.type,o);Jh=c,o.target.dispatchEvent(c),Jh=null}else return i=Lr(o),i!==null&&gS(i),n.blockedOn=o,!1;i.shift()}return!0}function SS(n,i,o){pd(n)&&o.delete(i)}function x2(){tm=!1,ya!==null&&pd(ya)&&(ya=null),xa!==null&&pd(xa)&&(xa=null),ba!==null&&pd(ba)&&(ba=null),Gl.forEach(SS),$l.forEach(SS)}function md(n,i){n.blockedOn===i&&(n.blockedOn=null,tm||(tm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,x2)))}var gd=null;function wS(n){gd!==n&&(gd=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){gd===n&&(gd=null);for(var i=0;i<n.length;i+=3){var o=n[i],c=n[i+1],f=n[i+2];if(typeof c!="function"){if(em(c||o)===null)continue;break}var m=Lr(o);m!==null&&(n.splice(i,3),i-=3,Jf(m,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function vo(n){function i(H){return md(H,n)}ya!==null&&md(ya,n),xa!==null&&md(xa,n),ba!==null&&md(ba,n),Gl.forEach(i),$l.forEach(i);for(var o=0;o<va.length;o++){var c=va[o];c.blockedOn===n&&(c.blockedOn=null)}for(;0<va.length&&(o=va[0],o.blockedOn===null);)vS(o),o.blockedOn===null&&va.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],m=o[c+1],C=f[tn]||null;if(typeof m=="function")C||wS(o);else if(C){var A=null;if(m&&m.hasAttribute("formAction")){if(f=m,C=m[tn]||null)A=C.formAction;else if(em(f)!==null)continue}else A=C.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),wS(o)}}}function CS(){function n(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(C){return f=C})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function nm(n){this._internalRoot=n}yd.prototype.render=nm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,c=bs();pS(o,c,n,i,null,null)},yd.prototype.unmount=nm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;pS(n.current,2,null,n,null,null),Xu(),i[ts]=null}};function yd(n){this._internalRoot=n}yd.prototype.unstable_scheduleHydration=function(n){if(n){var i=Ce();n={blockedOn:null,target:n,priority:i};for(var o=0;o<va.length&&i!==0&&i<va[o].priority;o++);va.splice(o,0,n),o===0&&vS(n)}};var TS=t.version;if(TS!=="19.2.0")throw Error(a(527,TS,"19.2.0"));Y.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=g(i),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var b2={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xd.isDisabled&&xd.supportsFiber)try{pt=xd.inject(b2),Ye=xd}catch{}}return Ql.createRoot=function(n,i){if(!l(n))throw Error(a(299));var o=!1,c="",f=Pb,m=Ob,C=Rb;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(C=i.onRecoverableError)),i=hS(n,1,!1,null,null,o,c,null,f,m,C,CS),n[ts]=i.current,Np(n),new nm(i)},Ql.hydrateRoot=function(n,i,o){if(!l(n))throw Error(a(299));var c=!1,f="",m=Pb,C=Ob,A=Rb,H=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(C=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(H=o.formState)),i=hS(n,1,!0,i,o??null,c,f,H,m,C,A,CS),i.context=fS(null),o=i.current,c=bs(),c=Va(c),f=aa(c),f.callback=null,ra(o,f,c),o=c,i.current.lanes=o,si(i,o),oi(i),n[ts]=i.current,Np(n),new yd(i)},Ql.version="19.2.0",Ql}var NS;function eO(){if(NS)return im.exports;NS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),im.exports=JP(),im.exports}var tO=eO();const nO=UC(tO);var $C={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},LS=Ea.createContext&&Ea.createContext($C),sO=["attr","size","title"];function iO(e,t){if(e==null)return{};var s=aO(e,t),a,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)a=u[l],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function aO(e,t){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}function Yd(){return Yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Yd.apply(this,arguments)}function zS(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),s.push.apply(s,a)}return s}function Gd(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?zS(Object(s),!0).forEach(function(a){rO(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):zS(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function rO(e,t,s){return t=oO(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function oO(e){var t=lO(e,"string");return typeof t=="symbol"?t:t+""}function lO(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KC(e){return e&&e.map((t,s)=>Ea.createElement(t.tag,Gd({key:s},t.attr),KC(t.child)))}function QC(e){return t=>Ea.createElement(cO,Yd({attr:Gd({},e.attr)},t),KC(e.child))}function cO(e){var t=s=>{var{attr:a,size:l,title:u}=e,d=iO(e,sO),h=l||s.size||"1em",p;return s.className&&(p=s.className),e.className&&(p=(p?p+" ":"")+e.className),Ea.createElement("svg",Yd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,a,d,{className:p,style:Gd(Gd({color:e.color||s.color},s.style),e.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),u&&Ea.createElement("title",null,u),e.children)};return LS!==void 0?Ea.createElement(LS.Consumer,null,s=>t(s)):t($C)}function uO(e){return QC({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 16h4c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1v-1a2 2 0 1 0-4 0v1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1zm.8-6c0-.66.54-1.2 1.2-1.2.66 0 1.2.54 1.2 1.2v1h-2.4v-1zM17 1H7c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 18H7V5h10v14z"},child:[]}]})(e)}function dO(e){return QC({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m23.25 12.77-2.57-2.57-1.41 1.41 2.22 2.22-5.66 5.66L4.51 8.17l5.66-5.66 2.1 2.1 1.41-1.41L11.23.75a1.49 1.49 0 0 0-2.12 0L2.75 7.11a1.49 1.49 0 0 0 0 2.12l12.02 12.02c.59.59 1.54.59 2.12 0l6.36-6.36c.59-.59.59-1.54 0-2.12zM8.47 20.48A10.487 10.487 0 0 1 2.5 12H1c.51 6.16 5.66 11 11.95 11l.66-.03-3.81-3.82-1.33 1.33zM16 9h5c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1v-.5a2.5 2.5 0 0 0-5 0V3c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1zm.8-6.5c0-.94.76-1.7 1.7-1.7s1.7.76 1.7 1.7V3h-3.4v-.5z"},child:[]}]})(e)}class hO{constructor(){this.audioContext=null,this.isMuted=this.loadMutePreference(),this.volume=this.loadVolumePreference(),this.sounds={},this.initAudioContext()}initAudioContext(){if(!this.audioContext&&typeof window<"u")try{this.audioContext=new(window.AudioContext||window.webkitAudioContext)}catch(t){console.warn("Web Audio API not supported",t)}}loadMutePreference(){try{return localStorage.getItem("audioMuted")==="true"}catch{return!1}}loadVolumePreference(){try{const t=localStorage.getItem("audioVolume");return t?parseFloat(t):.3}catch{return .3}}saveMutePreference(){try{localStorage.setItem("audioMuted",this.isMuted.toString())}catch(t){console.warn("Could not save mute preference",t)}}toggleMute(){return this.isMuted=!this.isMuted,this.saveMutePreference(),this.isMuted}setMuted(t){this.isMuted=t,this.saveMutePreference()}isMutedState(){return this.isMuted}playBeep(t=800,s=200,a=null){if(this.isMuted)return;const l=a!==null?a:this.loadVolumePreference();if(!(!this.audioContext&&(this.initAudioContext(),!this.audioContext)))try{this.audioContext.state==="suspended"&&this.audioContext.resume();const u=this.audioContext.createOscillator(),d=this.audioContext.createGain();u.connect(d),d.connect(this.audioContext.destination),u.frequency.value=t,u.type="sine",d.gain.setValueAtTime(l,this.audioContext.currentTime),d.gain.exponentialRampToValueAtTime(.01,this.audioContext.currentTime+s/1e3),u.start(this.audioContext.currentTime),u.stop(this.audioContext.currentTime+s/1e3)}catch(u){console.warn("Could not play beep",u)}}playHighBeep(){this.playBeep(1e3,300)}playLowBeep(){this.playBeep(400,300)}playChime(){if(!this.isMuted&&!(!this.audioContext&&(this.initAudioContext(),!this.audioContext)))try{this.audioContext.state==="suspended"&&this.audioContext.resume(),this.playBeep(800,200),setTimeout(()=>{this.playBeep(1e3,400)},150)}catch(t){console.warn("Could not play chime",t)}}playCountdownBeep(){this.isMuted||(this.playBeep(600,150),setTimeout(()=>this.playBeep(600,150),200),setTimeout(()=>this.playBeep(600,150),400))}playCompletionFanfare(){if(!this.isMuted&&!(!this.audioContext&&(this.initAudioContext(),!this.audioContext)))try{this.audioContext.state==="suspended"&&this.audioContext.resume(),[523,659,784,1047].forEach((s,a)=>{setTimeout(()=>{this.playBeep(s,300)},a*150)})}catch(t){console.warn("Could not play completion fanfare",t)}}playTransitionBeep(){this.isMuted||this.playBeep(700,200)}}const It=new hO;class fO{constructor(){this.wakeLock=null,this.isSupported="wakeLock"in navigator}isWakeLockSupported(){return this.isSupported}async requestWakeLock(){if(!this.isSupported)return console.warn("Wake Lock API is not supported in this browser"),!1;try{return this.wakeLock=await navigator.wakeLock.request("screen"),console.log("Wake Lock acquired"),this.wakeLock.addEventListener("release",()=>{console.log("Wake Lock released")}),!0}catch(t){return console.error(`Failed to acquire wake lock: ${t.name}, ${t.message}`),!1}}async releaseWakeLock(){if(this.wakeLock!==null)try{await this.wakeLock.release(),this.wakeLock=null,console.log("Wake Lock manually released")}catch(t){console.error(`Failed to release wake lock: ${t.message}`)}}isActive(){return this.wakeLock!==null&&!this.wakeLock.released}async reacquireOnVisibilityChange(){if(!this.isSupported)return;const t=async()=>{document.visibilityState==="visible"&&this.wakeLock!==null&&this.wakeLock.released&&await this.requestWakeLock()};return document.addEventListener("visibilitychange",t),()=>{document.removeEventListener("visibilitychange",t)}}}const mr=new fO,Hg=x.memo(({currentWeek:e=1,deloadWeekActive:t=!1,onDeloadTrigger:s,clickable:a=!1})=>{const l=Jo(),d=["SUN","MON","TUE","WED","THU","FRI","SAT"][new Date().getDay()],h=e>=4&&!t&&a,g=t?{backgroundColor:l.palette.mode==="dark"?"rgba(255, 152, 0, 0.2)":"rgba(255, 152, 0, 0.15)",color:l.palette.warning.main,border:`1px solid ${l.palette.warning.main}`}:{backgroundColor:l.palette.mode==="dark"?"rgba(29, 181, 132, 0.2)":"rgba(29, 181, 132, 0.15)",color:l.palette.primary.main,border:`1px solid ${l.palette.mode==="dark","rgba(29, 181, 132, 0.3)"}`},y=()=>{h&&s&&s()},b=r.jsxs(L,{onClick:y,sx:{display:"inline-flex",alignItems:"center",gap:.5,padding:"4px 12px",borderRadius:"16px",fontWeight:600,fontSize:"0.875rem",letterSpacing:"0.5px",cursor:h?"pointer":"default",transition:"all 0.2s ease",...g,"&:hover":h?{transform:"scale(1.05)",boxShadow:l.palette.mode==="dark"?"0 2px 8px rgba(0, 0, 0, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.15)"}:{},"&:active":h?{transform:"scale(0.98)"}:{}},role:h?"button":void 0,tabIndex:h?0:void 0,onKeyDown:h?v=>{(v.key==="Enter"||v.key===" ")&&(v.preventDefault(),y())}:void 0,"aria-label":h?`Week ${e} - Click to trigger deload week`:`${d}, Week ${e}${t?" (Deload)":""}`,children:[r.jsx(L,{component:"span",sx:{fontWeight:700},children:d}),r.jsx(L,{component:"span",sx:{fontSize:"1rem",opacity:.6,mx:.25},children:"|"}),r.jsx(L,{component:"span",sx:{fontWeight:600},children:t?"DELOAD":`WK ${e}`}),t&&r.jsx(Rg,{sx:{fontSize:"1rem",ml:.25}})]});return h?r.jsx(Gn,{title:"Click to trigger deload week",arrow:!0,children:b}):b});Hg.displayName="WeekBadge";Hg.propTypes={currentWeek:D.number,deloadWeekActive:D.bool,onDeloadTrigger:D.func,clickable:D.bool};const XC="@firebase/installations",Ug="0.6.19";const ZC=1e4,JC=`w:${Ug}`,eT="FIS_v2",pO="https://firebaseinstallations.googleapis.com/v1",mO=3600*1e3,gO="installations",yO="Installations";const xO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},kr=new qC(gO,yO,xO);function tT(e){return e instanceof jP&&e.code.includes("request-failed")}function nT({projectId:e}){return`${pO}/projects/${e}/installations`}function sT(e){return{token:e.token,requestStatus:2,expiresIn:vO(e.expiresIn),creationTime:Date.now()}}async function iT(e,t){const a=(await t.json()).error;return kr.create("request-failed",{requestName:e,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function aT({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function bO(e,{refreshToken:t}){const s=aT(e);return s.append("Authorization",SO(t)),s}async function rT(e){const t=await e();return t.status>=500&&t.status<600?e():t}function vO(e){return Number(e.replace("s","000"))}function SO(e){return`${eT} ${e}`}async function wO({appConfig:e,heartbeatServiceProvider:t},{fid:s}){const a=nT(e),l=aT(e),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const d={fid:s,authVersion:eT,appId:e.appId,sdkVersion:JC},h={method:"POST",headers:l,body:JSON.stringify(d)},p=await rT(()=>fetch(a,h));if(p.ok){const g=await p.json();return{fid:g.fid||s,registrationStatus:2,refreshToken:g.refreshToken,authToken:sT(g.authToken)}}else throw await iT("Create Installation",p)}function oT(e){return new Promise(t=>{setTimeout(t,e)})}function CO(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}const TO=/^[cdef][\w-]{21}$/,Vm="";function kO(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const s=jO(e);return TO.test(s)?s:Vm}catch{return Vm}}function jO(e){return CO(e).substr(0,22)}function yh(e){return`${e.appName}!${e.appId}`}const lT=new Map;function cT(e,t){const s=yh(e);uT(s,t),DO(s,t)}function uT(e,t){const s=lT.get(e);if(s)for(const a of s)a(t)}function DO(e,t){const s=EO();s&&s.postMessage({key:e,fid:t}),MO()}let yr=null;function EO(){return!yr&&"BroadcastChannel"in self&&(yr=new BroadcastChannel("[Firebase] FID Change"),yr.onmessage=e=>{uT(e.data.key,e.data.fid)}),yr}function MO(){lT.size===0&&yr&&(yr.close(),yr=null)}const AO="firebase-installations-database",PO=1,jr="firebase-installations-store";let om=null;function qg(){return om||(om=Fg(AO,PO,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(jr)}}})),om}async function $d(e,t){const s=yh(e),l=(await qg()).transaction(jr,"readwrite"),u=l.objectStore(jr),d=await u.get(s);return await u.put(t,s),await l.done,(!d||d.fid!==t.fid)&&cT(e,t.fid),t}async function dT(e){const t=yh(e),a=(await qg()).transaction(jr,"readwrite");await a.objectStore(jr).delete(t),await a.done}async function xh(e,t){const s=yh(e),l=(await qg()).transaction(jr,"readwrite"),u=l.objectStore(jr),d=await u.get(s),h=t(d);return h===void 0?await u.delete(s):await u.put(h,s),await l.done,h&&(!d||d.fid!==h.fid)&&cT(e,h.fid),h}async function Yg(e){let t;const s=await xh(e.appConfig,a=>{const l=OO(a),u=RO(e,l);return t=u.registrationPromise,u.installationEntry});return s.fid===Vm?{installationEntry:await t}:{installationEntry:s,registrationPromise:t}}function OO(e){const t=e||{fid:kO(),registrationStatus:0};return hT(t)}function RO(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(kr.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const s={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},a=_O(e,s);return{installationEntry:s,registrationPromise:a}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:IO(e)}:{installationEntry:t}}async function _O(e,t){try{const s=await wO(e,t);return $d(e.appConfig,s)}catch(s){throw tT(s)&&s.customData.serverCode===409?await dT(e.appConfig):await $d(e.appConfig,{fid:t.fid,registrationStatus:0}),s}}async function IO(e){let t=await BS(e.appConfig);for(;t.registrationStatus===1;)await oT(100),t=await BS(e.appConfig);if(t.registrationStatus===0){const{installationEntry:s,registrationPromise:a}=await Yg(e);return a||s}return t}function BS(e){return xh(e,t=>{if(!t)throw kr.create("installation-not-found");return hT(t)})}function hT(e){return WO(e)?{fid:e.fid,registrationStatus:0}:e}function WO(e){return e.registrationStatus===1&&e.registrationTime+ZC<Date.now()}async function NO({appConfig:e,heartbeatServiceProvider:t},s){const a=LO(e,s),l=bO(e,s),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const d={installation:{sdkVersion:JC,appId:e.appId}},h={method:"POST",headers:l,body:JSON.stringify(d)},p=await rT(()=>fetch(a,h));if(p.ok){const g=await p.json();return sT(g)}else throw await iT("Generate Auth Token",p)}function LO(e,{fid:t}){return`${nT(e)}/${t}/authTokens:generate`}async function Gg(e,t=!1){let s;const a=await xh(e.appConfig,u=>{if(!fT(u))throw kr.create("not-registered");const d=u.authToken;if(!t&&VO(d))return u;if(d.requestStatus===1)return s=zO(e,t),u;{if(!navigator.onLine)throw kr.create("app-offline");const h=HO(u);return s=BO(e,h),h}});return s?await s:a.authToken}async function zO(e,t){let s=await VS(e.appConfig);for(;s.authToken.requestStatus===1;)await oT(100),s=await VS(e.appConfig);const a=s.authToken;return a.requestStatus===0?Gg(e,t):a}function VS(e){return xh(e,t=>{if(!fT(t))throw kr.create("not-registered");const s=t.authToken;return UO(s)?{...t,authToken:{requestStatus:0}}:t})}async function BO(e,t){try{const s=await NO(e,t),a={...t,authToken:s};return await $d(e.appConfig,a),s}catch(s){if(tT(s)&&(s.customData.serverCode===401||s.customData.serverCode===404))await dT(e.appConfig);else{const a={...t,authToken:{requestStatus:0}};await $d(e.appConfig,a)}throw s}}function fT(e){return e!==void 0&&e.registrationStatus===2}function VO(e){return e.requestStatus===2&&!FO(e)}function FO(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+mO}function HO(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function UO(e){return e.requestStatus===1&&e.requestTime+ZC<Date.now()}async function qO(e){const t=e,{installationEntry:s,registrationPromise:a}=await Yg(t);return a?a.catch(console.error):Gg(t).catch(console.error),s.fid}async function YO(e,t=!1){const s=e;return await GO(s),(await Gg(s,t)).token}async function GO(e){const{registrationPromise:t}=await Yg(e);t&&await t}function $O(e){if(!e||!e.options)throw lm("App Configuration");if(!e.name)throw lm("App Name");const t=["projectId","apiKey","appId"];for(const s of t)if(!e.options[s])throw lm(s);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function lm(e){return kr.create("missing-app-config-values",{valueName:e})}const pT="installations",KO="installations-internal",QO=e=>{const t=e.getProvider("app").getImmediate(),s=$O(t),a=Vg(t,"heartbeat");return{app:t,appConfig:s,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},XO=e=>{const t=e.getProvider("app").getImmediate(),s=Vg(t,pT).getImmediate();return{getId:()=>qO(s),getToken:l=>YO(s,l)}};function ZO(){Ud(new qd(pT,QO,"PUBLIC")),Ud(new qd(KO,XO,"PRIVATE"))}ZO();Hd(XC,Ug);Hd(XC,Ug,"esm2020");const JO="/firebase-messaging-sw.js",eR="/firebase-cloud-messaging-push-scope",mT="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",tR="https://fcmregistrations.googleapis.com/v1",gT="google.c.a.c_id",nR="google.c.a.c_l",sR="google.c.a.ts",iR="google.c.a.e",FS=1e4;var HS;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(HS||(HS={}));var kc;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(kc||(kc={}));function Li(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function aR(e){const t="=".repeat((4-e.length%4)%4),s=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),a=atob(s),l=new Uint8Array(a.length);for(let u=0;u<a.length;++u)l[u]=a.charCodeAt(u);return l}const cm="fcm_token_details_db",rR=5,US="fcm_token_object_Store";async function oR(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(u=>u.name).includes(cm))return null;let t=null;return(await Fg(cm,rR,{upgrade:async(a,l,u,d)=>{if(l<2||!a.objectStoreNames.contains(US))return;const h=d.objectStore(US),p=await h.index("fcmSenderId").get(e);if(await h.clear(),!!p){if(l===2){const g=p;if(!g.auth||!g.p256dh||!g.endpoint)return;t={token:g.fcmToken,createTime:g.createTime??Date.now(),subscriptionOptions:{auth:g.auth,p256dh:g.p256dh,endpoint:g.endpoint,swScope:g.swScope,vapidKey:typeof g.vapidKey=="string"?g.vapidKey:Li(g.vapidKey)}}}else if(l===3){const g=p;t={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:Li(g.auth),p256dh:Li(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:Li(g.vapidKey)}}}else if(l===4){const g=p;t={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:Li(g.auth),p256dh:Li(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:Li(g.vapidKey)}}}}}})).close(),await sm(cm),await sm("fcm_vapid_details_db"),await sm("undefined"),lR(t)?t:null}function lR(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}const cR="firebase-messaging-database",uR=1,jc="firebase-messaging-store";let um=null;function yT(){return um||(um=Fg(cR,uR,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(jc)}}})),um}async function dR(e){const t=xT(e),a=await(await yT()).transaction(jc).objectStore(jc).get(t);if(a)return a;{const l=await oR(e.appConfig.senderId);if(l)return await $g(e,l),l}}async function $g(e,t){const s=xT(e),l=(await yT()).transaction(jc,"readwrite");return await l.objectStore(jc).put(t,s),await l.done,t}function xT({appConfig:e}){return e.appId}const hR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},es=new qC("messaging","Messaging",hR);async function fR(e,t){const s=await Qg(e),a=bT(t),l={method:"POST",headers:s,body:JSON.stringify(a)};let u;try{u=await(await fetch(Kg(e.appConfig),l)).json()}catch(d){throw es.create("token-subscribe-failed",{errorInfo:d?.toString()})}if(u.error){const d=u.error.message;throw es.create("token-subscribe-failed",{errorInfo:d})}if(!u.token)throw es.create("token-subscribe-no-token");return u.token}async function pR(e,t){const s=await Qg(e),a=bT(t.subscriptionOptions),l={method:"PATCH",headers:s,body:JSON.stringify(a)};let u;try{u=await(await fetch(`${Kg(e.appConfig)}/${t.token}`,l)).json()}catch(d){throw es.create("token-update-failed",{errorInfo:d?.toString()})}if(u.error){const d=u.error.message;throw es.create("token-update-failed",{errorInfo:d})}if(!u.token)throw es.create("token-update-no-token");return u.token}async function mR(e,t){const a={method:"DELETE",headers:await Qg(e)};try{const u=await(await fetch(`${Kg(e.appConfig)}/${t}`,a)).json();if(u.error){const d=u.error.message;throw es.create("token-unsubscribe-failed",{errorInfo:d})}}catch(l){throw es.create("token-unsubscribe-failed",{errorInfo:l?.toString()})}}function Kg({projectId:e}){return`${tR}/projects/${e}/registrations`}async function Qg({appConfig:e,installations:t}){const s=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${s}`})}function bT({p256dh:e,auth:t,endpoint:s,vapidKey:a}){const l={web:{endpoint:s,auth:t,p256dh:e}};return a!==mT&&(l.web.applicationPubKey=a),l}const gR=10080*60*1e3;async function yR(e){const t=await bR(e.swRegistration,e.vapidKey),s={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Li(t.getKey("auth")),p256dh:Li(t.getKey("p256dh"))},a=await dR(e.firebaseDependencies);if(a){if(vR(a.subscriptionOptions,s))return Date.now()>=a.createTime+gR?xR(e,{token:a.token,createTime:Date.now(),subscriptionOptions:s}):a.token;try{await mR(e.firebaseDependencies,a.token)}catch(l){console.warn(l)}return qS(e.firebaseDependencies,s)}else return qS(e.firebaseDependencies,s)}async function xR(e,t){try{const s=await pR(e.firebaseDependencies,t),a={...t,token:s,createTime:Date.now()};return await $g(e.firebaseDependencies,a),s}catch(s){throw s}}async function qS(e,t){const a={token:await fR(e,t),createTime:Date.now(),subscriptionOptions:t};return await $g(e,a),a.token}async function bR(e,t){const s=await e.pushManager.getSubscription();return s||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:aR(t)})}function vR(e,t){const s=t.vapidKey===e.vapidKey,a=t.endpoint===e.endpoint,l=t.auth===e.auth,u=t.p256dh===e.p256dh;return s&&a&&l&&u}function YS(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return SR(t,e),wR(t,e),CR(t,e),t}function SR(e,t){if(!t.notification)return;e.notification={};const s=t.notification.title;s&&(e.notification.title=s);const a=t.notification.body;a&&(e.notification.body=a);const l=t.notification.image;l&&(e.notification.image=l);const u=t.notification.icon;u&&(e.notification.icon=u)}function wR(e,t){t.data&&(e.data=t.data)}function CR(e,t){if(!t.fcmOptions&&!t.notification?.click_action)return;e.fcmOptions={};const s=t.fcmOptions?.link??t.notification?.click_action;s&&(e.fcmOptions.link=s);const a=t.fcmOptions?.analytics_label;a&&(e.fcmOptions.analyticsLabel=a)}function TR(e){return typeof e=="object"&&!!e&&gT in e}function kR(e){if(!e||!e.options)throw dm("App Configuration Object");if(!e.name)throw dm("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:s}=e;for(const a of t)if(!s[a])throw dm(a);return{appName:e.name,projectId:s.projectId,apiKey:s.apiKey,appId:s.appId,senderId:s.messagingSenderId}}function dm(e){return es.create("missing-app-config-values",{valueName:e})}class jR{constructor(t,s,a){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const l=kR(t);this.firebaseDependencies={app:t,appConfig:l,installations:s,analyticsProvider:a}}_delete(){return Promise.resolve()}}async function DR(e){try{e.swRegistration=await navigator.serviceWorker.register(JO,{scope:eR}),e.swRegistration.update().catch(()=>{}),await ER(e.swRegistration)}catch(t){throw es.create("failed-service-worker-registration",{browserErrorMessage:t?.message})}}async function ER(e){return new Promise((t,s)=>{const a=setTimeout(()=>s(new Error(`Service worker not registered after ${FS} ms`)),FS),l=e.installing||e.waiting;e.active?(clearTimeout(a),t()):l?l.onstatechange=u=>{u.target?.state==="activated"&&(l.onstatechange=null,clearTimeout(a),t())}:(clearTimeout(a),s(new Error("No incoming service worker found.")))})}async function MR(e,t){if(!t&&!e.swRegistration&&await DR(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw es.create("invalid-sw-registration");e.swRegistration=t}}async function AR(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=mT)}async function vT(e,t){if(!navigator)throw es.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw es.create("permission-blocked");return await AR(e,t?.vapidKey),await MR(e,t?.serviceWorkerRegistration),yR(e)}async function PR(e,t,s){const a=OR(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(a,{message_id:s[gT],message_name:s[nR],message_time:s[sR],message_device_time:Math.floor(Date.now()/1e3)})}function OR(e){switch(e){case kc.NOTIFICATION_CLICKED:return"notification_open";case kc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function RR(e,t){const s=t.data;if(!s.isFirebaseMessaging)return;e.onMessageHandler&&s.messageType===kc.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(YS(s)):e.onMessageHandler.next(YS(s)));const a=s.data;TR(a)&&a[iR]==="1"&&await PR(e,s.messageType,a)}const GS="@firebase/messaging",$S="0.12.23";const _R=e=>{const t=new jR(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",s=>RR(t,s)),t},IR=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:a=>vT(t,a)}};function WR(){Ud(new qd("messaging",_R,"PUBLIC")),Ud(new qd("messaging-internal",IR,"PRIVATE")),Hd(GS,$S),Hd(GS,$S,"esm2020")}async function ST(){try{await EP()}catch{return!1}return typeof window<"u"&&MP()&&AP()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function NR(e=DP()){return ST().then(t=>{if(!t)throw es.create("unsupported-browser")},t=>{throw es.create("indexed-db-unsupported")}),Vg(YC(e),"messaging").getImmediate()}async function LR(e,t){return e=YC(e),vT(e,t)}WR();const zR={apiKey:"AIzaSyCxgAj6zUGeScwae1Slw-JqX-ZAEcEhAcI",authDomain:"goodlift-7760a.firebaseapp.com",projectId:"goodlift-7760a",storageBucket:"goodlift-7760a.firebasestorage.app",messagingSenderId:"444306542177",appId:"1:444306542177:web:ea09005a6d4cf46d6f6420",measurementId:"G-YR73MY2CH6"},bh=PP(zR),wT=OP(bh),bd=RP(bh);_P(bh);let Kd=null;ST().then(e=>{e&&(Kd=NR(bh))}).catch(e=>{console.warn("Firebase Messaging not supported:",e)});const BR="modulepreload",VR=function(e){return"/goodlift/"+e},KS={},FR=function(t,s,a){let l=Promise.resolve();if(s&&s.length>0){let p=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=d?.nonce||d?.getAttribute("nonce");l=p(s.map(g=>{if(g=VR(g),g in KS)return;KS[g]=!0;const y=g.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const v=document.createElement("link");if(v.rel=y?"stylesheet":BR,y||(v.as="script"),v.crossOrigin="",v.href=g,h&&v.setAttribute("nonce",h),document.head.appendChild(v),y)return new Promise((S,j)=>{v.addEventListener("load",S),v.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return l.then(d=>{for(const h of d||[])h.status==="rejected"&&u(h.reason);return t().catch(u)})},Fm=e=>{if(e==null)return null;if(Array.isArray(e))return e.map(t=>Fm(t));if(typeof e=="object"){const t={};for(const[s,a]of Object.entries(e))a!==void 0&&(t[s]=Fm(a));return t}return e},vn=async(e,t)=>{if(!e){console.error("Cannot save data: No user ID provided");return}try{const s=GC(wT,"users",e,"data","userData"),a=Fm({...t,lastUpdated:new Date().toISOString()});await IP(s,a,{merge:!0})}catch(s){throw console.error("Error saving data to Firebase:",s),s}},Hs=async e=>{if(!e)return console.error("Cannot load data: No user ID provided"),null;try{const t=GC(wT,"users",e,"data","userData"),s=await WP(t);return s.exists()?s.data():null}catch(t){throw console.error("Error loading data from Firebase:",t),t}},Uc=async(e,t)=>{if(e)try{await vn(e,{workoutHistory:t})}catch(s){console.error("Error saving workout history to Firebase:",s)}},vh=async(e,t)=>{if(e)try{await vn(e,{userStats:t})}catch(s){console.error("Error saving user stats to Firebase:",s)}},Xg=async(e,t)=>{if(e)try{await vn(e,{exerciseWeights:t})}catch(s){console.error("Error saving exercise weights to Firebase:",s)}},Zg=async(e,t)=>{if(e)try{await vn(e,{exerciseTargetReps:t})}catch(s){console.error("Error saving exercise target reps to Firebase:",s)}},HR=async(e,t)=>{if(e)try{await vn(e,{hiitSessions:t})}catch(s){console.error("Error saving HIIT sessions to Firebase:",s)}},UR=async(e,t)=>{if(e)try{await vn(e,{cardioSessions:t})}catch(s){console.error("Error saving cardio sessions to Firebase:",s)}},CT=async(e,t)=>{if(e)try{await vn(e,{stretchSessions:t})}catch(s){console.error("Error saving stretch sessions to Firebase:",s)}},qR=async(e,t)=>{if(e)try{await vn(e,{workoutPlans:t})}catch(s){console.error("Error saving workout plans to Firebase:",s)}},YR=async(e,t)=>{if(e)try{await vn(e,{activePlanId:t})}catch(s){console.error("Error saving active plan to Firebase:",s)}},Jg=async(e,t)=>{if(e)try{await vn(e,{favoriteWorkouts:t})}catch(s){console.error("Error saving favorite workouts to Firebase:",s)}},TT=async(e,t)=>{if(e)try{await vn(e,{hiitPresets:t})}catch(s){console.error("Error saving HIIT presets to Firebase:",s)}},kT=async(e,t)=>{if(e)try{await vn(e,{yogaPresets:t})}catch(s){console.error("Error saving Yoga presets to Firebase:",s)}},ey="goodlift_guest_mode",Hm=1,el={WORKOUT_HISTORY:"goodlift_guest_workout_history",USER_STATS:"goodlift_guest_user_stats",EXERCISE_WEIGHTS:"goodlift_guest_exercise_weights",EXERCISE_TARGET_REPS:"goodlift_guest_exercise_target_reps",HIIT_SESSIONS:"goodlift_guest_hiit_sessions",STRETCH_SESSIONS:"goodlift_guest_stretch_sessions",CARDIO_SESSIONS:"goodlift_guest_cardio_sessions",FAVORITE_WORKOUTS:"goodlift_guest_favorite_workouts",FAVORITE_EXERCISES:"goodlift_guest_favorite_exercises",PINNED_EXERCISES:"goodlift_guest_pinned_exercises",WORKOUT_PLANS:"goodlift_guest_workout_plans",SNACKBAR_DISMISSED:"goodlift_guest_snackbar_dismissed",UNLOCKED_ACHIEVEMENTS:"goodlift_guest_unlocked_achievements",TOTAL_PRS:"goodlift_guest_total_prs",TOTAL_VOLUME:"goodlift_guest_total_volume",ACTIVE_PLAN:"goodlift_guest_active_plan",PLANS:"goodlift_guest_plans",PLAN_DAYS:"goodlift_guest_plan_days",PLAN_EXERCISES:"goodlift_guest_plan_exercises",YOGA_PRESETS:"goodlift_guest_yoga_presets",HIIT_PRESETS:"goodlift_guest_hiit_presets"},Xe=()=>{try{return localStorage.getItem(ey)==="true"}catch(e){return console.error("Error checking guest mode:",e),!1}},GR=()=>{try{localStorage.setItem(ey,"true")}catch(e){console.error("Error enabling guest mode:",e),ty(e)}},Qd=()=>{try{localStorage.removeItem(ey)}catch(e){console.error("Error disabling guest mode:",e)}},jt=e=>{const t=el[e.toUpperCase()];if(!t)return console.error(`Invalid category: ${e}`),null;try{const s=localStorage.getItem(t);if(!s)return null;const a=JSON.parse(s);return a.version&&a.version!==Hm&&console.warn(`Data version mismatch for ${e}: ${a.version} vs ${Hm}`),a.data!==void 0?a.data:a}catch(s){return console.error(`Error reading guest data for ${e}:`,s),null}},xt=(e,t)=>{const s=el[e.toUpperCase()];if(!s){console.error(`Invalid category: ${e}`);return}try{const a={version:Hm,data:t,lastUpdated:new Date().toISOString()};localStorage.setItem(s,JSON.stringify(a))}catch(a){console.error(`Error saving guest data for ${e}:`,a),ty(a)}},QS=()=>{try{Object.values(el).forEach(e=>{localStorage.removeItem(e)}),Qd()}catch(e){console.error("Error clearing guest data:",e)}},jT=()=>{const e={};try{Object.entries(el).forEach(([t,s])=>{if(t==="SNACKBAR_DISMISSED")return;const a=localStorage.getItem(s);if(a)try{const l=JSON.parse(a);e[t.toLowerCase()]=l.data!==void 0?l.data:l}catch(l){console.error(`Error parsing guest data for ${t}:`,l)}})}catch(t){console.error("Error getting all guest data:",t)}return e},$R=()=>{try{const e=localStorage.getItem(el.SNACKBAR_DISMISSED);if(!e)return!0;const t=parseInt(e,10),s=Date.now(),a=1440*60*1e3;return s-t>a}catch(e){return console.error("Error checking snackbar status:",e),!0}},KR=()=>{try{localStorage.setItem(el.SNACKBAR_DISMISSED,Date.now().toString())}catch(e){console.error("Error dismissing snackbar:",e),ty(e)}},ty=e=>{(e.name==="QuotaExceededError"||e.code===22)&&console.error("localStorage quota exceeded. Some data may not be saved.")},Ke={WORKOUT_HISTORY:"goodlift_workout_history",USER_STATS:"goodlift_user_stats",EXERCISE_WEIGHTS:"goodlift_exercise_weights",EXERCISE_TARGET_REPS:"goodlift_exercise_target_reps",HIIT_SESSIONS:"goodlift_hiit_sessions",STRETCH_SESSIONS:"goodlift_stretch_sessions",CARDIO_SESSIONS:"goodlift_cardio_sessions",FAVORITE_WORKOUTS:"goodlift_favorite_workouts",FAVORITE_EXERCISES:"goodlift_favorite_exercises",PINNED_EXERCISES:"goodlift_pinned_exercises",WORKOUT_PLANS:"goodlift_workout_plans",ACTIVE_PLAN:"goodlift_active_plan",UNLOCKED_ACHIEVEMENTS:"goodlift_unlocked_achievements",TOTAL_PRS:"goodlift_total_prs",TOTAL_VOLUME:"goodlift_total_volume",YOGA_PRESETS:"goodlift_yoga_presets",HIIT_PRESETS:"goodlift_hiit_presets"};let lt=null;const DT=e=>{lt=e},qc=()=>lt,ni=async()=>{try{if(Xe())return jt("workout_history")||[];if(lt)try{const t=await Hs(lt);if(t?.workoutHistory)return localStorage.setItem(Ke.WORKOUT_HISTORY,JSON.stringify(t.workoutHistory)),t.workoutHistory}catch(t){console.error("Firebase fetch failed, using localStorage:",t)}const e=localStorage.getItem(Ke.WORKOUT_HISTORY);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading workout history:",e),[]}},ny=async e=>{try{if(!e)throw new Error("Workout data is required");const t=await ni();t.unshift(e),Xe()?xt("workout_history",t):(localStorage.setItem(Ke.WORKOUT_HISTORY,JSON.stringify(t)),lt&&await Uc(lt,t))}catch(t){throw console.error("Error saving workout:",t),t}},QR=async e=>{try{const t=await ni();if(e<0||e>=t.length)throw new Error("Invalid workout index");t.splice(e,1),Xe()?xt("workout_history",t):(localStorage.setItem(Ke.WORKOUT_HISTORY,JSON.stringify(t)),lt&&await Uc(lt,t))}catch(t){throw console.error("Error deleting workout:",t),t}},XR=async(e,t)=>{try{const s=await ni();if(e<0||e>=s.length)throw new Error("Invalid workout index");s[e]={...s[e],...t},Xe()?xt("workout_history",s):(localStorage.setItem(Ke.WORKOUT_HISTORY,JSON.stringify(s)),lt&&await Uc(lt,s))}catch(s){throw console.error("Error updating workout:",s),s}},Yc=async()=>{try{const e=await ni(),{calculateStreak:t}=await FR(async()=>{const{calculateStreak:j}=await Promise.resolve().then(()=>p7);return{calculateStreak:j}},void 0),s=t(e),a=e.length,l=e.reduce((j,k)=>j+(k.duration||0),0),d=MT().reduce((j,k)=>j+(k.duration||0),0),p=AT().reduce((j,k)=>j+(k.duration||0),0),y=Sh().reduce((j,k)=>j+(k.duration||0),0),b=await RT(),v=await _T(),S={totalWorkouts:a,totalTime:l,totalHiitTime:d,totalCardioTime:p,totalStretchTime:y,currentStreak:s.currentStreak,longestStreak:s.longestStreak,totalPRs:b,totalVolume:v};return Xe()?xt("user_stats",S):(localStorage.setItem(Ke.USER_STATS,JSON.stringify(S)),lt&&await vh(lt,S)),S}catch(e){return console.error("Error calculating user stats:",e),{totalWorkouts:0,totalTime:0,totalHiitTime:0,totalCardioTime:0,totalStretchTime:0,currentStreak:0,longestStreak:0,totalPRs:0,totalVolume:0}}},sy=async e=>{try{if(!e)throw new Error("Stats object is required");Xe()?xt("user_stats",e):(localStorage.setItem(Ke.USER_STATS,JSON.stringify(e)),lt&&await vh(lt,e))}catch(t){throw console.error("Error saving user stats:",t),t}},Ma=async e=>{try{if(Xe()){const u=jt("exercise_weights")?.[e];return u!==void 0?u:null}if(lt)try{const l=await Hs(lt);if(l?.exerciseWeights){localStorage.setItem(Ke.EXERCISE_WEIGHTS,JSON.stringify(l.exerciseWeights));const u=l.exerciseWeights[e];return u!==void 0?u:null}}catch(l){console.error("Firebase fetch failed, using localStorage:",l)}const t=localStorage.getItem(Ke.EXERCISE_WEIGHTS),a=(t?JSON.parse(t):{})[e];return a!==void 0?a:null}catch(t){return console.error("Error reading exercise weight:",t),null}},ZR=async()=>{try{if(Xe())return jt("exercise_weights")||{};if(lt)try{const t=await Hs(lt);if(t?.exerciseWeights)return localStorage.setItem(Ke.EXERCISE_WEIGHTS,JSON.stringify(t.exerciseWeights)),t.exerciseWeights}catch(t){console.error("Firebase fetch failed, using localStorage:",t)}const e=localStorage.getItem(Ke.EXERCISE_WEIGHTS);return e?JSON.parse(e):{}}catch(e){return console.error("Error reading exercise weights:",e),{}}},Bi=async(e,t)=>{try{if(!e)throw new Error("Exercise name is required");if(t!=null&&(typeof t!="number"||t<0))throw new Error("Weight must be a positive number or null");const s=await ZR();s[e]=t??null,Xe()?xt("exercise_weights",s):(localStorage.setItem(Ke.EXERCISE_WEIGHTS,JSON.stringify(s)),lt&&await Xg(lt,s))}catch(s){throw console.error("Error saving exercise weight:",s),s}},Fi=async e=>{try{if(Xe()){const u=jt("exercise_target_reps")?.[e];return u!==void 0?u:null}if(lt)try{const l=await Hs(lt);if(l?.exerciseTargetReps){localStorage.setItem(Ke.EXERCISE_TARGET_REPS,JSON.stringify(l.exerciseTargetReps));const u=l.exerciseTargetReps[e];return u!==void 0?u:null}}catch(l){console.error("Firebase fetch failed, using localStorage:",l)}const t=localStorage.getItem(Ke.EXERCISE_TARGET_REPS),a=(t?JSON.parse(t):{})[e];return a!==void 0?a:null}catch(t){return console.error("Error reading exercise target reps:",t),null}},Xd=async(e,t)=>{try{if(!e)throw new Error("Exercise name is required");if(t!=null&&(typeof t!="number"||t<1))throw new Error("Reps must be a positive number or null");let s={};if(Xe())s=jt("exercise_target_reps")||{};else{const a=localStorage.getItem(Ke.EXERCISE_TARGET_REPS);s=a?JSON.parse(a):{}}s[e]=t??null,Xe()?xt("exercise_target_reps",s):(localStorage.setItem(Ke.EXERCISE_TARGET_REPS,JSON.stringify(s)),lt&&await Zg(lt,s))}catch(s){throw console.error("Error saving exercise target reps:",s),s}},ET=async e=>{if(!e){console.error("Cannot load data: No user ID provided");return}try{DT(e);const t=await Hs(e);if(t)t.workoutHistory&&localStorage.setItem(Ke.WORKOUT_HISTORY,JSON.stringify(t.workoutHistory)),t.userStats&&localStorage.setItem(Ke.USER_STATS,JSON.stringify(t.userStats)),t.exerciseWeights&&localStorage.setItem(Ke.EXERCISE_WEIGHTS,JSON.stringify(t.exerciseWeights)),t.exerciseTargetReps&&localStorage.setItem(Ke.EXERCISE_TARGET_REPS,JSON.stringify(t.exerciseTargetReps)),t.hiitSessions&&localStorage.setItem(Ke.HIIT_SESSIONS,JSON.stringify(t.hiitSessions)),t.cardioSessions&&localStorage.setItem(Ke.CARDIO_SESSIONS,JSON.stringify(t.cardioSessions)),t.stretchSessions&&localStorage.setItem(Ke.STRETCH_SESSIONS,JSON.stringify(t.stretchSessions)),t.workoutPlans&&localStorage.setItem(Ke.WORKOUT_PLANS,JSON.stringify(t.workoutPlans)),t.activePlanId&&localStorage.setItem(Ke.ACTIVE_PLAN,t.activePlanId);else{const s=await ni(),a=await Yc(),l=localStorage.getItem(Ke.EXERCISE_WEIGHTS),u=l?JSON.parse(l):{},d=localStorage.getItem(Ke.EXERCISE_TARGET_REPS),h=d?JSON.parse(d):{},p=MT(),g=AT(),y=Sh(),b=localStorage.getItem(Ke.WORKOUT_PLANS),v=b?JSON.parse(b):[],S=localStorage.getItem(Ke.ACTIVE_PLAN);(s.length>0||a?.totalWorkouts>0||Object.keys(u).length>0||Object.keys(h).length>0||p.length>0||g.length>0||y.length>0||v.length>0||S)&&await Promise.all([Uc(e,s),vh(e,a),Xg(e,u),Zg(e,h),HR(e,p),UR(e,g),CT(e,y),qR(e,v),YR(e,S)])}}catch(t){console.error("Error loading user data from cloud:",t)}},MT=()=>{try{if(Xe())return jt("hiit_sessions")||[];const e=localStorage.getItem(Ke.HIIT_SESSIONS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading HIIT sessions:",e),[]}},AT=()=>{try{if(Xe())return jt("cardio_sessions")||[];const e=localStorage.getItem(Ke.CARDIO_SESSIONS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading cardio sessions:",e),[]}},Hi=async()=>{try{if(Xe())return jt("favorite_workouts")||[];if(lt)try{const t=await Hs(lt);if(t?.favoriteWorkouts)return localStorage.setItem(Ke.FAVORITE_WORKOUTS,JSON.stringify(t.favoriteWorkouts)),t.favoriteWorkouts}catch(t){console.error("Firebase fetch failed for favorite workouts, using localStorage:",t)}const e=localStorage.getItem(Ke.FAVORITE_WORKOUTS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading favorite workouts:",e),[]}},iy=async e=>{try{if(!e)throw new Error("Workout data is required");const t=await Hi(),s={id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:e.name||`${e.type} Workout`,type:e.type,equipment:e.equipment||"all",exercises:e.exercises,savedAt:new Date().toISOString()};t.unshift(s),Xe()?xt("favorite_workouts",t):(localStorage.setItem(Ke.FAVORITE_WORKOUTS,JSON.stringify(t)),lt&&await Jg(lt,t))}catch(t){throw console.error("Error saving favorite workout:",t),t}},PT=async e=>{try{const s=(await Hi()).filter(a=>a.id!==e);Xe()?xt("favorite_workouts",s):(localStorage.setItem(Ke.FAVORITE_WORKOUTS,JSON.stringify(s)),lt&&await Jg(lt,s))}catch(t){throw console.error("Error deleting favorite workout:",t),t}},JR=async(e,t)=>{try{if(!e||!t)throw new Error("Workout ID and new name are required");const a=(await Hi()).map(l=>l.id===e?{...l,name:t}:l);Xe()?xt("favorite_workouts",a):(localStorage.setItem(Ke.FAVORITE_WORKOUTS,JSON.stringify(a)),lt&&await Jg(lt,a))}catch(s){throw console.error("Error updating favorite workout name:",s),s}},Sh=()=>{try{if(Xe())return jt("stretch_sessions")||[];const e=localStorage.getItem(Ke.STRETCH_SESSIONS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading stretch sessions:",e),[]}},e_=async e=>{try{if(!e)throw new Error("Session data is required");const t=Sh();t.unshift(e),Xe()?xt("stretch_sessions",t):(localStorage.setItem(Ke.STRETCH_SESSIONS,JSON.stringify(t)),lt&&await CT(lt,t))}catch(t){throw console.error("Error saving stretch session:",t),t}},ay=()=>{try{if(Xe()){const t=jt("favorite_exercises")||[];return new Set(t)}const e=localStorage.getItem(Ke.FAVORITE_EXERCISES);return new Set(e?JSON.parse(e):[])}catch(e){return console.error("Error reading favorite exercises:",e),new Set}},t_=e=>{try{if(!e)throw new Error("Exercise name is required");const t=ay();let s;t.has(e)?(t.delete(e),s=!1):(t.add(e),s=!0);const a=Array.from(t);return Xe()?xt("favorite_exercises",a):localStorage.setItem(Ke.FAVORITE_EXERCISES,JSON.stringify(a)),s}catch(t){throw console.error("Error toggling favorite exercise:",t),t}},n_=e=>ay().has(e),s_=()=>{try{if(Xe())return jt("pinned_exercises")||[];const e=localStorage.getItem(Ke.PINNED_EXERCISES);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading pinned exercises:",e),[]}},i_=e=>{try{if(!Array.isArray(e))throw new Error("Pinned exercises must be an array");const t=e.slice(0,10);Xe()?xt("pinned_exercises",t):localStorage.setItem(Ke.PINNED_EXERCISES,JSON.stringify(t))}catch(t){throw console.error("Error saving pinned exercises:",t),t}},OT=async()=>{try{if(Xe())return jt("unlocked_achievements")||[];const e=localStorage.getItem(Ke.UNLOCKED_ACHIEVEMENTS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading unlocked achievements:",e),[]}},a_=async e=>{try{Xe()?xt("unlocked_achievements",e):localStorage.setItem(Ke.UNLOCKED_ACHIEVEMENTS,JSON.stringify(e))}catch(t){console.error("Error saving unlocked achievements:",t)}},r_=async e=>{try{const t=await OT();t.includes(e)||(t.push(e),await a_(t))}catch(t){console.error("Error adding unlocked achievement:",t)}},RT=async()=>{try{if(Xe())return jt("total_prs")||0;const e=localStorage.getItem(Ke.TOTAL_PRS);return e?parseInt(e,10):0}catch(e){return console.error("Error reading total PRs:",e),0}},o_=async()=>{try{const t=await RT()+1;return Xe()?xt("total_prs",t):localStorage.setItem(Ke.TOTAL_PRS,t.toString()),t}catch(e){console.error("Error incrementing total PRs:",e)}},_T=async()=>{try{if(Xe())return jt("total_volume")||0;const e=localStorage.getItem(Ke.TOTAL_VOLUME);return e?parseFloat(e):0}catch(e){return console.error("Error reading total volume:",e),0}},l_=async e=>{try{const s=await _T()+e;return Xe()?xt("total_volume",s):localStorage.setItem(Ke.TOTAL_VOLUME,s.toString()),s}catch(t){console.error("Error adding to total volume:",t)}},dc=async()=>{try{if(Xe())return jt("yoga_presets")||[];if(lt)try{const t=await Hs(lt);if(t?.yogaPresets)return localStorage.setItem(Ke.YOGA_PRESETS,JSON.stringify(t.yogaPresets)),t.yogaPresets}catch(t){console.error("Firebase fetch failed for yoga presets, using localStorage:",t)}const e=localStorage.getItem(Ke.YOGA_PRESETS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading yoga presets:",e),[]}},c_=async e=>{try{if(!e||!e.name)throw new Error("Preset must have a name");const t=await dc(),s=t.findIndex(a=>a.id===e.id);return s>=0?t[s]={...e,updatedAt:Date.now()}:t.push({...e,id:e.id||`yoga_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:Date.now(),updatedAt:Date.now()}),Xe()?xt("yoga_presets",t):(localStorage.setItem(Ke.YOGA_PRESETS,JSON.stringify(t)),lt&&await kT(lt,t)),t}catch(t){throw console.error("Error saving yoga preset:",t),t}},u_=async e=>{try{const s=(await dc()).filter(a=>a.id!==e);return Xe()?xt("yoga_presets",s):(localStorage.setItem(Ke.YOGA_PRESETS,JSON.stringify(s)),lt&&await kT(lt,s)),s}catch(t){throw console.error("Error deleting yoga preset:",t),t}},hc=async()=>{try{if(Xe())return jt("hiit_presets")||[];if(lt)try{const t=await Hs(lt);if(t?.hiitPresets)return localStorage.setItem(Ke.HIIT_PRESETS,JSON.stringify(t.hiitPresets)),t.hiitPresets}catch(t){console.error("Firebase fetch failed for HIIT presets, using localStorage:",t)}const e=localStorage.getItem(Ke.HIIT_PRESETS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading HIIT presets:",e),[]}},d_=async e=>{try{if(!e||!e.name)throw new Error("Preset must have a name");const t=await hc(),s=t.findIndex(a=>a.id===e.id);return s>=0?t[s]={...e,updatedAt:Date.now()}:t.push({...e,id:e.id||`hiit_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:Date.now(),updatedAt:Date.now()}),Xe()?xt("hiit_presets",t):(localStorage.setItem(Ke.HIIT_PRESETS,JSON.stringify(t)),lt&&await TT(lt,t)),t}catch(t){throw console.error("Error saving HIIT preset:",t),t}},h_=async e=>{try{const s=(await hc()).filter(a=>a.id!==e);return Xe()?xt("hiit_presets",s):(localStorage.setItem(Ke.HIIT_PRESETS,JSON.stringify(s)),lt&&await TT(lt,s)),s}catch(t){throw console.error("Error deleting HIIT preset:",t),t}},IT=x.createContext({}),Ar=()=>x.useContext(IT),WT=({children:e})=>{const[t,s]=x.useState(null),[a,l]=x.useState(!0),[u,d]=x.useState(!1),[h,p]=x.useState(!1),g=()=>{if(Xe()){const w=jT(),T=Object.keys(w).length>0;return p(T),T}return p(!1),!1},y=(w,T)=>BP(bd,w,T),b=(w,T)=>zP(bd,w,T),v=()=>u?(d(!1),Qd(),s(null),Promise.resolve()):LP(bd),S=()=>{GR(),d(!0),s({uid:"guest",email:null,isGuest:!0})},j=async(w,T)=>{if(d(!1),T||Qd(),s(w),!T)try{await ET(w.uid)}catch(E){console.error("Error loading user data:",E)}};x.useEffect(()=>(Xe()&&(d(!0),s({uid:"guest",email:null,isGuest:!0}),g(),l(!1)),NP(bd,async T=>{if(T){const E=g();await j(T,E)}else Xe()||(d(!1),p(!1),s(null),DT(null));l(!1)})),[]);const k={currentUser:t,isGuest:u,hasGuestData:h,signup:y,login:b,logout:v,continueAsGuest:S,checkGuestData:g};return r.jsx(IT.Provider,{value:k,children:!a&&e})};WT.propTypes={children:D.node.isRequired};const NT=6048e5,f_=864e5,LT=6e4,zT=36e5,p_=1e3,XS=Symbol.for("constructDateFrom");function Jt(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&XS in e?e[XS](t):e instanceof Date?new e.constructor(t):new Date(t)}function nt(e,t){return Jt(t||e,e)}function Gc(e,t,s){const a=nt(e,s?.in);return isNaN(t)?Jt(s?.in||e,NaN):(t&&a.setDate(a.getDate()+t),a)}function wh(e,t,s){const a=nt(e,s?.in);if(isNaN(t))return Jt(e,NaN);if(!t)return a;const l=a.getDate(),u=Jt(e,a.getTime());u.setMonth(a.getMonth()+t+1,0);const d=u.getDate();return l>=d?u:(a.setFullYear(u.getFullYear(),u.getMonth(),l),a)}function BT(e,t,s){return Jt(e,+nt(e)+t)}function m_(e,t,s){return BT(e,t*zT)}let g_={};function Pr(){return g_}function ei(e,t){const s=Pr(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,l=nt(e,t?.in),u=l.getDay(),d=(u<a?7:0)+u-a;return l.setDate(l.getDate()-d),l.setHours(0,0,0,0),l}function Ko(e,t){return ei(e,{...t,weekStartsOn:1})}function VT(e,t){const s=nt(e,t?.in),a=s.getFullYear(),l=Jt(s,0);l.setFullYear(a+1,0,4),l.setHours(0,0,0,0);const u=Ko(l),d=Jt(s,0);d.setFullYear(a,0,4),d.setHours(0,0,0,0);const h=Ko(d);return s.getTime()>=u.getTime()?a+1:s.getTime()>=h.getTime()?a:a-1}function Zd(e){const t=nt(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function $c(e,...t){const s=Jt.bind(null,t.find(a=>typeof a=="object"));return t.map(s)}function Dc(e,t){const s=nt(e,t?.in);return s.setHours(0,0,0,0),s}function y_(e,t,s){const[a,l]=$c(s?.in,e,t),u=Dc(a),d=Dc(l),h=+u-Zd(u),p=+d-Zd(d);return Math.round((h-p)/f_)}function x_(e,t){const s=VT(e,t),a=Jt(e,0);return a.setFullYear(s,0,4),a.setHours(0,0,0,0),Ko(a)}function b_(e,t,s){const a=nt(e,s?.in);return a.setTime(a.getTime()+t*LT),a}function v_(e,t,s){return BT(e,t*1e3)}function S_(e,t,s){return Gc(e,t*7,s)}function w_(e,t,s){return wh(e,t*12,s)}function Um(e,t,s){const[a,l]=$c(s?.in,e,t);return+Dc(a)==+Dc(l)}function C_(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function FT(e){return!(!C_(e)&&typeof e!="number"||isNaN(+nt(e)))}function ZS(e,t){const s=nt(e,t?.in);return s.setHours(23,59,59,999),s}function HT(e,t){const s=nt(e,t?.in),a=s.getMonth();return s.setFullYear(s.getFullYear(),a+1,0),s.setHours(23,59,59,999),s}function UT(e,t){const s=nt(e,t?.in);return s.setDate(1),s.setHours(0,0,0,0),s}function JS(e,t){const s=nt(e,t?.in),a=s.getFullYear();return s.setFullYear(a+1,0,0),s.setHours(23,59,59,999),s}function qT(e,t){const s=nt(e,t?.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}function YT(e,t){const s=Pr(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,l=nt(e,t?.in),u=l.getDay(),d=(u<a?-7:0)+6-(u-a);return l.setDate(l.getDate()+d),l.setHours(23,59,59,999),l}const T_={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},k_=(e,t,s)=>{let a;const l=T_[e];return typeof l=="string"?a=l:t===1?a=l.one:a=l.other.replace("{{count}}",t.toString()),s?.addSuffix?s.comparison&&s.comparison>0?"in "+a:a+" ago":a};function hm(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const j_={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},D_={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},E_={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},M_={date:hm({formats:j_,defaultWidth:"full"}),time:hm({formats:D_,defaultWidth:"full"}),dateTime:hm({formats:E_,defaultWidth:"full"})},A_={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},P_=(e,t,s,a)=>A_[e];function Xl(e){return(t,s)=>{const a=s?.context?String(s.context):"standalone";let l;if(a==="formatting"&&e.formattingValues){const d=e.defaultFormattingWidth||e.defaultWidth,h=s?.width?String(s.width):d;l=e.formattingValues[h]||e.formattingValues[d]}else{const d=e.defaultWidth,h=s?.width?String(s.width):e.defaultWidth;l=e.values[h]||e.values[d]}const u=e.argumentCallback?e.argumentCallback(t):t;return l[u]}}const O_={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},R_={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},__={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},I_={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},W_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},N_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},L_=(e,t)=>{const s=Number(e),a=s%100;if(a>20||a<10)switch(a%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},z_={ordinalNumber:L_,era:Xl({values:O_,defaultWidth:"wide"}),quarter:Xl({values:R_,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Xl({values:__,defaultWidth:"wide"}),day:Xl({values:I_,defaultWidth:"wide"}),dayPeriod:Xl({values:W_,defaultWidth:"wide",formattingValues:N_,defaultFormattingWidth:"wide"})};function Zl(e){return(t,s={})=>{const a=s.width,l=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],u=t.match(l);if(!u)return null;const d=u[0],h=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],p=Array.isArray(h)?V_(h,b=>b.test(d)):B_(h,b=>b.test(d));let g;g=e.valueCallback?e.valueCallback(p):p,g=s.valueCallback?s.valueCallback(g):g;const y=t.slice(d.length);return{value:g,rest:y}}}function B_(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function V_(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function F_(e){return(t,s={})=>{const a=t.match(e.matchPattern);if(!a)return null;const l=a[0],u=t.match(e.parsePattern);if(!u)return null;let d=e.valueCallback?e.valueCallback(u[0]):u[0];d=s.valueCallback?s.valueCallback(d):d;const h=t.slice(l.length);return{value:d,rest:h}}}const H_=/^(\d+)(th|st|nd|rd)?/i,U_=/\d+/i,q_={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Y_={any:[/^b/i,/^(a|c)/i]},G_={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},$_={any:[/1/i,/2/i,/3/i,/4/i]},K_={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Q_={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},X_={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Z_={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},J_={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},e5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},t5={ordinalNumber:F_({matchPattern:H_,parsePattern:U_,valueCallback:e=>parseInt(e,10)}),era:Zl({matchPatterns:q_,defaultMatchWidth:"wide",parsePatterns:Y_,defaultParseWidth:"any"}),quarter:Zl({matchPatterns:G_,defaultMatchWidth:"wide",parsePatterns:$_,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Zl({matchPatterns:K_,defaultMatchWidth:"wide",parsePatterns:Q_,defaultParseWidth:"any"}),day:Zl({matchPatterns:X_,defaultMatchWidth:"wide",parsePatterns:Z_,defaultParseWidth:"any"}),dayPeriod:Zl({matchPatterns:J_,defaultMatchWidth:"any",parsePatterns:e5,defaultParseWidth:"any"})},ry={code:"en-US",formatDistance:k_,formatLong:M_,formatRelative:P_,localize:z_,match:t5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function n5(e,t){const s=nt(e,t?.in);return y_(s,qT(s))+1}function GT(e,t){const s=nt(e,t?.in),a=+Ko(s)-+x_(s);return Math.round(a/NT)+1}function oy(e,t){const s=nt(e,t?.in),a=s.getFullYear(),l=Pr(),u=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,d=Jt(t?.in||e,0);d.setFullYear(a+1,0,u),d.setHours(0,0,0,0);const h=ei(d,t),p=Jt(t?.in||e,0);p.setFullYear(a,0,u),p.setHours(0,0,0,0);const g=ei(p,t);return+s>=+h?a+1:+s>=+g?a:a-1}function s5(e,t){const s=Pr(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,l=oy(e,t),u=Jt(t?.in||e,0);return u.setFullYear(l,0,a),u.setHours(0,0,0,0),ei(u,t)}function ly(e,t){const s=nt(e,t?.in),a=+ei(s,t)-+s5(s,t);return Math.round(a/NT)+1}function _t(e,t){const s=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return s+a}const wa={y(e,t){const s=e.getFullYear(),a=s>0?s:1-s;return _t(t==="yy"?a%100:a,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):_t(s+1,2)},d(e,t){return _t(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,t){return _t(e.getHours()%12||12,t.length)},H(e,t){return _t(e.getHours(),t.length)},m(e,t){return _t(e.getMinutes(),t.length)},s(e,t){return _t(e.getSeconds(),t.length)},S(e,t){const s=t.length,a=e.getMilliseconds(),l=Math.trunc(a*Math.pow(10,s-3));return _t(l,t.length)}},So={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ew={G:function(e,t,s){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(a,{width:"abbreviated"});case"GGGGG":return s.era(a,{width:"narrow"});case"GGGG":default:return s.era(a,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const a=e.getFullYear(),l=a>0?a:1-a;return s.ordinalNumber(l,{unit:"year"})}return wa.y(e,t)},Y:function(e,t,s,a){const l=oy(e,a),u=l>0?l:1-l;if(t==="YY"){const d=u%100;return _t(d,2)}return t==="Yo"?s.ordinalNumber(u,{unit:"year"}):_t(u,t.length)},R:function(e,t){const s=VT(e);return _t(s,t.length)},u:function(e,t){const s=e.getFullYear();return _t(s,t.length)},Q:function(e,t,s){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return _t(a,2);case"Qo":return s.ordinalNumber(a,{unit:"quarter"});case"QQQ":return s.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,s){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return _t(a,2);case"qo":return s.ordinalNumber(a,{unit:"quarter"});case"qqq":return s.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,s){const a=e.getMonth();switch(t){case"M":case"MM":return wa.M(e,t);case"Mo":return s.ordinalNumber(a+1,{unit:"month"});case"MMM":return s.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,s){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return _t(a+1,2);case"Lo":return s.ordinalNumber(a+1,{unit:"month"});case"LLL":return s.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,s,a){const l=ly(e,a);return t==="wo"?s.ordinalNumber(l,{unit:"week"}):_t(l,t.length)},I:function(e,t,s){const a=GT(e);return t==="Io"?s.ordinalNumber(a,{unit:"week"}):_t(a,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):wa.d(e,t)},D:function(e,t,s){const a=n5(e);return t==="Do"?s.ordinalNumber(a,{unit:"dayOfYear"}):_t(a,t.length)},E:function(e,t,s){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(a,{width:"short",context:"formatting"});case"EEEE":default:return s.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,s,a){const l=e.getDay(),u=(l-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(u);case"ee":return _t(u,2);case"eo":return s.ordinalNumber(u,{unit:"day"});case"eee":return s.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(l,{width:"short",context:"formatting"});case"eeee":default:return s.day(l,{width:"wide",context:"formatting"})}},c:function(e,t,s,a){const l=e.getDay(),u=(l-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(u);case"cc":return _t(u,t.length);case"co":return s.ordinalNumber(u,{unit:"day"});case"ccc":return s.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(l,{width:"narrow",context:"standalone"});case"cccccc":return s.day(l,{width:"short",context:"standalone"});case"cccc":default:return s.day(l,{width:"wide",context:"standalone"})}},i:function(e,t,s){const a=e.getDay(),l=a===0?7:a;switch(t){case"i":return String(l);case"ii":return _t(l,t.length);case"io":return s.ordinalNumber(l,{unit:"day"});case"iii":return s.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(a,{width:"short",context:"formatting"});case"iiii":default:return s.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,s){const l=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(e,t,s){const a=e.getHours();let l;switch(a===12?l=So.noon:a===0?l=So.midnight:l=a/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(e,t,s){const a=e.getHours();let l;switch(a>=17?l=So.evening:a>=12?l=So.afternoon:a>=4?l=So.morning:l=So.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),s.ordinalNumber(a,{unit:"hour"})}return wa.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):wa.H(e,t)},K:function(e,t,s){const a=e.getHours()%12;return t==="Ko"?s.ordinalNumber(a,{unit:"hour"}):_t(a,t.length)},k:function(e,t,s){let a=e.getHours();return a===0&&(a=24),t==="ko"?s.ordinalNumber(a,{unit:"hour"}):_t(a,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):wa.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):wa.s(e,t)},S:function(e,t){return wa.S(e,t)},X:function(e,t,s){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return nw(a);case"XXXX":case"XX":return hr(a);case"XXXXX":case"XXX":default:return hr(a,":")}},x:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"x":return nw(a);case"xxxx":case"xx":return hr(a);case"xxxxx":case"xxx":default:return hr(a,":")}},O:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+tw(a,":");case"OOOO":default:return"GMT"+hr(a,":")}},z:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+tw(a,":");case"zzzz":default:return"GMT"+hr(a,":")}},t:function(e,t,s){const a=Math.trunc(+e/1e3);return _t(a,t.length)},T:function(e,t,s){return _t(+e,t.length)}};function tw(e,t=""){const s=e>0?"-":"+",a=Math.abs(e),l=Math.trunc(a/60),u=a%60;return u===0?s+String(l):s+String(l)+t+_t(u,2)}function nw(e,t){return e%60===0?(e>0?"-":"+")+_t(Math.abs(e)/60,2):hr(e,t)}function hr(e,t=""){const s=e>0?"-":"+",a=Math.abs(e),l=_t(Math.trunc(a/60),2),u=_t(a%60,2);return s+l+t+u}const sw=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},$T=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},i5=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],a=s[1],l=s[2];if(!l)return sw(e,t);let u;switch(a){case"P":u=t.dateTime({width:"short"});break;case"PP":u=t.dateTime({width:"medium"});break;case"PPP":u=t.dateTime({width:"long"});break;case"PPPP":default:u=t.dateTime({width:"full"});break}return u.replace("{{date}}",sw(a,t)).replace("{{time}}",$T(l,t))},Jd={p:$T,P:i5},a5=/^D+$/,r5=/^Y+$/,o5=["D","DD","YY","YYYY"];function KT(e){return a5.test(e)}function QT(e){return r5.test(e)}function qm(e,t,s){const a=l5(e,t,s);if(console.warn(a),o5.includes(e))throw new RangeError(a)}function l5(e,t,s){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const c5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,u5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,d5=/^'([^]*?)'?$/,h5=/''/g,f5=/[a-zA-Z]/;function Ym(e,t,s){const a=Pr(),l=s?.locale??a.locale??ry,u=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,d=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,h=nt(e,s?.in);if(!FT(h))throw new RangeError("Invalid time value");let p=t.match(u5).map(y=>{const b=y[0];if(b==="p"||b==="P"){const v=Jd[b];return v(y,l.formatLong)}return y}).join("").match(c5).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:p5(y)};if(ew[b])return{isToken:!0,value:y};if(b.match(f5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});l.localize.preprocessor&&(p=l.localize.preprocessor(h,p));const g={firstWeekContainsDate:u,weekStartsOn:d,locale:l};return p.map(y=>{if(!y.isToken)return y.value;const b=y.value;(!s?.useAdditionalWeekYearTokens&&QT(b)||!s?.useAdditionalDayOfYearTokens&&KT(b))&&qm(b,t,String(e));const v=ew[b[0]];return v(h,b,l.localize,g)}).join("")}function p5(e){const t=e.match(d5);return t?t[1].replace(h5,"'"):e}function m5(e,t){return nt(e,t?.in).getDate()}function XT(e,t){const s=nt(e,t?.in),a=s.getFullYear(),l=s.getMonth(),u=Jt(s,0);return u.setFullYear(a,l+1,0),u.setHours(0,0,0,0),u.getDate()}function g5(){return Object.assign({},Pr())}function y5(e,t){return nt(e,t?.in).getHours()}function x5(e,t){const s=nt(e,t?.in).getDay();return s===0?7:s}function b5(e){return nt(e).getMilliseconds()}function v5(e,t){return nt(e,t?.in).getMinutes()}function S5(e,t){return nt(e,t?.in).getMonth()}function w5(e){return nt(e).getSeconds()}function C5(e,t){return nt(e,t?.in).getFullYear()}function Id(e,t){return+nt(e)>+nt(t)}function fm(e,t){return+nt(e)<+nt(t)}function T5(e,t){return+nt(e)==+nt(t)}function k5(e,t){const s=j5(t)?new t(0):Jt(t,0);return s.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),s.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),s}function j5(e){return typeof e=="function"&&e.prototype?.constructor===e}const D5=10;class ZT{subPriority=0;validate(t,s){return!0}}class E5 extends ZT{constructor(t,s,a,l,u){super(),this.value=t,this.validateValue=s,this.setValue=a,this.priority=l,u&&(this.subPriority=u)}validate(t,s){return this.validateValue(t,this.value,s)}set(t,s,a){return this.setValue(t,s,this.value,a)}}class M5 extends ZT{priority=D5;subPriority=-1;constructor(t,s){super(),this.context=t||(a=>Jt(s,a))}set(t,s){return s.timestampIsSet?t:Jt(t,k5(t,this.context))}}class At{run(t,s,a,l){const u=this.parse(t,s,a,l);return u?{setter:new E5(u.value,this.validate,this.set,this.priority,this.subPriority),rest:u.rest}:null}validate(t,s,a){return!0}}class A5 extends At{priority=140;parse(t,s,a){switch(s){case"G":case"GG":case"GGG":return a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"});case"GGGGG":return a.era(t,{width:"narrow"});case"GGGG":default:return a.era(t,{width:"wide"})||a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"})}}set(t,s,a){return s.era=a,t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const xn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ui={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function bn(e,t){return e&&{value:t(e.value),rest:e.rest}}function nn(e,t){const s=t.match(e);return s?{value:parseInt(s[0],10),rest:t.slice(s[0].length)}:null}function di(e,t){const s=t.match(e);if(!s)return null;if(s[0]==="Z")return{value:0,rest:t.slice(1)};const a=s[1]==="+"?1:-1,l=s[2]?parseInt(s[2],10):0,u=s[3]?parseInt(s[3],10):0,d=s[5]?parseInt(s[5],10):0;return{value:a*(l*zT+u*LT+d*p_),rest:t.slice(s[0].length)}}function JT(e){return nn(xn.anyDigitsSigned,e)}function un(e,t){switch(e){case 1:return nn(xn.singleDigit,t);case 2:return nn(xn.twoDigits,t);case 3:return nn(xn.threeDigits,t);case 4:return nn(xn.fourDigits,t);default:return nn(new RegExp("^\\d{1,"+e+"}"),t)}}function eh(e,t){switch(e){case 1:return nn(xn.singleDigitSigned,t);case 2:return nn(xn.twoDigitsSigned,t);case 3:return nn(xn.threeDigitsSigned,t);case 4:return nn(xn.fourDigitsSigned,t);default:return nn(new RegExp("^-?\\d{1,"+e+"}"),t)}}function cy(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function ek(e,t){const s=t>0,a=s?t:1-t;let l;if(a<=50)l=e||100;else{const u=a+50,d=Math.trunc(u/100)*100,h=e>=u%100;l=e+d-(h?100:0)}return s?l:1-l}function tk(e){return e%400===0||e%4===0&&e%100!==0}class P5 extends At{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,s,a){const l=u=>({year:u,isTwoDigitYear:s==="yy"});switch(s){case"y":return bn(un(4,t),l);case"yo":return bn(a.ordinalNumber(t,{unit:"year"}),l);default:return bn(un(s.length,t),l)}}validate(t,s){return s.isTwoDigitYear||s.year>0}set(t,s,a){const l=t.getFullYear();if(a.isTwoDigitYear){const d=ek(a.year,l);return t.setFullYear(d,0,1),t.setHours(0,0,0,0),t}const u=!("era"in s)||s.era===1?a.year:1-a.year;return t.setFullYear(u,0,1),t.setHours(0,0,0,0),t}}class O5 extends At{priority=130;parse(t,s,a){const l=u=>({year:u,isTwoDigitYear:s==="YY"});switch(s){case"Y":return bn(un(4,t),l);case"Yo":return bn(a.ordinalNumber(t,{unit:"year"}),l);default:return bn(un(s.length,t),l)}}validate(t,s){return s.isTwoDigitYear||s.year>0}set(t,s,a,l){const u=oy(t,l);if(a.isTwoDigitYear){const h=ek(a.year,u);return t.setFullYear(h,0,l.firstWeekContainsDate),t.setHours(0,0,0,0),ei(t,l)}const d=!("era"in s)||s.era===1?a.year:1-a.year;return t.setFullYear(d,0,l.firstWeekContainsDate),t.setHours(0,0,0,0),ei(t,l)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class R5 extends At{priority=130;parse(t,s){return eh(s==="R"?4:s.length,t)}set(t,s,a){const l=Jt(t,0);return l.setFullYear(a,0,4),l.setHours(0,0,0,0),Ko(l)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class _5 extends At{priority=130;parse(t,s){return eh(s==="u"?4:s.length,t)}set(t,s,a){return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class I5 extends At{priority=120;parse(t,s,a){switch(s){case"Q":case"QQ":return un(s.length,t);case"Qo":return a.ordinalNumber(t,{unit:"quarter"});case"QQQ":return a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(t,{width:"wide",context:"formatting"})||a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,s){return s>=1&&s<=4}set(t,s,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class W5 extends At{priority=120;parse(t,s,a){switch(s){case"q":case"qq":return un(s.length,t);case"qo":return a.ordinalNumber(t,{unit:"quarter"});case"qqq":return a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(t,{width:"wide",context:"standalone"})||a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,s){return s>=1&&s<=4}set(t,s,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class N5 extends At{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,s,a){const l=u=>u-1;switch(s){case"M":return bn(nn(xn.month,t),l);case"MM":return bn(un(2,t),l);case"Mo":return bn(a.ordinalNumber(t,{unit:"month"}),l);case"MMM":return a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(t,{width:"wide",context:"formatting"})||a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"})}}validate(t,s){return s>=0&&s<=11}set(t,s,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}}class L5 extends At{priority=110;parse(t,s,a){const l=u=>u-1;switch(s){case"L":return bn(nn(xn.month,t),l);case"LL":return bn(un(2,t),l);case"Lo":return bn(a.ordinalNumber(t,{unit:"month"}),l);case"LLL":return a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(t,{width:"wide",context:"standalone"})||a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"})}}validate(t,s){return s>=0&&s<=11}set(t,s,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function z5(e,t,s){const a=nt(e,s?.in),l=ly(a,s)-t;return a.setDate(a.getDate()-l*7),nt(a,s?.in)}class B5 extends At{priority=100;parse(t,s,a){switch(s){case"w":return nn(xn.week,t);case"wo":return a.ordinalNumber(t,{unit:"week"});default:return un(s.length,t)}}validate(t,s){return s>=1&&s<=53}set(t,s,a,l){return ei(z5(t,a,l),l)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function V5(e,t,s){const a=nt(e,s?.in),l=GT(a,s)-t;return a.setDate(a.getDate()-l*7),a}class F5 extends At{priority=100;parse(t,s,a){switch(s){case"I":return nn(xn.week,t);case"Io":return a.ordinalNumber(t,{unit:"week"});default:return un(s.length,t)}}validate(t,s){return s>=1&&s<=53}set(t,s,a){return Ko(V5(t,a))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const H5=[31,28,31,30,31,30,31,31,30,31,30,31],U5=[31,29,31,30,31,30,31,31,30,31,30,31];class q5 extends At{priority=90;subPriority=1;parse(t,s,a){switch(s){case"d":return nn(xn.date,t);case"do":return a.ordinalNumber(t,{unit:"date"});default:return un(s.length,t)}}validate(t,s){const a=t.getFullYear(),l=tk(a),u=t.getMonth();return l?s>=1&&s<=U5[u]:s>=1&&s<=H5[u]}set(t,s,a){return t.setDate(a),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class Y5 extends At{priority=90;subpriority=1;parse(t,s,a){switch(s){case"D":case"DD":return nn(xn.dayOfYear,t);case"Do":return a.ordinalNumber(t,{unit:"date"});default:return un(s.length,t)}}validate(t,s){const a=t.getFullYear();return tk(a)?s>=1&&s<=366:s>=1&&s<=365}set(t,s,a){return t.setMonth(0,a),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function uy(e,t,s){const a=Pr(),l=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,u=nt(e,s?.in),d=u.getDay(),p=(t%7+7)%7,g=7-l,y=t<0||t>6?t-(d+g)%7:(p+g)%7-(d+g)%7;return Gc(u,y,s)}class G5 extends At{priority=90;parse(t,s,a){switch(s){case"E":case"EE":case"EEE":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,s){return s>=0&&s<=6}set(t,s,a,l){return t=uy(t,a,l),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class $5 extends At{priority=90;parse(t,s,a,l){const u=d=>{const h=Math.floor((d-1)/7)*7;return(d+l.weekStartsOn+6)%7+h};switch(s){case"e":case"ee":return bn(un(s.length,t),u);case"eo":return bn(a.ordinalNumber(t,{unit:"day"}),u);case"eee":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeeee":return a.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,s){return s>=0&&s<=6}set(t,s,a,l){return t=uy(t,a,l),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class K5 extends At{priority=90;parse(t,s,a,l){const u=d=>{const h=Math.floor((d-1)/7)*7;return(d+l.weekStartsOn+6)%7+h};switch(s){case"c":case"cc":return bn(un(s.length,t),u);case"co":return bn(a.ordinalNumber(t,{unit:"day"}),u);case"ccc":return a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"ccccc":return a.day(t,{width:"narrow",context:"standalone"});case"cccccc":return a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(t,{width:"wide",context:"standalone"})||a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"})}}validate(t,s){return s>=0&&s<=6}set(t,s,a,l){return t=uy(t,a,l),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function Q5(e,t,s){const a=nt(e,s?.in),l=x5(a,s),u=t-l;return Gc(a,u,s)}class X5 extends At{priority=90;parse(t,s,a){const l=u=>u===0?7:u;switch(s){case"i":case"ii":return un(s.length,t);case"io":return a.ordinalNumber(t,{unit:"day"});case"iii":return bn(a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),l);case"iiiii":return bn(a.day(t,{width:"narrow",context:"formatting"}),l);case"iiiiii":return bn(a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),l);case"iiii":default:return bn(a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),l)}}validate(t,s){return s>=1&&s<=7}set(t,s,a){return t=Q5(t,a),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class Z5 extends At{priority=80;parse(t,s,a){switch(s){case"a":case"aa":case"aaa":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,s,a){return t.setHours(cy(a),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class J5 extends At{priority=80;parse(t,s,a){switch(s){case"b":case"bb":case"bbb":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,s,a){return t.setHours(cy(a),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class eI extends At{priority=80;parse(t,s,a){switch(s){case"B":case"BB":case"BBB":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,s,a){return t.setHours(cy(a),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class tI extends At{priority=70;parse(t,s,a){switch(s){case"h":return nn(xn.hour12h,t);case"ho":return a.ordinalNumber(t,{unit:"hour"});default:return un(s.length,t)}}validate(t,s){return s>=1&&s<=12}set(t,s,a){const l=t.getHours()>=12;return l&&a<12?t.setHours(a+12,0,0,0):!l&&a===12?t.setHours(0,0,0,0):t.setHours(a,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class nI extends At{priority=70;parse(t,s,a){switch(s){case"H":return nn(xn.hour23h,t);case"Ho":return a.ordinalNumber(t,{unit:"hour"});default:return un(s.length,t)}}validate(t,s){return s>=0&&s<=23}set(t,s,a){return t.setHours(a,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class sI extends At{priority=70;parse(t,s,a){switch(s){case"K":return nn(xn.hour11h,t);case"Ko":return a.ordinalNumber(t,{unit:"hour"});default:return un(s.length,t)}}validate(t,s){return s>=0&&s<=11}set(t,s,a){return t.getHours()>=12&&a<12?t.setHours(a+12,0,0,0):t.setHours(a,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class iI extends At{priority=70;parse(t,s,a){switch(s){case"k":return nn(xn.hour24h,t);case"ko":return a.ordinalNumber(t,{unit:"hour"});default:return un(s.length,t)}}validate(t,s){return s>=1&&s<=24}set(t,s,a){const l=a<=24?a%24:a;return t.setHours(l,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class aI extends At{priority=60;parse(t,s,a){switch(s){case"m":return nn(xn.minute,t);case"mo":return a.ordinalNumber(t,{unit:"minute"});default:return un(s.length,t)}}validate(t,s){return s>=0&&s<=59}set(t,s,a){return t.setMinutes(a,0,0),t}incompatibleTokens=["t","T"]}class rI extends At{priority=50;parse(t,s,a){switch(s){case"s":return nn(xn.second,t);case"so":return a.ordinalNumber(t,{unit:"second"});default:return un(s.length,t)}}validate(t,s){return s>=0&&s<=59}set(t,s,a){return t.setSeconds(a,0),t}incompatibleTokens=["t","T"]}class oI extends At{priority=30;parse(t,s){const a=l=>Math.trunc(l*Math.pow(10,-s.length+3));return bn(un(s.length,t),a)}set(t,s,a){return t.setMilliseconds(a),t}incompatibleTokens=["t","T"]}class lI extends At{priority=10;parse(t,s){switch(s){case"X":return di(ui.basicOptionalMinutes,t);case"XX":return di(ui.basic,t);case"XXXX":return di(ui.basicOptionalSeconds,t);case"XXXXX":return di(ui.extendedOptionalSeconds,t);case"XXX":default:return di(ui.extended,t)}}set(t,s,a){return s.timestampIsSet?t:Jt(t,t.getTime()-Zd(t)-a)}incompatibleTokens=["t","T","x"]}class cI extends At{priority=10;parse(t,s){switch(s){case"x":return di(ui.basicOptionalMinutes,t);case"xx":return di(ui.basic,t);case"xxxx":return di(ui.basicOptionalSeconds,t);case"xxxxx":return di(ui.extendedOptionalSeconds,t);case"xxx":default:return di(ui.extended,t)}}set(t,s,a){return s.timestampIsSet?t:Jt(t,t.getTime()-Zd(t)-a)}incompatibleTokens=["t","T","X"]}class uI extends At{priority=40;parse(t){return JT(t)}set(t,s,a){return[Jt(t,a*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class dI extends At{priority=20;parse(t){return JT(t)}set(t,s,a){return[Jt(t,a),{timestampIsSet:!0}]}incompatibleTokens="*"}const hI={G:new A5,y:new P5,Y:new O5,R:new R5,u:new _5,Q:new I5,q:new W5,M:new N5,L:new L5,w:new B5,I:new F5,d:new q5,D:new Y5,E:new G5,e:new $5,c:new K5,i:new X5,a:new Z5,b:new J5,B:new eI,h:new tI,H:new nI,K:new sI,k:new iI,m:new aI,s:new rI,S:new oI,X:new lI,x:new cI,t:new uI,T:new dI},fI=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,pI=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mI=/^'([^]*?)'?$/,gI=/''/g,yI=/\S/,xI=/[a-zA-Z]/;function bI(e,t,s,a){const l=()=>Jt(a?.in||s,NaN),u=g5(),d=a?.locale??u.locale??ry,h=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??u.firstWeekContainsDate??u.locale?.options?.firstWeekContainsDate??1,p=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??u.weekStartsOn??u.locale?.options?.weekStartsOn??0;if(!t)return e?l():nt(s,a?.in);const g={firstWeekContainsDate:h,weekStartsOn:p,locale:d},y=[new M5(a?.in,s)],b=t.match(pI).map(w=>{const T=w[0];if(T in Jd){const E=Jd[T];return E(w,d.formatLong)}return w}).join("").match(fI),v=[];for(let w of b){!a?.useAdditionalWeekYearTokens&&QT(w)&&qm(w,t,e),!a?.useAdditionalDayOfYearTokens&&KT(w)&&qm(w,t,e);const T=w[0],E=hI[T];if(E){const{incompatibleTokens:M}=E;if(Array.isArray(M)){const O=v.find(R=>M.includes(R.token)||R.token===T);if(O)throw new RangeError(`The format string mustn't contain \`${O.fullToken}\` and \`${w}\` at the same time`)}else if(E.incompatibleTokens==="*"&&v.length>0)throw new RangeError(`The format string mustn't contain \`${w}\` and any other token at the same time`);v.push({token:T,fullToken:w});const W=E.run(e,w,d.match,g);if(!W)return l();y.push(W.setter),e=W.rest}else{if(T.match(xI))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");if(w==="''"?w="'":T==="'"&&(w=vI(w)),e.indexOf(w)===0)e=e.slice(w.length);else return l()}}if(e.length>0&&yI.test(e))return l();const S=y.map(w=>w.priority).sort((w,T)=>T-w).filter((w,T,E)=>E.indexOf(w)===T).map(w=>y.filter(T=>T.priority===w).sort((T,E)=>E.subPriority-T.subPriority)).map(w=>w[0]);let j=nt(s,a?.in);if(isNaN(+j))return l();const k={};for(const w of S){if(!w.validate(j,g))return l();const T=w.set(j,k,g);Array.isArray(T)?(j=T[0],Object.assign(k,T[1])):j=T}return j}function vI(e){return e.match(mI)[1].replace(gI,"'")}function iw(e,t){const s=nt(e,t?.in);return s.setMinutes(0,0,0),s}function SI(e,t,s){const[a,l]=$c(s?.in,e,t);return+iw(a)==+iw(l)}function nk(e,t,s){const[a,l]=$c(s?.in,e,t);return a.getFullYear()===l.getFullYear()&&a.getMonth()===l.getMonth()}function wI(e,t,s){const[a,l]=$c(s?.in,e,t);return a.getFullYear()===l.getFullYear()}function CI(e,t,s){const a=+nt(e,s?.in),[l,u]=[+nt(t.start,s?.in),+nt(t.end,s?.in)].sort((d,h)=>d-h);return a>=l&&a<=u}function TI(e,t,s){const a=nt(e,s?.in),l=a.getFullYear(),u=a.getDate(),d=Jt(e,0);d.setFullYear(l,t,15),d.setHours(0,0,0,0);const h=XT(d);return a.setMonth(t,Math.min(u,h)),a}function kI(e,t,s){const a=nt(e,s?.in);return a.setDate(t),a}function jI(e,t,s){const a=nt(e,s?.in);return a.setHours(t),a}function DI(e,t,s){const a=nt(e,s?.in);return a.setMilliseconds(t),a}function EI(e,t,s){const a=nt(e,s?.in);return a.setMinutes(t),a}function MI(e,t,s){const a=nt(e,s?.in);return a.setSeconds(t),a}function AI(e,t,s){const a=nt(e,s?.in);return isNaN(+a)?Jt(e,NaN):(a.setFullYear(t),a)}function PI(e,t,s){return wh(e,-1,s)}const sk=x.createContext({}),Na=()=>x.useContext(sk),Jl={currentWeek:1,cycleStartDate:null,deloadWeekActive:!1,weeklySchedule:{Monday:null,Tuesday:null,Wednesday:null,Thursday:null,Friday:null,Saturday:null,Sunday:null},favorites:[]},ik=({children:e})=>{const{currentUser:t,isGuest:s}=Ar(),[a,l]=x.useState(Jl),[u,d]=x.useState(!0),h=x.useCallback(()=>{const W=ei(new Date,{weekStartsOn:0});return W.setHours(0,0,0,0),W.toISOString()},[]),p=x.useCallback(M=>{if(!M)return 1;const W=new Date(M),O=new Date(h());return Math.floor((O-W)/(10080*60*1e3))+1},[h]),g=x.useCallback(async M=>{const W=h();if(M.cycleStartDate&&Id(new Date(W),new Date(M.cycleStartDate))){const O=p(M.cycleStartDate);if(O!==M.currentWeek){const R=M.deloadWeekActive,_={...M,currentWeek:O,deloadWeekActive:!1};return l(_),await y(_),{updated:!0,wasDeloadActive:R}}}return{updated:!1,wasDeloadActive:!1}},[h,p]);x.useEffect(()=>{t!==void 0&&(async()=>{d(!0);try{let W=null;if(t&&!s)W=(await Hs(t.uid))?.weekScheduling;else{const O=localStorage.getItem("goodlift_week_scheduling");O&&(W=JSON.parse(O))}if(W){const O={...Jl,...W,weeklySchedule:{...Jl.weeklySchedule,...W.weeklySchedule||{}}};l(O),await g(O)}else{const O={...Jl,cycleStartDate:h()};l(O),await y(O)}}catch(W){console.error("Error loading week state:",W);const O={...Jl,cycleStartDate:h()};l(O)}finally{d(!1)}})()},[t,s,h,g]);const y=async M=>{try{t&&!s?await vn(t.uid,{weekScheduling:M}):localStorage.setItem("goodlift_week_scheduling",JSON.stringify(M))}catch(W){throw console.error("Error saving week state:",W),W}},b=x.useCallback(async()=>{const M={...a,currentWeek:1,cycleStartDate:h(),deloadWeekActive:!1};return l(M),await y(M),M},[a,h]),v=x.useCallback(async()=>{if(a.currentWeek<4)throw new Error("Deload week only available from week 4 onwards");const M={...a,deloadWeekActive:!0,weeklySchedule:{Monday:null,Tuesday:null,Wednesday:null,Thursday:null,Friday:null,Saturday:null,Sunday:null}};return l(M),await y(M),M},[a]),S=x.useCallback(()=>a.currentWeek===1,[a.currentWeek]),j=x.useCallback(async(M,W)=>{const O={...a.weeklySchedule,[M]:W},R={...a,weeklySchedule:O};return l(R),await y(R),R},[a]),k=x.useCallback(async M=>{const W={...M,id:`fav_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,addedAt:new Date().toISOString()},O=[...a.favorites,W],R={...a,favorites:O};return l(R),await y(R),W},[a]),w=x.useCallback(async M=>{const W=a.favorites.filter(R=>R.id!==M),O={...a,favorites:W};return l(O),await y(O),O},[a]),T=x.useCallback((M,W=[])=>{if(!W||W.length===0)return null;const O=new Date;O.setDate(O.getDate()-7);const _={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6}[M],N=W.filter(I=>{const V=new Date(I.date);return V.getDay()===_&&V>=new Date(O.getTime()-10080*60*1e3)&&V<O});return N.length>0?N[N.length-1]:null},[]),E={weekState:a,loading:u,currentWeek:a.currentWeek,cycleStartDate:a.cycleStartDate,deloadWeekActive:a.deloadWeekActive,weeklySchedule:a.weeklySchedule,favorites:a.favorites,resetWeekCycle:b,triggerDeloadWeek:v,isAutoAssignWeek:S,assignWorkoutToDay:j,addToFavorites:k,removeFromFavorites:w,getWorkoutSuggestion:T,checkAndIncrementWeek:()=>g(a)};return r.jsx(sk.Provider,{value:E,children:e})};ik.propTypes={children:D.node.isRequired};const ak=({onNavigate:e})=>{const t=Jo(),{currentWeek:s,deloadWeekActive:a,triggerDeloadWeek:l}=Na(),[u,d]=x.useState(It.isMutedState()),[h,p]=x.useState(mr.isActive()),[g]=x.useState(mr.isWakeLockSupported()),[y,b]=x.useState(!1);x.useEffect(()=>{const T=mr.reacquireOnVisibilityChange();return()=>{T&&T.then(E=>E&&E())}},[]);const v=()=>{const T=It.toggleMute();d(T)},S=async()=>{if(h)await mr.releaseWakeLock(),p(!1);else{const T=await mr.requestWakeLock();p(T)}},j=()=>{b(!0)},k=async()=>{try{await l(),b(!1)}catch(T){console.error("Error triggering deload week:",T)}},w=()=>{b(!1)};return r.jsxs(L,{component:"header",sx:{position:"fixed",top:0,left:0,right:0,height:"60px",display:"flex",alignItems:"center",justifyContent:"flex-start",padding:"0 1rem",background:t.palette.background.paper,backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",boxShadow:t.palette.mode==="dark"?"0 2px 8px rgba(0, 0, 0, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.1)",zIndex:100,borderBottom:`1px solid ${t.palette.mode==="dark"?"rgba(29, 181, 132, 0.2)":"rgba(0, 0, 0, 0.12)"}`},children:[r.jsx(L,{onClick:()=>e&&e("progress"),sx:{display:"flex",alignItems:"center",cursor:e?"pointer":"default",transition:"transform 0.2s ease","&:hover":e?{transform:"scale(1.05)"}:{},"&:active":e?{transform:"scale(0.98)"}:{}},"aria-label":e?"Go to Progress screen":void 0,role:e?"button":void 0,tabIndex:e?0:void 0,onKeyDown:e?T=>{(T.key==="Enter"||T.key===" ")&&(T.preventDefault(),e("progress"))}:void 0,children:r.jsx("img",{src:"/goodlift/goodlift-favicon.svg",alt:"GoodLift",style:{height:"40px",width:"40px",display:"block"}})}),r.jsx(L,{sx:{position:"absolute",left:"50%",transform:"translateX(-50%)",display:"flex",alignItems:"center"},children:r.jsx(Hg,{currentWeek:s,deloadWeekActive:a,onDeloadTrigger:j,clickable:!0})}),r.jsxs(L,{sx:{position:"absolute",right:"1rem",display:"flex",alignItems:"center",gap:.5},children:[r.jsx(Gn,{title:u?"Unmute sounds":"Mute sounds",children:r.jsx(He,{onClick:v,sx:{color:u?"grey.500":"primary.main",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{backgroundColor:t.palette.mode==="dark"?"rgba(29, 181, 132, 0.15)":"rgba(24, 160, 113, 0.1)"}},"aria-label":u?"Unmute sounds":"Mute sounds",children:u?r.jsx(EC,{}):r.jsx(_g,{})})}),g&&r.jsx(Gn,{title:h?"Screen kept awake":"Allow screen sleep",children:r.jsx(He,{onClick:S,sx:{color:h?"secondary.main":"grey.500",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{backgroundColor:t.palette.mode==="dark"?"rgba(255, 140, 0, 0.15)":"rgba(255, 140, 0, 0.1)"}},"aria-label":h?"Release wake lock":"Keep screen awake",children:h?r.jsx(dO,{size:24}):r.jsx(uO,{size:24})})})]}),r.jsxs(An,{open:y,onClose:w,maxWidth:"sm",fullWidth:!0,children:[r.jsx(Un,{children:"Trigger Deload Week?"}),r.jsx(Pn,{children:r.jsx(P,{children:"This will activate deload week, replacing your scheduled workouts with recovery-focused sessions. The week counter will continue normally, and deload mode will end after this week completes."})}),r.jsxs(On,{children:[r.jsx(Ae,{onClick:w,color:"inherit",children:"Cancel"}),r.jsx(Ae,{onClick:k,variant:"contained",color:"warning",children:"Activate Deload"})]})]})]})};ak.propTypes={onNavigate:D.func};const dy=x.createContext({});function hy(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const fy=typeof window<"u",rk=fy?x.useLayoutEffect:x.useEffect,Ch=x.createContext(null);function py(e,t){e.indexOf(t)===-1&&e.push(t)}function my(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const Gi=(e,t,s)=>s>t?t:s<e?e:s;let gy=()=>{};const $i={},ok=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function lk(e){return typeof e=="object"&&e!==null}const ck=e=>/^0[^.\s]+$/u.test(e);function yy(e){let t;return()=>(t===void 0&&(t=e()),t)}const Vs=e=>e,OI=(e,t)=>s=>t(e(s)),Kc=(...e)=>e.reduce(OI),Ec=(e,t,s)=>{const a=t-e;return a===0?1:(s-e)/a};class xy{constructor(){this.subscriptions=[]}add(t){return py(this.subscriptions,t),()=>my(this.subscriptions,t)}notify(t,s,a){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](t,s,a);else for(let u=0;u<l;u++){const d=this.subscriptions[u];d&&d(t,s,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fi=e=>e*1e3,Bs=e=>e/1e3;function uk(e,t){return t?e*(1e3/t):0}const dk=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,RI=1e-7,_I=12;function II(e,t,s,a,l){let u,d,h=0;do d=t+(s-t)/2,u=dk(d,a,l)-e,u>0?s=d:t=d;while(Math.abs(u)>RI&&++h<_I);return d}function Qc(e,t,s,a){if(e===t&&s===a)return Vs;const l=u=>II(u,0,1,e,s);return u=>u===0||u===1?u:dk(l(u),t,a)}const hk=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,fk=e=>t=>1-e(1-t),pk=Qc(.33,1.53,.69,.99),by=fk(pk),mk=hk(by),gk=e=>(e*=2)<1?.5*by(e):.5*(2-Math.pow(2,-10*(e-1))),vy=e=>1-Math.sin(Math.acos(e)),yk=fk(vy),xk=hk(vy),WI=Qc(.42,0,1,1),NI=Qc(0,0,.58,1),bk=Qc(.42,0,.58,1),LI=e=>Array.isArray(e)&&typeof e[0]!="number",vk=e=>Array.isArray(e)&&typeof e[0]=="number",zI={linear:Vs,easeIn:WI,easeInOut:bk,easeOut:NI,circIn:vy,circInOut:xk,circOut:yk,backIn:by,backInOut:mk,backOut:pk,anticipate:gk},BI=e=>typeof e=="string",aw=e=>{if(vk(e)){gy(e.length===4);const[t,s,a,l]=e;return Qc(t,s,a,l)}else if(BI(e))return zI[e];return e},vd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function VI(e,t){let s=new Set,a=new Set,l=!1,u=!1;const d=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function p(y){d.has(y)&&(g.schedule(y),e()),y(h)}const g={schedule:(y,b=!1,v=!1)=>{const j=v&&l?s:a;return b&&d.add(y),j.has(y)||j.add(y),y},cancel:y=>{a.delete(y),d.delete(y)},process:y=>{if(h=y,l){u=!0;return}l=!0,[s,a]=[a,s],s.forEach(p),s.clear(),l=!1,u&&(u=!1,g.process(y))}};return g}const FI=40;function Sk(e,t){let s=!1,a=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=()=>s=!0,d=vd.reduce((M,W)=>(M[W]=VI(u),M),{}),{setup:h,read:p,resolveKeyframes:g,preUpdate:y,update:b,preRender:v,render:S,postRender:j}=d,k=()=>{const M=$i.useManualTiming?l.timestamp:performance.now();s=!1,$i.useManualTiming||(l.delta=a?1e3/60:Math.max(Math.min(M-l.timestamp,FI),1)),l.timestamp=M,l.isProcessing=!0,h.process(l),p.process(l),g.process(l),y.process(l),b.process(l),v.process(l),S.process(l),j.process(l),l.isProcessing=!1,s&&t&&(a=!1,e(k))},w=()=>{s=!0,a=!0,l.isProcessing||e(k)};return{schedule:vd.reduce((M,W)=>{const O=d[W];return M[W]=(R,_=!1,N=!1)=>(s||w(),O.schedule(R,_,N)),M},{}),cancel:M=>{for(let W=0;W<vd.length;W++)d[vd[W]].cancel(M)},state:l,steps:d}}const{schedule:Zt,cancel:Ra,state:Fn,steps:pm}=Sk(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vs,!0);let Wd;function HI(){Wd=void 0}const ds={now:()=>(Wd===void 0&&ds.set(Fn.isProcessing||$i.useManualTiming?Fn.timestamp:performance.now()),Wd),set:e=>{Wd=e,queueMicrotask(HI)}},wk=e=>t=>typeof t=="string"&&t.startsWith(e),Sy=wk("--"),UI=wk("var(--"),wy=e=>UI(e)?qI.test(e.split("/*")[0].trim()):!1,qI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,tl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Mc={...tl,transform:e=>Gi(0,1,e)},Sd={...tl,default:1},fc=e=>Math.round(e*1e5)/1e5,Cy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function YI(e){return e==null}const GI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ty=(e,t)=>s=>!!(typeof s=="string"&&GI.test(s)&&s.startsWith(e)||t&&!YI(s)&&Object.prototype.hasOwnProperty.call(s,t)),Ck=(e,t,s)=>a=>{if(typeof a!="string")return a;const[l,u,d,h]=a.match(Cy);return{[e]:parseFloat(l),[t]:parseFloat(u),[s]:parseFloat(d),alpha:h!==void 0?parseFloat(h):1}},$I=e=>Gi(0,255,e),mm={...tl,transform:e=>Math.round($I(e))},xr={test:Ty("rgb","red"),parse:Ck("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:a=1})=>"rgba("+mm.transform(e)+", "+mm.transform(t)+", "+mm.transform(s)+", "+fc(Mc.transform(a))+")"};function KI(e){let t="",s="",a="",l="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),a=e.substring(5,7),l=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),a=e.substring(3,4),l=e.substring(4,5),t+=t,s+=s,a+=a,l+=l),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(a,16),alpha:l?parseInt(l,16)/255:1}}const Gm={test:Ty("#"),parse:KI,transform:xr.transform},Xc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ka=Xc("deg"),pi=Xc("%"),it=Xc("px"),QI=Xc("vh"),XI=Xc("vw"),rw={...pi,parse:e=>pi.parse(e)/100,transform:e=>pi.transform(e*100)},Mo={test:Ty("hsl","hue"),parse:Ck("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:a=1})=>"hsla("+Math.round(e)+", "+pi.transform(fc(t))+", "+pi.transform(fc(s))+", "+fc(Mc.transform(a))+")"},Dn={test:e=>xr.test(e)||Gm.test(e)||Mo.test(e),parse:e=>xr.test(e)?xr.parse(e):Mo.test(e)?Mo.parse(e):Gm.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?xr.transform(e):Mo.transform(e),getAnimatableNone:e=>{const t=Dn.parse(e);return t.alpha=0,Dn.transform(t)}},ZI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function JI(e){return isNaN(e)&&typeof e=="string"&&(e.match(Cy)?.length||0)+(e.match(ZI)?.length||0)>0}const Tk="number",kk="color",eW="var",tW="var(",ow="${}",nW=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ac(e){const t=e.toString(),s=[],a={color:[],number:[],var:[]},l=[];let u=0;const h=t.replace(nW,p=>(Dn.test(p)?(a.color.push(u),l.push(kk),s.push(Dn.parse(p))):p.startsWith(tW)?(a.var.push(u),l.push(eW),s.push(p)):(a.number.push(u),l.push(Tk),s.push(parseFloat(p))),++u,ow)).split(ow);return{values:s,split:h,indexes:a,types:l}}function jk(e){return Ac(e).values}function Dk(e){const{split:t,types:s}=Ac(e),a=t.length;return l=>{let u="";for(let d=0;d<a;d++)if(u+=t[d],l[d]!==void 0){const h=s[d];h===Tk?u+=fc(l[d]):h===kk?u+=Dn.transform(l[d]):u+=l[d]}return u}}const sW=e=>typeof e=="number"?0:Dn.test(e)?Dn.getAnimatableNone(e):e;function iW(e){const t=jk(e);return Dk(e)(t.map(sW))}const _a={test:JI,parse:jk,createTransformer:Dk,getAnimatableNone:iW};function gm(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function aW({hue:e,saturation:t,lightness:s,alpha:a}){e/=360,t/=100,s/=100;let l=0,u=0,d=0;if(!t)l=u=d=s;else{const h=s<.5?s*(1+t):s+t-s*t,p=2*s-h;l=gm(p,h,e+1/3),u=gm(p,h,e),d=gm(p,h,e-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(d*255),alpha:a}}function th(e,t){return s=>s>0?t:e}const sn=(e,t,s)=>e+(t-e)*s,ym=(e,t,s)=>{const a=e*e,l=s*(t*t-a)+a;return l<0?0:Math.sqrt(l)},rW=[Gm,xr,Mo],oW=e=>rW.find(t=>t.test(e));function lw(e){const t=oW(e);if(!t)return!1;let s=t.parse(e);return t===Mo&&(s=aW(s)),s}const cw=(e,t)=>{const s=lw(e),a=lw(t);if(!s||!a)return th(e,t);const l={...s};return u=>(l.red=ym(s.red,a.red,u),l.green=ym(s.green,a.green,u),l.blue=ym(s.blue,a.blue,u),l.alpha=sn(s.alpha,a.alpha,u),xr.transform(l))},$m=new Set(["none","hidden"]);function lW(e,t){return $m.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function cW(e,t){return s=>sn(e,t,s)}function ky(e){return typeof e=="number"?cW:typeof e=="string"?wy(e)?th:Dn.test(e)?cw:hW:Array.isArray(e)?Ek:typeof e=="object"?Dn.test(e)?cw:uW:th}function Ek(e,t){const s=[...e],a=s.length,l=e.map((u,d)=>ky(u)(u,t[d]));return u=>{for(let d=0;d<a;d++)s[d]=l[d](u);return s}}function uW(e,t){const s={...e,...t},a={};for(const l in s)e[l]!==void 0&&t[l]!==void 0&&(a[l]=ky(e[l])(e[l],t[l]));return l=>{for(const u in a)s[u]=a[u](l);return s}}function dW(e,t){const s=[],a={color:0,var:0,number:0};for(let l=0;l<t.values.length;l++){const u=t.types[l],d=e.indexes[u][a[u]],h=e.values[d]??0;s[l]=h,a[u]++}return s}const hW=(e,t)=>{const s=_a.createTransformer(t),a=Ac(e),l=Ac(t);return a.indexes.var.length===l.indexes.var.length&&a.indexes.color.length===l.indexes.color.length&&a.indexes.number.length>=l.indexes.number.length?$m.has(e)&&!l.values.length||$m.has(t)&&!a.values.length?lW(e,t):Kc(Ek(dW(a,l),l.values),s):th(e,t)};function Mk(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?sn(e,t,s):ky(e)(e,t)}const fW=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>Zt.update(t,s),stop:()=>Ra(t),now:()=>Fn.isProcessing?Fn.timestamp:ds.now()}},Ak=(e,t,s=10)=>{let a="";const l=Math.max(Math.round(t/s),2);for(let u=0;u<l;u++)a+=Math.round(e(u/(l-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},nh=2e4;function jy(e){let t=0;const s=50;let a=e.next(t);for(;!a.done&&t<nh;)t+=s,a=e.next(t);return t>=nh?1/0:t}function pW(e,t=100,s){const a=s({...e,keyframes:[0,t]}),l=Math.min(jy(a),nh);return{type:"keyframes",ease:u=>a.next(l*u).value/t,duration:Bs(l)}}const mW=5;function Pk(e,t,s){const a=Math.max(t-mW,0);return uk(s-e(a),t-a)}const ln={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xm=.001;function gW({duration:e=ln.duration,bounce:t=ln.bounce,velocity:s=ln.velocity,mass:a=ln.mass}){let l,u,d=1-t;d=Gi(ln.minDamping,ln.maxDamping,d),e=Gi(ln.minDuration,ln.maxDuration,Bs(e)),d<1?(l=g=>{const y=g*d,b=y*e,v=y-s,S=Km(g,d),j=Math.exp(-b);return xm-v/S*j},u=g=>{const b=g*d*e,v=b*s+s,S=Math.pow(d,2)*Math.pow(g,2)*e,j=Math.exp(-b),k=Km(Math.pow(g,2),d);return(-l(g)+xm>0?-1:1)*((v-S)*j)/k}):(l=g=>{const y=Math.exp(-g*e),b=(g-s)*e+1;return-xm+y*b},u=g=>{const y=Math.exp(-g*e),b=(s-g)*(e*e);return y*b});const h=5/e,p=xW(l,u,h);if(e=fi(e),isNaN(p))return{stiffness:ln.stiffness,damping:ln.damping,duration:e};{const g=Math.pow(p,2)*a;return{stiffness:g,damping:d*2*Math.sqrt(a*g),duration:e}}}const yW=12;function xW(e,t,s){let a=s;for(let l=1;l<yW;l++)a=a-e(a)/t(a);return a}function Km(e,t){return e*Math.sqrt(1-t*t)}const bW=["duration","bounce"],vW=["stiffness","damping","mass"];function uw(e,t){return t.some(s=>e[s]!==void 0)}function SW(e){let t={velocity:ln.velocity,stiffness:ln.stiffness,damping:ln.damping,mass:ln.mass,isResolvedFromDuration:!1,...e};if(!uw(e,vW)&&uw(e,bW))if(e.visualDuration){const s=e.visualDuration,a=2*Math.PI/(s*1.2),l=a*a,u=2*Gi(.05,1,1-(e.bounce||0))*Math.sqrt(l);t={...t,mass:ln.mass,stiffness:l,damping:u}}else{const s=gW(e);t={...t,...s,mass:ln.mass},t.isResolvedFromDuration=!0}return t}function sh(e=ln.visualDuration,t=ln.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:a,restDelta:l}=s;const u=s.keyframes[0],d=s.keyframes[s.keyframes.length-1],h={done:!1,value:u},{stiffness:p,damping:g,mass:y,duration:b,velocity:v,isResolvedFromDuration:S}=SW({...s,velocity:-Bs(s.velocity||0)}),j=v||0,k=g/(2*Math.sqrt(p*y)),w=d-u,T=Bs(Math.sqrt(p/y)),E=Math.abs(w)<5;a||(a=E?ln.restSpeed.granular:ln.restSpeed.default),l||(l=E?ln.restDelta.granular:ln.restDelta.default);let M;if(k<1){const O=Km(T,k);M=R=>{const _=Math.exp(-k*T*R);return d-_*((j+k*T*w)/O*Math.sin(O*R)+w*Math.cos(O*R))}}else if(k===1)M=O=>d-Math.exp(-T*O)*(w+(j+T*w)*O);else{const O=T*Math.sqrt(k*k-1);M=R=>{const _=Math.exp(-k*T*R),N=Math.min(O*R,300);return d-_*((j+k*T*w)*Math.sinh(N)+O*w*Math.cosh(N))/O}}const W={calculatedDuration:S&&b||null,next:O=>{const R=M(O);if(S)h.done=O>=b;else{let _=O===0?j:0;k<1&&(_=O===0?fi(j):Pk(M,O,R));const N=Math.abs(_)<=a,I=Math.abs(d-R)<=l;h.done=N&&I}return h.value=h.done?d:R,h},toString:()=>{const O=Math.min(jy(W),nh),R=Ak(_=>W.next(O*_).value,O,30);return O+"ms "+R},toTransition:()=>{}};return W}sh.applyToOptions=e=>{const t=pW(e,100,sh);return e.ease=t.ease,e.duration=fi(t.duration),e.type="keyframes",e};function Qm({keyframes:e,velocity:t=0,power:s=.8,timeConstant:a=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:d,min:h,max:p,restDelta:g=.5,restSpeed:y}){const b=e[0],v={done:!1,value:b},S=N=>h!==void 0&&N<h||p!==void 0&&N>p,j=N=>h===void 0?p:p===void 0||Math.abs(h-N)<Math.abs(p-N)?h:p;let k=s*t;const w=b+k,T=d===void 0?w:d(w);T!==w&&(k=T-b);const E=N=>-k*Math.exp(-N/a),M=N=>T+E(N),W=N=>{const I=E(N),V=M(N);v.done=Math.abs(I)<=g,v.value=v.done?T:V};let O,R;const _=N=>{S(v.value)&&(O=N,R=sh({keyframes:[v.value,j(v.value)],velocity:Pk(M,N,v.value),damping:l,stiffness:u,restDelta:g,restSpeed:y}))};return _(0),{calculatedDuration:null,next:N=>{let I=!1;return!R&&O===void 0&&(I=!0,W(N),_(N)),O!==void 0&&N>=O?R.next(N-O):(!I&&W(N),v)}}}function wW(e,t,s){const a=[],l=s||$i.mix||Mk,u=e.length-1;for(let d=0;d<u;d++){let h=l(e[d],e[d+1]);if(t){const p=Array.isArray(t)?t[d]||Vs:t;h=Kc(p,h)}a.push(h)}return a}function CW(e,t,{clamp:s=!0,ease:a,mixer:l}={}){const u=e.length;if(gy(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const d=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const h=wW(t,a,l),p=h.length,g=y=>{if(d&&y<e[0])return t[0];let b=0;if(p>1)for(;b<e.length-2&&!(y<e[b+1]);b++);const v=Ec(e[b],e[b+1],y);return h[b](v)};return s?y=>g(Gi(e[0],e[u-1],y)):g}function TW(e,t){const s=e[e.length-1];for(let a=1;a<=t;a++){const l=Ec(0,t,a);e.push(sn(s,1,l))}}function kW(e){const t=[0];return TW(t,e.length-1),t}function jW(e,t){return e.map(s=>s*t)}function DW(e,t){return e.map(()=>t||bk).splice(0,e.length-1)}function pc({duration:e=300,keyframes:t,times:s,ease:a="easeInOut"}){const l=LI(a)?a.map(aw):aw(a),u={done:!1,value:t[0]},d=jW(s&&s.length===t.length?s:kW(t),e),h=CW(d,t,{ease:Array.isArray(l)?l:DW(t,l)});return{calculatedDuration:e,next:p=>(u.value=h(p),u.done=p>=e,u)}}const EW=e=>e!==null;function Dy(e,{repeat:t,repeatType:s="loop"},a,l=1){const u=e.filter(EW),h=l<0||t&&s!=="loop"&&t%2===1?0:u.length-1;return!h||a===void 0?u[h]:a}const MW={decay:Qm,inertia:Qm,tween:pc,keyframes:pc,spring:sh};function Ok(e){typeof e.type=="string"&&(e.type=MW[e.type])}class Ey{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const AW=e=>e/100;class My extends Ey{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==ds.now()&&this.tick(ds.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Ok(t);const{type:s=pc,repeat:a=0,repeatDelay:l=0,repeatType:u,velocity:d=0}=t;let{keyframes:h}=t;const p=s||pc;p!==pc&&typeof h[0]!="number"&&(this.mixKeyframes=Kc(AW,Mk(h[0],h[1])),h=[0,100]);const g=p({...t,keyframes:h});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...h].reverse(),velocity:-d})),g.calculatedDuration===null&&(g.calculatedDuration=jy(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+l,this.totalDuration=this.resolvedDuration*(a+1)-l,this.generator=g}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:a,totalDuration:l,mixKeyframes:u,mirroredGenerator:d,resolvedDuration:h,calculatedDuration:p}=this;if(this.startTime===null)return a.next(0);const{delay:g=0,keyframes:y,repeat:b,repeatType:v,repeatDelay:S,type:j,onUpdate:k,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-l/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const T=this.currentTime-g*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?T<0:T>l;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let M=this.currentTime,W=a;if(b){const N=Math.min(this.currentTime,l)/h;let I=Math.floor(N),V=N%1;!V&&N>=1&&(V=1),V===1&&I--,I=Math.min(I,b+1),!!(I%2)&&(v==="reverse"?(V=1-V,S&&(V-=S/h)):v==="mirror"&&(W=d)),M=Gi(0,1,V)*h}const O=E?{done:!1,value:y[0]}:W.next(M);u&&(O.value=u(O.value));let{done:R}=O;!E&&p!==null&&(R=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return _&&j!==Qm&&(O.value=Dy(y,this.options,w,this.speed)),k&&k(O.value),_&&this.finish(),O}then(t,s){return this.finished.then(t,s)}get duration(){return Bs(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Bs(t)}get time(){return Bs(this.currentTime)}set time(t){t=fi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ds.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=Bs(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=fW,startTime:s}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),this.options.onPlay?.();const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=s??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ds.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function PW(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const br=e=>e*180/Math.PI,Xm=e=>{const t=br(Math.atan2(e[1],e[0]));return Zm(t)},OW={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Xm,rotateZ:Xm,skewX:e=>br(Math.atan(e[1])),skewY:e=>br(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Zm=e=>(e=e%360,e<0&&(e+=360),e),dw=Xm,hw=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),fw=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),RW={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:hw,scaleY:fw,scale:e=>(hw(e)+fw(e))/2,rotateX:e=>Zm(br(Math.atan2(e[6],e[5]))),rotateY:e=>Zm(br(Math.atan2(-e[2],e[0]))),rotateZ:dw,rotate:dw,skewX:e=>br(Math.atan(e[4])),skewY:e=>br(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Jm(e){return e.includes("scale")?1:0}function eg(e,t){if(!e||e==="none")return Jm(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,l;if(s)a=RW,l=s;else{const h=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=OW,l=h}if(!l)return Jm(t);const u=a[t],d=l[1].split(",").map(IW);return typeof u=="function"?u(d):d[u]}const _W=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return eg(s,t)};function IW(e){return parseFloat(e.trim())}const nl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sl=new Set(nl),pw=e=>e===tl||e===it,WW=new Set(["x","y","z"]),NW=nl.filter(e=>!WW.has(e));function LW(e){const t=[];return NW.forEach(s=>{const a=e.getValue(s);a!==void 0&&(t.push([s,a.get()]),a.set(s.startsWith("scale")?1:0))}),t}const vr={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>eg(t,"x"),y:(e,{transform:t})=>eg(t,"y")};vr.translateX=vr.x;vr.translateY=vr.y;const Sr=new Set;let tg=!1,ng=!1,sg=!1;function Rk(){if(ng){const e=Array.from(Sr).filter(a=>a.needsMeasurement),t=new Set(e.map(a=>a.element)),s=new Map;t.forEach(a=>{const l=LW(a);l.length&&(s.set(a,l),a.render())}),e.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const l=s.get(a);l&&l.forEach(([u,d])=>{a.getValue(u)?.set(d)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}ng=!1,tg=!1,Sr.forEach(e=>e.complete(sg)),Sr.clear()}function _k(){Sr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ng=!0)})}function zW(){sg=!0,_k(),Rk(),sg=!1}class Ay{constructor(t,s,a,l,u,d=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=a,this.motionValue=l,this.element=u,this.isAsync=d}scheduleResolve(){this.state="scheduled",this.isAsync?(Sr.add(this),tg||(tg=!0,Zt.read(_k),Zt.resolveKeyframes(Rk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:a,motionValue:l}=this;if(t[0]===null){const u=l?.get(),d=t[t.length-1];if(u!==void 0)t[0]=u;else if(a&&s){const h=a.readValue(s,d);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=d),l&&u===void 0&&l.set(t[0])}PW(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Sr.delete(this)}cancel(){this.state==="scheduled"&&(Sr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const BW=e=>e.startsWith("--");function VW(e,t,s){BW(t)?e.style.setProperty(t,s):e.style[t]=s}const FW=yy(()=>window.ScrollTimeline!==void 0),HW={};function UW(e,t){const s=yy(e);return()=>HW[t]??s()}const Ik=UW(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),oc=([e,t,s,a])=>`cubic-bezier(${e}, ${t}, ${s}, ${a})`,mw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:oc([0,.65,.55,1]),circOut:oc([.55,0,1,.45]),backIn:oc([.31,.01,.66,-.59]),backOut:oc([.33,1.53,.69,.99])};function Wk(e,t){if(e)return typeof e=="function"?Ik()?Ak(e,t):"ease-out":vk(e)?oc(e):Array.isArray(e)?e.map(s=>Wk(s,t)||mw.easeOut):mw[e]}function qW(e,t,s,{delay:a=0,duration:l=300,repeat:u=0,repeatType:d="loop",ease:h="easeOut",times:p}={},g=void 0){const y={[t]:s};p&&(y.offset=p);const b=Wk(h,l);Array.isArray(b)&&(y.easing=b);const v={delay:a,duration:l,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:u+1,direction:d==="reverse"?"alternate":"normal"};return g&&(v.pseudoElement=g),e.animate(y,v)}function Nk(e){return typeof e=="function"&&"applyToOptions"in e}function YW({type:e,...t}){return Nk(e)&&Ik()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class GW extends Ey{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:a,keyframes:l,pseudoElement:u,allowFlatten:d=!1,finalKeyframe:h,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=d,this.options=t,gy(typeof t.type!="string");const g=YW(t);this.animation=qW(s,a,l,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const y=Dy(l,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):VW(s,a,y),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Bs(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Bs(t)}get time(){return Bs(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=fi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&FW()?(this.animation.timeline=t,Vs):s(this)}}const Lk={anticipate:gk,backInOut:mk,circInOut:xk};function $W(e){return e in Lk}function KW(e){typeof e.ease=="string"&&$W(e.ease)&&(e.ease=Lk[e.ease])}const gw=10;class QW extends GW{constructor(t){KW(t),Ok(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:a,onComplete:l,element:u,...d}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const h=new My({...d,autoplay:!1}),p=fi(this.finishedTime??this.time);s.setWithVelocity(h.sample(p-gw).value,h.sample(p).value,gw),h.stop()}}const yw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(_a.test(e)||e==="0")&&!e.startsWith("url("));function XW(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function ZW(e,t,s,a){const l=e[0];if(l===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],d=yw(l,t),h=yw(u,t);return!d||!h?!1:XW(e)||(s==="spring"||Nk(s))&&a}function ig(e){e.duration=0,e.type="keyframes"}const JW=new Set(["opacity","clipPath","filter","transform"]),e3=yy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function t3(e){const{motionValue:t,name:s,repeatDelay:a,repeatType:l,damping:u,type:d}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return e3()&&s&&JW.has(s)&&(s!=="transform"||!g)&&!p&&!a&&l!=="mirror"&&u!==0&&d!=="inertia"}const n3=40;class s3 extends Ey{constructor({autoplay:t=!0,delay:s=0,type:a="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:d="loop",keyframes:h,name:p,motionValue:g,element:y,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ds.now();const v={autoplay:t,delay:s,type:a,repeat:l,repeatDelay:u,repeatType:d,name:p,motionValue:g,element:y,...b},S=y?.KeyframeResolver||Ay;this.keyframeResolver=new S(h,(j,k,w)=>this.onKeyframesResolved(j,k,v,!w),p,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,s,a,l){this.keyframeResolver=void 0;const{name:u,type:d,velocity:h,delay:p,isHandoff:g,onUpdate:y}=a;this.resolvedAt=ds.now(),ZW(t,u,d,h)||(($i.instantAnimations||!p)&&y?.(Dy(t,a,s)),t[0]=t[t.length-1],ig(a),a.repeat=0);const v={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>n3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...a,keyframes:t},S=!g&&t3(v)?new QW({...v,element:v.motionValue.owner.current}):new My(v);S.finished.then(()=>this.notifyFinished()).catch(Vs),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),zW()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const i3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function a3(e){const t=i3.exec(e);if(!t)return[,];const[,s,a,l]=t;return[`--${s??a}`,l]}function zk(e,t,s=1){const[a,l]=a3(e);if(!a)return;const u=window.getComputedStyle(t).getPropertyValue(a);if(u){const d=u.trim();return ok(d)?parseFloat(d):d}return wy(l)?zk(l,t,s+1):l}function Py(e,t){return e?.[t]??e?.default??e}const Bk=new Set(["width","height","top","left","right","bottom",...nl]),r3={test:e=>e==="auto",parse:e=>e},Vk=e=>t=>t.test(e),Fk=[tl,it,pi,ka,XI,QI,r3],xw=e=>Fk.find(Vk(e));function o3(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ck(e):!0}const l3=new Set(["brightness","contrast","saturate","opacity"]);function c3(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=s.match(Cy)||[];if(!a)return e;const l=s.replace(a,"");let u=l3.has(t)?1:0;return a!==s&&(u*=100),t+"("+u+l+")"}const u3=/\b([a-z-]*)\(.*?\)/gu,ag={..._a,getAnimatableNone:e=>{const t=e.match(u3);return t?t.map(c3).join(" "):e}},bw={...tl,transform:Math.round},d3={rotate:ka,rotateX:ka,rotateY:ka,rotateZ:ka,scale:Sd,scaleX:Sd,scaleY:Sd,scaleZ:Sd,skew:ka,skewX:ka,skewY:ka,distance:it,translateX:it,translateY:it,translateZ:it,x:it,y:it,z:it,perspective:it,transformPerspective:it,opacity:Mc,originX:rw,originY:rw,originZ:it},Oy={borderWidth:it,borderTopWidth:it,borderRightWidth:it,borderBottomWidth:it,borderLeftWidth:it,borderRadius:it,radius:it,borderTopLeftRadius:it,borderTopRightRadius:it,borderBottomRightRadius:it,borderBottomLeftRadius:it,width:it,maxWidth:it,height:it,maxHeight:it,top:it,right:it,bottom:it,left:it,padding:it,paddingTop:it,paddingRight:it,paddingBottom:it,paddingLeft:it,margin:it,marginTop:it,marginRight:it,marginBottom:it,marginLeft:it,backgroundPositionX:it,backgroundPositionY:it,...d3,zIndex:bw,fillOpacity:Mc,strokeOpacity:Mc,numOctaves:bw},h3={...Oy,color:Dn,backgroundColor:Dn,outlineColor:Dn,fill:Dn,stroke:Dn,borderColor:Dn,borderTopColor:Dn,borderRightColor:Dn,borderBottomColor:Dn,borderLeftColor:Dn,filter:ag,WebkitFilter:ag},Hk=e=>h3[e];function Uk(e,t){let s=Hk(e);return s!==ag&&(s=_a),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const f3=new Set(["auto","none","0"]);function p3(e,t,s){let a=0,l;for(;a<e.length&&!l;){const u=e[a];typeof u=="string"&&!f3.has(u)&&Ac(u).values.length&&(l=e[a]),a++}if(l&&s)for(const u of t)e[u]=Uk(s,l)}class m3 extends Ay{constructor(t,s,a,l,u){super(t,s,a,l,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:a}=this;if(!s||!s.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),wy(g))){const y=zk(g,s.current);y!==void 0&&(t[p]=y),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Bk.has(a)||t.length!==2)return;const[l,u]=t,d=xw(l),h=xw(u);if(d!==h)if(pw(d)&&pw(h))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else vr[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,a=[];for(let l=0;l<t.length;l++)(t[l]===null||o3(t[l]))&&a.push(l);a.length&&p3(t,a,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=vr[a](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const l=s[s.length-1];l!==void 0&&t.getValue(a,l).jump(l,!1)}measureEndState(){const{element:t,name:s,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const l=t.getValue(s);l&&l.jump(this.measuredOrigin,!1);const u=a.length-1,d=a[u];a[u]=vr[s](t.measureViewportBox(),window.getComputedStyle(t.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,p])=>{t.getValue(h).set(p)}),this.resolveNoneKeyframes()}}function g3(e,t,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let a=document;const l=s?.[e]??a.querySelectorAll(e);return l?Array.from(l):[]}return Array.from(e)}const qk=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Yk(e){return lk(e)&&"offsetHeight"in e}const vw=30,y3=e=>!isNaN(parseFloat(e));class x3{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{const l=ds.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=ds.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=y3(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new xy);const a=this.events[t].add(s);return t==="change"?()=>{a(),Zt.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,s,a){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ds.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>vw)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,vw);return uk(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qo(e,t){return new x3(e,t)}const{schedule:Ry}=Sk(queueMicrotask,!1),Qs={x:!1,y:!1};function Gk(){return Qs.x||Qs.y}function b3(e){return e==="x"||e==="y"?Qs[e]?null:(Qs[e]=!0,()=>{Qs[e]=!1}):Qs.x||Qs.y?null:(Qs.x=Qs.y=!0,()=>{Qs.x=Qs.y=!1})}function $k(e,t){const s=g3(e),a=new AbortController,l={passive:!0,...t,signal:a.signal};return[s,l,()=>a.abort()]}function Sw(e){return!(e.pointerType==="touch"||Gk())}function v3(e,t,s={}){const[a,l,u]=$k(e,s),d=h=>{if(!Sw(h))return;const{target:p}=h,g=t(p,h);if(typeof g!="function"||!p)return;const y=b=>{Sw(b)&&(g(b),p.removeEventListener("pointerleave",y))};p.addEventListener("pointerleave",y,l)};return a.forEach(h=>{h.addEventListener("pointerenter",d,l)}),u}const Kk=(e,t)=>t?e===t?!0:Kk(e,t.parentElement):!1,_y=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,S3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function w3(e){return S3.has(e.tagName)||e.tabIndex!==-1}const Nd=new WeakSet;function ww(e){return t=>{t.key==="Enter"&&e(t)}}function bm(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const C3=(e,t)=>{const s=e.currentTarget;if(!s)return;const a=ww(()=>{if(Nd.has(s))return;bm(s,"down");const l=ww(()=>{bm(s,"up")}),u=()=>bm(s,"cancel");s.addEventListener("keyup",l,t),s.addEventListener("blur",u,t)});s.addEventListener("keydown",a,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",a),t)};function Cw(e){return _y(e)&&!Gk()}function T3(e,t,s={}){const[a,l,u]=$k(e,s),d=h=>{const p=h.currentTarget;if(!Cw(h))return;Nd.add(p);const g=t(p,h),y=(S,j)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",v),Nd.has(p)&&Nd.delete(p),Cw(S)&&typeof g=="function"&&g(S,{success:j})},b=S=>{y(S,p===window||p===document||s.useGlobalTarget||Kk(p,S.target))},v=S=>{y(S,!1)};window.addEventListener("pointerup",b,l),window.addEventListener("pointercancel",v,l)};return a.forEach(h=>{(s.useGlobalTarget?window:h).addEventListener("pointerdown",d,l),Yk(h)&&(h.addEventListener("focus",g=>C3(g,l)),!w3(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),u}function Qk(e){return lk(e)&&"ownerSVGElement"in e}function k3(e){return Qk(e)&&e.tagName==="svg"}const $n=e=>!!(e&&e.getVelocity),j3=[...Fk,Dn,_a],D3=e=>j3.find(Vk(e)),Iy=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Tw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function E3(...e){return t=>{let s=!1;const a=e.map(l=>{const u=Tw(l,t);return!s&&typeof u=="function"&&(s=!0),u});if(s)return()=>{for(let l=0;l<a.length;l++){const u=a[l];typeof u=="function"?u():Tw(e[l],null)}}}}function M3(...e){return x.useCallback(E3(...e),e)}class A3 extends x.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const a=s.offsetParent,l=Yk(a)&&a.offsetWidth||0,u=this.props.sizeRef.current;u.height=s.offsetHeight||0,u.width=s.offsetWidth||0,u.top=s.offsetTop,u.left=s.offsetLeft,u.right=l-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function P3({children:e,isPresent:t,anchorX:s,root:a}){const l=x.useId(),u=x.useRef(null),d=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=x.useContext(Iy),p=M3(u,e?.ref);return x.useInsertionEffect(()=>{const{width:g,height:y,top:b,left:v,right:S}=d.current;if(t||!u.current||!g||!y)return;const j=s==="left"?`left: ${v}`:`right: ${S}`;u.current.dataset.motionPopId=l;const k=document.createElement("style");h&&(k.nonce=h);const w=a??document.head;return w.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${j}px !important;
            top: ${b}px !important;
          }
        `),()=>{w.contains(k)&&w.removeChild(k)}},[t]),r.jsx(A3,{isPresent:t,childRef:u,sizeRef:d,children:x.cloneElement(e,{ref:p})})}const O3=({children:e,initial:t,isPresent:s,onExitComplete:a,custom:l,presenceAffectsLayout:u,mode:d,anchorX:h,root:p})=>{const g=hy(R3),y=x.useId();let b=!0,v=x.useMemo(()=>(b=!1,{id:y,initial:t,isPresent:s,custom:l,onExitComplete:S=>{g.set(S,!0);for(const j of g.values())if(!j)return;a&&a()},register:S=>(g.set(S,!1),()=>g.delete(S))}),[s,g,a]);return u&&b&&(v={...v}),x.useMemo(()=>{g.forEach((S,j)=>g.set(j,!1))},[s]),x.useEffect(()=>{!s&&!g.size&&a&&a()},[s]),d==="popLayout"&&(e=r.jsx(P3,{isPresent:s,anchorX:h,root:p,children:e})),r.jsx(Ch.Provider,{value:v,children:e})};function R3(){return new Map}function Xk(e=!0){const t=x.useContext(Ch);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:a,register:l}=t,u=x.useId();x.useEffect(()=>{if(e)return l(u)},[e]);const d=x.useCallback(()=>e&&a&&a(u),[u,a,e]);return!s&&a?[!1,d]:[!0]}const wd=e=>e.key||"";function kw(e){const t=[];return x.Children.forEach(e,s=>{x.isValidElement(s)&&t.push(s)}),t}const Pc=({children:e,custom:t,initial:s=!0,onExitComplete:a,presenceAffectsLayout:l=!0,mode:u="sync",propagate:d=!1,anchorX:h="left",root:p})=>{const[g,y]=Xk(d),b=x.useMemo(()=>kw(e),[e]),v=d&&!g?[]:b.map(wd),S=x.useRef(!0),j=x.useRef(b),k=hy(()=>new Map),[w,T]=x.useState(b),[E,M]=x.useState(b);rk(()=>{S.current=!1,j.current=b;for(let R=0;R<E.length;R++){const _=wd(E[R]);v.includes(_)?k.delete(_):k.get(_)!==!0&&k.set(_,!1)}},[E,v.length,v.join("-")]);const W=[];if(b!==w){let R=[...b];for(let _=0;_<E.length;_++){const N=E[_],I=wd(N);v.includes(I)||(R.splice(_,0,N),W.push(N))}return u==="wait"&&W.length&&(R=W),M(kw(R)),T(b),null}const{forceRender:O}=x.useContext(dy);return r.jsx(r.Fragment,{children:E.map(R=>{const _=wd(R),N=d&&!g?!1:b===E||v.includes(_),I=()=>{if(k.has(_))k.set(_,!0);else return;let V=!0;k.forEach(B=>{B||(V=!1)}),V&&(O?.(),M(j.current),d&&y?.(),a&&a())};return r.jsx(O3,{isPresent:N,initial:!S.current||s?void 0:!1,custom:t,presenceAffectsLayout:l,mode:u,root:p,onExitComplete:N?void 0:I,anchorX:h,children:R},_)})})},Zk=x.createContext({strict:!1}),jw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xo={};for(const e in jw)Xo[e]={isEnabled:t=>jw[e].some(s=>!!t[s])};function _3(e){for(const t in e)Xo[t]={...Xo[t],...e[t]}}const I3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ih(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||I3.has(e)}let Jk=e=>!ih(e);function W3(e){typeof e=="function"&&(Jk=t=>t.startsWith("on")?!ih(t):e(t))}try{W3(require("@emotion/is-prop-valid").default)}catch{}function N3(e,t,s){const a={};for(const l in e)l==="values"&&typeof e.values=="object"||(Jk(l)||s===!0&&ih(l)||!t&&!ih(l)||e.draggable&&l.startsWith("onDrag"))&&(a[l]=e[l]);return a}const Th=x.createContext({});function kh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Oc(e){return typeof e=="string"||Array.isArray(e)}const Wy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ny=["initial",...Wy];function jh(e){return kh(e.animate)||Ny.some(t=>Oc(e[t]))}function ej(e){return!!(jh(e)||e.variants)}function L3(e,t){if(jh(e)){const{initial:s,animate:a}=e;return{initial:s===!1||Oc(s)?s:void 0,animate:Oc(a)?a:void 0}}return e.inherit!==!1?t:{}}function z3(e){const{initial:t,animate:s}=L3(e,x.useContext(Th));return x.useMemo(()=>({initial:t,animate:s}),[Dw(t),Dw(s)])}function Dw(e){return Array.isArray(e)?e.join(" "):e}const Rc={};function B3(e){for(const t in e)Rc[t]=e[t],Sy(t)&&(Rc[t].isCSSVariable=!0)}function tj(e,{layout:t,layoutId:s}){return sl.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!Rc[e]||e==="opacity")}const V3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},F3=nl.length;function H3(e,t,s){let a="",l=!0;for(let u=0;u<F3;u++){const d=nl[u],h=e[d];if(h===void 0)continue;let p=!0;if(typeof h=="number"?p=h===(d.startsWith("scale")?1:0):p=parseFloat(h)===0,!p||s){const g=qk(h,Oy[d]);if(!p){l=!1;const y=V3[d]||d;a+=`${y}(${g}) `}s&&(t[d]=g)}}return a=a.trim(),s?a=s(t,l?"":a):l&&(a="none"),a}function Ly(e,t,s){const{style:a,vars:l,transformOrigin:u}=e;let d=!1,h=!1;for(const p in t){const g=t[p];if(sl.has(p)){d=!0;continue}else if(Sy(p)){l[p]=g;continue}else{const y=qk(g,Oy[p]);p.startsWith("origin")?(h=!0,u[p]=y):a[p]=y}}if(t.transform||(d||s?a.transform=H3(t,e.transform,s):a.transform&&(a.transform="none")),h){const{originX:p="50%",originY:g="50%",originZ:y=0}=u;a.transformOrigin=`${p} ${g} ${y}`}}const zy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nj(e,t,s){for(const a in t)!$n(t[a])&&!tj(a,s)&&(e[a]=t[a])}function U3({transformTemplate:e},t){return x.useMemo(()=>{const s=zy();return Ly(s,t,e),Object.assign({},s.vars,s.style)},[t])}function q3(e,t){const s=e.style||{},a={};return nj(a,s,e),Object.assign(a,U3(e,t)),a}function Y3(e,t){const s={},a=q3(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=a,s}const G3={offset:"stroke-dashoffset",array:"stroke-dasharray"},$3={offset:"strokeDashoffset",array:"strokeDasharray"};function K3(e,t,s=1,a=0,l=!0){e.pathLength=1;const u=l?G3:$3;e[u.offset]=it.transform(-a);const d=it.transform(t),h=it.transform(s);e[u.array]=`${d} ${h}`}function sj(e,{attrX:t,attrY:s,attrScale:a,pathLength:l,pathSpacing:u=1,pathOffset:d=0,...h},p,g,y){if(Ly(e,h,g),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:b,style:v}=e;b.transform&&(v.transform=b.transform,delete b.transform),(v.transform||b.transformOrigin)&&(v.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),v.transform&&(v.transformBox=y?.transformBox??"fill-box",delete b.transformBox),t!==void 0&&(b.x=t),s!==void 0&&(b.y=s),a!==void 0&&(b.scale=a),l!==void 0&&K3(b,l,u,d,!1)}const ij=()=>({...zy(),attrs:{}}),aj=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Q3(e,t,s,a){const l=x.useMemo(()=>{const u=ij();return sj(u,t,aj(a),e.transformTemplate,e.style),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};nj(u,e.style,e),l.style={...u,...l.style}}return l}const X3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function By(e){return typeof e!="string"||e.includes("-")?!1:!!(X3.indexOf(e)>-1||/[A-Z]/u.test(e))}function Z3(e,t,s,{latestValues:a},l,u=!1){const h=(By(e)?Q3:Y3)(t,a,l,e),p=N3(t,typeof e=="string",u),g=e!==x.Fragment?{...p,...h,ref:s}:{},{children:y}=t,b=x.useMemo(()=>$n(y)?y.get():y,[y]);return x.createElement(e,{...g,children:b})}function Ew(e){const t=[{},{}];return e?.values.forEach((s,a)=>{t[0][a]=s.get(),t[1][a]=s.getVelocity()}),t}function Vy(e,t,s,a){if(typeof t=="function"){const[l,u]=Ew(a);t=t(s!==void 0?s:e.custom,l,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[l,u]=Ew(a);t=t(s!==void 0?s:e.custom,l,u)}return t}function Ld(e){return $n(e)?e.get():e}function J3({scrapeMotionValuesFromProps:e,createRenderState:t},s,a,l){return{latestValues:eN(s,a,l,e),renderState:t()}}function eN(e,t,s,a){const l={},u=a(e,{});for(const v in u)l[v]=Ld(u[v]);let{initial:d,animate:h}=e;const p=jh(e),g=ej(e);t&&g&&!p&&e.inherit!==!1&&(d===void 0&&(d=t.initial),h===void 0&&(h=t.animate));let y=s?s.initial===!1:!1;y=y||d===!1;const b=y?h:d;if(b&&typeof b!="boolean"&&!kh(b)){const v=Array.isArray(b)?b:[b];for(let S=0;S<v.length;S++){const j=Vy(e,v[S]);if(j){const{transitionEnd:k,transition:w,...T}=j;for(const E in T){let M=T[E];if(Array.isArray(M)){const W=y?M.length-1:0;M=M[W]}M!==null&&(l[E]=M)}for(const E in k)l[E]=k[E]}}}return l}const rj=e=>(t,s)=>{const a=x.useContext(Th),l=x.useContext(Ch),u=()=>J3(e,t,a,l);return s?u():hy(u)};function Fy(e,t,s){const{style:a}=e,l={};for(const u in a)($n(a[u])||t.style&&$n(t.style[u])||tj(u,e)||s?.getValue(u)?.liveStyle!==void 0)&&(l[u]=a[u]);return l}const tN=rj({scrapeMotionValuesFromProps:Fy,createRenderState:zy});function oj(e,t,s){const a=Fy(e,t,s);for(const l in e)if($n(e[l])||$n(t[l])){const u=nl.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;a[u]=e[l]}return a}const nN=rj({scrapeMotionValuesFromProps:oj,createRenderState:ij}),sN=Symbol.for("motionComponentSymbol");function Ao(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function iN(e,t,s){return x.useCallback(a=>{a&&e.onMount&&e.onMount(a),t&&(a?t.mount(a):t.unmount()),s&&(typeof s=="function"?s(a):Ao(s)&&(s.current=a))},[t])}const Hy=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),aN="framerAppearId",lj="data-"+Hy(aN),cj=x.createContext({});function rN(e,t,s,a,l){const{visualElement:u}=x.useContext(Th),d=x.useContext(Zk),h=x.useContext(Ch),p=x.useContext(Iy).reducedMotion,g=x.useRef(null);a=a||d.renderer,!g.current&&a&&(g.current=a(e,{visualState:t,parent:u,props:s,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p}));const y=g.current,b=x.useContext(cj);y&&!y.projection&&l&&(y.type==="html"||y.type==="svg")&&oN(g.current,s,l,b);const v=x.useRef(!1);x.useInsertionEffect(()=>{y&&v.current&&y.update(s,h)});const S=s[lj],j=x.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return rk(()=>{y&&(v.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),j.current&&y.animationState&&y.animationState.animateChanges())}),x.useEffect(()=>{y&&(!j.current&&y.animationState&&y.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),j.current=!1),y.enteringChildren=void 0)}),y}function oN(e,t,s,a){const{layoutId:l,layout:u,drag:d,dragConstraints:h,layoutScroll:p,layoutRoot:g,layoutCrossfade:y}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:uj(e.parent)),e.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||h&&Ao(h),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,crossfade:y,layoutScroll:p,layoutRoot:g})}function uj(e){if(e)return e.options.allowProjection!==!1?e.projection:uj(e.parent)}function vm(e,{forwardMotionProps:t=!1}={},s,a){s&&_3(s);const l=By(e)?nN:tN;function u(h,p){let g;const y={...x.useContext(Iy),...h,layoutId:lN(h)},{isStatic:b}=y,v=z3(h),S=l(h,b);if(!b&&fy){cN();const j=uN(y);g=j.MeasureLayout,v.visualElement=rN(e,S,y,a,j.ProjectionNode)}return r.jsxs(Th.Provider,{value:v,children:[g&&v.visualElement?r.jsx(g,{visualElement:v.visualElement,...y}):null,Z3(e,h,iN(S,v.visualElement,p),S,b,t)]})}u.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const d=x.forwardRef(u);return d[sN]=e,d}function lN({layoutId:e}){const t=x.useContext(dy).id;return t&&e!==void 0?t+"-"+e:e}function cN(e,t){x.useContext(Zk).strict}function uN(e){const{drag:t,layout:s}=Xo;if(!t&&!s)return{};const a={...t,...s};return{MeasureLayout:t?.isEnabled(e)||s?.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function dN(e,t){if(typeof Proxy>"u")return vm;const s=new Map,a=(u,d)=>vm(u,d,e,t),l=(u,d)=>a(u,d);return new Proxy(l,{get:(u,d)=>d==="create"?a:(s.has(d)||s.set(d,vm(d,void 0,e,t)),s.get(d))})}function dj({top:e,left:t,right:s,bottom:a}){return{x:{min:t,max:s},y:{min:e,max:a}}}function hN({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function fN(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:a.y,right:a.x}}function Sm(e){return e===void 0||e===1}function rg({scale:e,scaleX:t,scaleY:s}){return!Sm(e)||!Sm(t)||!Sm(s)}function fr(e){return rg(e)||hj(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function hj(e){return Mw(e.x)||Mw(e.y)}function Mw(e){return e&&e!=="0%"}function ah(e,t,s){const a=e-s,l=t*a;return s+l}function Aw(e,t,s,a,l){return l!==void 0&&(e=ah(e,l,a)),ah(e,s,a)+t}function og(e,t=0,s=1,a,l){e.min=Aw(e.min,t,s,a,l),e.max=Aw(e.max,t,s,a,l)}function fj(e,{x:t,y:s}){og(e.x,t.translate,t.scale,t.originPoint),og(e.y,s.translate,s.scale,s.originPoint)}const Pw=.999999999999,Ow=1.0000000000001;function pN(e,t,s,a=!1){const l=s.length;if(!l)return;t.x=t.y=1;let u,d;for(let h=0;h<l;h++){u=s[h],d=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Oo(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),d&&(t.x*=d.x.scale,t.y*=d.y.scale,fj(e,d)),a&&fr(u.latestValues)&&Oo(e,u.latestValues))}t.x<Ow&&t.x>Pw&&(t.x=1),t.y<Ow&&t.y>Pw&&(t.y=1)}function Po(e,t){e.min=e.min+t,e.max=e.max+t}function Rw(e,t,s,a,l=.5){const u=sn(e.min,e.max,l);og(e,t,s,u,a)}function Oo(e,t){Rw(e.x,t.x,t.scaleX,t.scale,t.originX),Rw(e.y,t.y,t.scaleY,t.scale,t.originY)}function pj(e,t){return dj(fN(e.getBoundingClientRect(),t))}function mN(e,t,s){const a=pj(e,s),{scroll:l}=t;return l&&(Po(a.x,l.offset.x),Po(a.y,l.offset.y)),a}const _w=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ro=()=>({x:_w(),y:_w()}),Iw=()=>({min:0,max:0}),gn=()=>({x:Iw(),y:Iw()}),lg={current:null},mj={current:!1};function gN(){if(mj.current=!0,!!fy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>lg.current=e.matches;e.addEventListener("change",t),t()}else lg.current=!1}const yN=new WeakMap;function xN(e,t,s){for(const a in t){const l=t[a],u=s[a];if($n(l))e.addValue(a,l);else if($n(u))e.addValue(a,Qo(l,{owner:e}));else if(u!==l)if(e.hasValue(a)){const d=e.getValue(a);d.liveStyle===!0?d.jump(l):d.hasAnimated||d.set(l)}else{const d=e.getStaticValue(a);e.addValue(a,Qo(d!==void 0?d:l,{owner:e}))}}for(const a in s)t[a]===void 0&&e.removeValue(a);return t}const Ww=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class bN{scrapeMotionValuesFromProps(t,s,a){return{}}constructor({parent:t,props:s,presenceContext:a,reducedMotionConfig:l,blockInitialAnimation:u,visualState:d},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ay,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=ds.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Zt.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=d;this.latestValues=p,this.baseTarget={...p},this.initialValues=s.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=s,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=l,this.options=h,this.blockInitialAnimation=!!u,this.isControllingVariants=jh(s),this.isVariantNode=ej(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...b}=this.scrapeMotionValuesFromProps(s,{},this);for(const v in b){const S=b[v];p[v]!==void 0&&$n(S)&&S.set(p[v])}}mount(t){this.current=t,yN.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),mj.current||gN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:lg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ra(this.notifyUpdate),Ra(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=sl.has(t);a&&this.onBindTransform&&this.onBindTransform();const l=s.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&Zt.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{l(),u&&u(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Xo){const s=Xo[t];if(!s)continue;const{isEnabled:a,Feature:l}=s;if(!this.features[t]&&l&&a(this.props)&&(this.features[t]=new l(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let a=0;a<Ww.length;a++){const l=Ww[a];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u="on"+l,d=t[u];d&&(this.propEventSubscriptions[l]=this.on(l,d))}this.prevMotionValues=xN(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const a=this.values.get(t);s!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&s!==void 0&&(a=Qo(s===null?void 0:s,{owner:this}),this.addValue(t,a)),a}readValue(t,s){let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(ok(a)||ck(a))?a=parseFloat(a):!D3(a)&&_a.test(s)&&(a=Uk(t,s)),this.setBaseTarget(t,$n(a)?a.get():a)),$n(a)?a.get():a}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){const{initial:s}=this.props;let a;if(typeof s=="string"||typeof s=="object"){const u=Vy(this.props,s,this.presenceContext?.custom);u&&(a=u[t])}if(s&&a!==void 0)return a;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!$n(l)?l:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new xy),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){Ry.render(this.render)}}class gj extends bN{constructor(){super(...arguments),this.KeyframeResolver=m3}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:a}){delete s[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;$n(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function yj(e,{style:t,vars:s},a,l){const u=e.style;let d;for(d in t)u[d]=t[d];l?.applyProjectionStyles(u,a);for(d in s)u.setProperty(d,s[d])}function vN(e){return window.getComputedStyle(e)}class SN extends gj{constructor(){super(...arguments),this.type="html",this.renderInstance=yj}readValueFromInstance(t,s){if(sl.has(s))return this.projection?.isProjecting?Jm(s):_W(t,s);{const a=vN(t),l=(Sy(s)?a.getPropertyValue(s):a[s])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:s}){return pj(t,s)}build(t,s,a){Ly(t,s,a.transformTemplate)}scrapeMotionValuesFromProps(t,s,a){return Fy(t,s,a)}}const xj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function wN(e,t,s,a){yj(e,t,void 0,a);for(const l in t.attrs)e.setAttribute(xj.has(l)?l:Hy(l),t.attrs[l])}class CN extends gj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gn}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(sl.has(s)){const a=Hk(s);return a&&a.default||0}return s=xj.has(s)?s:Hy(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,a){return oj(t,s,a)}build(t,s,a){sj(t,s,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(t,s,a,l){wN(t,s,a,l)}mount(t){this.isSVGTag=aj(t.tagName),super.mount(t)}}const TN=(e,t)=>By(e)?new CN(t):new SN(t,{allowProjection:e!==x.Fragment});function Bo(e,t,s){const a=e.getProps();return Vy(a,t,s!==void 0?s:a.custom,e)}const cg=e=>Array.isArray(e);function kN(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,Qo(s))}function jN(e){return cg(e)?e[e.length-1]||0:e}function DN(e,t){const s=Bo(e,t);let{transitionEnd:a={},transition:l={},...u}=s||{};u={...u,...a};for(const d in u){const h=jN(u[d]);kN(e,d,h)}}function EN(e){return!!($n(e)&&e.add)}function ug(e,t){const s=e.getValue("willChange");if(EN(s))return s.add(t);if(!s&&$i.WillChange){const a=new $i.WillChange("auto");e.addValue("willChange",a),a.add(t)}}function bj(e){return e.props[lj]}const MN=e=>e!==null;function AN(e,{repeat:t,repeatType:s="loop"},a){const l=e.filter(MN),u=t&&s!=="loop"&&t%2===1?0:l.length-1;return l[u]}const PN={type:"spring",stiffness:500,damping:25,restSpeed:10},ON=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),RN={type:"keyframes",duration:.8},_N={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},IN=(e,{keyframes:t})=>t.length>2?RN:sl.has(e)?e.startsWith("scale")?ON(t[1]):PN:_N;function WN({when:e,delay:t,delayChildren:s,staggerChildren:a,staggerDirection:l,repeat:u,repeatType:d,repeatDelay:h,from:p,elapsed:g,...y}){return!!Object.keys(y).length}const Uy=(e,t,s,a={},l,u)=>d=>{const h=Py(a,e)||{},p=h.delay||a.delay||0;let{elapsed:g=0}=a;g=g-fi(p);const y={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-g,onUpdate:v=>{t.set(v),h.onUpdate&&h.onUpdate(v)},onComplete:()=>{d(),h.onComplete&&h.onComplete()},name:e,motionValue:t,element:u?void 0:l};WN(h)||Object.assign(y,IN(e,y)),y.duration&&(y.duration=fi(y.duration)),y.repeatDelay&&(y.repeatDelay=fi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let b=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(ig(y),y.delay===0&&(b=!0)),($i.instantAnimations||$i.skipAnimations)&&(b=!0,ig(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,b&&!u&&t.get()!==void 0){const v=AN(y.keyframes,h);if(v!==void 0){Zt.update(()=>{y.onUpdate(v),y.onComplete()});return}}return h.isSync?new My(y):new s3(y)};function NN({protectedKeys:e,needsAnimating:t},s){const a=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,a}function vj(e,t,{delay:s=0,transitionOverride:a,type:l}={}){let{transition:u=e.getDefaultTransition(),transitionEnd:d,...h}=t;a&&(u=a);const p=[],g=l&&e.animationState&&e.animationState.getState()[l];for(const y in h){const b=e.getValue(y,e.latestValues[y]??null),v=h[y];if(v===void 0||g&&NN(g,y))continue;const S={delay:s,...Py(u||{},y)},j=b.get();if(j!==void 0&&!b.isAnimating&&!Array.isArray(v)&&v===j&&!S.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const T=bj(e);if(T){const E=window.MotionHandoffAnimation(T,y,Zt);E!==null&&(S.startTime=E,k=!0)}}ug(e,y),b.start(Uy(y,b,v,e.shouldReduceMotion&&Bk.has(y)?{type:!1}:S,e,k));const w=b.animation;w&&p.push(w)}return d&&Promise.all(p).then(()=>{Zt.update(()=>{d&&DN(e,d)})}),p}function Sj(e,t,s,a=0,l=1){const u=Array.from(e).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),d=e.size,h=(d-1)*a;return typeof s=="function"?s(u,d):l===1?u*a:h-u*a}function dg(e,t,s={}){const a=Bo(e,t,s.type==="exit"?e.presenceContext?.custom:void 0);let{transition:l=e.getDefaultTransition()||{}}=a||{};s.transitionOverride&&(l=s.transitionOverride);const u=a?()=>Promise.all(vj(e,a,s)):()=>Promise.resolve(),d=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:b}=l;return LN(e,t,p,g,y,b,s)}:()=>Promise.resolve(),{when:h}=l;if(h){const[p,g]=h==="beforeChildren"?[u,d]:[d,u];return p().then(()=>g())}else return Promise.all([u(),d(s.delay)])}function LN(e,t,s=0,a=0,l=0,u=1,d){const h=[];for(const p of e.variantChildren)p.notify("AnimationStart",t),h.push(dg(p,t,{...d,delay:s+(typeof a=="function"?0:a)+Sj(e.variantChildren,p,a,l,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(h)}function zN(e,t,s={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const l=t.map(u=>dg(e,u,s));a=Promise.all(l)}else if(typeof t=="string")a=dg(e,t,s);else{const l=typeof t=="function"?Bo(e,t,s.custom):t;a=Promise.all(vj(e,l,s))}return a.then(()=>{e.notify("AnimationComplete",t)})}function wj(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let a=0;a<s;a++)if(t[a]!==e[a])return!1;return!0}const BN=Ny.length;function Cj(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?Cj(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<BN;s++){const a=Ny[s],l=e.props[a];(Oc(l)||l===!1)&&(t[a]=l)}return t}const VN=[...Wy].reverse(),FN=Wy.length;function HN(e){return t=>Promise.all(t.map(({animation:s,options:a})=>zN(e,s,a)))}function UN(e){let t=HN(e),s=Nw(),a=!0;const l=p=>(g,y)=>{const b=Bo(e,y,p==="exit"?e.presenceContext?.custom:void 0);if(b){const{transition:v,transitionEnd:S,...j}=b;g={...g,...j,...S}}return g};function u(p){t=p(e)}function d(p){const{props:g}=e,y=Cj(e.parent)||{},b=[],v=new Set;let S={},j=1/0;for(let w=0;w<FN;w++){const T=VN[w],E=s[T],M=g[T]!==void 0?g[T]:y[T],W=Oc(M),O=T===p?E.isActive:null;O===!1&&(j=w);let R=M===y[T]&&M!==g[T]&&W;if(R&&a&&e.manuallyAnimateOnMount&&(R=!1),E.protectedKeys={...S},!E.isActive&&O===null||!M&&!E.prevProp||kh(M)||typeof M=="boolean")continue;const _=qN(E.prevProp,M);let N=_||T===p&&E.isActive&&!R&&W||w>j&&W,I=!1;const V=Array.isArray(M)?M:[M];let B=V.reduce(l(T),{});O===!1&&(B={});const{prevResolvedValues:z={}}=E,ue={...z,...B},U=Y=>{N=!0,v.has(Y)&&(I=!0,v.delete(Y)),E.needsAnimating[Y]=!0;const ge=e.getValue(Y);ge&&(ge.liveStyle=!1)};for(const Y in ue){const ge=B[Y],pe=z[Y];if(S.hasOwnProperty(Y))continue;let Me=!1;cg(ge)&&cg(pe)?Me=!wj(ge,pe):Me=ge!==pe,Me?ge!=null?U(Y):v.add(Y):ge!==void 0&&v.has(Y)?U(Y):E.protectedKeys[Y]=!0}E.prevProp=M,E.prevResolvedValues=B,E.isActive&&(S={...S,...B}),a&&e.blockInitialAnimation&&(N=!1);const ae=R&&_;N&&(!ae||I)&&b.push(...V.map(Y=>{const ge={type:T};if(typeof Y=="string"&&a&&!ae&&e.manuallyAnimateOnMount&&e.parent){const{parent:pe}=e,Me=Bo(pe,Y);if(pe.enteringChildren&&Me){const{delayChildren:ve}=Me.transition||{};ge.delay=Sj(pe.enteringChildren,e,ve)}}return{animation:Y,options:ge}}))}if(v.size){const w={};if(typeof g.initial!="boolean"){const T=Bo(e,Array.isArray(g.initial)?g.initial[0]:g.initial);T&&T.transition&&(w.transition=T.transition)}v.forEach(T=>{const E=e.getBaseTarget(T),M=e.getValue(T);M&&(M.liveStyle=!0),w[T]=E??null}),b.push({animation:w})}let k=!!b.length;return a&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(k=!1),a=!1,k?t(b):Promise.resolve()}function h(p,g){if(s[p].isActive===g)return Promise.resolve();e.variantChildren?.forEach(b=>b.animationState?.setActive(p,g)),s[p].isActive=g;const y=d(p);for(const b in s)s[b].protectedKeys={};return y}return{animateChanges:d,setActive:h,setAnimateFunction:u,getState:()=>s,reset:()=>{s=Nw()}}}function qN(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!wj(t,e):!1}function rr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Nw(){return{animate:rr(!0),whileInView:rr(),whileHover:rr(),whileTap:rr(),whileDrag:rr(),whileFocus:rr(),exit:rr()}}class La{constructor(t){this.isMounted=!1,this.node=t}update(){}}class YN extends La{constructor(t){super(t),t.animationState||(t.animationState=UN(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();kh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let GN=0;class $N extends La{constructor(){super(...arguments),this.id=GN++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const l=this.node.animationState.setActive("exit",!t);s&&!t&&l.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const KN={animation:{Feature:YN},exit:{Feature:$N}};function _c(e,t,s,a={passive:!0}){return e.addEventListener(t,s,a),()=>e.removeEventListener(t,s)}function Zc(e){return{point:{x:e.pageX,y:e.pageY}}}const QN=e=>t=>_y(t)&&e(t,Zc(t));function mc(e,t,s,a){return _c(e,t,QN(s),a)}const Tj=1e-4,XN=1-Tj,ZN=1+Tj,kj=.01,JN=0-kj,eL=0+kj;function Jn(e){return e.max-e.min}function tL(e,t,s){return Math.abs(e-t)<=s}function Lw(e,t,s,a=.5){e.origin=a,e.originPoint=sn(t.min,t.max,e.origin),e.scale=Jn(s)/Jn(t),e.translate=sn(s.min,s.max,e.origin)-e.originPoint,(e.scale>=XN&&e.scale<=ZN||isNaN(e.scale))&&(e.scale=1),(e.translate>=JN&&e.translate<=eL||isNaN(e.translate))&&(e.translate=0)}function gc(e,t,s,a){Lw(e.x,t.x,s.x,a?a.originX:void 0),Lw(e.y,t.y,s.y,a?a.originY:void 0)}function zw(e,t,s){e.min=s.min+t.min,e.max=e.min+Jn(t)}function nL(e,t,s){zw(e.x,t.x,s.x),zw(e.y,t.y,s.y)}function Bw(e,t,s){e.min=t.min-s.min,e.max=e.min+Jn(t)}function yc(e,t,s){Bw(e.x,t.x,s.x),Bw(e.y,t.y,s.y)}function zs(e){return[e("x"),e("y")]}const jj=({current:e})=>e?e.ownerDocument.defaultView:null,Vw=(e,t)=>Math.abs(e-t);function sL(e,t){const s=Vw(e.x,t.x),a=Vw(e.y,t.y);return Math.sqrt(s**2+a**2)}class Dj{constructor(t,s,{transformPagePoint:a,contextWindow:l=window,dragSnapToOrigin:u=!1,distanceThreshold:d=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Cm(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,j=sL(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!j)return;const{point:k}=v,{timestamp:w}=Fn;this.history.push({...k,timestamp:w});const{onStart:T,onMove:E}=this.handlers;S||(T&&T(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,v)},this.handlePointerMove=(v,S)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=wm(S,this.transformPagePoint),Zt.update(this.updatePoint,!0)},this.handlePointerUp=(v,S)=>{this.end();const{onEnd:j,onSessionEnd:k,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Cm(v.type==="pointercancel"?this.lastMoveEventInfo:wm(S,this.transformPagePoint),this.history);this.startEvent&&j&&j(v,T),k&&k(v,T)},!_y(t))return;this.dragSnapToOrigin=u,this.handlers=s,this.transformPagePoint=a,this.distanceThreshold=d,this.contextWindow=l||window;const h=Zc(t),p=wm(h,this.transformPagePoint),{point:g}=p,{timestamp:y}=Fn;this.history=[{...g,timestamp:y}];const{onSessionStart:b}=s;b&&b(t,Cm(p,this.history)),this.removeListeners=Kc(mc(this.contextWindow,"pointermove",this.handlePointerMove),mc(this.contextWindow,"pointerup",this.handlePointerUp),mc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ra(this.updatePoint)}}function wm(e,t){return t?{point:t(e.point)}:e}function Fw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Cm({point:e},t){return{point:e,delta:Fw(e,Ej(t)),offset:Fw(e,iL(t)),velocity:aL(t,.1)}}function iL(e){return e[0]}function Ej(e){return e[e.length-1]}function aL(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,a=null;const l=Ej(e);for(;s>=0&&(a=e[s],!(l.timestamp-a.timestamp>fi(t)));)s--;if(!a)return{x:0,y:0};const u=Bs(l.timestamp-a.timestamp);if(u===0)return{x:0,y:0};const d={x:(l.x-a.x)/u,y:(l.y-a.y)/u};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function rL(e,{min:t,max:s},a){return t!==void 0&&e<t?e=a?sn(t,e,a.min):Math.max(e,t):s!==void 0&&e>s&&(e=a?sn(s,e,a.max):Math.min(e,s)),e}function Hw(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function oL(e,{top:t,left:s,bottom:a,right:l}){return{x:Hw(e.x,s,l),y:Hw(e.y,t,a)}}function Uw(e,t){let s=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,a]=[a,s]),{min:s,max:a}}function lL(e,t){return{x:Uw(e.x,t.x),y:Uw(e.y,t.y)}}function cL(e,t){let s=.5;const a=Jn(e),l=Jn(t);return l>a?s=Ec(t.min,t.max-a,e.min):a>l&&(s=Ec(e.min,e.max-l,t.min)),Gi(0,1,s)}function uL(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const hg=.35;function dL(e=hg){return e===!1?e=0:e===!0&&(e=hg),{x:qw(e,"left","right"),y:qw(e,"top","bottom")}}function qw(e,t,s){return{min:Yw(e,t),max:Yw(e,s)}}function Yw(e,t){return typeof e=="number"?e:e[t]||0}const hL=new WeakMap;class fL{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:a}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const u=b=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Zc(b).point)},d=(b,v)=>{const{drag:S,dragPropagation:j,onDragStart:k}=this.getProps();if(S&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=b3(S),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zs(T=>{let E=this.getAxisMotionValue(T).get()||0;if(pi.test(E)){const{projection:M}=this.visualElement;if(M&&M.layout){const W=M.layout.layoutBox[T];W&&(E=Jn(W)*(parseFloat(E)/100))}}this.originPoint[T]=E}),k&&Zt.postRender(()=>k(b,v)),ug(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},h=(b,v)=>{this.latestPointerEvent=b,this.latestPanInfo=v;const{dragPropagation:S,dragDirectionLock:j,onDirectionLock:k,onDrag:w}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:T}=v;if(j&&this.currentDirection===null){this.currentDirection=pL(T),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",v.point,T),this.updateAxis("y",v.point,T),this.visualElement.render(),w&&w(b,v)},p=(b,v)=>{this.latestPointerEvent=b,this.latestPanInfo=v,this.stop(b,v),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>zs(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new Dj(t,{onSessionStart:u,onStart:d,onMove:h,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:a,contextWindow:jj(this.visualElement)})}stop(t,s){const a=t||this.latestPointerEvent,l=s||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!l||!a)return;const{velocity:d}=l;this.startAnimation(d);const{onDragEnd:h}=this.getProps();h&&Zt.postRender(()=>h(a,l))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,a){const{drag:l}=this.getProps();if(!a||!Cd(t,l,this.currentDirection))return;const u=this.getAxisMotionValue(t);let d=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(d=rL(d,this.constraints[t],this.elastic[t])),u.set(d)}resolveConstraints(){const{dragConstraints:t,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,l=this.constraints;t&&Ao(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=oL(a.layoutBox,t):this.constraints=!1,this.elastic=dL(s),l!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&zs(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=uL(a.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Ao(t))return!1;const a=t.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=mN(a,l.root,this.visualElement.getTransformPagePoint());let d=lL(l.layout.layoutBox,u);if(s){const h=s(hN(d));this.hasMutatedConstraints=!!h,h&&(d=dj(h))}return d}startAnimation(t){const{drag:s,dragMomentum:a,dragElastic:l,dragTransition:u,dragSnapToOrigin:d,onDragTransitionEnd:h}=this.getProps(),p=this.constraints||{},g=zs(y=>{if(!Cd(y,s,this.currentDirection))return;let b=p&&p[y]||{};d&&(b={min:0,max:0});const v=l?200:1e6,S=l?40:1e7,j={type:"inertia",velocity:a?t[y]:0,bounceStiffness:v,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...u,...b};return this.startAxisValueAnimation(y,j)});return Promise.all(g).then(h)}startAxisValueAnimation(t,s){const a=this.getAxisMotionValue(t);return ug(this.visualElement,t),a.start(Uy(t,a,0,s,this.visualElement,!1))}stopAnimation(){zs(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){zs(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),l=a[s];return l||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){zs(s=>{const{drag:a}=this.getProps();if(!Cd(s,a,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(s);if(l&&l.layout){const{min:d,max:h}=l.layout.layoutBox[s];u.set(t[s]-sn(d,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:a}=this.visualElement;if(!Ao(s)||!a||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};zs(d=>{const h=this.getAxisMotionValue(d);if(h&&this.constraints!==!1){const p=h.get();l[d]=cL({min:p,max:p},this.constraints[d])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),zs(d=>{if(!Cd(d,t,null))return;const h=this.getAxisMotionValue(d),{min:p,max:g}=this.constraints[d];h.set(sn(p,g,l[d]))})}addListeners(){if(!this.visualElement.current)return;hL.set(this.visualElement,this);const t=this.visualElement.current,s=mc(t,"pointerdown",p=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(p)}),a=()=>{const{dragConstraints:p}=this.getProps();Ao(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),Zt.read(a);const d=_c(window,"resize",()=>this.scalePositionWithinConstraints()),h=l.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(zs(y=>{const b=this.getAxisMotionValue(y);b&&(this.originPoint[y]+=p[y].translate,b.set(b.get()+p[y].translate))}),this.visualElement.render())}));return()=>{d(),s(),u(),h&&h()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:a=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:d=hg,dragMomentum:h=!0}=t;return{...t,drag:s,dragDirectionLock:a,dragPropagation:l,dragConstraints:u,dragElastic:d,dragMomentum:h}}}function Cd(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function pL(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class mL extends La{constructor(t){super(t),this.removeGroupControls=Vs,this.removeListeners=Vs,this.controls=new fL(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vs}unmount(){this.removeGroupControls(),this.removeListeners()}}const Gw=e=>(t,s)=>{e&&Zt.postRender(()=>e(t,s))};class gL extends La{constructor(){super(...arguments),this.removePointerDownListener=Vs}onPointerDown(t){this.session=new Dj(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jj(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:a,onPanEnd:l}=this.node.getProps();return{onSessionStart:Gw(t),onStart:Gw(s),onMove:a,onEnd:(u,d)=>{delete this.session,l&&Zt.postRender(()=>l(u,d))}}}mount(){this.removePointerDownListener=mc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $w(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ec={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(it.test(e))e=parseFloat(e);else return e;const s=$w(e,t.target.x),a=$w(e,t.target.y);return`${s}% ${a}%`}},yL={correct:(e,{treeScale:t,projectionDelta:s})=>{const a=e,l=_a.parse(e);if(l.length>5)return a;const u=_a.createTransformer(e),d=typeof l[0]!="number"?1:0,h=s.x.scale*t.x,p=s.y.scale*t.y;l[0+d]/=h,l[1+d]/=p;const g=sn(h,p,.5);return typeof l[2+d]=="number"&&(l[2+d]/=g),typeof l[3+d]=="number"&&(l[3+d]/=g),u(l)}};let Tm=!1;class xL extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:a,layoutId:l}=this.props,{projection:u}=t;B3(bL),u&&(s.group&&s.group.add(u),a&&a.register&&l&&a.register(u),Tm&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),zd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:a,drag:l,isPresent:u}=this.props,{projection:d}=a;return d&&(d.isPresent=u,Tm=!0,l||t.layoutDependency!==s||s===void 0||t.isPresent!==u?d.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?d.promote():d.relegate()||Zt.postRender(()=>{const h=d.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Ry.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:a}=this.props,{projection:l}=t;Tm=!0,l&&(l.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(l),a&&a.deregister&&a.deregister(l))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Mj(e){const[t,s]=Xk(),a=x.useContext(dy);return r.jsx(xL,{...e,layoutGroup:a,switchLayoutGroup:x.useContext(cj),isPresent:t,safeToRemove:s})}const bL={borderRadius:{...ec,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ec,borderTopRightRadius:ec,borderBottomLeftRadius:ec,borderBottomRightRadius:ec,boxShadow:yL};function vL(e,t,s){const a=$n(e)?e:Qo(e);return a.start(Uy("",a,t,s)),a.animation}const SL=(e,t)=>e.depth-t.depth;class wL{constructor(){this.children=[],this.isDirty=!1}add(t){py(this.children,t),this.isDirty=!0}remove(t){my(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(SL),this.isDirty=!1,this.children.forEach(t)}}function CL(e,t){const s=ds.now(),a=({timestamp:l})=>{const u=l-s;u>=t&&(Ra(a),e(u-t))};return Zt.setup(a,!0),()=>Ra(a)}const Aj=["TopLeft","TopRight","BottomLeft","BottomRight"],TL=Aj.length,Kw=e=>typeof e=="string"?parseFloat(e):e,Qw=e=>typeof e=="number"||it.test(e);function kL(e,t,s,a,l,u){l?(e.opacity=sn(0,s.opacity??1,jL(a)),e.opacityExit=sn(t.opacity??1,0,DL(a))):u&&(e.opacity=sn(t.opacity??1,s.opacity??1,a));for(let d=0;d<TL;d++){const h=`border${Aj[d]}Radius`;let p=Xw(t,h),g=Xw(s,h);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||Qw(p)===Qw(g)?(e[h]=Math.max(sn(Kw(p),Kw(g),a),0),(pi.test(g)||pi.test(p))&&(e[h]+="%")):e[h]=g}(t.rotate||s.rotate)&&(e.rotate=sn(t.rotate||0,s.rotate||0,a))}function Xw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const jL=Pj(0,.5,yk),DL=Pj(.5,.95,Vs);function Pj(e,t,s){return a=>a<e?0:a>t?1:s(Ec(e,t,a))}function Zw(e,t){e.min=t.min,e.max=t.max}function Ws(e,t){Zw(e.x,t.x),Zw(e.y,t.y)}function Jw(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function e1(e,t,s,a,l){return e-=t,e=ah(e,1/s,a),l!==void 0&&(e=ah(e,1/l,a)),e}function EL(e,t=0,s=1,a=.5,l,u=e,d=e){if(pi.test(t)&&(t=parseFloat(t),t=sn(d.min,d.max,t/100)-d.min),typeof t!="number")return;let h=sn(u.min,u.max,a);e===u&&(h-=t),e.min=e1(e.min,t,s,h,l),e.max=e1(e.max,t,s,h,l)}function t1(e,t,[s,a,l],u,d){EL(e,t[s],t[a],t[l],t.scale,u,d)}const ML=["x","scaleX","originX"],AL=["y","scaleY","originY"];function n1(e,t,s,a){t1(e.x,t,ML,s?s.x:void 0,a?a.x:void 0),t1(e.y,t,AL,s?s.y:void 0,a?a.y:void 0)}function s1(e){return e.translate===0&&e.scale===1}function Oj(e){return s1(e.x)&&s1(e.y)}function i1(e,t){return e.min===t.min&&e.max===t.max}function PL(e,t){return i1(e.x,t.x)&&i1(e.y,t.y)}function a1(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Rj(e,t){return a1(e.x,t.x)&&a1(e.y,t.y)}function r1(e){return Jn(e.x)/Jn(e.y)}function o1(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class OL{constructor(){this.members=[]}add(t){py(this.members,t),t.scheduleRender()}remove(t){if(my(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(l=>t===l);if(s===0)return!1;let a;for(let l=s;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){a=u;break}}return a?(this.promote(a),!0):!1}promote(t,s){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,s&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:l}=t.options;l===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:a}=t;s.onExitComplete&&s.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function RL(e,t,s){let a="";const l=e.x.translate/t.x,u=e.y.translate/t.y,d=s?.z||0;if((l||u||d)&&(a=`translate3d(${l}px, ${u}px, ${d}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:g,rotate:y,rotateX:b,rotateY:v,skewX:S,skewY:j}=s;g&&(a=`perspective(${g}px) ${a}`),y&&(a+=`rotate(${y}deg) `),b&&(a+=`rotateX(${b}deg) `),v&&(a+=`rotateY(${v}deg) `),S&&(a+=`skewX(${S}deg) `),j&&(a+=`skewY(${j}deg) `)}const h=e.x.scale*t.x,p=e.y.scale*t.y;return(h!==1||p!==1)&&(a+=`scale(${h}, ${p})`),a||"none"}const km=["","X","Y","Z"],_L=1e3;let IL=0;function jm(e,t,s,a){const{latestValues:l}=t;l[e]&&(s[e]=l[e],t.setStaticValue(e,0),a&&(a[e]=0))}function _j(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=bj(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:l,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",Zt,!(l||u))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&_j(a)}function Ij({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:a,resetTransform:l}){return class{constructor(d={},h=t?.()){this.id=IL++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(LL),this.nodes.forEach(FL),this.nodes.forEach(HL),this.nodes.forEach(zL)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new wL)}addEventListener(d,h){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new xy),this.eventHandlers.get(d).add(h)}notifyListeners(d,...h){const p=this.eventHandlers.get(d);p&&p.notify(...h)}hasListeners(d){return this.eventHandlers.has(d)}mount(d){if(this.instance)return;this.isSVG=Qk(d)&&!k3(d),this.instance=d;const{layoutId:h,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||h)&&(this.isLayoutDirty=!0),e){let y,b=0;const v=()=>this.root.updateBlockedByResize=!1;Zt.read(()=>{b=window.innerWidth}),e(d,()=>{const S=window.innerWidth;S!==b&&(b=S,this.root.updateBlockedByResize=!0,y&&y(),y=CL(v,250),zd.hasAnimatedSinceResize&&(zd.hasAnimatedSinceResize=!1,this.nodes.forEach(u1)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:b,hasRelativeLayoutChanged:v,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||g.getDefaultTransition()||$L,{onLayoutAnimationStart:k,onLayoutAnimationComplete:w}=g.getProps(),T=!this.targetLayout||!Rj(this.targetLayout,S),E=!b&&v;if(this.options.layoutRoot||this.resumeFrom||E||b&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const M={...Py(j,"layout"),onPlay:k,onComplete:w};(g.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M),this.setAnimationOrigin(y,E)}else b||u1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ra(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(UL),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&_j(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const b=this.path[y];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:h,layout:p}=this.options;if(h===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(l1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(c1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(VL),this.nodes.forEach(WL),this.nodes.forEach(NL)):this.nodes.forEach(c1),this.clearAllSnapshots();const h=ds.now();Fn.delta=Gi(0,1e3/60,h-Fn.timestamp),Fn.timestamp=h,Fn.isProcessing=!0,pm.update.process(Fn),pm.preRender.process(Fn),pm.render.process(Fn),Fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ry.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(BL),this.sharedNodes.forEach(qL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Zt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Zt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Jn(this.snapshot.measuredBox.x)&&!Jn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=gn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(h=!1),h&&this.instance){const p=a(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:p,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!l)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!Oj(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;d&&this.instance&&(h||fr(this.latestValues)||y)&&(l(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const h=this.measurePageBox();let p=this.removeElementScroll(h);return d&&(p=this.removeTransform(p)),KL(p),{animationId:this.root.animationId,measuredBox:h,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:d}=this.options;if(!d)return gn();const h=d.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(QL))){const{scroll:g}=this.root;g&&(Po(h.x,g.offset.x),Po(h.y,g.offset.y))}return h}removeElementScroll(d){const h=gn();if(Ws(h,d),this.scroll?.wasRoot)return h;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:y,options:b}=g;g!==this.root&&y&&b.layoutScroll&&(y.wasRoot&&Ws(h,d),Po(h.x,y.offset.x),Po(h.y,y.offset.y))}return h}applyTransform(d,h=!1){const p=gn();Ws(p,d);for(let g=0;g<this.path.length;g++){const y=this.path[g];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Oo(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),fr(y.latestValues)&&Oo(p,y.latestValues)}return fr(this.latestValues)&&Oo(p,this.latestValues),p}removeTransform(d){const h=gn();Ws(h,d);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!fr(g.latestValues))continue;rg(g.latestValues)&&g.updateSnapshot();const y=gn(),b=g.measurePageBox();Ws(y,b),n1(h,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return fr(this.latestValues)&&n1(h,this.latestValues),h}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==h;if(!(d||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:b}=this.options;if(!(!this.layout||!(y||b))){if(this.resolvedRelativeTargetAt=Fn.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gn(),this.relativeTargetOrigin=gn(),yc(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Ws(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=gn(),this.targetWithTransforms=gn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ws(this.target,this.layout.layoutBox),fj(this.target,this.targetDelta)):Ws(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gn(),this.relativeTargetOrigin=gn(),yc(this.relativeTargetOrigin,this.target,v.target),Ws(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||rg(this.parent.latestValues)||hj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const d=this.getLead(),h=!!this.resumingFrom||this!==d;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Fn.timestamp&&(p=!1),p)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;Ws(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,v=this.treeScale.y;pN(this.layoutCorrected,this.treeScale,this.path,h),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=gn());const{target:S}=d;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Jw(this.prevProjectionDelta.x,this.projectionDelta.x),Jw(this.prevProjectionDelta.y,this.projectionDelta.y)),gc(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==v||!o1(this.projectionDelta.x,this.prevProjectionDelta.x)||!o1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){if(this.options.visualElement?.scheduleRender(),d){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ro(),this.projectionDelta=Ro(),this.projectionDeltaWithTransform=Ro()}setAnimationOrigin(d,h=!1){const p=this.snapshot,g=p?p.latestValues:{},y={...this.latestValues},b=Ro();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const v=gn(),S=p?p.source:void 0,j=this.layout?this.layout.source:void 0,k=S!==j,w=this.getStack(),T=!w||w.members.length<=1,E=!!(k&&!T&&this.options.crossfade===!0&&!this.path.some(GL));this.animationProgress=0;let M;this.mixTargetDelta=W=>{const O=W/1e3;d1(b.x,d.x,O),d1(b.y,d.y,O),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yc(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),YL(this.relativeTarget,this.relativeTargetOrigin,v,O),M&&PL(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=gn()),Ws(M,this.relativeTarget)),k&&(this.animationValues=y,kL(y,g,this.latestValues,O,E,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ra(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Zt.update(()=>{zd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Qo(0)),this.currentAnimation=vL(this.motionValue,[0,1e3],{...d,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),d.onUpdate&&d.onUpdate(h)},onStop:()=>{},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_L),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:h,target:p,layout:g,latestValues:y}=d;if(!(!h||!p||!g)){if(this!==d&&this.layout&&g&&Wj(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||gn();const b=Jn(this.layout.layoutBox.x);p.x.min=d.target.x.min,p.x.max=p.x.min+b;const v=Jn(this.layout.layoutBox.y);p.y.min=d.target.y.min,p.y.max=p.y.min+v}Ws(h,p),Oo(h,y),gc(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(d,h){this.sharedNodes.has(d)||this.sharedNodes.set(d,new OL),this.sharedNodes.get(d).add(h);const g=h.options.initialPromotionConfig;h.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(h):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){const{layoutId:d}=this.options;return d?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:d}=this.options;return d?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:h,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),d&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let h=!1;const{latestValues:p}=d;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(h=!0),!h)return;const g={};p.z&&jm("z",d,g,this.animationValues);for(let y=0;y<km.length;y++)jm(`rotate${km[y]}`,d,g,this.animationValues),jm(`skew${km[y]}`,d,g,this.animationValues);d.render();for(const y in g)d.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);d.scheduleRender()}applyProjectionStyles(d,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){d.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,d.visibility="",d.opacity="",d.pointerEvents=Ld(h?.pointerEvents)||"",d.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=Ld(h?.pointerEvents)||""),this.hasProjected&&!fr(this.latestValues)&&(d.transform=p?p({},""):"none",this.hasProjected=!1);return}d.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let b=RL(this.projectionDeltaWithTransform,this.treeScale,y);p&&(b=p(y,b)),d.transform=b;const{x:v,y:S}=this.projectionDelta;d.transformOrigin=`${v.origin*100}% ${S.origin*100}% 0`,g.animationValues?d.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:d.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const j in Rc){if(y[j]===void 0)continue;const{correct:k,applyTo:w,isCSSVariable:T}=Rc[j],E=b==="none"?y[j]:k(y[j],g);if(w){const M=w.length;for(let W=0;W<M;W++)d[w[W]]=E}else T?this.options.visualElement.renderState.vars[j]=E:d[j]=E}this.options.layoutId&&(d.pointerEvents=g===this?Ld(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>d.currentAnimation?.stop()),this.root.nodes.forEach(l1),this.root.sharedNodes.clear()}}}function WL(e){e.updateLayout()}function NL(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=e.layout,{animationType:l}=e.options,u=t.source!==e.layout.source;l==="size"?zs(y=>{const b=u?t.measuredBox[y]:t.layoutBox[y],v=Jn(b);b.min=s[y].min,b.max=b.min+v}):Wj(l,t.layoutBox,s)&&zs(y=>{const b=u?t.measuredBox[y]:t.layoutBox[y],v=Jn(s[y]);b.max=b.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+v)});const d=Ro();gc(d,s,t.layoutBox);const h=Ro();u?gc(h,e.applyTransform(a,!0),t.measuredBox):gc(h,s,t.layoutBox);const p=!Oj(d);let g=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:b,layout:v}=y;if(b&&v){const S=gn();yc(S,t.layoutBox,b.layoutBox);const j=gn();yc(j,s,v.layoutBox),Rj(S,j)||(g=!0),y.options.layoutRoot&&(e.relativeTarget=j,e.relativeTargetOrigin=S,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:h,layoutDelta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function LL(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function zL(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function BL(e){e.clearSnapshot()}function l1(e){e.clearMeasurements()}function c1(e){e.isLayoutDirty=!1}function VL(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function u1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function FL(e){e.resolveTargetDelta()}function HL(e){e.calcProjection()}function UL(e){e.resetSkewAndRotation()}function qL(e){e.removeLeadSnapshot()}function d1(e,t,s){e.translate=sn(t.translate,0,s),e.scale=sn(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function h1(e,t,s,a){e.min=sn(t.min,s.min,a),e.max=sn(t.max,s.max,a)}function YL(e,t,s,a){h1(e.x,t.x,s.x,a),h1(e.y,t.y,s.y,a)}function GL(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const $L={duration:.45,ease:[.4,0,.1,1]},f1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),p1=f1("applewebkit/")&&!f1("chrome/")?Math.round:Vs;function m1(e){e.min=p1(e.min),e.max=p1(e.max)}function KL(e){m1(e.x),m1(e.y)}function Wj(e,t,s){return e==="position"||e==="preserve-aspect"&&!tL(r1(t),r1(s),.2)}function QL(e){return e!==e.root&&e.scroll?.wasRoot}const XL=Ij({attachResizeListener:(e,t)=>_c(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dm={current:void 0},Nj=Ij({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Dm.current){const e=new XL({});e.mount(window),e.setOptions({layoutScroll:!0}),Dm.current=e}return Dm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),ZL={pan:{Feature:gL},drag:{Feature:mL,ProjectionNode:Nj,MeasureLayout:Mj}};function g1(e,t,s){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",s==="Start");const l="onHover"+s,u=a[l];u&&Zt.postRender(()=>u(t,Zc(t)))}class JL extends La{mount(){const{current:t}=this.node;t&&(this.unmount=v3(t,(s,a)=>(g1(this.node,a,"Start"),l=>g1(this.node,l,"End"))))}unmount(){}}class e6 extends La{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kc(_c(this.node.current,"focus",()=>this.onFocus()),_c(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function y1(e,t,s){const{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",s==="Start");const l="onTap"+(s==="End"?"":s),u=a[l];u&&Zt.postRender(()=>u(t,Zc(t)))}class t6 extends La{mount(){const{current:t}=this.node;t&&(this.unmount=T3(t,(s,a)=>(y1(this.node,a,"Start"),(l,{success:u})=>y1(this.node,l,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const fg=new WeakMap,Em=new WeakMap,n6=e=>{const t=fg.get(e.target);t&&t(e)},s6=e=>{e.forEach(n6)};function i6({root:e,...t}){const s=e||document;Em.has(s)||Em.set(s,{});const a=Em.get(s),l=JSON.stringify(t);return a[l]||(a[l]=new IntersectionObserver(s6,{root:e,...t})),a[l]}function a6(e,t,s){const a=i6(t);return fg.set(e,s),a.observe(e),()=>{fg.delete(e),a.unobserve(e)}}const r6={some:0,all:1};class o6 extends La{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:a,amount:l="some",once:u}=t,d={root:s?s.current:void 0,rootMargin:a,threshold:typeof l=="number"?l:r6[l]},h=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:b}=this.node.getProps(),v=g?y:b;v&&v(p)};return a6(this.node.current,d,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(l6(t,s))&&this.startObserver()}unmount(){}}function l6({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const c6={inView:{Feature:o6},tap:{Feature:t6},focus:{Feature:e6},hover:{Feature:JL}},u6={layout:{ProjectionNode:Nj,MeasureLayout:Mj}},d6={...KN,...c6,...ZL,...u6},tt=dN(d6,TN),rh={minimum:"44px",navigation:"56px"},h6={navigation:1e3},qy=x.memo(({currentScreen:e,onNavigate:t})=>{const s=Jo(),a=[{id:"home",label:"Work",iconActive:cn,iconInactive:w2,activeColor:"#1db584",screens:["home","selection","preview","workout","customize","custom-preview","completion","timer","cardio","hiit"]},{id:"progress",label:"Progress",iconActive:Aa,iconInactive:C2,activeColor:"#6b8a9d",screens:["progress"]},{id:"settings",label:"Settings",iconActive:k2,iconInactive:T2,activeColor:"#ff8c00",screens:["settings","log-activity","exercise-list","profile","stretch","mobility"]}],l=d=>{t(d)},u=d=>d.screens.includes(e);return r.jsx(tt.nav,{initial:{y:100},animate:{y:0},transition:{type:"spring",stiffness:300,damping:30},style:{position:"fixed",bottom:0,left:0,right:0,height:`calc(${rh.navigation} + env(safe-area-inset-bottom))`,backgroundColor:s.palette.background.paper,borderTop:`1px solid ${s.palette.mode==="dark"?"rgba(29, 181, 132, 0.2)":"rgba(0, 0, 0, 0.12)"}`,boxShadow:s.palette.mode==="dark"?"0 -2px 10px rgba(0, 0, 0, 0.3)":"0 -2px 10px rgba(0, 0, 0, 0.1)",zIndex:h6.navigation,display:"flex",alignItems:"center",justifyContent:"space-around",paddingBottom:"env(safe-area-inset-bottom)",paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)"},children:a.map(d=>{const h=u(d),p=h?d.iconActive:d.iconInactive;return r.jsxs(tt.button,{onClick:()=>l(d.id),whileTap:{scale:.9},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flex:1,height:"100%",minWidth:rh.minimum,background:"transparent",border:"none",cursor:"pointer",color:h?d.activeColor:s.palette.text.secondary,transition:"color 0.2s ease",padding:"8px 4px"},"aria-label":d.label,"aria-current":h?"page":void 0,children:[r.jsx("div",{style:{fontSize:"1.5rem",marginBottom:"2px",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(p,{sx:{fontSize:"1.5rem"}})}),r.jsx("span",{style:{fontSize:"0.625rem",fontWeight:h?600:400,textTransform:"uppercase",letterSpacing:"0.5px",lineHeight:1},children:d.label}),h&&r.jsx(tt.div,{layoutId:"bottomNavIndicator",style:{position:"absolute",top:0,left:0,right:0,height:"2px",backgroundColor:d.activeColor,borderRadius:"0 0 2px 2px"},transition:{type:"spring",stiffness:300,damping:30}})]},d.id)})})});qy.displayName="BottomNav";qy.propTypes={currentScreen:D.string.isRequired,onNavigate:D.func.isRequired};const Lj=({workoutHistory:e=[],onDayClick:t})=>{const s=Jo(),a=Ig(s.breakpoints.down("sm")),[l,u]=x.useState(new Date),d=()=>{const S=UT(l),j=HT(l),k=ei(S),w=YT(j),T=[];let E=k;for(;E<=w;)T.push(E),E=Gc(E,1);return T},h=S=>e.filter(j=>{const k=new Date(j.date);return Um(k,S)}),p=S=>{if(!S||S.length===0)return null;const j=S[0];return j.type?.toLowerCase()||j.workoutType?.toLowerCase()||"strength"},g=S=>S?S==="cardio"||S==="hiit"?"error.main":S==="stretch"||S==="active_recovery"||S==="yoga"||S==="mobility"?"secondary.main":S==="rest"?"action.disabled":"primary.main":"primary.main",y=d(),b=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],v=new Date;return r.jsx(et,{elevation:2,sx:{borderRadius:3,overflow:"hidden"},children:r.jsxs(at,{sx:{p:{xs:2,sm:3},width:"100%",maxWidth:"100%",boxSizing:"border-box"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},children:[r.jsx(He,{onClick:()=>u(PI(l)),size:a?"small":"medium",children:r.jsx(j2,{})}),r.jsx(P,{variant:"h6",sx:{fontWeight:600,fontSize:{xs:"1.1rem",sm:"1.25rem"}},children:Ym(l,"MMMM yyyy")}),r.jsx(He,{onClick:()=>u(wh(l,1)),size:a?"small":"medium",children:r.jsx(dr,{})})]}),r.jsx(L,{sx:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:{xs:.25,sm:.5},mb:.5},children:b.map(S=>r.jsx(L,{sx:{textAlign:"center",py:{xs:.5,sm:1},fontWeight:700,color:"text.primary",fontSize:{xs:"0.7rem",sm:"0.875rem"},opacity:.8},children:a?S.charAt(0):S},S))}),r.jsx(L,{sx:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:{xs:.25,sm:.5}},children:y.map((S,j)=>{const k=nk(S,l),w=Um(S,v),T=h(S),E=T.length>0,M=p(T);return r.jsxs(L,{onClick:()=>E&&t?.(S,T[0]),sx:{aspectRatio:"1",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:1,cursor:E?"pointer":"default",bgcolor:w?"action.selected":"transparent",opacity:k?1:.3,border:w?2:1,borderColor:w?"primary.main":"transparent",transition:"all 0.2s ease",minHeight:{xs:40,sm:52},maxHeight:{xs:44,sm:60},position:"relative",padding:{xs:"3px 2px",sm:"6px 4px"},"&:hover":E?{bgcolor:"action.hover",transform:"scale(1.05)",boxShadow:1}:{}},children:[r.jsx(P,{variant:"body2",sx:{fontWeight:w?700:500,color:"text.primary",fontSize:{xs:"0.7rem",sm:"0.875rem"},position:"absolute",top:{xs:3,sm:6},left:"50%",transform:"translateX(-50%)"},children:Ym(S,"d")}),E&&r.jsx(P,{sx:{fontSize:{xs:"1.1rem",sm:"1.5rem"},fontWeight:900,color:g(M),lineHeight:1,textShadow:"0 1px 2px rgba(0,0,0,0.1)",marginTop:"auto",marginBottom:{xs:"1px",sm:"4px"}},children:""})]},j)})}),r.jsxs(L,{sx:{display:"flex",gap:{xs:1,sm:2},mt:3,flexWrap:"nowrap",justifyContent:"center",overflowX:"auto"},children:[r.jsx(ut,{label:"Strength",size:"small",sx:{bgcolor:"primary.light",fontSize:{xs:"0.7rem",sm:"0.8125rem"},height:{xs:24,sm:32}}}),r.jsx(ut,{label:"Yoga",size:"small",sx:{bgcolor:"secondary.light",fontSize:{xs:"0.7rem",sm:"0.8125rem"},height:{xs:24,sm:32}}}),r.jsx(ut,{label:"Cardio",size:"small",sx:{bgcolor:"error.light",fontSize:{xs:"0.7rem",sm:"0.8125rem"},height:{xs:24,sm:32}}}),r.jsx(ut,{label:"Rest",size:"small",sx:{bgcolor:"action.disabledBackground",fontSize:{xs:"0.7rem",sm:"0.8125rem"},height:{xs:24,sm:32}}})]})]})})};Lj.propTypes={workoutHistory:D.array,onDayClick:D.func};const Yy=x.memo(({onStartWorkout:e})=>{const[t,s]=x.useState([]),[a,l]=x.useState(null),[u,d]=x.useState(null),{assignWorkoutToDay:h,weeklySchedule:p}=Na(),g=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];x.useEffect(()=>{const w=async()=>{try{const E=await Hi();s(E)}catch(E){console.error("Error loading favorite workouts:",E)}};w();const T=()=>{w()};return window.addEventListener("storage",T),()=>{window.removeEventListener("storage",T)}},[]);const y=async w=>{try{for(const E of g){const M=p[E];M&&M.favoriteId===w&&await h(E,null)}await PT(w);const T=await Hi();s(T)}catch(T){console.error("Error deleting favorite workout:",T)}},b=w=>{if(e&&w){const T=w.type||"full",E=w.equipment||"all",M=w.exercises||[];e(T,E,M)}},v=(w,T)=>{l(w.currentTarget),d(T)},S=()=>{l(null),d(null)},j=async w=>{if(u)try{const T={sessionType:u.type||"full",sessionName:u.name||`${u.type} Workout`,exercises:u.exercises||[],assignedDate:new Date().toISOString(),fromFavorite:!0,favoriteId:u.id};await h(w,T),S()}catch(T){console.error("Error assigning workout to day:",T)}},k=w=>{for(const T of g){const E=p[T];if(E&&E.favoriteId===w.id)return T}return null};return t.length===0?null:r.jsx(et,{elevation:2,sx:{mb:3,borderRadius:3},children:r.jsxs(at,{sx:{p:{xs:2,sm:3}},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",mb:2},children:[r.jsx(Pa,{sx:{color:"warning.main",mr:1}}),r.jsx(P,{variant:"h6",sx:{fontWeight:600,color:"text.primary",flex:1},children:"Favourite Workouts"})]}),r.jsx(Re,{spacing:1.5,children:t.map((w,T)=>r.jsxs(L,{sx:{p:1.5,bgcolor:"background.default",borderRadius:2,borderLeft:"4px solid",borderLeftColor:"warning.main",display:"flex",alignItems:"center",gap:1},children:[r.jsx(cn,{sx:{color:"text.secondary",fontSize:20}}),r.jsxs(L,{sx:{flex:1,minWidth:0},children:[r.jsx(P,{variant:"subtitle2",sx:{fontWeight:600,mb:.5,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:w.name||"Untitled Workout"}),r.jsxs(Re,{direction:"row",spacing:.5,flexWrap:"wrap",children:[w.type&&r.jsx(ut,{label:w.type.charAt(0).toUpperCase()+w.type.slice(1),size:"small",sx:{fontSize:"0.65rem",height:20}}),w.exercises&&r.jsx(ut,{label:`${w.exercises.length} exercises`,size:"small",variant:"outlined",sx:{fontSize:"0.65rem",height:20}}),k(w)&&r.jsx(ut,{icon:r.jsx(Cr,{sx:{fontSize:"0.75rem !important"}}),label:k(w),size:"small",color:"success",sx:{fontSize:"0.65rem",height:20}})]})]}),r.jsxs(Re,{direction:"row",spacing:.5,children:[r.jsx(Gn,{title:"Assign to day",children:r.jsx(He,{size:"small",onClick:E=>v(E,w),sx:{color:k(w)?"success.main":"text.secondary","&:hover":{backgroundColor:"rgba(46, 125, 50, 0.08)"}},"aria-label":`Assign ${w.name||"workout"} to day`,children:r.jsx(hh,{fontSize:"small"})})}),r.jsx(Gn,{title:"Start workout",children:r.jsx(He,{size:"small",onClick:()=>b(w),sx:{color:"primary.main","&:hover":{backgroundColor:"rgba(19, 70, 134, 0.08)"}},"aria-label":`Start ${w.name||"workout"}`,children:r.jsx(Js,{fontSize:"small"})})}),r.jsx(Gn,{title:"Delete",children:r.jsx(He,{size:"small",onClick:()=>y(w.id),sx:{color:"error.main","&:hover":{backgroundColor:"rgba(211, 47, 47, 0.08)"}},"aria-label":`Delete ${w.name||"workout"}`,children:r.jsx(qo,{fontSize:"small"})})})]})]},T))}),r.jsxs(D2,{anchorEl:a,open:!!a,onClose:S,PaperProps:{sx:{maxHeight:300,width:200}},children:[r.jsx(We,{disabled:!0,sx:{opacity:1,fontWeight:600},children:r.jsx(Tt,{children:"Assign to Day"})}),g.map(w=>{const T=u&&p[w]?.favoriteId===u.id;return r.jsxs(We,{onClick:()=>j(w),selected:T,children:[r.jsx(Bt,{children:T&&r.jsx(Cr,{fontSize:"small",color:"success"})}),r.jsx(Tt,{children:w})]},w)})]})]})})});Yy.displayName="FavouriteWorkoutsWidget";Yy.propTypes={onStartWorkout:D.func};const Gy=({onClose:e})=>{const t=[{text:"Take it easy! See a friend!",icon:r.jsx(E2,{sx:{fontSize:48}})},{text:"Rest up! Read a book!",icon:r.jsx(M2,{sx:{fontSize:48}})},{text:"Relax and recover! Try some gentle stretching!",icon:r.jsx(ti,{sx:{fontSize:48}})},{text:"Your body needs rest! Enjoy your day off!",icon:r.jsx(fh,{sx:{fontSize:48}})}],s=t[Math.floor(Math.random()*t.length)];return r.jsx(L,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"rgba(0, 0, 0, 0.5)",zIndex:1300,p:2},onClick:e,children:r.jsx(tt.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},transition:{type:"spring",stiffness:260,damping:20},children:r.jsxs(cc,{elevation:8,sx:{p:4,maxWidth:400,textAlign:"center",borderRadius:4,background:"linear-gradient(135deg, rgba(19, 70, 134, 0.1) 0%, rgba(237, 63, 39, 0.1) 100%)"},onClick:a=>a.stopPropagation(),children:[r.jsx(tt.div,{animate:{y:[0,-10,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:r.jsx(L,{sx:{color:"primary.main",mb:2},children:s.icon})}),r.jsx(P,{variant:"h5",sx:{fontWeight:700,mb:2,color:"text.primary"},children:"It's a Rest Day! "}),r.jsx(P,{variant:"body1",sx:{color:"text.secondary",mb:3},children:s.text}),r.jsx(tt.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:r.jsx(L,{sx:{display:"inline-block",px:3,py:1,borderRadius:2,bgcolor:"primary.main",color:"white",cursor:"pointer",fontWeight:600,"&:hover":{bgcolor:"primary.dark"}},onClick:e,children:"Got it!"})})]})})})};Gy.propTypes={onClose:D.func.isRequired};const f6=e=>{const t=Math.floor(e/3600),s=Math.floor(e%3600/60),a=e%60;return`${t.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`},p6=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),zj=e=>{const t=Math.floor(e/3600),s=Math.floor(e%3600/60);return t>0?`${t}h ${s}m`:`${s}m`},Vo=e=>{if(typeof e=="string"){const t=e.toLowerCase();return t.includes("upper")?"upper":t.includes("lower")?"lower":"full"}if(e?.type)return Vo(e.type);if(e?.["Primary Muscle"]){const t=e["Primary Muscle"].toLowerCase();if(t.includes("upper"))return"upper";if(t.includes("lower"))return"lower"}return"full"},$y=x.memo(({activities:e=[],onDelete:t,onEdit:s,maxVisible:a=10,showLoadMore:l=!0})=>{const[u,d]=x.useState(null),[h,p]=x.useState(a),g=k=>{d(u===k?null:k)},y=k=>({strength:r.jsx(cn,{fontSize:"small"}),cardio:r.jsx(mi,{fontSize:"small"}),hiit:r.jsx(mi,{fontSize:"small"}),stretch:r.jsx(ti,{fontSize:"small"})})[k]||r.jsx(cn,{fontSize:"small"}),b=k=>({strength:"primary",cardio:"info",hiit:"error",stretch:"warning"})[k]||"default",v=k=>k.charAt(0).toUpperCase()+k.slice(1),S=k=>{if(k.exercises){if(Array.isArray(k.exercises))return k.exercises.length;if(typeof k.exercises=="object")return Object.keys(k.exercises).length}return 0},j=e.slice(0,h);return e.length===0?r.jsx(et,{sx:{width:"100%",borderRadius:3},children:r.jsx(at,{children:r.jsx(P,{variant:"body2",color:"text.secondary",align:"center",children:"No activities yet. Start your first workout!"})})}):r.jsxs(L,{sx:{width:"100%"},children:[r.jsx(P,{variant:"overline",sx:{color:"primary.main",fontWeight:600,letterSpacing:1,mb:1,display:"block"},children:"ACTIVITY HISTORY"}),r.jsx(Yn,{sx:{p:0},children:j.map((k,w)=>{const T=u===w,E=S(k),M=k.type||"strength";return r.jsx(et,{sx:{mb:1,borderRadius:2,boxShadow:"0 2px 8px rgba(19, 70, 134, 0.06)",transition:"box-shadow 0.2s","&:hover":{boxShadow:"0 4px 16px rgba(19, 70, 134, 0.12)"}},children:r.jsxs(rt,{sx:{display:"flex",flexDirection:"column",alignItems:"stretch",p:1.5,cursor:"pointer"},onClick:()=>g(w),children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1,flex:1},children:[r.jsx(L,{sx:{color:`${b(M)}.main`},children:y(M)}),r.jsxs(L,{sx:{flex:1},children:[r.jsxs(P,{variant:"body2",sx:{fontWeight:600,color:"text.primary"},children:[k.sessionName||v(M),k.isPartial&&r.jsx(ut,{label:"Partial",size:"small",sx:{ml:1,height:"18px",fontSize:"0.7rem"}})]}),k.sessionName&&r.jsx(P,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.65rem"},children:v(M)}),r.jsxs(Re,{direction:"row",spacing:1,sx:{mt:.5},children:[r.jsx(P,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.7rem"},children:p6(k.date)}),r.jsx(P,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.7rem"},children:""}),r.jsx(P,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.7rem"},children:zj(k.duration)}),E>0&&r.jsxs(r.Fragment,{children:[r.jsx(P,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.7rem"},children:""}),r.jsxs(P,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.7rem"},children:[E," exercises"]})]})]})]})]}),r.jsx(He,{size:"small",onClick:W=>{W.stopPropagation(),g(w)},children:T?r.jsx(MC,{}):r.jsx(Da,{})})]}),r.jsx(Bd,{in:T,timeout:"auto",unmountOnExit:!0,children:r.jsxs(L,{sx:{mt:2,pt:2,borderTop:"1px solid",borderColor:"divider"},children:[k.exercises&&typeof k.exercises=="object"&&r.jsxs(L,{sx:{mb:2},children:[r.jsx(P,{variant:"caption",sx:{fontWeight:600,color:"text.secondary"},children:"Exercises:"}),r.jsx(Yn,{dense:!0,sx:{mt:.5},children:Object.entries(k.exercises).map(([W,O],R)=>r.jsxs(rt,{sx:{py:.5,px:1,flexDirection:"column",alignItems:"flex-start"},children:[r.jsxs(P,{variant:"caption",sx:{color:"text.primary"},children:[W,": ",O.sets?.length||0," sets"]}),O.formNotes&&r.jsxs(P,{variant:"caption",sx:{color:"text.secondary",fontStyle:"italic",mt:.5},children:["Form: ",O.formNotes]})]},R))})]}),k.notes&&r.jsxs(L,{sx:{mb:2,p:1.5,bgcolor:"action.hover",borderRadius:1},children:[r.jsx(P,{variant:"caption",sx:{fontWeight:600,color:"text.secondary",display:"block",mb:.5},children:"Notes:"}),r.jsx(P,{variant:"caption",sx:{color:"text.primary"},children:k.notes})]}),r.jsxs(Re,{direction:"row",spacing:1,children:[s&&r.jsx(Ae,{size:"small",startIcon:r.jsx(Tr,{}),onClick:W=>{W.stopPropagation(),s(w)},variant:"outlined",children:"Edit"}),t&&r.jsx(Ae,{size:"small",startIcon:r.jsx(qo,{}),onClick:W=>{W.stopPropagation(),t(w)},variant:"outlined",color:"error",children:"Delete"})]})]})})]})},w)})}),l&&h<e.length&&r.jsx(L,{sx:{display:"flex",justifyContent:"center",mt:2},children:r.jsxs(Ae,{variant:"outlined",onClick:()=>p(k=>k+a),children:["Load More (",e.length-h," remaining)"]})})]})});$y.displayName="ActivitiesList";$y.propTypes={activities:D.arrayOf(D.shape({date:D.string,type:D.string,duration:D.number,sessionName:D.string,exercises:D.oneOfType([D.array,D.object]),isPartial:D.bool})).isRequired,onDelete:D.func,onEdit:D.func,maxVisible:D.number,showLoadMore:D.bool};const tc=(e,t)=>e.length!==t.length?!1:t.every(s=>e.includes(s)),m6=({openTo:e,defaultOpenTo:t,views:s,defaultViews:a})=>{const l=s??a;let u;if(e!=null)u=e;else if(l.includes(t))u=t;else if(l.length>0)u=l[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:l,openTo:u}},oh=(e,t,s)=>{let a=t;return a=e.setHours(a,e.getHours(s)),a=e.setMinutes(a,e.getMinutes(s)),a=e.setSeconds(a,e.getSeconds(s)),a=e.setMilliseconds(a,e.getMilliseconds(s)),a},Ic=({date:e,disableFuture:t,disablePast:s,maxDate:a,minDate:l,isDateDisabled:u,adapter:d,timezone:h})=>{const p=oh(d,d.date(void 0,h),e);s&&d.isBefore(l,p)&&(l=p),t&&d.isAfter(a,p)&&(a=p);let g=e,y=e;for(d.isBefore(e,l)&&(g=l,y=null),d.isAfter(e,a)&&(y&&(y=a),g=null);g||y;){if(g&&d.isAfter(g,a)&&(g=null),y&&d.isBefore(y,l)&&(y=null),g){if(!u(g))return g;g=d.addDays(g,1)}if(y){if(!u(y))return y;y=d.addDays(y,-1)}}return null},g6=(e,t)=>e.isValid(t)?t:null,x1=(e,t,s)=>t==null||!e.isValid(t)?s:t,y6=(e,t,s)=>!e.isValid(t)&&t!=null&&!e.isValid(s)&&s!=null?!0:e.isEqual(t,s),Ky=(e,t)=>{const a=[e.startOfYear(t)];for(;a.length<12;){const l=a[a.length-1];a.push(e.addMonths(l,1))}return a},Bj=(e,t,s)=>s==="date"?e.startOfDay(e.date(void 0,t)):e.date(void 0,t),x6=["year","month","day"],b1=e=>x6.includes(e),Qy=(e,{format:t,views:s},a)=>{if(t!=null)return t;const l=e.formats;return tc(s,["year"])?l.year:tc(s,["month"])?l.month:tc(s,["day"])?l.dayOfMonth:tc(s,["month","year"])?`${l.month} ${l.year}`:tc(s,["day","month"])?`${l.month} ${l.dayOfMonth}`:a?/en/.test(e.getCurrentLocaleCode())?l.normalDateWithWeekday:l.normalDate:l.keyboardDate},b6=(e,t)=>{const s=e.startOfWeek(t);return[0,1,2,3,4,5,6].map(a=>e.addDays(s,a))},v6=["hours","minutes","seconds"],S6=e=>v6.includes(e),v1=(e,t)=>t.getHours(e)*3600+t.getMinutes(e)*60+t.getSeconds(e),w6=(e,t)=>(s,a)=>e?t.isAfter(s,a):v1(s,t)>v1(a,t),ci={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},C6=e=>Math.max(...e.map(t=>ci[t.type]??1)),nc=(e,t,s)=>{if(t===ci.year)return e.startOfYear(s);if(t===ci.month)return e.startOfMonth(s);if(t===ci.day)return e.startOfDay(s);let a=s;return t<ci.minutes&&(a=e.setMinutes(a,0)),t<ci.seconds&&(a=e.setSeconds(a,0)),t<ci.milliseconds&&(a=e.setMilliseconds(a,0)),a},T6=({props:e,adapter:t,granularity:s,timezone:a,getTodayDate:l})=>{let u=l?l():nc(t,s,Bj(t,a));e.minDate!=null&&t.isAfterDay(e.minDate,u)&&(u=nc(t,s,e.minDate)),e.maxDate!=null&&t.isBeforeDay(e.maxDate,u)&&(u=nc(t,s,e.maxDate));const d=w6(e.disableIgnoringDatePartForTimeValidation??!1,t);return e.minTime!=null&&d(e.minTime,u)&&(u=nc(t,s,e.disableIgnoringDatePartForTimeValidation?e.minTime:oh(t,u,e.minTime))),e.maxTime!=null&&d(u,e.maxTime)&&(u=nc(t,s,e.disableIgnoringDatePartForTimeValidation?e.maxTime:oh(t,u,e.maxTime))),u},Vj=(e,t)=>{const s=e.formatTokenMap[t];if(s==null)throw new Error([`MUI X: The token "${t}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof s=="string"?{type:s,contentType:s==="meridiem"?"letter":"digit",maxLength:void 0}:{type:s.sectionType,contentType:s.contentType,maxLength:s.maxLength}},Dh=(e,t)=>{const s=[],a=e.date(void 0,"default"),l=e.startOfWeek(a),u=e.endOfWeek(a);let d=l;for(;e.isBefore(d,u);)s.push(d),d=e.addDays(d,1);return s.map(h=>e.formatByString(h,t))},Fj=(e,t,s,a)=>{switch(s){case"month":return Ky(e,e.date(void 0,t)).map(l=>e.formatByString(l,a));case"weekDay":return Dh(e,a);case"meridiem":{const l=e.date(void 0,t);return[e.startOfDay(l),e.endOfDay(l)].map(u=>e.formatByString(u,a))}default:return[]}},S1="s",k6=["0","1","2","3","4","5","6","7","8","9"],j6=e=>{const t=e.date(void 0);return e.formatByString(e.setSeconds(t,0),S1)==="0"?k6:Array.from({length:10}).map((a,l)=>e.formatByString(e.setSeconds(t,l),S1))},Dr=(e,t)=>{if(t[0]==="0")return e;const s=[];let a="";for(let l=0;l<e.length;l+=1){a+=e[l];const u=t.indexOf(a);u>-1&&(s.push(u.toString()),a="")}return s.join("")},Xy=(e,t)=>t[0]==="0"?e:e.split("").map(s=>t[Number(s)]).join(""),w1=(e,t)=>{const s=Dr(e,t);return s!==" "&&!Number.isNaN(Number(s))},Zy=(e,t)=>Number(e).toString().padStart(t,"0"),Hj=(e,t,s,a,l)=>{if(l.type==="day"&&l.contentType==="digit-with-letter"){const d=e.setDate(s.longestMonth,t);return e.formatByString(d,l.format)}let u=t.toString();return l.hasLeadingZerosInInput&&(u=Zy(u,l.maxLength)),Xy(u,a)},Jy=(e,t,s)=>{let a=e.value||e.placeholder;const l=t==="non-input"?e.hasLeadingZerosInFormat:e.hasLeadingZerosInInput;return t==="non-input"&&e.hasLeadingZerosInInput&&!e.hasLeadingZerosInFormat&&(a=Number(Dr(a,s)).toString()),["input-rtl","input-ltr"].includes(t)&&e.contentType==="digit"&&!l&&a.length===1&&(a=`${a}`),t==="input-rtl"&&(a=`${a}`),a},C1=(e,t,s,a)=>e.formatByString(e.parse(t,s),a),D6=(e,t)=>e.formatByString(e.date(void 0,"system"),t).length===4,Uj=(e,t,s,a)=>{if(t!=="digit")return!1;const l=e.date(void 0,"default");switch(s){case"year":return e.lib==="dayjs"&&a==="YY"?!0:e.formatByString(e.setYear(l,1),a).startsWith("0");case"month":return e.formatByString(e.startOfYear(l),a).length>1;case"day":return e.formatByString(e.startOfMonth(l),a).length>1;case"weekDay":return e.formatByString(e.startOfWeek(l),a).length>1;case"hours":return e.formatByString(e.setHours(l,1),a).length>1;case"minutes":return e.formatByString(e.setMinutes(l,1),a).length>1;case"seconds":return e.formatByString(e.setSeconds(l,1),a).length>1;default:throw new Error("Invalid section type")}},E6=(e,t,s)=>{const a=t.some(p=>p.type==="day"),l=[],u=[];for(let p=0;p<t.length;p+=1){const g=t[p];a&&g.type==="weekDay"||(l.push(g.format),u.push(Jy(g,"non-input",s)))}const d=l.join(" "),h=u.join(" ");return e.parse(h,d)},M6=e=>e.map(t=>`${t.startSeparator}${t.value||t.placeholder}${t.endSeparator}`).join(""),A6=(e,t,s)=>{const l=e.map(u=>{const d=Jy(u,s?"input-rtl":"input-ltr",t);return`${u.startSeparator}${d}${u.endSeparator}`}).join("");return s?`${l}`:l},P6=(e,t,s)=>{const a=e.date(void 0,s),l=e.endOfYear(a),u=e.endOfDay(a),{maxDaysInMonth:d,longestMonth:h}=Ky(e,a).reduce((p,g)=>{const y=e.getDaysInMonth(g);return y>p.maxDaysInMonth?{maxDaysInMonth:y,longestMonth:g}:p},{maxDaysInMonth:0,longestMonth:null});return{year:({format:p})=>({minimum:0,maximum:D6(e,p)?9999:99}),month:()=>({minimum:1,maximum:e.getMonth(l)+1}),day:({currentDate:p})=>({minimum:1,maximum:e.isValid(p)?e.getDaysInMonth(p):d,longestMonth:h}),weekDay:({format:p,contentType:g})=>{if(g==="digit"){const y=Dh(e,p).map(Number);return{minimum:Math.min(...y),maximum:Math.max(...y)}}return{minimum:1,maximum:7}},hours:({format:p})=>{const g=e.getHours(u);return Dr(e.formatByString(e.endOfDay(a),p),t)!==g.toString()?{minimum:1,maximum:Number(Dr(e.formatByString(e.startOfDay(a),p),t))}:{minimum:0,maximum:g}},minutes:()=>({minimum:0,maximum:e.getMinutes(u)}),seconds:()=>({minimum:0,maximum:e.getSeconds(u)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}},O6=(e,t,s,a)=>{switch(t.type){case"year":return e.setYear(a,e.getYear(s));case"month":return e.setMonth(a,e.getMonth(s));case"weekDay":{let l=e.formatByString(s,t.format);t.hasLeadingZerosInInput&&(l=Zy(l,t.maxLength));const u=Dh(e,t.format),d=u.indexOf(l),p=u.indexOf(t.value)-d;return e.addDays(s,p)}case"day":return e.setDate(a,e.getDate(s));case"meridiem":{const l=e.getHours(s)<12,u=e.getHours(a);return l&&u>=12?e.addHours(a,-12):!l&&u<12?e.addHours(a,12):a}case"hours":return e.setHours(a,e.getHours(s));case"minutes":return e.setMinutes(a,e.getMinutes(s));case"seconds":return e.setSeconds(a,e.getSeconds(s));default:return a}},T1={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},k1=(e,t,s,a,l)=>[...s].sort((u,d)=>T1[u.type]-T1[d.type]).reduce((u,d)=>!l||d.modified?O6(e,d,t,u):u,a),R6=()=>navigator.userAgent.toLowerCase().includes("android"),_6=(e,t)=>{const s={};if(!t)return e.forEach((p,g)=>{const y=g===0?null:g-1,b=g===e.length-1?null:g+1;s[g]={leftIndex:y,rightIndex:b}}),{neighbors:s,startIndex:0,endIndex:e.length-1};const a={},l={};let u=0,d=0,h=e.length-1;for(;h>=0;){d=e.findIndex((p,g)=>g>=u&&p.endSeparator?.includes(" ")&&p.endSeparator!==" / "),d===-1&&(d=e.length-1);for(let p=d;p>=u;p-=1)l[p]=h,a[h]=p,h-=1;u=d+1}return e.forEach((p,g)=>{const y=l[g],b=y===0?null:a[y-1],v=y===e.length-1?null:a[y+1];s[g]={leftIndex:b,rightIndex:v}}),{neighbors:s,startIndex:a[0],endIndex:a[e.length-1]}},pg=(e,t)=>{if(e==null)return null;if(e==="all")return"all";if(typeof e=="string"){const s=t.findIndex(a=>a.type===e);return s===-1?null:s}return e},I6=["value","referenceDate"],yi={emptyValue:null,getTodayValue:Bj,getInitialReferenceValue:e=>{let{value:t,referenceDate:s}=e,a=ot(e,I6);return a.adapter.isValid(t)?t:s??T6(a)},cleanValue:g6,areValuesEqual:y6,isSameError:(e,t)=>e===t,hasError:e=>e!=null,defaultErrorState:null,getTimezone:(e,t)=>e.isValid(t)?e.getTimezone(t):null,setTimezone:(e,t,s)=>s==null?null:e.setTimezone(s,t)},W6={updateReferenceValue:(e,t,s)=>e.isValid(t)?t:s,getSectionsFromValue:(e,t)=>t(e),getV7HiddenInputValueFromSections:M6,getV6InputValueFromSections:A6,parseValueStr:(e,t,s)=>s(e.trim(),t),getDateFromSection:e=>e,getDateSectionsFromValue:e=>e,updateDateInValue:(e,t,s)=>s,clearDateSections:e=>e.map(t=>Q({},t,{value:""}))};function N6(e){return Rn("MuiPickersToolbar",e)}_n("MuiPickersToolbar",["root","title","content"]);const L6=["localeText"],mg=x.createContext(null),Eh=function(t){const{localeText:s}=t,a=ot(t,L6),{adapter:l,localeText:u}=x.useContext(mg)??{adapter:void 0,localeText:void 0},d=an({props:a,name:"MuiLocalizationProvider"}),{children:h,dateAdapter:p,dateFormats:g,dateLibInstance:y,adapterLocale:b,localeText:v}=d,S=x.useMemo(()=>Q({},v,u,s),[v,u,s]),j=x.useMemo(()=>{if(!p)return l||null;const T=new p({locale:b,formats:g,instance:y});if(!T.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/quickstart/#installation"].join(`
`));return T},[p,b,g,y,l]),k=x.useMemo(()=>j?{minDate:j.date("1900-01-01T00:00:00.000"),maxDate:j.date("2099-12-31T00:00:00.000")}:null,[j]),w=x.useMemo(()=>({utils:j,adapter:j,defaultDates:k,localeText:S}),[k,j,S]);return r.jsx(mg.Provider,{value:w,children:h})},qj=x.createContext(()=>!0);function z6(){return x.useContext(qj)}const Yj=x.createContext(null);function Gj(){return x.useContext(Yj)}const ex=x.createContext(null),il=()=>{const e=x.useContext(ex);if(e==null)throw new Error("MUI X: The `usePickerContext` hook can only be called inside the context of a Picker component");return e},$j=x.createContext(null),Kj=x.createContext({ownerState:{isPickerDisabled:!1,isPickerReadOnly:!1,isPickerValueEmpty:!1,isPickerOpen:!1,pickerVariant:"desktop",pickerOrientation:"portrait"},rootRefObject:{current:null},labelId:void 0,dismissViews:()=>{},hasUIView:!0,getCurrentViewMode:()=>"UI",triggerElement:null,viewContainerRole:null,defaultActionBarActions:[],onPopperExited:void 0});function Qj(e){const{contextValue:t,actionsContextValue:s,privateContextValue:a,fieldPrivateContextValue:l,isValidContextValue:u,localeText:d,children:h}=e;return r.jsx(ex.Provider,{value:t,children:r.jsx($j.Provider,{value:s,children:r.jsx(Kj.Provider,{value:a,children:r.jsx(Yj.Provider,{value:l,children:r.jsx(qj.Provider,{value:u,children:r.jsx(Eh,{localeText:d,children:h})})})})})})}const qn=()=>x.useContext(Kj);function Xj(){const{ownerState:e}=qn(),t=Ki();return x.useMemo(()=>Q({},e,{toolbarDirection:t?"rtl":"ltr"}),[e,t])}const B6=["children","className","classes","toolbarTitle","hidden","titleId","classes","landscapeDirection"],V6=e=>dn({root:["root"],title:["title"],content:["content"]},N6,e),F6=qe("div",{name:"MuiPickersToolbar",slot:"Root"})(({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:e.spacing(2,3),variants:[{props:{pickerOrientation:"landscape"},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),H6=qe("div",{name:"MuiPickersToolbar",slot:"Content",shouldForwardProp:e=>Mr(e)&&e!=="landscapeDirection"})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{pickerOrientation:"landscape"},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{pickerOrientation:"landscape",landscapeDirection:"row"},style:{flexDirection:"row"}}]}),U6=x.forwardRef(function(t,s){const a=an({props:t,name:"MuiPickersToolbar"}),{children:l,className:u,classes:d,toolbarTitle:h,hidden:p,titleId:g,landscapeDirection:y}=a,b=ot(a,B6),v=Xj(),S=V6(d);return p?null:r.jsxs(F6,Q({ref:s,className:Hn(S.root,u),ownerState:v},b,{children:[r.jsx(P,{color:"text.secondary",variant:"overline",id:g,className:S.title,children:h}),r.jsx(H6,{className:S.content,ownerState:v,landscapeDirection:y,children:l})]}))}),q6=e=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:Q({},e)}}}}),Zj={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:e=>e==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",nextStepButtonLabel:"Next",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",timeRangePickerToolbarTitle:"Select time range",clockLabelText:(e,t)=>`Select ${e}. ${t?`Selected time is ${t}`:"No time selected"}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:e=>e?`Choose date, selected date is ${e}`:"Choose date",openTimePickerDialogue:e=>e?`Choose time, selected time is ${e}`:"Choose time",openRangePickerDialogue:e=>e?`Choose range, selected range is ${e}`:"Choose range",fieldClearLabel:"Clear",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>e.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>e.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},Y6=Zj;q6(Zj);const tx=()=>{const e=x.useContext(mg);if(e===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(e.adapter===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const t=x.useMemo(()=>Q({},Y6,e.localeText),[e.localeText]);return x.useMemo(()=>Q({},e,{localeText:t}),[e,t])},Ht=()=>tx().adapter,za=()=>tx().localeText,gg=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],yg=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],Jj=["minDateTime","maxDateTime"],G6=[...gg,...yg,...Jj],eD=e=>G6.reduce((t,s)=>(e.hasOwnProperty(s)&&(t[s]=e[s]),t),{}),$6=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","unstableStartFieldRef","unstableEndFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator","autoFocus","focused"],tD=(e,t)=>x.useMemo(()=>{const s=Q({},e),a={},l=u=>{s.hasOwnProperty(u)&&(a[u]=s[u],delete s[u])};return $6.forEach(l),t==="date"?gg.forEach(l):t==="time"?yg.forEach(l):t==="date-time"&&(gg.forEach(l),yg.forEach(l),Jj.forEach(l)),{forwardedProps:s,internalProps:a}},[e,t]),K6=({adapter:e,format:t})=>{let s=10,a=t,l=e.expandFormat(t);for(;l!==a;)if(a=l,l=e.expandFormat(a),s-=1,s<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the component.");return l},Q6=({adapter:e,expandedFormat:t})=>{const s=[],{start:a,end:l}=e.escapedCharacters,u=new RegExp(`(\\${a}[^\\${l}]*\\${l})+`,"g");let d=null;for(;d=u.exec(t);)s.push({start:d.index,end:u.lastIndex-1});return s},X6=(e,t,s,a)=>{switch(s.type){case"year":return t.fieldYearPlaceholder({digitAmount:e.formatByString(e.date(void 0,"default"),a).length,format:a});case"month":return t.fieldMonthPlaceholder({contentType:s.contentType,format:a});case"day":return t.fieldDayPlaceholder({format:a});case"weekDay":return t.fieldWeekDayPlaceholder({contentType:s.contentType,format:a});case"hours":return t.fieldHoursPlaceholder({format:a});case"minutes":return t.fieldMinutesPlaceholder({format:a});case"seconds":return t.fieldSecondsPlaceholder({format:a});case"meridiem":return t.fieldMeridiemPlaceholder({format:a});default:return a}},Z6=({adapter:e,date:t,shouldRespectLeadingZeros:s,localeText:a,localizedDigits:l,now:u,token:d,startSeparator:h})=>{if(d==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const p=Vj(e,d),g=Uj(e,p.contentType,p.type,d),y=s?g:p.contentType==="digit",b=e.isValid(t);let v=b?e.formatByString(t,d):"",S=null;if(y)if(g)S=v===""?e.formatByString(u,d).length:v.length;else{if(p.maxLength==null)throw new Error(`MUI X: The token ${d} should have a 'maxLength' property on it's adapter`);S=p.maxLength,b&&(v=Xy(Zy(Dr(v,l),S),l))}return Q({},p,{format:d,maxLength:S,value:v,placeholder:X6(e,a,p,d),hasLeadingZerosInFormat:g,hasLeadingZerosInInput:y,startSeparator:h,endSeparator:"",modified:!1})},J6=e=>{const{adapter:t,expandedFormat:s,escapedParts:a}=e,l=t.date(void 0),u=[];let d="";const h=Object.keys(t.formatTokenMap).sort((S,j)=>j.length-S.length),p=/^([a-zA-Z]+)/,g=new RegExp(`^(${h.join("|")})*$`),y=new RegExp(`^(${h.join("|")})`),b=S=>a.find(j=>j.start<=S&&j.end>=S);let v=0;for(;v<s.length;){const S=b(v),j=S!=null,k=p.exec(s.slice(v))?.[1];if(!j&&k!=null&&g.test(k)){let w=k;for(;w.length>0;){const T=y.exec(w)[1];w=w.slice(T.length),u.push(Z6(Q({},e,{now:l,token:T,startSeparator:d}))),d=""}v+=k.length}else{const w=s[v];j&&S?.start===v||S?.end===v||(u.length===0?d+=w:(u[u.length-1].endSeparator+=w,u[u.length-1].isEndFormatSeparator=!0)),v+=1}}return u.length===0&&d.length>0&&u.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:d,endSeparator:"",modified:!1}),u},ez=({isRtl:e,formatDensity:t,sections:s})=>s.map(a=>{const l=u=>{let d=u;return e&&d!==null&&d.includes(" ")&&(d=`${d}`),t==="spacious"&&["/",".","-"].includes(d)&&(d=` ${d} `),d};return a.startSeparator=l(a.startSeparator),a.endSeparator=l(a.endSeparator),a}),j1=e=>{let t=K6(e);e.isRtl&&e.enableAccessibleFieldDOMStructure&&(t=t.split(" ").reverse().join(" "));const s=Q6(Q({},e,{expandedFormat:t})),a=J6(Q({},e,{expandedFormat:t,escapedParts:s}));return ez(Q({},e,{sections:a}))},nx=()=>x.useContext(ex),tz=()=>{const e=x.useContext($j);if(e==null)throw new Error(["MUI X: The `usePickerActionsContext` can only be called in fields that are used as a slot of a Picker component"].join(`
`));return e};function nz(e){return Rn("MuiDatePickerToolbar",e)}_n("MuiDatePickerToolbar",["root","title"]);const sz=["toolbarFormat","toolbarPlaceholder","className","classes"],iz=e=>dn({root:["root"],title:["title"]},nz,e),az=qe(U6,{name:"MuiDatePickerToolbar",slot:"Root"})({}),rz=qe(P,{name:"MuiDatePickerToolbar",slot:"Title"})({variants:[{props:{pickerOrientation:"landscape"},style:{margin:"auto 16px auto auto"}}]}),oz=x.forwardRef(function(t,s){const a=an({props:t,name:"MuiDatePickerToolbar"}),{toolbarFormat:l,toolbarPlaceholder:u="",className:d,classes:h}=a,p=ot(a,sz),g=Ht(),{value:y,views:b,orientation:v}=il(),S=za(),j=Xj(),k=iz(h),w=x.useMemo(()=>{if(!g.isValid(y))return u;const T=Qy(g,{format:l,views:b},!0);return g.formatByString(y,T)},[y,l,u,g,b]);return r.jsx(az,Q({ref:s,toolbarTitle:S.datePickerToolbarTitle,className:Hn(k.root,d)},p,{children:r.jsx(rz,{variant:"h4",align:v==="landscape"?"left":"center",ownerState:j,className:k.title,children:w})}))}),Jc=({props:e,value:t,timezone:s,adapter:a})=>{if(t===null)return null;const{shouldDisableDate:l,shouldDisableMonth:u,shouldDisableYear:d,disablePast:h,disableFuture:p,minDate:g,maxDate:y}=e,b=a.date(void 0,s);switch(!0){case!a.isValid(t):return"invalidDate";case!!(l&&l(t)):return"shouldDisableDate";case!!(u&&u(t)):return"shouldDisableMonth";case!!(d&&d(t)):return"shouldDisableYear";case!!(p&&a.isAfterDay(t,b)):return"disableFuture";case!!(h&&a.isBeforeDay(t,b)):return"disablePast";case!!(g&&a.isBeforeDay(t,g)):return"minDate";case!!(y&&a.isAfterDay(t,y)):return"maxDate";default:return null}};Jc.valueManager=yi;function nD(e){const{props:t,validator:s,value:a,timezone:l,onError:u}=e,d=Ht(),h=x.useRef(s.valueManager.defaultErrorState),p=s({adapter:d,value:a,timezone:l,props:t}),g=s.valueManager.hasError(p);x.useEffect(()=>{u&&!s.valueManager.isSameError(p,h.current)&&u(p,a),h.current=p},[s,u,p,a]);const y=ze(b=>s({adapter:d,value:b,timezone:l,props:t}));return{validationError:p,hasValidationError:g,getValidationErrorForNewValue:y}}const lz=()=>tx().defaultDates,Mh=e=>{const t=Ht(),s=x.useRef(void 0);return s.current===void 0&&(s.current=t.date(void 0,e)),s.current};function cz(e={}){const{enableAccessibleFieldDOMStructure:t=!0}=e;return x.useMemo(()=>({valueType:"date",validator:Jc,internal_valueManager:yi,internal_fieldValueManager:W6,internal_enableAccessibleFieldDOMStructure:t,internal_useApplyDefaultValuesToFieldInternalProps:dz,internal_useOpenPickerButtonAriaLabel:uz}),[t])}function uz(e){const t=Ht(),s=za();return x.useMemo(()=>{const a=t.isValid(e)?t.format(e,"fullDate"):null;return s.openDatePickerDialogue(a)},[e,s,t])}function dz(e){const t=Ht(),s=eu(e);return x.useMemo(()=>Q({},e,s,{format:e.format??t.formats.keyboardDate}),[e,s,t])}function eu(e){const t=Ht(),s=lz();return x.useMemo(()=>({disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,minDate:x1(t,e.minDate,s.minDate),maxDate:x1(t,e.maxDate,s.maxDate)}),[e.minDate,e.maxDate,e.disableFuture,e.disablePast,t,s])}function sD(e,t){const s=an({props:e,name:t}),a=eu(s),l=x.useMemo(()=>s.localeText?.toolbarTitle==null?s.localeText:Q({},s.localeText,{datePickerToolbarTitle:s.localeText.toolbarTitle}),[s.localeText]);return Q({},s,a,{localeText:l},m6({views:s.views,openTo:s.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{slots:Q({toolbar:oz},s.slots)})}function hz(e){return Rn("MuiPickerPopper",e)}_n("MuiPickerPopper",["root","paper"]);function fz(e,t){return Array.isArray(t)?t.every(s=>e.indexOf(s)!==-1):e.indexOf(t)!==-1}const pz=e=>{setTimeout(e,0)},iD=(e=document)=>{const t=e.activeElement;return t?t.shadowRoot?iD(t.shadowRoot):t:null},Xn=e=>iD(uc(e)),mz="@media (pointer: fine)",gz=["PaperComponent","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],yz=e=>dn({root:["root"],paper:["paper"]},hz,e),xz=qe(O2,{name:"MuiPickerPopper",slot:"Root"})(({theme:e})=>({zIndex:e.zIndex.modal})),bz=qe(cc,{name:"MuiPickerPopper",slot:"Paper"})({outline:0,transformOrigin:"top center",variants:[{props:({popperPlacement:e})=>new Set(["top","top-start","top-end"]).has(e),style:{transformOrigin:"bottom center"}}]});function vz(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function Sz(e,t){const s=x.useRef(!1),a=x.useRef(!1),l=x.useRef(null),u=x.useRef(!1);x.useEffect(()=>{if(!e)return;function p(){u.current=!0}return document.addEventListener("mousedown",p,!0),document.addEventListener("touchstart",p,!0),()=>{document.removeEventListener("mousedown",p,!0),document.removeEventListener("touchstart",p,!0),u.current=!1}},[e]);const d=ze(p=>{if(!u.current)return;const g=a.current;a.current=!1;const y=uc(l.current);if(!l.current||"clientX"in p&&vz(p,y))return;if(s.current){s.current=!1;return}let b;p.composedPath?b=p.composedPath().indexOf(l.current)>-1:b=!y.documentElement.contains(p.target)||l.current.contains(p.target),!b&&!g&&t(p)}),h=p=>{p.defaultMuiPrevented||(a.current=!0)};return x.useEffect(()=>{if(e){const p=uc(l.current),g=()=>{s.current=!0};return p.addEventListener("touchstart",d),p.addEventListener("touchmove",g),()=>{p.removeEventListener("touchstart",d),p.removeEventListener("touchmove",g)}}},[e,d]),x.useEffect(()=>{if(e){const p=uc(l.current);return p.addEventListener("click",d),()=>{p.removeEventListener("click",d),a.current=!1}}},[e,d]),[l,h,h]}const wz=x.forwardRef((e,t)=>{const{PaperComponent:s,ownerState:a,children:l,paperSlotProps:u,paperClasses:d,onPaperClick:h,onPaperTouchStart:p}=e,g=ot(e,gz),y=Pt({elementType:s,externalSlotProps:u,additionalProps:{tabIndex:-1,elevation:8,ref:t},className:d,ownerState:a});return r.jsx(s,Q({},g,y,{onClick:b=>{h(b),y.onClick?.(b)},onTouchStart:b=>{p(b),y.onTouchStart?.(b)},ownerState:a,children:l}))});function Cz(e){const t=an({props:e,name:"MuiPickerPopper"}),{children:s,placement:a="bottom-start",slots:l,slotProps:u,classes:d}=t,{open:h,popupRef:p,reduceAnimations:g}=il(),{ownerState:y,rootRefObject:b}=qn(),{dismissViews:v,getCurrentViewMode:S,onPopperExited:j,triggerElement:k,viewContainerRole:w}=qn();x.useEffect(()=>{function Y(ge){h&&ge.key==="Escape"&&v()}return document.addEventListener("keydown",Y),()=>{document.removeEventListener("keydown",Y)}},[v,h]);const T=x.useRef(null);x.useEffect(()=>{w==="tooltip"||S()==="field"||(h?T.current=Xn(b.current):T.current&&T.current instanceof HTMLElement&&setTimeout(()=>{T.current instanceof HTMLElement&&T.current.focus()}))},[h,w,S,b]);const E=yz(d),M=ze(()=>{w==="tooltip"?pz(()=>{b.current?.contains(Xn(b.current))||p.current?.contains(Xn(p.current))||v()}):v()}),[W,O,R]=Sz(h,M),_=x.useRef(null),N=hs(_,p),I=hs(N,W),V=Y=>{Y.key==="Escape"&&(Y.stopPropagation(),v())},B=l?.desktopTransition??g?ph:A2,z=l?.desktopTrapFocus??P2,ue=l?.desktopPaper??bz,U=l?.popper??xz,ae=Pt({elementType:U,externalSlotProps:u?.popper,additionalProps:{transition:!0,role:w??void 0,open:h,placement:a,anchorEl:k,onKeyDown:V},className:E.root,ownerState:y}),F=x.useMemo(()=>Q({},y,{popperPlacement:ae.placement}),[y,ae.placement]);return r.jsx(U,Q({},ae,{children:({TransitionProps:Y})=>r.jsx(z,Q({open:h,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:w==="tooltip",isEnabled:()=>!0},u?.desktopTrapFocus,{children:r.jsx(B,Q({},Y,u?.desktopTransition,{onExited:ge=>{j?.(),u?.desktopTransition?.onExited?.(ge),Y?.onExited?.()},children:r.jsx(wz,{PaperComponent:ue,ownerState:F,ref:I,onPaperClick:O,onPaperTouchStart:R,paperClasses:E.paper,paperSlotProps:u?.desktopPaper,children:s})}))}))}))}const Tz="@media (prefers-reduced-motion: reduce)",Fo=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),D1=Fo&&Fo[1]?parseInt(Fo[1],10):null,E1=Fo&&Fo[2]?parseInt(Fo[2],10):null,kz=D1&&D1<10||E1&&E1<13||!1;function aD(e){const t=Ig(Tz,{defaultMatches:!1});return e??(t||kz)}const rD={hasNextStep:!1,hasSeveralSteps:!1,goToNextStep:()=>{},areViewsInSameStep:()=>!0};function jz(e){const{steps:t,isViewMatchingStep:s,onStepChange:a}=e;return l=>{if(t==null)return rD;const u=t.findIndex(h=>s(l.view,h)),d=u===-1||u===t.length-1?null:t[u+1];return{hasNextStep:d!=null,hasSeveralSteps:t.length>1,goToNextStep:()=>{d!=null&&a(Q({},l,{step:d}))},areViewsInSameStep:(h,p)=>{const g=t.find(b=>s(h,b)),y=t.find(b=>s(p,b));return g===y}}}}function oD({onChange:e,onViewChange:t,openTo:s,view:a,views:l,autoFocus:u,focusedView:d,onFocusedViewChange:h,getStepNavigation:p}){const g=x.useRef(s),y=x.useRef(l),b=x.useRef(l.includes(s)?s:l[0]),[v,S]=Yo({name:"useViews",state:"view",controlled:a,default:b.current}),j=x.useRef(u?v:null),[k,w]=Yo({name:"useViews",state:"focusedView",controlled:d,default:j.current}),T=p?p({setView:S,view:v,defaultView:b.current,views:l}):rD;x.useEffect(()=>{(g.current&&g.current!==s||y.current&&y.current.some(I=>!l.includes(I)))&&(S(l.includes(s)?s:l[0]),y.current=l,g.current=s)},[s,S,v,l]);const E=l.indexOf(v),M=l[E-1]??null,W=l[E+1]??null,O=ze((I,V)=>{w(V?I:B=>I===B?null:B),h?.(I,V)}),R=ze(I=>{O(I,!0),I!==v&&(S(I),t&&t(I))}),_=ze(()=>{W&&R(W)}),N=ze((I,V,B)=>{const z=V==="finish",ue=B?l.indexOf(B)<l.length-1:!!W;e(I,z&&ue?"partial":V,B);let ae=null;if(B!=null&&B!==v?ae=B:z&&(ae=v),ae==null)return;const F=l[l.indexOf(ae)+1];F==null||!T.areViewsInSameStep(ae,F)||R(F)});return Q({},T,{view:v,setView:R,focusedView:k,setFocusedView:O,nextView:W,previousView:M,defaultView:l.includes(s)?s:l[0],goToNextView:_,setValueAndGoToNextView:N})}function M1(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}function Dz(e,t){const[s,a]=x.useState(M1);return qi(()=>{const l=()=>{a(M1())};return window.addEventListener("orientationchange",l),()=>{window.removeEventListener("orientationchange",l)}},[]),fz(e,["hours","minutes","seconds"])?"portrait":t??s}const tu=({name:e,timezone:t,value:s,defaultValue:a,referenceDate:l,onChange:u,valueManager:d})=>{const h=Ht(),[p,g]=Yo({name:e,state:"value",controlled:s,default:a??d.emptyValue}),y=x.useMemo(()=>d.getTimezone(h,p),[h,d,p]),b=ze(k=>y==null?k:d.setTimezone(h,y,k)),v=x.useMemo(()=>t||y||(l?h.getTimezone(Array.isArray(l)?l[0]:l):"default"),[t,y,l,h]),S=x.useMemo(()=>d.setTimezone(h,v,p),[d,h,v,p]),j=ze((k,...w)=>{const T=b(k);g(T),u?.(T,...w)});return{value:S,handleValueChange:j,timezone:v}};function Ez(e){const{props:t,valueManager:s,validator:a}=e,{value:l,defaultValue:u,onChange:d,referenceDate:h,timezone:p,onAccept:g,closeOnSelect:y,open:b,onOpen:v,onClose:S}=t,{current:j}=x.useRef(u),{current:k}=x.useRef(l!==void 0),{current:w}=x.useRef(b!==void 0),T=Ht(),{timezone:E,value:M,handleValueChange:W}=tu({name:"a picker component",timezone:p,value:l,defaultValue:j,referenceDate:h,onChange:d,valueManager:s}),[O,R]=x.useState(()=>({open:!1,lastExternalValue:M,clockShallowValue:void 0,lastCommittedValue:M,hasBeenModifiedSinceMount:!1})),{getValidationErrorForNewValue:_}=nD({props:t,validator:a,timezone:E,value:M,onError:t.onError}),N=ze(z=>{const ue=typeof z=="function"?z(O.open):z;w||R(U=>Q({},U,{open:ue})),ue&&v&&v(),ue||S?.()}),I=ze((z,ue)=>{const{changeImportance:U="accept",skipPublicationIfPristine:ae=!1,validationError:F,shortcut:Y,shouldClose:ge=U==="accept"}=ue??{};let pe,Me;!ae&&!k&&!O.hasBeenModifiedSinceMount?(pe=!0,Me=U==="accept"):(pe=!s.areValuesEqual(T,z,M),Me=U==="accept"&&!s.areValuesEqual(T,z,O.lastCommittedValue)),R(Z=>Q({},Z,{clockShallowValue:pe?void 0:Z.clockShallowValue,lastCommittedValue:Me?z:Z.lastCommittedValue,hasBeenModifiedSinceMount:!0}));let ve=null;const X=()=>(ve||(ve={validationError:F??_(z)},Y&&(ve.shortcut=Y)),ve);pe&&W(z,X()),Me&&g&&g(z,X()),ge&&N(!1)});M!==O.lastExternalValue&&R(z=>Q({},z,{lastExternalValue:M,clockShallowValue:void 0,hasBeenModifiedSinceMount:!0}));const V=ze((z,ue="partial")=>{if(ue==="shallow"){R(U=>Q({},U,{clockShallowValue:z,hasBeenModifiedSinceMount:!0}));return}I(z,{changeImportance:ue==="finish"&&y?"accept":"set"})});x.useEffect(()=>{if(w){if(b===void 0)throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");R(z=>Q({},z,{open:b}))}},[w,b]);const B=x.useMemo(()=>s.cleanValue(T,O.clockShallowValue===void 0?M:O.clockShallowValue),[T,s,O.clockShallowValue,M]);return{timezone:E,state:O,setValue:I,setValueFromView:V,setOpen:N,value:M,viewValue:B}}const Mz=["className","sx"],lD=({ref:e,props:t,valueManager:s,valueType:a,variant:l,validator:u,onPopperExited:d,autoFocusView:h,rendererInterceptor:p,localeText:g,viewContainerRole:y,getStepNavigation:b})=>{const{views:v,view:S,openTo:j,onViewChange:k,viewRenderers:w,reduceAnimations:T,orientation:E,disableOpenPicker:M,closeOnSelect:W,disabled:O,readOnly:R,formatDensity:_,enableAccessibleFieldDOMStructure:N,selectedSections:I,onSelectedSectionsChange:V,format:B,label:z,autoFocus:ue,name:U}=t,{className:ae,sx:F}=t,Y=ot(t,Mz),ge=Wg(),pe=Ht(),Me=aD(T),ve=Dz(v,E),{current:X}=x.useRef(j??null),[Z,ce]=x.useState(null),xe=x.useRef(null),be=x.useRef(null),re=x.useRef(null),G=hs(e,re),{timezone:le,state:$,setOpen:he,setValue:Te,setValueFromView:Oe,value:me,viewValue:te}=Ez({props:t,valueManager:s,validator:u}),{view:ee,setView:Ie,defaultView:Ge,focusedView:Pe,setFocusedView:ie,setValueAndGoToNextView:we,goToNextStep:q,hasNextStep:fe,hasSeveralSteps:ye}=oD({view:S,views:v,openTo:j,onChange:Oe,onViewChange:k,autoFocus:h,getStepNavigation:b}),Ee=ze(()=>Te(s.emptyValue)),_e=ze(()=>Te(s.getTodayValue(pe,le,a))),Le=ze(()=>Te(me)),Ze=ze(()=>Te($.lastCommittedValue,{skipPublicationIfPristine:!0})),Be=ze(()=>{Te(me,{skipPublicationIfPristine:!0})}),{hasUIView:$e,viewModeLookup:Fe,timeViewsCount:dt}=x.useMemo(()=>v.reduce((en,Kn)=>{const si=w[Kn]==null?"field":"UI";return en.viewModeLookup[Kn]=si,si==="UI"&&(en.hasUIView=!0,S6(Kn)&&(en.timeViewsCount+=1)),en},{hasUIView:!1,viewModeLookup:{},timeViewsCount:0}),[w,v]),pt=Fe[ee],Ye=ze(()=>pt),[ht,kt]=x.useState(pt==="UI"?ee:null);ht!==ee&&Fe[ee]==="UI"&&kt(ee),qi(()=>{pt==="field"&&$.open&&(he(!1),setTimeout(()=>{be?.current?.setSelectedSections(ee),be?.current?.focusField(ee)}))},[ee]),qi(()=>{if(!$.open)return;let en=ee;pt==="field"&&ht!=null&&(en=ht),en!==Ge&&Fe[en]==="UI"&&Fe[Ge]==="UI"&&(en=Ge),en!==ee&&Ie(en),ie(en,!0)},[$.open]);const mt=x.useMemo(()=>({isPickerValueEmpty:s.areValuesEqual(pe,me,s.emptyValue),isPickerOpen:$.open,isPickerDisabled:t.disabled??!1,isPickerReadOnly:t.readOnly??!1,pickerOrientation:ve,pickerVariant:l}),[pe,s,me,$.open,ve,l,t.disabled,t.readOnly]),hn=x.useMemo(()=>M||!$e?"hidden":O||R?"disabled":"enabled",[M,$e,O,R]),Sn=ze(q),wn=x.useMemo(()=>W&&!ye?[]:["cancel","nextOrAccept"],[W,ye]),Ts=x.useMemo(()=>({setValue:Te,setOpen:he,clearValue:Ee,setValueToToday:_e,acceptValueChanges:Le,cancelValueChanges:Ze,setView:Ie,goToNextStep:Sn}),[Te,he,Ee,_e,Le,Ze,Ie,Sn]),Nn=x.useMemo(()=>Q({},Ts,{value:me,timezone:le,open:$.open,views:v,view:ht,initialView:X,disabled:O??!1,readOnly:R??!1,autoFocus:ue??!1,variant:l,orientation:ve,popupRef:xe,reduceAnimations:Me,triggerRef:ce,triggerStatus:hn,hasNextStep:fe,fieldFormat:B??"",name:U,label:z,rootSx:F,rootRef:G,rootClassName:ae}),[Ts,me,G,l,ve,Me,O,R,B,ae,U,z,F,hn,fe,le,$.open,ht,v,X,ue]),Us=x.useMemo(()=>({dismissViews:Be,ownerState:mt,hasUIView:$e,getCurrentViewMode:Ye,rootRefObject:re,labelId:ge,triggerElement:Z,viewContainerRole:y,defaultActionBarActions:wn,onPopperExited:d}),[Be,mt,$e,Ye,ge,Z,y,wn,d]),Xi=x.useMemo(()=>({formatDensity:_,enableAccessibleFieldDOMStructure:N,selectedSections:I,onSelectedSectionsChange:V,fieldRef:be}),[_,N,I,V,be]);return{providerProps:{localeText:g,contextValue:Nn,privateContextValue:Us,actionsContextValue:Ts,fieldPrivateContextValue:Xi,isValidContextValue:en=>{const Kn=u({adapter:pe,value:en,timezone:le,props:t});return!s.hasError(Kn)}},renderCurrentView:()=>{if(ht==null)return null;const en=w[ht];if(en==null)return null;const Kn=Q({},Y,{views:v,timezone:le,value:te,onChange:we,view:ht,onViewChange:Ie,showViewSwitcher:dt>1,timeViewsCount:dt},y==="tooltip"?{focusedView:null,onFocusedViewChange:()=>{}}:{focusedView:Pe,onFocusedViewChange:ie});return p?r.jsx(p,{viewRenderers:w,popperView:ht,rendererProps:Kn}):en(Kn)},ownerState:mt}};function cD(e){return Rn("MuiPickersLayout",e)}const or=_n("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),Az=["actions"],Pz=qe(On,{name:"MuiPickersLayout",slot:"ActionBar"})({});function Oz(e){const{actions:t}=e,s=ot(e,Az),a=za(),{clearValue:l,setValueToToday:u,acceptValueChanges:d,cancelValueChanges:h,goToNextStep:p,hasNextStep:g}=il();if(t==null||t.length===0)return null;const y=t?.map(b=>{switch(b){case"clear":return r.jsx(Ae,{onClick:l,children:a.clearButtonLabel},b);case"cancel":return r.jsx(Ae,{onClick:h,children:a.cancelButtonLabel},b);case"accept":return r.jsx(Ae,{onClick:d,children:a.okButtonLabel},b);case"today":return r.jsx(Ae,{onClick:u,children:a.todayButtonLabel},b);case"next":return r.jsx(Ae,{onClick:p,children:a.nextStepButtonLabel},b);case"nextOrAccept":return g?r.jsx(Ae,{onClick:p,children:a.nextStepButtonLabel},b):r.jsx(Ae,{onClick:d,children:a.okButtonLabel},b);default:return null}});return r.jsx(Pz,Q({},s,{children:y}))}const Rz=x.memo(Oz),Wc=36,Ah=2,Ph=320,_z=280,sx=336,Iz=["items","changeImportance"],Wz=["getValue"],Nz=qe(Yn,{name:"MuiPickersLayout",slot:"Shortcuts"})({});function Lz(e){const{items:t,changeImportance:s="accept"}=e,a=ot(e,Iz),{setValue:l}=tz(),u=z6();if(t==null||t.length===0)return null;const d=t.map(h=>{let{getValue:p}=h,g=ot(h,Wz);const y=p({isValid:u});return Q({},g,{label:g.label,onClick:()=>{l(y,{changeImportance:s,shortcut:g})},disabled:!u(y)})});return r.jsx(Nz,Q({dense:!0,sx:[{maxHeight:sx,maxWidth:200,overflow:"auto"},...Array.isArray(a.sx)?a.sx:[a.sx]]},a,{children:d.map(h=>r.jsx(rt,{children:r.jsx(ut,Q({},h))},h.id??h.label))}))}const zz=["ownerState"];function Bz(e){return e.view!==null}const Vz=(e,t)=>{const{pickerOrientation:s}=t;return dn({root:["root",s==="landscape"&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},cD,e)},Fz=e=>{const{ownerState:t,defaultActionBarActions:s}=qn(),{view:a}=il(),l=Ki(),{children:u,slots:d,slotProps:h,classes:p}=e,g=x.useMemo(()=>Q({},t,{layoutDirection:l?"rtl":"ltr",hasShortcuts:!1}),[t,l]),y=Vz(p,g),b=d?.actionBar??Rz,v=Pt({elementType:b,externalSlotProps:h?.actionBar,additionalProps:{actions:s},className:y.actionBar,ownerState:g}),S=ot(v,zz),j=r.jsx(b,Q({},S)),k=d?.toolbar,w=Pt({elementType:k,externalSlotProps:h?.toolbar,className:y.toolbar,ownerState:g}),T=Bz(w)&&k?r.jsx(k,Q({},w)):null,E=u,M=d?.tabs,W=a&&M?r.jsx(M,Q({className:y.tabs},h?.tabs)):null,O=d?.shortcuts??Lz,R=Pt({elementType:O,externalSlotProps:h?.shortcuts,className:y.shortcuts,ownerState:g}),_=Array.isArray(R?.items)&&R.items.length>0,N=a&&O?r.jsx(O,Q({},R)):null;return{toolbar:T,content:E,tabs:W,actionBar:j,shortcuts:N,ownerState:Q({},g,{hasShortcuts:_})}},Hz=(e,t)=>{const{pickerOrientation:s}=t;return dn({root:["root",s==="landscape"&&"landscape"],contentWrapper:["contentWrapper"]},cD,e)},Uz=qe("div",{name:"MuiPickersLayout",slot:"Root"})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${or.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{pickerOrientation:"landscape",hasShortcuts:!1},style:{[`& .${or.toolbar}`]:{gridColumn:1,gridRow:"1 / 3"}}},{props:{pickerOrientation:"landscape",hasShortcuts:!0},style:{[`& .${or.toolbar}`]:{gridColumn:"2 / 4",gridRow:1,maxWidth:"max-content"},[`& .${or.shortcuts}`]:{gridColumn:1,gridRow:2}}},{props:{pickerOrientation:"portrait"},style:{[`& .${or.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${or.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{hasShortcuts:!0,layoutDirection:"rtl"},style:{[`& .${or.shortcuts}`]:{gridColumn:4}}}]}),qz=qe("div",{name:"MuiPickersLayout",slot:"ContentWrapper"})({gridColumn:"2 / 4",gridRow:2,display:"flex",flexDirection:"column"}),uD=x.forwardRef(function(t,s){const a=an({props:t,name:"MuiPickersLayout"}),{toolbar:l,content:u,tabs:d,actionBar:h,shortcuts:p,ownerState:g}=Fz(a),{orientation:y,variant:b}=il(),{sx:v,className:S,classes:j}=a,k=Hz(j,g);return r.jsxs(Uz,{ref:s,sx:v,className:Hn(k.root,S),ownerState:g,children:[y==="landscape"?p:l,y==="landscape"?l:p,r.jsx(qz,{className:k.contentWrapper,ownerState:g,children:b==="desktop"?r.jsxs(x.Fragment,{children:[u,d]}):r.jsxs(x.Fragment,{children:[d,u]})}),h]})});function dD(e){const{steps:t}=e;return jz({steps:t,isViewMatchingStep:(s,a)=>a.views==null||a.views.includes(s),onStepChange:({step:s,defaultView:a,setView:l,view:u,views:d})=>{const h=s.views==null?a:s.views.find(p=>d.includes(p));h!==u&&l(h)}})}const Yz=["props","steps"],Gz=["ownerState"],$z=e=>{let{props:t,steps:s}=e,a=ot(e,Yz);const{slots:l,slotProps:u,label:d,inputRef:h,localeText:p}=t,g=dD({steps:s}),{providerProps:y,renderCurrentView:b,ownerState:v}=lD(Q({},a,{props:t,localeText:p,autoFocusView:!0,viewContainerRole:"dialog",variant:"desktop",getStepNavigation:g})),S=y.privateContextValue.labelId,j=u?.toolbar?.hidden??!1,k=l.field,w=Pt({elementType:k,externalSlotProps:u?.field,additionalProps:Q({},j&&{id:S}),ownerState:v}),T=ot(w,Gz),E=l.layout??uD;let M=S;j&&(d?M=`${S}-label`:M=void 0);const W=Q({},u,{toolbar:Q({},u?.toolbar,{titleId:S}),popper:Q({"aria-labelledby":M},u?.popper)});return{renderPicker:()=>r.jsxs(Qj,Q({},y,{children:[r.jsx(k,Q({},T,{slots:l,slotProps:W,inputRef:h})),r.jsx(Cz,{slots:l,slotProps:W,children:r.jsx(E,Q({},W?.layout,{slots:l,slotProps:W,children:b()}))})]}))}},wo=e=>e.saveQuery!=null,hD=({stateResponse:{localizedDigits:e,sectionsValueBoundaries:t,state:s,timezone:a,setCharacterQuery:l,setTempAndroidValueStr:u,updateSectionValue:d}})=>{const h=Ht(),p=({keyPressed:b,sectionIndex:v},S,j)=>{const k=b.toLowerCase(),w=s.sections[v];if(s.characterQuery!=null&&(!j||j(s.characterQuery.value))&&s.characterQuery.sectionIndex===v){const E=`${s.characterQuery.value}${k}`,M=S(E,w);if(!wo(M))return l({sectionIndex:v,value:E,sectionType:w.type}),M}const T=S(k,w);return wo(T)&&!T.saveQuery?(l(null),null):(l({sectionIndex:v,value:k,sectionType:w.type}),wo(T)?null:T)},g=b=>{const v=(k,w,T)=>{const E=w.filter(M=>M.toLowerCase().startsWith(T));return E.length===0?{saveQuery:!1}:{sectionValue:E[0],shouldGoToNextSection:E.length===1}},S=(k,w,T,E)=>{const M=W=>Fj(h,a,w.type,W);if(w.contentType==="letter")return v(w.format,M(w.format),k);if(T&&E!=null&&Vj(h,T).contentType==="letter"){const W=M(T),O=v(T,W,k);return wo(O)?{saveQuery:!1}:Q({},O,{sectionValue:E(O.sectionValue,W)})}return{saveQuery:!1}};return p(b,(k,w)=>{switch(w.type){case"month":{const T=E=>C1(h,E,h.formats.month,w.format);return S(k,w,h.formats.month,T)}case"weekDay":{const T=(E,M)=>M.indexOf(E).toString();return S(k,w,h.formats.weekday,T)}case"meridiem":return S(k,w);default:return{saveQuery:!1}}})},y=b=>{const v=({queryValue:j,skipIfBelowMinimum:k,section:w})=>{const T=Dr(j,e),E=Number(T),M=t[w.type]({currentDate:null,format:w.format,contentType:w.contentType});if(E>M.maximum)return{saveQuery:!1};if(k&&E<M.minimum)return{saveQuery:!0};const W=E*10>M.maximum||T.length===M.maximum.toString().length;return{sectionValue:Hj(h,E,M,e,w),shouldGoToNextSection:W}};return p(b,(j,k)=>{if(k.contentType==="digit"||k.contentType==="digit-with-letter")return v({queryValue:j,skipIfBelowMinimum:!1,section:k});if(k.type==="month"){Uj(h,"digit","month","MM");const w=v({queryValue:j,skipIfBelowMinimum:!0,section:{type:k.type,format:"MM",hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2}});if(wo(w))return w;const T=C1(h,w.sectionValue,"MM",k.format);return Q({},w,{sectionValue:T})}if(k.type==="weekDay"){const w=v({queryValue:j,skipIfBelowMinimum:!0,section:k});if(wo(w))return w;const T=Dh(h,k.format)[Number(w.sectionValue)-1];return Q({},w,{sectionValue:T})}return{saveQuery:!1}},j=>w1(j,e))};return ze(b=>{const v=s.sections[b.sectionIndex],j=w1(b.keyPressed,e)?y(Q({},b,{keyPressed:Xy(b.keyPressed,e)})):g(b);if(j==null){u(null);return}d({section:v,newSectionValue:j.sectionValue,shouldGoToNextSection:j.shouldGoToNextSection})})},Kz=5e3,fD=e=>{const t=Ht(),s=za(),a=Ki(),{manager:{validator:l,valueType:u,internal_valueManager:d,internal_fieldValueManager:h},internalPropsWithDefaults:p,internalPropsWithDefaults:{value:g,defaultValue:y,referenceDate:b,onChange:v,format:S,formatDensity:j="dense",selectedSections:k,onSelectedSectionsChange:w,shouldRespectLeadingZeros:T=!1,timezone:E,enableAccessibleFieldDOMStructure:M=!0},forwardedProps:{error:W}}=e,{value:O,handleValueChange:R,timezone:_}=tu({name:"a field component",timezone:E,value:g,defaultValue:y,referenceDate:b,onChange:v,valueManager:d}),N=x.useRef(O);x.useEffect(()=>{N.current=O},[O]);const{hasValidationError:I}=nD({props:p,validator:l,timezone:_,value:O,onError:p.onError}),V=x.useMemo(()=>W!==void 0?W:I,[I,W]),B=x.useMemo(()=>j6(t),[t]),z=x.useMemo(()=>P6(t,B,_),[t,B,_]),ue=x.useCallback(ee=>h.getSectionsFromValue(ee,Ie=>j1({adapter:t,localeText:s,localizedDigits:B,format:S,date:Ie,formatDensity:j,shouldRespectLeadingZeros:T,enableAccessibleFieldDOMStructure:M,isRtl:a})),[h,S,s,B,a,T,t,j,M]),[U,ae]=x.useState(()=>{const ee=ue(O),Ie={sections:ee,lastExternalValue:O,lastSectionsDependencies:{format:S,isRtl:a,locale:t.locale},tempValueStrAndroid:null,characterQuery:null},Ge=C6(ee),Pe=d.getInitialReferenceValue({referenceDate:b,value:O,adapter:t,props:p,granularity:Ge,timezone:_});return Q({},Ie,{referenceValue:Pe})}),[F,Y]=Yo({controlled:k,default:null,name:"useField",state:"selectedSections"}),ge=ee=>{Y(ee),w?.(ee)},pe=x.useMemo(()=>pg(F,U.sections),[F,U.sections]),Me=pe==="all"?0:pe,ve=x.useMemo(()=>_6(U.sections,a&&!M),[U.sections,a,M]),X=x.useMemo(()=>U.sections.every(ee=>ee.value===""),[U.sections]),Z=ee=>{const Ie={validationError:l({adapter:t,value:ee,timezone:_,props:p})};R(ee,Ie)},ce=(ee,Ie)=>{const Ge=[...U.sections];return Ge[ee]=Q({},Ge[ee],{value:Ie,modified:!0}),Ge},xe=x.useRef(null),be=Wo(),re=ee=>{Me!=null&&(xe.current={sectionIndex:Me,value:ee},be.start(0,()=>{xe.current=null}))},G=()=>{d.areValuesEqual(t,O,d.emptyValue)?ae(ee=>Q({},ee,{sections:ee.sections.map(Ie=>Q({},Ie,{value:""})),tempValueStrAndroid:null,characterQuery:null})):(ae(ee=>Q({},ee,{characterQuery:null})),Z(d.emptyValue))},le=()=>{if(Me==null)return;const ee=U.sections[Me];ee.value!==""&&(re(""),h.getDateFromSection(O,ee)===null?ae(Ie=>Q({},Ie,{sections:ce(Me,""),tempValueStrAndroid:null,characterQuery:null})):(ae(Ie=>Q({},Ie,{characterQuery:null})),Z(h.updateDateInValue(O,ee,null))))},$=ee=>{const Ie=(Pe,ie)=>{const we=t.parse(Pe,S);if(!t.isValid(we))return null;const q=j1({adapter:t,localeText:s,localizedDigits:B,format:S,date:we,formatDensity:j,shouldRespectLeadingZeros:T,enableAccessibleFieldDOMStructure:M,isRtl:a});return k1(t,we,q,ie,!1)},Ge=h.parseValueStr(ee,U.referenceValue,Ie);Z(Ge)},he=Wo(),Te=({section:ee,newSectionValue:Ie,shouldGoToNextSection:Ge})=>{be.clear(),he.clear();const Pe=h.getDateFromSection(O,ee);Ge&&Me<U.sections.length-1&&ge(Me+1);const ie=ce(Me,Ie),we=h.getDateSectionsFromValue(ie,ee),q=E6(t,we,B);if(t.isValid(q)){const fe=k1(t,q,we,h.getDateFromSection(U.referenceValue,ee),!0);return Pe==null&&he.start(0,()=>{N.current===O&&ae(ye=>Q({},ye,{sections:h.clearDateSections(U.sections,ee),tempValueStrAndroid:null}))}),Z(h.updateDateInValue(O,ee,fe))}return we.every(fe=>fe.value!=="")&&(Pe==null||t.isValid(Pe))?(re(Ie),Z(h.updateDateInValue(O,ee,q))):Pe!=null?(re(Ie),Z(h.updateDateInValue(O,ee,null))):ae(fe=>Q({},fe,{sections:ie,tempValueStrAndroid:null}))},Oe=ee=>ae(Ie=>Q({},Ie,{tempValueStrAndroid:ee})),me=ze(ee=>{ae(Ie=>Q({},Ie,{characterQuery:ee}))});if(O!==U.lastExternalValue){const ee=xe.current!=null&&!t.isValid(h.getDateFromSection(O,U.sections[xe.current.sectionIndex]));let Ie;ee?Ie=ce(xe.current.sectionIndex,xe.current.value):Ie=ue(O),ae(Ge=>Q({},Ge,{lastExternalValue:O,sections:Ie,sectionsDependencies:{format:S,isRtl:a,locale:t.locale},referenceValue:ee?Ge.referenceValue:h.updateReferenceValue(t,O,Ge.referenceValue),tempValueStrAndroid:null}))}if(a!==U.lastSectionsDependencies.isRtl||S!==U.lastSectionsDependencies.format||t.locale!==U.lastSectionsDependencies.locale){const ee=ue(O);ae(Ie=>Q({},Ie,{lastSectionsDependencies:{format:S,isRtl:a,locale:t.locale},sections:ee,tempValueStrAndroid:null,characterQuery:null}))}U.characterQuery!=null&&!V&&Me==null&&me(null),U.characterQuery!=null&&U.sections[U.characterQuery.sectionIndex]?.type!==U.characterQuery.sectionType&&me(null),x.useEffect(()=>{xe.current!=null&&(xe.current=null)});const te=Wo();return x.useEffect(()=>(U.characterQuery!=null&&te.start(Kz,()=>me(null)),()=>{}),[U.characterQuery,me,te]),x.useEffect(()=>{U.tempValueStrAndroid!=null&&Me!=null&&le()},[U.sections]),{activeSectionIndex:Me,areAllSectionsEmpty:X,error:V,localizedDigits:B,parsedSelectedSections:pe,sectionOrder:ve,sectionsValueBoundaries:z,state:U,timezone:_,value:O,clearValue:G,clearActiveSection:le,setCharacterQuery:me,setSelectedSections:ge,setTempAndroidValueStr:Oe,updateSectionValue:Te,updateValueFromValueStr:$,getSectionsFromValue:ue}};function pD(e){const{manager:{internal_useApplyDefaultValuesToFieldInternalProps:t},internalProps:s,skipContextFieldRefAssignment:a}=e,l=nx(),u=Gj(),d=hs(s.unstableFieldRef,a?null:u?.fieldRef),h=l?.setValue,p=x.useCallback((y,b)=>h?.(y,{validationError:b.validationError,shouldClose:!1}),[h]),g=x.useMemo(()=>u!=null&&l!=null?Q({value:l.value,onChange:p,timezone:l.timezone,disabled:l.disabled,readOnly:l.readOnly,autoFocus:l.autoFocus&&!l.open,focused:l.open?!0:void 0,format:l.fieldFormat,formatDensity:u.formatDensity,enableAccessibleFieldDOMStructure:u.enableAccessibleFieldDOMStructure,selectedSections:u.selectedSections,onSelectedSectionsChange:u.onSelectedSectionsChange,unstableFieldRef:d},s):s,[l,u,s,p,d]);return t(g)}function ix(e){const{focused:t,domGetters:s,stateResponse:{parsedSelectedSections:a,state:l}}=e;if(!s.isReady())return;const u=uc(s.getRoot()).getSelection();if(!u)return;if(a==null){u.rangeCount>0&&u.getRangeAt(0).startContainer instanceof Node&&s.getRoot().contains(u.getRangeAt(0).startContainer)&&u.removeAllRanges(),t&&s.getRoot().blur();return}if(!s.getRoot().contains(Xn(s.getRoot())))return;const d=new window.Range;let h;a==="all"?h=s.getRoot():l.sections[a].type==="empty"?h=s.getSectionContainer(a):h=s.getSectionContent(a),d.selectNodeContents(h),h.focus(),u.removeAllRanges(),u.addRange(d)}function mD(e){const t=Ht(),{manager:{internal_fieldValueManager:s},internalPropsWithDefaults:{minutesStep:a,disabled:l,readOnly:u},stateResponse:{state:d,value:h,activeSectionIndex:p,parsedSelectedSections:g,sectionsValueBoundaries:y,localizedDigits:b,timezone:v,sectionOrder:S,clearValue:j,clearActiveSection:k,setSelectedSections:w,updateSectionValue:T}}=e;return ze(E=>{if(!l)switch(!0){case((E.ctrlKey||E.metaKey)&&String.fromCharCode(E.keyCode)==="A"&&!E.shiftKey&&!E.altKey):{E.preventDefault(),w("all");break}case E.key==="ArrowRight":{if(E.preventDefault(),g==null)w(S.startIndex);else if(g==="all")w(S.endIndex);else{const M=S.neighbors[g].rightIndex;M!==null&&w(M)}break}case E.key==="ArrowLeft":{if(E.preventDefault(),g==null)w(S.endIndex);else if(g==="all")w(S.startIndex);else{const M=S.neighbors[g].leftIndex;M!==null&&w(M)}break}case E.key==="Delete":{if(E.preventDefault(),u)break;g==null||g==="all"?j():k();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(E.key):{if(E.preventDefault(),u||p==null)break;g==="all"&&w(p);const M=d.sections[p],W=Xz(t,v,M,E.key,y,b,s.getDateFromSection(h,M),{minutesStep:a});T({section:M,newSectionValue:W,shouldGoToNextSection:!1});break}}})}function Qz(e){switch(e){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}}function Xz(e,t,s,a,l,u,d,h){const p=Qz(a),g=a==="Home",y=a==="End",b=s.value===""||g||y,v=()=>{const j=l[s.type]({currentDate:d,format:s.format,contentType:s.contentType}),k=E=>Hj(e,E,j,u,s),w=s.type==="minutes"&&h?.minutesStep?h.minutesStep:1;let T;if(b){if(s.type==="year"&&!y&&!g)return e.formatByString(e.date(void 0,t),s.format);p>0||g?T=j.minimum:T=j.maximum}else T=parseInt(Dr(s.value,u),10)+p*w;return T%w!==0&&((p<0||g)&&(T+=w-(w+T)%w),(p>0||y)&&(T-=T%w)),T>j.maximum?k(j.minimum+(T-j.maximum-1)%(j.maximum-j.minimum+1)):T<j.minimum?k(j.maximum-(j.minimum-T-1)%(j.maximum-j.minimum+1)):k(T)},S=()=>{const j=Fj(e,t,s.type,s.format);if(j.length===0)return s.value;if(b)return p>0||g?j[0]:j[j.length-1];const T=((j.indexOf(s.value)+p)%j.length+j.length)%j.length;return j[T]};return s.contentType==="digit"||s.contentType==="digit-with-letter"?v():S()}function Zz(e){const{manager:t,focused:s,setFocused:a,domGetters:l,stateResponse:u,applyCharacterEditing:d,internalPropsWithDefaults:h,stateResponse:{parsedSelectedSections:p,sectionOrder:g,state:y,clearValue:b,setCharacterQuery:v,setSelectedSections:S,updateValueFromValueStr:j},internalPropsWithDefaults:{disabled:k=!1,readOnly:w=!1}}=e,T=mD({manager:t,internalPropsWithDefaults:h,stateResponse:u}),E=Wo(),M=ze(N=>{k||!l.isReady()||(a(!0),p==="all"?E.start(0,()=>{const I=document.getSelection().getRangeAt(0).startOffset;if(I===0){S(g.startIndex);return}let V=0,B=0;for(;B<I&&V<y.sections.length;){const z=y.sections[V];V+=1,B+=`${z.startSeparator}${z.value||z.placeholder}${z.endSeparator}`.length}S(V-1)}):s?l.getRoot().contains(N.target)||S(g.startIndex):(a(!0),S(g.startIndex)))}),W=ze(N=>{if(!l.isReady()||p!=="all")return;const V=N.target.textContent??"";l.getRoot().innerHTML=y.sections.map(B=>`${B.startSeparator}${B.value||B.placeholder}${B.endSeparator}`).join(""),ix({focused:s,domGetters:l,stateResponse:u}),V.length===0||V.charCodeAt(0)===10?(b(),S("all")):V.length>1?j(V):(p==="all"&&S(0),d({keyPressed:V,sectionIndex:0}))}),O=ze(N=>{if(w||p!=="all"){N.preventDefault();return}const I=N.clipboardData.getData("text");N.preventDefault(),v(null),j(I)}),R=ze(()=>{if(s||k||!l.isReady())return;const N=Xn(l.getRoot());a(!0),l.getSectionIndexFromDOMElement(N)!=null||S(g.startIndex)}),_=ze(()=>{setTimeout(()=>{if(!l.isReady())return;const N=Xn(l.getRoot());!l.getRoot().contains(N)&&(a(!1),S(null))})});return{onKeyDown:T,onBlur:_,onFocus:R,onClick:M,onPaste:O,onInput:W,contentEditable:p==="all",tabIndex:h.disabled||p===0?-1:0}}function Jz(e){const{manager:{internal_fieldValueManager:t},stateResponse:{areAllSectionsEmpty:s,state:a,updateValueFromValueStr:l}}=e,u=ze(h=>{l(h.target.value)});return{value:x.useMemo(()=>s?"":t.getV7HiddenInputValueFromSections(a.sections),[s,a.sections,t]),onChange:u}}function eB(e){const{stateResponse:{setSelectedSections:t},internalPropsWithDefaults:{disabled:s=!1}}=e,a=x.useCallback(l=>u=>{s||u.isDefaultPrevented()||t(l)},[s,t]);return x.useCallback(l=>({"data-sectionindex":l,onClick:a(l)}),[a])}function tB(e){const t=Ht(),s=za(),{focused:a,domGetters:l,stateResponse:u,applyCharacterEditing:d,manager:{internal_fieldValueManager:h},stateResponse:{parsedSelectedSections:p,sectionsValueBoundaries:g,state:y,value:b,clearActiveSection:v,setCharacterQuery:S,setSelectedSections:j,updateSectionValue:k,updateValueFromValueStr:w},internalPropsWithDefaults:{disabled:T=!1,readOnly:E=!1}}=e,M=p==="all",W=!M&&!T&&!E,O=ze(B=>{if(!l.isReady())return;const z=y.sections[B];l.getSectionContent(B).innerHTML=z.value||z.placeholder,ix({focused:a,domGetters:l,stateResponse:u})}),R=ze(B=>{if(!l.isReady())return;const z=B.target,ue=z.textContent??"",U=l.getSectionIndexFromDOMElement(z),ae=y.sections[U];if(E){O(U);return}if(ue.length===0){if(ae.value===""){O(U);return}const F=B.nativeEvent.inputType;if(F==="insertParagraph"||F==="insertLineBreak"){O(U);return}O(U),v();return}d({keyPressed:ue,sectionIndex:U}),O(U)}),_=ze(B=>{B.preventDefault()}),N=ze(B=>{if(B.preventDefault(),E||T||typeof p!="number")return;const z=y.sections[p],ue=B.clipboardData.getData("text"),U=/^[a-zA-Z]+$/.test(ue),ae=/^[0-9]+$/.test(ue),F=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(ue);z.contentType==="letter"&&U||z.contentType==="digit"&&ae||z.contentType==="digit-with-letter"&&F?(S(null),k({section:z,newSectionValue:ue,shouldGoToNextSection:!0})):!U&&!ae&&(S(null),w(ue))}),I=ze(B=>{B.preventDefault(),B.dataTransfer.dropEffect="none"}),V=x.useCallback(B=>()=>{T||j(B)},[T,j]);return x.useCallback((B,z)=>{const ue=g[B.type]({currentDate:h.getDateFromSection(b,B),contentType:B.contentType,format:B.format});return{onInput:R,onPaste:N,onMouseUp:_,onDragOver:I,onFocus:V(z),"aria-readonly":E,"aria-valuenow":sB(B,t),"aria-valuemin":ue.minimum,"aria-valuemax":ue.maximum,"aria-valuetext":B.value?nB(B,t):s.empty,"aria-label":s[B.type],"aria-disabled":T,tabIndex:!W||M||z>0?-1:0,contentEditable:!M&&!T&&!E,role:"spinbutton","data-range-position":B.dateName||void 0,spellCheck:W?!1:void 0,autoCapitalize:W?"none":void 0,autoCorrect:W?"off":void 0,children:B.value||B.placeholder,inputMode:B.contentType==="letter"?"text":"numeric"}},[g,M,T,E,W,s,t,R,N,_,I,V,h,b])}function nB(e,t){if(e.value)switch(e.type){case"month":{if(e.contentType==="digit"){const a=t.setMonth(t.date(),Number(e.value)-1);return t.isValid(a)?t.format(a,"month"):""}const s=t.parse(e.value,e.format);return s&&t.isValid(s)?t.format(s,"month"):void 0}case"day":if(e.contentType==="digit"){const s=t.setDate(t.startOfYear(t.date()),Number(e.value));return t.isValid(s)?t.format(s,"dayOfMonthFull"):""}return e.value;case"weekDay":return;default:return}}function sB(e,t){if(e.value)switch(e.type){case"weekDay":return e.contentType==="letter"?void 0:Number(e.value);case"meridiem":{const s=t.parse(`01:00 ${e.value}`,`${t.formats.hours12h}:${t.formats.minutes} ${e.format}`);return s?t.getHours(s)>=12?1:0:void 0}case"day":return e.contentType==="digit-with-letter"?parseInt(e.value,10):Number(e.value);case"month":{if(e.contentType==="digit")return Number(e.value);const s=t.parse(e.value,e.format);return s?t.getMonth(s)+1:void 0}default:return e.contentType!=="letter"?Number(e.value):void 0}}const iB=e=>{const{props:t,manager:s,skipContextFieldRefAssignment:a,manager:{valueType:l,internal_useOpenPickerButtonAriaLabel:u}}=e,{internalProps:d,forwardedProps:h}=tD(t,l),p=pD({manager:s,internalProps:d,skipContextFieldRefAssignment:a}),{sectionListRef:g,onBlur:y,onClick:b,onFocus:v,onInput:S,onPaste:j,onKeyDown:k,onClear:w,clearable:T}=h,{disabled:E=!1,readOnly:M=!1,autoFocus:W=!1,focused:O,unstableFieldRef:R}=p,_=x.useRef(null),N=hs(g,_),I=x.useMemo(()=>({isReady:()=>_.current!=null,getRoot:()=>_.current.getRoot(),getSectionContainer:ee=>_.current.getSectionContainer(ee),getSectionContent:ee=>_.current.getSectionContent(ee),getSectionIndexFromDOMElement:ee=>_.current.getSectionIndexFromDOMElement(ee)}),[_]),V=fD({manager:s,internalPropsWithDefaults:p,forwardedProps:h}),{areAllSectionsEmpty:B,error:z,parsedSelectedSections:ue,sectionOrder:U,state:ae,value:F,clearValue:Y,setSelectedSections:ge}=V,pe=hD({stateResponse:V}),Me=u(F),[ve,X]=x.useState(!1);function Z(ee=0){if(E||!_.current||A1(_)!=null)return;const Ie=pg(ee,ae.sections);X(!0),_.current.getSectionContent(Ie).focus()}const ce=Zz({manager:s,internalPropsWithDefaults:p,stateResponse:V,applyCharacterEditing:pe,focused:ve,setFocused:X,domGetters:I}),xe=Jz({manager:s,stateResponse:V}),be=eB({stateResponse:V,internalPropsWithDefaults:p}),re=tB({manager:s,stateResponse:V,applyCharacterEditing:pe,internalPropsWithDefaults:p,domGetters:I,focused:ve}),G=ze(ee=>{k?.(ee),ce.onKeyDown(ee)}),le=ze(ee=>{y?.(ee),ce.onBlur(ee)}),$=ze(ee=>{v?.(ee),ce.onFocus(ee)}),he=ze(ee=>{ee.isDefaultPrevented()||(b?.(ee),ce.onClick(ee))}),Te=ze(ee=>{j?.(ee),ce.onPaste(ee)}),Oe=ze(ee=>{S?.(ee),ce.onInput(ee)}),me=ze((ee,...Ie)=>{ee.preventDefault(),w?.(ee,...Ie),Y(),P1(_)?ge(U.startIndex):Z(0)}),te=x.useMemo(()=>ae.sections.map((ee,Ie)=>{const Ge=re(ee,Ie);return{container:be(Ie),content:re(ee,Ie),before:{children:ee.startSeparator},after:{children:ee.endSeparator,"data-range-position":ee.isEndFormatSeparator?Ge["data-range-position"]:void 0}}}),[ae.sections,be,re]);return x.useEffect(()=>{if(_.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please add the `enableAccessibleFieldDOMStructure={false}` prop to your Picker or Field component:","","<DatePicker enableAccessibleFieldDOMStructure={false} slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));W&&!E&&_.current&&_.current.getSectionContent(U.startIndex).focus()},[]),qi(()=>{if(!(!ve||!_.current)){if(ue==="all")_.current.getRoot().focus();else if(typeof ue=="number"){const ee=_.current.getSectionContent(ue);ee&&ee.focus()}}},[ue,ve]),qi(()=>{ix({focused:ve,domGetters:I,stateResponse:V})}),x.useImperativeHandle(R,()=>({getSections:()=>ae.sections,getActiveSectionIndex:()=>A1(_),setSelectedSections:ee=>{if(E||!_.current)return;const Ie=pg(ee,ae.sections);X((Ie==="all"?0:Ie)!==null),ge(ee)},focusField:Z,isFieldFocused:()=>P1(_)})),Q({},h,ce,{onBlur:le,onClick:he,onFocus:$,onInput:Oe,onPaste:Te,onKeyDown:G,onClear:me},xe,{error:z,clearable:!!(T&&!B&&!M&&!E),focused:O??ve,sectionListRef:N,enableAccessibleFieldDOMStructure:!0,elements:te,areAllSectionsEmpty:B,disabled:E,readOnly:M,autoFocus:W,openPickerAriaLabel:Me})};function A1(e){const t=Xn(e.current?.getRoot());return!t||!e.current||!e.current.getRoot().contains(t)?null:e.current.getSectionIndexFromDOMElement(t)}function P1(e){const t=Xn(e.current?.getRoot());return!!e.current&&e.current.getRoot().contains(t)}const _o=e=>e.replace(/[\u2066\u2067\u2068\u2069]/g,""),aB=(e,t,s)=>{let a=0,l=s?1:0;const u=[];for(let d=0;d<e.length;d+=1){const h=e[d],p=Jy(h,s?"input-rtl":"input-ltr",t),g=`${h.startSeparator}${p}${h.endSeparator}`,y=_o(g).length,b=g.length,v=_o(p),S=l+(v===""?0:p.indexOf(v[0]))+h.startSeparator.length,j=S+v.length;u.push(Q({},h,{start:a,end:a+y,startInInput:S,endInInput:j})),a+=y,l+=b}return u},rB=e=>{const t=Ki(),s=Wo(),a=Wo(),{props:l,manager:u,skipContextFieldRefAssignment:d,manager:{valueType:h,internal_valueManager:p,internal_fieldValueManager:g,internal_useOpenPickerButtonAriaLabel:y}}=e,{internalProps:b,forwardedProps:v}=tD(l,h),S=pD({manager:u,internalProps:b,skipContextFieldRefAssignment:d}),{onFocus:j,onClick:k,onPaste:w,onBlur:T,onKeyDown:E,onClear:M,clearable:W,inputRef:O,placeholder:R}=v,{readOnly:_=!1,disabled:N=!1,autoFocus:I=!1,focused:V,unstableFieldRef:B}=S,z=x.useRef(null),ue=hs(O,z),U=fD({manager:u,internalPropsWithDefaults:S,forwardedProps:v}),{activeSectionIndex:ae,areAllSectionsEmpty:F,error:Y,localizedDigits:ge,parsedSelectedSections:pe,sectionOrder:Me,state:ve,value:X,clearValue:Z,clearActiveSection:ce,setCharacterQuery:xe,setSelectedSections:be,setTempAndroidValueStr:re,updateSectionValue:G,updateValueFromValueStr:le,getSectionsFromValue:$}=U,he=hD({stateResponse:U}),Te=y(X),Oe=x.useMemo(()=>aB(ve.sections,ge,t),[ve.sections,ge,t]);function me(){const Be=z.current.selectionStart??0;let $e;Be<=Oe[0].startInInput||Be>=Oe[Oe.length-1].endInInput?$e=1:$e=Oe.findIndex(dt=>dt.startInInput-dt.startSeparator.length>Be);const Fe=$e===-1?Oe.length-1:$e-1;be(Fe)}function te(Be=0){Xn(z.current)!==z.current&&(z.current?.focus(),be(Be))}const ee=ze(Be=>{j?.(Be);const $e=z.current;s.start(0,()=>{!$e||$e!==z.current||ae==null&&($e.value.length&&Number($e.selectionEnd)-Number($e.selectionStart)===$e.value.length?be("all"):me())})}),Ie=ze((Be,...$e)=>{Be.isDefaultPrevented()||(k?.(Be,...$e),me())}),Ge=ze(Be=>{if(w?.(Be),Be.preventDefault(),_||N)return;const $e=Be.clipboardData.getData("text");if(typeof pe=="number"){const Fe=ve.sections[pe],dt=/^[a-zA-Z]+$/.test($e),pt=/^[0-9]+$/.test($e),Ye=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test($e);if(Fe.contentType==="letter"&&dt||Fe.contentType==="digit"&&pt||Fe.contentType==="digit-with-letter"&&Ye){xe(null),G({section:Fe,newSectionValue:$e,shouldGoToNextSection:!0});return}if(dt||pt)return}xe(null),le($e)}),Pe=ze(Be=>{T?.(Be),be(null)}),ie=ze(Be=>{if(_)return;const $e=Be.target.value;if($e===""){Z();return}const Fe=Be.nativeEvent.data,dt=Fe&&Fe.length>1,pt=dt?Fe:$e,Ye=_o(pt);if(pe==="all"&&be(ae),ae==null||dt){le(dt?Fe:Ye);return}let ht;if(pe==="all"&&Ye.length===1)ht=Ye;else{const kt=_o(g.getV6InputValueFromSections(Oe,ge,t));let mt=-1,hn=-1;for(let Nn=0;Nn<kt.length;Nn+=1)mt===-1&&kt[Nn]!==Ye[Nn]&&(mt=Nn),hn===-1&&kt[kt.length-Nn-1]!==Ye[Ye.length-Nn-1]&&(hn=Nn);const Sn=Oe[ae];if(mt<Sn.start||kt.length-hn-1>Sn.end)return;const Ts=Ye.length-kt.length+Sn.end-_o(Sn.endSeparator||"").length;ht=Ye.slice(Sn.start+_o(Sn.startSeparator||"").length,Ts)}if(ht.length===0){R6()&&re(pt),ce();return}he({keyPressed:ht,sectionIndex:ae})}),we=ze((Be,...$e)=>{Be.preventDefault(),M?.(Be,...$e),Z(),O1(z)?be(Me.startIndex):te(0)}),q=mD({manager:u,internalPropsWithDefaults:S,stateResponse:U}),fe=ze(Be=>{E?.(Be),q(Be)}),ye=x.useMemo(()=>R!==void 0?R:g.getV6InputValueFromSections($(p.emptyValue),ge,t),[R,g,$,p.emptyValue,ge,t]),Ee=x.useMemo(()=>ve.tempValueStrAndroid??g.getV6InputValueFromSections(ve.sections,ge,t),[ve.sections,g,ve.tempValueStrAndroid,ge,t]);x.useEffect(()=>{z.current&&z.current===Xn(z.current)&&be("all")},[]),qi(()=>{function Be(){if(!z.current)return;if(pe==null){z.current.scrollLeft&&(z.current.scrollLeft=0);return}if(z.current!==Xn(z.current))return;const $e=z.current.scrollTop;if(pe==="all")z.current.select();else{const Fe=Oe[pe],dt=Fe.type==="empty"?Fe.startInInput-Fe.startSeparator.length:Fe.startInInput,pt=Fe.type==="empty"?Fe.endInInput+Fe.endSeparator.length:Fe.endInInput;(dt!==z.current.selectionStart||pt!==z.current.selectionEnd)&&z.current===Xn(z.current)&&z.current.setSelectionRange(dt,pt),a.start(0,()=>{z.current&&z.current===Xn(z.current)&&z.current.selectionStart===z.current.selectionEnd&&(z.current.selectionStart!==dt||z.current.selectionEnd!==pt)&&Be()})}z.current.scrollTop=$e}Be()});const _e=x.useMemo(()=>ae==null||ve.sections[ae].contentType==="letter"?"text":"numeric",[ae,ve.sections]),Ze=!(z.current&&z.current===Xn(z.current))&&F;return x.useImperativeHandle(B,()=>({getSections:()=>ve.sections,getActiveSectionIndex:()=>{const Be=z.current.selectionStart??0,$e=z.current.selectionEnd??0;if(Be===0&&$e===0)return null;const Fe=Be<=Oe[0].startInInput?1:Oe.findIndex(dt=>dt.startInInput-dt.startSeparator.length>Be);return Fe===-1?Oe.length-1:Fe-1},setSelectedSections:Be=>be(Be),focusField:te,isFieldFocused:()=>O1(z)})),Q({},v,{error:Y,clearable:!!(W&&!F&&!_&&!N),onBlur:Pe,onClick:Ie,onFocus:ee,onPaste:Ge,onKeyDown:fe,onClear:we,inputRef:ue,enableAccessibleFieldDOMStructure:!1,placeholder:ye,inputMode:_e,autoComplete:"off",value:Ze?"":Ee,onChange:ie,focused:V,disabled:N,readOnly:_,autoFocus:I,openPickerAriaLabel:Te})};function O1(e){return e.current===Xn(e.current)}const oB=e=>{const t=Gj();return(e.props.enableAccessibleFieldDOMStructure??t?.enableAccessibleFieldDOMStructure??!0?iB:rB)(e)},lB=e=>{const t=cz(e);return oB({manager:t,props:e})};function ax(e){const{ownerState:t}=qn(),s=Ki();return x.useMemo(()=>Q({},t,{isFieldDisabled:e.disabled??!1,isFieldReadOnly:e.readOnly??!1,isFieldRequired:e.required??!1,fieldDirection:s?"rtl":"ltr"}),[t,e.disabled,e.readOnly,e.required,s])}const cB=Wa(r.jsx("path",{d:"M7 10l5 5 5-5z"})),uB=Wa(r.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"})),dB=Wa(r.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})),hB=Wa(r.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}));Wa(r.jsxs(x.Fragment,{children:[r.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),r.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}));Wa(r.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}));Wa(r.jsxs(x.Fragment,{children:[r.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),r.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}));const fB=Wa(r.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));function pB(e){return Rn("MuiPickersTextField",e)}_n("MuiPickersTextField",["root","focused","disabled","error","required"]);function mB(e){return Rn("MuiPickersInputBase",e)}const Ho=_n("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input","inputSizeSmall","activeBar"]);function gB(e){return Rn("MuiPickersSectionList",e)}const jo=_n("MuiPickersSectionList",["root","section","sectionContent"]),yB=["slots","slotProps","elements","sectionListRef","classes"],gD=qe("div",{name:"MuiPickersSectionList",slot:"Root"})({direction:"ltr /*! @noflip */",outline:"none"}),yD=qe("span",{name:"MuiPickersSectionList",slot:"Section"})({}),xD=qe("span",{name:"MuiPickersSectionList",slot:"SectionSeparator"})({whiteSpace:"pre"}),bD=qe("span",{name:"MuiPickersSectionList",slot:"SectionContent"})({outline:"none"}),xB=e=>dn({root:["root"],section:["section"],sectionContent:["sectionContent"]},gB,e);function bB(e){const{slots:t,slotProps:s,element:a,classes:l}=e,{ownerState:u}=qn(),d=t?.section??yD,h=Pt({elementType:d,externalSlotProps:s?.section,externalForwardedProps:a.container,className:l.section,ownerState:u}),p=t?.sectionContent??bD,g=Pt({elementType:p,externalSlotProps:s?.sectionContent,externalForwardedProps:a.content,additionalProps:{suppressContentEditableWarning:!0},className:l.sectionContent,ownerState:u}),y=t?.sectionSeparator??xD,b=Pt({elementType:y,externalSlotProps:s?.sectionSeparator,externalForwardedProps:a.before,ownerState:Q({},u,{separatorPosition:"before"})}),v=Pt({elementType:y,externalSlotProps:s?.sectionSeparator,externalForwardedProps:a.after,ownerState:Q({},u,{separatorPosition:"after"})}),S=x.useRef(null),j=hs(g.ref,S),k=w=>{const T=w.relatedTarget,E=w.currentTarget.closest(`.${jo.root}`);if(E&&T instanceof Node&&E.contains(T)){w.stopPropagation();return}};return r.jsxs(d,Q({},h,{children:[r.jsx(y,Q({},b)),r.jsx(p,Q({},g,{ref:j,onBlur:k})),r.jsx(y,Q({},v))]}))}const vB=x.forwardRef(function(t,s){const a=an({props:t,name:"MuiPickersSectionList"}),{slots:l,slotProps:u,elements:d,sectionListRef:h,classes:p}=a,g=ot(a,yB),y=xB(p),{ownerState:b}=qn(),v=x.useRef(null),S=hs(s,v),j=T=>{if(!v.current)throw new Error(`MUI X: Cannot call sectionListRef.${T} before the mount of the component.`);return v.current};x.useImperativeHandle(h,()=>({getRoot(){return j("getRoot")},getSectionContainer(T){return j("getSectionContainer").querySelector(`.${jo.section}[data-sectionindex="${T}"]`)},getSectionContent(T){return j("getSectionContent").querySelector(`.${jo.section}[data-sectionindex="${T}"] .${jo.sectionContent}`)},getSectionIndexFromDOMElement(T){const E=j("getSectionIndexFromDOMElement");if(T==null||!E.contains(T))return null;let M=null;return T.classList.contains(jo.section)?M=T:T.classList.contains(jo.sectionContent)&&(M=T.parentElement),M==null?null:Number(M.dataset.sectionindex)}}));const k=l?.root??gD,w=Pt({elementType:k,externalSlotProps:u?.root,externalForwardedProps:g,additionalProps:{ref:S,suppressContentEditableWarning:!0},className:y.root,ownerState:b});return r.jsx(k,Q({},w,{children:w.contentEditable?d.map(({content:T,before:E,after:M})=>`${E.children}${T.children}${M.children}`).join(""):r.jsx(x.Fragment,{children:d.map((T,E)=>r.jsx(bB,{slots:l,slotProps:u,element:T,classes:y},E))})}))}),vD=x.createContext(null),Oh=()=>{const e=x.useContext(vD);if(e==null)throw new Error(["MUI X: The `usePickerTextFieldOwnerState` can only be called in components that are used inside a PickerTextField component"].join(`
`));return e},SB=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef","onFocus","onBlur","classes","ownerState"],wB=e=>Math.round(e*1e5)/1e5,Rh=qe("div",{name:"MuiPickersInputBase",slot:"Root"})(({theme:e})=>Q({},e.typography.body1,{color:(e.vars||e).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${wB(.15/16)}em`,variants:[{props:{isInputInFullWidth:!0},style:{width:"100%"}}]})),rx=qe(gD,{name:"MuiPickersInputBase",slot:"SectionsContainer"})(({theme:e})=>({padding:"4px 0 5px",fontFamily:e.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{fieldDirection:"rtl"},style:{justifyContent:"end"}},{props:{inputSize:"small"},style:{paddingTop:1}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0},style:{color:"currentColor",opacity:0}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0,inputHasLabel:!1},style:e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:e.palette.mode==="light"?.42:.5}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0,inputHasLabel:!0,isLabelShrunk:!0},style:e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:e.palette.mode==="light"?.42:.5}}]})),CB=qe(yD,{name:"MuiPickersInputBase",slot:"Section"})(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"inline-block",whiteSpace:"nowrap"})),TB=qe(bD,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(e,t)=>t.content})(({theme:e})=>({fontFamily:e.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),kB=qe(xD,{name:"MuiPickersInputBase",slot:"Separator"})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),jB=qe("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(e,t)=>t.hiddenInput})(Q({},_2)),DB=qe("div",{name:"MuiPickersInputBase",slot:"ActiveBar"})(({theme:e,ownerState:t})=>({display:"none",position:"absolute",height:2,bottom:2,borderTopLeftRadius:2,borderTopRightRadius:2,transition:e.transitions.create(["width","left"],{duration:e.transitions.duration.shortest}),backgroundColor:(e.vars||e).palette.primary.main,'[data-active-range-position="start"] &, [data-active-range-position="end"] &':{display:"block"},'[data-active-range-position="start"] &':{left:t.sectionOffsets[0]},'[data-active-range-position="end"] &':{left:t.sectionOffsets[1]}})),EB=(e,t)=>{const{isFieldFocused:s,isFieldDisabled:a,isFieldReadOnly:l,hasFieldError:u,inputSize:d,isInputInFullWidth:h,inputColor:p,hasStartAdornment:g,hasEndAdornment:y}=t,b={root:["root",s&&!a&&"focused",a&&"disabled",l&&"readOnly",u&&"error",h&&"fullWidth",`color${R2(p)}`,d==="small"&&"inputSizeSmall",g&&"adornedStart",y&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"],activeBar:["activeBar"]};return dn(b,mB,e)};function R1(e,t,s,a){if(e.content.id){const l=t.current?.querySelectorAll(`[data-sectionindex="${s}"] [data-range-position="${a}"]`);if(l)return Array.from(l).reduce((u,d)=>u+d.offsetWidth,0)}return 0}function MB(e,t){let s=0;if(t.current?.getAttribute("data-active-range-position")==="end")for(let l=e.length-1;l>=e.length/2;l-=1)s+=R1(e[l],t,l,"end");else for(let l=0;l<e.length/2;l+=1)s+=R1(e[l],t,l,"start");return{activeBarWidth:s,sectionOffsets:[t.current?.querySelector('[data-sectionindex="0"]')?.offsetLeft||0,t.current?.querySelector(`[data-sectionindex="${e.length/2}"]`)?.offsetLeft||0]}}const ox=x.forwardRef(function(t,s){const a=an({props:t,name:"MuiPickersInputBase"}),{elements:l,areAllSectionsEmpty:u,value:d,onChange:h,id:p,endAdornment:g,startAdornment:y,renderSuffix:b,slots:v,slotProps:S,contentEditable:j,tabIndex:k,onInput:w,onPaste:T,onKeyDown:E,name:M,readOnly:W,inputProps:O,inputRef:R,sectionListRef:_,onFocus:N,onBlur:I,classes:V,ownerState:B}=a,z=ot(a,SB),ue=Oh(),U=x.useRef(null),ae=x.useRef(null),F=x.useRef([]),Y=hs(s,U),ge=hs(O?.ref,R),pe=AC();if(!pe)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const Me=B??ue,ve=$=>{pe.onFocus?.($),N?.($)},X=$=>{ve($)},Z=$=>{if(E?.($),$.key==="Enter"&&!$.defaultMuiPrevented){if(U.current?.dataset.multiInput)return;const he=U.current?.closest("form"),Te=he?.querySelector('[type="submit"]');if(!he||!Te)return;$.preventDefault(),he.requestSubmit(Te)}},ce=$=>{pe.onBlur?.($),I?.($)};x.useEffect(()=>{pe&&pe.setAdornedStart(!!y)},[pe,y]),x.useEffect(()=>{pe&&(u?pe.onEmpty():pe.onFilled())},[pe,u]);const xe=EB(V,Me),be=v?.root||Rh,re=Pt({elementType:be,externalSlotProps:S?.root,externalForwardedProps:z,additionalProps:{"aria-invalid":pe.error,ref:Y},className:xe.root,ownerState:Me}),G=v?.input||rx,le=l.some($=>$.content["data-range-position"]!==void 0);return x.useEffect(()=>{if(!le||!Me.isPickerOpen)return;const{activeBarWidth:$,sectionOffsets:he}=MB(l,U);F.current=[he[0],he[1]],ae.current&&(ae.current.style.width=`${$}px`)},[l,le,Me.isPickerOpen]),r.jsxs(be,Q({},re,{children:[y,r.jsx(vB,{sectionListRef:_,elements:l,contentEditable:j,tabIndex:k,className:xe.sectionsContainer,onFocus:ve,onBlur:ce,onInput:w,onPaste:T,onKeyDown:Z,slots:{root:G,section:CB,sectionContent:TB,sectionSeparator:kB},slotProps:{root:Q({},S?.input,{ownerState:Me}),sectionContent:{className:Ho.sectionContent},sectionSeparator:({separatorPosition:$})=>({className:$==="before"?Ho.sectionBefore:Ho.sectionAfter})}}),g,b?b(Q({},pe)):null,r.jsx(jB,Q({name:M,className:xe.input,value:d,onChange:h,id:p,"aria-hidden":"true",tabIndex:-1,readOnly:W,required:pe.required,disabled:pe.disabled,onFocus:X},O,{ref:ge})),le&&r.jsx(DB,{className:xe.activeBar,ref:ae,ownerState:{sectionOffsets:F.current}})]}))});function AB(e){return Rn("MuiPickersOutlinedInput",e)}const $s=Q({},Ho,_n("MuiPickersOutlinedInput",["root","notchedOutline","input"])),PB=["children","className","label","notched","shrink"],OB=qe("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline"})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),_1=qe("span")(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit"})),RB=qe("legend",{shouldForwardProp:e=>Mr(e)&&e!=="notched"})(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{inputHasLabel:!1},style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:{inputHasLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{inputHasLabel:!0,notched:!0},style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]}));function _B(e){const{className:t,label:s,notched:a}=e,l=ot(e,PB),u=Oh();return r.jsx(OB,Q({"aria-hidden":!0,className:t},l,{ownerState:u,children:r.jsx(RB,{ownerState:u,notched:a,children:s?r.jsx(_1,{children:s}):r.jsx(_1,{className:"notranslate",children:""})})}))}const IB=["label","autoFocus","ownerState","classes","notched"],WB=qe(Rh,{name:"MuiPickersOutlinedInput",slot:"Root"})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${$s.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${$s.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${$s.focused} .${$s.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${$s.disabled}`]:{[`& .${$s.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled},"*":{color:(e.vars||e).palette.action.disabled}},[`&.${$s.error} .${$s.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},variants:Object.keys((e.vars??e).palette).filter(s=>(e.vars??e).palette[s]?.main??!1).map(s=>({props:{inputColor:s},style:{[`&.${$s.focused}:not(.${$s.error}) .${$s.notchedOutline}`]:{borderColor:(e.vars||e).palette[s].main}}}))}}),NB=qe(rx,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer"})({padding:"16.5px 0",variants:[{props:{inputSize:"small"},style:{padding:"8.5px 0"}}]}),LB=e=>{const s=dn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},AB,e);return Q({},e,s)},SD=x.forwardRef(function(t,s){const a=an({props:t,name:"MuiPickersOutlinedInput"}),{label:l,classes:u,notched:d}=a,h=ot(a,IB),p=AC(),g=LB(u);return r.jsx(ox,Q({slots:{root:WB,input:NB},renderSuffix:y=>r.jsx(_B,{shrink:!!(d||y.adornedStart||y.focused||y.filled),notched:!!(d||y.adornedStart||y.focused||y.filled),className:g.notchedOutline,label:l!=null&&l!==""&&p?.required?r.jsxs(x.Fragment,{children:[l,"","*"]}):l})},h,{label:l,classes:g,ref:s}))});SD.muiName="Input";function zB(e){return Rn("MuiPickersFilledInput",e)}const lr=Q({},Ho,_n("MuiPickersFilledInput",["root","underline","input"])),BB=["label","autoFocus","disableUnderline","hiddenLabel","classes"],VB=qe(Rh,{name:"MuiPickersFilledInput",slot:"Root",shouldForwardProp:e=>Mr(e)&&e!=="disableUnderline"})(({theme:e})=>{const t=e.palette.mode==="light",s=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",l=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",u=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:l,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a}},[`&.${lr.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a},[`&.${lr.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:u},variants:[...Object.keys((e.vars??e).palette).filter(d=>(e.vars??e).palette[d].main).map(d=>({props:{inputColor:d,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[d]?.main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${lr.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${lr.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${lr.disabled}, .${lr.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${lr.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:{hasStartAdornment:!0},style:{paddingLeft:12}},{props:{hasEndAdornment:!0},style:{paddingRight:12}}]}}),FB=qe(rx,{name:"MuiPickersFilledInput",slot:"sectionsContainer",shouldForwardProp:e=>Mr(e)&&e!=="hiddenLabel"})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{inputSize:"small"},style:{paddingTop:21,paddingBottom:4}},{props:{hasStartAdornment:!0},style:{paddingLeft:0}},{props:{hasEndAdornment:!0},style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,inputSize:"small"},style:{paddingTop:8,paddingBottom:9}}]}),HB=(e,t)=>{const{inputHasUnderline:s}=t,l=dn({root:["root",s&&"underline"],input:["input"]},zB,e);return Q({},e,l)},wD=x.forwardRef(function(t,s){const a=an({props:t,name:"MuiPickersFilledInput"}),{label:l,disableUnderline:u=!1,hiddenLabel:d=!1,classes:h}=a,p=ot(a,BB),g=Oh(),y=Q({},g,{inputHasUnderline:!u}),b=HB(h,y);return r.jsx(ox,Q({slots:{root:VB,input:FB},slotProps:{root:{disableUnderline:u},input:{hiddenLabel:d}}},p,{label:l,classes:b,ref:s,ownerState:y}))});wD.muiName="Input";function UB(e){return Rn("MuiPickersFilledInput",e)}const sc=Q({},Ho,_n("MuiPickersInput",["root","underline","input"])),qB=["label","autoFocus","disableUnderline","ownerState","classes"],YB=qe(Rh,{name:"MuiPickersInput",slot:"Root",shouldForwardProp:e=>Mr(e)&&e!=="disableUnderline"})(({theme:e})=>{let s=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(s=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((e.vars??e).palette).filter(a=>(e.vars??e).palette[a].main).map(a=>({props:{inputColor:a,inputHasUnderline:!0},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[a].main}`}}})),{props:{inputHasUnderline:!0},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${sc.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${sc.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${sc.disabled}, .${sc.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${s}`}},[`&.${sc.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),GB=(e,t)=>{const{inputHasUnderline:s}=t,l=dn({root:["root",!s&&"underline"],input:["input"]},UB,e);return Q({},e,l)},CD=x.forwardRef(function(t,s){const a=an({props:t,name:"MuiPickersInput"}),{label:l,disableUnderline:u=!1,classes:d}=a,h=ot(a,qB),p=Oh(),g=Q({},p,{inputHasUnderline:!u}),y=GB(d,g);return r.jsx(ox,Q({slots:{root:YB},slotProps:{root:{disableUnderline:u}}},h,{ownerState:g,label:l,classes:y,ref:s}))});CD.muiName="Input";const $B=["onFocus","onBlur","className","classes","color","disabled","error","variant","required","hiddenLabel","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps","data-active-range-position"],KB={standard:CD,filled:wD,outlined:SD},QB=qe(Vt,{name:"MuiPickersTextField",slot:"Root"})({maxWidth:"100%"}),XB=(e,t)=>{const{isFieldFocused:s,isFieldDisabled:a,isFieldRequired:l}=t;return dn({root:["root",s&&!a&&"focused",a&&"disabled",l&&"required"]},pB,e)},TD=x.forwardRef(function(t,s){const a=an({props:t,name:"MuiPickersTextField"}),{onFocus:l,onBlur:u,className:d,classes:h,color:p="primary",disabled:g=!1,error:y=!1,variant:b="outlined",required:v=!1,hiddenLabel:S=!1,InputProps:j,inputProps:k,inputRef:w,sectionListRef:T,elements:E,areAllSectionsEmpty:M,onClick:W,onKeyDown:O,onKeyUp:R,onPaste:_,onInput:N,endAdornment:I,startAdornment:V,tabIndex:B,contentEditable:z,focused:ue,value:U,onChange:ae,fullWidth:F,id:Y,name:ge,helperText:pe,FormHelperTextProps:Me,label:ve,InputLabelProps:X,"data-active-range-position":Z}=a,ce=ot(a,$B),xe=x.useRef(null),be=hs(s,xe),re=Wg(Y),G=pe&&re?`${re}-helper-text`:void 0,le=ve&&re?`${re}-label`:void 0,$=ax({disabled:a.disabled,required:a.required,readOnly:j?.readOnly}),he=x.useMemo(()=>Q({},$,{isFieldValueEmpty:M,isFieldFocused:ue??!1,hasFieldError:y??!1,inputSize:a.size??"medium",inputColor:p??"primary",isInputInFullWidth:F??!1,hasStartAdornment:!!(V??j?.startAdornment),hasEndAdornment:!!(I??j?.endAdornment),inputHasLabel:!!ve,isLabelShrunk:!!X?.shrink}),[$,M,ue,y,a.size,p,F,V,I,j?.startAdornment,j?.endAdornment,ve,X?.shrink]),Te=XB(h,he),Oe=KB[b],me={};return b==="outlined"?(X&&typeof X.shrink<"u"&&(me.notched=X.shrink),me.label=ve):b==="filled"&&(me.hiddenLabel=S),r.jsx(vD.Provider,{value:he,children:r.jsxs(QB,Q({className:Hn(Te.root,d),ref:be,focused:ue,disabled:g,variant:b,error:y,color:p,fullWidth:F,required:v,ownerState:he},ce,{children:[ve!=null&&ve!==""&&r.jsx(Mn,Q({htmlFor:re,id:le},X,{children:ve})),r.jsx(Oe,Q({elements:E,areAllSectionsEmpty:M,onClick:W,onKeyDown:O,onKeyUp:R,onInput:N,onPaste:_,onFocus:l,onBlur:u,endAdornment:I,startAdornment:V,tabIndex:B,contentEditable:z,value:U,onChange:ae,id:re,fullWidth:F,inputProps:k,inputRef:w,sectionListRef:T,label:ve,name:ge,role:"group","aria-labelledby":le,"aria-describedby":G,"aria-live":G?"polite":void 0,"data-active-range-position":Z},me,j)),pe&&r.jsx(I2,Q({id:G},Me,{children:pe}))]}))})}),ZB=["enableAccessibleFieldDOMStructure"],JB=["InputProps","readOnly","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],eV=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],tV=["ownerState"],nV=["ownerState"],sV=["ownerState"],iV=["ownerState"],aV=["InputProps","inputProps"],Mm=()=>{},rV=e=>{let{enableAccessibleFieldDOMStructure:t}=e,s=ot(e,ZB);if(t){const{InputProps:E,readOnly:M,onClear:W,clearable:O,clearButtonPosition:R,openPickerButtonPosition:_,openPickerAriaLabel:N}=s,I=ot(s,JB),V=ja>=6&&I?.slotProps?.input?xc(I?.slotProps?.input,E):Mm;return{clearable:O,onClear:W,clearButtonPosition:R,openPickerButtonPosition:_,openPickerAriaLabel:N,textFieldProps:Q({},I,ja>=6&&I?.slotProps?.input?{slotProps:Q({},I?.slotProps,{input:B=>Q({},hi(V,B),{readOnly:M})})}:{InputProps:Q({},E??{},{readOnly:M})})}}const{onPaste:a,onKeyDown:l,inputMode:u,readOnly:d,InputProps:h,inputProps:p,inputRef:g,onClear:y,clearable:b,clearButtonPosition:v,openPickerButtonPosition:S,openPickerAriaLabel:j}=s,k=ot(s,eV),w=ja>=6&&k?.slotProps?.input?xc(k?.slotProps?.input,h):Mm,T=ja>=6&&k?.slotProps?.htmlInput?xc(k?.slotProps?.htmlInput,p):Mm;return{clearable:b,onClear:y,clearButtonPosition:v,openPickerButtonPosition:S,openPickerAriaLabel:j,textFieldProps:Q({},k,ja>=6&&(k?.slotProps?.input||k?.slotProps?.htmlInput)?{slotProps:Q({},k?.slotProps,{input:E=>Q({},hi(w,E),{readOnly:d}),htmlInput:E=>Q({},hi(T,E),{inputMode:u,onPaste:a,onKeyDown:l,ref:g})})}:{InputProps:Q({},h??{},{readOnly:d}),inputProps:Q({},p??{},{inputMode:u,onPaste:a,onKeyDown:l,ref:g})})}},lx=x.createContext({slots:{},slotProps:{},inputRef:void 0});function oV(e){const{fieldResponse:t,defaultOpenPickerIcon:s}=e,a=za(),l=nx(),u=x.useContext(lx),{textFieldProps:d,onClear:h,clearable:p,openPickerAriaLabel:g,clearButtonPosition:y="end",openPickerButtonPosition:b="end"}=rV(t),v=ax(d),S=ze(Me=>{Me.preventDefault(),l?.setOpen(ve=>!ve)}),j=l?l.triggerStatus:"hidden",k=p?y:null,w=j!=="hidden"?b:null,T=u.slots.textField??(t.enableAccessibleFieldDOMStructure===!1?ct:TD),E=u.slots.inputAdornment??Nm,M=Pt({elementType:E,externalSlotProps:u.slotProps.inputAdornment,additionalProps:{position:"start"},ownerState:Q({},v,{position:"start"})}),W=ot(M,tV),O=Pt({elementType:E,externalSlotProps:u.slotProps.inputAdornment,additionalProps:{position:"end"},ownerState:Q({},v,{position:"end"})}),R=ot(O,nV),_=u.slots.openPickerButton??He,N=Pt({elementType:_,externalSlotProps:u.slotProps.openPickerButton,additionalProps:{disabled:j==="disabled",onClick:S,"aria-label":g,edge:d.variant!=="standard"?w:!1},ownerState:v}),I=ot(N,sV),V=u.slots.openPickerIcon??s,B=Pt({elementType:V,externalSlotProps:u.slotProps.openPickerIcon,ownerState:v}),z=u.slots.clearButton??He,ue=Pt({elementType:z,externalSlotProps:u.slotProps.clearButton,className:"clearButton",additionalProps:{title:a.fieldClearLabel,tabIndex:-1,onClick:h,disabled:t.disabled||t.readOnly,edge:d.variant!=="standard"&&k!==w?k:!1},ownerState:v}),U=ot(ue,iV),ae=u.slots.clearIcon??fB,F=Pt({elementType:ae,externalSlotProps:u.slotProps.clearIcon,additionalProps:{fontSize:"small"},ownerState:v});d.ref=hs(d.ref,l?.rootRef);const Y={},ge=hi((ja>=6&&d?.slotProps?.input)??d.InputProps,v);l&&(Y.ref=l.triggerRef),!ge?.startAdornment&&(k==="start"||w==="start")&&(Y.startAdornment=r.jsxs(E,Q({},W,{children:[w==="start"&&r.jsx(_,Q({},I,{children:r.jsx(V,Q({},B))})),k==="start"&&r.jsx(z,Q({},U,{children:r.jsx(ae,Q({},F))}))]}))),!ge?.endAdornment&&(k==="end"||w==="end")&&(Y.endAdornment=r.jsxs(E,Q({},R,{children:[k==="end"&&r.jsx(z,Q({},U,{children:r.jsx(ae,Q({},F))})),w==="end"&&r.jsx(_,Q({},I,{children:r.jsx(V,Q({},B))}))]}))),!Y?.endAdornment&&!Y?.startAdornment&&u.slots.inputAdornment&&(Y.endAdornment=r.jsx(E,Q({},R))),k!=null&&(d.sx=[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(d.sx)?d.sx:[d.sx]]);const pe=ja>=6&&d?.slotProps?.input?hi(xc(ge,Y),v):Q({},ge,Y);return d.inputProps=ja>=6&&d?.slotProps?.htmlInput?hi(d.slotProps.htmlInput,v):d.inputProps,delete d?.slotProps?.input,t.enableAccessibleFieldDOMStructure&&delete d?.slotProps,r.jsx(T,Q({},d,{InputProps:pe}))}function xc(e,t){return e?t?s=>Q({},hi(t,s),hi(e,s)):e:t}function lV(e){const{ref:t,externalForwardedProps:s,slotProps:a}=e,l=x.useContext(lx),u=nx(),d=ax(s),{InputProps:h,inputProps:p}=s,g=ot(s,aV),y=Pt({elementType:TD,externalSlotProps:xc(l.slotProps.textField,a?.textField),externalForwardedProps:g,additionalProps:{ref:t,sx:u?.rootSx,label:u?.label,name:u?.name,className:u?.rootClassName,inputRef:l.inputRef},ownerState:d});return y.inputProps=Q({},p,y.inputProps),y.InputProps=Q({},h,y.InputProps),y}function cV(e){const{slots:t={},slotProps:s={},inputRef:a,children:l}=e,u=x.useMemo(()=>({inputRef:a,slots:{openPickerButton:t.openPickerButton,openPickerIcon:t.openPickerIcon,textField:t.textField,inputAdornment:t.inputAdornment,clearIcon:t.clearIcon,clearButton:t.clearButton},slotProps:{openPickerButton:s.openPickerButton,openPickerIcon:s.openPickerIcon,textField:s.textField,inputAdornment:s.inputAdornment,clearIcon:s.clearIcon,clearButton:s.clearButton}}),[a,t.openPickerButton,t.openPickerIcon,t.textField,t.inputAdornment,t.clearIcon,t.clearButton,s.openPickerButton,s.openPickerIcon,s.textField,s.inputAdornment,s.clearIcon,s.clearButton]);return r.jsx(lx.Provider,{value:u,children:l})}const uV=["slots","slotProps"],kD=x.forwardRef(function(t,s){const a=an({props:t,name:"MuiDateField"}),{slots:l,slotProps:u}=a,d=ot(a,uV),h=lV({slotProps:u,ref:s,externalForwardedProps:d}),p=lB(h);return r.jsx(cV,{slots:l,slotProps:u,inputRef:d.inputRef,children:r.jsx(oV,{fieldResponse:p,defaultOpenPickerIcon:hB})})}),jD=({shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:s,minDate:a,maxDate:l,disableFuture:u,disablePast:d,timezone:h})=>{const p=Ht();return x.useCallback(g=>Jc({adapter:p,value:g,timezone:h,props:{shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:s,minDate:a,maxDate:l,disableFuture:u,disablePast:d}})!==null,[p,e,t,s,a,l,u,d,h])},dV=(e,t)=>(s,a)=>{switch(a.type){case"setVisibleDate":return Q({},s,{slideDirection:a.direction,currentMonth:a.month,isMonthSwitchingAnimating:!t.isSameMonth(a.month,s.currentMonth)&&!e&&!a.skipAnimation,focusedDay:a.focusedDay});case"changeMonthTimezone":{const l=a.newTimezone;if(t.getTimezone(s.currentMonth)===l)return s;let u=t.setTimezone(s.currentMonth,l);return t.getMonth(u)!==t.getMonth(s.currentMonth)&&(u=t.setMonth(u,t.getMonth(s.currentMonth))),Q({},s,{currentMonth:u})}case"finishMonthSwitchingAnimation":return Q({},s,{isMonthSwitchingAnimating:!1});default:throw new Error("missing support")}},hV=e=>{const{value:t,referenceDate:s,disableFuture:a,disablePast:l,maxDate:u,minDate:d,onMonthChange:h,onYearChange:p,reduceAnimations:g,shouldDisableDate:y,timezone:b,getCurrentMonthFromVisibleDate:v}=e,S=Ht(),j=x.useRef(dV(!!g,S)).current,k=x.useMemo(()=>yi.getInitialReferenceValue({value:t,adapter:S,timezone:b,props:e,referenceDate:s,granularity:ci.day}),[s,b]),[w,T]=x.useReducer(j,{isMonthSwitchingAnimating:!1,focusedDay:k,currentMonth:S.startOfMonth(k),slideDirection:"left"}),E=jD({shouldDisableDate:y,minDate:d,maxDate:u,disableFuture:a,disablePast:l,timezone:b});x.useEffect(()=>{T({type:"changeMonthTimezone",newTimezone:S.getTimezone(k)})},[k,S]);const M=ze(({target:O,reason:R})=>{if(R==="cell-interaction"&&w.focusedDay!=null&&S.isSameDay(O,w.focusedDay))return;const _=R==="cell-interaction";let N,I;if(R==="cell-interaction")N=v(O,w.currentMonth),I=O;else if(N=S.isSameMonth(O,w.currentMonth)?w.currentMonth:S.startOfMonth(O),I=O,E(I)){const z=S.startOfMonth(O),ue=S.endOfMonth(O);I=Ic({adapter:S,date:I,minDate:S.isBefore(d,z)?z:d,maxDate:S.isAfter(u,ue)?ue:u,disablePast:l,disableFuture:a,isDateDisabled:E,timezone:b})}const V=!S.isSameMonth(w.currentMonth,N),B=!S.isSameYear(w.currentMonth,N);V&&h?.(N),B&&p?.(S.startOfYear(N)),T({type:"setVisibleDate",month:N,direction:S.isAfterDay(N,w.currentMonth)?"left":"right",focusedDay:w.focusedDay!=null&&I!=null&&S.isSameDay(I,w.focusedDay)?w.focusedDay:I,skipAnimation:_})}),W=x.useCallback(()=>{T({type:"finishMonthSwitchingAnimation"})},[]);return{referenceDate:k,calendarState:w,setVisibleDate:M,isDateDisabled:E,onMonthSwitchingAnimationEnd:W}},fV=e=>Rn("MuiPickersFadeTransitionGroup",e);_n("MuiPickersFadeTransitionGroup",["root"]);const pV=["children"],mV=e=>dn({root:["root"]},fV,e),gV=qe(PC,{name:"MuiPickersFadeTransitionGroup",slot:"Root"})({display:"block",position:"relative"});function DD(e){const t=an({props:e,name:"MuiPickersFadeTransitionGroup"}),{className:s,reduceAnimations:a,transKey:l,classes:u}=t,{children:d}=t,h=ot(t,pV),p=mV(u),g=Jo();return a?d:r.jsx(gV,{className:Hn(p.root,s),ownerState:h,children:r.jsx(ph,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:g.transitions.duration.enteringScreen,enter:g.transitions.duration.enteringScreen,exit:0},children:d},l)})}function yV(e){return Rn("MuiPickersDay",e)}const cr=_n("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]);function ED(e){const{disabled:t,selected:s,today:a,outsideCurrentMonth:l,day:u,disableMargin:d,disableHighlightToday:h,showDaysOutsideCurrentMonth:p}=e,g=Ht(),{ownerState:y}=qn();return x.useMemo(()=>Q({},y,{day:u,isDaySelected:s??!1,isDayDisabled:t??!1,isDayCurrent:a??!1,isDayOutsideMonth:l??!1,isDayStartOfWeek:g.isSameDay(u,g.startOfWeek(u)),isDayEndOfWeek:g.isSameDay(u,g.endOfWeek(u)),disableMargin:d??!1,disableHighlightToday:h??!1,showDaysOutsideCurrentMonth:p??!1}),[g,y,u,s,t,a,l,d,h,p])}const xV=["autoFocus","className","classes","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","children","isFirstVisibleCell","isLastVisibleCell","day","selected","disabled","today","outsideCurrentMonth","disableMargin","disableHighlightToday","showDaysOutsideCurrentMonth"],bV=(e,t)=>{const{isDaySelected:s,isDayDisabled:a,isDayCurrent:l,isDayOutsideMonth:u,disableMargin:d,disableHighlightToday:h,showDaysOutsideCurrentMonth:p}=t,g=u&&!p;return dn({root:["root",s&&!g&&"selected",a&&"disabled",!d&&"dayWithMargin",!h&&l&&"today",u&&p&&"dayOutsideMonth",g&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},yV,e)},MD=({theme:e})=>Q({},e.typography.caption,{width:Wc,height:Wc,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Go(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:Go(e.palette.primary.main,e.palette.action.focusOpacity),[`&.${cr.selected}`]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${cr.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${cr.disabled}:not(.${cr.selected})`]:{color:(e.vars||e).palette.text.disabled},[`&.${cr.disabled}&.${cr.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${Ah}px`}},{props:{isDayOutsideMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(e.vars||e).palette.text.secondary}},{props:{disableHighlightToday:!1,isDayCurrent:!0},style:{[`&:not(.${cr.selected})`]:{border:`1px solid ${(e.vars||e).palette.text.secondary}`}}}]}),AD=(e,t)=>{const{ownerState:s}=e;return[t.root,!s.disableMargin&&t.dayWithMargin,!s.disableHighlightToday&&s.isDayCurrent&&t.today,!s.isDayOutsideMonth&&s.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,s.isDayOutsideMonth&&!s.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},vV=qe(W2,{name:"MuiPickersDay",slot:"Root",overridesResolver:AD})(MD),SV=qe("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:AD})(({theme:e})=>Q({},MD({theme:e}),{opacity:0,pointerEvents:"none"})),ic=()=>{},wV=x.forwardRef(function(t,s){const a=an({props:t,name:"MuiPickersDay"}),{autoFocus:l=!1,className:u,classes:d,isAnimating:h,onClick:p,onDaySelect:g,onFocus:y=ic,onBlur:b=ic,onKeyDown:v=ic,onMouseDown:S=ic,onMouseEnter:j=ic,children:k,day:w,selected:T,disabled:E,today:M,outsideCurrentMonth:W,disableMargin:O,disableHighlightToday:R,showDaysOutsideCurrentMonth:_}=a,N=ot(a,xV),I=ED({day:w,selected:T,disabled:E,today:M,outsideCurrentMonth:W,disableMargin:O,disableHighlightToday:R,showDaysOutsideCurrentMonth:_}),V=bV(d,I),B=Ht(),z=x.useRef(null),ue=hs(z,s);qi(()=>{l&&!E&&!h&&!W&&z.current.focus()},[l,E,h,W]);const U=F=>{S(F),W&&F.preventDefault()},ae=F=>{F.defaultMuiPrevented=!0,E||g(w),W&&F.currentTarget.focus(),p&&p(F)};return W&&!_?r.jsx(SV,{className:Hn(V.root,V.hiddenDaySpacingFiller,u),ownerState:I,role:N.role}):r.jsx(vV,Q({className:Hn(V.root,u),ref:ue,centerRipple:!0,disabled:E,tabIndex:T?0:-1,onKeyDown:F=>v(F,w),onFocus:F=>y(F,w),onBlur:F=>b(F,w),onMouseEnter:F=>j(F,w),onClick:ae,onMouseDown:U},N,{ownerState:I,children:k??B.format(w,"dayOfMonth")}))}),CV=x.memo(wV),TV=e=>Rn("MuiPickersSlideTransition",e),Ns=_n("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),kV=["children","className","reduceAnimations","slideDirection","transKey","classes"],jV=(e,t)=>{const{slideDirection:s}=t,a={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${s}`],exitActive:[`slideExitActiveLeft-${s}`]};return dn(a,TV,e)},DV=qe(PC,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`.${Ns["slideEnter-left"]}`]:t["slideEnter-left"]},{[`.${Ns["slideEnter-right"]}`]:t["slideEnter-right"]},{[`.${Ns.slideEnterActive}`]:t.slideEnterActive},{[`.${Ns.slideExit}`]:t.slideExit},{[`.${Ns["slideExitActiveLeft-left"]}`]:t["slideExitActiveLeft-left"]},{[`.${Ns["slideExitActiveLeft-right"]}`]:t["slideExitActiveLeft-right"]}]})(({theme:e})=>{const t=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Ns["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Ns["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Ns.slideEnterActive}`]:{transform:"translate(0%)",transition:t},[`& .${Ns.slideExit}`]:{transform:"translate(0%)"},[`& .${Ns["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:t,zIndex:0},[`& .${Ns["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:t,zIndex:0}}});function EV(e){const t=an({props:e,name:"MuiPickersSlideTransition"}),{children:s,className:a,reduceAnimations:l,slideDirection:u,transKey:d,classes:h}=t,p=ot(t,kV),{ownerState:g}=qn(),y=Q({},g,{slideDirection:u}),b=jV(h,y),v=Jo();if(l)return r.jsx("div",{className:Hn(b.root,a),children:s});const S={exit:b.exit,enterActive:b.enterActive,enter:b.enter,exitActive:b.exitActive};return r.jsx(DV,{className:Hn(b.root,a),childFactory:j=>x.cloneElement(j,{classNames:S}),role:"presentation",ownerState:y,children:r.jsx(N2,Q({mountOnEnter:!0,unmountOnExit:!0,timeout:v.transitions.duration.complex,classNames:S},p,{children:s}),d)})}const MV=e=>Rn("MuiDayCalendar",e);_n("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const AV=["parentProps","day","focusedDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],PV=["ownerState"],OV=e=>dn({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},MV,e),PD=(Wc+Ah*2)*6,RV=qe("div",{name:"MuiDayCalendar",slot:"Root"})({}),_V=qe("div",{name:"MuiDayCalendar",slot:"Header"})({display:"flex",justifyContent:"center",alignItems:"center"}),IV=qe(P,{name:"MuiDayCalendar",slot:"WeekDayLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),WV=qe(P,{name:"MuiDayCalendar",slot:"WeekNumberLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.disabled})),NV=qe(P,{name:"MuiDayCalendar",slot:"WeekNumber"})(({theme:e})=>Q({},e.typography.caption,{width:Wc,height:Wc,padding:0,margin:`0 ${Ah}px`,color:(e.vars||e).palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),LV=qe("div",{name:"MuiDayCalendar",slot:"LoadingContainer"})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:PD}),zV=qe(EV,{name:"MuiDayCalendar",slot:"SlideTransition"})({minHeight:PD}),BV=qe("div",{name:"MuiDayCalendar",slot:"MonthContainer"})({overflow:"hidden"}),VV=qe("div",{name:"MuiDayCalendar",slot:"WeekContainer"})({margin:`${Ah}px 0`,display:"flex",justifyContent:"center"});function FV(e){let{parentProps:t,day:s,focusedDay:a,selectedDays:l,isDateDisabled:u,currentMonthNumber:d,isViewFocused:h}=e,p=ot(e,AV);const{disabled:g,disableHighlightToday:y,isMonthSwitchingAnimating:b,showDaysOutsideCurrentMonth:v,slots:S,slotProps:j,timezone:k}=t,w=Ht(),T=Mh(k),E=a!=null&&w.isSameDay(s,a),M=h&&E,W=l.some(U=>w.isSameDay(U,s)),O=w.isSameDay(s,T),R=x.useMemo(()=>g||u(s),[g,u,s]),_=x.useMemo(()=>w.getMonth(s)!==d,[w,s,d]),N=ED({day:s,selected:W,disabled:R,today:O,outsideCurrentMonth:_,disableMargin:void 0,disableHighlightToday:y,showDaysOutsideCurrentMonth:v}),I=S?.day??CV,V=Pt({elementType:I,externalSlotProps:j?.day,additionalProps:Q({disableHighlightToday:y,showDaysOutsideCurrentMonth:v,role:"gridcell",isAnimating:b,"data-timestamp":w.toJsDate(s).valueOf()},p),ownerState:Q({},N,{day:s,isDayDisabled:R,isDaySelected:W})}),B=ot(V,PV),z=x.useMemo(()=>{const U=w.startOfMonth(w.setMonth(s,d));return v?w.isSameDay(s,w.startOfWeek(U)):w.isSameDay(s,U)},[d,s,v,w]),ue=x.useMemo(()=>{const U=w.endOfMonth(w.setMonth(s,d));return v?w.isSameDay(s,w.endOfWeek(U)):w.isSameDay(s,U)},[d,s,v,w]);return r.jsx(I,Q({},B,{day:s,disabled:R,autoFocus:!_&&M,today:O,outsideCurrentMonth:_,isFirstVisibleCell:z,isLastVisibleCell:ue,selected:W,tabIndex:E?0:-1,"aria-selected":W,"aria-current":O?"date":void 0}))}function HV(e){const t=an({props:e,name:"MuiDayCalendar"}),s=Ht(),{onFocusedDayChange:a,className:l,classes:u,currentMonth:d,selectedDays:h,focusedDay:p,loading:g,onSelectedDaysChange:y,onMonthSwitchingAnimationEnd:b,readOnly:v,reduceAnimations:S,renderLoading:j=()=>r.jsx("span",{children:"..."}),slideDirection:k,TransitionProps:w,disablePast:T,disableFuture:E,minDate:M,maxDate:W,shouldDisableDate:O,shouldDisableMonth:R,shouldDisableYear:_,dayOfWeekFormatter:N=he=>s.format(he,"weekdayShort").charAt(0).toUpperCase(),hasFocus:I,onFocusedViewChange:V,gridLabelId:B,displayWeekNumber:z,fixedWeekNumber:ue,timezone:U}=t,ae=Mh(U),F=OV(u),Y=Ki(),ge=jD({shouldDisableDate:O,shouldDisableMonth:R,shouldDisableYear:_,minDate:M,maxDate:W,disablePast:T,disableFuture:E,timezone:U}),pe=za(),Me=ze(he=>{v||y(he)}),ve=he=>{ge(he)||(a(he),V?.(!0))},X=ze((he,Te)=>{switch(he.key){case"ArrowUp":ve(s.addDays(Te,-7)),he.preventDefault();break;case"ArrowDown":ve(s.addDays(Te,7)),he.preventDefault();break;case"ArrowLeft":{const Oe=s.addDays(Te,Y?1:-1),me=s.addMonths(Te,Y?1:-1),te=Ic({adapter:s,date:Oe,minDate:Y?Oe:s.startOfMonth(me),maxDate:Y?s.endOfMonth(me):Oe,isDateDisabled:ge,timezone:U});ve(te||Oe),he.preventDefault();break}case"ArrowRight":{const Oe=s.addDays(Te,Y?-1:1),me=s.addMonths(Te,Y?-1:1),te=Ic({adapter:s,date:Oe,minDate:Y?s.startOfMonth(me):Oe,maxDate:Y?Oe:s.endOfMonth(me),isDateDisabled:ge,timezone:U});ve(te||Oe),he.preventDefault();break}case"Home":ve(s.startOfWeek(Te)),he.preventDefault();break;case"End":ve(s.endOfWeek(Te)),he.preventDefault();break;case"PageUp":ve(s.addMonths(Te,1)),he.preventDefault();break;case"PageDown":ve(s.addMonths(Te,-1)),he.preventDefault();break}}),Z=ze((he,Te)=>ve(Te)),ce=ze((he,Te)=>{p!=null&&s.isSameDay(p,Te)&&V?.(!1)}),xe=s.getMonth(d),be=s.getYear(d),re=x.useMemo(()=>h.filter(he=>!!he).map(he=>s.startOfDay(he)),[s,h]),G=`${be}-${xe}`,le=x.useMemo(()=>x.createRef(),[G]),$=x.useMemo(()=>{const he=s.getWeekArray(d);let Te=s.addMonths(d,1);for(;ue&&he.length<ue;){const Oe=s.getWeekArray(Te),me=s.isSameDay(he[he.length-1][0],Oe[0][0]);Oe.slice(me?1:0).forEach(te=>{he.length<ue&&he.push(te)}),Te=s.addMonths(Te,1)}return he},[d,ue,s]);return r.jsxs(RV,{role:"grid","aria-labelledby":B,className:F.root,children:[r.jsxs(_V,{role:"row",className:F.header,children:[z&&r.jsx(WV,{variant:"caption",role:"columnheader","aria-label":pe.calendarWeekNumberHeaderLabel,className:F.weekNumberLabel,children:pe.calendarWeekNumberHeaderText}),b6(s,ae).map((he,Te)=>r.jsx(IV,{variant:"caption",role:"columnheader","aria-label":s.format(he,"weekday"),className:F.weekDayLabel,children:N(he)},Te.toString()))]}),g?r.jsx(LV,{className:F.loadingContainer,children:j()}):r.jsx(zV,Q({transKey:G,onExited:b,reduceAnimations:S,slideDirection:k,className:Hn(l,F.slideTransition)},w,{nodeRef:le,children:r.jsx(BV,{ref:le,role:"rowgroup",className:F.monthContainer,children:$.map((he,Te)=>r.jsxs(VV,{role:"row",className:F.weekContainer,"aria-rowindex":Te+1,children:[z&&r.jsx(NV,{className:F.weekNumber,role:"rowheader","aria-label":pe.calendarWeekNumberAriaLabelText(s.getWeekNumber(he[0])),children:pe.calendarWeekNumberText(s.getWeekNumber(he[0]))}),he.map((Oe,me)=>r.jsx(FV,{parentProps:t,day:Oe,selectedDays:re,isViewFocused:I,focusedDay:p,onKeyDown:X,onFocus:Z,onBlur:ce,onDaySelect:Me,isDateDisabled:ge,currentMonthNumber:xe,"aria-colindex":me+1},Oe.toString()))]},`week-${he[0]}`))})}))]})}function OD(e){return Rn("MuiMonthCalendar",e)}const Td=_n("MuiMonthCalendar",["root","button","disabled","selected"]),UV=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],qV=(e,t)=>{const s={button:["button",t.isMonthDisabled&&"disabled",t.isMonthSelected&&"selected"]};return dn(s,OD,e)},YV=qe("button",{name:"MuiMonthCalendar",slot:"Button",overridesResolver:(e,t)=>[t.button,{[`&.${Td.disabled}`]:t.disabled},{[`&.${Td.selected}`]:t.selected}]})(({theme:e})=>Q({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Go(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Go(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Td.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${Td.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),GV=x.memo(function(t){const{autoFocus:s,classes:a,disabled:l,selected:u,value:d,onClick:h,onKeyDown:p,onFocus:g,onBlur:y,slots:b,slotProps:v}=t,S=ot(t,UV),j=x.useRef(null),{ownerState:k}=qn(),w=Q({},k,{isMonthDisabled:l,isMonthSelected:u}),T=qV(a,w);qi(()=>{s&&j.current?.focus()},[s]);const E=b?.monthButton??YV,M=Pt({elementType:E,externalSlotProps:v?.monthButton,externalForwardedProps:S,additionalProps:{disabled:l,ref:j,type:"button",role:"radio","aria-checked":u,onClick:W=>h(W,d),onKeyDown:W=>p(W,d),onFocus:W=>g(W,d),onBlur:W=>y(W,d)},ownerState:w,className:T.button});return r.jsx(E,Q({},M))}),$V=["autoFocus","className","currentMonth","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],KV=e=>dn({root:["root"]},OD,e);function QV(e,t){const s=an({props:e,name:t}),a=eu(s);return Q({},s,a,{monthsPerRow:s.monthsPerRow??3})}const I1=(e,t,s,a,l)=>!!(e===t&&a&&l.isSameYear(s,a)),XV=qe("div",{name:"MuiMonthCalendar",slot:"Root",shouldForwardProp:e=>Mr(e)&&e!=="monthsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:16,padding:"8px 0",width:Ph,boxSizing:"border-box",variants:[{props:{monthsPerRow:3},style:{columnGap:24}},{props:{monthsPerRow:4},style:{columnGap:0}}]}),ZV=x.forwardRef(function(t,s){const a=QV(t,"MuiMonthCalendar"),{autoFocus:l,className:u,currentMonth:d,classes:h,value:p,defaultValue:g,referenceDate:y,disabled:b,disableFuture:v,disablePast:S,maxDate:j,minDate:k,onChange:w,shouldDisableMonth:T,readOnly:E,onMonthFocus:M,hasFocus:W,onFocusedViewChange:O,monthsPerRow:R,timezone:_,gridLabelId:N,slots:I,slotProps:V}=a,B=ot(a,$V),{value:z,handleValueChange:ue,timezone:U}=tu({name:"MonthCalendar",timezone:_,value:p,defaultValue:g,referenceDate:y,onChange:w,valueManager:yi}),ae=Mh(U),F=Ki(),Y=Ht(),{ownerState:ge}=qn(),pe=x.useMemo(()=>yi.getInitialReferenceValue({value:z,adapter:Y,props:a,timezone:U,referenceDate:y,granularity:ci.month}),[]),Me=KV(h),ve=x.useMemo(()=>Y.getMonth(ae),[Y,ae]),X=x.useMemo(()=>z!=null?Y.getMonth(z):null,[z,Y]),[Z,ce]=x.useState(()=>X||Y.getMonth(pe)),[xe,be]=Yo({name:"MonthCalendar",state:"hasFocus",controlled:W,default:l??!1}),re=ze(me=>{be(me),O&&O(me)}),G=x.useCallback(me=>{const te=Y.startOfMonth(S&&Y.isAfter(ae,k)?ae:k),ee=Y.startOfMonth(v&&Y.isBefore(ae,j)?ae:j),Ie=Y.startOfMonth(me);return Y.isBefore(Ie,te)||Y.isAfter(Ie,ee)?!0:T?T(Ie):!1},[v,S,j,k,ae,T,Y]),le=ze((me,te)=>{if(E)return;const ee=z&&d&&!Y.isSameYear(z,d)?Y.setYear(z,Y.getYear(d)):z,Ie=Y.setMonth(ee??pe,te);ue(Ie)}),$=ze(me=>{G(Y.setMonth(z??d??pe,me))||(ce(me),re(!0),M&&M(me))});x.useEffect(()=>{ce(me=>X!==null&&me!==X?X:me)},[X]);const he=ze((me,te)=>{switch(me.key){case"ArrowUp":$((12+te-3)%12),me.preventDefault();break;case"ArrowDown":$((12+te+3)%12),me.preventDefault();break;case"ArrowLeft":$((12+te+(F?1:-1))%12),me.preventDefault();break;case"ArrowRight":$((12+te+(F?-1:1))%12),me.preventDefault();break}}),Te=ze((me,te)=>{$(te)}),Oe=ze((me,te)=>{Z===te&&re(!1)});return r.jsx(XV,Q({ref:s,className:Hn(Me.root,u),ownerState:ge,role:"radiogroup","aria-labelledby":N,monthsPerRow:R},B,{children:Ky(Y,d??z??pe).map(me=>{const te=Y.getMonth(me),ee=Y.format(me,"monthShort"),Ie=Y.format(me,"month"),Ge=I1(te,X,me,z,Y),Pe=b||G(me);return r.jsx(GV,{selected:Ge,value:te,onClick:le,onKeyDown:he,autoFocus:xe&&te===Z,disabled:Pe,tabIndex:te===Z&&!Pe?0:-1,onFocus:Te,onBlur:Oe,"aria-current":I1(te,ve,me,ae,Y)?"date":void 0,"aria-label":Ie,slots:I,slotProps:V,classes:h,children:ee},ee)})}))});function RD(e){return Rn("MuiYearCalendar",e)}const kd=_n("MuiYearCalendar",["root","button","disabled","selected"]),JV=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],eF=(e,t)=>{const s={button:["button",t.isYearDisabled&&"disabled",t.isYearSelected&&"selected"]};return dn(s,RD,e)},tF=qe("button",{name:"MuiYearCalendar",slot:"Button",overridesResolver:(e,t)=>[t.button,{[`&.${kd.disabled}`]:t.disabled},{[`&.${kd.selected}`]:t.selected}]})(({theme:e})=>Q({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.focusOpacity})`:Go(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Go(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${kd.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${kd.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),nF=x.memo(function(t){const{autoFocus:s,classes:a,disabled:l,selected:u,value:d,onClick:h,onKeyDown:p,onFocus:g,onBlur:y,slots:b,slotProps:v}=t,S=ot(t,JV),j=x.useRef(null),{ownerState:k}=qn(),w=Q({},k,{isYearDisabled:l,isYearSelected:u}),T=eF(a,w);qi(()=>{s&&j.current?.focus()},[s]);const E=b?.yearButton??tF,M=Pt({elementType:E,externalSlotProps:v?.yearButton,externalForwardedProps:S,additionalProps:{disabled:l,ref:j,type:"button",role:"radio","aria-checked":u,onClick:W=>h(W,d),onKeyDown:W=>p(W,d),onFocus:W=>g(W,d),onBlur:W=>y(W,d)},ownerState:w,className:T.button});return r.jsx(E,Q({},M))}),sF=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsOrder","yearsPerRow","timezone","gridLabelId","slots","slotProps"],iF=e=>dn({root:["root"]},RD,e);function aF(e,t){const s=an({props:e,name:t}),a=eu(s);return Q({},s,a,{yearsPerRow:s.yearsPerRow??3,yearsOrder:s.yearsOrder??"asc"})}const rF=qe("div",{name:"MuiYearCalendar",slot:"Root",shouldForwardProp:e=>Mr(e)&&e!=="yearsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:12,padding:"6px 0",overflowY:"auto",height:"100%",width:Ph,maxHeight:_z,boxSizing:"border-box",position:"relative",variants:[{props:{yearsPerRow:3},style:{columnGap:24}},{props:{yearsPerRow:4},style:{columnGap:0,padding:"0 2px"}}]}),oF=qe("div",{name:"MuiYearCalendar",slot:"ButtonFiller"})({height:36,width:72}),lF=x.forwardRef(function(t,s){const a=aF(t,"MuiYearCalendar"),{autoFocus:l,className:u,classes:d,value:h,defaultValue:p,referenceDate:g,disabled:y,disableFuture:b,disablePast:v,maxDate:S,minDate:j,onChange:k,readOnly:w,shouldDisableYear:T,onYearFocus:E,hasFocus:M,onFocusedViewChange:W,yearsOrder:O,yearsPerRow:R,timezone:_,gridLabelId:N,slots:I,slotProps:V}=a,B=ot(a,sF),{value:z,handleValueChange:ue,timezone:U}=tu({name:"YearCalendar",timezone:_,value:h,defaultValue:p,referenceDate:g,onChange:k,valueManager:yi}),ae=Mh(U),F=Ki(),Y=Ht(),{ownerState:ge}=qn(),pe=x.useMemo(()=>yi.getInitialReferenceValue({value:z,adapter:Y,props:a,timezone:U,referenceDate:g,granularity:ci.year}),[]),Me=iF(d),ve=x.useMemo(()=>Y.getYear(ae),[Y,ae]),X=x.useMemo(()=>z!=null?Y.getYear(z):null,[z,Y]),[Z,ce]=x.useState(()=>X||Y.getYear(pe)),[xe,be]=Yo({name:"YearCalendar",state:"hasFocus",controlled:M,default:l??!1}),re=ze(ie=>{be(ie),W&&W(ie)}),G=x.useCallback(ie=>{if(v&&Y.isBeforeYear(ie,ae)||b&&Y.isAfterYear(ie,ae)||j&&Y.isBeforeYear(ie,j)||S&&Y.isAfterYear(ie,S))return!0;if(!T)return!1;const we=Y.startOfYear(ie);return T(we)},[b,v,S,j,ae,T,Y]),le=ze((ie,we)=>{if(w)return;const q=Y.setYear(z??pe,we);ue(q)}),$=ze(ie=>{G(Y.setYear(z??pe,ie))||(ce(ie),re(!0),E?.(ie))});x.useEffect(()=>{ce(ie=>X!==null&&ie!==X?X:ie)},[X]);const he=O!=="desc"?R*1:R*-1,Te=F&&O==="asc"||!F&&O==="desc"?-1:1,Oe=ze((ie,we)=>{switch(ie.key){case"ArrowUp":$(we-he),ie.preventDefault();break;case"ArrowDown":$(we+he),ie.preventDefault();break;case"ArrowLeft":$(we-Te),ie.preventDefault();break;case"ArrowRight":$(we+Te),ie.preventDefault();break}}),me=ze((ie,we)=>{$(we)}),te=ze((ie,we)=>{Z===we&&re(!1)}),ee=x.useRef(null),Ie=hs(s,ee);x.useEffect(()=>{if(l||ee.current===null)return;const ie=ee.current.querySelector('[tabindex="0"]');if(!ie)return;const we=ie.offsetHeight,q=ie.offsetTop,fe=ee.current.clientHeight,ye=ee.current.scrollTop,Ee=q+we;we>fe||q<ye||(ee.current.scrollTop=Ee-fe/2-we/2)},[l]);const Ge=Y.getYearRange([j,S]);O==="desc"&&Ge.reverse();let Pe=R-Ge.length%R;return Pe===R&&(Pe=0),r.jsxs(rF,Q({ref:Ie,className:Hn(Me.root,u),ownerState:ge,role:"radiogroup","aria-labelledby":N,yearsPerRow:R},B,{children:[Ge.map(ie=>{const we=Y.getYear(ie),q=we===X,fe=y||G(ie);return r.jsx(nF,{selected:q,value:we,onClick:le,onKeyDown:Oe,autoFocus:xe&&we===Z,disabled:fe,tabIndex:we===Z&&!fe?0:-1,onFocus:me,onBlur:te,"aria-current":ve===we?"date":void 0,slots:I,slotProps:V,classes:d,children:Y.format(ie,"year")},Y.format(ie,"year"))}),Array.from({length:Pe},(ie,we)=>r.jsx(oF,{},we))]}))}),cF=e=>Rn("MuiPickersCalendarHeader",e),uF=_n("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]);function dF(e){return Rn("MuiPickersArrowSwitcher",e)}_n("MuiPickersArrowSwitcher",["root","spacer","button","previousIconButton","nextIconButton","leftArrowIcon","rightArrowIcon"]);const hF=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId","classes"],fF=["ownerState"],pF=["ownerState"],mF=qe("div",{name:"MuiPickersArrowSwitcher",slot:"Root"})({display:"flex"}),gF=qe("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer"})(({theme:e})=>({width:e.spacing(3)})),W1=qe(He,{name:"MuiPickersArrowSwitcher",slot:"Button"})({variants:[{props:{isButtonHidden:!0},style:{visibility:"hidden"}}]}),yF=e=>dn({root:["root"],spacer:["spacer"],button:["button"],previousIconButton:["previousIconButton"],nextIconButton:["nextIconButton"],leftArrowIcon:["leftArrowIcon"],rightArrowIcon:["rightArrowIcon"]},dF,e),xF=x.forwardRef(function(t,s){const a=Ki(),l=an({props:t,name:"MuiPickersArrowSwitcher"}),{children:u,className:d,slots:h,slotProps:p,isNextDisabled:g,isNextHidden:y,onGoToNext:b,nextLabel:v,isPreviousDisabled:S,isPreviousHidden:j,onGoToPrevious:k,previousLabel:w,labelId:T,classes:E}=l,M=ot(l,hF),{ownerState:W}=qn(),O=yF(E),R={isDisabled:g,isHidden:y,goTo:b,label:v},_={isDisabled:S,isHidden:j,goTo:k,label:w},N=h?.previousIconButton??W1,I=Pt({elementType:N,externalSlotProps:p?.previousIconButton,additionalProps:{size:"medium",title:_.label,"aria-label":_.label,disabled:_.isDisabled,edge:"end",onClick:_.goTo},ownerState:Q({},W,{isButtonHidden:_.isHidden??!1}),className:Hn(O.button,O.previousIconButton)}),V=h?.nextIconButton??W1,B=Pt({elementType:V,externalSlotProps:p?.nextIconButton,additionalProps:{size:"medium",title:R.label,"aria-label":R.label,disabled:R.isDisabled,edge:"start",onClick:R.goTo},ownerState:Q({},W,{isButtonHidden:R.isHidden??!1}),className:Hn(O.button,O.nextIconButton)}),z=h?.leftArrowIcon??uB,ue=Pt({elementType:z,externalSlotProps:p?.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:W,className:O.leftArrowIcon}),U=ot(ue,fF),ae=h?.rightArrowIcon??dB,F=Pt({elementType:ae,externalSlotProps:p?.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:W,className:O.rightArrowIcon}),Y=ot(F,pF);return r.jsxs(mF,Q({ref:s,className:Hn(O.root,d),ownerState:W},M,{children:[r.jsx(N,Q({},I,{children:a?r.jsx(ae,Q({},Y)):r.jsx(z,Q({},U))})),u?r.jsx(P,{variant:"subtitle1",component:"span",id:T,children:u}):r.jsx(gF,{className:O.spacer,ownerState:W}),r.jsx(V,Q({},B,{children:a?r.jsx(z,Q({},U)):r.jsx(ae,Q({},Y))}))]}))});function bF(e,{disableFuture:t,maxDate:s,timezone:a}){const l=Ht();return x.useMemo(()=>{const u=l.date(void 0,a),d=l.startOfMonth(t&&l.isBefore(u,s)?u:s);return!l.isAfter(d,e)},[t,s,e,l,a])}function vF(e,{disablePast:t,minDate:s,timezone:a}){const l=Ht();return x.useMemo(()=>{const u=l.date(void 0,a),d=l.startOfMonth(t&&l.isAfter(u,s)?u:s);return!l.isBefore(d,e)},[t,s,e,l,a])}const SF=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","classes","timezone","format"],wF=["ownerState"],CF=e=>dn({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},cF,e),TF=qe("div",{name:"MuiPickersCalendarHeader",slot:"Root"})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),kF=qe("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer"})(({theme:e})=>Q({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),jF=qe("div",{name:"MuiPickersCalendarHeader",slot:"Label"})({marginRight:6}),DF=qe(He,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton"})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${uF.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),EF=qe(cB,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon"})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"})),MF=x.forwardRef(function(t,s){const a=za(),l=Ht(),u=an({props:t,name:"MuiPickersCalendarHeader"}),{slots:d,slotProps:h,currentMonth:p,disabled:g,disableFuture:y,disablePast:b,maxDate:v,minDate:S,onMonthChange:j,onViewChange:k,view:w,reduceAnimations:T,views:E,labelId:M,className:W,classes:O,timezone:R,format:_=`${l.formats.month} ${l.formats.year}`}=u,N=ot(u,SF),{ownerState:I}=qn(),V=CF(O),B=d?.switchViewButton??DF,z=Pt({elementType:B,externalSlotProps:h?.switchViewButton,additionalProps:{size:"small","aria-label":a.calendarViewSwitchingButtonAriaLabel(w)},ownerState:Q({},I,{view:w}),className:V.switchViewButton}),ue=d?.switchViewIcon??EF,U=Pt({elementType:ue,externalSlotProps:h?.switchViewIcon,ownerState:I,className:V.switchViewIcon}),ae=ot(U,wF),F=()=>j(l.addMonths(p,1)),Y=()=>j(l.addMonths(p,-1)),ge=bF(p,{disableFuture:y,maxDate:v,timezone:R}),pe=vF(p,{disablePast:b,minDate:S,timezone:R}),Me=()=>{if(!(E.length===1||!k||g))if(E.length===2)k(E.find(X=>X!==w)||E[0]);else{const X=E.indexOf(w)!==0?0:1;k(E[X])}};if(E.length===1&&E[0]==="year")return null;const ve=l.formatByString(p,_);return r.jsxs(TF,Q({},N,{ownerState:I,className:Hn(V.root,W),ref:s,children:[r.jsxs(kF,{role:"presentation",onClick:Me,ownerState:I,"aria-live":"polite",className:V.labelContainer,children:[r.jsx(DD,{reduceAnimations:T,transKey:ve,children:r.jsx(jF,{id:M,ownerState:I,className:V.label,children:ve})}),E.length>1&&!g&&r.jsx(B,Q({},z,{children:r.jsx(ue,Q({},ae))}))]}),r.jsx(ph,{in:w==="day",appear:!T,enter:!T,children:r.jsx(xF,{slots:d,slotProps:h,onGoToPrevious:Y,isPreviousDisabled:pe,previousLabel:a.previousMonth,onGoToNext:F,isNextDisabled:ge,nextLabel:a.nextMonth})})]}))}),AF=qe("div")({overflow:"hidden",width:Ph,maxHeight:sx,display:"flex",flexDirection:"column",margin:"0 auto"}),PF=e=>Rn("MuiDateCalendar",e);_n("MuiDateCalendar",["root","viewTransitionContainer"]);const OF=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","classes","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsOrder","yearsPerRow","monthsPerRow","timezone"],RF=e=>dn({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},PF,e);function _F(e,t){const s=an({props:e,name:t}),a=aD(s.reduceAnimations),l=eu(s);return Q({},s,l,{loading:s.loading??!1,openTo:s.openTo??"day",views:s.views??["year","day"],reduceAnimations:a,renderLoading:s.renderLoading??(()=>r.jsx("span",{children:"..."}))})}const IF=qe(AF,{name:"MuiDateCalendar",slot:"Root"})({display:"flex",flexDirection:"column",height:sx}),WF=qe(DD,{name:"MuiDateCalendar",slot:"ViewTransitionContainer"})({}),NF=x.forwardRef(function(t,s){const a=Ht(),{ownerState:l}=qn(),u=Wg(),d=_F(t,"MuiDateCalendar"),{autoFocus:h,onViewChange:p,value:g,defaultValue:y,referenceDate:b,disableFuture:v,disablePast:S,onChange:j,onMonthChange:k,reduceAnimations:w,shouldDisableDate:T,shouldDisableMonth:E,shouldDisableYear:M,view:W,views:O,openTo:R,className:_,classes:N,disabled:I,readOnly:V,minDate:B,maxDate:z,disableHighlightToday:ue,focusedView:U,onFocusedViewChange:ae,showDaysOutsideCurrentMonth:F,fixedWeekNumber:Y,dayOfWeekFormatter:ge,slots:pe,slotProps:Me,loading:ve,renderLoading:X,displayWeekNumber:Z,yearsOrder:ce,yearsPerRow:xe,monthsPerRow:be,timezone:re}=d,G=ot(d,OF),{value:le,handleValueChange:$,timezone:he}=tu({name:"DateCalendar",timezone:re,value:g,defaultValue:y,referenceDate:b,onChange:j,valueManager:yi}),{view:Te,setView:Oe,focusedView:me,setFocusedView:te,goToNextView:ee,setValueAndGoToNextView:Ie}=oD({view:W,views:O,openTo:R,onChange:$,onViewChange:p,autoFocus:h,focusedView:U,onFocusedViewChange:ae}),{referenceDate:Ge,calendarState:Pe,setVisibleDate:ie,isDateDisabled:we,onMonthSwitchingAnimationEnd:q}=hV({value:le,referenceDate:b,reduceAnimations:w,onMonthChange:k,minDate:B,maxDate:z,shouldDisableDate:T,disablePast:S,disableFuture:v,timezone:he,getCurrentMonthFromVisibleDate:(mt,hn)=>a.isSameMonth(mt,hn)?hn:a.startOfMonth(mt)}),fe=I&&le||B,ye=I&&le||z,Ee=`${u}-grid-label`,_e=me!==null,Le=pe?.calendarHeader??MF,Ze=Pt({elementType:Le,externalSlotProps:Me?.calendarHeader,additionalProps:{views:O,view:Te,currentMonth:Pe.currentMonth,onViewChange:Oe,onMonthChange:mt=>ie({target:mt,reason:"header-navigation"}),minDate:fe,maxDate:ye,disabled:I,disablePast:S,disableFuture:v,reduceAnimations:w,timezone:he,labelId:Ee},ownerState:l}),Be=ze(mt=>{const hn=a.startOfMonth(mt),Sn=a.endOfMonth(mt),wn=we(mt)?Ic({adapter:a,date:mt,minDate:a.isBefore(B,hn)?hn:B,maxDate:a.isAfter(z,Sn)?Sn:z,disablePast:S,disableFuture:v,isDateDisabled:we,timezone:he}):mt;wn?(Ie(wn,"finish"),ie({target:wn,reason:"cell-interaction"})):(ee(),ie({target:hn,reason:"cell-interaction"}))}),$e=ze(mt=>{const hn=a.startOfYear(mt),Sn=a.endOfYear(mt),wn=we(mt)?Ic({adapter:a,date:mt,minDate:a.isBefore(B,hn)?hn:B,maxDate:a.isAfter(z,Sn)?Sn:z,disablePast:S,disableFuture:v,isDateDisabled:we,timezone:he}):mt;wn?(Ie(wn,"finish"),ie({target:wn,reason:"cell-interaction"})):(ee(),ie({target:hn,reason:"cell-interaction"}))}),Fe=ze(mt=>$(mt&&oh(a,mt,le??Ge),"finish",Te));x.useEffect(()=>{a.isValid(le)&&ie({target:le,reason:"controlled-value-change"})},[le]);const dt=RF(N),pt={disablePast:S,disableFuture:v,maxDate:z,minDate:B},Ye={disableHighlightToday:ue,readOnly:V,disabled:I,timezone:he,gridLabelId:Ee,slots:pe,slotProps:Me},ht=x.useRef(Te);x.useEffect(()=>{ht.current!==Te&&(me===ht.current&&te(Te,!0),ht.current=Te)},[me,te,Te]);const kt=x.useMemo(()=>[le],[le]);return r.jsxs(IF,Q({ref:s,className:Hn(dt.root,_),ownerState:l},G,{children:[r.jsx(Le,Q({},Ze,{slots:pe,slotProps:Me})),r.jsx(WF,{reduceAnimations:w,className:dt.viewTransitionContainer,transKey:Te,ownerState:l,children:r.jsxs("div",{children:[Te==="year"&&r.jsx(lF,Q({},pt,Ye,{value:le,onChange:$e,shouldDisableYear:M,hasFocus:_e,onFocusedViewChange:mt=>te("year",mt),yearsOrder:ce,yearsPerRow:xe,referenceDate:Ge})),Te==="month"&&r.jsx(ZV,Q({},pt,Ye,{currentMonth:Pe.currentMonth,hasFocus:_e,className:_,value:le,onChange:Be,shouldDisableMonth:E,onFocusedViewChange:mt=>te("month",mt),monthsPerRow:be,referenceDate:Ge})),Te==="day"&&r.jsx(HV,Q({},Pe,pt,Ye,{onMonthSwitchingAnimationEnd:q,hasFocus:_e,onFocusedDayChange:mt=>ie({target:mt,reason:"cell-interaction"}),reduceAnimations:w,selectedDays:kt,onSelectedDaysChange:Fe,shouldDisableDate:T,shouldDisableMonth:E,shouldDisableYear:M,onFocusedViewChange:mt=>te("day",mt),showDaysOutsideCurrentMonth:F,fixedWeekNumber:Y,dayOfWeekFormatter:ge,displayWeekNumber:Z,loading:ve,renderLoading:X}))]})})]}))}),Uo=({view:e,onViewChange:t,views:s,focusedView:a,onFocusedViewChange:l,value:u,defaultValue:d,referenceDate:h,onChange:p,className:g,classes:y,disableFuture:b,disablePast:v,minDate:S,maxDate:j,shouldDisableDate:k,shouldDisableMonth:w,shouldDisableYear:T,reduceAnimations:E,onMonthChange:M,monthsPerRow:W,onYearChange:O,yearsOrder:R,yearsPerRow:_,slots:N,slotProps:I,loading:V,renderLoading:B,disableHighlightToday:z,readOnly:ue,disabled:U,showDaysOutsideCurrentMonth:ae,dayOfWeekFormatter:F,sx:Y,autoFocus:ge,fixedWeekNumber:pe,displayWeekNumber:Me,timezone:ve})=>r.jsx(NF,{view:e,onViewChange:t,views:s.filter(b1),focusedView:a&&b1(a)?a:null,onFocusedViewChange:l,value:u,defaultValue:d,referenceDate:h,onChange:p,className:g,classes:y,disableFuture:b,disablePast:v,minDate:S,maxDate:j,shouldDisableDate:k,shouldDisableMonth:w,shouldDisableYear:T,reduceAnimations:E,onMonthChange:M,monthsPerRow:W,onYearChange:O,yearsOrder:R,yearsPerRow:_,slots:N,slotProps:I,loading:V,renderLoading:B,disableHighlightToday:z,readOnly:ue,disabled:U,showDaysOutsideCurrentMonth:ae,dayOfWeekFormatter:F,sx:Y,autoFocus:ge,fixedWeekNumber:pe,displayWeekNumber:Me,timezone:ve}),_D=x.forwardRef(function(t,s){const a=Ht(),l=sD(t,"MuiDesktopDatePicker"),u=Q({day:Uo,month:Uo,year:Uo},l.viewRenderers),d=Q({},l,{closeOnSelect:l.closeOnSelect??!0,viewRenderers:u,format:Qy(a,l,!1),yearsPerRow:l.yearsPerRow??4,slots:Q({field:kD},l.slots),slotProps:Q({},l.slotProps,{field:p=>Q({},hi(l.slotProps?.field,p),eD(l)),toolbar:Q({hidden:!0},l.slotProps?.toolbar)})}),{renderPicker:h}=$z({ref:s,props:d,valueManager:yi,valueType:"date",validator:Jc,steps:null});return h()});_D.propTypes={autoFocus:D.bool,className:D.string,closeOnSelect:D.bool,dayOfWeekFormatter:D.func,defaultValue:D.object,disabled:D.bool,disableFuture:D.bool,disableHighlightToday:D.bool,disableOpenPicker:D.bool,disablePast:D.bool,displayWeekNumber:D.bool,enableAccessibleFieldDOMStructure:D.any,fixedWeekNumber:D.number,format:D.string,formatDensity:D.oneOf(["dense","spacious"]),inputRef:OC,label:D.node,loading:D.bool,localeText:D.object,maxDate:D.object,minDate:D.object,monthsPerRow:D.oneOf([3,4]),name:D.string,onAccept:D.func,onChange:D.func,onClose:D.func,onError:D.func,onMonthChange:D.func,onOpen:D.func,onSelectedSectionsChange:D.func,onViewChange:D.func,onYearChange:D.func,open:D.bool,openTo:D.oneOf(["day","month","year"]),orientation:D.oneOf(["landscape","portrait"]),readOnly:D.bool,reduceAnimations:D.bool,referenceDate:D.object,renderLoading:D.func,selectedSections:D.oneOfType([D.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),D.number]),shouldDisableDate:D.func,shouldDisableMonth:D.func,shouldDisableYear:D.func,showDaysOutsideCurrentMonth:D.bool,slotProps:D.object,slots:D.object,sx:D.oneOfType([D.arrayOf(D.oneOfType([D.func,D.object,D.bool])),D.func,D.object]),timezone:D.string,value:D.object,view:D.oneOf(["day","month","year"]),viewRenderers:D.shape({day:D.func,month:D.func,year:D.func}),views:D.arrayOf(D.oneOf(["day","month","year"]).isRequired),yearsOrder:D.oneOf(["asc","desc"]),yearsPerRow:D.oneOf([3,4])};const LF=qe(An)({[`& .${kS.container}`]:{outline:0},[`& .${kS.paper}`]:{outline:0,minWidth:Ph}}),zF=qe(Pn)({"&:first-of-type":{padding:0}});function BF(e){const{children:t,slots:s,slotProps:a}=e,{open:l}=il(),{dismissViews:u,onPopperExited:d}=qn(),h=s?.dialog??LF,p=s?.mobileTransition??ph;return r.jsx(h,Q({open:l,onClose:()=>{u(),d?.()}},a?.dialog,{TransitionComponent:p,TransitionProps:a?.mobileTransition,PaperComponent:s?.mobilePaper,PaperProps:a?.mobilePaper,children:r.jsx(zF,{children:t})}))}const VF=["props","steps"],FF=["ownerState"],HF=e=>{let{props:t,steps:s}=e,a=ot(e,VF);const{slots:l,slotProps:u,label:d,inputRef:h,localeText:p}=t,g=dD({steps:s}),{providerProps:y,renderCurrentView:b,ownerState:v}=lD(Q({},a,{props:t,localeText:p,autoFocusView:!0,viewContainerRole:"dialog",variant:"mobile",getStepNavigation:g})),S=y.privateContextValue.labelId,j=u?.toolbar?.hidden??!1,k=l.field,w=Pt({elementType:k,externalSlotProps:u?.field,additionalProps:Q({},j&&{id:S}),ownerState:v}),T=ot(w,FF),E=l.layout??uD;let M=S;j&&(d?M=`${S}-label`:M=void 0);const W=Q({},u,{toolbar:Q({},u?.toolbar,{titleId:S}),mobilePaper:Q({"aria-labelledby":M},u?.mobilePaper)});return{renderPicker:()=>r.jsxs(Qj,Q({},y,{children:[r.jsx(k,Q({},T,{slots:l,slotProps:W,inputRef:h})),r.jsx(BF,{slots:l,slotProps:W,children:r.jsx(E,Q({},W?.layout,{slots:l,slotProps:W,children:b()}))})]}))}},ID=x.forwardRef(function(t,s){const a=Ht(),l=sD(t,"MuiMobileDatePicker"),u=Q({day:Uo,month:Uo,year:Uo},l.viewRenderers),d=Q({},l,{viewRenderers:u,format:Qy(a,l,!1),slots:Q({field:kD},l.slots),slotProps:Q({},l.slotProps,{field:p=>Q({},hi(l.slotProps?.field,p),eD(l)),toolbar:Q({hidden:!1},l.slotProps?.toolbar)})}),{renderPicker:h}=HF({ref:s,props:d,valueManager:yi,valueType:"date",validator:Jc,steps:null});return h()});ID.propTypes={autoFocus:D.bool,className:D.string,closeOnSelect:D.bool,dayOfWeekFormatter:D.func,defaultValue:D.object,disabled:D.bool,disableFuture:D.bool,disableHighlightToday:D.bool,disableOpenPicker:D.bool,disablePast:D.bool,displayWeekNumber:D.bool,enableAccessibleFieldDOMStructure:D.any,fixedWeekNumber:D.number,format:D.string,formatDensity:D.oneOf(["dense","spacious"]),inputRef:OC,label:D.node,loading:D.bool,localeText:D.object,maxDate:D.object,minDate:D.object,monthsPerRow:D.oneOf([3,4]),name:D.string,onAccept:D.func,onChange:D.func,onClose:D.func,onError:D.func,onMonthChange:D.func,onOpen:D.func,onSelectedSectionsChange:D.func,onViewChange:D.func,onYearChange:D.func,open:D.bool,openTo:D.oneOf(["day","month","year"]),orientation:D.oneOf(["landscape","portrait"]),readOnly:D.bool,reduceAnimations:D.bool,referenceDate:D.object,renderLoading:D.func,selectedSections:D.oneOfType([D.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),D.number]),shouldDisableDate:D.func,shouldDisableMonth:D.func,shouldDisableYear:D.func,showDaysOutsideCurrentMonth:D.bool,slotProps:D.object,slots:D.object,sx:D.oneOfType([D.arrayOf(D.oneOfType([D.func,D.object,D.bool])),D.func,D.object]),timezone:D.string,value:D.object,view:D.oneOf(["day","month","year"]),viewRenderers:D.shape({day:D.func,month:D.func,year:D.func}),views:D.arrayOf(D.oneOf(["day","month","year"]).isRequired),yearsOrder:D.oneOf(["asc","desc"]),yearsPerRow:D.oneOf([3,4])};const UF=["desktopModeMediaQuery"],lh=x.forwardRef(function(t,s){const a=an({props:t,name:"MuiDatePicker"}),{desktopModeMediaQuery:l=mz}=a,u=ot(a,UF);return Ig(l,{defaultMatches:!0})?r.jsx(_D,Q({ref:s},u)):r.jsx(ID,Q({ref:s},u))}),qF={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},YF={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",dayOfMonthFull:"do",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class GF{isMUIAdapter=!0;isTimezoneCompatible=!1;formatTokenMap=qF;escapedCharacters={start:"'",end:"'"};constructor(t){const{locale:s,formats:a,longFormatters:l,lib:u}=t;this.locale=s,this.formats=Q({},YF,a),this.longFormatters=l,this.lib=u||"date-fns"}date=t=>typeof t>"u"?new Date:t===null?null:new Date(t);getInvalidDate=()=>new Date("Invalid Date");getTimezone=()=>"default";setTimezone=t=>t;toJsDate=t=>t;getCurrentLocaleCode=()=>this.locale.code;is12HourCycleInCurrentLocale=()=>/a/.test(this.locale.formatLong.time({width:"short"}));expandFormat=t=>{const s=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return t.match(s).map(a=>{const l=a[0];if(l==="p"||l==="P"){const u=this.longFormatters[l];return u(a,this.locale.formatLong)}return a}).join("")};formatNumber=t=>t;getDayOfWeek=t=>t.getDay()+1}class cx extends GF{constructor({locale:t,formats:s}={}){super({locale:t??ry,formats:s,longFormatters:Jd})}parse=(t,s)=>t===""?null:bI(t,s,new Date,{locale:this.locale});isValid=t=>t==null?!1:FT(t);format=(t,s)=>this.formatByString(t,this.formats[s]);formatByString=(t,s)=>Ym(t,s,{locale:this.locale});isEqual=(t,s)=>t===null&&s===null?!0:t===null||s===null?!1:T5(t,s);isSameYear=(t,s)=>wI(t,s);isSameMonth=(t,s)=>nk(t,s);isSameDay=(t,s)=>Um(t,s);isSameHour=(t,s)=>SI(t,s);isAfter=(t,s)=>Id(t,s);isAfterYear=(t,s)=>Id(t,JS(s));isAfterDay=(t,s)=>Id(t,ZS(s));isBefore=(t,s)=>fm(t,s);isBeforeYear=(t,s)=>fm(t,this.startOfYear(s));isBeforeDay=(t,s)=>fm(t,this.startOfDay(s));isWithinRange=(t,[s,a])=>CI(t,{start:s,end:a});startOfYear=t=>qT(t);startOfMonth=t=>UT(t);startOfWeek=t=>ei(t,{locale:this.locale});startOfDay=t=>Dc(t);endOfYear=t=>JS(t);endOfMonth=t=>HT(t);endOfWeek=t=>YT(t,{locale:this.locale});endOfDay=t=>ZS(t);addYears=(t,s)=>w_(t,s);addMonths=(t,s)=>wh(t,s);addWeeks=(t,s)=>S_(t,s);addDays=(t,s)=>Gc(t,s);addHours=(t,s)=>m_(t,s);addMinutes=(t,s)=>b_(t,s);addSeconds=(t,s)=>v_(t,s);getYear=t=>C5(t);getMonth=t=>S5(t);getDate=t=>m5(t);getHours=t=>y5(t);getMinutes=t=>v5(t);getSeconds=t=>w5(t);getMilliseconds=t=>b5(t);setYear=(t,s)=>AI(t,s);setMonth=(t,s)=>TI(t,s);setDate=(t,s)=>kI(t,s);setHours=(t,s)=>jI(t,s);setMinutes=(t,s)=>EI(t,s);setSeconds=(t,s)=>MI(t,s);setMilliseconds=(t,s)=>DI(t,s);getDaysInMonth=t=>XT(t);getWeekArray=t=>{const s=this.startOfWeek(this.startOfMonth(t)),a=this.endOfWeek(this.endOfMonth(t));let l=0,u=s;const d=[];for(;this.isBefore(u,a);){const h=Math.floor(l/7);d[h]=d[h]||[],d[h].push(u),u=this.addDays(u,1),l+=1}return d};getWeekNumber=t=>ly(t,{locale:this.locale});getYearRange=([t,s])=>{const a=this.startOfYear(t),l=this.endOfYear(s),u=[];let d=a;for(;this.isBefore(d,l);)u.push(d),d=this.addYears(d,1);return u}}const ls={STRENGTH:"strength",CARDIO:"cardio",YOGA:"yoga",REST:"rest"},Ca={FULL:"full",UPPER:"upper",PUSH:"push",PULL:"pull",LEGS:"legs",CORE:"core"},WD=({open:e,onClose:t,activity:s,onSave:a})=>{const[l,u]=x.useState({date:new Date,duration:"",notes:"",sessionName:"",sessionType:ls.STRENGTH,workoutType:Ca.FULL,numExercises:"",setsPerExercise:""});x.useEffect(()=>{if(s&&e){const g=s.duration?Math.round(s.duration/60):"";u({date:new Date(s.date),duration:g,notes:s.notes||"",sessionName:s.sessionName||"",sessionType:s.sessionType||ls.STRENGTH,workoutType:s.type||Ca.FULL,numExercises:s.numExercises||"",setsPerExercise:s.setsPerExercise||""})}},[s,e]);const d=(g,y)=>{u(b=>({...b,[g]:y}))},h=()=>{const g=l.duration?parseFloat(l.duration)*60:0,y={...s,date:l.date.getTime(),duration:g,notes:l.notes.trim(),sessionName:l.sessionName.trim(),sessionType:l.sessionType,type:l.sessionType===ls.STRENGTH?l.workoutType:l.sessionType,numExercises:l.sessionType===ls.STRENGTH&&parseInt(l.numExercises)||void 0,setsPerExercise:l.sessionType===ls.STRENGTH&&parseInt(l.setsPerExercise)||void 0};a(y),t()},p=()=>!(!l.date||l.sessionType!==ls.REST&&(!l.duration||parseFloat(l.duration)<=0)||l.sessionType===ls.STRENGTH&&(!l.numExercises||parseInt(l.numExercises)<=0||!l.setsPerExercise||parseInt(l.setsPerExercise)<=0));return r.jsx(Eh,{dateAdapter:cx,children:r.jsxs(An,{open:e,onClose:t,maxWidth:"sm",fullWidth:!0,children:[r.jsx(Un,{children:"Edit Activity"}),r.jsx(Pn,{children:r.jsxs(Re,{spacing:2,sx:{mt:1},children:[r.jsx(lh,{label:"Date",value:l.date,onChange:g=>d("date",g),slotProps:{textField:{fullWidth:!0}}}),r.jsxs(Vt,{fullWidth:!0,children:[r.jsx(Mn,{children:"Session Type"}),r.jsxs(qt,{value:l.sessionType,label:"Session Type",onChange:g=>d("sessionType",g.target.value),children:[r.jsx(We,{value:ls.STRENGTH,children:"Strength"}),r.jsx(We,{value:ls.CARDIO,children:"Cardio"}),r.jsx(We,{value:ls.YOGA,children:"Yoga"}),r.jsx(We,{value:ls.REST,children:"Rest Day"})]})]}),l.sessionType===ls.STRENGTH&&r.jsxs(Vt,{fullWidth:!0,children:[r.jsx(Mn,{children:"Workout Type"}),r.jsxs(qt,{value:l.workoutType,label:"Workout Type",onChange:g=>d("workoutType",g.target.value),children:[r.jsx(We,{value:Ca.FULL,children:"Full Body"}),r.jsx(We,{value:Ca.UPPER,children:"Upper Body"}),r.jsx(We,{value:Ca.PUSH,children:"Push"}),r.jsx(We,{value:Ca.PULL,children:"Pull"}),r.jsx(We,{value:Ca.LEGS,children:"Legs"}),r.jsx(We,{value:Ca.CORE,children:"Core"})]})]}),l.sessionType!==ls.REST&&r.jsx(ct,{fullWidth:!0,type:"number",label:"Duration (minutes)",placeholder:"e.g., 45",value:l.duration,onChange:g=>d("duration",g.target.value),variant:"outlined",inputProps:{min:0,step:1}}),l.sessionType===ls.STRENGTH&&r.jsxs(r.Fragment,{children:[r.jsx(ct,{fullWidth:!0,type:"number",label:"Number of Exercises",placeholder:"e.g., 6",value:l.numExercises,onChange:g=>d("numExercises",g.target.value),variant:"outlined",inputProps:{min:1,step:1}}),r.jsx(ct,{fullWidth:!0,type:"number",label:"Sets per Exercise",placeholder:"e.g., 3",value:l.setsPerExercise,onChange:g=>d("setsPerExercise",g.target.value),variant:"outlined",inputProps:{min:1,step:1}})]}),r.jsx(ct,{fullWidth:!0,label:"Session Name (optional)",placeholder:"e.g., Morning workout, Leg day, etc.",value:l.sessionName,onChange:g=>d("sessionName",g.target.value),variant:"outlined"}),r.jsx(ct,{fullWidth:!0,multiline:!0,rows:4,label:"Notes (optional)",placeholder:"Add any notes about your session...",value:l.notes,onChange:g=>d("notes",g.target.value),variant:"outlined"})]})}),r.jsxs(On,{children:[r.jsx(Ae,{onClick:t,children:"Cancel"}),r.jsx(Ae,{onClick:h,variant:"contained",disabled:!p(),children:"Save"})]})]})})};WD.propTypes={open:D.bool.isRequired,onClose:D.func.isRequired,activity:D.object,onSave:D.func.isRequired};const ux=x.memo(({onNavigate:e,loading:t=!1,workoutType:s,selectedEquipment:a,equipmentOptions:l,onWorkoutTypeChange:u,onEquipmentChange:d,onStartWorkout:h,onCustomize:p,onTabChange:g})=>{const[y,b]=x.useState(""),[v,S]=x.useState([]),[j,k]=x.useState([]),[w,T]=x.useState(!1),{weeklySchedule:E}=Na(),[M,W]=x.useState([2,2,2,2]),[O,R]=x.useState(!1),[_,N]=x.useState(!1),[I,V]=x.useState(null),[B,z]=x.useState({open:!1,message:"",severity:"success"});x.useEffect(()=>{const G={weekday:"short",month:"short",day:"numeric"};b(new Date().toLocaleDateString("en-US",G))},[]);const U=(()=>{const le=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date().getDay()];return E[le]})(),ae=async()=>{try{const G=await ni();k(G),S(G.slice(0,5))}catch(G){console.error("Error loading recent workouts:",G)}};x.useEffect(()=>{ae()},[]);const F=G=>{V(G),R(!0)},Y=G=>{V(G),N(!0)},ge=async()=>{try{await QR(I),z({open:!0,message:"Activity deleted successfully",severity:"success"}),N(!1),V(null),await ae()}catch(G){console.error("Error deleting activity:",G),z({open:!0,message:"Failed to delete activity",severity:"error"})}},pe=async G=>{try{await XR(I,G),z({open:!0,message:"Activity updated successfully",severity:"success"}),R(!1),V(null),await ae()}catch(le){console.error("Error updating activity:",le),z({open:!0,message:"Failed to update activity",severity:"error"})}},Me=G=>{const le=new Set(a);G==="all"?(le.clear(),le.add("all")):(le.has("all")&&le.delete("all"),le.has(G)?le.delete(G):le.add(G),le.size===0&&le.add("all")),d(le)},ve=()=>{if(a.has("all"))return"All Equipment";const G=Array.from(a);return G.length===0?"All Equipment":G.length===1?l.find($=>$.toLowerCase()===G[0])||G[0]:`${G.length} selected`},X=()=>{W([...M,2])},Z=G=>{if(M.length>1){const le=M.filter(($,he)=>he!==G);W(le)}},ce=(G,le)=>{const $=[...M],he=Math.max(1,Math.min(6,$[G]+le));$[G]=he,W($)},xe=()=>{if(s&&h){const G=a.has("all")?"all":Array.from(a);h(s,G,null,M)}},be=()=>{if(s&&p){const G=a.has("all")?"all":Array.from(a);p(s,G,M)}},re=()=>{if(!U)return;const G=(U.sessionType||"").toLowerCase();if(G.includes("rest")){T(!0);return}if(G.includes("cardio")||G.includes("hiit")||G.includes("yoga")||G.includes("mobility")||G.includes("stretch")){g&&g(1);return}if(["full","upper","lower","push","pull","legs","core"].includes(G)){u(G);const $=a.has("all")?"all":Array.from(a);U.exercises&&U.exercises.length>0?h(G,$,U.exercises,M):h(G,$,null,M)}};return r.jsxs(L,{children:[w&&r.jsx(Gy,{onClose:()=>T(!1)}),r.jsx(L,{sx:{mb:4,textAlign:"center"},children:r.jsxs(P,{variant:"h5",sx:{fontWeight:600,color:"text.secondary",fontSize:{xs:"1rem",sm:"1.25rem"},display:"flex",alignItems:"center",justifyContent:"center",gap:1,flexWrap:"wrap"},children:[r.jsx("span",{children:y}),U&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),r.jsx(ut,{label:`Suggested Session: ${U.sessionName||U.sessionType}`,color:"primary",variant:"outlined",size:"small",onClick:re,sx:{fontWeight:600,fontSize:{xs:"0.75rem",sm:"0.875rem"},cursor:"pointer","&:hover":{backgroundColor:"rgba(19, 70, 134, 0.08)"}}})]})]})}),r.jsx(et,{elevation:2,sx:{mb:3,borderRadius:3,background:"linear-gradient(135deg, rgba(237, 63, 39, 0.05) 0%, rgba(19, 70, 134, 0.05) 100%)"},children:r.jsxs(at,{sx:{p:{xs:2,sm:3}},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",mb:2},children:[r.jsx(cn,{sx:{color:"secondary.main",mr:1}}),r.jsx(P,{variant:"h6",sx:{color:"text.primary",fontWeight:600},children:"Start a Workout"})]}),r.jsxs(Re,{spacing:2,sx:{mb:3},children:[r.jsxs(Vt,{fullWidth:!0,size:"medium",children:[r.jsx(Mn,{id:"workout-type-label",children:"Workout Type"}),r.jsxs(qt,{labelId:"workout-type-label",value:s||"full",label:"Workout Type",onChange:G=>u(G.target.value),children:[r.jsx(We,{value:"full",children:"Full Body"}),r.jsx(We,{value:"upper",children:"Upper Body"}),r.jsx(We,{value:"lower",children:"Lower Body"}),r.jsx(We,{value:"push",children:"Push"}),r.jsx(We,{value:"pull",children:"Pull"}),r.jsx(We,{value:"legs",children:"Legs"}),r.jsx(We,{value:"core",children:"Core"})]})]}),r.jsxs(No,{sx:{boxShadow:"none",border:"1px solid rgba(0, 0, 0, 0.23)",borderRadius:"4px !important","&:before":{display:"none"},"&.Mui-expanded":{margin:0}},children:[r.jsx(Lo,{expandIcon:r.jsx(Da,{}),sx:{minHeight:"48px","&.Mui-expanded":{minHeight:"48px"},"& .MuiAccordionSummary-content":{margin:"12px 0","&.Mui-expanded":{margin:"12px 0"}}},children:r.jsxs(L,{sx:{display:"flex",flexDirection:"column",width:"100%"},children:[r.jsx(P,{variant:"caption",sx:{color:"text.primary",fontSize:"0.75rem",lineHeight:1,mb:.5},children:"Equipment"}),r.jsx(P,{sx:{color:"text.primary",fontSize:"1rem"},children:ve()})]})}),r.jsx(zo,{sx:{pt:0,pb:2},children:r.jsxs(Re,{spacing:1,children:[r.jsx(ut,{label:"All Equipment",onClick:()=>Me("all"),color:a.has("all")?"primary":"default",variant:a.has("all")?"filled":"outlined",sx:{justifyContent:"flex-start"}}),l.map(G=>r.jsx(ut,{label:G,onClick:()=>Me(G.toLowerCase()),color:a.has(G.toLowerCase())?"primary":"default",variant:a.has(G.toLowerCase())?"filled":"outlined",sx:{justifyContent:"flex-start"}},G))]})})]})]}),r.jsxs(No,{sx:{boxShadow:"none",border:"1px solid rgba(0, 0, 0, 0.12)",borderRadius:"4px !important","&:before":{display:"none"},mb:2},children:[r.jsx(Lo,{expandIcon:r.jsx(Da,{}),children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(L2,{sx:{fontSize:20}}),r.jsxs(P,{variant:"body2",sx:{fontWeight:600},children:["Superset Configuration (",M.length," supersets)"]})]})}),r.jsx(zo,{children:r.jsxs(Re,{spacing:2,children:[M.map((G,le)=>r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1,p:1.5,bgcolor:"action.hover",borderRadius:1},children:[r.jsxs(P,{variant:"body2",sx:{minWidth:"80px",fontWeight:500},children:["Superset ",le+1]}),r.jsxs(Re,{direction:"row",spacing:1,alignItems:"center",sx:{flex:1},children:[r.jsx(He,{size:"small",onClick:()=>ce(le,-1),disabled:G<=1,children:r.jsx(Oa,{fontSize:"small"})}),r.jsxs(P,{sx:{minWidth:"90px",textAlign:"center"},children:[G," exercises"]}),r.jsx(He,{size:"small",onClick:()=>ce(le,1),disabled:G>=6,children:r.jsx(gi,{fontSize:"small"})})]}),r.jsx(Gn,{title:"Remove superset",children:r.jsx(He,{size:"small",onClick:()=>Z(le),disabled:M.length<=1,color:"error",children:r.jsx(Oa,{fontSize:"small"})})})]},le)),r.jsx(Ae,{variant:"outlined",size:"small",startIcon:r.jsx(gi,{}),onClick:X,sx:{alignSelf:"flex-start"},children:"Add Superset"})]})})]}),r.jsx(yn,{sx:{my:2}}),r.jsxs(Re,{direction:"row",spacing:2,children:[r.jsx(Ae,{variant:"outlined",size:"large",fullWidth:!0,disabled:!s||t,onClick:be,startIcon:r.jsx(Tr,{}),sx:{minHeight:rh.navigation,fontSize:{xs:"0.95rem",sm:"1rem"},fontWeight:600,borderWidth:2,"&:hover":{borderWidth:2}},children:"Customize"}),r.jsx(Ae,{variant:"contained",size:"large",fullWidth:!0,disabled:!s||t,onClick:xe,startIcon:r.jsx(Js,{}),sx:{minHeight:rh.navigation,fontSize:{xs:"0.95rem",sm:"1rem"},fontWeight:600,backgroundColor:"primary.main","&:hover":{backgroundColor:"primary.dark"}},children:"Generate"})]})]})}),r.jsx(Yy,{onStartWorkout:h}),r.jsx(L,{sx:{mb:3},children:r.jsx(Lj,{workoutHistory:j})}),v.length>0&&r.jsxs(L,{sx:{mb:3},children:[r.jsxs(Re,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[r.jsxs(P,{variant:"h6",sx:{fontWeight:600,color:"text.primary",display:"flex",alignItems:"center",gap:1},children:[r.jsx(Aa,{})," Recent Activity"]}),r.jsx(Ae,{size:"small",onClick:()=>e("progress"),sx:{color:"primary.main"},children:"View All"})]}),r.jsx($y,{activities:v,onEdit:F,onDelete:Y,maxVisible:5,showLoadMore:!1})]}),r.jsx(WD,{open:O,onClose:()=>{R(!1),V(null)},activity:I!==null?v[I]:null,onSave:pe}),r.jsxs(An,{open:_,onClose:()=>{N(!1),V(null)},children:[r.jsx(Un,{children:"Delete Activity?"}),r.jsx(Pn,{children:r.jsx(Ng,{children:"Are you sure you want to delete this activity? This action cannot be undone."})}),r.jsxs(On,{children:[r.jsx(Ae,{onClick:()=>{N(!1),V(null)},children:"Cancel"}),r.jsx(Ae,{onClick:ge,color:"error",variant:"contained",children:"Delete"})]})]}),r.jsx(Fs,{open:B.open,autoHideDuration:6e3,onClose:()=>z({...B,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(Ft,{onClose:()=>z({...B,open:!1}),severity:B.severity,sx:{width:"100%"},children:B.message})})]})});ux.displayName="WorkoutTab";ux.propTypes={onNavigate:D.func,loading:D.bool,workoutType:D.string,selectedEquipment:D.instanceOf(Set),equipmentOptions:D.array,onWorkoutTypeChange:D.func,onEquipmentChange:D.func,onStartWorkout:D.func,onCustomize:D.func,onTabChange:D.func};const N1=3,$F=8,_h="/goodlift/data/exercises.json",KF="/goodlift/data/hiit-exercises.json",jd={UPPER_BODY:["Chest","Upper Chest","Lower Chest","Inner Chest","Back","Lats","Upper Back","Lower Back","Delts","Front Delts","Rear Delts","Side Delts","Biceps","Triceps","Forearms","Traps"],LOWER_BODY:["Quads","Hamstrings","Glutes","Calves","Hip Flexors"]},Ta={UPPER_BODY:{DUMBBELL:2.5,BARBELL:5},LOWER_BODY:{DUMBBELL:10,BARBELL:5}},QF={MILLISECONDS_PER_DAY:864e5},ND=({value:e,onChange:t,availableExercises:s,label:a="Exercise",placeholder:l="Type to search exercises...",size:u="small",fullWidth:d=!0,disabled:h=!1,sx:p={}})=>{const g=y=>{if(!y)return s;const b=y.toLowerCase().split(" ").filter(v=>v.length>0);return s.filter(v=>{const S=[v.name,v.muscleGroup].join(" ").toLowerCase();return b.every(j=>S.includes(j))})};return r.jsx(RC,{fullWidth:d,size:u,options:s,value:e,onChange:t,disabled:h,getOptionLabel:y=>typeof y=="string"?y:y?.name||"",filterOptions:(y,b)=>g(b.inputValue),isOptionEqualToValue:(y,b)=>typeof y=="string"&&typeof b=="string"?y===b:y?.name===b?.name,freeSolo:!0,renderInput:y=>r.jsx(ct,{...y,label:a,placeholder:l}),renderOption:(y,b)=>{const{key:v,...S}=y;return r.jsx("li",{...S,children:r.jsxs(L,{children:[r.jsx(P,{variant:"body2",children:b.name}),r.jsx(P,{variant:"caption",color:"text.secondary",children:b.muscleGroup})]})},v)},noOptionsText:"No exercises found. Try different search terms.",sx:p})};ND.propTypes={value:D.oneOfType([D.object,D.string]),onChange:D.func.isRequired,availableExercises:D.array.isRequired,label:D.string,placeholder:D.string,size:D.string,fullWidth:D.bool,disabled:D.bool,sx:D.object};const Je={HIIT:"hiit",FLOW:"flow",CARDIO:"cardio"},L1=[{name:"Mountain Pose (Tadasana)",defaultDuration:30},{name:"Downward Dog (Adho Mukha Svanasana)",defaultDuration:60},{name:"Warrior I (Virabhadrasana I)",defaultDuration:45},{name:"Warrior II (Virabhadrasana II)",defaultDuration:45},{name:"Triangle Pose (Trikonasana)",defaultDuration:45},{name:"Tree Pose (Vrksasana)",defaultDuration:30},{name:"Child's Pose (Balasana)",defaultDuration:60},{name:"Cat-Cow Pose",defaultDuration:60},{name:"Seated Forward Bend (Paschimottanasana)",defaultDuration:60},{name:"Cobra Pose (Bhujangasana)",defaultDuration:30},{name:"Plank Pose",defaultDuration:30},{name:"Bridge Pose (Setu Bandhasana)",defaultDuration:45}],dx=({onNavigate:e,hideBackButton:t=!1})=>{const[s,a]=x.useState(Je.CARDIO),[l,u]=x.useState(!0),[d,h]=x.useState(!1),[p,g]=x.useState(!1),[y,b]=x.useState(1200),[v,S]=x.useState(1200),[j,k]=x.useState(30),[w,T]=x.useState(15),[E,M]=x.useState(8),[W,O]=x.useState(1),[R,_]=x.useState(1),[N,I]=x.useState(1),[V,B]=x.useState(!0),[z,ue]=x.useState(10),[U,ae]=x.useState(0),[F,Y]=x.useState(""),[ge,pe]=x.useState([]),[Me,ve]=x.useState({prep:"Get Ready",recovery:"Set Break"}),[X,Z]=x.useState(!1),[ce,xe]=x.useState(!1),[be,re]=x.useState([]),[G,le]=x.useState(0),[$,he]=x.useState(45),[Te,Oe]=x.useState(20),[me,te]=x.useState([]),[ee,Ie]=x.useState([]),[Ge,Pe]=x.useState(!1),[ie,we]=x.useState(""),[q,fe]=x.useState(null),[ye,Ee]=x.useState(!1),[_e,Le]=x.useState([]),[Ze,Be]=x.useState(!1),[$e,Fe]=x.useState(5),[dt,pt]=x.useState(""),Ye=x.useRef(null),ht=x.useRef(!1);x.useEffect(()=>{(async()=>{try{const je=await dc(),Ne=await hc();te(je),Ie(Ne)}catch(je){console.error("Error loading presets:",je)}})()},[]),x.useEffect(()=>{(async()=>{try{const Ne=await(await fetch(KF)).json();Le(Ne)}catch(je){console.error("Error loading HIIT exercises:",je),Le([])}})()},[]),x.useEffect(()=>()=>{Ye.current&&clearInterval(Ye.current)},[]);const kt=x.useCallback(()=>{h(!1),clearInterval(Ye.current),It.playCompletionFanfare(),Be(!0)},[]);x.useEffect(()=>(d&&!p?Ye.current=setInterval(()=>{b(Ce=>(Ce===3||Ce===2?(It.playBeep(800,150),ht.current=!0):Ce===1&&It.playBeep(600,300),Ce<=1?s===Je.HIIT?X?(Z(!1),B(!0),It.playHighBeep(),ht.current=!1,j):ce?(xe(!1),_(R+1),I(1),B(!0),It.playHighBeep(),ht.current=!1,j):V?(B(!1),It.playLowBeep(),ht.current=!1,w):N<E?(I(N+1),B(!0),It.playHighBeep(),ht.current=!1,j):R<W?U>0?(xe(!0),It.playTransitionBeep(),ht.current=!1,U):(_(R+1),I(1),B(!0),It.playHighBeep(),ht.current=!1,j):(kt(),0):s===Je.FLOW&&G<be.length-1?(le(G+1),It.playTransitionBeep(),ht.current=!1,be[G+1].duration):(kt(),0):Ce-1))},1e3):Ye.current&&clearInterval(Ye.current),()=>{Ye.current&&clearInterval(Ye.current)}),[d,p,s,V,X,ce,N,R,E,W,G,be,j,w,U,kt]);const mt=()=>{if(l){if(s===Je.HIIT){const Ce=E*(j+w),je=W>1&&U>0?(W-1)*U:0;S(z+W*Ce+je),z>0?(b(z),Z(!0),B(!1)):(b(j),Z(!1),B(!0)),_(1),I(1),xe(!1)}else if(s===Je.FLOW){const Ce=be.reduce((je,Ne)=>je+Ne.duration,0);S(Ce),b(be[0]?.duration||45),le(0)}else{const Ce=Te*60;S(Ce),b(Ce)}u(!1)}h(!0),g(!1),ht.current=!1},hn=()=>{g(!p)},Sn=()=>{h(!1),g(!1),u(!0),ht.current=!1},wn=()=>{Sn(),_(1),I(1),B(!0),Z(!1),xe(!1),le(0)},Ts=(Ce,je)=>{je!==null&&(a(je),wn())},Nn=Ce=>{re([...be,{...Ce,duration:$}])},Us=Ce=>{re(be.filter((je,Ne)=>Ne!==Ce))},Xi=()=>{s===Je.HIIT?(X?(Z(!1),B(!0),b(j)):V?(B(!1),b(w)):ce?(xe(!1),_(R+1),I(1),B(!0),b(j)):N<E?(I(N+1),B(!0),b(j)):R<W&&(U>0?(xe(!0),b(U)):(_(R+1),I(1),B(!0),b(j))),It.playTransitionBeep()):s===Je.FLOW&&G<be.length-1&&(le(G+1),b(be[G+1].duration),It.playTransitionBeep())},Zi=()=>{s===Je.HIIT?(V&&N>1?(B(!1),I(N-1),b(w)):V&&N===1&&R>1?U>0?(xe(!0),_(R-1),I(E),b(U)):(_(R-1),I(E),B(!1),b(w)):!V&&!X&&!ce?(B(!0),b(j)):ce&&(xe(!1),B(!1),b(w)),It.playTransitionBeep()):s===Je.FLOW&&G>0&&(le(G-1),b(be[G-1].duration),It.playTransitionBeep())},au=async()=>{try{if(!ie.trim()){alert("Please enter a preset name");return}if(s===Je.FLOW){const Ce={id:q?.id,name:ie,poses:be,defaultDuration:$};await c_(Ce);const je=await dc();te(je)}else if(s===Je.HIIT){const Ce={id:q?.id,name:ie,workInterval:j,restInterval:w,roundsPerSet:E,numberOfSets:W,preparationInterval:z,recoveryBetweenSets:U,sessionName:F,workIntervalNames:ge,intervalNames:Me};await d_(Ce);const je=await hc();Ie(je)}Pe(!1),we(""),fe(null)}catch(Ce){console.error("Error saving preset:",Ce),alert("Failed to save preset")}},en=Ce=>{s===Je.FLOW?(re(Ce.poses||[]),he(Ce.defaultDuration||45)):s===Je.HIIT&&(k(Ce.workInterval||30),T(Ce.restInterval||15),Ce.rounds!==void 0&&Ce.roundsPerSet===void 0?(M(Ce.rounds),O(1)):(M(Ce.roundsPerSet||8),O(Ce.numberOfSets||1)),ue(Ce.preparationInterval||10),Ce.recoveryInterval!==void 0&&Ce.recoveryBetweenSets===void 0?ae(Ce.recoveryInterval||0):ae(Ce.recoveryBetweenSets||0),Y(Ce.sessionName||""),pe(Ce.workIntervalNames||[]),ve(Ce.intervalNames||{prep:"Get Ready",recovery:"Set Break"}))},Kn=async Ce=>{try{if(s===Je.FLOW){await u_(Ce);const je=await dc();te(je)}else if(s===Je.HIIT){await h_(Ce);const je=await hc();Ie(je)}}catch(je){console.error("Error deleting preset:",je),alert("Failed to delete preset")}},si=async()=>{try{const Ce={date:Date.now(),type:s===Je.HIIT?"hiit":s===Je.FLOW?"yoga":"cardio",duration:Math.floor(v/60),perceivedEffort:$e,notes:dt,exercises:{}};await ny(Ce);const je=await Yc();je.totalWorkouts+=1,je.totalTime+=v,await sy(je),Be(!1),wn(),e&&setTimeout(()=>e("selection"),500)}catch(Ce){console.error("Error saving session:",Ce)}},qh=Ce=>{const je=Math.floor(Ce/60),Ne=Ce%60;return`${je}:${Ne.toString().padStart(2,"0")}`},ru=(()=>{if(s===Je.HIIT){const Ce=W*E,Ne=((R-1)*E+(N-1))/Ce*100,yt=V?(j-y)/j:(w-y)/w;return Ne+yt*(100/Ce)}else return(v-y)/v*100})(),Wr=120,Va=2*Math.PI*Wr,rl=Va-ru/100*Va;return r.jsx(L,{sx:{width:"100%",minHeight:"100vh",p:3,bgcolor:"background.default"},children:r.jsxs(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},style:{maxWidth:"800px",margin:"0 auto"},children:[!t&&r.jsx(L,{sx:{mb:2},children:r.jsx(Ae,{startIcon:r.jsx(Lg,{}),onClick:()=>e("home"),sx:{color:"text.secondary"},children:"Back to Work Home"})}),l&&r.jsx(et,{sx:{borderRadius:3,mb:3},children:r.jsxs(at,{children:[r.jsx(P,{variant:"h6",sx:{mb:2,textAlign:"center"},children:"Select Mode"}),r.jsxs(Vd,{value:s,exclusive:!0,onChange:Ts,fullWidth:!0,sx:{mb:3},children:[r.jsx(Zs,{value:Je.HIIT,sx:{py:2},children:r.jsxs(Re,{alignItems:"center",spacing:1,children:[r.jsx(cn,{}),r.jsx(P,{variant:"body2",children:"HIIT"})]})}),r.jsx(Zs,{value:Je.FLOW,sx:{py:2},children:r.jsxs(Re,{alignItems:"center",spacing:1,children:[r.jsx(ti,{}),r.jsx(P,{variant:"body2",children:"Yoga"})]})}),r.jsx(Zs,{value:Je.CARDIO,sx:{py:2},children:r.jsxs(Re,{alignItems:"center",spacing:1,children:[r.jsx(mi,{}),r.jsx(P,{variant:"body2",children:"Cardio"})]})})]}),s===Je.HIIT&&r.jsxs(Re,{spacing:3,children:[r.jsxs(Re,{direction:"row",spacing:2,alignItems:"center",children:[r.jsx(P,{variant:"subtitle1",sx:{fontWeight:600,flex:1},children:"HIIT Configuration"}),r.jsx(Ae,{size:"small",startIcon:r.jsx(gr,{}),onClick:()=>{we(""),fe(null),Pe(!0)},children:"Save Preset"})]}),ee.length>0&&r.jsxs(L,{children:[r.jsxs(Re,{direction:"row",spacing:1,alignItems:"center",sx:{mb:1},children:[r.jsx(P,{variant:"subtitle2",sx:{flex:1},children:"Saved Presets"}),r.jsx(Ae,{size:"small",startIcon:ye?r.jsx(gr,{}):r.jsx(Tr,{}),onClick:()=>Ee(!ye),children:ye?"Done":"Manage"})]}),r.jsx(Re,{direction:"row",spacing:1,flexWrap:"wrap",useFlexGap:!0,children:ee.map(Ce=>r.jsxs(L,{sx:{position:"relative",display:"inline-block"},children:[r.jsx(ut,{label:Ce.name,onClick:()=>!ye&&en(Ce),color:"primary",variant:"outlined",sx:{mb:1,cursor:ye?"default":"pointer",opacity:ye?.7:1}}),ye&&r.jsx(He,{size:"small",onClick:()=>Kn(Ce.id),sx:{position:"absolute",top:-8,right:-8,bgcolor:"error.main",color:"white",width:20,height:20,"&:hover":{bgcolor:"error.dark"}},children:r.jsx(qo,{sx:{fontSize:14}})})]},Ce.id))})]}),r.jsx(ct,{label:"Session Name (optional)",value:F,onChange:Ce=>Y(Ce.target.value),fullWidth:!0,placeholder:"e.g., Morning HIIT, Tabata Workout"}),r.jsx(ct,{label:"Preparation Interval (seconds)",type:"number",value:z??"",onChange:Ce=>{const je=Ce.target.value;if(je===""||je===null)ue("");else{const Ne=parseInt(je);ue(isNaN(Ne)?"":Ne)}},onBlur:Ce=>{const je=Ce.target.value;if(je===""||je===null)ue(10);else{const Ne=parseInt(je);ue(Math.max(0,Math.min(60,isNaN(Ne)?10:Ne)))}},inputProps:{min:0,max:60,inputMode:"numeric"},fullWidth:!0,helperText:"Time to get ready before the workout starts"}),r.jsx(ct,{label:"Work Interval (seconds)",type:"number",value:j??"",onChange:Ce=>{const je=Ce.target.value;if(je===""||je===null)k("");else{const Ne=parseInt(je);k(isNaN(Ne)?"":Ne)}},onBlur:Ce=>{const je=Ce.target.value;if(je===""||je===null)k(30);else{const Ne=parseInt(je);k(Math.max(5,Math.min(300,isNaN(Ne)?30:Ne)))}},inputProps:{min:5,max:300,inputMode:"numeric"},fullWidth:!0}),r.jsx(ct,{label:"Rest Interval (seconds)",type:"number",value:w??"",onChange:Ce=>{const je=Ce.target.value;if(je===""||je===null)T("");else{const Ne=parseInt(je);T(isNaN(Ne)?"":Ne)}},onBlur:Ce=>{const je=Ce.target.value;if(je===""||je===null)T(15);else{const Ne=parseInt(je);T(Math.max(5,Math.min(300,isNaN(Ne)?15:Ne)))}},inputProps:{min:5,max:300,inputMode:"numeric"},fullWidth:!0}),r.jsx(ct,{label:"Rounds per Set",type:"number",value:E??"",onChange:Ce=>{const je=Ce.target.value;if(je===""||je===null)M("");else{const Ne=parseInt(je),yt=isNaN(Ne)?"":Ne;M(yt),yt!==""&&yt>0&&pe(tn=>{const ts=[...tn];for(;ts.length<yt;)ts.push("");return ts.slice(0,yt)})}},onBlur:Ce=>{const je=Ce.target.value;if(je===""||je===null)M(8),pe(Ne=>{const yt=[...Ne];for(;yt.length<8;)yt.push("");return yt.slice(0,8)});else{const Ne=parseInt(je),yt=Math.max(1,Math.min(50,isNaN(Ne)?8:Ne));M(yt),pe(tn=>{const ts=[...tn];for(;ts.length<yt;)ts.push("");return ts.slice(0,yt)})}},inputProps:{min:1,max:50,inputMode:"numeric"},fullWidth:!0,helperText:"Number of work/rest cycles in each set"}),r.jsx(ct,{label:"Number of Sets",type:"number",value:W??"",onChange:Ce=>{const je=Ce.target.value;if(je===""||je===null)O("");else{const Ne=parseInt(je);O(isNaN(Ne)?"":Ne)}},onBlur:Ce=>{const je=Ce.target.value;if(je===""||je===null)O(1);else{const Ne=parseInt(je);O(Math.max(1,Math.min(10,isNaN(Ne)?1:Ne)))}},inputProps:{min:1,max:10,inputMode:"numeric"},fullWidth:!0,helperText:"Number of sets to perform (exercises repeat for each set)"}),r.jsxs(L,{children:[r.jsx(P,{variant:"subtitle2",gutterBottom:!0,children:"Exercise Names per Round (optional)"}),r.jsx(P,{variant:"body2",color:"text.secondary",sx:{mb:2},children:`Name each round's exercise. These will repeat for all sets. Leave blank to use "work" as default.`}),r.jsx(Re,{spacing:1.5,children:Array.from({length:E||0}).map((Ce,je)=>r.jsx(ND,{label:`Round ${je+1} Exercise`,value:ge[je]||"",onChange:(Ne,yt)=>{const tn=[...ge];typeof yt=="string"?tn[je]=yt:yt&&yt.name?tn[je]=yt.name:tn[je]="",pe(tn)},availableExercises:_e,placeholder:"e.g., push-ups, burpees, jumping jacks",size:"small",fullWidth:!0},je))})]}),W>1&&r.jsx(ct,{label:"Set Break Duration (seconds, 0 to disable)",type:"number",value:U??"",onChange:Ce=>{const je=Ce.target.value;if(je===""||je===null)ae("");else{const Ne=parseInt(je);ae(isNaN(Ne)?"":Ne)}},onBlur:Ce=>{const je=Ce.target.value;if(je===""||je===null)ae(0);else{const Ne=parseInt(je);ae(Math.max(0,Math.min(300,isNaN(Ne)?0:Ne)))}},inputProps:{min:0,max:300,inputMode:"numeric"},fullWidth:!0,helperText:"Rest period between sets"}),r.jsxs(P,{variant:"body2",color:"text.secondary",children:["Total Duration: ",Math.floor((z+W*E*(j+w)+(W>1&&U>0?(W-1)*U:0))/60)," minutes"]})]}),s===Je.FLOW&&r.jsxs(Re,{spacing:3,children:[r.jsxs(Re,{direction:"row",spacing:2,alignItems:"center",children:[r.jsx(P,{variant:"subtitle1",sx:{fontWeight:600,flex:1},children:"Yoga Configuration"}),r.jsx(Ae,{size:"small",startIcon:r.jsx(gr,{}),onClick:()=>{we(""),fe(null),Pe(!0)},disabled:be.length===0,children:"Save Preset"})]}),me.length>0&&r.jsxs(L,{children:[r.jsxs(Re,{direction:"row",spacing:1,alignItems:"center",sx:{mb:1},children:[r.jsx(P,{variant:"subtitle2",sx:{flex:1},children:"Saved Presets"}),r.jsx(Ae,{size:"small",startIcon:ye?r.jsx(gr,{}):r.jsx(Tr,{}),onClick:()=>Ee(!ye),children:ye?"Done":"Manage"})]}),r.jsx(Re,{direction:"row",spacing:1,flexWrap:"wrap",useFlexGap:!0,children:me.map(Ce=>r.jsxs(L,{sx:{position:"relative",display:"inline-block"},children:[r.jsx(ut,{label:Ce.name,onClick:()=>!ye&&en(Ce),color:"primary",variant:"outlined",icon:r.jsx(z2,{}),sx:{mb:1,cursor:ye?"default":"pointer",opacity:ye?.7:1}}),ye&&r.jsx(He,{size:"small",onClick:()=>Kn(Ce.id),sx:{position:"absolute",top:-8,right:-8,bgcolor:"error.main",color:"white",width:20,height:20,"&:hover":{bgcolor:"error.dark"}},children:r.jsx(qo,{sx:{fontSize:14}})})]},Ce.id))})]}),r.jsx(ct,{label:"Hold Duration per Pose (seconds)",type:"number",value:$??"",onChange:Ce=>{const je=Ce.target.value;if(je===""||je===null)he("");else{const Ne=parseInt(je);he(isNaN(Ne)?"":Ne)}},onBlur:Ce=>{const je=Ce.target.value;if(je===""||je===null)he(45);else{const Ne=parseInt(je);he(Math.max(15,Math.min(300,isNaN(Ne)?45:Ne)))}},inputProps:{min:15,max:300,inputMode:"numeric"},fullWidth:!0}),r.jsxs(P,{variant:"subtitle2",children:["Selected Poses (",be.length,")"]}),be.length>0&&r.jsx(Re,{spacing:1,children:be.map((Ce,je)=>r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:1.5,bgcolor:"background.paper",borderRadius:1},children:[r.jsx(P,{variant:"body2",children:Ce.name}),r.jsxs(Re,{direction:"row",spacing:1,alignItems:"center",children:[r.jsxs(P,{variant:"caption",color:"text.secondary",children:[Ce.duration,"s"]}),r.jsx(He,{size:"small",onClick:()=>Us(je),sx:{color:"error.main"},children:r.jsx(Oa,{fontSize:"small"})})]})]},je))}),r.jsxs(Vt,{fullWidth:!0,children:[r.jsx(Mn,{children:"Add Pose"}),r.jsx(qt,{value:"",label:"Add Pose",onChange:Ce=>{const je=L1.find(Ne=>Ne.name===Ce.target.value);je&&Nn(je)},children:L1.map(Ce=>r.jsx(We,{value:Ce.name,children:Ce.name},Ce.name))})]}),be.length>0&&r.jsxs(P,{variant:"body2",color:"text.secondary",children:["Total Duration: ",Math.floor(be.reduce((Ce,je)=>Ce+je.duration,0)/60)," minutes ",be.reduce((Ce,je)=>Ce+je.duration,0)%60," seconds"]})]}),s===Je.CARDIO&&r.jsxs(Re,{spacing:3,children:[r.jsx(P,{variant:"subtitle1",sx:{fontWeight:600},children:"Cardio Configuration"}),r.jsx(ct,{label:"Duration (minutes)",type:"number",value:Te??"",onChange:Ce=>{const je=Ce.target.value;if(je===""||je===null)Oe("");else{const Ne=parseInt(je);Oe(isNaN(Ne)?"":Ne)}},onBlur:Ce=>{const je=Ce.target.value;if(je===""||je===null)Oe(20);else{const Ne=parseInt(je);Oe(Math.max(1,Math.min(240,isNaN(Ne)?20:Ne)))}},inputProps:{min:1,max:240,inputMode:"numeric"},fullWidth:!0})]})]})}),!l&&r.jsx(et,{sx:{borderRadius:3,mb:3},children:r.jsxs(at,{sx:{p:4},children:[r.jsx(Re,{direction:"row",justifyContent:"center",sx:{mb:3},children:r.jsx(ut,{label:s===Je.HIIT?"HIIT":s===Je.FLOW?"Yoga":"Cardio",color:"primary",size:"medium"})}),r.jsxs(L,{sx:{textAlign:"center",mb:3,position:"relative",display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},children:[s!==Je.HIIT&&r.jsxs("svg",{width:"280",height:"280",style:{transform:"rotate(-90deg)"},children:[r.jsx("circle",{cx:"140",cy:"140",r:Wr,stroke:"#e0e0e0",strokeWidth:"12",fill:"none"}),r.jsx("circle",{cx:"140",cy:"140",r:Wr,stroke:"#1976d2",strokeWidth:"12",fill:"none",strokeDasharray:Va,strokeDashoffset:rl,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0.5s ease"}})]}),r.jsxs(L,{sx:{position:s!==Je.HIIT?"absolute":"relative",top:s!==Je.HIIT?"50%":"auto",left:s!==Je.HIIT?"50%":"auto",transform:s!==Je.HIIT?"translate(-50%, -50%)":"none",textAlign:"center",width:"100%"},children:[r.jsx(P,{variant:"h1",sx:{fontSize:s===Je.HIIT?{xs:"clamp(3rem, 15vw, 8rem)",sm:"clamp(5rem, 20vw, 10rem)",md:"12rem"}:"4rem",fontWeight:700,color:s===Je.HIIT&&V?"success.main":s===Je.HIIT&&(X||ce)?"warning.main":s===Je.HIIT&&!V?"error.main":"primary.main",fontFamily:"monospace",lineHeight:1},children:qh(y)}),s===Je.HIIT&&r.jsxs(r.Fragment,{children:[r.jsx(P,{variant:"h6",sx:{mt:2,fontWeight:600,fontSize:{xs:"1.5rem",sm:"2rem",md:"2.5rem"}},children:X?Me.prep:ce?Me.recovery:V?ge[N-1]||"work":"rest"}),X&&r.jsxs(P,{variant:"body2",color:"text.secondary",sx:{mt:1,fontSize:{xs:"1rem",sm:"1.2rem"}},children:["Up Next: ",ge[0]||"work"]}),ce&&r.jsxs(P,{variant:"body2",color:"text.secondary",sx:{mt:1,fontSize:{xs:"1rem",sm:"1.2rem"}},children:["Up Next (Set ",R+1,"): ",ge[0]||"work"]}),!X&&!ce&&!V&&N<E&&r.jsxs(P,{variant:"body2",color:"text.secondary",sx:{mt:1,fontSize:{xs:"1rem",sm:"1.2rem"}},children:["Up Next: ",ge[N]||"work"]}),!X&&!ce&&r.jsxs(r.Fragment,{children:[r.jsxs(P,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"1rem",sm:"1.2rem"}},children:["Round ",N," / ",E]}),W>1&&r.jsxs(P,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"1rem",sm:"1.2rem"}},children:["Set ",R," / ",W]})]}),F&&r.jsx(P,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:1,fontSize:{xs:"0.9rem",sm:"1rem"}},children:F})]}),s===Je.FLOW&&be[G]&&r.jsx(P,{variant:"h6",sx:{mt:1,fontWeight:600,maxWidth:"200px"},children:be[G].name})]})]}),s===Je.FLOW&&be[G]&&r.jsx(L,{sx:{mb:3,textAlign:"center"},children:r.jsxs(P,{variant:"body2",color:"text.secondary",children:["Pose ",G+1," of ",be.length]})}),r.jsx(Re,{direction:"row",spacing:2,justifyContent:"center",flexWrap:"wrap",children:d?r.jsxs(r.Fragment,{children:[(s===Je.HIIT||s===Je.FLOW)&&r.jsx(He,{size:"large",onClick:Zi,color:"primary",sx:{width:56,height:56},disabled:s===Je.HIIT&&X||s===Je.FLOW&&G===0,children:r.jsx(_C,{sx:{fontSize:36}})}),r.jsx(He,{size:"large",onClick:hn,color:p?"success":"warning",sx:{width:64,height:64},children:p?r.jsx(Js,{sx:{fontSize:40}}):r.jsx(zg,{sx:{fontSize:40}})}),r.jsx(He,{size:"large",onClick:Sn,color:"error",sx:{width:64,height:64},children:r.jsx(IC,{sx:{fontSize:40}})}),r.jsx(He,{size:"large",onClick:wn,color:"primary",sx:{width:64,height:64},children:r.jsx(B2,{sx:{fontSize:40}})}),(s===Je.HIIT||s===Je.FLOW)&&r.jsx(He,{size:"large",onClick:Xi,color:"primary",sx:{width:56,height:56},disabled:s===Je.HIIT&&!X&&!ce&&!V&&N>=E&&R>=W||s===Je.FLOW&&G>=be.length-1,children:r.jsx(mh,{sx:{fontSize:36}})})]}):r.jsx(Ae,{variant:"contained",size:"large",startIcon:r.jsx(Js,{}),onClick:mt,sx:{px:4,py:1.5},disabled:s===Je.FLOW&&be.length===0,children:"Start"})})]})}),l&&r.jsx(Ae,{variant:"contained",size:"large",fullWidth:!0,onClick:mt,disabled:s===Je.FLOW&&be.length===0,sx:{mb:2,py:2},children:s===Je.FLOW&&be.length===0?"Add at least one pose to start":"Start Session"}),e&&!t&&r.jsx(Ae,{variant:"outlined",fullWidth:!0,onClick:()=>e("selection"),sx:{mt:2},children:"Back to Home"}),r.jsxs(An,{open:Ze,onClose:()=>Be(!1),maxWidth:"sm",fullWidth:!0,children:[r.jsx(Un,{children:"Session Complete! "}),r.jsx(Pn,{children:r.jsxs(Re,{spacing:3,sx:{mt:2},children:[r.jsx(P,{variant:"body1",children:"Great work! How would you rate this session?"}),r.jsxs(L,{children:[r.jsx(P,{variant:"subtitle2",gutterBottom:!0,children:"Perceived Effort (1-10)"}),r.jsx(WC,{value:$e,onChange:(Ce,je)=>Fe(je),min:1,max:10,marks:!0,valueLabelDisplay:"on",sx:{mt:2}})]}),r.jsx(ct,{label:"Notes (optional)",multiline:!0,rows:3,value:dt,onChange:Ce=>pt(Ce.target.value),fullWidth:!0}),r.jsxs(L,{sx:{p:2,bgcolor:"background.default",borderRadius:1},children:[r.jsxs(P,{variant:"body2",color:"text.secondary",children:["Type: ",s===Je.HIIT?"HIIT":s===Je.FLOW?"Yoga":"Cardio"]}),r.jsxs(P,{variant:"body2",color:"text.secondary",children:["Duration: ",Math.floor(v/60)," minutes"]})]})]})}),r.jsxs(On,{children:[r.jsx(Ae,{onClick:()=>Be(!1),children:"Skip"}),r.jsx(Ae,{variant:"contained",onClick:si,children:"Save & Sync"})]})]}),r.jsxs(An,{open:Ge,onClose:()=>{Pe(!1),we(""),fe(null)},maxWidth:"sm",fullWidth:!0,children:[r.jsxs(Un,{children:["Save ",s===Je.FLOW?"Yoga":"HIIT"," Preset"]}),r.jsx(Pn,{children:r.jsxs(Re,{spacing:2,sx:{mt:2},children:[r.jsx(ct,{label:"Preset Name",value:ie,onChange:Ce=>we(Ce.target.value),fullWidth:!0,autoFocus:!0,placeholder:s===Je.FLOW?"e.g., Morning Flow, Evening Stretch":"e.g., Tabata, Circuit Training"}),r.jsx(P,{variant:"body2",color:"text.secondary",children:s===Je.FLOW?`This will save your current pose sequence (${be.length} poses)`:"This will save your current interval configuration"})]})}),r.jsxs(On,{children:[r.jsx(Ae,{onClick:()=>{Pe(!1),we(""),fe(null)},children:"Cancel"}),r.jsx(Ae,{variant:"contained",onClick:au,disabled:!ie.trim(),children:"Save Preset"})]})]})]})})};dx.propTypes={onNavigate:D.func,hideBackButton:D.bool};const LD=({onNavigate:e})=>r.jsx(L,{children:r.jsx(dx,{onNavigate:e,hideBackButton:!0})});LD.propTypes={onNavigate:D.func};var XF=function(t){return ZF(t)&&!JF(t)};function ZF(e){return!!e&&typeof e=="object"}function JF(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||n4(e)}var e4=typeof Symbol=="function"&&Symbol.for,t4=e4?Symbol.for("react.element"):60103;function n4(e){return e.$$typeof===t4}function s4(e){return Array.isArray(e)?[]:{}}function ch(e,t){return t.clone!==!1&&t.isMergeableObject(e)?Nc(s4(e),e,t):e}function i4(e,t,s){return e.concat(t).map(function(a){return ch(a,s)})}function a4(e,t,s){var a={};return s.isMergeableObject(e)&&Object.keys(e).forEach(function(l){a[l]=ch(e[l],s)}),Object.keys(t).forEach(function(l){!s.isMergeableObject(t[l])||!e[l]?a[l]=ch(t[l],s):a[l]=Nc(e[l],t[l],s)}),a}function Nc(e,t,s){s=s||{},s.arrayMerge=s.arrayMerge||i4,s.isMergeableObject=s.isMergeableObject||XF;var a=Array.isArray(t),l=Array.isArray(e),u=a===l;return u?a?s.arrayMerge(e,t,s):a4(e,t,s):ch(t,s)}Nc.all=function(t,s){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(a,l){return Nc(a,l,s)},{})};var xg=Nc,zD=typeof global=="object"&&global&&global.Object===Object&&global,r4=typeof self=="object"&&self&&self.Object===Object&&self,xi=zD||r4||Function("return this")(),Ia=xi.Symbol,BD=Object.prototype,o4=BD.hasOwnProperty,l4=BD.toString,ac=Ia?Ia.toStringTag:void 0;function c4(e){var t=o4.call(e,ac),s=e[ac];try{e[ac]=void 0;var a=!0}catch{}var l=l4.call(e);return a&&(t?e[ac]=s:delete e[ac]),l}var u4=Object.prototype,d4=u4.toString;function h4(e){return d4.call(e)}var f4="[object Null]",p4="[object Undefined]",z1=Ia?Ia.toStringTag:void 0;function Or(e){return e==null?e===void 0?p4:f4:z1&&z1 in Object(e)?c4(e):h4(e)}function VD(e,t){return function(s){return e(t(s))}}var hx=VD(Object.getPrototypeOf,Object);function Rr(e){return e!=null&&typeof e=="object"}var m4="[object Object]",g4=Function.prototype,y4=Object.prototype,FD=g4.toString,x4=y4.hasOwnProperty,b4=FD.call(Object);function B1(e){if(!Rr(e)||Or(e)!=m4)return!1;var t=hx(e);if(t===null)return!0;var s=x4.call(t,"constructor")&&t.constructor;return typeof s=="function"&&s instanceof s&&FD.call(s)==b4}function v4(){this.__data__=[],this.size=0}function HD(e,t){return e===t||e!==e&&t!==t}function Ih(e,t){for(var s=e.length;s--;)if(HD(e[s][0],t))return s;return-1}var S4=Array.prototype,w4=S4.splice;function C4(e){var t=this.__data__,s=Ih(t,e);if(s<0)return!1;var a=t.length-1;return s==a?t.pop():w4.call(t,s,1),--this.size,!0}function T4(e){var t=this.__data__,s=Ih(t,e);return s<0?void 0:t[s][1]}function k4(e){return Ih(this.__data__,e)>-1}function j4(e,t){var s=this.__data__,a=Ih(s,e);return a<0?(++this.size,s.push([e,t])):s[a][1]=t,this}function Qi(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}Qi.prototype.clear=v4;Qi.prototype.delete=C4;Qi.prototype.get=T4;Qi.prototype.has=k4;Qi.prototype.set=j4;function D4(){this.__data__=new Qi,this.size=0}function E4(e){var t=this.__data__,s=t.delete(e);return this.size=t.size,s}function M4(e){return this.__data__.get(e)}function A4(e){return this.__data__.has(e)}function nu(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var P4="[object AsyncFunction]",O4="[object Function]",R4="[object GeneratorFunction]",_4="[object Proxy]";function UD(e){if(!nu(e))return!1;var t=Or(e);return t==O4||t==R4||t==P4||t==_4}var Am=xi["__core-js_shared__"],V1=(function(){var e=/[^.]+$/.exec(Am&&Am.keys&&Am.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function I4(e){return!!V1&&V1 in e}var W4=Function.prototype,N4=W4.toString;function _r(e){if(e!=null){try{return N4.call(e)}catch{}try{return e+""}catch{}}return""}var L4=/[\\^$.*+?()[\]{}|]/g,z4=/^\[object .+?Constructor\]$/,B4=Function.prototype,V4=Object.prototype,F4=B4.toString,H4=V4.hasOwnProperty,U4=RegExp("^"+F4.call(H4).replace(L4,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function q4(e){if(!nu(e)||I4(e))return!1;var t=UD(e)?U4:z4;return t.test(_r(e))}function Y4(e,t){return e?.[t]}function Ir(e,t){var s=Y4(e,t);return q4(s)?s:void 0}var Lc=Ir(xi,"Map"),zc=Ir(Object,"create");function G4(){this.__data__=zc?zc(null):{},this.size=0}function $4(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var K4="__lodash_hash_undefined__",Q4=Object.prototype,X4=Q4.hasOwnProperty;function Z4(e){var t=this.__data__;if(zc){var s=t[e];return s===K4?void 0:s}return X4.call(t,e)?t[e]:void 0}var J4=Object.prototype,eH=J4.hasOwnProperty;function tH(e){var t=this.__data__;return zc?t[e]!==void 0:eH.call(t,e)}var nH="__lodash_hash_undefined__";function sH(e,t){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=zc&&t===void 0?nH:t,this}function Er(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}Er.prototype.clear=G4;Er.prototype.delete=$4;Er.prototype.get=Z4;Er.prototype.has=tH;Er.prototype.set=sH;function iH(){this.size=0,this.__data__={hash:new Er,map:new(Lc||Qi),string:new Er}}function aH(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Wh(e,t){var s=e.__data__;return aH(t)?s[typeof t=="string"?"string":"hash"]:s.map}function rH(e){var t=Wh(this,e).delete(e);return this.size-=t?1:0,t}function oH(e){return Wh(this,e).get(e)}function lH(e){return Wh(this,e).has(e)}function cH(e,t){var s=Wh(this,e),a=s.size;return s.set(e,t),this.size+=s.size==a?0:1,this}function Ba(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}Ba.prototype.clear=iH;Ba.prototype.delete=rH;Ba.prototype.get=oH;Ba.prototype.has=lH;Ba.prototype.set=cH;var uH=200;function dH(e,t){var s=this.__data__;if(s instanceof Qi){var a=s.__data__;if(!Lc||a.length<uH-1)return a.push([e,t]),this.size=++s.size,this;s=this.__data__=new Ba(a)}return s.set(e,t),this.size=s.size,this}function al(e){var t=this.__data__=new Qi(e);this.size=t.size}al.prototype.clear=D4;al.prototype.delete=E4;al.prototype.get=M4;al.prototype.has=A4;al.prototype.set=dH;function hH(e,t){for(var s=-1,a=e==null?0:e.length;++s<a&&t(e[s],s,e)!==!1;);return e}var F1=(function(){try{var e=Ir(Object,"defineProperty");return e({},"",{}),e}catch{}})();function qD(e,t,s){t=="__proto__"&&F1?F1(e,t,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[t]=s}var fH=Object.prototype,pH=fH.hasOwnProperty;function YD(e,t,s){var a=e[t];(!(pH.call(e,t)&&HD(a,s))||s===void 0&&!(t in e))&&qD(e,t,s)}function Nh(e,t,s,a){var l=!s;s||(s={});for(var u=-1,d=t.length;++u<d;){var h=t[u],p=void 0;p===void 0&&(p=e[h]),l?qD(s,h,p):YD(s,h,p)}return s}function mH(e,t){for(var s=-1,a=Array(e);++s<e;)a[s]=t(s);return a}var gH="[object Arguments]";function H1(e){return Rr(e)&&Or(e)==gH}var GD=Object.prototype,yH=GD.hasOwnProperty,xH=GD.propertyIsEnumerable,bH=H1((function(){return arguments})())?H1:function(e){return Rr(e)&&yH.call(e,"callee")&&!xH.call(e,"callee")},su=Array.isArray;function vH(){return!1}var $D=typeof ws=="object"&&ws&&!ws.nodeType&&ws,U1=$D&&typeof Cs=="object"&&Cs&&!Cs.nodeType&&Cs,SH=U1&&U1.exports===$D,q1=SH?xi.Buffer:void 0,wH=q1?q1.isBuffer:void 0,KD=wH||vH,CH=9007199254740991,TH=/^(?:0|[1-9]\d*)$/;function kH(e,t){var s=typeof e;return t=t??CH,!!t&&(s=="number"||s!="symbol"&&TH.test(e))&&e>-1&&e%1==0&&e<t}var jH=9007199254740991;function QD(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=jH}var DH="[object Arguments]",EH="[object Array]",MH="[object Boolean]",AH="[object Date]",PH="[object Error]",OH="[object Function]",RH="[object Map]",_H="[object Number]",IH="[object Object]",WH="[object RegExp]",NH="[object Set]",LH="[object String]",zH="[object WeakMap]",BH="[object ArrayBuffer]",VH="[object DataView]",FH="[object Float32Array]",HH="[object Float64Array]",UH="[object Int8Array]",qH="[object Int16Array]",YH="[object Int32Array]",GH="[object Uint8Array]",$H="[object Uint8ClampedArray]",KH="[object Uint16Array]",QH="[object Uint32Array]",$t={};$t[FH]=$t[HH]=$t[UH]=$t[qH]=$t[YH]=$t[GH]=$t[$H]=$t[KH]=$t[QH]=!0;$t[DH]=$t[EH]=$t[BH]=$t[MH]=$t[VH]=$t[AH]=$t[PH]=$t[OH]=$t[RH]=$t[_H]=$t[IH]=$t[WH]=$t[NH]=$t[LH]=$t[zH]=!1;function XH(e){return Rr(e)&&QD(e.length)&&!!$t[Or(e)]}function fx(e){return function(t){return e(t)}}var XD=typeof ws=="object"&&ws&&!ws.nodeType&&ws,bc=XD&&typeof Cs=="object"&&Cs&&!Cs.nodeType&&Cs,ZH=bc&&bc.exports===XD,Pm=ZH&&zD.process,Zo=(function(){try{var e=bc&&bc.require&&bc.require("util").types;return e||Pm&&Pm.binding&&Pm.binding("util")}catch{}})(),Y1=Zo&&Zo.isTypedArray,JH=Y1?fx(Y1):XH,eU=Object.prototype,tU=eU.hasOwnProperty;function ZD(e,t){var s=su(e),a=!s&&bH(e),l=!s&&!a&&KD(e),u=!s&&!a&&!l&&JH(e),d=s||a||l||u,h=d?mH(e.length,String):[],p=h.length;for(var g in e)(t||tU.call(e,g))&&!(d&&(g=="length"||l&&(g=="offset"||g=="parent")||u&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||kH(g,p)))&&h.push(g);return h}var nU=Object.prototype;function px(e){var t=e&&e.constructor,s=typeof t=="function"&&t.prototype||nU;return e===s}var sU=VD(Object.keys,Object),iU=Object.prototype,aU=iU.hasOwnProperty;function rU(e){if(!px(e))return sU(e);var t=[];for(var s in Object(e))aU.call(e,s)&&s!="constructor"&&t.push(s);return t}function JD(e){return e!=null&&QD(e.length)&&!UD(e)}function mx(e){return JD(e)?ZD(e):rU(e)}function oU(e,t){return e&&Nh(t,mx(t),e)}function lU(e){var t=[];if(e!=null)for(var s in Object(e))t.push(s);return t}var cU=Object.prototype,uU=cU.hasOwnProperty;function dU(e){if(!nu(e))return lU(e);var t=px(e),s=[];for(var a in e)a=="constructor"&&(t||!uU.call(e,a))||s.push(a);return s}function gx(e){return JD(e)?ZD(e,!0):dU(e)}function hU(e,t){return e&&Nh(t,gx(t),e)}var eE=typeof ws=="object"&&ws&&!ws.nodeType&&ws,G1=eE&&typeof Cs=="object"&&Cs&&!Cs.nodeType&&Cs,fU=G1&&G1.exports===eE,$1=fU?xi.Buffer:void 0,K1=$1?$1.allocUnsafe:void 0;function pU(e,t){if(t)return e.slice();var s=e.length,a=K1?K1(s):new e.constructor(s);return e.copy(a),a}function tE(e,t){var s=-1,a=e.length;for(t||(t=Array(a));++s<a;)t[s]=e[s];return t}function mU(e,t){for(var s=-1,a=e==null?0:e.length,l=0,u=[];++s<a;){var d=e[s];t(d,s,e)&&(u[l++]=d)}return u}function nE(){return[]}var gU=Object.prototype,yU=gU.propertyIsEnumerable,Q1=Object.getOwnPropertySymbols,yx=Q1?function(e){return e==null?[]:(e=Object(e),mU(Q1(e),function(t){return yU.call(e,t)}))}:nE;function xU(e,t){return Nh(e,yx(e),t)}function sE(e,t){for(var s=-1,a=t.length,l=e.length;++s<a;)e[l+s]=t[s];return e}var bU=Object.getOwnPropertySymbols,iE=bU?function(e){for(var t=[];e;)sE(t,yx(e)),e=hx(e);return t}:nE;function vU(e,t){return Nh(e,iE(e),t)}function aE(e,t,s){var a=t(e);return su(e)?a:sE(a,s(e))}function SU(e){return aE(e,mx,yx)}function wU(e){return aE(e,gx,iE)}var bg=Ir(xi,"DataView"),vg=Ir(xi,"Promise"),Sg=Ir(xi,"Set"),wg=Ir(xi,"WeakMap"),X1="[object Map]",CU="[object Object]",Z1="[object Promise]",J1="[object Set]",eC="[object WeakMap]",tC="[object DataView]",TU=_r(bg),kU=_r(Lc),jU=_r(vg),DU=_r(Sg),EU=_r(wg),zi=Or;(bg&&zi(new bg(new ArrayBuffer(1)))!=tC||Lc&&zi(new Lc)!=X1||vg&&zi(vg.resolve())!=Z1||Sg&&zi(new Sg)!=J1||wg&&zi(new wg)!=eC)&&(zi=function(e){var t=Or(e),s=t==CU?e.constructor:void 0,a=s?_r(s):"";if(a)switch(a){case TU:return tC;case kU:return X1;case jU:return Z1;case DU:return J1;case EU:return eC}return t});var MU=Object.prototype,AU=MU.hasOwnProperty;function PU(e){var t=e.length,s=new e.constructor(t);return t&&typeof e[0]=="string"&&AU.call(e,"index")&&(s.index=e.index,s.input=e.input),s}var nC=xi.Uint8Array;function xx(e){var t=new e.constructor(e.byteLength);return new nC(t).set(new nC(e)),t}function OU(e,t){var s=t?xx(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.byteLength)}var RU=/\w*$/;function _U(e){var t=new e.constructor(e.source,RU.exec(e));return t.lastIndex=e.lastIndex,t}var sC=Ia?Ia.prototype:void 0,iC=sC?sC.valueOf:void 0;function IU(e){return iC?Object(iC.call(e)):{}}function WU(e,t){var s=t?xx(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.length)}var NU="[object Boolean]",LU="[object Date]",zU="[object Map]",BU="[object Number]",VU="[object RegExp]",FU="[object Set]",HU="[object String]",UU="[object Symbol]",qU="[object ArrayBuffer]",YU="[object DataView]",GU="[object Float32Array]",$U="[object Float64Array]",KU="[object Int8Array]",QU="[object Int16Array]",XU="[object Int32Array]",ZU="[object Uint8Array]",JU="[object Uint8ClampedArray]",e8="[object Uint16Array]",t8="[object Uint32Array]";function n8(e,t,s){var a=e.constructor;switch(t){case qU:return xx(e);case NU:case LU:return new a(+e);case YU:return OU(e,s);case GU:case $U:case KU:case QU:case XU:case ZU:case JU:case e8:case t8:return WU(e,s);case zU:return new a;case BU:case HU:return new a(e);case VU:return _U(e);case FU:return new a;case UU:return IU(e)}}var aC=Object.create,s8=(function(){function e(){}return function(t){if(!nu(t))return{};if(aC)return aC(t);e.prototype=t;var s=new e;return e.prototype=void 0,s}})();function i8(e){return typeof e.constructor=="function"&&!px(e)?s8(hx(e)):{}}var a8="[object Map]";function r8(e){return Rr(e)&&zi(e)==a8}var rC=Zo&&Zo.isMap,o8=rC?fx(rC):r8,l8="[object Set]";function c8(e){return Rr(e)&&zi(e)==l8}var oC=Zo&&Zo.isSet,u8=oC?fx(oC):c8,d8=1,h8=2,f8=4,rE="[object Arguments]",p8="[object Array]",m8="[object Boolean]",g8="[object Date]",y8="[object Error]",oE="[object Function]",x8="[object GeneratorFunction]",b8="[object Map]",v8="[object Number]",lE="[object Object]",S8="[object RegExp]",w8="[object Set]",C8="[object String]",T8="[object Symbol]",k8="[object WeakMap]",j8="[object ArrayBuffer]",D8="[object DataView]",E8="[object Float32Array]",M8="[object Float64Array]",A8="[object Int8Array]",P8="[object Int16Array]",O8="[object Int32Array]",R8="[object Uint8Array]",_8="[object Uint8ClampedArray]",I8="[object Uint16Array]",W8="[object Uint32Array]",Ut={};Ut[rE]=Ut[p8]=Ut[j8]=Ut[D8]=Ut[m8]=Ut[g8]=Ut[E8]=Ut[M8]=Ut[A8]=Ut[P8]=Ut[O8]=Ut[b8]=Ut[v8]=Ut[lE]=Ut[S8]=Ut[w8]=Ut[C8]=Ut[T8]=Ut[R8]=Ut[_8]=Ut[I8]=Ut[W8]=!0;Ut[y8]=Ut[oE]=Ut[k8]=!1;function vc(e,t,s,a,l,u){var d,h=t&d8,p=t&h8,g=t&f8;if(d!==void 0)return d;if(!nu(e))return e;var y=su(e);if(y){if(d=PU(e),!h)return tE(e,d)}else{var b=zi(e),v=b==oE||b==x8;if(KD(e))return pU(e,h);if(b==lE||b==rE||v&&!l){if(d=p||v?{}:i8(e),!h)return p?vU(e,hU(d,e)):xU(e,oU(d,e))}else{if(!Ut[b])return l?e:{};d=n8(e,b,h)}}u||(u=new al);var S=u.get(e);if(S)return S;u.set(e,d),u8(e)?e.forEach(function(w){d.add(vc(w,t,s,w,e,u))}):o8(e)&&e.forEach(function(w,T){d.set(T,vc(w,t,s,T,e,u))});var j=g?p?wU:SU:p?gx:mx,k=y?void 0:j(e);return hH(k||e,function(w,T){k&&(T=w,w=e[T]),YD(d,T,vc(w,t,s,T,e,u))}),d}var N8=1,L8=4;function Dd(e){return vc(e,N8|L8)}var Om,lC;function z8(){if(lC)return Om;lC=1;var e=Array.isArray,t=Object.keys,s=Object.prototype.hasOwnProperty,a=typeof Element<"u";function l(u,d){if(u===d)return!0;if(u&&d&&typeof u=="object"&&typeof d=="object"){var h=e(u),p=e(d),g,y,b;if(h&&p){if(y=u.length,y!=d.length)return!1;for(g=y;g--!==0;)if(!l(u[g],d[g]))return!1;return!0}if(h!=p)return!1;var v=u instanceof Date,S=d instanceof Date;if(v!=S)return!1;if(v&&S)return u.getTime()==d.getTime();var j=u instanceof RegExp,k=d instanceof RegExp;if(j!=k)return!1;if(j&&k)return u.toString()==d.toString();var w=t(u);if(y=w.length,y!==t(d).length)return!1;for(g=y;g--!==0;)if(!s.call(d,w[g]))return!1;if(a&&u instanceof Element&&d instanceof Element)return u===d;for(g=y;g--!==0;)if(b=w[g],!(b==="_owner"&&u.$$typeof)&&!l(u[b],d[b]))return!1;return!0}return u!==u&&d!==d}return Om=function(d,h){try{return l(d,h)}catch(p){if(p.message&&p.message.match(/stack|recursion/i)||p.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",p.name,p.message),!1;throw p}},Om}var B8=z8();const pr=UC(B8);var V8=4;function cC(e){return vc(e,V8)}function cE(e,t){for(var s=-1,a=e==null?0:e.length,l=Array(a);++s<a;)l[s]=t(e[s],s,e);return l}var F8="[object Symbol]";function bx(e){return typeof e=="symbol"||Rr(e)&&Or(e)==F8}var H8="Expected a function";function vx(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(H8);var s=function(){var a=arguments,l=t?t.apply(this,a):a[0],u=s.cache;if(u.has(l))return u.get(l);var d=e.apply(this,a);return s.cache=u.set(l,d)||u,d};return s.cache=new(vx.Cache||Ba),s}vx.Cache=Ba;var U8=500;function q8(e){var t=vx(e,function(a){return s.size===U8&&s.clear(),a}),s=t.cache;return t}var Y8=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,G8=/\\(\\)?/g,$8=q8(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Y8,function(s,a,l,u){t.push(l?u.replace(G8,"$1"):a||s)}),t});function K8(e){if(typeof e=="string"||bx(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var uC=Ia?Ia.prototype:void 0,dC=uC?uC.toString:void 0;function uE(e){if(typeof e=="string")return e;if(su(e))return cE(e,uE)+"";if(bx(e))return dC?dC.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Q8(e){return e==null?"":uE(e)}function dE(e){return su(e)?cE(e,K8):bx(e)?[e]:tE($8(Q8(e)))}function Kt(){return Kt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Kt.apply(this,arguments)}function Io(e,t){if(e==null)return{};var s={},a=Object.keys(e),l,u;for(u=0;u<a.length;u++)l=a[u],!(t.indexOf(l)>=0)&&(s[l]=e[l]);return s}var Lh=x.createContext(void 0);Lh.displayName="FormikContext";var X8=Lh.Provider;Lh.Consumer;function hE(){var e=x.useContext(Lh);return e}var us=function(t){return typeof t=="function"},zh=function(t){return t!==null&&typeof t=="object"},Z8=function(t){return String(Math.floor(Number(t)))===t},Rm=function(t){return Object.prototype.toString.call(t)==="[object String]"},J8=function(t){return x.Children.count(t)===0},_m=function(t){return zh(t)&&us(t.then)};function cs(e,t,s,a){a===void 0&&(a=0);for(var l=dE(t);e&&a<l.length;)e=e[l[a++]];return a!==l.length&&!e||e===void 0?s:e}function wr(e,t,s){for(var a=cC(e),l=a,u=0,d=dE(t);u<d.length-1;u++){var h=d[u],p=cs(e,d.slice(0,u+1));if(p&&(zh(p)||Array.isArray(p)))l=l[h]=cC(p);else{var g=d[u+1];l=l[h]=Z8(g)&&Number(g)>=0?[]:{}}}return(u===0?e:l)[d[u]]===s?e:(s===void 0?delete l[d[u]]:l[d[u]]=s,u===0&&s===void 0&&delete a[d[u]],a)}function fE(e,t,s,a){s===void 0&&(s=new WeakMap),a===void 0&&(a={});for(var l=0,u=Object.keys(e);l<u.length;l++){var d=u[l],h=e[d];zh(h)?s.get(h)||(s.set(h,!0),a[d]=Array.isArray(h)?[]:{},fE(h,t,s,a[d])):a[d]=t}return a}function e7(e,t){switch(t.type){case"SET_VALUES":return Kt({},e,{values:t.payload});case"SET_TOUCHED":return Kt({},e,{touched:t.payload});case"SET_ERRORS":return pr(e.errors,t.payload)?e:Kt({},e,{errors:t.payload});case"SET_STATUS":return Kt({},e,{status:t.payload});case"SET_ISSUBMITTING":return Kt({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return Kt({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return Kt({},e,{values:wr(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return Kt({},e,{touched:wr(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return Kt({},e,{errors:wr(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return Kt({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return Kt({},e,{touched:fE(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":return Kt({},e,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Kt({},e,{isSubmitting:!1});default:return e}}var ur={},Ed={};function t7(e){var t=e.validateOnChange,s=t===void 0?!0:t,a=e.validateOnBlur,l=a===void 0?!0:a,u=e.validateOnMount,d=u===void 0?!1:u,h=e.isInitialValid,p=e.enableReinitialize,g=p===void 0?!1:p,y=e.onSubmit,b=Io(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),v=Kt({validateOnChange:s,validateOnBlur:l,validateOnMount:d,onSubmit:y},b),S=x.useRef(v.initialValues),j=x.useRef(v.initialErrors||ur),k=x.useRef(v.initialTouched||Ed),w=x.useRef(v.initialStatus),T=x.useRef(!1),E=x.useRef({});x.useEffect(function(){return T.current=!0,function(){T.current=!1}},[]);var M=x.useState(0),W=M[1],O=x.useRef({values:Dd(v.initialValues),errors:Dd(v.initialErrors)||ur,touched:Dd(v.initialTouched)||Ed,status:Dd(v.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),R=O.current,_=x.useCallback(function(q){var fe=O.current;O.current=e7(fe,q),fe!==O.current&&W(function(ye){return ye+1})},[]),N=x.useCallback(function(q,fe){return new Promise(function(ye,Ee){var _e=v.validate(q,fe);_e==null?ye(ur):_m(_e)?_e.then(function(Le){ye(Le||ur)},function(Le){Ee(Le)}):ye(_e)})},[v.validate]),I=x.useCallback(function(q,fe){var ye=v.validationSchema,Ee=us(ye)?ye(fe):ye,_e=fe&&Ee.validateAt?Ee.validateAt(fe,q):i7(q,Ee);return new Promise(function(Le,Ze){_e.then(function(){Le(ur)},function(Be){Be.name==="ValidationError"?Le(s7(Be)):Ze(Be)})})},[v.validationSchema]),V=x.useCallback(function(q,fe){return new Promise(function(ye){return ye(E.current[q].validate(fe))})},[]),B=x.useCallback(function(q){var fe=Object.keys(E.current).filter(function(Ee){return us(E.current[Ee].validate)}),ye=fe.length>0?fe.map(function(Ee){return V(Ee,cs(q,Ee))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(ye).then(function(Ee){return Ee.reduce(function(_e,Le,Ze){return Le==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||Le&&(_e=wr(_e,fe[Ze],Le)),_e},{})})},[V]),z=x.useCallback(function(q){return Promise.all([B(q),v.validationSchema?I(q):{},v.validate?N(q):{}]).then(function(fe){var ye=fe[0],Ee=fe[1],_e=fe[2],Le=xg.all([ye,Ee,_e],{arrayMerge:a7});return Le})},[v.validate,v.validationSchema,B,N,I]),ue=Ls(function(q){return q===void 0&&(q=R.values),_({type:"SET_ISVALIDATING",payload:!0}),z(q).then(function(fe){return T.current&&(_({type:"SET_ISVALIDATING",payload:!1}),_({type:"SET_ERRORS",payload:fe})),fe})});x.useEffect(function(){d&&T.current===!0&&pr(S.current,v.initialValues)&&ue(S.current)},[d,ue]);var U=x.useCallback(function(q){var fe=q&&q.values?q.values:S.current,ye=q&&q.errors?q.errors:j.current?j.current:v.initialErrors||{},Ee=q&&q.touched?q.touched:k.current?k.current:v.initialTouched||{},_e=q&&q.status?q.status:w.current?w.current:v.initialStatus;S.current=fe,j.current=ye,k.current=Ee,w.current=_e;var Le=function(){_({type:"RESET_FORM",payload:{isSubmitting:!!q&&!!q.isSubmitting,errors:ye,touched:Ee,status:_e,values:fe,isValidating:!!q&&!!q.isValidating,submitCount:q&&q.submitCount&&typeof q.submitCount=="number"?q.submitCount:0}})};if(v.onReset){var Ze=v.onReset(R.values,Oe);_m(Ze)?Ze.then(Le):Le()}else Le()},[v.initialErrors,v.initialStatus,v.initialTouched,v.onReset]);x.useEffect(function(){T.current===!0&&!pr(S.current,v.initialValues)&&g&&(S.current=v.initialValues,U(),d&&ue(S.current))},[g,v.initialValues,U,d,ue]),x.useEffect(function(){g&&T.current===!0&&!pr(j.current,v.initialErrors)&&(j.current=v.initialErrors||ur,_({type:"SET_ERRORS",payload:v.initialErrors||ur}))},[g,v.initialErrors]),x.useEffect(function(){g&&T.current===!0&&!pr(k.current,v.initialTouched)&&(k.current=v.initialTouched||Ed,_({type:"SET_TOUCHED",payload:v.initialTouched||Ed}))},[g,v.initialTouched]),x.useEffect(function(){g&&T.current===!0&&!pr(w.current,v.initialStatus)&&(w.current=v.initialStatus,_({type:"SET_STATUS",payload:v.initialStatus}))},[g,v.initialStatus,v.initialTouched]);var ae=Ls(function(q){if(E.current[q]&&us(E.current[q].validate)){var fe=cs(R.values,q),ye=E.current[q].validate(fe);return _m(ye)?(_({type:"SET_ISVALIDATING",payload:!0}),ye.then(function(Ee){return Ee}).then(function(Ee){_({type:"SET_FIELD_ERROR",payload:{field:q,value:Ee}}),_({type:"SET_ISVALIDATING",payload:!1})})):(_({type:"SET_FIELD_ERROR",payload:{field:q,value:ye}}),Promise.resolve(ye))}else if(v.validationSchema)return _({type:"SET_ISVALIDATING",payload:!0}),I(R.values,q).then(function(Ee){return Ee}).then(function(Ee){_({type:"SET_FIELD_ERROR",payload:{field:q,value:cs(Ee,q)}}),_({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),F=x.useCallback(function(q,fe){var ye=fe.validate;E.current[q]={validate:ye}},[]),Y=x.useCallback(function(q){delete E.current[q]},[]),ge=Ls(function(q,fe){_({type:"SET_TOUCHED",payload:q});var ye=fe===void 0?l:fe;return ye?ue(R.values):Promise.resolve()}),pe=x.useCallback(function(q){_({type:"SET_ERRORS",payload:q})},[]),Me=Ls(function(q,fe){var ye=us(q)?q(R.values):q;_({type:"SET_VALUES",payload:ye});var Ee=fe===void 0?s:fe;return Ee?ue(ye):Promise.resolve()}),ve=x.useCallback(function(q,fe){_({type:"SET_FIELD_ERROR",payload:{field:q,value:fe}})},[]),X=Ls(function(q,fe,ye){var Ee=us(fe)?fe(cs(R.values,q)):fe;_({type:"SET_FIELD_VALUE",payload:{field:q,value:Ee}});var _e=ye===void 0?s:ye;return _e?ue(wr(R.values,q,Ee)):Promise.resolve()}),Z=x.useCallback(function(q,fe){var ye=fe,Ee=q,_e;if(!Rm(q)){q.persist&&q.persist();var Le=q.target?q.target:q.currentTarget,Ze=Le.type,Be=Le.name,$e=Le.id,Fe=Le.value,dt=Le.checked;Le.outerHTML;var pt=Le.options,Ye=Le.multiple;ye=fe||Be||$e,Ee=/number|range/.test(Ze)?(_e=parseFloat(Fe),isNaN(_e)?"":_e):/checkbox/.test(Ze)?o7(cs(R.values,ye),dt,Fe):pt&&Ye?r7(pt):Fe}ye&&X(ye,Ee)},[X,R.values]),ce=Ls(function(q){if(Rm(q))return function(fe){return Z(fe,q)};Z(q)}),xe=Ls(function(q,fe,ye){fe===void 0&&(fe=!0),_({type:"SET_FIELD_TOUCHED",payload:{field:q,value:fe}});var Ee=ye===void 0?l:ye;return Ee?ue(R.values):Promise.resolve()}),be=x.useCallback(function(q,fe){q.persist&&q.persist();var ye=q.target,Ee=ye.name,_e=ye.id;ye.outerHTML;var Le=fe||Ee||_e;xe(Le,!0)},[xe]),re=Ls(function(q){if(Rm(q))return function(fe){return be(fe,q)};be(q)}),G=x.useCallback(function(q){us(q)?_({type:"SET_FORMIK_STATE",payload:q}):_({type:"SET_FORMIK_STATE",payload:function(){return q}})},[]),le=x.useCallback(function(q){_({type:"SET_STATUS",payload:q})},[]),$=x.useCallback(function(q){_({type:"SET_ISSUBMITTING",payload:q})},[]),he=Ls(function(){return _({type:"SUBMIT_ATTEMPT"}),ue().then(function(q){var fe=q instanceof Error,ye=!fe&&Object.keys(q).length===0;if(ye){var Ee;try{if(Ee=me(),Ee===void 0)return}catch(_e){throw _e}return Promise.resolve(Ee).then(function(_e){return T.current&&_({type:"SUBMIT_SUCCESS"}),_e}).catch(function(_e){if(T.current)throw _({type:"SUBMIT_FAILURE"}),_e})}else if(T.current&&(_({type:"SUBMIT_FAILURE"}),fe))throw q})}),Te=Ls(function(q){q&&q.preventDefault&&us(q.preventDefault)&&q.preventDefault(),q&&q.stopPropagation&&us(q.stopPropagation)&&q.stopPropagation(),he().catch(function(fe){console.warn("Warning: An unhandled error was caught from submitForm()",fe)})}),Oe={resetForm:U,validateForm:ue,validateField:ae,setErrors:pe,setFieldError:ve,setFieldTouched:xe,setFieldValue:X,setStatus:le,setSubmitting:$,setTouched:ge,setValues:Me,setFormikState:G,submitForm:he},me=Ls(function(){return y(R.values,Oe)}),te=Ls(function(q){q&&q.preventDefault&&us(q.preventDefault)&&q.preventDefault(),q&&q.stopPropagation&&us(q.stopPropagation)&&q.stopPropagation(),U()}),ee=x.useCallback(function(q){return{value:cs(R.values,q),error:cs(R.errors,q),touched:!!cs(R.touched,q),initialValue:cs(S.current,q),initialTouched:!!cs(k.current,q),initialError:cs(j.current,q)}},[R.errors,R.touched,R.values]),Ie=x.useCallback(function(q){return{setValue:function(ye,Ee){return X(q,ye,Ee)},setTouched:function(ye,Ee){return xe(q,ye,Ee)},setError:function(ye){return ve(q,ye)}}},[X,xe,ve]),Ge=x.useCallback(function(q){var fe=zh(q),ye=fe?q.name:q,Ee=cs(R.values,ye),_e={name:ye,value:Ee,onChange:ce,onBlur:re};if(fe){var Le=q.type,Ze=q.value,Be=q.as,$e=q.multiple;Le==="checkbox"?Ze===void 0?_e.checked=!!Ee:(_e.checked=!!(Array.isArray(Ee)&&~Ee.indexOf(Ze)),_e.value=Ze):Le==="radio"?(_e.checked=Ee===Ze,_e.value=Ze):Be==="select"&&$e&&(_e.value=_e.value||[],_e.multiple=!0)}return _e},[re,ce,R.values]),Pe=x.useMemo(function(){return!pr(S.current,R.values)},[S.current,R.values]),ie=x.useMemo(function(){return typeof h<"u"?Pe?R.errors&&Object.keys(R.errors).length===0:h!==!1&&us(h)?h(v):h:R.errors&&Object.keys(R.errors).length===0},[h,Pe,R.errors,v]),we=Kt({},R,{initialValues:S.current,initialErrors:j.current,initialTouched:k.current,initialStatus:w.current,handleBlur:re,handleChange:ce,handleReset:te,handleSubmit:Te,resetForm:U,setErrors:pe,setFormikState:G,setFieldTouched:xe,setFieldValue:X,setFieldError:ve,setStatus:le,setSubmitting:$,setTouched:ge,setValues:Me,submitForm:he,validateForm:ue,validateField:ae,isValid:ie,dirty:Pe,unregisterField:Y,registerField:F,getFieldProps:Ge,getFieldMeta:ee,getFieldHelpers:Ie,validateOnBlur:l,validateOnChange:s,validateOnMount:d});return we}function n7(e){var t=t7(e),s=e.component,a=e.children,l=e.render,u=e.innerRef;return x.useImperativeHandle(u,function(){return t}),x.createElement(X8,{value:t},s?x.createElement(s,t):l?l(t):a?us(a)?a(t):J8(a)?null:x.Children.only(a):null)}function s7(e){var t={};if(e.inner){if(e.inner.length===0)return wr(t,e.path,e.message);for(var l=e.inner,s=Array.isArray(l),a=0,l=s?l:l[Symbol.iterator]();;){var u;if(s){if(a>=l.length)break;u=l[a++]}else{if(a=l.next(),a.done)break;u=a.value}var d=u;cs(t,d.path)||(t=wr(t,d.path,d.message))}}return t}function i7(e,t,s,a){s===void 0&&(s=!1);var l=Cg(e);return t[s?"validateSync":"validate"](l,{abortEarly:!1,context:l})}function Cg(e){var t=Array.isArray(e)?[]:{};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var a=String(s);Array.isArray(e[a])===!0?t[a]=e[a].map(function(l){return Array.isArray(l)===!0||B1(l)?Cg(l):l!==""?l:void 0}):B1(e[a])?t[a]=Cg(e[a]):t[a]=e[a]!==""?e[a]:void 0}return t}function a7(e,t,s){var a=e.slice();return t.forEach(function(u,d){if(typeof a[d]>"u"){var h=s.clone!==!1,p=h&&s.isMergeableObject(u);a[d]=p?xg(Array.isArray(u)?[]:{},u,s):u}else s.isMergeableObject(u)?a[d]=xg(e[d],u,s):e.indexOf(u)===-1&&a.push(u)}),a}function r7(e){return Array.from(e).filter(function(t){return t.selected}).map(function(t){return t.value})}function o7(e,t,s){if(typeof e=="boolean")return!!t;var a=[],l=!1,u=-1;if(Array.isArray(e))a=e,u=e.indexOf(s),l=u>=0;else if(!s||s=="true"||s=="false")return!!t;return t&&s&&!l?a.concat(s):l?a.slice(0,u).concat(a.slice(u+1)):a}var l7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?x.useLayoutEffect:x.useEffect;function Ls(e){var t=x.useRef(e);return l7(function(){t.current=e}),x.useCallback(function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return t.current.apply(void 0,a)},[])}function Co(e){var t=e.validate,s=e.name,a=e.render,l=e.children,u=e.as,d=e.component,h=e.className,p=Io(e,["validate","name","render","children","as","component","className"]),g=hE(),y=Io(g,["validate","validationSchema"]),b=y.registerField,v=y.unregisterField;x.useEffect(function(){return b(s,{validate:t}),function(){v(s)}},[b,v,s,t]);var S=y.getFieldProps(Kt({name:s},p)),j=y.getFieldMeta(s),k={field:S,form:y};if(a)return a(Kt({},k,{meta:j}));if(us(l))return l(Kt({},k,{meta:j}));if(d){if(typeof d=="string"){var w=p.innerRef,T=Io(p,["innerRef"]);return x.createElement(d,Kt({ref:w},S,T,{className:h}),l)}return x.createElement(d,Kt({field:S,form:y},p,{className:h}),l)}var E=u||"input";if(typeof E=="string"){var M=p.innerRef,W=Io(p,["innerRef"]);return x.createElement(E,Kt({ref:M},S,W,{className:h}),l)}return x.createElement(E,Kt({},S,p,{className:h}),l)}var pE=x.forwardRef(function(e,t){var s=e.action,a=Io(e,["action"]),l=s??"#",u=hE(),d=u.handleReset,h=u.handleSubmit;return x.createElement("form",Kt({onSubmit:h,ref:t,onReset:d,action:l},a))});pE.displayName="Form";const Sx=({open:e,onClose:t,onAssign:s,workoutData:a,currentSchedule:l})=>{const[u,d]=x.useState(null),h=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],p=S=>{d(S)},g=()=>{u&&s&&(s(u,a),y())},y=()=>{d(null),t()},b=S=>l&&l[S]!==null&&l[S]!==void 0,v=S=>S?{upper:"Upper Body",lower:"Lower Body",full:"Full Body",push:"Push",pull:"Pull",legs:"Legs",cardio:"Cardio",hiit:"HIIT",yoga:"Yoga",mobility:"Mobility",stretch:"Stretching",rest:"Rest"}[S.toLowerCase()]||S:"";return r.jsxs(An,{open:e,onClose:y,maxWidth:"sm",fullWidth:!0,children:[r.jsx(Un,{children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(Tc,{color:"primary"}),r.jsx(P,{variant:"h6",children:"Assign to Day of Week"})]})}),r.jsxs(Pn,{children:[r.jsx(P,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Select which day of the week to assign this workout to. It will be suggested when you visit that day next week."}),r.jsx(Yn,{sx:{pt:0},children:h.map(S=>{const j=b(S),k=u===S,w=l?.[S];return r.jsx(rt,{disablePadding:!0,sx:{mb:1},children:r.jsx(Ni,{onClick:()=>p(S),selected:k,sx:{borderRadius:2,border:k?2:1,borderColor:k?"primary.main":"divider","&.Mui-selected":{backgroundColor:"primary.light","&:hover":{backgroundColor:"primary.light"}}},children:r.jsx(Tt,{primary:r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(P,{variant:"body1",fontWeight:500,children:S}),k&&r.jsx(Cr,{color:"primary",fontSize:"small"})]}),secondary:j&&w?r.jsx(ut,{label:`Currently: ${v(w.sessionType)}`,size:"small",sx:{mt:.5},color:"info",variant:"outlined"}):"Not assigned"})})},S)})})]}),r.jsxs(On,{children:[r.jsx(Ae,{onClick:y,color:"inherit",children:"Cancel"}),r.jsxs(Ae,{onClick:g,variant:"contained",disabled:!u,children:["Assign to ",u]})]})]})};Sx.propTypes={open:D.bool.isRequired,onClose:D.func.isRequired,onAssign:D.func.isRequired,workoutData:D.object,currentSchedule:D.object};const c7=60,u7=1500,mn={STRENGTH:"strength",CARDIO:"cardio",YOGA:"yoga",REST:"rest"},vs={FULL:"full",UPPER:"upper",PUSH:"push",PULL:"pull",LEGS:"legs",CORE:"core"},Ks={GENERAL:"general",RUNNING:"running",CYCLING:"cycling",SWIMMING:"swimming",HIIT:"hiit"},wx=({onNavigate:e})=>{const[t,s]=x.useState({show:!1,message:"",severity:"success"}),[a,l]=x.useState(!1),[u,d]=x.useState(null),[h,p]=x.useState(!1),[g,y]=x.useState(""),{isAutoAssignWeek:b,assignWorkoutToDay:v,weeklySchedule:S}=Na(),j={date:new Date,duration:"",notes:"",sessionName:"",sessionType:mn.STRENGTH,workoutType:vs.FULL,cardioType:Ks.GENERAL,numExercises:"",setsPerExercise:""},k=_=>{const N={};return _.date||(N.date="Date is required"),_.sessionType!==mn.REST&&(_.duration?(isNaN(_.duration)||parseFloat(_.duration)<=0)&&(N.duration="Duration must be a positive number"):N.duration="Duration is required"),_.sessionType===mn.STRENGTH&&(_.numExercises?(isNaN(_.numExercises)||parseInt(_.numExercises)<=0)&&(N.numExercises="Must be a positive number"):N.numExercises="Number of exercises is required",_.setsPerExercise?(isNaN(_.setsPerExercise)||parseInt(_.setsPerExercise)<=0)&&(N.setsPerExercise="Must be a positive number"):N.setsPerExercise="Sets per exercise is required"),N},w=async(_,{setSubmitting:N,resetForm:I})=>{try{const V=_.date.getTime(),B=_.sessionType===mn.REST&&!_.duration?0:parseFloat(_.duration)*c7,z={date:V,duration:B,type:_.sessionType===mn.STRENGTH?_.workoutType:_.sessionType===mn.CARDIO?_.cardioType:_.sessionType,exercises:{},notes:_.notes.trim(),sessionName:_.sessionName.trim(),isManualLog:!0,sessionType:_.sessionType};if(_.sessionType===mn.STRENGTH&&(z.numExercises=parseInt(_.numExercises),z.setsPerExercise=parseInt(_.setsPerExercise)),await ny(z),_.sessionType!==mn.REST){const ue=await Yc();ue.totalWorkouts+=1,ue.totalTime+=z.duration,await sy(ue)}if(b()&&_.sessionType!==mn.REST){const ue=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(V).getDay()],U={sessionType:_.sessionType,sessionName:T(_.sessionType,_.workoutType,_.cardioType),date:new Date(V).toISOString()};await v(ue,U),s({show:!0,message:`Activity logged and assigned to ${ue}!`,severity:"success"})}else d({sessionType:_.sessionType,sessionName:T(_.sessionType,_.workoutType,_.cardioType),date:new Date(V).toISOString()}),s({show:!0,message:"Activity logged successfully!",severity:"success"});I(),setTimeout(()=>{e&&e("progress")},u7)}catch(V){console.error("Error saving activity:",V),s({show:!0,message:"Failed to save activity. Please try again.",severity:"error"})}finally{N(!1)}},T=(_,N,I)=>_===mn.STRENGTH?{[vs.FULL]:"Full Body",[vs.UPPER]:"Upper Body",[vs.PUSH]:"Push",[vs.PULL]:"Pull",[vs.LEGS]:"Legs",[vs.CORE]:"Core"}[N]||"Strength":_===mn.CARDIO?{[Ks.GENERAL]:"Cardio",[Ks.RUNNING]:"Running",[Ks.CYCLING]:"Cycling",[Ks.SWIMMING]:"Swimming",[Ks.HIIT]:"HIIT"}[I]||"Cardio":{[mn.YOGA]:"Yoga",[mn.REST]:"Rest"}[_]||_,E=async _=>{if(u)try{await v(_,u),y(`Session assigned to ${_}`),p(!0),d(null)}catch(N){console.error("Error assigning session:",N),y("Failed to assign session"),p(!0)}},M=()=>r.jsx(cn,{sx:{fontSize:48,color:"primary.main"}}),W=()=>"primary.main",O=()=>"rgba(19, 70, 134, 0.1)",R=()=>"Log Activity";return r.jsx(Eh,{dateAdapter:cx,children:r.jsxs(L,{sx:{width:"100%",maxWidth:"700px",margin:"0 auto",padding:{xs:"1rem 0.75rem",sm:"1.5rem 1rem",md:"2rem 1rem"},boxSizing:"border-box"},children:[r.jsxs(tt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[r.jsxs(L,{sx:{mb:3,textAlign:"center"},children:[r.jsx(L,{sx:{display:"flex",justifyContent:"center",mb:2},children:r.jsx(L,{sx:{p:{xs:1.5,sm:2},borderRadius:"50%",bgcolor:O(),display:"flex",alignItems:"center",justifyContent:"center"},children:M()})}),r.jsx(P,{variant:"h3",sx:{fontWeight:700,color:W(),mb:1,fontSize:{xs:"1.5rem",sm:"2rem",md:"2.5rem"}},children:R()}),r.jsx(P,{variant:"body1",sx:{color:"text.secondary",mb:2,fontSize:{xs:"0.875rem",sm:"1rem"},px:{xs:1,sm:0}},children:"Manually log your completed activities"})]}),t.show&&r.jsx(tt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:r.jsx(Ft,{severity:t.severity,sx:{mb:3},onClose:()=>s({...t,show:!1}),children:t.message})}),r.jsx(et,{sx:{borderRadius:3,width:"100%",boxSizing:"border-box"},children:r.jsx(at,{sx:{p:{xs:2,sm:3},"&:last-child":{pb:{xs:2,sm:3}}},children:r.jsx(n7,{initialValues:j,validate:k,onSubmit:w,children:({errors:_,touched:N,isSubmitting:I,isValid:V,dirty:B,values:z,setFieldValue:ue})=>r.jsx(pE,{children:r.jsxs(Re,{spacing:2,children:[r.jsx(Co,{name:"date",children:()=>r.jsx(lh,{label:"Date",value:z.date,onChange:U=>ue("date",U),slotProps:{textField:{fullWidth:!0,error:N.date&&!!_.date,helperText:N.date&&_.date,sx:{width:"100%"}}},sx:{width:"100%"}})}),r.jsxs(Vt,{fullWidth:!0,children:[r.jsx(Mn,{children:"Session Type"}),r.jsxs(qt,{value:z.sessionType,label:"Session Type",onChange:U=>ue("sessionType",U.target.value),children:[r.jsx(We,{value:mn.STRENGTH,children:"Strength"}),r.jsx(We,{value:mn.CARDIO,children:"Cardio"}),r.jsx(We,{value:mn.YOGA,children:"Yoga"}),r.jsx(We,{value:mn.REST,children:"Rest Day"})]})]}),z.sessionType===mn.STRENGTH&&r.jsxs(Vt,{fullWidth:!0,children:[r.jsx(Mn,{children:"Workout Type"}),r.jsxs(qt,{value:z.workoutType,label:"Workout Type",onChange:U=>ue("workoutType",U.target.value),children:[r.jsx(We,{value:vs.FULL,children:"Full Body"}),r.jsx(We,{value:vs.UPPER,children:"Upper Body"}),r.jsx(We,{value:vs.PUSH,children:"Push"}),r.jsx(We,{value:vs.PULL,children:"Pull"}),r.jsx(We,{value:vs.LEGS,children:"Legs"}),r.jsx(We,{value:vs.CORE,children:"Core"})]})]}),z.sessionType===mn.CARDIO&&r.jsxs(Vt,{fullWidth:!0,children:[r.jsx(Mn,{children:"Cardio Type"}),r.jsxs(qt,{value:z.cardioType,label:"Cardio Type",onChange:U=>ue("cardioType",U.target.value),children:[r.jsx(We,{value:Ks.GENERAL,children:"General Cardio"}),r.jsx(We,{value:Ks.RUNNING,children:"Running"}),r.jsx(We,{value:Ks.CYCLING,children:"Cycling"}),r.jsx(We,{value:Ks.SWIMMING,children:"Swimming"}),r.jsx(We,{value:Ks.HIIT,children:"HIIT"})]})]}),z.sessionType!==mn.REST&&r.jsx(Co,{name:"duration",children:({field:U})=>r.jsx(ct,{...U,fullWidth:!0,type:"number",label:"Duration (minutes)",placeholder:"e.g., 45",error:N.duration&&!!_.duration,helperText:N.duration&&_.duration,variant:"outlined",inputProps:{min:0,step:1}})}),z.sessionType===mn.STRENGTH&&r.jsxs(r.Fragment,{children:[r.jsx(Co,{name:"numExercises",children:({field:U})=>r.jsx(ct,{...U,fullWidth:!0,type:"number",label:"Number of Exercises",placeholder:"e.g., 6",error:N.numExercises&&!!_.numExercises,helperText:N.numExercises&&_.numExercises,variant:"outlined",inputProps:{min:1,step:1}})}),r.jsx(Co,{name:"setsPerExercise",children:({field:U})=>r.jsx(ct,{...U,fullWidth:!0,type:"number",label:"Sets per Exercise",placeholder:"e.g., 3",error:N.setsPerExercise&&!!_.setsPerExercise,helperText:N.setsPerExercise&&_.setsPerExercise,variant:"outlined",inputProps:{min:1,step:1}})})]}),r.jsx(Co,{name:"sessionName",children:({field:U})=>r.jsx(ct,{...U,fullWidth:!0,label:"Session Name (optional)",placeholder:"e.g., Morning workout, Leg day, etc.",variant:"outlined"})}),r.jsx(Co,{name:"notes",children:({field:U})=>r.jsx(ct,{...U,fullWidth:!0,multiline:!0,rows:4,label:"Notes (optional)",placeholder:"Add any notes about your session...",variant:"outlined"})}),r.jsx(Ae,{type:"submit",variant:"contained",fullWidth:!0,disabled:I||!V||!B,sx:{bgcolor:W(),"&:hover":{bgcolor:W(),filter:"brightness(0.9)"},py:1.5,fontWeight:600,mt:2},children:I?"Logging...":`Log ${R().replace("Log ","")}`}),!b()&&u&&r.jsx(Ae,{variant:"outlined",fullWidth:!0,startIcon:r.jsx(Tc,{}),onClick:()=>l(!0),sx:{mt:1,py:1.5,fontWeight:600},children:"Assign to Day of Week"})]})})})})})]}),r.jsx(Fs,{open:h,autoHideDuration:3e3,onClose:()=>p(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(Ft,{severity:"success",onClose:()=>p(!1),children:g})}),r.jsx(Sx,{open:a,onClose:()=>l(!1),onAssign:E,workoutData:u,currentSchedule:S})]})})};wx.propTypes={onNavigate:D.func};const mE=({onNavigate:e})=>r.jsx(L,{children:r.jsx(wx,{onNavigate:e,hideBackButton:!0})});mE.propTypes={onNavigate:D.func};const gE=({onNavigate:e,loading:t=!1,workoutType:s,selectedEquipment:a,equipmentOptions:l,onWorkoutTypeChange:u,onEquipmentChange:d,onStartWorkout:h,onCustomize:p})=>{const[g,y]=x.useState(0),b=(S,j)=>{y(j)},v=S=>{y(S)};return r.jsxs(L,{sx:{padding:{xs:2,sm:2,md:3},maxWidth:"1200px",margin:"0 auto",minHeight:"calc(100vh - 60px)",paddingBottom:{xs:"80px",md:"2rem"}},children:[r.jsx(L,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:r.jsxs(Fc,{value:g,onChange:b,variant:"fullWidth",sx:{"& .MuiTab-root":{minHeight:64,fontSize:{xs:"0.875rem",sm:"1rem"},fontWeight:600}},children:[r.jsx(Vi,{icon:r.jsx(cn,{}),label:"Workout",iconPosition:"start"}),r.jsx(Vi,{icon:r.jsx(mi,{}),label:"Cardio & Yoga",iconPosition:"start"}),r.jsx(Vi,{icon:r.jsx(V2,{}),label:"Activity",iconPosition:"start"})]})}),r.jsxs(L,{sx:{mt:2},children:[g===0&&r.jsx(ux,{onNavigate:e,loading:t,workoutType:s,selectedEquipment:a,equipmentOptions:l,onWorkoutTypeChange:u,onEquipmentChange:d,onStartWorkout:h,onCustomize:p,onTabChange:v}),g===1&&r.jsx(LD,{onNavigate:e}),g===2&&r.jsx(mE,{onNavigate:e})]})]})};gE.propTypes={onNavigate:D.func,loading:D.bool,workoutType:D.string,selectedEquipment:D.instanceOf(Set),equipmentOptions:D.array,onWorkoutTypeChange:D.func,onEquipmentChange:D.func,onStartWorkout:D.func,onCustomize:D.func};const hC=e=>({push:"Push",pull:"Pull",legs:"Legs",upper:"Upper Body",lower:"Lower Body",full:"Full Body",stretch:"Stretch",hiit:"HIIT",rest:"Rest",cardio:"Cardio",strength:"Strength",hypertrophy:"Hypertrophy",active_recovery:"Active Recovery"})[e]||e.charAt(0).toUpperCase()+e.slice(1),yE=({onStartWorkout:e,onNavigate:t})=>{const{weeklySchedule:s,currentWeek:a,deloadWeekActive:l,getWorkoutSuggestion:u}=Na(),[d,h]=x.useState(null),[p,g]=x.useState([]),[y,b]=x.useState(!1);x.useEffect(()=>{(async()=>{const R=await ni();g(R)})()},[]);const v=[{name:"Sunday",abbrev:"SUN"},{name:"Monday",abbrev:"MON"},{name:"Tuesday",abbrev:"TUE"},{name:"Wednesday",abbrev:"WED"},{name:"Thursday",abbrev:"THU"},{name:"Friday",abbrev:"FRI"},{name:"Saturday",abbrev:"SAT"}],S=O=>{if(!O)return r.jsx(cn,{});const R=O.toLowerCase();return R.includes("cardio")||R.includes("hiit")?r.jsx(mi,{}):R.includes("yoga")||R.includes("mobility")||R.includes("stretch")?r.jsx(ti,{}):R.includes("rest")?r.jsx(fh,{}):r.jsx(cn,{})},j=O=>{if(!O)return"primary";const R=O.toLowerCase();return R.includes("cardio")||R.includes("hiit")?"error":R.includes("yoga")||R.includes("mobility")||R.includes("stretch")?"secondary":R.includes("rest")?"default":"primary"},k=O=>O?{upper:"Upper Body",lower:"Lower Body",full:"Full Body",push:"Push",pull:"Pull",legs:"Legs",cardio:"Cardio",hiit:"HIIT",yoga:"Yoga",mobility:"Mobility",stretch:"Stretching",rest:"Rest"}[O.toLowerCase()]||O:"Not assigned",w=O=>{h(O)},T=()=>{h(null)},E=()=>{if(d&&s[d]){const O=s[d],R=(O.sessionType||"").toLowerCase();if(R.includes("rest")){T(),b(!0);return}if(R.includes("cardio")||R.includes("hiit")||R.includes("yoga")||R.includes("mobility")||R.includes("stretch")){T(),t&&t("timer");return}e&&e(O)}T()},W=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date().getDay()];return r.jsxs(L,{sx:{width:"100%",maxWidth:800,mx:"auto",p:2},children:[y&&r.jsx(Gy,{onClose:()=>b(!1)}),r.jsxs(L,{sx:{mb:3,textAlign:"center"},children:[r.jsxs(P,{variant:"h5",fontWeight:700,gutterBottom:!0,children:["Week ",a," Schedule"]}),l&&r.jsx(ut,{label:"Deload Week - Recovery Focus",color:"warning",icon:r.jsx(F2,{}),sx:{mt:1}})]}),r.jsx(Re,{spacing:2,children:v.map((O,R)=>{const _=s[O.name],N=O.name===W,I=_?null:u(O.name,p);return r.jsx(tt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:R*.05},children:r.jsx(et,{sx:{borderRadius:2,border:N?2:1,borderColor:N?"primary.main":"divider",boxShadow:N?3:1,cursor:_?"pointer":"default",transition:"all 0.2s ease","&:hover":_?{transform:"translateY(-2px)",boxShadow:4}:{}},onClick:()=>_&&w(O.name),children:r.jsx(at,{children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:2,flex:1},children:[r.jsxs(L,{sx:{minWidth:60,textAlign:"center"},children:[r.jsx(P,{variant:"overline",fontWeight:700,color:N?"primary.main":"text.secondary",children:O.abbrev}),N&&r.jsx(P,{variant:"caption",display:"block",color:"primary.main",children:"Today"})]}),r.jsx(L,{sx:{flex:1},children:_?r.jsxs(r.Fragment,{children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[S(_.sessionType),r.jsx(P,{variant:"body1",fontWeight:600,children:_.sessionName||k(_.sessionType)})]}),_.exercises&&_.exercises.length>0&&r.jsxs(P,{variant:"caption",color:"text.secondary",children:[_.exercises.length," exercises"]})]}):r.jsxs(L,{children:[r.jsx(P,{variant:"body2",color:"text.secondary",children:"No workout assigned"}),I&&r.jsxs(P,{variant:"caption",color:"info.main",children:["Suggestion: ",k(I.type||I.workoutType)]})]})}),_&&r.jsx(ut,{label:k(_.sessionType),color:j(_.sessionType),size:"small",variant:"outlined"})]}),_&&r.jsx(He,{color:"primary",sx:{ml:1},onClick:V=>{V.stopPropagation(),w(O.name)},children:r.jsx(Js,{})})]})})})},O.name)})}),r.jsx(An,{open:!!d,onClose:T,maxWidth:"sm",fullWidth:!0,children:d&&s[d]&&r.jsxs(r.Fragment,{children:[r.jsx(Un,{children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[r.jsxs(P,{variant:"h6",children:[d," - ",s[d].sessionName||k(s[d].sessionType)]}),r.jsx(He,{onClick:T,size:"small",children:r.jsx(gh,{})})]})}),r.jsx(Pn,{children:s[d].exercises&&s[d].exercises.length>0?r.jsxs(r.Fragment,{children:[r.jsx(P,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Exercises in this workout:"}),r.jsx(Yn,{dense:!0,children:s[d].exercises.map((O,R)=>r.jsxs(L,{children:[r.jsx(rt,{children:r.jsx(Tt,{primary:O.name||O.exerciseName,secondary:O.muscleGroup||O.category||""})}),R<s[d].exercises.length-1&&r.jsx(yn,{})]},R))})]}):r.jsxs(P,{variant:"body2",color:"text.secondary",children:["This is a ",k(s[d].sessionType)," session.",(s[d].sessionType.toLowerCase().includes("cardio")||s[d].sessionType.toLowerCase().includes("yoga"))&&" Choose your specific workout when ready to start."]})}),r.jsxs(On,{children:[r.jsx(Ae,{onClick:T,color:"inherit",children:"Close"}),r.jsx(Ae,{onClick:E,variant:"contained",startIcon:r.jsx(Js,{}),children:"Start Workout"})]})]})})]})};yE.propTypes={onStartWorkout:D.func,onNavigate:D.func};const xE=x.memo(({todaysWorkout:e,nextWorkouts:t=[],lastWorkout:s,onQuickStart:a,onNavigate:l,loading:u=!1})=>{const[d,h]=x.useState("");x.useEffect(()=>{const v={weekday:"long",year:"numeric",month:"long",day:"numeric"};h(new Date().toLocaleDateString("en-US",v))},[]);const p=s&&s.date,y=(()=>{if(!p)return null;const v=new Date(s.date),j=Math.abs(new Date-v);return Math.ceil(j/QF.MILLISECONDS_PER_DAY)})(),b=[{title:"Workouts",icon:r.jsx(cn,{fontSize:"large"}),description:"Start a workout",color:"primary",action:()=>l("selection")},{title:"Plans",icon:r.jsx(Tc,{fontSize:"large"}),description:"View weekly plan",color:"info",action:()=>l("plans")},{title:"HIIT",icon:r.jsx(Hc,{fontSize:"large"}),description:"High intensity training",color:"error",action:()=>l("hiit")},{title:"Stretching",icon:r.jsx(ti,{fontSize:"large"}),description:"Mobility & stretching",color:"secondary",action:()=>l("stretch")},{title:"Cardio",icon:r.jsx(mi,{fontSize:"large"}),description:"Track cardio activity",color:"warning",action:()=>l("cardio")}];return r.jsxs(L,{sx:{padding:{xs:"1rem",sm:"2rem",md:"3rem"},maxWidth:"1200px",margin:"0 auto",minHeight:"calc(100vh - 60px)"},children:[r.jsx(L,{sx:{mb:4,textAlign:"center"},children:r.jsx(P,{variant:"h5",sx:{fontWeight:600,color:"text.secondary",fontSize:{xs:"1rem",sm:"1.25rem"}},children:d})}),e&&r.jsx(et,{sx:{mb:4,borderRadius:3,boxShadow:"0 4px 16px rgba(19, 70, 134, 0.12)",background:"linear-gradient(135deg, rgba(19, 70, 134, 0.05) 0%, rgba(237, 63, 39, 0.05) 100%)"},children:r.jsxs(at,{sx:{p:3},children:[r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"start",mb:2},children:[r.jsxs(L,{children:[r.jsx(P,{variant:"overline",sx:{color:"primary.main",fontWeight:600,letterSpacing:1},children:"TODAY'S WORKOUT"}),r.jsxs(P,{variant:"h4",sx:{fontWeight:700,color:"text.primary",mt:1},children:[e.type!=="rest"?hC(e.type):"Rest Day",e.focus&&e.type!=="rest"&&r.jsx(ut,{label:e.focus,size:"small",sx:{ml:1,textTransform:"capitalize"}})]})]}),y!==null&&r.jsx(ut,{label:y===0?"Today":`${y}d ago`,size:"small",color:"primary",variant:"outlined"})]}),e.type!=="rest"?r.jsxs(r.Fragment,{children:[p&&r.jsxs(P,{variant:"body1",sx:{color:"text.secondary",mb:1},children:["Last session: ",zj(s.duration||0),s.exercises&&`  ${s.exercises.length} exercises`]}),e.estimatedDuration&&r.jsxs(P,{variant:"body1",sx:{color:"text.secondary",mb:2},children:["Estimated: ~",e.estimatedDuration," min"]}),r.jsx(Ae,{variant:"contained",size:"large",startIcon:r.jsx(Js,{}),onClick:a,disabled:u,sx:{mt:1},children:"START WORKOUT"})]}):r.jsx(P,{variant:"body1",sx:{color:"text.secondary"},children:"Recovery is key to growth. Take it easy today!"}),t.length>0&&r.jsxs(L,{sx:{mt:3,pt:3,borderTop:"1px solid",borderColor:"divider"},children:[r.jsx(P,{variant:"caption",sx:{color:"text.secondary",fontWeight:600,textTransform:"uppercase",letterSpacing:.5},children:"Coming Up:"}),r.jsx(Re,{spacing:.5,sx:{mt:1},children:t.slice(0,2).map((v,S)=>v.type!=="rest"&&r.jsx(L,{sx:{display:"flex",alignItems:"center",pl:1,borderLeft:"2px solid",borderColor:"primary.main"},children:r.jsxs(P,{variant:"body2",sx:{color:"text.primary"},children:[r.jsxs("strong",{children:[v.day,":"]})," ",hC(v.type)]})},S))})]})]})}),r.jsx(L,{sx:{mb:4},children:r.jsxs(No,{defaultExpanded:!1,sx:{borderRadius:2,"&:before":{display:"none"},boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[r.jsxs(Lo,{expandIcon:r.jsx(Da,{}),sx:{"& .MuiAccordionSummary-content":{alignItems:"center",gap:1}},children:[r.jsx(Tc,{color:"primary"}),r.jsx(P,{variant:"h6",fontWeight:600,children:"Weekly Schedule"})]}),r.jsx(zo,{children:r.jsx(yE,{onStartWorkout:v=>{if(console.log("Start workout from schedule:",v),a){const S=(v.sessionType||"full").toLowerCase();a(S)}},onNavigate:l})})]})}),r.jsxs(L,{children:[r.jsx(P,{variant:"h5",sx:{fontWeight:700,color:"text.primary",mb:3},children:"Quick Access"}),r.jsx(Qt,{container:!0,spacing:2,children:b.map((v,S)=>r.jsx(Qt,{item:!0,xs:6,sm:4,md:2.4,children:r.jsx(et,{sx:{height:"100%",cursor:"pointer",transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)"}},onClick:v.action,children:r.jsxs(at,{sx:{textAlign:"center",p:3,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"150px"},children:[r.jsx(L,{sx:{color:`${v.color}.main`,mb:1.5},children:v.icon}),r.jsx(P,{variant:"h6",sx:{fontWeight:600,mb:.5,fontSize:{xs:"1rem",sm:"1.25rem"}},children:v.title}),r.jsx(P,{variant:"caption",sx:{color:"text.secondary",fontSize:{xs:"0.7rem",sm:"0.75rem"}},children:v.description})]})})},S))})]})]})});xE.displayName="TodayView";xE.propTypes={todaysWorkout:D.shape({day:D.string,type:D.string,focus:D.string,estimatedDuration:D.number,description:D.string}),nextWorkouts:D.arrayOf(D.shape({day:D.string,type:D.string,description:D.string})),lastWorkout:D.shape({date:D.string,duration:D.number,exercises:D.array}),onQuickStart:D.func.isRequired,onNavigate:D.func.isRequired,loading:D.bool};const Bh=({title:e,subtitle:t,icon:s,action:a})=>r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",py:1,px:2,borderBottom:"1px solid",borderColor:"divider",mb:2},children:[r.jsxs(L,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[s&&r.jsx("span",{style:{fontSize:"1.2rem"},children:s}),r.jsx(P,{variant:"h6",sx:{fontSize:"1.1rem",fontWeight:700},children:e})]}),t&&r.jsx(P,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.875rem"},children:t})]}),a&&a]});Bh.propTypes={title:D.string.isRequired,subtitle:D.string,icon:D.node,action:D.node};const Cx=x.memo(({workoutType:e,selectedEquipment:t,equipmentOptions:s,onWorkoutTypeChange:a,onEquipmentChange:l,onStartWorkout:u,onCustomize:d,loading:h})=>{const[p,g]=x.useState([]),[y,b]=x.useState(!1),[v,S]=x.useState(null),[j,k]=x.useState(""),[w,T]=x.useState(null);x.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),Hi().then(g)},[]);const E=()=>{if(e){const B=t.has("all")?"all":Array.from(t);u(e,B)}},M=()=>{if(e&&d){const B=t.has("all")?"all":Array.from(t);d(e,B)}},W=async B=>{await PT(B);const z=await Hi();g(z)},O=B=>{S(B),k(B.name),b(!0)},R=async()=>{if(v&&j.trim()){await JR(v.id,j.trim());const B=await Hi();g(B),b(!1),S(null),k("")}},_=()=>{b(!1),S(null),k("")},N=B=>{a(B.type),l(B.equipment||"all");const z=B.equipment==="all"?"all":[B.equipment];u(B.type,z,B.exercises)},I=B=>{const z=new Set(t);B==="all"?(z.clear(),z.add("all")):(z.has("all")&&z.delete("all"),z.has(B)?z.delete(B):z.add(B),z.size===0&&z.add("all")),l(z)},V=()=>{if(t.has("all"))return"All Equipment";const B=Array.from(t);return B.length===0?"All Equipment":B.length===1?s.find(ue=>ue.toLowerCase()===B[0])||B[0]:`${B.length} selected`};return r.jsxs(L,{sx:{width:"100%",minHeight:"100vh"},children:[r.jsx(Bh,{title:"Workouts",icon:""}),r.jsxs(tt.div,{className:"screen selection-screen",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"calc(100vh - 4rem)",padding:"1rem",paddingBottom:"max(2rem, calc(env(safe-area-inset-bottom) + 1rem))",overflow:"auto"},children:[h?r.jsx(L,{sx:{textAlign:"center"},children:r.jsx(P,{variant:"h5",sx:{mb:2},children:"Generating workout..."})}):r.jsx(L,{sx:{width:"100%",maxWidth:800},children:r.jsx(et,{sx:{maxWidth:800,width:"100%",borderRadius:3,boxShadow:"0 8px 32px rgba(19, 70, 134, 0.12)"},children:r.jsxs(at,{sx:{p:{xs:2,sm:4}},children:[r.jsx(L,{sx:{mb:3},children:r.jsxs(Re,{direction:{xs:"column",sm:"row"},spacing:2,sx:{width:"100%"},children:[r.jsxs(Vt,{fullWidth:!0,children:[r.jsx(Mn,{id:"workout-type-label",children:"Workout Type"}),r.jsxs(qt,{labelId:"workout-type-label",id:"workout-type-select",value:e||"full",label:"Workout Type",onChange:B=>a(B.target.value),children:[r.jsx(We,{value:"full",children:"Full Body"}),r.jsx(We,{value:"upper",children:"Upper Body"}),r.jsx(We,{value:"lower",children:"Lower Body"}),r.jsx(We,{value:"push",children:"Push"}),r.jsx(We,{value:"pull",children:"Pull"}),r.jsx(We,{value:"legs",children:"Legs"})]})]}),r.jsx(L,{sx:{width:"100%"},children:r.jsxs(No,{sx:{boxShadow:"none",border:"1px solid rgba(0, 0, 0, 0.23)",borderRadius:"4px","&:before":{display:"none"},"&.Mui-expanded":{margin:0}},children:[r.jsx(Lo,{expandIcon:r.jsx(Da,{}),sx:{minHeight:"56px","&.Mui-expanded":{minHeight:"56px"},"& .MuiAccordionSummary-content":{margin:"16px 0","&.Mui-expanded":{margin:"16px 0"}}},children:r.jsxs(L,{sx:{display:"flex",flexDirection:"column",width:"100%"},children:[r.jsx(P,{variant:"caption",sx:{color:"rgba(0, 0, 0, 0.6)",fontSize:"0.75rem",lineHeight:1,mb:.5},children:"Equipment"}),r.jsx(P,{sx:{color:"rgba(0, 0, 0, 0.87)",fontSize:"1rem"},children:V()})]})}),r.jsx(zo,{sx:{pt:0,pb:2},children:r.jsxs(L,{component:"div",role:"group","aria-label":"Equipment selection",children:[r.jsx(Fd,{control:r.jsx(jS,{checked:t.has("all"),onChange:()=>I("all")}),label:"All Equipment",sx:{mb:1,display:"flex"}}),s.map(B=>r.jsx(Fd,{control:r.jsx(jS,{checked:t.has(B.toLowerCase()),onChange:()=>I(B.toLowerCase())}),label:B,sx:{mb:1,display:"flex"}},B))]})})]})})]})}),p.length>0&&r.jsx(L,{sx:{mb:3},children:r.jsxs(No,{sx:{boxShadow:"none","&:before":{display:"none"}},children:[r.jsx(Lo,{expandIcon:r.jsx(Da,{}),children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(Pa,{sx:{color:"warning.main"}}),r.jsxs(P,{variant:"h6",sx:{fontWeight:600,color:"text.primary",fontSize:{xs:"1rem",sm:"1.25rem"}},children:["Favorite Workouts (",p.length,")"]})]})}),r.jsx(zo,{children:r.jsx(Re,{spacing:1.5,children:p.map(B=>r.jsx(et,{sx:{border:"1px solid",borderColor:"divider",boxShadow:"none","&:hover":{boxShadow:"0 2px 8px rgba(19, 70, 134, 0.1)"}},children:r.jsxs(at,{sx:{p:2,"&:last-child":{pb:2}},children:[r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"start",mb:1},children:[r.jsxs(L,{sx:{flex:1},children:[r.jsx(P,{variant:"body1",sx:{fontWeight:600,mb:.5},children:B.name}),r.jsxs(Re,{direction:"row",spacing:1,sx:{mb:1},children:[r.jsx(ut,{label:B.type.charAt(0).toUpperCase()+B.type.slice(1),size:"small",sx:{fontSize:"0.7rem"}}),r.jsx(ut,{label:`${B.exercises.length} exercises`,size:"small",variant:"outlined",sx:{fontSize:"0.7rem"}})]})]}),r.jsxs(L,{sx:{display:"flex",gap:.5},children:[r.jsx(He,{size:"small",onClick:()=>O(B),sx:{color:"primary.main"},children:r.jsx(Tr,{fontSize:"small"})}),r.jsx(He,{size:"small",onClick:()=>W(B.id),sx:{color:"error.main"},children:r.jsx(qo,{fontSize:"small"})})]})]}),r.jsxs(No,{expanded:w===B.id,onChange:()=>T(w===B.id?null:B.id),sx:{boxShadow:"none","&:before":{display:"none"},bgcolor:"transparent"},children:[r.jsx(Lo,{expandIcon:r.jsx(Da,{}),sx:{minHeight:"auto","& .MuiAccordionSummary-content":{margin:"8px 0"}},children:r.jsx(P,{variant:"caption",sx:{fontWeight:600,color:"primary.main"},children:"View Exercises"})}),r.jsx(zo,{sx:{pt:0},children:r.jsx(Yn,{dense:!0,sx:{py:0},children:B.exercises.map((z,ue)=>r.jsx(rt,{sx:{px:0},children:r.jsx(Tt,{primary:z["Exercise Name"]||z.name||"Unknown Exercise",secondary:`${z.Equipment||z.equipment||"N/A"}  ${z["Primary Muscle"]||z.primaryMuscle||"N/A"}`,primaryTypographyProps:{variant:"body2",fontWeight:500},secondaryTypographyProps:{variant:"caption"}})},ue))})})]}),r.jsx(Ae,{size:"small",variant:"contained",onClick:()=>N(B),sx:{fontSize:"0.8rem",textTransform:"none",mt:1},fullWidth:!0,children:"Load Workout"})]})},B.id))})})]})}),r.jsxs(Re,{direction:"row",spacing:2,sx:{width:"100%"},children:[r.jsx(Ae,{variant:"outlined",size:"large",fullWidth:!0,disabled:!e,onClick:M,sx:{py:2,fontSize:"1.1rem",fontWeight:600,borderRadius:2,textTransform:"none",borderWidth:2,"&:hover":{borderWidth:2}},children:"Customize"}),r.jsx(Ae,{variant:"contained",size:"large",fullWidth:!0,disabled:!e,onClick:E,sx:{py:2,fontSize:"1.1rem",fontWeight:600,borderRadius:2,textTransform:"none"},children:"Generate"})]})]})})}),r.jsxs(An,{open:y,onClose:_,maxWidth:"sm",fullWidth:!0,children:[r.jsx(Un,{children:"Edit Workout Name"}),r.jsx(Pn,{children:r.jsx(ct,{autoFocus:!0,margin:"dense",label:"Workout Name",type:"text",fullWidth:!0,variant:"outlined",value:j,onChange:B=>k(B.target.value),onKeyPress:B=>{B.key==="Enter"&&R()}})}),r.jsxs(On,{children:[r.jsx(Ae,{onClick:_,color:"inherit",children:"Cancel"}),r.jsx(Ae,{onClick:R,variant:"contained",disabled:!j.trim(),children:"Save"})]})]})]})]})});Cx.displayName="SelectionScreen";Cx.propTypes={workoutType:D.string.isRequired,selectedEquipment:D.instanceOf(Set).isRequired,equipmentOptions:D.array.isRequired,onWorkoutTypeChange:D.func.isRequired,onEquipmentChange:D.func.isRequired,onStartWorkout:D.func.isRequired,onCustomize:D.func,onNavigate:D.func,loading:D.bool.isRequired};const Tg=({type:e,workoutType:t,defaultDuration:s=5,onComplete:a,onSkip:l})=>{const[u,d]=x.useState("ready"),[h,p]=x.useState(s),[g,y]=x.useState(s*60),b=x.useRef(null),v=x.useRef(null),S=x.useRef(null);x.useEffect(()=>()=>{b.current&&clearInterval(b.current)},[]);const k=(()=>{if(e==="warmup"){const _="Recommended: 5-10 minutes of dynamic stretching",N={upper:"Focus on shoulder circles, arm swings, chest openers, and back rotations",lower:"Focus on leg swings, hip circles, knee lifts, and ankle rotations",full:"Focus on full body movement - jumping jacks, arm circles, leg swings, and torso twists"};return{main:_,specific:N[t]||N.full}}else{const _="Recommended: 5-10 minutes of static stretching",N={upper:"Hold stretches for 20-30 seconds - focus on shoulders, chest, back, and triceps",lower:"Hold stretches for 20-30 seconds - focus on quads, hamstrings, glutes, and calves",full:"Hold stretches for 20-30 seconds - focus on all major muscle groups you trained"};return{main:_,specific:N[t]||N.full}}})(),w=()=>{if(u==="ready"||u==="completed"){const _=h*60;y(_),d("running"),v.current=Date.now(),b.current=setInterval(()=>{const N=Math.floor((Date.now()-v.current)/1e3),I=_-N;I<=0?(clearInterval(b.current),y(0),d("completed"),It.playBeep(880,300),setTimeout(()=>It.playBeep(1046,300),350)):y(I)},1e3)}else if(u==="paused"){d("running");const _=Date.now()-S.current;v.current=v.current+_;const N=h*60;b.current=setInterval(()=>{const I=Math.floor((Date.now()-v.current)/1e3),V=N-I;V<=0?(clearInterval(b.current),y(0),d("completed"),It.playBeep(880,300),setTimeout(()=>It.playBeep(1046,300),350)):y(V)},1e3)}},T=()=>{u==="running"&&(d("paused"),S.current=Date.now(),b.current&&clearInterval(b.current))},E=()=>{b.current&&clearInterval(b.current),d("ready"),y(h*60)},M=()=>{b.current&&clearInterval(b.current),a()},W=()=>{b.current&&clearInterval(b.current),l()},O=_=>{const N=Math.floor(_/60),I=_%60;return`${N}:${I.toString().padStart(2,"0")}`},R=(h*60-g)/(h*60)*100;return r.jsx(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},style:{width:"100%",maxWidth:"600px",margin:"0 auto",padding:"0.5rem"},children:r.jsx(et,{sx:{borderRadius:2,boxShadow:3,bgcolor:"background.paper"},children:r.jsxs(at,{sx:{p:3},children:[r.jsxs(L,{sx:{textAlign:"center",mb:3},children:[r.jsx(L,{sx:{display:"flex",justifyContent:"center",mb:2},children:e==="warmup"?r.jsx(cn,{sx:{fontSize:48,color:"warning.main"}}):r.jsx(ti,{sx:{fontSize:48,color:"info.main"}})}),r.jsx(P,{variant:"h5",sx:{fontWeight:600,mb:1},children:e==="warmup"?"Warm-Up Time":"Cool-Down Time"}),r.jsx(P,{variant:"body2",color:"text.secondary",sx:{mb:1},children:k.main}),r.jsx(P,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:k.specific})]}),u==="ready"&&r.jsxs(L,{sx:{mb:3},children:[r.jsx(P,{variant:"body2",color:"text.secondary",sx:{mb:1,textAlign:"center"},children:"Select Duration"}),r.jsx(Re,{direction:"row",spacing:1,justifyContent:"center",children:[5,7,10].map(_=>r.jsx(ut,{label:`${_} min`,onClick:()=>{p(_),y(_*60)},color:h===_?"primary":"default",variant:h===_?"filled":"outlined",sx:{minWidth:70,cursor:"pointer"}},_))})]}),r.jsxs(L,{sx:{textAlign:"center",mb:3},children:[r.jsx(P,{variant:"h1",sx:{fontWeight:700,fontSize:{xs:"3rem",sm:"4rem"},color:u==="completed"?"success.main":"text.primary"},children:O(g)}),u==="completed"&&r.jsx(P,{variant:"body1",color:"success.main",sx:{mt:1,fontWeight:600},children:" Time Complete!"})]}),(u==="running"||u==="paused"||u==="completed")&&r.jsxs(L,{sx:{mb:3},children:[r.jsx(Yi,{variant:"determinate",value:R,sx:{height:10,borderRadius:5,bgcolor:"rgba(0, 0, 0, 0.1)","& .MuiLinearProgress-bar":{bgcolor:e==="warmup"?"warning.main":"info.main",borderRadius:5}}}),r.jsxs(P,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.5,textAlign:"center"},children:[Math.round(R),"% complete"]})]}),r.jsxs(Re,{direction:"row",spacing:1,justifyContent:"center",sx:{mb:2},children:[(u==="ready"||u==="paused")&&r.jsx(Ae,{variant:"contained",size:"large",startIcon:r.jsx(Js,{}),onClick:w,sx:{minWidth:140},children:u==="paused"?"Resume":"Start Timer"}),u==="running"&&r.jsx(Ae,{variant:"contained",size:"large",startIcon:r.jsx(zg,{}),onClick:T,sx:{minWidth:140},children:"Pause"}),(u==="running"||u==="paused")&&r.jsx(He,{onClick:E,color:"primary",size:"large",sx:{border:"1px solid",borderColor:"primary.main"},children:r.jsx(H2,{})})]}),r.jsxs(Re,{direction:"row",spacing:2,sx:{mt:3},children:[r.jsxs(Ae,{variant:"outlined",fullWidth:!0,onClick:W,startIcon:r.jsx(mh,{}),children:["Skip ",e==="warmup"?"Warm-Up":"Cool-Down"]}),(u==="completed"||u==="running"||u==="paused")&&r.jsx(Ae,{variant:"contained",fullWidth:!0,onClick:M,color:"success",children:"Mark Complete"})]})]})})})};Tg.propTypes={type:D.oneOf(["warmup","cooldown"]).isRequired,workoutType:D.oneOf(["upper","lower","full"]).isRequired,defaultDuration:D.number,onComplete:D.func.isRequired,onSkip:D.func.isRequired};const d7=(e,t,s)=>{if(!e||!t||!s)return null;const a=t-s;if(a===0){const l=e+5;return{message:`Great job! Try ${l}lbs next set`,suggestedWeight:l,type:"success"}}if(a>=2){const l=e+10;return{message:`Excellent! You exceeded target by ${a} reps. Try ${l}lbs next set`,suggestedWeight:l,type:"excellent"}}if(a===1){const l=e+5;return{message:`Nice! Try ${l}lbs next set`,suggestedWeight:l,type:"good"}}return t<s?{message:`Keep going! Try ${e}lbs again to hit ${s} reps`,suggestedWeight:e,type:"maintain"}:null},h7=(e,t,s=3)=>{if(!e||!Array.isArray(e)||e.length<s||!t||t<=0)return!1;const a=t*e.length,l=e.reduce((d,h)=>d+(h.reps||0),0),u=a*.8;return l<=u},Tx=x.memo(x.forwardRef(({weight:e="",reps:t="",lastWeight:s=null,lastReps:a=null,onWeightChange:l,onRepsChange:u,weightIncrement:d=2.5,repsIncrement:h=1,disabled:p=!1},g)=>{const y=j=>{const k=parseFloat(e)||0,w=Math.max(0,k+j);l(w)},b=j=>{const k=parseInt(t)||0,w=Math.max(0,k+j);u(w)},S=(()=>{if(s===null||a===null)return null;const j=parseFloat(e)||0,k=parseInt(t)||0;return j>s?"weight":j===s&&k>a?"reps":null})();return r.jsxs(L,{sx:{width:"100%"},children:[r.jsxs(Re,{direction:"row",spacing:2,sx:{mb:1},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:.5,flex:1},children:[r.jsx(P,{variant:"caption",sx:{minWidth:"50px",fontWeight:600,color:"text.secondary"},children:"Weight:"}),r.jsx(He,{size:"small",onClick:()=>y(-d),disabled:p,sx:{border:"1px solid",borderColor:"divider",width:"32px",height:"32px"},children:r.jsx(Oa,{fontSize:"small"})}),r.jsx(ct,{type:"number",value:e,onChange:j=>l(j.target.value),disabled:p,inputMode:"decimal",inputRef:g,size:"small",sx:{width:"70px","& input":{textAlign:"center",padding:"8px 4px",fontSize:"1rem",fontWeight:600}}}),r.jsx(He,{size:"small",onClick:()=>y(d),disabled:p,sx:{border:"1px solid",borderColor:"divider",width:"32px",height:"32px"},children:r.jsx(gi,{fontSize:"small"})}),r.jsx(P,{variant:"caption",sx:{color:"text.secondary"},children:"lbs"})]}),r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:.5,flex:1},children:[r.jsx(P,{variant:"caption",sx:{minWidth:"40px",fontWeight:600,color:"text.secondary"},children:"Reps:"}),r.jsx(He,{size:"small",onClick:()=>b(-h),disabled:p,sx:{border:"1px solid",borderColor:"divider",width:"32px",height:"32px"},children:r.jsx(Oa,{fontSize:"small"})}),r.jsx(ct,{type:"number",value:t,onChange:j=>u(j.target.value),disabled:p,inputMode:"numeric",size:"small",sx:{width:"60px","& input":{textAlign:"center",padding:"8px 4px",fontSize:"1rem",fontWeight:600}}}),r.jsx(He,{size:"small",onClick:()=>b(h),disabled:p,sx:{border:"1px solid",borderColor:"divider",width:"32px",height:"32px"},children:r.jsx(gi,{fontSize:"small"})})]})]}),(s!==null||a!==null)&&r.jsxs(P,{variant:"caption",sx:{color:"text.secondary",display:"flex",alignItems:"center",gap:.5},children:["Last: ",s??"","  ",a??"",S==="weight"&&r.jsx("span",{style:{color:"green",fontWeight:600},children:" Weight"}),S==="reps"&&r.jsx("span",{style:{color:"green",fontWeight:600},children:" Reps"})]})]})}));Tx.displayName="ExerciseInputs";Tx.propTypes={weight:D.oneOfType([D.string,D.number]),reps:D.oneOfType([D.string,D.number]),lastWeight:D.number,lastReps:D.number,onWeightChange:D.func.isRequired,onRepsChange:D.func.isRequired,weightIncrement:D.number,repsIncrement:D.number,disabled:D.bool};const Vh=x.memo(({exerciseName:e,setNumber:t,totalSets:s,videoUrl:a,lastWeight:l=null,lastReps:u=null,onSubmit:d,onBack:h,showBack:p=!1,suggestedWeight:g=null,suggestedReps:y=null,showSuggestions:b=!0,elapsedTime:v=null,currentStep:S=1,totalSteps:j=1,isFavorite:k=!1,onToggleFavorite:w=null,onSkip:T=null,onSwap:E=null,onPartialComplete:M=null,onExit:W=null,showPartialComplete:O=!1})=>{const[R,_]=x.useState(l||""),[N,I]=x.useState(u||""),[V,B]=x.useState(!1),[z,ue]=x.useState(!1),U=x.useRef(null),[ae,F]=x.useState("3rem"),Y=ve=>{ve.preventDefault(),B(!0),setTimeout(()=>{d({weight:parseFloat(R)||0,reps:parseInt(N)||0}),B(!1),ue(!1)},800)},ge=()=>{g!==null&&_(g),y!==null&&I(y),ue(!0)};x.useEffect(()=>{const ve=()=>{const ce=U.current;if(!ce||!e)return;const xe=ce.parentElement;if(!xe)return;const be=xe.clientWidth,re=window.innerWidth<600?32:64,G=be-re*2;if(G<=0)return;const le=150,$=32,he=2,Te=e.split(" ");let Oe=e;if(Te.length>1){let Ge=1/0;for(let Pe=1;Pe<Te.length;Pe++){const ie=Te.slice(0,Pe).join(" "),we=Te.slice(Pe).join(" "),q=Math.abs(ie.length-we.length);q<Ge&&(Ge=q,Oe=`${ie}
${we}`)}}const me=document.createElement("div");me.style.visibility="hidden",me.style.position="absolute",me.style.width=G+"px",me.style.fontFamily=getComputedStyle(ce).fontFamily,me.style.fontWeight="700",me.style.lineHeight="1.2",me.style.whiteSpace="pre-wrap",me.style.textAlign="center",me.textContent=Oe,document.body.appendChild(me);let te=$,ee=le,Ie=$;for(;te<=ee;){const Ge=Math.floor((te+ee)/2);me.style.fontSize=Ge+"px";const Pe=Ge*1.2,ie=me.offsetHeight;Math.ceil(ie/Pe)<=he?(Ie=Ge,te=Ge+1):ee=Ge-1}document.body.removeChild(me),F(`${Ie}px`)};ve();const X=()=>ve();window.addEventListener("resize",X);const Z=setTimeout(ve,100);return()=>{window.removeEventListener("resize",X),clearTimeout(Z)}},[e]);const pe=()=>b&&!V&&!z&&(g!==null||y!==null),Me=ve=>{const X=Math.floor(ve/60),Z=ve%60;return`${X}:${Z.toString().padStart(2,"0")}`};return r.jsxs(L,{className:"exercise-card",sx:{display:"flex",flexDirection:"column",height:"100%",minHeight:{xs:"calc(100vh - 140px)",sm:"calc(100vh - 160px)"},p:{xs:2,sm:3}},children:[r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1.5,flexShrink:0},children:[v!==null&&r.jsx(P,{variant:"body1",sx:{fontWeight:600,fontSize:{xs:"0.9rem",sm:"1.25rem"}},children:Me(v)}),r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(ut,{label:`Set ${t} of ${s}`,color:"primary",size:"small",sx:{fontWeight:600,fontSize:{xs:"0.7rem",sm:"0.85rem"}}}),r.jsxs(P,{variant:"body1",sx:{fontWeight:600,fontSize:{xs:"0.9rem",sm:"1.25rem"}},children:[S,"/",j]}),w&&r.jsx(He,{onClick:w,size:"small",sx:{color:k?"warning.main":"action.active","&:hover":{color:"warning.main"},p:{xs:.5,sm:1}},"aria-label":"Toggle favorite",children:k?r.jsx(Pa,{sx:{fontSize:{xs:20,sm:24}}}):r.jsx(NC,{sx:{fontSize:{xs:20,sm:24}}})})]})]}),r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:1,mb:2,flexShrink:0},children:[r.jsxs(L,{sx:{display:"flex",gap:1},children:[r.jsx(He,{component:"a",href:`https://www.google.com/search?q=${encodeURIComponent(e+" form")}`,target:"_blank",rel:"noopener noreferrer",sx:{minWidth:{xs:"36px",sm:"44px"},minHeight:{xs:"36px",sm:"44px"},color:"primary.main",border:"2px solid",borderColor:"primary.main",borderRadius:"8px","&:hover":{backgroundColor:"rgba(19, 70, 134, 0.08)"}},"aria-label":`Search for ${e} form guide`,children:r.jsx(U2,{sx:{fontSize:{xs:20,sm:24}}})}),T&&r.jsx(He,{onClick:T,sx:{minWidth:{xs:"36px",sm:"44px"},minHeight:{xs:"36px",sm:"44px"},color:"primary.main",border:"2px solid",borderColor:"primary.main",borderRadius:"8px","&:hover":{backgroundColor:"rgba(19, 70, 134, 0.08)"}},"aria-label":"Skip exercise",children:r.jsx(mh,{sx:{fontSize:{xs:20,sm:24}}})}),E&&r.jsx(He,{onClick:E,sx:{minWidth:{xs:"36px",sm:"44px"},minHeight:{xs:"36px",sm:"44px"},color:"primary.main",border:"2px solid",borderColor:"primary.main",borderRadius:"8px","&:hover":{backgroundColor:"rgba(19, 70, 134, 0.08)"}},"aria-label":"Swap exercise",children:r.jsx(q2,{sx:{fontSize:{xs:20,sm:24}}})})]}),r.jsxs(L,{sx:{display:"flex",gap:1},children:[O&&M&&r.jsx(He,{onClick:M,sx:{minWidth:{xs:"36px",sm:"44px"},minHeight:{xs:"36px",sm:"44px"},color:"rgb(254, 178, 26)",border:"2px solid rgb(254, 178, 26)",borderRadius:"8px","&:hover":{backgroundColor:"rgba(254, 178, 26, 0.08)"}},"aria-label":"End and save workout",children:r.jsx(gr,{sx:{fontSize:{xs:20,sm:24}}})}),W&&r.jsx(He,{onClick:W,sx:{minWidth:{xs:"36px",sm:"44px"},minHeight:{xs:"36px",sm:"44px"},color:"rgb(237, 63, 39)",border:"2px solid rgb(237, 63, 39)",borderRadius:"8px","&:hover":{backgroundColor:"rgba(237, 63, 39, 0.08)"}},"aria-label":"End workout without saving",children:r.jsx(Y2,{sx:{fontSize:{xs:20,sm:24}}})})]})]}),r.jsx(L,{sx:{mb:2,flexShrink:0},children:r.jsx(P,{ref:U,variant:"h3",component:"h2",sx:{fontWeight:700,fontSize:ae,color:"primary.main",textAlign:"center",lineHeight:"1.2 !important",px:{xs:2,sm:4},wordBreak:"break-word",overflowWrap:"break-word",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e})}),a&&r.jsx(L,{sx:{position:"relative",paddingBottom:"56.25%",height:0,overflow:"hidden",borderRadius:2,mb:2,flexShrink:0},children:r.jsx("iframe",{src:a,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",border:"none",borderRadius:"8px"},frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),V&&r.jsx(Ft,{icon:r.jsx(Cr,{}),severity:"success",sx:{mb:2,flexShrink:0},children:"Set logged! Moving to next..."}),pe()&&r.jsx(Ft,{icon:r.jsx(Aa,{}),severity:"info",sx:{mb:2,flexShrink:0,"& .MuiAlert-message":{width:"100%"}},children:r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[r.jsxs(P,{variant:"body2",children:[" Try: ",g," lbs  ",y," reps",l&&g>l&&" ( weight)",l&&g===l&&y>u&&" ( reps)"]}),r.jsxs(L,{sx:{display:"flex",gap:1},children:[r.jsx(Ae,{size:"small",onClick:ge,variant:"contained",children:"Accept"}),r.jsx(Ae,{size:"small",onClick:()=>ue(!0),variant:"outlined",children:"Skip"})]})]})}),r.jsx(L,{sx:{flex:1,minHeight:{xs:"20px",sm:"40px"}}}),r.jsxs(L,{component:"form",onSubmit:Y,sx:{flexShrink:0},children:[r.jsx(L,{sx:{mb:3},children:r.jsx(Tx,{weight:R,reps:N,lastWeight:l,lastReps:u,onWeightChange:_,onRepsChange:I,disabled:V})}),r.jsxs(Re,{direction:"row",spacing:2,children:[p&&r.jsx(Ae,{type:"button",variant:"outlined",onClick:h,disabled:V,startIcon:r.jsx(Lg,{}),sx:{minHeight:"44px"},children:"Back"}),r.jsx(Ae,{type:"submit",variant:"contained",fullWidth:!p,disabled:V,endIcon:r.jsx(G2,{}),sx:{minHeight:"44px"},children:V?"Logging...":"Next"})]})]})]})});Vh.displayName="ExerciseCard";Vh.propTypes={exerciseName:D.string.isRequired,setNumber:D.number.isRequired,totalSets:D.number.isRequired,videoUrl:D.string,lastWeight:D.number,lastReps:D.number,onSubmit:D.func.isRequired,onBack:D.func,showBack:D.bool,suggestedWeight:D.number,suggestedReps:D.number,showSuggestions:D.bool,elapsedTime:D.number,currentStep:D.number,totalSteps:D.number,isFavorite:D.bool,onToggleFavorite:D.func,onSkip:D.func,onSwap:D.func,onPartialComplete:D.func,onExit:D.func,showPartialComplete:D.bool};const bE=({workoutPlan:e,onComplete:t,onExit:s,supersetConfig:a=[2,2,2,2],setsPerSuperset:l=3})=>{const[u,d]=x.useState(0),[h,p]=x.useState([]),[g,y]=x.useState(0),[b,v]=x.useState(null),[S,j]=x.useState(null),[k,w]=x.useState(!1),[T,E]=x.useState(!1),[M,W]=x.useState({}),[O,R]=x.useState(new Set),[_,N]=x.useState({}),I=x.useRef(null),V=x.useRef(null),[B,z]=x.useState("warmup"),[ue,U]=x.useState(!1),[ae,F]=x.useState(!1),[Y,ge]=x.useState(!1),[pe,Me]=x.useState(!1),[ve,X]=x.useState("full"),Z=x.useMemo(()=>{const ie=[];let we=0;for(const q of a){const fe=[];for(let ye=0;ye<q&&we<e.length;ye++)e[we]&&fe.push(e[we]),we++;if(fe.length!==0)for(let ye=1;ye<=l;ye++)for(const Ee of fe)ie.push({exercise:Ee,setNumber:ye})}return ie},[e,a,l]);x.useEffect(()=>{const ie=Vo(e[0]);X(ie);const we=localStorage.getItem("goodlift_stretch_prefs");(we?JSON.parse(we):{showWarmup:!0}).showWarmup||(F(!0),z("exercise"))},[e]),x.useEffect(()=>(I.current=Date.now(),V.current=setInterval(()=>{const we=Math.floor((Date.now()-I.current)/1e3);y(we)},1e3),(async()=>{const we={},q=[...new Set(e.map(fe=>fe["Exercise Name"]))];await Promise.all(q.map(async fe=>{const[ye,Ee]=await Promise.all([Ma(fe),Fi(fe)]);we[fe]={weight:ye??null,reps:Ee??null}})),W(we)})(),()=>{V.current&&clearInterval(V.current)}),[e]),x.useEffect(()=>{const ie=Z[u];if(ie?.exercise?.["Exercise Name"]){const we=ie.exercise["Exercise Name"],q=M[we],fe=_[we]??q?.weight??null;v(fe),j(q?.reps??null)}window.scrollTo({top:0,behavior:"smooth"})},[u,M,Z,_]);const ce=Z[u],xe=ce?.exercise?.["Exercise Name"],be=x.useMemo(()=>!xe||!S||!b||O.has(xe)?null:d7(b,S,S),[xe,S,b,O]),re=async ie=>{const we={};ie.forEach(({exerciseName:q,setNumber:fe,weight:ye,reps:Ee})=>{we[q]||(we[q]=[]),we[q].push({setNumber:fe,weight:ye,reps:Ee})});for(const[q,fe]of Object.entries(we)){const ye=M[q]||{weight:null,reps:null},Ee=ye.reps??0,_e=ye.weight,Le=fe.map(Fe=>Fe.reps).filter(Fe=>typeof Fe=="number"&&!isNaN(Fe));if(Le.length===0)continue;const Ze=Math.min(...Le),Be=Le.every(Fe=>Fe>=Ee);if(Le.every(Fe=>Fe>Ee)&&Ze>0&&await Xd(q,Ze),Be){const Fe=fe[fe.length-1].weight;typeof Fe=="number"&&!isNaN(Fe)&&Fe>=0&&Fe!==_e&&await Bi(q,Fe)}}},G=()=>{U(!0),z("exercise")},le=()=>{F(!0),z("exercise")},$=()=>{ge(!0),z("complete")},he=()=>{Me(!0),z("complete")},Te=()=>{const ie=Math.floor((Date.now()-I.current)/1e3);V.current&&clearInterval(V.current);const we={date:new Date().toISOString(),type:e[0]?.["Primary Muscle"]||"unknown",duration:ie,exercises:{},warmupCompleted:ue,warmupSkipped:ae,cooldownCompleted:Y,cooldownSkipped:pe,totalDuration:ie};h.forEach(q=>{const{exerciseName:fe,setNumber:ye,weight:Ee,reps:_e}=q;we.exercises[fe]||(we.exercises[fe]={sets:[]}),we.exercises[fe].sets.push({set:ye,weight:Ee,reps:_e})}),t(we)},Oe=async ie=>{const we=Math.max(0,parseFloat(ie.weight)||0),q=parseInt(ie.reps,10),fe=q>0?q:0,ye=ce.exercise["Exercise Name"],Ee=_[ye]??M[ye]?.weight;we!==Ee&&Ee!==null&&Ee!==void 0&&(R(Ze=>new Set(Ze).add(ye)),N(Ze=>({...Ze,[ye]:we})));const _e={exerciseName:ye,setNumber:ce.setNumber,weight:we,reps:fe},Le=[...h,_e];if(p(Le),u+1>=Z.length){await re(Le);const Ze=localStorage.getItem("goodlift_stretch_prefs");(Ze?JSON.parse(Ze):{showCooldown:!0}).showCooldown?z("cooldown"):(Me(!0),z("complete"))}else d(Ze=>Ze+1)},me=()=>{u>0&&(d(ie=>ie-1),p(ie=>ie.slice(0,-1)))},te=async()=>{if(window.confirm("Save this workout as partially complete? Your current progress will be saved.")){await re(h);const ie=Math.floor((Date.now()-I.current)/1e3);V.current&&clearInterval(V.current);const we={date:new Date().toISOString(),type:e[0]?.["Primary Muscle"]||"unknown",duration:ie,exercises:{},isPartial:!0};h.forEach(q=>{const{exerciseName:fe,setNumber:ye,weight:Ee,reps:_e}=q;we.exercises[fe]||(we.exercises[fe]={sets:[]}),we.exercises[fe].sets.push({set:ye,weight:Ee,reps:_e})}),t(we)}},ee=()=>{window.confirm("Are you sure you want to exit? Your progress will not be saved.")&&(V.current&&clearInterval(V.current),s())},Ie=()=>{try{const ie=Vo(e[0]);iy({name:`${ie.charAt(0).toUpperCase()+ie.slice(1)} Body Workout`,type:ie,equipment:"all",exercises:e}),w(!0),E(!0)}catch(ie){console.error("Error saving to favorites:",ie),alert("Failed to save workout to favorites")}},Ge=()=>{if(window.confirm("Skip all remaining sets of this exercise?")){let ie=u+1;const we=ce.exercise["Exercise Name"];for(;ie<Z.length&&Z[ie].exercise["Exercise Name"]===we;)ie++;ie>=Z.length?z("cooldown"):d(ie)}},Pe=()=>{alert("Exercise swap feature coming soon! For now, you can skip this exercise and manually add a different one later.")};if(!ce&&B==="exercise")return null;if(B==="warmup"){const ie=localStorage.getItem("goodlift_stretch_prefs"),we=ie?JSON.parse(ie):{defaultWarmupDuration:5};return r.jsxs("div",{className:"screen",style:{paddingBottom:"100px",padding:"0.5rem",maxWidth:"100vw",boxSizing:"border-box"},children:[r.jsx(L,{sx:{mb:1.5,px:{xs:.5,sm:0}},children:r.jsx(P,{variant:"h6",sx:{fontWeight:600,textAlign:"center",mb:1},children:"Warm-Up Phase"})}),r.jsx(Tg,{type:"warmup",workoutType:ve,defaultDuration:we.defaultWarmupDuration||5,onComplete:G,onSkip:le})]})}if(B==="cooldown"){const ie=localStorage.getItem("goodlift_stretch_prefs"),we=ie?JSON.parse(ie):{defaultCooldownDuration:5};return r.jsxs("div",{className:"screen",style:{paddingBottom:"100px",padding:"0.5rem",maxWidth:"100vw",boxSizing:"border-box"},children:[r.jsx(L,{sx:{mb:1.5,px:{xs:.5,sm:0}},children:r.jsx(P,{variant:"h6",sx:{fontWeight:600,textAlign:"center",mb:1},children:"Cool-Down Phase"})}),r.jsx(Tg,{type:"cooldown",workoutType:ve,defaultDuration:we.defaultCooldownDuration||5,onComplete:$,onSkip:he})]})}return B==="complete"?r.jsx("div",{className:"screen",style:{paddingBottom:"100px",padding:"2rem",maxWidth:"100vw",boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"60vh"},children:r.jsxs(tt.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},style:{textAlign:"center"},children:[r.jsx($2,{sx:{fontSize:80,color:"primary.main",mb:2}}),r.jsx(P,{variant:"h4",sx:{fontWeight:600,mb:2},children:"Workout Complete! "}),r.jsxs(P,{variant:"body1",color:"text.secondary",sx:{mb:3},children:["Great job! You've completed your workout",!ae&&!pe?" including warmup and cooldown phases":ae?pe?"":" including cooldown phase":" including warmup phase","."]}),r.jsx(Ae,{variant:"contained",size:"large",onClick:Te,sx:{mt:2},children:"Finish Workout"})]})}):r.jsxs("div",{className:"screen",style:{padding:"0.5rem",maxWidth:"100vw",boxSizing:"border-box"},children:[r.jsx(L,{sx:{mb:1.5,px:{xs:.5,sm:0}},children:r.jsx(Yi,{variant:"determinate",value:u/Z.length*100,sx:{height:{xs:6,sm:8},borderRadius:4,bgcolor:"rgba(138, 190, 185, 0.2)","& .MuiLinearProgress-bar":{bgcolor:"primary.main",borderRadius:4}}})}),r.jsx("div",{className:"exercise-card-container",children:r.jsx(Pc,{mode:"wait",children:r.jsx(tt.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},children:r.jsx(Vh,{exerciseName:xe,setNumber:ce.setNumber,totalSets:l,lastWeight:b,lastReps:S,suggestedWeight:be?.suggestedWeight,suggestedReps:be?.suggestedReps,showSuggestions:!O.has(xe),onSubmit:Oe,onBack:u>0?me:null,showBack:u>0,elapsedTime:g,currentStep:u+1,totalSteps:Z.length,isFavorite:k,onToggleFavorite:Ie,onSkip:Ge,onSwap:Pe,onPartialComplete:h.length>0?te:null,onExit:ee,showPartialComplete:h.length>0})},u)})}),r.jsx(Fs,{open:T,autoHideDuration:3e3,onClose:()=>E(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(Ft,{severity:"success",onClose:()=>E(!1),children:"Workout saved to favorites!"})})]})};bE.propTypes={workoutPlan:D.array.isRequired,onComplete:D.func.isRequired,onExit:D.func.isRequired,supersetConfig:D.arrayOf(D.number),setsPerSuperset:D.number};const kx=({value:e,onChange:t,availableExercises:s,label:a="Exercise",placeholder:l="Type to search and swap exercise...",size:u="small",fullWidth:d=!0,disabled:h=!1,sx:p={}})=>{const g=y=>{if(!y)return s;const b=y.toLowerCase().split(" ").filter(v=>v.length>0);return s.filter(v=>{const S=[v["Exercise Name"],v["Primary Muscle"],v["Secondary Muscles"],v.Equipment,v["Movement Pattern"],v.Difficulty,v["Workout Type"]].join(" ").toLowerCase();return b.every(j=>S.includes(j))})};return r.jsx(RC,{fullWidth:d,size:u,options:s,value:e,onChange:t,disabled:h,getOptionLabel:y=>y["Exercise Name"]||y.name||"",filterOptions:(y,b)=>g(b.inputValue),isOptionEqualToValue:(y,b)=>(y["Exercise Name"]||y.name)===(b["Exercise Name"]||b.name),renderInput:y=>r.jsx(ct,{...y,label:a,placeholder:l}),renderOption:(y,b)=>{const{key:v,...S}=y;return r.jsx("li",{...S,children:r.jsxs(L,{children:[r.jsx(P,{variant:"body2",children:b["Exercise Name"]}),r.jsxs(P,{variant:"caption",color:"text.secondary",children:[b["Primary Muscle"],"  ",b.Equipment]})]})},v)},noOptionsText:"No exercises found. Try different search terms.",sx:p})};kx.propTypes={value:D.object,onChange:D.func.isRequired,availableExercises:D.array.isRequired,label:D.string,placeholder:D.string,size:D.string,fullWidth:D.bool,disabled:D.bool,sx:D.object};const jx=x.memo(({workout:e,workoutType:t,onStart:s,onCancel:a,onRandomizeExercise:l,isCustomizeMode:u=!1,supersetConfig:d=[2,2,2,2],setsPerSuperset:h=3})=>{const[p,g]=x.useState({}),[y,b]=x.useState(!0),[v,S]=x.useState(!1),[j,k]=x.useState(!1),[w,T]=x.useState(!1),[E,M]=x.useState({}),[W,O]=x.useState({open:!1,message:"",severity:"info"}),[R,_]=x.useState([]),[N,I]=x.useState(e),[V,B]=x.useState(h);x.useEffect(()=>{(async()=>{try{const ce=await(await fetch(_h)).json();_(ce)}catch(Z){console.error("Error loading exercises:",Z),_([])}})()},[]),x.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),(async()=>{const Z={};if(u){I(e),g({}),b(!1);return}const ce=e.filter(xe=>xe!==null);for(const xe of ce){const be=xe["Exercise Name"],[re,G]=await Promise.all([Ma(be),Fi(be)]);Z[be]={weight:re??"",targetReps:G??""}}g(Z),I(e),b(!1)})()},[e,u,d]),x.useEffect(()=>{const X=async()=>{const Z=Object.keys(p),xe=e.filter(be=>be!==null).filter(be=>!Z.includes(be["Exercise Name"]));if(xe.length>0){const be={...p};for(const re of xe){const G=re["Exercise Name"];if(!E[G]){const[le,$]=await Promise.all([Ma(G),Fi(G)]);be[G]={weight:le??"",targetReps:$??""}}}g(be)}};!y&&Object.keys(p).length>0&&X()},[e,y]);const z=(X,Z)=>{if(Z===""||/^\d*\.?\d*$/.test(Z)){const ce=Z===""?"":parseFloat(Z);g(xe=>({...xe,[X]:{...xe[X],weight:ce}})),M(xe=>({...xe,[X]:{...xe[X],weightCustomized:!0}}))}},ue=(X,Z)=>{if(Z===""||Z===null||Z===void 0)return;const ce=parseFloat(Z);if(!isNaN(ce)&&ce>0){const xe=Math.round(ce/2.5)*2.5;xe!==ce&&(g(be=>({...be,[X]:{...be[X],weight:xe}})),O({open:!0,message:`Weight adjusted to ${xe} lbs (nearest 2.5 lb increment)`,severity:"info"}))}},U=(X,Z)=>{if(Z===""||/^\d+$/.test(Z)){const ce=Z===""?"":parseInt(Z,10);g(xe=>({...xe,[X]:{...xe[X],targetReps:ce}})),M(xe=>({...xe,[X]:{...xe[X],repsCustomized:!0}}))}},ae=(X,Z)=>{if(Z===""||Z===null||Z===void 0)return;const ce=parseInt(Z,10);(isNaN(ce)||ce<1)&&g(xe=>({...xe,[X]:{...xe[X],targetReps:""}}))},F=x.useCallback((X,Z)=>{l&&l(X,Z)},[l]),Y=x.useCallback((X,Z)=>{if(!Z)return;I(xe=>{const be=[...xe];return be[X]=Z,be});const ce=Z["Exercise Name"];E[ce]||Ma(ce).then(xe=>{Fi(ce).then(be=>{g(re=>({...re,[ce]:{weight:xe??"",targetReps:be??""}}))})})},[E]),ge=async()=>{if(!v){S(!0);try{if(u&&N.some(Z=>Z===null)){O({open:!0,message:"Please select exercises for all slots before starting",severity:"warning"}),S(!1);return}for(const[X,Z]of Object.entries(p)){const ce=Z.weight===""?null:Z.weight,xe=Z.targetReps===""?null:Z.targetReps;await Bi(X,ce),await Xd(X,xe)}s(N,d,V)}catch(X){console.error("Error starting workout:",X),S(!1)}}},pe=()=>{try{const X=N.filter(Z=>Z!==null);iy({name:`${t.charAt(0).toUpperCase()+t.slice(1)} Body Workout`,type:t,exercises:X}),k(!0),T(!0)}catch(X){console.error("Error saving to favorites:",X)}},Me=[];let ve=0;for(const X of d){const Z=[];for(let ce=0;ce<X&&ve<N.length;ce++)Z.push(N[ve]),ve++;Z.length>0&&Me.push(Z)}return y?r.jsx(L,{sx:{textAlign:"center",py:8,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:r.jsx(tt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:r.jsxs(P,{variant:"h5",sx:{color:"text.secondary",fontWeight:500},children:["Loading",r.jsx(tt.span,{initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:"..."})]})})}):r.jsxs(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"screen",style:{maxWidth:"900px",margin:"0 auto",padding:"1rem",width:"100%",boxSizing:"border-box",overflowX:"hidden"},children:[r.jsxs(L,{sx:{mb:{xs:2,sm:4},textAlign:"center",position:"relative",px:{xs:.5,sm:0}},children:[r.jsx(He,{onClick:pe,disabled:j,size:"small",sx:{position:"absolute",top:0,right:{xs:0,sm:0},color:j?"warning.main":"action.active",minWidth:"44px",minHeight:"44px","&:hover":{color:"warning.main"},p:{xs:.5,sm:1}},"aria-label":"Save to favorites",children:j?r.jsx(Pa,{sx:{fontSize:{xs:24,sm:32}}}):r.jsx(DS,{sx:{fontSize:{xs:24,sm:32}}})}),r.jsx(tt.div,{initial:{scale:.8},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},children:r.jsx(cn,{sx:{fontSize:{xs:48,sm:60},color:"primary.main",mb:{xs:1,sm:2}}})}),r.jsx(P,{variant:"h3",component:"h1",gutterBottom:!0,sx:{fontWeight:700,color:"primary.main",fontSize:{xs:"1.5rem",sm:"3rem"}},children:u?"Customize Your Workout":`Your ${t.charAt(0).toUpperCase()+t.slice(1)} Body Workout`}),r.jsxs(P,{variant:"subtitle1",color:"text.secondary",sx:{mb:1,fontSize:{xs:"0.875rem",sm:"1rem"}},children:[Me.length," Supersets  ",N.filter(X=>X!==null).length," Exercises  ",V," Sets Each"]}),r.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1,mb:1},children:[r.jsx(P,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Sets per superset:"}),r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:.5},children:[r.jsx(He,{size:"small",onClick:()=>B(X=>Math.max(1,X-1)),disabled:V<=1,sx:{minWidth:"32px",minHeight:"32px",bgcolor:"action.hover","&:hover":{bgcolor:"action.selected"}},children:r.jsx(Oa,{fontSize:"small"})}),r.jsx(P,{variant:"h6",sx:{fontWeight:700,color:"primary.main",minWidth:"32px",textAlign:"center",fontSize:{xs:"1rem",sm:"1.25rem"}},children:V}),r.jsx(He,{size:"small",onClick:()=>B(X=>Math.min(10,X+1)),disabled:V>=10,sx:{minWidth:"32px",minHeight:"32px",bgcolor:"action.hover","&:hover":{bgcolor:"action.selected"}},children:r.jsx(gi,{fontSize:"small"})})]})]}),r.jsx(P,{variant:"body2",color:"primary.main",sx:{fontWeight:600,fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:u?"Select exercises and set your target weight and reps for each":"Set your starting target weight and target reps for each exercise"})]}),r.jsx(Re,{spacing:{xs:2,sm:3},sx:{px:{xs:.5,sm:0}},children:Me.map((X,Z)=>r.jsx(tt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*Z,duration:.4},children:r.jsx(et,{sx:{background:"linear-gradient(135deg, rgba(138, 190, 185, 0.1), rgba(193, 120, 90, 0.1))",border:"2px solid",borderColor:"primary.main",borderRadius:3,transition:"all 0.3s ease",maxWidth:"100%",boxSizing:"border-box","&:hover":{transform:"translateY(-4px)",boxShadow:"0 12px 24px rgba(48, 86, 105, 0.2)"}},children:r.jsxs(at,{sx:{p:{xs:1.5,sm:2},"&:last-child":{pb:{xs:1.5,sm:2}}},children:[r.jsx(P,{variant:"h6",gutterBottom:!0,sx:{color:"secondary.main",fontWeight:600,mb:1.5,display:"flex",alignItems:"center",gap:1},children:r.jsx(ut,{label:`Superset ${Z+1}`,size:"small",sx:{bgcolor:"secondary.main",color:"white",fontWeight:600}})}),r.jsx(Re,{spacing:{xs:1,sm:1.5},children:X.map((ce,xe)=>{const be=ce?ce["Exercise Name"]:null,re=be?p[be]||{weight:"",targetReps:""}:{weight:"",targetReps:""},G=Me.slice(0,Z).reduce(($,he)=>$+he.length,0)+xe,le=String.fromCharCode(65+xe);return r.jsxs(L,{sx:{p:{xs:1,sm:1.5},bgcolor:"background.paper",borderRadius:2,transition:"all 0.2s ease"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"flex-start",gap:{xs:1,sm:1.5},mb:{xs:1,sm:1.5}},children:[r.jsx(P,{sx:{fontSize:{xs:"1.25rem",sm:"1.75rem"},color:"primary.main",fontWeight:700,width:{xs:"28px",sm:"36px"},textAlign:"center",flexShrink:0},children:le}),r.jsx(L,{sx:{flex:1,minWidth:0},children:r.jsx(L,{sx:{mb:.5},children:r.jsx(kx,{value:ce,onChange:($,he)=>{he&&Y(G,he)},availableExercises:R,label:"Exercise",placeholder:u?"Type to search and select...":"Type to search and swap...",disabled:R.length===0})})})]}),ce&&r.jsxs(r.Fragment,{children:[r.jsxs(Re,{direction:"row",spacing:{xs:1,sm:1.5},sx:{pl:{xs:3.5,sm:5.5},flexWrap:{xs:"wrap",sm:"nowrap"},mb:{xs:1,sm:1.5}},children:[r.jsx(ct,{type:"tel",inputMode:"decimal",value:re.weight===""?"":re.weight,onChange:$=>z(be,$.target.value),onBlur:$=>ue(be,$.target.value),onFocus:$=>$.target.select(),placeholder:ce.Equipment?.toLowerCase()==="bodyweight"?"N/A":"Weight (lbs)",size:"small",disabled:ce.Equipment?.toLowerCase()==="bodyweight",inputProps:{min:0,max:500,step:2.5,pattern:"[0-9]*([.,][0-9]+)?","aria-label":`Target weight in pounds for ${be}`},sx:{minWidth:{xs:100,sm:120},flex:{xs:"1 1 45%",sm:"none"},"& .MuiInputBase-input.Mui-disabled":{WebkitTextFillColor:"rgba(0, 0, 0, 0.38)",backgroundColor:"rgba(0, 0, 0, 0.04)"}}}),r.jsx(ct,{type:"tel",inputMode:"numeric",value:re.targetReps===""?"":re.targetReps,onChange:$=>U(be,$.target.value),onBlur:$=>ae(be,$.target.value),onFocus:$=>$.target.select(),placeholder:"Reps",size:"small",inputProps:{min:1,max:20,step:1,pattern:"\\d*","aria-label":`Target repetitions for ${be}`},sx:{minWidth:{xs:100,sm:120},flex:{xs:"1 1 45%",sm:"none"}}})]}),r.jsxs(L,{sx:{pl:{xs:3.5,sm:5.5},display:"flex",alignItems:"center",gap:1,flexWrap:"wrap"},children:[r.jsx(ut,{label:ce["Primary Muscle"],size:"small",variant:"outlined",sx:{borderColor:"primary.main",color:"primary.main",fontSize:{xs:"0.65rem",sm:"0.75rem"}}}),r.jsx(ut,{label:ce.Equipment,size:"small",variant:"outlined",sx:{borderColor:"text.secondary",color:"text.secondary",fontSize:{xs:"0.65rem",sm:"0.75rem"}}}),l&&!u&&r.jsx(He,{size:"small",onClick:$=>{$.stopPropagation(),F(ce,G)},sx:{color:"primary.main",minWidth:"36px",minHeight:"36px","&:hover":{backgroundColor:"rgba(19, 70, 134, 0.08)"}},"aria-label":`Randomize ${be}`,children:r.jsx(K2,{fontSize:"small"})})]})]})]},xe)})})]})})},Z))}),r.jsx(tt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:r.jsxs(Re,{direction:"row",spacing:2,sx:{mt:{xs:3,sm:4},px:{xs:.5,sm:0}},justifyContent:"center",children:[r.jsx(Ae,{variant:"contained",size:"large",onClick:a,sx:{borderRadius:2,minWidth:{xs:"60px",sm:"80px"},px:{xs:1,sm:2},py:1.5,fontSize:{xs:"1.2rem",sm:"1.5rem"},fontWeight:600,bgcolor:"rgb(237, 63, 39)",color:"white","&:hover":{bgcolor:"rgb(200, 50, 30)"}},children:""}),r.jsx(Ae,{variant:"contained",size:"large",startIcon:j?r.jsx(Pa,{}):r.jsx(DS,{}),onClick:pe,disabled:j,sx:{borderRadius:2,flex:1,maxWidth:{xs:"130px",sm:"150px"},px:{xs:2,sm:3},py:1.5,fontSize:{xs:"0.9rem",sm:"1.1rem"},fontWeight:600,bgcolor:j?"rgb(76, 175, 80)":"rgb(254, 178, 26)",color:"white","&:hover":{bgcolor:j?"rgb(56, 142, 60)":"rgb(245, 158, 11)"},"&:disabled":{bgcolor:"rgb(76, 175, 80)",color:"white",opacity:.8}},children:j?"Saved!":"Save"}),r.jsx(Ae,{variant:"contained",size:"large",startIcon:r.jsx(Js,{}),onClick:ge,disabled:v,sx:{borderRadius:2,flex:1,maxWidth:{xs:"130px",sm:"150px"},px:{xs:2,sm:3},py:1.5,fontSize:{xs:"0.9rem",sm:"1.1rem"},fontWeight:600,bgcolor:"rgb(19, 70, 134)",color:"white","&:hover":{bgcolor:"rgb(15, 56, 107)",transform:"translateY(-2px)",boxShadow:"0 8px 16px rgba(19, 70, 134, 0.3)"},"&:disabled":{bgcolor:"rgb(19, 70, 134)",color:"white",opacity:.6},transition:"all 0.3s ease"},children:v?"Starting...":"Begin"})]})}),r.jsx(Fs,{open:w,autoHideDuration:3e3,onClose:()=>T(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(Ft,{severity:"success",onClose:()=>T(!1),children:"Workout saved to favorites!"})}),r.jsx(Fs,{open:W.open,autoHideDuration:4e3,onClose:()=>O({...W,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(Ft,{severity:W.severity,onClose:()=>O({...W,open:!1}),children:W.message})})]})});jx.displayName="WorkoutPreview";jx.propTypes={workout:D.array.isRequired,workoutType:D.string.isRequired,onStart:D.func.isRequired,onCancel:D.func.isRequired,onRandomizeExercise:D.func,equipmentFilter:D.oneOfType([D.string,D.array]),isCustomizeMode:D.bool,supersetConfig:D.arrayOf(D.number),setsPerSuperset:D.number};const f7=(e=[])=>{if(!e||e.length===0)return{currentStreak:0,longestStreak:0};const t=[...e].sort((p,g)=>new Date(g.date)-new Date(p.date)),s=[...new Set(t.map(p=>{const g=new Date(p.date);return`${g.getFullYear()}-${String(g.getMonth()+1).padStart(2,"0")}-${String(g.getDate()).padStart(2,"0")}`}))],a=new Date;a.setHours(0,0,0,0);let l=0,u=0,d=0,h=new Date(a);for(let p=0;p<90;p++){const g=`${h.getFullYear()}-${String(h.getMonth()+1).padStart(2,"0")}-${String(h.getDate()).padStart(2,"0")}`;if(s.includes(g)){if(d++,l===0){const y=new Date(t[0].date);y.setHours(0,0,0,0),Math.floor((a-y)/(1e3*60*60*24))<=2&&(l=d)}u=Math.max(u,d)}else if(p>0&&d>0){const y=new Date(h);y.setDate(y.getDate()-1);const b=`${y.getFullYear()}-${String(y.getMonth()+1).padStart(2,"0")}-${String(y.getDate()).padStart(2,"0")}`;if(!s.includes(b)){if(l===0)break;d=0}}h.setDate(h.getDate()-1)}return{currentStreak:l,longestStreak:u}},vE=(e=[])=>{const t={};return e.forEach(s=>{s.exercises&&Object.entries(s.exercises).forEach(([a,l])=>{!l.sets||l.sets.length===0||l.sets.forEach(u=>{const d=u.weight||0,h=u.reps||0;if(d===0&&h===0)return;const p=d>0&&h>0?d*(1+h/30):0;(!t[a]||d>(t[a].maxWeight||0))&&(t[a]||(t[a]={}),d>(t[a].maxWeight||0)&&(t[a].maxWeight=d,t[a].maxWeightDate=s.date,t[a].maxWeightReps=h)),(!t[a]||h>(t[a].maxReps||0))&&(t[a]||(t[a]={}),h>(t[a].maxReps||0)&&(t[a].maxReps=h,t[a].maxRepsDate=s.date,t[a].maxRepsWeight=d)),(!t[a]||p>(t[a].estimatedOneRepMax||0))&&(t[a]||(t[a]={}),p>(t[a].estimatedOneRepMax||0)&&(t[a].estimatedOneRepMax=Math.round(p*10)/10,t[a].oneRepMaxDate=s.date))})})}),t},SE=(e,t={})=>{const s=[];if(!e||!e.exercises)return s;Object.entries(e.exercises).forEach(([l,u])=>{if(!u.sets||u.sets.length===0)return;const d=t[l]||{};u.sets.forEach(h=>{const p=h.weight||0,g=h.reps||0;if(p===0&&g===0)return;p>0&&p>(d.maxWeight||0)&&s.push({exerciseName:l,type:"weight",value:p,previousValue:d.maxWeight||0,reps:g}),g>0&&g>(d.maxReps||0)&&s.push({exerciseName:l,type:"reps",value:g,previousValue:d.maxReps||0,weight:p});const y=p>0&&g>0?p*(1+g/30):0;y>(d.estimatedOneRepMax||0)&&s.push({exerciseName:l,type:"oneRepMax",value:Math.round(y*10)/10,previousValue:d.estimatedOneRepMax||0})})});const a={};return s.forEach(l=>{const u=`${l.exerciseName}-${l.type}`;(!a[u]||l.value>a[u].value)&&(a[u]=l)}),Object.values(a)},wE=e=>[{days:7,badge:" Week Warrior",description:"7 day streak!"},{days:30,badge:" Monthly Master",description:"30 day streak!"},{days:90,badge:" Quarter Champion",description:"90 day streak!"},{days:180,badge:" Half Year Hero",description:"180 day streak!"},{days:365,badge:" Year Legend",description:"365 day streak!"}].filter(s=>e>=s.days),p7=Object.freeze(Object.defineProperty({__proto__:null,calculateStreak:f7,detectNewPRs:SE,getPersonalRecords:vE,getStreakMilestones:wE},Symbol.toStringTag,{value:"Module"})),CE=({open:e,onClose:t,prData:s})=>{if(!s)return null;const a=()=>{const{exerciseName:l,type:u,value:d,previousValue:h}=s;return u==="weight"?`New ${l} PR!  ${d} lbs (previous: ${h} lbs)`:u==="reps"?`New ${l} Rep PR!  ${d} reps (previous: ${h} reps)`:u==="oneRepMax"?`New ${l} 1RM!  ${d} lbs (previous: ${h} lbs)`:`New ${l} PR! `};return r.jsx(Fs,{open:e,autoHideDuration:4e3,onClose:t,anchorOrigin:{vertical:"top",horizontal:"center"},TransitionComponent:LC,children:r.jsx(Ft,{onClose:t,severity:"success",variant:"filled",sx:{width:"100%",fontSize:"1rem","& .MuiAlert-icon":{fontSize:"2rem"}},icon:r.jsx($o,{}),children:a()})})};CE.propTypes={open:D.bool.isRequired,onClose:D.func.isRequired,prData:D.shape({exerciseName:D.string.isRequired,type:D.string.isRequired,value:D.number.isRequired,previousValue:D.number})};D.bool.isRequired,D.func.isRequired,D.shape({days:D.number.isRequired,badge:D.string.isRequired,description:D.string.isRequired});D.bool.isRequired,D.func.isRequired,D.shape({workoutsCompleted:D.number,totalVolume:D.number,totalTime:D.number,prsAchieved:D.number,topExercises:D.arrayOf(D.shape({name:D.string,count:D.number})),adherence:D.number});D.array,D.array,D.object,D.func,D.func,D.func;const Dx=x.memo(({workoutData:e,workoutPlan:t,onFinish:s,onExportCSV:a})=>{const[l,u]=x.useState(!1),[d,h]=x.useState(!1),[p,g]=x.useState([]),[y,b]=x.useState(0),[v,S]=x.useState(!1),[j,k]=x.useState(!1),[w,T]=x.useState(""),{isAutoAssignWeek:E,assignWorkoutToDay:M,weeklySchedule:W}=Na();x.useEffect(()=>{(async()=>{try{const I=await ni(),V=vE(I.slice(1)),B=SE(e,V);B.length>0&&g(B)}catch(I){console.error("Error checking for PRs:",I)}})()},[e]),x.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),x.useEffect(()=>{(async()=>{if(E()&&e&&t)try{const I=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date().getDay()],V=Vo(e),B={sessionType:V,sessionName:`${V.charAt(0).toUpperCase()+V.slice(1)} Body Workout`,exercises:t,date:new Date().toISOString()};await M(I,B),T(`Automatically assigned to ${I}`),k(!0)}catch(I){console.error("Error auto-assigning workout:",I)}})()},[E,e,t,M]);const O=()=>{try{if(!t||t.length===0){alert("Cannot save workout: No exercise data available");return}const N=Vo(e);iy({name:`${N.charAt(0).toUpperCase()+N.slice(1)} Body Workout`,type:N,equipment:"all",exercises:t}),u(!0),h(!0)}catch(N){console.error("Error saving to favorites:",N),alert("Failed to save workout to favorites")}},R=()=>{S(!0)},_=async(N,I)=>{try{const V=Vo(e),B={sessionType:V,sessionName:`${V.charAt(0).toUpperCase()+V.slice(1)} Body Workout`,exercises:t,date:new Date().toISOString()};await M(N,B),T(`Workout assigned to ${N}`),k(!0)}catch(V){console.error("Error assigning workout:",V),T("Failed to assign workout"),k(!0)}};return r.jsxs(tt.div,{className:"screen completion-screen",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{padding:"1rem",maxWidth:"900px",margin:"0 auto"},children:[r.jsxs(tt.div,{className:"completion-header",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,type:"spring",stiffness:200},children:[r.jsx(L,{sx:{position:"relative"},children:r.jsx(He,{onClick:O,disabled:l,sx:{position:"absolute",top:0,right:0,color:l?"warning.main":"white","&:hover":{color:"warning.main"}},"aria-label":"Save to favorites",children:l?r.jsx(Pa,{sx:{fontSize:32}}):r.jsx(NC,{sx:{fontSize:32}})})}),r.jsx(tt.div,{initial:{y:-20},animate:{y:[0,-10,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut"},children:r.jsx("img",{src:"/goodlift/dancing-icon.svg",alt:"Celebration",style:{width:"120px",height:"120px",marginBottom:"1rem"}})}),r.jsx("h1",{children:"Workout Complete!"}),r.jsxs("p",{className:"completion-time",children:["Total Time: ",r.jsx("strong",{children:f6(e.duration)})]})]}),r.jsxs("div",{className:"workout-summary-container",children:[r.jsx(P,{variant:"h4",component:"h2",sx:{fontWeight:700,mb:3,textAlign:"center",color:"text.primary"},children:"Workout Summary"}),r.jsx(Re,{spacing:2,children:Object.entries(e.exercises).map(([N,I],V)=>r.jsx(tt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3+V*.1},children:r.jsx(et,{sx:{borderRadius:3,transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 24px rgba(48, 86, 105, 0.15)"}},children:r.jsxs(at,{children:[r.jsx(P,{variant:"h6",component:"h3",sx:{color:"primary.main",fontWeight:600,mb:2,pb:1,borderBottom:"2px solid",borderColor:"rgba(138, 190, 185, 0.2)"},children:N}),r.jsx(Re,{spacing:1,children:I.sets.map((B,z)=>r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:1.5,bgcolor:"rgba(183, 229, 205, 0.3)",borderRadius:2,transition:"all 0.2s ease","&:hover":{bgcolor:"primary.main",color:"white","& .MuiChip-root":{bgcolor:"white",color:"primary.main"}}},children:[r.jsx(ut,{label:`Set ${B.set}`,size:"small",sx:{fontWeight:600,minWidth:60}}),r.jsxs(P,{sx:{fontWeight:600,fontSize:"1rem"},children:[B.weight," lbs  ",B.reps," reps"]})]},z))})]})})},N))})]}),r.jsx(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:r.jsxs(Re,{direction:{xs:"column",sm:"row"},spacing:2,sx:{mt:4},children:[!E()&&r.jsx(Ae,{variant:"outlined",size:"large",startIcon:r.jsx(Tc,{}),onClick:R,sx:{flex:1,borderRadius:2,py:1.5,fontSize:"1rem",fontWeight:600,borderColor:"info.main",color:"info.main","&:hover":{borderColor:"info.dark",bgcolor:"rgba(33, 150, 243, 0.1)"}},children:"Assign to Day"}),r.jsx(Ae,{variant:"outlined",size:"large",startIcon:r.jsx(zC,{}),onClick:a,sx:{flex:1,borderRadius:2,py:1.5,fontSize:"1rem",fontWeight:600,borderColor:"secondary.main",color:"secondary.main","&:hover":{borderColor:"secondary.dark",bgcolor:"rgba(193, 120, 90, 0.1)"}},children:"Download CSV"}),r.jsx(Ae,{variant:"contained",size:"large",startIcon:r.jsx(Q2,{}),onClick:s,sx:{flex:1,borderRadius:2,py:1.5,fontSize:"1rem",fontWeight:600,bgcolor:"primary.main","&:hover":{bgcolor:"primary.dark"}},children:"Finish"})]})}),r.jsx(Fs,{open:d,autoHideDuration:3e3,onClose:()=>h(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(Ft,{severity:"success",onClose:()=>h(!1),children:"Workout saved to favorites!"})}),r.jsx(Fs,{open:j,autoHideDuration:3e3,onClose:()=>k(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(Ft,{severity:"success",onClose:()=>k(!1),children:w})}),r.jsx(Sx,{open:v,onClose:()=>S(!1),onAssign:_,workoutData:e,currentSchedule:W}),p.length>0&&y<p.length&&r.jsx(CE,{open:!0,onClose:()=>b(N=>N+1),prData:p[y]})]})});Dx.displayName="CompletionScreen";Dx.propTypes={workoutData:D.object.isRequired,workoutPlan:D.array,onFinish:D.func.isRequired,onExportCSV:D.func.isRequired};const li=[{id:"first-workout",name:"First Steps",description:"Complete your first workout",icon:"",tier:"bronze",condition:{type:"workoutCount",value:1}},{id:"dedicated-5",name:"Getting Started",description:"Complete 5 workouts",icon:"",tier:"bronze",condition:{type:"workoutCount",value:5}},{id:"dedicated-10",name:"Committed",description:"Complete 10 workouts",icon:"",tier:"silver",condition:{type:"workoutCount",value:10}},{id:"dedicated-25",name:"Athlete",description:"Complete 25 workouts",icon:"",tier:"silver",condition:{type:"workoutCount",value:25}},{id:"dedicated-50",name:"Beast Mode",description:"Complete 50 workouts",icon:"",tier:"gold",condition:{type:"workoutCount",value:50}},{id:"dedicated-100",name:"Centurion",description:"Complete 100 workouts",icon:"",tier:"gold",condition:{type:"workoutCount",value:100}},{id:"dedicated-150",name:"Elite Athlete",description:"Complete 150 workouts",icon:"",tier:"gold",condition:{type:"workoutCount",value:150}},{id:"dedicated-200",name:"Relentless",description:"Complete 200 workouts",icon:"",tier:"platinum",condition:{type:"workoutCount",value:200}},{id:"dedicated-250",name:"Iron Legend",description:"Complete 250 workouts",icon:"",tier:"platinum",condition:{type:"workoutCount",value:250}},{id:"dedicated-500",name:"Hall of Fame",description:"Complete 500 workouts",icon:"",tier:"platinum",condition:{type:"workoutCount",value:500}},{id:"streak-3",name:"Consistency",description:"Maintain a 3-day workout streak",icon:"",tier:"bronze",condition:{type:"streak",value:3}},{id:"streak-7",name:"Week Warrior",description:"Maintain a 7-day workout streak",icon:"",tier:"silver",condition:{type:"streak",value:7}},{id:"streak-14",name:"Fortnight Fighter",description:"Maintain a 14-day workout streak",icon:"",tier:"silver",condition:{type:"streak",value:14}},{id:"streak-30",name:"Monthly Master",description:"Maintain a 30-day workout streak",icon:"",tier:"gold",condition:{type:"streak",value:30}},{id:"streak-60",name:"Unbreakable",description:"Maintain a 60-day workout streak",icon:"",tier:"gold",condition:{type:"streak",value:60}},{id:"streak-100",name:"Iron Will",description:"Maintain a 100-day workout streak",icon:"",tier:"platinum",condition:{type:"streak",value:100}},{id:"first-pr",name:"New Heights",description:"Achieve your first personal record",icon:"",tier:"bronze",condition:{type:"prCount",value:1}},{id:"pr-5",name:"Record Breaker",description:"Achieve 5 personal records",icon:"",tier:"silver",condition:{type:"prCount",value:5}},{id:"pr-10",name:"Powerhouse",description:"Achieve 10 personal records",icon:"",tier:"gold",condition:{type:"prCount",value:10}},{id:"pr-25",name:"Peak Performance",description:"Achieve 25 personal records",icon:"",tier:"platinum",condition:{type:"prCount",value:25}},{id:"volume-10k",name:"Moving Iron",description:"Lift 10,000 lbs total volume",icon:"",tier:"bronze",condition:{type:"totalVolume",value:1e4}},{id:"volume-50k",name:"Heavy Lifter",description:"Lift 50,000 lbs total volume",icon:"",tier:"silver",condition:{type:"totalVolume",value:5e4}},{id:"volume-100k",name:"Tonnage Master",description:"Lift 100,000 lbs total volume",icon:"",tier:"gold",condition:{type:"totalVolume",value:1e5}},{id:"volume-250k",name:"Moving Mountains",description:"Lift 250,000 lbs total volume",icon:"",tier:"platinum",condition:{type:"totalVolume",value:25e4}},{id:"time-1h",name:"First Hour",description:"Complete 1 hour of total workout time",icon:"",tier:"bronze",condition:{type:"totalTime",value:3600}},{id:"time-10h",name:"Time Investment",description:"Complete 10 hours of total workout time",icon:"",tier:"silver",condition:{type:"totalTime",value:36e3}},{id:"time-50h",name:"Dedicated",description:"Complete 50 hours of total workout time",icon:"",tier:"gold",condition:{type:"totalTime",value:18e4}},{id:"time-100h",name:"Time Master",description:"Complete 100 hours of total workout time",icon:"",tier:"platinum",condition:{type:"totalTime",value:36e4}},{id:"early-bird",name:"Early Bird",description:"Complete a workout before 7 AM",icon:"",tier:"bronze",condition:{type:"special",value:"earlyMorning"}},{id:"morning-person",name:"Morning Person",description:"Complete 10 workouts in the morning (7 AM - 12 PM)",icon:"",tier:"silver",condition:{type:"special",value:"morningWorkouts",count:10}},{id:"afternoon-warrior",name:"Afternoon Warrior",description:"Complete 10 workouts in the afternoon (12 PM - 5 PM)",icon:"",tier:"silver",condition:{type:"special",value:"afternoonWorkouts",count:10}},{id:"evening-grinder",name:"Evening Grinder",description:"Complete 10 workouts in the evening (5 PM - 10 PM)",icon:"",tier:"silver",condition:{type:"special",value:"eveningWorkouts",count:10}},{id:"night-owl",name:"Night Owl",description:"Complete a workout after 10 PM",icon:"",tier:"bronze",condition:{type:"special",value:"lateNight"}},{id:"consecutive-3",name:"Back to Back",description:"Complete 3 consecutive workouts within an hour of each other",icon:"",tier:"bronze",condition:{type:"special",value:"consecutiveWorkouts",count:3}},{id:"consecutive-5",name:"Chain Reaction",description:"Complete 5 consecutive workouts within an hour of each other",icon:"",tier:"silver",condition:{type:"special",value:"consecutiveWorkouts",count:5}},{id:"consecutive-10",name:"Unstoppable",description:"Complete 10 consecutive workouts within an hour of each other",icon:"",tier:"gold",condition:{type:"special",value:"consecutiveWorkouts",count:10}},{id:"weekend-warrior",name:"Weekend Warrior",description:"Complete 10 weekend workouts",icon:"",tier:"silver",condition:{type:"special",value:"weekendWorkouts",count:10}},{id:"variety-seeker",name:"Variety Seeker",description:"Complete all workout types (Full Body, Upper, Lower, Push, Pull, Legs)",icon:"",tier:"gold",condition:{type:"special",value:"allWorkoutTypes"}},{id:"wellness-first",name:"Wellness Beginner",description:"Complete your first wellness task",icon:"",tier:"bronze",condition:{type:"wellnessTaskCount",value:1}},{id:"wellness-10",name:"Wellness Explorer",description:"Complete 10 wellness tasks",icon:"",tier:"bronze",condition:{type:"wellnessTaskCount",value:10}},{id:"wellness-25",name:"Wellness Enthusiast",description:"Complete 25 wellness tasks",icon:"",tier:"silver",condition:{type:"wellnessTaskCount",value:25}},{id:"wellness-50",name:"Wellness Champion",description:"Complete 50 wellness tasks",icon:"",tier:"gold",condition:{type:"wellnessTaskCount",value:50}},{id:"wellness-100",name:"Wellness Master",description:"Complete 100 wellness tasks",icon:"",tier:"platinum",condition:{type:"wellnessTaskCount",value:100}}],Fh={bronze:{color:"#CD7F32",gradient:"linear-gradient(135deg, #CD7F32 0%, #B87333 100%)",textColor:"#fff"},silver:{color:"#C0C0C0",gradient:"linear-gradient(135deg, #C0C0C0 0%, #A8A8A8 100%)",textColor:"#333"},gold:{color:"#FFD700",gradient:"linear-gradient(135deg, #FFD700 0%, #FFA500 100%)",textColor:"#333"},platinum:{color:"#E5E4E2",gradient:"linear-gradient(135deg, #E5E4E2 0%, #B0B0B0 100%)",textColor:"#333"}},Sc=(e,t,s=[])=>{const{condition:a}=e;switch(a.type){case"workoutCount":return(t.totalWorkouts||0)>=a.value;case"streak":return(t.currentStreak||0)>=a.value;case"prCount":return(t.totalPRs||0)>=a.value;case"totalVolume":return(t.totalVolume||0)>=a.value;case"totalTime":return(t.totalTime||0)>=a.value;case"wellnessTaskCount":return(t.completedWellnessTasks||0)>=a.value;case"special":return m7(a,t,s);default:return!1}},m7=(e,t,s)=>{switch(e.value){case"earlyMorning":return s.some(a=>new Date(a.date).getHours()<7);case"morningWorkouts":return s.filter(l=>{const u=new Date(l.date).getHours();return u>=7&&u<12}).length>=(e.count||10);case"afternoonWorkouts":return s.filter(l=>{const u=new Date(l.date).getHours();return u>=12&&u<17}).length>=(e.count||10);case"eveningWorkouts":return s.filter(l=>{const u=new Date(l.date).getHours();return u>=17&&u<22}).length>=(e.count||10);case"lateNight":return s.some(a=>new Date(a.date).getHours()>=22);case"consecutiveWorkouts":{const a=[...s].sort((d,h)=>new Date(d.date)-new Date(h.date));let l=0,u=1;for(let d=1;d<a.length;d++){const h=new Date(a[d-1].date);(new Date(a[d].date)-h)/(1e3*60*60)<=1?(u++,l=Math.max(l,u)):u=1}return l>=(e.count||3)}case"weekendWorkouts":return s.filter(l=>{const u=new Date(l.date).getDay();return u===0||u===6}).length>=(e.count||10);case"allWorkoutTypes":{const a=["full","upper","lower","push","pull","legs"],l=new Set(s.map(u=>u.type?.toLowerCase()).filter(Boolean));return a.every(u=>l.has(u))}default:return!1}},Md=(e,t,s=[])=>{const l=[...e].sort((p,g)=>p.condition.value-g.condition.value).find(p=>!Sc(p,t,s));if(!l)return null;const{condition:u}=l;let d=0;switch(u.type){case"workoutCount":d=t.totalWorkouts||0;break;case"streak":d=t.currentStreak||0;break;case"prCount":d=t.totalPRs||0;break;case"totalVolume":d=t.totalVolume||0;break;case"totalTime":d=t.totalTime||0;break;default:d=0}const h=Math.min(d/u.value*100,100);return{achievement:l,current:d,target:u.value,progress:h}},g7=(e,t=[])=>li.filter(s=>Sc(s,e,t)),y7=(e,t,s=[])=>g7(e,t).filter(l=>!s.includes(l.id)),x7=e=>{const t={bronze:10,silver:25,gold:50,platinum:100};return e.reduce((s,a)=>s+(t[a.tier]||0),0)},b7=e=>{const s=Math.floor(e/100)+1,a=e%100,l=100-a;return{level:s,currentPoints:a,pointsToNext:l,totalPoints:e}},TE=({achievement:e,unlocked:t,onClick:s})=>{const a=Fh[e.tier];return r.jsx(tt.div,{whileHover:{scale:t?1.05:1.02},whileTap:{scale:.98},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:r.jsx(et,{onClick:s,sx:{height:"100%",cursor:"pointer",position:"relative",background:t?a.gradient:"linear-gradient(135deg, #424242 0%, #303030 100%)",color:t?a.textColor:"#888",transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:t?6:2}},children:r.jsxs(at,{sx:{textAlign:"center",p:2},children:[!t&&r.jsx(L,{sx:{position:"absolute",top:8,right:8,color:"rgba(255, 255, 255, 0.5)"},children:r.jsx(VC,{fontSize:"small"})}),r.jsx(P,{variant:"h2",sx:{fontSize:"3rem",mb:1,filter:t?"none":"grayscale(100%)",opacity:t?1:.4},children:e.icon}),r.jsx(P,{variant:"subtitle1",sx:{fontWeight:700,mb:.5,fontSize:"0.95rem"},children:e.name}),r.jsx(ut,{label:e.tier.toUpperCase(),size:"small",sx:{fontSize:"0.65rem",height:20,fontWeight:600,bgcolor:t?"rgba(255, 255, 255, 0.3)":"rgba(255, 255, 255, 0.1)"}})]})})})};TE.propTypes={achievement:D.object.isRequired,unlocked:D.bool.isRequired,onClick:D.func.isRequired};const kE=({achievement:e,unlocked:t,onClose:s,onShare:a})=>{if(!e)return null;const l=Fh[e.tier];return r.jsxs(An,{open:!!e,onClose:s,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:3}},children:[r.jsx(Un,{sx:{textAlign:"center",pb:1},children:r.jsx(He,{onClick:s,sx:{position:"absolute",right:8,top:8},children:r.jsx(gh,{})})}),r.jsxs(Pn,{sx:{textAlign:"center",pt:0},children:[r.jsx(L,{sx:{width:120,height:120,borderRadius:"50%",background:t?l.gradient:"linear-gradient(135deg, #424242 0%, #303030 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",filter:t?"none":"grayscale(100%)",opacity:t?1:.6},children:r.jsx(P,{variant:"h1",sx:{fontSize:"4rem"},children:e.icon})}),!t&&r.jsx(ut,{icon:r.jsx(VC,{}),label:"LOCKED",color:"default",sx:{mb:2}}),t&&r.jsx(ut,{icon:r.jsx($o,{}),label:"UNLOCKED",color:"success",sx:{mb:2}}),r.jsx(P,{variant:"h5",sx:{fontWeight:700,mb:1},children:e.name}),r.jsx(ut,{label:e.tier.toUpperCase(),size:"small",sx:{mb:2,fontWeight:600,background:l.gradient,color:l.textColor}}),r.jsx(P,{variant:"body1",color:"text.secondary",sx:{mb:2},children:e.description}),r.jsx(L,{sx:{p:2,borderRadius:2,bgcolor:"action.hover"},children:r.jsx(P,{variant:"body2",color:"text.secondary",children:v7(e.condition)})})]}),r.jsxs(On,{sx:{justifyContent:"center",pb:3,px:3},children:[t&&a&&r.jsx(Ae,{variant:"contained",startIcon:r.jsx(FC,{}),onClick:()=>a(e),fullWidth:!0,children:"Share Achievement"}),!t&&r.jsx(Ae,{variant:"outlined",onClick:s,fullWidth:!0,children:"Close"})]})]})};kE.propTypes={achievement:D.object,unlocked:D.bool,onClose:D.func.isRequired,onShare:D.func};const lc=({title:e,icon:t,progressInfo:s})=>{if(!s)return r.jsx(et,{sx:{height:"100%"},children:r.jsx(at,{children:r.jsxs(Re,{spacing:1,children:[r.jsxs(Re,{direction:"row",alignItems:"center",spacing:1,children:[t,r.jsx(P,{variant:"h6",sx:{fontWeight:600,fontSize:"1rem"},children:e})]}),r.jsx(P,{variant:"body2",color:"text.secondary",children:"All achievements unlocked! "})]})})});const{achievement:a,current:l,target:u,progress:d}=s;return r.jsx(et,{sx:{height:"100%"},children:r.jsx(at,{children:r.jsxs(Re,{spacing:2,children:[r.jsxs(Re,{direction:"row",alignItems:"center",spacing:1,children:[t,r.jsx(P,{variant:"h6",sx:{fontWeight:600,fontSize:"1rem"},children:e})]}),r.jsxs(L,{children:[r.jsxs(Re,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:1},children:[r.jsx(P,{variant:"body2",sx:{fontWeight:600},children:a.name}),r.jsxs(P,{variant:"body2",color:"text.secondary",children:[fC(l,a.condition.type)," / ",fC(u,a.condition.type)]})]}),r.jsx(Yi,{variant:"determinate",value:d,sx:{height:8,borderRadius:4,bgcolor:"action.hover","& .MuiLinearProgress-bar":{background:Fh[a.tier].gradient,borderRadius:4}}}),r.jsxs(P,{variant:"caption",color:"text.secondary",sx:{mt:.5,display:"block"},children:[Math.round(d),"% complete"]})]})]})})})};lc.propTypes={title:D.string.isRequired,icon:D.element.isRequired,progressInfo:D.object};const jE=({userStats:e,workoutHistory:t=[]})=>{const[s,a]=x.useState(null),[l,u]=x.useState(!1),[d,h]=x.useState(0),p=li.filter(R=>Sc(R,e,t)),g=x7(p),y=b7(g),b={workout:li.filter(R=>R.condition.type==="workoutCount"),streak:li.filter(R=>R.condition.type==="streak"),pr:li.filter(R=>R.condition.type==="prCount"),volume:li.filter(R=>R.condition.type==="totalVolume"),time:li.filter(R=>R.condition.type==="totalTime"),special:li.filter(R=>R.condition.type==="special")},v=[{label:"All",key:"all"},{label:"Workouts",key:"workout"},{label:"Streaks",key:"streak"},{label:"PRs",key:"pr"},{label:"Volume",key:"volume"},{label:"Time",key:"time"},{label:"Special",key:"special"}],S=v[d].key,j=S==="all"?li:b[S],k=Md(b.workout,e,t),w=Md(b.streak,e,t),T=Md(b.pr,e,t),E=Md(b.volume,e,t),M=R=>{a(R),u(Sc(R,e,t))},W=async R=>{const _=`I just unlocked the "${R.name}" achievement in GoodLift! ${R.icon}

${R.description}`;if(navigator.share)try{await navigator.share({title:"GoodLift Achievement",text:_})}catch(N){N.name!=="AbortError"&&(console.error("Error sharing:",N),O(_))}else O(_)},O=R=>{navigator.clipboard.writeText(R).then(()=>{alert("Achievement text copied to clipboard!")})};return r.jsxs(L,{sx:{p:{xs:1,sm:2,md:3}},children:[r.jsxs(L,{sx:{mb:4,textAlign:"center"},children:[r.jsx(P,{variant:"h4",sx:{fontWeight:700,mb:1},children:"Achievements"}),r.jsxs(Re,{direction:"row",spacing:2,justifyContent:"center",alignItems:"center",sx:{mb:2},children:[r.jsx(ut,{icon:r.jsx($o,{}),label:`Level ${y.level}`,color:"primary",sx:{fontSize:"1rem",fontWeight:600,height:36}}),r.jsx(ut,{label:`${p.length} / ${li.length} Unlocked`,variant:"outlined",sx:{fontSize:"0.9rem",height:36}})]}),r.jsxs(L,{sx:{maxWidth:400,margin:"0 auto"},children:[r.jsxs(Re,{direction:"row",justifyContent:"space-between",sx:{mb:1},children:[r.jsxs(P,{variant:"caption",color:"text.secondary",children:[y.currentPoints," / 100 points"]}),r.jsxs(P,{variant:"caption",color:"text.secondary",children:[y.pointsToNext," to Level ",y.level+1]})]}),r.jsx(Yi,{variant:"determinate",value:y.currentPoints/100*100,sx:{height:10,borderRadius:5,bgcolor:"action.hover","& .MuiLinearProgress-bar":{borderRadius:5}}})]})]}),r.jsxs(Qt,{container:!0,spacing:{xs:1,sm:2},sx:{mb:4},children:[r.jsx(Qt,{item:!0,xs:6,sm:6,md:3,children:r.jsx(lc,{title:"Workouts",icon:r.jsx(cn,{color:"primary"}),progressInfo:k})}),r.jsx(Qt,{item:!0,xs:6,sm:6,md:3,children:r.jsx(lc,{title:"Streak",icon:r.jsx(BC,{sx:{color:"#FF6B35"}}),progressInfo:w})}),r.jsx(Qt,{item:!0,xs:6,sm:6,md:3,children:r.jsx(lc,{title:"Personal Records",icon:r.jsx(Aa,{color:"success"}),progressInfo:T})}),r.jsx(Qt,{item:!0,xs:6,sm:6,md:3,children:r.jsx(lc,{title:"Volume",icon:r.jsx($o,{sx:{color:"#FFD700"}}),progressInfo:E})})]}),r.jsx(L,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:r.jsx(Fc,{value:d,onChange:(R,_)=>h(_),variant:"scrollable",scrollButtons:"auto",children:v.map(R=>r.jsx(Vi,{label:R.label},R.key))})}),r.jsx(Qt,{container:!0,spacing:{xs:1,sm:2},children:j.map(R=>{const _=Sc(R,e,t);return r.jsx(Qt,{item:!0,xs:6,sm:4,md:3,lg:2,children:r.jsx(TE,{achievement:R,unlocked:_,onClick:()=>M(R)})},R.id)})}),r.jsx(kE,{achievement:s,unlocked:l,onClose:()=>a(null),onShare:W})]})};jE.propTypes={userStats:D.shape({totalWorkouts:D.number,currentStreak:D.number,totalPRs:D.number,totalVolume:D.number,totalTime:D.number}).isRequired,workoutHistory:D.array};const v7=e=>{switch(e.type){case"workoutCount":return`Complete ${e.value} workout${e.value!==1?"s":""}`;case"streak":return`Maintain a ${e.value}-day workout streak`;case"prCount":return`Achieve ${e.value} personal record${e.value!==1?"s":""}`;case"totalVolume":return`Lift ${e.value.toLocaleString()} lbs total volume`;case"totalTime":{const t=Math.floor(e.value/3600);return`Complete ${t} hour${t!==1?"s":""} of total workout time`}case"special":return e.value;default:return""}},fC=(e,t)=>{switch(t){case"totalVolume":return`${e.toLocaleString()} lbs`;case"totalTime":{const s=Math.floor(e/3600),a=Math.floor(e%3600/60);return s>0?`${s}h ${a}m`:`${a}m`}default:return e}},Ex=(e,t,s)=>!e||t===s?e:t==="lbs"&&s==="kg"?Math.round(e*.453592*10)/10:t==="kg"&&s==="lbs"?Math.round(e*2.20462*10)/10:e,DE=(e,t=30)=>{if(!e||e.length===0)return[];const s=new Date;return s.setDate(s.getDate()-t),e.filter(a=>new Date(a.date)>=s).sort((a,l)=>new Date(a.date)-new Date(l.date))},S7=(e,t=30)=>{if(!e||e.length<2)return{change:0,percentage:0,direction:"stable"};const s=DE(e,t);if(s.length<2)return{change:0,percentage:0,direction:"stable"};const a=s[0],l=s[s.length-1],u=Ex(a.weight,a.unit,l.unit),h=l.weight-u,p=u!==0?h/u*100:0;let g="stable";return Math.abs(h)>.5&&(g=h>0?"up":"down"),{change:Math.round(h*10)/10,percentage:Math.round(p*10)/10,direction:g}},Ad=(e,t="lbs")=>e?`${Math.round(e*10)/10} ${t}`:`0 ${t}`,w7=(e,t="lbs")=>{if(!e||isNaN(e))return{valid:!1,error:"Please enter a valid weight"};const s=parseFloat(e);if(s<=0)return{valid:!1,error:"Weight must be greater than 0"};const a=t==="lbs"?50:20,l=t==="lbs"?1e3:450;return s<a||s>l?{valid:!1,error:`Weight must be between ${a} and ${l} ${t}`}:{valid:!0}},C7=(e,t=30,s="lbs")=>{const a=DE(e,t);if(a.length===0)return{labels:[],data:[]};const l=a.map(d=>new Date(d.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})),u=a.map(d=>Ex(d.weight,d.unit,s));return{labels:l,data:u}},T7=(e,t="lbs")=>{if(!e||e.length===0)return{min:0,max:0,average:0,current:0,entries:0};const s=e.map(p=>Ex(p.weight,p.unit,t)),a=Math.min(...s),l=Math.max(...s),d=s.reduce((p,g)=>p+g,0)/s.length,h=s[s.length-1];return{min:Math.round(a*10)/10,max:Math.round(l*10)/10,average:Math.round(d*10)/10,current:Math.round(h*10)/10,entries:s.length}};VP.register(FP,HP,UP,qP,YP,GP,$P,KP);const EE=({weightHistory:e,currentWeight:t,currentUnit:s,targetWeight:a,onAddWeight:l})=>{const[u,d]=x.useState(""),[h,p]=x.useState(s||"lbs"),[g,y]=x.useState(null),[b,v]=x.useState(!1);x.useEffect(()=>{p(s||"lbs")},[s]);const S=()=>{y(null);const O=w7(u,h);if(!O.valid){y(O.error);return}l(parseFloat(u),h),d(""),v(!1)},j=S7(e,30),k=T7(e,h),w=C7(e,30,h);let T;if(a&&w.data.length>0){const O=Math.min(...w.data);T=Math.min(a,O)-5}const E={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:O=>`${O.parsed.y} ${h}`}}},scales:{y:{beginAtZero:!1,min:T,ticks:{callback:O=>`${O} ${h}`}}}},M={labels:w.labels,datasets:[{label:"Weight",data:w.data,borderColor:"rgb(25, 118, 210)",backgroundColor:"rgba(25, 118, 210, 0.1)",fill:!0,tension:.4}]},W=()=>j.direction==="up"?r.jsx(Aa,{color:"warning"}):j.direction==="down"?r.jsx(Rg,{color:"success"}):r.jsx(X2,{color:"info"});return r.jsx(et,{sx:{borderRadius:2},children:r.jsxs(at,{children:[r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[r.jsx(P,{variant:"h6",fontWeight:600,children:"Weight Tracking"}),r.jsx(He,{color:"primary",onClick:()=>v(!b),size:"small",children:r.jsx(gi,{})})]}),t&&r.jsxs(L,{sx:{mb:3},children:[r.jsx(P,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Current Weight"}),r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:2},children:[r.jsx(P,{variant:"h4",fontWeight:700,children:Ad(t,h)}),j.direction!=="stable"&&r.jsx(ut,{icon:W(),label:`${j.change>0?"+":""}${j.change} ${h}`,size:"small",color:j.direction==="up"?"warning":"success"})]}),r.jsx(P,{variant:"caption",color:"text.secondary",children:j.direction!=="stable"?`${Math.abs(j.percentage)}% ${j.direction==="up"?"increase":"decrease"} in last 30 days`:"No significant change in last 30 days"})]}),b&&r.jsxs(L,{sx:{mb:3,p:2,bgcolor:"action.hover",borderRadius:2},children:[r.jsx(P,{variant:"body2",fontWeight:600,gutterBottom:!0,children:"Add Weight Entry"}),g&&r.jsx(Ft,{severity:"error",sx:{mb:2},children:g}),r.jsxs(Re,{direction:"row",spacing:2,alignItems:"flex-start",children:[r.jsx(ct,{label:"Weight",type:"number",value:u,onChange:O=>{d(O.target.value),y(null)},size:"small",sx:{flex:1},inputProps:{step:.1,min:0}}),r.jsxs(Vt,{size:"small",sx:{minWidth:80},children:[r.jsx(Mn,{children:"Unit"}),r.jsxs(qt,{value:h,onChange:O=>p(O.target.value),label:"Unit",children:[r.jsx(We,{value:"lbs",children:"lbs"}),r.jsx(We,{value:"kg",children:"kg"})]})]}),r.jsx(Ae,{variant:"contained",onClick:S,disabled:!u,size:"small",sx:{minWidth:80},children:"Add"})]})]}),w.data.length>0?r.jsxs(L,{sx:{height:250,mb:2},children:[r.jsx(P,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Last 30 Days"}),r.jsx(QP,{data:M,options:E})]}):r.jsx(Ft,{severity:"info",sx:{mb:2},children:"No weight history yet. Add your first weight entry to start tracking!"}),k.entries>0&&r.jsxs(L,{sx:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:2,pt:2,borderTop:1,borderColor:"divider"},children:[r.jsxs(L,{children:[r.jsx(P,{variant:"caption",color:"text.secondary",children:"Minimum"}),r.jsx(P,{variant:"body2",fontWeight:600,children:Ad(k.min,h)})]}),r.jsxs(L,{children:[r.jsx(P,{variant:"caption",color:"text.secondary",children:"Average"}),r.jsx(P,{variant:"body2",fontWeight:600,children:Ad(k.average,h)})]}),r.jsxs(L,{children:[r.jsx(P,{variant:"caption",color:"text.secondary",children:"Maximum"}),r.jsx(P,{variant:"body2",fontWeight:600,children:Ad(k.max,h)})]})]})]})})};EE.propTypes={weightHistory:D.arrayOf(D.shape({weight:D.number.isRequired,unit:D.string.isRequired,date:D.string.isRequired})).isRequired,currentWeight:D.number,currentUnit:D.string,targetWeight:D.number,onAddWeight:D.func.isRequired};class k7{constructor(){this.maxPinnedExercises=10}getExerciseProgression(t,s,a="weight"){if(!t||!Array.isArray(t))return[];const l=[];return t.forEach(u=>{if(!u.exercises||!u.exercises[s])return;const h=u.exercises[s].sets||[];if(h.length===0)return;let p;a==="weight"?p=Math.max(...h.map(g=>g.weight||0)):a==="reps"&&(p=Math.max(...h.map(g=>g.reps||0))),p>0&&l.push({date:new Date(u.date),value:p,workout:u})}),l.sort((u,d)=>u.date-d.date),l}getUniqueExercises(t){if(!t||!Array.isArray(t))return[];const s=new Set;return t.forEach(a=>{a.exercises&&Object.keys(a.exercises).forEach(l=>{s.add(l)})}),Array.from(s).sort()}formatProgressionForChart(t,s,a="weight"){if(!t||t.length===0)return{labels:[],datasets:[{label:s,data:[],fill:!0,backgroundColor:"rgba(19, 70, 134, 0.2)",borderColor:"rgb(19, 70, 134)",tension:.4,pointBackgroundColor:"rgb(19, 70, 134)",pointBorderColor:"#fff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}],minValue:0};const l=t.slice(-10),u=l.map((p,g)=>`Session ${g+1}`),d=l.map(p=>p.value);let h=0;if(a==="weight"&&d.length>0){const p=Math.min(...d);h=Math.max(0,p-5)}return{labels:u,datasets:[{label:s,data:d,fill:!0,backgroundColor:"rgba(19, 70, 134, 0.2)",borderColor:"rgb(19, 70, 134)",tension:.4,pointBackgroundColor:"rgb(19, 70, 134)",pointBorderColor:"#fff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}],minValue:h}}getPinnedExercises(){return s_()}setPinnedExercises(t){if(!Array.isArray(t))throw new Error("Pinned exercises must be an array");const s=t.slice(0,this.maxPinnedExercises);i_(s)}addPinnedExercise(t,s="weight"){try{const a=this.getPinnedExercises();return a.some(l=>l.exerciseName===t)||a.length>=this.maxPinnedExercises?!1:(a.push({exerciseName:t,trackingMode:s}),this.setPinnedExercises(a),!0)}catch(a){return console.error("Error adding pinned exercise:",a),!1}}removePinnedExercise(t){try{const a=this.getPinnedExercises().filter(l=>l.exerciseName!==t);this.setPinnedExercises(a)}catch(s){throw console.error("Error removing pinned exercise:",s),s}}updatePinnedExerciseMode(t,s){try{const l=this.getPinnedExercises().map(u=>u.exerciseName===t?{...u,trackingMode:s}:u);this.setPinnedExercises(l)}catch(a){throw console.error("Error updating pinned exercise mode:",a),a}}isExercisePinned(t){return this.getPinnedExercises().some(a=>a.exerciseName===t)}getAvailableExercisesForPinning(t){const s=this.getUniqueExercises(t),a=this.getPinnedExercises(),l=new Set(a.map(u=>u.exerciseName));return s.filter(u=>!l.has(u))}calculateStats(t,s="all"){if(!t||!Array.isArray(t))return{workoutsThisWeek:0,totalVolume:0,currentStreak:0,avgDuration:0};const a=new Date,l=t.filter(b=>{const v=new Date(b.date);if(s==="week"){const S=new Date(a.getTime()-6048e5);return v>=S}else if(s==="month"){const S=new Date(a.getTime()-2592e6);return v>=S}return!0}),u=new Date(a.getTime()-10080*60*1e3),d=t.filter(b=>new Date(b.date)>=u).length;let h=0;l.forEach(b=>{b.exercises&&Object.values(b.exercises).forEach(v=>{v.sets&&Array.isArray(v.sets)&&v.sets.forEach(S=>{h+=(S.weight||0)*(S.reps||0)})})});const p=this.calculateStreak(t),g=l.reduce((b,v)=>b+(v.duration||0),0),y=l.length>0?Math.round(g/l.length/60):0;return{workoutsThisWeek:d,totalVolume:h,currentStreak:p,avgDuration:y}}calculateStreak(t){if(!t||t.length===0)return 0;const s=[...t].sort((u,d)=>new Date(d.date)-new Date(u.date));let a=0,l=new Date;l.setHours(0,0,0,0);for(const u of s){const d=new Date(u.date);d.setHours(0,0,0,0);const h=Math.floor((l-d)/(1e3*60*60*24));if(h===a)a++;else if(h>a)break}return a}getProgressionSummary(t,s,a="weight"){const l=this.getExerciseProgression(t,s,a);if(l.length===0)return{current:0,best:0,trend:"none",improvement:0};const u=l.map(y=>y.value),d=u[u.length-1],h=Math.max(...u);let p="stable";if(u.length>=4){const y=u.slice(-4,-1).reduce((b,v)=>b+v,0)/3;d>y*1.05?p="up":d<y*.95&&(p="down")}const g=u.length>=2?(d-u[0])/u[0]*100:0;return{current:d,best:h,trend:p,improvement:Math.round(g)}}}const Do=new k7,ME=x.memo(({currentStreak:e=0,longestStreak:t=0})=>{const s=wE(e),a=s.length>0?s[s.length-1]:null;return r.jsx(et,{sx:{borderRadius:3,boxShadow:"0 4px 16px rgba(19, 70, 134, 0.08)",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white"},children:r.jsx(at,{sx:{p:2.5},children:r.jsxs(Re,{spacing:2,children:[r.jsxs(L,{sx:{textAlign:"center"},children:[r.jsx(L,{sx:{fontSize:"3rem",mb:1},children:""}),r.jsx(P,{variant:"h3",sx:{fontWeight:700,mb:.5},children:e}),r.jsx(P,{variant:"body2",sx:{opacity:.9},children:"Day Streak"})]}),s.length>0&&r.jsxs(L,{children:[r.jsx(P,{variant:"caption",sx:{opacity:.8,display:"block",textAlign:"center",mb:1},children:"Milestones Achieved"}),r.jsx(Re,{direction:"row",spacing:1,sx:{justifyContent:"center",flexWrap:"wrap",gap:1},children:s.map((l,u)=>r.jsx(Gn,{title:l.description,children:r.jsx(ut,{label:`${l.days} days`,size:"small",sx:{bgcolor:"rgba(255, 255, 255, 0.2)",color:"white",fontWeight:600,"&:hover":{bgcolor:"rgba(255, 255, 255, 0.3)"}},icon:r.jsx(L,{component:"span",sx:{fontSize:"1rem",ml:.5},children:l.badge.split(" ")[0]})})},u))})]}),a&&r.jsx(L,{sx:{p:1.5,borderRadius:2,bgcolor:"rgba(255, 255, 255, 0.15)",textAlign:"center"},children:r.jsx(P,{variant:"body2",sx:{opacity:.9},children:a.badge})}),t>e&&r.jsx(L,{sx:{textAlign:"center",pt:1,borderTop:"1px solid rgba(255, 255, 255, 0.2)"},children:r.jsxs(P,{variant:"caption",sx:{opacity:.8},children:["Personal Best: ",t," days"]})})]})})})});ME.displayName="StreakDisplay";ME.propTypes={currentStreak:D.number,longestStreak:D.number};const AE=x.memo(({adherence:e=0,completedWorkouts:t=0,plannedWorkouts:s=0})=>{const a=()=>e>=80?"success.main":e>=60?"warning.main":"error.main",l=()=>e>=80?"Excellent! ":e>=60?"Good progress! ":"Keep going! ";return r.jsx(et,{sx:{borderRadius:3,boxShadow:"0 4px 16px rgba(19, 70, 134, 0.08)"},children:r.jsx(at,{sx:{p:2.5},children:r.jsxs(Re,{spacing:2,children:[r.jsxs(Re,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(Cr,{sx:{color:a()}}),r.jsx(P,{variant:"h6",sx:{fontWeight:600},children:"Adherence"})]}),r.jsxs(P,{variant:"h4",sx:{fontWeight:700,color:a()},children:[e,"%"]})]}),r.jsx(L,{children:r.jsx(Yi,{variant:"determinate",value:e,sx:{height:12,borderRadius:6,bgcolor:"action.hover","& .MuiLinearProgress-bar":{bgcolor:a(),borderRadius:6}}})}),r.jsxs(Re,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[r.jsxs(P,{variant:"body2",color:"text.secondary",children:[t," of ",s," workouts completed"]}),r.jsx(P,{variant:"body2",sx:{fontWeight:600,color:a()},children:l()})]})]})})})});AE.displayName="AdherenceDisplay";AE.propTypes={adherence:D.number,completedWorkouts:D.number,plannedWorkouts:D.number};const PE=x.memo(({totalVolume:e=0,volumeChange:t=0})=>{const s=t>=0;return r.jsx(et,{sx:{borderRadius:3,boxShadow:"0 4px 16px rgba(19, 70, 134, 0.08)"},children:r.jsx(at,{sx:{p:2.5},children:r.jsxs(Re,{spacing:2,children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(Aa,{sx:{color:"primary.main"}}),r.jsx(P,{variant:"h6",sx:{fontWeight:600},children:"Total Volume"})]}),r.jsxs(L,{children:[r.jsx(P,{variant:"h3",sx:{fontWeight:700,color:"primary.main"},children:e.toLocaleString()}),r.jsx(P,{variant:"body2",color:"text.secondary",children:"lbs lifted (last 30 days)"})]}),t!==0&&r.jsxs(L,{sx:{p:1.5,borderRadius:2,bgcolor:s?"success.light":"error.light",display:"flex",alignItems:"center",justifyContent:"center",gap:.5},children:[r.jsxs(P,{variant:"body2",sx:{fontWeight:600,color:s?"success.dark":"error.dark"},children:[s?"":""," ",Math.abs(t),"%"]}),r.jsx(P,{variant:"caption",sx:{color:s?"success.dark":"error.dark"},children:"vs. previous 30 days"})]})]})})})});PE.displayName="VolumeTrendDisplay";PE.propTypes={totalVolume:D.number,volumeChange:D.number};const OE=x.createContext({}),Mx=()=>x.useContext(OE),To={displayName:"",email:"",avatar:null,currentWeight:null,targetWeight:null,weightHistory:[],bio:"",goals:"",memberSince:null,weightUnit:"lbs"},RE=({children:e})=>{const{currentUser:t,isGuest:s}=Ar(),[a,l]=x.useState(To),[u,d]=x.useState({totalWorkouts:0,currentStreak:0,longestStreak:0,favoriteExercise:"",totalVolume:0,totalPRs:0,completedWellnessTasks:0}),[h,p]=x.useState(!0),g=x.useCallback(async()=>{try{const T=await ni(),E=T.length,M=Do.calculateStreak(T);let W=0,O=0;const R=[...T].sort((U,ae)=>new Date(U.date)-new Date(ae.date));for(let U=0;U<R.length;U++)if(U===0)O=1;else{const ae=new Date(R[U-1].date),F=new Date(R[U].date);Math.floor((F-ae)/(1e3*60*60*24))===1?O++:(W=Math.max(W,O),O=1)}W=Math.max(W,O);const _={};T.forEach(U=>{U.exercises?.forEach(ae=>{const F=ae.name||ae.exerciseName;F&&(_[F]=(_[F]||0)+1)})});const N=Object.entries(_).sort((U,ae)=>ae[1]-U[1])[0]?.[0]||"";let I=0;T.forEach(U=>{U.exercises?.forEach(ae=>{ae.sets?.forEach(F=>{F.weight&&F.reps&&(I+=F.weight*F.reps)})})});const V=localStorage.getItem("goodlift_total_prs")?parseInt(localStorage.getItem("goodlift_total_prs")):0,B=t?.uid?`wellness_completed_${t.uid}`:"wellness_completed_guest",z=localStorage.getItem(B),ue=z?JSON.parse(z).length:0;return{totalWorkouts:E,currentStreak:M,longestStreak:W,favoriteExercise:N,totalVolume:I,totalPRs:V,completedWellnessTasks:ue}}catch(T){return console.error("Error calculating stats:",T),{totalWorkouts:0,currentStreak:0,longestStreak:0,favoriteExercise:"",totalVolume:0,totalPRs:0,completedWellnessTasks:0}}},[t]);x.useEffect(()=>{t!==void 0&&(async()=>{p(!0);try{if(t&&!s){const E=await Hs(t.uid);if(E?.profile)l({...To,...E.profile,email:t.email});else{const M={...To,displayName:t.displayName||"",email:t.email,memberSince:new Date().toISOString()};l(M),await vn(t.uid,{profile:M})}if(E?.stats)d(E.stats);else{const M=await g();d(M)}}else{const E=localStorage.getItem("goodlift_user_profile");l(E?{...To,...JSON.parse(E)}:{...To,displayName:"Guest User",memberSince:new Date().toISOString()});const M=await g();d(M)}}catch(E){console.error("Error loading profile:",E),l(To)}finally{p(!1)}})()},[t,s,g]);const y=x.useCallback(async T=>{try{l(T),t&&!s?await vn(t.uid,{profile:T}):localStorage.setItem("goodlift_user_profile",JSON.stringify(T))}catch(E){throw console.error("Error saving profile:",E),E}},[t,s]),b=x.useCallback((T,E)=>{const M={...a,[T]:E};return y(M)},[a,y]),v=x.useCallback(async(T,E="lbs")=>{const M={weight:T,unit:E,date:new Date().toISOString()},W=[...a.weightHistory,M],O={...a,currentWeight:T,weightUnit:E,weightHistory:W};await y(O)},[a,y]),S=x.useCallback(()=>{if(!a.displayName)return"?";const T=a.displayName.trim().split(" ");return T.length===1?T[0].charAt(0).toUpperCase():(T[0].charAt(0)+T[T.length-1].charAt(0)).toUpperCase()},[a.displayName]),j=x.useCallback(()=>{let T=0,E=7;return a.displayName&&T++,a.avatar&&T++,a.currentWeight&&T++,a.bio&&T++,a.goals&&T++,a.weightHistory.length>0&&T++,a.email&&T++,Math.round(T/E*100)},[a]),k=x.useCallback(async()=>{const T=await g();d(T),t&&!s&&await vn(t.uid,{stats:T})},[g,t,s]),w={profile:a,stats:u,loading:h,saveProfile:y,updateProfile:b,addWeightEntry:v,getInitials:S,getProfileCompletion:j,refreshStats:k};return r.jsx(OE.Provider,{value:w,children:e})};RE.propTypes={children:D.node.isRequired};const j7=(e=[])=>{if(!e||e.length===0)return{currentStreak:0,longestStreak:0};const t=[...e].sort((g,y)=>new Date(y.date)-new Date(g.date)),s=new Set(t.map(g=>{const y=new Date(g.date);return y.setHours(0,0,0,0),y.getTime()})),a=new Date;a.setHours(0,0,0,0);let l=0,u=0,d=0,h=new Date(a),p=0;for(let g=0;g<365;g++){const y=h.getTime();if(Math.floor((a.getTime()-h.getTime())/(1e3*60*60*24))%7===0&&g>0&&(p=0),s.has(y))d++,l===0&&g<2&&(l=d),u=Math.max(u,d);else if(p++,p>1){const v=new Date(h);if(v.setDate(v.getDate()-1),!s.has(v.getTime())&&g>0){if(l===0&&d>0)break;d=0,p=0}}h.setDate(h.getDate()-1)}return{currentStreak:l,longestStreak:u}},D7=(e=[],t=30)=>{const s=new Date;s.setDate(s.getDate()-t),s.setHours(0,0,0,0);const l=e.filter(p=>{const g=new Date(p.date);return g.setHours(0,0,0,0),g>=s}).length,u=t/7,d=Math.ceil(u*6);return d===0?0:Math.min(100,Math.round(l/d*100))},_E=()=>{const[e,t]=x.useState(!0),[s,a]=x.useState([]),[l,u]=x.useState([]),[d,h]=x.useState([]),[p,g]=x.useState(!1),[y,b]=x.useState(""),[v,S]=x.useState(0),[j,k]=x.useState(!1),[w,T]=x.useState("all"),[E,M]=x.useState(null),[W,O]=x.useState(null),{profile:R,addWeightEntry:_}=Mx(),[N,I]=x.useState({currentStreak:0,longestStreak:0}),[V,B]=x.useState(0),[z,ue]=x.useState({}),[U,ae]=x.useState({personalRecords:0,totalWorkouts:0,averageDuration:0,strengthSessions:0,cardioSessions:0,yogaSessions:0}),F=()=>{switch(w){case"7days":return 7;case"30days":return 30;case"3months":return 90;case"year":return 365;case"custom":return null;case"all":return null;default:return null}},Y=()=>{const X=F();if(w==="custom"&&E&&W){const ce=new Date(E);ce.setHours(0,0,0,0);const xe=new Date(W);return xe.setHours(23,59,59,999),s.filter(be=>{const re=new Date(be.date);return re>=ce&&re<=xe})}if(!X)return s;const Z=new Date;return Z.setDate(Z.getDate()-X),Z.setHours(0,0,0,0),s.filter(ce=>{const xe=new Date(ce.date);return xe.setHours(0,0,0,0),xe>=Z})},ge=X=>{let Z=0,ce=0,xe=0,be=0;const re={};X.forEach($=>{$.type==="cardio"||$.type==="hiit"||$.cardioType?ce++:$.type==="yoga"||$.type==="stretch"||$.type==="mobility"||$.yogaType?xe++:($.type==="strength"||$.type==="full"||$.type==="upper"||$.type==="lower"||$.type==="push"||$.type==="pull"||$.type==="legs"||$.exercises&&Object.keys($.exercises).length>0)&&Z++;const he=$.duration||0;be+=he,$.exercises&&Object.entries($.exercises).forEach(([Te,Oe])=>{!Oe.sets||Oe.sets.length===0||Oe.sets.forEach(me=>{const te=me.weight||0,ee=me.reps||0;te===0&&ee===0||(!re[Te]||te>re[Te].weight)&&(re[Te]={weight:te,reps:ee,date:$.date})})})});const G=X.length,le=G>0?Math.round(be/G):0;return{personalRecords:Object.keys(re).length,totalWorkouts:G,averageDuration:le,strengthSessions:Z,cardioSessions:ce,yogaSessions:xe}},pe=async()=>{t(!0);try{const[X,,Z]=await Promise.all([ni(),Sh(),Yc()]);a(X),ue(Z);const ce=j7(X);I(ce);const xe=D7(X,30);B(xe);const be=Do.getPinnedExercises();u(be);try{const le=(await(await fetch(_h)).json()).map($=>$["Exercise Name"]).sort();h(le)}catch(re){console.error("Error loading exercises:",re);const G=Do.getUniqueExercises(X);h(G)}}catch(X){console.error("Error loading progress data:",X)}finally{t(!1)}};x.useEffect(()=>{pe()},[]),x.useEffect(()=>{if(s.length>0||w||E||W){const X=Y(),Z=ge(X);ae(Z)}},[s,w,E,W]);const Me=X=>{Do.removePinnedExercise(X),u(l.filter(Z=>Z.exerciseName!==X))},ve=X=>{Do.addPinnedExercise(X,"weight")&&(u([...l,{exerciseName:X,trackingMode:"weight"}]),g(!1),b(""))};return e?r.jsx(L,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:r.jsxs(P,{variant:"h5",color:"text.secondary",children:["Loading",r.jsx(tt.span,{initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:"..."})]})}):r.jsxs(L,{sx:{width:"100%",minHeight:"100vh",overflowX:"hidden"},children:[r.jsx(Bh,{title:"Progress",subtitle:"Track your fitness journey"}),r.jsxs(L,{sx:{maxWidth:"1400px",margin:"0 auto",p:{xs:1,sm:2,md:3},pb:{xs:"80px",md:3},width:"100%",boxSizing:"border-box"},children:[r.jsx(L,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:r.jsxs(Fc,{value:v,onChange:(X,Z)=>S(Z),variant:"fullWidth",sx:{maxWidth:{xs:"100%",sm:600},margin:"0 auto"},children:[r.jsx(Vi,{icon:r.jsx(ES,{}),iconPosition:"start",label:"Statistics",sx:{minHeight:48}}),r.jsx(Vi,{icon:r.jsx($o,{}),iconPosition:"start",label:"Achievements",sx:{minHeight:48}})]})}),v===0&&r.jsxs(Re,{spacing:3,children:[r.jsx(L,{sx:{display:"flex",justifyContent:"flex-end"},children:r.jsx(Ae,{startIcon:r.jsx(Lm,{}),onClick:()=>k(!0),variant:"outlined",size:"small",sx:{textTransform:"none",borderRadius:2},children:w==="all"?"All Time":w==="7days"?"7 Days":w==="30days"?"30 Days":w==="3months"?"3 Months":w==="year"?"Year":w==="custom"?"Custom":"Filter"})}),r.jsx(et,{sx:{bgcolor:"background.paper",boxShadow:3,border:"2px solid #FF6B35"},children:r.jsx(at,{sx:{p:2.5},children:r.jsxs(Re,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:2},children:[r.jsx(BC,{sx:{fontSize:48,color:"#FF6B35"}}),r.jsxs(L,{children:[r.jsx(P,{variant:"h2",sx:{fontWeight:700,color:"#FF6B35",lineHeight:1},children:N.currentStreak}),r.jsx(P,{variant:"body1",color:"text.secondary",sx:{fontWeight:600},children:"Day Streak"})]})]}),r.jsxs(L,{sx:{textAlign:"right"},children:[r.jsx(P,{variant:"caption",color:"text.secondary",children:"Longest"}),r.jsx(P,{variant:"h5",sx:{fontWeight:700,color:"primary.main"},children:N.longestStreak})]})]})})}),r.jsx(et,{sx:{bgcolor:"background.paper"},children:r.jsx(at,{sx:{p:2},children:r.jsxs(Re,{spacing:1.5,children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(ES,{sx:{color:"secondary.main"}}),r.jsx(P,{variant:"body1",sx:{fontWeight:600},children:"Adherence"})]}),r.jsxs(P,{variant:"h4",sx:{fontWeight:700,color:"secondary.main"},children:[V,"%"]})]}),r.jsx(Yi,{variant:"determinate",value:V,sx:{height:12,borderRadius:6,bgcolor:"action.hover","& .MuiLinearProgress-bar":{borderRadius:6,background:"linear-gradient(90deg, #4CAF50 0%, #8BC34A 100%)"}}}),r.jsx(P,{variant:"caption",color:"text.secondary",children:"Last 30 days  6 workouts/week target"})]})})}),s.length>0&&r.jsx(et,{sx:{bgcolor:"background.paper"},children:r.jsxs(at,{children:[r.jsxs(Re,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[r.jsxs(P,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(Aa,{})," Progressive Overload"]}),l.length<10&&r.jsx(Ae,{size:"small",startIcon:r.jsx(gi,{}),onClick:()=>g(!0),sx:{color:"secondary.main"},children:"Track Exercise"})]}),l.length===0?r.jsxs(L,{sx:{textAlign:"center",py:4},children:[r.jsx(P,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Track your favorite exercises to see your progress over time"}),r.jsx(Ae,{variant:"contained",startIcon:r.jsx(gi,{}),onClick:()=>g(!0),children:"Add Exercise"})]}):r.jsx(Re,{spacing:2,children:l.map(X=>{const Z=Do.getExerciseProgression(s,X.exerciseName,"weight"),ce=Z.length>0?Z[0].value:0,xe=Z.length>0?Z[Z.length-1].value:0,be=xe>ce?"up":xe<ce?"down":"same";return r.jsxs(L,{sx:{p:2,borderRadius:2,border:"1px solid",borderColor:"divider",bgcolor:"background.default"},children:[r.jsxs(Re,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",sx:{mb:1.5},children:[r.jsx(P,{variant:"body1",sx:{fontWeight:600,flex:1},children:X.exerciseName}),r.jsx(He,{onClick:()=>Me(X.exerciseName),size:"small",sx:{color:"text.secondary"},children:r.jsx(gh,{sx:{fontSize:18}})})]}),Z.length>0?r.jsxs(Re,{direction:"row",alignItems:"center",spacing:2,sx:{justifyContent:"center",py:1},children:[r.jsxs(L,{sx:{textAlign:"center"},children:[r.jsx(P,{variant:"caption",color:"text.secondary",children:"Starting"}),r.jsxs(P,{variant:"h5",sx:{fontWeight:700,color:"primary.main"},children:[ce," lbs"]})]}),r.jsxs(L,{sx:{display:"flex",alignItems:"center",px:2},children:[be==="up"&&r.jsx(Aa,{sx:{fontSize:40,color:"success.main"}}),be==="down"&&r.jsx(Rg,{sx:{fontSize:40,color:"error.main"}}),be==="same"&&r.jsx(Oa,{sx:{fontSize:40,color:"text.secondary"}})]}),r.jsxs(L,{sx:{textAlign:"center"},children:[r.jsx(P,{variant:"caption",color:"text.secondary",children:"Current"}),r.jsxs(P,{variant:"h5",sx:{fontWeight:700,color:"secondary.main"},children:[xe," lbs"]})]})]}):r.jsx(P,{variant:"caption",color:"text.secondary",sx:{display:"block",textAlign:"center",py:2},children:"No data available"})]},X.exerciseName)})})]})}),r.jsx(et,{sx:{bgcolor:"background.paper"},children:r.jsxs(at,{sx:{p:3},children:[r.jsx(P,{variant:"h6",sx:{mb:3,fontWeight:600},children:"Workout Summary"}),r.jsxs(Re,{spacing:2.5,children:[r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[r.jsx(cn,{sx:{fontSize:28,color:"primary.main"}}),r.jsx(P,{variant:"body1",sx:{fontWeight:500},children:"Total Workouts"})]}),r.jsx(P,{variant:"h5",sx:{fontWeight:700,color:"primary.main"},children:U.totalWorkouts})]}),r.jsx(yn,{}),r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[r.jsx(cn,{sx:{fontSize:28,color:"error.main"}}),r.jsx(P,{variant:"body1",sx:{fontWeight:500},children:"Total Strength"})]}),r.jsx(P,{variant:"h5",sx:{fontWeight:700,color:"error.main"},children:U.strengthSessions})]}),r.jsx(yn,{}),r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[r.jsx(mi,{sx:{fontSize:28,color:"success.main"}}),r.jsx(P,{variant:"body1",sx:{fontWeight:500},children:"Total Cardio"})]}),r.jsx(P,{variant:"h5",sx:{fontWeight:700,color:"success.main"},children:U.cardioSessions})]}),r.jsx(yn,{}),r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[r.jsx(ti,{sx:{fontSize:28,color:"secondary.main"}}),r.jsx(P,{variant:"body1",sx:{fontWeight:500},children:"Total Yoga"})]}),r.jsx(P,{variant:"h5",sx:{fontWeight:700,color:"secondary.main"},children:U.yogaSessions})]})]})]})}),r.jsx(EE,{weightHistory:R.weightHistory||[],currentWeight:R.currentWeight,currentUnit:R.weightUnit||"lbs",targetWeight:R.targetWeight,onAddWeight:_})]}),v===1&&r.jsx(jE,{userStats:z,workoutHistory:s}),r.jsxs(An,{open:p,onClose:()=>{g(!1),b("")},maxWidth:"xs",fullWidth:!0,children:[r.jsx(Un,{children:"Add Exercise to Track"}),r.jsxs(Pn,{children:[r.jsx(ct,{fullWidth:!0,placeholder:"Search exercises...",value:y,onChange:X=>b(X.target.value),variant:"outlined",size:"small",sx:{mb:2,mt:1}}),r.jsx(Yn,{sx:{maxHeight:400,overflow:"auto"},children:d.filter(X=>!l.some(Z=>Z.exerciseName===X)).filter(X=>X.toLowerCase().includes(y.toLowerCase())).map(X=>r.jsx(rt,{disablePadding:!0,children:r.jsx(Ni,{onClick:()=>ve(X),children:r.jsx(Tt,{primary:X})})},X))})]}),r.jsx(On,{children:r.jsx(Ae,{onClick:()=>{g(!1),b("")},children:"Cancel"})})]}),r.jsxs(An,{open:j,onClose:()=>k(!1),maxWidth:"xs",fullWidth:!0,children:[r.jsx(Un,{children:"Time Frame Filter"}),r.jsx(Pn,{children:r.jsxs(Re,{spacing:2,sx:{mt:1},children:[r.jsxs(Vd,{value:w,exclusive:!0,onChange:(X,Z)=>{Z!==null&&T(Z)},orientation:"vertical",fullWidth:!0,children:[r.jsx(Zs,{value:"all",children:"All Time"}),r.jsx(Zs,{value:"7days",children:"Last 7 Days"}),r.jsx(Zs,{value:"30days",children:"Last 30 Days"}),r.jsx(Zs,{value:"3months",children:"Last 3 Months"}),r.jsx(Zs,{value:"year",children:"Last Year"}),r.jsx(Zs,{value:"custom",children:"Custom Range"})]}),w==="custom"&&r.jsx(Eh,{dateAdapter:cx,children:r.jsxs(Re,{spacing:2,children:[r.jsx(lh,{label:"Start Date",value:E,onChange:X=>M(X),slotProps:{textField:{fullWidth:!0}}}),r.jsx(lh,{label:"End Date",value:W,onChange:X=>O(X),slotProps:{textField:{fullWidth:!0}}})]})})]})}),r.jsxs(On,{children:[r.jsx(Ae,{onClick:()=>{T("all"),M(null),O(null)},children:"Clear Filters"}),r.jsx(Ae,{onClick:()=>k(!1),variant:"contained",children:"Apply"})]})]})]})]})};_E.propTypes={};const E7=()=>{const[e,t]=x.useState(!0),[s,a]=x.useState(""),[l,u]=x.useState(""),[d,h]=x.useState(""),[p,g]=x.useState(!1),{login:y,signup:b}=Ar();return{isLogin:e,email:s,setEmail:a,password:l,setPassword:u,error:d,loading:p,handleSubmit:async j=>{if(j.preventDefault(),!s||!l){h("Please fill in all fields");return}if(l.length<6){h("Password must be at least 6 characters");return}try{h(""),g(!0),e?await y(s,l):await b(s,l)}catch(k){console.error("Auth error:",k.code||"Unknown error"),k.code==="auth/user-not-found"||k.code==="auth/wrong-password"?h("Invalid email or password"):k.code==="auth/email-already-in-use"?h("Email already in use"):k.code==="auth/invalid-email"?h("Invalid email address"):k.code==="auth/weak-password"?h("Password is too weak"):h(`Failed to ${e?"log in":"sign up"}. Please try again.`)}finally{g(!1)}},toggleMode:()=>{t(!e),h(""),a(""),u("")}}},M7=()=>{const{isLogin:e,email:t,setEmail:s,password:a,setPassword:l,error:u,loading:d,handleSubmit:h,toggleMode:p}=E7(),{continueAsGuest:g}=Ar();return r.jsx(L,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:y=>y.palette.background.default,p:2},children:r.jsx(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:r.jsx(et,{sx:{maxWidth:440,width:"100%",borderRadius:4,boxShadow:"0 8px 32px rgba(19, 70, 134, 0.2)"},children:r.jsxs(at,{sx:{p:4},children:[r.jsxs(L,{sx:{textAlign:"center",mb:4},children:[r.jsx(tt.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},style:{marginBottom:"1rem"},children:r.jsx("img",{src:"/goodlift/goodlift-logo.svg",alt:"GoodLift",style:{height:"80px",width:"auto"}})}),r.jsx(Pc,{mode:"wait",children:r.jsxs(tt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.3},children:[r.jsx(P,{variant:"h5",sx:{fontWeight:600,mb:1},children:e?"Welcome Back":"Create Account"}),r.jsx(P,{variant:"body2",color:"text.secondary",children:e?"Log in to continue your fitness journey":"Sign up to start tracking your workouts"})]},e?"login":"signup")})]}),r.jsx(Pc,{mode:"wait",children:u&&r.jsx(tt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:r.jsx(Ft,{severity:"error",sx:{mb:3},children:u})})}),r.jsxs(L,{component:"form",onSubmit:h,children:[r.jsx(ct,{fullWidth:!0,label:"Email",type:"email",value:t,onChange:y=>s(y.target.value),disabled:d,required:!0,sx:{mb:2}}),r.jsx(ct,{fullWidth:!0,label:"Password",type:"password",value:a,onChange:y=>l(y.target.value),disabled:d,required:!0,sx:{mb:3}}),r.jsx(tt.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:r.jsx(Ae,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:d,sx:{py:1.5,fontSize:"1.1rem",fontWeight:600,bgcolor:"primary.main","&:hover":{bgcolor:"primary.dark"}},children:d?"Please wait...":e?"Log In":"Sign Up"})}),r.jsx(yn,{sx:{my:2},children:"OR"}),r.jsx(tt.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:r.jsx(Ae,{fullWidth:!0,variant:"outlined",size:"large",disabled:d,onClick:g,sx:{py:1.5,fontSize:"1.1rem",fontWeight:600,borderColor:"secondary.main",color:"secondary.main","&:hover":{borderColor:"secondary.dark",bgcolor:"rgba(237, 63, 39, 0.05)"}},children:"Continue as Guest"})}),r.jsx(L,{sx:{mt:3,pt:3,borderTop:"1px solid",borderColor:"divider",textAlign:"center"},children:r.jsxs(P,{variant:"body2",color:"text.secondary",children:[e?"Don't have an account? ":"Already have an account? ",r.jsx(Ae,{onClick:p,disabled:d,sx:{color:"primary.main",fontWeight:600,textDecoration:"underline","&:hover":{bgcolor:"transparent",textDecoration:"underline"}},children:e?"Sign Up":"Log In"})]})})]})]})})})})},wc=[{name:"Neck Side Stretch",primaryMuscles:"Neck",secondaryMuscles:"Upper Back, Traps",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=v5I0J_6w6jw"},{name:"Neck Rotation",primaryMuscles:"Neck",secondaryMuscles:"Traps",type:"Dynamic",duration:60,youtubeLink:"https://www.youtube.com/watch?v=xfGKhRo5bpI"},{name:"Shoulder Cross-Body Stretch",primaryMuscles:"Delts, Rear Delts",secondaryMuscles:"Upper Back",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=b6H9SHC0H9Y"},{name:"Overhead Triceps Stretch",primaryMuscles:"Triceps",secondaryMuscles:"Delts, Lats",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=EQO_8NRkljo"},{name:"Arm Circles",primaryMuscles:"Delts",secondaryMuscles:"Upper Back, Chest",type:"Dynamic",duration:60,youtubeLink:"https://www.youtube.com/watch?v=Ue_PRcVBdm8"},{name:"Doorway Chest Stretch",primaryMuscles:"Chest",secondaryMuscles:"Front Delts",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=qGJABe9R2zQ"},{name:"Standing Chest Expansion",primaryMuscles:"Chest",secondaryMuscles:"Front Delts, Biceps",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=mvh5zHB-xkc"},{name:"Child's Pose",primaryMuscles:"Lower Back",secondaryMuscles:"Lats, Glutes",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=2MTIlxJ82vY",difficulty:"Beginner"},{name:"Cat-Cow Stretch",primaryMuscles:"Back, Core",secondaryMuscles:"Abs",type:"Dynamic",duration:60,youtubeLink:"https://www.youtube.com/watch?v=kqnua4rHVVA",difficulty:"Beginner"},{name:"Seated Spinal Twist",primaryMuscles:"Back, Obliques",secondaryMuscles:"Lower Back, Glutes",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=DGd7kJyPZjU",difficulty:"Beginner"},{name:"Hip Flexor Stretch (Lunge)",primaryMuscles:"Hip Flexors",secondaryMuscles:"Quads",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=hdW4IXXCzKE"},{name:"Pigeon Pose",primaryMuscles:"Glutes, Hip Flexors",secondaryMuscles:"Lower Back",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=0_zDd6kQ",difficulty:"Intermediate"},{name:"Figure 4 Stretch",primaryMuscles:"Glutes",secondaryMuscles:"Lower Back, Hip Flexors",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=JbyjNymZP8M"},{name:"Butterfly Stretch",primaryMuscles:"Inner Thighs, Groin",secondaryMuscles:"Hip Flexors",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=mJiSzM1X7m0"},{name:"Standing Quad Stretch",primaryMuscles:"Quads",secondaryMuscles:"Hip Flexors",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=kRHQDSuhYKE"},{name:"Lying Quad Stretch",primaryMuscles:"Quads",secondaryMuscles:"Hip Flexors",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=5Mn5g6W-BZk"},{name:"Standing Hamstring Stretch",primaryMuscles:"Hamstrings",secondaryMuscles:"Lower Back, Calves",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=BPmv-3EQk2c"},{name:"Seated Forward Fold",primaryMuscles:"Hamstrings, Lower Back",secondaryMuscles:"Calves",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=U21floGmwDs",difficulty:"Beginner"},{name:"Downward Dog",primaryMuscles:"Hamstrings, Calves",secondaryMuscles:"Back, Delts",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=gZJWYonQKxY",difficulty:"Beginner"},{name:"Wall Calf Stretch",primaryMuscles:"Calves",secondaryMuscles:"Hamstrings",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=hjCRc2jYKyY"},{name:"Standing Calf Raise Stretch",primaryMuscles:"Calves",secondaryMuscles:"",type:"Dynamic",duration:60,youtubeLink:"https://www.youtube.com/watch?v=V3E_fFrLZmE"},{name:"Cobra Stretch",primaryMuscles:"Abs",secondaryMuscles:"Hip Flexors, Chest",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=JDcdhTuycOI",difficulty:"Beginner"},{name:"Side Bend Stretch",primaryMuscles:"Obliques",secondaryMuscles:"Lats, Side Delts",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=y1bKLSIvR1A"},{name:"World's Greatest Stretch",primaryMuscles:"Hip Flexors, Hamstrings",secondaryMuscles:"Glutes, Back, Chest",type:"Dynamic",duration:60,youtubeLink:"https://www.youtube.com/watch?v=a25W3YHBXP4",difficulty:"Intermediate"},{name:"Thread the Needle",primaryMuscles:"Upper Back, Delts",secondaryMuscles:"Obliques, Lower Back",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=lVGgLfg3wQ8",difficulty:"Beginner"},{name:"Warrior I Pose",primaryMuscles:"Hip Flexors, Quads",secondaryMuscles:"Glutes, Core",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=VC4s_PmJBkA",difficulty:"Beginner"},{name:"Triangle Pose",primaryMuscles:"Hamstrings, Obliques",secondaryMuscles:"Inner Thighs, Back",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=2S-ozXfUL9g",difficulty:"Intermediate"},{name:"Happy Baby Pose",primaryMuscles:"Hip Flexors, Glutes",secondaryMuscles:"Lower Back, Inner Thighs",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=p28vdRmDuLg",difficulty:"Beginner"},{name:"Supine Spinal Twist",primaryMuscles:"Lower Back, Obliques",secondaryMuscles:"Glutes, Chest",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=DQBT3u-x7TE",difficulty:"Beginner"}],pC=e=>e.split(",").map(t=>t.trim()).filter(t=>t.length>0),Cc=e=>{const t=pC(e.primaryMuscles),s=pC(e.secondaryMuscles||"");return[...t,...s]},Im={NECK:["Neck","Traps"],SHOULDERS:["Delts","Front Delts","Rear Delts","Side Delts"],CHEST:["Chest","Upper Chest","Lower Chest"],BACK:["Back","Upper Back","Lower Back","Lats"],CORE:["Core","Abs","Obliques"],ARMS:["Biceps","Triceps","Forearms"],HIPS:["Hip Flexors","Glutes","Groin","Inner Thighs"],LEGS_UPPER:["Quads","Hamstrings"],LEGS_LOWER:["Calves"]},mC=(e,t)=>Cc(e).some(a=>t.some(l=>a.includes(l)||l.includes(a))),kg=(e=10)=>{const t=[],s=new Set,a=Object.keys(Im);for(const l of a){if(t.length>=e)break;const u=Im[l],d=wc.filter(h=>mC(h,u)&&!t.includes(h));if(d.length>0){const h=Math.floor(Math.random()*d.length);t.push(d[h]),s.add(l)}}for(;t.length<e;){const l=a.filter(u=>!s.has(u));if(l.length>0){const u=l[Math.floor(Math.random()*l.length)],d=Im[u],h=wc.filter(p=>mC(p,d)&&!t.includes(p));if(h.length>0){const p=Math.floor(Math.random()*h.length);t.push(h[p]),s.add(u)}else s.add(u)}else{const u=wc.filter(h=>!t.includes(h));if(u.length===0)break;const d=Math.floor(Math.random()*u.length);t.push(u[d])}}return jg(t)},A7=(e,t=10)=>{if(!e||e.length===0)return kg(t);const s=wc.filter(u=>{const d=Cc(u);return e.some(h=>d.some(p=>p.includes(h)||h.includes(p)))});if(s.length===0)return console.warn("No stretches found for specified muscles, using full body selection"),kg(t);if(s.length<=t)return jg(s);const a=[],l=new Set;for(const u of e){if(a.length>=t)break;const d=s.filter(h=>a.includes(h)?!1:Cc(h).some(g=>g.includes(u)||u.includes(g)));if(d.length>0){const h=Math.floor(Math.random()*d.length);a.push(d[h]),Cc(d[h]).forEach(p=>l.add(p))}}for(;a.length<t;){const u=s.filter(h=>!a.includes(h));if(u.length===0)break;const d=Math.floor(Math.random()*u.length);a.push(u[d])}return jg(a)},jg=e=>{const t=[...e];for(let s=t.length-1;s>0;s--){const a=Math.floor(Math.random()*(s+1));[t[s],t[a]]=[t[a],t[s]]}return t},P7=()=>{const e=new Set;return wc.forEach(t=>{Cc(t).forEach(s=>e.add(s))}),Array.from(e).sort()},IE=({onStartStretchSession:e})=>{const[t,s]=x.useState(null),[a,l]=x.useState([]),u=P7(),d=()=>{s("full")},h=()=>{s("custom")},p=v=>{l(S=>S.includes(v)?S.filter(j=>j!==v):[...S,v])},g=()=>{t==="full"?e("full",[]):t==="custom"&&e("custom",a)},y=()=>{s(null),l([])},b=t==="custom"&&a.length===0;return r.jsx(L,{sx:{padding:{xs:"2rem 1rem",sm:"2rem",md:"3rem"},maxWidth:"1200px",margin:"0 auto",minHeight:"calc(100vh - 60px)"},children:r.jsxs(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsx(P,{variant:"h3",sx:{fontFamily:"'Montserrat', sans-serif",fontWeight:800,color:"primary.main",marginBottom:"0.5rem",textAlign:"center"},children:"Stretching"}),r.jsx(P,{variant:"body1",sx:{color:"text.secondary",marginBottom:"2rem",textAlign:"center"},children:"Improve flexibility and recovery with guided stretches"}),!t&&r.jsx(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:r.jsxs(Qt,{container:!0,spacing:3,sx:{marginTop:2},children:[r.jsx(Qt,{item:!0,xs:12,md:6,children:r.jsx(tt.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:r.jsx(et,{onClick:d,sx:{cursor:"pointer",height:"100%",transition:"all 0.3s ease","&:hover":{boxShadow:6,borderColor:"primary.main"},border:"2px solid",borderColor:"divider"},children:r.jsxs(at,{sx:{padding:4},children:[r.jsx(L,{sx:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:2},children:r.jsx(cn,{sx:{fontSize:60,color:"primary.main"}})}),r.jsx(P,{variant:"h5",sx:{fontWeight:700,textAlign:"center",marginBottom:2,color:"primary.main"},children:"Full Body Stretch"}),r.jsx(P,{variant:"body2",sx:{textAlign:"center",marginBottom:2,color:"text.secondary"},children:"A balanced routine covering all major muscle groups for complete flexibility and recovery."}),r.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1,marginTop:2},children:[r.jsx(zm,{sx:{color:"secondary.main"}}),r.jsx(P,{variant:"h6",sx:{fontWeight:600,color:"secondary.main"},children:"~10 minutes"})]})]})})})}),r.jsx(Qt,{item:!0,xs:12,md:6,children:r.jsx(tt.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:r.jsx(et,{onClick:h,sx:{cursor:"pointer",height:"100%",transition:"all 0.3s ease","&:hover":{boxShadow:6,borderColor:"info.main"},border:"2px solid",borderColor:"divider"},children:r.jsxs(at,{sx:{padding:4},children:[r.jsx(L,{sx:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:2},children:r.jsx(cn,{sx:{fontSize:60,color:"info.main"}})}),r.jsx(P,{variant:"h5",sx:{fontWeight:700,textAlign:"center",marginBottom:2,color:"info.main"},children:"Custom Stretch"}),r.jsx(P,{variant:"body2",sx:{textAlign:"center",marginBottom:2,color:"text.secondary"},children:"Target specific muscle groups that need attention."}),r.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1,marginTop:2},children:[r.jsx(zm,{sx:{color:"secondary.main"}}),r.jsx(P,{variant:"h6",sx:{fontWeight:600,color:"secondary.main"},children:"~10 minutes"})]})]})})})})]})}),t==="custom"&&r.jsx(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:r.jsxs(et,{sx:{marginTop:3,padding:3},children:[r.jsx(P,{variant:"h5",sx:{fontWeight:700,marginBottom:2,textAlign:"center",color:"primary.main"},children:"Select Muscle Groups"}),r.jsx(P,{variant:"body2",sx:{marginBottom:3,textAlign:"center",color:"text.secondary"},children:"Choose one or more muscle groups to focus on"}),r.jsx(Z2,{children:r.jsx(Qt,{container:!0,spacing:2,children:u.map(v=>r.jsx(Qt,{item:!0,xs:6,sm:4,md:3,children:r.jsx(Fd,{control:r.jsx(J2,{checked:a.includes(v),onChange:()=>p(v),color:"primary"}),label:v})},v))})})]})}),t==="full"&&r.jsx(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:r.jsxs(et,{sx:{marginTop:3,padding:3},children:[r.jsx(P,{variant:"h5",sx:{fontWeight:700,marginBottom:2,textAlign:"center",color:"primary.main"},children:"Full Body Stretch Session"}),r.jsxs(Re,{spacing:1,sx:{marginTop:2},children:[r.jsxs(P,{variant:"body1",children:[r.jsx("strong",{children:"Duration:"})," ~10 minutes"]}),r.jsxs(P,{variant:"body1",children:[r.jsx("strong",{children:"Focus:"})," All major muscle groups"]}),r.jsxs(P,{variant:"body1",children:[r.jsx("strong",{children:"Stretches:"})," 10 carefully selected stretches"]})]})]})}),t&&r.jsxs(L,{sx:{marginTop:4,display:"flex",justifyContent:"center",gap:2},children:[r.jsx(Ae,{variant:"outlined",size:"large",onClick:y,sx:{minWidth:"150px",padding:"12px 32px",fontSize:"1.1rem"},children:"Back"}),r.jsx(Ae,{variant:"contained",size:"large",startIcon:r.jsx(Js,{}),onClick:g,disabled:b,sx:{minWidth:"200px",padding:"12px 32px",fontSize:"1.1rem",fontWeight:600},children:"Start Session"})]})]})})};IE.propTypes={onStartStretchSession:D.func.isRequired};class O7{constructor(){this.isSupported="speechSynthesis"in window,this.isEnabled=this.loadTTSPreference(),this.currentUtterance=null}isTTSSupported(){return this.isSupported}loadTTSPreference(){try{const t=localStorage.getItem("ttsEnabled");return t===null?!0:t==="true"}catch{return!0}}saveTTSPreference(){try{localStorage.setItem("ttsEnabled",this.isEnabled.toString())}catch(t){console.warn("Could not save TTS preference",t)}}toggleTTS(){return this.isEnabled=!this.isEnabled,this.saveTTSPreference(),!this.isEnabled&&this.isSupported&&window.speechSynthesis.cancel(),this.isEnabled}setEnabled(t){this.isEnabled=t,this.saveTTSPreference(),!t&&this.isSupported&&window.speechSynthesis.cancel()}isEnabledState(){return this.isEnabled}speak(t,s={}){return new Promise((a,l)=>{if(!this.isSupported){console.warn("Speech Synthesis not supported in this browser"),l(new Error("Speech Synthesis not supported"));return}if(!this.isEnabled){a();return}window.speechSynthesis.cancel();const u=new SpeechSynthesisUtterance(t);u.rate=s.rate||1,u.pitch=s.pitch||1,u.volume=s.volume||1,u.lang=s.lang||"en-US";const d=window.speechSynthesis.getVoices();if(d.length>0){let h=d.find(p=>p.lang.startsWith("en")&&(p.name.toLowerCase().includes("female")||p.name.toLowerCase().includes("natural")||p.name.toLowerCase().includes("premium")||p.name.toLowerCase().includes("neural")));h||(h=d.find(p=>p.lang.startsWith("en")&&p.localService===!1)),h||(h=d.find(p=>p.lang.startsWith("en"))),h&&(u.voice=h)}u.onend=()=>{this.currentUtterance=null,a()},u.onerror=h=>{console.error("Speech synthesis error:",h),this.currentUtterance=null,l(h)},this.currentUtterance=u,window.speechSynthesis.speak(u)})}async announceExercise(t){try{await this.speak(t,{rate:.85,pitch:.95})}catch(s){console.warn("Could not announce exercise:",s)}}async announceMessage(t){try{await this.speak(t,{rate:1})}catch(s){console.warn("Could not announce message:",s)}}stop(){this.isSupported&&(window.speechSynthesis.cancel(),this.currentUtterance=null)}pause(){this.isSupported&&window.speechSynthesis.speaking&&window.speechSynthesis.pause()}resume(){this.isSupported&&window.speechSynthesis.paused&&window.speechSynthesis.resume()}isSpeaking(){return this.isSupported&&window.speechSynthesis.speaking}}const rc=new O7,WE=({stretches:e,onComplete:t,onExit:s})=>{const[a,l]=x.useState(0),[u,d]=x.useState(60),[h,p]=x.useState(!1),[g,y]=x.useState(rc.isEnabledState()),b=x.useRef(null),v=x.useRef(!1),S=e[a],j=(60-u)/60*100,k=(a*60+(60-u))/(e.length*60)*100;x.useEffect(()=>(mr.requestWakeLock(),()=>{mr.releaseWakeLock(),rc.stop()}),[]),x.useEffect(()=>{!v.current&&g&&(rc.announceExercise(S.name),v.current=!0)},[a,S.name,g]),x.useEffect(()=>(h?b.current&&clearInterval(b.current):b.current=setInterval(()=>{d(R=>R<=1?a<e.length-1?(l(_=>_+1),v.current=!1,It.playTransitionBeep(),60):(clearInterval(b.current),It.playCompletionFanfare(),setTimeout(()=>{t()},500),0):R-1)},1e3),()=>{b.current&&clearInterval(b.current)}),[h,a,e.length,t]);const w=()=>{p(R=>!R)},T=x.useCallback(()=>{a<e.length-1&&(l(R=>R+1),d(60),v.current=!1,It.playTransitionBeep())},[a,e.length]),E=x.useCallback(()=>{a>0&&(l(R=>R-1),d(60),v.current=!1,It.playTransitionBeep())},[a]),M=()=>{const R=rc.toggleTTS();y(R)},W=()=>{b.current&&clearInterval(b.current),rc.stop(),s()},O=R=>{const _=Math.floor(R/60),N=R%60;return`${_}:${N.toString().padStart(2,"0")}`};return r.jsxs(L,{sx:{padding:{xs:"0.5rem",sm:"1rem",md:"2rem"},maxWidth:"900px",margin:"0 auto",minHeight:"calc(100vh - 60px)",width:"100%",boxSizing:"border-box"},children:[r.jsxs(L,{sx:{marginBottom:3},children:[r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",marginBottom:1},children:[r.jsxs(P,{variant:"body2",sx:{fontWeight:600},children:["Stretch ",a+1," of ",e.length]}),r.jsxs(P,{variant:"body2",sx:{fontWeight:600},children:[Math.round(k),"% Complete"]})]}),r.jsx(Yi,{variant:"determinate",value:k,sx:{height:8,borderRadius:4,backgroundColor:"rgba(19, 70, 134, 0.1)","& .MuiLinearProgress-bar":{backgroundColor:"primary.main"}}})]}),r.jsx(Pc,{mode:"wait",children:r.jsx(tt.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},children:r.jsx(et,{sx:{background:"linear-gradient(135deg, rgba(19, 70, 134, 0.05) 0%, rgba(237, 63, 39, 0.05) 100%)",boxShadow:4},children:r.jsxs(at,{sx:{padding:{xs:2,sm:3},width:"100%",boxSizing:"border-box"},children:[r.jsx(P,{variant:"h4",sx:{fontFamily:"'Montserrat', sans-serif",fontWeight:800,color:"primary.main",marginBottom:{xs:1,sm:2},textAlign:"center",fontSize:{xs:"1.5rem",sm:"2rem"}},children:S.name}),r.jsxs(L,{sx:{marginBottom:{xs:2,sm:3},textAlign:"center"},children:[r.jsx(P,{variant:"h1",sx:{fontFamily:"'Montserrat', sans-serif",fontWeight:800,color:h?"grey.500":"secondary.main",fontSize:{xs:"3rem",sm:"4rem",md:"5rem"},marginBottom:1,lineHeight:1},children:O(u)}),r.jsx(Yi,{variant:"determinate",value:j,sx:{height:{xs:8,sm:12},borderRadius:6,backgroundColor:"rgba(237, 63, 39, 0.1)","& .MuiLinearProgress-bar":{backgroundColor:"secondary.main"}}})]}),r.jsxs(L,{sx:{marginBottom:{xs:2,sm:3}},children:[r.jsx(P,{variant:"subtitle2",sx:{fontWeight:600,marginBottom:.5,color:"primary.main",fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Primary Muscles:"}),r.jsx(L,{sx:{display:"flex",flexWrap:"wrap",gap:.5,marginBottom:{xs:1,sm:2}},children:S.primaryMuscles.split(",").map((R,_)=>r.jsx(ut,{label:R.trim(),color:"primary",size:"medium"},_))}),S.secondaryMuscles&&r.jsxs(r.Fragment,{children:[r.jsx(P,{variant:"subtitle2",sx:{fontWeight:600,marginBottom:.5,color:"text.secondary",fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Secondary Muscles:"}),r.jsx(L,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:S.secondaryMuscles.split(",").map((R,_)=>{const N=R.trim();return N?r.jsx(ut,{label:N,variant:"outlined",size:"small"},_):null})})]})]}),S.youtubeLink&&r.jsx(Ae,{variant:"outlined",startIcon:r.jsx(eP,{}),onClick:()=>window.open(S.youtubeLink,"_blank"),fullWidth:!0,sx:{marginBottom:{xs:2,sm:3},fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Watch Demonstration"}),r.jsxs(L,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:{xs:1,sm:2},marginBottom:{xs:1,sm:2},flexWrap:"wrap"},children:[r.jsx(Gn,{title:"Previous stretch",children:r.jsx("span",{children:r.jsx(He,{onClick:E,disabled:a===0,sx:{backgroundColor:"primary.main",color:"white","&:hover":{backgroundColor:"primary.dark"},"&:disabled":{backgroundColor:"grey.300",color:"grey.500"}},children:r.jsx(_C,{})})})}),r.jsx(Gn,{title:h?"Resume":"Pause",children:r.jsx(He,{onClick:w,sx:{backgroundColor:"secondary.main",color:"white",width:{xs:56,sm:64},height:{xs:56,sm:64},"&:hover":{backgroundColor:"secondary.dark"}},children:h?r.jsx(Js,{sx:{fontSize:{xs:32,sm:40}}}):r.jsx(zg,{sx:{fontSize:{xs:32,sm:40}}})})}),r.jsx(Gn,{title:"Next stretch",children:r.jsx("span",{children:r.jsx(He,{onClick:T,disabled:a===e.length-1,sx:{backgroundColor:"primary.main",color:"white","&:hover":{backgroundColor:"primary.dark"},"&:disabled":{backgroundColor:"grey.300",color:"grey.500"}},children:r.jsx(mh,{})})})})]}),r.jsxs(L,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:2},children:[r.jsx(Gn,{title:g?"Voice announcements on":"Voice announcements off",children:r.jsx(He,{onClick:M,color:g?"primary":"default",children:g?r.jsx(_g,{}):r.jsx(EC,{})})}),r.jsx(Ae,{variant:"outlined",color:"error",startIcon:r.jsx(IC,{}),onClick:W,sx:{minWidth:"120px"},children:"End Session"})]})]})})},a)})]})};WE.propTypes={stretches:D.arrayOf(D.shape({name:D.string.isRequired,primaryMuscles:D.string.isRequired,secondaryMuscles:D.string,youtubeLink:D.string})).isRequired,onComplete:D.func.isRequired,onExit:D.func.isRequired};const R7=()=>{const[e,t]=x.useState("selection"),[s,a]=x.useState([]),[l,u]=x.useState(""),[d,h]=x.useState(null),p=(v,S)=>{let j;v==="full"?j=kg(10):j=A7(S,10),a(j),u(v),t("stretch-session")},g=async()=>{try{const v={id:`stretch_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,date:new Date().toISOString(),type:l,stretchesCompleted:s.length,stretches:s.map(S=>S.name),duration:s.length*60};await e_(v)}catch(v){console.error("Failed to save stretch session:",v)}h("stretch"),t("complete")},y=()=>{t("selection"),a([])},b=()=>{t("selection"),a([]),h(null)};return r.jsxs(r.Fragment,{children:[e==="selection"&&r.jsx(IE,{onStartStretchSession:p}),e==="stretch-session"&&s.length>0&&r.jsx(WE,{stretches:s,onComplete:g,onExit:y}),e==="complete"&&r.jsx(L,{sx:{padding:{xs:"2rem 1rem",sm:"2rem",md:"3rem"},maxWidth:"700px",margin:"0 auto",minHeight:"calc(100vh - 60px)",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(tt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},style:{width:"100%"},children:r.jsx(et,{sx:{background:d==="stretch"?"linear-gradient(135deg, rgba(19, 70, 134, 0.05) 0%, rgba(76, 175, 80, 0.05) 100%)":"linear-gradient(135deg, rgba(19, 70, 134, 0.05) 0%, rgba(156, 39, 176, 0.05) 100%)",boxShadow:6},children:r.jsxs(at,{sx:{padding:{xs:3,sm:5},textAlign:"center"},children:[r.jsx(tt.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},children:r.jsx(Cr,{sx:{fontSize:100,color:d==="stretch"?"success.main":"#9c27b0",marginBottom:2}})}),r.jsx(P,{variant:"h3",sx:{fontFamily:"'Montserrat', sans-serif",fontWeight:800,color:"primary.main",marginBottom:2},children:"Session Complete!"}),r.jsx(P,{variant:"h6",sx:{color:"text.secondary",marginBottom:3},children:d==="stretch"?"Great job! You've completed your stretch session.":"Great job! You've completed your mobility session."}),d==="stretch"&&r.jsxs(r.Fragment,{children:[r.jsxs(P,{variant:"body1",sx:{marginBottom:1},children:[s.length," stretches completed"]}),r.jsxs(P,{variant:"body1",sx:{marginBottom:4},children:["~",s.length," minutes of stretching"]})]}),r.jsx(Ae,{variant:"contained",size:"large",onClick:b,sx:{minWidth:"200px",padding:"12px 32px",fontSize:"1.1rem",fontWeight:600},children:"Done"})]})})})})]})},_7={Chest:"Lats",Lats:"Chest",Quads:"Hamstrings",Hamstrings:"Quads",Biceps:"Triceps",Triceps:"Biceps",Shoulders:"Lats"},NE=()=>{const[e,t]=x.useState({}),[s,a]=x.useState([]),[l,u]=x.useState(!0),[d,h]=x.useState(null);x.useEffect(()=>{(async()=>{try{u(!0);const S=await fetch(_h);if(!S.ok)throw new Error(`Failed to load exercises: ${S.status}`);const j=await S.json();a(j);const k=j.reduce((w,T)=>{const E=T["Primary Muscle"].split("(")[0].trim();return w[E]||(w[E]=[]),w[E].push(T),w},{});t(k),u(!1)}catch(S){console.error("Failed to load exercise data:",S),h(S.message),u(!1)}})()},[]);const p=x.useCallback((v,S,j=[],k="all")=>{let w=(e[v]||[]).filter(E=>!j.some(M=>M["Exercise Name"]===E["Exercise Name"]));if(k!=="all"){const E=Array.isArray(k)?k:[k];w=w.filter(M=>{const W=M.Equipment.toLowerCase();return E.some(O=>{const R=O.toLowerCase();return R==="cable machine"?W.includes("cable"):R==="dumbbells"?W.includes("dumbbell"):W.includes(R)})})}if(w.length<S)return console.warn(`Insufficient exercises for ${v}. Available: ${w.length}, Requested: ${S}`),w;const T=[...w];for(let E=T.length-1;E>0;E--){const M=Math.floor(Math.random()*(E+1));[T[E],T[M]]=[T[M],T[E]]}return T.slice(0,S)},[e]),g=x.useCallback((v,S="all",j=$F)=>{let k=[];switch(v){case"upper":{const w=Math.ceil(j*.375),T=Math.ceil(j*.375),E=Math.floor(j*.125),M=j-w-T-E;k.push(...p("Chest",w,k,S)),k.push(...p("Lats",T,k,S)),k.push(...p("Biceps",E,k,S)),k.push(...p("Triceps",M,k,S));break}case"lower":{const w=.375+Math.random()*.125,T=Math.ceil(j*w),E=Math.floor(j*.25)+Math.floor(Math.random()*2),M=j-T-E;k.push(...p("Quads",T,k,S)),k.push(...p("Hamstrings",E,k,S)),M>0&&k.push(...p("Core",M,k,S));break}case"full":{const w=Math.ceil(j*.25),T=Math.ceil(j*.25),E=Math.ceil(j*.25),M=Math.floor(j*.125)+Math.floor(Math.random()*2),W=j-w-T-E-M;k.push(...p("Chest",w,k,S)),k.push(...p("Lats",T,k,S)),k.push(...p("Quads",E,k,S)),k.push(...p("Hamstrings",M,k,S)),W>0&&k.push(...p("Core",W,k,S));break}case"push":{const w=Math.ceil(j*.375),T=Math.ceil(j*.375),E=j-w-T;k.push(...p("Chest",w,k,S)),k.push(...p("Delts",T,k,S)),k.push(...p("Triceps",E,k,S));break}case"pull":{const w=Math.ceil(j*.5),T=Math.ceil(j*.25),E=j-w-T;k.push(...p("Lats",w,k,S)),k.push(...p("Rear Delts",T,k,S)),k.push(...p("Biceps",E,k,S));break}case"legs":{const w=.375+Math.random()*.125,T=Math.ceil(j*w),E=Math.floor(j*.25)+Math.floor(Math.random()*2),M=j-T-E;k.push(...p("Quads",T,k,S)),k.push(...p("Hamstrings",E,k,S)),M>0&&k.push(...p("Core",M,k,S));break}case"core":k.push(...p("Core",j,k,S));break;default:console.warn(`Unknown workout type: ${v}`);break}for(;k.length<j&&k.length>0;){const w=Object.keys(e);if(w.length===0)break;const T=w[Math.floor(Math.random()*w.length)],E=p(T,1,k,S);if(E.length>0)k.push(E[0]);else break}return k.slice(0,j)},[e,p]),y=x.useCallback((v,S=[2,2,2,2])=>{const j=[],k=[...v];for(const w of S){if(k.length===0)break;const T=[];if(k.length>0){const E=k.shift();T.push(E);const M=E["Primary Muscle"].split("(")[0].trim(),W=_7[M];for(let O=1;O<w&&k.length>0;O++){let R=-1;O===1&&W&&(R=k.findIndex(N=>N["Primary Muscle"].includes(W))),R===-1&&(R=k.findIndex(N=>!T.some(I=>I["Primary Muscle"].includes(N["Primary Muscle"].split("(")[0].trim())))),R===-1&&(R=0);const _=k.splice(R,1)[0];T.push(_)}}j.push(...T)}return k.length>0&&j.push(...k),j},[]);return{generateWorkout:x.useCallback((v,S="all",j=[2,2,2,2])=>{if(Object.keys(e).length===0)return console.error("Exercise database is empty. Cannot generate workout."),[];const k=j.reduce((E,M)=>E+M,0),w=g(v,S,k);return y(w,j)},[e,g,y]),allExercises:s,exerciseDB:e,loading:l,error:d}},I7=()=>{const{allExercises:e,loading:t}=NE(),[s,a]=x.useState(""),[l,u]=x.useState("all"),[d,h]=x.useState("all"),[p,g]=x.useState("all"),[y,b]=x.useState(new Set),[v,S]=x.useState({}),[j,k]=x.useState({}),[w,T]=x.useState(!1);x.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),(async()=>{const V=new Set,B={},z={};await Promise.all(e.map(async ue=>{const U=ue["Exercise Name"];n_(U)&&V.add(U);const[ae,F]=await Promise.all([Ma(U),Fi(U)]);B[U]=ae??"",z[U]=F??""})),b(V),S(B),k(z)})()},[e]);const E=x.useMemo(()=>{const I=new Set;return e.forEach(V=>{const B=V["Primary Muscle"].split("(")[0].trim();I.add(B)}),["all",...Array.from(I).sort()]},[e]),M=x.useMemo(()=>{const I=new Set;return e.forEach(V=>{I.add(V.Equipment)}),["all",...Array.from(I).sort()]},[e]),W=x.useMemo(()=>{const I=new Set;return e.forEach(V=>{I.add(V["Exercise Type"])}),["all",...Array.from(I).sort()]},[e]),O=x.useMemo(()=>e.filter(I=>{const V=s===""||I["Exercise Name"].toLowerCase().includes(s.toLowerCase())||I["Primary Muscle"].toLowerCase().includes(s.toLowerCase())||I.Equipment.toLowerCase().includes(s.toLowerCase()),B=I["Primary Muscle"].split("(")[0].trim(),z=l==="all"||B===l,ue=d==="all"||I.Equipment===d,U=p==="all"||I["Exercise Type"]===p;return V&&z&&ue&&U}),[e,s,l,d,p]),R=I=>{const V=t_(I);b(B=>{const z=new Set(B);return V?z.add(I):z.delete(I),z})},_=async(I,V)=>{if(V==="")S(B=>({...B,[I]:""})),await Bi(I,null);else{const B=Math.max(0,Number(V));S(z=>({...z,[I]:B})),await Bi(I,B)}},N=async(I,V)=>{if(V==="")k(B=>({...B,[I]:""})),await Xd(I,null);else{const B=Math.max(1,Number(V));k(z=>({...z,[I]:B})),await Xd(I,B)}};return t?r.jsx(L,{sx:{p:4,textAlign:"center"},children:r.jsx(P,{variant:"h5",color:"text.secondary",children:"Loading exercises..."})}):r.jsxs(L,{sx:{width:"100%",minHeight:"100vh"},children:[r.jsx(Bh,{title:"Exercise Database"}),r.jsx(tt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{padding:"1rem",maxWidth:"1400px",margin:"0 auto"},children:O.length>0||s||l!=="all"||d!=="all"||p!=="all"?r.jsxs(L,{children:[r.jsxs(cc,{sx:{position:"sticky",top:0,zIndex:10,borderRadius:"8px 8px 0 0",boxShadow:"0 2px 8px rgba(19, 70, 134, 0.08)"},children:[r.jsx(L,{sx:{p:1.5,borderBottom:"1px solid",borderColor:"divider",bgcolor:"background.paper"},children:r.jsxs(Re,{direction:"row",spacing:1,alignItems:"center",children:[r.jsx(ct,{size:"small",placeholder:"Search exercises...",value:s,onChange:I=>a(I.target.value),InputProps:{startAdornment:r.jsx(Nm,{position:"start",children:r.jsx(MS,{fontSize:"small"})})},sx:{flex:1,"& .MuiOutlinedInput-root":{borderRadius:1,bgcolor:"background.default"},"& .MuiInputBase-input":{fontSize:"0.875rem"}}}),r.jsx(Gn,{title:w?"Hide filters":"Show filters",children:r.jsx(He,{onClick:()=>T(!w),sx:{bgcolor:w?"primary.main":"background.default",color:w?"white":"text.primary","&:hover":{bgcolor:w?"primary.dark":"action.hover"}},children:r.jsx(Lm,{})})}),r.jsxs(P,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem",whiteSpace:"nowrap",minWidth:"fit-content"},children:[O.length," of ",e.length]})]})}),r.jsx(Bd,{in:w,children:r.jsx(L,{sx:{p:1.5,pt:1,bgcolor:"background.paper"},children:r.jsxs(Re,{direction:{xs:"column",sm:"row"},spacing:1,children:[r.jsxs(Vt,{size:"small",sx:{minWidth:{xs:"100%",sm:150}},children:[r.jsx(Mn,{children:"Muscle Group"}),r.jsxs(qt,{value:l,onChange:I=>u(I.target.value),label:"Muscle Group",sx:{fontSize:"0.875rem",bgcolor:"background.default"},children:[r.jsx(We,{value:"all",children:"All Muscles"}),E.filter(I=>I!=="all").map(I=>r.jsx(We,{value:I,children:I},I))]})]}),r.jsxs(Vt,{size:"small",sx:{minWidth:{xs:"100%",sm:150}},children:[r.jsx(Mn,{children:"Equipment"}),r.jsxs(qt,{value:d,onChange:I=>h(I.target.value),label:"Equipment",sx:{fontSize:"0.875rem",bgcolor:"background.default"},children:[r.jsx(We,{value:"all",children:"All Equipment"}),M.filter(I=>I!=="all").map(I=>r.jsx(We,{value:I,children:I},I))]})]}),r.jsxs(Vt,{size:"small",sx:{minWidth:{xs:"100%",sm:150}},children:[r.jsx(Mn,{children:"Exercise Type"}),r.jsxs(qt,{value:p,onChange:I=>g(I.target.value),label:"Exercise Type",sx:{fontSize:"0.875rem",bgcolor:"background.default"},children:[r.jsx(We,{value:"all",children:"All Types"}),W.filter(I=>I!=="all").map(I=>r.jsx(We,{value:I,children:I},I))]})]})]})})})]}),r.jsx(tP,{component:cc,sx:{borderRadius:"0 0 8px 8px",boxShadow:"0 2px 8px rgba(19, 70, 134, 0.08)",maxHeight:"calc(100vh - 250px)",overflow:"auto"},children:r.jsxs(nP,{stickyHeader:!0,size:"small",sx:{minWidth:{xs:300,sm:650}},children:[r.jsx(sP,{children:r.jsxs(AS,{children:[r.jsx(Is,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5},children:r.jsx(L,{sx:{display:"flex",alignItems:"center",gap:.5},children:r.jsx("span",{children:""})})}),r.jsx(Is,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5},children:"Exercise Name"}),r.jsx(Is,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5,display:{xs:"none",sm:"table-cell"}},children:"Type"}),r.jsx(Is,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5,display:{xs:"none",md:"table-cell"}},children:"Equipment"}),r.jsx(Is,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5,textAlign:"center"},children:"Target Weight (lbs)"}),r.jsx(Is,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5,textAlign:"center"},children:"Target Reps"})]})}),r.jsx(iP,{children:O.map((I,V)=>{const B=y.has(I["Exercise Name"]),z=I["Exercise Name"],ue=v[z],U=j[z];return r.jsxs(AS,{sx:{"&:hover":{bgcolor:"rgba(138, 190, 185, 0.05)"},bgcolor:V%2===0?"background.paper":"rgba(0, 0, 0, 0.02)"},children:[r.jsx(Is,{sx:{py:1},children:r.jsx(Gn,{title:B?"Remove from favorites":"Add to favorites",children:r.jsx(He,{size:"small",onClick:()=>R(z),sx:{color:B?"rgb(237, 63, 39)":"action.disabled",p:.5},children:B?r.jsx(aP,{fontSize:"small"}):r.jsx(rP,{fontSize:"small"})})})}),r.jsx(Is,{sx:{py:1},children:r.jsxs(L,{children:[r.jsx(P,{variant:"body2",sx:{fontWeight:600,fontSize:{xs:"0.75rem",sm:"0.875rem"},color:"primary.main"},children:z}),r.jsxs(P,{variant:"caption",color:"text.secondary",sx:{fontSize:{xs:"0.65rem",sm:"0.75rem"},display:{xs:"block",sm:"none"}},children:[I["Exercise Type"],"  ",I.Equipment]})]})}),r.jsx(Is,{sx:{py:1,display:{xs:"none",sm:"table-cell"}},children:r.jsx(ut,{label:I["Exercise Type"],size:"small",variant:"outlined",sx:{fontSize:"0.7rem",height:22,borderColor:I["Exercise Type"]==="Compound"?"primary.main":"text.secondary",color:I["Exercise Type"]==="Compound"?"primary.main":"text.secondary"}})}),r.jsx(Is,{sx:{py:1,display:{xs:"none",md:"table-cell"}},children:r.jsx(P,{variant:"body2",sx:{fontSize:"0.8rem"},children:I.Equipment})}),r.jsx(Is,{sx:{py:1},children:r.jsx(ct,{type:"tel",inputMode:"decimal",size:"small",value:ue===""?"":ue,onChange:ae=>_(z,ae.target.value),onFocus:ae=>ae.target.select(),placeholder:"",inputProps:{min:0,step:5,pattern:"[0-9]*([.,][0-9]+)?","aria-label":`Target weight in pounds for ${z}`,style:{textAlign:"center",fontSize:"0.875rem",padding:"4px 8px"}},sx:{width:{xs:60,sm:70},"& .MuiOutlinedInput-root":{"& input":{textAlign:"center"}}}})}),r.jsx(Is,{sx:{py:1},children:r.jsx(ct,{type:"tel",inputMode:"numeric",size:"small",value:U===""?"":U,onChange:ae=>N(z,ae.target.value),onFocus:ae=>ae.target.select(),placeholder:"",inputProps:{min:1,step:1,pattern:"\\d*","aria-label":`Target repetitions for ${z}`,style:{textAlign:"center",fontSize:"0.875rem",padding:"4px 8px"}},sx:{width:{xs:60,sm:70},"& .MuiOutlinedInput-root":{"& input":{textAlign:"center"}}}})})]},z)})})]})})]}):r.jsxs(cc,{sx:{borderRadius:2,boxShadow:"0 2px 8px rgba(19, 70, 134, 0.08)"},children:[r.jsxs(L,{sx:{p:2,borderBottom:"1px solid",borderColor:"divider"},children:[r.jsxs(Re,{direction:"row",spacing:1,alignItems:"center",sx:{mb:w?2:0},children:[r.jsx(ct,{size:"small",placeholder:"Search exercises...",value:s,onChange:I=>a(I.target.value),InputProps:{startAdornment:r.jsx(Nm,{position:"start",children:r.jsx(MS,{fontSize:"small"})})},sx:{flex:1,"& .MuiOutlinedInput-root":{borderRadius:1,bgcolor:"background.default"},"& .MuiInputBase-input":{fontSize:"0.875rem"}}}),r.jsx(Gn,{title:w?"Hide filters":"Show filters",children:r.jsx(He,{onClick:()=>T(!w),sx:{bgcolor:w?"primary.main":"background.default",color:w?"white":"text.primary","&:hover":{bgcolor:w?"primary.dark":"action.hover"}},children:r.jsx(Lm,{})})}),r.jsxs(P,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem",whiteSpace:"nowrap"},children:["0 of ",e.length]})]}),r.jsx(Bd,{in:w,children:r.jsxs(Re,{direction:{xs:"column",sm:"row"},spacing:1,children:[r.jsxs(Vt,{size:"small",sx:{minWidth:{xs:"100%",sm:150}},children:[r.jsx(Mn,{children:"Muscle Group"}),r.jsxs(qt,{value:l,onChange:I=>u(I.target.value),label:"Muscle Group",sx:{fontSize:"0.875rem",bgcolor:"background.default"},children:[r.jsx(We,{value:"all",children:"All Muscles"}),E.filter(I=>I!=="all").map(I=>r.jsx(We,{value:I,children:I},I))]})]}),r.jsxs(Vt,{size:"small",sx:{minWidth:{xs:"100%",sm:150}},children:[r.jsx(Mn,{children:"Equipment"}),r.jsxs(qt,{value:d,onChange:I=>h(I.target.value),label:"Equipment",sx:{fontSize:"0.875rem",bgcolor:"background.default"},children:[r.jsx(We,{value:"all",children:"All Equipment"}),M.filter(I=>I!=="all").map(I=>r.jsx(We,{value:I,children:I},I))]})]}),r.jsxs(Vt,{size:"small",sx:{minWidth:{xs:"100%",sm:150}},children:[r.jsx(Mn,{children:"Exercise Type"}),r.jsxs(qt,{value:p,onChange:I=>g(I.target.value),label:"Exercise Type",sx:{fontSize:"0.875rem",bgcolor:"background.default"},children:[r.jsx(We,{value:"all",children:"All Types"}),W.filter(I=>I!=="all").map(I=>r.jsx(We,{value:I,children:I},I))]})]})]})})]}),r.jsxs(L,{sx:{textAlign:"center",py:8},children:[r.jsx(P,{variant:"h6",color:"text.secondary",children:"No exercises found"}),r.jsx(P,{variant:"body2",color:"text.secondary",children:"Try adjusting your search or filters"})]})]})})]})},LE=x.createContext(),zE=()=>{const e=x.useContext(LE);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e},BE=({children:e})=>{const[t,s]=x.useState(()=>{try{return localStorage.getItem("themeMode")==="light"?"light":"dark"}catch{return"dark"}});x.useEffect(()=>{try{localStorage.setItem("themeMode",t)}catch(d){console.warn("Could not save theme preference",d)}},[t]);const a=()=>{s(d=>d==="dark"?"light":"dark")},l=x.useMemo(()=>oP({palette:t==="dark"?{mode:"dark",primary:{main:"#1db584",light:"#2dd099",dark:"#18a071"},secondary:{main:"#ff8c00",light:"#ffa333",dark:"#cc7000"},background:{default:"#1e2939",paper:"#2a3647"},text:{primary:"#ffffff",secondary:"#a0a8b3"},success:{main:"#1db584"},warning:{main:"#ff8c00"},error:{main:"#ef5350"},info:{main:"#6b8a9d"}}:{mode:"light",primary:{main:"#18a071",light:"#1db584",dark:"#0f7a55"},secondary:{main:"#ff8c00",light:"#ffa333",dark:"#cc7000"},background:{default:"#f5f5f5",paper:"#ffffff"},text:{primary:"#1e2939",secondary:"#4a5568"},success:{main:"#18a071"},warning:{main:"#ff8c00"},error:{main:"#ef5350"},info:{main:"#6b8a9d"}},typography:{fontFamily:"'Poppins', sans-serif",h1:{fontFamily:"'Montserrat', sans-serif",fontWeight:800},h2:{fontFamily:"'Montserrat', sans-serif",fontWeight:800},h3:{fontFamily:"'Montserrat', sans-serif",fontWeight:700},h4:{fontFamily:"'Montserrat', sans-serif",fontWeight:700},h5:{fontFamily:"'Montserrat', sans-serif",fontWeight:700},h6:{fontFamily:"'Montserrat', sans-serif",fontWeight:700}},components:{MuiCard:{styleOverrides:{root:{backgroundImage:"none"}}},MuiPaper:{styleOverrides:{root:{backgroundImage:"none"}}},MuiButton:{styleOverrides:{containedPrimary:t==="dark"?{backgroundColor:"#1db584","&:hover":{backgroundColor:"#18a071"}}:{backgroundColor:"#18a071",color:"#ffffff","&:hover":{backgroundColor:"#0f7a55"}},containedSecondary:t==="dark"?{backgroundColor:"#ff8c00","&:hover":{backgroundColor:"#cc7000"}}:{backgroundColor:"#ff8c00",color:"#ffffff","&:hover":{backgroundColor:"#cc7000"}}}}}}),[t]),u={mode:t,toggleTheme:a,theme:l};return r.jsx(LE.Provider,{value:u,children:e})};BE.propTypes={children:D.node.isRequired};const VE=x.createContext({}),W7=()=>x.useContext(VE),ko={units:"imperial",theme:"dark",notifications:!0,sounds:!0,warmupDuration:5,cooldownDuration:5,restTimerDefault:90,autoProgressionEnabled:!0,language:"en",pushNotificationsEnabled:!1,dailyWellnessTasksEnabled:!1,wellnessCategories:[],relationshipStatus:"All",morningNotificationTime:{hour:8,minute:0},followupNotificationTime:{hour:21,minute:0},enableFollowupNotifications:!0},FE=({children:e})=>{const{currentUser:t,isGuest:s}=Ar(),[a,l]=x.useState(ko),[u,d]=x.useState(!0);x.useEffect(()=>{(async()=>{d(!0);try{if(t&&!s){const S=await Hs(t.uid);S?.preferences?l({...ko,...S.preferences}):l(ko)}else{const S=localStorage.getItem("goodlift_preferences");l(S?{...ko,...JSON.parse(S)}:ko)}}catch(S){console.error("Error loading preferences:",S),l(ko)}finally{d(!1)}})()},[t,s]);const h=x.useCallback(async v=>{try{l(v),t&&!s?await vn(t.uid,{preferences:v}):localStorage.setItem("goodlift_preferences",JSON.stringify(v))}catch(S){console.error("Error saving preferences:",S)}},[t,s]),p=x.useCallback((v,S)=>{const j={...a,[v]:S};h(j)},[a,h]),g=x.useCallback((v,S)=>{if(!v)return 0;const j=a.units==="imperial"?"lbs":"kg";return S===j?v:S==="lbs"&&j==="kg"?Math.round(v*.453592*10)/10:S==="kg"&&j==="lbs"?Math.round(v*2.20462*10)/10:v},[a.units]),y=x.useCallback(()=>a.units==="imperial"?"lbs":"kg",[a.units]),b={preferences:a,loading:u,updatePreference:p,savePreferences:h,convertWeight:g,getDisplayUnit:y};return r.jsx(VE.Provider,{value:b,children:e})};FE.propTypes={children:D.node.isRequired};const N7=e=>!e||e.trim().length===0?{valid:!1,error:"Display name is required"}:e.trim().length<2?{valid:!1,error:"Display name must be at least 2 characters"}:e.trim().length>50?{valid:!1,error:"Display name must be less than 50 characters"}:/^[a-zA-Z0-9\s\-']+$/.test(e)?{valid:!0}:{valid:!1,error:"Display name contains invalid characters"},gC=(e,t=500)=>e?e.length>t?{valid:!1,error:`Text must be less than ${t} characters`}:{valid:!0}:{valid:!0},Wm=e=>e?e.replace(/<[^>]*>/g,"").trim().replace(/\s+/g," "):"",L7=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Unknown",z7=(e,t)=>{const s={profile:e,stats:t,exportedAt:new Date().toISOString()};return JSON.stringify(s,null,2)},B7=(e,t)=>{const s=z7(e,t),a=new Blob([s],{type:"application/json"}),l=URL.createObjectURL(a),u=document.createElement("a");u.href=l,u.download=`goodlift-profile-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(l)},HE=({open:e,onClose:t,onConfirm:s,resetInfo:a})=>{const[l,u]=x.useState(""),[d,h]=x.useState(!1),[p,g]=x.useState(null),y=l.toLowerCase()==="reset",b=async()=>{h(!0),g(null);try{await s(),u(""),t()}catch(S){g(S.message||"Failed to reset data. Please try again.")}finally{h(!1)}},v=()=>{d||(u(""),g(null),t())};return r.jsxs(An,{open:e,onClose:v,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:2}},children:[r.jsx(Un,{sx:{pb:1},children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(lP,{color:"warning"}),r.jsx(P,{variant:"h6",component:"span",children:"Reset Personal Data"})]})}),r.jsxs(Pn,{children:[r.jsxs(Ft,{severity:"warning",sx:{mb:2},children:["This action will delete your workout data and statistics. You will have"," ",r.jsx("strong",{children:"30 days"})," to recover your data if you change your mind."]}),r.jsxs(P,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,sx:{mt:2},children:[r.jsx(HC,{color:"error",sx:{verticalAlign:"middle",mr:.5}}),"The following will be deleted:"]}),r.jsxs(Yn,{dense:!0,sx:{bgcolor:"background.paper",borderRadius:1,mb:2},children:[a.totalWorkouts>0&&r.jsxs(rt,{children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(cn,{fontSize:"small"})}),r.jsx(Tt,{primary:`${a.totalWorkouts} workout${a.totalWorkouts!==1?"s":""}`,secondary:"Complete workout history"})]}),a.totalHiitSessions>0&&r.jsxs(rt,{children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(Hc,{fontSize:"small"})}),r.jsx(Tt,{primary:`${a.totalHiitSessions} HIIT session${a.totalHiitSessions!==1?"s":""}`})]}),a.totalCardioSessions>0&&r.jsxs(rt,{children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(mi,{fontSize:"small"})}),r.jsx(Tt,{primary:`${a.totalCardioSessions} cardio session${a.totalCardioSessions!==1?"s":""}`})]}),a.totalStretchSessions>0&&r.jsxs(rt,{children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(ti,{fontSize:"small"})}),r.jsx(Tt,{primary:`${a.totalStretchSessions} stretch session${a.totalStretchSessions!==1?"s":""}`})]}),a.totalPlans>0&&r.jsxs(rt,{children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(hh,{fontSize:"small"})}),r.jsx(Tt,{primary:`${a.totalPlans} workout plan${a.totalPlans!==1?"s":""}`})]}),a.totalFavoriteWorkouts>0&&r.jsxs(rt,{children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(Pa,{fontSize:"small"})}),r.jsx(Tt,{primary:`${a.totalFavoriteWorkouts} favorite workout${a.totalFavoriteWorkouts!==1?"s":""}`})]}),a.totalPinnedExercises>0&&r.jsxs(rt,{children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(cP,{fontSize:"small"})}),r.jsx(Tt,{primary:`${a.totalPinnedExercises} pinned exercise${a.totalPinnedExercises!==1?"s":""}`})]}),r.jsx(rt,{children:r.jsx(Tt,{primary:"All statistics and achievements",secondary:"Streaks, PRs, total volume, etc."})}),r.jsx(rt,{children:r.jsx(Tt,{primary:"Exercise weights and target reps",secondary:"Saved progress tracking data"})})]}),r.jsx(yn,{sx:{my:2}}),r.jsxs(P,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,children:[r.jsx(Cr,{color:"success",sx:{verticalAlign:"middle",mr:.5}}),"The following will be preserved:"]}),r.jsxs(Yn,{dense:!0,sx:{bgcolor:"background.paper",borderRadius:1,mb:2},children:[r.jsx(rt,{children:r.jsx(Tt,{primary:"Login credentials and authentication"})}),r.jsx(rt,{children:r.jsx(Tt,{primary:"Profile information (name, email, avatar)"})}),r.jsx(rt,{children:r.jsx(Tt,{primary:"App preferences and settings"})})]}),r.jsx(Ft,{severity:"info",sx:{mb:2},children:'Your data will be backed up for 30 days. Use the "Recover Data" option to restore it within this period.'}),p&&r.jsx(Ft,{severity:"error",sx:{mb:2},children:p}),r.jsxs(L,{sx:{mt:2},children:[r.jsxs(P,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["To confirm, type ",r.jsx("strong",{children:"RESET"})," below:"]}),r.jsx(ct,{fullWidth:!0,size:"small",value:l,onChange:S=>u(S.target.value),placeholder:"Type RESET to confirm",disabled:d,autoComplete:"off",sx:{mt:1}})]})]}),r.jsxs(On,{sx:{px:3,pb:2},children:[r.jsx(Ae,{onClick:v,disabled:d,children:"Cancel"}),r.jsx(Ae,{variant:"contained",color:"error",onClick:b,disabled:!y||d,startIcon:d?r.jsx(Bg,{size:20}):null,children:d?"Resetting...":"Reset Data"})]})]})};HE.propTypes={open:D.bool.isRequired,onClose:D.func.isRequired,onConfirm:D.func.isRequired,resetInfo:D.shape({totalWorkouts:D.number.isRequired,totalHiitSessions:D.number.isRequired,totalCardioSessions:D.number.isRequired,totalStretchSessions:D.number.isRequired,totalPlans:D.number.isRequired,totalFavoriteWorkouts:D.number.isRequired,totalFavoriteExercises:D.number.isRequired,totalPinnedExercises:D.number.isRequired,hasData:D.bool.isRequired}).isRequired};const UE=({open:e,onClose:t,onRecover:s,backup:a})=>{const[l,u]=x.useState(!1),[d,h]=x.useState(null);if(!a)return null;const p=new Date(a.timestamp),g=new Date(a.expiresAt),y=Math.ceil((a.expiresAt-Date.now())/(1e3*60*60*24)),b=y<=7,v=(a.data.workoutHistory||[]).length,S=(a.data.hiitSessions||[]).length,j=(a.data.cardioSessions||[]).length,k=(a.data.stretchSessions||[]).length,w=(a.data.workoutPlans||[]).length,T=(a.data.favoriteWorkouts||[]).length,E=async()=>{u(!0),h(null);try{await s(),t()}catch(W){h(W.message||"Failed to recover data. Please try again.")}finally{u(!1)}},M=()=>{l||(h(null),t())};return r.jsxs(An,{open:e,onClose:M,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:2}},children:[r.jsx(Un,{sx:{pb:1},children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(Bm,{color:"primary"}),r.jsx(P,{variant:"h6",component:"span",children:"Recover Your Data"})]})}),r.jsxs(Pn,{children:[r.jsxs(Ft,{severity:b?"warning":"info",sx:{mb:2},icon:r.jsx(uP,{}),children:[r.jsxs(P,{variant:"body2",children:[r.jsx("strong",{children:"Backup created:"})," ",p.toLocaleString()]}),r.jsxs(P,{variant:"body2",children:[r.jsx("strong",{children:"Expires:"})," ",g.toLocaleDateString()," ",r.jsx(ut,{label:`${y} day${y!==1?"s":""} remaining`,size:"small",color:b?"warning":"default",sx:{ml:1}})]})]}),r.jsx(P,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,children:"Your backup contains:"}),r.jsxs(Yn,{dense:!0,sx:{bgcolor:"background.paper",borderRadius:1,mb:2},children:[v>0&&r.jsxs(rt,{children:[r.jsx(cn,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),r.jsx(Tt,{primary:`${v} workout${v!==1?"s":""}`})]}),S>0&&r.jsxs(rt,{children:[r.jsx(Hc,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),r.jsx(Tt,{primary:`${S} HIIT session${S!==1?"s":""}`})]}),j>0&&r.jsxs(rt,{children:[r.jsx(mi,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),r.jsx(Tt,{primary:`${j} cardio session${j!==1?"s":""}`})]}),k>0&&r.jsxs(rt,{children:[r.jsx(ti,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),r.jsx(Tt,{primary:`${k} stretch session${k!==1?"s":""}`})]}),w>0&&r.jsxs(rt,{children:[r.jsx(hh,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),r.jsx(Tt,{primary:`${w} workout plan${w!==1?"s":""}`})]}),T>0&&r.jsxs(rt,{children:[r.jsx(Pa,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),r.jsx(Tt,{primary:`${T} favorite workout${T!==1?"s":""}`})]}),r.jsx(rt,{children:r.jsx(Tt,{primary:"All statistics and achievements",secondary:"Including streaks, PRs, and total volume"})}),r.jsx(rt,{children:r.jsx(Tt,{primary:"Exercise weights and target reps",secondary:"Your saved progress tracking data"})})]}),r.jsx(Ft,{severity:"warning",sx:{mb:2},children:r.jsxs(P,{variant:"body2",children:[r.jsx("strong",{children:"Warning:"})," Recovering this backup will replace your current data. Any workouts or progress you've logged since the reset will be lost."]})}),d&&r.jsx(Ft,{severity:"error",sx:{mb:2},children:d})]}),r.jsxs(On,{sx:{px:3,pb:2},children:[r.jsx(Ae,{onClick:M,disabled:l,children:"Cancel"}),r.jsx(Ae,{variant:"contained",color:"primary",onClick:E,disabled:l,startIcon:l?r.jsx(Bg,{size:20}):r.jsx(Bm,{}),children:l?"Recovering...":"Recover Data"})]})]})};UE.propTypes={open:D.bool.isRequired,onClose:D.func.isRequired,onRecover:D.func.isRequired,backup:D.shape({timestamp:D.number.isRequired,expiresAt:D.number.isRequired,data:D.object.isRequired})};const V7=["Communication","Mental Health","Learning","Volunteering","New Experiences","Physical","Nature","Personal Growth","Creativity","Seeking Connection","Media","Maintenance"],F7=JSON.parse(`{"daily":[{"id":"wellness_1","task":"Call or text a friend or family member","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_2","task":"Send a thoughtful message to someone you appreciate","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_3","task":"Compliment a friend, family member, or coworker","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_4","task":"Ask a close friend or family member how they're really doing","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_5","task":"Invite someone for coffee, lunch, or a casual hangout","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_6","task":"Check in with a neighbor or acquaintance","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_7","task":"Send an encouraging text to someone going through a challenge","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_8","task":"Reach out to someone you haven't talked to in a while","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_9","task":"Express appreciation to a family member or friend","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_10","task":"Join a group chat or online community around shared interests","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_11","task":"Smile and greet five people with genuine warmth","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_12","task":"Listen actively to someone without planning your response","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Mental Health"]},{"id":"wellness_13","task":"Share a personal update or story with someone you trust","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Mental Health"]},{"id":"wellness_14","task":"Invite family to a meal together","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_15","task":"Organize a group activity or outing via text or message","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_16","task":"Say hello to a coworker you don't usually interact with","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_17","task":"Text three people you care about just to say hello","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_35","task":"Update or refresh your online dating profile","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_36","task":"Browse dating apps with intention and genuine interest","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_37","task":"Send a thoughtful message to someone new on a dating app","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_38","task":"Write a genuine response to a match or connection","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Communication","Seeking Connection"]},{"id":"wellness_39","task":"Reflect on qualities you want in a partner and community","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_40","task":"Attend a social event where you might meet people","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Communication","Seeking Connection"]},{"id":"wellness_41","task":"Compliment or show interest in someone you're attracted to","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_42","task":"Work on your confidence and self-presentation","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Mental Health","Seeking Connection"]},{"id":"wellness_43","task":"Practice vulnerability in conversations with new people","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Mental Health","Seeking Connection"]},{"id":"wellness_53","task":"Send your partner a loving or appreciative message","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_54","task":"Give your partner a genuine compliment","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_55","task":"Ask your partner about their day and listen deeply","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Communication","Maintenance"]},{"id":"wellness_56","task":"Show physical affection (hug, kiss, hand-hold)","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_57","task":"Express gratitude for something your partner did","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_58","task":"Do a small act of kindness for your partner","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_59","task":"Make eye contact and be fully present with your partner","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Communication","Maintenance"]},{"id":"wellness_60","task":"Say 'I love you' or reaffirm your connection","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_61","task":"Cook a meal together or for your partner","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Communication","Maintenance"]},{"id":"wellness_62","task":"Share a laugh or funny moment together","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Communication","Maintenance"]},{"id":"wellness_73","task":"Practice gratitude - write down 3 things you're grateful for","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_74","task":"Meditate or practice mindfulness for 5-10 minutes","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_75","task":"Practice deep breathing exercises","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_76","task":"Write in your journal about your thoughts and feelings","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_77","task":"Practice positive affirmations or self-talk","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_78","task":"Give yourself permission to rest without guilt","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_79","task":"Practice self-compassion when facing a setback","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_80","task":"Identify one personal strength you possess","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_81","task":"Spend 5 minutes in quiet reflection or stillness","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_82","task":"Say something kind to yourself out loud","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_83","task":"Light a candle and create a calm environment","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_84","task":"Practice progressive muscle relaxation","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_85","task":"Set a meaningful intention for the day","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_86","task":"Acknowledge and accept your emotions without judgment","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_87","task":"Take a mental health check-in with yourself","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_88","task":"Limit news or negative content intake","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_89","task":"Practice forgiveness toward yourself","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_90","task":"Write down one thing that went well today","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_91","task":"Ground yourself using the 5 senses technique","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_92","task":"Take a warm shower or bath for comfort","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_103","task":"Read a chapter or section of a book","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_104","task":"Learn one new thing or skill","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning","Personal Growth"]},{"id":"wellness_105","task":"Listen to an educational podcast or audiobook","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning","Personal Growth"]},{"id":"wellness_106","task":"Practice a skill you're actively developing","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_107","task":"Reflect on a lesson or growth moment from today","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_108","task":"Work on a personal project or goal","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_109","task":"Practice a language for 15 minutes","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning","Personal Growth"]},{"id":"wellness_110","task":"Identify an area where you want to improve","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_111","task":"Set a small daily goal and work toward it","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_112","task":"Practice positive thinking about a challenge","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Personal Growth"]},{"id":"wellness_123","task":"Do 10 minutes of stretching or yoga","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_124","task":"Drink 8 glasses of water throughout the day","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_125","task":"Take a 10-minute walk","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_126","task":"Do light cardio or movement","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_127","task":"Practice good posture throughout the day","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_128","task":"Eat a nutritious meal or snack","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_129","task":"Get 7-9 hours of quality sleep","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_130","task":"Do 10 push-ups or bodyweight exercises","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_131","task":"Stretch your neck and shoulders","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_132","task":"Practice proper breathing techniques","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_143","task":"Take a 10-minute walk outside","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_144","task":"Notice and appreciate something in nature","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_145","task":"Open your window and breathe fresh air","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_146","task":"Water your plants or tend your garden","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_147","task":"Watch the sunrise or sunset","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_148","task":"Take a barefoot walk in grass or soil","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_149","task":"Listen to birds singing or nature sounds","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_150","task":"Take a photo of something beautiful in nature","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_151","task":"Identify a tree, flower, or plant near you","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_152","task":"Eat a meal outside if possible","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_163","task":"Draw, doodle, or sketch something","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_164","task":"Write poetry, lyrics, or creative writing","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_165","task":"Play a musical instrument","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_166","task":"Take creative or artistic photos","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_167","task":"Make or edit a short video","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_168","task":"Craft or make something by hand","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_169","task":"Paint or color something","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_170","task":"Create digital art or graphic design","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_171","task":"Write in a creative or expressive way","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_172","task":"Work on a creative side project","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_183","task":"Read an article on a topic of interest","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_184","task":"Watch an educational video","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_185","task":"Study a subject you're interested in","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_186","task":"Research something that fascinates you","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_187","task":"Take notes on something you learned","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_188","task":"Watch a documentary","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_189","task":"Read the news and stay informed","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_190","task":"Teach someone something you know","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Learning"]},{"id":"wellness_191","task":"Explore a new topic through research","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_192","task":"Listen to an educational podcast","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_203","task":"Help a friend or neighbor with a task","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_204","task":"Perform a random act of kindness","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_205","task":"Donate items to charity","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_206","task":"Offer emotional support to someone","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_207","task":"Give genuine compliments freely","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_208","task":"Help with household chores for someone","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_209","task":"Send a care package or thoughtful gift","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_210","task":"Offer your time or skills to someone","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_211","task":"Donate money to a cause you believe in","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_212","task":"Mentor or guide someone","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_223","task":"Try a new food or cuisine","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_224","task":"Take a different route to work or home","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_225","task":"Listen to a new genre of music","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_226","task":"Try a new recipe or cooking method","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_227","task":"Wear something you wouldn't normally wear","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_228","task":"Visit a new store or caf","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_229","task":"Try a new exercise or movement practice","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences","Physical"]},{"id":"wellness_230","task":"Try a new hairstyle or look","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_231","task":"Use a new app or technology tool","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_232","task":"Try a new hobby or craft","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences","Creativity"]},{"id":"wellness_243","task":"Turn off notifications for social media","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_244","task":"Take a one-hour social media break","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_245","task":"Leave your phone in another room for 30 minutes","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_246","task":"Avoid checking email first thing in the morning","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_247","task":"Practice presence during meals without devices","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_248","task":"Limit screen time after 8 PM","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_249","task":"Read a physical book instead of scrolling","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Media"]},{"id":"wellness_250","task":"Unfollow accounts that trigger negative feelings","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_251","task":"Have a conversation without checking your phone","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Media"]},{"id":"wellness_252","task":"Watch a sunset without recording it","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Media"]},{"id":"wellness_265","task":"Share gratitude and appreciation with family for Thanksgiving","timing":"Daily","relationshipStatus":"All","holiday":"Thanksgiving (2nd Monday October)","categories":["Communication","Mental Health"]}],"weekly":[{"id":"wellness_18","task":"Host a dinner, potluck, or casual meal gathering","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_19","task":"Organize a game night or board game gathering with friends","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_20","task":"Attend a local community event, meetup, or group gathering","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_21","task":"Host a book club, discussion, or movie watch party","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_22","task":"Plan a group outing (hike, picnic, movie, restaurant)","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_23","task":"Attend or volunteer at a community event or festival","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_24","task":"Visit a friend or family member in person","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_25","task":"Start or join a hobby club or group activity","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_26","task":"Participate in a group fitness class or sports activity","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Physical"]},{"id":"wellness_27","task":"Attend a cultural or social gathering","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_28","task":"Organize a skill-share or knowledge-sharing session with friends","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Learning"]},{"id":"wellness_29","task":"Host a phone or video call with distant friends or family","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_30","task":"Invite a friend to try a new restaurant or caf","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","New Experiences"]},{"id":"wellness_31","task":"Join a professional networking group or meetup","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_32","task":"Attend a workshop, class, or event with friends or family","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Learning"]},{"id":"wellness_33","task":"Create a community chat group or event planning forum","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_34","task":"Have a meaningful one-on-one conversation over coffee or meal","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_44","task":"Schedule or go on a first date","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_45","task":"Plan a follow-up date with someone you like","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_46","task":"Attend a speed dating, singles event, or mixer","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Communication","Seeking Connection"]},{"id":"wellness_47","task":"Join a social or hobby group where you can meet people","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Communication","Seeking Connection"]},{"id":"wellness_48","task":"Volunteer or attend a community event to expand your social circle","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Communication","Volunteering","Seeking Connection"]},{"id":"wellness_49","task":"Get feedback on your dating profile from a trusted friend","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Communication","Seeking Connection"]},{"id":"wellness_50","task":"Attend a party or social gathering with friends","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Communication","Seeking Connection"]},{"id":"wellness_51","task":"Go out to a venue where you might meet people naturally","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_52","task":"Join a group activity or class to meet people with similar interests","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Communication","Seeking Connection"]},{"id":"wellness_63","task":"Schedule a dedicated date night with your partner","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_64","task":"Have a deep conversation about feelings and goals","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Communication","Maintenance"]},{"id":"wellness_65","task":"Try a new experience or activity together","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["New Experiences","Maintenance"]},{"id":"wellness_66","task":"Plan a weekend getaway or day trip","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_67","task":"Give each other a massage or quality physical time","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_68","task":"Celebrate each other's wins and accomplishments","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Communication","Maintenance"]},{"id":"wellness_69","task":"Watch a movie or show you both enjoy together","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_70","task":"Share a meal without distractions and connect","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Communication","Maintenance"]},{"id":"wellness_71","task":"Create a shared bucket list or future plans together","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_72","task":"Write a love letter or heartfelt note to your partner","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_93","task":"Attend therapy or counseling session","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_94","task":"Practice yoga or tai chi","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Physical"]},{"id":"wellness_95","task":"Take a relaxing bath with essential oils or music","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_96","task":"Get a massage or practice self-massage","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_97","task":"Create an at-home spa day","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_98","task":"Organize and declutter your personal space","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_99","task":"Declutter a significant area of your home","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_100","task":"Reflect on the week and journal lessons learned","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_101","task":"Write letters to process difficult emotions","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_102","task":"Set healthy boundaries with demanding people","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_113","task":"Take an online course or class","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning","Personal Growth"]},{"id":"wellness_114","task":"Read a challenging or thought-provoking book","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning","Personal Growth"]},{"id":"wellness_115","task":"Attend a workshop, seminar, or webinar","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning","Personal Growth"]},{"id":"wellness_116","task":"Start learning a new skill or hobby","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning","New Experiences","Personal Growth"]},{"id":"wellness_117","task":"Create a vision board for your goals","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_118","task":"Review your goals and track progress","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_119","task":"Seek mentorship or advice from someone you admire","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Personal Growth"]},{"id":"wellness_120","task":"Practice public speaking or presentation skills","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_121","task":"Join a professional or personal development group","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Personal Growth"]},{"id":"wellness_122","task":"Mentor someone or teach a skill to others","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Personal Growth"]},{"id":"wellness_133","task":"Do a HIIT or cardio workout","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_134","task":"Go for a run, bike ride, or swim","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_135","task":"Do a strength training session","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_136","task":"Attend a fitness class or gym session","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_137","task":"Meal prep for the week","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_138","task":"Practice a sport or recreational activity","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_139","task":"Do a flexibility or mobility workout","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_140","task":"Schedule a health checkup or dental visit","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_141","task":"Try a new wellness practice","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences","Physical"]},{"id":"wellness_142","task":"Do a longer nature walk or outdoor activity","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical","Nature"]},{"id":"wellness_153","task":"Go on a nature hike","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_154","task":"Visit a park or green space","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_155","task":"Go to a botanical garden or arboretum","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_156","task":"Volunteer for environmental conservation","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Volunteering","Nature"]},{"id":"wellness_157","task":"Spend time gardening or planting","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_158","task":"Go camping or spend the night outdoors","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_159","task":"Take a nature photography walk","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_160","task":"Go fishing, kayaking, or canoeing","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_161","task":"Explore a local nature trail or forest","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_162","task":"Join a naturalist or outdoor club","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Nature"]},{"id":"wellness_173","task":"Attend an art class or creative workshop","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning","Creativity"]},{"id":"wellness_174","task":"Visit an art gallery or museum","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_175","task":"Create a mixed media project","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_176","task":"Share your creative work with others","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Creativity"]},{"id":"wellness_177","task":"Collaborate on a creative project with someone","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Creativity"]},{"id":"wellness_178","task":"Attend a poetry reading or open mic night","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Creativity"]},{"id":"wellness_179","task":"Create handmade gifts for others","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_180","task":"Join a creative community or group","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Creativity"]},{"id":"wellness_181","task":"Explore a new creative medium","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences","Creativity"]},{"id":"wellness_182","task":"Attend a performance or show","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_193","task":"Enroll in an online course","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_194","task":"Attend a lecture or webinar","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_195","task":"Join a discussion group or book club","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Learning"]},{"id":"wellness_196","task":"Visit the library and research","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_197","task":"Read multiple books or articles","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_198","task":"Create study notes or flashcards","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_199","task":"Interview an expert in a field","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Learning"]},{"id":"wellness_200","task":"Join a learning community online","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Learning"]},{"id":"wellness_201","task":"Complete a certification or training","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_202","task":"Attend a workshop in your field","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_213","task":"Volunteer at a local organization","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_214","task":"Volunteer at a food bank or soup kitchen","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_215","task":"Volunteer for environmental conservation","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Volunteering","Nature"]},{"id":"wellness_216","task":"Mentor a young person or colleague","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_217","task":"Volunteer at an animal rescue or shelter","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_218","task":"Participate in community cleanup","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_219","task":"Volunteer for a cause you care about","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_220","task":"Help organize a fundraiser or event","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_221","task":"Volunteer with vulnerable or senior populations","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_222","task":"Join a volunteer board or committee","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_233","task":"Take a class in something you've never done","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning","New Experiences"]},{"id":"wellness_234","task":"Try a new restaurant or food truck","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_235","task":"Explore a new neighborhood or area","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_236","task":"Attend an event in an unfamiliar genre","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_237","task":"Try a new sport or physical activity","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences","Physical"]},{"id":"wellness_238","task":"Visit a museum or gallery you've never been to","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_239","task":"Try a new form of art or creative expression","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences","Creativity"]},{"id":"wellness_240","task":"Go to an event or venue in a different part of town","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","New Experiences"]},{"id":"wellness_241","task":"Try something on your bucket list","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_242","task":"Volunteer for a new type of cause","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Volunteering","New Experiences"]},{"id":"wellness_253","task":"Disable social media and streaming apps for a full day","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_254","task":"Have a phone-free meal with friends or family","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Media"]},{"id":"wellness_255","task":"Take a full digital detox day","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_256","task":"Create a 'no screens' bedroom policy this week","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_257","task":"Replace scrolling time with a meaningful hobby","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Creativity","Media"]},{"id":"wellness_258","task":"Organize a phone-free game night","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Media"]},{"id":"wellness_259","task":"Stop using your phone while commuting","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_260","task":"Remove social media apps you don't need","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_261","task":"Create a designated screen-free evening time","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Media"]},{"id":"wellness_262","task":"Attend or host a Canada Day community celebration","timing":"Weekly","relationshipStatus":"All","holiday":"Canada Day (July 1)","categories":["Communication"]},{"id":"wellness_263","task":"Participate in Canada Day festivities with friends or family","timing":"Weekly","relationshipStatus":"All","holiday":"Canada Day (July 1)","categories":["Communication"]},{"id":"wellness_264","task":"Host or attend a Thanksgiving dinner gathering","timing":"Weekly","relationshipStatus":"All","holiday":"Thanksgiving (2nd Monday October)","categories":["Communication"]},{"id":"wellness_266","task":"Attend a Halloween social event or party with friends","timing":"Weekly","relationshipStatus":"All","holiday":"Halloween (October 31)","categories":["Communication","Seeking Connection"]},{"id":"wellness_267","task":"Send holiday cards to friends and family","timing":"Weekly","relationshipStatus":"All","holiday":"Christmas (December 25)","categories":["Communication"]},{"id":"wellness_268","task":"Volunteer at a shelter or food bank during Christmas","timing":"Weekly","relationshipStatus":"All","holiday":"Christmas (December 25)","categories":["Communication","Volunteering"]},{"id":"wellness_269","task":"Attend a New Year's Eve celebration with friends","timing":"Weekly","relationshipStatus":"All","holiday":"New Year's Eve (December 31)","categories":["Communication","Seeking Connection"]},{"id":"wellness_270","task":"Reflect on the past year and set new community goals","timing":"Weekly","relationshipStatus":"All","holiday":"New Year's Eve (December 31)","categories":["Communication","Personal Growth"]}],"holiday":[{"id":"wellness_262","task":"Attend or host a Canada Day community celebration","timing":"Weekly","relationshipStatus":"All","holiday":"Canada Day (July 1)","categories":["Communication"]},{"id":"wellness_263","task":"Participate in Canada Day festivities with friends or family","timing":"Weekly","relationshipStatus":"All","holiday":"Canada Day (July 1)","categories":["Communication"]},{"id":"wellness_264","task":"Host or attend a Thanksgiving dinner gathering","timing":"Weekly","relationshipStatus":"All","holiday":"Thanksgiving (2nd Monday October)","categories":["Communication"]},{"id":"wellness_265","task":"Share gratitude and appreciation with family for Thanksgiving","timing":"Daily","relationshipStatus":"All","holiday":"Thanksgiving (2nd Monday October)","categories":["Communication","Mental Health"]},{"id":"wellness_266","task":"Attend a Halloween social event or party with friends","timing":"Weekly","relationshipStatus":"All","holiday":"Halloween (October 31)","categories":["Communication","Seeking Connection"]},{"id":"wellness_267","task":"Send holiday cards to friends and family","timing":"Weekly","relationshipStatus":"All","holiday":"Christmas (December 25)","categories":["Communication"]},{"id":"wellness_268","task":"Volunteer at a shelter or food bank during Christmas","timing":"Weekly","relationshipStatus":"All","holiday":"Christmas (December 25)","categories":["Communication","Volunteering"]},{"id":"wellness_269","task":"Attend a New Year's Eve celebration with friends","timing":"Weekly","relationshipStatus":"All","holiday":"New Year's Eve (December 31)","categories":["Communication","Seeking Connection"]},{"id":"wellness_270","task":"Reflect on the past year and set new community goals","timing":"Weekly","relationshipStatus":"All","holiday":"New Year's Eve (December 31)","categories":["Communication","Personal Growth"]}]}`),qE={categories:V7,tasksByTiming:F7},H7=()=>qE.categories,U7=(e={})=>{const{enabledCategories:t=[],relationshipStatus:s="All"}=e,l=new Date().toISOString().split("T")[0].split("-").reduce((h,p)=>h+parseInt(p,10),0);let u=qE.tasksByTiming.daily.filter(h=>!(h.relationshipStatus!=="All"&&h.relationshipStatus!==s||t.length>0&&!h.categories.some(g=>t.includes(g))));if(u.length===0)return null;const d=l%u.length;return u[d]},q7="BE0ZQSJHIlmXfeA5ddjITNrqrS0TmGfGGQjBufmOlUKxRUtEwja2qHmTZ0pXHepJzGV2qcwH0gJ_D6ot6cWGB6w",Y7=async()=>{try{return"Notification"in window?Kd?await Notification.requestPermission()==="granted":(console.warn("Firebase Messaging not supported in this browser"),!1):(console.warn("This browser does not support notifications"),!1)}catch(e){return console.error("Error requesting notification permission:",e),!1}},G7=async()=>{try{if(!Kd)return console.warn("[FCM] Firebase Messaging not available"),null;if(await Notification.requestPermission()!=="granted")return console.warn("[FCM] Notification permission not granted"),null;console.log("[FCM] Requesting FCM token with VAPID key...");const t=await LR(Kd,{vapidKey:q7});return t?(console.log("[FCM]  FCM token obtained successfully"),console.log("[FCM]  FCM Token:",t),console.log("[FCM]  Send this token to your backend to enable Firebase push notifications"),t):(console.warn("[FCM] No FCM token available. User may need to grant permission."),null)}catch(e){return console.error("[FCM] Error getting FCM token:",e),null}},$7=e=>{const{title:t,body:s,icon:a=`${window.location.origin}/goodlift-logo.svg`,tag:l="goodlift-notification",requireInteraction:u=!1}=e;if(!("Notification"in window)){console.warn("Notifications not supported");return}if(Notification.permission==="granted")try{new Notification(t,{body:s,icon:a,tag:l,requireInteraction:u})}catch(d){console.error("Error showing notification:",d)}},K7=(e,t=null)=>{let s=` Today's session: ${e}`;return t&&(s+=`
 Today's wellness task: ${t.task}`),{title:"Good Morning! ",body:s}},Q7=e=>{const t=U7(e.wellness||{}),s=K7("Full Body Strength",t);$7({title:s.title,body:s.body})},Ax="goodlift_data_backup",Px="goodlift_guest_data_backup",X7=30,Z7=X7*24*60*60*1e3,YE=()=>{const e={};return Xe()?(e.workoutHistory=jt("workout_history")||[],e.userStats=jt("user_stats")||null,e.exerciseWeights=jt("exercise_weights")||{},e.exerciseTargetReps=jt("exercise_target_reps")||{},e.hiitSessions=jt("hiit_sessions")||[],e.cardioSessions=jt("cardio_sessions")||[],e.stretchSessions=jt("stretch_sessions")||[],e.workoutPlans=jt("workout_plans")||[],e.activePlan=jt("active_plan")||null,e.favoriteWorkouts=jt("favorite_workouts")||[],e.favoriteExercises=jt("favorite_exercises")||[],e.pinnedExercises=jt("pinned_exercises")||[],e.unlockedAchievements=jt("unlocked_achievements")||[],e.totalPRs=jt("total_prs")||0,e.totalVolume=jt("total_volume")||0):Object.entries({workoutHistory:"goodlift_workout_history",userStats:"goodlift_user_stats",exerciseWeights:"goodlift_exercise_weights",exerciseTargetReps:"goodlift_exercise_target_reps",hiitSessions:"goodlift_hiit_sessions",cardioSessions:"goodlift_cardio_sessions",stretchSessions:"goodlift_stretch_sessions",workoutPlans:"goodlift_workout_plans",activePlan:"goodlift_active_plan",favoriteWorkouts:"goodlift_favorite_workouts",favoriteExercises:"goodlift_favorite_exercises",pinnedExercises:"goodlift_pinned_exercises",unlockedAchievements:"goodlift_unlocked_achievements",totalPRs:"goodlift_total_prs",totalVolume:"goodlift_total_volume"}).forEach(([s,a])=>{try{const l=localStorage.getItem(a);l?e[s]=JSON.parse(l):e[s]=null}catch(l){console.error(`Error reading ${a}:`,l),e[s]=null}}),e},J7=()=>{Xe()?(xt("workout_history",[]),xt("user_stats",{totalWorkouts:0,totalTime:0,totalHiitTime:0,totalCardioTime:0,totalStretchTime:0,currentStreak:0,longestStreak:0,totalPRs:0,totalVolume:0}),xt("exercise_weights",{}),xt("exercise_target_reps",{}),xt("hiit_sessions",[]),xt("cardio_sessions",[]),xt("stretch_sessions",[]),xt("workout_plans",[]),xt("active_plan",null),xt("favorite_workouts",[]),xt("favorite_exercises",[]),xt("pinned_exercises",[]),xt("unlocked_achievements",[]),xt("total_prs",0),xt("total_volume",0)):["goodlift_workout_history","goodlift_user_stats","goodlift_exercise_weights","goodlift_exercise_target_reps","goodlift_hiit_sessions","goodlift_cardio_sessions","goodlift_stretch_sessions","goodlift_workout_plans","goodlift_active_plan","goodlift_favorite_workouts","goodlift_favorite_exercises","goodlift_pinned_exercises","goodlift_unlocked_achievements","goodlift_total_prs","goodlift_total_volume"].forEach(t=>{try{t==="goodlift_user_stats"?localStorage.setItem(t,JSON.stringify({totalWorkouts:0,totalTime:0,totalHiitTime:0,totalCardioTime:0,totalStretchTime:0,currentStreak:0,longestStreak:0,totalPRs:0,totalVolume:0})):t==="goodlift_exercise_weights"||t==="goodlift_exercise_target_reps"?localStorage.setItem(t,JSON.stringify({})):t==="goodlift_active_plan"?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify([]))}catch(s){console.error(`Error clearing ${t}:`,s)}})},e9=e=>{if(!e||!e.data)throw new Error("Invalid backup data");const{data:t}=e;if(Xe())Object.entries(t).forEach(([s,a])=>{a!=null&&xt(s.replace(/([A-Z])/g,"_$1").toLowerCase(),a)});else{const s={workoutHistory:"goodlift_workout_history",userStats:"goodlift_user_stats",exerciseWeights:"goodlift_exercise_weights",exerciseTargetReps:"goodlift_exercise_target_reps",hiitSessions:"goodlift_hiit_sessions",cardioSessions:"goodlift_cardio_sessions",stretchSessions:"goodlift_stretch_sessions",workoutPlans:"goodlift_workout_plans",activePlan:"goodlift_active_plan",favoriteWorkouts:"goodlift_favorite_workouts",favoriteExercises:"goodlift_favorite_exercises",pinnedExercises:"goodlift_pinned_exercises",unlockedAchievements:"goodlift_unlocked_achievements",totalPRs:"goodlift_total_prs",totalVolume:"goodlift_total_volume"};Object.entries(t).forEach(([a,l])=>{const u=s[a];if(u&&l!==null&&l!==void 0)try{localStorage.setItem(u,JSON.stringify(l))}catch(d){console.error(`Error restoring ${u}:`,d)}})}},t9=async()=>{try{const t={data:YE(),timestamp:Date.now(),expiresAt:Date.now()+Z7,version:1},s=Xe()?Px:Ax;localStorage.setItem(s,JSON.stringify(t));const a=qc();if(a&&!Xe())try{await vn(a,{dataBackup:t})}catch(l){console.error("Error saving backup to Firebase:",l)}return t}catch(e){throw console.error("Error creating backup:",e),e}},uh=async()=>{try{const e=qc();if(e&&!Xe())try{const l=await Hs(e);if(l?.dataBackup)return l.dataBackup.expiresAt>Date.now()?l.dataBackup:(await Dg(),null)}catch(l){console.error("Error loading backup from Firebase:",l)}const t=Xe()?Px:Ax,s=localStorage.getItem(t);if(!s)return null;const a=JSON.parse(s);return a.expiresAt<=Date.now()?(await Dg(),null):a}catch(e){return console.error("Error getting backup:",e),null}},Dg=async()=>{try{const e=Xe()?Px:Ax;localStorage.removeItem(e);const t=qc();if(t&&!Xe())try{await vn(t,{dataBackup:null})}catch(s){console.error("Error deleting backup from Firebase:",s)}}catch(e){throw console.error("Error deleting backup:",e),e}},n9=async()=>{try{const e=await t9();J7();const t=qc();if(t&&!Xe())try{await vn(t,{workoutHistory:[],userStats:{totalWorkouts:0,totalTime:0,totalHiitTime:0,totalCardioTime:0,totalStretchTime:0,currentStreak:0,longestStreak:0,totalPRs:0,totalVolume:0},exerciseWeights:{},exerciseTargetReps:{},hiitSessions:[],cardioSessions:[],stretchSessions:[],workoutPlans:[],activePlanId:null})}catch(s){console.error("Error syncing reset to Firebase:",s)}return{success:!0,backup:e,message:"Data reset successfully. You have 30 days to recover your data."}}catch(e){return console.error("Error resetting user data:",e),{success:!1,message:"Failed to reset data. Please try again.",error:e}}},s9=async()=>{try{const e=await uh();if(!e)return{success:!1,message:"No backup found or backup has expired."};e9(e);const t=qc();if(t&&!Xe())try{await vn(t,e.data)}catch(s){console.error("Error syncing recovered data to Firebase:",s)}return await Dg(),{success:!0,message:"Data recovered successfully!"}}catch(e){return console.error("Error recovering user data:",e),{success:!1,message:"Failed to recover data. Please try again.",error:e}}},GE=async()=>{try{return await uh()===null}catch(e){return console.error("Error cleaning up expired backups:",e),!1}},Pd=()=>{const e=YE(),t=(e.workoutHistory||[]).length,s=(e.hiitSessions||[]).length,a=(e.cardioSessions||[]).length,l=(e.stretchSessions||[]).length,u=(e.workoutPlans||[]).length,d=(e.favoriteWorkouts||[]).length,h=(e.favoriteExercises||[]).length,p=(e.pinnedExercises||[]).length;return{totalWorkouts:t,totalHiitSessions:s,totalCardioSessions:a,totalStretchSessions:l,totalPlans:u,totalFavoriteWorkouts:d,totalFavoriteExercises:h,totalPinnedExercises:p,hasData:t>0||s>0||a>0||l>0||u>0||d>0}},$E=({onNavigate:e})=>{const{mode:t,toggleTheme:s}=zE(),{preferences:a,updatePreference:l}=W7(),{profile:u,stats:d}=Mx(),{isGuest:h}=Ar(),{resetWeekCycle:p}=Na(),[g,y]=x.useState(()=>{try{const te=localStorage.getItem("audioVolume");return te?parseFloat(te):.3}catch{return .3}}),[b,v]=x.useState(It.isMutedState()),[S,j]=x.useState(!1),[k,w]=x.useState(!1),[T,E]=x.useState(!1),[M,W]=x.useState(null),[O,R]=x.useState(null),[_,N]=x.useState(!1),[I,V]=x.useState(""),[B,z]=x.useState("success"),[ue]=x.useState(()=>H7()),[U,ae]=x.useState(()=>{try{const te=localStorage.getItem("goodlift_stretch_prefs");return te?JSON.parse(te):{showWarmup:!0,showCooldown:!0,defaultWarmupDuration:5,defaultCooldownDuration:5}}catch{return{showWarmup:!0,showCooldown:!0,defaultWarmupDuration:5,defaultCooldownDuration:5}}});x.useEffect(()=>{try{localStorage.setItem("audioVolume",g.toString())}catch(te){console.warn("Could not save volume preference",te)}},[g]),x.useEffect(()=>{try{localStorage.setItem("goodlift_stretch_prefs",JSON.stringify(U))}catch(te){console.warn("Could not save stretch preferences",te)}},[U]),x.useEffect(()=>{(async()=>{await GE();const ee=await uh();W(ee),R(Pd())})()},[]);const F=(te,ee)=>{y(ee),ee>0&&b&&(It.setMuted(!1),v(!1)),ee===0&&!b&&(It.setMuted(!0),v(!0))},Y=()=>{s(),b||It.playTransitionBeep()},ge=()=>{g>0&&!b&&It.playBeep(800,200,g)},pe=(te,ee)=>{ae(Ie=>({...Ie,[te]:ee}))},Me=()=>{B7(u,d)},ve=()=>{R(Pd()),j(!0)},X=()=>{j(!1)},Z=async()=>{const te=await n9();te.success?(W(te.backup),R(Pd()),V(te.message),z("success"),N(!0),setTimeout(()=>{window.location.reload()},2e3)):(V(te.message),z("error"),N(!0))},ce=async()=>{const te=await uh();W(te),w(!0)},xe=()=>{w(!1)},be=async()=>{const te=await s9();te.success?(W(null),R(Pd()),V(te.message),z("success"),N(!0),setTimeout(()=>{window.location.reload()},2e3)):(V(te.message),z("error"),N(!0))},re=()=>{N(!1)},G=te=>{e&&e(te)},le=()=>{E(!0)},$=()=>{E(!1)},he=async()=>{E(!1);try{await p(),V("Week cycle reset to Week 1. Automatic workout assignment re-enabled."),z("success"),N(!0)}catch(te){console.error("Error resetting week cycle:",te),V("Failed to reset week cycle"),z("error"),N(!0)}},Te=async te=>{te?await Y7()?(l("pushNotificationsEnabled",!0),V("Push notifications enabled!"),z("success"),N(!0)):(V("Permission denied. Please enable notifications in your browser settings."),z("error"),N(!0)):(l("pushNotificationsEnabled",!1),V("Push notifications disabled"),z("info"),N(!0))},Oe=te=>{const ee=a.wellnessCategories||[],Ie=ee.includes(te)?ee.filter(Ge=>Ge!==te):[...ee,te];l("wellnessCategories",Ie)},me=()=>{Q7(a),V("Test notification sent!"),z("success"),N(!0)};return r.jsxs(L,{sx:{minHeight:"100vh",padding:{xs:1,sm:2,md:3,lg:4},paddingBottom:{xs:"80px",sm:3,md:4},background:te=>te.palette.background.default,overflowX:"hidden",width:"100%",boxSizing:"border-box"},children:[r.jsxs(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsx(L,{sx:{display:"flex",justifyContent:"center",mb:2},children:r.jsx("img",{src:"/goodlift/goodlift-logo.svg",alt:"GoodLift",style:{height:"50px",width:"auto"}})}),r.jsx(P,{variant:"h4",sx:{mb:2,fontWeight:700,color:"text.primary"},children:"Settings"}),r.jsxs(Re,{spacing:2,sx:{maxWidth:600},children:[r.jsx(et,{sx:{borderRadius:2,boxShadow:3},children:r.jsxs(at,{sx:{p:0},children:[r.jsx(P,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"User Profile"}),r.jsx(Yn,{sx:{py:0},children:r.jsx(rt,{disablePadding:!0,children:r.jsxs(Ni,{onClick:()=>G("profile"),sx:{py:1},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(dP,{sx:{color:"primary.main"}})}),r.jsx(Tt,{primary:"Profile Information",primaryTypographyProps:{fontWeight:500}}),r.jsx(dr,{sx:{color:"text.secondary"}})]})})})]})}),r.jsx(et,{sx:{borderRadius:2,boxShadow:3},children:r.jsxs(at,{sx:{p:0},children:[r.jsx(P,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"Exercise Database"}),r.jsx(Yn,{sx:{py:0},children:r.jsx(rt,{disablePadding:!0,children:r.jsxs(Ni,{onClick:()=>G("exercise-list"),sx:{py:1},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(hP,{sx:{color:"primary.main"}})}),r.jsx(Tt,{primary:"Browse Exercises",primaryTypographyProps:{fontWeight:500}}),r.jsx(dr,{sx:{color:"text.secondary"}})]})})})]})}),r.jsx(et,{sx:{borderRadius:2,boxShadow:3},children:r.jsxs(at,{sx:{p:0},children:[r.jsx(P,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"Workout Scheduling"}),r.jsxs(Yn,{sx:{py:0},children:[r.jsx(rt,{disablePadding:!0,children:r.jsxs(Ni,{onClick:()=>G("edit-weekly-schedule"),sx:{py:1},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(Tr,{sx:{color:"primary.main"}})}),r.jsx(Tt,{primary:"Edit Weekly Schedule",primaryTypographyProps:{fontWeight:500}}),r.jsx(dr,{sx:{color:"text.secondary"}})]})}),r.jsx(yn,{component:"li"}),r.jsx(rt,{disablePadding:!0,children:r.jsxs(Ni,{onClick:le,sx:{py:1},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(hh,{sx:{color:"primary.main"}})}),r.jsx(Tt,{primary:"Reset Week Counter",primaryTypographyProps:{fontWeight:500}}),r.jsx(dr,{sx:{color:"text.secondary"}})]})})]})]})}),r.jsx(et,{sx:{borderRadius:2,boxShadow:3},children:r.jsxs(at,{sx:{p:0},children:[r.jsx(P,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"App Preferences"}),r.jsxs(Yn,{sx:{py:0},children:[r.jsxs(rt,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",width:"100%",mb:.5},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(fP,{sx:{color:"primary.main"}})}),r.jsx(P,{variant:"body2",fontWeight:500,children:"Unit System"})]}),r.jsx(Vt,{size:"small",sx:{ml:5,minWidth:160},children:r.jsxs(qt,{value:a.units,onChange:te=>l("units",te.target.value),children:[r.jsx(We,{value:"imperial",children:"Imperial (lbs, in)"}),r.jsx(We,{value:"metric",children:"Metric (kg, cm)"})]})})]}),r.jsx(yn,{component:"li"}),r.jsxs(rt,{sx:{py:1},children:[r.jsx(Bt,{sx:{minWidth:40},children:t==="dark"?r.jsx(pP,{sx:{color:"primary.main"}}):r.jsx(mP,{sx:{color:"primary.main"}})}),r.jsx(Tt,{primary:"Theme",primaryTypographyProps:{fontWeight:500}}),r.jsx(ar,{checked:t==="light",onChange:Y,color:"primary"})]}),r.jsx(yn,{component:"li"}),r.jsxs(rt,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",width:"100%",mb:.5},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(_g,{sx:{color:"primary.main"}})}),r.jsx(P,{variant:"body2",fontWeight:500,children:"Sound Effects"})]}),r.jsx(L,{sx:{ml:5,width:"calc(100% - 40px)"},children:r.jsx(WC,{value:g,onChange:F,onChangeCommitted:ge,min:0,max:1,step:.1,valueLabelDisplay:"auto",valueLabelFormat:te=>`${Math.round(te*100)}%`,sx:{width:180,"& .MuiSlider-thumb":{width:16,height:16},"& .MuiSlider-track":{height:4},"& .MuiSlider-rail":{height:4}}})})]}),r.jsx(yn,{component:"li"}),r.jsxs(rt,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(ti,{sx:{color:"primary.main"}})}),r.jsx(P,{variant:"body2",fontWeight:500,children:"Warmup Reminders"})]}),r.jsx(ar,{checked:U.showWarmup,onChange:te=>pe("showWarmup",te.target.checked),color:"primary"})]}),U.showWarmup&&r.jsx(Vt,{size:"small",sx:{ml:5,mt:.5,minWidth:160},children:r.jsxs(qt,{value:U.defaultWarmupDuration,onChange:te=>pe("defaultWarmupDuration",te.target.value),children:[r.jsx(We,{value:5,children:"5 minutes"}),r.jsx(We,{value:7,children:"7 minutes"}),r.jsx(We,{value:10,children:"10 minutes"})]})})]}),r.jsx(yn,{component:"li"}),r.jsxs(rt,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(cn,{sx:{color:"primary.main"}})}),r.jsx(P,{variant:"body2",fontWeight:500,children:"Cooldown Reminders"})]}),r.jsx(ar,{checked:U.showCooldown,onChange:te=>pe("showCooldown",te.target.checked),color:"primary"})]}),U.showCooldown&&r.jsx(Vt,{size:"small",sx:{ml:5,mt:.5,minWidth:160},children:r.jsxs(qt,{value:U.defaultCooldownDuration,onChange:te=>pe("defaultCooldownDuration",te.target.value),children:[r.jsx(We,{value:5,children:"5 minutes"}),r.jsx(We,{value:7,children:"7 minutes"}),r.jsx(We,{value:10,children:"10 minutes"})]})})]})]})]})}),r.jsx(et,{sx:{borderRadius:2,boxShadow:3},children:r.jsxs(at,{sx:{p:0},children:[r.jsx(P,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"Wellness & Notifications"}),r.jsxs(Yn,{sx:{py:0},children:[r.jsxs(rt,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(gP,{sx:{color:"primary.main"}})}),r.jsx(P,{variant:"body2",fontWeight:500,children:"Push Notifications"})]}),r.jsx(ar,{checked:a.pushNotificationsEnabled||!1,onChange:te=>Te(te.target.checked),color:"primary"})]}),a.pushNotificationsEnabled&&r.jsx(L,{sx:{ml:5,mt:1,width:"calc(100% - 40px)"},children:r.jsx(Ae,{size:"small",variant:"outlined",onClick:me,sx:{fontSize:"0.75rem"},children:"Send Test Notification"})})]}),r.jsx(yn,{component:"li"}),r.jsx(rt,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(yP,{sx:{color:"primary.main"}})}),r.jsx(P,{variant:"body2",fontWeight:500,children:"Daily Wellness Tasks"})]}),r.jsx(ar,{checked:a.dailyWellnessTasksEnabled||!1,onChange:te=>l("dailyWellnessTasksEnabled",te.target.checked),color:"primary",disabled:!a.pushNotificationsEnabled})]})}),r.jsx(yn,{component:"li"}),a.dailyWellnessTasksEnabled&&r.jsxs(r.Fragment,{children:[r.jsxs(rt,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",width:"100%",mb:.5},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(xP,{sx:{color:"primary.main"}})}),r.jsx(P,{variant:"body2",fontWeight:500,children:"Relationship Status"})]}),r.jsx(Vt,{size:"small",sx:{ml:5,minWidth:160},children:r.jsxs(qt,{value:a.relationshipStatus||"All",onChange:te=>l("relationshipStatus",te.target.value),children:[r.jsx(We,{value:"All",children:"All"}),r.jsx(We,{value:"Single",children:"Single"}),r.jsx(We,{value:"In Relationship",children:"In Relationship"})]})})]}),r.jsx(yn,{component:"li"}),r.jsxs(rt,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",width:"100%",mb:1},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(bP,{sx:{color:"primary.main"}})}),r.jsx(P,{variant:"body2",fontWeight:500,children:"Wellness Categories"})]}),r.jsxs(L,{sx:{ml:5,width:"calc(100% - 40px)"},children:[r.jsx(P,{variant:"caption",color:"text.secondary",sx:{mb:1,display:"block"},children:"Select categories for personalized wellness tasks"}),r.jsx(Re,{spacing:.5,children:ue.map(te=>r.jsx(Fd,{control:r.jsx(ar,{size:"small",checked:(a.wellnessCategories||[]).includes(te),onChange:()=>Oe(te),color:"primary"}),label:r.jsx(P,{variant:"caption",children:te}),sx:{m:0}},te))})]})]}),r.jsx(yn,{component:"li"})]}),a.pushNotificationsEnabled&&r.jsxs(r.Fragment,{children:[r.jsxs(rt,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",width:"100%",mb:.5},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(zm,{sx:{color:"primary.main"}})}),r.jsx(P,{variant:"body2",fontWeight:500,children:"Morning Notification Time"})]}),r.jsxs(L,{sx:{ml:5,display:"flex",gap:1},children:[r.jsx(Vt,{size:"small",sx:{minWidth:80},children:r.jsx(qt,{value:a.morningNotificationTime?.hour||8,onChange:te=>l("morningNotificationTime",{...a.morningNotificationTime,hour:te.target.value}),children:Array.from({length:24},(te,ee)=>r.jsx(We,{value:ee,children:ee.toString().padStart(2,"0")},ee))})}),r.jsx(P,{variant:"body2",sx:{alignSelf:"center"},children:":"}),r.jsx(Vt,{size:"small",sx:{minWidth:80},children:r.jsx(qt,{value:a.morningNotificationTime?.minute||0,onChange:te=>l("morningNotificationTime",{...a.morningNotificationTime,minute:te.target.value}),children:[0,15,30,45].map(te=>r.jsx(We,{value:te,children:te.toString().padStart(2,"0")},te))})})]})]}),r.jsx(yn,{component:"li"}),r.jsxs(rt,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between",mb:1},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(Hc,{sx:{color:"primary.main"}})}),r.jsx(P,{variant:"body2",fontWeight:500,children:"Follow-up Notifications"})]}),r.jsx(ar,{checked:a.enableFollowupNotifications??!0,onChange:te=>l("enableFollowupNotifications",te.target.checked),color:"primary"})]}),a.enableFollowupNotifications&&r.jsxs(r.Fragment,{children:[r.jsx(P,{variant:"caption",color:"text.secondary",sx:{ml:5,mb:.5,display:"block"},children:"Daily tasks: 9 PM | Weekly tasks: Saturday morning"}),r.jsxs(L,{sx:{ml:5,display:"flex",gap:1,alignItems:"center"},children:[r.jsx(P,{variant:"caption",children:"Follow-up time:"}),r.jsx(Vt,{size:"small",sx:{minWidth:80},children:r.jsx(qt,{value:a.followupNotificationTime?.hour||21,onChange:te=>l("followupNotificationTime",{...a.followupNotificationTime,hour:te.target.value}),children:Array.from({length:24},(te,ee)=>r.jsx(We,{value:ee,children:ee.toString().padStart(2,"0")},ee))})}),r.jsx(P,{variant:"body2",children:":"}),r.jsx(Vt,{size:"small",sx:{minWidth:80},children:r.jsx(qt,{value:a.followupNotificationTime?.minute||0,onChange:te=>l("followupNotificationTime",{...a.followupNotificationTime,minute:te.target.value}),children:[0,15,30,45].map(te=>r.jsx(We,{value:te,children:te.toString().padStart(2,"0")},te))})})]})]})]})]})]})]})}),r.jsx(et,{sx:{borderRadius:2,boxShadow:3},children:r.jsxs(at,{sx:{p:0},children:[r.jsx(P,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"Data & Privacy"}),r.jsxs(Yn,{sx:{py:0},children:[r.jsx(rt,{disablePadding:!0,children:r.jsxs(Ni,{onClick:Me,sx:{py:1},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(zC,{sx:{color:"primary.main"}})}),r.jsx(Tt,{primary:"Export Data",primaryTypographyProps:{fontWeight:500}})]})}),r.jsx(yn,{component:"li"}),M&&r.jsxs(r.Fragment,{children:[r.jsx(rt,{disablePadding:!0,children:r.jsxs(Ni,{onClick:ce,sx:{py:1},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(Bm,{sx:{color:"success.main"}})}),r.jsx(Tt,{primary:"Recover Data",primaryTypographyProps:{fontWeight:500}}),r.jsx(dr,{sx:{color:"text.secondary"}})]})}),r.jsx(yn,{component:"li"})]}),r.jsx(rt,{disablePadding:!0,children:r.jsxs(Ni,{onClick:ve,disabled:!O?.hasData,sx:{py:1},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(vP,{sx:{color:O?.hasData?"error.main":"text.disabled"}})}),r.jsx(Tt,{primary:"Reset Personal Data",primaryTypographyProps:{fontWeight:500}}),r.jsx(dr,{sx:{color:"text.secondary"}})]})}),r.jsx(yn,{component:"li"}),r.jsxs(rt,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",width:"100%",mb:.5},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(SP,{sx:{color:"primary.main"}})}),r.jsx(P,{variant:"body2",fontWeight:500,children:"Privacy"})]}),r.jsx(L,{sx:{ml:5,width:"calc(100% - 40px)"},children:h?r.jsx(Ft,{severity:"info",sx:{py:.5,fontSize:"0.8rem"},children:"Create an account to access cloud sync and data privacy features"}):r.jsx(Ft,{severity:"success",sx:{py:.5,fontSize:"0.8rem"},children:"Your data is securely stored in Firebase and synced across your devices"})})]})]})]})}),r.jsx(L,{sx:{mt:2},children:r.jsx(P,{variant:"body2",color:"text.secondary",sx:{textAlign:"center"},children:"Your preferences are saved automatically"})})]})]}),O&&r.jsx(HE,{open:S,onClose:X,onConfirm:Z,resetInfo:O}),M&&r.jsx(UE,{open:k,onClose:xe,onRecover:be,backup:M}),r.jsxs(An,{open:T,onClose:$,maxWidth:"xs",fullWidth:!0,children:[r.jsx(Un,{children:"Reset Week Counter?"}),r.jsx(Pn,{children:r.jsx(Ng,{children:"Are you sure you want to reset the week counter back to Week 1? This will re-enable automatic workout assignment."})}),r.jsxs(On,{children:[r.jsx(Ae,{onClick:$,color:"primary",children:"Cancel"}),r.jsx(Ae,{onClick:he,color:"primary",variant:"contained",children:"Continue"})]})]}),r.jsx(Fs,{open:_,autoHideDuration:6e3,onClose:re,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(Ft,{onClose:re,severity:B,sx:{width:"100%"},children:I})})]})};$E.propTypes={onNavigate:D.func};const KE=[{id:"preset-1",color:"#1db584",label:"Primary Teal"},{id:"preset-2",color:"#18a071",label:"Dark Teal"},{id:"preset-3",color:"#2dd099",label:"Light Teal"},{id:"preset-4",color:"#ff8c00",label:"Orange"},{id:"preset-5",color:"#ffa333",label:"Light Orange"},{id:"preset-6",color:"#cc7000",label:"Dark Orange"},{id:"preset-7",color:"#ef5350",label:"Red"},{id:"preset-8",color:"#6b8a9d",label:"Blue Grey"}],Od=()=>"/goodlift/",QE=[{id:"doggo-1",url:`${Od()}avatars/doggo-1.jpeg`,label:"Percy"},{id:"doggo-2",url:`${Od()}avatars/doggo-2.jpeg`,label:"Leo"},{id:"doggo-3",url:`${Od()}avatars/doggo-3.jpeg`,label:"Monty"},{id:"doggo-4",url:`${Od()}avatars/doggo-4.jpeg`,label:"Whiskey"}],i9=e=>e?e.startsWith("preset-")||e.startsWith("doggo-"):!1,a9=e=>e?e.startsWith("doggo-"):!1,r9=e=>{const t=KE.find(s=>s.id===e);return t?t.color:null},o9=e=>{const t=QE.find(s=>s.id===e);return t?t.url:null},yC=(e,t="#ff8c00")=>({display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",backgroundColor:t,color:"#ffffff",fontWeight:700,fontSize:"2rem",textTransform:"uppercase"}),XE=({open:e,onClose:t,onSelect:s,currentAvatar:a,initials:l})=>{const[u,d]=x.useState(a),[h,p]=x.useState(0),g=(w,T)=>{p(T)},y=w=>{d(w)},b=w=>{d(w)},v=()=>{u&&(s(u),t())},S=()=>{d(a),t()},j=w=>{const T=u===w.id;return r.jsx(Qt,{item:!0,xs:4,sm:3,children:r.jsxs(L,{onClick:()=>y(w.id),sx:{cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:1,p:1,borderRadius:2,border:2,borderColor:T?"primary.main":"transparent",bgcolor:T?"action.selected":"transparent",transition:"all 0.2s","&:hover":{bgcolor:"action.hover"}},children:[r.jsx(Eo,{sx:{width:60,height:60,bgcolor:w.color,fontSize:"1.5rem",fontWeight:700},children:l}),r.jsx(P,{variant:"caption",color:"text.secondary",children:w.label})]})},w.id)},k=w=>{const T=u===w.id;return r.jsx(Qt,{item:!0,xs:6,sm:3,children:r.jsxs(L,{onClick:()=>b(w.id),sx:{cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:1,p:1,borderRadius:2,border:2,borderColor:T?"primary.main":"transparent",bgcolor:T?"action.selected":"transparent",transition:"all 0.2s","&:hover":{bgcolor:"action.hover"}},children:[r.jsx(Eo,{src:w.url,sx:{width:80,height:80}}),r.jsx(P,{variant:"caption",color:"text.secondary",children:w.label})]})},w.id)};return r.jsxs(An,{open:e,onClose:S,maxWidth:"sm",fullWidth:!0,children:[r.jsx(Un,{children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[r.jsx(P,{variant:"h6",children:"Choose Avatar"}),r.jsx(He,{onClick:S,size:"small",children:r.jsx(gh,{})})]})}),r.jsxs(Pn,{children:[r.jsxs(Fc,{value:h,onChange:g,sx:{mb:2},children:[r.jsx(Vi,{label:"Preset Avatars"}),r.jsx(Vi,{label:"Doggos"})]}),h===0&&r.jsx(L,{sx:{mt:2},children:r.jsx(Qt,{container:!0,spacing:2,children:KE.map(w=>j(w))})}),h===1&&r.jsxs(L,{sx:{mt:2},children:[r.jsx(P,{variant:"body2",color:"text.secondary",gutterBottom:!0,sx:{mb:2},children:"Select a doggo as your avatar"}),r.jsx(Qt,{container:!0,spacing:2,children:QE.map(w=>k(w))})]})]}),r.jsxs(On,{sx:{p:2,pt:0},children:[r.jsx(Ae,{onClick:S,color:"inherit",children:"Cancel"}),r.jsx(Ae,{onClick:v,variant:"contained",disabled:!u,children:"Save"})]})]})};XE.propTypes={open:D.bool.isRequired,onClose:D.func.isRequired,onSelect:D.func.isRequired,currentAvatar:D.string,initials:D.string.isRequired};const l9=()=>{const{profile:e,stats:t,loading:s,saveProfile:a,updateProfile:l,getInitials:u,getProfileCompletion:d}=Mx(),[h,p]=x.useState(!1),[g,y]=x.useState(!1),[b,v]=x.useState(e),[S,j]=x.useState({}),[k,w]=x.useState(null);x.useEffect(()=>{v(e)},[e]);const T=()=>{p(!0),j({}),w(null)},E=()=>{p(!1),v(e),j({}),w(null)},M=async()=>{const N={},I=N7(b.displayName);I.valid||(N.displayName=I.error);const V=gC(b.bio,500);V.valid||(N.bio=V.error);const B=gC(b.goals,500);if(B.valid||(N.goals=B.error),Object.keys(N).length>0){j(N);return}try{const z={...b,displayName:Wm(b.displayName),bio:Wm(b.bio),goals:Wm(b.goals)};await a(z),p(!1),w(null)}catch(z){console.error("Error saving profile:",z),w("Failed to save profile. Please try again.")}},W=(N,I)=>{v({...b,[N]:I}),S[N]&&j({...S,[N]:null})},O=async N=>{try{await l("avatar",N),v({...b,avatar:N})}catch(I){console.error("Error updating avatar:",I),w("Failed to update avatar. Please try again.")}},R=()=>{const N=u(),I=100;if(e.avatar)if(a9(e.avatar)){const V=o9(e.avatar);return r.jsx(Eo,{src:V,sx:{width:I,height:I}})}else if(i9(e.avatar)){const V=r9(e.avatar);return r.jsx(Eo,{sx:{width:I,height:I,...yC(N,V),fontSize:"2.5rem"},children:N})}else return r.jsx(Eo,{src:e.avatar,sx:{width:I,height:I}});return r.jsx(Eo,{sx:{width:I,height:I,...yC(),fontSize:"2.5rem"},children:N})},_=d();return s?r.jsx(L,{sx:{p:3},children:r.jsxs(P,{color:"text.secondary",children:["Loading profile",r.jsx(tt.span,{initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:"..."})]})}):r.jsxs(L,{sx:{minHeight:"100vh",padding:{xs:2,sm:3,md:4},paddingBottom:{xs:"80px",sm:3,md:4},background:N=>N.palette.background.default},children:[r.jsxs(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsx(P,{variant:"h4",sx:{mb:3,fontWeight:700,color:"text.primary"},children:"Profile"}),r.jsx(et,{sx:{mb:3,borderRadius:2},children:r.jsxs(at,{sx:{p:3},children:[r.jsxs(L,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:3,mb:3},children:[r.jsxs(L,{sx:{position:"relative",alignSelf:{xs:"center",sm:"flex-start"}},children:[r.jsx(L,{sx:{borderRadius:"50%",overflow:"hidden",width:100,height:100,border:"2px solid",borderColor:"divider"},children:R()}),r.jsx(He,{onClick:()=>y(!0),size:"small",sx:{position:"absolute",bottom:-4,right:-4,bgcolor:"primary.main",color:"white",boxShadow:2,"&:hover":{bgcolor:"primary.dark",boxShadow:4}},children:r.jsx(wP,{fontSize:"small"})})]}),r.jsxs(L,{sx:{flex:1},children:[h?r.jsx(ct,{fullWidth:!0,label:"Display Name",value:b.displayName,onChange:N=>W("displayName",N.target.value),error:!!S.displayName,helperText:S.displayName,sx:{mb:2}}):r.jsx(P,{variant:"h5",fontWeight:700,gutterBottom:!0,children:e.displayName||"Unknown User"}),r.jsx(P,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:e.email}),r.jsxs(P,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Member since ",L7(e.memberSince)]}),r.jsxs(L,{sx:{mt:2},children:[r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[r.jsx(P,{variant:"body2",fontWeight:600,children:"Profile Completion"}),r.jsxs(P,{variant:"body2",fontWeight:600,children:[_,"%"]})]}),r.jsx(Yi,{variant:"determinate",value:_,sx:{height:8,borderRadius:4}})]})]}),r.jsx(L,{children:h?r.jsxs(Re,{direction:"row",spacing:1,children:[r.jsx(He,{color:"primary",onClick:M,children:r.jsx(gr,{})}),r.jsx(He,{onClick:E,children:r.jsx(HC,{})})]}):r.jsx(He,{color:"primary",onClick:T,children:r.jsx(Tr,{})})})]}),k&&r.jsx(Ft,{severity:"error",sx:{mb:2},children:k}),r.jsxs(L,{sx:{mb:2},children:[r.jsx(P,{variant:"subtitle2",fontWeight:600,gutterBottom:!0,children:"Bio"}),h?r.jsx(ct,{fullWidth:!0,multiline:!0,rows:3,value:b.bio,onChange:N=>W("bio",N.target.value),error:!!S.bio,helperText:S.bio||`${b.bio.length}/500`,placeholder:"Tell us about yourself..."}):r.jsx(P,{variant:"body2",color:"text.secondary",children:e.bio||"No bio yet"})]}),r.jsxs(L,{children:[r.jsx(P,{variant:"subtitle2",fontWeight:600,gutterBottom:!0,children:"Fitness Goals"}),h?r.jsx(ct,{fullWidth:!0,multiline:!0,rows:3,value:b.goals,onChange:N=>W("goals",N.target.value),error:!!S.goals,helperText:S.goals||`${b.goals.length}/500`,placeholder:"What are your fitness goals?"}):r.jsx(P,{variant:"body2",color:"text.secondary",children:e.goals||"No goals set yet"})]}),r.jsxs(L,{sx:{mt:2},children:[r.jsx(P,{variant:"subtitle2",fontWeight:600,gutterBottom:!0,children:"Target Weight"}),h?r.jsxs(Re,{direction:"row",spacing:2,alignItems:"flex-start",children:[r.jsx(ct,{type:"number",label:"Target Weight",value:b.targetWeight||"",onChange:N=>W("targetWeight",N.target.value?parseFloat(N.target.value):null),inputProps:{step:.1,min:0},sx:{flex:1,maxWidth:200}}),r.jsxs(Vt,{size:"small",sx:{minWidth:80},children:[r.jsx(Mn,{children:"Unit"}),r.jsxs(qt,{value:b.weightUnit||"lbs",onChange:N=>W("weightUnit",N.target.value),label:"Unit",children:[r.jsx(We,{value:"lbs",children:"lbs"}),r.jsx(We,{value:"kg",children:"kg"})]})]})]}):r.jsx(P,{variant:"body2",color:"text.secondary",children:e.targetWeight?`${e.targetWeight} ${e.weightUnit||"lbs"}`:"No target weight set"})]})]})}),r.jsxs(Qt,{container:!0,spacing:3,sx:{mb:3},children:[r.jsx(Qt,{item:!0,xs:6,sm:4,children:r.jsx(et,{children:r.jsxs(at,{children:[r.jsx(P,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Total Workouts"}),r.jsx(P,{variant:"h4",fontWeight:700,children:t.totalWorkouts})]})})}),r.jsx(Qt,{item:!0,xs:6,sm:4,children:r.jsx(et,{children:r.jsxs(at,{children:[r.jsx(P,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Current Streak"}),r.jsx(P,{variant:"h4",fontWeight:700,color:"warning.main",children:t.currentStreak}),r.jsx(P,{variant:"caption",color:"text.secondary",children:"days"})]})})}),r.jsx(Qt,{item:!0,xs:6,sm:4,children:r.jsx(et,{children:r.jsxs(at,{children:[r.jsx(P,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Longest Streak"}),r.jsx(P,{variant:"h4",fontWeight:700,children:t.longestStreak}),r.jsx(P,{variant:"caption",color:"text.secondary",children:"days"})]})})}),r.jsx(Qt,{item:!0,xs:6,sm:4,children:r.jsx(et,{children:r.jsxs(at,{children:[r.jsx(P,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Total PRs"}),r.jsx(P,{variant:"h4",fontWeight:700,color:"success.main",children:t.totalPRs})]})})}),r.jsx(Qt,{item:!0,xs:6,sm:4,children:r.jsx(et,{children:r.jsxs(at,{children:[r.jsx(P,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Wellness Tasks"}),r.jsx(P,{variant:"h4",fontWeight:700,color:"secondary.main",children:t.completedWellnessTasks||0}),r.jsx(P,{variant:"caption",color:"text.secondary",children:"completed"})]})})}),r.jsx(Qt,{item:!0,xs:12,sm:8,children:r.jsx(et,{children:r.jsxs(at,{children:[r.jsx(P,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Favorite Exercise"}),r.jsx(ut,{label:t.favoriteExercise||"No data yet",color:"primary",sx:{mt:1}})]})})})]})]}),r.jsx(XE,{open:g,onClose:()=>y(!1),onSelect:O,currentAvatar:e.avatar,initials:u()})]})},Eg=({currentType:e,onChange:t,compact:s=!1})=>{const[a,l]=x.useState(!1),u={strength:[{value:"full",label:"Full Body",shortLabel:"Full"},{value:"upper",label:"Upper Body",shortLabel:"Upper"},{value:"lower",label:"Lower Body",shortLabel:"Lower"},{value:"push",label:"Push",shortLabel:"Push"},{value:"pull",label:"Pull",shortLabel:"Pull"},{value:"legs",label:"Legs",shortLabel:"Legs"},{value:"core",label:"Core",shortLabel:"Core"}],cardio:[{value:"cardio",label:"Cardio",shortLabel:"Cardio"},{value:"hiit",label:"HIIT",shortLabel:"HIIT"}],flexibility:[{value:"yoga",label:"Yoga",shortLabel:"Yoga"},{value:"mobility",label:"Mobility",shortLabel:"Mobility"},{value:"stretch",label:"Stretching",shortLabel:"Stretch"}],rest:[{value:"rest",label:"Rest Day",shortLabel:"Rest"}]},d=y=>({strength:r.jsx(cn,{fontSize:"small"}),cardio:r.jsx(mi,{fontSize:"small"}),flexibility:r.jsx(ti,{fontSize:"small"}),rest:r.jsx(fh,{fontSize:"small"})})[y],p=(()=>{for(const[y,b]of Object.entries(u))if(b.some(v=>v.value===e))return y;return"strength"})(),g=(y,b)=>{b!==null&&b!==e&&t(b)};return s?r.jsxs(L,{children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",p:1.5,borderRadius:1,bgcolor:"background.paper",border:1,borderColor:"divider","&:hover":{bgcolor:"action.hover"}},onClick:()=>l(!a),children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[d(p),r.jsx(P,{variant:"body2",fontWeight:600,children:"Session Type:"}),r.jsx(ut,{label:u[p].find(y=>y.value===e)?.label||e,size:"small",color:"primary"})]}),a?r.jsx(MC,{}):r.jsx(Da,{})]}),r.jsx(Bd,{in:a,children:r.jsx(L,{sx:{pt:2},children:Object.entries(u).map(([y,b])=>r.jsxs(L,{sx:{mb:2},children:[r.jsxs(P,{variant:"caption",color:"text.secondary",sx:{display:"flex",alignItems:"center",gap:.5,mb:1},children:[d(y),y.charAt(0).toUpperCase()+y.slice(1)]}),r.jsx(Vd,{value:e,exclusive:!0,onChange:g,size:"small",fullWidth:!0,sx:{display:"flex",flexWrap:"wrap",gap:.5,"& .MuiToggleButton-root":{flex:"1 1 auto",minWidth:"fit-content"}},children:b.map(v=>r.jsx(Zs,{value:v.value,children:v.shortLabel},v.value))})]},y))})})]}):r.jsxs(L,{children:[r.jsx(P,{variant:"subtitle2",sx:{mb:2,fontWeight:600},children:"Quick Toggle Session Type"}),r.jsx(Re,{spacing:2,children:Object.entries(u).map(([y,b])=>r.jsxs(L,{children:[r.jsxs(P,{variant:"caption",color:"text.secondary",sx:{display:"flex",alignItems:"center",gap:.5,mb:1},children:[d(y),y.charAt(0).toUpperCase()+y.slice(1)]}),r.jsx(Vd,{value:e,exclusive:!0,onChange:g,size:"small",fullWidth:!0,sx:{display:"flex",flexWrap:"wrap",gap:.5,"& .MuiToggleButton-root":{flex:{xs:"1 1 45%",sm:"1 1 auto"},minWidth:"fit-content"}},children:b.map(v=>r.jsx(Gn,{title:v.label,arrow:!0,children:r.jsx(Zs,{value:v.value,children:v.shortLabel})},v.value))})]},y))})]})};Eg.propTypes={currentType:D.string.isRequired,onChange:D.func.isRequired,compact:D.bool};const xC=e=>{const t=e.toLowerCase();return["full","upper","lower","push","pull","legs","core"].includes(t)?{sessionType:t,sessionName:bC(t),exercises:[],supersetConfig:[2,2,2,2],assignedDate:new Date().toISOString(),instructions:"Complete all exercises in each superset before moving to the next. Rest 60-90 seconds between supersets."}:["cardio","hiit","yoga","mobility","stretch"].includes(t)?{sessionType:t,sessionName:bC(t),timerConfig:{duration:c9(t),intensity:"moderate",notes:""},assignedDate:new Date().toISOString(),instructions:u9(t)}:t==="rest"?{sessionType:"rest",sessionName:"Rest Day",assignedDate:new Date().toISOString(),instructions:"Take a break and recover. Your body needs rest to grow stronger!"}:{sessionType:t,sessionName:t.charAt(0).toUpperCase()+t.slice(1),assignedDate:new Date().toISOString()}},bC=e=>({full:"Full Body",upper:"Upper Body",lower:"Lower Body",push:"Push",pull:"Pull",legs:"Legs",core:"Core",cardio:"Cardio",hiit:"HIIT",yoga:"Yoga",mobility:"Mobility",stretch:"Stretching",rest:"Rest Day"})[e]||e.charAt(0).toUpperCase()+e.slice(1),c9=e=>({cardio:30,hiit:20,yoga:45,mobility:20,stretch:15})[e]||30,u9=e=>({cardio:"Maintain a steady pace throughout the session. Focus on breathing and form.",hiit:"Alternate between high-intensity intervals and rest periods. Push yourself during work intervals.",yoga:"Flow through poses with controlled breathing. Focus on alignment and balance.",mobility:"Move through your full range of motion. Hold stretches for 30-60 seconds.",stretch:"Gently stretch each muscle group. Hold each stretch for 20-30 seconds without bouncing."})[e]||"Follow your workout plan and listen to your body.",Rd=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ZE=({onNavigate:e})=>{const{weeklySchedule:t,assignWorkoutToDay:s,loading:a}=Na(),[l,u]=x.useState("Sunday"),[d,h]=x.useState({}),[p,g]=x.useState({}),[y,b]=x.useState([]),[v,S]=x.useState({open:!1,message:"",severity:"info"}),[j,k]=x.useState(!1),[w,T]=x.useState(null);x.useEffect(()=>{(async()=>{try{const le=await(await fetch(_h)).json();b(le)}catch(G){console.error("Error loading exercises:",G),b([])}})()},[]);const E=x.useCallback(async(re,G=[2,2,2,2])=>{if(!re||re.length===0)return[];const le=[];let $=0,he=0;for(const Te of G){for(let Oe=0;Oe<Te&&$<re.length;Oe++){const me=re[$];if(me.id&&me.supersetGroup!==void 0&&me.sets){le.push(me),$++;continue}const te=me["Exercise Name"]||me.exerciseName||me.name,[ee,Ie]=await Promise.all([Ma(te),Fi(te)]),Ge={id:me.id||`ex_${Date.now()}_${$}_${Math.random().toString(36).substring(2,9)}`,name:te,exerciseName:te,supersetGroup:he,muscleGroup:me["Primary Muscle"]||me.muscleGroup||me.category,equipment:me.Equipment||me.equipment,category:me["Primary Muscle"]||me.muscleGroup||me.category,sets:me.sets||[{weight:ee||0,reps:Ie||10},{weight:ee||0,reps:Ie||10},{weight:ee||0,reps:Ie||10}]};le.push(Ge),$++}he++}for(;$<re.length;){const Te=re[$];if(Te.id&&Te.supersetGroup!==void 0&&Te.sets){le.push(Te),$++;continue}const Oe=Te["Exercise Name"]||Te.exerciseName||Te.name,[me,te]=await Promise.all([Ma(Oe),Fi(Oe)]),ee={id:Te.id||`ex_${Date.now()}_${$}_${Math.random().toString(36).substring(2,9)}`,name:Oe,exerciseName:Oe,supersetGroup:he,muscleGroup:Te["Primary Muscle"]||Te.muscleGroup||Te.category,equipment:Te.Equipment||Te.equipment,category:Te["Primary Muscle"]||Te.muscleGroup||Te.category,sets:Te.sets||[{weight:me||0,reps:te||10},{weight:me||0,reps:te||10},{weight:me||0,reps:te||10}]};le.push(ee),$++,he++}return le},[]);x.useEffect(()=>{if(a)return;(async()=>{const G={};for(const le of Rd)if(t[le]){const $=JSON.parse(JSON.stringify(t[le]));if($.exercises&&Array.isArray($.exercises)&&$.exercises.length>0){const he=$.supersetConfig||[2,2,2,2];$.exercises=await E($.exercises,he)}G[le]=$}else G[le]=null;h(G)})()},[t,a,E]);const M=re=>re?re.sessionType?.toLowerCase():null,W=re=>re?["full","upper","lower","push","pull","legs","core"].includes(re):!1,O=re=>re?["cardio","hiit","yoga","mobility","stretch"].includes(re):!1,R=re=>re==="rest",_=(re,G)=>{p[l]?(T(G),k(!0)):u(G)},N=()=>{k(!1),w&&(u(w),T(null))},I=()=>{k(!1),T(null)},V=()=>{const re=d[l];if(!re||!W(M(re)))return;const G=re.exercises||[],le=G.length>0?Math.max(...G.map(he=>he.supersetGroup||0)):-1,$=[...G,{id:`ex_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,name:null,exerciseName:null,supersetGroup:le+1,sets:[{weight:0,reps:10},{weight:0,reps:10},{weight:0,reps:10}]},{id:`ex_${Date.now()+1}_${Math.random().toString(36).substring(2,9)}`,name:null,exerciseName:null,supersetGroup:le+1,sets:[{weight:0,reps:10},{weight:0,reps:10},{weight:0,reps:10}]}];h(he=>({...he,[l]:{...re,exercises:$}})),g(he=>({...he,[l]:!0}))},B=re=>{const G=d[l];if(!G)return;const le=G.exercises.filter($=>$.supersetGroup!==re);h($=>({...$,[l]:{...G,exercises:le}})),g($=>({...$,[l]:!0}))},z=re=>{const G=d[l];if(!G)return;const le={id:`ex_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,name:null,exerciseName:null,supersetGroup:re,sets:[{weight:0,reps:10},{weight:0,reps:10},{weight:0,reps:10}]};h($=>({...$,[l]:{...G,exercises:[...G.exercises,le]}})),g($=>({...$,[l]:!0}))},ue=re=>{const G=d[l];if(!G)return;const le=G.exercises.filter($=>$.id!==re);h($=>({...$,[l]:{...G,exercises:le}})),g($=>({...$,[l]:!0}))},U=x.useCallback(async(re,G)=>{const le=d[l];if(!le||!G)return;const $=le.exercises.map(te=>te.id===re?{...te,name:G["Exercise Name"],exerciseName:G["Exercise Name"],muscleGroup:G["Primary Muscle"]||G["Muscle Group"],equipment:G.Equipment,category:G["Primary Muscle"]||G["Muscle Group"]}:te),he=G["Exercise Name"],[Te,Oe]=await Promise.all([Ma(he),Fi(he)]),me=$.map(te=>te.id===re?{...te,sets:te.sets.map(ee=>({weight:Te??ee.weight,reps:Oe??ee.reps}))}:te);h(te=>({...te,[l]:{...le,exercises:me}})),g(te=>({...te,[l]:!0}))},[d,l]),ae=(re,G,le,$)=>{const he=d[l];if(!he)return;const Te=he.exercises.map(Oe=>{if(Oe.id===re){const me=[...Oe.sets];return me[G]={...me[G],[le]:parseFloat($)||0},{...Oe,sets:me}}return Oe});h(Oe=>({...Oe,[l]:{...he,exercises:Te}})),g(Oe=>({...Oe,[l]:!0}))},F=(re,G)=>{const le=d[l];le&&(h($=>({...$,[l]:{...le,timerConfig:{...le.timerConfig,[re]:G}}})),g($=>({...$,[l]:!0})))},Y=re=>{if(!d[l]){const $=xC(re);h(he=>({...he,[l]:$})),g(he=>({...he,[l]:!0})),S({open:!0,message:`Session type changed to ${$.sessionName}`,severity:"success"});return}const le=xC(re);h($=>({...$,[l]:le})),g($=>({...$,[l]:!0})),S({open:!0,message:`Session type changed to ${le.sessionName}. Previous data has been replaced.`,severity:"info"})},ge=async()=>{try{for(const re of Rd)if(p[re]){const G=d[re];if(G&&G.exercises&&Array.isArray(G.exercises)){const le={};G.exercises.forEach(he=>{const Te=he.supersetGroup??0;le[Te]=(le[Te]||0)+1});const $=Object.keys(le).sort((he,Te)=>parseInt(he)-parseInt(Te)).map(he=>le[he]);G.supersetConfig=$.length>0?$:[2,2,2,2]}await s(re,G)}g({}),S({open:!0,message:"All changes saved successfully!",severity:"success"})}catch(re){console.error("Error saving changes:",re),S({open:!0,message:"Failed to save changes. Please try again.",severity:"error"})}},pe=()=>{const re={};Rd.forEach(G=>{t[G]?re[G]=JSON.parse(JSON.stringify(t[G])):re[G]=null}),h(re),g({}),S({open:!0,message:"All changes discarded",severity:"info"})},Me=re=>{if(!re||re.length===0)return[];const G={};return re.forEach(le=>{const $=le.supersetGroup??0;G[$]||(G[$]=[]),G[$].push(le)}),Object.entries(G).sort(([le],[$])=>parseInt(le)-parseInt($))},ve=d[l],X=M(ve),Z=W(X),ce=O(X),xe=R(X),be=Object.values(p).some(re=>re);return a?r.jsx(L,{sx:{minHeight:"100vh",padding:{xs:2,sm:3},display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(P,{variant:"h6",color:"text.secondary",children:"Loading schedule..."})}):r.jsxs(L,{sx:{minHeight:"100vh",padding:{xs:2,sm:3},paddingBottom:{xs:"80px",sm:3},background:re=>re.palette.background.default},children:[r.jsxs(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsxs(L,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[r.jsx(He,{onClick:()=>e?.("settings"),sx:{color:"primary.main"},children:r.jsx(Lg,{})}),r.jsxs(L,{sx:{flex:1},children:[r.jsx(P,{variant:"h4",sx:{fontWeight:700,color:"text.primary"},children:"Edit Weekly Schedule"}),r.jsx(P,{variant:"body2",color:"text.secondary",children:"Customize your workouts for each day of the week"})]}),be&&r.jsx(ut,{label:"Unsaved Changes",color:"warning",size:"small",sx:{display:{xs:"none",sm:"flex"}}})]}),r.jsx(et,{sx:{mb:3},children:r.jsx(Fc,{value:l,onChange:_,variant:"scrollable",scrollButtons:"auto",sx:{borderBottom:1,borderColor:"divider","& .MuiTab-root":{minWidth:{xs:80,sm:100}}},children:Rd.map(re=>r.jsx(Vi,{value:re,label:r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:.5},children:[re.substring(0,3),p[re]&&r.jsx(L,{sx:{width:6,height:6,borderRadius:"50%",bgcolor:"warning.main"}})]})},re))})}),r.jsxs(L,{sx:{maxWidth:900,mx:"auto"},children:[ve&&r.jsx(et,{sx:{mb:3},children:r.jsx(at,{children:r.jsx(Eg,{currentType:X||"full",onChange:Y,compact:!0})})}),!ve&&r.jsxs(et,{sx:{p:4,textAlign:"center"},children:[r.jsxs(P,{variant:"h6",color:"text.secondary",children:["No workout assigned for ",l]}),r.jsx(P,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Use the quick toggle below to assign a workout type"}),r.jsx(L,{sx:{mt:3,maxWidth:600,mx:"auto"},children:r.jsx(Eg,{currentType:"full",onChange:Y,compact:!1})})]}),xe&&r.jsxs(et,{sx:{p:6,textAlign:"center"},children:[r.jsx(fh,{sx:{fontSize:80,color:"text.secondary",mb:2}}),r.jsx(P,{variant:"h4",sx:{fontWeight:700,color:"text.primary"},children:"Rest Day"}),r.jsx(P,{variant:"body1",color:"text.secondary",sx:{mt:2},children:"Take a break and recover. Your body needs rest to grow stronger!"})]}),ce&&r.jsx(et,{children:r.jsxs(at,{children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[r.jsx(Hc,{sx:{fontSize:40,color:"primary.main"}}),r.jsxs(L,{children:[r.jsx(P,{variant:"h5",sx:{fontWeight:700},children:"Timer Configuration"}),r.jsxs(P,{variant:"body2",color:"text.secondary",children:["Set duration for your ",ve.sessionName||X," session"]})]})]}),r.jsxs(Re,{spacing:3,children:[r.jsxs(Vt,{fullWidth:!0,children:[r.jsx(Mn,{children:"Duration (minutes)"}),r.jsxs(qt,{value:ve.timerConfig?.duration||30,label:"Duration (minutes)",onChange:re=>F("duration",re.target.value),children:[r.jsx(We,{value:15,children:"15 minutes"}),r.jsx(We,{value:20,children:"20 minutes"}),r.jsx(We,{value:30,children:"30 minutes"}),r.jsx(We,{value:45,children:"45 minutes"}),r.jsx(We,{value:60,children:"60 minutes"})]})]}),r.jsxs(Vt,{fullWidth:!0,children:[r.jsx(Mn,{children:"Intensity"}),r.jsxs(qt,{value:ve.timerConfig?.intensity||"moderate",label:"Intensity",onChange:re=>F("intensity",re.target.value),children:[r.jsx(We,{value:"light",children:"Light"}),r.jsx(We,{value:"moderate",children:"Moderate"}),r.jsx(We,{value:"vigorous",children:"Vigorous"})]})]}),r.jsx(ct,{label:"Notes (optional)",multiline:!0,rows:3,value:ve.timerConfig?.notes||"",onChange:re=>F("notes",re.target.value),placeholder:"Add any notes or goals for this session..."})]})]})}),Z&&r.jsxs(Re,{spacing:3,children:[r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx(P,{variant:"h6",sx:{fontWeight:600},children:"Supersets"}),r.jsx(Ae,{variant:"outlined",startIcon:r.jsx(gi,{}),onClick:V,size:"small",children:"Add Superset"})]}),Me(ve.exercises).map(([re,G],le)=>r.jsx(et,{sx:{borderLeft:3,borderColor:"primary.main"},children:r.jsxs(at,{children:[r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[r.jsx(ut,{label:`Superset ${le+1}`,color:"primary",size:"small"}),r.jsxs(L,{sx:{display:"flex",gap:1},children:[r.jsx(He,{size:"small",color:"primary",onClick:()=>z(parseInt(re)),title:"Add exercise to this superset",children:r.jsx(gi,{fontSize:"small"})}),r.jsx(He,{size:"small",color:"error",onClick:()=>B(parseInt(re)),title:"Remove this superset",children:r.jsx(qo,{fontSize:"small"})})]})]}),r.jsx(Re,{spacing:2,children:G.map(($,he)=>r.jsxs(L,{children:[he>0&&r.jsx(yn,{sx:{my:1}}),r.jsxs(L,{children:[r.jsxs(L,{sx:{display:"flex",alignItems:"flex-start",gap:2,mb:2},children:[r.jsx(P,{sx:{fontSize:"1.5rem",color:"primary.main",fontWeight:700,width:"32px",textAlign:"center",flexShrink:0},children:String.fromCharCode(65+he)}),r.jsx(L,{sx:{flex:1},children:r.jsx(kx,{value:$.name?y.find(Te=>Te["Exercise Name"]===$.name):null,onChange:(Te,Oe)=>U($.id,Oe),availableExercises:y,label:"Exercise",placeholder:"Select exercise...",disabled:y.length===0})}),r.jsx(He,{size:"small",color:"error",onClick:()=>ue($.id),sx:{mt:.5},children:r.jsx(Oa,{fontSize:"small"})})]}),$.name&&r.jsxs(L,{sx:{pl:5},children:[r.jsx(P,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"Sets"}),r.jsx(Re,{spacing:1,children:$.sets?.map((Te,Oe)=>r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsxs(P,{variant:"body2",sx:{minWidth:50,fontWeight:500},children:["Set ",Oe+1]}),r.jsx(ct,{type:"number",label:"Weight (lbs)",value:Te.weight,onChange:me=>ae($.id,Oe,"weight",me.target.value),size:"small",sx:{width:120},disabled:$.equipment?.toLowerCase()==="bodyweight"}),r.jsx(ct,{type:"number",label:"Reps",value:Te.reps,onChange:me=>ae($.id,Oe,"reps",me.target.value),size:"small",sx:{width:100}})]},Oe))})]})]})]},$.id))})]})},re)),(!ve.exercises||ve.exercises.length===0)&&r.jsx(et,{sx:{p:4,textAlign:"center"},children:r.jsx(P,{variant:"body1",color:"text.secondary",children:'No exercises in this workout. Click "Add Superset" to get started.'})})]}),ve&&!xe&&r.jsxs(L,{sx:{mt:4,display:"flex",gap:2,justifyContent:"center"},children:[r.jsx(Ae,{variant:"outlined",onClick:pe,disabled:!be,children:"Discard Changes"}),r.jsx(Ae,{variant:"contained",startIcon:r.jsx(gr,{}),onClick:ge,disabled:!be,children:"Save All Changes"})]})]})]}),r.jsxs(An,{open:j,onClose:I,children:[r.jsx(Un,{children:"Unsaved Changes"}),r.jsx(Pn,{children:r.jsxs(Ng,{children:["You have unsaved changes for ",l,`. These changes will be kept when you switch days, but they won't be saved until you click "Save All Changes".`]})}),r.jsxs(On,{children:[r.jsx(Ae,{onClick:I,children:"Cancel"}),r.jsx(Ae,{onClick:N,variant:"contained",children:"Continue"})]})]}),r.jsx(Fs,{open:v.open,autoHideDuration:6e3,onClose:()=>S({...v,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(Ft,{onClose:()=>S({...v,open:!1}),severity:v.severity,sx:{width:"100%"},children:v.message})})]})};ZE.propTypes={onNavigate:D.func};const d9=()=>{const[e,t]=x.useState(0),[s,a]=x.useState(!1);x.useState(()=>{const y=setInterval(()=>{t(b=>b+1)},1e3);return()=>clearInterval(y)},[]);const l=y=>{console.log("Set logged:",y),alert(`Set logged: ${y.weight} lbs  ${y.reps} reps`)},u=()=>{alert("Skip exercise clicked")},d=()=>{alert("Swap exercise clicked")},h=()=>{alert("Partial complete clicked")},p=()=>{alert("Exit clicked")},g=()=>{a(!s)};return r.jsx(CP,{maxWidth:!1,disableGutters:!0,sx:{height:"100vh",overflow:"hidden"},children:r.jsxs(L,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[r.jsx(L,{sx:{position:"fixed",bottom:0,left:0,right:0,height:"60px",bgcolor:"primary.main",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:600},children:"Bottom Navigation (60px)"}),r.jsx(L,{sx:{flex:1,overflow:"auto",pb:"60px"},children:r.jsx(Vh,{exerciseName:"Dumbbell Incline Bench Press",setNumber:2,totalSets:3,lastWeight:65,lastReps:8,suggestedWeight:67.5,suggestedReps:8,showSuggestions:!0,onSubmit:l,showBack:!0,elapsedTime:e,currentStep:5,totalSteps:24,isFavorite:s,onToggleFavorite:g,onSkip:u,onSwap:d,onPartialComplete:h,onExit:p,showPartialComplete:!0})})]})})},JE=({open:e,onClose:t,userId:s})=>{const[a,l]=x.useState(!1),[u,d]=x.useState(null),h=async()=>{if(!s){d("No user ID provided");return}l(!0),d(null);try{const g=jT(),y=[];g.workout_history&&g.workout_history.length>0&&y.push(Uc(s,g.workout_history)),g.user_stats&&y.push(vh(s,g.user_stats)),g.exercise_weights&&Object.keys(g.exercise_weights).length>0&&y.push(Xg(s,g.exercise_weights)),g.exercise_target_reps&&Object.keys(g.exercise_target_reps).length>0&&y.push(Zg(s,g.exercise_target_reps)),await Promise.all(y),QS(),l(!1),t(!0)}catch(g){console.error("Error migrating guest data:",g),d("Failed to migrate data. Please try again."),l(!1)}},p=()=>{QS(),t(!1)};return r.jsxs(An,{open:e,onClose:a?void 0:()=>t(!1),maxWidth:"sm",fullWidth:!0,disableEscapeKeyDown:a,PaperProps:{sx:{borderRadius:2}},children:[r.jsx(Un,{sx:{pb:1},children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(PS,{sx:{color:"primary.main",fontSize:28}}),r.jsx(P,{variant:"h6",component:"span",sx:{fontWeight:600},children:"Save Your Guest Data?"})]})}),r.jsxs(Pn,{children:[r.jsx(P,{variant:"body1",sx:{mb:2},children:"You have workout data from your guest session. Would you like to transfer it to your new account?"}),r.jsx(P,{variant:"body2",sx:{color:"text.secondary"},children:"This will save your workout history, progress, and settings to the cloud."}),u&&r.jsx(P,{variant:"body2",sx:{color:"error.main",mt:2},children:u})]}),r.jsxs(On,{sx:{p:2,pt:0},children:[r.jsx(Ae,{onClick:p,disabled:a,variant:"text",sx:{color:"text.secondary"},children:"Skip"}),r.jsx(Ae,{onClick:h,disabled:a,variant:"contained",startIcon:a?r.jsx(Bg,{size:20,color:"inherit"}):r.jsx(PS,{}),sx:{fontWeight:600},children:a?"Migrating...":"Save My Data"})]})]})};JE.propTypes={open:D.bool.isRequired,onClose:D.func.isRequired,userId:D.string};const eM=({color:e,delay:t,startX:s})=>{const a=["#FF6B6B","#4ECDC4","#FFD93D","#6BCB77","#4D96FF","#FF9F9F"],l=e||a[Math.floor(Math.random()*a.length)];return r.jsx(tt.div,{initial:{top:-20,left:`${s}%`,rotate:0,scale:1},animate:{top:"110vh",left:`${s+(Math.random()*20-10)}%`,rotate:Math.random()*720-360,scale:[1,1.2,.8]},transition:{duration:3+Math.random()*2,delay:t,ease:"easeOut"},style:{position:"fixed",width:Math.random()*10+5+"px",height:Math.random()*10+5+"px",backgroundColor:l,borderRadius:Math.random()>.5?"50%":"0%",zIndex:9999,pointerEvents:"none"}})};eM.propTypes={color:D.string,delay:D.number,startX:D.number};const tM=({active:e=!1,duration:t=3e3,intensity:s=50})=>{const[a,l]=x.useState([]);return x.useEffect(()=>{if(e){const u=Array.from({length:s},(h,p)=>({id:`confetti-${Date.now()}-${p}`,startX:Math.random()*100,delay:Math.random()*.5}));l(u);const d=setTimeout(()=>{l([])},t);return()=>clearTimeout(d)}},[e,t,s]),r.jsx(L,{sx:{position:"fixed",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:9999},children:r.jsx(Pc,{children:a.map(u=>r.jsx(eM,{startX:u.startX,delay:u.delay},u.id))})})};tM.propTypes={active:D.bool,duration:D.number,intensity:D.number};const nM=({open:e,onClose:t,achievement:s,onShare:a})=>{const[l,u]=x.useState(!1);if(x.useEffect(()=>{if(e&&s){u(!0);const g=setTimeout(()=>{u(!1)},3e3);return()=>clearTimeout(g)}},[e,s]),!s)return null;const d=Fh[s.tier],h=async()=>{const g=`I just unlocked the "${s.name}" achievement in GoodLift! ${s.icon}

${s.description}`;if(navigator.share)try{await navigator.share({title:"GoodLift Achievement",text:g})}catch(y){y.name!=="AbortError"&&(console.error("Error sharing:",y),p(g))}else p(g);a&&a(s)},p=g=>{navigator.clipboard.writeText(g).then(()=>{alert("Achievement text copied to clipboard!")})};return r.jsxs(r.Fragment,{children:[r.jsx(tM,{active:l}),r.jsxs(An,{open:e,onClose:t,maxWidth:"sm",fullWidth:!0,TransitionComponent:LC,TransitionProps:{direction:"up"},PaperProps:{sx:{borderRadius:3,background:d.gradient,color:d.textColor,overflow:"visible"}},children:[r.jsxs(Pn,{sx:{textAlign:"center",py:4},children:[r.jsx(tt.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:260,damping:20,delay:.1},children:r.jsx(L,{sx:{width:100,height:100,borderRadius:"50%",bgcolor:"rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px",border:"4px solid rgba(255, 255, 255, 0.3)"},children:r.jsx($o,{sx:{fontSize:"4rem",color:"rgba(255, 255, 255, 0.9)"}})})}),r.jsx(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:r.jsx(P,{variant:"h6",sx:{fontWeight:600,mb:2,opacity:.9,letterSpacing:"0.1em",textTransform:"uppercase"},children:"Achievement Unlocked!"})}),r.jsx(tt.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15,delay:.5},children:r.jsx(P,{variant:"h1",sx:{fontSize:"5rem",mb:2},children:s.icon})}),r.jsx(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:r.jsx(P,{variant:"h4",sx:{fontWeight:700,mb:1},children:s.name})}),r.jsx(tt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.9},children:r.jsx(L,{sx:{display:"inline-block",px:2,py:.5,borderRadius:2,bgcolor:"rgba(255, 255, 255, 0.2)",mb:2},children:r.jsx(P,{variant:"caption",sx:{fontWeight:700,letterSpacing:"0.1em",textTransform:"uppercase"},children:s.tier})})}),r.jsx(tt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.1},children:r.jsx(P,{variant:"body1",sx:{opacity:.9,maxWidth:"80%",margin:"0 auto"},children:s.description})})]}),r.jsx(On,{sx:{justifyContent:"center",pb:3,px:3},children:r.jsxs(Re,{direction:{xs:"column",sm:"row"},spacing:2,sx:{width:"100%"},children:[r.jsx(Ae,{variant:"contained",onClick:t,fullWidth:!0,sx:{bgcolor:"rgba(255, 255, 255, 0.9)",color:"primary.main","&:hover":{bgcolor:"rgba(255, 255, 255, 1)"}},children:"Awesome!"}),r.jsx(Ae,{variant:"outlined",startIcon:r.jsx(FC,{}),onClick:h,fullWidth:!0,sx:{borderColor:"rgba(255, 255, 255, 0.5)",color:"rgba(255, 255, 255, 0.9)","&:hover":{borderColor:"rgba(255, 255, 255, 0.8)",bgcolor:"rgba(255, 255, 255, 0.1)"}},children:"Share"})]})})]})]})};nM.propTypes={open:D.bool.isRequired,onClose:D.func.isRequired,achievement:D.shape({id:D.string.isRequired,name:D.string.isRequired,description:D.string.isRequired,icon:D.string.isRequired,tier:D.string.isRequired}),onShare:D.func};const h9=()=>{const[e,t]=x.useState(new Set);return x.useEffect(()=>{const s=async()=>{const l=ay(),u=await Hi(),d=new Set;u.forEach(p=>{p.exercises&&Array.isArray(p.exercises)&&p.exercises.forEach(g=>{g&&g["Exercise Name"]&&d.add(g["Exercise Name"])})});const h=new Set([...l,...d]);t(h)};s();const a=setInterval(s,3e4);return()=>clearInterval(a)},[]),e},Ui="v1.0.0-simplify-data-structure",sM="goodlift_migration_version",f9=()=>{try{return Xe()?jt("migration_version")===Ui:localStorage.getItem(sM)===Ui}catch(e){return console.error("Error checking migration status:",e),!1}},p9=()=>{try{Xe()?xt("migration_version",Ui):localStorage.setItem(sM,Ui),console.log(`Migration ${Ui} completed successfully`)}catch(e){console.error("Error marking migration as completed:",e)}},Ss=e=>{try{if(Xe())return jt(e);{const t=localStorage.getItem(`goodlift_${e}`);return t?JSON.parse(t):null}}catch(t){return console.error(`Error getting data for ${e}:`,t),null}},iu=(e,t)=>{try{Xe()?xt(e,t):localStorage.setItem(`goodlift_${e}`,JSON.stringify(t))}catch(s){console.error(`Error setting data for ${e}:`,s)}},Ox=e=>{try{Xe()?xt(e,null):localStorage.removeItem(`goodlift_${e}`)}catch(t){console.error(`Error removing data for ${e}:`,t)}},m9=()=>{console.log("Step 1: Migrating workout history...");const e=Ss("workout_history");if(!e||!Array.isArray(e)||e.length===0){console.log("No workout history to migrate");return}let t=0;const s=e.map(a=>{let l=!1;const u={...a};if(u.date&&typeof u.date=="number")u.date=new Date(u.date).toISOString(),l=!0;else if(u.date&&typeof u.date=="string")try{const d=new Date(u.date);isNaN(d.getTime())||(u.date=d.toISOString(),l=!0)}catch{console.warn("Invalid date in workout:",u.date)}return(u.duration===void 0||u.duration===null)&&(u.duration=0,l=!0),!u.type&&u.exercises?.length>0&&(u.type="Workout",l=!0),l&&t++,u});t>0?(iu("workout_history",s),console.log(`Migrated ${t} workout entries`)):console.log("All workout entries already in correct format")},g9=()=>{console.log("Step 2: Archiving yoga sessions...");const e=Ss("yoga_sessions");if(!e||Array.isArray(e)&&e.length===0){console.log("No yoga sessions to archive");return}const t={data:e,archivedAt:new Date().toISOString(),reason:"Yoga feature removed, replaced with stretching/mobility sessions"};iu("archived_yoga_sessions",t),Ox("yoga_sessions"),console.log(`Archived ${Array.isArray(e)?e.length:1} yoga session(s)`)},y9=()=>{console.log("Step 3: Archiving favorite workouts...");const e=Ss("favorite_workouts");if(!e||Array.isArray(e)&&e.length===0){console.log("No favorite workouts to archive");return}const t={data:e,archivedAt:new Date().toISOString(),reason:"Favorite workouts replaced by workout plans feature"};iu("archived_favorite_workouts",t),Ox("favorite_workouts"),console.log(`Archived ${e.length} favorite workout(s)`)},x9=()=>{console.log("Step 4: Cleaning up user stats...");const e=Ss("user_stats");if(!e){console.log("No user stats to clean up");return}let t=!1;"totalYogaTime"in e&&(delete e.totalYogaTime,t=!0,console.log("Removed totalYogaTime from user stats")),Object.entries({totalWorkouts:0,totalTime:0,totalHiitTime:0,totalCardioTime:0,totalStretchTime:0}).forEach(([a,l])=>{a in e||(e[a]=l,t=!0)}),t?(iu("user_stats",e),console.log("Updated user stats structure")):console.log("User stats already clean")},b9=()=>{console.log("Step 5: Validating session data..."),["hiit_sessions","cardio_sessions","stretch_sessions"].forEach(t=>{const s=Ss(t);if(!s||!Array.isArray(s)||s.length===0){console.log(`No ${t} to validate`);return}let a=0;const l=s.map(u=>{let d=!1;const h={...u};return h.id||(h.id=`${Date.now()}-${Math.random().toString(36).substring(2,11)}`,d=!0),h.date||(h.date=Date.now(),d=!0),typeof h.date=="number"&&(h.date=new Date(h.date).toISOString(),d=!0),(h.duration===void 0||h.duration===null)&&(h.duration=0,d=!0),d&&a++,h});a>0&&(iu(t,l),console.log(`Validated ${a} ${t} entries`))})},v9=()=>{console.log("Step 6: Removing orphaned references...");const e=["yoga_settings","yoga_preferences","legacy_favorites"];let t=0;e.forEach(s=>{Ss(s)!==null&&(Ox(s),t++,console.log(`Removed orphaned key: ${s}`))}),console.log(t===0?"No orphaned references found":`Removed ${t} orphaned reference(s)`)},S9=()=>{const e={version:Ui,timestamp:new Date().toISOString(),summary:{workoutHistory:Ss("workout_history")?.length||0,hiitSessions:Ss("hiit_sessions")?.length||0,cardioSessions:Ss("cardio_sessions")?.length||0,stretchSessions:Ss("stretch_sessions")?.length||0,workoutPlans:Ss("workout_plans")?.length||0,archivedYoga:Ss("archived_yoga_sessions")?.data?.length||0,archivedFavoriteWorkouts:Ss("archived_favorite_workouts")?.data?.length||0}};return console.log("Migration Report:",e),e},w9=()=>{if(console.log("=== Starting Data Structure Simplification Migration ==="),console.log(`Version: ${Ui}`),f9())return console.log("Migration already completed, skipping..."),{status:"skipped",reason:"Migration already completed",version:Ui};try{m9(),g9(),y9(),x9(),b9(),v9(),p9();const e=S9();return console.log("=== Migration Completed Successfully ==="),{status:"success",...e}}catch(e){return console.error("Migration failed:",e),{status:"failed",error:e.message,version:Ui}}};function C9(){const[e,t]=x.useState("home"),[s,a]=x.useState([]),[l,u]=x.useState("full"),[d,h]=x.useState(new Set(["all"])),[p,g]=x.useState([]),[y,b]=x.useState(null),[v]=x.useState(!1),[S,j]=x.useState(!1),[k,w]=x.useState({open:!1,message:"",severity:"info"}),[T,E]=x.useState(!1),[M,W]=x.useState(!1),[O,R]=x.useState(null),[_,N]=x.useState(!1),[I,V]=x.useState(!1),[B,z]=x.useState([2,2,2,2]),[ue,U]=x.useState(3),{currentUser:ae,isGuest:F,hasGuestData:Y}=Ar(),{generateWorkout:ge,allExercises:pe,exerciseDB:Me}=NE(),ve=h9();x.useEffect(()=>{(async()=>{try{console.log("Running data structure migration...");const ie=w9();ie.status==="success"?console.log("Migration completed:",ie):ie.status==="skipped"?console.log("Migration skipped:",ie.reason):console.error("Migration failed:",ie)}catch(ie){console.error("Error running migration:",ie)}})()},[]),x.useEffect(()=>{(async()=>{try{await GE()}catch(ie){console.error("Error cleaning up expired backups:",ie)}})()},[]),x.useEffect(()=>{E(F?$R():!1)},[F]),x.useEffect(()=>{ae&&!F&&Y&&W(!0)},[ae,F,Y]);const X=async Pe=>{if(W(!1),Pe||Qd(),ae&&ae.uid)try{await ET(ae.uid)}catch(ie){console.error("Error loading user data after migration:",ie)}},Z=()=>{KR(),E(!1)};x.useEffect(()=>{const Pe=()=>{if(window.visualViewport){const we=window.visualViewport;document.documentElement.style.setProperty("--viewport-height",`${we.height}px`)}},ie=()=>{setTimeout(()=>{window.scrollTo(0,0),Pe()},100)};return window.addEventListener("resize",Pe),window.addEventListener("orientationchange",ie),window.visualViewport&&window.visualViewport.addEventListener("resize",Pe),Pe(),()=>{window.removeEventListener("resize",Pe),window.removeEventListener("orientationchange",ie),window.visualViewport&&window.visualViewport.removeEventListener("resize",Pe)}},[]),x.useEffect(()=>{if(pe.length>0){const Pe=new Set;pe.forEach(ie=>{const we=ie.Equipment;we.includes("Cable")?Pe.add("Cable Machine"):we.includes("Dumbbell")?Pe.add("Dumbbells"):Pe.add(we)}),g(Array.from(Pe).sort())}},[pe]);const ce=Pe=>{t(Pe)},xe=Pe=>{u(Pe)},be=Pe=>{if(Pe instanceof Set)h(Pe);else{const ie=new Set;ie.add(Pe),h(ie)}},re=(Pe,ie,we=null,q=[2,2,2,2])=>{z(q);const fe=we||ge(Pe,ie,q);a(fe),u(Pe),V(!1),j(!0),t("preview")},G=(Pe,ie,we=[2,2,2,2])=>{u(Pe),z(we);const q=we.reduce((ye,Ee)=>ye+Ee,0),fe=Array(q).fill(null);a(fe),V(!0),j(!0),t("preview")},le=(Pe,ie,we)=>{Pe&&a(Pe),ie&&z(ie),we!==void 0&&U(we),j(!1),V(!1),t("workout")},$=()=>{j(!1),V(!1),t("home")},he=x.useCallback((Pe,ie)=>{if(!Me||Object.keys(Me).length===0){console.error("Exercise database not available"),w({open:!0,message:"Exercise database not loaded",severity:"error"});return}const we=Pe["Primary Muscle"],q=Pe["Exercise Type"],fe=Pe["Exercise Name"],ye=Me[we]||[];let Ee=0;const _e=3;let Le=null;for(;Ee<_e&&!Le;){Ee++;let Be=ye;const $e=Array.from(d);$e.includes("all")||(Be=ye.filter(Ye=>{const ht=Ye.Equipment;return $e.some(kt=>kt==="Cable Machine"?ht.includes("Cable"):kt==="Dumbbells"?ht.includes("Dumbbell"):ht.includes(kt))})),Be=Be.filter(Ye=>Ye["Exercise Type"]===q);const Fe=s.map(Ye=>Ye["Exercise Name"]);let dt=Be.filter(Ye=>Ye["Exercise Name"]!==fe&&!Fe.includes(Ye["Exercise Name"]));if(dt.length===0&&(dt=Be.filter(Ye=>Ye["Exercise Name"]!==fe)),dt.length===0)continue;const pt=[...dt];dt.forEach(Ye=>{ve.has(Ye["Exercise Name"])&&pt.push(Ye)}),Le=pt[Math.floor(Math.random()*pt.length)]}if(!Le){w({open:!0,message:"No alternative exercises available",severity:"warning"});return}const Ze=[...s];Ze[ie]=Le,a(Ze)},[Me,s,d,ve]),Te=x.useCallback((Pe,ie)=>{if(ie?.toLowerCase().includes("bodyweight")||ie?.toLowerCase().includes("body weight"))return 0;const we=ie.includes("Dumbbell")||ie.includes("Kettlebell"),q=ie?.toLowerCase().includes("barbell");return jd.UPPER_BODY.includes(Pe)?q?Ta.UPPER_BODY.BARBELL:Ta.UPPER_BODY.DUMBBELL:jd.LOWER_BODY.includes(Pe)?q?Ta.LOWER_BODY.BARBELL:we?Ta.LOWER_BODY.DUMBBELL:5:2.5},[]),Oe=x.useCallback((Pe,ie)=>{if(ie?.toLowerCase().includes("bodyweight")||ie?.toLowerCase().includes("body weight"))return 0;const we=ie.includes("Dumbbell")||ie.includes("Kettlebell"),q=ie?.toLowerCase().includes("barbell");return jd.UPPER_BODY.includes(Pe)?q?Ta.UPPER_BODY.BARBELL:Ta.UPPER_BODY.DUMBBELL:jd.LOWER_BODY.includes(Pe)?q?Ta.LOWER_BODY.BARBELL:we?Ta.LOWER_BODY.DUMBBELL:5:2.5},[]),me=x.useCallback(async Pe=>{const ie=[],we=[];let q=0;for(const[Ee,_e]of Object.entries(Pe.exercises)){const Le=_e.sets[_e.sets.length-1];for(const Ze of _e.sets)Ze.weight>0&&Ze.reps>0&&(q+=Ze.weight*Ze.reps);if(Le?.weight>0){const Ze=await Fi(Ee);if(_e.sets.every($e=>$e.reps>=Ze)&&_e.sets.length>=N1){const $e=s.find(Fe=>Fe["Exercise Name"]===Ee);if($e){const Fe=$e["Primary Muscle"].split("(")[0].trim(),dt=Te(Fe,$e.Equipment);if(dt>0){const pt=Le.weight+dt;await Bi(Ee,pt),ie.push({exercise:Ee,oldWeight:Le.weight,newWeight:pt,increase:dt}),await o_()}}}else if(h7(_e.sets,Ze,N1)){const Fe=s.find(dt=>dt["Exercise Name"]===Ee);if(Fe){const dt=Fe["Primary Muscle"].split("(")[0].trim(),pt=Oe(dt,Fe.Equipment);if(pt>0&&Le.weight>pt){const Ye=Le.weight-pt;await Bi(Ee,Ye),we.push({exercise:Ee,oldWeight:Le.weight,newWeight:Ye,decrease:pt})}else await Bi(Ee,Le.weight)}else await Bi(Ee,Le.weight)}else await Bi(Ee,Le.weight)}}if(q>0&&await l_(q),ie.length>0){const Ee=ie.map(_e=>`${_e.exercise}: ${_e.oldWeight}  ${_e.newWeight} lbs (+${_e.increase} lbs)`);w({open:!0,message:` Progressive Overload! You hit your target reps!

${Ee.join(`
`)}`,severity:"success"})}else if(we.length>0){const Ee=we.map(_e=>`${_e.exercise}: ${_e.oldWeight}  ${_e.newWeight} lbs (-${_e.decrease} lbs)`);w({open:!0,message:` Weight adjusted for next session. Keep pushing!

${Ee.join(`
`)}`,severity:"info"})}const fe={...Pe,type:l};await ny(fe);const ye=await Yc();ye.totalWorkouts+=1,ye.totalTime+=Pe.duration,await sy(ye);try{const Ee=await OT(),_e=await ni(),Le=y7(ye,_e,Ee);if(Le.length>0){for(const Ze of Le)await r_(Ze.id);R(Le[0]),N(!0)}}catch(Ee){console.error("Error checking achievements:",Ee)}b(fe),t("completion")},[l,s,Te,Oe]),te=()=>{t("home")},ee=()=>{t("home")},Ie=()=>{if(!y)return;let ie="data:text/csv;charset=utf-8,"+["Date","WorkoutType","Duration","Exercise","Set","Weight","Reps"].join(",")+`
`;for(const fe in y.exercises)y.exercises[fe].sets.forEach(Ee=>{const _e=[new Date(y.date).toLocaleString(),y.type,y.duration,fe,Ee.set,Ee.weight,Ee.reps];ie+=_e.join(",")+`
`});const we=encodeURI(ie),q=document.createElement("a");q.setAttribute("href",we),q.setAttribute("download",`GoodLift_Workout_${new Date(y.date).toISOString().split("T")[0]}.csv`),document.body.appendChild(q),q.click(),document.body.removeChild(q)},{theme:Ge}=zE();return ae?r.jsxs(OS,{theme:Ge,children:[r.jsx(RS,{}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[r.jsx(ak,{onNavigate:ce}),r.jsxs("div",{id:"app",style:{flex:1,marginTop:"60px",paddingBottom:"80px"},children:[e==="home"&&r.jsx(gE,{onNavigate:ce,loading:v,workoutType:l,selectedEquipment:d,equipmentOptions:p,onWorkoutTypeChange:xe,onEquipmentChange:be,onStartWorkout:re,onCustomize:G}),e==="selection"&&r.jsx(Cx,{workoutType:l,selectedEquipment:d,equipmentOptions:p,onWorkoutTypeChange:xe,onEquipmentChange:be,onStartWorkout:re,onCustomize:G,loading:v}),e==="preview"&&S&&r.jsx(jx,{workout:s,workoutType:l,onStart:le,onCancel:$,onRandomizeExercise:he,equipmentFilter:Array.from(d),isCustomizeMode:I,supersetConfig:B,setsPerSuperset:ue}),e==="workout"&&s.length>0&&r.jsx(bE,{workoutPlan:s,onComplete:me,onExit:te,supersetConfig:B,setsPerSuperset:ue}),e==="completion"&&y&&r.jsx(Dx,{workoutData:y,workoutPlan:s,onFinish:ee,onExportCSV:Ie}),e==="progress"&&r.jsx(_E,{onNavigate:ce,onStartWorkout:re}),(e==="cardio"||e==="hiit"||e==="timer")&&r.jsx(dx,{onNavigate:ce}),e==="log-activity"&&r.jsx(wx,{onNavigate:ce}),(e==="stretch"||e==="mobility")&&r.jsx(R7,{}),e==="exercise-list"&&r.jsx(I7,{}),e==="settings"&&r.jsx($E,{onNavigate:ce}),e==="profile"&&r.jsx(l9,{}),e==="edit-weekly-schedule"&&r.jsx(ZE,{onNavigate:ce}),e==="exercise-card-demo"&&r.jsx(d9,{})]}),r.jsx(qy,{currentScreen:e,onNavigate:ce}),r.jsx(JE,{open:M,onClose:X,userId:ae?.uid}),r.jsx(nM,{open:_,onClose:()=>{N(!1),R(null)},achievement:O}),r.jsx(Fs,{open:T,anchorOrigin:{vertical:"bottom",horizontal:"center"},sx:{bottom:{xs:80,sm:24}},children:r.jsx(Ft,{severity:"info",onClose:Z,action:r.jsx(Ae,{color:"inherit",size:"small",onClick:()=>t("progress"),sx:{fontWeight:600},children:"Sign Up"}),sx:{width:"100%",maxWidth:"600px","& .MuiAlert-message":{fontSize:"0.95rem",fontWeight:500}},children:"You're in guest mode. Sign up to save your data permanently!"})}),r.jsx(Fs,{open:k.open,autoHideDuration:8e3,onClose:()=>w({...k,open:!1}),anchorOrigin:{vertical:"top",horizontal:"center"},children:r.jsx(Ft,{onClose:()=>w({...k,open:!1}),severity:k.severity,sx:{whiteSpace:"pre-line","& .MuiAlert-message":{fontSize:"1rem",fontWeight:500}},children:k.message})})]})]}):r.jsxs(OS,{theme:Ge,children:[r.jsx(RS,{}),r.jsx(M7,{})]})}function T9(){return r.jsx(BE,{children:r.jsx(C9,{})})}var Hh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},k9={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},j9=class{#e=k9;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},Mg=new j9;function D9(e){setTimeout(e,0)}var Uh=typeof window>"u"||"Deno"in globalThis;function Xs(){}function E9(e,t){return typeof e=="function"?e(t):e}function M9(e){return typeof e=="number"&&e>=0&&e!==1/0}function A9(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ag(e,t){return typeof e=="function"?e(t):e}function P9(e,t){return typeof e=="function"?e(t):e}function vC(e,t){const{type:s="all",exact:a,fetchStatus:l,predicate:u,queryKey:d,stale:h}=e;if(d){if(a){if(t.queryHash!==Rx(d,t.options))return!1}else if(!Vc(t.queryKey,d))return!1}if(s!=="all"){const p=t.isActive();if(s==="active"&&!p||s==="inactive"&&p)return!1}return!(typeof h=="boolean"&&t.isStale()!==h||l&&l!==t.state.fetchStatus||u&&!u(t))}function SC(e,t){const{exact:s,status:a,predicate:l,mutationKey:u}=e;if(u){if(!t.options.mutationKey)return!1;if(s){if(Bc(t.options.mutationKey)!==Bc(u))return!1}else if(!Vc(t.options.mutationKey,u))return!1}return!(a&&t.state.status!==a||l&&!l(t))}function Rx(e,t){return(t?.queryKeyHashFn||Bc)(e)}function Bc(e){return JSON.stringify(e,(t,s)=>Pg(s)?Object.keys(s).sort().reduce((a,l)=>(a[l]=s[l],a),{}):s)}function Vc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>Vc(e[s],t[s])):!1}var O9=Object.prototype.hasOwnProperty;function iM(e,t){if(e===t)return e;const s=wC(e)&&wC(t);if(!s&&!(Pg(e)&&Pg(t)))return t;const l=(s?e:Object.keys(e)).length,u=s?t:Object.keys(t),d=u.length,h=s?new Array(d):{};let p=0;for(let g=0;g<d;g++){const y=s?g:u[g],b=e[y],v=t[y];if(b===v){h[y]=b,(s?g<l:O9.call(e,y))&&p++;continue}if(b===null||v===null||typeof b!="object"||typeof v!="object"){h[y]=v;continue}const S=iM(b,v);h[y]=S,S===b&&p++}return l===d&&p===l?e:h}function wC(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Pg(e){if(!CC(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!CC(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function CC(e){return Object.prototype.toString.call(e)==="[object Object]"}function R9(e){return new Promise(t=>{Mg.setTimeout(t,e)})}function _9(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?iM(e,t):t}function I9(e,t,s=0){const a=[...e,t];return s&&a.length>s?a.slice(1):a}function W9(e,t,s=0){const a=[t,...e];return s&&a.length>s?a.slice(0,-1):a}var _x=Symbol();function aM(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===_x?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var N9=class extends Hh{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Uh&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},rM=new N9;function L9(){let e,t;const s=new Promise((l,u)=>{e=l,t=u});s.status="pending",s.catch(()=>{});function a(l){Object.assign(s,l),delete s.resolve,delete s.reject}return s.resolve=l=>{a({status:"fulfilled",value:l}),e(l)},s.reject=l=>{a({status:"rejected",reason:l}),t(l)},s}var z9=D9;function B9(){let e=[],t=0,s=h=>{h()},a=h=>{h()},l=z9;const u=h=>{t?e.push(h):l(()=>{s(h)})},d=()=>{const h=e;e=[],h.length&&l(()=>{a(()=>{h.forEach(p=>{s(p)})})})};return{batch:h=>{let p;t++;try{p=h()}finally{t--,t||d()}return p},batchCalls:h=>(...p)=>{u(()=>{h(...p)})},schedule:u,setNotifyFunction:h=>{s=h},setBatchNotifyFunction:h=>{a=h},setScheduler:h=>{l=h}}}var Zn=B9(),V9=class extends Hh{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Uh&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},dh=new V9;function F9(e){return Math.min(1e3*2**e,3e4)}function oM(e){return(e??"online")==="online"?dh.isOnline():!0}var Og=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function lM(e){let t=!1,s=0,a;const l=L9(),u=()=>l.status!=="pending",d=k=>{if(!u()){const w=new Og(k);v(w),e.onCancel?.(w)}},h=()=>{t=!0},p=()=>{t=!1},g=()=>rM.isFocused()&&(e.networkMode==="always"||dh.isOnline())&&e.canRun(),y=()=>oM(e.networkMode)&&e.canRun(),b=k=>{u()||(a?.(),l.resolve(k))},v=k=>{u()||(a?.(),l.reject(k))},S=()=>new Promise(k=>{a=w=>{(u()||g())&&k(w)},e.onPause?.()}).then(()=>{a=void 0,u()||e.onContinue?.()}),j=()=>{if(u())return;let k;const w=s===0?e.initialPromise:void 0;try{k=w??e.fn()}catch(T){k=Promise.reject(T)}Promise.resolve(k).then(b).catch(T=>{if(u())return;const E=e.retry??(Uh?0:3),M=e.retryDelay??F9,W=typeof M=="function"?M(s,T):M,O=E===!0||typeof E=="number"&&s<E||typeof E=="function"&&E(s,T);if(t||!O){v(T);return}s++,e.onFail?.(s,T),R9(W).then(()=>g()?void 0:S()).then(()=>{t?v(T):j()})})};return{promise:l,status:()=>l.status,cancel:d,continue:()=>(a?.(),l),cancelRetry:h,continueRetry:p,canStart:y,start:()=>(y()?j():S().then(j),l)}}var cM=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),M9(this.gcTime)&&(this.#e=Mg.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Uh?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Mg.clearTimeout(this.#e),this.#e=void 0)}},H9=class extends cM{#e;#t;#n;#i;#s;#r;#o;constructor(e){super(),this.#o=!1,this.#r=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=kC(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){if(this.options={...this.#r,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=kC(this.options);t.data!==void 0&&(this.setState(TC(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const s=_9(this.state.data,e,this.options);return this.#a({data:s,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),s}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#s?.promise;return this.#s?.cancel(e),t?t.then(Xs).catch(Xs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>P9(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===_x||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ag(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!A9(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#o=!0,s.signal)})},l=()=>{const h=aM(this.options,t),g=(()=>{const y={client:this.#i,queryKey:this.queryKey,meta:this.meta};return a(y),y})();return this.#o=!1,this.options.persister?this.options.persister(h,g,this):h(g)},d=(()=>{const h={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:l};return a(h),h})();this.options.behavior?.onFetch(d,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#a({type:"fetch",meta:d.fetchOptions?.meta}),this.#s=lM({initialPromise:t?.initialPromise,fn:d.fetchFn,onCancel:h=>{h instanceof Og&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(h,p)=>{this.#a({type:"failed",failureCount:h,error:p})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0});try{const h=await this.#s.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof Og){if(h.silent)return this.#s.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#a({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#a(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...U9(s.data,this.options),fetchMeta:e.meta??null};case"success":const a={...s,...TC(e.data,e.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?a:void 0,a;case"error":const l=e.error;return{...s,error:l,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),Zn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function U9(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:oM(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function TC(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function kC(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,a=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}function jC(e){return{onFetch:(t,s)=>{const a=t.options,l=t.fetchOptions?.meta?.fetchMore?.direction,u=t.state.data?.pages||[],d=t.state.data?.pageParams||[];let h={pages:[],pageParams:[]},p=0;const g=async()=>{let y=!1;const b=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},v=aM(t.options,t.fetchOptions),S=async(j,k,w)=>{if(y)return Promise.reject();if(k==null&&j.pages.length)return Promise.resolve(j);const E=(()=>{const R={client:t.client,queryKey:t.queryKey,pageParam:k,direction:w?"backward":"forward",meta:t.options.meta};return b(R),R})(),M=await v(E),{maxPages:W}=t.options,O=w?W9:I9;return{pages:O(j.pages,M,W),pageParams:O(j.pageParams,k,W)}};if(l&&u.length){const j=l==="backward",k=j?q9:DC,w={pages:u,pageParams:d},T=k(a,w);h=await S(w,T,j)}else{const j=e??u.length;do{const k=p===0?d[0]??a.initialPageParam:DC(a,h);if(p>0&&k==null)break;h=await S(h,k),p++}while(p<j)}return h};t.options.persister?t.fetchFn=()=>t.options.persister?.(g,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s):t.fetchFn=g}}}function DC(e,{pages:t,pageParams:s}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,s[a],s):void 0}function q9(e,{pages:t,pageParams:s}){return t.length>0?e.getPreviousPageParam?.(t[0],t,s[0],s):void 0}var Y9=class extends cM{#e;#t;#n;#i;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||G9(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#s({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=lM({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(u,d)=>{this.#s({type:"failed",failureCount:u,error:d})},onPause:()=>{this.#s({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const a=this.state.status==="pending",l=!this.#i.canStart();try{if(a)t();else{this.#s({type:"pending",variables:e,isPaused:l}),await this.#n.config.onMutate?.(e,this,s);const d=await this.options.onMutate?.(e,s);d!==this.state.context&&this.#s({type:"pending",context:d,variables:e,isPaused:l})}const u=await this.#i.start();return await this.#n.config.onSuccess?.(u,e,this.state.context,this,s),await this.options.onSuccess?.(u,e,this.state.context,s),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(u,null,e,this.state.context,s),this.#s({type:"success",data:u}),u}catch(u){try{throw await this.#n.config.onError?.(u,e,this.state.context,this,s),await this.options.onError?.(u,e,this.state.context,s),await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(void 0,u,e,this.state.context,s),u}finally{this.#s({type:"error",error:u})}}finally{this.#n.runNext(this)}}#s(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Zn.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function G9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $9=class extends Hh{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,s){const a=new Y9({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:s});return this.add(a),a}add(e){this.#e.add(e);const t=_d(e);if(typeof t=="string"){const s=this.#t.get(t);s?s.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=_d(e);if(typeof t=="string"){const s=this.#t.get(t);if(s)if(s.length>1){const a=s.indexOf(e);a!==-1&&s.splice(a,1)}else s[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=_d(e);if(typeof t=="string"){const a=this.#t.get(t)?.find(l=>l.state.status==="pending");return!a||a===e}else return!0}runNext(e){const t=_d(e);return typeof t=="string"?this.#t.get(t)?.find(a=>a!==e&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Zn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(s=>SC(t,s))}findAll(e={}){return this.getAll().filter(t=>SC(e,t))}notify(e){Zn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Zn.batch(()=>Promise.all(e.map(t=>t.continue().catch(Xs))))}};function _d(e){return e.options.scope?.id}var K9=class extends Hh{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,s){const a=t.queryKey,l=t.queryHash??Rx(a,t);let u=this.get(l);return u||(u=new H9({client:e,queryKey:a,queryHash:l,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(a)}),this.add(u)),u}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Zn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>vC(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>vC(e,s)):t}notify(e){Zn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Zn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Zn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Q9=class{#e;#t;#n;#i;#s;#r;#o;#a;constructor(e={}){this.#e=e.queryCache||new K9,this.#t=e.mutationCache||new $9,this.#n=e.defaultOptions||{},this.#i=new Map,this.#s=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#o=rM.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=dh.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=this.#e.build(this,t),a=s.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Ag(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:s})=>{const a=s.data;return[t,a]})}setQueryData(e,t,s){const a=this.defaultQueryOptions({queryKey:e}),u=this.#e.get(a.queryHash)?.state.data,d=E9(t,u);if(d!==void 0)return this.#e.build(this,a).setData(d,{...s,manual:!0})}setQueriesData(e,t,s){return Zn.batch(()=>this.#e.findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,s)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Zn.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=this.#e;return Zn.batch(()=>(s.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},a=Zn.batch(()=>this.#e.findAll(e).map(l=>l.cancel(s)));return Promise.all(a).then(Xs).catch(Xs)}invalidateQueries(e,t={}){return Zn.batch(()=>(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},a=Zn.batch(()=>this.#e.findAll(e).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let u=l.fetch(void 0,s);return s.throwOnError||(u=u.catch(Xs)),l.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(a).then(Xs)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=this.#e.build(this,t);return s.isStaleByTime(Ag(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Xs).catch(Xs)}fetchInfiniteQuery(e){return e.behavior=jC(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Xs).catch(Xs)}ensureInfiniteQueryData(e){return e.behavior=jC(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return dh.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#i.set(Bc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#i.values()],s={};return t.forEach(a=>{Vc(e,a.queryKey)&&Object.assign(s,a.defaultOptions)}),s}setMutationDefaults(e,t){this.#s.set(Bc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#s.values()],s={};return t.forEach(a=>{Vc(e,a.mutationKey)&&Object.assign(s,a.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Rx(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===_x&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},X9=x.createContext(void 0),Z9=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(X9.Provider,{value:e,children:t}));function J9(e){const t="=".repeat((4-e.length%4)%4),s=(e+t).replace(/-/g,"+").replace(/_/g,"/"),a=window.atob(s),l=new Uint8Array(a.length);for(let u=0;u<a.length;++u)l[u]=a.charCodeAt(u);return l}async function eq(e){try{if(!("serviceWorker"in navigator))return console.warn("[Push Notifications] Service workers are not supported in this browser"),null;if(!("PushManager"in window))return console.warn("[Push Notifications] Push notifications are not supported in this browser"),null;if(console.log("[Push Notifications] Requesting notification permission..."),await Notification.requestPermission()!=="granted")return console.warn("[Push Notifications] Notification permission denied by user"),null;console.log("[Push Notifications] Notification permission granted"),console.log("[Push Notifications] Waiting for service worker to be ready...");const s=await navigator.serviceWorker.ready;console.log("[Push Notifications] Service worker is ready");const a=J9(e);console.log("[Push Notifications] Subscribing to push notifications...");const l=await s.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:a});return console.log("[Push Notifications]  Successfully subscribed to push notifications!"),console.log("[Push Notifications]  Subscription object:"),console.log(JSON.stringify(l,null,2)),console.log(`
[Push Notifications]  To enable push notifications:`),console.log("1. Send this subscription object to your backend server"),console.log("2. Store it in your database associated with this user"),console.log("3. Use it to send push notifications via web-push library or similar"),console.log(`
Example backend code (Node.js with web-push):`),console.log('const webpush = require("web-push");'),console.log('webpush.sendNotification(subscription, "Your notification message");'),l}catch(t){return console.error("[Push Notifications]  Error subscribing to push notifications:",t),console.error("[Push Notifications] Error details:",t.message),null}}async function tq(){try{return!("serviceWorker"in navigator)||!("PushManager"in window)?null:await(await navigator.serviceWorker.ready).pushManager.getSubscription()}catch(e){return console.error("[Push Notifications] Error checking existing subscription:",e),null}}const nq="BE0ZQSJHIlmXfeA5ddjITNrqrS0TmGfGGQjBufmOlUKxRUtEwja2qHmTZ0pXHepJzGV2qcwH0gJ_D6ot6cWGB6w";async function sq(){try{console.log("[Push Init] Initializing push notification subscription..."),console.log("[Push Init] Setting up both Firebase Cloud Messaging and native Web Push API"),console.log("[Push Init] Step 1: Getting Firebase Cloud Messaging token..."),await G7()?(console.log("[Push Init]  Firebase Cloud Messaging initialized"),console.log("[Push Init] You can use this FCM token to send notifications via Firebase Admin SDK")):console.log("[Push Init]  Firebase Cloud Messaging not available (may not be supported in this browser)"),console.log("[Push Init] Step 2: Setting up native Web Push API subscription...");const t=await tq();if(t)console.log("[Push Init]  Native Web Push: Already subscribed"),console.log("[Push Init] Existing subscription:",JSON.stringify(t,null,2));else{console.log("[Push Init] Native Web Push: No existing subscription, creating new subscription...");const s=await eq(nq);console.log(s?"[Push Init]  Native Web Push: Subscription created successfully":"[Push Init]  Native Web Push: Subscription not created (user may have denied permission)")}console.log(`
[Push Init] `),console.log("[Push Init]  Push notification setup complete!"),console.log("[Push Init] "),console.log("[Push Init] You now have two ways to send push notifications:"),console.log("[Push Init] 1  Firebase Cloud Messaging (FCM):"),console.log("[Push Init]     - Use the FCM token logged above"),console.log("[Push Init]     - Send via Firebase Admin SDK or FCM REST API"),console.log("[Push Init]     - Background messages handled by firebase-messaging-sw.js"),console.log("[Push Init] 2  Native Web Push API:"),console.log("[Push Init]     - Use the subscription object logged above"),console.log("[Push Init]     - Send via web-push library or any Web Push service"),console.log("[Push Init]     - Push events handled by service-worker.js"),console.log(`[Push Init] 
`)}catch(e){console.error("[Push Init] Error initializing push notifications:",e)}}const iq=new Q9;"serviceWorker"in navigator&&"PushManager"in window&&window.addEventListener("load",()=>{sq()});nO.createRoot(document.getElementById("root")).render(r.jsx(Ea.StrictMode,{children:r.jsx(Z9,{client:iq,children:r.jsx(WT,{children:r.jsx(FE,{children:r.jsx(RE,{children:r.jsx(ik,{children:r.jsx(T9,{})})})})})})}))});export default aq();
