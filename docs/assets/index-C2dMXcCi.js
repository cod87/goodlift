var h2=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import{u as Jo,j as r,B as V,T as Dg,a as Zn,P as E,I as Qe,V as yC,b as Eg,D as Tn,c as In,d as jn,e as I,f as Dn,g as je,F as p2,h as Jt,i as m2,k as Aa,S as g2,l as xC,m as Mg,C as at,n as ct,o as y2,p as cr,q as ft,r as Hi,s as Re,t as Uo,v as cf,w as Ks,x as Cr,M as x2,y as Ve,L as kt,z as zt,A as uc,E as b2,G as v2,H as Zs,J as Ag,K as Hn,N as ot,O as S2,Q as Da,R as Pm,U as Ui,W as fi,_ as ut,X as $,Y as Pn,Z as On,$ as rn,a0 as Qi,a1 as $e,a2 as qn,a3 as hn,a4 as Mr,a5 as Be,a6 as dc,a7 as hs,a8 as uf,a9 as w2,aa as C2,ab as Ot,ac as k2,ad as qo,ae as qi,af as Pg,ag as No,ah as _a,ai as bC,aj as T2,ak as j2,al as Un,am as D2,an as Kt,ao as pt,ap as Dc,aq as ci,ar as ja,as as vC,at as E2,au as Yo,av as M2,aw as SC,ax as yS,ay as Xt,az as yr,aA as xr,aB as br,aC as A2,aD as kr,aE as Yi,aF as yn,aG as wC,aH as Qs,aI as At,aJ as CC,aK as kC,aL as TC,aM as Li,aN as Mo,aO as P2,aP as jC,aQ as Og,aR as DC,aS as O2,aT as df,aU as EC,aV as Ec,aW as Wi,aX as ff,aY as Ea,aZ as R2,a_ as _2,a$ as el,b0 as nn,b1 as hf,b2 as Ld,b3 as xS,b4 as Gi,b5 as I2,b6 as W2,b7 as MC,b8 as N2,b9 as L2,ba as V2,bb as B2,bc as bS,bd as z2,be as AC,bf as Go,bg as PC,bh as F2,bi as OC,bj as RC,bk as _C,bl as H2,bm as vS,bn as Om,bo as Rm,bp as U2,bq as q2,br as Y2,bs as SS,bt as G2,bu as $2,bv as K2,bw as wS,bx as Ws,by as Q2,bz as X2,bA as Z2,bB as J2,bC as eP,bD as IC,bE as tP,bF as pf,bG as _m,bH as nP,bI as sP,bJ as iP,bK as aP,bL as rP,bM as oP,bN as lP,bO as sr,bP as cP,bQ as uP,bR as dP,bS as fP,bT as hP,bU as pP,bV as Im,bW as fc,bX as mP,bY as CS,bZ as kS}from"./mui-BvLivsgF.js";import{d as gP,e as yP,g as WC,a as Ma,r as x}from"./vendor-B0qVADJY.js";import{r as Vd,_ as Bd,C as zd,a as Rg,E as NC,o as _g,F as xP,d as Xp,g as bP,v as vP,i as SP,b as wP,c as LC,e as CP,f as kP,h as TP,j as VC,k as BC,s as jP,l as DP,m as EP,n as MP,p as AP,q as PP,t as OP,u as RP,w as _P}from"./firebase-CJdh_2FN.js";import{C as IP,a as WP,L as NP,P as LP,b as VP,p as BP,c as zP,d as FP,i as HP,e as UP}from"./charts-C1a6l8UB.js";var Q9=h2((Cs,ks)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function s(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=s(l);fetch(l.href,u)}})();var Zp={exports:{}},Xl={},Jp={exports:{}},em={};var TS;function qP(){return TS||(TS=1,(function(e){function t(z,q){var ae=z.length;z.push(q);e:for(;0<ae;){var fe=ae-1>>>1,Z=z[fe];if(0<l(Z,q))z[fe]=q,z[ae]=Z,ae=fe;else break e}}function s(z){return z.length===0?null:z[0]}function a(z){if(z.length===0)return null;var q=z[0],ae=z.pop();if(ae!==q){z[0]=ae;e:for(var fe=0,Z=z.length,J=Z>>>1;fe<J;){var X=2*(fe+1)-1,ie=z[X],oe=X+1,Me=z[oe];if(0>l(ie,ae))oe<Z&&0>l(Me,ie)?(z[fe]=Me,z[oe]=ae,fe=oe):(z[fe]=ie,z[X]=ae,fe=X);else if(oe<Z&&0>l(Me,ae))z[fe]=Me,z[oe]=ae,fe=oe;else break e}}return q}function l(z,q){var ae=z.sortIndex-q.sortIndex;return ae!==0?ae:z.id-q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var d=Date,f=d.now();e.unstable_now=function(){return d.now()-f}}var p=[],g=[],y=1,v=null,b=3,S=!1,j=!1,T=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function _(z){for(var q=s(g);q!==null;){if(q.callback===null)a(g);else if(q.startTime<=z)a(g),q.sortIndex=q.expirationTime,t(p,q);else break;q=s(g)}}function P(z){if(T=!1,_(z),!j)if(s(p)!==null)j=!0,M||(M=!0,L());else{var q=s(g);q!==null&&Q(P,q.startTime-z)}}var M=!1,R=-1,N=5,W=-1;function U(){return w?!0:!(e.unstable_now()-W<N)}function B(){if(w=!1,M){var z=e.unstable_now();W=z;var q=!0;try{e:{j=!1,T&&(T=!1,D(R),R=-1),S=!0;var ae=b;try{t:{for(_(z),v=s(p);v!==null&&!(v.expirationTime>z&&U());){var fe=v.callback;if(typeof fe=="function"){v.callback=null,b=v.priorityLevel;var Z=fe(v.expirationTime<=z);if(z=e.unstable_now(),typeof Z=="function"){v.callback=Z,_(z),q=!0;break t}v===s(p)&&a(p),_(z)}else a(p);v=s(p)}if(v!==null)q=!0;else{var J=s(g);J!==null&&Q(P,J.startTime-z),q=!1}}break e}finally{v=null,b=ae,S=!1}q=void 0}}finally{q?L():M=!1}}}var L;if(typeof A=="function")L=function(){A(B)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,H=ce.port2;ce.port1.onmessage=B,L=function(){H.postMessage(null)}}else L=function(){k(B,0)};function Q(z,q){R=k(function(){z(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(z){switch(b){case 1:case 2:case 3:var q=3;break;default:q=b}var ae=b;b=q;try{return z()}finally{b=ae}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(z,q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ae=b;b=z;try{return q()}finally{b=ae}},e.unstable_scheduleCallback=function(z,q,ae){var fe=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?fe+ae:fe):ae=fe,z){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ae+Z,z={id:y++,callback:q,priorityLevel:z,startTime:ae,expirationTime:Z,sortIndex:-1},ae>fe?(z.sortIndex=ae,t(g,z),s(p)===null&&z===s(g)&&(T?(D(R),R=-1):T=!0,Q(P,ae-fe))):(z.sortIndex=Z,t(p,z),j||S||(j=!0,M||(M=!0,L()))),z},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(z){var q=b;return function(){var ae=b;b=q;try{return z.apply(this,arguments)}finally{b=ae}}}})(em)),em}var jS;function YP(){return jS||(jS=1,Jp.exports=qP()),Jp.exports}var DS;function GP(){if(DS)return Xl;DS=1;var e=YP(),t=gP(),s=yP();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,o=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(o=i.return),n=i.return;while(n)}return i.tag===3?o:null}function d(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function f(n){if(n.tag===31){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function p(n){if(u(n)!==n)throw Error(a(188))}function g(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(a(188));return i!==n?null:n}for(var o=n,c=i;;){var h=o.return;if(h===null)break;var m=h.alternate;if(m===null){if(c=h.return,c!==null){o=c;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===o)return p(h),n;if(m===c)return p(h),i;m=m.sibling}throw Error(a(188))}if(o.return!==c.return)o=h,c=m;else{for(var C=!1,O=h.child;O;){if(O===o){C=!0,o=h,c=m;break}if(O===c){C=!0,c=h,o=m;break}O=O.sibling}if(!C){for(O=m.child;O;){if(O===o){C=!0,o=m,c=h;break}if(O===c){C=!0,c=m,o=h;break}O=O.sibling}if(!C)throw Error(a(189))}}if(o.alternate!==c)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?n:i}function y(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=y(n),i!==null)return i;n=n.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),A=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function L(n){return n===null||typeof n!="object"?null:(n=B&&n[B]||n["@@iterator"],typeof n=="function"?n:null)}var ce=Symbol.for("react.client.reference");function H(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ce?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case T:return"Fragment";case k:return"Profiler";case w:return"StrictMode";case P:return"Suspense";case M:return"SuspenseList";case W:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case j:return"Portal";case A:return n.displayName||"Context";case D:return(n._context.displayName||"Context")+".Consumer";case _:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case R:return i=n.displayName||null,i!==null?i:H(n.type)||"Memo";case N:i=n._payload,n=n._init;try{return H(n(i))}catch{}}return null}var Q=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},fe=[],Z=-1;function J(n){return{current:n}}function X(n){0>Z||(n.current=fe[Z],fe[Z]=null,Z--)}function ie(n,i){Z++,fe[Z]=n.current,n.current=i}var oe=J(null),Me=J(null),De=J(null),Ne=J(null);function ue(n,i){switch(ie(De,i),ie(Me,n),ie(oe,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?Bv(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=Bv(i),n=zv(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}X(oe),ie(oe,n)}function we(){X(oe),X(Me),X(De)}function be(n){n.memoizedState!==null&&ie(Ne,n);var i=oe.current,o=zv(i,n.type);i!==o&&(ie(Me,n),ie(oe,o))}function ve(n){Me.current===n&&(X(oe),X(Me)),Ne.current===n&&(X(Ne),Gl._currentValue=ae)}var Oe,He;function Se(n){if(Oe===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Oe=i&&i[1]||"",He=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oe+n+He}var Ue=!1;function le(n,i){if(!n||Ue)return"";Ue=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(re){var se=re}Reflect.construct(n,[],me)}else{try{me.call()}catch(re){se=re}n.call(me.prototype)}}else{try{throw Error()}catch(re){se=re}(me=n())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(re){if(re&&se&&typeof re.stack=="string")return[re.stack,se.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),C=m[0],O=m[1];if(C&&O){var F=C.split(`
`),te=O.split(`
`);for(h=c=0;c<F.length&&!F[c].includes("DetermineComponentFrameRoot");)c++;for(;h<te.length&&!te[h].includes("DetermineComponentFrameRoot");)h++;if(c===F.length||h===te.length)for(c=F.length-1,h=te.length-1;1<=c&&0<=h&&F[c]!==te[h];)h--;for(;1<=c&&0<=h;c--,h--)if(F[c]!==te[h]){if(c!==1||h!==1)do if(c--,h--,0>h||F[c]!==te[h]){var de=`
`+F[c].replace(" at new "," at ");return n.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",n.displayName)),de}while(1<=c&&0<=h);break}}}finally{Ue=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Se(o):""}function ne(n,i){switch(n.tag){case 26:case 27:case 5:return Se(n.type);case 16:return Se("Lazy");case 13:return n.child!==i&&i!==null?Se("Suspense Fallback"):Se("Suspense");case 19:return Se("SuspenseList");case 0:case 15:return le(n.type,!1);case 11:return le(n.type.render,!1);case 1:return le(n.type,!0);case 31:return Se("Activity");default:return""}}function Le(n){try{var i="",o=null;do i+=ne(n,o),o=n,n=n.return;while(n);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Ee=Object.prototype.hasOwnProperty,ge=e.unstable_scheduleCallback,_e=e.unstable_cancelCallback,G=e.unstable_shouldYield,ye=e.unstable_requestPaint,ke=e.unstable_now,Ce=e.unstable_getCurrentPriorityLevel,We=e.unstable_ImmediatePriority,ze=e.unstable_UserBlockingPriority,dt=e.unstable_NormalPriority,qe=e.unstable_LowPriority,Xe=e.unstable_IdlePriority,xe=e.log,Te=e.unstable_setDisableYieldValue,Ie=null,Ae=null;function Ye(n){if(typeof xe=="function"&&Te(n),Ae&&typeof Ae.setStrictMode=="function")try{Ae.setStrictMode(Ie,n)}catch{}}var lt=Math.clz32?Math.clz32:Ht,nt=Math.log,wt=Math.LN2;function Ht(n){return n>>>=0,n===0?32:31-(nt(n)/wt|0)|0}var on=256,Gn=262144,ht=4194304;function Ts(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Zi(n,i,o){var c=n.pendingLanes;if(c===0)return 0;var h=0,m=n.suspendedLanes,C=n.pingedLanes;n=n.warmLanes;var O=c&134217727;return O!==0?(c=O&~m,c!==0?h=Ts(c):(C&=O,C!==0?h=Ts(C):o||(o=O&~n,o!==0&&(h=Ts(o))))):(O=c&~m,O!==0?h=Ts(O):C!==0?h=Ts(C):o||(o=c&~n,o!==0&&(h=Ts(o)))),h===0?0:i!==0&&i!==h&&(i&m)===0&&(m=h&-h,o=i&-i,m>=o||m===32&&(o&4194048)!==0)?i:h}function gi(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function ol(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ln(){var n=ht;return ht<<=1,(ht&62914560)===0&&(ht=4194304),n}function ts(n){for(var i=[],o=0;31>o;o++)i.push(n);return i}function yi(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function zf(n,i,o,c,h,m){var C=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var O=n.entanglements,F=n.expirationTimes,te=n.hiddenUpdates;for(o=C&~o;0<o;){var de=31-lt(o),me=1<<de;O[de]=0,F[de]=-1;var se=te[de];if(se!==null)for(te[de]=null,de=0;de<se.length;de++){var re=se[de];re!==null&&(re.lane&=-536870913)}o&=~me}c!==0&&Ir(n,c,0),m!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=m&~(C&~i))}function Ir(n,i,o){n.pendingLanes|=i,n.suspendedLanes&=~i;var c=31-lt(i);n.entangledLanes|=i,n.entanglements[c]=n.entanglements[c]|1073741824|o&261930}function Wr(n,i){var o=n.entangledLanes|=i;for(n=n.entanglements;o;){var c=31-lt(o),h=1<<c;h&i|n[c]&i&&(n[c]|=i),o&=~h}}function ru(n,i){var o=i&-i;return o=(o&42)!==0?1:he(o),(o&(n.suspendedLanes|i))!==0?0:o}function he(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Pe(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function tn(){var n=q.p;return n!==0?n:(n=window.event,n===void 0?32:uS(n.type))}function ei(n,i){var o=q.p;try{return q.p=n,i()}finally{q.p=o}}var Wn=Math.random().toString(36).slice(2),Nn="__reactFiber$"+Wn,ns="__reactProps$"+Wn,Nr="__reactContainer$"+Wn,Ff="__reactEvents$"+Wn,nM="__reactListeners$"+Wn,sM="__reactHandles$"+Wn,Dx="__reactResources$"+Wn,ll="__reactMarker$"+Wn;function Hf(n){delete n[Nn],delete n[ns],delete n[Ff],delete n[nM],delete n[sM]}function Lr(n){var i=n[Nn];if(i)return i;for(var o=n.parentNode;o;){if(i=o[Nr]||o[Nn]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(n=$v(n);n!==null;){if(o=n[Nn])return o;n=$v(n)}return i}n=o,o=n.parentNode}return null}function Vr(n){if(n=n[Nn]||n[Nr]){var i=n.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return n}return null}function cl(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function Br(n){var i=n[Dx];return i||(i=n[Dx]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Rn(n){n[ll]=!0}var Ex=new Set,Mx={};function Ba(n,i){zr(n,i),zr(n+"Capture",i)}function zr(n,i){for(Mx[n]=i,n=0;n<i.length;n++)Ex.add(i[n])}var iM=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ax={},Px={};function aM(n){return Ee.call(Px,n)?!0:Ee.call(Ax,n)?!1:iM.test(n)?Px[n]=!0:(Ax[n]=!0,!1)}function ou(n,i,o){if(aM(i))if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+o)}}function lu(n,i,o){if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+o)}}function xi(n,i,o,c){if(c===null)n.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(i,o,""+c)}}function js(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ox(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function rM(n,i,o){var c=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);if(!n.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var h=c.get,m=c.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return h.call(this)},set:function(C){o=""+C,m.call(this,C)}}),Object.defineProperty(n,i,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(C){o=""+C},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Uf(n){if(!n._valueTracker){var i=Ox(n)?"checked":"value";n._valueTracker=rM(n,i,""+n[i])}}function Rx(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return n&&(c=Ox(n)?n.checked?"true":"false":n.value),n=c,n!==o?(i.setValue(n),!0):!1}function cu(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var oM=/[\n"\\]/g;function Ds(n){return n.replace(oM,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function qf(n,i,o,c,h,m,C,O){n.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.type=C:n.removeAttribute("type"),i!=null?C==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+js(i)):n.value!==""+js(i)&&(n.value=""+js(i)):C!=="submit"&&C!=="reset"||n.removeAttribute("value"),i!=null?Yf(n,C,js(i)):o!=null?Yf(n,C,js(o)):c!=null&&n.removeAttribute("value"),h==null&&m!=null&&(n.defaultChecked=!!m),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?n.name=""+js(O):n.removeAttribute("name")}function _x(n,i,o,c,h,m,C,O){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){Uf(n);return}o=o!=null?""+js(o):"",i=i!=null?""+js(i):o,O||i===n.value||(n.value=i),n.defaultValue=i}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=O?n.checked:!!c,n.defaultChecked=!!c,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(n.name=C),Uf(n)}function Yf(n,i,o){i==="number"&&cu(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Fr(n,i,o,c){if(n=n.options,i){i={};for(var h=0;h<o.length;h++)i["$"+o[h]]=!0;for(o=0;o<n.length;o++)h=i.hasOwnProperty("$"+n[o].value),n[o].selected!==h&&(n[o].selected=h),h&&c&&(n[o].defaultSelected=!0)}else{for(o=""+js(o),i=null,h=0;h<n.length;h++){if(n[h].value===o){n[h].selected=!0,c&&(n[h].defaultSelected=!0);return}i!==null||n[h].disabled||(i=n[h])}i!==null&&(i.selected=!0)}}function Ix(n,i,o){if(i!=null&&(i=""+js(i),i!==n.value&&(n.value=i),o==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=o!=null?""+js(o):""}function Wx(n,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(a(92));if(Q(c)){if(1<c.length)throw Error(a(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=js(i),n.defaultValue=o,c=n.textContent,c===o&&c!==""&&c!==null&&(n.value=c),Uf(n)}function Hr(n,i){if(i){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=i;return}}n.textContent=i}var lM=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nx(n,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":c?n.setProperty(i,o):typeof o!="number"||o===0||lM.has(i)?i==="float"?n.cssFloat=o:n[i]=(""+o).trim():n[i]=o+"px"}function Lx(n,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var h in i)c=i[h],i.hasOwnProperty(h)&&o[h]!==c&&Nx(n,h,c)}else for(var m in i)i.hasOwnProperty(m)&&Nx(n,m,i[m])}function Gf(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uu(n){return uM.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function bi(){}var $f=null;function Kf(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ur=null,qr=null;function Vx(n){var i=Vr(n);if(i&&(n=i.stateNode)){var o=n[ns]||null;e:switch(n=i.stateNode,i.type){case"input":if(qf(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ds(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==n&&c.form===n.form){var h=c[ns]||null;if(!h)throw Error(a(90));qf(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===n.form&&Rx(c)}break e;case"textarea":Ix(n,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&Fr(n,!!o.multiple,i,!1)}}}var Qf=!1;function Bx(n,i,o){if(Qf)return n(i,o);Qf=!0;try{var c=n(i);return c}finally{if(Qf=!1,(Ur!==null||qr!==null)&&(Xu(),Ur&&(i=Ur,n=qr,qr=Ur=null,Vx(i),n)))for(i=0;i<n.length;i++)Vx(n[i])}}function ul(n,i){var o=n.stateNode;if(o===null)return null;var c=o[ns]||null;if(c===null)return null;o=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xf=!1;if(vi)try{var dl={};Object.defineProperty(dl,"passive",{get:function(){Xf=!0}}),window.addEventListener("test",dl,dl),window.removeEventListener("test",dl,dl)}catch{Xf=!1}var Ji=null,Zf=null,du=null;function zx(){if(du)return du;var n,i=Zf,o=i.length,c,h="value"in Ji?Ji.value:Ji.textContent,m=h.length;for(n=0;n<o&&i[n]===h[n];n++);var C=o-n;for(c=1;c<=C&&i[o-c]===h[m-c];c++);return du=h.slice(n,1<c?1-c:void 0)}function fu(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function hu(){return!0}function Fx(){return!1}function ss(n){function i(o,c,h,m,C){this._reactName=o,this._targetInst=h,this.type=c,this.nativeEvent=m,this.target=C,this.currentTarget=null;for(var O in n)n.hasOwnProperty(O)&&(o=n[O],this[O]=o?o(m):m[O]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?hu:Fx,this.isPropagationStopped=Fx,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=hu)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=hu)},persist:function(){},isPersistent:hu}),i}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pu=ss(za),fl=v({},za,{view:0,detail:0}),dM=ss(fl),Jf,eh,hl,mu=v({},fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nh,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==hl&&(hl&&n.type==="mousemove"?(Jf=n.screenX-hl.screenX,eh=n.screenY-hl.screenY):eh=Jf=0,hl=n),Jf)},movementY:function(n){return"movementY"in n?n.movementY:eh}}),Hx=ss(mu),fM=v({},mu,{dataTransfer:0}),hM=ss(fM),pM=v({},fl,{relatedTarget:0}),th=ss(pM),mM=v({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),gM=ss(mM),yM=v({},za,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),xM=ss(yM),bM=v({},za,{data:0}),Ux=ss(bM),vM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CM(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=wM[n])?!!i[n]:!1}function nh(){return CM}var kM=v({},fl,{key:function(n){if(n.key){var i=vM[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=fu(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?SM[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nh,charCode:function(n){return n.type==="keypress"?fu(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?fu(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),TM=ss(kM),jM=v({},mu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qx=ss(jM),DM=v({},fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nh}),EM=ss(DM),MM=v({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),AM=ss(MM),PM=v({},mu,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),OM=ss(PM),RM=v({},za,{newState:0,oldState:0}),_M=ss(RM),IM=[9,13,27,32],sh=vi&&"CompositionEvent"in window,pl=null;vi&&"documentMode"in document&&(pl=document.documentMode);var WM=vi&&"TextEvent"in window&&!pl,Yx=vi&&(!sh||pl&&8<pl&&11>=pl),Gx=" ",$x=!1;function Kx(n,i){switch(n){case"keyup":return IM.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qx(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Yr=!1;function NM(n,i){switch(n){case"compositionend":return Qx(i);case"keypress":return i.which!==32?null:($x=!0,Gx);case"textInput":return n=i.data,n===Gx&&$x?null:n;default:return null}}function LM(n,i){if(Yr)return n==="compositionend"||!sh&&Kx(n,i)?(n=zx(),du=Zf=Ji=null,Yr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Yx&&i.locale!=="ko"?null:i.data;default:return null}}var VM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xx(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!VM[n.type]:i==="textarea"}function Zx(n,i,o,c){Ur?qr?qr.push(c):qr=[c]:Ur=c,i=id(i,"onChange"),0<i.length&&(o=new pu("onChange","change",null,o,c),n.push({event:o,listeners:i}))}var ml=null,gl=null;function BM(n){_v(n,0)}function gu(n){var i=cl(n);if(Rx(i))return n}function Jx(n,i){if(n==="change")return i}var e0=!1;if(vi){var ih;if(vi){var ah="oninput"in document;if(!ah){var t0=document.createElement("div");t0.setAttribute("oninput","return;"),ah=typeof t0.oninput=="function"}ih=ah}else ih=!1;e0=ih&&(!document.documentMode||9<document.documentMode)}function n0(){ml&&(ml.detachEvent("onpropertychange",s0),gl=ml=null)}function s0(n){if(n.propertyName==="value"&&gu(gl)){var i=[];Zx(i,gl,n,Kf(n)),Bx(BM,i)}}function zM(n,i,o){n==="focusin"?(n0(),ml=i,gl=o,ml.attachEvent("onpropertychange",s0)):n==="focusout"&&n0()}function FM(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return gu(gl)}function HM(n,i){if(n==="click")return gu(i)}function UM(n,i){if(n==="input"||n==="change")return gu(i)}function qM(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var ps=typeof Object.is=="function"?Object.is:qM;function yl(n,i){if(ps(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var o=Object.keys(n),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var h=o[c];if(!Ee.call(i,h)||!ps(n[h],i[h]))return!1}return!0}function i0(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function a0(n,i){var o=i0(n);n=0;for(var c;o;){if(o.nodeType===3){if(c=n+o.textContent.length,n<=i&&c>=i)return{node:o,offset:i-n};n=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=i0(o)}}function r0(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?r0(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function o0(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=cu(n.document);i instanceof n.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)n=i.contentWindow;else break;i=cu(n.document)}return i}function rh(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var YM=vi&&"documentMode"in document&&11>=document.documentMode,Gr=null,oh=null,xl=null,lh=!1;function l0(n,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;lh||Gr==null||Gr!==cu(c)||(c=Gr,"selectionStart"in c&&rh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),xl&&yl(xl,c)||(xl=c,c=id(oh,"onSelect"),0<c.length&&(i=new pu("onSelect","select",null,i,o),n.push({event:i,listeners:c}),i.target=Gr)))}function Fa(n,i){var o={};return o[n.toLowerCase()]=i.toLowerCase(),o["Webkit"+n]="webkit"+i,o["Moz"+n]="moz"+i,o}var $r={animationend:Fa("Animation","AnimationEnd"),animationiteration:Fa("Animation","AnimationIteration"),animationstart:Fa("Animation","AnimationStart"),transitionrun:Fa("Transition","TransitionRun"),transitionstart:Fa("Transition","TransitionStart"),transitioncancel:Fa("Transition","TransitionCancel"),transitionend:Fa("Transition","TransitionEnd")},ch={},c0={};vi&&(c0=document.createElement("div").style,"AnimationEvent"in window||(delete $r.animationend.animation,delete $r.animationiteration.animation,delete $r.animationstart.animation),"TransitionEvent"in window||delete $r.transitionend.transition);function Ha(n){if(ch[n])return ch[n];if(!$r[n])return n;var i=$r[n],o;for(o in i)if(i.hasOwnProperty(o)&&o in c0)return ch[n]=i[o];return n}var u0=Ha("animationend"),d0=Ha("animationiteration"),f0=Ha("animationstart"),GM=Ha("transitionrun"),$M=Ha("transitionstart"),KM=Ha("transitioncancel"),h0=Ha("transitionend"),p0=new Map,uh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uh.push("scrollEnd");function Hs(n,i){p0.set(n,i),Ba(i,[n])}var yu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Es=[],Kr=0,dh=0;function xu(){for(var n=Kr,i=dh=Kr=0;i<n;){var o=Es[i];Es[i++]=null;var c=Es[i];Es[i++]=null;var h=Es[i];Es[i++]=null;var m=Es[i];if(Es[i++]=null,c!==null&&h!==null){var C=c.pending;C===null?h.next=h:(h.next=C.next,C.next=h),c.pending=h}m!==0&&m0(o,h,m)}}function bu(n,i,o,c){Es[Kr++]=n,Es[Kr++]=i,Es[Kr++]=o,Es[Kr++]=c,dh|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function fh(n,i,o,c){return bu(n,i,o,c),vu(n)}function Ua(n,i){return bu(n,null,null,i),vu(n)}function m0(n,i,o){n.lanes|=o;var c=n.alternate;c!==null&&(c.lanes|=o);for(var h=!1,m=n.return;m!==null;)m.childLanes|=o,c=m.alternate,c!==null&&(c.childLanes|=o),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(h=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,h&&i!==null&&(h=31-lt(o),n=m.hiddenUpdates,c=n[h],c===null?n[h]=[i]:c.push(i),i.lane=o|536870912),m):null}function vu(n){if(50<Bl)throw Bl=0,Sp=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Qr={};function QM(n,i,o,c){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ms(n,i,o,c){return new QM(n,i,o,c)}function hh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Si(n,i){var o=n.alternate;return o===null?(o=ms(n.tag,i,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=i,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,i=n.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function g0(n,i){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Su(n,i,o,c,h,m){var C=0;if(c=n,typeof n=="function")hh(n)&&(C=1);else if(typeof n=="string")C=t2(n,o,oe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case W:return n=ms(31,o,i,h),n.elementType=W,n.lanes=m,n;case T:return qa(o.children,h,m,i);case w:C=8,h|=24;break;case k:return n=ms(12,o,i,h|2),n.elementType=k,n.lanes=m,n;case P:return n=ms(13,o,i,h),n.elementType=P,n.lanes=m,n;case M:return n=ms(19,o,i,h),n.elementType=M,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case A:C=10;break e;case D:C=9;break e;case _:C=11;break e;case R:C=14;break e;case N:C=16,c=null;break e}C=29,o=Error(a(130,n===null?"null":typeof n,"")),c=null}return i=ms(C,o,i,h),i.elementType=n,i.type=c,i.lanes=m,i}function qa(n,i,o,c){return n=ms(7,n,c,i),n.lanes=o,n}function ph(n,i,o){return n=ms(6,n,null,i),n.lanes=o,n}function y0(n){var i=ms(18,null,null,0);return i.stateNode=n,i}function mh(n,i,o){return i=ms(4,n.children!==null?n.children:[],n.key,i),i.lanes=o,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var x0=new WeakMap;function Ms(n,i){if(typeof n=="object"&&n!==null){var o=x0.get(n);return o!==void 0?o:(i={value:n,source:i,stack:Le(i)},x0.set(n,i),i)}return{value:n,source:i,stack:Le(i)}}var Xr=[],Zr=0,wu=null,bl=0,As=[],Ps=0,ea=null,ti=1,ni="";function wi(n,i){Xr[Zr++]=bl,Xr[Zr++]=wu,wu=n,bl=i}function b0(n,i,o){As[Ps++]=ti,As[Ps++]=ni,As[Ps++]=ea,ea=n;var c=ti;n=ni;var h=32-lt(c)-1;c&=~(1<<h),o+=1;var m=32-lt(i)+h;if(30<m){var C=h-h%5;m=(c&(1<<C)-1).toString(32),c>>=C,h-=C,ti=1<<32-lt(i)+h|o<<h|c,ni=m+n}else ti=1<<m|o<<h|c,ni=n}function gh(n){n.return!==null&&(wi(n,1),b0(n,1,0))}function yh(n){for(;n===wu;)wu=Xr[--Zr],Xr[Zr]=null,bl=Xr[--Zr],Xr[Zr]=null;for(;n===ea;)ea=As[--Ps],As[Ps]=null,ni=As[--Ps],As[Ps]=null,ti=As[--Ps],As[Ps]=null}function v0(n,i){As[Ps++]=ti,As[Ps++]=ni,As[Ps++]=ea,ti=i.id,ni=i.overflow,ea=n}var Ln=null,qt=null,Ct=!1,ta=null,Os=!1,xh=Error(a(519));function na(n){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vl(Ms(i,n)),xh}function S0(n){var i=n.stateNode,o=n.type,c=n.memoizedProps;switch(i[Nn]=n,i[ns]=c,o){case"dialog":bt("cancel",i),bt("close",i);break;case"iframe":case"object":case"embed":bt("load",i);break;case"video":case"audio":for(o=0;o<Fl.length;o++)bt(Fl[o],i);break;case"source":bt("error",i);break;case"img":case"image":case"link":bt("error",i),bt("load",i);break;case"details":bt("toggle",i);break;case"input":bt("invalid",i),_x(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":bt("invalid",i);break;case"textarea":bt("invalid",i),Wx(i,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||Lv(i.textContent,o)?(c.popover!=null&&(bt("beforetoggle",i),bt("toggle",i)),c.onScroll!=null&&bt("scroll",i),c.onScrollEnd!=null&&bt("scrollend",i),c.onClick!=null&&(i.onclick=bi),i=!0):i=!1,i||na(n,!0)}function w0(n){for(Ln=n.return;Ln;)switch(Ln.tag){case 5:case 31:case 13:Os=!1;return;case 27:case 3:Os=!0;return;default:Ln=Ln.return}}function Jr(n){if(n!==Ln)return!1;if(!Ct)return w0(n),Ct=!0,!1;var i=n.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Wp(n.type,n.memoizedProps)),o=!o),o&&qt&&na(n),w0(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));qt=Gv(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));qt=Gv(n)}else i===27?(i=qt,ga(n.type)?(n=zp,zp=null,qt=n):qt=i):qt=Ln?_s(n.stateNode.nextSibling):null;return!0}function Ya(){qt=Ln=null,Ct=!1}function bh(){var n=ta;return n!==null&&(os===null?os=n:os.push.apply(os,n),ta=null),n}function vl(n){ta===null?ta=[n]:ta.push(n)}var vh=J(null),Ga=null,Ci=null;function sa(n,i,o){ie(vh,i._currentValue),i._currentValue=o}function ki(n){n._currentValue=vh.current,X(vh)}function Sh(n,i,o){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===o)break;n=n.return}}function wh(n,i,o,c){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var m=h.dependencies;if(m!==null){var C=h.child;m=m.firstContext;e:for(;m!==null;){var O=m;m=h;for(var F=0;F<i.length;F++)if(O.context===i[F]){m.lanes|=o,O=m.alternate,O!==null&&(O.lanes|=o),Sh(m.return,o,n),c||(C=null);break e}m=O.next}}else if(h.tag===18){if(C=h.return,C===null)throw Error(a(341));C.lanes|=o,m=C.alternate,m!==null&&(m.lanes|=o),Sh(C,o,n),C=null}else C=h.child;if(C!==null)C.return=h;else for(C=h;C!==null;){if(C===n){C=null;break}if(h=C.sibling,h!==null){h.return=C.return,C=h;break}C=C.return}h=C}}function eo(n,i,o,c){n=null;for(var h=i,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var C=h.alternate;if(C===null)throw Error(a(387));if(C=C.memoizedProps,C!==null){var O=h.type;ps(h.pendingProps.value,C.value)||(n!==null?n.push(O):n=[O])}}else if(h===Ne.current){if(C=h.alternate,C===null)throw Error(a(387));C.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(Gl):n=[Gl])}h=h.return}n!==null&&wh(i,n,o,c),i.flags|=262144}function Cu(n){for(n=n.firstContext;n!==null;){if(!ps(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function $a(n){Ga=n,Ci=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Vn(n){return C0(Ga,n)}function ku(n,i){return Ga===null&&$a(n),C0(n,i)}function C0(n,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Ci===null){if(n===null)throw Error(a(308));Ci=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Ci=Ci.next=i;return o}var XM=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(o,c){n.push(c)}};this.abort=function(){i.aborted=!0,n.forEach(function(o){return o()})}},ZM=e.unstable_scheduleCallback,JM=e.unstable_NormalPriority,vn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ch(){return{controller:new XM,data:new Map,refCount:0}}function Sl(n){n.refCount--,n.refCount===0&&ZM(JM,function(){n.controller.abort()})}var wl=null,kh=0,to=0,no=null;function eA(n,i){if(wl===null){var o=wl=[];kh=0,to=Dp(),no={status:"pending",value:void 0,then:function(c){o.push(c)}}}return kh++,i.then(k0,k0),i}function k0(){if(--kh===0&&wl!==null){no!==null&&(no.status="fulfilled");var n=wl;wl=null,to=0,no=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function tA(n,i){var o=[],c={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return n.then(function(){c.status="fulfilled",c.value=i;for(var h=0;h<o.length;h++)(0,o[h])(i)},function(h){for(c.status="rejected",c.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),c}var T0=z.S;z.S=function(n,i){lv=ke(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&eA(n,i),T0!==null&&T0(n,i)};var Ka=J(null);function Th(){var n=Ka.current;return n!==null?n:Bt.pooledCache}function Tu(n,i){i===null?ie(Ka,Ka.current):ie(Ka,i.pool)}function j0(){var n=Th();return n===null?null:{parent:vn._currentValue,pool:n}}var so=Error(a(460)),jh=Error(a(474)),ju=Error(a(542)),Du={then:function(){}};function D0(n){return n=n.status,n==="fulfilled"||n==="rejected"}function E0(n,i,o){switch(o=n[o],o===void 0?n.push(i):o!==i&&(i.then(bi,bi),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,A0(n),n;default:if(typeof i.status=="string")i.then(bi,bi);else{if(n=Bt,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(c){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=c}},function(c){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,A0(n),n}throw Xa=i,so}}function Qa(n){try{var i=n._init;return i(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Xa=o,so):o}}var Xa=null;function M0(){if(Xa===null)throw Error(a(459));var n=Xa;return Xa=null,n}function A0(n){if(n===so||n===ju)throw Error(a(483))}var io=null,Cl=0;function Eu(n){var i=Cl;return Cl+=1,io===null&&(io=[]),E0(io,n,i)}function kl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Mu(n,i){throw i.$$typeof===b?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function P0(n){function i(K,Y){if(n){var ee=K.deletions;ee===null?(K.deletions=[Y],K.flags|=16):ee.push(Y)}}function o(K,Y){if(!n)return null;for(;Y!==null;)i(K,Y),Y=Y.sibling;return null}function c(K){for(var Y=new Map;K!==null;)K.key!==null?Y.set(K.key,K):Y.set(K.index,K),K=K.sibling;return Y}function h(K,Y){return K=Si(K,Y),K.index=0,K.sibling=null,K}function m(K,Y,ee){return K.index=ee,n?(ee=K.alternate,ee!==null?(ee=ee.index,ee<Y?(K.flags|=67108866,Y):ee):(K.flags|=67108866,Y)):(K.flags|=1048576,Y)}function C(K){return n&&K.alternate===null&&(K.flags|=67108866),K}function O(K,Y,ee,pe){return Y===null||Y.tag!==6?(Y=ph(ee,K.mode,pe),Y.return=K,Y):(Y=h(Y,ee),Y.return=K,Y)}function F(K,Y,ee,pe){var Ze=ee.type;return Ze===T?de(K,Y,ee.props.children,pe,ee.key):Y!==null&&(Y.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===N&&Qa(Ze)===Y.type)?(Y=h(Y,ee.props),kl(Y,ee),Y.return=K,Y):(Y=Su(ee.type,ee.key,ee.props,null,K.mode,pe),kl(Y,ee),Y.return=K,Y)}function te(K,Y,ee,pe){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ee.containerInfo||Y.stateNode.implementation!==ee.implementation?(Y=mh(ee,K.mode,pe),Y.return=K,Y):(Y=h(Y,ee.children||[]),Y.return=K,Y)}function de(K,Y,ee,pe,Ze){return Y===null||Y.tag!==7?(Y=qa(ee,K.mode,pe,Ze),Y.return=K,Y):(Y=h(Y,ee),Y.return=K,Y)}function me(K,Y,ee){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=ph(""+Y,K.mode,ee),Y.return=K,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:return ee=Su(Y.type,Y.key,Y.props,null,K.mode,ee),kl(ee,Y),ee.return=K,ee;case j:return Y=mh(Y,K.mode,ee),Y.return=K,Y;case N:return Y=Qa(Y),me(K,Y,ee)}if(Q(Y)||L(Y))return Y=qa(Y,K.mode,ee,null),Y.return=K,Y;if(typeof Y.then=="function")return me(K,Eu(Y),ee);if(Y.$$typeof===A)return me(K,ku(K,Y),ee);Mu(K,Y)}return null}function se(K,Y,ee,pe){var Ze=Y!==null?Y.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Ze!==null?null:O(K,Y,""+ee,pe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case S:return ee.key===Ze?F(K,Y,ee,pe):null;case j:return ee.key===Ze?te(K,Y,ee,pe):null;case N:return ee=Qa(ee),se(K,Y,ee,pe)}if(Q(ee)||L(ee))return Ze!==null?null:de(K,Y,ee,pe,null);if(typeof ee.then=="function")return se(K,Y,Eu(ee),pe);if(ee.$$typeof===A)return se(K,Y,ku(K,ee),pe);Mu(K,ee)}return null}function re(K,Y,ee,pe,Ze){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return K=K.get(ee)||null,O(Y,K,""+pe,Ze);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case S:return K=K.get(pe.key===null?ee:pe.key)||null,F(Y,K,pe,Ze);case j:return K=K.get(pe.key===null?ee:pe.key)||null,te(Y,K,pe,Ze);case N:return pe=Qa(pe),re(K,Y,ee,pe,Ze)}if(Q(pe)||L(pe))return K=K.get(ee)||null,de(Y,K,pe,Ze,null);if(typeof pe.then=="function")return re(K,Y,ee,Eu(pe),Ze);if(pe.$$typeof===A)return re(K,Y,ee,ku(Y,pe),Ze);Mu(Y,pe)}return null}function Fe(K,Y,ee,pe){for(var Ze=null,Dt=null,Ge=Y,gt=Y=0,St=null;Ge!==null&&gt<ee.length;gt++){Ge.index>gt?(St=Ge,Ge=null):St=Ge.sibling;var Et=se(K,Ge,ee[gt],pe);if(Et===null){Ge===null&&(Ge=St);break}n&&Ge&&Et.alternate===null&&i(K,Ge),Y=m(Et,Y,gt),Dt===null?Ze=Et:Dt.sibling=Et,Dt=Et,Ge=St}if(gt===ee.length)return o(K,Ge),Ct&&wi(K,gt),Ze;if(Ge===null){for(;gt<ee.length;gt++)Ge=me(K,ee[gt],pe),Ge!==null&&(Y=m(Ge,Y,gt),Dt===null?Ze=Ge:Dt.sibling=Ge,Dt=Ge);return Ct&&wi(K,gt),Ze}for(Ge=c(Ge);gt<ee.length;gt++)St=re(Ge,K,gt,ee[gt],pe),St!==null&&(n&&St.alternate!==null&&Ge.delete(St.key===null?gt:St.key),Y=m(St,Y,gt),Dt===null?Ze=St:Dt.sibling=St,Dt=St);return n&&Ge.forEach(function(Sa){return i(K,Sa)}),Ct&&wi(K,gt),Ze}function st(K,Y,ee,pe){if(ee==null)throw Error(a(151));for(var Ze=null,Dt=null,Ge=Y,gt=Y=0,St=null,Et=ee.next();Ge!==null&&!Et.done;gt++,Et=ee.next()){Ge.index>gt?(St=Ge,Ge=null):St=Ge.sibling;var Sa=se(K,Ge,Et.value,pe);if(Sa===null){Ge===null&&(Ge=St);break}n&&Ge&&Sa.alternate===null&&i(K,Ge),Y=m(Sa,Y,gt),Dt===null?Ze=Sa:Dt.sibling=Sa,Dt=Sa,Ge=St}if(Et.done)return o(K,Ge),Ct&&wi(K,gt),Ze;if(Ge===null){for(;!Et.done;gt++,Et=ee.next())Et=me(K,Et.value,pe),Et!==null&&(Y=m(Et,Y,gt),Dt===null?Ze=Et:Dt.sibling=Et,Dt=Et);return Ct&&wi(K,gt),Ze}for(Ge=c(Ge);!Et.done;gt++,Et=ee.next())Et=re(Ge,K,gt,Et.value,pe),Et!==null&&(n&&Et.alternate!==null&&Ge.delete(Et.key===null?gt:Et.key),Y=m(Et,Y,gt),Dt===null?Ze=Et:Dt.sibling=Et,Dt=Et);return n&&Ge.forEach(function(f2){return i(K,f2)}),Ct&&wi(K,gt),Ze}function Lt(K,Y,ee,pe){if(typeof ee=="object"&&ee!==null&&ee.type===T&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case S:e:{for(var Ze=ee.key;Y!==null;){if(Y.key===Ze){if(Ze=ee.type,Ze===T){if(Y.tag===7){o(K,Y.sibling),pe=h(Y,ee.props.children),pe.return=K,K=pe;break e}}else if(Y.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===N&&Qa(Ze)===Y.type){o(K,Y.sibling),pe=h(Y,ee.props),kl(pe,ee),pe.return=K,K=pe;break e}o(K,Y);break}else i(K,Y);Y=Y.sibling}ee.type===T?(pe=qa(ee.props.children,K.mode,pe,ee.key),pe.return=K,K=pe):(pe=Su(ee.type,ee.key,ee.props,null,K.mode,pe),kl(pe,ee),pe.return=K,K=pe)}return C(K);case j:e:{for(Ze=ee.key;Y!==null;){if(Y.key===Ze)if(Y.tag===4&&Y.stateNode.containerInfo===ee.containerInfo&&Y.stateNode.implementation===ee.implementation){o(K,Y.sibling),pe=h(Y,ee.children||[]),pe.return=K,K=pe;break e}else{o(K,Y);break}else i(K,Y);Y=Y.sibling}pe=mh(ee,K.mode,pe),pe.return=K,K=pe}return C(K);case N:return ee=Qa(ee),Lt(K,Y,ee,pe)}if(Q(ee))return Fe(K,Y,ee,pe);if(L(ee)){if(Ze=L(ee),typeof Ze!="function")throw Error(a(150));return ee=Ze.call(ee),st(K,Y,ee,pe)}if(typeof ee.then=="function")return Lt(K,Y,Eu(ee),pe);if(ee.$$typeof===A)return Lt(K,Y,ku(K,ee),pe);Mu(K,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,Y!==null&&Y.tag===6?(o(K,Y.sibling),pe=h(Y,ee),pe.return=K,K=pe):(o(K,Y),pe=ph(ee,K.mode,pe),pe.return=K,K=pe),C(K)):o(K,Y)}return function(K,Y,ee,pe){try{Cl=0;var Ze=Lt(K,Y,ee,pe);return io=null,Ze}catch(Ge){if(Ge===so||Ge===ju)throw Ge;var Dt=ms(29,Ge,null,K.mode);return Dt.lanes=pe,Dt.return=K,Dt}finally{}}}var Za=P0(!0),O0=P0(!1),ia=!1;function Dh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Eh(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function aa(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ra(n,i,o){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Mt&2)!==0){var h=c.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),c.pending=i,i=vu(n),m0(n,null,o),i}return bu(n,c,i,o),vu(n)}function Tl(n,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=n.pendingLanes,o|=c,i.lanes=o,Wr(n,o)}}function Mh(n,i){var o=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var h=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var C={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?h=m=C:m=m.next=C,o=o.next}while(o!==null);m===null?h=m=i:m=m.next=i}else h=m=i;o={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=i:n.next=i,o.lastBaseUpdate=i}var Ah=!1;function jl(){if(Ah){var n=no;if(n!==null)throw n}}function Dl(n,i,o,c){Ah=!1;var h=n.updateQueue;ia=!1;var m=h.firstBaseUpdate,C=h.lastBaseUpdate,O=h.shared.pending;if(O!==null){h.shared.pending=null;var F=O,te=F.next;F.next=null,C===null?m=te:C.next=te,C=F;var de=n.alternate;de!==null&&(de=de.updateQueue,O=de.lastBaseUpdate,O!==C&&(O===null?de.firstBaseUpdate=te:O.next=te,de.lastBaseUpdate=F))}if(m!==null){var me=h.baseState;C=0,de=te=F=null,O=m;do{var se=O.lane&-536870913,re=se!==O.lane;if(re?(vt&se)===se:(c&se)===se){se!==0&&se===to&&(Ah=!0),de!==null&&(de=de.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Fe=n,st=O;se=i;var Lt=o;switch(st.tag){case 1:if(Fe=st.payload,typeof Fe=="function"){me=Fe.call(Lt,me,se);break e}me=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=st.payload,se=typeof Fe=="function"?Fe.call(Lt,me,se):Fe,se==null)break e;me=v({},me,se);break e;case 2:ia=!0}}se=O.callback,se!==null&&(n.flags|=64,re&&(n.flags|=8192),re=h.callbacks,re===null?h.callbacks=[se]:re.push(se))}else re={lane:se,tag:O.tag,payload:O.payload,callback:O.callback,next:null},de===null?(te=de=re,F=me):de=de.next=re,C|=se;if(O=O.next,O===null){if(O=h.shared.pending,O===null)break;re=O,O=re.next,re.next=null,h.lastBaseUpdate=re,h.shared.pending=null}}while(!0);de===null&&(F=me),h.baseState=F,h.firstBaseUpdate=te,h.lastBaseUpdate=de,m===null&&(h.shared.lanes=0),da|=C,n.lanes=C,n.memoizedState=me}}function R0(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function _0(n,i){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)R0(o[n],i)}var ao=J(null),Au=J(0);function I0(n,i){n=Ri,ie(Au,n),ie(ao,i),Ri=n|i.baseLanes}function Ph(){ie(Au,Ri),ie(ao,ao.current)}function Oh(){Ri=Au.current,X(ao),X(Au)}var gs=J(null),Rs=null;function oa(n){var i=n.alternate;ie(pn,pn.current&1),ie(gs,n),Rs===null&&(i===null||ao.current!==null||i.memoizedState!==null)&&(Rs=n)}function Rh(n){ie(pn,pn.current),ie(gs,n),Rs===null&&(Rs=n)}function W0(n){n.tag===22?(ie(pn,pn.current),ie(gs,n),Rs===null&&(Rs=n)):la()}function la(){ie(pn,pn.current),ie(gs,gs.current)}function ys(n){X(gs),Rs===n&&(Rs=null),X(pn)}var pn=J(0);function Pu(n){for(var i=n;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Vp(o)||Bp(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ti=0,mt=null,Wt=null,Sn=null,Ou=!1,ro=!1,Ja=!1,Ru=0,El=0,oo=null,nA=0;function cn(){throw Error(a(321))}function _h(n,i){if(i===null)return!1;for(var o=0;o<i.length&&o<n.length;o++)if(!ps(n[o],i[o]))return!1;return!0}function Ih(n,i,o,c,h,m){return Ti=m,mt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,z.H=n===null||n.memoizedState===null?bb:Qh,Ja=!1,m=o(c,h),Ja=!1,ro&&(m=L0(i,o,c,h)),N0(n),m}function N0(n){z.H=Pl;var i=Wt!==null&&Wt.next!==null;if(Ti=0,Sn=Wt=mt=null,Ou=!1,El=0,oo=null,i)throw Error(a(300));n===null||wn||(n=n.dependencies,n!==null&&Cu(n)&&(wn=!0))}function L0(n,i,o,c){mt=n;var h=0;do{if(ro&&(oo=null),El=0,ro=!1,25<=h)throw Error(a(301));if(h+=1,Sn=Wt=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}z.H=vb,m=i(o,c)}while(ro);return m}function sA(){var n=z.H,i=n.useState()[0];return i=typeof i.then=="function"?Ml(i):i,n=n.useState()[0],(Wt!==null?Wt.memoizedState:null)!==n&&(mt.flags|=1024),i}function Wh(){var n=Ru!==0;return Ru=0,n}function Nh(n,i,o){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~o}function Lh(n){if(Ou){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ou=!1}Ti=0,Sn=Wt=mt=null,ro=!1,El=Ru=0,oo=null}function Kn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?mt.memoizedState=Sn=n:Sn=Sn.next=n,Sn}function mn(){if(Wt===null){var n=mt.alternate;n=n!==null?n.memoizedState:null}else n=Wt.next;var i=Sn===null?mt.memoizedState:Sn.next;if(i!==null)Sn=i,Wt=n;else{if(n===null)throw mt.alternate===null?Error(a(467)):Error(a(310));Wt=n,n={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Sn===null?mt.memoizedState=Sn=n:Sn=Sn.next=n}return Sn}function _u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ml(n){var i=El;return El+=1,oo===null&&(oo=[]),n=E0(oo,n,i),i=mt,(Sn===null?i.memoizedState:Sn.next)===null&&(i=i.alternate,z.H=i===null||i.memoizedState===null?bb:Qh),n}function Iu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ml(n);if(n.$$typeof===A)return Vn(n)}throw Error(a(438,String(n)))}function Vh(n){var i=null,o=mt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=mt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=_u(),mt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(n),c=0;c<n;c++)o[c]=U;return i.index++,o}function ji(n,i){return typeof i=="function"?i(n):i}function Wu(n){var i=mn();return Bh(i,Wt,n)}function Bh(n,i,o){var c=n.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=o;var h=n.baseQueue,m=c.pending;if(m!==null){if(h!==null){var C=h.next;h.next=m.next,m.next=C}i.baseQueue=h=m,c.pending=null}if(m=n.baseState,h===null)n.memoizedState=m;else{i=h.next;var O=C=null,F=null,te=i,de=!1;do{var me=te.lane&-536870913;if(me!==te.lane?(vt&me)===me:(Ti&me)===me){var se=te.revertLane;if(se===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),me===to&&(de=!0);else if((Ti&se)===se){te=te.next,se===to&&(de=!0);continue}else me={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},F===null?(O=F=me,C=m):F=F.next=me,mt.lanes|=se,da|=se;me=te.action,Ja&&o(m,me),m=te.hasEagerState?te.eagerState:o(m,me)}else se={lane:me,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},F===null?(O=F=se,C=m):F=F.next=se,mt.lanes|=me,da|=me;te=te.next}while(te!==null&&te!==i);if(F===null?C=m:F.next=O,!ps(m,n.memoizedState)&&(wn=!0,de&&(o=no,o!==null)))throw o;n.memoizedState=m,n.baseState=C,n.baseQueue=F,c.lastRenderedState=m}return h===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function zh(n){var i=mn(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=n;var c=o.dispatch,h=o.pending,m=i.memoizedState;if(h!==null){o.pending=null;var C=h=h.next;do m=n(m,C.action),C=C.next;while(C!==h);ps(m,i.memoizedState)||(wn=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),o.lastRenderedState=m}return[m,c]}function V0(n,i,o){var c=mt,h=mn(),m=Ct;if(m){if(o===void 0)throw Error(a(407));o=o()}else o=i();var C=!ps((Wt||h).memoizedState,o);if(C&&(h.memoizedState=o,wn=!0),h=h.queue,Uh(F0.bind(null,c,h,n),[n]),h.getSnapshot!==i||C||Sn!==null&&Sn.memoizedState.tag&1){if(c.flags|=2048,lo(9,{destroy:void 0},z0.bind(null,c,h,o,i),null),Bt===null)throw Error(a(349));m||(Ti&127)!==0||B0(c,i,o)}return o}function B0(n,i,o){n.flags|=16384,n={getSnapshot:i,value:o},i=mt.updateQueue,i===null?(i=_u(),mt.updateQueue=i,i.stores=[n]):(o=i.stores,o===null?i.stores=[n]:o.push(n))}function z0(n,i,o,c){i.value=o,i.getSnapshot=c,H0(i)&&U0(n)}function F0(n,i,o){return o(function(){H0(i)&&U0(n)})}function H0(n){var i=n.getSnapshot;n=n.value;try{var o=i();return!ps(n,o)}catch{return!0}}function U0(n){var i=Ua(n,2);i!==null&&ls(i,n,2)}function Fh(n){var i=Kn();if(typeof n=="function"){var o=n;if(n=o(),Ja){Ye(!0);try{o()}finally{Ye(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:n},i}function q0(n,i,o,c){return n.baseState=o,Bh(n,Wt,typeof c=="function"?c:ji)}function iA(n,i,o,c,h){if(Vu(n))throw Error(a(485));if(n=i.action,n!==null){var m={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){m.listeners.push(C)}};z.T!==null?o(!0):m.isTransition=!1,c(m),o=i.pending,o===null?(m.next=i.pending=m,Y0(i,m)):(m.next=o.next,i.pending=o.next=m)}}function Y0(n,i){var o=i.action,c=i.payload,h=n.state;if(i.isTransition){var m=z.T,C={};z.T=C;try{var O=o(h,c),F=z.S;F!==null&&F(C,O),G0(n,i,O)}catch(te){Hh(n,i,te)}finally{m!==null&&C.types!==null&&(m.types=C.types),z.T=m}}else try{m=o(h,c),G0(n,i,m)}catch(te){Hh(n,i,te)}}function G0(n,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){$0(n,i,c)},function(c){return Hh(n,i,c)}):$0(n,i,o)}function $0(n,i,o){i.status="fulfilled",i.value=o,K0(i),n.state=o,i=n.pending,i!==null&&(o=i.next,o===i?n.pending=null:(o=o.next,i.next=o,Y0(n,o)))}function Hh(n,i,o){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,K0(i),i=i.next;while(i!==c)}n.action=null}function K0(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Q0(n,i){return i}function X0(n,i){if(Ct){var o=Bt.formState;if(o!==null){e:{var c=mt;if(Ct){if(qt){t:{for(var h=qt,m=Os;h.nodeType!==8;){if(!m){h=null;break t}if(h=_s(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){qt=_s(h.nextSibling),c=h.data==="F!";break e}}na(c)}c=!1}c&&(i=o[0])}}return o=Kn(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Q0,lastRenderedState:i},o.queue=c,o=gb.bind(null,mt,c),c.dispatch=o,c=Fh(!1),m=Kh.bind(null,mt,!1,c.queue),c=Kn(),h={state:i,dispatch:null,action:n,pending:null},c.queue=h,o=iA.bind(null,mt,h,m,o),h.dispatch=o,c.memoizedState=n,[i,o,!1]}function Z0(n){var i=mn();return J0(i,Wt,n)}function J0(n,i,o){if(i=Bh(n,i,Q0)[0],n=Wu(ji)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Ml(i)}catch(C){throw C===so?ju:C}else c=i;i=mn();var h=i.queue,m=h.dispatch;return o!==i.memoizedState&&(mt.flags|=2048,lo(9,{destroy:void 0},aA.bind(null,h,o),null)),[c,m,n]}function aA(n,i){n.action=i}function eb(n){var i=mn(),o=Wt;if(o!==null)return J0(i,o,n);mn(),i=i.memoizedState,o=mn();var c=o.queue.dispatch;return o.memoizedState=n,[i,c,!1]}function lo(n,i,o,c){return n={tag:n,create:o,deps:c,inst:i,next:null},i=mt.updateQueue,i===null&&(i=_u(),mt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=n.next=n:(c=o.next,o.next=n,n.next=c,i.lastEffect=n),n}function tb(){return mn().memoizedState}function Nu(n,i,o,c){var h=Kn();mt.flags|=n,h.memoizedState=lo(1|i,{destroy:void 0},o,c===void 0?null:c)}function Lu(n,i,o,c){var h=mn();c=c===void 0?null:c;var m=h.memoizedState.inst;Wt!==null&&c!==null&&_h(c,Wt.memoizedState.deps)?h.memoizedState=lo(i,m,o,c):(mt.flags|=n,h.memoizedState=lo(1|i,m,o,c))}function nb(n,i){Nu(8390656,8,n,i)}function Uh(n,i){Lu(2048,8,n,i)}function rA(n){mt.flags|=4;var i=mt.updateQueue;if(i===null)i=_u(),mt.updateQueue=i,i.events=[n];else{var o=i.events;o===null?i.events=[n]:o.push(n)}}function sb(n){var i=mn().memoizedState;return rA({ref:i,nextImpl:n}),function(){if((Mt&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function ib(n,i){return Lu(4,2,n,i)}function ab(n,i){return Lu(4,4,n,i)}function rb(n,i){if(typeof i=="function"){n=n();var o=i(n);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function ob(n,i,o){o=o!=null?o.concat([n]):null,Lu(4,4,rb.bind(null,i,n),o)}function qh(){}function lb(n,i){var o=mn();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&_h(i,c[1])?c[0]:(o.memoizedState=[n,i],n)}function cb(n,i){var o=mn();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&_h(i,c[1]))return c[0];if(c=n(),Ja){Ye(!0);try{n()}finally{Ye(!1)}}return o.memoizedState=[c,i],c}function Yh(n,i,o){return o===void 0||(Ti&1073741824)!==0&&(vt&261930)===0?n.memoizedState=i:(n.memoizedState=o,n=uv(),mt.lanes|=n,da|=n,o)}function ub(n,i,o,c){return ps(o,i)?o:ao.current!==null?(n=Yh(n,o,c),ps(n,i)||(wn=!0),n):(Ti&42)===0||(Ti&1073741824)!==0&&(vt&261930)===0?(wn=!0,n.memoizedState=o):(n=uv(),mt.lanes|=n,da|=n,i)}function db(n,i,o,c,h){var m=q.p;q.p=m!==0&&8>m?m:8;var C=z.T,O={};z.T=O,Kh(n,!1,i,o);try{var F=h(),te=z.S;if(te!==null&&te(O,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var de=tA(F,c);Al(n,i,de,vs(n))}else Al(n,i,c,vs(n))}catch(me){Al(n,i,{then:function(){},status:"rejected",reason:me},vs())}finally{q.p=m,C!==null&&O.types!==null&&(C.types=O.types),z.T=C}}function oA(){}function Gh(n,i,o,c){if(n.tag!==5)throw Error(a(476));var h=fb(n).queue;db(n,h,i,ae,o===null?oA:function(){return hb(n),o(c)})}function fb(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:ae},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:o},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function hb(n){var i=fb(n);i.next===null&&(i=n.alternate.memoizedState),Al(n,i.next.queue,{},vs())}function $h(){return Vn(Gl)}function pb(){return mn().memoizedState}function mb(){return mn().memoizedState}function lA(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var o=vs();n=aa(o);var c=ra(i,n,o);c!==null&&(ls(c,i,o),Tl(c,i,o)),i={cache:Ch()},n.payload=i;return}i=i.return}}function cA(n,i,o){var c=vs();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Vu(n)?yb(i,o):(o=fh(n,i,o,c),o!==null&&(ls(o,n,c),xb(o,i,c)))}function gb(n,i,o){var c=vs();Al(n,i,o,c)}function Al(n,i,o,c){var h={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Vu(n))yb(i,h);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var C=i.lastRenderedState,O=m(C,o);if(h.hasEagerState=!0,h.eagerState=O,ps(O,C))return bu(n,i,h,0),Bt===null&&xu(),!1}catch{}finally{}if(o=fh(n,i,h,c),o!==null)return ls(o,n,c),xb(o,i,c),!0}return!1}function Kh(n,i,o,c){if(c={lane:2,revertLane:Dp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Vu(n)){if(i)throw Error(a(479))}else i=fh(n,o,c,2),i!==null&&ls(i,n,2)}function Vu(n){var i=n.alternate;return n===mt||i!==null&&i===mt}function yb(n,i){ro=Ou=!0;var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}function xb(n,i,o){if((o&4194048)!==0){var c=i.lanes;c&=n.pendingLanes,o|=c,i.lanes=o,Wr(n,o)}}var Pl={readContext:Vn,use:Iu,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useLayoutEffect:cn,useInsertionEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useSyncExternalStore:cn,useId:cn,useHostTransitionStatus:cn,useFormState:cn,useActionState:cn,useOptimistic:cn,useMemoCache:cn,useCacheRefresh:cn};Pl.useEffectEvent=cn;var bb={readContext:Vn,use:Iu,useCallback:function(n,i){return Kn().memoizedState=[n,i===void 0?null:i],n},useContext:Vn,useEffect:nb,useImperativeHandle:function(n,i,o){o=o!=null?o.concat([n]):null,Nu(4194308,4,rb.bind(null,i,n),o)},useLayoutEffect:function(n,i){return Nu(4194308,4,n,i)},useInsertionEffect:function(n,i){Nu(4,2,n,i)},useMemo:function(n,i){var o=Kn();i=i===void 0?null:i;var c=n();if(Ja){Ye(!0);try{n()}finally{Ye(!1)}}return o.memoizedState=[c,i],c},useReducer:function(n,i,o){var c=Kn();if(o!==void 0){var h=o(i);if(Ja){Ye(!0);try{o(i)}finally{Ye(!1)}}}else h=i;return c.memoizedState=c.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},c.queue=n,n=n.dispatch=cA.bind(null,mt,n),[c.memoizedState,n]},useRef:function(n){var i=Kn();return n={current:n},i.memoizedState=n},useState:function(n){n=Fh(n);var i=n.queue,o=gb.bind(null,mt,i);return i.dispatch=o,[n.memoizedState,o]},useDebugValue:qh,useDeferredValue:function(n,i){var o=Kn();return Yh(o,n,i)},useTransition:function(){var n=Fh(!1);return n=db.bind(null,mt,n.queue,!0,!1),Kn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,o){var c=mt,h=Kn();if(Ct){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),Bt===null)throw Error(a(349));(vt&127)!==0||B0(c,i,o)}h.memoizedState=o;var m={value:o,getSnapshot:i};return h.queue=m,nb(F0.bind(null,c,m,n),[n]),c.flags|=2048,lo(9,{destroy:void 0},z0.bind(null,c,m,o,i),null),o},useId:function(){var n=Kn(),i=Bt.identifierPrefix;if(Ct){var o=ni,c=ti;o=(c&~(1<<32-lt(c)-1)).toString(32)+o,i="_"+i+"R_"+o,o=Ru++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=nA++,i="_"+i+"r_"+o.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:$h,useFormState:X0,useActionState:X0,useOptimistic:function(n){var i=Kn();i.memoizedState=i.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Kh.bind(null,mt,!0,o),o.dispatch=i,[n,i]},useMemoCache:Vh,useCacheRefresh:function(){return Kn().memoizedState=lA.bind(null,mt)},useEffectEvent:function(n){var i=Kn(),o={impl:n};return i.memoizedState=o,function(){if((Mt&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},Qh={readContext:Vn,use:Iu,useCallback:lb,useContext:Vn,useEffect:Uh,useImperativeHandle:ob,useInsertionEffect:ib,useLayoutEffect:ab,useMemo:cb,useReducer:Wu,useRef:tb,useState:function(){return Wu(ji)},useDebugValue:qh,useDeferredValue:function(n,i){var o=mn();return ub(o,Wt.memoizedState,n,i)},useTransition:function(){var n=Wu(ji)[0],i=mn().memoizedState;return[typeof n=="boolean"?n:Ml(n),i]},useSyncExternalStore:V0,useId:pb,useHostTransitionStatus:$h,useFormState:Z0,useActionState:Z0,useOptimistic:function(n,i){var o=mn();return q0(o,Wt,n,i)},useMemoCache:Vh,useCacheRefresh:mb};Qh.useEffectEvent=sb;var vb={readContext:Vn,use:Iu,useCallback:lb,useContext:Vn,useEffect:Uh,useImperativeHandle:ob,useInsertionEffect:ib,useLayoutEffect:ab,useMemo:cb,useReducer:zh,useRef:tb,useState:function(){return zh(ji)},useDebugValue:qh,useDeferredValue:function(n,i){var o=mn();return Wt===null?Yh(o,n,i):ub(o,Wt.memoizedState,n,i)},useTransition:function(){var n=zh(ji)[0],i=mn().memoizedState;return[typeof n=="boolean"?n:Ml(n),i]},useSyncExternalStore:V0,useId:pb,useHostTransitionStatus:$h,useFormState:eb,useActionState:eb,useOptimistic:function(n,i){var o=mn();return Wt!==null?q0(o,Wt,n,i):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Vh,useCacheRefresh:mb};vb.useEffectEvent=sb;function Xh(n,i,o,c){i=n.memoizedState,o=o(c,i),o=o==null?i:v({},i,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Zh={enqueueSetState:function(n,i,o){n=n._reactInternals;var c=vs(),h=aa(c);h.payload=i,o!=null&&(h.callback=o),i=ra(n,h,c),i!==null&&(ls(i,n,c),Tl(i,n,c))},enqueueReplaceState:function(n,i,o){n=n._reactInternals;var c=vs(),h=aa(c);h.tag=1,h.payload=i,o!=null&&(h.callback=o),i=ra(n,h,c),i!==null&&(ls(i,n,c),Tl(i,n,c))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var o=vs(),c=aa(o);c.tag=2,i!=null&&(c.callback=i),i=ra(n,c,o),i!==null&&(ls(i,n,o),Tl(i,n,o))}};function Sb(n,i,o,c,h,m,C){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,C):i.prototype&&i.prototype.isPureReactComponent?!yl(o,c)||!yl(h,m):!0}function wb(n,i,o,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==n&&Zh.enqueueReplaceState(i,i.state,null)}function er(n,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(n=n.defaultProps){o===i&&(o=v({},o));for(var h in n)o[h]===void 0&&(o[h]=n[h])}return o}function Cb(n){yu(n)}function kb(n){console.error(n)}function Tb(n){yu(n)}function Bu(n,i){try{var o=n.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function jb(n,i,o){try{var c=n.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Jh(n,i,o){return o=aa(o),o.tag=3,o.payload={element:null},o.callback=function(){Bu(n,i)},o}function Db(n){return n=aa(n),n.tag=3,n}function Eb(n,i,o,c){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var m=c.value;n.payload=function(){return h(m)},n.callback=function(){jb(i,o,c)}}var C=o.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(n.callback=function(){jb(i,o,c),typeof h!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var O=c.stack;this.componentDidCatch(c.value,{componentStack:O!==null?O:""})})}function uA(n,i,o,c,h){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&eo(i,o,h,!0),o=gs.current,o!==null){switch(o.tag){case 31:case 13:return Rs===null?Zu():o.alternate===null&&un===0&&(un=3),o.flags&=-257,o.flags|=65536,o.lanes=h,c===Du?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),kp(n,c,h)),!1;case 22:return o.flags|=65536,c===Du?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),kp(n,c,h)),!1}throw Error(a(435,o.tag))}return kp(n,c,h),Zu(),!1}if(Ct)return i=gs.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,c!==xh&&(n=Error(a(422),{cause:c}),vl(Ms(n,o)))):(c!==xh&&(i=Error(a(423),{cause:c}),vl(Ms(i,o))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,c=Ms(c,o),h=Jh(n.stateNode,c,h),Mh(n,h),un!==4&&(un=2)),!1;var m=Error(a(520),{cause:c});if(m=Ms(m,o),Vl===null?Vl=[m]:Vl.push(m),un!==4&&(un=2),i===null)return!0;c=Ms(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,n=h&-h,o.lanes|=n,n=Jh(o.stateNode,c,n),Mh(o,n),!1;case 1:if(i=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(fa===null||!fa.has(m))))return o.flags|=65536,h&=-h,o.lanes|=h,h=Db(h),Eb(h,n,o,c),Mh(o,h),!1}o=o.return}while(o!==null);return!1}var ep=Error(a(461)),wn=!1;function Bn(n,i,o,c){i.child=n===null?O0(i,null,o,c):Za(i,n.child,o,c)}function Mb(n,i,o,c,h){o=o.render;var m=i.ref;if("ref"in c){var C={};for(var O in c)O!=="ref"&&(C[O]=c[O])}else C=c;return $a(i),c=Ih(n,i,o,C,m,h),O=Wh(),n!==null&&!wn?(Nh(n,i,h),Di(n,i,h)):(Ct&&O&&gh(i),i.flags|=1,Bn(n,i,c,h),i.child)}function Ab(n,i,o,c,h){if(n===null){var m=o.type;return typeof m=="function"&&!hh(m)&&m.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=m,Pb(n,i,m,c,h)):(n=Su(o.type,null,c,i,i.mode,h),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!lp(n,h)){var C=m.memoizedProps;if(o=o.compare,o=o!==null?o:yl,o(C,c)&&n.ref===i.ref)return Di(n,i,h)}return i.flags|=1,n=Si(m,c),n.ref=i.ref,n.return=i,i.child=n}function Pb(n,i,o,c,h){if(n!==null){var m=n.memoizedProps;if(yl(m,c)&&n.ref===i.ref)if(wn=!1,i.pendingProps=c=m,lp(n,h))(n.flags&131072)!==0&&(wn=!0);else return i.lanes=n.lanes,Di(n,i,h)}return tp(n,i,o,c,h)}function Ob(n,i,o,c){var h=c.children,m=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,n!==null){for(c=i.child=n.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;c=h&~m}else c=0,i.child=null;return Rb(n,i,m,o,c)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Tu(i,m!==null?m.cachePool:null),m!==null?I0(i,m):Ph(),W0(i);else return c=i.lanes=536870912,Rb(n,i,m!==null?m.baseLanes|o:o,o,c)}else m!==null?(Tu(i,m.cachePool),I0(i,m),la(),i.memoizedState=null):(n!==null&&Tu(i,null),Ph(),la());return Bn(n,i,h,o),i.child}function Ol(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Rb(n,i,o,c,h){var m=Th();return m=m===null?null:{parent:vn._currentValue,pool:m},i.memoizedState={baseLanes:o,cachePool:m},n!==null&&Tu(i,null),Ph(),W0(i),n!==null&&eo(n,i,c,!0),i.childLanes=h,null}function zu(n,i){return i=Hu({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function _b(n,i,o){return Za(i,n.child,null,o),n=zu(i,i.pendingProps),n.flags|=2,ys(i),i.memoizedState=null,n}function dA(n,i,o){var c=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(Ct){if(c.mode==="hidden")return n=zu(i,c),i.lanes=536870912,Ol(null,n);if(Rh(i),(n=qt)?(n=Yv(n,Os),n=n!==null&&n.data==="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:ea!==null?{id:ti,overflow:ni}:null,retryLane:536870912,hydrationErrors:null},o=y0(n),o.return=i,i.child=o,Ln=i,qt=null)):n=null,n===null)throw na(i);return i.lanes=536870912,null}return zu(i,c)}var m=n.memoizedState;if(m!==null){var C=m.dehydrated;if(Rh(i),h)if(i.flags&256)i.flags&=-257,i=_b(n,i,o);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(a(558));else if(wn||eo(n,i,o,!1),h=(o&n.childLanes)!==0,wn||h){if(c=Bt,c!==null&&(C=ru(c,o),C!==0&&C!==m.retryLane))throw m.retryLane=C,Ua(n,C),ls(c,n,C),ep;Zu(),i=_b(n,i,o)}else n=m.treeContext,qt=_s(C.nextSibling),Ln=i,Ct=!0,ta=null,Os=!1,n!==null&&v0(i,n),i=zu(i,c),i.flags|=4096;return i}return n=Si(n.child,{mode:c.mode,children:c.children}),n.ref=i.ref,i.child=n,n.return=i,n}function Fu(n,i){var o=i.ref;if(o===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(n===null||n.ref!==o)&&(i.flags|=4194816)}}function tp(n,i,o,c,h){return $a(i),o=Ih(n,i,o,c,void 0,h),c=Wh(),n!==null&&!wn?(Nh(n,i,h),Di(n,i,h)):(Ct&&c&&gh(i),i.flags|=1,Bn(n,i,o,h),i.child)}function Ib(n,i,o,c,h,m){return $a(i),i.updateQueue=null,o=L0(i,c,o,h),N0(n),c=Wh(),n!==null&&!wn?(Nh(n,i,m),Di(n,i,m)):(Ct&&c&&gh(i),i.flags|=1,Bn(n,i,o,m),i.child)}function Wb(n,i,o,c,h){if($a(i),i.stateNode===null){var m=Qr,C=o.contextType;typeof C=="object"&&C!==null&&(m=Vn(C)),m=new o(c,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Zh,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=c,m.state=i.memoizedState,m.refs={},Dh(i),C=o.contextType,m.context=typeof C=="object"&&C!==null?Vn(C):Qr,m.state=i.memoizedState,C=o.getDerivedStateFromProps,typeof C=="function"&&(Xh(i,o,C,c),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(C=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),C!==m.state&&Zh.enqueueReplaceState(m,m.state,null),Dl(i,c,m,h),jl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(n===null){m=i.stateNode;var O=i.memoizedProps,F=er(o,O);m.props=F;var te=m.context,de=o.contextType;C=Qr,typeof de=="object"&&de!==null&&(C=Vn(de));var me=o.getDerivedStateFromProps;de=typeof me=="function"||typeof m.getSnapshotBeforeUpdate=="function",O=i.pendingProps!==O,de||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(O||te!==C)&&wb(i,m,c,C),ia=!1;var se=i.memoizedState;m.state=se,Dl(i,c,m,h),jl(),te=i.memoizedState,O||se!==te||ia?(typeof me=="function"&&(Xh(i,o,me,c),te=i.memoizedState),(F=ia||Sb(i,o,F,c,se,te,C))?(de||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=te),m.props=c,m.state=te,m.context=C,c=F):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{m=i.stateNode,Eh(n,i),C=i.memoizedProps,de=er(o,C),m.props=de,me=i.pendingProps,se=m.context,te=o.contextType,F=Qr,typeof te=="object"&&te!==null&&(F=Vn(te)),O=o.getDerivedStateFromProps,(te=typeof O=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(C!==me||se!==F)&&wb(i,m,c,F),ia=!1,se=i.memoizedState,m.state=se,Dl(i,c,m,h),jl();var re=i.memoizedState;C!==me||se!==re||ia||n!==null&&n.dependencies!==null&&Cu(n.dependencies)?(typeof O=="function"&&(Xh(i,o,O,c),re=i.memoizedState),(de=ia||Sb(i,o,de,c,se,re,F)||n!==null&&n.dependencies!==null&&Cu(n.dependencies))?(te||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,re,F),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,re,F)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||C===n.memoizedProps&&se===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&se===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=re),m.props=c,m.state=re,m.context=F,c=de):(typeof m.componentDidUpdate!="function"||C===n.memoizedProps&&se===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&se===n.memoizedState||(i.flags|=1024),c=!1)}return m=c,Fu(n,i),c=(i.flags&128)!==0,m||c?(m=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&c?(i.child=Za(i,n.child,null,h),i.child=Za(i,null,o,h)):Bn(n,i,o,h),i.memoizedState=m.state,n=i.child):n=Di(n,i,h),n}function Nb(n,i,o,c){return Ya(),i.flags|=256,Bn(n,i,o,c),i.child}var np={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sp(n){return{baseLanes:n,cachePool:j0()}}function ip(n,i,o){return n=n!==null?n.childLanes&~o:0,i&&(n|=bs),n}function Lb(n,i,o){var c=i.pendingProps,h=!1,m=(i.flags&128)!==0,C;if((C=m)||(C=n!==null&&n.memoizedState===null?!1:(pn.current&2)!==0),C&&(h=!0,i.flags&=-129),C=(i.flags&32)!==0,i.flags&=-33,n===null){if(Ct){if(h?oa(i):la(),(n=qt)?(n=Yv(n,Os),n=n!==null&&n.data!=="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:ea!==null?{id:ti,overflow:ni}:null,retryLane:536870912,hydrationErrors:null},o=y0(n),o.return=i,i.child=o,Ln=i,qt=null)):n=null,n===null)throw na(i);return Bp(n)?i.lanes=32:i.lanes=536870912,null}var O=c.children;return c=c.fallback,h?(la(),h=i.mode,O=Hu({mode:"hidden",children:O},h),c=qa(c,h,o,null),O.return=i,c.return=i,O.sibling=c,i.child=O,c=i.child,c.memoizedState=sp(o),c.childLanes=ip(n,C,o),i.memoizedState=np,Ol(null,c)):(oa(i),ap(i,O))}var F=n.memoizedState;if(F!==null&&(O=F.dehydrated,O!==null)){if(m)i.flags&256?(oa(i),i.flags&=-257,i=rp(n,i,o)):i.memoizedState!==null?(la(),i.child=n.child,i.flags|=128,i=null):(la(),O=c.fallback,h=i.mode,c=Hu({mode:"visible",children:c.children},h),O=qa(O,h,o,null),O.flags|=2,c.return=i,O.return=i,c.sibling=O,i.child=c,Za(i,n.child,null,o),c=i.child,c.memoizedState=sp(o),c.childLanes=ip(n,C,o),i.memoizedState=np,i=Ol(null,c));else if(oa(i),Bp(O)){if(C=O.nextSibling&&O.nextSibling.dataset,C)var te=C.dgst;C=te,c=Error(a(419)),c.stack="",c.digest=C,vl({value:c,source:null,stack:null}),i=rp(n,i,o)}else if(wn||eo(n,i,o,!1),C=(o&n.childLanes)!==0,wn||C){if(C=Bt,C!==null&&(c=ru(C,o),c!==0&&c!==F.retryLane))throw F.retryLane=c,Ua(n,c),ls(C,n,c),ep;Vp(O)||Zu(),i=rp(n,i,o)}else Vp(O)?(i.flags|=192,i.child=n.child,i=null):(n=F.treeContext,qt=_s(O.nextSibling),Ln=i,Ct=!0,ta=null,Os=!1,n!==null&&v0(i,n),i=ap(i,c.children),i.flags|=4096);return i}return h?(la(),O=c.fallback,h=i.mode,F=n.child,te=F.sibling,c=Si(F,{mode:"hidden",children:c.children}),c.subtreeFlags=F.subtreeFlags&65011712,te!==null?O=Si(te,O):(O=qa(O,h,o,null),O.flags|=2),O.return=i,c.return=i,c.sibling=O,i.child=c,Ol(null,c),c=i.child,O=n.child.memoizedState,O===null?O=sp(o):(h=O.cachePool,h!==null?(F=vn._currentValue,h=h.parent!==F?{parent:F,pool:F}:h):h=j0(),O={baseLanes:O.baseLanes|o,cachePool:h}),c.memoizedState=O,c.childLanes=ip(n,C,o),i.memoizedState=np,Ol(n.child,c)):(oa(i),o=n.child,n=o.sibling,o=Si(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,n!==null&&(C=i.deletions,C===null?(i.deletions=[n],i.flags|=16):C.push(n)),i.child=o,i.memoizedState=null,o)}function ap(n,i){return i=Hu({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Hu(n,i){return n=ms(22,n,null,i),n.lanes=0,n}function rp(n,i,o){return Za(i,n.child,null,o),n=ap(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Vb(n,i,o){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),Sh(n.return,i,o)}function op(n,i,o,c,h,m){var C=n.memoizedState;C===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:h,treeForkCount:m}:(C.isBackwards=i,C.rendering=null,C.renderingStartTime=0,C.last=c,C.tail=o,C.tailMode=h,C.treeForkCount=m)}function Bb(n,i,o){var c=i.pendingProps,h=c.revealOrder,m=c.tail;c=c.children;var C=pn.current,O=(C&2)!==0;if(O?(C=C&1|2,i.flags|=128):C&=1,ie(pn,C),Bn(n,i,c,o),c=Ct?bl:0,!O&&n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Vb(n,o,i);else if(n.tag===19)Vb(n,o,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(h){case"forwards":for(o=i.child,h=null;o!==null;)n=o.alternate,n!==null&&Pu(n)===null&&(h=o),o=o.sibling;o=h,o===null?(h=i.child,i.child=null):(h=o.sibling,o.sibling=null),op(i,!1,h,o,m,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,h=i.child,i.child=null;h!==null;){if(n=h.alternate,n!==null&&Pu(n)===null){i.child=h;break}n=h.sibling,h.sibling=o,o=h,h=n}op(i,!0,o,null,m,c);break;case"together":op(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function Di(n,i,o){if(n!==null&&(i.dependencies=n.dependencies),da|=i.lanes,(o&i.childLanes)===0)if(n!==null){if(eo(n,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,o=Si(n,n.pendingProps),i.child=o,o.return=i;n.sibling!==null;)n=n.sibling,o=o.sibling=Si(n,n.pendingProps),o.return=i;o.sibling=null}return i.child}function lp(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Cu(n)))}function fA(n,i,o){switch(i.tag){case 3:ue(i,i.stateNode.containerInfo),sa(i,vn,n.memoizedState.cache),Ya();break;case 27:case 5:be(i);break;case 4:ue(i,i.stateNode.containerInfo);break;case 10:sa(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Rh(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(oa(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Lb(n,i,o):(oa(i),n=Di(n,i,o),n!==null?n.sibling:null);oa(i);break;case 19:var h=(n.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(eo(n,i,o,!1),c=(o&i.childLanes)!==0),h){if(c)return Bb(n,i,o);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(pn,pn.current),c)break;return null;case 22:return i.lanes=0,Ob(n,i,o,i.pendingProps);case 24:sa(i,vn,n.memoizedState.cache)}return Di(n,i,o)}function zb(n,i,o){if(n!==null)if(n.memoizedProps!==i.pendingProps)wn=!0;else{if(!lp(n,o)&&(i.flags&128)===0)return wn=!1,fA(n,i,o);wn=(n.flags&131072)!==0}else wn=!1,Ct&&(i.flags&1048576)!==0&&b0(i,bl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var c=i.pendingProps;if(n=Qa(i.elementType),i.type=n,typeof n=="function")hh(n)?(c=er(n,c),i.tag=1,i=Wb(null,i,n,c,o)):(i.tag=0,i=tp(null,i,n,c,o));else{if(n!=null){var h=n.$$typeof;if(h===_){i.tag=11,i=Mb(null,i,n,c,o);break e}else if(h===R){i.tag=14,i=Ab(null,i,n,c,o);break e}}throw i=H(n)||n,Error(a(306,i,""))}}return i;case 0:return tp(n,i,i.type,i.pendingProps,o);case 1:return c=i.type,h=er(c,i.pendingProps),Wb(n,i,c,h,o);case 3:e:{if(ue(i,i.stateNode.containerInfo),n===null)throw Error(a(387));c=i.pendingProps;var m=i.memoizedState;h=m.element,Eh(n,i),Dl(i,c,null,o);var C=i.memoizedState;if(c=C.cache,sa(i,vn,c),c!==m.cache&&wh(i,[vn],o,!0),jl(),c=C.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:C.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=Nb(n,i,c,o);break e}else if(c!==h){h=Ms(Error(a(424)),i),vl(h),i=Nb(n,i,c,o);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(qt=_s(n.firstChild),Ln=i,Ct=!0,ta=null,Os=!0,o=O0(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ya(),c===h){i=Di(n,i,o);break e}Bn(n,i,c,o)}i=i.child}return i;case 26:return Fu(n,i),n===null?(o=Zv(i.type,null,i.pendingProps,null))?i.memoizedState=o:Ct||(o=i.type,n=i.pendingProps,c=ad(De.current).createElement(o),c[Nn]=i,c[ns]=n,zn(c,o,n),Rn(c),i.stateNode=c):i.memoizedState=Zv(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return be(i),n===null&&Ct&&(c=i.stateNode=Kv(i.type,i.pendingProps,De.current),Ln=i,Os=!0,h=qt,ga(i.type)?(zp=h,qt=_s(c.firstChild)):qt=h),Bn(n,i,i.pendingProps.children,o),Fu(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Ct&&((h=c=qt)&&(c=FA(c,i.type,i.pendingProps,Os),c!==null?(i.stateNode=c,Ln=i,qt=_s(c.firstChild),Os=!1,h=!0):h=!1),h||na(i)),be(i),h=i.type,m=i.pendingProps,C=n!==null?n.memoizedProps:null,c=m.children,Wp(h,m)?c=null:C!==null&&Wp(h,C)&&(i.flags|=32),i.memoizedState!==null&&(h=Ih(n,i,sA,null,null,o),Gl._currentValue=h),Fu(n,i),Bn(n,i,c,o),i.child;case 6:return n===null&&Ct&&((n=o=qt)&&(o=HA(o,i.pendingProps,Os),o!==null?(i.stateNode=o,Ln=i,qt=null,n=!0):n=!1),n||na(i)),null;case 13:return Lb(n,i,o);case 4:return ue(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=Za(i,null,c,o):Bn(n,i,c,o),i.child;case 11:return Mb(n,i,i.type,i.pendingProps,o);case 7:return Bn(n,i,i.pendingProps,o),i.child;case 8:return Bn(n,i,i.pendingProps.children,o),i.child;case 12:return Bn(n,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,sa(i,i.type,c.value),Bn(n,i,c.children,o),i.child;case 9:return h=i.type._context,c=i.pendingProps.children,$a(i),h=Vn(h),c=c(h),i.flags|=1,Bn(n,i,c,o),i.child;case 14:return Ab(n,i,i.type,i.pendingProps,o);case 15:return Pb(n,i,i.type,i.pendingProps,o);case 19:return Bb(n,i,o);case 31:return dA(n,i,o);case 22:return Ob(n,i,o,i.pendingProps);case 24:return $a(i),c=Vn(vn),n===null?(h=Th(),h===null&&(h=Bt,m=Ch(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=o),h=m),i.memoizedState={parent:c,cache:h},Dh(i),sa(i,vn,h)):((n.lanes&o)!==0&&(Eh(n,i),Dl(i,null,null,o),jl()),h=n.memoizedState,m=i.memoizedState,h.parent!==c?(h={parent:c,cache:c},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),sa(i,vn,c)):(c=m.cache,sa(i,vn,c),c!==h.cache&&wh(i,[vn],o,!0))),Bn(n,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Ei(n){n.flags|=4}function cp(n,i,o,c,h){if((i=(n.mode&32)!==0)&&(i=!1),i){if(n.flags|=16777216,(h&335544128)===h)if(n.stateNode.complete)n.flags|=8192;else if(pv())n.flags|=8192;else throw Xa=Du,jh}else n.flags&=-16777217}function Fb(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!sS(i))if(pv())n.flags|=8192;else throw Xa=Du,jh}function Uu(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?ln():536870912,n.lanes|=i,ho|=i)}function Rl(n,i){if(!Ct)switch(n.tailMode){case"hidden":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Yt(n){var i=n.alternate!==null&&n.alternate.child===n.child,o=0,c=0;if(i)for(var h=n.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags&65011712,c|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=c,n.childLanes=o,i}function hA(n,i,o){var c=i.pendingProps;switch(yh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(i),null;case 1:return Yt(i),null;case 3:return o=i.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),ki(vn),we(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Jr(i)?Ei(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,bh())),Yt(i),null;case 26:var h=i.type,m=i.memoizedState;return n===null?(Ei(i),m!==null?(Yt(i),Fb(i,m)):(Yt(i),cp(i,h,null,c,o))):m?m!==n.memoizedState?(Ei(i),Yt(i),Fb(i,m)):(Yt(i),i.flags&=-16777217):(n=n.memoizedProps,n!==c&&Ei(i),Yt(i),cp(i,h,n,c,o)),null;case 27:if(ve(i),o=De.current,h=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==c&&Ei(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Yt(i),null}n=oe.current,Jr(i)?S0(i):(n=Kv(h,c,o),i.stateNode=n,Ei(i))}return Yt(i),null;case 5:if(ve(i),h=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==c&&Ei(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Yt(i),null}if(m=oe.current,Jr(i))S0(i);else{var C=ad(De.current);switch(m){case 1:m=C.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=C.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=C.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=C.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=C.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?C.createElement("select",{is:c.is}):C.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?C.createElement(h,{is:c.is}):C.createElement(h)}}m[Nn]=i,m[ns]=c;e:for(C=i.child;C!==null;){if(C.tag===5||C.tag===6)m.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===i)break e;for(;C.sibling===null;){if(C.return===null||C.return===i)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}i.stateNode=m;e:switch(zn(m,h,c),h){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ei(i)}}return Yt(i),cp(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,o),null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==c&&Ei(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(a(166));if(n=De.current,Jr(i)){if(n=i.stateNode,o=i.memoizedProps,c=null,h=Ln,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}n[Nn]=i,n=!!(n.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Lv(n.nodeValue,o)),n||na(i,!0)}else n=ad(n).createTextNode(c),n[Nn]=i,i.stateNode=n}return Yt(i),null;case 31:if(o=i.memoizedState,n===null||n.memoizedState!==null){if(c=Jr(i),o!==null){if(n===null){if(!c)throw Error(a(318));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(557));n[Nn]=i}else Ya(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Yt(i),n=!1}else o=bh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return i.flags&256?(ys(i),i):(ys(i),null);if((i.flags&128)!==0)throw Error(a(558))}return Yt(i),null;case 13:if(c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=Jr(i),c!==null&&c.dehydrated!==null){if(n===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Nn]=i}else Ya(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Yt(i),h=!1}else h=bh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(ys(i),i):(ys(i),null)}return ys(i),(i.flags&128)!==0?(i.lanes=o,i):(o=c!==null,n=n!==null&&n.memoizedState!==null,o&&(c=i.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==h&&(c.flags|=2048)),o!==n&&o&&(i.child.flags|=8192),Uu(i,i.updateQueue),Yt(i),null);case 4:return we(),n===null&&Pp(i.stateNode.containerInfo),Yt(i),null;case 10:return ki(i.type),Yt(i),null;case 19:if(X(pn),c=i.memoizedState,c===null)return Yt(i),null;if(h=(i.flags&128)!==0,m=c.rendering,m===null)if(h)Rl(c,!1);else{if(un!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=Pu(n),m!==null){for(i.flags|=128,Rl(c,!1),n=m.updateQueue,i.updateQueue=n,Uu(i,n),i.subtreeFlags=0,n=o,o=i.child;o!==null;)g0(o,n),o=o.sibling;return ie(pn,pn.current&1|2),Ct&&wi(i,c.treeForkCount),i.child}n=n.sibling}c.tail!==null&&ke()>Ku&&(i.flags|=128,h=!0,Rl(c,!1),i.lanes=4194304)}else{if(!h)if(n=Pu(m),n!==null){if(i.flags|=128,h=!0,n=n.updateQueue,i.updateQueue=n,Uu(i,n),Rl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!Ct)return Yt(i),null}else 2*ke()-c.renderingStartTime>Ku&&o!==536870912&&(i.flags|=128,h=!0,Rl(c,!1),i.lanes=4194304);c.isBackwards?(m.sibling=i.child,i.child=m):(n=c.last,n!==null?n.sibling=m:i.child=m,c.last=m)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=ke(),n.sibling=null,o=pn.current,ie(pn,h?o&1|2:o&1),Ct&&wi(i,c.treeForkCount),n):(Yt(i),null);case 22:case 23:return ys(i),Oh(),c=i.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(Yt(i),i.subtreeFlags&6&&(i.flags|=8192)):Yt(i),o=i.updateQueue,o!==null&&Uu(i,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),n!==null&&X(Ka),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),ki(vn),Yt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function pA(n,i){switch(yh(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return ki(vn),we(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return ve(i),null;case 31:if(i.memoizedState!==null){if(ys(i),i.alternate===null)throw Error(a(340));Ya()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if(ys(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Ya()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return X(pn),null;case 4:return we(),null;case 10:return ki(i.type),null;case 22:case 23:return ys(i),Oh(),n!==null&&X(Ka),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return ki(vn),null;case 25:return null;default:return null}}function Hb(n,i){switch(yh(i),i.tag){case 3:ki(vn),we();break;case 26:case 27:case 5:ve(i);break;case 4:we();break;case 31:i.memoizedState!==null&&ys(i);break;case 13:ys(i);break;case 19:X(pn);break;case 10:ki(i.type);break;case 22:case 23:ys(i),Oh(),n!==null&&X(Ka);break;case 24:ki(vn)}}function _l(n,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var h=c.next;o=h;do{if((o.tag&n)===n){c=void 0;var m=o.create,C=o.inst;c=m(),C.destroy=c}o=o.next}while(o!==h)}}catch(O){_t(i,i.return,O)}}function ca(n,i,o){try{var c=i.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var m=h.next;c=m;do{if((c.tag&n)===n){var C=c.inst,O=C.destroy;if(O!==void 0){C.destroy=void 0,h=i;var F=o,te=O;try{te()}catch(de){_t(h,F,de)}}}c=c.next}while(c!==m)}}catch(de){_t(i,i.return,de)}}function Ub(n){var i=n.updateQueue;if(i!==null){var o=n.stateNode;try{_0(i,o)}catch(c){_t(n,n.return,c)}}}function qb(n,i,o){o.props=er(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(c){_t(n,i,c)}}function Il(n,i){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof o=="function"?n.refCleanup=o(c):o.current=c}}catch(h){_t(n,i,h)}}function si(n,i){var o=n.ref,c=n.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(h){_t(n,i,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){_t(n,i,h)}else o.current=null}function Yb(n){var i=n.type,o=n.memoizedProps,c=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(h){_t(n,n.return,h)}}function up(n,i,o){try{var c=n.stateNode;WA(c,n.type,o,i),c[ns]=i}catch(h){_t(n,n.return,h)}}function Gb(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ga(n.type)||n.tag===4}function dp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Gb(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ga(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function fp(n,i,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(n),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=bi));else if(c!==4&&(c===27&&ga(n.type)&&(o=n.stateNode,i=null),n=n.child,n!==null))for(fp(n,i,o),n=n.sibling;n!==null;)fp(n,i,o),n=n.sibling}function qu(n,i,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?o.insertBefore(n,i):o.appendChild(n);else if(c!==4&&(c===27&&ga(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(qu(n,i,o),n=n.sibling;n!==null;)qu(n,i,o),n=n.sibling}function $b(n){var i=n.stateNode,o=n.memoizedProps;try{for(var c=n.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);zn(i,c,o),i[Nn]=n,i[ns]=o}catch(m){_t(n,n.return,m)}}var Mi=!1,Cn=!1,hp=!1,Kb=typeof WeakSet=="function"?WeakSet:Set,_n=null;function mA(n,i){if(n=n.containerInfo,_p=fd,n=o0(n),rh(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var h=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var C=0,O=-1,F=-1,te=0,de=0,me=n,se=null;t:for(;;){for(var re;me!==o||h!==0&&me.nodeType!==3||(O=C+h),me!==m||c!==0&&me.nodeType!==3||(F=C+c),me.nodeType===3&&(C+=me.nodeValue.length),(re=me.firstChild)!==null;)se=me,me=re;for(;;){if(me===n)break t;if(se===o&&++te===h&&(O=C),se===m&&++de===c&&(F=C),(re=me.nextSibling)!==null)break;me=se,se=me.parentNode}me=re}o=O===-1||F===-1?null:{start:O,end:F}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ip={focusedElem:n,selectionRange:o},fd=!1,_n=i;_n!==null;)if(i=_n,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,_n=n;else for(;_n!==null;){switch(i=_n,m=i.alternate,n=i.flags,i.tag){case 0:if((n&4)!==0&&(n=i.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)h=n[o],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,o=i,h=m.memoizedProps,m=m.memoizedState,c=o.stateNode;try{var Fe=er(o.type,h);n=c.getSnapshotBeforeUpdate(Fe,m),c.__reactInternalSnapshotBeforeUpdate=n}catch(st){_t(o,o.return,st)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,o=n.nodeType,o===9)Lp(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Lp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,_n=n;break}_n=i.return}}function Qb(n,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Pi(n,o),c&4&&_l(5,o);break;case 1:if(Pi(n,o),c&4)if(n=o.stateNode,i===null)try{n.componentDidMount()}catch(C){_t(o,o.return,C)}else{var h=er(o.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(h,i,n.__reactInternalSnapshotBeforeUpdate)}catch(C){_t(o,o.return,C)}}c&64&&Ub(o),c&512&&Il(o,o.return);break;case 3:if(Pi(n,o),c&64&&(n=o.updateQueue,n!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{_0(n,i)}catch(C){_t(o,o.return,C)}}break;case 27:i===null&&c&4&&$b(o);case 26:case 5:Pi(n,o),i===null&&c&4&&Yb(o),c&512&&Il(o,o.return);break;case 12:Pi(n,o);break;case 31:Pi(n,o),c&4&&Jb(n,o);break;case 13:Pi(n,o),c&4&&ev(n,o),c&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=kA.bind(null,o),UA(n,o))));break;case 22:if(c=o.memoizedState!==null||Mi,!c){i=i!==null&&i.memoizedState!==null||Cn,h=Mi;var m=Cn;Mi=c,(Cn=i)&&!m?Oi(n,o,(o.subtreeFlags&8772)!==0):Pi(n,o),Mi=h,Cn=m}break;case 30:break;default:Pi(n,o)}}function Xb(n){var i=n.alternate;i!==null&&(n.alternate=null,Xb(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Hf(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Qt=null,is=!1;function Ai(n,i,o){for(o=o.child;o!==null;)Zb(n,i,o),o=o.sibling}function Zb(n,i,o){if(Ae&&typeof Ae.onCommitFiberUnmount=="function")try{Ae.onCommitFiberUnmount(Ie,o)}catch{}switch(o.tag){case 26:Cn||si(o,i),Ai(n,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Cn||si(o,i);var c=Qt,h=is;ga(o.type)&&(Qt=o.stateNode,is=!1),Ai(n,i,o),Ul(o.stateNode),Qt=c,is=h;break;case 5:Cn||si(o,i);case 6:if(c=Qt,h=is,Qt=null,Ai(n,i,o),Qt=c,is=h,Qt!==null)if(is)try{(Qt.nodeType===9?Qt.body:Qt.nodeName==="HTML"?Qt.ownerDocument.body:Qt).removeChild(o.stateNode)}catch(m){_t(o,i,m)}else try{Qt.removeChild(o.stateNode)}catch(m){_t(o,i,m)}break;case 18:Qt!==null&&(is?(n=Qt,Uv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),So(n)):Uv(Qt,o.stateNode));break;case 4:c=Qt,h=is,Qt=o.stateNode.containerInfo,is=!0,Ai(n,i,o),Qt=c,is=h;break;case 0:case 11:case 14:case 15:ca(2,o,i),Cn||ca(4,o,i),Ai(n,i,o);break;case 1:Cn||(si(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&qb(o,i,c)),Ai(n,i,o);break;case 21:Ai(n,i,o);break;case 22:Cn=(c=Cn)||o.memoizedState!==null,Ai(n,i,o),Cn=c;break;default:Ai(n,i,o)}}function Jb(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{So(n)}catch(o){_t(i,i.return,o)}}}function ev(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{So(n)}catch(o){_t(i,i.return,o)}}function gA(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Kb),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Kb),i;default:throw Error(a(435,n.tag))}}function Yu(n,i){var o=gA(n);i.forEach(function(c){if(!o.has(c)){o.add(c);var h=TA.bind(null,n,c);c.then(h,h)}})}function as(n,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var h=o[c],m=n,C=i,O=C;e:for(;O!==null;){switch(O.tag){case 27:if(ga(O.type)){Qt=O.stateNode,is=!1;break e}break;case 5:Qt=O.stateNode,is=!1;break e;case 3:case 4:Qt=O.stateNode.containerInfo,is=!0;break e}O=O.return}if(Qt===null)throw Error(a(160));Zb(m,C,h),Qt=null,is=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)tv(i,n),i=i.sibling}var Us=null;function tv(n,i){var o=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:as(i,n),rs(n),c&4&&(ca(3,n,n.return),_l(3,n),ca(5,n,n.return));break;case 1:as(i,n),rs(n),c&512&&(Cn||o===null||si(o,o.return)),c&64&&Mi&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var h=Us;if(as(i,n),rs(n),c&512&&(Cn||o===null||si(o,o.return)),c&4){var m=o!==null?o.memoizedState:null;if(c=n.memoizedState,o===null)if(c===null)if(n.stateNode===null){e:{c=n.type,o=n.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":m=h.getElementsByTagName("title")[0],(!m||m[ll]||m[Nn]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(c),h.head.insertBefore(m,h.querySelector("head > title"))),zn(m,c,o),m[Nn]=n,Rn(m),c=m;break e;case"link":var C=tS("link","href",h).get(c+(o.href||""));if(C){for(var O=0;O<C.length;O++)if(m=C[O],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){C.splice(O,1);break t}}m=h.createElement(c),zn(m,c,o),h.head.appendChild(m);break;case"meta":if(C=tS("meta","content",h).get(c+(o.content||""))){for(O=0;O<C.length;O++)if(m=C[O],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){C.splice(O,1);break t}}m=h.createElement(c),zn(m,c,o),h.head.appendChild(m);break;default:throw Error(a(468,c))}m[Nn]=n,Rn(m),c=m}n.stateNode=c}else nS(h,n.type,n.stateNode);else n.stateNode=eS(h,c,n.memoizedProps);else m!==c?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,c===null?nS(h,n.type,n.stateNode):eS(h,c,n.memoizedProps)):c===null&&n.stateNode!==null&&up(n,n.memoizedProps,o.memoizedProps)}break;case 27:as(i,n),rs(n),c&512&&(Cn||o===null||si(o,o.return)),o!==null&&c&4&&up(n,n.memoizedProps,o.memoizedProps);break;case 5:if(as(i,n),rs(n),c&512&&(Cn||o===null||si(o,o.return)),n.flags&32){h=n.stateNode;try{Hr(h,"")}catch(Fe){_t(n,n.return,Fe)}}c&4&&n.stateNode!=null&&(h=n.memoizedProps,up(n,h,o!==null?o.memoizedProps:h)),c&1024&&(hp=!0);break;case 6:if(as(i,n),rs(n),c&4){if(n.stateNode===null)throw Error(a(162));c=n.memoizedProps,o=n.stateNode;try{o.nodeValue=c}catch(Fe){_t(n,n.return,Fe)}}break;case 3:if(ld=null,h=Us,Us=rd(i.containerInfo),as(i,n),Us=h,rs(n),c&4&&o!==null&&o.memoizedState.isDehydrated)try{So(i.containerInfo)}catch(Fe){_t(n,n.return,Fe)}hp&&(hp=!1,nv(n));break;case 4:c=Us,Us=rd(n.stateNode.containerInfo),as(i,n),rs(n),Us=c;break;case 12:as(i,n),rs(n);break;case 31:as(i,n),rs(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Yu(n,c)));break;case 13:as(i,n),rs(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&($u=ke()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Yu(n,c)));break;case 22:h=n.memoizedState!==null;var F=o!==null&&o.memoizedState!==null,te=Mi,de=Cn;if(Mi=te||h,Cn=de||F,as(i,n),Cn=de,Mi=te,rs(n),c&8192)e:for(i=n.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(o===null||F||Mi||Cn||tr(n)),o=null,i=n;;){if(i.tag===5||i.tag===26){if(o===null){F=o=i;try{if(m=F.stateNode,h)C=m.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{O=F.stateNode;var me=F.memoizedProps.style,se=me!=null&&me.hasOwnProperty("display")?me.display:null;O.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(Fe){_t(F,F.return,Fe)}}}else if(i.tag===6){if(o===null){F=i;try{F.stateNode.nodeValue=h?"":F.memoizedProps}catch(Fe){_t(F,F.return,Fe)}}}else if(i.tag===18){if(o===null){F=i;try{var re=F.stateNode;h?qv(re,!0):qv(F.stateNode,!1)}catch(Fe){_t(F,F.return,Fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=n.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Yu(n,o))));break;case 19:as(i,n),rs(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Yu(n,c)));break;case 30:break;case 21:break;default:as(i,n),rs(n)}}function rs(n){var i=n.flags;if(i&2){try{for(var o,c=n.return;c!==null;){if(Gb(c)){o=c;break}c=c.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var h=o.stateNode,m=dp(n);qu(n,m,h);break;case 5:var C=o.stateNode;o.flags&32&&(Hr(C,""),o.flags&=-33);var O=dp(n);qu(n,O,C);break;case 3:case 4:var F=o.stateNode.containerInfo,te=dp(n);fp(n,te,F);break;default:throw Error(a(161))}}catch(de){_t(n,n.return,de)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function nv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;nv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Pi(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Qb(n,i.alternate,i),i=i.sibling}function tr(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:ca(4,i,i.return),tr(i);break;case 1:si(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&qb(i,i.return,o),tr(i);break;case 27:Ul(i.stateNode);case 26:case 5:si(i,i.return),tr(i);break;case 22:i.memoizedState===null&&tr(i);break;case 30:tr(i);break;default:tr(i)}n=n.sibling}}function Oi(n,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,h=n,m=i,C=m.flags;switch(m.tag){case 0:case 11:case 15:Oi(h,m,o),_l(4,m);break;case 1:if(Oi(h,m,o),c=m,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(te){_t(c,c.return,te)}if(c=m,h=c.updateQueue,h!==null){var O=c.stateNode;try{var F=h.shared.hiddenCallbacks;if(F!==null)for(h.shared.hiddenCallbacks=null,h=0;h<F.length;h++)R0(F[h],O)}catch(te){_t(c,c.return,te)}}o&&C&64&&Ub(m),Il(m,m.return);break;case 27:$b(m);case 26:case 5:Oi(h,m,o),o&&c===null&&C&4&&Yb(m),Il(m,m.return);break;case 12:Oi(h,m,o);break;case 31:Oi(h,m,o),o&&C&4&&Jb(h,m);break;case 13:Oi(h,m,o),o&&C&4&&ev(h,m);break;case 22:m.memoizedState===null&&Oi(h,m,o),Il(m,m.return);break;case 30:break;default:Oi(h,m,o)}i=i.sibling}}function pp(n,i){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Sl(o))}function mp(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Sl(n))}function qs(n,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)sv(n,i,o,c),i=i.sibling}function sv(n,i,o,c){var h=i.flags;switch(i.tag){case 0:case 11:case 15:qs(n,i,o,c),h&2048&&_l(9,i);break;case 1:qs(n,i,o,c);break;case 3:qs(n,i,o,c),h&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Sl(n)));break;case 12:if(h&2048){qs(n,i,o,c),n=i.stateNode;try{var m=i.memoizedProps,C=m.id,O=m.onPostCommit;typeof O=="function"&&O(C,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(F){_t(i,i.return,F)}}else qs(n,i,o,c);break;case 31:qs(n,i,o,c);break;case 13:qs(n,i,o,c);break;case 23:break;case 22:m=i.stateNode,C=i.alternate,i.memoizedState!==null?m._visibility&2?qs(n,i,o,c):Wl(n,i):m._visibility&2?qs(n,i,o,c):(m._visibility|=2,co(n,i,o,c,(i.subtreeFlags&10256)!==0||!1)),h&2048&&pp(C,i);break;case 24:qs(n,i,o,c),h&2048&&mp(i.alternate,i);break;default:qs(n,i,o,c)}}function co(n,i,o,c,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=n,C=i,O=o,F=c,te=C.flags;switch(C.tag){case 0:case 11:case 15:co(m,C,O,F,h),_l(8,C);break;case 23:break;case 22:var de=C.stateNode;C.memoizedState!==null?de._visibility&2?co(m,C,O,F,h):Wl(m,C):(de._visibility|=2,co(m,C,O,F,h)),h&&te&2048&&pp(C.alternate,C);break;case 24:co(m,C,O,F,h),h&&te&2048&&mp(C.alternate,C);break;default:co(m,C,O,F,h)}i=i.sibling}}function Wl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=n,c=i,h=c.flags;switch(c.tag){case 22:Wl(o,c),h&2048&&pp(c.alternate,c);break;case 24:Wl(o,c),h&2048&&mp(c.alternate,c);break;default:Wl(o,c)}i=i.sibling}}var Nl=8192;function uo(n,i,o){if(n.subtreeFlags&Nl)for(n=n.child;n!==null;)iv(n,i,o),n=n.sibling}function iv(n,i,o){switch(n.tag){case 26:uo(n,i,o),n.flags&Nl&&n.memoizedState!==null&&n2(o,Us,n.memoizedState,n.memoizedProps);break;case 5:uo(n,i,o);break;case 3:case 4:var c=Us;Us=rd(n.stateNode.containerInfo),uo(n,i,o),Us=c;break;case 22:n.memoizedState===null&&(c=n.alternate,c!==null&&c.memoizedState!==null?(c=Nl,Nl=16777216,uo(n,i,o),Nl=c):uo(n,i,o));break;default:uo(n,i,o)}}function av(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Ll(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];_n=c,ov(c,n)}av(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)rv(n),n=n.sibling}function rv(n){switch(n.tag){case 0:case 11:case 15:Ll(n),n.flags&2048&&ca(9,n,n.return);break;case 3:Ll(n);break;case 12:Ll(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Gu(n)):Ll(n);break;default:Ll(n)}}function Gu(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];_n=c,ov(c,n)}av(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:ca(8,i,i.return),Gu(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Gu(i));break;default:Gu(i)}n=n.sibling}}function ov(n,i){for(;_n!==null;){var o=_n;switch(o.tag){case 0:case 11:case 15:ca(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Sl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,_n=c;else e:for(o=n;_n!==null;){c=_n;var h=c.sibling,m=c.return;if(Xb(c),c===o){_n=null;break e}if(h!==null){h.return=m,_n=h;break e}_n=m}}}var yA={getCacheForType:function(n){var i=Vn(vn),o=i.data.get(n);return o===void 0&&(o=n(),i.data.set(n,o)),o},cacheSignal:function(){return Vn(vn).controller.signal}},xA=typeof WeakMap=="function"?WeakMap:Map,Mt=0,Bt=null,xt=null,vt=0,Rt=0,xs=null,ua=!1,fo=!1,gp=!1,Ri=0,un=0,da=0,nr=0,yp=0,bs=0,ho=0,Vl=null,os=null,xp=!1,$u=0,lv=0,Ku=1/0,Qu=null,fa=null,En=0,ha=null,po=null,_i=0,bp=0,vp=null,cv=null,Bl=0,Sp=null;function vs(){return(Mt&2)!==0&&vt!==0?vt&-vt:z.T!==null?Dp():tn()}function uv(){if(bs===0)if((vt&536870912)===0||Ct){var n=Gn;Gn<<=1,(Gn&3932160)===0&&(Gn=262144),bs=n}else bs=536870912;return n=gs.current,n!==null&&(n.flags|=32),bs}function ls(n,i,o){(n===Bt&&(Rt===2||Rt===9)||n.cancelPendingCommit!==null)&&(mo(n,0),pa(n,vt,bs,!1)),yi(n,o),((Mt&2)===0||n!==Bt)&&(n===Bt&&((Mt&2)===0&&(nr|=o),un===4&&pa(n,vt,bs,!1)),ii(n))}function dv(n,i,o){if((Mt&6)!==0)throw Error(a(327));var c=!o&&(i&127)===0&&(i&n.expiredLanes)===0||gi(n,i),h=c?SA(n,i):Cp(n,i,!0),m=c;do{if(h===0){fo&&!c&&pa(n,i,0,!1);break}else{if(o=n.current.alternate,m&&!bA(o)){h=Cp(n,i,!1),m=!1;continue}if(h===2){if(m=i,n.errorRecoveryDisabledLanes&m)var C=0;else C=n.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){i=C;e:{var O=n;h=Vl;var F=O.current.memoizedState.isDehydrated;if(F&&(mo(O,C).flags|=256),C=Cp(O,C,!1),C!==2){if(gp&&!F){O.errorRecoveryDisabledLanes|=m,nr|=m,h=4;break e}m=os,os=h,m!==null&&(os===null?os=m:os.push.apply(os,m))}h=C}if(m=!1,h!==2)continue}}if(h===1){mo(n,0),pa(n,i,0,!0);break}e:{switch(c=n,m=h,m){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:pa(c,i,bs,!ua);break e;case 2:os=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=$u+300-ke(),10<h)){if(pa(c,i,bs,!ua),Zi(c,0,!0)!==0)break e;_i=i,c.timeoutHandle=Fv(fv.bind(null,c,o,os,Qu,xp,i,bs,nr,ho,ua,m,"Throttled",-0,0),h);break e}fv(c,o,os,Qu,xp,i,bs,nr,ho,ua,m,null,-0,0)}}break}while(!0);ii(n)}function fv(n,i,o,c,h,m,C,O,F,te,de,me,se,re){if(n.timeoutHandle=-1,me=i.subtreeFlags,me&8192||(me&16785408)===16785408){me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bi},iv(i,m,me);var Fe=(m&62914560)===m?$u-ke():(m&4194048)===m?lv-ke():0;if(Fe=s2(me,Fe),Fe!==null){_i=m,n.cancelPendingCommit=Fe(vv.bind(null,n,i,m,o,c,h,C,O,F,de,me,null,se,re)),pa(n,m,C,!te);return}}vv(n,i,m,o,c,h,C,O,F)}function bA(n){for(var i=n;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var h=o[c],m=h.getSnapshot;h=h.value;try{if(!ps(m(),h))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function pa(n,i,o,c){i&=~yp,i&=~nr,n.suspendedLanes|=i,n.pingedLanes&=~i,c&&(n.warmLanes|=i),c=n.expirationTimes;for(var h=i;0<h;){var m=31-lt(h),C=1<<m;c[m]=-1,h&=~C}o!==0&&Ir(n,o,i)}function Xu(){return(Mt&6)===0?(zl(0),!1):!0}function wp(){if(xt!==null){if(Rt===0)var n=xt.return;else n=xt,Ci=Ga=null,Lh(n),io=null,Cl=0,n=xt;for(;n!==null;)Hb(n.alternate,n),n=n.return;xt=null}}function mo(n,i){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,VA(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),_i=0,wp(),Bt=n,xt=o=Si(n.current,null),vt=i,Rt=0,xs=null,ua=!1,fo=gi(n,i),gp=!1,ho=bs=yp=nr=da=un=0,os=Vl=null,xp=!1,(i&8)!==0&&(i|=i&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=i;0<c;){var h=31-lt(c),m=1<<h;i|=n[h],c&=~m}return Ri=i,xu(),o}function hv(n,i){mt=null,z.H=Pl,i===so||i===ju?(i=M0(),Rt=3):i===jh?(i=M0(),Rt=4):Rt=i===ep?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,xs=i,xt===null&&(un=1,Bu(n,Ms(i,n.current)))}function pv(){var n=gs.current;return n===null?!0:(vt&4194048)===vt?Rs===null:(vt&62914560)===vt||(vt&536870912)!==0?n===Rs:!1}function mv(){var n=z.H;return z.H=Pl,n===null?Pl:n}function gv(){var n=z.A;return z.A=yA,n}function Zu(){un=4,ua||(vt&4194048)!==vt&&gs.current!==null||(fo=!0),(da&134217727)===0&&(nr&134217727)===0||Bt===null||pa(Bt,vt,bs,!1)}function Cp(n,i,o){var c=Mt;Mt|=2;var h=mv(),m=gv();(Bt!==n||vt!==i)&&(Qu=null,mo(n,i)),i=!1;var C=un;e:do try{if(Rt!==0&&xt!==null){var O=xt,F=xs;switch(Rt){case 8:wp(),C=6;break e;case 3:case 2:case 9:case 6:gs.current===null&&(i=!0);var te=Rt;if(Rt=0,xs=null,go(n,O,F,te),o&&fo){C=0;break e}break;default:te=Rt,Rt=0,xs=null,go(n,O,F,te)}}vA(),C=un;break}catch(de){hv(n,de)}while(!0);return i&&n.shellSuspendCounter++,Ci=Ga=null,Mt=c,z.H=h,z.A=m,xt===null&&(Bt=null,vt=0,xu()),C}function vA(){for(;xt!==null;)yv(xt)}function SA(n,i){var o=Mt;Mt|=2;var c=mv(),h=gv();Bt!==n||vt!==i?(Qu=null,Ku=ke()+500,mo(n,i)):fo=gi(n,i);e:do try{if(Rt!==0&&xt!==null){i=xt;var m=xs;t:switch(Rt){case 1:Rt=0,xs=null,go(n,i,m,1);break;case 2:case 9:if(D0(m)){Rt=0,xs=null,xv(i);break}i=function(){Rt!==2&&Rt!==9||Bt!==n||(Rt=7),ii(n)},m.then(i,i);break e;case 3:Rt=7;break e;case 4:Rt=5;break e;case 7:D0(m)?(Rt=0,xs=null,xv(i)):(Rt=0,xs=null,go(n,i,m,7));break;case 5:var C=null;switch(xt.tag){case 26:C=xt.memoizedState;case 5:case 27:var O=xt;if(C?sS(C):O.stateNode.complete){Rt=0,xs=null;var F=O.sibling;if(F!==null)xt=F;else{var te=O.return;te!==null?(xt=te,Ju(te)):xt=null}break t}}Rt=0,xs=null,go(n,i,m,5);break;case 6:Rt=0,xs=null,go(n,i,m,6);break;case 8:wp(),un=6;break e;default:throw Error(a(462))}}wA();break}catch(de){hv(n,de)}while(!0);return Ci=Ga=null,z.H=c,z.A=h,Mt=o,xt!==null?0:(Bt=null,vt=0,xu(),un)}function wA(){for(;xt!==null&&!G();)yv(xt)}function yv(n){var i=zb(n.alternate,n,Ri);n.memoizedProps=n.pendingProps,i===null?Ju(n):xt=i}function xv(n){var i=n,o=i.alternate;switch(i.tag){case 15:case 0:i=Ib(o,i,i.pendingProps,i.type,void 0,vt);break;case 11:i=Ib(o,i,i.pendingProps,i.type.render,i.ref,vt);break;case 5:Lh(i);default:Hb(o,i),i=xt=g0(i,Ri),i=zb(o,i,Ri)}n.memoizedProps=n.pendingProps,i===null?Ju(n):xt=i}function go(n,i,o,c){Ci=Ga=null,Lh(i),io=null,Cl=0;var h=i.return;try{if(uA(n,h,i,o,vt)){un=1,Bu(n,Ms(o,n.current)),xt=null;return}}catch(m){if(h!==null)throw xt=h,m;un=1,Bu(n,Ms(o,n.current)),xt=null;return}i.flags&32768?(Ct||c===1?n=!0:fo||(vt&536870912)!==0?n=!1:(ua=n=!0,(c===2||c===9||c===3||c===6)&&(c=gs.current,c!==null&&c.tag===13&&(c.flags|=16384))),bv(i,n)):Ju(i)}function Ju(n){var i=n;do{if((i.flags&32768)!==0){bv(i,ua);return}n=i.return;var o=hA(i.alternate,i,Ri);if(o!==null){xt=o;return}if(i=i.sibling,i!==null){xt=i;return}xt=i=n}while(i!==null);un===0&&(un=5)}function bv(n,i){do{var o=pA(n.alternate,n);if(o!==null){o.flags&=32767,xt=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(n=n.sibling,n!==null)){xt=n;return}xt=n=o}while(n!==null);un=6,xt=null}function vv(n,i,o,c,h,m,C,O,F){n.cancelPendingCommit=null;do ed();while(En!==0);if((Mt&6)!==0)throw Error(a(327));if(i!==null){if(i===n.current)throw Error(a(177));if(m=i.lanes|i.childLanes,m|=dh,zf(n,o,m,C,O,F),n===Bt&&(xt=Bt=null,vt=0),po=i,ha=n,_i=o,bp=m,vp=h,cv=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,jA(dt,function(){return Tv(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=z.T,z.T=null,h=q.p,q.p=2,C=Mt,Mt|=4;try{mA(n,i,o)}finally{Mt=C,q.p=h,z.T=c}}En=1,Sv(),wv(),Cv()}}function Sv(){if(En===1){En=0;var n=ha,i=po,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=z.T,z.T=null;var c=q.p;q.p=2;var h=Mt;Mt|=4;try{tv(i,n);var m=Ip,C=o0(n.containerInfo),O=m.focusedElem,F=m.selectionRange;if(C!==O&&O&&O.ownerDocument&&r0(O.ownerDocument.documentElement,O)){if(F!==null&&rh(O)){var te=F.start,de=F.end;if(de===void 0&&(de=te),"selectionStart"in O)O.selectionStart=te,O.selectionEnd=Math.min(de,O.value.length);else{var me=O.ownerDocument||document,se=me&&me.defaultView||window;if(se.getSelection){var re=se.getSelection(),Fe=O.textContent.length,st=Math.min(F.start,Fe),Lt=F.end===void 0?st:Math.min(F.end,Fe);!re.extend&&st>Lt&&(C=Lt,Lt=st,st=C);var K=a0(O,st),Y=a0(O,Lt);if(K&&Y&&(re.rangeCount!==1||re.anchorNode!==K.node||re.anchorOffset!==K.offset||re.focusNode!==Y.node||re.focusOffset!==Y.offset)){var ee=me.createRange();ee.setStart(K.node,K.offset),re.removeAllRanges(),st>Lt?(re.addRange(ee),re.extend(Y.node,Y.offset)):(ee.setEnd(Y.node,Y.offset),re.addRange(ee))}}}}for(me=[],re=O;re=re.parentNode;)re.nodeType===1&&me.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<me.length;O++){var pe=me[O];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}fd=!!_p,Ip=_p=null}finally{Mt=h,q.p=c,z.T=o}}n.current=i,En=2}}function wv(){if(En===2){En=0;var n=ha,i=po,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=z.T,z.T=null;var c=q.p;q.p=2;var h=Mt;Mt|=4;try{Qb(n,i.alternate,i)}finally{Mt=h,q.p=c,z.T=o}}En=3}}function Cv(){if(En===4||En===3){En=0,ye();var n=ha,i=po,o=_i,c=cv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?En=5:(En=0,po=ha=null,kv(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(fa=null),Pe(o),i=i.stateNode,Ae&&typeof Ae.onCommitFiberRoot=="function")try{Ae.onCommitFiberRoot(Ie,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=z.T,h=q.p,q.p=2,z.T=null;try{for(var m=n.onRecoverableError,C=0;C<c.length;C++){var O=c[C];m(O.value,{componentStack:O.stack})}}finally{z.T=i,q.p=h}}(_i&3)!==0&&ed(),ii(n),h=n.pendingLanes,(o&261930)!==0&&(h&42)!==0?n===Sp?Bl++:(Bl=0,Sp=n):Bl=0,zl(0)}}function kv(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Sl(i)))}function ed(){return Sv(),wv(),Cv(),Tv()}function Tv(){if(En!==5)return!1;var n=ha,i=bp;bp=0;var o=Pe(_i),c=z.T,h=q.p;try{q.p=32>o?32:o,z.T=null,o=vp,vp=null;var m=ha,C=_i;if(En=0,po=ha=null,_i=0,(Mt&6)!==0)throw Error(a(331));var O=Mt;if(Mt|=4,rv(m.current),sv(m,m.current,C,o),Mt=O,zl(0,!1),Ae&&typeof Ae.onPostCommitFiberRoot=="function")try{Ae.onPostCommitFiberRoot(Ie,m)}catch{}return!0}finally{q.p=h,z.T=c,kv(n,i)}}function jv(n,i,o){i=Ms(o,i),i=Jh(n.stateNode,i,2),n=ra(n,i,2),n!==null&&(yi(n,2),ii(n))}function _t(n,i,o){if(n.tag===3)jv(n,n,o);else for(;i!==null;){if(i.tag===3){jv(i,n,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(fa===null||!fa.has(c))){n=Ms(o,n),o=Db(2),c=ra(i,o,2),c!==null&&(Eb(o,c,i,n),yi(c,2),ii(c));break}}i=i.return}}function kp(n,i,o){var c=n.pingCache;if(c===null){c=n.pingCache=new xA;var h=new Set;c.set(i,h)}else h=c.get(i),h===void 0&&(h=new Set,c.set(i,h));h.has(o)||(gp=!0,h.add(o),n=CA.bind(null,n,i,o),i.then(n,n))}function CA(n,i,o){var c=n.pingCache;c!==null&&c.delete(i),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Bt===n&&(vt&o)===o&&(un===4||un===3&&(vt&62914560)===vt&&300>ke()-$u?(Mt&2)===0&&mo(n,0):yp|=o,ho===vt&&(ho=0)),ii(n)}function Dv(n,i){i===0&&(i=ln()),n=Ua(n,i),n!==null&&(yi(n,i),ii(n))}function kA(n){var i=n.memoizedState,o=0;i!==null&&(o=i.retryLane),Dv(n,o)}function TA(n,i){var o=0;switch(n.tag){case 31:case 13:var c=n.stateNode,h=n.memoizedState;h!==null&&(o=h.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(i),Dv(n,o)}function jA(n,i){return ge(n,i)}var td=null,yo=null,Tp=!1,nd=!1,jp=!1,ma=0;function ii(n){n!==yo&&n.next===null&&(yo===null?td=yo=n:yo=yo.next=n),nd=!0,Tp||(Tp=!0,EA())}function zl(n,i){if(!jp&&nd){jp=!0;do for(var o=!1,c=td;c!==null;){if(n!==0){var h=c.pendingLanes;if(h===0)var m=0;else{var C=c.suspendedLanes,O=c.pingedLanes;m=(1<<31-lt(42|n)+1)-1,m&=h&~(C&~O),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,Pv(c,m))}else m=vt,m=Zi(c,c===Bt?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||gi(c,m)||(o=!0,Pv(c,m));c=c.next}while(o);jp=!1}}function DA(){Ev()}function Ev(){nd=Tp=!1;var n=0;ma!==0&&LA()&&(n=ma);for(var i=ke(),o=null,c=td;c!==null;){var h=c.next,m=Mv(c,i);m===0?(c.next=null,o===null?td=h:o.next=h,h===null&&(yo=o)):(o=c,(n!==0||(m&3)!==0)&&(nd=!0)),c=h}En!==0&&En!==5||zl(n),ma!==0&&(ma=0)}function Mv(n,i){for(var o=n.suspendedLanes,c=n.pingedLanes,h=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var C=31-lt(m),O=1<<C,F=h[C];F===-1?((O&o)===0||(O&c)!==0)&&(h[C]=ol(O,i)):F<=i&&(n.expiredLanes|=O),m&=~O}if(i=Bt,o=vt,o=Zi(n,n===i?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,o===0||n===i&&(Rt===2||Rt===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&_e(c),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||gi(n,o)){if(i=o&-o,i===n.callbackPriority)return i;switch(c!==null&&_e(c),Pe(o)){case 2:case 8:o=ze;break;case 32:o=dt;break;case 268435456:o=Xe;break;default:o=dt}return c=Av.bind(null,n),o=ge(o,c),n.callbackPriority=i,n.callbackNode=o,i}return c!==null&&c!==null&&_e(c),n.callbackPriority=2,n.callbackNode=null,2}function Av(n,i){if(En!==0&&En!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(ed()&&n.callbackNode!==o)return null;var c=vt;return c=Zi(n,n===Bt?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(dv(n,c,i),Mv(n,ke()),n.callbackNode!=null&&n.callbackNode===o?Av.bind(null,n):null)}function Pv(n,i){if(ed())return null;dv(n,i,!0)}function EA(){BA(function(){(Mt&6)!==0?ge(We,DA):Ev()})}function Dp(){if(ma===0){var n=to;n===0&&(n=on,on<<=1,(on&261888)===0&&(on=256)),ma=n}return ma}function Ov(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:uu(""+n)}function Rv(n,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,n.id&&o.setAttribute("form",n.id),i.parentNode.insertBefore(o,i),n=new FormData(n),o.parentNode.removeChild(o),n}function MA(n,i,o,c,h){if(i==="submit"&&o&&o.stateNode===h){var m=Ov((h[ns]||null).action),C=c.submitter;C&&(i=(i=C[ns]||null)?Ov(i.formAction):C.getAttribute("formAction"),i!==null&&(m=i,C=null));var O=new pu("action","action",null,c,h);n.push({event:O,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ma!==0){var F=C?Rv(h,C):new FormData(h);Gh(o,{pending:!0,data:F,method:h.method,action:m},null,F)}}else typeof m=="function"&&(O.preventDefault(),F=C?Rv(h,C):new FormData(h),Gh(o,{pending:!0,data:F,method:h.method,action:m},m,F))},currentTarget:h}]})}}for(var Ep=0;Ep<uh.length;Ep++){var Mp=uh[Ep],AA=Mp.toLowerCase(),PA=Mp[0].toUpperCase()+Mp.slice(1);Hs(AA,"on"+PA)}Hs(u0,"onAnimationEnd"),Hs(d0,"onAnimationIteration"),Hs(f0,"onAnimationStart"),Hs("dblclick","onDoubleClick"),Hs("focusin","onFocus"),Hs("focusout","onBlur"),Hs(GM,"onTransitionRun"),Hs($M,"onTransitionStart"),Hs(KM,"onTransitionCancel"),Hs(h0,"onTransitionEnd"),zr("onMouseEnter",["mouseout","mouseover"]),zr("onMouseLeave",["mouseout","mouseover"]),zr("onPointerEnter",["pointerout","pointerover"]),zr("onPointerLeave",["pointerout","pointerover"]),Ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ba("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl));function _v(n,i){i=(i&4)!==0;for(var o=0;o<n.length;o++){var c=n[o],h=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var C=c.length-1;0<=C;C--){var O=c[C],F=O.instance,te=O.currentTarget;if(O=O.listener,F!==m&&h.isPropagationStopped())break e;m=O,h.currentTarget=te;try{m(h)}catch(de){yu(de)}h.currentTarget=null,m=F}else for(C=0;C<c.length;C++){if(O=c[C],F=O.instance,te=O.currentTarget,O=O.listener,F!==m&&h.isPropagationStopped())break e;m=O,h.currentTarget=te;try{m(h)}catch(de){yu(de)}h.currentTarget=null,m=F}}}}function bt(n,i){var o=i[Ff];o===void 0&&(o=i[Ff]=new Set);var c=n+"__bubble";o.has(c)||(Iv(i,n,2,!1),o.add(c))}function Ap(n,i,o){var c=0;i&&(c|=4),Iv(o,n,c,i)}var sd="_reactListening"+Math.random().toString(36).slice(2);function Pp(n){if(!n[sd]){n[sd]=!0,Ex.forEach(function(o){o!=="selectionchange"&&(OA.has(o)||Ap(o,!1,n),Ap(o,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[sd]||(i[sd]=!0,Ap("selectionchange",!1,i))}}function Iv(n,i,o,c){switch(uS(i)){case 2:var h=r2;break;case 8:h=o2;break;default:h=Yp}o=h.bind(null,i,o,n),h=void 0,!Xf||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),c?h!==void 0?n.addEventListener(i,o,{capture:!0,passive:h}):n.addEventListener(i,o,!0):h!==void 0?n.addEventListener(i,o,{passive:h}):n.addEventListener(i,o,!1)}function Op(n,i,o,c,h){var m=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var C=c.tag;if(C===3||C===4){var O=c.stateNode.containerInfo;if(O===h)break;if(C===4)for(C=c.return;C!==null;){var F=C.tag;if((F===3||F===4)&&C.stateNode.containerInfo===h)return;C=C.return}for(;O!==null;){if(C=Lr(O),C===null)return;if(F=C.tag,F===5||F===6||F===26||F===27){c=m=C;continue e}O=O.parentNode}}c=c.return}Bx(function(){var te=m,de=Kf(o),me=[];e:{var se=p0.get(n);if(se!==void 0){var re=pu,Fe=n;switch(n){case"keypress":if(fu(o)===0)break e;case"keydown":case"keyup":re=TM;break;case"focusin":Fe="focus",re=th;break;case"focusout":Fe="blur",re=th;break;case"beforeblur":case"afterblur":re=th;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Hx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=hM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=EM;break;case u0:case d0:case f0:re=gM;break;case h0:re=AM;break;case"scroll":case"scrollend":re=dM;break;case"wheel":re=OM;break;case"copy":case"cut":case"paste":re=xM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=qx;break;case"toggle":case"beforetoggle":re=_M}var st=(i&4)!==0,Lt=!st&&(n==="scroll"||n==="scrollend"),K=st?se!==null?se+"Capture":null:se;st=[];for(var Y=te,ee;Y!==null;){var pe=Y;if(ee=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||ee===null||K===null||(pe=ul(Y,K),pe!=null&&st.push(Hl(Y,pe,ee))),Lt)break;Y=Y.return}0<st.length&&(se=new re(se,Fe,null,o,de),me.push({event:se,listeners:st}))}}if((i&7)===0){e:{if(se=n==="mouseover"||n==="pointerover",re=n==="mouseout"||n==="pointerout",se&&o!==$f&&(Fe=o.relatedTarget||o.fromElement)&&(Lr(Fe)||Fe[Nr]))break e;if((re||se)&&(se=de.window===de?de:(se=de.ownerDocument)?se.defaultView||se.parentWindow:window,re?(Fe=o.relatedTarget||o.toElement,re=te,Fe=Fe?Lr(Fe):null,Fe!==null&&(Lt=u(Fe),st=Fe.tag,Fe!==Lt||st!==5&&st!==27&&st!==6)&&(Fe=null)):(re=null,Fe=te),re!==Fe)){if(st=Hx,pe="onMouseLeave",K="onMouseEnter",Y="mouse",(n==="pointerout"||n==="pointerover")&&(st=qx,pe="onPointerLeave",K="onPointerEnter",Y="pointer"),Lt=re==null?se:cl(re),ee=Fe==null?se:cl(Fe),se=new st(pe,Y+"leave",re,o,de),se.target=Lt,se.relatedTarget=ee,pe=null,Lr(de)===te&&(st=new st(K,Y+"enter",Fe,o,de),st.target=ee,st.relatedTarget=Lt,pe=st),Lt=pe,re&&Fe)t:{for(st=RA,K=re,Y=Fe,ee=0,pe=K;pe;pe=st(pe))ee++;pe=0;for(var Ze=Y;Ze;Ze=st(Ze))pe++;for(;0<ee-pe;)K=st(K),ee--;for(;0<pe-ee;)Y=st(Y),pe--;for(;ee--;){if(K===Y||Y!==null&&K===Y.alternate){st=K;break t}K=st(K),Y=st(Y)}st=null}else st=null;re!==null&&Wv(me,se,re,st,!1),Fe!==null&&Lt!==null&&Wv(me,Lt,Fe,st,!0)}}e:{if(se=te?cl(te):window,re=se.nodeName&&se.nodeName.toLowerCase(),re==="select"||re==="input"&&se.type==="file")var Dt=Jx;else if(Xx(se))if(e0)Dt=UM;else{Dt=FM;var Ge=zM}else re=se.nodeName,!re||re.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?te&&Gf(te.elementType)&&(Dt=Jx):Dt=HM;if(Dt&&(Dt=Dt(n,te))){Zx(me,Dt,o,de);break e}Ge&&Ge(n,se,te),n==="focusout"&&te&&se.type==="number"&&te.memoizedProps.value!=null&&Yf(se,"number",se.value)}switch(Ge=te?cl(te):window,n){case"focusin":(Xx(Ge)||Ge.contentEditable==="true")&&(Gr=Ge,oh=te,xl=null);break;case"focusout":xl=oh=Gr=null;break;case"mousedown":lh=!0;break;case"contextmenu":case"mouseup":case"dragend":lh=!1,l0(me,o,de);break;case"selectionchange":if(YM)break;case"keydown":case"keyup":l0(me,o,de)}var gt;if(sh)e:{switch(n){case"compositionstart":var St="onCompositionStart";break e;case"compositionend":St="onCompositionEnd";break e;case"compositionupdate":St="onCompositionUpdate";break e}St=void 0}else Yr?Kx(n,o)&&(St="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(St="onCompositionStart");St&&(Yx&&o.locale!=="ko"&&(Yr||St!=="onCompositionStart"?St==="onCompositionEnd"&&Yr&&(gt=zx()):(Ji=de,Zf="value"in Ji?Ji.value:Ji.textContent,Yr=!0)),Ge=id(te,St),0<Ge.length&&(St=new Ux(St,n,null,o,de),me.push({event:St,listeners:Ge}),gt?St.data=gt:(gt=Qx(o),gt!==null&&(St.data=gt)))),(gt=WM?NM(n,o):LM(n,o))&&(St=id(te,"onBeforeInput"),0<St.length&&(Ge=new Ux("onBeforeInput","beforeinput",null,o,de),me.push({event:Ge,listeners:St}),Ge.data=gt)),MA(me,n,te,o,de)}_v(me,i)})}function Hl(n,i,o){return{instance:n,listener:i,currentTarget:o}}function id(n,i){for(var o=i+"Capture",c=[];n!==null;){var h=n,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=ul(n,o),h!=null&&c.unshift(Hl(n,h,m)),h=ul(n,i),h!=null&&c.push(Hl(n,h,m))),n.tag===3)return c;n=n.return}return[]}function RA(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Wv(n,i,o,c,h){for(var m=i._reactName,C=[];o!==null&&o!==c;){var O=o,F=O.alternate,te=O.stateNode;if(O=O.tag,F!==null&&F===c)break;O!==5&&O!==26&&O!==27||te===null||(F=te,h?(te=ul(o,m),te!=null&&C.unshift(Hl(o,te,F))):h||(te=ul(o,m),te!=null&&C.push(Hl(o,te,F)))),o=o.return}C.length!==0&&n.push({event:i,listeners:C})}var _A=/\r\n?/g,IA=/\u0000|\uFFFD/g;function Nv(n){return(typeof n=="string"?n:""+n).replace(_A,`
`).replace(IA,"")}function Lv(n,i){return i=Nv(i),Nv(n)===i}function Nt(n,i,o,c,h,m){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Hr(n,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Hr(n,""+c);break;case"className":lu(n,"class",c);break;case"tabIndex":lu(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":lu(n,o,c);break;case"style":Lx(n,c,m);break;case"data":if(i!=="object"){lu(n,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){n.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=uu(""+c),n.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(i!=="input"&&Nt(n,i,"name",h.name,h,null),Nt(n,i,"formEncType",h.formEncType,h,null),Nt(n,i,"formMethod",h.formMethod,h,null),Nt(n,i,"formTarget",h.formTarget,h,null)):(Nt(n,i,"encType",h.encType,h,null),Nt(n,i,"method",h.method,h,null),Nt(n,i,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=uu(""+c),n.setAttribute(o,c);break;case"onClick":c!=null&&(n.onclick=bi);break;case"onScroll":c!=null&&bt("scroll",n);break;case"onScrollEnd":c!=null&&bt("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}o=uu(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""+c):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":c===!0?n.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,c):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(o,c):n.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(o):n.setAttribute(o,c);break;case"popover":bt("beforetoggle",n),bt("toggle",n),ou(n,"popover",c);break;case"xlinkActuate":xi(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":xi(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":xi(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":xi(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":xi(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":xi(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":xi(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":xi(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":xi(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ou(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=cM.get(o)||o,ou(n,o,c))}}function Rp(n,i,o,c,h,m){switch(o){case"style":Lx(n,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"children":typeof c=="string"?Hr(n,c):(typeof c=="number"||typeof c=="bigint")&&Hr(n,""+c);break;case"onScroll":c!=null&&bt("scroll",n);break;case"onScrollEnd":c!=null&&bt("scrollend",n);break;case"onClick":c!=null&&(n.onclick=bi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mx.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),i=o.slice(2,h?o.length-7:void 0),m=n[ns]||null,m=m!=null?m[o]:null,typeof m=="function"&&n.removeEventListener(i,m,h),typeof c=="function")){typeof m!="function"&&m!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(i,c,h);break e}o in n?n[o]=c:c===!0?n.setAttribute(o,""):ou(n,o,c)}}}function zn(n,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bt("error",n),bt("load",n);var c=!1,h=!1,m;for(m in o)if(o.hasOwnProperty(m)){var C=o[m];if(C!=null)switch(m){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Nt(n,i,m,C,o,null)}}h&&Nt(n,i,"srcSet",o.srcSet,o,null),c&&Nt(n,i,"src",o.src,o,null);return;case"input":bt("invalid",n);var O=m=C=h=null,F=null,te=null;for(c in o)if(o.hasOwnProperty(c)){var de=o[c];if(de!=null)switch(c){case"name":h=de;break;case"type":C=de;break;case"checked":F=de;break;case"defaultChecked":te=de;break;case"value":m=de;break;case"defaultValue":O=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(a(137,i));break;default:Nt(n,i,c,de,o,null)}}_x(n,m,O,F,te,C,h,!1);return;case"select":bt("invalid",n),c=C=m=null;for(h in o)if(o.hasOwnProperty(h)&&(O=o[h],O!=null))switch(h){case"value":m=O;break;case"defaultValue":C=O;break;case"multiple":c=O;default:Nt(n,i,h,O,o,null)}i=m,o=C,n.multiple=!!c,i!=null?Fr(n,!!c,i,!1):o!=null&&Fr(n,!!c,o,!0);return;case"textarea":bt("invalid",n),m=h=c=null;for(C in o)if(o.hasOwnProperty(C)&&(O=o[C],O!=null))switch(C){case"value":c=O;break;case"defaultValue":h=O;break;case"children":m=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(a(91));break;default:Nt(n,i,C,O,o,null)}Wx(n,c,h,m);return;case"option":for(F in o)if(o.hasOwnProperty(F)&&(c=o[F],c!=null))switch(F){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Nt(n,i,F,c,o,null)}return;case"dialog":bt("beforetoggle",n),bt("toggle",n),bt("cancel",n),bt("close",n);break;case"iframe":case"object":bt("load",n);break;case"video":case"audio":for(c=0;c<Fl.length;c++)bt(Fl[c],n);break;case"image":bt("error",n),bt("load",n);break;case"details":bt("toggle",n);break;case"embed":case"source":case"link":bt("error",n),bt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in o)if(o.hasOwnProperty(te)&&(c=o[te],c!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Nt(n,i,te,c,o,null)}return;default:if(Gf(i)){for(de in o)o.hasOwnProperty(de)&&(c=o[de],c!==void 0&&Rp(n,i,de,c,o,void 0));return}}for(O in o)o.hasOwnProperty(O)&&(c=o[O],c!=null&&Nt(n,i,O,c,o,null))}function WA(n,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,C=null,O=null,F=null,te=null,de=null;for(re in o){var me=o[re];if(o.hasOwnProperty(re)&&me!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":F=me;default:c.hasOwnProperty(re)||Nt(n,i,re,null,c,me)}}for(var se in c){var re=c[se];if(me=o[se],c.hasOwnProperty(se)&&(re!=null||me!=null))switch(se){case"type":m=re;break;case"name":h=re;break;case"checked":te=re;break;case"defaultChecked":de=re;break;case"value":C=re;break;case"defaultValue":O=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(a(137,i));break;default:re!==me&&Nt(n,i,se,re,c,me)}}qf(n,C,O,F,te,de,m,h);return;case"select":re=C=O=se=null;for(m in o)if(F=o[m],o.hasOwnProperty(m)&&F!=null)switch(m){case"value":break;case"multiple":re=F;default:c.hasOwnProperty(m)||Nt(n,i,m,null,c,F)}for(h in c)if(m=c[h],F=o[h],c.hasOwnProperty(h)&&(m!=null||F!=null))switch(h){case"value":se=m;break;case"defaultValue":O=m;break;case"multiple":C=m;default:m!==F&&Nt(n,i,h,m,c,F)}i=O,o=C,c=re,se!=null?Fr(n,!!o,se,!1):!!c!=!!o&&(i!=null?Fr(n,!!o,i,!0):Fr(n,!!o,o?[]:"",!1));return;case"textarea":re=se=null;for(O in o)if(h=o[O],o.hasOwnProperty(O)&&h!=null&&!c.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Nt(n,i,O,null,c,h)}for(C in c)if(h=c[C],m=o[C],c.hasOwnProperty(C)&&(h!=null||m!=null))switch(C){case"value":se=h;break;case"defaultValue":re=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==m&&Nt(n,i,C,h,c,m)}Ix(n,se,re);return;case"option":for(var Fe in o)if(se=o[Fe],o.hasOwnProperty(Fe)&&se!=null&&!c.hasOwnProperty(Fe))switch(Fe){case"selected":n.selected=!1;break;default:Nt(n,i,Fe,null,c,se)}for(F in c)if(se=c[F],re=o[F],c.hasOwnProperty(F)&&se!==re&&(se!=null||re!=null))switch(F){case"selected":n.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:Nt(n,i,F,se,c,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var st in o)se=o[st],o.hasOwnProperty(st)&&se!=null&&!c.hasOwnProperty(st)&&Nt(n,i,st,null,c,se);for(te in c)if(se=c[te],re=o[te],c.hasOwnProperty(te)&&se!==re&&(se!=null||re!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(a(137,i));break;default:Nt(n,i,te,se,c,re)}return;default:if(Gf(i)){for(var Lt in o)se=o[Lt],o.hasOwnProperty(Lt)&&se!==void 0&&!c.hasOwnProperty(Lt)&&Rp(n,i,Lt,void 0,c,se);for(de in c)se=c[de],re=o[de],!c.hasOwnProperty(de)||se===re||se===void 0&&re===void 0||Rp(n,i,de,se,c,re);return}}for(var K in o)se=o[K],o.hasOwnProperty(K)&&se!=null&&!c.hasOwnProperty(K)&&Nt(n,i,K,null,c,se);for(me in c)se=c[me],re=o[me],!c.hasOwnProperty(me)||se===re||se==null&&re==null||Nt(n,i,me,se,c,re)}function Vv(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function NA(){if(typeof performance.getEntriesByType=="function"){for(var n=0,i=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var h=o[c],m=h.transferSize,C=h.initiatorType,O=h.duration;if(m&&O&&Vv(C)){for(C=0,O=h.responseEnd,c+=1;c<o.length;c++){var F=o[c],te=F.startTime;if(te>O)break;var de=F.transferSize,me=F.initiatorType;de&&Vv(me)&&(F=F.responseEnd,C+=de*(F<O?1:(O-te)/(F-te)))}if(--c,i+=8*(m+C)/(h.duration/1e3),n++,10<n)break}}if(0<n)return i/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var _p=null,Ip=null;function ad(n){return n.nodeType===9?n:n.ownerDocument}function Bv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zv(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Wp(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Np=null;function LA(){var n=window.event;return n&&n.type==="popstate"?n===Np?!1:(Np=n,!0):(Np=null,!1)}var Fv=typeof setTimeout=="function"?setTimeout:void 0,VA=typeof clearTimeout=="function"?clearTimeout:void 0,Hv=typeof Promise=="function"?Promise:void 0,BA=typeof queueMicrotask=="function"?queueMicrotask:typeof Hv<"u"?function(n){return Hv.resolve(null).then(n).catch(zA)}:Fv;function zA(n){setTimeout(function(){throw n})}function ga(n){return n==="head"}function Uv(n,i){var o=i,c=0;do{var h=o.nextSibling;if(n.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"||o==="/&"){if(c===0){n.removeChild(h),So(i);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Ul(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,Ul(o);for(var m=o.firstChild;m;){var C=m.nextSibling,O=m.nodeName;m[ll]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=C}}else o==="body"&&Ul(n.ownerDocument.body);o=h}while(o);So(i)}function qv(n,i){var o=n;n=0;do{var c=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=c}while(o)}function Lp(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Lp(o),Hf(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function FA(n,i,o,c){for(;n.nodeType===1;){var h=o;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[ll])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=_s(n.nextSibling),n===null)break}return null}function HA(n,i,o){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=_s(n.nextSibling),n===null))return null;return n}function Yv(n,i){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=_s(n.nextSibling),n===null))return null;return n}function Vp(n){return n.data==="$?"||n.data==="$~"}function Bp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function UA(n,i){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=i;else if(n.data!=="$?"||o.readyState!=="loading")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function _s(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return n}var zp=null;function Gv(n){n=n.nextSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(i===0)return _s(n.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}n=n.nextSibling}return null}function $v(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return n;i--}else o!=="/$"&&o!=="/&"||i++}n=n.previousSibling}return null}function Kv(n,i,o){switch(i=ad(o),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function Ul(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Hf(n)}var Is=new Map,Qv=new Set;function rd(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ii=q.d;q.d={f:qA,r:YA,D:GA,C:$A,L:KA,m:QA,X:ZA,S:XA,M:JA};function qA(){var n=Ii.f(),i=Xu();return n||i}function YA(n){var i=Vr(n);i!==null&&i.tag===5&&i.type==="form"?hb(i):Ii.r(n)}var xo=typeof document>"u"?null:document;function Xv(n,i,o){var c=xo;if(c&&typeof i=="string"&&i){var h=Ds(i);h='link[rel="'+n+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),Qv.has(h)||(Qv.add(h),n={rel:n,crossOrigin:o,href:i},c.querySelector(h)===null&&(i=c.createElement("link"),zn(i,"link",n),Rn(i),c.head.appendChild(i)))}}function GA(n){Ii.D(n),Xv("dns-prefetch",n,null)}function $A(n,i){Ii.C(n,i),Xv("preconnect",n,i)}function KA(n,i,o){Ii.L(n,i,o);var c=xo;if(c&&n&&i){var h='link[rel="preload"][as="'+Ds(i)+'"]';i==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+Ds(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+Ds(o.imageSizes)+'"]')):h+='[href="'+Ds(n)+'"]';var m=h;switch(i){case"style":m=bo(n);break;case"script":m=vo(n)}Is.has(m)||(n=v({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:n,as:i},o),Is.set(m,n),c.querySelector(h)!==null||i==="style"&&c.querySelector(ql(m))||i==="script"&&c.querySelector(Yl(m))||(i=c.createElement("link"),zn(i,"link",n),Rn(i),c.head.appendChild(i)))}}function QA(n,i){Ii.m(n,i);var o=xo;if(o&&n){var c=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Ds(c)+'"][href="'+Ds(n)+'"]',m=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=vo(n)}if(!Is.has(m)&&(n=v({rel:"modulepreload",href:n},i),Is.set(m,n),o.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Yl(m)))return}c=o.createElement("link"),zn(c,"link",n),Rn(c),o.head.appendChild(c)}}}function XA(n,i,o){Ii.S(n,i,o);var c=xo;if(c&&n){var h=Br(c).hoistableStyles,m=bo(n);i=i||"default";var C=h.get(m);if(!C){var O={loading:0,preload:null};if(C=c.querySelector(ql(m)))O.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":i},o),(o=Is.get(m))&&Fp(n,o);var F=C=c.createElement("link");Rn(F),zn(F,"link",n),F._p=new Promise(function(te,de){F.onload=te,F.onerror=de}),F.addEventListener("load",function(){O.loading|=1}),F.addEventListener("error",function(){O.loading|=2}),O.loading|=4,od(C,i,c)}C={type:"stylesheet",instance:C,count:1,state:O},h.set(m,C)}}}function ZA(n,i){Ii.X(n,i);var o=xo;if(o&&n){var c=Br(o).hoistableScripts,h=vo(n),m=c.get(h);m||(m=o.querySelector(Yl(h)),m||(n=v({src:n,async:!0},i),(i=Is.get(h))&&Hp(n,i),m=o.createElement("script"),Rn(m),zn(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(h,m))}}function JA(n,i){Ii.M(n,i);var o=xo;if(o&&n){var c=Br(o).hoistableScripts,h=vo(n),m=c.get(h);m||(m=o.querySelector(Yl(h)),m||(n=v({src:n,async:!0,type:"module"},i),(i=Is.get(h))&&Hp(n,i),m=o.createElement("script"),Rn(m),zn(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(h,m))}}function Zv(n,i,o,c){var h=(h=De.current)?rd(h):null;if(!h)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=bo(o.href),o=Br(h).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=bo(o.href);var m=Br(h).hoistableStyles,C=m.get(n);if(C||(h=h.ownerDocument||h,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,C),(m=h.querySelector(ql(n)))&&!m._p&&(C.instance=m,C.state.loading=5),Is.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Is.set(n,o),m||e2(h,n,o,C.state))),i&&c===null)throw Error(a(528,""));return C}if(i&&c!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=vo(o),o=Br(h).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function bo(n){return'href="'+Ds(n)+'"'}function ql(n){return'link[rel="stylesheet"]['+n+"]"}function Jv(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function e2(n,i,o,c){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=n.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),zn(i,"link",o),Rn(i),n.head.appendChild(i))}function vo(n){return'[src="'+Ds(n)+'"]'}function Yl(n){return"script[async]"+n}function eS(n,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=n.querySelector('style[data-href~="'+Ds(o.href)+'"]');if(c)return i.instance=c,Rn(c),c;var h=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Rn(c),zn(c,"style",h),od(c,o.precedence,n),i.instance=c;case"stylesheet":h=bo(o.href);var m=n.querySelector(ql(h));if(m)return i.state.loading|=4,i.instance=m,Rn(m),m;c=Jv(o),(h=Is.get(h))&&Fp(c,h),m=(n.ownerDocument||n).createElement("link"),Rn(m);var C=m;return C._p=new Promise(function(O,F){C.onload=O,C.onerror=F}),zn(m,"link",c),i.state.loading|=4,od(m,o.precedence,n),i.instance=m;case"script":return m=vo(o.src),(h=n.querySelector(Yl(m)))?(i.instance=h,Rn(h),h):(c=o,(h=Is.get(m))&&(c=v({},o),Hp(c,h)),n=n.ownerDocument||n,h=n.createElement("script"),Rn(h),zn(h,"link",c),n.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,od(c,o.precedence,n));return i.instance}function od(n,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,m=h,C=0;C<c.length;C++){var O=c[C];if(O.dataset.precedence===i)m=O;else if(m!==h)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(n,i.firstChild))}function Fp(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Hp(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var ld=null;function tS(n,i,o){if(ld===null){var c=new Map,h=ld=new Map;h.set(o,c)}else h=ld,c=h.get(o),c||(c=new Map,h.set(o,c));if(c.has(n))return c;for(c.set(n,null),o=o.getElementsByTagName(n),h=0;h<o.length;h++){var m=o[h];if(!(m[ll]||m[Nn]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var C=m.getAttribute(i)||"";C=n+C;var O=c.get(C);O?O.push(m):c.set(C,[m])}}return c}function nS(n,i,o){n=n.ownerDocument||n,n.head.insertBefore(o,i==="title"?n.querySelector("head > title"):null)}function t2(n,i,o){if(o===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function sS(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function n2(n,i,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var h=bo(c.href),m=i.querySelector(ql(h));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(n.count++,n=cd.bind(n),i.then(n,n)),o.state.loading|=4,o.instance=m,Rn(m);return}m=i.ownerDocument||i,c=Jv(c),(h=Is.get(h))&&Fp(c,h),m=m.createElement("link"),Rn(m);var C=m;C._p=new Promise(function(O,F){C.onload=O,C.onerror=F}),zn(m,"link",c),o.instance=m}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=cd.bind(n),i.addEventListener("load",o),i.addEventListener("error",o))}}var Up=0;function s2(n,i){return n.stylesheets&&n.count===0&&dd(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var c=setTimeout(function(){if(n.stylesheets&&dd(n,n.stylesheets),n.unsuspend){var m=n.unsuspend;n.unsuspend=null,m()}},6e4+i);0<n.imgBytes&&Up===0&&(Up=62500*NA());var h=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&dd(n,n.stylesheets),n.unsuspend)){var m=n.unsuspend;n.unsuspend=null,m()}},(n.imgBytes>Up?50:800)+i);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(c),clearTimeout(h)}}:null}function cd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dd(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ud=null;function dd(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ud=new Map,i.forEach(i2,n),ud=null,cd.call(n))}function i2(n,i){if(!(i.state.loading&4)){var o=ud.get(n);if(o)var c=o.get(null);else{o=new Map,ud.set(n,o);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var C=h[m];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(o.set(C.dataset.precedence,C),c=C)}c&&o.set(null,c)}h=i.instance,C=h.getAttribute("data-precedence"),m=o.get(C)||c,m===c&&o.set(null,h),o.set(C,h),this.count++,c=cd.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),m?m.parentNode.insertBefore(h,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),i.state.loading|=4}}var Gl={$$typeof:A,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function a2(n,i,o,c,h,m,C,O,F){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ts(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ts(0),this.hiddenUpdates=ts(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function iS(n,i,o,c,h,m,C,O,F,te,de,me){return n=new a2(n,i,o,C,F,te,de,me,O),i=1,m===!0&&(i|=24),m=ms(3,null,null,i),n.current=m,m.stateNode=n,i=Ch(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:c,isDehydrated:o,cache:i},Dh(m),n}function aS(n){return n?(n=Qr,n):Qr}function rS(n,i,o,c,h,m){h=aS(h),c.context===null?c.context=h:c.pendingContext=h,c=aa(i),c.payload={element:o},m=m===void 0?null:m,m!==null&&(c.callback=m),o=ra(n,c,i),o!==null&&(ls(o,n,i),Tl(o,n,i))}function oS(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<i?o:i}}function qp(n,i){oS(n,i),(n=n.alternate)&&oS(n,i)}function lS(n){if(n.tag===13||n.tag===31){var i=Ua(n,67108864);i!==null&&ls(i,n,67108864),qp(n,67108864)}}function cS(n){if(n.tag===13||n.tag===31){var i=vs();i=he(i);var o=Ua(n,i);o!==null&&ls(o,n,i),qp(n,i)}}var fd=!0;function r2(n,i,o,c){var h=z.T;z.T=null;var m=q.p;try{q.p=2,Yp(n,i,o,c)}finally{q.p=m,z.T=h}}function o2(n,i,o,c){var h=z.T;z.T=null;var m=q.p;try{q.p=8,Yp(n,i,o,c)}finally{q.p=m,z.T=h}}function Yp(n,i,o,c){if(fd){var h=Gp(c);if(h===null)Op(n,i,c,hd,o),dS(n,c);else if(c2(h,n,i,o,c))c.stopPropagation();else if(dS(n,c),i&4&&-1<l2.indexOf(n)){for(;h!==null;){var m=Vr(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var C=Ts(m.pendingLanes);if(C!==0){var O=m;for(O.pendingLanes|=2,O.entangledLanes|=2;C;){var F=1<<31-lt(C);O.entanglements[1]|=F,C&=~F}ii(m),(Mt&6)===0&&(Ku=ke()+500,zl(0))}}break;case 31:case 13:O=Ua(m,2),O!==null&&ls(O,m,2),Xu(),qp(m,2)}if(m=Gp(c),m===null&&Op(n,i,c,hd,o),m===h)break;h=m}h!==null&&c.stopPropagation()}else Op(n,i,c,null,o)}}function Gp(n){return n=Kf(n),$p(n)}var hd=null;function $p(n){if(hd=null,n=Lr(n),n!==null){var i=u(n);if(i===null)n=null;else{var o=i.tag;if(o===13){if(n=d(i),n!==null)return n;n=null}else if(o===31){if(n=f(i),n!==null)return n;n=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return hd=n,null}function uS(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ce()){case We:return 2;case ze:return 8;case dt:case qe:return 32;case Xe:return 268435456;default:return 32}default:return 32}}var Kp=!1,ya=null,xa=null,ba=null,$l=new Map,Kl=new Map,va=[],l2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dS(n,i){switch(n){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":xa=null;break;case"mouseover":case"mouseout":ba=null;break;case"pointerover":case"pointerout":$l.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(i.pointerId)}}function Ql(n,i,o,c,h,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:m,targetContainers:[h]},i!==null&&(i=Vr(i),i!==null&&lS(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),n)}function c2(n,i,o,c,h){switch(i){case"focusin":return ya=Ql(ya,n,i,o,c,h),!0;case"dragenter":return xa=Ql(xa,n,i,o,c,h),!0;case"mouseover":return ba=Ql(ba,n,i,o,c,h),!0;case"pointerover":var m=h.pointerId;return $l.set(m,Ql($l.get(m)||null,n,i,o,c,h)),!0;case"gotpointercapture":return m=h.pointerId,Kl.set(m,Ql(Kl.get(m)||null,n,i,o,c,h)),!0}return!1}function fS(n){var i=Lr(n.target);if(i!==null){var o=u(i);if(o!==null){if(i=o.tag,i===13){if(i=d(o),i!==null){n.blockedOn=i,ei(n.priority,function(){cS(o)});return}}else if(i===31){if(i=f(o),i!==null){n.blockedOn=i,ei(n.priority,function(){cS(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function pd(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var o=Gp(n.nativeEvent);if(o===null){o=n.nativeEvent;var c=new o.constructor(o.type,o);$f=c,o.target.dispatchEvent(c),$f=null}else return i=Vr(o),i!==null&&lS(i),n.blockedOn=o,!1;i.shift()}return!0}function hS(n,i,o){pd(n)&&o.delete(i)}function u2(){Kp=!1,ya!==null&&pd(ya)&&(ya=null),xa!==null&&pd(xa)&&(xa=null),ba!==null&&pd(ba)&&(ba=null),$l.forEach(hS),Kl.forEach(hS)}function md(n,i){n.blockedOn===i&&(n.blockedOn=null,Kp||(Kp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,u2)))}var gd=null;function pS(n){gd!==n&&(gd=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){gd===n&&(gd=null);for(var i=0;i<n.length;i+=3){var o=n[i],c=n[i+1],h=n[i+2];if(typeof c!="function"){if($p(c||o)===null)continue;break}var m=Vr(o);m!==null&&(n.splice(i,3),i-=3,Gh(m,{pending:!0,data:h,method:o.method,action:c},c,h))}}))}function So(n){function i(F){return md(F,n)}ya!==null&&md(ya,n),xa!==null&&md(xa,n),ba!==null&&md(ba,n),$l.forEach(i),Kl.forEach(i);for(var o=0;o<va.length;o++){var c=va[o];c.blockedOn===n&&(c.blockedOn=null)}for(;0<va.length&&(o=va[0],o.blockedOn===null);)fS(o),o.blockedOn===null&&va.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var h=o[c],m=o[c+1],C=h[ns]||null;if(typeof m=="function")C||pS(o);else if(C){var O=null;if(m&&m.hasAttribute("formAction")){if(h=m,C=m[ns]||null)O=C.formAction;else if($p(h)!==null)continue}else O=C.action;typeof O=="function"?o[c+1]=O:(o.splice(c,3),c-=3),pS(o)}}}function mS(){function n(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(C){return h=C})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,h=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Qp(n){this._internalRoot=n}yd.prototype.render=Qp.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,c=vs();rS(o,c,n,i,null,null)},yd.prototype.unmount=Qp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;rS(n.current,2,null,n,null,null),Xu(),i[Nr]=null}};function yd(n){this._internalRoot=n}yd.prototype.unstable_scheduleHydration=function(n){if(n){var i=tn();n={blockedOn:null,target:n,priority:i};for(var o=0;o<va.length&&i!==0&&i<va[o].priority;o++);va.splice(o,0,n),o===0&&fS(n)}};var gS=t.version;if(gS!=="19.2.0")throw Error(a(527,gS,"19.2.0"));q.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=g(i),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var d2={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xd.isDisabled&&xd.supportsFiber)try{Ie=xd.inject(d2),Ae=xd}catch{}}return Xl.createRoot=function(n,i){if(!l(n))throw Error(a(299));var o=!1,c="",h=Cb,m=kb,C=Tb;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(C=i.onRecoverableError)),i=iS(n,1,!1,null,null,o,c,null,h,m,C,mS),n[Nr]=i.current,Pp(n),new Qp(i)},Xl.hydrateRoot=function(n,i,o){if(!l(n))throw Error(a(299));var c=!1,h="",m=Cb,C=kb,O=Tb,F=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(C=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError),o.formState!==void 0&&(F=o.formState)),i=iS(n,1,!0,i,o??null,c,h,F,m,C,O,mS),i.context=aS(null),o=i.current,c=vs(),c=he(c),h=aa(c),h.callback=null,ra(o,h,c),o=c,i.current.lanes=o,yi(i,o),ii(i),n[Nr]=i.current,Pp(n),new yd(i)},Xl.version="19.2.0",Xl}var ES;function $P(){if(ES)return Zp.exports;ES=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Zp.exports=GP(),Zp.exports}var KP=$P();const QP=WC(KP);var zC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},MS=Ma.createContext&&Ma.createContext(zC),XP=["attr","size","title"];function ZP(e,t){if(e==null)return{};var s=JP(e,t),a,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)a=u[l],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function JP(e,t){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}function Fd(){return Fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Fd.apply(this,arguments)}function AS(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),s.push.apply(s,a)}return s}function Hd(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?AS(Object(s),!0).forEach(function(a){eO(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):AS(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function eO(e,t,s){return t=tO(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function tO(e){var t=nO(e,"string");return typeof t=="symbol"?t:t+""}function nO(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FC(e){return e&&e.map((t,s)=>Ma.createElement(t.tag,Hd({key:s},t.attr),FC(t.child)))}function HC(e){return t=>Ma.createElement(sO,Fd({attr:Hd({},e.attr)},t),FC(e.child))}function sO(e){var t=s=>{var{attr:a,size:l,title:u}=e,d=ZP(e,XP),f=l||s.size||"1em",p;return s.className&&(p=s.className),e.className&&(p=(p?p+" ":"")+e.className),Ma.createElement("svg",Fd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,a,d,{className:p,style:Hd(Hd({color:e.color||s.color},s.style),e.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),u&&Ma.createElement("title",null,u),e.children)};return MS!==void 0?Ma.createElement(MS.Consumer,null,s=>t(s)):t(zC)}function iO(e){return HC({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 16h4c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1v-1a2 2 0 1 0-4 0v1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1zm.8-6c0-.66.54-1.2 1.2-1.2.66 0 1.2.54 1.2 1.2v1h-2.4v-1zM17 1H7c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 18H7V5h10v14z"},child:[]}]})(e)}function aO(e){return HC({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m23.25 12.77-2.57-2.57-1.41 1.41 2.22 2.22-5.66 5.66L4.51 8.17l5.66-5.66 2.1 2.1 1.41-1.41L11.23.75a1.49 1.49 0 0 0-2.12 0L2.75 7.11a1.49 1.49 0 0 0 0 2.12l12.02 12.02c.59.59 1.54.59 2.12 0l6.36-6.36c.59-.59.59-1.54 0-2.12zM8.47 20.48A10.487 10.487 0 0 1 2.5 12H1c.51 6.16 5.66 11 11.95 11l.66-.03-3.81-3.82-1.33 1.33zM16 9h5c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1v-.5a2.5 2.5 0 0 0-5 0V3c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1zm.8-6.5c0-.94.76-1.7 1.7-1.7s1.7.76 1.7 1.7V3h-3.4v-.5z"},child:[]}]})(e)}class rO{constructor(){this.audioContext=null,this.isMuted=this.loadMutePreference(),this.volume=this.loadVolumePreference(),this.sounds={},this.initAudioContext()}initAudioContext(){if(!this.audioContext&&typeof window<"u")try{this.audioContext=new(window.AudioContext||window.webkitAudioContext)}catch(t){console.warn("Web Audio API not supported",t)}}loadMutePreference(){try{return localStorage.getItem("audioMuted")==="true"}catch{return!1}}loadVolumePreference(){try{const t=localStorage.getItem("audioVolume");return t?parseFloat(t):.3}catch{return .3}}saveMutePreference(){try{localStorage.setItem("audioMuted",this.isMuted.toString())}catch(t){console.warn("Could not save mute preference",t)}}toggleMute(){return this.isMuted=!this.isMuted,this.saveMutePreference(),this.isMuted}setMuted(t){this.isMuted=t,this.saveMutePreference()}isMutedState(){return this.isMuted}playBeep(t=800,s=200,a=null){if(this.isMuted)return;const l=a!==null?a:this.loadVolumePreference();if(!(!this.audioContext&&(this.initAudioContext(),!this.audioContext)))try{this.audioContext.state==="suspended"&&this.audioContext.resume();const u=this.audioContext.createOscillator(),d=this.audioContext.createGain();u.connect(d),d.connect(this.audioContext.destination),u.frequency.value=t,u.type="sine",d.gain.setValueAtTime(l,this.audioContext.currentTime),d.gain.exponentialRampToValueAtTime(.01,this.audioContext.currentTime+s/1e3),u.start(this.audioContext.currentTime),u.stop(this.audioContext.currentTime+s/1e3)}catch(u){console.warn("Could not play beep",u)}}playHighBeep(){this.playBeep(1e3,300)}playLowBeep(){this.playBeep(400,300)}playChime(){if(!this.isMuted&&!(!this.audioContext&&(this.initAudioContext(),!this.audioContext)))try{this.audioContext.state==="suspended"&&this.audioContext.resume(),this.playBeep(800,200),setTimeout(()=>{this.playBeep(1e3,400)},150)}catch(t){console.warn("Could not play chime",t)}}playCountdownBeep(){this.isMuted||(this.playBeep(600,150),setTimeout(()=>this.playBeep(600,150),200),setTimeout(()=>this.playBeep(600,150),400))}playCompletionFanfare(){if(!this.isMuted&&!(!this.audioContext&&(this.initAudioContext(),!this.audioContext)))try{this.audioContext.state==="suspended"&&this.audioContext.resume(),[523,659,784,1047].forEach((s,a)=>{setTimeout(()=>{this.playBeep(s,300)},a*150)})}catch(t){console.warn("Could not play completion fanfare",t)}}playTransitionBeep(){this.isMuted||this.playBeep(700,200)}}const Vt=new rO;class oO{constructor(){this.wakeLock=null,this.isSupported="wakeLock"in navigator}isWakeLockSupported(){return this.isSupported}async requestWakeLock(){if(!this.isSupported)return console.warn("Wake Lock API is not supported in this browser"),!1;try{return this.wakeLock=await navigator.wakeLock.request("screen"),console.log("Wake Lock acquired"),this.wakeLock.addEventListener("release",()=>{console.log("Wake Lock released")}),!0}catch(t){return console.error(`Failed to acquire wake lock: ${t.name}, ${t.message}`),!1}}async releaseWakeLock(){if(this.wakeLock!==null)try{await this.wakeLock.release(),this.wakeLock=null,console.log("Wake Lock manually released")}catch(t){console.error(`Failed to release wake lock: ${t.message}`)}}isActive(){return this.wakeLock!==null&&!this.wakeLock.released}async reacquireOnVisibilityChange(){if(!this.isSupported)return;const t=async()=>{document.visibilityState==="visible"&&this.wakeLock!==null&&this.wakeLock.released&&await this.requestWakeLock()};return document.addEventListener("visibilitychange",t),()=>{document.removeEventListener("visibilitychange",t)}}}const hr=new oO,Ig=x.memo(({currentWeek:e=1,deloadWeekActive:t=!1,onDeloadTrigger:s,clickable:a=!1})=>{const l=Jo(),d=["SUN","MON","TUE","WED","THU","FRI","SAT"][new Date().getDay()],f=e>=4&&!t&&a,g=t?{backgroundColor:l.palette.mode==="dark"?"rgba(255, 152, 0, 0.2)":"rgba(255, 152, 0, 0.15)",color:l.palette.warning.main,border:`1px solid ${l.palette.warning.main}`}:{backgroundColor:l.palette.mode==="dark"?"rgba(29, 181, 132, 0.2)":"rgba(29, 181, 132, 0.15)",color:l.palette.primary.main,border:`1px solid ${l.palette.mode==="dark","rgba(29, 181, 132, 0.3)"}`},y=()=>{f&&s&&s()},v=r.jsxs(V,{onClick:y,sx:{display:"inline-flex",alignItems:"center",gap:.5,padding:"4px 12px",borderRadius:"16px",fontWeight:600,fontSize:"0.875rem",letterSpacing:"0.5px",cursor:f?"pointer":"default",transition:"all 0.2s ease",...g,"&:hover":f?{transform:"scale(1.05)",boxShadow:l.palette.mode==="dark"?"0 2px 8px rgba(0, 0, 0, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.15)"}:{},"&:active":f?{transform:"scale(0.98)"}:{}},role:f?"button":void 0,tabIndex:f?0:void 0,onKeyDown:f?b=>{(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),y())}:void 0,"aria-label":f?`Week ${e} - Click to trigger deload week`:`${d}, Week ${e}${t?" (Deload)":""}`,children:[r.jsx(V,{component:"span",sx:{fontWeight:700},children:d}),r.jsx(V,{component:"span",sx:{fontSize:"1rem",opacity:.6,mx:.25},children:"|"}),r.jsx(V,{component:"span",sx:{fontWeight:600},children:t?"DELOAD":`WK ${e}`}),t&&r.jsx(Dg,{sx:{fontSize:"1rem",ml:.25}})]});return f?r.jsx(Zn,{title:"Click to trigger deload week",arrow:!0,children:v}):v});Ig.displayName="WeekBadge";Ig.propTypes={currentWeek:E.number,deloadWeekActive:E.bool,onDeloadTrigger:E.func,clickable:E.bool};const UC="@firebase/installations",Wg="0.6.19";const qC=1e4,YC=`w:${Wg}`,GC="FIS_v2",lO="https://firebaseinstallations.googleapis.com/v1",cO=3600*1e3,uO="installations",dO="Installations";const fO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Tr=new NC(uO,dO,fO);function $C(e){return e instanceof xP&&e.code.includes("request-failed")}function KC({projectId:e}){return`${lO}/projects/${e}/installations`}function QC(e){return{token:e.token,requestStatus:2,expiresIn:pO(e.expiresIn),creationTime:Date.now()}}async function XC(e,t){const a=(await t.json()).error;return Tr.create("request-failed",{requestName:e,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function ZC({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function hO(e,{refreshToken:t}){const s=ZC(e);return s.append("Authorization",mO(t)),s}async function JC(e){const t=await e();return t.status>=500&&t.status<600?e():t}function pO(e){return Number(e.replace("s","000"))}function mO(e){return`${GC} ${e}`}async function gO({appConfig:e,heartbeatServiceProvider:t},{fid:s}){const a=KC(e),l=ZC(e),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const d={fid:s,authVersion:GC,appId:e.appId,sdkVersion:YC},f={method:"POST",headers:l,body:JSON.stringify(d)},p=await JC(()=>fetch(a,f));if(p.ok){const g=await p.json();return{fid:g.fid||s,registrationStatus:2,refreshToken:g.refreshToken,authToken:QC(g.authToken)}}else throw await XC("Create Installation",p)}function ek(e){return new Promise(t=>{setTimeout(t,e)})}function yO(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}const xO=/^[cdef][\w-]{21}$/,Wm="";function bO(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const s=vO(e);return xO.test(s)?s:Wm}catch{return Wm}}function vO(e){return yO(e).substr(0,22)}function mf(e){return`${e.appName}!${e.appId}`}const tk=new Map;function nk(e,t){const s=mf(e);sk(s,t),SO(s,t)}function sk(e,t){const s=tk.get(e);if(s)for(const a of s)a(t)}function SO(e,t){const s=wO();s&&s.postMessage({key:e,fid:t}),CO()}let pr=null;function wO(){return!pr&&"BroadcastChannel"in self&&(pr=new BroadcastChannel("[Firebase] FID Change"),pr.onmessage=e=>{sk(e.data.key,e.data.fid)}),pr}function CO(){tk.size===0&&pr&&(pr.close(),pr=null)}const kO="firebase-installations-database",TO=1,jr="firebase-installations-store";let tm=null;function Ng(){return tm||(tm=_g(kO,TO,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(jr)}}})),tm}async function Ud(e,t){const s=mf(e),l=(await Ng()).transaction(jr,"readwrite"),u=l.objectStore(jr),d=await u.get(s);return await u.put(t,s),await l.done,(!d||d.fid!==t.fid)&&nk(e,t.fid),t}async function ik(e){const t=mf(e),a=(await Ng()).transaction(jr,"readwrite");await a.objectStore(jr).delete(t),await a.done}async function gf(e,t){const s=mf(e),l=(await Ng()).transaction(jr,"readwrite"),u=l.objectStore(jr),d=await u.get(s),f=t(d);return f===void 0?await u.delete(s):await u.put(f,s),await l.done,f&&(!d||d.fid!==f.fid)&&nk(e,f.fid),f}async function Lg(e){let t;const s=await gf(e.appConfig,a=>{const l=jO(a),u=DO(e,l);return t=u.registrationPromise,u.installationEntry});return s.fid===Wm?{installationEntry:await t}:{installationEntry:s,registrationPromise:t}}function jO(e){const t=e||{fid:bO(),registrationStatus:0};return ak(t)}function DO(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(Tr.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const s={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},a=EO(e,s);return{installationEntry:s,registrationPromise:a}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:MO(e)}:{installationEntry:t}}async function EO(e,t){try{const s=await gO(e,t);return Ud(e.appConfig,s)}catch(s){throw $C(s)&&s.customData.serverCode===409?await ik(e.appConfig):await Ud(e.appConfig,{fid:t.fid,registrationStatus:0}),s}}async function MO(e){let t=await PS(e.appConfig);for(;t.registrationStatus===1;)await ek(100),t=await PS(e.appConfig);if(t.registrationStatus===0){const{installationEntry:s,registrationPromise:a}=await Lg(e);return a||s}return t}function PS(e){return gf(e,t=>{if(!t)throw Tr.create("installation-not-found");return ak(t)})}function ak(e){return AO(e)?{fid:e.fid,registrationStatus:0}:e}function AO(e){return e.registrationStatus===1&&e.registrationTime+qC<Date.now()}async function PO({appConfig:e,heartbeatServiceProvider:t},s){const a=OO(e,s),l=hO(e,s),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const d={installation:{sdkVersion:YC,appId:e.appId}},f={method:"POST",headers:l,body:JSON.stringify(d)},p=await JC(()=>fetch(a,f));if(p.ok){const g=await p.json();return QC(g)}else throw await XC("Generate Auth Token",p)}function OO(e,{fid:t}){return`${KC(e)}/${t}/authTokens:generate`}async function Vg(e,t=!1){let s;const a=await gf(e.appConfig,u=>{if(!rk(u))throw Tr.create("not-registered");const d=u.authToken;if(!t&&IO(d))return u;if(d.requestStatus===1)return s=RO(e,t),u;{if(!navigator.onLine)throw Tr.create("app-offline");const f=NO(u);return s=_O(e,f),f}});return s?await s:a.authToken}async function RO(e,t){let s=await OS(e.appConfig);for(;s.authToken.requestStatus===1;)await ek(100),s=await OS(e.appConfig);const a=s.authToken;return a.requestStatus===0?Vg(e,t):a}function OS(e){return gf(e,t=>{if(!rk(t))throw Tr.create("not-registered");const s=t.authToken;return LO(s)?{...t,authToken:{requestStatus:0}}:t})}async function _O(e,t){try{const s=await PO(e,t),a={...t,authToken:s};return await Ud(e.appConfig,a),s}catch(s){if($C(s)&&(s.customData.serverCode===401||s.customData.serverCode===404))await ik(e.appConfig);else{const a={...t,authToken:{requestStatus:0}};await Ud(e.appConfig,a)}throw s}}function rk(e){return e!==void 0&&e.registrationStatus===2}function IO(e){return e.requestStatus===2&&!WO(e)}function WO(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+cO}function NO(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function LO(e){return e.requestStatus===1&&e.requestTime+qC<Date.now()}async function VO(e){const t=e,{installationEntry:s,registrationPromise:a}=await Lg(t);return a?a.catch(console.error):Vg(t).catch(console.error),s.fid}async function BO(e,t=!1){const s=e;return await zO(s),(await Vg(s,t)).token}async function zO(e){const{registrationPromise:t}=await Lg(e);t&&await t}function FO(e){if(!e||!e.options)throw nm("App Configuration");if(!e.name)throw nm("App Name");const t=["projectId","apiKey","appId"];for(const s of t)if(!e.options[s])throw nm(s);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function nm(e){return Tr.create("missing-app-config-values",{valueName:e})}const ok="installations",HO="installations-internal",UO=e=>{const t=e.getProvider("app").getImmediate(),s=FO(t),a=Rg(t,"heartbeat");return{app:t,appConfig:s,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},qO=e=>{const t=e.getProvider("app").getImmediate(),s=Rg(t,ok).getImmediate();return{getId:()=>VO(s),getToken:l=>BO(s,l)}};function YO(){Bd(new zd(ok,UO,"PUBLIC")),Bd(new zd(HO,qO,"PRIVATE"))}YO();Vd(UC,Wg);Vd(UC,Wg,"esm2020");const GO="/firebase-messaging-sw.js",$O="/firebase-cloud-messaging-push-scope",lk="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",KO="https://fcmregistrations.googleapis.com/v1",ck="google.c.a.c_id",QO="google.c.a.c_l",XO="google.c.a.ts",ZO="google.c.a.e",RS=1e4;var _S;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(_S||(_S={}));var Mc;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Mc||(Mc={}));function Ni(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function JO(e){const t="=".repeat((4-e.length%4)%4),s=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),a=atob(s),l=new Uint8Array(a.length);for(let u=0;u<a.length;++u)l[u]=a.charCodeAt(u);return l}const sm="fcm_token_details_db",eR=5,IS="fcm_token_object_Store";async function tR(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(u=>u.name).includes(sm))return null;let t=null;return(await _g(sm,eR,{upgrade:async(a,l,u,d)=>{if(l<2||!a.objectStoreNames.contains(IS))return;const f=d.objectStore(IS),p=await f.index("fcmSenderId").get(e);if(await f.clear(),!!p){if(l===2){const g=p;if(!g.auth||!g.p256dh||!g.endpoint)return;t={token:g.fcmToken,createTime:g.createTime??Date.now(),subscriptionOptions:{auth:g.auth,p256dh:g.p256dh,endpoint:g.endpoint,swScope:g.swScope,vapidKey:typeof g.vapidKey=="string"?g.vapidKey:Ni(g.vapidKey)}}}else if(l===3){const g=p;t={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:Ni(g.auth),p256dh:Ni(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:Ni(g.vapidKey)}}}else if(l===4){const g=p;t={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:Ni(g.auth),p256dh:Ni(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:Ni(g.vapidKey)}}}}}})).close(),await Xp(sm),await Xp("fcm_vapid_details_db"),await Xp("undefined"),nR(t)?t:null}function nR(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}const sR="firebase-messaging-database",iR=1,Ac="firebase-messaging-store";let im=null;function uk(){return im||(im=_g(sR,iR,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Ac)}}})),im}async function aR(e){const t=dk(e),a=await(await uk()).transaction(Ac).objectStore(Ac).get(t);if(a)return a;{const l=await tR(e.appConfig.senderId);if(l)return await Bg(e,l),l}}async function Bg(e,t){const s=dk(e),l=(await uk()).transaction(Ac,"readwrite");return await l.objectStore(Ac).put(t,s),await l.done,t}function dk({appConfig:e}){return e.appId}const rR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},es=new NC("messaging","Messaging",rR);async function oR(e,t){const s=await Fg(e),a=fk(t),l={method:"POST",headers:s,body:JSON.stringify(a)};let u;try{u=await(await fetch(zg(e.appConfig),l)).json()}catch(d){throw es.create("token-subscribe-failed",{errorInfo:d?.toString()})}if(u.error){const d=u.error.message;throw es.create("token-subscribe-failed",{errorInfo:d})}if(!u.token)throw es.create("token-subscribe-no-token");return u.token}async function lR(e,t){const s=await Fg(e),a=fk(t.subscriptionOptions),l={method:"PATCH",headers:s,body:JSON.stringify(a)};let u;try{u=await(await fetch(`${zg(e.appConfig)}/${t.token}`,l)).json()}catch(d){throw es.create("token-update-failed",{errorInfo:d?.toString()})}if(u.error){const d=u.error.message;throw es.create("token-update-failed",{errorInfo:d})}if(!u.token)throw es.create("token-update-no-token");return u.token}async function cR(e,t){const a={method:"DELETE",headers:await Fg(e)};try{const u=await(await fetch(`${zg(e.appConfig)}/${t}`,a)).json();if(u.error){const d=u.error.message;throw es.create("token-unsubscribe-failed",{errorInfo:d})}}catch(l){throw es.create("token-unsubscribe-failed",{errorInfo:l?.toString()})}}function zg({projectId:e}){return`${KO}/projects/${e}/registrations`}async function Fg({appConfig:e,installations:t}){const s=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${s}`})}function fk({p256dh:e,auth:t,endpoint:s,vapidKey:a}){const l={web:{endpoint:s,auth:t,p256dh:e}};return a!==lk&&(l.web.applicationPubKey=a),l}const uR=10080*60*1e3;async function dR(e){const t=await hR(e.swRegistration,e.vapidKey),s={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Ni(t.getKey("auth")),p256dh:Ni(t.getKey("p256dh"))},a=await aR(e.firebaseDependencies);if(a){if(pR(a.subscriptionOptions,s))return Date.now()>=a.createTime+uR?fR(e,{token:a.token,createTime:Date.now(),subscriptionOptions:s}):a.token;try{await cR(e.firebaseDependencies,a.token)}catch(l){console.warn(l)}return WS(e.firebaseDependencies,s)}else return WS(e.firebaseDependencies,s)}async function fR(e,t){try{const s=await lR(e.firebaseDependencies,t),a={...t,token:s,createTime:Date.now()};return await Bg(e.firebaseDependencies,a),s}catch(s){throw s}}async function WS(e,t){const a={token:await oR(e,t),createTime:Date.now(),subscriptionOptions:t};return await Bg(e,a),a.token}async function hR(e,t){const s=await e.pushManager.getSubscription();return s||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:JO(t)})}function pR(e,t){const s=t.vapidKey===e.vapidKey,a=t.endpoint===e.endpoint,l=t.auth===e.auth,u=t.p256dh===e.p256dh;return s&&a&&l&&u}function NS(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return mR(t,e),gR(t,e),yR(t,e),t}function mR(e,t){if(!t.notification)return;e.notification={};const s=t.notification.title;s&&(e.notification.title=s);const a=t.notification.body;a&&(e.notification.body=a);const l=t.notification.image;l&&(e.notification.image=l);const u=t.notification.icon;u&&(e.notification.icon=u)}function gR(e,t){t.data&&(e.data=t.data)}function yR(e,t){if(!t.fcmOptions&&!t.notification?.click_action)return;e.fcmOptions={};const s=t.fcmOptions?.link??t.notification?.click_action;s&&(e.fcmOptions.link=s);const a=t.fcmOptions?.analytics_label;a&&(e.fcmOptions.analyticsLabel=a)}function xR(e){return typeof e=="object"&&!!e&&ck in e}function bR(e){if(!e||!e.options)throw am("App Configuration Object");if(!e.name)throw am("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:s}=e;for(const a of t)if(!s[a])throw am(a);return{appName:e.name,projectId:s.projectId,apiKey:s.apiKey,appId:s.appId,senderId:s.messagingSenderId}}function am(e){return es.create("missing-app-config-values",{valueName:e})}class vR{constructor(t,s,a){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const l=bR(t);this.firebaseDependencies={app:t,appConfig:l,installations:s,analyticsProvider:a}}_delete(){return Promise.resolve()}}async function SR(e){try{e.swRegistration=await navigator.serviceWorker.register(GO,{scope:$O}),e.swRegistration.update().catch(()=>{}),await wR(e.swRegistration)}catch(t){throw es.create("failed-service-worker-registration",{browserErrorMessage:t?.message})}}async function wR(e){return new Promise((t,s)=>{const a=setTimeout(()=>s(new Error(`Service worker not registered after ${RS} ms`)),RS),l=e.installing||e.waiting;e.active?(clearTimeout(a),t()):l?l.onstatechange=u=>{u.target?.state==="activated"&&(l.onstatechange=null,clearTimeout(a),t())}:(clearTimeout(a),s(new Error("No incoming service worker found.")))})}async function CR(e,t){if(!t&&!e.swRegistration&&await SR(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw es.create("invalid-sw-registration");e.swRegistration=t}}async function kR(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=lk)}async function hk(e,t){if(!navigator)throw es.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw es.create("permission-blocked");return await kR(e,t?.vapidKey),await CR(e,t?.serviceWorkerRegistration),dR(e)}async function TR(e,t,s){const a=jR(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(a,{message_id:s[ck],message_name:s[QO],message_time:s[XO],message_device_time:Math.floor(Date.now()/1e3)})}function jR(e){switch(e){case Mc.NOTIFICATION_CLICKED:return"notification_open";case Mc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function DR(e,t){const s=t.data;if(!s.isFirebaseMessaging)return;e.onMessageHandler&&s.messageType===Mc.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(NS(s)):e.onMessageHandler.next(NS(s)));const a=s.data;xR(a)&&a[ZO]==="1"&&await TR(e,s.messageType,a)}const LS="@firebase/messaging",VS="0.12.23";const ER=e=>{const t=new vR(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",s=>DR(t,s)),t},MR=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:a=>hk(t,a)}};function AR(){Bd(new zd("messaging",ER,"PUBLIC")),Bd(new zd("messaging-internal",MR,"PRIVATE")),Vd(LS,VS),Vd(LS,VS,"esm2020")}async function pk(){try{await vP()}catch{return!1}return typeof window<"u"&&SP()&&wP()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function PR(e=bP()){return pk().then(t=>{if(!t)throw es.create("unsupported-browser")},t=>{throw es.create("indexed-db-unsupported")}),Rg(LC(e),"messaging").getImmediate()}async function OR(e,t){return e=LC(e),hk(e,t)}AR();const RR={apiKey:"AIzaSyCxgAj6zUGeScwae1Slw-JqX-ZAEcEhAcI",authDomain:"goodlift-7760a.firebaseapp.com",projectId:"goodlift-7760a",storageBucket:"goodlift-7760a.firebasestorage.app",messagingSenderId:"444306542177",appId:"1:444306542177:web:ea09005a6d4cf46d6f6420",measurementId:"G-YR73MY2CH6"},yf=CP(RR),mk=kP(yf),bd=TP(yf);VC(yf);let qd=null;pk().then(e=>{e&&(qd=PR(yf))}).catch(e=>{console.warn("Firebase Messaging not supported:",e)});const _R="modulepreload",IR=function(e){return"/goodlift/"+e},BS={},WR=function(t,s,a){let l=Promise.resolve();if(s&&s.length>0){let p=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=d?.nonce||d?.getAttribute("nonce");l=p(s.map(g=>{if(g=IR(g),g in BS)return;BS[g]=!0;const y=g.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const b=document.createElement("link");if(b.rel=y?"stylesheet":_R,y||(b.as="script"),b.crossOrigin="",b.href=g,f&&b.setAttribute("nonce",f),document.head.appendChild(b),y)return new Promise((S,j)=>{b.addEventListener("load",S),b.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return l.then(d=>{for(const f of d||[])f.status==="rejected"&&u(f.reason);return t().catch(u)})},Nm=e=>{if(e==null)return null;if(Array.isArray(e))return e.map(t=>Nm(t));if(typeof e=="object"){const t={};for(const[s,a]of Object.entries(e))a!==void 0&&(t[s]=Nm(a));return t}return e},An=async(e,t)=>{if(!e){console.error("Cannot save data: No user ID provided");return}try{const s=BC(mk,"users",e,"data","userData"),a=Nm({...t,lastUpdated:new Date().toISOString()});await jP(s,a,{merge:!0})}catch(s){throw console.error("Error saving data to Firebase:",s),s}},pi=async e=>{if(!e)return console.error("Cannot load data: No user ID provided"),null;try{const t=BC(mk,"users",e,"data","userData"),s=await DP(t);return s.exists()?s.data():null}catch(t){throw console.error("Error loading data from Firebase:",t),t}},qc=async(e,t)=>{if(e)try{await An(e,{workoutHistory:t})}catch(s){console.error("Error saving workout history to Firebase:",s)}},xf=async(e,t)=>{if(e)try{await An(e,{userStats:t})}catch(s){console.error("Error saving user stats to Firebase:",s)}},Hg=async(e,t)=>{if(e)try{await An(e,{exerciseWeights:t})}catch(s){console.error("Error saving exercise weights to Firebase:",s)}},Ug=async(e,t)=>{if(e)try{await An(e,{exerciseTargetReps:t})}catch(s){console.error("Error saving exercise target reps to Firebase:",s)}},NR=async(e,t)=>{if(e)try{await An(e,{hiitSessions:t})}catch(s){console.error("Error saving HIIT sessions to Firebase:",s)}},LR=async(e,t)=>{if(e)try{await An(e,{cardioSessions:t})}catch(s){console.error("Error saving cardio sessions to Firebase:",s)}},gk=async(e,t)=>{if(e)try{await An(e,{stretchSessions:t})}catch(s){console.error("Error saving stretch sessions to Firebase:",s)}},VR=async(e,t)=>{if(e)try{await An(e,{workoutPlans:t})}catch(s){console.error("Error saving workout plans to Firebase:",s)}},BR=async(e,t)=>{if(e)try{await An(e,{activePlanId:t})}catch(s){console.error("Error saving active plan to Firebase:",s)}},qg=async(e,t)=>{if(e)try{await An(e,{favoriteWorkouts:t})}catch(s){console.error("Error saving favorite workouts to Firebase:",s)}},Yg="goodlift_guest_mode",Lm=1,tl={WORKOUT_HISTORY:"goodlift_guest_workout_history",USER_STATS:"goodlift_guest_user_stats",EXERCISE_WEIGHTS:"goodlift_guest_exercise_weights",EXERCISE_TARGET_REPS:"goodlift_guest_exercise_target_reps",HIIT_SESSIONS:"goodlift_guest_hiit_sessions",STRETCH_SESSIONS:"goodlift_guest_stretch_sessions",CARDIO_SESSIONS:"goodlift_guest_cardio_sessions",FAVORITE_WORKOUTS:"goodlift_guest_favorite_workouts",FAVORITE_EXERCISES:"goodlift_guest_favorite_exercises",PINNED_EXERCISES:"goodlift_guest_pinned_exercises",WORKOUT_PLANS:"goodlift_guest_workout_plans",SNACKBAR_DISMISSED:"goodlift_guest_snackbar_dismissed",UNLOCKED_ACHIEVEMENTS:"goodlift_guest_unlocked_achievements",TOTAL_PRS:"goodlift_guest_total_prs",TOTAL_VOLUME:"goodlift_guest_total_volume",ACTIVE_PLAN:"goodlift_guest_active_plan",PLANS:"goodlift_guest_plans",PLAN_DAYS:"goodlift_guest_plan_days",PLAN_EXERCISES:"goodlift_guest_plan_exercises",YOGA_PRESETS:"goodlift_guest_yoga_presets",HIIT_PRESETS:"goodlift_guest_hiit_presets"},Je=()=>{try{return localStorage.getItem(Yg)==="true"}catch(e){return console.error("Error checking guest mode:",e),!1}},zR=()=>{try{localStorage.setItem(Yg,"true")}catch(e){console.error("Error enabling guest mode:",e),Gg(e)}},Yd=()=>{try{localStorage.removeItem(Yg)}catch(e){console.error("Error disabling guest mode:",e)}},jt=e=>{const t=tl[e.toUpperCase()];if(!t)return console.error(`Invalid category: ${e}`),null;try{const s=localStorage.getItem(t);if(!s)return null;const a=JSON.parse(s);return a.version&&a.version!==Lm&&console.warn(`Data version mismatch for ${e}: ${a.version} vs ${Lm}`),a.data!==void 0?a.data:a}catch(s){return console.error(`Error reading guest data for ${e}:`,s),null}},yt=(e,t)=>{const s=tl[e.toUpperCase()];if(!s){console.error(`Invalid category: ${e}`);return}try{const a={version:Lm,data:t,lastUpdated:new Date().toISOString()};localStorage.setItem(s,JSON.stringify(a))}catch(a){console.error(`Error saving guest data for ${e}:`,a),Gg(a)}},zS=()=>{try{Object.values(tl).forEach(e=>{localStorage.removeItem(e)}),Yd()}catch(e){console.error("Error clearing guest data:",e)}},yk=()=>{const e={};try{Object.entries(tl).forEach(([t,s])=>{if(t==="SNACKBAR_DISMISSED")return;const a=localStorage.getItem(s);if(a)try{const l=JSON.parse(a);e[t.toLowerCase()]=l.data!==void 0?l.data:l}catch(l){console.error(`Error parsing guest data for ${t}:`,l)}})}catch(t){console.error("Error getting all guest data:",t)}return e},FR=()=>{try{const e=localStorage.getItem(tl.SNACKBAR_DISMISSED);if(!e)return!0;const t=parseInt(e,10),s=Date.now(),a=1440*60*1e3;return s-t>a}catch(e){return console.error("Error checking snackbar status:",e),!0}},HR=()=>{try{localStorage.setItem(tl.SNACKBAR_DISMISSED,Date.now().toString())}catch(e){console.error("Error dismissing snackbar:",e),Gg(e)}},Gg=e=>{(e.name==="QuotaExceededError"||e.code===22)&&console.error("localStorage quota exceeded. Some data may not be saved.")},et={WORKOUT_HISTORY:"goodlift_workout_history",USER_STATS:"goodlift_user_stats",EXERCISE_WEIGHTS:"goodlift_exercise_weights",EXERCISE_TARGET_REPS:"goodlift_exercise_target_reps",HIIT_SESSIONS:"goodlift_hiit_sessions",STRETCH_SESSIONS:"goodlift_stretch_sessions",CARDIO_SESSIONS:"goodlift_cardio_sessions",FAVORITE_WORKOUTS:"goodlift_favorite_workouts",FAVORITE_EXERCISES:"goodlift_favorite_exercises",PINNED_EXERCISES:"goodlift_pinned_exercises",WORKOUT_PLANS:"goodlift_workout_plans",ACTIVE_PLAN:"goodlift_active_plan",UNLOCKED_ACHIEVEMENTS:"goodlift_unlocked_achievements",TOTAL_PRS:"goodlift_total_prs",TOTAL_VOLUME:"goodlift_total_volume",YOGA_PRESETS:"goodlift_yoga_presets",HIIT_PRESETS:"goodlift_hiit_presets"};let Tt=null;const xk=e=>{Tt=e},Yc=()=>Tt,Js=async()=>{try{if(Je())return jt("workout_history")||[];if(Tt)try{const t=await pi(Tt);if(t?.workoutHistory)return localStorage.setItem(et.WORKOUT_HISTORY,JSON.stringify(t.workoutHistory)),t.workoutHistory}catch(t){console.error("Firebase fetch failed, using localStorage:",t)}const e=localStorage.getItem(et.WORKOUT_HISTORY);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading workout history:",e),[]}},$g=async e=>{try{if(!e)throw new Error("Workout data is required");const t=await Js();t.unshift(e),Je()?yt("workout_history",t):(localStorage.setItem(et.WORKOUT_HISTORY,JSON.stringify(t)),Tt&&await qc(Tt,t))}catch(t){throw console.error("Error saving workout:",t),t}},UR=async e=>{try{const t=await Js();if(e<0||e>=t.length)throw new Error("Invalid workout index");t.splice(e,1),Je()?yt("workout_history",t):(localStorage.setItem(et.WORKOUT_HISTORY,JSON.stringify(t)),Tt&&await qc(Tt,t))}catch(t){throw console.error("Error deleting workout:",t),t}},qR=async(e,t)=>{try{const s=await Js();if(e<0||e>=s.length)throw new Error("Invalid workout index");s[e]={...s[e],...t},Je()?yt("workout_history",s):(localStorage.setItem(et.WORKOUT_HISTORY,JSON.stringify(s)),Tt&&await qc(Tt,s))}catch(s){throw console.error("Error updating workout:",s),s}},Gc=async()=>{try{const e=await Js(),{calculateStreak:t}=await WR(async()=>{const{calculateStreak:j}=await Promise.resolve().then(()=>o7);return{calculateStreak:j}},void 0),s=t(e),a=e.length,l=e.reduce((j,T)=>j+(T.duration||0),0),d=vk().reduce((j,T)=>j+(T.duration||0),0),p=Sk().reduce((j,T)=>j+(T.duration||0),0),y=bf().reduce((j,T)=>j+(T.duration||0),0),v=await kk(),b=await Tk(),S={totalWorkouts:a,totalTime:l,totalHiitTime:d,totalCardioTime:p,totalStretchTime:y,currentStreak:s.currentStreak,longestStreak:s.longestStreak,totalPRs:v,totalVolume:b};return Je()?yt("user_stats",S):(localStorage.setItem(et.USER_STATS,JSON.stringify(S)),Tt&&await xf(Tt,S)),S}catch(e){return console.error("Error calculating user stats:",e),{totalWorkouts:0,totalTime:0,totalHiitTime:0,totalCardioTime:0,totalStretchTime:0,currentStreak:0,longestStreak:0,totalPRs:0,totalVolume:0}}},Kg=async e=>{try{if(!e)throw new Error("Stats object is required");Je()?yt("user_stats",e):(localStorage.setItem(et.USER_STATS,JSON.stringify(e)),Tt&&await xf(Tt,e))}catch(t){throw console.error("Error saving user stats:",t),t}},hc=async e=>{try{if(Je()){const u=jt("exercise_weights")?.[e];return u!==void 0?u:null}if(Tt)try{const l=await pi(Tt);if(l?.exerciseWeights){localStorage.setItem(et.EXERCISE_WEIGHTS,JSON.stringify(l.exerciseWeights));const u=l.exerciseWeights[e];return u!==void 0?u:null}}catch(l){console.error("Firebase fetch failed, using localStorage:",l)}const t=localStorage.getItem(et.EXERCISE_WEIGHTS),a=(t?JSON.parse(t):{})[e];return a!==void 0?a:null}catch(t){return console.error("Error reading exercise weight:",t),null}},YR=async()=>{try{if(Je())return jt("exercise_weights")||{};if(Tt)try{const t=await pi(Tt);if(t?.exerciseWeights)return localStorage.setItem(et.EXERCISE_WEIGHTS,JSON.stringify(t.exerciseWeights)),t.exerciseWeights}catch(t){console.error("Firebase fetch failed, using localStorage:",t)}const e=localStorage.getItem(et.EXERCISE_WEIGHTS);return e?JSON.parse(e):{}}catch(e){return console.error("Error reading exercise weights:",e),{}}},Bi=async(e,t)=>{try{if(!e)throw new Error("Exercise name is required");if(t!=null&&(typeof t!="number"||t<0))throw new Error("Weight must be a positive number or null");const s=await YR();s[e]=t??null,Je()?yt("exercise_weights",s):(localStorage.setItem(et.EXERCISE_WEIGHTS,JSON.stringify(s)),Tt&&await Hg(Tt,s))}catch(s){throw console.error("Error saving exercise weight:",s),s}},Lo=async e=>{try{if(Je()){const u=jt("exercise_target_reps")?.[e];return u!==void 0?u:null}if(Tt)try{const l=await pi(Tt);if(l?.exerciseTargetReps){localStorage.setItem(et.EXERCISE_TARGET_REPS,JSON.stringify(l.exerciseTargetReps));const u=l.exerciseTargetReps[e];return u!==void 0?u:null}}catch(l){console.error("Firebase fetch failed, using localStorage:",l)}const t=localStorage.getItem(et.EXERCISE_TARGET_REPS),a=(t?JSON.parse(t):{})[e];return a!==void 0?a:null}catch(t){return console.error("Error reading exercise target reps:",t),null}},Gd=async(e,t)=>{try{if(!e)throw new Error("Exercise name is required");if(t!=null&&(typeof t!="number"||t<1))throw new Error("Reps must be a positive number or null");let s={};if(Je())s=jt("exercise_target_reps")||{};else{const a=localStorage.getItem(et.EXERCISE_TARGET_REPS);s=a?JSON.parse(a):{}}s[e]=t??null,Je()?yt("exercise_target_reps",s):(localStorage.setItem(et.EXERCISE_TARGET_REPS,JSON.stringify(s)),Tt&&await Ug(Tt,s))}catch(s){throw console.error("Error saving exercise target reps:",s),s}},bk=async e=>{if(!e){console.error("Cannot load data: No user ID provided");return}try{xk(e);const t=await pi(e);if(t)t.workoutHistory&&localStorage.setItem(et.WORKOUT_HISTORY,JSON.stringify(t.workoutHistory)),t.userStats&&localStorage.setItem(et.USER_STATS,JSON.stringify(t.userStats)),t.exerciseWeights&&localStorage.setItem(et.EXERCISE_WEIGHTS,JSON.stringify(t.exerciseWeights)),t.exerciseTargetReps&&localStorage.setItem(et.EXERCISE_TARGET_REPS,JSON.stringify(t.exerciseTargetReps)),t.hiitSessions&&localStorage.setItem(et.HIIT_SESSIONS,JSON.stringify(t.hiitSessions)),t.cardioSessions&&localStorage.setItem(et.CARDIO_SESSIONS,JSON.stringify(t.cardioSessions)),t.stretchSessions&&localStorage.setItem(et.STRETCH_SESSIONS,JSON.stringify(t.stretchSessions)),t.workoutPlans&&localStorage.setItem(et.WORKOUT_PLANS,JSON.stringify(t.workoutPlans)),t.activePlanId&&localStorage.setItem(et.ACTIVE_PLAN,t.activePlanId);else{const s=await Js(),a=await Gc(),l=localStorage.getItem(et.EXERCISE_WEIGHTS),u=l?JSON.parse(l):{},d=localStorage.getItem(et.EXERCISE_TARGET_REPS),f=d?JSON.parse(d):{},p=vk(),g=Sk(),y=bf(),v=localStorage.getItem(et.WORKOUT_PLANS),b=v?JSON.parse(v):[],S=localStorage.getItem(et.ACTIVE_PLAN);(s.length>0||a?.totalWorkouts>0||Object.keys(u).length>0||Object.keys(f).length>0||p.length>0||g.length>0||y.length>0||b.length>0||S)&&await Promise.all([qc(e,s),xf(e,a),Hg(e,u),Ug(e,f),NR(e,p),LR(e,g),gk(e,y),VR(e,b),BR(e,S)])}}catch(t){console.error("Error loading user data from cloud:",t)}},vk=()=>{try{if(Je())return jt("hiit_sessions")||[];const e=localStorage.getItem(et.HIIT_SESSIONS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading HIIT sessions:",e),[]}},Sk=()=>{try{if(Je())return jt("cardio_sessions")||[];const e=localStorage.getItem(et.CARDIO_SESSIONS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading cardio sessions:",e),[]}},zi=async()=>{try{if(Je())return jt("favorite_workouts")||[];if(Tt)try{const t=await pi(Tt);if(t?.favoriteWorkouts)return localStorage.setItem(et.FAVORITE_WORKOUTS,JSON.stringify(t.favoriteWorkouts)),t.favoriteWorkouts}catch(t){console.error("Firebase fetch failed for favorite workouts, using localStorage:",t)}const e=localStorage.getItem(et.FAVORITE_WORKOUTS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading favorite workouts:",e),[]}},Qg=async e=>{try{if(!e)throw new Error("Workout data is required");const t=await zi(),s={id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:e.name||`${e.type} Workout`,type:e.type,equipment:e.equipment||"all",exercises:e.exercises,savedAt:new Date().toISOString()};t.unshift(s),Je()?yt("favorite_workouts",t):(localStorage.setItem(et.FAVORITE_WORKOUTS,JSON.stringify(t)),Tt&&await qg(Tt,t))}catch(t){throw console.error("Error saving favorite workout:",t),t}},wk=async e=>{try{const s=(await zi()).filter(a=>a.id!==e);Je()?yt("favorite_workouts",s):(localStorage.setItem(et.FAVORITE_WORKOUTS,JSON.stringify(s)),Tt&&await qg(Tt,s))}catch(t){throw console.error("Error deleting favorite workout:",t),t}},GR=async(e,t)=>{try{if(!e||!t)throw new Error("Workout ID and new name are required");const a=(await zi()).map(l=>l.id===e?{...l,name:t}:l);Je()?yt("favorite_workouts",a):(localStorage.setItem(et.FAVORITE_WORKOUTS,JSON.stringify(a)),Tt&&await qg(Tt,a))}catch(s){throw console.error("Error updating favorite workout name:",s),s}},bf=()=>{try{if(Je())return jt("stretch_sessions")||[];const e=localStorage.getItem(et.STRETCH_SESSIONS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading stretch sessions:",e),[]}},$R=async e=>{try{if(!e)throw new Error("Session data is required");const t=bf();t.unshift(e),Je()?yt("stretch_sessions",t):(localStorage.setItem(et.STRETCH_SESSIONS,JSON.stringify(t)),Tt&&await gk(Tt,t))}catch(t){throw console.error("Error saving stretch session:",t),t}},Xg=()=>{try{if(Je()){const t=jt("favorite_exercises")||[];return new Set(t)}const e=localStorage.getItem(et.FAVORITE_EXERCISES);return new Set(e?JSON.parse(e):[])}catch(e){return console.error("Error reading favorite exercises:",e),new Set}},KR=e=>{try{if(!e)throw new Error("Exercise name is required");const t=Xg();let s;t.has(e)?(t.delete(e),s=!1):(t.add(e),s=!0);const a=Array.from(t);return Je()?yt("favorite_exercises",a):localStorage.setItem(et.FAVORITE_EXERCISES,JSON.stringify(a)),s}catch(t){throw console.error("Error toggling favorite exercise:",t),t}},QR=e=>Xg().has(e),XR=()=>{try{if(Je())return jt("pinned_exercises")||[];const e=localStorage.getItem(et.PINNED_EXERCISES);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading pinned exercises:",e),[]}},ZR=e=>{try{if(!Array.isArray(e))throw new Error("Pinned exercises must be an array");const t=e.slice(0,10);Je()?yt("pinned_exercises",t):localStorage.setItem(et.PINNED_EXERCISES,JSON.stringify(t))}catch(t){throw console.error("Error saving pinned exercises:",t),t}},Ck=async()=>{try{if(Je())return jt("unlocked_achievements")||[];const e=localStorage.getItem(et.UNLOCKED_ACHIEVEMENTS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading unlocked achievements:",e),[]}},JR=async e=>{try{Je()?yt("unlocked_achievements",e):localStorage.setItem(et.UNLOCKED_ACHIEVEMENTS,JSON.stringify(e))}catch(t){console.error("Error saving unlocked achievements:",t)}},e_=async e=>{try{const t=await Ck();t.includes(e)||(t.push(e),await JR(t))}catch(t){console.error("Error adding unlocked achievement:",t)}},kk=async()=>{try{if(Je())return jt("total_prs")||0;const e=localStorage.getItem(et.TOTAL_PRS);return e?parseInt(e,10):0}catch(e){return console.error("Error reading total PRs:",e),0}},t_=async()=>{try{const t=await kk()+1;return Je()?yt("total_prs",t):localStorage.setItem(et.TOTAL_PRS,t.toString()),t}catch(e){console.error("Error incrementing total PRs:",e)}},Tk=async()=>{try{if(Je())return jt("total_volume")||0;const e=localStorage.getItem(et.TOTAL_VOLUME);return e?parseFloat(e):0}catch(e){return console.error("Error reading total volume:",e),0}},n_=async e=>{try{const s=await Tk()+e;return Je()?yt("total_volume",s):localStorage.setItem(et.TOTAL_VOLUME,s.toString()),s}catch(t){console.error("Error adding to total volume:",t)}},pc=()=>{try{if(Je())return jt("yoga_presets")||[];const e=localStorage.getItem(et.YOGA_PRESETS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading yoga presets:",e),[]}},s_=async e=>{try{if(!e||!e.name)throw new Error("Preset must have a name");const t=pc(),s=t.findIndex(a=>a.id===e.id);return s>=0?t[s]={...e,updatedAt:Date.now()}:t.push({...e,id:e.id||`yoga_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:Date.now(),updatedAt:Date.now()}),Je()?yt("yoga_presets",t):localStorage.setItem(et.YOGA_PRESETS,JSON.stringify(t)),t}catch(t){throw console.error("Error saving yoga preset:",t),t}},i_=async e=>{try{const s=pc().filter(a=>a.id!==e);return Je()?yt("yoga_presets",s):localStorage.setItem(et.YOGA_PRESETS,JSON.stringify(s)),s}catch(t){throw console.error("Error deleting yoga preset:",t),t}},mc=()=>{try{if(Je())return jt("hiit_presets")||[];const e=localStorage.getItem(et.HIIT_PRESETS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading HIIT presets:",e),[]}},a_=async e=>{try{if(!e||!e.name)throw new Error("Preset must have a name");const t=mc(),s=t.findIndex(a=>a.id===e.id);return s>=0?t[s]={...e,updatedAt:Date.now()}:t.push({...e,id:e.id||`hiit_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:Date.now(),updatedAt:Date.now()}),Je()?yt("hiit_presets",t):localStorage.setItem(et.HIIT_PRESETS,JSON.stringify(t)),t}catch(t){throw console.error("Error saving HIIT preset:",t),t}},r_=async e=>{try{const s=mc().filter(a=>a.id!==e);return Je()?yt("hiit_presets",s):localStorage.setItem(et.HIIT_PRESETS,JSON.stringify(s)),s}catch(t){throw console.error("Error deleting HIIT preset:",t),t}},jk=x.createContext({}),Ia=()=>x.useContext(jk),Dk=({children:e})=>{const[t,s]=x.useState(null),[a,l]=x.useState(!0),[u,d]=x.useState(!1),[f,p]=x.useState(!1),g=()=>{if(Je()){const w=yk(),k=Object.keys(w).length>0;return p(k),k}return p(!1),!1},y=(w,k)=>PP(bd,w,k),v=(w,k)=>AP(bd,w,k),b=()=>u?(d(!1),Yd(),s(null),Promise.resolve()):MP(bd),S=()=>{zR(),d(!0),s({uid:"guest",email:null,isGuest:!0})},j=async(w,k)=>{if(d(!1),k||Yd(),s(w),!k)try{await bk(w.uid)}catch(D){console.error("Error loading user data:",D)}};x.useEffect(()=>(Je()&&(d(!0),s({uid:"guest",email:null,isGuest:!0}),g(),l(!1)),EP(bd,async k=>{if(k){const D=g();await j(k,D)}else Je()||(d(!1),p(!1),s(null),xk(null));l(!1)})),[]);const T={currentUser:t,isGuest:u,hasGuestData:f,signup:y,login:v,logout:b,continueAsGuest:S,checkGuestData:g};return r.jsx(jk.Provider,{value:T,children:!a&&e})};Dk.propTypes={children:E.node.isRequired};const Ek=6048e5,o_=864e5,Mk=6e4,Ak=36e5,l_=1e3,FS=Symbol.for("constructDateFrom");function en(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&FS in e?e[FS](t):e instanceof Date?new e.constructor(t):new Date(t)}function tt(e,t){return en(t||e,e)}function $c(e,t,s){const a=tt(e,s?.in);return isNaN(t)?en(s?.in||e,NaN):(t&&a.setDate(a.getDate()+t),a)}function vf(e,t,s){const a=tt(e,s?.in);if(isNaN(t))return en(e,NaN);if(!t)return a;const l=a.getDate(),u=en(e,a.getTime());u.setMonth(a.getMonth()+t+1,0);const d=u.getDate();return l>=d?u:(a.setFullYear(u.getFullYear(),u.getMonth(),l),a)}function Pk(e,t,s){return en(e,+tt(e)+t)}function c_(e,t,s){return Pk(e,t*Ak)}let u_={};function Ar(){return u_}function Xs(e,t){const s=Ar(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,l=tt(e,t?.in),u=l.getDay(),d=(u<a?7:0)+u-a;return l.setDate(l.getDate()-d),l.setHours(0,0,0,0),l}function $o(e,t){return Xs(e,{...t,weekStartsOn:1})}function Ok(e,t){const s=tt(e,t?.in),a=s.getFullYear(),l=en(s,0);l.setFullYear(a+1,0,4),l.setHours(0,0,0,0);const u=$o(l),d=en(s,0);d.setFullYear(a,0,4),d.setHours(0,0,0,0);const f=$o(d);return s.getTime()>=u.getTime()?a+1:s.getTime()>=f.getTime()?a:a-1}function $d(e){const t=tt(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function Kc(e,...t){const s=en.bind(null,t.find(a=>typeof a=="object"));return t.map(s)}function Pc(e,t){const s=tt(e,t?.in);return s.setHours(0,0,0,0),s}function d_(e,t,s){const[a,l]=Kc(s?.in,e,t),u=Pc(a),d=Pc(l),f=+u-$d(u),p=+d-$d(d);return Math.round((f-p)/o_)}function f_(e,t){const s=Ok(e,t),a=en(e,0);return a.setFullYear(s,0,4),a.setHours(0,0,0,0),$o(a)}function h_(e,t,s){const a=tt(e,s?.in);return a.setTime(a.getTime()+t*Mk),a}function p_(e,t,s){return Pk(e,t*1e3)}function m_(e,t,s){return $c(e,t*7,s)}function g_(e,t,s){return vf(e,t*12,s)}function Vm(e,t,s){const[a,l]=Kc(s?.in,e,t);return+Pc(a)==+Pc(l)}function y_(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Rk(e){return!(!y_(e)&&typeof e!="number"||isNaN(+tt(e)))}function HS(e,t){const s=tt(e,t?.in);return s.setHours(23,59,59,999),s}function _k(e,t){const s=tt(e,t?.in),a=s.getMonth();return s.setFullYear(s.getFullYear(),a+1,0),s.setHours(23,59,59,999),s}function Ik(e,t){const s=tt(e,t?.in);return s.setDate(1),s.setHours(0,0,0,0),s}function US(e,t){const s=tt(e,t?.in),a=s.getFullYear();return s.setFullYear(a+1,0,0),s.setHours(23,59,59,999),s}function Wk(e,t){const s=tt(e,t?.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}function Nk(e,t){const s=Ar(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,l=tt(e,t?.in),u=l.getDay(),d=(u<a?-7:0)+6-(u-a);return l.setDate(l.getDate()+d),l.setHours(23,59,59,999),l}const x_={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},b_=(e,t,s)=>{let a;const l=x_[e];return typeof l=="string"?a=l:t===1?a=l.one:a=l.other.replace("{{count}}",t.toString()),s?.addSuffix?s.comparison&&s.comparison>0?"in "+a:a+" ago":a};function rm(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const v_={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},S_={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},w_={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},C_={date:rm({formats:v_,defaultWidth:"full"}),time:rm({formats:S_,defaultWidth:"full"}),dateTime:rm({formats:w_,defaultWidth:"full"})},k_={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},T_=(e,t,s,a)=>k_[e];function Zl(e){return(t,s)=>{const a=s?.context?String(s.context):"standalone";let l;if(a==="formatting"&&e.formattingValues){const d=e.defaultFormattingWidth||e.defaultWidth,f=s?.width?String(s.width):d;l=e.formattingValues[f]||e.formattingValues[d]}else{const d=e.defaultWidth,f=s?.width?String(s.width):e.defaultWidth;l=e.values[f]||e.values[d]}const u=e.argumentCallback?e.argumentCallback(t):t;return l[u]}}const j_={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},D_={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},E_={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},M_={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},A_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},P_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},O_=(e,t)=>{const s=Number(e),a=s%100;if(a>20||a<10)switch(a%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},R_={ordinalNumber:O_,era:Zl({values:j_,defaultWidth:"wide"}),quarter:Zl({values:D_,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Zl({values:E_,defaultWidth:"wide"}),day:Zl({values:M_,defaultWidth:"wide"}),dayPeriod:Zl({values:A_,defaultWidth:"wide",formattingValues:P_,defaultFormattingWidth:"wide"})};function Jl(e){return(t,s={})=>{const a=s.width,l=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],u=t.match(l);if(!u)return null;const d=u[0],f=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],p=Array.isArray(f)?I_(f,v=>v.test(d)):__(f,v=>v.test(d));let g;g=e.valueCallback?e.valueCallback(p):p,g=s.valueCallback?s.valueCallback(g):g;const y=t.slice(d.length);return{value:g,rest:y}}}function __(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function I_(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function W_(e){return(t,s={})=>{const a=t.match(e.matchPattern);if(!a)return null;const l=a[0],u=t.match(e.parsePattern);if(!u)return null;let d=e.valueCallback?e.valueCallback(u[0]):u[0];d=s.valueCallback?s.valueCallback(d):d;const f=t.slice(l.length);return{value:d,rest:f}}}const N_=/^(\d+)(th|st|nd|rd)?/i,L_=/\d+/i,V_={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},B_={any:[/^b/i,/^(a|c)/i]},z_={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},F_={any:[/1/i,/2/i,/3/i,/4/i]},H_={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},U_={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},q_={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Y_={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},G_={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$_={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},K_={ordinalNumber:W_({matchPattern:N_,parsePattern:L_,valueCallback:e=>parseInt(e,10)}),era:Jl({matchPatterns:V_,defaultMatchWidth:"wide",parsePatterns:B_,defaultParseWidth:"any"}),quarter:Jl({matchPatterns:z_,defaultMatchWidth:"wide",parsePatterns:F_,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Jl({matchPatterns:H_,defaultMatchWidth:"wide",parsePatterns:U_,defaultParseWidth:"any"}),day:Jl({matchPatterns:q_,defaultMatchWidth:"wide",parsePatterns:Y_,defaultParseWidth:"any"}),dayPeriod:Jl({matchPatterns:G_,defaultMatchWidth:"any",parsePatterns:$_,defaultParseWidth:"any"})},Zg={code:"en-US",formatDistance:b_,formatLong:C_,formatRelative:T_,localize:R_,match:K_,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Q_(e,t){const s=tt(e,t?.in);return d_(s,Wk(s))+1}function Lk(e,t){const s=tt(e,t?.in),a=+$o(s)-+f_(s);return Math.round(a/Ek)+1}function Jg(e,t){const s=tt(e,t?.in),a=s.getFullYear(),l=Ar(),u=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,d=en(t?.in||e,0);d.setFullYear(a+1,0,u),d.setHours(0,0,0,0);const f=Xs(d,t),p=en(t?.in||e,0);p.setFullYear(a,0,u),p.setHours(0,0,0,0);const g=Xs(p,t);return+s>=+f?a+1:+s>=+g?a:a-1}function X_(e,t){const s=Ar(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,l=Jg(e,t),u=en(t?.in||e,0);return u.setFullYear(l,0,a),u.setHours(0,0,0,0),Xs(u,t)}function ey(e,t){const s=tt(e,t?.in),a=+Xs(s,t)-+X_(s,t);return Math.round(a/Ek)+1}function It(e,t){const s=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return s+a}const wa={y(e,t){const s=e.getFullYear(),a=s>0?s:1-s;return It(t==="yy"?a%100:a,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):It(s+1,2)},d(e,t){return It(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,t){return It(e.getHours()%12||12,t.length)},H(e,t){return It(e.getHours(),t.length)},m(e,t){return It(e.getMinutes(),t.length)},s(e,t){return It(e.getSeconds(),t.length)},S(e,t){const s=t.length,a=e.getMilliseconds(),l=Math.trunc(a*Math.pow(10,s-3));return It(l,t.length)}},wo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qS={G:function(e,t,s){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(a,{width:"abbreviated"});case"GGGGG":return s.era(a,{width:"narrow"});case"GGGG":default:return s.era(a,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const a=e.getFullYear(),l=a>0?a:1-a;return s.ordinalNumber(l,{unit:"year"})}return wa.y(e,t)},Y:function(e,t,s,a){const l=Jg(e,a),u=l>0?l:1-l;if(t==="YY"){const d=u%100;return It(d,2)}return t==="Yo"?s.ordinalNumber(u,{unit:"year"}):It(u,t.length)},R:function(e,t){const s=Ok(e);return It(s,t.length)},u:function(e,t){const s=e.getFullYear();return It(s,t.length)},Q:function(e,t,s){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return It(a,2);case"Qo":return s.ordinalNumber(a,{unit:"quarter"});case"QQQ":return s.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,s){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return It(a,2);case"qo":return s.ordinalNumber(a,{unit:"quarter"});case"qqq":return s.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,s){const a=e.getMonth();switch(t){case"M":case"MM":return wa.M(e,t);case"Mo":return s.ordinalNumber(a+1,{unit:"month"});case"MMM":return s.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,s){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return It(a+1,2);case"Lo":return s.ordinalNumber(a+1,{unit:"month"});case"LLL":return s.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,s,a){const l=ey(e,a);return t==="wo"?s.ordinalNumber(l,{unit:"week"}):It(l,t.length)},I:function(e,t,s){const a=Lk(e);return t==="Io"?s.ordinalNumber(a,{unit:"week"}):It(a,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):wa.d(e,t)},D:function(e,t,s){const a=Q_(e);return t==="Do"?s.ordinalNumber(a,{unit:"dayOfYear"}):It(a,t.length)},E:function(e,t,s){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(a,{width:"short",context:"formatting"});case"EEEE":default:return s.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,s,a){const l=e.getDay(),u=(l-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(u);case"ee":return It(u,2);case"eo":return s.ordinalNumber(u,{unit:"day"});case"eee":return s.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(l,{width:"short",context:"formatting"});case"eeee":default:return s.day(l,{width:"wide",context:"formatting"})}},c:function(e,t,s,a){const l=e.getDay(),u=(l-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(u);case"cc":return It(u,t.length);case"co":return s.ordinalNumber(u,{unit:"day"});case"ccc":return s.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(l,{width:"narrow",context:"standalone"});case"cccccc":return s.day(l,{width:"short",context:"standalone"});case"cccc":default:return s.day(l,{width:"wide",context:"standalone"})}},i:function(e,t,s){const a=e.getDay(),l=a===0?7:a;switch(t){case"i":return String(l);case"ii":return It(l,t.length);case"io":return s.ordinalNumber(l,{unit:"day"});case"iii":return s.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(a,{width:"short",context:"formatting"});case"iiii":default:return s.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,s){const l=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(e,t,s){const a=e.getHours();let l;switch(a===12?l=wo.noon:a===0?l=wo.midnight:l=a/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(e,t,s){const a=e.getHours();let l;switch(a>=17?l=wo.evening:a>=12?l=wo.afternoon:a>=4?l=wo.morning:l=wo.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),s.ordinalNumber(a,{unit:"hour"})}return wa.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):wa.H(e,t)},K:function(e,t,s){const a=e.getHours()%12;return t==="Ko"?s.ordinalNumber(a,{unit:"hour"}):It(a,t.length)},k:function(e,t,s){let a=e.getHours();return a===0&&(a=24),t==="ko"?s.ordinalNumber(a,{unit:"hour"}):It(a,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):wa.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):wa.s(e,t)},S:function(e,t){return wa.S(e,t)},X:function(e,t,s){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return GS(a);case"XXXX":case"XX":return ur(a);case"XXXXX":case"XXX":default:return ur(a,":")}},x:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"x":return GS(a);case"xxxx":case"xx":return ur(a);case"xxxxx":case"xxx":default:return ur(a,":")}},O:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+YS(a,":");case"OOOO":default:return"GMT"+ur(a,":")}},z:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+YS(a,":");case"zzzz":default:return"GMT"+ur(a,":")}},t:function(e,t,s){const a=Math.trunc(+e/1e3);return It(a,t.length)},T:function(e,t,s){return It(+e,t.length)}};function YS(e,t=""){const s=e>0?"-":"+",a=Math.abs(e),l=Math.trunc(a/60),u=a%60;return u===0?s+String(l):s+String(l)+t+It(u,2)}function GS(e,t){return e%60===0?(e>0?"-":"+")+It(Math.abs(e)/60,2):ur(e,t)}function ur(e,t=""){const s=e>0?"-":"+",a=Math.abs(e),l=It(Math.trunc(a/60),2),u=It(a%60,2);return s+l+t+u}const $S=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Vk=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Z_=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],a=s[1],l=s[2];if(!l)return $S(e,t);let u;switch(a){case"P":u=t.dateTime({width:"short"});break;case"PP":u=t.dateTime({width:"medium"});break;case"PPP":u=t.dateTime({width:"long"});break;case"PPPP":default:u=t.dateTime({width:"full"});break}return u.replace("{{date}}",$S(a,t)).replace("{{time}}",Vk(l,t))},Kd={p:Vk,P:Z_},J_=/^D+$/,e5=/^Y+$/,t5=["D","DD","YY","YYYY"];function Bk(e){return J_.test(e)}function zk(e){return e5.test(e)}function Bm(e,t,s){const a=n5(e,t,s);if(console.warn(a),t5.includes(e))throw new RangeError(a)}function n5(e,t,s){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const s5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,i5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,a5=/^'([^]*?)'?$/,r5=/''/g,o5=/[a-zA-Z]/;function zm(e,t,s){const a=Ar(),l=s?.locale??a.locale??Zg,u=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,d=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,f=tt(e,s?.in);if(!Rk(f))throw new RangeError("Invalid time value");let p=t.match(i5).map(y=>{const v=y[0];if(v==="p"||v==="P"){const b=Kd[v];return b(y,l.formatLong)}return y}).join("").match(s5).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const v=y[0];if(v==="'")return{isToken:!1,value:l5(y)};if(qS[v])return{isToken:!0,value:y};if(v.match(o5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:y}});l.localize.preprocessor&&(p=l.localize.preprocessor(f,p));const g={firstWeekContainsDate:u,weekStartsOn:d,locale:l};return p.map(y=>{if(!y.isToken)return y.value;const v=y.value;(!s?.useAdditionalWeekYearTokens&&zk(v)||!s?.useAdditionalDayOfYearTokens&&Bk(v))&&Bm(v,t,String(e));const b=qS[v[0]];return b(f,v,l.localize,g)}).join("")}function l5(e){const t=e.match(a5);return t?t[1].replace(r5,"'"):e}function c5(e,t){return tt(e,t?.in).getDate()}function Fk(e,t){const s=tt(e,t?.in),a=s.getFullYear(),l=s.getMonth(),u=en(s,0);return u.setFullYear(a,l+1,0),u.setHours(0,0,0,0),u.getDate()}function u5(){return Object.assign({},Ar())}function d5(e,t){return tt(e,t?.in).getHours()}function f5(e,t){const s=tt(e,t?.in).getDay();return s===0?7:s}function h5(e){return tt(e).getMilliseconds()}function p5(e,t){return tt(e,t?.in).getMinutes()}function m5(e,t){return tt(e,t?.in).getMonth()}function g5(e){return tt(e).getSeconds()}function y5(e,t){return tt(e,t?.in).getFullYear()}function Rd(e,t){return+tt(e)>+tt(t)}function om(e,t){return+tt(e)<+tt(t)}function x5(e,t){return+tt(e)==+tt(t)}function b5(e,t){const s=v5(t)?new t(0):en(t,0);return s.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),s.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),s}function v5(e){return typeof e=="function"&&e.prototype?.constructor===e}const S5=10;class Hk{subPriority=0;validate(t,s){return!0}}class w5 extends Hk{constructor(t,s,a,l,u){super(),this.value=t,this.validateValue=s,this.setValue=a,this.priority=l,u&&(this.subPriority=u)}validate(t,s){return this.validateValue(t,this.value,s)}set(t,s,a){return this.setValue(t,s,this.value,a)}}class C5 extends Hk{priority=S5;subPriority=-1;constructor(t,s){super(),this.context=t||(a=>en(s,a))}set(t,s){return s.timestampIsSet?t:en(t,b5(t,this.context))}}class Pt{run(t,s,a,l){const u=this.parse(t,s,a,l);return u?{setter:new w5(u.value,this.validate,this.set,this.priority,this.subPriority),rest:u.rest}:null}validate(t,s,a){return!0}}class k5 extends Pt{priority=140;parse(t,s,a){switch(s){case"G":case"GG":case"GGG":return a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"});case"GGGGG":return a.era(t,{width:"narrow"});case"GGGG":default:return a.era(t,{width:"wide"})||a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"})}}set(t,s,a){return s.era=a,t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const xn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},oi={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function bn(e,t){return e&&{value:t(e.value),rest:e.rest}}function sn(e,t){const s=t.match(e);return s?{value:parseInt(s[0],10),rest:t.slice(s[0].length)}:null}function li(e,t){const s=t.match(e);if(!s)return null;if(s[0]==="Z")return{value:0,rest:t.slice(1)};const a=s[1]==="+"?1:-1,l=s[2]?parseInt(s[2],10):0,u=s[3]?parseInt(s[3],10):0,d=s[5]?parseInt(s[5],10):0;return{value:a*(l*Ak+u*Mk+d*l_),rest:t.slice(s[0].length)}}function Uk(e){return sn(xn.anyDigitsSigned,e)}function fn(e,t){switch(e){case 1:return sn(xn.singleDigit,t);case 2:return sn(xn.twoDigits,t);case 3:return sn(xn.threeDigits,t);case 4:return sn(xn.fourDigits,t);default:return sn(new RegExp("^\\d{1,"+e+"}"),t)}}function Qd(e,t){switch(e){case 1:return sn(xn.singleDigitSigned,t);case 2:return sn(xn.twoDigitsSigned,t);case 3:return sn(xn.threeDigitsSigned,t);case 4:return sn(xn.fourDigitsSigned,t);default:return sn(new RegExp("^-?\\d{1,"+e+"}"),t)}}function ty(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function qk(e,t){const s=t>0,a=s?t:1-t;let l;if(a<=50)l=e||100;else{const u=a+50,d=Math.trunc(u/100)*100,f=e>=u%100;l=e+d-(f?100:0)}return s?l:1-l}function Yk(e){return e%400===0||e%4===0&&e%100!==0}class T5 extends Pt{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,s,a){const l=u=>({year:u,isTwoDigitYear:s==="yy"});switch(s){case"y":return bn(fn(4,t),l);case"yo":return bn(a.ordinalNumber(t,{unit:"year"}),l);default:return bn(fn(s.length,t),l)}}validate(t,s){return s.isTwoDigitYear||s.year>0}set(t,s,a){const l=t.getFullYear();if(a.isTwoDigitYear){const d=qk(a.year,l);return t.setFullYear(d,0,1),t.setHours(0,0,0,0),t}const u=!("era"in s)||s.era===1?a.year:1-a.year;return t.setFullYear(u,0,1),t.setHours(0,0,0,0),t}}class j5 extends Pt{priority=130;parse(t,s,a){const l=u=>({year:u,isTwoDigitYear:s==="YY"});switch(s){case"Y":return bn(fn(4,t),l);case"Yo":return bn(a.ordinalNumber(t,{unit:"year"}),l);default:return bn(fn(s.length,t),l)}}validate(t,s){return s.isTwoDigitYear||s.year>0}set(t,s,a,l){const u=Jg(t,l);if(a.isTwoDigitYear){const f=qk(a.year,u);return t.setFullYear(f,0,l.firstWeekContainsDate),t.setHours(0,0,0,0),Xs(t,l)}const d=!("era"in s)||s.era===1?a.year:1-a.year;return t.setFullYear(d,0,l.firstWeekContainsDate),t.setHours(0,0,0,0),Xs(t,l)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class D5 extends Pt{priority=130;parse(t,s){return Qd(s==="R"?4:s.length,t)}set(t,s,a){const l=en(t,0);return l.setFullYear(a,0,4),l.setHours(0,0,0,0),$o(l)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class E5 extends Pt{priority=130;parse(t,s){return Qd(s==="u"?4:s.length,t)}set(t,s,a){return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class M5 extends Pt{priority=120;parse(t,s,a){switch(s){case"Q":case"QQ":return fn(s.length,t);case"Qo":return a.ordinalNumber(t,{unit:"quarter"});case"QQQ":return a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(t,{width:"wide",context:"formatting"})||a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,s){return s>=1&&s<=4}set(t,s,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class A5 extends Pt{priority=120;parse(t,s,a){switch(s){case"q":case"qq":return fn(s.length,t);case"qo":return a.ordinalNumber(t,{unit:"quarter"});case"qqq":return a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(t,{width:"wide",context:"standalone"})||a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,s){return s>=1&&s<=4}set(t,s,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class P5 extends Pt{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,s,a){const l=u=>u-1;switch(s){case"M":return bn(sn(xn.month,t),l);case"MM":return bn(fn(2,t),l);case"Mo":return bn(a.ordinalNumber(t,{unit:"month"}),l);case"MMM":return a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(t,{width:"wide",context:"formatting"})||a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"})}}validate(t,s){return s>=0&&s<=11}set(t,s,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}}class O5 extends Pt{priority=110;parse(t,s,a){const l=u=>u-1;switch(s){case"L":return bn(sn(xn.month,t),l);case"LL":return bn(fn(2,t),l);case"Lo":return bn(a.ordinalNumber(t,{unit:"month"}),l);case"LLL":return a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(t,{width:"wide",context:"standalone"})||a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"})}}validate(t,s){return s>=0&&s<=11}set(t,s,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function R5(e,t,s){const a=tt(e,s?.in),l=ey(a,s)-t;return a.setDate(a.getDate()-l*7),tt(a,s?.in)}class _5 extends Pt{priority=100;parse(t,s,a){switch(s){case"w":return sn(xn.week,t);case"wo":return a.ordinalNumber(t,{unit:"week"});default:return fn(s.length,t)}}validate(t,s){return s>=1&&s<=53}set(t,s,a,l){return Xs(R5(t,a,l),l)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function I5(e,t,s){const a=tt(e,s?.in),l=Lk(a,s)-t;return a.setDate(a.getDate()-l*7),a}class W5 extends Pt{priority=100;parse(t,s,a){switch(s){case"I":return sn(xn.week,t);case"Io":return a.ordinalNumber(t,{unit:"week"});default:return fn(s.length,t)}}validate(t,s){return s>=1&&s<=53}set(t,s,a){return $o(I5(t,a))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const N5=[31,28,31,30,31,30,31,31,30,31,30,31],L5=[31,29,31,30,31,30,31,31,30,31,30,31];class V5 extends Pt{priority=90;subPriority=1;parse(t,s,a){switch(s){case"d":return sn(xn.date,t);case"do":return a.ordinalNumber(t,{unit:"date"});default:return fn(s.length,t)}}validate(t,s){const a=t.getFullYear(),l=Yk(a),u=t.getMonth();return l?s>=1&&s<=L5[u]:s>=1&&s<=N5[u]}set(t,s,a){return t.setDate(a),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class B5 extends Pt{priority=90;subpriority=1;parse(t,s,a){switch(s){case"D":case"DD":return sn(xn.dayOfYear,t);case"Do":return a.ordinalNumber(t,{unit:"date"});default:return fn(s.length,t)}}validate(t,s){const a=t.getFullYear();return Yk(a)?s>=1&&s<=366:s>=1&&s<=365}set(t,s,a){return t.setMonth(0,a),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function ny(e,t,s){const a=Ar(),l=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,u=tt(e,s?.in),d=u.getDay(),p=(t%7+7)%7,g=7-l,y=t<0||t>6?t-(d+g)%7:(p+g)%7-(d+g)%7;return $c(u,y,s)}class z5 extends Pt{priority=90;parse(t,s,a){switch(s){case"E":case"EE":case"EEE":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,s){return s>=0&&s<=6}set(t,s,a,l){return t=ny(t,a,l),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class F5 extends Pt{priority=90;parse(t,s,a,l){const u=d=>{const f=Math.floor((d-1)/7)*7;return(d+l.weekStartsOn+6)%7+f};switch(s){case"e":case"ee":return bn(fn(s.length,t),u);case"eo":return bn(a.ordinalNumber(t,{unit:"day"}),u);case"eee":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeeee":return a.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,s){return s>=0&&s<=6}set(t,s,a,l){return t=ny(t,a,l),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class H5 extends Pt{priority=90;parse(t,s,a,l){const u=d=>{const f=Math.floor((d-1)/7)*7;return(d+l.weekStartsOn+6)%7+f};switch(s){case"c":case"cc":return bn(fn(s.length,t),u);case"co":return bn(a.ordinalNumber(t,{unit:"day"}),u);case"ccc":return a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"ccccc":return a.day(t,{width:"narrow",context:"standalone"});case"cccccc":return a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(t,{width:"wide",context:"standalone"})||a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"})}}validate(t,s){return s>=0&&s<=6}set(t,s,a,l){return t=ny(t,a,l),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function U5(e,t,s){const a=tt(e,s?.in),l=f5(a,s),u=t-l;return $c(a,u,s)}class q5 extends Pt{priority=90;parse(t,s,a){const l=u=>u===0?7:u;switch(s){case"i":case"ii":return fn(s.length,t);case"io":return a.ordinalNumber(t,{unit:"day"});case"iii":return bn(a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),l);case"iiiii":return bn(a.day(t,{width:"narrow",context:"formatting"}),l);case"iiiiii":return bn(a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),l);case"iiii":default:return bn(a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),l)}}validate(t,s){return s>=1&&s<=7}set(t,s,a){return t=U5(t,a),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class Y5 extends Pt{priority=80;parse(t,s,a){switch(s){case"a":case"aa":case"aaa":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,s,a){return t.setHours(ty(a),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class G5 extends Pt{priority=80;parse(t,s,a){switch(s){case"b":case"bb":case"bbb":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,s,a){return t.setHours(ty(a),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class $5 extends Pt{priority=80;parse(t,s,a){switch(s){case"B":case"BB":case"BBB":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,s,a){return t.setHours(ty(a),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class K5 extends Pt{priority=70;parse(t,s,a){switch(s){case"h":return sn(xn.hour12h,t);case"ho":return a.ordinalNumber(t,{unit:"hour"});default:return fn(s.length,t)}}validate(t,s){return s>=1&&s<=12}set(t,s,a){const l=t.getHours()>=12;return l&&a<12?t.setHours(a+12,0,0,0):!l&&a===12?t.setHours(0,0,0,0):t.setHours(a,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class Q5 extends Pt{priority=70;parse(t,s,a){switch(s){case"H":return sn(xn.hour23h,t);case"Ho":return a.ordinalNumber(t,{unit:"hour"});default:return fn(s.length,t)}}validate(t,s){return s>=0&&s<=23}set(t,s,a){return t.setHours(a,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class X5 extends Pt{priority=70;parse(t,s,a){switch(s){case"K":return sn(xn.hour11h,t);case"Ko":return a.ordinalNumber(t,{unit:"hour"});default:return fn(s.length,t)}}validate(t,s){return s>=0&&s<=11}set(t,s,a){return t.getHours()>=12&&a<12?t.setHours(a+12,0,0,0):t.setHours(a,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class Z5 extends Pt{priority=70;parse(t,s,a){switch(s){case"k":return sn(xn.hour24h,t);case"ko":return a.ordinalNumber(t,{unit:"hour"});default:return fn(s.length,t)}}validate(t,s){return s>=1&&s<=24}set(t,s,a){const l=a<=24?a%24:a;return t.setHours(l,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class J5 extends Pt{priority=60;parse(t,s,a){switch(s){case"m":return sn(xn.minute,t);case"mo":return a.ordinalNumber(t,{unit:"minute"});default:return fn(s.length,t)}}validate(t,s){return s>=0&&s<=59}set(t,s,a){return t.setMinutes(a,0,0),t}incompatibleTokens=["t","T"]}class eI extends Pt{priority=50;parse(t,s,a){switch(s){case"s":return sn(xn.second,t);case"so":return a.ordinalNumber(t,{unit:"second"});default:return fn(s.length,t)}}validate(t,s){return s>=0&&s<=59}set(t,s,a){return t.setSeconds(a,0),t}incompatibleTokens=["t","T"]}class tI extends Pt{priority=30;parse(t,s){const a=l=>Math.trunc(l*Math.pow(10,-s.length+3));return bn(fn(s.length,t),a)}set(t,s,a){return t.setMilliseconds(a),t}incompatibleTokens=["t","T"]}class nI extends Pt{priority=10;parse(t,s){switch(s){case"X":return li(oi.basicOptionalMinutes,t);case"XX":return li(oi.basic,t);case"XXXX":return li(oi.basicOptionalSeconds,t);case"XXXXX":return li(oi.extendedOptionalSeconds,t);case"XXX":default:return li(oi.extended,t)}}set(t,s,a){return s.timestampIsSet?t:en(t,t.getTime()-$d(t)-a)}incompatibleTokens=["t","T","x"]}class sI extends Pt{priority=10;parse(t,s){switch(s){case"x":return li(oi.basicOptionalMinutes,t);case"xx":return li(oi.basic,t);case"xxxx":return li(oi.basicOptionalSeconds,t);case"xxxxx":return li(oi.extendedOptionalSeconds,t);case"xxx":default:return li(oi.extended,t)}}set(t,s,a){return s.timestampIsSet?t:en(t,t.getTime()-$d(t)-a)}incompatibleTokens=["t","T","X"]}class iI extends Pt{priority=40;parse(t){return Uk(t)}set(t,s,a){return[en(t,a*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class aI extends Pt{priority=20;parse(t){return Uk(t)}set(t,s,a){return[en(t,a),{timestampIsSet:!0}]}incompatibleTokens="*"}const rI={G:new k5,y:new T5,Y:new j5,R:new D5,u:new E5,Q:new M5,q:new A5,M:new P5,L:new O5,w:new _5,I:new W5,d:new V5,D:new B5,E:new z5,e:new F5,c:new H5,i:new q5,a:new Y5,b:new G5,B:new $5,h:new K5,H:new Q5,K:new X5,k:new Z5,m:new J5,s:new eI,S:new tI,X:new nI,x:new sI,t:new iI,T:new aI},oI=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lI=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,cI=/^'([^]*?)'?$/,uI=/''/g,dI=/\S/,fI=/[a-zA-Z]/;function hI(e,t,s,a){const l=()=>en(a?.in||s,NaN),u=u5(),d=a?.locale??u.locale??Zg,f=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??u.firstWeekContainsDate??u.locale?.options?.firstWeekContainsDate??1,p=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??u.weekStartsOn??u.locale?.options?.weekStartsOn??0;if(!t)return e?l():tt(s,a?.in);const g={firstWeekContainsDate:f,weekStartsOn:p,locale:d},y=[new C5(a?.in,s)],v=t.match(lI).map(w=>{const k=w[0];if(k in Kd){const D=Kd[k];return D(w,d.formatLong)}return w}).join("").match(oI),b=[];for(let w of v){!a?.useAdditionalWeekYearTokens&&zk(w)&&Bm(w,t,e),!a?.useAdditionalDayOfYearTokens&&Bk(w)&&Bm(w,t,e);const k=w[0],D=rI[k];if(D){const{incompatibleTokens:A}=D;if(Array.isArray(A)){const P=b.find(M=>A.includes(M.token)||M.token===k);if(P)throw new RangeError(`The format string mustn't contain \`${P.fullToken}\` and \`${w}\` at the same time`)}else if(D.incompatibleTokens==="*"&&b.length>0)throw new RangeError(`The format string mustn't contain \`${w}\` and any other token at the same time`);b.push({token:k,fullToken:w});const _=D.run(e,w,d.match,g);if(!_)return l();y.push(_.setter),e=_.rest}else{if(k.match(fI))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");if(w==="''"?w="'":k==="'"&&(w=pI(w)),e.indexOf(w)===0)e=e.slice(w.length);else return l()}}if(e.length>0&&dI.test(e))return l();const S=y.map(w=>w.priority).sort((w,k)=>k-w).filter((w,k,D)=>D.indexOf(w)===k).map(w=>y.filter(k=>k.priority===w).sort((k,D)=>D.subPriority-k.subPriority)).map(w=>w[0]);let j=tt(s,a?.in);if(isNaN(+j))return l();const T={};for(const w of S){if(!w.validate(j,g))return l();const k=w.set(j,T,g);Array.isArray(k)?(j=k[0],Object.assign(T,k[1])):j=k}return j}function pI(e){return e.match(cI)[1].replace(uI,"'")}function KS(e,t){const s=tt(e,t?.in);return s.setMinutes(0,0,0),s}function mI(e,t,s){const[a,l]=Kc(s?.in,e,t);return+KS(a)==+KS(l)}function Gk(e,t,s){const[a,l]=Kc(s?.in,e,t);return a.getFullYear()===l.getFullYear()&&a.getMonth()===l.getMonth()}function gI(e,t,s){const[a,l]=Kc(s?.in,e,t);return a.getFullYear()===l.getFullYear()}function yI(e,t,s){const a=+tt(e,s?.in),[l,u]=[+tt(t.start,s?.in),+tt(t.end,s?.in)].sort((d,f)=>d-f);return a>=l&&a<=u}function xI(e,t,s){const a=tt(e,s?.in),l=a.getFullYear(),u=a.getDate(),d=en(e,0);d.setFullYear(l,t,15),d.setHours(0,0,0,0);const f=Fk(d);return a.setMonth(t,Math.min(u,f)),a}function bI(e,t,s){const a=tt(e,s?.in);return a.setDate(t),a}function vI(e,t,s){const a=tt(e,s?.in);return a.setHours(t),a}function SI(e,t,s){const a=tt(e,s?.in);return a.setMilliseconds(t),a}function wI(e,t,s){const a=tt(e,s?.in);return a.setMinutes(t),a}function CI(e,t,s){const a=tt(e,s?.in);return a.setSeconds(t),a}function kI(e,t,s){const a=tt(e,s?.in);return isNaN(+a)?en(e,NaN):(a.setFullYear(t),a)}function TI(e,t,s){return vf(e,-1,s)}const $k=x.createContext({}),Wa=()=>x.useContext($k),ec={currentWeek:1,cycleStartDate:null,deloadWeekActive:!1,weeklySchedule:{Monday:null,Tuesday:null,Wednesday:null,Thursday:null,Friday:null,Saturday:null,Sunday:null},favorites:[]},Kk=({children:e})=>{const{currentUser:t,isGuest:s}=Ia(),[a,l]=x.useState(ec),[u,d]=x.useState(!0),f=x.useCallback(()=>{const _=Xs(new Date,{weekStartsOn:0});return _.setHours(0,0,0,0),_.toISOString()},[]),p=x.useCallback(A=>{if(!A)return 1;const _=new Date(A),P=new Date(f());return Math.floor((P-_)/(10080*60*1e3))+1},[f]),g=x.useCallback(async A=>{const _=f();if(A.cycleStartDate&&Rd(new Date(_),new Date(A.cycleStartDate))){const P=p(A.cycleStartDate);if(P!==A.currentWeek){const M=A.deloadWeekActive,R={...A,currentWeek:P,deloadWeekActive:!1};return l(R),await y(R),{updated:!0,wasDeloadActive:M}}}return{updated:!1,wasDeloadActive:!1}},[f,p]);x.useEffect(()=>{t!==void 0&&(async()=>{d(!0);try{let _=null;if(t&&!s)_=(await pi(t.uid))?.weekScheduling;else{const P=localStorage.getItem("goodlift_week_scheduling");P&&(_=JSON.parse(P))}if(_){const P={...ec,..._,weeklySchedule:{...ec.weeklySchedule,..._.weeklySchedule||{}}};l(P),await g(P)}else{const P={...ec,cycleStartDate:f()};l(P),await y(P)}}catch(_){console.error("Error loading week state:",_);const P={...ec,cycleStartDate:f()};l(P)}finally{d(!1)}})()},[t,s,f,g]);const y=async A=>{try{t&&!s?await An(t.uid,{weekScheduling:A}):localStorage.setItem("goodlift_week_scheduling",JSON.stringify(A))}catch(_){throw console.error("Error saving week state:",_),_}},v=x.useCallback(async()=>{const A={...a,currentWeek:1,cycleStartDate:f(),deloadWeekActive:!1};return l(A),await y(A),A},[a,f]),b=x.useCallback(async()=>{if(a.currentWeek<4)throw new Error("Deload week only available from week 4 onwards");const A={...a,deloadWeekActive:!0,weeklySchedule:{Monday:null,Tuesday:null,Wednesday:null,Thursday:null,Friday:null,Saturday:null,Sunday:null}};return l(A),await y(A),A},[a]),S=x.useCallback(()=>a.currentWeek===1,[a.currentWeek]),j=x.useCallback(async(A,_)=>{const P={...a.weeklySchedule,[A]:_},M={...a,weeklySchedule:P};return l(M),await y(M),M},[a]),T=x.useCallback(async A=>{const _={...A,id:`fav_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,addedAt:new Date().toISOString()},P=[...a.favorites,_],M={...a,favorites:P};return l(M),await y(M),_},[a]),w=x.useCallback(async A=>{const _=a.favorites.filter(M=>M.id!==A),P={...a,favorites:_};return l(P),await y(P),P},[a]),k=x.useCallback((A,_=[])=>{if(!_||_.length===0)return null;const P=new Date;P.setDate(P.getDate()-7);const R={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6}[A],N=_.filter(W=>{const U=new Date(W.date);return U.getDay()===R&&U>=new Date(P.getTime()-10080*60*1e3)&&U<P});return N.length>0?N[N.length-1]:null},[]),D={weekState:a,loading:u,currentWeek:a.currentWeek,cycleStartDate:a.cycleStartDate,deloadWeekActive:a.deloadWeekActive,weeklySchedule:a.weeklySchedule,favorites:a.favorites,resetWeekCycle:v,triggerDeloadWeek:b,isAutoAssignWeek:S,assignWorkoutToDay:j,addToFavorites:T,removeFromFavorites:w,getWorkoutSuggestion:k,checkAndIncrementWeek:()=>g(a)};return r.jsx($k.Provider,{value:D,children:e})};Kk.propTypes={children:E.node.isRequired};const Qk=({onNavigate:e})=>{const t=Jo(),{currentWeek:s,deloadWeekActive:a,triggerDeloadWeek:l}=Wa(),[u,d]=x.useState(Vt.isMutedState()),[f,p]=x.useState(hr.isActive()),[g]=x.useState(hr.isWakeLockSupported()),[y,v]=x.useState(!1);x.useEffect(()=>{const k=hr.reacquireOnVisibilityChange();return()=>{k&&k.then(D=>D&&D())}},[]);const b=()=>{const k=Vt.toggleMute();d(k)},S=async()=>{if(f)await hr.releaseWakeLock(),p(!1);else{const k=await hr.requestWakeLock();p(k)}},j=()=>{v(!0)},T=async()=>{try{await l(),v(!1)}catch(k){console.error("Error triggering deload week:",k)}},w=()=>{v(!1)};return r.jsxs(V,{component:"header",sx:{position:"fixed",top:0,left:0,right:0,height:"60px",display:"flex",alignItems:"center",justifyContent:"flex-start",padding:"0 1rem",background:t.palette.background.paper,backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",boxShadow:t.palette.mode==="dark"?"0 2px 8px rgba(0, 0, 0, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.1)",zIndex:100,borderBottom:`1px solid ${t.palette.mode==="dark"?"rgba(29, 181, 132, 0.2)":"rgba(0, 0, 0, 0.12)"}`},children:[r.jsx(V,{onClick:()=>e&&e("progress"),sx:{display:"flex",alignItems:"center",cursor:e?"pointer":"default",transition:"transform 0.2s ease","&:hover":e?{transform:"scale(1.05)"}:{},"&:active":e?{transform:"scale(0.98)"}:{}},"aria-label":e?"Go to Progress screen":void 0,role:e?"button":void 0,tabIndex:e?0:void 0,onKeyDown:e?k=>{(k.key==="Enter"||k.key===" ")&&(k.preventDefault(),e("progress"))}:void 0,children:r.jsx("img",{src:"/goodlift/goodlift-favicon.svg",alt:"GoodLift",style:{height:"40px",width:"40px",display:"block"}})}),r.jsx(V,{sx:{position:"absolute",left:"50%",transform:"translateX(-50%)",display:"flex",alignItems:"center"},children:r.jsx(Ig,{currentWeek:s,deloadWeekActive:a,onDeloadTrigger:j,clickable:!0})}),r.jsxs(V,{sx:{position:"absolute",right:"1rem",display:"flex",alignItems:"center",gap:.5},children:[r.jsx(Zn,{title:u?"Unmute sounds":"Mute sounds",children:r.jsx(Qe,{onClick:b,sx:{color:u?"grey.500":"primary.main",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{backgroundColor:t.palette.mode==="dark"?"rgba(29, 181, 132, 0.15)":"rgba(24, 160, 113, 0.1)"}},"aria-label":u?"Unmute sounds":"Mute sounds",children:u?r.jsx(yC,{}):r.jsx(Eg,{})})}),g&&r.jsx(Zn,{title:f?"Screen kept awake":"Allow screen sleep",children:r.jsx(Qe,{onClick:S,sx:{color:f?"secondary.main":"grey.500",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{backgroundColor:t.palette.mode==="dark"?"rgba(255, 140, 0, 0.15)":"rgba(255, 140, 0, 0.1)"}},"aria-label":f?"Release wake lock":"Keep screen awake",children:f?r.jsx(aO,{size:24}):r.jsx(iO,{size:24})})})]}),r.jsxs(Tn,{open:y,onClose:w,maxWidth:"sm",fullWidth:!0,children:[r.jsx(In,{children:"Trigger Deload Week?"}),r.jsx(jn,{children:r.jsx(I,{children:"This will activate deload week, replacing your scheduled workouts with recovery-focused sessions. The week counter will continue normally, and deload mode will end after this week completes."})}),r.jsxs(Dn,{children:[r.jsx(je,{onClick:w,color:"inherit",children:"Cancel"}),r.jsx(je,{onClick:T,variant:"contained",color:"warning",children:"Activate Deload"})]})]})]})};Qk.propTypes={onNavigate:E.func};const sy=x.createContext({});function iy(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const ay=typeof window<"u",Xk=ay?x.useLayoutEffect:x.useEffect,Sf=x.createContext(null);function ry(e,t){e.indexOf(t)===-1&&e.push(t)}function oy(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const $i=(e,t,s)=>s>t?t:s<e?e:s;let ly=()=>{};const Ki={},Zk=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Jk(e){return typeof e=="object"&&e!==null}const eT=e=>/^0[^.\s]+$/u.test(e);function cy(e){let t;return()=>(t===void 0&&(t=e()),t)}const Fs=e=>e,jI=(e,t)=>s=>t(e(s)),Qc=(...e)=>e.reduce(jI),Oc=(e,t,s)=>{const a=t-e;return a===0?1:(s-e)/a};class uy{constructor(){this.subscriptions=[]}add(t){return ry(this.subscriptions,t),()=>oy(this.subscriptions,t)}notify(t,s,a){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](t,s,a);else for(let u=0;u<l;u++){const d=this.subscriptions[u];d&&d(t,s,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ui=e=>e*1e3,zs=e=>e/1e3;function tT(e,t){return t?e*(1e3/t):0}const nT=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,DI=1e-7,EI=12;function MI(e,t,s,a,l){let u,d,f=0;do d=t+(s-t)/2,u=nT(d,a,l)-e,u>0?s=d:t=d;while(Math.abs(u)>DI&&++f<EI);return d}function Xc(e,t,s,a){if(e===t&&s===a)return Fs;const l=u=>MI(u,0,1,e,s);return u=>u===0||u===1?u:nT(l(u),t,a)}const sT=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,iT=e=>t=>1-e(1-t),aT=Xc(.33,1.53,.69,.99),dy=iT(aT),rT=sT(dy),oT=e=>(e*=2)<1?.5*dy(e):.5*(2-Math.pow(2,-10*(e-1))),fy=e=>1-Math.sin(Math.acos(e)),lT=iT(fy),cT=sT(fy),AI=Xc(.42,0,1,1),PI=Xc(0,0,.58,1),uT=Xc(.42,0,.58,1),OI=e=>Array.isArray(e)&&typeof e[0]!="number",dT=e=>Array.isArray(e)&&typeof e[0]=="number",RI={linear:Fs,easeIn:AI,easeInOut:uT,easeOut:PI,circIn:fy,circInOut:cT,circOut:lT,backIn:dy,backInOut:rT,backOut:aT,anticipate:oT},_I=e=>typeof e=="string",QS=e=>{if(dT(e)){ly(e.length===4);const[t,s,a,l]=e;return Xc(t,s,a,l)}else if(_I(e))return RI[e];return e},vd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function II(e,t){let s=new Set,a=new Set,l=!1,u=!1;const d=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function p(y){d.has(y)&&(g.schedule(y),e()),y(f)}const g={schedule:(y,v=!1,b=!1)=>{const j=b&&l?s:a;return v&&d.add(y),j.has(y)||j.add(y),y},cancel:y=>{a.delete(y),d.delete(y)},process:y=>{if(f=y,l){u=!0;return}l=!0,[s,a]=[a,s],s.forEach(p),s.clear(),l=!1,u&&(u=!1,g.process(y))}};return g}const WI=40;function fT(e,t){let s=!1,a=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=()=>s=!0,d=vd.reduce((A,_)=>(A[_]=II(u),A),{}),{setup:f,read:p,resolveKeyframes:g,preUpdate:y,update:v,preRender:b,render:S,postRender:j}=d,T=()=>{const A=Ki.useManualTiming?l.timestamp:performance.now();s=!1,Ki.useManualTiming||(l.delta=a?1e3/60:Math.max(Math.min(A-l.timestamp,WI),1)),l.timestamp=A,l.isProcessing=!0,f.process(l),p.process(l),g.process(l),y.process(l),v.process(l),b.process(l),S.process(l),j.process(l),l.isProcessing=!1,s&&t&&(a=!1,e(T))},w=()=>{s=!0,a=!0,l.isProcessing||e(T)};return{schedule:vd.reduce((A,_)=>{const P=d[_];return A[_]=(M,R=!1,N=!1)=>(s||w(),P.schedule(M,R,N)),A},{}),cancel:A=>{for(let _=0;_<vd.length;_++)d[vd[_]].cancel(A)},state:l,steps:d}}const{schedule:Zt,cancel:Pa,state:Fn,steps:lm}=fT(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fs,!0);let _d;function NI(){_d=void 0}const fs={now:()=>(_d===void 0&&fs.set(Fn.isProcessing||Ki.useManualTiming?Fn.timestamp:performance.now()),_d),set:e=>{_d=e,queueMicrotask(NI)}},hT=e=>t=>typeof t=="string"&&t.startsWith(e),hy=hT("--"),LI=hT("var(--"),py=e=>LI(e)?VI.test(e.split("/*")[0].trim()):!1,VI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,nl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Rc={...nl,transform:e=>$i(0,1,e)},Sd={...nl,default:1},gc=e=>Math.round(e*1e5)/1e5,my=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function BI(e){return e==null}const zI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,gy=(e,t)=>s=>!!(typeof s=="string"&&zI.test(s)&&s.startsWith(e)||t&&!BI(s)&&Object.prototype.hasOwnProperty.call(s,t)),pT=(e,t,s)=>a=>{if(typeof a!="string")return a;const[l,u,d,f]=a.match(my);return{[e]:parseFloat(l),[t]:parseFloat(u),[s]:parseFloat(d),alpha:f!==void 0?parseFloat(f):1}},FI=e=>$i(0,255,e),cm={...nl,transform:e=>Math.round(FI(e))},mr={test:gy("rgb","red"),parse:pT("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:a=1})=>"rgba("+cm.transform(e)+", "+cm.transform(t)+", "+cm.transform(s)+", "+gc(Rc.transform(a))+")"};function HI(e){let t="",s="",a="",l="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),a=e.substring(5,7),l=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),a=e.substring(3,4),l=e.substring(4,5),t+=t,s+=s,a+=a,l+=l),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(a,16),alpha:l?parseInt(l,16)/255:1}}const Fm={test:gy("#"),parse:HI,transform:mr.transform},Zc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ta=Zc("deg"),di=Zc("%"),rt=Zc("px"),UI=Zc("vh"),qI=Zc("vw"),XS={...di,parse:e=>di.parse(e)/100,transform:e=>di.transform(e*100)},Ao={test:gy("hsl","hue"),parse:pT("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:a=1})=>"hsla("+Math.round(e)+", "+di.transform(gc(t))+", "+di.transform(gc(s))+", "+gc(Rc.transform(a))+")"},kn={test:e=>mr.test(e)||Fm.test(e)||Ao.test(e),parse:e=>mr.test(e)?mr.parse(e):Ao.test(e)?Ao.parse(e):Fm.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?mr.transform(e):Ao.transform(e),getAnimatableNone:e=>{const t=kn.parse(e);return t.alpha=0,kn.transform(t)}},YI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function GI(e){return isNaN(e)&&typeof e=="string"&&(e.match(my)?.length||0)+(e.match(YI)?.length||0)>0}const mT="number",gT="color",$I="var",KI="var(",ZS="${}",QI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function _c(e){const t=e.toString(),s=[],a={color:[],number:[],var:[]},l=[];let u=0;const f=t.replace(QI,p=>(kn.test(p)?(a.color.push(u),l.push(gT),s.push(kn.parse(p))):p.startsWith(KI)?(a.var.push(u),l.push($I),s.push(p)):(a.number.push(u),l.push(mT),s.push(parseFloat(p))),++u,ZS)).split(ZS);return{values:s,split:f,indexes:a,types:l}}function yT(e){return _c(e).values}function xT(e){const{split:t,types:s}=_c(e),a=t.length;return l=>{let u="";for(let d=0;d<a;d++)if(u+=t[d],l[d]!==void 0){const f=s[d];f===mT?u+=gc(l[d]):f===gT?u+=kn.transform(l[d]):u+=l[d]}return u}}const XI=e=>typeof e=="number"?0:kn.test(e)?kn.getAnimatableNone(e):e;function ZI(e){const t=yT(e);return xT(e)(t.map(XI))}const Oa={test:GI,parse:yT,createTransformer:xT,getAnimatableNone:ZI};function um(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function JI({hue:e,saturation:t,lightness:s,alpha:a}){e/=360,t/=100,s/=100;let l=0,u=0,d=0;if(!t)l=u=d=s;else{const f=s<.5?s*(1+t):s+t-s*t,p=2*s-f;l=um(p,f,e+1/3),u=um(p,f,e),d=um(p,f,e-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(d*255),alpha:a}}function Xd(e,t){return s=>s>0?t:e}const an=(e,t,s)=>e+(t-e)*s,dm=(e,t,s)=>{const a=e*e,l=s*(t*t-a)+a;return l<0?0:Math.sqrt(l)},eW=[Fm,mr,Ao],tW=e=>eW.find(t=>t.test(e));function JS(e){const t=tW(e);if(!t)return!1;let s=t.parse(e);return t===Ao&&(s=JI(s)),s}const ew=(e,t)=>{const s=JS(e),a=JS(t);if(!s||!a)return Xd(e,t);const l={...s};return u=>(l.red=dm(s.red,a.red,u),l.green=dm(s.green,a.green,u),l.blue=dm(s.blue,a.blue,u),l.alpha=an(s.alpha,a.alpha,u),mr.transform(l))},Hm=new Set(["none","hidden"]);function nW(e,t){return Hm.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function sW(e,t){return s=>an(e,t,s)}function yy(e){return typeof e=="number"?sW:typeof e=="string"?py(e)?Xd:kn.test(e)?ew:rW:Array.isArray(e)?bT:typeof e=="object"?kn.test(e)?ew:iW:Xd}function bT(e,t){const s=[...e],a=s.length,l=e.map((u,d)=>yy(u)(u,t[d]));return u=>{for(let d=0;d<a;d++)s[d]=l[d](u);return s}}function iW(e,t){const s={...e,...t},a={};for(const l in s)e[l]!==void 0&&t[l]!==void 0&&(a[l]=yy(e[l])(e[l],t[l]));return l=>{for(const u in a)s[u]=a[u](l);return s}}function aW(e,t){const s=[],a={color:0,var:0,number:0};for(let l=0;l<t.values.length;l++){const u=t.types[l],d=e.indexes[u][a[u]],f=e.values[d]??0;s[l]=f,a[u]++}return s}const rW=(e,t)=>{const s=Oa.createTransformer(t),a=_c(e),l=_c(t);return a.indexes.var.length===l.indexes.var.length&&a.indexes.color.length===l.indexes.color.length&&a.indexes.number.length>=l.indexes.number.length?Hm.has(e)&&!l.values.length||Hm.has(t)&&!a.values.length?nW(e,t):Qc(bT(aW(a,l),l.values),s):Xd(e,t)};function vT(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?an(e,t,s):yy(e)(e,t)}const oW=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>Zt.update(t,s),stop:()=>Pa(t),now:()=>Fn.isProcessing?Fn.timestamp:fs.now()}},ST=(e,t,s=10)=>{let a="";const l=Math.max(Math.round(t/s),2);for(let u=0;u<l;u++)a+=Math.round(e(u/(l-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},Zd=2e4;function xy(e){let t=0;const s=50;let a=e.next(t);for(;!a.done&&t<Zd;)t+=s,a=e.next(t);return t>=Zd?1/0:t}function lW(e,t=100,s){const a=s({...e,keyframes:[0,t]}),l=Math.min(xy(a),Zd);return{type:"keyframes",ease:u=>a.next(l*u).value/t,duration:zs(l)}}const cW=5;function wT(e,t,s){const a=Math.max(t-cW,0);return tT(s-e(a),t-a)}const dn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},fm=.001;function uW({duration:e=dn.duration,bounce:t=dn.bounce,velocity:s=dn.velocity,mass:a=dn.mass}){let l,u,d=1-t;d=$i(dn.minDamping,dn.maxDamping,d),e=$i(dn.minDuration,dn.maxDuration,zs(e)),d<1?(l=g=>{const y=g*d,v=y*e,b=y-s,S=Um(g,d),j=Math.exp(-v);return fm-b/S*j},u=g=>{const v=g*d*e,b=v*s+s,S=Math.pow(d,2)*Math.pow(g,2)*e,j=Math.exp(-v),T=Um(Math.pow(g,2),d);return(-l(g)+fm>0?-1:1)*((b-S)*j)/T}):(l=g=>{const y=Math.exp(-g*e),v=(g-s)*e+1;return-fm+y*v},u=g=>{const y=Math.exp(-g*e),v=(s-g)*(e*e);return y*v});const f=5/e,p=fW(l,u,f);if(e=ui(e),isNaN(p))return{stiffness:dn.stiffness,damping:dn.damping,duration:e};{const g=Math.pow(p,2)*a;return{stiffness:g,damping:d*2*Math.sqrt(a*g),duration:e}}}const dW=12;function fW(e,t,s){let a=s;for(let l=1;l<dW;l++)a=a-e(a)/t(a);return a}function Um(e,t){return e*Math.sqrt(1-t*t)}const hW=["duration","bounce"],pW=["stiffness","damping","mass"];function tw(e,t){return t.some(s=>e[s]!==void 0)}function mW(e){let t={velocity:dn.velocity,stiffness:dn.stiffness,damping:dn.damping,mass:dn.mass,isResolvedFromDuration:!1,...e};if(!tw(e,pW)&&tw(e,hW))if(e.visualDuration){const s=e.visualDuration,a=2*Math.PI/(s*1.2),l=a*a,u=2*$i(.05,1,1-(e.bounce||0))*Math.sqrt(l);t={...t,mass:dn.mass,stiffness:l,damping:u}}else{const s=uW(e);t={...t,...s,mass:dn.mass},t.isResolvedFromDuration=!0}return t}function Jd(e=dn.visualDuration,t=dn.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:a,restDelta:l}=s;const u=s.keyframes[0],d=s.keyframes[s.keyframes.length-1],f={done:!1,value:u},{stiffness:p,damping:g,mass:y,duration:v,velocity:b,isResolvedFromDuration:S}=mW({...s,velocity:-zs(s.velocity||0)}),j=b||0,T=g/(2*Math.sqrt(p*y)),w=d-u,k=zs(Math.sqrt(p/y)),D=Math.abs(w)<5;a||(a=D?dn.restSpeed.granular:dn.restSpeed.default),l||(l=D?dn.restDelta.granular:dn.restDelta.default);let A;if(T<1){const P=Um(k,T);A=M=>{const R=Math.exp(-T*k*M);return d-R*((j+T*k*w)/P*Math.sin(P*M)+w*Math.cos(P*M))}}else if(T===1)A=P=>d-Math.exp(-k*P)*(w+(j+k*w)*P);else{const P=k*Math.sqrt(T*T-1);A=M=>{const R=Math.exp(-T*k*M),N=Math.min(P*M,300);return d-R*((j+T*k*w)*Math.sinh(N)+P*w*Math.cosh(N))/P}}const _={calculatedDuration:S&&v||null,next:P=>{const M=A(P);if(S)f.done=P>=v;else{let R=P===0?j:0;T<1&&(R=P===0?ui(j):wT(A,P,M));const N=Math.abs(R)<=a,W=Math.abs(d-M)<=l;f.done=N&&W}return f.value=f.done?d:M,f},toString:()=>{const P=Math.min(xy(_),Zd),M=ST(R=>_.next(P*R).value,P,30);return P+"ms "+M},toTransition:()=>{}};return _}Jd.applyToOptions=e=>{const t=lW(e,100,Jd);return e.ease=t.ease,e.duration=ui(t.duration),e.type="keyframes",e};function qm({keyframes:e,velocity:t=0,power:s=.8,timeConstant:a=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:d,min:f,max:p,restDelta:g=.5,restSpeed:y}){const v=e[0],b={done:!1,value:v},S=N=>f!==void 0&&N<f||p!==void 0&&N>p,j=N=>f===void 0?p:p===void 0||Math.abs(f-N)<Math.abs(p-N)?f:p;let T=s*t;const w=v+T,k=d===void 0?w:d(w);k!==w&&(T=k-v);const D=N=>-T*Math.exp(-N/a),A=N=>k+D(N),_=N=>{const W=D(N),U=A(N);b.done=Math.abs(W)<=g,b.value=b.done?k:U};let P,M;const R=N=>{S(b.value)&&(P=N,M=Jd({keyframes:[b.value,j(b.value)],velocity:wT(A,N,b.value),damping:l,stiffness:u,restDelta:g,restSpeed:y}))};return R(0),{calculatedDuration:null,next:N=>{let W=!1;return!M&&P===void 0&&(W=!0,_(N),R(N)),P!==void 0&&N>=P?M.next(N-P):(!W&&_(N),b)}}}function gW(e,t,s){const a=[],l=s||Ki.mix||vT,u=e.length-1;for(let d=0;d<u;d++){let f=l(e[d],e[d+1]);if(t){const p=Array.isArray(t)?t[d]||Fs:t;f=Qc(p,f)}a.push(f)}return a}function yW(e,t,{clamp:s=!0,ease:a,mixer:l}={}){const u=e.length;if(ly(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const d=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=gW(t,a,l),p=f.length,g=y=>{if(d&&y<e[0])return t[0];let v=0;if(p>1)for(;v<e.length-2&&!(y<e[v+1]);v++);const b=Oc(e[v],e[v+1],y);return f[v](b)};return s?y=>g($i(e[0],e[u-1],y)):g}function xW(e,t){const s=e[e.length-1];for(let a=1;a<=t;a++){const l=Oc(0,t,a);e.push(an(s,1,l))}}function bW(e){const t=[0];return xW(t,e.length-1),t}function vW(e,t){return e.map(s=>s*t)}function SW(e,t){return e.map(()=>t||uT).splice(0,e.length-1)}function yc({duration:e=300,keyframes:t,times:s,ease:a="easeInOut"}){const l=OI(a)?a.map(QS):QS(a),u={done:!1,value:t[0]},d=vW(s&&s.length===t.length?s:bW(t),e),f=yW(d,t,{ease:Array.isArray(l)?l:SW(t,l)});return{calculatedDuration:e,next:p=>(u.value=f(p),u.done=p>=e,u)}}const wW=e=>e!==null;function by(e,{repeat:t,repeatType:s="loop"},a,l=1){const u=e.filter(wW),f=l<0||t&&s!=="loop"&&t%2===1?0:u.length-1;return!f||a===void 0?u[f]:a}const CW={decay:qm,inertia:qm,tween:yc,keyframes:yc,spring:Jd};function CT(e){typeof e.type=="string"&&(e.type=CW[e.type])}class vy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const kW=e=>e/100;class Sy extends vy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==fs.now()&&this.tick(fs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;CT(t);const{type:s=yc,repeat:a=0,repeatDelay:l=0,repeatType:u,velocity:d=0}=t;let{keyframes:f}=t;const p=s||yc;p!==yc&&typeof f[0]!="number"&&(this.mixKeyframes=Qc(kW,vT(f[0],f[1])),f=[0,100]);const g=p({...t,keyframes:f});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...f].reverse(),velocity:-d})),g.calculatedDuration===null&&(g.calculatedDuration=xy(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+l,this.totalDuration=this.resolvedDuration*(a+1)-l,this.generator=g}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:a,totalDuration:l,mixKeyframes:u,mirroredGenerator:d,resolvedDuration:f,calculatedDuration:p}=this;if(this.startTime===null)return a.next(0);const{delay:g=0,keyframes:y,repeat:v,repeatType:b,repeatDelay:S,type:j,onUpdate:T,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-l/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const k=this.currentTime-g*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?k<0:k>l;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let A=this.currentTime,_=a;if(v){const N=Math.min(this.currentTime,l)/f;let W=Math.floor(N),U=N%1;!U&&N>=1&&(U=1),U===1&&W--,W=Math.min(W,v+1),!!(W%2)&&(b==="reverse"?(U=1-U,S&&(U-=S/f)):b==="mirror"&&(_=d)),A=$i(0,1,U)*f}const P=D?{done:!1,value:y[0]}:_.next(A);u&&(P.value=u(P.value));let{done:M}=P;!D&&p!==null&&(M=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return R&&j!==qm&&(P.value=by(y,this.options,w,this.speed)),T&&T(P.value),R&&this.finish(),P}then(t,s){return this.finished.then(t,s)}get duration(){return zs(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+zs(t)}get time(){return zs(this.currentTime)}set time(t){t=ui(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(fs.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=zs(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=oW,startTime:s}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),this.options.onPlay?.();const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=s??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(fs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function TW(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const gr=e=>e*180/Math.PI,Ym=e=>{const t=gr(Math.atan2(e[1],e[0]));return Gm(t)},jW={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Ym,rotateZ:Ym,skewX:e=>gr(Math.atan(e[1])),skewY:e=>gr(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Gm=e=>(e=e%360,e<0&&(e+=360),e),nw=Ym,sw=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),iw=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),DW={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:sw,scaleY:iw,scale:e=>(sw(e)+iw(e))/2,rotateX:e=>Gm(gr(Math.atan2(e[6],e[5]))),rotateY:e=>Gm(gr(Math.atan2(-e[2],e[0]))),rotateZ:nw,rotate:nw,skewX:e=>gr(Math.atan(e[4])),skewY:e=>gr(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function $m(e){return e.includes("scale")?1:0}function Km(e,t){if(!e||e==="none")return $m(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,l;if(s)a=DW,l=s;else{const f=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=jW,l=f}if(!l)return $m(t);const u=a[t],d=l[1].split(",").map(MW);return typeof u=="function"?u(d):d[u]}const EW=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return Km(s,t)};function MW(e){return parseFloat(e.trim())}const sl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],il=new Set(sl),aw=e=>e===nl||e===rt,AW=new Set(["x","y","z"]),PW=sl.filter(e=>!AW.has(e));function OW(e){const t=[];return PW.forEach(s=>{const a=e.getValue(s);a!==void 0&&(t.push([s,a.get()]),a.set(s.startsWith("scale")?1:0))}),t}const vr={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Km(t,"x"),y:(e,{transform:t})=>Km(t,"y")};vr.translateX=vr.x;vr.translateY=vr.y;const Sr=new Set;let Qm=!1,Xm=!1,Zm=!1;function kT(){if(Xm){const e=Array.from(Sr).filter(a=>a.needsMeasurement),t=new Set(e.map(a=>a.element)),s=new Map;t.forEach(a=>{const l=OW(a);l.length&&(s.set(a,l),a.render())}),e.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const l=s.get(a);l&&l.forEach(([u,d])=>{a.getValue(u)?.set(d)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}Xm=!1,Qm=!1,Sr.forEach(e=>e.complete(Zm)),Sr.clear()}function TT(){Sr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Xm=!0)})}function RW(){Zm=!0,TT(),kT(),Zm=!1}class wy{constructor(t,s,a,l,u,d=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=a,this.motionValue=l,this.element=u,this.isAsync=d}scheduleResolve(){this.state="scheduled",this.isAsync?(Sr.add(this),Qm||(Qm=!0,Zt.read(TT),Zt.resolveKeyframes(kT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:a,motionValue:l}=this;if(t[0]===null){const u=l?.get(),d=t[t.length-1];if(u!==void 0)t[0]=u;else if(a&&s){const f=a.readValue(s,d);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=d),l&&u===void 0&&l.set(t[0])}TW(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Sr.delete(this)}cancel(){this.state==="scheduled"&&(Sr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const _W=e=>e.startsWith("--");function IW(e,t,s){_W(t)?e.style.setProperty(t,s):e.style[t]=s}const WW=cy(()=>window.ScrollTimeline!==void 0),NW={};function LW(e,t){const s=cy(e);return()=>NW[t]??s()}const jT=LW(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),lc=([e,t,s,a])=>`cubic-bezier(${e}, ${t}, ${s}, ${a})`,rw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:lc([0,.65,.55,1]),circOut:lc([.55,0,1,.45]),backIn:lc([.31,.01,.66,-.59]),backOut:lc([.33,1.53,.69,.99])};function DT(e,t){if(e)return typeof e=="function"?jT()?ST(e,t):"ease-out":dT(e)?lc(e):Array.isArray(e)?e.map(s=>DT(s,t)||rw.easeOut):rw[e]}function VW(e,t,s,{delay:a=0,duration:l=300,repeat:u=0,repeatType:d="loop",ease:f="easeOut",times:p}={},g=void 0){const y={[t]:s};p&&(y.offset=p);const v=DT(f,l);Array.isArray(v)&&(y.easing=v);const b={delay:a,duration:l,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:u+1,direction:d==="reverse"?"alternate":"normal"};return g&&(b.pseudoElement=g),e.animate(y,b)}function ET(e){return typeof e=="function"&&"applyToOptions"in e}function BW({type:e,...t}){return ET(e)&&jT()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class zW extends vy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:a,keyframes:l,pseudoElement:u,allowFlatten:d=!1,finalKeyframe:f,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=d,this.options=t,ly(typeof t.type!="string");const g=BW(t);this.animation=VW(s,a,l,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const y=by(l,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):IW(s,a,y),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return zs(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+zs(t)}get time(){return zs(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ui(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&WW()?(this.animation.timeline=t,Fs):s(this)}}const MT={anticipate:oT,backInOut:rT,circInOut:cT};function FW(e){return e in MT}function HW(e){typeof e.ease=="string"&&FW(e.ease)&&(e.ease=MT[e.ease])}const ow=10;class UW extends zW{constructor(t){HW(t),CT(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:a,onComplete:l,element:u,...d}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const f=new Sy({...d,autoplay:!1}),p=ui(this.finishedTime??this.time);s.setWithVelocity(f.sample(p-ow).value,f.sample(p).value,ow),f.stop()}}const lw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Oa.test(e)||e==="0")&&!e.startsWith("url("));function qW(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function YW(e,t,s,a){const l=e[0];if(l===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],d=lw(l,t),f=lw(u,t);return!d||!f?!1:qW(e)||(s==="spring"||ET(s))&&a}function Jm(e){e.duration=0,e.type="keyframes"}const GW=new Set(["opacity","clipPath","filter","transform"]),$W=cy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function KW(e){const{motionValue:t,name:s,repeatDelay:a,repeatType:l,damping:u,type:d}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return $W()&&s&&GW.has(s)&&(s!=="transform"||!g)&&!p&&!a&&l!=="mirror"&&u!==0&&d!=="inertia"}const QW=40;class XW extends vy{constructor({autoplay:t=!0,delay:s=0,type:a="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:d="loop",keyframes:f,name:p,motionValue:g,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=fs.now();const b={autoplay:t,delay:s,type:a,repeat:l,repeatDelay:u,repeatType:d,name:p,motionValue:g,element:y,...v},S=y?.KeyframeResolver||wy;this.keyframeResolver=new S(f,(j,T,w)=>this.onKeyframesResolved(j,T,b,!w),p,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,s,a,l){this.keyframeResolver=void 0;const{name:u,type:d,velocity:f,delay:p,isHandoff:g,onUpdate:y}=a;this.resolvedAt=fs.now(),YW(t,u,d,f)||((Ki.instantAnimations||!p)&&y?.(by(t,a,s)),t[0]=t[t.length-1],Jm(a),a.repeat=0);const b={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>QW?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...a,keyframes:t},S=!g&&KW(b)?new UW({...b,element:b.motionValue.owner.current}):new Sy(b);S.finished.then(()=>this.notifyFinished()).catch(Fs),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),RW()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const ZW=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function JW(e){const t=ZW.exec(e);if(!t)return[,];const[,s,a,l]=t;return[`--${s??a}`,l]}function AT(e,t,s=1){const[a,l]=JW(e);if(!a)return;const u=window.getComputedStyle(t).getPropertyValue(a);if(u){const d=u.trim();return Zk(d)?parseFloat(d):d}return py(l)?AT(l,t,s+1):l}function Cy(e,t){return e?.[t]??e?.default??e}const PT=new Set(["width","height","top","left","right","bottom",...sl]),e3={test:e=>e==="auto",parse:e=>e},OT=e=>t=>t.test(e),RT=[nl,rt,di,Ta,qI,UI,e3],cw=e=>RT.find(OT(e));function t3(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||eT(e):!0}const n3=new Set(["brightness","contrast","saturate","opacity"]);function s3(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=s.match(my)||[];if(!a)return e;const l=s.replace(a,"");let u=n3.has(t)?1:0;return a!==s&&(u*=100),t+"("+u+l+")"}const i3=/\b([a-z-]*)\(.*?\)/gu,eg={...Oa,getAnimatableNone:e=>{const t=e.match(i3);return t?t.map(s3).join(" "):e}},uw={...nl,transform:Math.round},a3={rotate:Ta,rotateX:Ta,rotateY:Ta,rotateZ:Ta,scale:Sd,scaleX:Sd,scaleY:Sd,scaleZ:Sd,skew:Ta,skewX:Ta,skewY:Ta,distance:rt,translateX:rt,translateY:rt,translateZ:rt,x:rt,y:rt,z:rt,perspective:rt,transformPerspective:rt,opacity:Rc,originX:XS,originY:XS,originZ:rt},ky={borderWidth:rt,borderTopWidth:rt,borderRightWidth:rt,borderBottomWidth:rt,borderLeftWidth:rt,borderRadius:rt,radius:rt,borderTopLeftRadius:rt,borderTopRightRadius:rt,borderBottomRightRadius:rt,borderBottomLeftRadius:rt,width:rt,maxWidth:rt,height:rt,maxHeight:rt,top:rt,right:rt,bottom:rt,left:rt,padding:rt,paddingTop:rt,paddingRight:rt,paddingBottom:rt,paddingLeft:rt,margin:rt,marginTop:rt,marginRight:rt,marginBottom:rt,marginLeft:rt,backgroundPositionX:rt,backgroundPositionY:rt,...a3,zIndex:uw,fillOpacity:Rc,strokeOpacity:Rc,numOctaves:uw},r3={...ky,color:kn,backgroundColor:kn,outlineColor:kn,fill:kn,stroke:kn,borderColor:kn,borderTopColor:kn,borderRightColor:kn,borderBottomColor:kn,borderLeftColor:kn,filter:eg,WebkitFilter:eg},_T=e=>r3[e];function IT(e,t){let s=_T(e);return s!==eg&&(s=Oa),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const o3=new Set(["auto","none","0"]);function l3(e,t,s){let a=0,l;for(;a<e.length&&!l;){const u=e[a];typeof u=="string"&&!o3.has(u)&&_c(u).values.length&&(l=e[a]),a++}if(l&&s)for(const u of t)e[u]=IT(s,l)}class c3 extends wy{constructor(t,s,a,l,u){super(t,s,a,l,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:a}=this;if(!s||!s.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),py(g))){const y=AT(g,s.current);y!==void 0&&(t[p]=y),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!PT.has(a)||t.length!==2)return;const[l,u]=t,d=cw(l),f=cw(u);if(d!==f)if(aw(d)&&aw(f))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else vr[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,a=[];for(let l=0;l<t.length;l++)(t[l]===null||t3(t[l]))&&a.push(l);a.length&&l3(t,a,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=vr[a](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const l=s[s.length-1];l!==void 0&&t.getValue(a,l).jump(l,!1)}measureEndState(){const{element:t,name:s,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const l=t.getValue(s);l&&l.jump(this.measuredOrigin,!1);const u=a.length-1,d=a[u];a[u]=vr[s](t.measureViewportBox(),window.getComputedStyle(t.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,p])=>{t.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function u3(e,t,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let a=document;const l=s?.[e]??a.querySelectorAll(e);return l?Array.from(l):[]}return Array.from(e)}const WT=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function NT(e){return Jk(e)&&"offsetHeight"in e}const dw=30,d3=e=>!isNaN(parseFloat(e));class f3{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{const l=fs.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=fs.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=d3(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new uy);const a=this.events[t].add(s);return t==="change"?()=>{a(),Zt.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,s,a){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=fs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>dw)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,dw);return tT(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ko(e,t){return new f3(e,t)}const{schedule:Ty}=fT(queueMicrotask,!1),Gs={x:!1,y:!1};function LT(){return Gs.x||Gs.y}function h3(e){return e==="x"||e==="y"?Gs[e]?null:(Gs[e]=!0,()=>{Gs[e]=!1}):Gs.x||Gs.y?null:(Gs.x=Gs.y=!0,()=>{Gs.x=Gs.y=!1})}function VT(e,t){const s=u3(e),a=new AbortController,l={passive:!0,...t,signal:a.signal};return[s,l,()=>a.abort()]}function fw(e){return!(e.pointerType==="touch"||LT())}function p3(e,t,s={}){const[a,l,u]=VT(e,s),d=f=>{if(!fw(f))return;const{target:p}=f,g=t(p,f);if(typeof g!="function"||!p)return;const y=v=>{fw(v)&&(g(v),p.removeEventListener("pointerleave",y))};p.addEventListener("pointerleave",y,l)};return a.forEach(f=>{f.addEventListener("pointerenter",d,l)}),u}const BT=(e,t)=>t?e===t?!0:BT(e,t.parentElement):!1,jy=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,m3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function g3(e){return m3.has(e.tagName)||e.tabIndex!==-1}const Id=new WeakSet;function hw(e){return t=>{t.key==="Enter"&&e(t)}}function hm(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const y3=(e,t)=>{const s=e.currentTarget;if(!s)return;const a=hw(()=>{if(Id.has(s))return;hm(s,"down");const l=hw(()=>{hm(s,"up")}),u=()=>hm(s,"cancel");s.addEventListener("keyup",l,t),s.addEventListener("blur",u,t)});s.addEventListener("keydown",a,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",a),t)};function pw(e){return jy(e)&&!LT()}function x3(e,t,s={}){const[a,l,u]=VT(e,s),d=f=>{const p=f.currentTarget;if(!pw(f))return;Id.add(p);const g=t(p,f),y=(S,j)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),Id.has(p)&&Id.delete(p),pw(S)&&typeof g=="function"&&g(S,{success:j})},v=S=>{y(S,p===window||p===document||s.useGlobalTarget||BT(p,S.target))},b=S=>{y(S,!1)};window.addEventListener("pointerup",v,l),window.addEventListener("pointercancel",b,l)};return a.forEach(f=>{(s.useGlobalTarget?window:f).addEventListener("pointerdown",d,l),NT(f)&&(f.addEventListener("focus",g=>y3(g,l)),!g3(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),u}function zT(e){return Jk(e)&&"ownerSVGElement"in e}function b3(e){return zT(e)&&e.tagName==="svg"}const $n=e=>!!(e&&e.getVelocity),v3=[...RT,kn,Oa],S3=e=>v3.find(OT(e)),Dy=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function mw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function w3(...e){return t=>{let s=!1;const a=e.map(l=>{const u=mw(l,t);return!s&&typeof u=="function"&&(s=!0),u});if(s)return()=>{for(let l=0;l<a.length;l++){const u=a[l];typeof u=="function"?u():mw(e[l],null)}}}}function C3(...e){return x.useCallback(w3(...e),e)}class k3 extends x.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const a=s.offsetParent,l=NT(a)&&a.offsetWidth||0,u=this.props.sizeRef.current;u.height=s.offsetHeight||0,u.width=s.offsetWidth||0,u.top=s.offsetTop,u.left=s.offsetLeft,u.right=l-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function T3({children:e,isPresent:t,anchorX:s,root:a}){const l=x.useId(),u=x.useRef(null),d=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=x.useContext(Dy),p=C3(u,e?.ref);return x.useInsertionEffect(()=>{const{width:g,height:y,top:v,left:b,right:S}=d.current;if(t||!u.current||!g||!y)return;const j=s==="left"?`left: ${b}`:`right: ${S}`;u.current.dataset.motionPopId=l;const T=document.createElement("style");f&&(T.nonce=f);const w=a??document.head;return w.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${j}px !important;
            top: ${v}px !important;
          }
        `),()=>{w.contains(T)&&w.removeChild(T)}},[t]),r.jsx(k3,{isPresent:t,childRef:u,sizeRef:d,children:x.cloneElement(e,{ref:p})})}const j3=({children:e,initial:t,isPresent:s,onExitComplete:a,custom:l,presenceAffectsLayout:u,mode:d,anchorX:f,root:p})=>{const g=iy(D3),y=x.useId();let v=!0,b=x.useMemo(()=>(v=!1,{id:y,initial:t,isPresent:s,custom:l,onExitComplete:S=>{g.set(S,!0);for(const j of g.values())if(!j)return;a&&a()},register:S=>(g.set(S,!1),()=>g.delete(S))}),[s,g,a]);return u&&v&&(b={...b}),x.useMemo(()=>{g.forEach((S,j)=>g.set(j,!1))},[s]),x.useEffect(()=>{!s&&!g.size&&a&&a()},[s]),d==="popLayout"&&(e=r.jsx(T3,{isPresent:s,anchorX:f,root:p,children:e})),r.jsx(Sf.Provider,{value:b,children:e})};function D3(){return new Map}function FT(e=!0){const t=x.useContext(Sf);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:a,register:l}=t,u=x.useId();x.useEffect(()=>{if(e)return l(u)},[e]);const d=x.useCallback(()=>e&&a&&a(u),[u,a,e]);return!s&&a?[!1,d]:[!0]}const wd=e=>e.key||"";function gw(e){const t=[];return x.Children.forEach(e,s=>{x.isValidElement(s)&&t.push(s)}),t}const Qo=({children:e,custom:t,initial:s=!0,onExitComplete:a,presenceAffectsLayout:l=!0,mode:u="sync",propagate:d=!1,anchorX:f="left",root:p})=>{const[g,y]=FT(d),v=x.useMemo(()=>gw(e),[e]),b=d&&!g?[]:v.map(wd),S=x.useRef(!0),j=x.useRef(v),T=iy(()=>new Map),[w,k]=x.useState(v),[D,A]=x.useState(v);Xk(()=>{S.current=!1,j.current=v;for(let M=0;M<D.length;M++){const R=wd(D[M]);b.includes(R)?T.delete(R):T.get(R)!==!0&&T.set(R,!1)}},[D,b.length,b.join("-")]);const _=[];if(v!==w){let M=[...v];for(let R=0;R<D.length;R++){const N=D[R],W=wd(N);b.includes(W)||(M.splice(R,0,N),_.push(N))}return u==="wait"&&_.length&&(M=_),A(gw(M)),k(v),null}const{forceRender:P}=x.useContext(sy);return r.jsx(r.Fragment,{children:D.map(M=>{const R=wd(M),N=d&&!g?!1:v===D||b.includes(R),W=()=>{if(T.has(R))T.set(R,!0);else return;let U=!0;T.forEach(B=>{B||(U=!1)}),U&&(P?.(),A(j.current),d&&y?.(),a&&a())};return r.jsx(j3,{isPresent:N,initial:!S.current||s?void 0:!1,custom:t,presenceAffectsLayout:l,mode:u,root:p,onExitComplete:N?void 0:W,anchorX:f,children:M},R)})})},HT=x.createContext({strict:!1}),yw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xo={};for(const e in yw)Xo[e]={isEnabled:t=>yw[e].some(s=>!!t[s])};function E3(e){for(const t in e)Xo[t]={...Xo[t],...e[t]}}const M3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ef(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||M3.has(e)}let UT=e=>!ef(e);function A3(e){typeof e=="function"&&(UT=t=>t.startsWith("on")?!ef(t):e(t))}try{A3(require("@emotion/is-prop-valid").default)}catch{}function P3(e,t,s){const a={};for(const l in e)l==="values"&&typeof e.values=="object"||(UT(l)||s===!0&&ef(l)||!t&&!ef(l)||e.draggable&&l.startsWith("onDrag"))&&(a[l]=e[l]);return a}const wf=x.createContext({});function Cf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ic(e){return typeof e=="string"||Array.isArray(e)}const Ey=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],My=["initial",...Ey];function kf(e){return Cf(e.animate)||My.some(t=>Ic(e[t]))}function qT(e){return!!(kf(e)||e.variants)}function O3(e,t){if(kf(e)){const{initial:s,animate:a}=e;return{initial:s===!1||Ic(s)?s:void 0,animate:Ic(a)?a:void 0}}return e.inherit!==!1?t:{}}function R3(e){const{initial:t,animate:s}=O3(e,x.useContext(wf));return x.useMemo(()=>({initial:t,animate:s}),[xw(t),xw(s)])}function xw(e){return Array.isArray(e)?e.join(" "):e}const Wc={};function _3(e){for(const t in e)Wc[t]=e[t],hy(t)&&(Wc[t].isCSSVariable=!0)}function YT(e,{layout:t,layoutId:s}){return il.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!Wc[e]||e==="opacity")}const I3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},W3=sl.length;function N3(e,t,s){let a="",l=!0;for(let u=0;u<W3;u++){const d=sl[u],f=e[d];if(f===void 0)continue;let p=!0;if(typeof f=="number"?p=f===(d.startsWith("scale")?1:0):p=parseFloat(f)===0,!p||s){const g=WT(f,ky[d]);if(!p){l=!1;const y=I3[d]||d;a+=`${y}(${g}) `}s&&(t[d]=g)}}return a=a.trim(),s?a=s(t,l?"":a):l&&(a="none"),a}function Ay(e,t,s){const{style:a,vars:l,transformOrigin:u}=e;let d=!1,f=!1;for(const p in t){const g=t[p];if(il.has(p)){d=!0;continue}else if(hy(p)){l[p]=g;continue}else{const y=WT(g,ky[p]);p.startsWith("origin")?(f=!0,u[p]=y):a[p]=y}}if(t.transform||(d||s?a.transform=N3(t,e.transform,s):a.transform&&(a.transform="none")),f){const{originX:p="50%",originY:g="50%",originZ:y=0}=u;a.transformOrigin=`${p} ${g} ${y}`}}const Py=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function GT(e,t,s){for(const a in t)!$n(t[a])&&!YT(a,s)&&(e[a]=t[a])}function L3({transformTemplate:e},t){return x.useMemo(()=>{const s=Py();return Ay(s,t,e),Object.assign({},s.vars,s.style)},[t])}function V3(e,t){const s=e.style||{},a={};return GT(a,s,e),Object.assign(a,L3(e,t)),a}function B3(e,t){const s={},a=V3(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=a,s}const z3={offset:"stroke-dashoffset",array:"stroke-dasharray"},F3={offset:"strokeDashoffset",array:"strokeDasharray"};function H3(e,t,s=1,a=0,l=!0){e.pathLength=1;const u=l?z3:F3;e[u.offset]=rt.transform(-a);const d=rt.transform(t),f=rt.transform(s);e[u.array]=`${d} ${f}`}function $T(e,{attrX:t,attrY:s,attrScale:a,pathLength:l,pathSpacing:u=1,pathOffset:d=0,...f},p,g,y){if(Ay(e,f,g),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:b}=e;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=y?.transformBox??"fill-box",delete v.transformBox),t!==void 0&&(v.x=t),s!==void 0&&(v.y=s),a!==void 0&&(v.scale=a),l!==void 0&&H3(v,l,u,d,!1)}const KT=()=>({...Py(),attrs:{}}),QT=e=>typeof e=="string"&&e.toLowerCase()==="svg";function U3(e,t,s,a){const l=x.useMemo(()=>{const u=KT();return $T(u,t,QT(a),e.transformTemplate,e.style),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};GT(u,e.style,e),l.style={...u,...l.style}}return l}const q3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Oy(e){return typeof e!="string"||e.includes("-")?!1:!!(q3.indexOf(e)>-1||/[A-Z]/u.test(e))}function Y3(e,t,s,{latestValues:a},l,u=!1){const f=(Oy(e)?U3:B3)(t,a,l,e),p=P3(t,typeof e=="string",u),g=e!==x.Fragment?{...p,...f,ref:s}:{},{children:y}=t,v=x.useMemo(()=>$n(y)?y.get():y,[y]);return x.createElement(e,{...g,children:v})}function bw(e){const t=[{},{}];return e?.values.forEach((s,a)=>{t[0][a]=s.get(),t[1][a]=s.getVelocity()}),t}function Ry(e,t,s,a){if(typeof t=="function"){const[l,u]=bw(a);t=t(s!==void 0?s:e.custom,l,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[l,u]=bw(a);t=t(s!==void 0?s:e.custom,l,u)}return t}function Wd(e){return $n(e)?e.get():e}function G3({scrapeMotionValuesFromProps:e,createRenderState:t},s,a,l){return{latestValues:$3(s,a,l,e),renderState:t()}}function $3(e,t,s,a){const l={},u=a(e,{});for(const b in u)l[b]=Wd(u[b]);let{initial:d,animate:f}=e;const p=kf(e),g=qT(e);t&&g&&!p&&e.inherit!==!1&&(d===void 0&&(d=t.initial),f===void 0&&(f=t.animate));let y=s?s.initial===!1:!1;y=y||d===!1;const v=y?f:d;if(v&&typeof v!="boolean"&&!Cf(v)){const b=Array.isArray(v)?v:[v];for(let S=0;S<b.length;S++){const j=Ry(e,b[S]);if(j){const{transitionEnd:T,transition:w,...k}=j;for(const D in k){let A=k[D];if(Array.isArray(A)){const _=y?A.length-1:0;A=A[_]}A!==null&&(l[D]=A)}for(const D in T)l[D]=T[D]}}}return l}const XT=e=>(t,s)=>{const a=x.useContext(wf),l=x.useContext(Sf),u=()=>G3(e,t,a,l);return s?u():iy(u)};function _y(e,t,s){const{style:a}=e,l={};for(const u in a)($n(a[u])||t.style&&$n(t.style[u])||YT(u,e)||s?.getValue(u)?.liveStyle!==void 0)&&(l[u]=a[u]);return l}const K3=XT({scrapeMotionValuesFromProps:_y,createRenderState:Py});function ZT(e,t,s){const a=_y(e,t,s);for(const l in e)if($n(e[l])||$n(t[l])){const u=sl.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;a[u]=e[l]}return a}const Q3=XT({scrapeMotionValuesFromProps:ZT,createRenderState:KT}),X3=Symbol.for("motionComponentSymbol");function Po(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Z3(e,t,s){return x.useCallback(a=>{a&&e.onMount&&e.onMount(a),t&&(a?t.mount(a):t.unmount()),s&&(typeof s=="function"?s(a):Po(s)&&(s.current=a))},[t])}const Iy=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),J3="framerAppearId",JT="data-"+Iy(J3),ej=x.createContext({});function eN(e,t,s,a,l){const{visualElement:u}=x.useContext(wf),d=x.useContext(HT),f=x.useContext(Sf),p=x.useContext(Dy).reducedMotion,g=x.useRef(null);a=a||d.renderer,!g.current&&a&&(g.current=a(e,{visualState:t,parent:u,props:s,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:p}));const y=g.current,v=x.useContext(ej);y&&!y.projection&&l&&(y.type==="html"||y.type==="svg")&&tN(g.current,s,l,v);const b=x.useRef(!1);x.useInsertionEffect(()=>{y&&b.current&&y.update(s,f)});const S=s[JT],j=x.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return Xk(()=>{y&&(b.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),j.current&&y.animationState&&y.animationState.animateChanges())}),x.useEffect(()=>{y&&(!j.current&&y.animationState&&y.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),j.current=!1),y.enteringChildren=void 0)}),y}function tN(e,t,s,a){const{layoutId:l,layout:u,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:g,layoutCrossfade:y}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:tj(e.parent)),e.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||f&&Po(f),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,crossfade:y,layoutScroll:p,layoutRoot:g})}function tj(e){if(e)return e.options.allowProjection!==!1?e.projection:tj(e.parent)}function pm(e,{forwardMotionProps:t=!1}={},s,a){s&&E3(s);const l=Oy(e)?Q3:K3;function u(f,p){let g;const y={...x.useContext(Dy),...f,layoutId:nN(f)},{isStatic:v}=y,b=R3(f),S=l(f,v);if(!v&&ay){sN();const j=iN(y);g=j.MeasureLayout,b.visualElement=eN(e,S,y,a,j.ProjectionNode)}return r.jsxs(wf.Provider,{value:b,children:[g&&b.visualElement?r.jsx(g,{visualElement:b.visualElement,...y}):null,Y3(e,f,Z3(S,b.visualElement,p),S,v,t)]})}u.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const d=x.forwardRef(u);return d[X3]=e,d}function nN({layoutId:e}){const t=x.useContext(sy).id;return t&&e!==void 0?t+"-"+e:e}function sN(e,t){x.useContext(HT).strict}function iN(e){const{drag:t,layout:s}=Xo;if(!t&&!s)return{};const a={...t,...s};return{MeasureLayout:t?.isEnabled(e)||s?.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function aN(e,t){if(typeof Proxy>"u")return pm;const s=new Map,a=(u,d)=>pm(u,d,e,t),l=(u,d)=>a(u,d);return new Proxy(l,{get:(u,d)=>d==="create"?a:(s.has(d)||s.set(d,pm(d,void 0,e,t)),s.get(d))})}function nj({top:e,left:t,right:s,bottom:a}){return{x:{min:t,max:s},y:{min:e,max:a}}}function rN({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function oN(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:a.y,right:a.x}}function mm(e){return e===void 0||e===1}function tg({scale:e,scaleX:t,scaleY:s}){return!mm(e)||!mm(t)||!mm(s)}function dr(e){return tg(e)||sj(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function sj(e){return vw(e.x)||vw(e.y)}function vw(e){return e&&e!=="0%"}function tf(e,t,s){const a=e-s,l=t*a;return s+l}function Sw(e,t,s,a,l){return l!==void 0&&(e=tf(e,l,a)),tf(e,s,a)+t}function ng(e,t=0,s=1,a,l){e.min=Sw(e.min,t,s,a,l),e.max=Sw(e.max,t,s,a,l)}function ij(e,{x:t,y:s}){ng(e.x,t.translate,t.scale,t.originPoint),ng(e.y,s.translate,s.scale,s.originPoint)}const ww=.999999999999,Cw=1.0000000000001;function lN(e,t,s,a=!1){const l=s.length;if(!l)return;t.x=t.y=1;let u,d;for(let f=0;f<l;f++){u=s[f],d=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ro(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),d&&(t.x*=d.x.scale,t.y*=d.y.scale,ij(e,d)),a&&dr(u.latestValues)&&Ro(e,u.latestValues))}t.x<Cw&&t.x>ww&&(t.x=1),t.y<Cw&&t.y>ww&&(t.y=1)}function Oo(e,t){e.min=e.min+t,e.max=e.max+t}function kw(e,t,s,a,l=.5){const u=an(e.min,e.max,l);ng(e,t,s,u,a)}function Ro(e,t){kw(e.x,t.x,t.scaleX,t.scale,t.originX),kw(e.y,t.y,t.scaleY,t.scale,t.originY)}function aj(e,t){return nj(oN(e.getBoundingClientRect(),t))}function cN(e,t,s){const a=aj(e,s),{scroll:l}=t;return l&&(Oo(a.x,l.offset.x),Oo(a.y,l.offset.y)),a}const Tw=()=>({translate:0,scale:1,origin:0,originPoint:0}),_o=()=>({x:Tw(),y:Tw()}),jw=()=>({min:0,max:0}),gn=()=>({x:jw(),y:jw()}),sg={current:null},rj={current:!1};function uN(){if(rj.current=!0,!!ay)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>sg.current=e.matches;e.addEventListener("change",t),t()}else sg.current=!1}const dN=new WeakMap;function fN(e,t,s){for(const a in t){const l=t[a],u=s[a];if($n(l))e.addValue(a,l);else if($n(u))e.addValue(a,Ko(l,{owner:e}));else if(u!==l)if(e.hasValue(a)){const d=e.getValue(a);d.liveStyle===!0?d.jump(l):d.hasAnimated||d.set(l)}else{const d=e.getStaticValue(a);e.addValue(a,Ko(d!==void 0?d:l,{owner:e}))}}for(const a in s)t[a]===void 0&&e.removeValue(a);return t}const Dw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class hN{scrapeMotionValuesFromProps(t,s,a){return{}}constructor({parent:t,props:s,presenceContext:a,reducedMotionConfig:l,blockInitialAnimation:u,visualState:d},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=fs.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Zt.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=d;this.latestValues=p,this.baseTarget={...p},this.initialValues=s.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=s,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=l,this.options=f,this.blockInitialAnimation=!!u,this.isControllingVariants=kf(s),this.isVariantNode=qT(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(s,{},this);for(const b in v){const S=v[b];p[b]!==void 0&&$n(S)&&S.set(p[b])}}mount(t){this.current=t,dN.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),rj.current||uN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:sg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Pa(this.notifyUpdate),Pa(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=il.has(t);a&&this.onBindTransform&&this.onBindTransform();const l=s.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&Zt.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{l(),u&&u(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Xo){const s=Xo[t];if(!s)continue;const{isEnabled:a,Feature:l}=s;if(!this.features[t]&&l&&a(this.props)&&(this.features[t]=new l(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let a=0;a<Dw.length;a++){const l=Dw[a];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u="on"+l,d=t[u];d&&(this.propEventSubscriptions[l]=this.on(l,d))}this.prevMotionValues=fN(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const a=this.values.get(t);s!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&s!==void 0&&(a=Ko(s===null?void 0:s,{owner:this}),this.addValue(t,a)),a}readValue(t,s){let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(Zk(a)||eT(a))?a=parseFloat(a):!S3(a)&&Oa.test(s)&&(a=IT(t,s)),this.setBaseTarget(t,$n(a)?a.get():a)),$n(a)?a.get():a}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){const{initial:s}=this.props;let a;if(typeof s=="string"||typeof s=="object"){const u=Ry(this.props,s,this.presenceContext?.custom);u&&(a=u[t])}if(s&&a!==void 0)return a;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!$n(l)?l:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new uy),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){Ty.render(this.render)}}class oj extends hN{constructor(){super(...arguments),this.KeyframeResolver=c3}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:a}){delete s[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;$n(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function lj(e,{style:t,vars:s},a,l){const u=e.style;let d;for(d in t)u[d]=t[d];l?.applyProjectionStyles(u,a);for(d in s)u.setProperty(d,s[d])}function pN(e){return window.getComputedStyle(e)}class mN extends oj{constructor(){super(...arguments),this.type="html",this.renderInstance=lj}readValueFromInstance(t,s){if(il.has(s))return this.projection?.isProjecting?$m(s):EW(t,s);{const a=pN(t),l=(hy(s)?a.getPropertyValue(s):a[s])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:s}){return aj(t,s)}build(t,s,a){Ay(t,s,a.transformTemplate)}scrapeMotionValuesFromProps(t,s,a){return _y(t,s,a)}}const cj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gN(e,t,s,a){lj(e,t,void 0,a);for(const l in t.attrs)e.setAttribute(cj.has(l)?l:Iy(l),t.attrs[l])}class yN extends oj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gn}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(il.has(s)){const a=_T(s);return a&&a.default||0}return s=cj.has(s)?s:Iy(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,a){return ZT(t,s,a)}build(t,s,a){$T(t,s,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(t,s,a,l){gN(t,s,a,l)}mount(t){this.isSVGTag=QT(t.tagName),super.mount(t)}}const xN=(e,t)=>Oy(e)?new yN(t):new mN(t,{allowProjection:e!==x.Fragment});function Vo(e,t,s){const a=e.getProps();return Ry(a,t,s!==void 0?s:a.custom,e)}const ig=e=>Array.isArray(e);function bN(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,Ko(s))}function vN(e){return ig(e)?e[e.length-1]||0:e}function SN(e,t){const s=Vo(e,t);let{transitionEnd:a={},transition:l={},...u}=s||{};u={...u,...a};for(const d in u){const f=vN(u[d]);bN(e,d,f)}}function wN(e){return!!($n(e)&&e.add)}function ag(e,t){const s=e.getValue("willChange");if(wN(s))return s.add(t);if(!s&&Ki.WillChange){const a=new Ki.WillChange("auto");e.addValue("willChange",a),a.add(t)}}function uj(e){return e.props[JT]}const CN=e=>e!==null;function kN(e,{repeat:t,repeatType:s="loop"},a){const l=e.filter(CN),u=t&&s!=="loop"&&t%2===1?0:l.length-1;return l[u]}const TN={type:"spring",stiffness:500,damping:25,restSpeed:10},jN=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),DN={type:"keyframes",duration:.8},EN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},MN=(e,{keyframes:t})=>t.length>2?DN:il.has(e)?e.startsWith("scale")?jN(t[1]):TN:EN;function AN({when:e,delay:t,delayChildren:s,staggerChildren:a,staggerDirection:l,repeat:u,repeatType:d,repeatDelay:f,from:p,elapsed:g,...y}){return!!Object.keys(y).length}const Wy=(e,t,s,a={},l,u)=>d=>{const f=Cy(a,e)||{},p=f.delay||a.delay||0;let{elapsed:g=0}=a;g=g-ui(p);const y={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-g,onUpdate:b=>{t.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{d(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:u?void 0:l};AN(f)||Object.assign(y,MN(e,y)),y.duration&&(y.duration=ui(y.duration)),y.repeatDelay&&(y.repeatDelay=ui(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Jm(y),y.delay===0&&(v=!0)),(Ki.instantAnimations||Ki.skipAnimations)&&(v=!0,Jm(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,v&&!u&&t.get()!==void 0){const b=kN(y.keyframes,f);if(b!==void 0){Zt.update(()=>{y.onUpdate(b),y.onComplete()});return}}return f.isSync?new Sy(y):new XW(y)};function PN({protectedKeys:e,needsAnimating:t},s){const a=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,a}function dj(e,t,{delay:s=0,transitionOverride:a,type:l}={}){let{transition:u=e.getDefaultTransition(),transitionEnd:d,...f}=t;a&&(u=a);const p=[],g=l&&e.animationState&&e.animationState.getState()[l];for(const y in f){const v=e.getValue(y,e.latestValues[y]??null),b=f[y];if(b===void 0||g&&PN(g,y))continue;const S={delay:s,...Cy(u||{},y)},j=v.get();if(j!==void 0&&!v.isAnimating&&!Array.isArray(b)&&b===j&&!S.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const k=uj(e);if(k){const D=window.MotionHandoffAnimation(k,y,Zt);D!==null&&(S.startTime=D,T=!0)}}ag(e,y),v.start(Wy(y,v,b,e.shouldReduceMotion&&PT.has(y)?{type:!1}:S,e,T));const w=v.animation;w&&p.push(w)}return d&&Promise.all(p).then(()=>{Zt.update(()=>{d&&SN(e,d)})}),p}function fj(e,t,s,a=0,l=1){const u=Array.from(e).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),d=e.size,f=(d-1)*a;return typeof s=="function"?s(u,d):l===1?u*a:f-u*a}function rg(e,t,s={}){const a=Vo(e,t,s.type==="exit"?e.presenceContext?.custom:void 0);let{transition:l=e.getDefaultTransition()||{}}=a||{};s.transitionOverride&&(l=s.transitionOverride);const u=a?()=>Promise.all(dj(e,a,s)):()=>Promise.resolve(),d=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:v}=l;return ON(e,t,p,g,y,v,s)}:()=>Promise.resolve(),{when:f}=l;if(f){const[p,g]=f==="beforeChildren"?[u,d]:[d,u];return p().then(()=>g())}else return Promise.all([u(),d(s.delay)])}function ON(e,t,s=0,a=0,l=0,u=1,d){const f=[];for(const p of e.variantChildren)p.notify("AnimationStart",t),f.push(rg(p,t,{...d,delay:s+(typeof a=="function"?0:a)+fj(e.variantChildren,p,a,l,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(f)}function RN(e,t,s={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const l=t.map(u=>rg(e,u,s));a=Promise.all(l)}else if(typeof t=="string")a=rg(e,t,s);else{const l=typeof t=="function"?Vo(e,t,s.custom):t;a=Promise.all(dj(e,l,s))}return a.then(()=>{e.notify("AnimationComplete",t)})}function hj(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let a=0;a<s;a++)if(t[a]!==e[a])return!1;return!0}const _N=My.length;function pj(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?pj(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<_N;s++){const a=My[s],l=e.props[a];(Ic(l)||l===!1)&&(t[a]=l)}return t}const IN=[...Ey].reverse(),WN=Ey.length;function NN(e){return t=>Promise.all(t.map(({animation:s,options:a})=>RN(e,s,a)))}function LN(e){let t=NN(e),s=Ew(),a=!0;const l=p=>(g,y)=>{const v=Vo(e,y,p==="exit"?e.presenceContext?.custom:void 0);if(v){const{transition:b,transitionEnd:S,...j}=v;g={...g,...j,...S}}return g};function u(p){t=p(e)}function d(p){const{props:g}=e,y=pj(e.parent)||{},v=[],b=new Set;let S={},j=1/0;for(let w=0;w<WN;w++){const k=IN[w],D=s[k],A=g[k]!==void 0?g[k]:y[k],_=Ic(A),P=k===p?D.isActive:null;P===!1&&(j=w);let M=A===y[k]&&A!==g[k]&&_;if(M&&a&&e.manuallyAnimateOnMount&&(M=!1),D.protectedKeys={...S},!D.isActive&&P===null||!A&&!D.prevProp||Cf(A)||typeof A=="boolean")continue;const R=VN(D.prevProp,A);let N=R||k===p&&D.isActive&&!M&&_||w>j&&_,W=!1;const U=Array.isArray(A)?A:[A];let B=U.reduce(l(k),{});P===!1&&(B={});const{prevResolvedValues:L={}}=D,ce={...L,...B},H=q=>{N=!0,b.has(q)&&(W=!0,b.delete(q)),D.needsAnimating[q]=!0;const ae=e.getValue(q);ae&&(ae.liveStyle=!1)};for(const q in ce){const ae=B[q],fe=L[q];if(S.hasOwnProperty(q))continue;let Z=!1;ig(ae)&&ig(fe)?Z=!hj(ae,fe):Z=ae!==fe,Z?ae!=null?H(q):b.add(q):ae!==void 0&&b.has(q)?H(q):D.protectedKeys[q]=!0}D.prevProp=A,D.prevResolvedValues=B,D.isActive&&(S={...S,...B}),a&&e.blockInitialAnimation&&(N=!1);const Q=M&&R;N&&(!Q||W)&&v.push(...U.map(q=>{const ae={type:k};if(typeof q=="string"&&a&&!Q&&e.manuallyAnimateOnMount&&e.parent){const{parent:fe}=e,Z=Vo(fe,q);if(fe.enteringChildren&&Z){const{delayChildren:J}=Z.transition||{};ae.delay=fj(fe.enteringChildren,e,J)}}return{animation:q,options:ae}}))}if(b.size){const w={};if(typeof g.initial!="boolean"){const k=Vo(e,Array.isArray(g.initial)?g.initial[0]:g.initial);k&&k.transition&&(w.transition=k.transition)}b.forEach(k=>{const D=e.getBaseTarget(k),A=e.getValue(k);A&&(A.liveStyle=!0),w[k]=D??null}),v.push({animation:w})}let T=!!v.length;return a&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(T=!1),a=!1,T?t(v):Promise.resolve()}function f(p,g){if(s[p].isActive===g)return Promise.resolve();e.variantChildren?.forEach(v=>v.animationState?.setActive(p,g)),s[p].isActive=g;const y=d(p);for(const v in s)s[v].protectedKeys={};return y}return{animateChanges:d,setActive:f,setAnimateFunction:u,getState:()=>s,reset:()=>{s=Ew()}}}function VN(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!hj(t,e):!1}function ir(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ew(){return{animate:ir(!0),whileInView:ir(),whileHover:ir(),whileTap:ir(),whileDrag:ir(),whileFocus:ir(),exit:ir()}}class Na{constructor(t){this.isMounted=!1,this.node=t}update(){}}class BN extends Na{constructor(t){super(t),t.animationState||(t.animationState=LN(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Cf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let zN=0;class FN extends Na{constructor(){super(...arguments),this.id=zN++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const l=this.node.animationState.setActive("exit",!t);s&&!t&&l.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const HN={animation:{Feature:BN},exit:{Feature:FN}};function Nc(e,t,s,a={passive:!0}){return e.addEventListener(t,s,a),()=>e.removeEventListener(t,s)}function Jc(e){return{point:{x:e.pageX,y:e.pageY}}}const UN=e=>t=>jy(t)&&e(t,Jc(t));function xc(e,t,s,a){return Nc(e,t,UN(s),a)}const mj=1e-4,qN=1-mj,YN=1+mj,gj=.01,GN=0-gj,$N=0+gj;function Jn(e){return e.max-e.min}function KN(e,t,s){return Math.abs(e-t)<=s}function Mw(e,t,s,a=.5){e.origin=a,e.originPoint=an(t.min,t.max,e.origin),e.scale=Jn(s)/Jn(t),e.translate=an(s.min,s.max,e.origin)-e.originPoint,(e.scale>=qN&&e.scale<=YN||isNaN(e.scale))&&(e.scale=1),(e.translate>=GN&&e.translate<=$N||isNaN(e.translate))&&(e.translate=0)}function bc(e,t,s,a){Mw(e.x,t.x,s.x,a?a.originX:void 0),Mw(e.y,t.y,s.y,a?a.originY:void 0)}function Aw(e,t,s){e.min=s.min+t.min,e.max=e.min+Jn(t)}function QN(e,t,s){Aw(e.x,t.x,s.x),Aw(e.y,t.y,s.y)}function Pw(e,t,s){e.min=t.min-s.min,e.max=e.min+Jn(t)}function vc(e,t,s){Pw(e.x,t.x,s.x),Pw(e.y,t.y,s.y)}function Bs(e){return[e("x"),e("y")]}const yj=({current:e})=>e?e.ownerDocument.defaultView:null,Ow=(e,t)=>Math.abs(e-t);function XN(e,t){const s=Ow(e.x,t.x),a=Ow(e.y,t.y);return Math.sqrt(s**2+a**2)}class xj{constructor(t,s,{transformPagePoint:a,contextWindow:l=window,dragSnapToOrigin:u=!1,distanceThreshold:d=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=ym(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,j=XN(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!j)return;const{point:T}=b,{timestamp:w}=Fn;this.history.push({...T,timestamp:w});const{onStart:k,onMove:D}=this.handlers;S||(k&&k(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,b)},this.handlePointerMove=(b,S)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=gm(S,this.transformPagePoint),Zt.update(this.updatePoint,!0)},this.handlePointerUp=(b,S)=>{this.end();const{onEnd:j,onSessionEnd:T,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=ym(b.type==="pointercancel"?this.lastMoveEventInfo:gm(S,this.transformPagePoint),this.history);this.startEvent&&j&&j(b,k),T&&T(b,k)},!jy(t))return;this.dragSnapToOrigin=u,this.handlers=s,this.transformPagePoint=a,this.distanceThreshold=d,this.contextWindow=l||window;const f=Jc(t),p=gm(f,this.transformPagePoint),{point:g}=p,{timestamp:y}=Fn;this.history=[{...g,timestamp:y}];const{onSessionStart:v}=s;v&&v(t,ym(p,this.history)),this.removeListeners=Qc(xc(this.contextWindow,"pointermove",this.handlePointerMove),xc(this.contextWindow,"pointerup",this.handlePointerUp),xc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Pa(this.updatePoint)}}function gm(e,t){return t?{point:t(e.point)}:e}function Rw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ym({point:e},t){return{point:e,delta:Rw(e,bj(t)),offset:Rw(e,ZN(t)),velocity:JN(t,.1)}}function ZN(e){return e[0]}function bj(e){return e[e.length-1]}function JN(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,a=null;const l=bj(e);for(;s>=0&&(a=e[s],!(l.timestamp-a.timestamp>ui(t)));)s--;if(!a)return{x:0,y:0};const u=zs(l.timestamp-a.timestamp);if(u===0)return{x:0,y:0};const d={x:(l.x-a.x)/u,y:(l.y-a.y)/u};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function eL(e,{min:t,max:s},a){return t!==void 0&&e<t?e=a?an(t,e,a.min):Math.max(e,t):s!==void 0&&e>s&&(e=a?an(s,e,a.max):Math.min(e,s)),e}function _w(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function tL(e,{top:t,left:s,bottom:a,right:l}){return{x:_w(e.x,s,l),y:_w(e.y,t,a)}}function Iw(e,t){let s=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,a]=[a,s]),{min:s,max:a}}function nL(e,t){return{x:Iw(e.x,t.x),y:Iw(e.y,t.y)}}function sL(e,t){let s=.5;const a=Jn(e),l=Jn(t);return l>a?s=Oc(t.min,t.max-a,e.min):a>l&&(s=Oc(e.min,e.max-l,t.min)),$i(0,1,s)}function iL(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const og=.35;function aL(e=og){return e===!1?e=0:e===!0&&(e=og),{x:Ww(e,"left","right"),y:Ww(e,"top","bottom")}}function Ww(e,t,s){return{min:Nw(e,t),max:Nw(e,s)}}function Nw(e,t){return typeof e=="number"?e:e[t]||0}const rL=new WeakMap;class oL{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:a}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const u=v=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Jc(v).point)},d=(v,b)=>{const{drag:S,dragPropagation:j,onDragStart:T}=this.getProps();if(S&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=h3(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Bs(k=>{let D=this.getAxisMotionValue(k).get()||0;if(di.test(D)){const{projection:A}=this.visualElement;if(A&&A.layout){const _=A.layout.layoutBox[k];_&&(D=Jn(_)*(parseFloat(D)/100))}}this.originPoint[k]=D}),T&&Zt.postRender(()=>T(v,b)),ag(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},f=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b;const{dragPropagation:S,dragDirectionLock:j,onDirectionLock:T,onDrag:w}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:k}=b;if(j&&this.currentDirection===null){this.currentDirection=lL(k),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",b.point,k),this.updateAxis("y",b.point,k),this.visualElement.render(),w&&w(v,b)},p=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b,this.stop(v,b),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Bs(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new xj(t,{onSessionStart:u,onStart:d,onMove:f,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:a,contextWindow:yj(this.visualElement)})}stop(t,s){const a=t||this.latestPointerEvent,l=s||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!l||!a)return;const{velocity:d}=l;this.startAnimation(d);const{onDragEnd:f}=this.getProps();f&&Zt.postRender(()=>f(a,l))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,a){const{drag:l}=this.getProps();if(!a||!Cd(t,l,this.currentDirection))return;const u=this.getAxisMotionValue(t);let d=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(d=eL(d,this.constraints[t],this.elastic[t])),u.set(d)}resolveConstraints(){const{dragConstraints:t,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,l=this.constraints;t&&Po(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=tL(a.layoutBox,t):this.constraints=!1,this.elastic=aL(s),l!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Bs(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=iL(a.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Po(t))return!1;const a=t.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=cN(a,l.root,this.visualElement.getTransformPagePoint());let d=nL(l.layout.layoutBox,u);if(s){const f=s(rN(d));this.hasMutatedConstraints=!!f,f&&(d=nj(f))}return d}startAnimation(t){const{drag:s,dragMomentum:a,dragElastic:l,dragTransition:u,dragSnapToOrigin:d,onDragTransitionEnd:f}=this.getProps(),p=this.constraints||{},g=Bs(y=>{if(!Cd(y,s,this.currentDirection))return;let v=p&&p[y]||{};d&&(v={min:0,max:0});const b=l?200:1e6,S=l?40:1e7,j={type:"inertia",velocity:a?t[y]:0,bounceStiffness:b,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...u,...v};return this.startAxisValueAnimation(y,j)});return Promise.all(g).then(f)}startAxisValueAnimation(t,s){const a=this.getAxisMotionValue(t);return ag(this.visualElement,t),a.start(Wy(t,a,0,s,this.visualElement,!1))}stopAnimation(){Bs(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Bs(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),l=a[s];return l||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){Bs(s=>{const{drag:a}=this.getProps();if(!Cd(s,a,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(s);if(l&&l.layout){const{min:d,max:f}=l.layout.layoutBox[s];u.set(t[s]-an(d,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:a}=this.visualElement;if(!Po(s)||!a||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Bs(d=>{const f=this.getAxisMotionValue(d);if(f&&this.constraints!==!1){const p=f.get();l[d]=sL({min:p,max:p},this.constraints[d])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Bs(d=>{if(!Cd(d,t,null))return;const f=this.getAxisMotionValue(d),{min:p,max:g}=this.constraints[d];f.set(an(p,g,l[d]))})}addListeners(){if(!this.visualElement.current)return;rL.set(this.visualElement,this);const t=this.visualElement.current,s=xc(t,"pointerdown",p=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(p)}),a=()=>{const{dragConstraints:p}=this.getProps();Po(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),Zt.read(a);const d=Nc(window,"resize",()=>this.scalePositionWithinConstraints()),f=l.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Bs(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=p[y].translate,v.set(v.get()+p[y].translate))}),this.visualElement.render())}));return()=>{d(),s(),u(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:a=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:d=og,dragMomentum:f=!0}=t;return{...t,drag:s,dragDirectionLock:a,dragPropagation:l,dragConstraints:u,dragElastic:d,dragMomentum:f}}}function Cd(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function lL(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class cL extends Na{constructor(t){super(t),this.removeGroupControls=Fs,this.removeListeners=Fs,this.controls=new oL(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fs}unmount(){this.removeGroupControls(),this.removeListeners()}}const Lw=e=>(t,s)=>{e&&Zt.postRender(()=>e(t,s))};class uL extends Na{constructor(){super(...arguments),this.removePointerDownListener=Fs}onPointerDown(t){this.session=new xj(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yj(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:a,onPanEnd:l}=this.node.getProps();return{onSessionStart:Lw(t),onStart:Lw(s),onMove:a,onEnd:(u,d)=>{delete this.session,l&&Zt.postRender(()=>l(u,d))}}}mount(){this.removePointerDownListener=xc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Nd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Vw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const tc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(rt.test(e))e=parseFloat(e);else return e;const s=Vw(e,t.target.x),a=Vw(e,t.target.y);return`${s}% ${a}%`}},dL={correct:(e,{treeScale:t,projectionDelta:s})=>{const a=e,l=Oa.parse(e);if(l.length>5)return a;const u=Oa.createTransformer(e),d=typeof l[0]!="number"?1:0,f=s.x.scale*t.x,p=s.y.scale*t.y;l[0+d]/=f,l[1+d]/=p;const g=an(f,p,.5);return typeof l[2+d]=="number"&&(l[2+d]/=g),typeof l[3+d]=="number"&&(l[3+d]/=g),u(l)}};let xm=!1;class fL extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:a,layoutId:l}=this.props,{projection:u}=t;_3(hL),u&&(s.group&&s.group.add(u),a&&a.register&&l&&a.register(u),xm&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Nd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:a,drag:l,isPresent:u}=this.props,{projection:d}=a;return d&&(d.isPresent=u,xm=!0,l||t.layoutDependency!==s||s===void 0||t.isPresent!==u?d.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?d.promote():d.relegate()||Zt.postRender(()=>{const f=d.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Ty.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:a}=this.props,{projection:l}=t;xm=!0,l&&(l.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(l),a&&a.deregister&&a.deregister(l))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function vj(e){const[t,s]=FT(),a=x.useContext(sy);return r.jsx(fL,{...e,layoutGroup:a,switchLayoutGroup:x.useContext(ej),isPresent:t,safeToRemove:s})}const hL={borderRadius:{...tc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tc,borderTopRightRadius:tc,borderBottomLeftRadius:tc,borderBottomRightRadius:tc,boxShadow:dL};function pL(e,t,s){const a=$n(e)?e:Ko(e);return a.start(Wy("",a,t,s)),a.animation}const mL=(e,t)=>e.depth-t.depth;class gL{constructor(){this.children=[],this.isDirty=!1}add(t){ry(this.children,t),this.isDirty=!0}remove(t){oy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(mL),this.isDirty=!1,this.children.forEach(t)}}function yL(e,t){const s=fs.now(),a=({timestamp:l})=>{const u=l-s;u>=t&&(Pa(a),e(u-t))};return Zt.setup(a,!0),()=>Pa(a)}const Sj=["TopLeft","TopRight","BottomLeft","BottomRight"],xL=Sj.length,Bw=e=>typeof e=="string"?parseFloat(e):e,zw=e=>typeof e=="number"||rt.test(e);function bL(e,t,s,a,l,u){l?(e.opacity=an(0,s.opacity??1,vL(a)),e.opacityExit=an(t.opacity??1,0,SL(a))):u&&(e.opacity=an(t.opacity??1,s.opacity??1,a));for(let d=0;d<xL;d++){const f=`border${Sj[d]}Radius`;let p=Fw(t,f),g=Fw(s,f);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||zw(p)===zw(g)?(e[f]=Math.max(an(Bw(p),Bw(g),a),0),(di.test(g)||di.test(p))&&(e[f]+="%")):e[f]=g}(t.rotate||s.rotate)&&(e.rotate=an(t.rotate||0,s.rotate||0,a))}function Fw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const vL=wj(0,.5,lT),SL=wj(.5,.95,Fs);function wj(e,t,s){return a=>a<e?0:a>t?1:s(Oc(e,t,a))}function Hw(e,t){e.min=t.min,e.max=t.max}function Ns(e,t){Hw(e.x,t.x),Hw(e.y,t.y)}function Uw(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function qw(e,t,s,a,l){return e-=t,e=tf(e,1/s,a),l!==void 0&&(e=tf(e,1/l,a)),e}function wL(e,t=0,s=1,a=.5,l,u=e,d=e){if(di.test(t)&&(t=parseFloat(t),t=an(d.min,d.max,t/100)-d.min),typeof t!="number")return;let f=an(u.min,u.max,a);e===u&&(f-=t),e.min=qw(e.min,t,s,f,l),e.max=qw(e.max,t,s,f,l)}function Yw(e,t,[s,a,l],u,d){wL(e,t[s],t[a],t[l],t.scale,u,d)}const CL=["x","scaleX","originX"],kL=["y","scaleY","originY"];function Gw(e,t,s,a){Yw(e.x,t,CL,s?s.x:void 0,a?a.x:void 0),Yw(e.y,t,kL,s?s.y:void 0,a?a.y:void 0)}function $w(e){return e.translate===0&&e.scale===1}function Cj(e){return $w(e.x)&&$w(e.y)}function Kw(e,t){return e.min===t.min&&e.max===t.max}function TL(e,t){return Kw(e.x,t.x)&&Kw(e.y,t.y)}function Qw(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function kj(e,t){return Qw(e.x,t.x)&&Qw(e.y,t.y)}function Xw(e){return Jn(e.x)/Jn(e.y)}function Zw(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class jL{constructor(){this.members=[]}add(t){ry(this.members,t),t.scheduleRender()}remove(t){if(oy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(l=>t===l);if(s===0)return!1;let a;for(let l=s;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){a=u;break}}return a?(this.promote(a),!0):!1}promote(t,s){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,s&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:l}=t.options;l===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:a}=t;s.onExitComplete&&s.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function DL(e,t,s){let a="";const l=e.x.translate/t.x,u=e.y.translate/t.y,d=s?.z||0;if((l||u||d)&&(a=`translate3d(${l}px, ${u}px, ${d}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:g,rotate:y,rotateX:v,rotateY:b,skewX:S,skewY:j}=s;g&&(a=`perspective(${g}px) ${a}`),y&&(a+=`rotate(${y}deg) `),v&&(a+=`rotateX(${v}deg) `),b&&(a+=`rotateY(${b}deg) `),S&&(a+=`skewX(${S}deg) `),j&&(a+=`skewY(${j}deg) `)}const f=e.x.scale*t.x,p=e.y.scale*t.y;return(f!==1||p!==1)&&(a+=`scale(${f}, ${p})`),a||"none"}const bm=["","X","Y","Z"],EL=1e3;let ML=0;function vm(e,t,s,a){const{latestValues:l}=t;l[e]&&(s[e]=l[e],t.setStaticValue(e,0),a&&(a[e]=0))}function Tj(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=uj(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:l,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",Zt,!(l||u))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&Tj(a)}function jj({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:a,resetTransform:l}){return class{constructor(d={},f=t?.()){this.id=ML++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(OL),this.nodes.forEach(WL),this.nodes.forEach(NL),this.nodes.forEach(RL)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new gL)}addEventListener(d,f){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new uy),this.eventHandlers.get(d).add(f)}notifyListeners(d,...f){const p=this.eventHandlers.get(d);p&&p.notify(...f)}hasListeners(d){return this.eventHandlers.has(d)}mount(d){if(this.instance)return;this.isSVG=zT(d)&&!b3(d),this.instance=d;const{layoutId:f,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||f)&&(this.isLayoutDirty=!0),e){let y,v=0;const b=()=>this.root.updateBlockedByResize=!1;Zt.read(()=>{v=window.innerWidth}),e(d,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,y&&y(),y=yL(b,250),Nd.hasAnimatedSinceResize&&(Nd.hasAnimatedSinceResize=!1,this.nodes.forEach(t1)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||g.getDefaultTransition()||FL,{onLayoutAnimationStart:T,onLayoutAnimationComplete:w}=g.getProps(),k=!this.targetLayout||!kj(this.targetLayout,S),D=!v&&b;if(this.options.layoutRoot||this.resumeFrom||D||v&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...Cy(j,"layout"),onPlay:T,onComplete:w};(g.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(y,D)}else v||t1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Pa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(LL),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Tj(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:f,layout:p}=this.options;if(f===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Jw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(e1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(IL),this.nodes.forEach(AL),this.nodes.forEach(PL)):this.nodes.forEach(e1),this.clearAllSnapshots();const f=fs.now();Fn.delta=$i(0,1e3/60,f-Fn.timestamp),Fn.timestamp=f,Fn.isProcessing=!0,lm.update.process(Fn),lm.preRender.process(Fn),lm.render.process(Fn),Fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ty.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_L),this.sharedNodes.forEach(VL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Zt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Zt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Jn(this.snapshot.measuredBox.x)&&!Jn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=gn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(f=!1),f&&this.instance){const p=a(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:p,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!l)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!Cj(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;d&&this.instance&&(f||dr(this.latestValues)||y)&&(l(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const f=this.measurePageBox();let p=this.removeElementScroll(f);return d&&(p=this.removeTransform(p)),HL(p),{animationId:this.root.animationId,measuredBox:f,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:d}=this.options;if(!d)return gn();const f=d.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(UL))){const{scroll:g}=this.root;g&&(Oo(f.x,g.offset.x),Oo(f.y,g.offset.y))}return f}removeElementScroll(d){const f=gn();if(Ns(f,d),this.scroll?.wasRoot)return f;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:y,options:v}=g;g!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Ns(f,d),Oo(f.x,y.offset.x),Oo(f.y,y.offset.y))}return f}applyTransform(d,f=!1){const p=gn();Ns(p,d);for(let g=0;g<this.path.length;g++){const y=this.path[g];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Ro(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),dr(y.latestValues)&&Ro(p,y.latestValues)}return dr(this.latestValues)&&Ro(p,this.latestValues),p}removeTransform(d){const f=gn();Ns(f,d);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!dr(g.latestValues))continue;tg(g.latestValues)&&g.updateSnapshot();const y=gn(),v=g.measurePageBox();Ns(y,v),Gw(f,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return dr(this.latestValues)&&Gw(f,this.latestValues),f}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(d||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!(!this.layout||!(y||v))){if(this.resolvedRelativeTargetAt=Fn.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gn(),this.relativeTargetOrigin=gn(),vc(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Ns(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=gn(),this.targetWithTransforms=gn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),QN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ns(this.target,this.layout.layoutBox),ij(this.target,this.targetDelta)):Ns(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gn(),this.relativeTargetOrigin=gn(),vc(this.relativeTargetOrigin,this.target,b.target),Ns(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||tg(this.parent.latestValues)||sj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const d=this.getLead(),f=!!this.resumingFrom||this!==d;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Fn.timestamp&&(p=!1),p)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;Ns(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;lN(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=gn());const{target:S}=d;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Uw(this.prevProjectionDelta.x,this.projectionDelta.x),Uw(this.prevProjectionDelta.y,this.projectionDelta.y)),bc(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!Zw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Zw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){if(this.options.visualElement?.scheduleRender(),d){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_o(),this.projectionDelta=_o(),this.projectionDeltaWithTransform=_o()}setAnimationOrigin(d,f=!1){const p=this.snapshot,g=p?p.latestValues:{},y={...this.latestValues},v=_o();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=gn(),S=p?p.source:void 0,j=this.layout?this.layout.source:void 0,T=S!==j,w=this.getStack(),k=!w||w.members.length<=1,D=!!(T&&!k&&this.options.crossfade===!0&&!this.path.some(zL));this.animationProgress=0;let A;this.mixTargetDelta=_=>{const P=_/1e3;n1(v.x,d.x,P),n1(v.y,d.y,P),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vc(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),BL(this.relativeTarget,this.relativeTargetOrigin,b,P),A&&TL(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=gn()),Ns(A,this.relativeTarget)),T&&(this.animationValues=y,bL(y,g,this.latestValues,P,D,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Pa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Zt.update(()=>{Nd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ko(0)),this.currentAnimation=pL(this.motionValue,[0,1e3],{...d,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),d.onUpdate&&d.onUpdate(f)},onStop:()=>{},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(EL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:f,target:p,layout:g,latestValues:y}=d;if(!(!f||!p||!g)){if(this!==d&&this.layout&&g&&Dj(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||gn();const v=Jn(this.layout.layoutBox.x);p.x.min=d.target.x.min,p.x.max=p.x.min+v;const b=Jn(this.layout.layoutBox.y);p.y.min=d.target.y.min,p.y.max=p.y.min+b}Ns(f,p),Ro(f,y),bc(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(d,f){this.sharedNodes.has(d)||this.sharedNodes.set(d,new jL),this.sharedNodes.get(d).add(f);const g=f.options.initialPromotionConfig;f.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(f):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){const{layoutId:d}=this.options;return d?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:d}=this.options;return d?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:f,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),d&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let f=!1;const{latestValues:p}=d;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(f=!0),!f)return;const g={};p.z&&vm("z",d,g,this.animationValues);for(let y=0;y<bm.length;y++)vm(`rotate${bm[y]}`,d,g,this.animationValues),vm(`skew${bm[y]}`,d,g,this.animationValues);d.render();for(const y in g)d.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);d.scheduleRender()}applyProjectionStyles(d,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){d.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,d.visibility="",d.opacity="",d.pointerEvents=Wd(f?.pointerEvents)||"",d.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=Wd(f?.pointerEvents)||""),this.hasProjected&&!dr(this.latestValues)&&(d.transform=p?p({},""):"none",this.hasProjected=!1);return}d.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let v=DL(this.projectionDeltaWithTransform,this.treeScale,y);p&&(v=p(y,v)),d.transform=v;const{x:b,y:S}=this.projectionDelta;d.transformOrigin=`${b.origin*100}% ${S.origin*100}% 0`,g.animationValues?d.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:d.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const j in Wc){if(y[j]===void 0)continue;const{correct:T,applyTo:w,isCSSVariable:k}=Wc[j],D=v==="none"?y[j]:T(y[j],g);if(w){const A=w.length;for(let _=0;_<A;_++)d[w[_]]=D}else k?this.options.visualElement.renderState.vars[j]=D:d[j]=D}this.options.layoutId&&(d.pointerEvents=g===this?Wd(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>d.currentAnimation?.stop()),this.root.nodes.forEach(Jw),this.root.sharedNodes.clear()}}}function AL(e){e.updateLayout()}function PL(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=e.layout,{animationType:l}=e.options,u=t.source!==e.layout.source;l==="size"?Bs(y=>{const v=u?t.measuredBox[y]:t.layoutBox[y],b=Jn(v);v.min=s[y].min,v.max=v.min+b}):Dj(l,t.layoutBox,s)&&Bs(y=>{const v=u?t.measuredBox[y]:t.layoutBox[y],b=Jn(s[y]);v.max=v.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+b)});const d=_o();bc(d,s,t.layoutBox);const f=_o();u?bc(f,e.applyTransform(a,!0),t.measuredBox):bc(f,s,t.layoutBox);const p=!Cj(d);let g=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:b}=y;if(v&&b){const S=gn();vc(S,t.layoutBox,v.layoutBox);const j=gn();vc(j,s,b.layoutBox),kj(S,j)||(g=!0),y.options.layoutRoot&&(e.relativeTarget=j,e.relativeTargetOrigin=S,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:f,layoutDelta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function OL(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function RL(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function _L(e){e.clearSnapshot()}function Jw(e){e.clearMeasurements()}function e1(e){e.isLayoutDirty=!1}function IL(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function t1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function WL(e){e.resolveTargetDelta()}function NL(e){e.calcProjection()}function LL(e){e.resetSkewAndRotation()}function VL(e){e.removeLeadSnapshot()}function n1(e,t,s){e.translate=an(t.translate,0,s),e.scale=an(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function s1(e,t,s,a){e.min=an(t.min,s.min,a),e.max=an(t.max,s.max,a)}function BL(e,t,s,a){s1(e.x,t.x,s.x,a),s1(e.y,t.y,s.y,a)}function zL(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const FL={duration:.45,ease:[.4,0,.1,1]},i1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),a1=i1("applewebkit/")&&!i1("chrome/")?Math.round:Fs;function r1(e){e.min=a1(e.min),e.max=a1(e.max)}function HL(e){r1(e.x),r1(e.y)}function Dj(e,t,s){return e==="position"||e==="preserve-aspect"&&!KN(Xw(t),Xw(s),.2)}function UL(e){return e!==e.root&&e.scroll?.wasRoot}const qL=jj({attachResizeListener:(e,t)=>Nc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Sm={current:void 0},Ej=jj({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Sm.current){const e=new qL({});e.mount(window),e.setOptions({layoutScroll:!0}),Sm.current=e}return Sm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),YL={pan:{Feature:uL},drag:{Feature:cL,ProjectionNode:Ej,MeasureLayout:vj}};function o1(e,t,s){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",s==="Start");const l="onHover"+s,u=a[l];u&&Zt.postRender(()=>u(t,Jc(t)))}class GL extends Na{mount(){const{current:t}=this.node;t&&(this.unmount=p3(t,(s,a)=>(o1(this.node,a,"Start"),l=>o1(this.node,l,"End"))))}unmount(){}}class $L extends Na{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qc(Nc(this.node.current,"focus",()=>this.onFocus()),Nc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function l1(e,t,s){const{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",s==="Start");const l="onTap"+(s==="End"?"":s),u=a[l];u&&Zt.postRender(()=>u(t,Jc(t)))}class KL extends Na{mount(){const{current:t}=this.node;t&&(this.unmount=x3(t,(s,a)=>(l1(this.node,a,"Start"),(l,{success:u})=>l1(this.node,l,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const lg=new WeakMap,wm=new WeakMap,QL=e=>{const t=lg.get(e.target);t&&t(e)},XL=e=>{e.forEach(QL)};function ZL({root:e,...t}){const s=e||document;wm.has(s)||wm.set(s,{});const a=wm.get(s),l=JSON.stringify(t);return a[l]||(a[l]=new IntersectionObserver(XL,{root:e,...t})),a[l]}function JL(e,t,s){const a=ZL(t);return lg.set(e,s),a.observe(e),()=>{lg.delete(e),a.unobserve(e)}}const eV={some:0,all:1};class tV extends Na{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:a,amount:l="some",once:u}=t,d={root:s?s.current:void 0,rootMargin:a,threshold:typeof l=="number"?l:eV[l]},f=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),b=g?y:v;b&&b(p)};return JL(this.node.current,d,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(nV(t,s))&&this.startObserver()}unmount(){}}function nV({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const sV={inView:{Feature:tV},tap:{Feature:KL},focus:{Feature:$L},hover:{Feature:GL}},iV={layout:{ProjectionNode:Ej,MeasureLayout:vj}},aV={...HN,...sV,...YL,...iV},Ke=aN(aV,xN),nf={minimum:"44px",navigation:"56px"},rV={navigation:1e3},Ny=x.memo(({currentScreen:e,onNavigate:t})=>{const s=Jo(),a=[{id:"home",label:"Work",iconActive:Jt,iconInactive:p2,activeColor:"#1db584",screens:["home","selection","preview","workout","customize","custom-preview","completion","timer","cardio","hiit"]},{id:"progress",label:"Progress",iconActive:Aa,iconInactive:m2,activeColor:"#6b8a9d",screens:["progress"]},{id:"settings",label:"Settings",iconActive:xC,iconInactive:g2,activeColor:"#ff8c00",screens:["settings","log-activity","exercise-list","profile","stretch","mobility"]}],l=d=>{t(d)},u=d=>d.screens.includes(e);return r.jsx(Ke.nav,{initial:{y:100},animate:{y:0},transition:{type:"spring",stiffness:300,damping:30},style:{position:"fixed",bottom:0,left:0,right:0,height:`calc(${nf.navigation} + env(safe-area-inset-bottom))`,backgroundColor:s.palette.background.paper,borderTop:`1px solid ${s.palette.mode==="dark"?"rgba(29, 181, 132, 0.2)":"rgba(0, 0, 0, 0.12)"}`,boxShadow:s.palette.mode==="dark"?"0 -2px 10px rgba(0, 0, 0, 0.3)":"0 -2px 10px rgba(0, 0, 0, 0.1)",zIndex:rV.navigation,display:"flex",alignItems:"center",justifyContent:"space-around",paddingBottom:"env(safe-area-inset-bottom)",paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)"},children:a.map(d=>{const f=u(d),p=f?d.iconActive:d.iconInactive;return r.jsxs(Ke.button,{onClick:()=>l(d.id),whileTap:{scale:.9},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flex:1,height:"100%",minWidth:nf.minimum,background:"transparent",border:"none",cursor:"pointer",color:f?d.activeColor:s.palette.text.secondary,transition:"color 0.2s ease",padding:"8px 4px"},"aria-label":d.label,"aria-current":f?"page":void 0,children:[r.jsx("div",{style:{fontSize:"1.5rem",marginBottom:"2px",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(p,{sx:{fontSize:"1.5rem"}})}),r.jsx("span",{style:{fontSize:"0.625rem",fontWeight:f?600:400,textTransform:"uppercase",letterSpacing:"0.5px",lineHeight:1},children:d.label}),f&&r.jsx(Ke.div,{layoutId:"bottomNavIndicator",style:{position:"absolute",top:0,left:0,right:0,height:"2px",backgroundColor:d.activeColor,borderRadius:"0 0 2px 2px"},transition:{type:"spring",stiffness:300,damping:30}})]},d.id)})})});Ny.displayName="BottomNav";Ny.propTypes={currentScreen:E.string.isRequired,onNavigate:E.func.isRequired};const Mj=({workoutHistory:e=[],onDayClick:t})=>{const s=Jo(),a=Mg(s.breakpoints.down("sm")),[l,u]=x.useState(new Date),d=()=>{const S=Ik(l),j=_k(l),T=Xs(S),w=Nk(j),k=[];let D=T;for(;D<=w;)k.push(D),D=$c(D,1);return k},f=S=>e.filter(j=>{const T=new Date(j.date);return Vm(T,S)}),p=S=>{if(!S||S.length===0)return null;const j=S[0];return j.type?.toLowerCase()||j.workoutType?.toLowerCase()||"strength"},g=S=>S?S==="cardio"||S==="hiit"?"error.main":S==="stretch"||S==="active_recovery"||S==="yoga"||S==="mobility"?"secondary.main":S==="rest"?"action.disabled":"primary.main":"primary.main",y=d(),v=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],b=new Date;return r.jsx(at,{elevation:2,sx:{borderRadius:3,overflow:"hidden"},children:r.jsxs(ct,{sx:{p:{xs:2,sm:3},width:"100%",maxWidth:"100%",boxSizing:"border-box"},children:[r.jsxs(V,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},children:[r.jsx(Qe,{onClick:()=>u(TI(l)),size:a?"small":"medium",children:r.jsx(y2,{})}),r.jsx(I,{variant:"h6",sx:{fontWeight:600,fontSize:{xs:"1.1rem",sm:"1.25rem"}},children:zm(l,"MMMM yyyy")}),r.jsx(Qe,{onClick:()=>u(vf(l,1)),size:a?"small":"medium",children:r.jsx(cr,{})})]}),r.jsx(V,{sx:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:{xs:.25,sm:.5},mb:.5},children:v.map(S=>r.jsx(V,{sx:{textAlign:"center",py:{xs:.5,sm:1},fontWeight:700,color:"text.primary",fontSize:{xs:"0.7rem",sm:"0.875rem"},opacity:.8},children:a?S.charAt(0):S},S))}),r.jsx(V,{sx:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:{xs:.25,sm:.5}},children:y.map((S,j)=>{const T=Gk(S,l),w=Vm(S,b),k=f(S),D=k.length>0,A=p(k);return r.jsxs(V,{onClick:()=>D&&t?.(S,k[0]),sx:{aspectRatio:"1",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:1,cursor:D?"pointer":"default",bgcolor:w?"action.selected":"transparent",opacity:T?1:.3,border:w?2:1,borderColor:w?"primary.main":"transparent",transition:"all 0.2s ease",minHeight:{xs:40,sm:52},maxHeight:{xs:44,sm:60},position:"relative",padding:{xs:"3px 2px",sm:"6px 4px"},"&:hover":D?{bgcolor:"action.hover",transform:"scale(1.05)",boxShadow:1}:{}},children:[r.jsx(I,{variant:"body2",sx:{fontWeight:w?700:500,color:"text.primary",fontSize:{xs:"0.7rem",sm:"0.875rem"},position:"absolute",top:{xs:3,sm:6},left:"50%",transform:"translateX(-50%)"},children:zm(S,"d")}),D&&r.jsx(I,{sx:{fontSize:{xs:"1.1rem",sm:"1.5rem"},fontWeight:900,color:g(A),lineHeight:1,textShadow:"0 1px 2px rgba(0,0,0,0.1)",marginTop:"auto",marginBottom:{xs:"1px",sm:"4px"}},children:""})]},j)})}),r.jsxs(V,{sx:{display:"flex",gap:{xs:1,sm:2},mt:3,flexWrap:"nowrap",justifyContent:"center",overflowX:"auto"},children:[r.jsx(ft,{label:"Strength",size:"small",sx:{bgcolor:"primary.light",fontSize:{xs:"0.7rem",sm:"0.8125rem"},height:{xs:24,sm:32}}}),r.jsx(ft,{label:"Yoga",size:"small",sx:{bgcolor:"secondary.light",fontSize:{xs:"0.7rem",sm:"0.8125rem"},height:{xs:24,sm:32}}}),r.jsx(ft,{label:"Cardio",size:"small",sx:{bgcolor:"error.light",fontSize:{xs:"0.7rem",sm:"0.8125rem"},height:{xs:24,sm:32}}}),r.jsx(ft,{label:"Rest",size:"small",sx:{bgcolor:"action.disabledBackground",fontSize:{xs:"0.7rem",sm:"0.8125rem"},height:{xs:24,sm:32}}})]})]})})};Mj.propTypes={workoutHistory:E.array,onDayClick:E.func};const Ly=x.memo(({onStartWorkout:e})=>{const[t,s]=x.useState([]),[a,l]=x.useState(null),[u,d]=x.useState(null),{assignWorkoutToDay:f,weeklySchedule:p}=Wa(),g=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];x.useEffect(()=>{const w=async()=>{try{const D=await zi();s(D)}catch(D){console.error("Error loading favorite workouts:",D)}};w();const k=()=>{w()};return window.addEventListener("storage",k),()=>{window.removeEventListener("storage",k)}},[]);const y=async w=>{try{for(const D of g){const A=p[D];A&&A.favoriteId===w&&await f(D,null)}await wk(w);const k=await zi();s(k)}catch(k){console.error("Error deleting favorite workout:",k)}},v=w=>{if(e&&w){const k=w.type||"full",D=w.equipment||"all",A=w.exercises||[];e(k,D,A)}},b=(w,k)=>{l(w.currentTarget),d(k)},S=()=>{l(null),d(null)},j=async w=>{if(u)try{const k={sessionType:u.type||"full",sessionName:u.name||`${u.type} Workout`,exercises:u.exercises||[],assignedDate:new Date().toISOString(),fromFavorite:!0,favoriteId:u.id};await f(w,k),S()}catch(k){console.error("Error assigning workout to day:",k)}},T=w=>{for(const k of g){const D=p[k];if(D&&D.favoriteId===w.id)return k}return null};return t.length===0?null:r.jsx(at,{elevation:2,sx:{mb:3,borderRadius:3},children:r.jsxs(ct,{sx:{p:{xs:2,sm:3}},children:[r.jsxs(V,{sx:{display:"flex",alignItems:"center",mb:2},children:[r.jsx(Hi,{sx:{color:"warning.main",mr:1}}),r.jsx(I,{variant:"h6",sx:{fontWeight:600,color:"text.primary",flex:1},children:"Favourite Workouts"})]}),r.jsx(Re,{spacing:1.5,children:t.map((w,k)=>r.jsxs(V,{sx:{p:1.5,bgcolor:"background.default",borderRadius:2,borderLeft:"4px solid",borderLeftColor:"warning.main",display:"flex",alignItems:"center",gap:1},children:[r.jsx(Jt,{sx:{color:"text.secondary",fontSize:20}}),r.jsxs(V,{sx:{flex:1,minWidth:0},children:[r.jsx(I,{variant:"subtitle2",sx:{fontWeight:600,mb:.5,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:w.name||"Untitled Workout"}),r.jsxs(Re,{direction:"row",spacing:.5,flexWrap:"wrap",children:[w.type&&r.jsx(ft,{label:w.type.charAt(0).toUpperCase()+w.type.slice(1),size:"small",sx:{fontSize:"0.65rem",height:20}}),w.exercises&&r.jsx(ft,{label:`${w.exercises.length} exercises`,size:"small",variant:"outlined",sx:{fontSize:"0.65rem",height:20}}),T(w)&&r.jsx(ft,{icon:r.jsx(Uo,{sx:{fontSize:"0.75rem !important"}}),label:T(w),size:"small",color:"success",sx:{fontSize:"0.65rem",height:20}})]})]}),r.jsxs(Re,{direction:"row",spacing:.5,children:[r.jsx(Zn,{title:"Assign to day",children:r.jsx(Qe,{size:"small",onClick:D=>b(D,w),sx:{color:T(w)?"success.main":"text.secondary","&:hover":{backgroundColor:"rgba(46, 125, 50, 0.08)"}},"aria-label":`Assign ${w.name||"workout"} to day`,children:r.jsx(cf,{fontSize:"small"})})}),r.jsx(Zn,{title:"Start workout",children:r.jsx(Qe,{size:"small",onClick:()=>v(w),sx:{color:"primary.main","&:hover":{backgroundColor:"rgba(19, 70, 134, 0.08)"}},"aria-label":`Start ${w.name||"workout"}`,children:r.jsx(Ks,{fontSize:"small"})})}),r.jsx(Zn,{title:"Delete",children:r.jsx(Qe,{size:"small",onClick:()=>y(w.id),sx:{color:"error.main","&:hover":{backgroundColor:"rgba(211, 47, 47, 0.08)"}},"aria-label":`Delete ${w.name||"workout"}`,children:r.jsx(Cr,{fontSize:"small"})})})]})]},k))}),r.jsxs(x2,{anchorEl:a,open:!!a,onClose:S,PaperProps:{sx:{maxHeight:300,width:200}},children:[r.jsx(Ve,{disabled:!0,sx:{opacity:1,fontWeight:600},children:r.jsx(kt,{children:"Assign to Day"})}),g.map(w=>{const k=u&&p[w]?.favoriteId===u.id;return r.jsxs(Ve,{onClick:()=>j(w),selected:k,children:[r.jsx(zt,{children:k&&r.jsx(Uo,{fontSize:"small",color:"success"})}),r.jsx(kt,{children:w})]},w)})]})]})})});Ly.displayName="FavouriteWorkoutsWidget";Ly.propTypes={onStartWorkout:E.func};const Vy=({onClose:e})=>{const t=[{text:"Take it easy! See a friend!",icon:r.jsx(b2,{sx:{fontSize:48}})},{text:"Rest up! Read a book!",icon:r.jsx(v2,{sx:{fontSize:48}})},{text:"Relax and recover! Try some gentle stretching!",icon:r.jsx(Zs,{sx:{fontSize:48}})},{text:"Your body needs rest! Enjoy your day off!",icon:r.jsx(Ag,{sx:{fontSize:48}})}],s=t[Math.floor(Math.random()*t.length)];return r.jsx(V,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"rgba(0, 0, 0, 0.5)",zIndex:1300,p:2},onClick:e,children:r.jsx(Ke.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},transition:{type:"spring",stiffness:260,damping:20},children:r.jsxs(uc,{elevation:8,sx:{p:4,maxWidth:400,textAlign:"center",borderRadius:4,background:"linear-gradient(135deg, rgba(19, 70, 134, 0.1) 0%, rgba(237, 63, 39, 0.1) 100%)"},onClick:a=>a.stopPropagation(),children:[r.jsx(Ke.div,{animate:{y:[0,-10,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:r.jsx(V,{sx:{color:"primary.main",mb:2},children:s.icon})}),r.jsx(I,{variant:"h5",sx:{fontWeight:700,mb:2,color:"text.primary"},children:"It's a Rest Day! "}),r.jsx(I,{variant:"body1",sx:{color:"text.secondary",mb:3},children:s.text}),r.jsx(Ke.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:r.jsx(V,{sx:{display:"inline-block",px:3,py:1,borderRadius:2,bgcolor:"primary.main",color:"white",cursor:"pointer",fontWeight:600,"&:hover":{bgcolor:"primary.dark"}},onClick:e,children:"Got it!"})})]})})})};Vy.propTypes={onClose:E.func.isRequired};const Aj=e=>{const t=Math.floor(e/3600),s=Math.floor(e%3600/60),a=e%60;return`${t.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`},oV=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),Pj=e=>{const t=Math.floor(e/3600),s=Math.floor(e%3600/60);return t>0?`${t}h ${s}m`:`${s}m`},Bo=e=>{if(typeof e=="string"){const t=e.toLowerCase();return t.includes("upper")?"upper":t.includes("lower")?"lower":"full"}if(e?.type)return Bo(e.type);if(e?.["Primary Muscle"]){const t=e["Primary Muscle"].toLowerCase();if(t.includes("upper"))return"upper";if(t.includes("lower"))return"lower"}return"full"},By=x.memo(({activities:e=[],onDelete:t,onEdit:s,maxVisible:a=10,showLoadMore:l=!0})=>{const[u,d]=x.useState(null),[f,p]=x.useState(a),g=T=>{d(u===T?null:T)},y=T=>({strength:r.jsx(Jt,{fontSize:"small"}),cardio:r.jsx(fi,{fontSize:"small"}),hiit:r.jsx(fi,{fontSize:"small"}),stretch:r.jsx(Zs,{fontSize:"small"})})[T]||r.jsx(Jt,{fontSize:"small"}),v=T=>({strength:"primary",cardio:"info",hiit:"error",stretch:"warning"})[T]||"default",b=T=>T.charAt(0).toUpperCase()+T.slice(1),S=T=>{if(T.exercises){if(Array.isArray(T.exercises))return T.exercises.length;if(typeof T.exercises=="object")return Object.keys(T.exercises).length}return 0},j=e.slice(0,f);return e.length===0?r.jsx(at,{sx:{width:"100%",borderRadius:3},children:r.jsx(ct,{children:r.jsx(I,{variant:"body2",color:"text.secondary",align:"center",children:"No activities yet. Start your first workout!"})})}):r.jsxs(V,{sx:{width:"100%"},children:[r.jsx(I,{variant:"overline",sx:{color:"primary.main",fontWeight:600,letterSpacing:1,mb:1,display:"block"},children:"ACTIVITY HISTORY"}),r.jsx(Hn,{sx:{p:0},children:j.map((T,w)=>{const k=u===w,D=S(T),A=T.type||"strength";return r.jsx(at,{sx:{mb:1,borderRadius:2,boxShadow:"0 2px 8px rgba(19, 70, 134, 0.06)",transition:"box-shadow 0.2s","&:hover":{boxShadow:"0 4px 16px rgba(19, 70, 134, 0.12)"}},children:r.jsxs(ot,{sx:{display:"flex",flexDirection:"column",alignItems:"stretch",p:1.5,cursor:"pointer"},onClick:()=>g(w),children:[r.jsxs(V,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[r.jsxs(V,{sx:{display:"flex",alignItems:"center",gap:1,flex:1},children:[r.jsx(V,{sx:{color:`${v(A)}.main`},children:y(A)}),r.jsxs(V,{sx:{flex:1},children:[r.jsxs(I,{variant:"body2",sx:{fontWeight:600,color:"text.primary"},children:[T.sessionName||b(A),T.isPartial&&r.jsx(ft,{label:"Partial",size:"small",sx:{ml:1,height:"18px",fontSize:"0.7rem"}})]}),T.sessionName&&r.jsx(I,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.65rem"},children:b(A)}),r.jsxs(Re,{direction:"row",spacing:1,sx:{mt:.5},children:[r.jsx(I,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.7rem"},children:oV(T.date)}),r.jsx(I,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.7rem"},children:""}),r.jsx(I,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.7rem"},children:Pj(T.duration)}),D>0&&r.jsxs(r.Fragment,{children:[r.jsx(I,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.7rem"},children:""}),r.jsxs(I,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.7rem"},children:[D," exercises"]})]})]})]})]}),r.jsx(Qe,{size:"small",onClick:_=>{_.stopPropagation(),g(w)},children:k?r.jsx(S2,{}):r.jsx(Da,{})})]}),r.jsx(Pm,{in:k,timeout:"auto",unmountOnExit:!0,children:r.jsxs(V,{sx:{mt:2,pt:2,borderTop:"1px solid",borderColor:"divider"},children:[T.exercises&&typeof T.exercises=="object"&&r.jsxs(V,{sx:{mb:2},children:[r.jsx(I,{variant:"caption",sx:{fontWeight:600,color:"text.secondary"},children:"Exercises:"}),r.jsx(Hn,{dense:!0,sx:{mt:.5},children:Object.entries(T.exercises).map(([_,P],M)=>r.jsxs(ot,{sx:{py:.5,px:1,flexDirection:"column",alignItems:"flex-start"},children:[r.jsxs(I,{variant:"caption",sx:{color:"text.primary"},children:[_,": ",P.sets?.length||0," sets"]}),P.formNotes&&r.jsxs(I,{variant:"caption",sx:{color:"text.secondary",fontStyle:"italic",mt:.5},children:["Form: ",P.formNotes]})]},M))})]}),T.notes&&r.jsxs(V,{sx:{mb:2,p:1.5,bgcolor:"action.hover",borderRadius:1},children:[r.jsx(I,{variant:"caption",sx:{fontWeight:600,color:"text.secondary",display:"block",mb:.5},children:"Notes:"}),r.jsx(I,{variant:"caption",sx:{color:"text.primary"},children:T.notes})]}),r.jsxs(Re,{direction:"row",spacing:1,children:[s&&r.jsx(je,{size:"small",startIcon:r.jsx(Ui,{}),onClick:_=>{_.stopPropagation(),s(w)},variant:"outlined",children:"Edit"}),t&&r.jsx(je,{size:"small",startIcon:r.jsx(Cr,{}),onClick:_=>{_.stopPropagation(),t(w)},variant:"outlined",color:"error",children:"Delete"})]})]})})]})},w)})}),l&&f<e.length&&r.jsx(V,{sx:{display:"flex",justifyContent:"center",mt:2},children:r.jsxs(je,{variant:"outlined",onClick:()=>p(T=>T+a),children:["Load More (",e.length-f," remaining)"]})})]})});By.displayName="ActivitiesList";By.propTypes={activities:E.arrayOf(E.shape({date:E.string,type:E.string,duration:E.number,sessionName:E.string,exercises:E.oneOfType([E.array,E.object]),isPartial:E.bool})).isRequired,onDelete:E.func,onEdit:E.func,maxVisible:E.number,showLoadMore:E.bool};const nc=(e,t)=>e.length!==t.length?!1:t.every(s=>e.includes(s)),lV=({openTo:e,defaultOpenTo:t,views:s,defaultViews:a})=>{const l=s??a;let u;if(e!=null)u=e;else if(l.includes(t))u=t;else if(l.length>0)u=l[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:l,openTo:u}},sf=(e,t,s)=>{let a=t;return a=e.setHours(a,e.getHours(s)),a=e.setMinutes(a,e.getMinutes(s)),a=e.setSeconds(a,e.getSeconds(s)),a=e.setMilliseconds(a,e.getMilliseconds(s)),a},Lc=({date:e,disableFuture:t,disablePast:s,maxDate:a,minDate:l,isDateDisabled:u,adapter:d,timezone:f})=>{const p=sf(d,d.date(void 0,f),e);s&&d.isBefore(l,p)&&(l=p),t&&d.isAfter(a,p)&&(a=p);let g=e,y=e;for(d.isBefore(e,l)&&(g=l,y=null),d.isAfter(e,a)&&(y&&(y=a),g=null);g||y;){if(g&&d.isAfter(g,a)&&(g=null),y&&d.isBefore(y,l)&&(y=null),g){if(!u(g))return g;g=d.addDays(g,1)}if(y){if(!u(y))return y;y=d.addDays(y,-1)}}return null},cV=(e,t)=>e.isValid(t)?t:null,c1=(e,t,s)=>t==null||!e.isValid(t)?s:t,uV=(e,t,s)=>!e.isValid(t)&&t!=null&&!e.isValid(s)&&s!=null?!0:e.isEqual(t,s),zy=(e,t)=>{const a=[e.startOfYear(t)];for(;a.length<12;){const l=a[a.length-1];a.push(e.addMonths(l,1))}return a},Oj=(e,t,s)=>s==="date"?e.startOfDay(e.date(void 0,t)):e.date(void 0,t),dV=["year","month","day"],u1=e=>dV.includes(e),Fy=(e,{format:t,views:s},a)=>{if(t!=null)return t;const l=e.formats;return nc(s,["year"])?l.year:nc(s,["month"])?l.month:nc(s,["day"])?l.dayOfMonth:nc(s,["month","year"])?`${l.month} ${l.year}`:nc(s,["day","month"])?`${l.month} ${l.dayOfMonth}`:a?/en/.test(e.getCurrentLocaleCode())?l.normalDateWithWeekday:l.normalDate:l.keyboardDate},fV=(e,t)=>{const s=e.startOfWeek(t);return[0,1,2,3,4,5,6].map(a=>e.addDays(s,a))},hV=["hours","minutes","seconds"],pV=e=>hV.includes(e),d1=(e,t)=>t.getHours(e)*3600+t.getMinutes(e)*60+t.getSeconds(e),mV=(e,t)=>(s,a)=>e?t.isAfter(s,a):d1(s,t)>d1(a,t),ri={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},gV=e=>Math.max(...e.map(t=>ri[t.type]??1)),sc=(e,t,s)=>{if(t===ri.year)return e.startOfYear(s);if(t===ri.month)return e.startOfMonth(s);if(t===ri.day)return e.startOfDay(s);let a=s;return t<ri.minutes&&(a=e.setMinutes(a,0)),t<ri.seconds&&(a=e.setSeconds(a,0)),t<ri.milliseconds&&(a=e.setMilliseconds(a,0)),a},yV=({props:e,adapter:t,granularity:s,timezone:a,getTodayDate:l})=>{let u=l?l():sc(t,s,Oj(t,a));e.minDate!=null&&t.isAfterDay(e.minDate,u)&&(u=sc(t,s,e.minDate)),e.maxDate!=null&&t.isBeforeDay(e.maxDate,u)&&(u=sc(t,s,e.maxDate));const d=mV(e.disableIgnoringDatePartForTimeValidation??!1,t);return e.minTime!=null&&d(e.minTime,u)&&(u=sc(t,s,e.disableIgnoringDatePartForTimeValidation?e.minTime:sf(t,u,e.minTime))),e.maxTime!=null&&d(u,e.maxTime)&&(u=sc(t,s,e.disableIgnoringDatePartForTimeValidation?e.maxTime:sf(t,u,e.maxTime))),u},Rj=(e,t)=>{const s=e.formatTokenMap[t];if(s==null)throw new Error([`MUI X: The token "${t}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof s=="string"?{type:s,contentType:s==="meridiem"?"letter":"digit",maxLength:void 0}:{type:s.sectionType,contentType:s.contentType,maxLength:s.maxLength}},Tf=(e,t)=>{const s=[],a=e.date(void 0,"default"),l=e.startOfWeek(a),u=e.endOfWeek(a);let d=l;for(;e.isBefore(d,u);)s.push(d),d=e.addDays(d,1);return s.map(f=>e.formatByString(f,t))},_j=(e,t,s,a)=>{switch(s){case"month":return zy(e,e.date(void 0,t)).map(l=>e.formatByString(l,a));case"weekDay":return Tf(e,a);case"meridiem":{const l=e.date(void 0,t);return[e.startOfDay(l),e.endOfDay(l)].map(u=>e.formatByString(u,a))}default:return[]}},f1="s",xV=["0","1","2","3","4","5","6","7","8","9"],bV=e=>{const t=e.date(void 0);return e.formatByString(e.setSeconds(t,0),f1)==="0"?xV:Array.from({length:10}).map((a,l)=>e.formatByString(e.setSeconds(t,l),f1))},Dr=(e,t)=>{if(t[0]==="0")return e;const s=[];let a="";for(let l=0;l<e.length;l+=1){a+=e[l];const u=t.indexOf(a);u>-1&&(s.push(u.toString()),a="")}return s.join("")},Hy=(e,t)=>t[0]==="0"?e:e.split("").map(s=>t[Number(s)]).join(""),h1=(e,t)=>{const s=Dr(e,t);return s!==" "&&!Number.isNaN(Number(s))},Uy=(e,t)=>Number(e).toString().padStart(t,"0"),Ij=(e,t,s,a,l)=>{if(l.type==="day"&&l.contentType==="digit-with-letter"){const d=e.setDate(s.longestMonth,t);return e.formatByString(d,l.format)}let u=t.toString();return l.hasLeadingZerosInInput&&(u=Uy(u,l.maxLength)),Hy(u,a)},qy=(e,t,s)=>{let a=e.value||e.placeholder;const l=t==="non-input"?e.hasLeadingZerosInFormat:e.hasLeadingZerosInInput;return t==="non-input"&&e.hasLeadingZerosInInput&&!e.hasLeadingZerosInFormat&&(a=Number(Dr(a,s)).toString()),["input-rtl","input-ltr"].includes(t)&&e.contentType==="digit"&&!l&&a.length===1&&(a=`${a}`),t==="input-rtl"&&(a=`${a}`),a},p1=(e,t,s,a)=>e.formatByString(e.parse(t,s),a),vV=(e,t)=>e.formatByString(e.date(void 0,"system"),t).length===4,Wj=(e,t,s,a)=>{if(t!=="digit")return!1;const l=e.date(void 0,"default");switch(s){case"year":return e.lib==="dayjs"&&a==="YY"?!0:e.formatByString(e.setYear(l,1),a).startsWith("0");case"month":return e.formatByString(e.startOfYear(l),a).length>1;case"day":return e.formatByString(e.startOfMonth(l),a).length>1;case"weekDay":return e.formatByString(e.startOfWeek(l),a).length>1;case"hours":return e.formatByString(e.setHours(l,1),a).length>1;case"minutes":return e.formatByString(e.setMinutes(l,1),a).length>1;case"seconds":return e.formatByString(e.setSeconds(l,1),a).length>1;default:throw new Error("Invalid section type")}},SV=(e,t,s)=>{const a=t.some(p=>p.type==="day"),l=[],u=[];for(let p=0;p<t.length;p+=1){const g=t[p];a&&g.type==="weekDay"||(l.push(g.format),u.push(qy(g,"non-input",s)))}const d=l.join(" "),f=u.join(" ");return e.parse(f,d)},wV=e=>e.map(t=>`${t.startSeparator}${t.value||t.placeholder}${t.endSeparator}`).join(""),CV=(e,t,s)=>{const l=e.map(u=>{const d=qy(u,s?"input-rtl":"input-ltr",t);return`${u.startSeparator}${d}${u.endSeparator}`}).join("");return s?`${l}`:l},kV=(e,t,s)=>{const a=e.date(void 0,s),l=e.endOfYear(a),u=e.endOfDay(a),{maxDaysInMonth:d,longestMonth:f}=zy(e,a).reduce((p,g)=>{const y=e.getDaysInMonth(g);return y>p.maxDaysInMonth?{maxDaysInMonth:y,longestMonth:g}:p},{maxDaysInMonth:0,longestMonth:null});return{year:({format:p})=>({minimum:0,maximum:vV(e,p)?9999:99}),month:()=>({minimum:1,maximum:e.getMonth(l)+1}),day:({currentDate:p})=>({minimum:1,maximum:e.isValid(p)?e.getDaysInMonth(p):d,longestMonth:f}),weekDay:({format:p,contentType:g})=>{if(g==="digit"){const y=Tf(e,p).map(Number);return{minimum:Math.min(...y),maximum:Math.max(...y)}}return{minimum:1,maximum:7}},hours:({format:p})=>{const g=e.getHours(u);return Dr(e.formatByString(e.endOfDay(a),p),t)!==g.toString()?{minimum:1,maximum:Number(Dr(e.formatByString(e.startOfDay(a),p),t))}:{minimum:0,maximum:g}},minutes:()=>({minimum:0,maximum:e.getMinutes(u)}),seconds:()=>({minimum:0,maximum:e.getSeconds(u)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}},TV=(e,t,s,a)=>{switch(t.type){case"year":return e.setYear(a,e.getYear(s));case"month":return e.setMonth(a,e.getMonth(s));case"weekDay":{let l=e.formatByString(s,t.format);t.hasLeadingZerosInInput&&(l=Uy(l,t.maxLength));const u=Tf(e,t.format),d=u.indexOf(l),p=u.indexOf(t.value)-d;return e.addDays(s,p)}case"day":return e.setDate(a,e.getDate(s));case"meridiem":{const l=e.getHours(s)<12,u=e.getHours(a);return l&&u>=12?e.addHours(a,-12):!l&&u<12?e.addHours(a,12):a}case"hours":return e.setHours(a,e.getHours(s));case"minutes":return e.setMinutes(a,e.getMinutes(s));case"seconds":return e.setSeconds(a,e.getSeconds(s));default:return a}},m1={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},g1=(e,t,s,a,l)=>[...s].sort((u,d)=>m1[u.type]-m1[d.type]).reduce((u,d)=>!l||d.modified?TV(e,d,t,u):u,a),jV=()=>navigator.userAgent.toLowerCase().includes("android"),DV=(e,t)=>{const s={};if(!t)return e.forEach((p,g)=>{const y=g===0?null:g-1,v=g===e.length-1?null:g+1;s[g]={leftIndex:y,rightIndex:v}}),{neighbors:s,startIndex:0,endIndex:e.length-1};const a={},l={};let u=0,d=0,f=e.length-1;for(;f>=0;){d=e.findIndex((p,g)=>g>=u&&p.endSeparator?.includes(" ")&&p.endSeparator!==" / "),d===-1&&(d=e.length-1);for(let p=d;p>=u;p-=1)l[p]=f,a[f]=p,f-=1;u=d+1}return e.forEach((p,g)=>{const y=l[g],v=y===0?null:a[y-1],b=y===e.length-1?null:a[y+1];s[g]={leftIndex:v,rightIndex:b}}),{neighbors:s,startIndex:a[0],endIndex:a[e.length-1]}},cg=(e,t)=>{if(e==null)return null;if(e==="all")return"all";if(typeof e=="string"){const s=t.findIndex(a=>a.type===e);return s===-1?null:s}return e},EV=["value","referenceDate"],hi={emptyValue:null,getTodayValue:Oj,getInitialReferenceValue:e=>{let{value:t,referenceDate:s}=e,a=ut(e,EV);return a.adapter.isValid(t)?t:s??yV(a)},cleanValue:cV,areValuesEqual:uV,isSameError:(e,t)=>e===t,hasError:e=>e!=null,defaultErrorState:null,getTimezone:(e,t)=>e.isValid(t)?e.getTimezone(t):null,setTimezone:(e,t,s)=>s==null?null:e.setTimezone(s,t)},MV={updateReferenceValue:(e,t,s)=>e.isValid(t)?t:s,getSectionsFromValue:(e,t)=>t(e),getV7HiddenInputValueFromSections:wV,getV6InputValueFromSections:CV,parseValueStr:(e,t,s)=>s(e.trim(),t),getDateFromSection:e=>e,getDateSectionsFromValue:e=>e,updateDateInValue:(e,t,s)=>s,clearDateSections:e=>e.map(t=>$({},t,{value:""}))};function AV(e){return Pn("MuiPickersToolbar",e)}On("MuiPickersToolbar",["root","title","content"]);const PV=["localeText"],ug=x.createContext(null),jf=function(t){const{localeText:s}=t,a=ut(t,PV),{adapter:l,localeText:u}=x.useContext(ug)??{adapter:void 0,localeText:void 0},d=rn({props:a,name:"MuiLocalizationProvider"}),{children:f,dateAdapter:p,dateFormats:g,dateLibInstance:y,adapterLocale:v,localeText:b}=d,S=x.useMemo(()=>$({},b,u,s),[b,u,s]),j=x.useMemo(()=>{if(!p)return l||null;const k=new p({locale:v,formats:g,instance:y});if(!k.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/quickstart/#installation"].join(`
`));return k},[p,v,g,y,l]),T=x.useMemo(()=>j?{minDate:j.date("1900-01-01T00:00:00.000"),maxDate:j.date("2099-12-31T00:00:00.000")}:null,[j]),w=x.useMemo(()=>({utils:j,adapter:j,defaultDates:T,localeText:S}),[T,j,S]);return r.jsx(ug.Provider,{value:w,children:f})},Nj=x.createContext(()=>!0);function OV(){return x.useContext(Nj)}const Lj=x.createContext(null);function Vj(){return x.useContext(Lj)}const Yy=x.createContext(null),al=()=>{const e=x.useContext(Yy);if(e==null)throw new Error("MUI X: The `usePickerContext` hook can only be called inside the context of a Picker component");return e},Bj=x.createContext(null),zj=x.createContext({ownerState:{isPickerDisabled:!1,isPickerReadOnly:!1,isPickerValueEmpty:!1,isPickerOpen:!1,pickerVariant:"desktop",pickerOrientation:"portrait"},rootRefObject:{current:null},labelId:void 0,dismissViews:()=>{},hasUIView:!0,getCurrentViewMode:()=>"UI",triggerElement:null,viewContainerRole:null,defaultActionBarActions:[],onPopperExited:void 0});function Fj(e){const{contextValue:t,actionsContextValue:s,privateContextValue:a,fieldPrivateContextValue:l,isValidContextValue:u,localeText:d,children:f}=e;return r.jsx(Yy.Provider,{value:t,children:r.jsx(Bj.Provider,{value:s,children:r.jsx(zj.Provider,{value:a,children:r.jsx(Lj.Provider,{value:l,children:r.jsx(Nj.Provider,{value:u,children:r.jsx(jf,{localeText:d,children:f})})})})})})}const Yn=()=>x.useContext(zj);function Hj(){const{ownerState:e}=Yn(),t=Qi();return x.useMemo(()=>$({},e,{toolbarDirection:t?"rtl":"ltr"}),[e,t])}const RV=["children","className","classes","toolbarTitle","hidden","titleId","classes","landscapeDirection"],_V=e=>hn({root:["root"],title:["title"],content:["content"]},AV,e),IV=$e("div",{name:"MuiPickersToolbar",slot:"Root"})(({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:e.spacing(2,3),variants:[{props:{pickerOrientation:"landscape"},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),WV=$e("div",{name:"MuiPickersToolbar",slot:"Content",shouldForwardProp:e=>Mr(e)&&e!=="landscapeDirection"})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{pickerOrientation:"landscape"},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{pickerOrientation:"landscape",landscapeDirection:"row"},style:{flexDirection:"row"}}]}),NV=x.forwardRef(function(t,s){const a=rn({props:t,name:"MuiPickersToolbar"}),{children:l,className:u,classes:d,toolbarTitle:f,hidden:p,titleId:g,landscapeDirection:y}=a,v=ut(a,RV),b=Hj(),S=_V(d);return p?null:r.jsxs(IV,$({ref:s,className:qn(S.root,u),ownerState:b},v,{children:[r.jsx(I,{color:"text.secondary",variant:"overline",id:g,className:S.title,children:f}),r.jsx(WV,{className:S.content,ownerState:b,landscapeDirection:y,children:l})]}))}),LV=e=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:$({},e)}}}}),Uj={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:e=>e==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",nextStepButtonLabel:"Next",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",timeRangePickerToolbarTitle:"Select time range",clockLabelText:(e,t)=>`Select ${e}. ${t?`Selected time is ${t}`:"No time selected"}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:e=>e?`Choose date, selected date is ${e}`:"Choose date",openTimePickerDialogue:e=>e?`Choose time, selected time is ${e}`:"Choose time",openRangePickerDialogue:e=>e?`Choose range, selected range is ${e}`:"Choose range",fieldClearLabel:"Clear",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>e.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>e.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},VV=Uj;LV(Uj);const Gy=()=>{const e=x.useContext(ug);if(e===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(e.adapter===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const t=x.useMemo(()=>$({},VV,e.localeText),[e.localeText]);return x.useMemo(()=>$({},e,{localeText:t}),[e,t])},Ft=()=>Gy().adapter,La=()=>Gy().localeText,dg=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],fg=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],qj=["minDateTime","maxDateTime"],BV=[...dg,...fg,...qj],Yj=e=>BV.reduce((t,s)=>(e.hasOwnProperty(s)&&(t[s]=e[s]),t),{}),zV=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","unstableStartFieldRef","unstableEndFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator","autoFocus","focused"],Gj=(e,t)=>x.useMemo(()=>{const s=$({},e),a={},l=u=>{s.hasOwnProperty(u)&&(a[u]=s[u],delete s[u])};return zV.forEach(l),t==="date"?dg.forEach(l):t==="time"?fg.forEach(l):t==="date-time"&&(dg.forEach(l),fg.forEach(l),qj.forEach(l)),{forwardedProps:s,internalProps:a}},[e,t]),FV=({adapter:e,format:t})=>{let s=10,a=t,l=e.expandFormat(t);for(;l!==a;)if(a=l,l=e.expandFormat(a),s-=1,s<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the component.");return l},HV=({adapter:e,expandedFormat:t})=>{const s=[],{start:a,end:l}=e.escapedCharacters,u=new RegExp(`(\\${a}[^\\${l}]*\\${l})+`,"g");let d=null;for(;d=u.exec(t);)s.push({start:d.index,end:u.lastIndex-1});return s},UV=(e,t,s,a)=>{switch(s.type){case"year":return t.fieldYearPlaceholder({digitAmount:e.formatByString(e.date(void 0,"default"),a).length,format:a});case"month":return t.fieldMonthPlaceholder({contentType:s.contentType,format:a});case"day":return t.fieldDayPlaceholder({format:a});case"weekDay":return t.fieldWeekDayPlaceholder({contentType:s.contentType,format:a});case"hours":return t.fieldHoursPlaceholder({format:a});case"minutes":return t.fieldMinutesPlaceholder({format:a});case"seconds":return t.fieldSecondsPlaceholder({format:a});case"meridiem":return t.fieldMeridiemPlaceholder({format:a});default:return a}},qV=({adapter:e,date:t,shouldRespectLeadingZeros:s,localeText:a,localizedDigits:l,now:u,token:d,startSeparator:f})=>{if(d==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const p=Rj(e,d),g=Wj(e,p.contentType,p.type,d),y=s?g:p.contentType==="digit",v=e.isValid(t);let b=v?e.formatByString(t,d):"",S=null;if(y)if(g)S=b===""?e.formatByString(u,d).length:b.length;else{if(p.maxLength==null)throw new Error(`MUI X: The token ${d} should have a 'maxLength' property on it's adapter`);S=p.maxLength,v&&(b=Hy(Uy(Dr(b,l),S),l))}return $({},p,{format:d,maxLength:S,value:b,placeholder:UV(e,a,p,d),hasLeadingZerosInFormat:g,hasLeadingZerosInInput:y,startSeparator:f,endSeparator:"",modified:!1})},YV=e=>{const{adapter:t,expandedFormat:s,escapedParts:a}=e,l=t.date(void 0),u=[];let d="";const f=Object.keys(t.formatTokenMap).sort((S,j)=>j.length-S.length),p=/^([a-zA-Z]+)/,g=new RegExp(`^(${f.join("|")})*$`),y=new RegExp(`^(${f.join("|")})`),v=S=>a.find(j=>j.start<=S&&j.end>=S);let b=0;for(;b<s.length;){const S=v(b),j=S!=null,T=p.exec(s.slice(b))?.[1];if(!j&&T!=null&&g.test(T)){let w=T;for(;w.length>0;){const k=y.exec(w)[1];w=w.slice(k.length),u.push(qV($({},e,{now:l,token:k,startSeparator:d}))),d=""}b+=T.length}else{const w=s[b];j&&S?.start===b||S?.end===b||(u.length===0?d+=w:(u[u.length-1].endSeparator+=w,u[u.length-1].isEndFormatSeparator=!0)),b+=1}}return u.length===0&&d.length>0&&u.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:d,endSeparator:"",modified:!1}),u},GV=({isRtl:e,formatDensity:t,sections:s})=>s.map(a=>{const l=u=>{let d=u;return e&&d!==null&&d.includes(" ")&&(d=`${d}`),t==="spacious"&&["/",".","-"].includes(d)&&(d=` ${d} `),d};return a.startSeparator=l(a.startSeparator),a.endSeparator=l(a.endSeparator),a}),y1=e=>{let t=FV(e);e.isRtl&&e.enableAccessibleFieldDOMStructure&&(t=t.split(" ").reverse().join(" "));const s=HV($({},e,{expandedFormat:t})),a=YV($({},e,{expandedFormat:t,escapedParts:s}));return GV($({},e,{sections:a}))},$y=()=>x.useContext(Yy),$V=()=>{const e=x.useContext(Bj);if(e==null)throw new Error(["MUI X: The `usePickerActionsContext` can only be called in fields that are used as a slot of a Picker component"].join(`
`));return e};function KV(e){return Pn("MuiDatePickerToolbar",e)}On("MuiDatePickerToolbar",["root","title"]);const QV=["toolbarFormat","toolbarPlaceholder","className","classes"],XV=e=>hn({root:["root"],title:["title"]},KV,e),ZV=$e(NV,{name:"MuiDatePickerToolbar",slot:"Root"})({}),JV=$e(I,{name:"MuiDatePickerToolbar",slot:"Title"})({variants:[{props:{pickerOrientation:"landscape"},style:{margin:"auto 16px auto auto"}}]}),e6=x.forwardRef(function(t,s){const a=rn({props:t,name:"MuiDatePickerToolbar"}),{toolbarFormat:l,toolbarPlaceholder:u="",className:d,classes:f}=a,p=ut(a,QV),g=Ft(),{value:y,views:v,orientation:b}=al(),S=La(),j=Hj(),T=XV(f),w=x.useMemo(()=>{if(!g.isValid(y))return u;const k=Fy(g,{format:l,views:v},!0);return g.formatByString(y,k)},[y,l,u,g,v]);return r.jsx(ZV,$({ref:s,toolbarTitle:S.datePickerToolbarTitle,className:qn(T.root,d)},p,{children:r.jsx(JV,{variant:"h4",align:b==="landscape"?"left":"center",ownerState:j,className:T.title,children:w})}))}),eu=({props:e,value:t,timezone:s,adapter:a})=>{if(t===null)return null;const{shouldDisableDate:l,shouldDisableMonth:u,shouldDisableYear:d,disablePast:f,disableFuture:p,minDate:g,maxDate:y}=e,v=a.date(void 0,s);switch(!0){case!a.isValid(t):return"invalidDate";case!!(l&&l(t)):return"shouldDisableDate";case!!(u&&u(t)):return"shouldDisableMonth";case!!(d&&d(t)):return"shouldDisableYear";case!!(p&&a.isAfterDay(t,v)):return"disableFuture";case!!(f&&a.isBeforeDay(t,v)):return"disablePast";case!!(g&&a.isBeforeDay(t,g)):return"minDate";case!!(y&&a.isAfterDay(t,y)):return"maxDate";default:return null}};eu.valueManager=hi;function $j(e){const{props:t,validator:s,value:a,timezone:l,onError:u}=e,d=Ft(),f=x.useRef(s.valueManager.defaultErrorState),p=s({adapter:d,value:a,timezone:l,props:t}),g=s.valueManager.hasError(p);x.useEffect(()=>{u&&!s.valueManager.isSameError(p,f.current)&&u(p,a),f.current=p},[s,u,p,a]);const y=Be(v=>s({adapter:d,value:v,timezone:l,props:t}));return{validationError:p,hasValidationError:g,getValidationErrorForNewValue:y}}const t6=()=>Gy().defaultDates,Df=e=>{const t=Ft(),s=x.useRef(void 0);return s.current===void 0&&(s.current=t.date(void 0,e)),s.current};function n6(e={}){const{enableAccessibleFieldDOMStructure:t=!0}=e;return x.useMemo(()=>({valueType:"date",validator:eu,internal_valueManager:hi,internal_fieldValueManager:MV,internal_enableAccessibleFieldDOMStructure:t,internal_useApplyDefaultValuesToFieldInternalProps:i6,internal_useOpenPickerButtonAriaLabel:s6}),[t])}function s6(e){const t=Ft(),s=La();return x.useMemo(()=>{const a=t.isValid(e)?t.format(e,"fullDate"):null;return s.openDatePickerDialogue(a)},[e,s,t])}function i6(e){const t=Ft(),s=tu(e);return x.useMemo(()=>$({},e,s,{format:e.format??t.formats.keyboardDate}),[e,s,t])}function tu(e){const t=Ft(),s=t6();return x.useMemo(()=>({disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,minDate:c1(t,e.minDate,s.minDate),maxDate:c1(t,e.maxDate,s.maxDate)}),[e.minDate,e.maxDate,e.disableFuture,e.disablePast,t,s])}function Kj(e,t){const s=rn({props:e,name:t}),a=tu(s),l=x.useMemo(()=>s.localeText?.toolbarTitle==null?s.localeText:$({},s.localeText,{datePickerToolbarTitle:s.localeText.toolbarTitle}),[s.localeText]);return $({},s,a,{localeText:l},lV({views:s.views,openTo:s.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{slots:$({toolbar:e6},s.slots)})}function a6(e){return Pn("MuiPickerPopper",e)}On("MuiPickerPopper",["root","paper"]);function r6(e,t){return Array.isArray(t)?t.every(s=>e.indexOf(s)!==-1):e.indexOf(t)!==-1}const o6=e=>{setTimeout(e,0)},Qj=(e=document)=>{const t=e.activeElement;return t?t.shadowRoot?Qj(t.shadowRoot):t:null},Qn=e=>Qj(dc(e)),l6="@media (pointer: fine)",c6=["PaperComponent","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],u6=e=>hn({root:["root"],paper:["paper"]},a6,e),d6=$e(k2,{name:"MuiPickerPopper",slot:"Root"})(({theme:e})=>({zIndex:e.zIndex.modal})),f6=$e(uc,{name:"MuiPickerPopper",slot:"Paper"})({outline:0,transformOrigin:"top center",variants:[{props:({popperPlacement:e})=>new Set(["top","top-start","top-end"]).has(e),style:{transformOrigin:"bottom center"}}]});function h6(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function p6(e,t){const s=x.useRef(!1),a=x.useRef(!1),l=x.useRef(null),u=x.useRef(!1);x.useEffect(()=>{if(!e)return;function p(){u.current=!0}return document.addEventListener("mousedown",p,!0),document.addEventListener("touchstart",p,!0),()=>{document.removeEventListener("mousedown",p,!0),document.removeEventListener("touchstart",p,!0),u.current=!1}},[e]);const d=Be(p=>{if(!u.current)return;const g=a.current;a.current=!1;const y=dc(l.current);if(!l.current||"clientX"in p&&h6(p,y))return;if(s.current){s.current=!1;return}let v;p.composedPath?v=p.composedPath().indexOf(l.current)>-1:v=!y.documentElement.contains(p.target)||l.current.contains(p.target),!v&&!g&&t(p)}),f=p=>{p.defaultMuiPrevented||(a.current=!0)};return x.useEffect(()=>{if(e){const p=dc(l.current),g=()=>{s.current=!0};return p.addEventListener("touchstart",d),p.addEventListener("touchmove",g),()=>{p.removeEventListener("touchstart",d),p.removeEventListener("touchmove",g)}}},[e,d]),x.useEffect(()=>{if(e){const p=dc(l.current);return p.addEventListener("click",d),()=>{p.removeEventListener("click",d),a.current=!1}}},[e,d]),[l,f,f]}const m6=x.forwardRef((e,t)=>{const{PaperComponent:s,ownerState:a,children:l,paperSlotProps:u,paperClasses:d,onPaperClick:f,onPaperTouchStart:p}=e,g=ut(e,c6),y=Ot({elementType:s,externalSlotProps:u,additionalProps:{tabIndex:-1,elevation:8,ref:t},className:d,ownerState:a});return r.jsx(s,$({},g,y,{onClick:v=>{f(v),y.onClick?.(v)},onTouchStart:v=>{p(v),y.onTouchStart?.(v)},ownerState:a,children:l}))});function g6(e){const t=rn({props:e,name:"MuiPickerPopper"}),{children:s,placement:a="bottom-start",slots:l,slotProps:u,classes:d}=t,{open:f,popupRef:p,reduceAnimations:g}=al(),{ownerState:y,rootRefObject:v}=Yn(),{dismissViews:b,getCurrentViewMode:S,onPopperExited:j,triggerElement:T,viewContainerRole:w}=Yn();x.useEffect(()=>{function q(ae){f&&ae.key==="Escape"&&b()}return document.addEventListener("keydown",q),()=>{document.removeEventListener("keydown",q)}},[b,f]);const k=x.useRef(null);x.useEffect(()=>{w==="tooltip"||S()==="field"||(f?k.current=Qn(v.current):k.current&&k.current instanceof HTMLElement&&setTimeout(()=>{k.current instanceof HTMLElement&&k.current.focus()}))},[f,w,S,v]);const D=u6(d),A=Be(()=>{w==="tooltip"?o6(()=>{v.current?.contains(Qn(v.current))||p.current?.contains(Qn(p.current))||b()}):b()}),[_,P,M]=p6(f,A),R=x.useRef(null),N=hs(R,p),W=hs(N,_),U=q=>{q.key==="Escape"&&(q.stopPropagation(),b())},B=l?.desktopTransition??g?uf:w2,L=l?.desktopTrapFocus??C2,ce=l?.desktopPaper??f6,H=l?.popper??d6,Q=Ot({elementType:H,externalSlotProps:u?.popper,additionalProps:{transition:!0,role:w??void 0,open:f,placement:a,anchorEl:T,onKeyDown:U},className:D.root,ownerState:y}),z=x.useMemo(()=>$({},y,{popperPlacement:Q.placement}),[y,Q.placement]);return r.jsx(H,$({},Q,{children:({TransitionProps:q})=>r.jsx(L,$({open:f,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:w==="tooltip",isEnabled:()=>!0},u?.desktopTrapFocus,{children:r.jsx(B,$({},q,u?.desktopTransition,{onExited:ae=>{j?.(),u?.desktopTransition?.onExited?.(ae),q?.onExited?.()},children:r.jsx(m6,{PaperComponent:ce,ownerState:z,ref:W,onPaperClick:P,onPaperTouchStart:M,paperClasses:D.paper,paperSlotProps:u?.desktopPaper,children:s})}))}))}))}const y6="@media (prefers-reduced-motion: reduce)",zo=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),x1=zo&&zo[1]?parseInt(zo[1],10):null,b1=zo&&zo[2]?parseInt(zo[2],10):null,x6=x1&&x1<10||b1&&b1<13||!1;function Xj(e){const t=Mg(y6,{defaultMatches:!1});return e??(t||x6)}const Zj={hasNextStep:!1,hasSeveralSteps:!1,goToNextStep:()=>{},areViewsInSameStep:()=>!0};function b6(e){const{steps:t,isViewMatchingStep:s,onStepChange:a}=e;return l=>{if(t==null)return Zj;const u=t.findIndex(f=>s(l.view,f)),d=u===-1||u===t.length-1?null:t[u+1];return{hasNextStep:d!=null,hasSeveralSteps:t.length>1,goToNextStep:()=>{d!=null&&a($({},l,{step:d}))},areViewsInSameStep:(f,p)=>{const g=t.find(v=>s(f,v)),y=t.find(v=>s(p,v));return g===y}}}}function Jj({onChange:e,onViewChange:t,openTo:s,view:a,views:l,autoFocus:u,focusedView:d,onFocusedViewChange:f,getStepNavigation:p}){const g=x.useRef(s),y=x.useRef(l),v=x.useRef(l.includes(s)?s:l[0]),[b,S]=qo({name:"useViews",state:"view",controlled:a,default:v.current}),j=x.useRef(u?b:null),[T,w]=qo({name:"useViews",state:"focusedView",controlled:d,default:j.current}),k=p?p({setView:S,view:b,defaultView:v.current,views:l}):Zj;x.useEffect(()=>{(g.current&&g.current!==s||y.current&&y.current.some(W=>!l.includes(W)))&&(S(l.includes(s)?s:l[0]),y.current=l,g.current=s)},[s,S,b,l]);const D=l.indexOf(b),A=l[D-1]??null,_=l[D+1]??null,P=Be((W,U)=>{w(U?W:B=>W===B?null:B),f?.(W,U)}),M=Be(W=>{P(W,!0),W!==b&&(S(W),t&&t(W))}),R=Be(()=>{_&&M(_)}),N=Be((W,U,B)=>{const L=U==="finish",ce=B?l.indexOf(B)<l.length-1:!!_;e(W,L&&ce?"partial":U,B);let Q=null;if(B!=null&&B!==b?Q=B:L&&(Q=b),Q==null)return;const z=l[l.indexOf(Q)+1];z==null||!k.areViewsInSameStep(Q,z)||M(z)});return $({},k,{view:b,setView:M,focusedView:T,setFocusedView:P,nextView:_,previousView:A,defaultView:l.includes(s)?s:l[0],goToNextView:R,setValueAndGoToNextView:N})}function v1(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}function v6(e,t){const[s,a]=x.useState(v1);return qi(()=>{const l=()=>{a(v1())};return window.addEventListener("orientationchange",l),()=>{window.removeEventListener("orientationchange",l)}},[]),r6(e,["hours","minutes","seconds"])?"portrait":t??s}const nu=({name:e,timezone:t,value:s,defaultValue:a,referenceDate:l,onChange:u,valueManager:d})=>{const f=Ft(),[p,g]=qo({name:e,state:"value",controlled:s,default:a??d.emptyValue}),y=x.useMemo(()=>d.getTimezone(f,p),[f,d,p]),v=Be(T=>y==null?T:d.setTimezone(f,y,T)),b=x.useMemo(()=>t||y||(l?f.getTimezone(Array.isArray(l)?l[0]:l):"default"),[t,y,l,f]),S=x.useMemo(()=>d.setTimezone(f,b,p),[d,f,b,p]),j=Be((T,...w)=>{const k=v(T);g(k),u?.(k,...w)});return{value:S,handleValueChange:j,timezone:b}};function S6(e){const{props:t,valueManager:s,validator:a}=e,{value:l,defaultValue:u,onChange:d,referenceDate:f,timezone:p,onAccept:g,closeOnSelect:y,open:v,onOpen:b,onClose:S}=t,{current:j}=x.useRef(u),{current:T}=x.useRef(l!==void 0),{current:w}=x.useRef(v!==void 0),k=Ft(),{timezone:D,value:A,handleValueChange:_}=nu({name:"a picker component",timezone:p,value:l,defaultValue:j,referenceDate:f,onChange:d,valueManager:s}),[P,M]=x.useState(()=>({open:!1,lastExternalValue:A,clockShallowValue:void 0,lastCommittedValue:A,hasBeenModifiedSinceMount:!1})),{getValidationErrorForNewValue:R}=$j({props:t,validator:a,timezone:D,value:A,onError:t.onError}),N=Be(L=>{const ce=typeof L=="function"?L(P.open):L;w||M(H=>$({},H,{open:ce})),ce&&b&&b(),ce||S?.()}),W=Be((L,ce)=>{const{changeImportance:H="accept",skipPublicationIfPristine:Q=!1,validationError:z,shortcut:q,shouldClose:ae=H==="accept"}=ce??{};let fe,Z;!Q&&!T&&!P.hasBeenModifiedSinceMount?(fe=!0,Z=H==="accept"):(fe=!s.areValuesEqual(k,L,A),Z=H==="accept"&&!s.areValuesEqual(k,L,P.lastCommittedValue)),M(ie=>$({},ie,{clockShallowValue:fe?void 0:ie.clockShallowValue,lastCommittedValue:Z?L:ie.lastCommittedValue,hasBeenModifiedSinceMount:!0}));let J=null;const X=()=>(J||(J={validationError:z??R(L)},q&&(J.shortcut=q)),J);fe&&_(L,X()),Z&&g&&g(L,X()),ae&&N(!1)});A!==P.lastExternalValue&&M(L=>$({},L,{lastExternalValue:A,clockShallowValue:void 0,hasBeenModifiedSinceMount:!0}));const U=Be((L,ce="partial")=>{if(ce==="shallow"){M(H=>$({},H,{clockShallowValue:L,hasBeenModifiedSinceMount:!0}));return}W(L,{changeImportance:ce==="finish"&&y?"accept":"set"})});x.useEffect(()=>{if(w){if(v===void 0)throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");M(L=>$({},L,{open:v}))}},[w,v]);const B=x.useMemo(()=>s.cleanValue(k,P.clockShallowValue===void 0?A:P.clockShallowValue),[k,s,P.clockShallowValue,A]);return{timezone:D,state:P,setValue:W,setValueFromView:U,setOpen:N,value:A,viewValue:B}}const w6=["className","sx"],eD=({ref:e,props:t,valueManager:s,valueType:a,variant:l,validator:u,onPopperExited:d,autoFocusView:f,rendererInterceptor:p,localeText:g,viewContainerRole:y,getStepNavigation:v})=>{const{views:b,view:S,openTo:j,onViewChange:T,viewRenderers:w,reduceAnimations:k,orientation:D,disableOpenPicker:A,closeOnSelect:_,disabled:P,readOnly:M,formatDensity:R,enableAccessibleFieldDOMStructure:N,selectedSections:W,onSelectedSectionsChange:U,format:B,label:L,autoFocus:ce,name:H}=t,{className:Q,sx:z}=t,q=ut(t,w6),ae=Pg(),fe=Ft(),Z=Xj(k),J=v6(b,D),{current:X}=x.useRef(j??null),[ie,oe]=x.useState(null),Me=x.useRef(null),De=x.useRef(null),Ne=x.useRef(null),ue=hs(e,Ne),{timezone:we,state:be,setOpen:ve,setValue:Oe,setValueFromView:He,value:Se,viewValue:Ue}=S6({props:t,valueManager:s,validator:u}),{view:le,setView:ne,defaultView:Le,focusedView:Ee,setFocusedView:ge,setValueAndGoToNextView:_e,goToNextStep:G,hasNextStep:ye,hasSeveralSteps:ke}=Jj({view:S,views:b,openTo:j,onChange:He,onViewChange:T,autoFocus:f,getStepNavigation:v}),Ce=Be(()=>Oe(s.emptyValue)),We=Be(()=>Oe(s.getTodayValue(fe,we,a))),ze=Be(()=>Oe(Se)),dt=Be(()=>Oe(be.lastCommittedValue,{skipPublicationIfPristine:!0})),qe=Be(()=>{Oe(Se,{skipPublicationIfPristine:!0})}),{hasUIView:Xe,viewModeLookup:xe,timeViewsCount:Te}=x.useMemo(()=>b.reduce((ln,ts)=>{const yi=w[ts]==null?"field":"UI";return ln.viewModeLookup[ts]=yi,yi==="UI"&&(ln.hasUIView=!0,pV(ts)&&(ln.timeViewsCount+=1)),ln},{hasUIView:!1,viewModeLookup:{},timeViewsCount:0}),[w,b]),Ie=xe[le],Ae=Be(()=>Ie),[Ye,lt]=x.useState(Ie==="UI"?le:null);Ye!==le&&xe[le]==="UI"&&lt(le),qi(()=>{Ie==="field"&&be.open&&(ve(!1),setTimeout(()=>{De?.current?.setSelectedSections(le),De?.current?.focusField(le)}))},[le]),qi(()=>{if(!be.open)return;let ln=le;Ie==="field"&&Ye!=null&&(ln=Ye),ln!==Le&&xe[ln]==="UI"&&xe[Le]==="UI"&&(ln=Le),ln!==le&&ne(ln),ge(ln,!0)},[be.open]);const nt=x.useMemo(()=>({isPickerValueEmpty:s.areValuesEqual(fe,Se,s.emptyValue),isPickerOpen:be.open,isPickerDisabled:t.disabled??!1,isPickerReadOnly:t.readOnly??!1,pickerOrientation:J,pickerVariant:l}),[fe,s,Se,be.open,J,l,t.disabled,t.readOnly]),wt=x.useMemo(()=>A||!Xe?"hidden":P||M?"disabled":"enabled",[A,Xe,P,M]),Ht=Be(G),on=x.useMemo(()=>_&&!ke?[]:["cancel","nextOrAccept"],[_,ke]),Gn=x.useMemo(()=>({setValue:Oe,setOpen:ve,clearValue:Ce,setValueToToday:We,acceptValueChanges:ze,cancelValueChanges:dt,setView:ne,goToNextStep:Ht}),[Oe,ve,Ce,We,ze,dt,ne,Ht]),ht=x.useMemo(()=>$({},Gn,{value:Se,timezone:we,open:be.open,views:b,view:Ye,initialView:X,disabled:P??!1,readOnly:M??!1,autoFocus:ce??!1,variant:l,orientation:J,popupRef:Me,reduceAnimations:Z,triggerRef:oe,triggerStatus:wt,hasNextStep:ye,fieldFormat:B??"",name:H,label:L,rootSx:z,rootRef:ue,rootClassName:Q}),[Gn,Se,ue,l,J,Z,P,M,B,Q,H,L,z,wt,ye,we,be.open,Ye,b,X,ce]),Ts=x.useMemo(()=>({dismissViews:qe,ownerState:nt,hasUIView:Xe,getCurrentViewMode:Ae,rootRefObject:Ne,labelId:ae,triggerElement:ie,viewContainerRole:y,defaultActionBarActions:on,onPopperExited:d}),[qe,nt,Xe,Ae,ae,ie,y,on,d]),Zi=x.useMemo(()=>({formatDensity:R,enableAccessibleFieldDOMStructure:N,selectedSections:W,onSelectedSectionsChange:U,fieldRef:De}),[R,N,W,U,De]);return{providerProps:{localeText:g,contextValue:ht,privateContextValue:Ts,actionsContextValue:Gn,fieldPrivateContextValue:Zi,isValidContextValue:ln=>{const ts=u({adapter:fe,value:ln,timezone:we,props:t});return!s.hasError(ts)}},renderCurrentView:()=>{if(Ye==null)return null;const ln=w[Ye];if(ln==null)return null;const ts=$({},q,{views:b,timezone:we,value:Ue,onChange:_e,view:Ye,onViewChange:ne,showViewSwitcher:Te>1,timeViewsCount:Te},y==="tooltip"?{focusedView:null,onFocusedViewChange:()=>{}}:{focusedView:Ee,onFocusedViewChange:ge});return p?r.jsx(p,{viewRenderers:w,popperView:Ye,rendererProps:ts}):ln(ts)},ownerState:nt}};function tD(e){return Pn("MuiPickersLayout",e)}const ar=On("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),C6=["actions"],k6=$e(Dn,{name:"MuiPickersLayout",slot:"ActionBar"})({});function T6(e){const{actions:t}=e,s=ut(e,C6),a=La(),{clearValue:l,setValueToToday:u,acceptValueChanges:d,cancelValueChanges:f,goToNextStep:p,hasNextStep:g}=al();if(t==null||t.length===0)return null;const y=t?.map(v=>{switch(v){case"clear":return r.jsx(je,{onClick:l,children:a.clearButtonLabel},v);case"cancel":return r.jsx(je,{onClick:f,children:a.cancelButtonLabel},v);case"accept":return r.jsx(je,{onClick:d,children:a.okButtonLabel},v);case"today":return r.jsx(je,{onClick:u,children:a.todayButtonLabel},v);case"next":return r.jsx(je,{onClick:p,children:a.nextStepButtonLabel},v);case"nextOrAccept":return g?r.jsx(je,{onClick:p,children:a.nextStepButtonLabel},v):r.jsx(je,{onClick:d,children:a.okButtonLabel},v);default:return null}});return r.jsx(k6,$({},s,{children:y}))}const j6=x.memo(T6),Vc=36,Ef=2,Mf=320,D6=280,Ky=336,E6=["items","changeImportance"],M6=["getValue"],A6=$e(Hn,{name:"MuiPickersLayout",slot:"Shortcuts"})({});function P6(e){const{items:t,changeImportance:s="accept"}=e,a=ut(e,E6),{setValue:l}=$V(),u=OV();if(t==null||t.length===0)return null;const d=t.map(f=>{let{getValue:p}=f,g=ut(f,M6);const y=p({isValid:u});return $({},g,{label:g.label,onClick:()=>{l(y,{changeImportance:s,shortcut:g})},disabled:!u(y)})});return r.jsx(A6,$({dense:!0,sx:[{maxHeight:Ky,maxWidth:200,overflow:"auto"},...Array.isArray(a.sx)?a.sx:[a.sx]]},a,{children:d.map(f=>r.jsx(ot,{children:r.jsx(ft,$({},f))},f.id??f.label))}))}const O6=["ownerState"];function R6(e){return e.view!==null}const _6=(e,t)=>{const{pickerOrientation:s}=t;return hn({root:["root",s==="landscape"&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},tD,e)},I6=e=>{const{ownerState:t,defaultActionBarActions:s}=Yn(),{view:a}=al(),l=Qi(),{children:u,slots:d,slotProps:f,classes:p}=e,g=x.useMemo(()=>$({},t,{layoutDirection:l?"rtl":"ltr",hasShortcuts:!1}),[t,l]),y=_6(p,g),v=d?.actionBar??j6,b=Ot({elementType:v,externalSlotProps:f?.actionBar,additionalProps:{actions:s},className:y.actionBar,ownerState:g}),S=ut(b,O6),j=r.jsx(v,$({},S)),T=d?.toolbar,w=Ot({elementType:T,externalSlotProps:f?.toolbar,className:y.toolbar,ownerState:g}),k=R6(w)&&T?r.jsx(T,$({},w)):null,D=u,A=d?.tabs,_=a&&A?r.jsx(A,$({className:y.tabs},f?.tabs)):null,P=d?.shortcuts??P6,M=Ot({elementType:P,externalSlotProps:f?.shortcuts,className:y.shortcuts,ownerState:g}),R=Array.isArray(M?.items)&&M.items.length>0,N=a&&P?r.jsx(P,$({},M)):null;return{toolbar:k,content:D,tabs:_,actionBar:j,shortcuts:N,ownerState:$({},g,{hasShortcuts:R})}},W6=(e,t)=>{const{pickerOrientation:s}=t;return hn({root:["root",s==="landscape"&&"landscape"],contentWrapper:["contentWrapper"]},tD,e)},N6=$e("div",{name:"MuiPickersLayout",slot:"Root"})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${ar.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{pickerOrientation:"landscape",hasShortcuts:!1},style:{[`& .${ar.toolbar}`]:{gridColumn:1,gridRow:"1 / 3"}}},{props:{pickerOrientation:"landscape",hasShortcuts:!0},style:{[`& .${ar.toolbar}`]:{gridColumn:"2 / 4",gridRow:1,maxWidth:"max-content"},[`& .${ar.shortcuts}`]:{gridColumn:1,gridRow:2}}},{props:{pickerOrientation:"portrait"},style:{[`& .${ar.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${ar.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{hasShortcuts:!0,layoutDirection:"rtl"},style:{[`& .${ar.shortcuts}`]:{gridColumn:4}}}]}),L6=$e("div",{name:"MuiPickersLayout",slot:"ContentWrapper"})({gridColumn:"2 / 4",gridRow:2,display:"flex",flexDirection:"column"}),nD=x.forwardRef(function(t,s){const a=rn({props:t,name:"MuiPickersLayout"}),{toolbar:l,content:u,tabs:d,actionBar:f,shortcuts:p,ownerState:g}=I6(a),{orientation:y,variant:v}=al(),{sx:b,className:S,classes:j}=a,T=W6(j,g);return r.jsxs(N6,{ref:s,sx:b,className:qn(T.root,S),ownerState:g,children:[y==="landscape"?p:l,y==="landscape"?l:p,r.jsx(L6,{className:T.contentWrapper,ownerState:g,children:v==="desktop"?r.jsxs(x.Fragment,{children:[u,d]}):r.jsxs(x.Fragment,{children:[d,u]})}),f]})});function sD(e){const{steps:t}=e;return b6({steps:t,isViewMatchingStep:(s,a)=>a.views==null||a.views.includes(s),onStepChange:({step:s,defaultView:a,setView:l,view:u,views:d})=>{const f=s.views==null?a:s.views.find(p=>d.includes(p));f!==u&&l(f)}})}const V6=["props","steps"],B6=["ownerState"],z6=e=>{let{props:t,steps:s}=e,a=ut(e,V6);const{slots:l,slotProps:u,label:d,inputRef:f,localeText:p}=t,g=sD({steps:s}),{providerProps:y,renderCurrentView:v,ownerState:b}=eD($({},a,{props:t,localeText:p,autoFocusView:!0,viewContainerRole:"dialog",variant:"desktop",getStepNavigation:g})),S=y.privateContextValue.labelId,j=u?.toolbar?.hidden??!1,T=l.field,w=Ot({elementType:T,externalSlotProps:u?.field,additionalProps:$({},j&&{id:S}),ownerState:b}),k=ut(w,B6),D=l.layout??nD;let A=S;j&&(d?A=`${S}-label`:A=void 0);const _=$({},u,{toolbar:$({},u?.toolbar,{titleId:S}),popper:$({"aria-labelledby":A},u?.popper)});return{renderPicker:()=>r.jsxs(Fj,$({},y,{children:[r.jsx(T,$({},k,{slots:l,slotProps:_,inputRef:f})),r.jsx(g6,{slots:l,slotProps:_,children:r.jsx(D,$({},_?.layout,{slots:l,slotProps:_,children:v()}))})]}))}},Co=e=>e.saveQuery!=null,iD=({stateResponse:{localizedDigits:e,sectionsValueBoundaries:t,state:s,timezone:a,setCharacterQuery:l,setTempAndroidValueStr:u,updateSectionValue:d}})=>{const f=Ft(),p=({keyPressed:v,sectionIndex:b},S,j)=>{const T=v.toLowerCase(),w=s.sections[b];if(s.characterQuery!=null&&(!j||j(s.characterQuery.value))&&s.characterQuery.sectionIndex===b){const D=`${s.characterQuery.value}${T}`,A=S(D,w);if(!Co(A))return l({sectionIndex:b,value:D,sectionType:w.type}),A}const k=S(T,w);return Co(k)&&!k.saveQuery?(l(null),null):(l({sectionIndex:b,value:T,sectionType:w.type}),Co(k)?null:k)},g=v=>{const b=(T,w,k)=>{const D=w.filter(A=>A.toLowerCase().startsWith(k));return D.length===0?{saveQuery:!1}:{sectionValue:D[0],shouldGoToNextSection:D.length===1}},S=(T,w,k,D)=>{const A=_=>_j(f,a,w.type,_);if(w.contentType==="letter")return b(w.format,A(w.format),T);if(k&&D!=null&&Rj(f,k).contentType==="letter"){const _=A(k),P=b(k,_,T);return Co(P)?{saveQuery:!1}:$({},P,{sectionValue:D(P.sectionValue,_)})}return{saveQuery:!1}};return p(v,(T,w)=>{switch(w.type){case"month":{const k=D=>p1(f,D,f.formats.month,w.format);return S(T,w,f.formats.month,k)}case"weekDay":{const k=(D,A)=>A.indexOf(D).toString();return S(T,w,f.formats.weekday,k)}case"meridiem":return S(T,w);default:return{saveQuery:!1}}})},y=v=>{const b=({queryValue:j,skipIfBelowMinimum:T,section:w})=>{const k=Dr(j,e),D=Number(k),A=t[w.type]({currentDate:null,format:w.format,contentType:w.contentType});if(D>A.maximum)return{saveQuery:!1};if(T&&D<A.minimum)return{saveQuery:!0};const _=D*10>A.maximum||k.length===A.maximum.toString().length;return{sectionValue:Ij(f,D,A,e,w),shouldGoToNextSection:_}};return p(v,(j,T)=>{if(T.contentType==="digit"||T.contentType==="digit-with-letter")return b({queryValue:j,skipIfBelowMinimum:!1,section:T});if(T.type==="month"){Wj(f,"digit","month","MM");const w=b({queryValue:j,skipIfBelowMinimum:!0,section:{type:T.type,format:"MM",hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2}});if(Co(w))return w;const k=p1(f,w.sectionValue,"MM",T.format);return $({},w,{sectionValue:k})}if(T.type==="weekDay"){const w=b({queryValue:j,skipIfBelowMinimum:!0,section:T});if(Co(w))return w;const k=Tf(f,T.format)[Number(w.sectionValue)-1];return $({},w,{sectionValue:k})}return{saveQuery:!1}},j=>h1(j,e))};return Be(v=>{const b=s.sections[v.sectionIndex],j=h1(v.keyPressed,e)?y($({},v,{keyPressed:Hy(v.keyPressed,e)})):g(v);if(j==null){u(null);return}d({section:b,newSectionValue:j.sectionValue,shouldGoToNextSection:j.shouldGoToNextSection})})},F6=5e3,aD=e=>{const t=Ft(),s=La(),a=Qi(),{manager:{validator:l,valueType:u,internal_valueManager:d,internal_fieldValueManager:f},internalPropsWithDefaults:p,internalPropsWithDefaults:{value:g,defaultValue:y,referenceDate:v,onChange:b,format:S,formatDensity:j="dense",selectedSections:T,onSelectedSectionsChange:w,shouldRespectLeadingZeros:k=!1,timezone:D,enableAccessibleFieldDOMStructure:A=!0},forwardedProps:{error:_}}=e,{value:P,handleValueChange:M,timezone:R}=nu({name:"a field component",timezone:D,value:g,defaultValue:y,referenceDate:v,onChange:b,valueManager:d}),N=x.useRef(P);x.useEffect(()=>{N.current=P},[P]);const{hasValidationError:W}=$j({props:p,validator:l,timezone:R,value:P,onError:p.onError}),U=x.useMemo(()=>_!==void 0?_:W,[W,_]),B=x.useMemo(()=>bV(t),[t]),L=x.useMemo(()=>kV(t,B,R),[t,B,R]),ce=x.useCallback(le=>f.getSectionsFromValue(le,ne=>y1({adapter:t,localeText:s,localizedDigits:B,format:S,date:ne,formatDensity:j,shouldRespectLeadingZeros:k,enableAccessibleFieldDOMStructure:A,isRtl:a})),[f,S,s,B,a,k,t,j,A]),[H,Q]=x.useState(()=>{const le=ce(P),ne={sections:le,lastExternalValue:P,lastSectionsDependencies:{format:S,isRtl:a,locale:t.locale},tempValueStrAndroid:null,characterQuery:null},Le=gV(le),Ee=d.getInitialReferenceValue({referenceDate:v,value:P,adapter:t,props:p,granularity:Le,timezone:R});return $({},ne,{referenceValue:Ee})}),[z,q]=qo({controlled:T,default:null,name:"useField",state:"selectedSections"}),ae=le=>{q(le),w?.(le)},fe=x.useMemo(()=>cg(z,H.sections),[z,H.sections]),Z=fe==="all"?0:fe,J=x.useMemo(()=>DV(H.sections,a&&!A),[H.sections,a,A]),X=x.useMemo(()=>H.sections.every(le=>le.value===""),[H.sections]),ie=le=>{const ne={validationError:l({adapter:t,value:le,timezone:R,props:p})};M(le,ne)},oe=(le,ne)=>{const Le=[...H.sections];return Le[le]=$({},Le[le],{value:ne,modified:!0}),Le},Me=x.useRef(null),De=No(),Ne=le=>{Z!=null&&(Me.current={sectionIndex:Z,value:le},De.start(0,()=>{Me.current=null}))},ue=()=>{d.areValuesEqual(t,P,d.emptyValue)?Q(le=>$({},le,{sections:le.sections.map(ne=>$({},ne,{value:""})),tempValueStrAndroid:null,characterQuery:null})):(Q(le=>$({},le,{characterQuery:null})),ie(d.emptyValue))},we=()=>{if(Z==null)return;const le=H.sections[Z];le.value!==""&&(Ne(""),f.getDateFromSection(P,le)===null?Q(ne=>$({},ne,{sections:oe(Z,""),tempValueStrAndroid:null,characterQuery:null})):(Q(ne=>$({},ne,{characterQuery:null})),ie(f.updateDateInValue(P,le,null))))},be=le=>{const ne=(Ee,ge)=>{const _e=t.parse(Ee,S);if(!t.isValid(_e))return null;const G=y1({adapter:t,localeText:s,localizedDigits:B,format:S,date:_e,formatDensity:j,shouldRespectLeadingZeros:k,enableAccessibleFieldDOMStructure:A,isRtl:a});return g1(t,_e,G,ge,!1)},Le=f.parseValueStr(le,H.referenceValue,ne);ie(Le)},ve=No(),Oe=({section:le,newSectionValue:ne,shouldGoToNextSection:Le})=>{De.clear(),ve.clear();const Ee=f.getDateFromSection(P,le);Le&&Z<H.sections.length-1&&ae(Z+1);const ge=oe(Z,ne),_e=f.getDateSectionsFromValue(ge,le),G=SV(t,_e,B);if(t.isValid(G)){const ye=g1(t,G,_e,f.getDateFromSection(H.referenceValue,le),!0);return Ee==null&&ve.start(0,()=>{N.current===P&&Q(ke=>$({},ke,{sections:f.clearDateSections(H.sections,le),tempValueStrAndroid:null}))}),ie(f.updateDateInValue(P,le,ye))}return _e.every(ye=>ye.value!=="")&&(Ee==null||t.isValid(Ee))?(Ne(ne),ie(f.updateDateInValue(P,le,G))):Ee!=null?(Ne(ne),ie(f.updateDateInValue(P,le,null))):Q(ye=>$({},ye,{sections:ge,tempValueStrAndroid:null}))},He=le=>Q(ne=>$({},ne,{tempValueStrAndroid:le})),Se=Be(le=>{Q(ne=>$({},ne,{characterQuery:le}))});if(P!==H.lastExternalValue){const le=Me.current!=null&&!t.isValid(f.getDateFromSection(P,H.sections[Me.current.sectionIndex]));let ne;le?ne=oe(Me.current.sectionIndex,Me.current.value):ne=ce(P),Q(Le=>$({},Le,{lastExternalValue:P,sections:ne,sectionsDependencies:{format:S,isRtl:a,locale:t.locale},referenceValue:le?Le.referenceValue:f.updateReferenceValue(t,P,Le.referenceValue),tempValueStrAndroid:null}))}if(a!==H.lastSectionsDependencies.isRtl||S!==H.lastSectionsDependencies.format||t.locale!==H.lastSectionsDependencies.locale){const le=ce(P);Q(ne=>$({},ne,{lastSectionsDependencies:{format:S,isRtl:a,locale:t.locale},sections:le,tempValueStrAndroid:null,characterQuery:null}))}H.characterQuery!=null&&!U&&Z==null&&Se(null),H.characterQuery!=null&&H.sections[H.characterQuery.sectionIndex]?.type!==H.characterQuery.sectionType&&Se(null),x.useEffect(()=>{Me.current!=null&&(Me.current=null)});const Ue=No();return x.useEffect(()=>(H.characterQuery!=null&&Ue.start(F6,()=>Se(null)),()=>{}),[H.characterQuery,Se,Ue]),x.useEffect(()=>{H.tempValueStrAndroid!=null&&Z!=null&&we()},[H.sections]),{activeSectionIndex:Z,areAllSectionsEmpty:X,error:U,localizedDigits:B,parsedSelectedSections:fe,sectionOrder:J,sectionsValueBoundaries:L,state:H,timezone:R,value:P,clearValue:ue,clearActiveSection:we,setCharacterQuery:Se,setSelectedSections:ae,setTempAndroidValueStr:He,updateSectionValue:Oe,updateValueFromValueStr:be,getSectionsFromValue:ce}};function rD(e){const{manager:{internal_useApplyDefaultValuesToFieldInternalProps:t},internalProps:s,skipContextFieldRefAssignment:a}=e,l=$y(),u=Vj(),d=hs(s.unstableFieldRef,a?null:u?.fieldRef),f=l?.setValue,p=x.useCallback((y,v)=>f?.(y,{validationError:v.validationError,shouldClose:!1}),[f]),g=x.useMemo(()=>u!=null&&l!=null?$({value:l.value,onChange:p,timezone:l.timezone,disabled:l.disabled,readOnly:l.readOnly,autoFocus:l.autoFocus&&!l.open,focused:l.open?!0:void 0,format:l.fieldFormat,formatDensity:u.formatDensity,enableAccessibleFieldDOMStructure:u.enableAccessibleFieldDOMStructure,selectedSections:u.selectedSections,onSelectedSectionsChange:u.onSelectedSectionsChange,unstableFieldRef:d},s):s,[l,u,s,p,d]);return t(g)}function Qy(e){const{focused:t,domGetters:s,stateResponse:{parsedSelectedSections:a,state:l}}=e;if(!s.isReady())return;const u=dc(s.getRoot()).getSelection();if(!u)return;if(a==null){u.rangeCount>0&&u.getRangeAt(0).startContainer instanceof Node&&s.getRoot().contains(u.getRangeAt(0).startContainer)&&u.removeAllRanges(),t&&s.getRoot().blur();return}if(!s.getRoot().contains(Qn(s.getRoot())))return;const d=new window.Range;let f;a==="all"?f=s.getRoot():l.sections[a].type==="empty"?f=s.getSectionContainer(a):f=s.getSectionContent(a),d.selectNodeContents(f),f.focus(),u.removeAllRanges(),u.addRange(d)}function oD(e){const t=Ft(),{manager:{internal_fieldValueManager:s},internalPropsWithDefaults:{minutesStep:a,disabled:l,readOnly:u},stateResponse:{state:d,value:f,activeSectionIndex:p,parsedSelectedSections:g,sectionsValueBoundaries:y,localizedDigits:v,timezone:b,sectionOrder:S,clearValue:j,clearActiveSection:T,setSelectedSections:w,updateSectionValue:k}}=e;return Be(D=>{if(!l)switch(!0){case((D.ctrlKey||D.metaKey)&&String.fromCharCode(D.keyCode)==="A"&&!D.shiftKey&&!D.altKey):{D.preventDefault(),w("all");break}case D.key==="ArrowRight":{if(D.preventDefault(),g==null)w(S.startIndex);else if(g==="all")w(S.endIndex);else{const A=S.neighbors[g].rightIndex;A!==null&&w(A)}break}case D.key==="ArrowLeft":{if(D.preventDefault(),g==null)w(S.endIndex);else if(g==="all")w(S.startIndex);else{const A=S.neighbors[g].leftIndex;A!==null&&w(A)}break}case D.key==="Delete":{if(D.preventDefault(),u)break;g==null||g==="all"?j():T();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(D.key):{if(D.preventDefault(),u||p==null)break;g==="all"&&w(p);const A=d.sections[p],_=U6(t,b,A,D.key,y,v,s.getDateFromSection(f,A),{minutesStep:a});k({section:A,newSectionValue:_,shouldGoToNextSection:!1});break}}})}function H6(e){switch(e){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}}function U6(e,t,s,a,l,u,d,f){const p=H6(a),g=a==="Home",y=a==="End",v=s.value===""||g||y,b=()=>{const j=l[s.type]({currentDate:d,format:s.format,contentType:s.contentType}),T=D=>Ij(e,D,j,u,s),w=s.type==="minutes"&&f?.minutesStep?f.minutesStep:1;let k;if(v){if(s.type==="year"&&!y&&!g)return e.formatByString(e.date(void 0,t),s.format);p>0||g?k=j.minimum:k=j.maximum}else k=parseInt(Dr(s.value,u),10)+p*w;return k%w!==0&&((p<0||g)&&(k+=w-(w+k)%w),(p>0||y)&&(k-=k%w)),k>j.maximum?T(j.minimum+(k-j.maximum-1)%(j.maximum-j.minimum+1)):k<j.minimum?T(j.maximum-(j.minimum-k-1)%(j.maximum-j.minimum+1)):T(k)},S=()=>{const j=_j(e,t,s.type,s.format);if(j.length===0)return s.value;if(v)return p>0||g?j[0]:j[j.length-1];const k=((j.indexOf(s.value)+p)%j.length+j.length)%j.length;return j[k]};return s.contentType==="digit"||s.contentType==="digit-with-letter"?b():S()}function q6(e){const{manager:t,focused:s,setFocused:a,domGetters:l,stateResponse:u,applyCharacterEditing:d,internalPropsWithDefaults:f,stateResponse:{parsedSelectedSections:p,sectionOrder:g,state:y,clearValue:v,setCharacterQuery:b,setSelectedSections:S,updateValueFromValueStr:j},internalPropsWithDefaults:{disabled:T=!1,readOnly:w=!1}}=e,k=oD({manager:t,internalPropsWithDefaults:f,stateResponse:u}),D=No(),A=Be(N=>{T||!l.isReady()||(a(!0),p==="all"?D.start(0,()=>{const W=document.getSelection().getRangeAt(0).startOffset;if(W===0){S(g.startIndex);return}let U=0,B=0;for(;B<W&&U<y.sections.length;){const L=y.sections[U];U+=1,B+=`${L.startSeparator}${L.value||L.placeholder}${L.endSeparator}`.length}S(U-1)}):s?l.getRoot().contains(N.target)||S(g.startIndex):(a(!0),S(g.startIndex)))}),_=Be(N=>{if(!l.isReady()||p!=="all")return;const U=N.target.textContent??"";l.getRoot().innerHTML=y.sections.map(B=>`${B.startSeparator}${B.value||B.placeholder}${B.endSeparator}`).join(""),Qy({focused:s,domGetters:l,stateResponse:u}),U.length===0||U.charCodeAt(0)===10?(v(),S("all")):U.length>1?j(U):(p==="all"&&S(0),d({keyPressed:U,sectionIndex:0}))}),P=Be(N=>{if(w||p!=="all"){N.preventDefault();return}const W=N.clipboardData.getData("text");N.preventDefault(),b(null),j(W)}),M=Be(()=>{if(s||T||!l.isReady())return;const N=Qn(l.getRoot());a(!0),l.getSectionIndexFromDOMElement(N)!=null||S(g.startIndex)}),R=Be(()=>{setTimeout(()=>{if(!l.isReady())return;const N=Qn(l.getRoot());!l.getRoot().contains(N)&&(a(!1),S(null))})});return{onKeyDown:k,onBlur:R,onFocus:M,onClick:A,onPaste:P,onInput:_,contentEditable:p==="all",tabIndex:f.disabled||p===0?-1:0}}function Y6(e){const{manager:{internal_fieldValueManager:t},stateResponse:{areAllSectionsEmpty:s,state:a,updateValueFromValueStr:l}}=e,u=Be(f=>{l(f.target.value)});return{value:x.useMemo(()=>s?"":t.getV7HiddenInputValueFromSections(a.sections),[s,a.sections,t]),onChange:u}}function G6(e){const{stateResponse:{setSelectedSections:t},internalPropsWithDefaults:{disabled:s=!1}}=e,a=x.useCallback(l=>u=>{s||u.isDefaultPrevented()||t(l)},[s,t]);return x.useCallback(l=>({"data-sectionindex":l,onClick:a(l)}),[a])}function $6(e){const t=Ft(),s=La(),{focused:a,domGetters:l,stateResponse:u,applyCharacterEditing:d,manager:{internal_fieldValueManager:f},stateResponse:{parsedSelectedSections:p,sectionsValueBoundaries:g,state:y,value:v,clearActiveSection:b,setCharacterQuery:S,setSelectedSections:j,updateSectionValue:T,updateValueFromValueStr:w},internalPropsWithDefaults:{disabled:k=!1,readOnly:D=!1}}=e,A=p==="all",_=!A&&!k&&!D,P=Be(B=>{if(!l.isReady())return;const L=y.sections[B];l.getSectionContent(B).innerHTML=L.value||L.placeholder,Qy({focused:a,domGetters:l,stateResponse:u})}),M=Be(B=>{if(!l.isReady())return;const L=B.target,ce=L.textContent??"",H=l.getSectionIndexFromDOMElement(L),Q=y.sections[H];if(D){P(H);return}if(ce.length===0){if(Q.value===""){P(H);return}const z=B.nativeEvent.inputType;if(z==="insertParagraph"||z==="insertLineBreak"){P(H);return}P(H),b();return}d({keyPressed:ce,sectionIndex:H}),P(H)}),R=Be(B=>{B.preventDefault()}),N=Be(B=>{if(B.preventDefault(),D||k||typeof p!="number")return;const L=y.sections[p],ce=B.clipboardData.getData("text"),H=/^[a-zA-Z]+$/.test(ce),Q=/^[0-9]+$/.test(ce),z=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(ce);L.contentType==="letter"&&H||L.contentType==="digit"&&Q||L.contentType==="digit-with-letter"&&z?(S(null),T({section:L,newSectionValue:ce,shouldGoToNextSection:!0})):!H&&!Q&&(S(null),w(ce))}),W=Be(B=>{B.preventDefault(),B.dataTransfer.dropEffect="none"}),U=x.useCallback(B=>()=>{k||j(B)},[k,j]);return x.useCallback((B,L)=>{const ce=g[B.type]({currentDate:f.getDateFromSection(v,B),contentType:B.contentType,format:B.format});return{onInput:M,onPaste:N,onMouseUp:R,onDragOver:W,onFocus:U(L),"aria-readonly":D,"aria-valuenow":Q6(B,t),"aria-valuemin":ce.minimum,"aria-valuemax":ce.maximum,"aria-valuetext":B.value?K6(B,t):s.empty,"aria-label":s[B.type],"aria-disabled":k,tabIndex:!_||A||L>0?-1:0,contentEditable:!A&&!k&&!D,role:"spinbutton","data-range-position":B.dateName||void 0,spellCheck:_?!1:void 0,autoCapitalize:_?"none":void 0,autoCorrect:_?"off":void 0,children:B.value||B.placeholder,inputMode:B.contentType==="letter"?"text":"numeric"}},[g,A,k,D,_,s,t,M,N,R,W,U,f,v])}function K6(e,t){if(e.value)switch(e.type){case"month":{if(e.contentType==="digit"){const a=t.setMonth(t.date(),Number(e.value)-1);return t.isValid(a)?t.format(a,"month"):""}const s=t.parse(e.value,e.format);return s&&t.isValid(s)?t.format(s,"month"):void 0}case"day":if(e.contentType==="digit"){const s=t.setDate(t.startOfYear(t.date()),Number(e.value));return t.isValid(s)?t.format(s,"dayOfMonthFull"):""}return e.value;case"weekDay":return;default:return}}function Q6(e,t){if(e.value)switch(e.type){case"weekDay":return e.contentType==="letter"?void 0:Number(e.value);case"meridiem":{const s=t.parse(`01:00 ${e.value}`,`${t.formats.hours12h}:${t.formats.minutes} ${e.format}`);return s?t.getHours(s)>=12?1:0:void 0}case"day":return e.contentType==="digit-with-letter"?parseInt(e.value,10):Number(e.value);case"month":{if(e.contentType==="digit")return Number(e.value);const s=t.parse(e.value,e.format);return s?t.getMonth(s)+1:void 0}default:return e.contentType!=="letter"?Number(e.value):void 0}}const X6=e=>{const{props:t,manager:s,skipContextFieldRefAssignment:a,manager:{valueType:l,internal_useOpenPickerButtonAriaLabel:u}}=e,{internalProps:d,forwardedProps:f}=Gj(t,l),p=rD({manager:s,internalProps:d,skipContextFieldRefAssignment:a}),{sectionListRef:g,onBlur:y,onClick:v,onFocus:b,onInput:S,onPaste:j,onKeyDown:T,onClear:w,clearable:k}=f,{disabled:D=!1,readOnly:A=!1,autoFocus:_=!1,focused:P,unstableFieldRef:M}=p,R=x.useRef(null),N=hs(g,R),W=x.useMemo(()=>({isReady:()=>R.current!=null,getRoot:()=>R.current.getRoot(),getSectionContainer:le=>R.current.getSectionContainer(le),getSectionContent:le=>R.current.getSectionContent(le),getSectionIndexFromDOMElement:le=>R.current.getSectionIndexFromDOMElement(le)}),[R]),U=aD({manager:s,internalPropsWithDefaults:p,forwardedProps:f}),{areAllSectionsEmpty:B,error:L,parsedSelectedSections:ce,sectionOrder:H,state:Q,value:z,clearValue:q,setSelectedSections:ae}=U,fe=iD({stateResponse:U}),Z=u(z),[J,X]=x.useState(!1);function ie(le=0){if(D||!R.current||S1(R)!=null)return;const ne=cg(le,Q.sections);X(!0),R.current.getSectionContent(ne).focus()}const oe=q6({manager:s,internalPropsWithDefaults:p,stateResponse:U,applyCharacterEditing:fe,focused:J,setFocused:X,domGetters:W}),Me=Y6({manager:s,stateResponse:U}),De=G6({stateResponse:U,internalPropsWithDefaults:p}),Ne=$6({manager:s,stateResponse:U,applyCharacterEditing:fe,internalPropsWithDefaults:p,domGetters:W,focused:J}),ue=Be(le=>{T?.(le),oe.onKeyDown(le)}),we=Be(le=>{y?.(le),oe.onBlur(le)}),be=Be(le=>{b?.(le),oe.onFocus(le)}),ve=Be(le=>{le.isDefaultPrevented()||(v?.(le),oe.onClick(le))}),Oe=Be(le=>{j?.(le),oe.onPaste(le)}),He=Be(le=>{S?.(le),oe.onInput(le)}),Se=Be((le,...ne)=>{le.preventDefault(),w?.(le,...ne),q(),w1(R)?ae(H.startIndex):ie(0)}),Ue=x.useMemo(()=>Q.sections.map((le,ne)=>{const Le=Ne(le,ne);return{container:De(ne),content:Ne(le,ne),before:{children:le.startSeparator},after:{children:le.endSeparator,"data-range-position":le.isEndFormatSeparator?Le["data-range-position"]:void 0}}}),[Q.sections,De,Ne]);return x.useEffect(()=>{if(R.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please add the `enableAccessibleFieldDOMStructure={false}` prop to your Picker or Field component:","","<DatePicker enableAccessibleFieldDOMStructure={false} slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));_&&!D&&R.current&&R.current.getSectionContent(H.startIndex).focus()},[]),qi(()=>{if(!(!J||!R.current)){if(ce==="all")R.current.getRoot().focus();else if(typeof ce=="number"){const le=R.current.getSectionContent(ce);le&&le.focus()}}},[ce,J]),qi(()=>{Qy({focused:J,domGetters:W,stateResponse:U})}),x.useImperativeHandle(M,()=>({getSections:()=>Q.sections,getActiveSectionIndex:()=>S1(R),setSelectedSections:le=>{if(D||!R.current)return;const ne=cg(le,Q.sections);X((ne==="all"?0:ne)!==null),ae(le)},focusField:ie,isFieldFocused:()=>w1(R)})),$({},f,oe,{onBlur:we,onClick:ve,onFocus:be,onInput:He,onPaste:Oe,onKeyDown:ue,onClear:Se},Me,{error:L,clearable:!!(k&&!B&&!A&&!D),focused:P??J,sectionListRef:N,enableAccessibleFieldDOMStructure:!0,elements:Ue,areAllSectionsEmpty:B,disabled:D,readOnly:A,autoFocus:_,openPickerAriaLabel:Z})};function S1(e){const t=Qn(e.current?.getRoot());return!t||!e.current||!e.current.getRoot().contains(t)?null:e.current.getSectionIndexFromDOMElement(t)}function w1(e){const t=Qn(e.current?.getRoot());return!!e.current&&e.current.getRoot().contains(t)}const Io=e=>e.replace(/[\u2066\u2067\u2068\u2069]/g,""),Z6=(e,t,s)=>{let a=0,l=s?1:0;const u=[];for(let d=0;d<e.length;d+=1){const f=e[d],p=qy(f,s?"input-rtl":"input-ltr",t),g=`${f.startSeparator}${p}${f.endSeparator}`,y=Io(g).length,v=g.length,b=Io(p),S=l+(b===""?0:p.indexOf(b[0]))+f.startSeparator.length,j=S+b.length;u.push($({},f,{start:a,end:a+y,startInInput:S,endInInput:j})),a+=y,l+=v}return u},J6=e=>{const t=Qi(),s=No(),a=No(),{props:l,manager:u,skipContextFieldRefAssignment:d,manager:{valueType:f,internal_valueManager:p,internal_fieldValueManager:g,internal_useOpenPickerButtonAriaLabel:y}}=e,{internalProps:v,forwardedProps:b}=Gj(l,f),S=rD({manager:u,internalProps:v,skipContextFieldRefAssignment:d}),{onFocus:j,onClick:T,onPaste:w,onBlur:k,onKeyDown:D,onClear:A,clearable:_,inputRef:P,placeholder:M}=b,{readOnly:R=!1,disabled:N=!1,autoFocus:W=!1,focused:U,unstableFieldRef:B}=S,L=x.useRef(null),ce=hs(P,L),H=aD({manager:u,internalPropsWithDefaults:S,forwardedProps:b}),{activeSectionIndex:Q,areAllSectionsEmpty:z,error:q,localizedDigits:ae,parsedSelectedSections:fe,sectionOrder:Z,state:J,value:X,clearValue:ie,clearActiveSection:oe,setCharacterQuery:Me,setSelectedSections:De,setTempAndroidValueStr:Ne,updateSectionValue:ue,updateValueFromValueStr:we,getSectionsFromValue:be}=H,ve=iD({stateResponse:H}),Oe=y(X),He=x.useMemo(()=>Z6(J.sections,ae,t),[J.sections,ae,t]);function Se(){const qe=L.current.selectionStart??0;let Xe;qe<=He[0].startInInput||qe>=He[He.length-1].endInInput?Xe=1:Xe=He.findIndex(Te=>Te.startInInput-Te.startSeparator.length>qe);const xe=Xe===-1?He.length-1:Xe-1;De(xe)}function Ue(qe=0){Qn(L.current)!==L.current&&(L.current?.focus(),De(qe))}const le=Be(qe=>{j?.(qe);const Xe=L.current;s.start(0,()=>{!Xe||Xe!==L.current||Q==null&&(Xe.value.length&&Number(Xe.selectionEnd)-Number(Xe.selectionStart)===Xe.value.length?De("all"):Se())})}),ne=Be((qe,...Xe)=>{qe.isDefaultPrevented()||(T?.(qe,...Xe),Se())}),Le=Be(qe=>{if(w?.(qe),qe.preventDefault(),R||N)return;const Xe=qe.clipboardData.getData("text");if(typeof fe=="number"){const xe=J.sections[fe],Te=/^[a-zA-Z]+$/.test(Xe),Ie=/^[0-9]+$/.test(Xe),Ae=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(Xe);if(xe.contentType==="letter"&&Te||xe.contentType==="digit"&&Ie||xe.contentType==="digit-with-letter"&&Ae){Me(null),ue({section:xe,newSectionValue:Xe,shouldGoToNextSection:!0});return}if(Te||Ie)return}Me(null),we(Xe)}),Ee=Be(qe=>{k?.(qe),De(null)}),ge=Be(qe=>{if(R)return;const Xe=qe.target.value;if(Xe===""){ie();return}const xe=qe.nativeEvent.data,Te=xe&&xe.length>1,Ie=Te?xe:Xe,Ae=Io(Ie);if(fe==="all"&&De(Q),Q==null||Te){we(Te?xe:Ae);return}let Ye;if(fe==="all"&&Ae.length===1)Ye=Ae;else{const lt=Io(g.getV6InputValueFromSections(He,ae,t));let nt=-1,wt=-1;for(let ht=0;ht<lt.length;ht+=1)nt===-1&&lt[ht]!==Ae[ht]&&(nt=ht),wt===-1&&lt[lt.length-ht-1]!==Ae[Ae.length-ht-1]&&(wt=ht);const Ht=He[Q];if(nt<Ht.start||lt.length-wt-1>Ht.end)return;const Gn=Ae.length-lt.length+Ht.end-Io(Ht.endSeparator||"").length;Ye=Ae.slice(Ht.start+Io(Ht.startSeparator||"").length,Gn)}if(Ye.length===0){jV()&&Ne(Ie),oe();return}ve({keyPressed:Ye,sectionIndex:Q})}),_e=Be((qe,...Xe)=>{qe.preventDefault(),A?.(qe,...Xe),ie(),C1(L)?De(Z.startIndex):Ue(0)}),G=oD({manager:u,internalPropsWithDefaults:S,stateResponse:H}),ye=Be(qe=>{D?.(qe),G(qe)}),ke=x.useMemo(()=>M!==void 0?M:g.getV6InputValueFromSections(be(p.emptyValue),ae,t),[M,g,be,p.emptyValue,ae,t]),Ce=x.useMemo(()=>J.tempValueStrAndroid??g.getV6InputValueFromSections(J.sections,ae,t),[J.sections,g,J.tempValueStrAndroid,ae,t]);x.useEffect(()=>{L.current&&L.current===Qn(L.current)&&De("all")},[]),qi(()=>{function qe(){if(!L.current)return;if(fe==null){L.current.scrollLeft&&(L.current.scrollLeft=0);return}if(L.current!==Qn(L.current))return;const Xe=L.current.scrollTop;if(fe==="all")L.current.select();else{const xe=He[fe],Te=xe.type==="empty"?xe.startInInput-xe.startSeparator.length:xe.startInInput,Ie=xe.type==="empty"?xe.endInInput+xe.endSeparator.length:xe.endInInput;(Te!==L.current.selectionStart||Ie!==L.current.selectionEnd)&&L.current===Qn(L.current)&&L.current.setSelectionRange(Te,Ie),a.start(0,()=>{L.current&&L.current===Qn(L.current)&&L.current.selectionStart===L.current.selectionEnd&&(L.current.selectionStart!==Te||L.current.selectionEnd!==Ie)&&qe()})}L.current.scrollTop=Xe}qe()});const We=x.useMemo(()=>Q==null||J.sections[Q].contentType==="letter"?"text":"numeric",[Q,J.sections]),dt=!(L.current&&L.current===Qn(L.current))&&z;return x.useImperativeHandle(B,()=>({getSections:()=>J.sections,getActiveSectionIndex:()=>{const qe=L.current.selectionStart??0,Xe=L.current.selectionEnd??0;if(qe===0&&Xe===0)return null;const xe=qe<=He[0].startInInput?1:He.findIndex(Te=>Te.startInInput-Te.startSeparator.length>qe);return xe===-1?He.length-1:xe-1},setSelectedSections:qe=>De(qe),focusField:Ue,isFieldFocused:()=>C1(L)})),$({},b,{error:q,clearable:!!(_&&!z&&!R&&!N),onBlur:Ee,onClick:ne,onFocus:le,onPaste:Le,onKeyDown:ye,onClear:_e,inputRef:ce,enableAccessibleFieldDOMStructure:!1,placeholder:ke,inputMode:We,autoComplete:"off",value:dt?"":Ce,onChange:ge,focused:U,disabled:N,readOnly:R,autoFocus:W,openPickerAriaLabel:Oe})};function C1(e){return e.current===Qn(e.current)}const eB=e=>{const t=Vj();return(e.props.enableAccessibleFieldDOMStructure??t?.enableAccessibleFieldDOMStructure??!0?X6:J6)(e)},tB=e=>{const t=n6(e);return eB({manager:t,props:e})};function Xy(e){const{ownerState:t}=Yn(),s=Qi();return x.useMemo(()=>$({},t,{isFieldDisabled:e.disabled??!1,isFieldReadOnly:e.readOnly??!1,isFieldRequired:e.required??!1,fieldDirection:s?"rtl":"ltr"}),[t,e.disabled,e.readOnly,e.required,s])}const nB=_a(r.jsx("path",{d:"M7 10l5 5 5-5z"})),sB=_a(r.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"})),iB=_a(r.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})),aB=_a(r.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}));_a(r.jsxs(x.Fragment,{children:[r.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),r.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}));_a(r.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}));_a(r.jsxs(x.Fragment,{children:[r.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),r.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}));const rB=_a(r.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));function oB(e){return Pn("MuiPickersTextField",e)}On("MuiPickersTextField",["root","focused","disabled","error","required"]);function lB(e){return Pn("MuiPickersInputBase",e)}const Fo=On("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input","inputSizeSmall","activeBar"]);function cB(e){return Pn("MuiPickersSectionList",e)}const Do=On("MuiPickersSectionList",["root","section","sectionContent"]),uB=["slots","slotProps","elements","sectionListRef","classes"],lD=$e("div",{name:"MuiPickersSectionList",slot:"Root"})({direction:"ltr /*! @noflip */",outline:"none"}),cD=$e("span",{name:"MuiPickersSectionList",slot:"Section"})({}),uD=$e("span",{name:"MuiPickersSectionList",slot:"SectionSeparator"})({whiteSpace:"pre"}),dD=$e("span",{name:"MuiPickersSectionList",slot:"SectionContent"})({outline:"none"}),dB=e=>hn({root:["root"],section:["section"],sectionContent:["sectionContent"]},cB,e);function fB(e){const{slots:t,slotProps:s,element:a,classes:l}=e,{ownerState:u}=Yn(),d=t?.section??cD,f=Ot({elementType:d,externalSlotProps:s?.section,externalForwardedProps:a.container,className:l.section,ownerState:u}),p=t?.sectionContent??dD,g=Ot({elementType:p,externalSlotProps:s?.sectionContent,externalForwardedProps:a.content,additionalProps:{suppressContentEditableWarning:!0},className:l.sectionContent,ownerState:u}),y=t?.sectionSeparator??uD,v=Ot({elementType:y,externalSlotProps:s?.sectionSeparator,externalForwardedProps:a.before,ownerState:$({},u,{separatorPosition:"before"})}),b=Ot({elementType:y,externalSlotProps:s?.sectionSeparator,externalForwardedProps:a.after,ownerState:$({},u,{separatorPosition:"after"})}),S=x.useRef(null),j=hs(g.ref,S),T=w=>{const k=w.relatedTarget,D=w.currentTarget.closest(`.${Do.root}`);if(D&&k instanceof Node&&D.contains(k)){w.stopPropagation();return}};return r.jsxs(d,$({},f,{children:[r.jsx(y,$({},v)),r.jsx(p,$({},g,{ref:j,onBlur:T})),r.jsx(y,$({},b))]}))}const hB=x.forwardRef(function(t,s){const a=rn({props:t,name:"MuiPickersSectionList"}),{slots:l,slotProps:u,elements:d,sectionListRef:f,classes:p}=a,g=ut(a,uB),y=dB(p),{ownerState:v}=Yn(),b=x.useRef(null),S=hs(s,b),j=k=>{if(!b.current)throw new Error(`MUI X: Cannot call sectionListRef.${k} before the mount of the component.`);return b.current};x.useImperativeHandle(f,()=>({getRoot(){return j("getRoot")},getSectionContainer(k){return j("getSectionContainer").querySelector(`.${Do.section}[data-sectionindex="${k}"]`)},getSectionContent(k){return j("getSectionContent").querySelector(`.${Do.section}[data-sectionindex="${k}"] .${Do.sectionContent}`)},getSectionIndexFromDOMElement(k){const D=j("getSectionIndexFromDOMElement");if(k==null||!D.contains(k))return null;let A=null;return k.classList.contains(Do.section)?A=k:k.classList.contains(Do.sectionContent)&&(A=k.parentElement),A==null?null:Number(A.dataset.sectionindex)}}));const T=l?.root??lD,w=Ot({elementType:T,externalSlotProps:u?.root,externalForwardedProps:g,additionalProps:{ref:S,suppressContentEditableWarning:!0},className:y.root,ownerState:v});return r.jsx(T,$({},w,{children:w.contentEditable?d.map(({content:k,before:D,after:A})=>`${D.children}${k.children}${A.children}`).join(""):r.jsx(x.Fragment,{children:d.map((k,D)=>r.jsx(fB,{slots:l,slotProps:u,element:k,classes:y},D))})}))}),fD=x.createContext(null),Af=()=>{const e=x.useContext(fD);if(e==null)throw new Error(["MUI X: The `usePickerTextFieldOwnerState` can only be called in components that are used inside a PickerTextField component"].join(`
`));return e},pB=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef","onFocus","onBlur","classes","ownerState"],mB=e=>Math.round(e*1e5)/1e5,Pf=$e("div",{name:"MuiPickersInputBase",slot:"Root"})(({theme:e})=>$({},e.typography.body1,{color:(e.vars||e).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${mB(.15/16)}em`,variants:[{props:{isInputInFullWidth:!0},style:{width:"100%"}}]})),Zy=$e(lD,{name:"MuiPickersInputBase",slot:"SectionsContainer"})(({theme:e})=>({padding:"4px 0 5px",fontFamily:e.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{fieldDirection:"rtl"},style:{justifyContent:"end"}},{props:{inputSize:"small"},style:{paddingTop:1}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0},style:{color:"currentColor",opacity:0}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0,inputHasLabel:!1},style:e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:e.palette.mode==="light"?.42:.5}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0,inputHasLabel:!0,isLabelShrunk:!0},style:e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:e.palette.mode==="light"?.42:.5}}]})),gB=$e(cD,{name:"MuiPickersInputBase",slot:"Section"})(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"inline-block",whiteSpace:"nowrap"})),yB=$e(dD,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(e,t)=>t.content})(({theme:e})=>({fontFamily:e.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),xB=$e(uD,{name:"MuiPickersInputBase",slot:"Separator"})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),bB=$e("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(e,t)=>t.hiddenInput})($({},j2)),vB=$e("div",{name:"MuiPickersInputBase",slot:"ActiveBar"})(({theme:e,ownerState:t})=>({display:"none",position:"absolute",height:2,bottom:2,borderTopLeftRadius:2,borderTopRightRadius:2,transition:e.transitions.create(["width","left"],{duration:e.transitions.duration.shortest}),backgroundColor:(e.vars||e).palette.primary.main,'[data-active-range-position="start"] &, [data-active-range-position="end"] &':{display:"block"},'[data-active-range-position="start"] &':{left:t.sectionOffsets[0]},'[data-active-range-position="end"] &':{left:t.sectionOffsets[1]}})),SB=(e,t)=>{const{isFieldFocused:s,isFieldDisabled:a,isFieldReadOnly:l,hasFieldError:u,inputSize:d,isInputInFullWidth:f,inputColor:p,hasStartAdornment:g,hasEndAdornment:y}=t,v={root:["root",s&&!a&&"focused",a&&"disabled",l&&"readOnly",u&&"error",f&&"fullWidth",`color${T2(p)}`,d==="small"&&"inputSizeSmall",g&&"adornedStart",y&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"],activeBar:["activeBar"]};return hn(v,lB,e)};function k1(e,t,s,a){if(e.content.id){const l=t.current?.querySelectorAll(`[data-sectionindex="${s}"] [data-range-position="${a}"]`);if(l)return Array.from(l).reduce((u,d)=>u+d.offsetWidth,0)}return 0}function wB(e,t){let s=0;if(t.current?.getAttribute("data-active-range-position")==="end")for(let l=e.length-1;l>=e.length/2;l-=1)s+=k1(e[l],t,l,"end");else for(let l=0;l<e.length/2;l+=1)s+=k1(e[l],t,l,"start");return{activeBarWidth:s,sectionOffsets:[t.current?.querySelector('[data-sectionindex="0"]')?.offsetLeft||0,t.current?.querySelector(`[data-sectionindex="${e.length/2}"]`)?.offsetLeft||0]}}const Jy=x.forwardRef(function(t,s){const a=rn({props:t,name:"MuiPickersInputBase"}),{elements:l,areAllSectionsEmpty:u,value:d,onChange:f,id:p,endAdornment:g,startAdornment:y,renderSuffix:v,slots:b,slotProps:S,contentEditable:j,tabIndex:T,onInput:w,onPaste:k,onKeyDown:D,name:A,readOnly:_,inputProps:P,inputRef:M,sectionListRef:R,onFocus:N,onBlur:W,classes:U,ownerState:B}=a,L=ut(a,pB),ce=Af(),H=x.useRef(null),Q=x.useRef(null),z=x.useRef([]),q=hs(s,H),ae=hs(P?.ref,M),fe=bC();if(!fe)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const Z=B??ce,J=be=>{fe.onFocus?.(be),N?.(be)},X=be=>{J(be)},ie=be=>{if(D?.(be),be.key==="Enter"&&!be.defaultMuiPrevented){if(H.current?.dataset.multiInput)return;const ve=H.current?.closest("form"),Oe=ve?.querySelector('[type="submit"]');if(!ve||!Oe)return;be.preventDefault(),ve.requestSubmit(Oe)}},oe=be=>{fe.onBlur?.(be),W?.(be)};x.useEffect(()=>{fe&&fe.setAdornedStart(!!y)},[fe,y]),x.useEffect(()=>{fe&&(u?fe.onEmpty():fe.onFilled())},[fe,u]);const Me=SB(U,Z),De=b?.root||Pf,Ne=Ot({elementType:De,externalSlotProps:S?.root,externalForwardedProps:L,additionalProps:{"aria-invalid":fe.error,ref:q},className:Me.root,ownerState:Z}),ue=b?.input||Zy,we=l.some(be=>be.content["data-range-position"]!==void 0);return x.useEffect(()=>{if(!we||!Z.isPickerOpen)return;const{activeBarWidth:be,sectionOffsets:ve}=wB(l,H);z.current=[ve[0],ve[1]],Q.current&&(Q.current.style.width=`${be}px`)},[l,we,Z.isPickerOpen]),r.jsxs(De,$({},Ne,{children:[y,r.jsx(hB,{sectionListRef:R,elements:l,contentEditable:j,tabIndex:T,className:Me.sectionsContainer,onFocus:J,onBlur:oe,onInput:w,onPaste:k,onKeyDown:ie,slots:{root:ue,section:gB,sectionContent:yB,sectionSeparator:xB},slotProps:{root:$({},S?.input,{ownerState:Z}),sectionContent:{className:Fo.sectionContent},sectionSeparator:({separatorPosition:be})=>({className:be==="before"?Fo.sectionBefore:Fo.sectionAfter})}}),g,v?v($({},fe)):null,r.jsx(bB,$({name:A,className:Me.input,value:d,onChange:f,id:p,"aria-hidden":"true",tabIndex:-1,readOnly:_,required:fe.required,disabled:fe.disabled,onFocus:X},P,{ref:ae})),we&&r.jsx(vB,{className:Me.activeBar,ref:Q,ownerState:{sectionOffsets:z.current}})]}))});function CB(e){return Pn("MuiPickersOutlinedInput",e)}const Ys=$({},Fo,On("MuiPickersOutlinedInput",["root","notchedOutline","input"])),kB=["children","className","label","notched","shrink"],TB=$e("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline"})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),T1=$e("span")(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit"})),jB=$e("legend",{shouldForwardProp:e=>Mr(e)&&e!=="notched"})(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{inputHasLabel:!1},style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:{inputHasLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{inputHasLabel:!0,notched:!0},style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]}));function DB(e){const{className:t,label:s,notched:a}=e,l=ut(e,kB),u=Af();return r.jsx(TB,$({"aria-hidden":!0,className:t},l,{ownerState:u,children:r.jsx(jB,{ownerState:u,notched:a,children:s?r.jsx(T1,{children:s}):r.jsx(T1,{className:"notranslate",children:""})})}))}const EB=["label","autoFocus","ownerState","classes","notched"],MB=$e(Pf,{name:"MuiPickersOutlinedInput",slot:"Root"})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Ys.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ys.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${Ys.focused} .${Ys.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${Ys.disabled}`]:{[`& .${Ys.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled},"*":{color:(e.vars||e).palette.action.disabled}},[`&.${Ys.error} .${Ys.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},variants:Object.keys((e.vars??e).palette).filter(s=>(e.vars??e).palette[s]?.main??!1).map(s=>({props:{inputColor:s},style:{[`&.${Ys.focused}:not(.${Ys.error}) .${Ys.notchedOutline}`]:{borderColor:(e.vars||e).palette[s].main}}}))}}),AB=$e(Zy,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer"})({padding:"16.5px 0",variants:[{props:{inputSize:"small"},style:{padding:"8.5px 0"}}]}),PB=e=>{const s=hn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},CB,e);return $({},e,s)},hD=x.forwardRef(function(t,s){const a=rn({props:t,name:"MuiPickersOutlinedInput"}),{label:l,classes:u,notched:d}=a,f=ut(a,EB),p=bC(),g=PB(u);return r.jsx(Jy,$({slots:{root:MB,input:AB},renderSuffix:y=>r.jsx(DB,{shrink:!!(d||y.adornedStart||y.focused||y.filled),notched:!!(d||y.adornedStart||y.focused||y.filled),className:g.notchedOutline,label:l!=null&&l!==""&&p?.required?r.jsxs(x.Fragment,{children:[l,"","*"]}):l})},f,{label:l,classes:g,ref:s}))});hD.muiName="Input";function OB(e){return Pn("MuiPickersFilledInput",e)}const rr=$({},Fo,On("MuiPickersFilledInput",["root","underline","input"])),RB=["label","autoFocus","disableUnderline","hiddenLabel","classes"],_B=$e(Pf,{name:"MuiPickersFilledInput",slot:"Root",shouldForwardProp:e=>Mr(e)&&e!=="disableUnderline"})(({theme:e})=>{const t=e.palette.mode==="light",s=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",l=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",u=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:l,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a}},[`&.${rr.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a},[`&.${rr.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:u},variants:[...Object.keys((e.vars??e).palette).filter(d=>(e.vars??e).palette[d].main).map(d=>({props:{inputColor:d,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[d]?.main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${rr.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${rr.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${rr.disabled}, .${rr.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${rr.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:{hasStartAdornment:!0},style:{paddingLeft:12}},{props:{hasEndAdornment:!0},style:{paddingRight:12}}]}}),IB=$e(Zy,{name:"MuiPickersFilledInput",slot:"sectionsContainer",shouldForwardProp:e=>Mr(e)&&e!=="hiddenLabel"})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{inputSize:"small"},style:{paddingTop:21,paddingBottom:4}},{props:{hasStartAdornment:!0},style:{paddingLeft:0}},{props:{hasEndAdornment:!0},style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,inputSize:"small"},style:{paddingTop:8,paddingBottom:9}}]}),WB=(e,t)=>{const{inputHasUnderline:s}=t,l=hn({root:["root",s&&"underline"],input:["input"]},OB,e);return $({},e,l)},pD=x.forwardRef(function(t,s){const a=rn({props:t,name:"MuiPickersFilledInput"}),{label:l,disableUnderline:u=!1,hiddenLabel:d=!1,classes:f}=a,p=ut(a,RB),g=Af(),y=$({},g,{inputHasUnderline:!u}),v=WB(f,y);return r.jsx(Jy,$({slots:{root:_B,input:IB},slotProps:{root:{disableUnderline:u},input:{hiddenLabel:d}}},p,{label:l,classes:v,ref:s,ownerState:y}))});pD.muiName="Input";function NB(e){return Pn("MuiPickersFilledInput",e)}const ic=$({},Fo,On("MuiPickersInput",["root","underline","input"])),LB=["label","autoFocus","disableUnderline","ownerState","classes"],VB=$e(Pf,{name:"MuiPickersInput",slot:"Root",shouldForwardProp:e=>Mr(e)&&e!=="disableUnderline"})(({theme:e})=>{let s=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(s=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((e.vars??e).palette).filter(a=>(e.vars??e).palette[a].main).map(a=>({props:{inputColor:a,inputHasUnderline:!0},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[a].main}`}}})),{props:{inputHasUnderline:!0},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ic.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ic.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ic.disabled}, .${ic.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${s}`}},[`&.${ic.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),BB=(e,t)=>{const{inputHasUnderline:s}=t,l=hn({root:["root",!s&&"underline"],input:["input"]},NB,e);return $({},e,l)},mD=x.forwardRef(function(t,s){const a=rn({props:t,name:"MuiPickersInput"}),{label:l,disableUnderline:u=!1,classes:d}=a,f=ut(a,LB),p=Af(),g=$({},p,{inputHasUnderline:!u}),y=BB(d,g);return r.jsx(Jy,$({slots:{root:VB},slotProps:{root:{disableUnderline:u}}},f,{ownerState:g,label:l,classes:y,ref:s}))});mD.muiName="Input";const zB=["onFocus","onBlur","className","classes","color","disabled","error","variant","required","hiddenLabel","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps","data-active-range-position"],FB={standard:mD,filled:pD,outlined:hD},HB=$e(Kt,{name:"MuiPickersTextField",slot:"Root"})({maxWidth:"100%"}),UB=(e,t)=>{const{isFieldFocused:s,isFieldDisabled:a,isFieldRequired:l}=t;return hn({root:["root",s&&!a&&"focused",a&&"disabled",l&&"required"]},oB,e)},gD=x.forwardRef(function(t,s){const a=rn({props:t,name:"MuiPickersTextField"}),{onFocus:l,onBlur:u,className:d,classes:f,color:p="primary",disabled:g=!1,error:y=!1,variant:v="outlined",required:b=!1,hiddenLabel:S=!1,InputProps:j,inputProps:T,inputRef:w,sectionListRef:k,elements:D,areAllSectionsEmpty:A,onClick:_,onKeyDown:P,onKeyUp:M,onPaste:R,onInput:N,endAdornment:W,startAdornment:U,tabIndex:B,contentEditable:L,focused:ce,value:H,onChange:Q,fullWidth:z,id:q,name:ae,helperText:fe,FormHelperTextProps:Z,label:J,InputLabelProps:X,"data-active-range-position":ie}=a,oe=ut(a,zB),Me=x.useRef(null),De=hs(s,Me),Ne=Pg(q),ue=fe&&Ne?`${Ne}-helper-text`:void 0,we=J&&Ne?`${Ne}-label`:void 0,be=Xy({disabled:a.disabled,required:a.required,readOnly:j?.readOnly}),ve=x.useMemo(()=>$({},be,{isFieldValueEmpty:A,isFieldFocused:ce??!1,hasFieldError:y??!1,inputSize:a.size??"medium",inputColor:p??"primary",isInputInFullWidth:z??!1,hasStartAdornment:!!(U??j?.startAdornment),hasEndAdornment:!!(W??j?.endAdornment),inputHasLabel:!!J,isLabelShrunk:!!X?.shrink}),[be,A,ce,y,a.size,p,z,U,W,j?.startAdornment,j?.endAdornment,J,X?.shrink]),Oe=UB(f,ve),He=FB[v],Se={};return v==="outlined"?(X&&typeof X.shrink<"u"&&(Se.notched=X.shrink),Se.label=J):v==="filled"&&(Se.hiddenLabel=S),r.jsx(fD.Provider,{value:ve,children:r.jsxs(HB,$({className:qn(Oe.root,d),ref:De,focused:ce,disabled:g,variant:v,error:y,color:p,fullWidth:z,required:b,ownerState:ve},oe,{children:[J!=null&&J!==""&&r.jsx(Un,$({htmlFor:Ne,id:we},X,{children:J})),r.jsx(He,$({elements:D,areAllSectionsEmpty:A,onClick:_,onKeyDown:P,onKeyUp:M,onInput:N,onPaste:R,onFocus:l,onBlur:u,endAdornment:W,startAdornment:U,tabIndex:B,contentEditable:L,value:H,onChange:Q,id:Ne,fullWidth:z,inputProps:T,inputRef:w,sectionListRef:k,label:J,name:ae,role:"group","aria-labelledby":we,"aria-describedby":ue,"aria-live":ue?"polite":void 0,"data-active-range-position":ie},Se,j)),fe&&r.jsx(D2,$({id:ue},Z,{children:fe}))]}))})}),qB=["enableAccessibleFieldDOMStructure"],YB=["InputProps","readOnly","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],GB=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],$B=["ownerState"],KB=["ownerState"],QB=["ownerState"],XB=["ownerState"],ZB=["InputProps","inputProps"],Cm=()=>{},JB=e=>{let{enableAccessibleFieldDOMStructure:t}=e,s=ut(e,qB);if(t){const{InputProps:D,readOnly:A,onClear:_,clearable:P,clearButtonPosition:M,openPickerButtonPosition:R,openPickerAriaLabel:N}=s,W=ut(s,YB),U=ja>=6&&W?.slotProps?.input?Sc(W?.slotProps?.input,D):Cm;return{clearable:P,onClear:_,clearButtonPosition:M,openPickerButtonPosition:R,openPickerAriaLabel:N,textFieldProps:$({},W,ja>=6&&W?.slotProps?.input?{slotProps:$({},W?.slotProps,{input:B=>$({},ci(U,B),{readOnly:A})})}:{InputProps:$({},D??{},{readOnly:A})})}}const{onPaste:a,onKeyDown:l,inputMode:u,readOnly:d,InputProps:f,inputProps:p,inputRef:g,onClear:y,clearable:v,clearButtonPosition:b,openPickerButtonPosition:S,openPickerAriaLabel:j}=s,T=ut(s,GB),w=ja>=6&&T?.slotProps?.input?Sc(T?.slotProps?.input,f):Cm,k=ja>=6&&T?.slotProps?.htmlInput?Sc(T?.slotProps?.htmlInput,p):Cm;return{clearable:v,onClear:y,clearButtonPosition:b,openPickerButtonPosition:S,openPickerAriaLabel:j,textFieldProps:$({},T,ja>=6&&(T?.slotProps?.input||T?.slotProps?.htmlInput)?{slotProps:$({},T?.slotProps,{input:D=>$({},ci(w,D),{readOnly:d}),htmlInput:D=>$({},ci(k,D),{inputMode:u,onPaste:a,onKeyDown:l,ref:g})})}:{InputProps:$({},f??{},{readOnly:d}),inputProps:$({},p??{},{inputMode:u,onPaste:a,onKeyDown:l,ref:g})})}},ex=x.createContext({slots:{},slotProps:{},inputRef:void 0});function ez(e){const{fieldResponse:t,defaultOpenPickerIcon:s}=e,a=La(),l=$y(),u=x.useContext(ex),{textFieldProps:d,onClear:f,clearable:p,openPickerAriaLabel:g,clearButtonPosition:y="end",openPickerButtonPosition:v="end"}=JB(t),b=Xy(d),S=Be(Z=>{Z.preventDefault(),l?.setOpen(J=>!J)}),j=l?l.triggerStatus:"hidden",T=p?y:null,w=j!=="hidden"?v:null,k=u.slots.textField??(t.enableAccessibleFieldDOMStructure===!1?pt:gD),D=u.slots.inputAdornment??Dc,A=Ot({elementType:D,externalSlotProps:u.slotProps.inputAdornment,additionalProps:{position:"start"},ownerState:$({},b,{position:"start"})}),_=ut(A,$B),P=Ot({elementType:D,externalSlotProps:u.slotProps.inputAdornment,additionalProps:{position:"end"},ownerState:$({},b,{position:"end"})}),M=ut(P,KB),R=u.slots.openPickerButton??Qe,N=Ot({elementType:R,externalSlotProps:u.slotProps.openPickerButton,additionalProps:{disabled:j==="disabled",onClick:S,"aria-label":g,edge:d.variant!=="standard"?w:!1},ownerState:b}),W=ut(N,QB),U=u.slots.openPickerIcon??s,B=Ot({elementType:U,externalSlotProps:u.slotProps.openPickerIcon,ownerState:b}),L=u.slots.clearButton??Qe,ce=Ot({elementType:L,externalSlotProps:u.slotProps.clearButton,className:"clearButton",additionalProps:{title:a.fieldClearLabel,tabIndex:-1,onClick:f,disabled:t.disabled||t.readOnly,edge:d.variant!=="standard"&&T!==w?T:!1},ownerState:b}),H=ut(ce,XB),Q=u.slots.clearIcon??rB,z=Ot({elementType:Q,externalSlotProps:u.slotProps.clearIcon,additionalProps:{fontSize:"small"},ownerState:b});d.ref=hs(d.ref,l?.rootRef);const q={},ae=ci((ja>=6&&d?.slotProps?.input)??d.InputProps,b);l&&(q.ref=l.triggerRef),!ae?.startAdornment&&(T==="start"||w==="start")&&(q.startAdornment=r.jsxs(D,$({},_,{children:[w==="start"&&r.jsx(R,$({},W,{children:r.jsx(U,$({},B))})),T==="start"&&r.jsx(L,$({},H,{children:r.jsx(Q,$({},z))}))]}))),!ae?.endAdornment&&(T==="end"||w==="end")&&(q.endAdornment=r.jsxs(D,$({},M,{children:[T==="end"&&r.jsx(L,$({},H,{children:r.jsx(Q,$({},z))})),w==="end"&&r.jsx(R,$({},W,{children:r.jsx(U,$({},B))}))]}))),!q?.endAdornment&&!q?.startAdornment&&u.slots.inputAdornment&&(q.endAdornment=r.jsx(D,$({},M))),T!=null&&(d.sx=[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(d.sx)?d.sx:[d.sx]]);const fe=ja>=6&&d?.slotProps?.input?ci(Sc(ae,q),b):$({},ae,q);return d.inputProps=ja>=6&&d?.slotProps?.htmlInput?ci(d.slotProps.htmlInput,b):d.inputProps,delete d?.slotProps?.input,t.enableAccessibleFieldDOMStructure&&delete d?.slotProps,r.jsx(k,$({},d,{InputProps:fe}))}function Sc(e,t){return e?t?s=>$({},ci(t,s),ci(e,s)):e:t}function tz(e){const{ref:t,externalForwardedProps:s,slotProps:a}=e,l=x.useContext(ex),u=$y(),d=Xy(s),{InputProps:f,inputProps:p}=s,g=ut(s,ZB),y=Ot({elementType:gD,externalSlotProps:Sc(l.slotProps.textField,a?.textField),externalForwardedProps:g,additionalProps:{ref:t,sx:u?.rootSx,label:u?.label,name:u?.name,className:u?.rootClassName,inputRef:l.inputRef},ownerState:d});return y.inputProps=$({},p,y.inputProps),y.InputProps=$({},f,y.InputProps),y}function nz(e){const{slots:t={},slotProps:s={},inputRef:a,children:l}=e,u=x.useMemo(()=>({inputRef:a,slots:{openPickerButton:t.openPickerButton,openPickerIcon:t.openPickerIcon,textField:t.textField,inputAdornment:t.inputAdornment,clearIcon:t.clearIcon,clearButton:t.clearButton},slotProps:{openPickerButton:s.openPickerButton,openPickerIcon:s.openPickerIcon,textField:s.textField,inputAdornment:s.inputAdornment,clearIcon:s.clearIcon,clearButton:s.clearButton}}),[a,t.openPickerButton,t.openPickerIcon,t.textField,t.inputAdornment,t.clearIcon,t.clearButton,s.openPickerButton,s.openPickerIcon,s.textField,s.inputAdornment,s.clearIcon,s.clearButton]);return r.jsx(ex.Provider,{value:u,children:l})}const sz=["slots","slotProps"],yD=x.forwardRef(function(t,s){const a=rn({props:t,name:"MuiDateField"}),{slots:l,slotProps:u}=a,d=ut(a,sz),f=tz({slotProps:u,ref:s,externalForwardedProps:d}),p=tB(f);return r.jsx(nz,{slots:l,slotProps:u,inputRef:d.inputRef,children:r.jsx(ez,{fieldResponse:p,defaultOpenPickerIcon:aB})})}),xD=({shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:s,minDate:a,maxDate:l,disableFuture:u,disablePast:d,timezone:f})=>{const p=Ft();return x.useCallback(g=>eu({adapter:p,value:g,timezone:f,props:{shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:s,minDate:a,maxDate:l,disableFuture:u,disablePast:d}})!==null,[p,e,t,s,a,l,u,d,f])},iz=(e,t)=>(s,a)=>{switch(a.type){case"setVisibleDate":return $({},s,{slideDirection:a.direction,currentMonth:a.month,isMonthSwitchingAnimating:!t.isSameMonth(a.month,s.currentMonth)&&!e&&!a.skipAnimation,focusedDay:a.focusedDay});case"changeMonthTimezone":{const l=a.newTimezone;if(t.getTimezone(s.currentMonth)===l)return s;let u=t.setTimezone(s.currentMonth,l);return t.getMonth(u)!==t.getMonth(s.currentMonth)&&(u=t.setMonth(u,t.getMonth(s.currentMonth))),$({},s,{currentMonth:u})}case"finishMonthSwitchingAnimation":return $({},s,{isMonthSwitchingAnimating:!1});default:throw new Error("missing support")}},az=e=>{const{value:t,referenceDate:s,disableFuture:a,disablePast:l,maxDate:u,minDate:d,onMonthChange:f,onYearChange:p,reduceAnimations:g,shouldDisableDate:y,timezone:v,getCurrentMonthFromVisibleDate:b}=e,S=Ft(),j=x.useRef(iz(!!g,S)).current,T=x.useMemo(()=>hi.getInitialReferenceValue({value:t,adapter:S,timezone:v,props:e,referenceDate:s,granularity:ri.day}),[s,v]),[w,k]=x.useReducer(j,{isMonthSwitchingAnimating:!1,focusedDay:T,currentMonth:S.startOfMonth(T),slideDirection:"left"}),D=xD({shouldDisableDate:y,minDate:d,maxDate:u,disableFuture:a,disablePast:l,timezone:v});x.useEffect(()=>{k({type:"changeMonthTimezone",newTimezone:S.getTimezone(T)})},[T,S]);const A=Be(({target:P,reason:M})=>{if(M==="cell-interaction"&&w.focusedDay!=null&&S.isSameDay(P,w.focusedDay))return;const R=M==="cell-interaction";let N,W;if(M==="cell-interaction")N=b(P,w.currentMonth),W=P;else if(N=S.isSameMonth(P,w.currentMonth)?w.currentMonth:S.startOfMonth(P),W=P,D(W)){const L=S.startOfMonth(P),ce=S.endOfMonth(P);W=Lc({adapter:S,date:W,minDate:S.isBefore(d,L)?L:d,maxDate:S.isAfter(u,ce)?ce:u,disablePast:l,disableFuture:a,isDateDisabled:D,timezone:v})}const U=!S.isSameMonth(w.currentMonth,N),B=!S.isSameYear(w.currentMonth,N);U&&f?.(N),B&&p?.(S.startOfYear(N)),k({type:"setVisibleDate",month:N,direction:S.isAfterDay(N,w.currentMonth)?"left":"right",focusedDay:w.focusedDay!=null&&W!=null&&S.isSameDay(W,w.focusedDay)?w.focusedDay:W,skipAnimation:R})}),_=x.useCallback(()=>{k({type:"finishMonthSwitchingAnimation"})},[]);return{referenceDate:T,calendarState:w,setVisibleDate:A,isDateDisabled:D,onMonthSwitchingAnimationEnd:_}},rz=e=>Pn("MuiPickersFadeTransitionGroup",e);On("MuiPickersFadeTransitionGroup",["root"]);const oz=["children"],lz=e=>hn({root:["root"]},rz,e),cz=$e(vC,{name:"MuiPickersFadeTransitionGroup",slot:"Root"})({display:"block",position:"relative"});function bD(e){const t=rn({props:e,name:"MuiPickersFadeTransitionGroup"}),{className:s,reduceAnimations:a,transKey:l,classes:u}=t,{children:d}=t,f=ut(t,oz),p=lz(u),g=Jo();return a?d:r.jsx(cz,{className:qn(p.root,s),ownerState:f,children:r.jsx(uf,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:g.transitions.duration.enteringScreen,enter:g.transitions.duration.enteringScreen,exit:0},children:d},l)})}function uz(e){return Pn("MuiPickersDay",e)}const or=On("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]);function vD(e){const{disabled:t,selected:s,today:a,outsideCurrentMonth:l,day:u,disableMargin:d,disableHighlightToday:f,showDaysOutsideCurrentMonth:p}=e,g=Ft(),{ownerState:y}=Yn();return x.useMemo(()=>$({},y,{day:u,isDaySelected:s??!1,isDayDisabled:t??!1,isDayCurrent:a??!1,isDayOutsideMonth:l??!1,isDayStartOfWeek:g.isSameDay(u,g.startOfWeek(u)),isDayEndOfWeek:g.isSameDay(u,g.endOfWeek(u)),disableMargin:d??!1,disableHighlightToday:f??!1,showDaysOutsideCurrentMonth:p??!1}),[g,y,u,s,t,a,l,d,f,p])}const dz=["autoFocus","className","classes","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","children","isFirstVisibleCell","isLastVisibleCell","day","selected","disabled","today","outsideCurrentMonth","disableMargin","disableHighlightToday","showDaysOutsideCurrentMonth"],fz=(e,t)=>{const{isDaySelected:s,isDayDisabled:a,isDayCurrent:l,isDayOutsideMonth:u,disableMargin:d,disableHighlightToday:f,showDaysOutsideCurrentMonth:p}=t,g=u&&!p;return hn({root:["root",s&&!g&&"selected",a&&"disabled",!d&&"dayWithMargin",!f&&l&&"today",u&&p&&"dayOutsideMonth",g&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},uz,e)},SD=({theme:e})=>$({},e.typography.caption,{width:Vc,height:Vc,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Yo(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:Yo(e.palette.primary.main,e.palette.action.focusOpacity),[`&.${or.selected}`]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${or.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${or.disabled}:not(.${or.selected})`]:{color:(e.vars||e).palette.text.disabled},[`&.${or.disabled}&.${or.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${Ef}px`}},{props:{isDayOutsideMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(e.vars||e).palette.text.secondary}},{props:{disableHighlightToday:!1,isDayCurrent:!0},style:{[`&:not(.${or.selected})`]:{border:`1px solid ${(e.vars||e).palette.text.secondary}`}}}]}),wD=(e,t)=>{const{ownerState:s}=e;return[t.root,!s.disableMargin&&t.dayWithMargin,!s.disableHighlightToday&&s.isDayCurrent&&t.today,!s.isDayOutsideMonth&&s.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,s.isDayOutsideMonth&&!s.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},hz=$e(E2,{name:"MuiPickersDay",slot:"Root",overridesResolver:wD})(SD),pz=$e("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:wD})(({theme:e})=>$({},SD({theme:e}),{opacity:0,pointerEvents:"none"})),ac=()=>{},mz=x.forwardRef(function(t,s){const a=rn({props:t,name:"MuiPickersDay"}),{autoFocus:l=!1,className:u,classes:d,isAnimating:f,onClick:p,onDaySelect:g,onFocus:y=ac,onBlur:v=ac,onKeyDown:b=ac,onMouseDown:S=ac,onMouseEnter:j=ac,children:T,day:w,selected:k,disabled:D,today:A,outsideCurrentMonth:_,disableMargin:P,disableHighlightToday:M,showDaysOutsideCurrentMonth:R}=a,N=ut(a,dz),W=vD({day:w,selected:k,disabled:D,today:A,outsideCurrentMonth:_,disableMargin:P,disableHighlightToday:M,showDaysOutsideCurrentMonth:R}),U=fz(d,W),B=Ft(),L=x.useRef(null),ce=hs(L,s);qi(()=>{l&&!D&&!f&&!_&&L.current.focus()},[l,D,f,_]);const H=z=>{S(z),_&&z.preventDefault()},Q=z=>{z.defaultMuiPrevented=!0,D||g(w),_&&z.currentTarget.focus(),p&&p(z)};return _&&!R?r.jsx(pz,{className:qn(U.root,U.hiddenDaySpacingFiller,u),ownerState:W,role:N.role}):r.jsx(hz,$({className:qn(U.root,u),ref:ce,centerRipple:!0,disabled:D,tabIndex:k?0:-1,onKeyDown:z=>b(z,w),onFocus:z=>y(z,w),onBlur:z=>v(z,w),onMouseEnter:z=>j(z,w),onClick:Q,onMouseDown:H},N,{ownerState:W,children:T??B.format(w,"dayOfMonth")}))}),gz=x.memo(mz),yz=e=>Pn("MuiPickersSlideTransition",e),Ls=On("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),xz=["children","className","reduceAnimations","slideDirection","transKey","classes"],bz=(e,t)=>{const{slideDirection:s}=t,a={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${s}`],exitActive:[`slideExitActiveLeft-${s}`]};return hn(a,yz,e)},vz=$e(vC,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`.${Ls["slideEnter-left"]}`]:t["slideEnter-left"]},{[`.${Ls["slideEnter-right"]}`]:t["slideEnter-right"]},{[`.${Ls.slideEnterActive}`]:t.slideEnterActive},{[`.${Ls.slideExit}`]:t.slideExit},{[`.${Ls["slideExitActiveLeft-left"]}`]:t["slideExitActiveLeft-left"]},{[`.${Ls["slideExitActiveLeft-right"]}`]:t["slideExitActiveLeft-right"]}]})(({theme:e})=>{const t=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Ls["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Ls["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Ls.slideEnterActive}`]:{transform:"translate(0%)",transition:t},[`& .${Ls.slideExit}`]:{transform:"translate(0%)"},[`& .${Ls["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:t,zIndex:0},[`& .${Ls["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:t,zIndex:0}}});function Sz(e){const t=rn({props:e,name:"MuiPickersSlideTransition"}),{children:s,className:a,reduceAnimations:l,slideDirection:u,transKey:d,classes:f}=t,p=ut(t,xz),{ownerState:g}=Yn(),y=$({},g,{slideDirection:u}),v=bz(f,y),b=Jo();if(l)return r.jsx("div",{className:qn(v.root,a),children:s});const S={exit:v.exit,enterActive:v.enterActive,enter:v.enter,exitActive:v.exitActive};return r.jsx(vz,{className:qn(v.root,a),childFactory:j=>x.cloneElement(j,{classNames:S}),role:"presentation",ownerState:y,children:r.jsx(M2,$({mountOnEnter:!0,unmountOnExit:!0,timeout:b.transitions.duration.complex,classNames:S},p,{children:s}),d)})}const wz=e=>Pn("MuiDayCalendar",e);On("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const Cz=["parentProps","day","focusedDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],kz=["ownerState"],Tz=e=>hn({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},wz,e),CD=(Vc+Ef*2)*6,jz=$e("div",{name:"MuiDayCalendar",slot:"Root"})({}),Dz=$e("div",{name:"MuiDayCalendar",slot:"Header"})({display:"flex",justifyContent:"center",alignItems:"center"}),Ez=$e(I,{name:"MuiDayCalendar",slot:"WeekDayLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),Mz=$e(I,{name:"MuiDayCalendar",slot:"WeekNumberLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.disabled})),Az=$e(I,{name:"MuiDayCalendar",slot:"WeekNumber"})(({theme:e})=>$({},e.typography.caption,{width:Vc,height:Vc,padding:0,margin:`0 ${Ef}px`,color:(e.vars||e).palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),Pz=$e("div",{name:"MuiDayCalendar",slot:"LoadingContainer"})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:CD}),Oz=$e(Sz,{name:"MuiDayCalendar",slot:"SlideTransition"})({minHeight:CD}),Rz=$e("div",{name:"MuiDayCalendar",slot:"MonthContainer"})({overflow:"hidden"}),_z=$e("div",{name:"MuiDayCalendar",slot:"WeekContainer"})({margin:`${Ef}px 0`,display:"flex",justifyContent:"center"});function Iz(e){let{parentProps:t,day:s,focusedDay:a,selectedDays:l,isDateDisabled:u,currentMonthNumber:d,isViewFocused:f}=e,p=ut(e,Cz);const{disabled:g,disableHighlightToday:y,isMonthSwitchingAnimating:v,showDaysOutsideCurrentMonth:b,slots:S,slotProps:j,timezone:T}=t,w=Ft(),k=Df(T),D=a!=null&&w.isSameDay(s,a),A=f&&D,_=l.some(H=>w.isSameDay(H,s)),P=w.isSameDay(s,k),M=x.useMemo(()=>g||u(s),[g,u,s]),R=x.useMemo(()=>w.getMonth(s)!==d,[w,s,d]),N=vD({day:s,selected:_,disabled:M,today:P,outsideCurrentMonth:R,disableMargin:void 0,disableHighlightToday:y,showDaysOutsideCurrentMonth:b}),W=S?.day??gz,U=Ot({elementType:W,externalSlotProps:j?.day,additionalProps:$({disableHighlightToday:y,showDaysOutsideCurrentMonth:b,role:"gridcell",isAnimating:v,"data-timestamp":w.toJsDate(s).valueOf()},p),ownerState:$({},N,{day:s,isDayDisabled:M,isDaySelected:_})}),B=ut(U,kz),L=x.useMemo(()=>{const H=w.startOfMonth(w.setMonth(s,d));return b?w.isSameDay(s,w.startOfWeek(H)):w.isSameDay(s,H)},[d,s,b,w]),ce=x.useMemo(()=>{const H=w.endOfMonth(w.setMonth(s,d));return b?w.isSameDay(s,w.endOfWeek(H)):w.isSameDay(s,H)},[d,s,b,w]);return r.jsx(W,$({},B,{day:s,disabled:M,autoFocus:!R&&A,today:P,outsideCurrentMonth:R,isFirstVisibleCell:L,isLastVisibleCell:ce,selected:_,tabIndex:D?0:-1,"aria-selected":_,"aria-current":P?"date":void 0}))}function Wz(e){const t=rn({props:e,name:"MuiDayCalendar"}),s=Ft(),{onFocusedDayChange:a,className:l,classes:u,currentMonth:d,selectedDays:f,focusedDay:p,loading:g,onSelectedDaysChange:y,onMonthSwitchingAnimationEnd:v,readOnly:b,reduceAnimations:S,renderLoading:j=()=>r.jsx("span",{children:"..."}),slideDirection:T,TransitionProps:w,disablePast:k,disableFuture:D,minDate:A,maxDate:_,shouldDisableDate:P,shouldDisableMonth:M,shouldDisableYear:R,dayOfWeekFormatter:N=ve=>s.format(ve,"weekdayShort").charAt(0).toUpperCase(),hasFocus:W,onFocusedViewChange:U,gridLabelId:B,displayWeekNumber:L,fixedWeekNumber:ce,timezone:H}=t,Q=Df(H),z=Tz(u),q=Qi(),ae=xD({shouldDisableDate:P,shouldDisableMonth:M,shouldDisableYear:R,minDate:A,maxDate:_,disablePast:k,disableFuture:D,timezone:H}),fe=La(),Z=Be(ve=>{b||y(ve)}),J=ve=>{ae(ve)||(a(ve),U?.(!0))},X=Be((ve,Oe)=>{switch(ve.key){case"ArrowUp":J(s.addDays(Oe,-7)),ve.preventDefault();break;case"ArrowDown":J(s.addDays(Oe,7)),ve.preventDefault();break;case"ArrowLeft":{const He=s.addDays(Oe,q?1:-1),Se=s.addMonths(Oe,q?1:-1),Ue=Lc({adapter:s,date:He,minDate:q?He:s.startOfMonth(Se),maxDate:q?s.endOfMonth(Se):He,isDateDisabled:ae,timezone:H});J(Ue||He),ve.preventDefault();break}case"ArrowRight":{const He=s.addDays(Oe,q?-1:1),Se=s.addMonths(Oe,q?-1:1),Ue=Lc({adapter:s,date:He,minDate:q?s.startOfMonth(Se):He,maxDate:q?He:s.endOfMonth(Se),isDateDisabled:ae,timezone:H});J(Ue||He),ve.preventDefault();break}case"Home":J(s.startOfWeek(Oe)),ve.preventDefault();break;case"End":J(s.endOfWeek(Oe)),ve.preventDefault();break;case"PageUp":J(s.addMonths(Oe,1)),ve.preventDefault();break;case"PageDown":J(s.addMonths(Oe,-1)),ve.preventDefault();break}}),ie=Be((ve,Oe)=>J(Oe)),oe=Be((ve,Oe)=>{p!=null&&s.isSameDay(p,Oe)&&U?.(!1)}),Me=s.getMonth(d),De=s.getYear(d),Ne=x.useMemo(()=>f.filter(ve=>!!ve).map(ve=>s.startOfDay(ve)),[s,f]),ue=`${De}-${Me}`,we=x.useMemo(()=>x.createRef(),[ue]),be=x.useMemo(()=>{const ve=s.getWeekArray(d);let Oe=s.addMonths(d,1);for(;ce&&ve.length<ce;){const He=s.getWeekArray(Oe),Se=s.isSameDay(ve[ve.length-1][0],He[0][0]);He.slice(Se?1:0).forEach(Ue=>{ve.length<ce&&ve.push(Ue)}),Oe=s.addMonths(Oe,1)}return ve},[d,ce,s]);return r.jsxs(jz,{role:"grid","aria-labelledby":B,className:z.root,children:[r.jsxs(Dz,{role:"row",className:z.header,children:[L&&r.jsx(Mz,{variant:"caption",role:"columnheader","aria-label":fe.calendarWeekNumberHeaderLabel,className:z.weekNumberLabel,children:fe.calendarWeekNumberHeaderText}),fV(s,Q).map((ve,Oe)=>r.jsx(Ez,{variant:"caption",role:"columnheader","aria-label":s.format(ve,"weekday"),className:z.weekDayLabel,children:N(ve)},Oe.toString()))]}),g?r.jsx(Pz,{className:z.loadingContainer,children:j()}):r.jsx(Oz,$({transKey:ue,onExited:v,reduceAnimations:S,slideDirection:T,className:qn(l,z.slideTransition)},w,{nodeRef:we,children:r.jsx(Rz,{ref:we,role:"rowgroup",className:z.monthContainer,children:be.map((ve,Oe)=>r.jsxs(_z,{role:"row",className:z.weekContainer,"aria-rowindex":Oe+1,children:[L&&r.jsx(Az,{className:z.weekNumber,role:"rowheader","aria-label":fe.calendarWeekNumberAriaLabelText(s.getWeekNumber(ve[0])),children:fe.calendarWeekNumberText(s.getWeekNumber(ve[0]))}),ve.map((He,Se)=>r.jsx(Iz,{parentProps:t,day:He,selectedDays:Ne,isViewFocused:W,focusedDay:p,onKeyDown:X,onFocus:ie,onBlur:oe,onDaySelect:Z,isDateDisabled:ae,currentMonthNumber:Me,"aria-colindex":Se+1},He.toString()))]},`week-${ve[0]}`))})}))]})}function kD(e){return Pn("MuiMonthCalendar",e)}const kd=On("MuiMonthCalendar",["root","button","disabled","selected"]),Nz=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],Lz=(e,t)=>{const s={button:["button",t.isMonthDisabled&&"disabled",t.isMonthSelected&&"selected"]};return hn(s,kD,e)},Vz=$e("button",{name:"MuiMonthCalendar",slot:"Button",overridesResolver:(e,t)=>[t.button,{[`&.${kd.disabled}`]:t.disabled},{[`&.${kd.selected}`]:t.selected}]})(({theme:e})=>$({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Yo(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Yo(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${kd.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${kd.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),Bz=x.memo(function(t){const{autoFocus:s,classes:a,disabled:l,selected:u,value:d,onClick:f,onKeyDown:p,onFocus:g,onBlur:y,slots:v,slotProps:b}=t,S=ut(t,Nz),j=x.useRef(null),{ownerState:T}=Yn(),w=$({},T,{isMonthDisabled:l,isMonthSelected:u}),k=Lz(a,w);qi(()=>{s&&j.current?.focus()},[s]);const D=v?.monthButton??Vz,A=Ot({elementType:D,externalSlotProps:b?.monthButton,externalForwardedProps:S,additionalProps:{disabled:l,ref:j,type:"button",role:"radio","aria-checked":u,onClick:_=>f(_,d),onKeyDown:_=>p(_,d),onFocus:_=>g(_,d),onBlur:_=>y(_,d)},ownerState:w,className:k.button});return r.jsx(D,$({},A))}),zz=["autoFocus","className","currentMonth","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],Fz=e=>hn({root:["root"]},kD,e);function Hz(e,t){const s=rn({props:e,name:t}),a=tu(s);return $({},s,a,{monthsPerRow:s.monthsPerRow??3})}const j1=(e,t,s,a,l)=>!!(e===t&&a&&l.isSameYear(s,a)),Uz=$e("div",{name:"MuiMonthCalendar",slot:"Root",shouldForwardProp:e=>Mr(e)&&e!=="monthsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:16,padding:"8px 0",width:Mf,boxSizing:"border-box",variants:[{props:{monthsPerRow:3},style:{columnGap:24}},{props:{monthsPerRow:4},style:{columnGap:0}}]}),qz=x.forwardRef(function(t,s){const a=Hz(t,"MuiMonthCalendar"),{autoFocus:l,className:u,currentMonth:d,classes:f,value:p,defaultValue:g,referenceDate:y,disabled:v,disableFuture:b,disablePast:S,maxDate:j,minDate:T,onChange:w,shouldDisableMonth:k,readOnly:D,onMonthFocus:A,hasFocus:_,onFocusedViewChange:P,monthsPerRow:M,timezone:R,gridLabelId:N,slots:W,slotProps:U}=a,B=ut(a,zz),{value:L,handleValueChange:ce,timezone:H}=nu({name:"MonthCalendar",timezone:R,value:p,defaultValue:g,referenceDate:y,onChange:w,valueManager:hi}),Q=Df(H),z=Qi(),q=Ft(),{ownerState:ae}=Yn(),fe=x.useMemo(()=>hi.getInitialReferenceValue({value:L,adapter:q,props:a,timezone:H,referenceDate:y,granularity:ri.month}),[]),Z=Fz(f),J=x.useMemo(()=>q.getMonth(Q),[q,Q]),X=x.useMemo(()=>L!=null?q.getMonth(L):null,[L,q]),[ie,oe]=x.useState(()=>X||q.getMonth(fe)),[Me,De]=qo({name:"MonthCalendar",state:"hasFocus",controlled:_,default:l??!1}),Ne=Be(Se=>{De(Se),P&&P(Se)}),ue=x.useCallback(Se=>{const Ue=q.startOfMonth(S&&q.isAfter(Q,T)?Q:T),le=q.startOfMonth(b&&q.isBefore(Q,j)?Q:j),ne=q.startOfMonth(Se);return q.isBefore(ne,Ue)||q.isAfter(ne,le)?!0:k?k(ne):!1},[b,S,j,T,Q,k,q]),we=Be((Se,Ue)=>{if(D)return;const le=L&&d&&!q.isSameYear(L,d)?q.setYear(L,q.getYear(d)):L,ne=q.setMonth(le??fe,Ue);ce(ne)}),be=Be(Se=>{ue(q.setMonth(L??d??fe,Se))||(oe(Se),Ne(!0),A&&A(Se))});x.useEffect(()=>{oe(Se=>X!==null&&Se!==X?X:Se)},[X]);const ve=Be((Se,Ue)=>{switch(Se.key){case"ArrowUp":be((12+Ue-3)%12),Se.preventDefault();break;case"ArrowDown":be((12+Ue+3)%12),Se.preventDefault();break;case"ArrowLeft":be((12+Ue+(z?1:-1))%12),Se.preventDefault();break;case"ArrowRight":be((12+Ue+(z?-1:1))%12),Se.preventDefault();break}}),Oe=Be((Se,Ue)=>{be(Ue)}),He=Be((Se,Ue)=>{ie===Ue&&Ne(!1)});return r.jsx(Uz,$({ref:s,className:qn(Z.root,u),ownerState:ae,role:"radiogroup","aria-labelledby":N,monthsPerRow:M},B,{children:zy(q,d??L??fe).map(Se=>{const Ue=q.getMonth(Se),le=q.format(Se,"monthShort"),ne=q.format(Se,"month"),Le=j1(Ue,X,Se,L,q),Ee=v||ue(Se);return r.jsx(Bz,{selected:Le,value:Ue,onClick:we,onKeyDown:ve,autoFocus:Me&&Ue===ie,disabled:Ee,tabIndex:Ue===ie&&!Ee?0:-1,onFocus:Oe,onBlur:He,"aria-current":j1(Ue,J,Se,Q,q)?"date":void 0,"aria-label":ne,slots:W,slotProps:U,classes:f,children:le},le)})}))});function TD(e){return Pn("MuiYearCalendar",e)}const Td=On("MuiYearCalendar",["root","button","disabled","selected"]),Yz=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],Gz=(e,t)=>{const s={button:["button",t.isYearDisabled&&"disabled",t.isYearSelected&&"selected"]};return hn(s,TD,e)},$z=$e("button",{name:"MuiYearCalendar",slot:"Button",overridesResolver:(e,t)=>[t.button,{[`&.${Td.disabled}`]:t.disabled},{[`&.${Td.selected}`]:t.selected}]})(({theme:e})=>$({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.focusOpacity})`:Yo(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Yo(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Td.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${Td.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),Kz=x.memo(function(t){const{autoFocus:s,classes:a,disabled:l,selected:u,value:d,onClick:f,onKeyDown:p,onFocus:g,onBlur:y,slots:v,slotProps:b}=t,S=ut(t,Yz),j=x.useRef(null),{ownerState:T}=Yn(),w=$({},T,{isYearDisabled:l,isYearSelected:u}),k=Gz(a,w);qi(()=>{s&&j.current?.focus()},[s]);const D=v?.yearButton??$z,A=Ot({elementType:D,externalSlotProps:b?.yearButton,externalForwardedProps:S,additionalProps:{disabled:l,ref:j,type:"button",role:"radio","aria-checked":u,onClick:_=>f(_,d),onKeyDown:_=>p(_,d),onFocus:_=>g(_,d),onBlur:_=>y(_,d)},ownerState:w,className:k.button});return r.jsx(D,$({},A))}),Qz=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsOrder","yearsPerRow","timezone","gridLabelId","slots","slotProps"],Xz=e=>hn({root:["root"]},TD,e);function Zz(e,t){const s=rn({props:e,name:t}),a=tu(s);return $({},s,a,{yearsPerRow:s.yearsPerRow??3,yearsOrder:s.yearsOrder??"asc"})}const Jz=$e("div",{name:"MuiYearCalendar",slot:"Root",shouldForwardProp:e=>Mr(e)&&e!=="yearsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:12,padding:"6px 0",overflowY:"auto",height:"100%",width:Mf,maxHeight:D6,boxSizing:"border-box",position:"relative",variants:[{props:{yearsPerRow:3},style:{columnGap:24}},{props:{yearsPerRow:4},style:{columnGap:0,padding:"0 2px"}}]}),eF=$e("div",{name:"MuiYearCalendar",slot:"ButtonFiller"})({height:36,width:72}),tF=x.forwardRef(function(t,s){const a=Zz(t,"MuiYearCalendar"),{autoFocus:l,className:u,classes:d,value:f,defaultValue:p,referenceDate:g,disabled:y,disableFuture:v,disablePast:b,maxDate:S,minDate:j,onChange:T,readOnly:w,shouldDisableYear:k,onYearFocus:D,hasFocus:A,onFocusedViewChange:_,yearsOrder:P,yearsPerRow:M,timezone:R,gridLabelId:N,slots:W,slotProps:U}=a,B=ut(a,Qz),{value:L,handleValueChange:ce,timezone:H}=nu({name:"YearCalendar",timezone:R,value:f,defaultValue:p,referenceDate:g,onChange:T,valueManager:hi}),Q=Df(H),z=Qi(),q=Ft(),{ownerState:ae}=Yn(),fe=x.useMemo(()=>hi.getInitialReferenceValue({value:L,adapter:q,props:a,timezone:H,referenceDate:g,granularity:ri.year}),[]),Z=Xz(d),J=x.useMemo(()=>q.getYear(Q),[q,Q]),X=x.useMemo(()=>L!=null?q.getYear(L):null,[L,q]),[ie,oe]=x.useState(()=>X||q.getYear(fe)),[Me,De]=qo({name:"YearCalendar",state:"hasFocus",controlled:A,default:l??!1}),Ne=Be(ge=>{De(ge),_&&_(ge)}),ue=x.useCallback(ge=>{if(b&&q.isBeforeYear(ge,Q)||v&&q.isAfterYear(ge,Q)||j&&q.isBeforeYear(ge,j)||S&&q.isAfterYear(ge,S))return!0;if(!k)return!1;const _e=q.startOfYear(ge);return k(_e)},[v,b,S,j,Q,k,q]),we=Be((ge,_e)=>{if(w)return;const G=q.setYear(L??fe,_e);ce(G)}),be=Be(ge=>{ue(q.setYear(L??fe,ge))||(oe(ge),Ne(!0),D?.(ge))});x.useEffect(()=>{oe(ge=>X!==null&&ge!==X?X:ge)},[X]);const ve=P!=="desc"?M*1:M*-1,Oe=z&&P==="asc"||!z&&P==="desc"?-1:1,He=Be((ge,_e)=>{switch(ge.key){case"ArrowUp":be(_e-ve),ge.preventDefault();break;case"ArrowDown":be(_e+ve),ge.preventDefault();break;case"ArrowLeft":be(_e-Oe),ge.preventDefault();break;case"ArrowRight":be(_e+Oe),ge.preventDefault();break}}),Se=Be((ge,_e)=>{be(_e)}),Ue=Be((ge,_e)=>{ie===_e&&Ne(!1)}),le=x.useRef(null),ne=hs(s,le);x.useEffect(()=>{if(l||le.current===null)return;const ge=le.current.querySelector('[tabindex="0"]');if(!ge)return;const _e=ge.offsetHeight,G=ge.offsetTop,ye=le.current.clientHeight,ke=le.current.scrollTop,Ce=G+_e;_e>ye||G<ke||(le.current.scrollTop=Ce-ye/2-_e/2)},[l]);const Le=q.getYearRange([j,S]);P==="desc"&&Le.reverse();let Ee=M-Le.length%M;return Ee===M&&(Ee=0),r.jsxs(Jz,$({ref:ne,className:qn(Z.root,u),ownerState:ae,role:"radiogroup","aria-labelledby":N,yearsPerRow:M},B,{children:[Le.map(ge=>{const _e=q.getYear(ge),G=_e===X,ye=y||ue(ge);return r.jsx(Kz,{selected:G,value:_e,onClick:we,onKeyDown:He,autoFocus:Me&&_e===ie,disabled:ye,tabIndex:_e===ie&&!ye?0:-1,onFocus:Se,onBlur:Ue,"aria-current":J===_e?"date":void 0,slots:W,slotProps:U,classes:d,children:q.format(ge,"year")},q.format(ge,"year"))}),Array.from({length:Ee},(ge,_e)=>r.jsx(eF,{},_e))]}))}),nF=e=>Pn("MuiPickersCalendarHeader",e),sF=On("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]);function iF(e){return Pn("MuiPickersArrowSwitcher",e)}On("MuiPickersArrowSwitcher",["root","spacer","button","previousIconButton","nextIconButton","leftArrowIcon","rightArrowIcon"]);const aF=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId","classes"],rF=["ownerState"],oF=["ownerState"],lF=$e("div",{name:"MuiPickersArrowSwitcher",slot:"Root"})({display:"flex"}),cF=$e("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer"})(({theme:e})=>({width:e.spacing(3)})),D1=$e(Qe,{name:"MuiPickersArrowSwitcher",slot:"Button"})({variants:[{props:{isButtonHidden:!0},style:{visibility:"hidden"}}]}),uF=e=>hn({root:["root"],spacer:["spacer"],button:["button"],previousIconButton:["previousIconButton"],nextIconButton:["nextIconButton"],leftArrowIcon:["leftArrowIcon"],rightArrowIcon:["rightArrowIcon"]},iF,e),dF=x.forwardRef(function(t,s){const a=Qi(),l=rn({props:t,name:"MuiPickersArrowSwitcher"}),{children:u,className:d,slots:f,slotProps:p,isNextDisabled:g,isNextHidden:y,onGoToNext:v,nextLabel:b,isPreviousDisabled:S,isPreviousHidden:j,onGoToPrevious:T,previousLabel:w,labelId:k,classes:D}=l,A=ut(l,aF),{ownerState:_}=Yn(),P=uF(D),M={isDisabled:g,isHidden:y,goTo:v,label:b},R={isDisabled:S,isHidden:j,goTo:T,label:w},N=f?.previousIconButton??D1,W=Ot({elementType:N,externalSlotProps:p?.previousIconButton,additionalProps:{size:"medium",title:R.label,"aria-label":R.label,disabled:R.isDisabled,edge:"end",onClick:R.goTo},ownerState:$({},_,{isButtonHidden:R.isHidden??!1}),className:qn(P.button,P.previousIconButton)}),U=f?.nextIconButton??D1,B=Ot({elementType:U,externalSlotProps:p?.nextIconButton,additionalProps:{size:"medium",title:M.label,"aria-label":M.label,disabled:M.isDisabled,edge:"start",onClick:M.goTo},ownerState:$({},_,{isButtonHidden:M.isHidden??!1}),className:qn(P.button,P.nextIconButton)}),L=f?.leftArrowIcon??sB,ce=Ot({elementType:L,externalSlotProps:p?.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:_,className:P.leftArrowIcon}),H=ut(ce,rF),Q=f?.rightArrowIcon??iB,z=Ot({elementType:Q,externalSlotProps:p?.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:_,className:P.rightArrowIcon}),q=ut(z,oF);return r.jsxs(lF,$({ref:s,className:qn(P.root,d),ownerState:_},A,{children:[r.jsx(N,$({},W,{children:a?r.jsx(Q,$({},q)):r.jsx(L,$({},H))})),u?r.jsx(I,{variant:"subtitle1",component:"span",id:k,children:u}):r.jsx(cF,{className:P.spacer,ownerState:_}),r.jsx(U,$({},B,{children:a?r.jsx(L,$({},H)):r.jsx(Q,$({},q))}))]}))});function fF(e,{disableFuture:t,maxDate:s,timezone:a}){const l=Ft();return x.useMemo(()=>{const u=l.date(void 0,a),d=l.startOfMonth(t&&l.isBefore(u,s)?u:s);return!l.isAfter(d,e)},[t,s,e,l,a])}function hF(e,{disablePast:t,minDate:s,timezone:a}){const l=Ft();return x.useMemo(()=>{const u=l.date(void 0,a),d=l.startOfMonth(t&&l.isAfter(u,s)?u:s);return!l.isBefore(d,e)},[t,s,e,l,a])}const pF=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","classes","timezone","format"],mF=["ownerState"],gF=e=>hn({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},nF,e),yF=$e("div",{name:"MuiPickersCalendarHeader",slot:"Root"})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),xF=$e("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer"})(({theme:e})=>$({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),bF=$e("div",{name:"MuiPickersCalendarHeader",slot:"Label"})({marginRight:6}),vF=$e(Qe,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton"})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${sF.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),SF=$e(nB,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon"})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"})),wF=x.forwardRef(function(t,s){const a=La(),l=Ft(),u=rn({props:t,name:"MuiPickersCalendarHeader"}),{slots:d,slotProps:f,currentMonth:p,disabled:g,disableFuture:y,disablePast:v,maxDate:b,minDate:S,onMonthChange:j,onViewChange:T,view:w,reduceAnimations:k,views:D,labelId:A,className:_,classes:P,timezone:M,format:R=`${l.formats.month} ${l.formats.year}`}=u,N=ut(u,pF),{ownerState:W}=Yn(),U=gF(P),B=d?.switchViewButton??vF,L=Ot({elementType:B,externalSlotProps:f?.switchViewButton,additionalProps:{size:"small","aria-label":a.calendarViewSwitchingButtonAriaLabel(w)},ownerState:$({},W,{view:w}),className:U.switchViewButton}),ce=d?.switchViewIcon??SF,H=Ot({elementType:ce,externalSlotProps:f?.switchViewIcon,ownerState:W,className:U.switchViewIcon}),Q=ut(H,mF),z=()=>j(l.addMonths(p,1)),q=()=>j(l.addMonths(p,-1)),ae=fF(p,{disableFuture:y,maxDate:b,timezone:M}),fe=hF(p,{disablePast:v,minDate:S,timezone:M}),Z=()=>{if(!(D.length===1||!T||g))if(D.length===2)T(D.find(X=>X!==w)||D[0]);else{const X=D.indexOf(w)!==0?0:1;T(D[X])}};if(D.length===1&&D[0]==="year")return null;const J=l.formatByString(p,R);return r.jsxs(yF,$({},N,{ownerState:W,className:qn(U.root,_),ref:s,children:[r.jsxs(xF,{role:"presentation",onClick:Z,ownerState:W,"aria-live":"polite",className:U.labelContainer,children:[r.jsx(bD,{reduceAnimations:k,transKey:J,children:r.jsx(bF,{id:A,ownerState:W,className:U.label,children:J})}),D.length>1&&!g&&r.jsx(B,$({},L,{children:r.jsx(ce,$({},Q))}))]}),r.jsx(uf,{in:w==="day",appear:!k,enter:!k,children:r.jsx(dF,{slots:d,slotProps:f,onGoToPrevious:q,isPreviousDisabled:fe,previousLabel:a.previousMonth,onGoToNext:z,isNextDisabled:ae,nextLabel:a.nextMonth})})]}))}),CF=$e("div")({overflow:"hidden",width:Mf,maxHeight:Ky,display:"flex",flexDirection:"column",margin:"0 auto"}),kF=e=>Pn("MuiDateCalendar",e);On("MuiDateCalendar",["root","viewTransitionContainer"]);const TF=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","classes","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsOrder","yearsPerRow","monthsPerRow","timezone"],jF=e=>hn({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},kF,e);function DF(e,t){const s=rn({props:e,name:t}),a=Xj(s.reduceAnimations),l=tu(s);return $({},s,l,{loading:s.loading??!1,openTo:s.openTo??"day",views:s.views??["year","day"],reduceAnimations:a,renderLoading:s.renderLoading??(()=>r.jsx("span",{children:"..."}))})}const EF=$e(CF,{name:"MuiDateCalendar",slot:"Root"})({display:"flex",flexDirection:"column",height:Ky}),MF=$e(bD,{name:"MuiDateCalendar",slot:"ViewTransitionContainer"})({}),AF=x.forwardRef(function(t,s){const a=Ft(),{ownerState:l}=Yn(),u=Pg(),d=DF(t,"MuiDateCalendar"),{autoFocus:f,onViewChange:p,value:g,defaultValue:y,referenceDate:v,disableFuture:b,disablePast:S,onChange:j,onMonthChange:T,reduceAnimations:w,shouldDisableDate:k,shouldDisableMonth:D,shouldDisableYear:A,view:_,views:P,openTo:M,className:R,classes:N,disabled:W,readOnly:U,minDate:B,maxDate:L,disableHighlightToday:ce,focusedView:H,onFocusedViewChange:Q,showDaysOutsideCurrentMonth:z,fixedWeekNumber:q,dayOfWeekFormatter:ae,slots:fe,slotProps:Z,loading:J,renderLoading:X,displayWeekNumber:ie,yearsOrder:oe,yearsPerRow:Me,monthsPerRow:De,timezone:Ne}=d,ue=ut(d,TF),{value:we,handleValueChange:be,timezone:ve}=nu({name:"DateCalendar",timezone:Ne,value:g,defaultValue:y,referenceDate:v,onChange:j,valueManager:hi}),{view:Oe,setView:He,focusedView:Se,setFocusedView:Ue,goToNextView:le,setValueAndGoToNextView:ne}=Jj({view:_,views:P,openTo:M,onChange:be,onViewChange:p,autoFocus:f,focusedView:H,onFocusedViewChange:Q}),{referenceDate:Le,calendarState:Ee,setVisibleDate:ge,isDateDisabled:_e,onMonthSwitchingAnimationEnd:G}=az({value:we,referenceDate:v,reduceAnimations:w,onMonthChange:T,minDate:B,maxDate:L,shouldDisableDate:k,disablePast:S,disableFuture:b,timezone:ve,getCurrentMonthFromVisibleDate:(nt,wt)=>a.isSameMonth(nt,wt)?wt:a.startOfMonth(nt)}),ye=W&&we||B,ke=W&&we||L,Ce=`${u}-grid-label`,We=Se!==null,ze=fe?.calendarHeader??wF,dt=Ot({elementType:ze,externalSlotProps:Z?.calendarHeader,additionalProps:{views:P,view:Oe,currentMonth:Ee.currentMonth,onViewChange:He,onMonthChange:nt=>ge({target:nt,reason:"header-navigation"}),minDate:ye,maxDate:ke,disabled:W,disablePast:S,disableFuture:b,reduceAnimations:w,timezone:ve,labelId:Ce},ownerState:l}),qe=Be(nt=>{const wt=a.startOfMonth(nt),Ht=a.endOfMonth(nt),on=_e(nt)?Lc({adapter:a,date:nt,minDate:a.isBefore(B,wt)?wt:B,maxDate:a.isAfter(L,Ht)?Ht:L,disablePast:S,disableFuture:b,isDateDisabled:_e,timezone:ve}):nt;on?(ne(on,"finish"),ge({target:on,reason:"cell-interaction"})):(le(),ge({target:wt,reason:"cell-interaction"}))}),Xe=Be(nt=>{const wt=a.startOfYear(nt),Ht=a.endOfYear(nt),on=_e(nt)?Lc({adapter:a,date:nt,minDate:a.isBefore(B,wt)?wt:B,maxDate:a.isAfter(L,Ht)?Ht:L,disablePast:S,disableFuture:b,isDateDisabled:_e,timezone:ve}):nt;on?(ne(on,"finish"),ge({target:on,reason:"cell-interaction"})):(le(),ge({target:wt,reason:"cell-interaction"}))}),xe=Be(nt=>be(nt&&sf(a,nt,we??Le),"finish",Oe));x.useEffect(()=>{a.isValid(we)&&ge({target:we,reason:"controlled-value-change"})},[we]);const Te=jF(N),Ie={disablePast:S,disableFuture:b,maxDate:L,minDate:B},Ae={disableHighlightToday:ce,readOnly:U,disabled:W,timezone:ve,gridLabelId:Ce,slots:fe,slotProps:Z},Ye=x.useRef(Oe);x.useEffect(()=>{Ye.current!==Oe&&(Se===Ye.current&&Ue(Oe,!0),Ye.current=Oe)},[Se,Ue,Oe]);const lt=x.useMemo(()=>[we],[we]);return r.jsxs(EF,$({ref:s,className:qn(Te.root,R),ownerState:l},ue,{children:[r.jsx(ze,$({},dt,{slots:fe,slotProps:Z})),r.jsx(MF,{reduceAnimations:w,className:Te.viewTransitionContainer,transKey:Oe,ownerState:l,children:r.jsxs("div",{children:[Oe==="year"&&r.jsx(tF,$({},Ie,Ae,{value:we,onChange:Xe,shouldDisableYear:A,hasFocus:We,onFocusedViewChange:nt=>Ue("year",nt),yearsOrder:oe,yearsPerRow:Me,referenceDate:Le})),Oe==="month"&&r.jsx(qz,$({},Ie,Ae,{currentMonth:Ee.currentMonth,hasFocus:We,className:R,value:we,onChange:qe,shouldDisableMonth:D,onFocusedViewChange:nt=>Ue("month",nt),monthsPerRow:De,referenceDate:Le})),Oe==="day"&&r.jsx(Wz,$({},Ee,Ie,Ae,{onMonthSwitchingAnimationEnd:G,hasFocus:We,onFocusedDayChange:nt=>ge({target:nt,reason:"cell-interaction"}),reduceAnimations:w,selectedDays:lt,onSelectedDaysChange:xe,shouldDisableDate:k,shouldDisableMonth:D,shouldDisableYear:A,onFocusedViewChange:nt=>Ue("day",nt),showDaysOutsideCurrentMonth:z,fixedWeekNumber:q,dayOfWeekFormatter:ae,displayWeekNumber:ie,loading:J,renderLoading:X}))]})})]}))}),Ho=({view:e,onViewChange:t,views:s,focusedView:a,onFocusedViewChange:l,value:u,defaultValue:d,referenceDate:f,onChange:p,className:g,classes:y,disableFuture:v,disablePast:b,minDate:S,maxDate:j,shouldDisableDate:T,shouldDisableMonth:w,shouldDisableYear:k,reduceAnimations:D,onMonthChange:A,monthsPerRow:_,onYearChange:P,yearsOrder:M,yearsPerRow:R,slots:N,slotProps:W,loading:U,renderLoading:B,disableHighlightToday:L,readOnly:ce,disabled:H,showDaysOutsideCurrentMonth:Q,dayOfWeekFormatter:z,sx:q,autoFocus:ae,fixedWeekNumber:fe,displayWeekNumber:Z,timezone:J})=>r.jsx(AF,{view:e,onViewChange:t,views:s.filter(u1),focusedView:a&&u1(a)?a:null,onFocusedViewChange:l,value:u,defaultValue:d,referenceDate:f,onChange:p,className:g,classes:y,disableFuture:v,disablePast:b,minDate:S,maxDate:j,shouldDisableDate:T,shouldDisableMonth:w,shouldDisableYear:k,reduceAnimations:D,onMonthChange:A,monthsPerRow:_,onYearChange:P,yearsOrder:M,yearsPerRow:R,slots:N,slotProps:W,loading:U,renderLoading:B,disableHighlightToday:L,readOnly:ce,disabled:H,showDaysOutsideCurrentMonth:Q,dayOfWeekFormatter:z,sx:q,autoFocus:ae,fixedWeekNumber:fe,displayWeekNumber:Z,timezone:J}),jD=x.forwardRef(function(t,s){const a=Ft(),l=Kj(t,"MuiDesktopDatePicker"),u=$({day:Ho,month:Ho,year:Ho},l.viewRenderers),d=$({},l,{closeOnSelect:l.closeOnSelect??!0,viewRenderers:u,format:Fy(a,l,!1),yearsPerRow:l.yearsPerRow??4,slots:$({field:yD},l.slots),slotProps:$({},l.slotProps,{field:p=>$({},ci(l.slotProps?.field,p),Yj(l)),toolbar:$({hidden:!0},l.slotProps?.toolbar)})}),{renderPicker:f}=z6({ref:s,props:d,valueManager:hi,valueType:"date",validator:eu,steps:null});return f()});jD.propTypes={autoFocus:E.bool,className:E.string,closeOnSelect:E.bool,dayOfWeekFormatter:E.func,defaultValue:E.object,disabled:E.bool,disableFuture:E.bool,disableHighlightToday:E.bool,disableOpenPicker:E.bool,disablePast:E.bool,displayWeekNumber:E.bool,enableAccessibleFieldDOMStructure:E.any,fixedWeekNumber:E.number,format:E.string,formatDensity:E.oneOf(["dense","spacious"]),inputRef:SC,label:E.node,loading:E.bool,localeText:E.object,maxDate:E.object,minDate:E.object,monthsPerRow:E.oneOf([3,4]),name:E.string,onAccept:E.func,onChange:E.func,onClose:E.func,onError:E.func,onMonthChange:E.func,onOpen:E.func,onSelectedSectionsChange:E.func,onViewChange:E.func,onYearChange:E.func,open:E.bool,openTo:E.oneOf(["day","month","year"]),orientation:E.oneOf(["landscape","portrait"]),readOnly:E.bool,reduceAnimations:E.bool,referenceDate:E.object,renderLoading:E.func,selectedSections:E.oneOfType([E.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),E.number]),shouldDisableDate:E.func,shouldDisableMonth:E.func,shouldDisableYear:E.func,showDaysOutsideCurrentMonth:E.bool,slotProps:E.object,slots:E.object,sx:E.oneOfType([E.arrayOf(E.oneOfType([E.func,E.object,E.bool])),E.func,E.object]),timezone:E.string,value:E.object,view:E.oneOf(["day","month","year"]),viewRenderers:E.shape({day:E.func,month:E.func,year:E.func}),views:E.arrayOf(E.oneOf(["day","month","year"]).isRequired),yearsOrder:E.oneOf(["asc","desc"]),yearsPerRow:E.oneOf([3,4])};const PF=$e(Tn)({[`& .${yS.container}`]:{outline:0},[`& .${yS.paper}`]:{outline:0,minWidth:Mf}}),OF=$e(jn)({"&:first-of-type":{padding:0}});function RF(e){const{children:t,slots:s,slotProps:a}=e,{open:l}=al(),{dismissViews:u,onPopperExited:d}=Yn(),f=s?.dialog??PF,p=s?.mobileTransition??uf;return r.jsx(f,$({open:l,onClose:()=>{u(),d?.()}},a?.dialog,{TransitionComponent:p,TransitionProps:a?.mobileTransition,PaperComponent:s?.mobilePaper,PaperProps:a?.mobilePaper,children:r.jsx(OF,{children:t})}))}const _F=["props","steps"],IF=["ownerState"],WF=e=>{let{props:t,steps:s}=e,a=ut(e,_F);const{slots:l,slotProps:u,label:d,inputRef:f,localeText:p}=t,g=sD({steps:s}),{providerProps:y,renderCurrentView:v,ownerState:b}=eD($({},a,{props:t,localeText:p,autoFocusView:!0,viewContainerRole:"dialog",variant:"mobile",getStepNavigation:g})),S=y.privateContextValue.labelId,j=u?.toolbar?.hidden??!1,T=l.field,w=Ot({elementType:T,externalSlotProps:u?.field,additionalProps:$({},j&&{id:S}),ownerState:b}),k=ut(w,IF),D=l.layout??nD;let A=S;j&&(d?A=`${S}-label`:A=void 0);const _=$({},u,{toolbar:$({},u?.toolbar,{titleId:S}),mobilePaper:$({"aria-labelledby":A},u?.mobilePaper)});return{renderPicker:()=>r.jsxs(Fj,$({},y,{children:[r.jsx(T,$({},k,{slots:l,slotProps:_,inputRef:f})),r.jsx(RF,{slots:l,slotProps:_,children:r.jsx(D,$({},_?.layout,{slots:l,slotProps:_,children:v()}))})]}))}},DD=x.forwardRef(function(t,s){const a=Ft(),l=Kj(t,"MuiMobileDatePicker"),u=$({day:Ho,month:Ho,year:Ho},l.viewRenderers),d=$({},l,{viewRenderers:u,format:Fy(a,l,!1),slots:$({field:yD},l.slots),slotProps:$({},l.slotProps,{field:p=>$({},ci(l.slotProps?.field,p),Yj(l)),toolbar:$({hidden:!1},l.slotProps?.toolbar)})}),{renderPicker:f}=WF({ref:s,props:d,valueManager:hi,valueType:"date",validator:eu,steps:null});return f()});DD.propTypes={autoFocus:E.bool,className:E.string,closeOnSelect:E.bool,dayOfWeekFormatter:E.func,defaultValue:E.object,disabled:E.bool,disableFuture:E.bool,disableHighlightToday:E.bool,disableOpenPicker:E.bool,disablePast:E.bool,displayWeekNumber:E.bool,enableAccessibleFieldDOMStructure:E.any,fixedWeekNumber:E.number,format:E.string,formatDensity:E.oneOf(["dense","spacious"]),inputRef:SC,label:E.node,loading:E.bool,localeText:E.object,maxDate:E.object,minDate:E.object,monthsPerRow:E.oneOf([3,4]),name:E.string,onAccept:E.func,onChange:E.func,onClose:E.func,onError:E.func,onMonthChange:E.func,onOpen:E.func,onSelectedSectionsChange:E.func,onViewChange:E.func,onYearChange:E.func,open:E.bool,openTo:E.oneOf(["day","month","year"]),orientation:E.oneOf(["landscape","portrait"]),readOnly:E.bool,reduceAnimations:E.bool,referenceDate:E.object,renderLoading:E.func,selectedSections:E.oneOfType([E.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),E.number]),shouldDisableDate:E.func,shouldDisableMonth:E.func,shouldDisableYear:E.func,showDaysOutsideCurrentMonth:E.bool,slotProps:E.object,slots:E.object,sx:E.oneOfType([E.arrayOf(E.oneOfType([E.func,E.object,E.bool])),E.func,E.object]),timezone:E.string,value:E.object,view:E.oneOf(["day","month","year"]),viewRenderers:E.shape({day:E.func,month:E.func,year:E.func}),views:E.arrayOf(E.oneOf(["day","month","year"]).isRequired),yearsOrder:E.oneOf(["asc","desc"]),yearsPerRow:E.oneOf([3,4])};const NF=["desktopModeMediaQuery"],af=x.forwardRef(function(t,s){const a=rn({props:t,name:"MuiDatePicker"}),{desktopModeMediaQuery:l=l6}=a,u=ut(a,NF);return Mg(l,{defaultMatches:!0})?r.jsx(jD,$({ref:s},u)):r.jsx(DD,$({ref:s},u))}),LF={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},VF={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",dayOfMonthFull:"do",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class BF{isMUIAdapter=!0;isTimezoneCompatible=!1;formatTokenMap=LF;escapedCharacters={start:"'",end:"'"};constructor(t){const{locale:s,formats:a,longFormatters:l,lib:u}=t;this.locale=s,this.formats=$({},VF,a),this.longFormatters=l,this.lib=u||"date-fns"}date=t=>typeof t>"u"?new Date:t===null?null:new Date(t);getInvalidDate=()=>new Date("Invalid Date");getTimezone=()=>"default";setTimezone=t=>t;toJsDate=t=>t;getCurrentLocaleCode=()=>this.locale.code;is12HourCycleInCurrentLocale=()=>/a/.test(this.locale.formatLong.time({width:"short"}));expandFormat=t=>{const s=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return t.match(s).map(a=>{const l=a[0];if(l==="p"||l==="P"){const u=this.longFormatters[l];return u(a,this.locale.formatLong)}return a}).join("")};formatNumber=t=>t;getDayOfWeek=t=>t.getDay()+1}class tx extends BF{constructor({locale:t,formats:s}={}){super({locale:t??Zg,formats:s,longFormatters:Kd})}parse=(t,s)=>t===""?null:hI(t,s,new Date,{locale:this.locale});isValid=t=>t==null?!1:Rk(t);format=(t,s)=>this.formatByString(t,this.formats[s]);formatByString=(t,s)=>zm(t,s,{locale:this.locale});isEqual=(t,s)=>t===null&&s===null?!0:t===null||s===null?!1:x5(t,s);isSameYear=(t,s)=>gI(t,s);isSameMonth=(t,s)=>Gk(t,s);isSameDay=(t,s)=>Vm(t,s);isSameHour=(t,s)=>mI(t,s);isAfter=(t,s)=>Rd(t,s);isAfterYear=(t,s)=>Rd(t,US(s));isAfterDay=(t,s)=>Rd(t,HS(s));isBefore=(t,s)=>om(t,s);isBeforeYear=(t,s)=>om(t,this.startOfYear(s));isBeforeDay=(t,s)=>om(t,this.startOfDay(s));isWithinRange=(t,[s,a])=>yI(t,{start:s,end:a});startOfYear=t=>Wk(t);startOfMonth=t=>Ik(t);startOfWeek=t=>Xs(t,{locale:this.locale});startOfDay=t=>Pc(t);endOfYear=t=>US(t);endOfMonth=t=>_k(t);endOfWeek=t=>Nk(t,{locale:this.locale});endOfDay=t=>HS(t);addYears=(t,s)=>g_(t,s);addMonths=(t,s)=>vf(t,s);addWeeks=(t,s)=>m_(t,s);addDays=(t,s)=>$c(t,s);addHours=(t,s)=>c_(t,s);addMinutes=(t,s)=>h_(t,s);addSeconds=(t,s)=>p_(t,s);getYear=t=>y5(t);getMonth=t=>m5(t);getDate=t=>c5(t);getHours=t=>d5(t);getMinutes=t=>p5(t);getSeconds=t=>g5(t);getMilliseconds=t=>h5(t);setYear=(t,s)=>kI(t,s);setMonth=(t,s)=>xI(t,s);setDate=(t,s)=>bI(t,s);setHours=(t,s)=>vI(t,s);setMinutes=(t,s)=>wI(t,s);setSeconds=(t,s)=>CI(t,s);setMilliseconds=(t,s)=>SI(t,s);getDaysInMonth=t=>Fk(t);getWeekArray=t=>{const s=this.startOfWeek(this.startOfMonth(t)),a=this.endOfWeek(this.endOfMonth(t));let l=0,u=s;const d=[];for(;this.isBefore(u,a);){const f=Math.floor(l/7);d[f]=d[f]||[],d[f].push(u),u=this.addDays(u,1),l+=1}return d};getWeekNumber=t=>ey(t,{locale:this.locale});getYearRange=([t,s])=>{const a=this.startOfYear(t),l=this.endOfYear(s),u=[];let d=a;for(;this.isBefore(d,l);)u.push(d),d=this.addYears(d,1);return u}}const cs={STRENGTH:"strength",CARDIO:"cardio",YOGA:"yoga",REST:"rest"},Ca={FULL:"full",UPPER:"upper",PUSH:"push",PULL:"pull",LEGS:"legs",CORE:"core"},ED=({open:e,onClose:t,activity:s,onSave:a})=>{const[l,u]=x.useState({date:new Date,duration:"",notes:"",sessionName:"",sessionType:cs.STRENGTH,workoutType:Ca.FULL,numExercises:"",setsPerExercise:""});x.useEffect(()=>{if(s&&e){const g=s.duration?Math.round(s.duration/60):"";u({date:new Date(s.date),duration:g,notes:s.notes||"",sessionName:s.sessionName||"",sessionType:s.sessionType||cs.STRENGTH,workoutType:s.type||Ca.FULL,numExercises:s.numExercises||"",setsPerExercise:s.setsPerExercise||""})}},[s,e]);const d=(g,y)=>{u(v=>({...v,[g]:y}))},f=()=>{const g=l.duration?parseFloat(l.duration)*60:0,y={...s,date:l.date.getTime(),duration:g,notes:l.notes.trim(),sessionName:l.sessionName.trim(),sessionType:l.sessionType,type:l.sessionType===cs.STRENGTH?l.workoutType:l.sessionType,numExercises:l.sessionType===cs.STRENGTH&&parseInt(l.numExercises)||void 0,setsPerExercise:l.sessionType===cs.STRENGTH&&parseInt(l.setsPerExercise)||void 0};a(y),t()},p=()=>!(!l.date||l.sessionType!==cs.REST&&(!l.duration||parseFloat(l.duration)<=0)||l.sessionType===cs.STRENGTH&&(!l.numExercises||parseInt(l.numExercises)<=0||!l.setsPerExercise||parseInt(l.setsPerExercise)<=0));return r.jsx(jf,{dateAdapter:tx,children:r.jsxs(Tn,{open:e,onClose:t,maxWidth:"sm",fullWidth:!0,children:[r.jsx(In,{children:"Edit Activity"}),r.jsx(jn,{children:r.jsxs(Re,{spacing:2,sx:{mt:1},children:[r.jsx(af,{label:"Date",value:l.date,onChange:g=>d("date",g),slotProps:{textField:{fullWidth:!0}}}),r.jsxs(Kt,{fullWidth:!0,children:[r.jsx(Un,{children:"Session Type"}),r.jsxs(Xt,{value:l.sessionType,label:"Session Type",onChange:g=>d("sessionType",g.target.value),children:[r.jsx(Ve,{value:cs.STRENGTH,children:"Strength"}),r.jsx(Ve,{value:cs.CARDIO,children:"Cardio"}),r.jsx(Ve,{value:cs.YOGA,children:"Yoga"}),r.jsx(Ve,{value:cs.REST,children:"Rest Day"})]})]}),l.sessionType===cs.STRENGTH&&r.jsxs(Kt,{fullWidth:!0,children:[r.jsx(Un,{children:"Workout Type"}),r.jsxs(Xt,{value:l.workoutType,label:"Workout Type",onChange:g=>d("workoutType",g.target.value),children:[r.jsx(Ve,{value:Ca.FULL,children:"Full Body"}),r.jsx(Ve,{value:Ca.UPPER,children:"Upper Body"}),r.jsx(Ve,{value:Ca.PUSH,children:"Push"}),r.jsx(Ve,{value:Ca.PULL,children:"Pull"}),r.jsx(Ve,{value:Ca.LEGS,children:"Legs"}),r.jsx(Ve,{value:Ca.CORE,children:"Core"})]})]}),l.sessionType!==cs.REST&&r.jsx(pt,{fullWidth:!0,type:"number",label:"Duration (minutes)",placeholder:"e.g., 45",value:l.duration,onChange:g=>d("duration",g.target.value),variant:"outlined",inputProps:{min:0,step:1}}),l.sessionType===cs.STRENGTH&&r.jsxs(r.Fragment,{children:[r.jsx(pt,{fullWidth:!0,type:"number",label:"Number of Exercises",placeholder:"e.g., 6",value:l.numExercises,onChange:g=>d("numExercises",g.target.value),variant:"outlined",inputProps:{min:1,step:1}}),r.jsx(pt,{fullWidth:!0,type:"number",label:"Sets per Exercise",placeholder:"e.g., 3",value:l.setsPerExercise,onChange:g=>d("setsPerExercise",g.target.value),variant:"outlined",inputProps:{min:1,step:1}})]}),r.jsx(pt,{fullWidth:!0,label:"Session Name (optional)",placeholder:"e.g., Morning workout, Leg day, etc.",value:l.sessionName,onChange:g=>d("sessionName",g.target.value),variant:"outlined"}),r.jsx(pt,{fullWidth:!0,multiline:!0,rows:4,label:"Notes (optional)",placeholder:"Add any notes about your session...",value:l.notes,onChange:g=>d("notes",g.target.value),variant:"outlined"})]})}),r.jsxs(Dn,{children:[r.jsx(je,{onClick:t,children:"Cancel"}),r.jsx(je,{onClick:f,variant:"contained",disabled:!p(),children:"Save"})]})]})})};ED.propTypes={open:E.bool.isRequired,onClose:E.func.isRequired,activity:E.object,onSave:E.func.isRequired};const nx=x.memo(({onNavigate:e,loading:t=!1,workoutType:s,selectedEquipment:a,equipmentOptions:l,onWorkoutTypeChange:u,onEquipmentChange:d,onStartWorkout:f,onCustomize:p,onTabChange:g})=>{const[y,v]=x.useState(""),[b,S]=x.useState([]),[j,T]=x.useState([]),[w,k]=x.useState(!1),{weeklySchedule:D}=Wa(),[A,_]=x.useState([2,2,2,2]),[P,M]=x.useState(!1),[R,N]=x.useState(!1),[W,U]=x.useState(null),[B,L]=x.useState({open:!1,message:"",severity:"success"});x.useEffect(()=>{const ue={weekday:"short",month:"short",day:"numeric"};v(new Date().toLocaleDateString("en-US",ue))},[]);const H=(()=>{const we=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date().getDay()];return D[we]})(),Q=async()=>{try{const ue=await Js();T(ue),S(ue.slice(0,5))}catch(ue){console.error("Error loading recent workouts:",ue)}};x.useEffect(()=>{Q()},[]);const z=ue=>{U(ue),M(!0)},q=ue=>{U(ue),N(!0)},ae=async()=>{try{await UR(W),L({open:!0,message:"Activity deleted successfully",severity:"success"}),N(!1),U(null),await Q()}catch(ue){console.error("Error deleting activity:",ue),L({open:!0,message:"Failed to delete activity",severity:"error"})}},fe=async ue=>{try{await qR(W,ue),L({open:!0,message:"Activity updated successfully",severity:"success"}),M(!1),U(null),await Q()}catch(we){console.error("Error updating activity:",we),L({open:!0,message:"Failed to update activity",severity:"error"})}},Z=ue=>{const we=new Set(a);ue==="all"?(we.clear(),we.add("all")):(we.has("all")&&we.delete("all"),we.has(ue)?we.delete(ue):we.add(ue),we.size===0&&we.add("all")),d(we)},J=()=>{if(a.has("all"))return"All Equipment";const ue=Array.from(a);return ue.length===0?"All Equipment":ue.length===1?l.find(be=>be.toLowerCase()===ue[0])||ue[0]:`${ue.length} selected`},X=()=>{_([...A,2])},ie=ue=>{if(A.length>1){const we=A.filter((be,ve)=>ve!==ue);_(we)}},oe=(ue,we)=>{const be=[...A],ve=Math.max(1,Math.min(6,be[ue]+we));be[ue]=ve,_(be)},Me=()=>{if(s&&f){const ue=a.has("all")?"all":Array.from(a);f(s,ue,null,A)}},De=()=>{if(s&&p){const ue=a.has("all")?"all":Array.from(a);p(s,ue,A)}},Ne=()=>{if(!H)return;const ue=(H.sessionType||"").toLowerCase();if(ue.includes("rest")){k(!0);return}if(ue.includes("cardio")||ue.includes("hiit")||ue.includes("yoga")||ue.includes("mobility")||ue.includes("stretch")){g&&g(1);return}if(["full","upper","lower","push","pull","legs","core"].includes(ue)){u(ue);const be=a.has("all")?"all":Array.from(a);H.exercises&&H.exercises.length>0?f(ue,be,H.exercises,A):f(ue,be,null,A)}};return r.jsxs(V,{children:[w&&r.jsx(Vy,{onClose:()=>k(!1)}),r.jsx(V,{sx:{mb:4,textAlign:"center"},children:r.jsxs(I,{variant:"h5",sx:{fontWeight:600,color:"text.secondary",fontSize:{xs:"1rem",sm:"1.25rem"},display:"flex",alignItems:"center",justifyContent:"center",gap:1,flexWrap:"wrap"},children:[r.jsx("span",{children:y}),H&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),r.jsx(ft,{label:`Suggested Session: ${H.sessionName||H.sessionType}`,color:"primary",variant:"outlined",size:"small",onClick:Ne,sx:{fontWeight:600,fontSize:{xs:"0.75rem",sm:"0.875rem"},cursor:"pointer","&:hover":{backgroundColor:"rgba(19, 70, 134, 0.08)"}}})]})]})}),r.jsx(at,{elevation:2,sx:{mb:3,borderRadius:3,background:"linear-gradient(135deg, rgba(237, 63, 39, 0.05) 0%, rgba(19, 70, 134, 0.05) 100%)"},children:r.jsxs(ct,{sx:{p:{xs:2,sm:3}},children:[r.jsxs(V,{sx:{display:"flex",alignItems:"center",mb:2},children:[r.jsx(Jt,{sx:{color:"secondary.main",mr:1}}),r.jsx(I,{variant:"h6",sx:{color:"text.primary",fontWeight:600},children:"Start a Workout"})]}),r.jsxs(Re,{spacing:2,sx:{mb:3},children:[r.jsxs(Kt,{fullWidth:!0,size:"medium",children:[r.jsx(Un,{id:"workout-type-label",children:"Workout Type"}),r.jsxs(Xt,{labelId:"workout-type-label",value:s||"full",label:"Workout Type",onChange:ue=>u(ue.target.value),children:[r.jsx(Ve,{value:"full",children:"Full Body"}),r.jsx(Ve,{value:"upper",children:"Upper Body"}),r.jsx(Ve,{value:"lower",children:"Lower Body"}),r.jsx(Ve,{value:"push",children:"Push"}),r.jsx(Ve,{value:"pull",children:"Pull"}),r.jsx(Ve,{value:"legs",children:"Legs"}),r.jsx(Ve,{value:"core",children:"Core"})]})]}),r.jsxs(yr,{sx:{boxShadow:"none",border:"1px solid rgba(0, 0, 0, 0.23)",borderRadius:"4px !important","&:before":{display:"none"},"&.Mui-expanded":{margin:0}},children:[r.jsx(xr,{expandIcon:r.jsx(Da,{}),sx:{minHeight:"48px","&.Mui-expanded":{minHeight:"48px"},"& .MuiAccordionSummary-content":{margin:"12px 0","&.Mui-expanded":{margin:"12px 0"}}},children:r.jsxs(V,{sx:{display:"flex",flexDirection:"column",width:"100%"},children:[r.jsx(I,{variant:"caption",sx:{color:"text.primary",fontSize:"0.75rem",lineHeight:1,mb:.5},children:"Equipment"}),r.jsx(I,{sx:{color:"text.primary",fontSize:"1rem"},children:J()})]})}),r.jsx(br,{sx:{pt:0,pb:2},children:r.jsxs(Re,{spacing:1,children:[r.jsx(ft,{label:"All Equipment",onClick:()=>Z("all"),color:a.has("all")?"primary":"default",variant:a.has("all")?"filled":"outlined",sx:{justifyContent:"flex-start"}}),l.map(ue=>r.jsx(ft,{label:ue,onClick:()=>Z(ue.toLowerCase()),color:a.has(ue.toLowerCase())?"primary":"default",variant:a.has(ue.toLowerCase())?"filled":"outlined",sx:{justifyContent:"flex-start"}},ue))]})})]})]}),r.jsxs(yr,{sx:{boxShadow:"none",border:"1px solid rgba(0, 0, 0, 0.12)",borderRadius:"4px !important","&:before":{display:"none"},mb:2},children:[r.jsx(xr,{expandIcon:r.jsx(Da,{}),children:r.jsxs(V,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(A2,{sx:{fontSize:20}}),r.jsxs(I,{variant:"body2",sx:{fontWeight:600},children:["Superset Configuration (",A.length," supersets)"]})]})}),r.jsx(br,{children:r.jsxs(Re,{spacing:2,children:[A.map((ue,we)=>r.jsxs(V,{sx:{display:"flex",alignItems:"center",gap:1,p:1.5,bgcolor:"action.hover",borderRadius:1},children:[r.jsxs(I,{variant:"body2",sx:{minWidth:"80px",fontWeight:500},children:["Superset ",we+1]}),r.jsxs(Re,{direction:"row",spacing:1,alignItems:"center",sx:{flex:1},children:[r.jsx(Qe,{size:"small",onClick:()=>oe(we,-1),disabled:ue<=1,children:r.jsx(kr,{fontSize:"small"})}),r.jsxs(I,{sx:{minWidth:"90px",textAlign:"center"},children:[ue," exercises"]}),r.jsx(Qe,{size:"small",onClick:()=>oe(we,1),disabled:ue>=6,children:r.jsx(Yi,{fontSize:"small"})})]}),r.jsx(Zn,{title:"Remove superset",children:r.jsx(Qe,{size:"small",onClick:()=>ie(we),disabled:A.length<=1,color:"error",children:r.jsx(kr,{fontSize:"small"})})})]},we)),r.jsx(je,{variant:"outlined",size:"small",startIcon:r.jsx(Yi,{}),onClick:X,sx:{alignSelf:"flex-start"},children:"Add Superset"})]})})]}),r.jsx(yn,{sx:{my:2}}),r.jsxs(Re,{direction:"row",spacing:2,children:[r.jsx(je,{variant:"outlined",size:"large",fullWidth:!0,disabled:!s||t,onClick:De,startIcon:r.jsx(Ui,{}),sx:{minHeight:nf.navigation,fontSize:{xs:"0.95rem",sm:"1rem"},fontWeight:600,borderWidth:2,"&:hover":{borderWidth:2}},children:"Customize"}),r.jsx(je,{variant:"contained",size:"large",fullWidth:!0,disabled:!s||t,onClick:Me,startIcon:r.jsx(Ks,{}),sx:{minHeight:nf.navigation,fontSize:{xs:"0.95rem",sm:"1rem"},fontWeight:600,backgroundColor:"primary.main","&:hover":{backgroundColor:"primary.dark"}},children:"Generate"})]})]})}),r.jsx(Ly,{onStartWorkout:f}),r.jsx(V,{sx:{mb:3},children:r.jsx(Mj,{workoutHistory:j})}),b.length>0&&r.jsxs(V,{sx:{mb:3},children:[r.jsxs(Re,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[r.jsxs(I,{variant:"h6",sx:{fontWeight:600,color:"text.primary",display:"flex",alignItems:"center",gap:1},children:[r.jsx(Aa,{})," Recent Activity"]}),r.jsx(je,{size:"small",onClick:()=>e("progress"),sx:{color:"primary.main"},children:"View All"})]}),r.jsx(By,{activities:b,onEdit:z,onDelete:q,maxVisible:5,showLoadMore:!1})]}),r.jsx(ED,{open:P,onClose:()=>{M(!1),U(null)},activity:W!==null?b[W]:null,onSave:fe}),r.jsxs(Tn,{open:R,onClose:()=>{N(!1),U(null)},children:[r.jsx(In,{children:"Delete Activity?"}),r.jsx(jn,{children:r.jsx(wC,{children:"Are you sure you want to delete this activity? This action cannot be undone."})}),r.jsxs(Dn,{children:[r.jsx(je,{onClick:()=>{N(!1),U(null)},children:"Cancel"}),r.jsx(je,{onClick:ae,color:"error",variant:"contained",children:"Delete"})]})]}),r.jsx(Qs,{open:B.open,autoHideDuration:6e3,onClose:()=>L({...B,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(At,{onClose:()=>L({...B,open:!1}),severity:B.severity,sx:{width:"100%"},children:B.message})})]})});nx.displayName="WorkoutTab";nx.propTypes={onNavigate:E.func,loading:E.bool,workoutType:E.string,selectedEquipment:E.instanceOf(Set),equipmentOptions:E.array,onWorkoutTypeChange:E.func,onEquipmentChange:E.func,onStartWorkout:E.func,onCustomize:E.func,onTabChange:E.func};const E1=3,zF=8,sx="/goodlift/data/exercises.json",FF="/goodlift/data/hiit-exercises.json",jd={UPPER_BODY:["Chest","Upper Chest","Lower Chest","Inner Chest","Back","Lats","Upper Back","Lower Back","Delts","Front Delts","Rear Delts","Side Delts","Biceps","Triceps","Forearms","Traps"],LOWER_BODY:["Quads","Hamstrings","Glutes","Calves","Hip Flexors"]},ka={UPPER_BODY:{DUMBBELL:2.5,BARBELL:5},LOWER_BODY:{DUMBBELL:10,BARBELL:5}},HF={MILLISECONDS_PER_DAY:864e5},MD=({value:e,onChange:t,availableExercises:s,label:a="Exercise",placeholder:l="Type to search exercises...",size:u="small",fullWidth:d=!0,disabled:f=!1,sx:p={}})=>{const g=y=>{if(!y)return s;const v=y.toLowerCase().split(" ").filter(b=>b.length>0);return s.filter(b=>{const S=[b.name,b.muscleGroup].join(" ").toLowerCase();return v.every(j=>S.includes(j))})};return r.jsx(CC,{fullWidth:d,size:u,options:s,value:e,onChange:t,disabled:f,getOptionLabel:y=>typeof y=="string"?y:y?.name||"",filterOptions:(y,v)=>g(v.inputValue),isOptionEqualToValue:(y,v)=>typeof y=="string"&&typeof v=="string"?y===v:y?.name===v?.name,freeSolo:!0,renderInput:y=>r.jsx(pt,{...y,label:a,placeholder:l}),renderOption:(y,v)=>{const{key:b,...S}=y;return r.jsx("li",{...S,children:r.jsxs(V,{children:[r.jsx(I,{variant:"body2",children:v.name}),r.jsx(I,{variant:"caption",color:"text.secondary",children:v.muscleGroup})]})},b)},noOptionsText:"No exercises found. Try different search terms.",sx:p})};MD.propTypes={value:E.oneOfType([E.object,E.string]),onChange:E.func.isRequired,availableExercises:E.array.isRequired,label:E.string,placeholder:E.string,size:E.string,fullWidth:E.bool,disabled:E.bool,sx:E.object};const it={HIIT:"hiit",FLOW:"flow",CARDIO:"cardio"},M1=[{name:"Mountain Pose (Tadasana)",defaultDuration:30},{name:"Downward Dog (Adho Mukha Svanasana)",defaultDuration:60},{name:"Warrior I (Virabhadrasana I)",defaultDuration:45},{name:"Warrior II (Virabhadrasana II)",defaultDuration:45},{name:"Triangle Pose (Trikonasana)",defaultDuration:45},{name:"Tree Pose (Vrksasana)",defaultDuration:30},{name:"Child's Pose (Balasana)",defaultDuration:60},{name:"Cat-Cow Pose",defaultDuration:60},{name:"Seated Forward Bend (Paschimottanasana)",defaultDuration:60},{name:"Cobra Pose (Bhujangasana)",defaultDuration:30},{name:"Plank Pose",defaultDuration:30},{name:"Bridge Pose (Setu Bandhasana)",defaultDuration:45}],ix=({onNavigate:e,hideBackButton:t=!1})=>{const[s,a]=x.useState(it.CARDIO),[l,u]=x.useState(!0),[d,f]=x.useState(!1),[p,g]=x.useState(!1),[y,v]=x.useState(1200),[b,S]=x.useState(1200),[j,T]=x.useState(30),[w,k]=x.useState(15),[D,A]=x.useState(8),[_,P]=x.useState(1),[M,R]=x.useState(!0),[N,W]=x.useState(10),[U,B]=x.useState(0),[L,ce]=x.useState(4),[H,Q]=x.useState(""),[z,q]=x.useState([]),[ae,fe]=x.useState({prep:"Get Ready",recovery:"Recovery"}),[Z,J]=x.useState(!1),[X,ie]=x.useState(!1),[oe,Me]=x.useState([]),[De,Ne]=x.useState(0),[ue,we]=x.useState(45),[be,ve]=x.useState(20),[Oe,He]=x.useState([]),[Se,Ue]=x.useState([]),[le,ne]=x.useState(!1),[Le,Ee]=x.useState(""),[ge,_e]=x.useState(null),[G,ye]=x.useState(!1),[ke,Ce]=x.useState([]),[We,ze]=x.useState(!1),[dt,qe]=x.useState(5),[Xe,xe]=x.useState(""),Te=x.useRef(null),Ie=x.useRef(!1);x.useEffect(()=>{(async()=>{try{const Pe=pc(),tn=mc();He(Pe),Ue(tn)}catch(Pe){console.error("Error loading presets:",Pe)}})()},[]),x.useEffect(()=>{(async()=>{try{const tn=await(await fetch(FF)).json();Ce(tn)}catch(Pe){console.error("Error loading HIIT exercises:",Pe),Ce([])}})()},[]),x.useEffect(()=>()=>{Te.current&&clearInterval(Te.current)},[]);const Ae=x.useCallback(()=>{f(!1),clearInterval(Te.current),Vt.playCompletionFanfare(),ze(!0)},[]);x.useEffect(()=>(d&&!p?Te.current=setInterval(()=>{v(he=>(he===10||he===5?(Vt.playBeep(800,150),Ie.current=!0):he===1&&Vt.playBeep(600,300),he<=1?s===it.HIIT?Z?(J(!1),R(!0),Vt.playHighBeep(),Ie.current=!1,j):X?(ie(!1),R(!0),Vt.playHighBeep(),Ie.current=!1,j):M?(R(!1),Vt.playLowBeep(),Ie.current=!1,w):_<D?U>0&&L>0&&_%L===0?(ie(!0),Vt.playTransitionBeep(),Ie.current=!1,U):(P(_+1),R(!0),Vt.playHighBeep(),Ie.current=!1,j):(Ae(),0):s===it.FLOW&&De<oe.length-1?(Ne(De+1),Vt.playTransitionBeep(),Ie.current=!1,oe[De+1].duration):(Ae(),0):he-1))},1e3):Te.current&&clearInterval(Te.current),()=>{Te.current&&clearInterval(Te.current)}),[d,p,s,M,Z,X,_,D,De,oe,j,w,U,L,Ae]);const Ye=()=>{if(l){if(s===it.HIIT){const he=U>0&&L>0?Math.floor(D/L)*U:0;S(N+D*(j+w)+he),N>0?(v(N),J(!0),R(!1)):(v(j),J(!1),R(!0)),P(1),ie(!1)}else if(s===it.FLOW){const he=oe.reduce((Pe,tn)=>Pe+tn.duration,0);S(he),v(oe[0]?.duration||45),Ne(0)}else{const he=be*60;S(he),v(he)}u(!1)}f(!0),g(!1),Ie.current=!1},lt=()=>{g(!p)},nt=()=>{f(!1),g(!1),u(!0),Ie.current=!1},wt=()=>{nt(),P(1),R(!0),J(!1),ie(!1),Ne(0)},Ht=(he,Pe)=>{Pe!==null&&(a(Pe),wt())},on=he=>{Me([...oe,{...he,duration:ue}])},Gn=he=>{Me(oe.filter((Pe,tn)=>tn!==he))},ht=()=>{s===it.HIIT?(Z?(J(!1),R(!0),v(j)):M?(R(!1),v(w)):X?(ie(!1),R(!0),v(j)):_<D&&(U>0&&L>0&&_%L===0?(ie(!0),v(U)):(P(_+1),R(!0),v(j))),Vt.playTransitionBeep()):s===it.FLOW&&De<oe.length-1&&(Ne(De+1),v(oe[De+1].duration),Vt.playTransitionBeep())},Ts=()=>{s===it.HIIT?(M&&_>1?(R(!1),P(_-1),v(w)):!M&&!Z&&!X&&(R(!0),v(j)),Vt.playTransitionBeep()):s===it.FLOW&&De>0&&(Ne(De-1),v(oe[De-1].duration),Vt.playTransitionBeep())},Zi=async()=>{try{if(!Le.trim()){alert("Please enter a preset name");return}if(s===it.FLOW){const he={id:ge?.id,name:Le,poses:oe,defaultDuration:ue};await s_(he);const Pe=pc();He(Pe)}else if(s===it.HIIT){const he={id:ge?.id,name:Le,workInterval:j,restInterval:w,rounds:D,preparationInterval:N,recoveryInterval:U,recoveryAfterRounds:L,sessionName:H,workIntervalNames:z,intervalNames:ae};await a_(he);const Pe=mc();Ue(Pe)}ne(!1),Ee(""),_e(null)}catch(he){console.error("Error saving preset:",he),alert("Failed to save preset")}},gi=he=>{s===it.FLOW?(Me(he.poses||[]),we(he.defaultDuration||45)):s===it.HIIT&&(T(he.workInterval||30),k(he.restInterval||15),A(he.rounds||8),W(he.preparationInterval||10),B(he.recoveryInterval||0),ce(he.recoveryAfterRounds||4),Q(he.sessionName||""),q(he.workIntervalNames||[]),fe(he.intervalNames||{prep:"Get Ready",recovery:"Recovery"}))},ol=async he=>{try{if(s===it.FLOW){await i_(he);const Pe=pc();He(Pe)}else if(s===it.HIIT){await r_(he);const Pe=mc();Ue(Pe)}}catch(Pe){console.error("Error deleting preset:",Pe),alert("Failed to delete preset")}},ln=async()=>{try{const he={date:Date.now(),type:s===it.HIIT?"hiit":s===it.FLOW?"yoga":"cardio",duration:Math.floor(b/60),perceivedEffort:dt,notes:Xe,exercises:{}};await $g(he);const Pe=await Gc();Pe.totalWorkouts+=1,Pe.totalTime+=b,await Kg(Pe),ze(!1),wt(),e&&setTimeout(()=>e("selection"),500)}catch(he){console.error("Error saving session:",he)}},ts=he=>{const Pe=Math.floor(he/60),tn=he%60;return`${Pe}:${tn.toString().padStart(2,"0")}`},zf=(()=>{if(s===it.HIIT){const he=(_-1)/D*100,Pe=M?(j-y)/j:(w-y)/w;return he+Pe*(100/D)}else return(b-y)/b*100})(),Ir=120,Wr=2*Math.PI*Ir,ru=Wr-zf/100*Wr;return r.jsx(V,{sx:{width:"100%",minHeight:"100vh",p:3,bgcolor:"background.default"},children:r.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},style:{maxWidth:"800px",margin:"0 auto"},children:[!t&&r.jsx(V,{sx:{mb:2},children:r.jsx(je,{startIcon:r.jsx(kC,{}),onClick:()=>e("home"),sx:{color:"text.secondary"},children:"Back to Work Home"})}),l&&r.jsx(at,{sx:{borderRadius:3,mb:3},children:r.jsxs(ct,{children:[r.jsx(I,{variant:"h6",sx:{mb:2,textAlign:"center"},children:"Select Mode"}),r.jsxs(TC,{value:s,exclusive:!0,onChange:Ht,fullWidth:!0,sx:{mb:3},children:[r.jsx(Li,{value:it.HIIT,sx:{py:2},children:r.jsxs(Re,{alignItems:"center",spacing:1,children:[r.jsx(Jt,{}),r.jsx(I,{variant:"body2",children:"HIIT"})]})}),r.jsx(Li,{value:it.FLOW,sx:{py:2},children:r.jsxs(Re,{alignItems:"center",spacing:1,children:[r.jsx(Zs,{}),r.jsx(I,{variant:"body2",children:"Yoga"})]})}),r.jsx(Li,{value:it.CARDIO,sx:{py:2},children:r.jsxs(Re,{alignItems:"center",spacing:1,children:[r.jsx(fi,{}),r.jsx(I,{variant:"body2",children:"Cardio"})]})})]}),s===it.HIIT&&r.jsxs(Re,{spacing:3,children:[r.jsxs(Re,{direction:"row",spacing:2,alignItems:"center",children:[r.jsx(I,{variant:"subtitle1",sx:{fontWeight:600,flex:1},children:"HIIT Configuration"}),r.jsx(je,{size:"small",startIcon:r.jsx(Mo,{}),onClick:()=>{Ee(""),_e(null),ne(!0)},children:"Save Preset"})]}),Se.length>0&&r.jsxs(V,{children:[r.jsxs(Re,{direction:"row",spacing:1,alignItems:"center",sx:{mb:1},children:[r.jsx(I,{variant:"subtitle2",sx:{flex:1},children:"Saved Presets"}),r.jsx(je,{size:"small",startIcon:G?r.jsx(Mo,{}):r.jsx(Ui,{}),onClick:()=>ye(!G),children:G?"Done":"Manage"})]}),r.jsx(Re,{direction:"row",spacing:1,flexWrap:"wrap",useFlexGap:!0,children:Se.map(he=>r.jsxs(V,{sx:{position:"relative",display:"inline-block"},children:[r.jsx(ft,{label:he.name,onClick:()=>!G&&gi(he),color:"primary",variant:"outlined",sx:{mb:1,cursor:G?"default":"pointer",opacity:G?.7:1}}),G&&r.jsx(Qe,{size:"small",onClick:()=>ol(he.id),sx:{position:"absolute",top:-8,right:-8,bgcolor:"error.main",color:"white",width:20,height:20,"&:hover":{bgcolor:"error.dark"}},children:r.jsx(Cr,{sx:{fontSize:14}})})]},he.id))})]}),r.jsx(pt,{label:"Session Name (optional)",value:H,onChange:he=>Q(he.target.value),fullWidth:!0,placeholder:"e.g., Morning HIIT, Tabata Workout"}),r.jsx(pt,{label:"Preparation Interval (seconds)",type:"number",value:N??"",onChange:he=>{const Pe=he.target.value;W(Pe===""||Pe===null?"":Math.max(0,parseInt(Pe)||0))},onBlur:he=>{(he.target.value===""||he.target.value===null)&&W(10)},inputProps:{min:0,max:60,inputMode:"numeric"},fullWidth:!0,helperText:"Time to get ready before the workout starts"}),r.jsx(pt,{label:"Work Interval (seconds)",type:"number",value:j??"",onChange:he=>{const Pe=he.target.value;T(Pe===""||Pe===null?"":Math.max(5,parseInt(Pe)||5))},onBlur:he=>{(he.target.value===""||he.target.value===null)&&T(30)},inputProps:{min:5,max:300,inputMode:"numeric"},fullWidth:!0}),r.jsx(pt,{label:"Rest Interval (seconds)",type:"number",value:w??"",onChange:he=>{const Pe=he.target.value;k(Pe===""||Pe===null?"":Math.max(5,parseInt(Pe)||5))},onBlur:he=>{(he.target.value===""||he.target.value===null)&&k(15)},inputProps:{min:5,max:300,inputMode:"numeric"},fullWidth:!0}),r.jsx(pt,{label:"Number of Rounds",type:"number",value:D??"",onChange:he=>{const Pe=he.target.value;if(Pe===""||Pe===null)A("");else{const tn=Math.max(1,parseInt(Pe)||1);A(tn),q(ei=>{const Wn=[...ei];for(;Wn.length<tn;)Wn.push("");return Wn.slice(0,tn)})}},onBlur:he=>{(he.target.value===""||he.target.value===null)&&(A(8),q(Pe=>{const tn=[...Pe];for(;tn.length<8;)tn.push("");return tn.slice(0,8)}))},inputProps:{min:1,max:50,inputMode:"numeric"},fullWidth:!0}),r.jsxs(V,{children:[r.jsx(I,{variant:"subtitle2",gutterBottom:!0,children:"Exercise Names (optional)"}),r.jsx(I,{variant:"body2",color:"text.secondary",sx:{mb:2},children:'Name each work interval for audio/visual prompts. Leave blank to use "work" as default.'}),r.jsx(Re,{spacing:1.5,children:Array.from({length:D||0}).map((he,Pe)=>r.jsx(MD,{label:`Round ${Pe+1} Exercise`,value:z[Pe]||"",onChange:(tn,ei)=>{const Wn=[...z];typeof ei=="string"?Wn[Pe]=ei:ei&&ei.name?Wn[Pe]=ei.name:Wn[Pe]="",q(Wn)},availableExercises:ke,placeholder:"e.g., push-ups, burpees, jumping jacks",size:"small",fullWidth:!0},Pe))})]}),r.jsx(pt,{label:"Recovery Break (seconds, 0 to disable)",type:"number",value:U??"",onChange:he=>{const Pe=he.target.value;B(Pe===""||Pe===null?"":Math.max(0,parseInt(Pe)||0))},onBlur:he=>{(he.target.value===""||he.target.value===null)&&B(0)},inputProps:{min:0,max:300,inputMode:"numeric"},fullWidth:!0,helperText:"Longer break after several rounds"}),U>0&&r.jsx(pt,{label:"Recovery Break Frequency (after every N rounds)",type:"number",value:L??"",onChange:he=>{const Pe=he.target.value;ce(Pe===""||Pe===null?"":Math.max(1,parseInt(Pe)||1))},onBlur:he=>{(he.target.value===""||he.target.value===null)&&ce(4)},inputProps:{min:1,max:D,inputMode:"numeric"},fullWidth:!0,helperText:`Recovery break every ${L} rounds`}),r.jsxs(I,{variant:"body2",color:"text.secondary",children:["Total Duration: ",Math.floor((N+D*(j+w)+(U>0&&L>0?Math.floor(D/L)*U:0))/60)," minutes"]})]}),s===it.FLOW&&r.jsxs(Re,{spacing:3,children:[r.jsxs(Re,{direction:"row",spacing:2,alignItems:"center",children:[r.jsx(I,{variant:"subtitle1",sx:{fontWeight:600,flex:1},children:"Yoga Configuration"}),r.jsx(je,{size:"small",startIcon:r.jsx(Mo,{}),onClick:()=>{Ee(""),_e(null),ne(!0)},disabled:oe.length===0,children:"Save Preset"})]}),Oe.length>0&&r.jsxs(V,{children:[r.jsxs(Re,{direction:"row",spacing:1,alignItems:"center",sx:{mb:1},children:[r.jsx(I,{variant:"subtitle2",sx:{flex:1},children:"Saved Presets"}),r.jsx(je,{size:"small",startIcon:G?r.jsx(Mo,{}):r.jsx(Ui,{}),onClick:()=>ye(!G),children:G?"Done":"Manage"})]}),r.jsx(Re,{direction:"row",spacing:1,flexWrap:"wrap",useFlexGap:!0,children:Oe.map(he=>r.jsxs(V,{sx:{position:"relative",display:"inline-block"},children:[r.jsx(ft,{label:he.name,onClick:()=>!G&&gi(he),color:"primary",variant:"outlined",icon:r.jsx(P2,{}),sx:{mb:1,cursor:G?"default":"pointer",opacity:G?.7:1}}),G&&r.jsx(Qe,{size:"small",onClick:()=>ol(he.id),sx:{position:"absolute",top:-8,right:-8,bgcolor:"error.main",color:"white",width:20,height:20,"&:hover":{bgcolor:"error.dark"}},children:r.jsx(Cr,{sx:{fontSize:14}})})]},he.id))})]}),r.jsx(pt,{label:"Hold Duration per Pose (seconds)",type:"number",value:ue??"",onChange:he=>{const Pe=he.target.value;we(Pe===""||Pe===null?"":Math.max(15,parseInt(Pe)||15))},onBlur:he=>{(he.target.value===""||he.target.value===null)&&we(45)},inputProps:{min:15,max:300,inputMode:"numeric"},fullWidth:!0}),r.jsxs(I,{variant:"subtitle2",children:["Selected Poses (",oe.length,")"]}),oe.length>0&&r.jsx(Re,{spacing:1,children:oe.map((he,Pe)=>r.jsxs(V,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:1.5,bgcolor:"background.paper",borderRadius:1},children:[r.jsx(I,{variant:"body2",children:he.name}),r.jsxs(Re,{direction:"row",spacing:1,alignItems:"center",children:[r.jsxs(I,{variant:"caption",color:"text.secondary",children:[he.duration,"s"]}),r.jsx(Qe,{size:"small",onClick:()=>Gn(Pe),sx:{color:"error.main"},children:r.jsx(kr,{fontSize:"small"})})]})]},Pe))}),r.jsxs(Kt,{fullWidth:!0,children:[r.jsx(Un,{children:"Add Pose"}),r.jsx(Xt,{value:"",label:"Add Pose",onChange:he=>{const Pe=M1.find(tn=>tn.name===he.target.value);Pe&&on(Pe)},children:M1.map(he=>r.jsx(Ve,{value:he.name,children:he.name},he.name))})]}),oe.length>0&&r.jsxs(I,{variant:"body2",color:"text.secondary",children:["Total Duration: ",Math.floor(oe.reduce((he,Pe)=>he+Pe.duration,0)/60)," minutes ",oe.reduce((he,Pe)=>he+Pe.duration,0)%60," seconds"]})]}),s===it.CARDIO&&r.jsxs(Re,{spacing:3,children:[r.jsx(I,{variant:"subtitle1",sx:{fontWeight:600},children:"Cardio Configuration"}),r.jsx(pt,{label:"Duration (minutes)",type:"number",value:be??"",onChange:he=>{const Pe=he.target.value;ve(Pe===""||Pe===null?"":Math.max(1,parseInt(Pe)||1))},onBlur:he=>{(he.target.value===""||he.target.value===null)&&ve(20)},inputProps:{min:1,max:240,inputMode:"numeric"},fullWidth:!0})]})]})}),!l&&r.jsx(at,{sx:{borderRadius:3,mb:3},children:r.jsxs(ct,{sx:{p:4},children:[r.jsx(Re,{direction:"row",justifyContent:"center",sx:{mb:3},children:r.jsx(ft,{label:s===it.HIIT?"HIIT":s===it.FLOW?"Yoga":"Cardio",color:"primary",size:"medium"})}),r.jsxs(V,{sx:{textAlign:"center",mb:3,position:"relative",display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},children:[r.jsxs("svg",{width:"280",height:"280",style:{transform:"rotate(-90deg)"},children:[r.jsx("circle",{cx:"140",cy:"140",r:Ir,stroke:"#e0e0e0",strokeWidth:"12",fill:"none"}),r.jsx("circle",{cx:"140",cy:"140",r:Ir,stroke:s===it.HIIT&&M?"#4caf50":s===it.HIIT&&(Z||X)?"#ff9800":s===it.HIIT&&!M?"#f44336":"#1976d2",strokeWidth:"12",fill:"none",strokeDasharray:Wr,strokeDashoffset:ru,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0.5s ease"}})]}),r.jsxs(V,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center"},children:[r.jsx(I,{variant:"h1",sx:{fontSize:"4rem",fontWeight:700,color:s===it.HIIT&&M?"success.main":s===it.HIIT&&(Z||X)?"warning.main":s===it.HIIT&&!M?"error.main":"primary.main",fontFamily:"monospace",lineHeight:1},children:ts(y)}),s===it.HIIT&&r.jsxs(r.Fragment,{children:[r.jsx(I,{variant:"h6",sx:{mt:1,fontWeight:600},children:Z?ae.prep:X?ae.recovery:M?z[_-1]||"work":"rest"}),Z&&r.jsxs(I,{variant:"body2",color:"text.secondary",sx:{mt:.5},children:["Up Next: ",z[0]||"work"]}),!Z&&!M&&_<D&&r.jsxs(I,{variant:"body2",color:"text.secondary",sx:{mt:.5},children:["Up Next: ",z[_]||"work"]}),!Z&&r.jsxs(I,{variant:"body2",color:"text.secondary",children:["Round ",_," / ",D]}),H&&r.jsx(I,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.5},children:H})]}),s===it.FLOW&&oe[De]&&r.jsx(I,{variant:"h6",sx:{mt:1,fontWeight:600,maxWidth:"200px"},children:oe[De].name})]})]}),s===it.FLOW&&oe[De]&&r.jsx(V,{sx:{mb:3,textAlign:"center"},children:r.jsxs(I,{variant:"body2",color:"text.secondary",children:["Pose ",De+1," of ",oe.length]})}),r.jsx(Re,{direction:"row",spacing:2,justifyContent:"center",flexWrap:"wrap",children:d?r.jsxs(r.Fragment,{children:[(s===it.HIIT||s===it.FLOW)&&r.jsx(Qe,{size:"large",onClick:Ts,color:"primary",sx:{width:56,height:56},disabled:s===it.HIIT&&Z||s===it.FLOW&&De===0,children:r.jsx(jC,{sx:{fontSize:36}})}),r.jsx(Qe,{size:"large",onClick:lt,color:p?"success":"warning",sx:{width:64,height:64},children:p?r.jsx(Ks,{sx:{fontSize:40}}):r.jsx(Og,{sx:{fontSize:40}})}),r.jsx(Qe,{size:"large",onClick:nt,color:"error",sx:{width:64,height:64},children:r.jsx(DC,{sx:{fontSize:40}})}),r.jsx(Qe,{size:"large",onClick:wt,color:"primary",sx:{width:64,height:64},children:r.jsx(O2,{sx:{fontSize:40}})}),(s===it.HIIT||s===it.FLOW)&&r.jsx(Qe,{size:"large",onClick:ht,color:"primary",sx:{width:56,height:56},disabled:s===it.HIIT&&!Z&&!X&&!M&&_>=D||s===it.FLOW&&De>=oe.length-1,children:r.jsx(df,{sx:{fontSize:36}})})]}):r.jsx(je,{variant:"contained",size:"large",startIcon:r.jsx(Ks,{}),onClick:Ye,sx:{px:4,py:1.5},disabled:s===it.FLOW&&oe.length===0,children:"Start"})})]})}),l&&r.jsx(je,{variant:"contained",size:"large",fullWidth:!0,onClick:Ye,disabled:s===it.FLOW&&oe.length===0,sx:{mb:2,py:2},children:s===it.FLOW&&oe.length===0?"Add at least one pose to start":"Start Session"}),e&&!t&&r.jsx(je,{variant:"outlined",fullWidth:!0,onClick:()=>e("selection"),sx:{mt:2},children:"Back to Home"}),r.jsxs(Tn,{open:We,onClose:()=>ze(!1),maxWidth:"sm",fullWidth:!0,children:[r.jsx(In,{children:"Session Complete! "}),r.jsx(jn,{children:r.jsxs(Re,{spacing:3,sx:{mt:2},children:[r.jsx(I,{variant:"body1",children:"Great work! How would you rate this session?"}),r.jsxs(V,{children:[r.jsx(I,{variant:"subtitle2",gutterBottom:!0,children:"Perceived Effort (1-10)"}),r.jsx(EC,{value:dt,onChange:(he,Pe)=>qe(Pe),min:1,max:10,marks:!0,valueLabelDisplay:"on",sx:{mt:2}})]}),r.jsx(pt,{label:"Notes (optional)",multiline:!0,rows:3,value:Xe,onChange:he=>xe(he.target.value),fullWidth:!0}),r.jsxs(V,{sx:{p:2,bgcolor:"background.default",borderRadius:1},children:[r.jsxs(I,{variant:"body2",color:"text.secondary",children:["Type: ",s===it.HIIT?"HIIT":s===it.FLOW?"Yoga":"Cardio"]}),r.jsxs(I,{variant:"body2",color:"text.secondary",children:["Duration: ",Math.floor(b/60)," minutes"]})]})]})}),r.jsxs(Dn,{children:[r.jsx(je,{onClick:()=>ze(!1),children:"Skip"}),r.jsx(je,{variant:"contained",onClick:ln,children:"Save & Sync"})]})]}),r.jsxs(Tn,{open:le,onClose:()=>{ne(!1),Ee(""),_e(null)},maxWidth:"sm",fullWidth:!0,children:[r.jsxs(In,{children:["Save ",s===it.FLOW?"Yoga":"HIIT"," Preset"]}),r.jsx(jn,{children:r.jsxs(Re,{spacing:2,sx:{mt:2},children:[r.jsx(pt,{label:"Preset Name",value:Le,onChange:he=>Ee(he.target.value),fullWidth:!0,autoFocus:!0,placeholder:s===it.FLOW?"e.g., Morning Flow, Evening Stretch":"e.g., Tabata, Circuit Training"}),r.jsx(I,{variant:"body2",color:"text.secondary",children:s===it.FLOW?`This will save your current pose sequence (${oe.length} poses)`:"This will save your current interval configuration"})]})}),r.jsxs(Dn,{children:[r.jsx(je,{onClick:()=>{ne(!1),Ee(""),_e(null)},children:"Cancel"}),r.jsx(je,{variant:"contained",onClick:Zi,disabled:!Le.trim(),children:"Save Preset"})]})]})]})})};ix.propTypes={onNavigate:E.func,hideBackButton:E.bool};const AD=({onNavigate:e})=>r.jsx(V,{children:r.jsx(ix,{onNavigate:e,hideBackButton:!0})});AD.propTypes={onNavigate:E.func};var UF=function(t){return qF(t)&&!YF(t)};function qF(e){return!!e&&typeof e=="object"}function YF(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||KF(e)}var GF=typeof Symbol=="function"&&Symbol.for,$F=GF?Symbol.for("react.element"):60103;function KF(e){return e.$$typeof===$F}function QF(e){return Array.isArray(e)?[]:{}}function rf(e,t){return t.clone!==!1&&t.isMergeableObject(e)?Bc(QF(e),e,t):e}function XF(e,t,s){return e.concat(t).map(function(a){return rf(a,s)})}function ZF(e,t,s){var a={};return s.isMergeableObject(e)&&Object.keys(e).forEach(function(l){a[l]=rf(e[l],s)}),Object.keys(t).forEach(function(l){!s.isMergeableObject(t[l])||!e[l]?a[l]=rf(t[l],s):a[l]=Bc(e[l],t[l],s)}),a}function Bc(e,t,s){s=s||{},s.arrayMerge=s.arrayMerge||XF,s.isMergeableObject=s.isMergeableObject||UF;var a=Array.isArray(t),l=Array.isArray(e),u=a===l;return u?a?s.arrayMerge(e,t,s):ZF(e,t,s):rf(t,s)}Bc.all=function(t,s){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(a,l){return Bc(a,l,s)},{})};var hg=Bc,PD=typeof global=="object"&&global&&global.Object===Object&&global,JF=typeof self=="object"&&self&&self.Object===Object&&self,mi=PD||JF||Function("return this")(),Ra=mi.Symbol,OD=Object.prototype,e4=OD.hasOwnProperty,t4=OD.toString,rc=Ra?Ra.toStringTag:void 0;function n4(e){var t=e4.call(e,rc),s=e[rc];try{e[rc]=void 0;var a=!0}catch{}var l=t4.call(e);return a&&(t?e[rc]=s:delete e[rc]),l}var s4=Object.prototype,i4=s4.toString;function a4(e){return i4.call(e)}var r4="[object Null]",o4="[object Undefined]",A1=Ra?Ra.toStringTag:void 0;function Pr(e){return e==null?e===void 0?o4:r4:A1&&A1 in Object(e)?n4(e):a4(e)}function RD(e,t){return function(s){return e(t(s))}}var ax=RD(Object.getPrototypeOf,Object);function Or(e){return e!=null&&typeof e=="object"}var l4="[object Object]",c4=Function.prototype,u4=Object.prototype,_D=c4.toString,d4=u4.hasOwnProperty,f4=_D.call(Object);function P1(e){if(!Or(e)||Pr(e)!=l4)return!1;var t=ax(e);if(t===null)return!0;var s=d4.call(t,"constructor")&&t.constructor;return typeof s=="function"&&s instanceof s&&_D.call(s)==f4}function h4(){this.__data__=[],this.size=0}function ID(e,t){return e===t||e!==e&&t!==t}function Of(e,t){for(var s=e.length;s--;)if(ID(e[s][0],t))return s;return-1}var p4=Array.prototype,m4=p4.splice;function g4(e){var t=this.__data__,s=Of(t,e);if(s<0)return!1;var a=t.length-1;return s==a?t.pop():m4.call(t,s,1),--this.size,!0}function y4(e){var t=this.__data__,s=Of(t,e);return s<0?void 0:t[s][1]}function x4(e){return Of(this.__data__,e)>-1}function b4(e,t){var s=this.__data__,a=Of(s,e);return a<0?(++this.size,s.push([e,t])):s[a][1]=t,this}function Xi(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}Xi.prototype.clear=h4;Xi.prototype.delete=g4;Xi.prototype.get=y4;Xi.prototype.has=x4;Xi.prototype.set=b4;function v4(){this.__data__=new Xi,this.size=0}function S4(e){var t=this.__data__,s=t.delete(e);return this.size=t.size,s}function w4(e){return this.__data__.get(e)}function C4(e){return this.__data__.has(e)}function su(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var k4="[object AsyncFunction]",T4="[object Function]",j4="[object GeneratorFunction]",D4="[object Proxy]";function WD(e){if(!su(e))return!1;var t=Pr(e);return t==T4||t==j4||t==k4||t==D4}var km=mi["__core-js_shared__"],O1=(function(){var e=/[^.]+$/.exec(km&&km.keys&&km.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function E4(e){return!!O1&&O1 in e}var M4=Function.prototype,A4=M4.toString;function Rr(e){if(e!=null){try{return A4.call(e)}catch{}try{return e+""}catch{}}return""}var P4=/[\\^$.*+?()[\]{}|]/g,O4=/^\[object .+?Constructor\]$/,R4=Function.prototype,_4=Object.prototype,I4=R4.toString,W4=_4.hasOwnProperty,N4=RegExp("^"+I4.call(W4).replace(P4,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function L4(e){if(!su(e)||E4(e))return!1;var t=WD(e)?N4:O4;return t.test(Rr(e))}function V4(e,t){return e?.[t]}function _r(e,t){var s=V4(e,t);return L4(s)?s:void 0}var zc=_r(mi,"Map"),Fc=_r(Object,"create");function B4(){this.__data__=Fc?Fc(null):{},this.size=0}function z4(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var F4="__lodash_hash_undefined__",H4=Object.prototype,U4=H4.hasOwnProperty;function q4(e){var t=this.__data__;if(Fc){var s=t[e];return s===F4?void 0:s}return U4.call(t,e)?t[e]:void 0}var Y4=Object.prototype,G4=Y4.hasOwnProperty;function $4(e){var t=this.__data__;return Fc?t[e]!==void 0:G4.call(t,e)}var K4="__lodash_hash_undefined__";function Q4(e,t){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=Fc&&t===void 0?K4:t,this}function Er(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}Er.prototype.clear=B4;Er.prototype.delete=z4;Er.prototype.get=q4;Er.prototype.has=$4;Er.prototype.set=Q4;function X4(){this.size=0,this.__data__={hash:new Er,map:new(zc||Xi),string:new Er}}function Z4(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Rf(e,t){var s=e.__data__;return Z4(t)?s[typeof t=="string"?"string":"hash"]:s.map}function J4(e){var t=Rf(this,e).delete(e);return this.size-=t?1:0,t}function eH(e){return Rf(this,e).get(e)}function tH(e){return Rf(this,e).has(e)}function nH(e,t){var s=Rf(this,e),a=s.size;return s.set(e,t),this.size+=s.size==a?0:1,this}function Va(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}Va.prototype.clear=X4;Va.prototype.delete=J4;Va.prototype.get=eH;Va.prototype.has=tH;Va.prototype.set=nH;var sH=200;function iH(e,t){var s=this.__data__;if(s instanceof Xi){var a=s.__data__;if(!zc||a.length<sH-1)return a.push([e,t]),this.size=++s.size,this;s=this.__data__=new Va(a)}return s.set(e,t),this.size=s.size,this}function rl(e){var t=this.__data__=new Xi(e);this.size=t.size}rl.prototype.clear=v4;rl.prototype.delete=S4;rl.prototype.get=w4;rl.prototype.has=C4;rl.prototype.set=iH;function aH(e,t){for(var s=-1,a=e==null?0:e.length;++s<a&&t(e[s],s,e)!==!1;);return e}var R1=(function(){try{var e=_r(Object,"defineProperty");return e({},"",{}),e}catch{}})();function ND(e,t,s){t=="__proto__"&&R1?R1(e,t,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[t]=s}var rH=Object.prototype,oH=rH.hasOwnProperty;function LD(e,t,s){var a=e[t];(!(oH.call(e,t)&&ID(a,s))||s===void 0&&!(t in e))&&ND(e,t,s)}function _f(e,t,s,a){var l=!s;s||(s={});for(var u=-1,d=t.length;++u<d;){var f=t[u],p=void 0;p===void 0&&(p=e[f]),l?ND(s,f,p):LD(s,f,p)}return s}function lH(e,t){for(var s=-1,a=Array(e);++s<e;)a[s]=t(s);return a}var cH="[object Arguments]";function _1(e){return Or(e)&&Pr(e)==cH}var VD=Object.prototype,uH=VD.hasOwnProperty,dH=VD.propertyIsEnumerable,fH=_1((function(){return arguments})())?_1:function(e){return Or(e)&&uH.call(e,"callee")&&!dH.call(e,"callee")},iu=Array.isArray;function hH(){return!1}var BD=typeof Cs=="object"&&Cs&&!Cs.nodeType&&Cs,I1=BD&&typeof ks=="object"&&ks&&!ks.nodeType&&ks,pH=I1&&I1.exports===BD,W1=pH?mi.Buffer:void 0,mH=W1?W1.isBuffer:void 0,zD=mH||hH,gH=9007199254740991,yH=/^(?:0|[1-9]\d*)$/;function xH(e,t){var s=typeof e;return t=t??gH,!!t&&(s=="number"||s!="symbol"&&yH.test(e))&&e>-1&&e%1==0&&e<t}var bH=9007199254740991;function FD(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=bH}var vH="[object Arguments]",SH="[object Array]",wH="[object Boolean]",CH="[object Date]",kH="[object Error]",TH="[object Function]",jH="[object Map]",DH="[object Number]",EH="[object Object]",MH="[object RegExp]",AH="[object Set]",PH="[object String]",OH="[object WeakMap]",RH="[object ArrayBuffer]",_H="[object DataView]",IH="[object Float32Array]",WH="[object Float64Array]",NH="[object Int8Array]",LH="[object Int16Array]",VH="[object Int32Array]",BH="[object Uint8Array]",zH="[object Uint8ClampedArray]",FH="[object Uint16Array]",HH="[object Uint32Array]",Gt={};Gt[IH]=Gt[WH]=Gt[NH]=Gt[LH]=Gt[VH]=Gt[BH]=Gt[zH]=Gt[FH]=Gt[HH]=!0;Gt[vH]=Gt[SH]=Gt[RH]=Gt[wH]=Gt[_H]=Gt[CH]=Gt[kH]=Gt[TH]=Gt[jH]=Gt[DH]=Gt[EH]=Gt[MH]=Gt[AH]=Gt[PH]=Gt[OH]=!1;function UH(e){return Or(e)&&FD(e.length)&&!!Gt[Pr(e)]}function rx(e){return function(t){return e(t)}}var HD=typeof Cs=="object"&&Cs&&!Cs.nodeType&&Cs,wc=HD&&typeof ks=="object"&&ks&&!ks.nodeType&&ks,qH=wc&&wc.exports===HD,Tm=qH&&PD.process,Zo=(function(){try{var e=wc&&wc.require&&wc.require("util").types;return e||Tm&&Tm.binding&&Tm.binding("util")}catch{}})(),N1=Zo&&Zo.isTypedArray,YH=N1?rx(N1):UH,GH=Object.prototype,$H=GH.hasOwnProperty;function UD(e,t){var s=iu(e),a=!s&&fH(e),l=!s&&!a&&zD(e),u=!s&&!a&&!l&&YH(e),d=s||a||l||u,f=d?lH(e.length,String):[],p=f.length;for(var g in e)(t||$H.call(e,g))&&!(d&&(g=="length"||l&&(g=="offset"||g=="parent")||u&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||xH(g,p)))&&f.push(g);return f}var KH=Object.prototype;function ox(e){var t=e&&e.constructor,s=typeof t=="function"&&t.prototype||KH;return e===s}var QH=RD(Object.keys,Object),XH=Object.prototype,ZH=XH.hasOwnProperty;function JH(e){if(!ox(e))return QH(e);var t=[];for(var s in Object(e))ZH.call(e,s)&&s!="constructor"&&t.push(s);return t}function qD(e){return e!=null&&FD(e.length)&&!WD(e)}function lx(e){return qD(e)?UD(e):JH(e)}function eU(e,t){return e&&_f(t,lx(t),e)}function tU(e){var t=[];if(e!=null)for(var s in Object(e))t.push(s);return t}var nU=Object.prototype,sU=nU.hasOwnProperty;function iU(e){if(!su(e))return tU(e);var t=ox(e),s=[];for(var a in e)a=="constructor"&&(t||!sU.call(e,a))||s.push(a);return s}function cx(e){return qD(e)?UD(e,!0):iU(e)}function aU(e,t){return e&&_f(t,cx(t),e)}var YD=typeof Cs=="object"&&Cs&&!Cs.nodeType&&Cs,L1=YD&&typeof ks=="object"&&ks&&!ks.nodeType&&ks,rU=L1&&L1.exports===YD,V1=rU?mi.Buffer:void 0,B1=V1?V1.allocUnsafe:void 0;function oU(e,t){if(t)return e.slice();var s=e.length,a=B1?B1(s):new e.constructor(s);return e.copy(a),a}function GD(e,t){var s=-1,a=e.length;for(t||(t=Array(a));++s<a;)t[s]=e[s];return t}function lU(e,t){for(var s=-1,a=e==null?0:e.length,l=0,u=[];++s<a;){var d=e[s];t(d,s,e)&&(u[l++]=d)}return u}function $D(){return[]}var cU=Object.prototype,uU=cU.propertyIsEnumerable,z1=Object.getOwnPropertySymbols,ux=z1?function(e){return e==null?[]:(e=Object(e),lU(z1(e),function(t){return uU.call(e,t)}))}:$D;function dU(e,t){return _f(e,ux(e),t)}function KD(e,t){for(var s=-1,a=t.length,l=e.length;++s<a;)e[l+s]=t[s];return e}var fU=Object.getOwnPropertySymbols,QD=fU?function(e){for(var t=[];e;)KD(t,ux(e)),e=ax(e);return t}:$D;function hU(e,t){return _f(e,QD(e),t)}function XD(e,t,s){var a=t(e);return iu(e)?a:KD(a,s(e))}function pU(e){return XD(e,lx,ux)}function mU(e){return XD(e,cx,QD)}var pg=_r(mi,"DataView"),mg=_r(mi,"Promise"),gg=_r(mi,"Set"),yg=_r(mi,"WeakMap"),F1="[object Map]",gU="[object Object]",H1="[object Promise]",U1="[object Set]",q1="[object WeakMap]",Y1="[object DataView]",yU=Rr(pg),xU=Rr(zc),bU=Rr(mg),vU=Rr(gg),SU=Rr(yg),Vi=Pr;(pg&&Vi(new pg(new ArrayBuffer(1)))!=Y1||zc&&Vi(new zc)!=F1||mg&&Vi(mg.resolve())!=H1||gg&&Vi(new gg)!=U1||yg&&Vi(new yg)!=q1)&&(Vi=function(e){var t=Pr(e),s=t==gU?e.constructor:void 0,a=s?Rr(s):"";if(a)switch(a){case yU:return Y1;case xU:return F1;case bU:return H1;case vU:return U1;case SU:return q1}return t});var wU=Object.prototype,CU=wU.hasOwnProperty;function kU(e){var t=e.length,s=new e.constructor(t);return t&&typeof e[0]=="string"&&CU.call(e,"index")&&(s.index=e.index,s.input=e.input),s}var G1=mi.Uint8Array;function dx(e){var t=new e.constructor(e.byteLength);return new G1(t).set(new G1(e)),t}function TU(e,t){var s=t?dx(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.byteLength)}var jU=/\w*$/;function DU(e){var t=new e.constructor(e.source,jU.exec(e));return t.lastIndex=e.lastIndex,t}var $1=Ra?Ra.prototype:void 0,K1=$1?$1.valueOf:void 0;function EU(e){return K1?Object(K1.call(e)):{}}function MU(e,t){var s=t?dx(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.length)}var AU="[object Boolean]",PU="[object Date]",OU="[object Map]",RU="[object Number]",_U="[object RegExp]",IU="[object Set]",WU="[object String]",NU="[object Symbol]",LU="[object ArrayBuffer]",VU="[object DataView]",BU="[object Float32Array]",zU="[object Float64Array]",FU="[object Int8Array]",HU="[object Int16Array]",UU="[object Int32Array]",qU="[object Uint8Array]",YU="[object Uint8ClampedArray]",GU="[object Uint16Array]",$U="[object Uint32Array]";function KU(e,t,s){var a=e.constructor;switch(t){case LU:return dx(e);case AU:case PU:return new a(+e);case VU:return TU(e,s);case BU:case zU:case FU:case HU:case UU:case qU:case YU:case GU:case $U:return MU(e,s);case OU:return new a;case RU:case WU:return new a(e);case _U:return DU(e);case IU:return new a;case NU:return EU(e)}}var Q1=Object.create,QU=(function(){function e(){}return function(t){if(!su(t))return{};if(Q1)return Q1(t);e.prototype=t;var s=new e;return e.prototype=void 0,s}})();function XU(e){return typeof e.constructor=="function"&&!ox(e)?QU(ax(e)):{}}var ZU="[object Map]";function JU(e){return Or(e)&&Vi(e)==ZU}var X1=Zo&&Zo.isMap,e8=X1?rx(X1):JU,t8="[object Set]";function n8(e){return Or(e)&&Vi(e)==t8}var Z1=Zo&&Zo.isSet,s8=Z1?rx(Z1):n8,i8=1,a8=2,r8=4,ZD="[object Arguments]",o8="[object Array]",l8="[object Boolean]",c8="[object Date]",u8="[object Error]",JD="[object Function]",d8="[object GeneratorFunction]",f8="[object Map]",h8="[object Number]",eE="[object Object]",p8="[object RegExp]",m8="[object Set]",g8="[object String]",y8="[object Symbol]",x8="[object WeakMap]",b8="[object ArrayBuffer]",v8="[object DataView]",S8="[object Float32Array]",w8="[object Float64Array]",C8="[object Int8Array]",k8="[object Int16Array]",T8="[object Int32Array]",j8="[object Uint8Array]",D8="[object Uint8ClampedArray]",E8="[object Uint16Array]",M8="[object Uint32Array]",Ut={};Ut[ZD]=Ut[o8]=Ut[b8]=Ut[v8]=Ut[l8]=Ut[c8]=Ut[S8]=Ut[w8]=Ut[C8]=Ut[k8]=Ut[T8]=Ut[f8]=Ut[h8]=Ut[eE]=Ut[p8]=Ut[m8]=Ut[g8]=Ut[y8]=Ut[j8]=Ut[D8]=Ut[E8]=Ut[M8]=!0;Ut[u8]=Ut[JD]=Ut[x8]=!1;function Cc(e,t,s,a,l,u){var d,f=t&i8,p=t&a8,g=t&r8;if(d!==void 0)return d;if(!su(e))return e;var y=iu(e);if(y){if(d=kU(e),!f)return GD(e,d)}else{var v=Vi(e),b=v==JD||v==d8;if(zD(e))return oU(e,f);if(v==eE||v==ZD||b&&!l){if(d=p||b?{}:XU(e),!f)return p?hU(e,aU(d,e)):dU(e,eU(d,e))}else{if(!Ut[v])return l?e:{};d=KU(e,v,f)}}u||(u=new rl);var S=u.get(e);if(S)return S;u.set(e,d),s8(e)?e.forEach(function(w){d.add(Cc(w,t,s,w,e,u))}):e8(e)&&e.forEach(function(w,k){d.set(k,Cc(w,t,s,k,e,u))});var j=g?p?mU:pU:p?cx:lx,T=y?void 0:j(e);return aH(T||e,function(w,k){T&&(k=w,w=e[k]),LD(d,k,Cc(w,t,s,k,e,u))}),d}var A8=1,P8=4;function Dd(e){return Cc(e,A8|P8)}var jm,J1;function O8(){if(J1)return jm;J1=1;var e=Array.isArray,t=Object.keys,s=Object.prototype.hasOwnProperty,a=typeof Element<"u";function l(u,d){if(u===d)return!0;if(u&&d&&typeof u=="object"&&typeof d=="object"){var f=e(u),p=e(d),g,y,v;if(f&&p){if(y=u.length,y!=d.length)return!1;for(g=y;g--!==0;)if(!l(u[g],d[g]))return!1;return!0}if(f!=p)return!1;var b=u instanceof Date,S=d instanceof Date;if(b!=S)return!1;if(b&&S)return u.getTime()==d.getTime();var j=u instanceof RegExp,T=d instanceof RegExp;if(j!=T)return!1;if(j&&T)return u.toString()==d.toString();var w=t(u);if(y=w.length,y!==t(d).length)return!1;for(g=y;g--!==0;)if(!s.call(d,w[g]))return!1;if(a&&u instanceof Element&&d instanceof Element)return u===d;for(g=y;g--!==0;)if(v=w[g],!(v==="_owner"&&u.$$typeof)&&!l(u[v],d[v]))return!1;return!0}return u!==u&&d!==d}return jm=function(d,f){try{return l(d,f)}catch(p){if(p.message&&p.message.match(/stack|recursion/i)||p.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",p.name,p.message),!1;throw p}},jm}var R8=O8();const fr=WC(R8);var _8=4;function eC(e){return Cc(e,_8)}function tE(e,t){for(var s=-1,a=e==null?0:e.length,l=Array(a);++s<a;)l[s]=t(e[s],s,e);return l}var I8="[object Symbol]";function fx(e){return typeof e=="symbol"||Or(e)&&Pr(e)==I8}var W8="Expected a function";function hx(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(W8);var s=function(){var a=arguments,l=t?t.apply(this,a):a[0],u=s.cache;if(u.has(l))return u.get(l);var d=e.apply(this,a);return s.cache=u.set(l,d)||u,d};return s.cache=new(hx.Cache||Va),s}hx.Cache=Va;var N8=500;function L8(e){var t=hx(e,function(a){return s.size===N8&&s.clear(),a}),s=t.cache;return t}var V8=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,B8=/\\(\\)?/g,z8=L8(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(V8,function(s,a,l,u){t.push(l?u.replace(B8,"$1"):a||s)}),t});function F8(e){if(typeof e=="string"||fx(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var tC=Ra?Ra.prototype:void 0,nC=tC?tC.toString:void 0;function nE(e){if(typeof e=="string")return e;if(iu(e))return tE(e,nE)+"";if(fx(e))return nC?nC.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function H8(e){return e==null?"":nE(e)}function sE(e){return iu(e)?tE(e,F8):fx(e)?[e]:GD(z8(H8(e)))}function $t(){return $t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},$t.apply(this,arguments)}function Wo(e,t){if(e==null)return{};var s={},a=Object.keys(e),l,u;for(u=0;u<a.length;u++)l=a[u],!(t.indexOf(l)>=0)&&(s[l]=e[l]);return s}var If=x.createContext(void 0);If.displayName="FormikContext";var U8=If.Provider;If.Consumer;function iE(){var e=x.useContext(If);return e}var ds=function(t){return typeof t=="function"},Wf=function(t){return t!==null&&typeof t=="object"},q8=function(t){return String(Math.floor(Number(t)))===t},Dm=function(t){return Object.prototype.toString.call(t)==="[object String]"},Y8=function(t){return x.Children.count(t)===0},Em=function(t){return Wf(t)&&ds(t.then)};function us(e,t,s,a){a===void 0&&(a=0);for(var l=sE(t);e&&a<l.length;)e=e[l[a++]];return a!==l.length&&!e||e===void 0?s:e}function wr(e,t,s){for(var a=eC(e),l=a,u=0,d=sE(t);u<d.length-1;u++){var f=d[u],p=us(e,d.slice(0,u+1));if(p&&(Wf(p)||Array.isArray(p)))l=l[f]=eC(p);else{var g=d[u+1];l=l[f]=q8(g)&&Number(g)>=0?[]:{}}}return(u===0?e:l)[d[u]]===s?e:(s===void 0?delete l[d[u]]:l[d[u]]=s,u===0&&s===void 0&&delete a[d[u]],a)}function aE(e,t,s,a){s===void 0&&(s=new WeakMap),a===void 0&&(a={});for(var l=0,u=Object.keys(e);l<u.length;l++){var d=u[l],f=e[d];Wf(f)?s.get(f)||(s.set(f,!0),a[d]=Array.isArray(f)?[]:{},aE(f,t,s,a[d])):a[d]=t}return a}function G8(e,t){switch(t.type){case"SET_VALUES":return $t({},e,{values:t.payload});case"SET_TOUCHED":return $t({},e,{touched:t.payload});case"SET_ERRORS":return fr(e.errors,t.payload)?e:$t({},e,{errors:t.payload});case"SET_STATUS":return $t({},e,{status:t.payload});case"SET_ISSUBMITTING":return $t({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return $t({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return $t({},e,{values:wr(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return $t({},e,{touched:wr(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return $t({},e,{errors:wr(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return $t({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return $t({},e,{touched:aE(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":return $t({},e,{isSubmitting:!1});case"SUBMIT_SUCCESS":return $t({},e,{isSubmitting:!1});default:return e}}var lr={},Ed={};function $8(e){var t=e.validateOnChange,s=t===void 0?!0:t,a=e.validateOnBlur,l=a===void 0?!0:a,u=e.validateOnMount,d=u===void 0?!1:u,f=e.isInitialValid,p=e.enableReinitialize,g=p===void 0?!1:p,y=e.onSubmit,v=Wo(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),b=$t({validateOnChange:s,validateOnBlur:l,validateOnMount:d,onSubmit:y},v),S=x.useRef(b.initialValues),j=x.useRef(b.initialErrors||lr),T=x.useRef(b.initialTouched||Ed),w=x.useRef(b.initialStatus),k=x.useRef(!1),D=x.useRef({});x.useEffect(function(){return k.current=!0,function(){k.current=!1}},[]);var A=x.useState(0),_=A[1],P=x.useRef({values:Dd(b.initialValues),errors:Dd(b.initialErrors)||lr,touched:Dd(b.initialTouched)||Ed,status:Dd(b.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),M=P.current,R=x.useCallback(function(G){var ye=P.current;P.current=G8(ye,G),ye!==P.current&&_(function(ke){return ke+1})},[]),N=x.useCallback(function(G,ye){return new Promise(function(ke,Ce){var We=b.validate(G,ye);We==null?ke(lr):Em(We)?We.then(function(ze){ke(ze||lr)},function(ze){Ce(ze)}):ke(We)})},[b.validate]),W=x.useCallback(function(G,ye){var ke=b.validationSchema,Ce=ds(ke)?ke(ye):ke,We=ye&&Ce.validateAt?Ce.validateAt(ye,G):X8(G,Ce);return new Promise(function(ze,dt){We.then(function(){ze(lr)},function(qe){qe.name==="ValidationError"?ze(Q8(qe)):dt(qe)})})},[b.validationSchema]),U=x.useCallback(function(G,ye){return new Promise(function(ke){return ke(D.current[G].validate(ye))})},[]),B=x.useCallback(function(G){var ye=Object.keys(D.current).filter(function(Ce){return ds(D.current[Ce].validate)}),ke=ye.length>0?ye.map(function(Ce){return U(Ce,us(G,Ce))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(ke).then(function(Ce){return Ce.reduce(function(We,ze,dt){return ze==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||ze&&(We=wr(We,ye[dt],ze)),We},{})})},[U]),L=x.useCallback(function(G){return Promise.all([B(G),b.validationSchema?W(G):{},b.validate?N(G):{}]).then(function(ye){var ke=ye[0],Ce=ye[1],We=ye[2],ze=hg.all([ke,Ce,We],{arrayMerge:Z8});return ze})},[b.validate,b.validationSchema,B,N,W]),ce=Vs(function(G){return G===void 0&&(G=M.values),R({type:"SET_ISVALIDATING",payload:!0}),L(G).then(function(ye){return k.current&&(R({type:"SET_ISVALIDATING",payload:!1}),R({type:"SET_ERRORS",payload:ye})),ye})});x.useEffect(function(){d&&k.current===!0&&fr(S.current,b.initialValues)&&ce(S.current)},[d,ce]);var H=x.useCallback(function(G){var ye=G&&G.values?G.values:S.current,ke=G&&G.errors?G.errors:j.current?j.current:b.initialErrors||{},Ce=G&&G.touched?G.touched:T.current?T.current:b.initialTouched||{},We=G&&G.status?G.status:w.current?w.current:b.initialStatus;S.current=ye,j.current=ke,T.current=Ce,w.current=We;var ze=function(){R({type:"RESET_FORM",payload:{isSubmitting:!!G&&!!G.isSubmitting,errors:ke,touched:Ce,status:We,values:ye,isValidating:!!G&&!!G.isValidating,submitCount:G&&G.submitCount&&typeof G.submitCount=="number"?G.submitCount:0}})};if(b.onReset){var dt=b.onReset(M.values,He);Em(dt)?dt.then(ze):ze()}else ze()},[b.initialErrors,b.initialStatus,b.initialTouched,b.onReset]);x.useEffect(function(){k.current===!0&&!fr(S.current,b.initialValues)&&g&&(S.current=b.initialValues,H(),d&&ce(S.current))},[g,b.initialValues,H,d,ce]),x.useEffect(function(){g&&k.current===!0&&!fr(j.current,b.initialErrors)&&(j.current=b.initialErrors||lr,R({type:"SET_ERRORS",payload:b.initialErrors||lr}))},[g,b.initialErrors]),x.useEffect(function(){g&&k.current===!0&&!fr(T.current,b.initialTouched)&&(T.current=b.initialTouched||Ed,R({type:"SET_TOUCHED",payload:b.initialTouched||Ed}))},[g,b.initialTouched]),x.useEffect(function(){g&&k.current===!0&&!fr(w.current,b.initialStatus)&&(w.current=b.initialStatus,R({type:"SET_STATUS",payload:b.initialStatus}))},[g,b.initialStatus,b.initialTouched]);var Q=Vs(function(G){if(D.current[G]&&ds(D.current[G].validate)){var ye=us(M.values,G),ke=D.current[G].validate(ye);return Em(ke)?(R({type:"SET_ISVALIDATING",payload:!0}),ke.then(function(Ce){return Ce}).then(function(Ce){R({type:"SET_FIELD_ERROR",payload:{field:G,value:Ce}}),R({type:"SET_ISVALIDATING",payload:!1})})):(R({type:"SET_FIELD_ERROR",payload:{field:G,value:ke}}),Promise.resolve(ke))}else if(b.validationSchema)return R({type:"SET_ISVALIDATING",payload:!0}),W(M.values,G).then(function(Ce){return Ce}).then(function(Ce){R({type:"SET_FIELD_ERROR",payload:{field:G,value:us(Ce,G)}}),R({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),z=x.useCallback(function(G,ye){var ke=ye.validate;D.current[G]={validate:ke}},[]),q=x.useCallback(function(G){delete D.current[G]},[]),ae=Vs(function(G,ye){R({type:"SET_TOUCHED",payload:G});var ke=ye===void 0?l:ye;return ke?ce(M.values):Promise.resolve()}),fe=x.useCallback(function(G){R({type:"SET_ERRORS",payload:G})},[]),Z=Vs(function(G,ye){var ke=ds(G)?G(M.values):G;R({type:"SET_VALUES",payload:ke});var Ce=ye===void 0?s:ye;return Ce?ce(ke):Promise.resolve()}),J=x.useCallback(function(G,ye){R({type:"SET_FIELD_ERROR",payload:{field:G,value:ye}})},[]),X=Vs(function(G,ye,ke){var Ce=ds(ye)?ye(us(M.values,G)):ye;R({type:"SET_FIELD_VALUE",payload:{field:G,value:Ce}});var We=ke===void 0?s:ke;return We?ce(wr(M.values,G,Ce)):Promise.resolve()}),ie=x.useCallback(function(G,ye){var ke=ye,Ce=G,We;if(!Dm(G)){G.persist&&G.persist();var ze=G.target?G.target:G.currentTarget,dt=ze.type,qe=ze.name,Xe=ze.id,xe=ze.value,Te=ze.checked;ze.outerHTML;var Ie=ze.options,Ae=ze.multiple;ke=ye||qe||Xe,Ce=/number|range/.test(dt)?(We=parseFloat(xe),isNaN(We)?"":We):/checkbox/.test(dt)?e7(us(M.values,ke),Te,xe):Ie&&Ae?J8(Ie):xe}ke&&X(ke,Ce)},[X,M.values]),oe=Vs(function(G){if(Dm(G))return function(ye){return ie(ye,G)};ie(G)}),Me=Vs(function(G,ye,ke){ye===void 0&&(ye=!0),R({type:"SET_FIELD_TOUCHED",payload:{field:G,value:ye}});var Ce=ke===void 0?l:ke;return Ce?ce(M.values):Promise.resolve()}),De=x.useCallback(function(G,ye){G.persist&&G.persist();var ke=G.target,Ce=ke.name,We=ke.id;ke.outerHTML;var ze=ye||Ce||We;Me(ze,!0)},[Me]),Ne=Vs(function(G){if(Dm(G))return function(ye){return De(ye,G)};De(G)}),ue=x.useCallback(function(G){ds(G)?R({type:"SET_FORMIK_STATE",payload:G}):R({type:"SET_FORMIK_STATE",payload:function(){return G}})},[]),we=x.useCallback(function(G){R({type:"SET_STATUS",payload:G})},[]),be=x.useCallback(function(G){R({type:"SET_ISSUBMITTING",payload:G})},[]),ve=Vs(function(){return R({type:"SUBMIT_ATTEMPT"}),ce().then(function(G){var ye=G instanceof Error,ke=!ye&&Object.keys(G).length===0;if(ke){var Ce;try{if(Ce=Se(),Ce===void 0)return}catch(We){throw We}return Promise.resolve(Ce).then(function(We){return k.current&&R({type:"SUBMIT_SUCCESS"}),We}).catch(function(We){if(k.current)throw R({type:"SUBMIT_FAILURE"}),We})}else if(k.current&&(R({type:"SUBMIT_FAILURE"}),ye))throw G})}),Oe=Vs(function(G){G&&G.preventDefault&&ds(G.preventDefault)&&G.preventDefault(),G&&G.stopPropagation&&ds(G.stopPropagation)&&G.stopPropagation(),ve().catch(function(ye){console.warn("Warning: An unhandled error was caught from submitForm()",ye)})}),He={resetForm:H,validateForm:ce,validateField:Q,setErrors:fe,setFieldError:J,setFieldTouched:Me,setFieldValue:X,setStatus:we,setSubmitting:be,setTouched:ae,setValues:Z,setFormikState:ue,submitForm:ve},Se=Vs(function(){return y(M.values,He)}),Ue=Vs(function(G){G&&G.preventDefault&&ds(G.preventDefault)&&G.preventDefault(),G&&G.stopPropagation&&ds(G.stopPropagation)&&G.stopPropagation(),H()}),le=x.useCallback(function(G){return{value:us(M.values,G),error:us(M.errors,G),touched:!!us(M.touched,G),initialValue:us(S.current,G),initialTouched:!!us(T.current,G),initialError:us(j.current,G)}},[M.errors,M.touched,M.values]),ne=x.useCallback(function(G){return{setValue:function(ke,Ce){return X(G,ke,Ce)},setTouched:function(ke,Ce){return Me(G,ke,Ce)},setError:function(ke){return J(G,ke)}}},[X,Me,J]),Le=x.useCallback(function(G){var ye=Wf(G),ke=ye?G.name:G,Ce=us(M.values,ke),We={name:ke,value:Ce,onChange:oe,onBlur:Ne};if(ye){var ze=G.type,dt=G.value,qe=G.as,Xe=G.multiple;ze==="checkbox"?dt===void 0?We.checked=!!Ce:(We.checked=!!(Array.isArray(Ce)&&~Ce.indexOf(dt)),We.value=dt):ze==="radio"?(We.checked=Ce===dt,We.value=dt):qe==="select"&&Xe&&(We.value=We.value||[],We.multiple=!0)}return We},[Ne,oe,M.values]),Ee=x.useMemo(function(){return!fr(S.current,M.values)},[S.current,M.values]),ge=x.useMemo(function(){return typeof f<"u"?Ee?M.errors&&Object.keys(M.errors).length===0:f!==!1&&ds(f)?f(b):f:M.errors&&Object.keys(M.errors).length===0},[f,Ee,M.errors,b]),_e=$t({},M,{initialValues:S.current,initialErrors:j.current,initialTouched:T.current,initialStatus:w.current,handleBlur:Ne,handleChange:oe,handleReset:Ue,handleSubmit:Oe,resetForm:H,setErrors:fe,setFormikState:ue,setFieldTouched:Me,setFieldValue:X,setFieldError:J,setStatus:we,setSubmitting:be,setTouched:ae,setValues:Z,submitForm:ve,validateForm:ce,validateField:Q,isValid:ge,dirty:Ee,unregisterField:q,registerField:z,getFieldProps:Le,getFieldMeta:le,getFieldHelpers:ne,validateOnBlur:l,validateOnChange:s,validateOnMount:d});return _e}function K8(e){var t=$8(e),s=e.component,a=e.children,l=e.render,u=e.innerRef;return x.useImperativeHandle(u,function(){return t}),x.createElement(U8,{value:t},s?x.createElement(s,t):l?l(t):a?ds(a)?a(t):Y8(a)?null:x.Children.only(a):null)}function Q8(e){var t={};if(e.inner){if(e.inner.length===0)return wr(t,e.path,e.message);for(var l=e.inner,s=Array.isArray(l),a=0,l=s?l:l[Symbol.iterator]();;){var u;if(s){if(a>=l.length)break;u=l[a++]}else{if(a=l.next(),a.done)break;u=a.value}var d=u;us(t,d.path)||(t=wr(t,d.path,d.message))}}return t}function X8(e,t,s,a){s===void 0&&(s=!1);var l=xg(e);return t[s?"validateSync":"validate"](l,{abortEarly:!1,context:l})}function xg(e){var t=Array.isArray(e)?[]:{};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var a=String(s);Array.isArray(e[a])===!0?t[a]=e[a].map(function(l){return Array.isArray(l)===!0||P1(l)?xg(l):l!==""?l:void 0}):P1(e[a])?t[a]=xg(e[a]):t[a]=e[a]!==""?e[a]:void 0}return t}function Z8(e,t,s){var a=e.slice();return t.forEach(function(u,d){if(typeof a[d]>"u"){var f=s.clone!==!1,p=f&&s.isMergeableObject(u);a[d]=p?hg(Array.isArray(u)?[]:{},u,s):u}else s.isMergeableObject(u)?a[d]=hg(e[d],u,s):e.indexOf(u)===-1&&a.push(u)}),a}function J8(e){return Array.from(e).filter(function(t){return t.selected}).map(function(t){return t.value})}function e7(e,t,s){if(typeof e=="boolean")return!!t;var a=[],l=!1,u=-1;if(Array.isArray(e))a=e,u=e.indexOf(s),l=u>=0;else if(!s||s=="true"||s=="false")return!!t;return t&&s&&!l?a.concat(s):l?a.slice(0,u).concat(a.slice(u+1)):a}var t7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?x.useLayoutEffect:x.useEffect;function Vs(e){var t=x.useRef(e);return t7(function(){t.current=e}),x.useCallback(function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return t.current.apply(void 0,a)},[])}function ko(e){var t=e.validate,s=e.name,a=e.render,l=e.children,u=e.as,d=e.component,f=e.className,p=Wo(e,["validate","name","render","children","as","component","className"]),g=iE(),y=Wo(g,["validate","validationSchema"]),v=y.registerField,b=y.unregisterField;x.useEffect(function(){return v(s,{validate:t}),function(){b(s)}},[v,b,s,t]);var S=y.getFieldProps($t({name:s},p)),j=y.getFieldMeta(s),T={field:S,form:y};if(a)return a($t({},T,{meta:j}));if(ds(l))return l($t({},T,{meta:j}));if(d){if(typeof d=="string"){var w=p.innerRef,k=Wo(p,["innerRef"]);return x.createElement(d,$t({ref:w},S,k,{className:f}),l)}return x.createElement(d,$t({field:S,form:y},p,{className:f}),l)}var D=u||"input";if(typeof D=="string"){var A=p.innerRef,_=Wo(p,["innerRef"]);return x.createElement(D,$t({ref:A},S,_,{className:f}),l)}return x.createElement(D,$t({},S,p,{className:f}),l)}var rE=x.forwardRef(function(e,t){var s=e.action,a=Wo(e,["action"]),l=s??"#",u=iE(),d=u.handleReset,f=u.handleSubmit;return x.createElement("form",$t({onSubmit:f,ref:t,onReset:d,action:l},a))});rE.displayName="Form";const px=({open:e,onClose:t,onAssign:s,workoutData:a,currentSchedule:l})=>{const[u,d]=x.useState(null),f=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],p=S=>{d(S)},g=()=>{u&&s&&(s(u,a),y())},y=()=>{d(null),t()},v=S=>l&&l[S]!==null&&l[S]!==void 0,b=S=>S?{upper:"Upper Body",lower:"Lower Body",full:"Full Body",push:"Push",pull:"Pull",legs:"Legs",cardio:"Cardio",hiit:"HIIT",yoga:"Yoga",mobility:"Mobility",stretch:"Stretching",rest:"Rest"}[S.toLowerCase()]||S:"";return r.jsxs(Tn,{open:e,onClose:y,maxWidth:"sm",fullWidth:!0,children:[r.jsx(In,{children:r.jsxs(V,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(Ec,{color:"primary"}),r.jsx(I,{variant:"h6",children:"Assign to Day of Week"})]})}),r.jsxs(jn,{children:[r.jsx(I,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Select which day of the week to assign this workout to. It will be suggested when you visit that day next week."}),r.jsx(Hn,{sx:{pt:0},children:f.map(S=>{const j=v(S),T=u===S,w=l?.[S];return r.jsx(ot,{disablePadding:!0,sx:{mb:1},children:r.jsx(Wi,{onClick:()=>p(S),selected:T,sx:{borderRadius:2,border:T?2:1,borderColor:T?"primary.main":"divider","&.Mui-selected":{backgroundColor:"primary.light","&:hover":{backgroundColor:"primary.light"}}},children:r.jsx(kt,{primary:r.jsxs(V,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(I,{variant:"body1",fontWeight:500,children:S}),T&&r.jsx(Uo,{color:"primary",fontSize:"small"})]}),secondary:j&&w?r.jsx(ft,{label:`Currently: ${b(w.sessionType)}`,size:"small",sx:{mt:.5},color:"info",variant:"outlined"}):"Not assigned"})})},S)})})]}),r.jsxs(Dn,{children:[r.jsx(je,{onClick:y,color:"inherit",children:"Cancel"}),r.jsxs(je,{onClick:g,variant:"contained",disabled:!u,children:["Assign to ",u]})]})]})};px.propTypes={open:E.bool.isRequired,onClose:E.func.isRequired,onAssign:E.func.isRequired,workoutData:E.object,currentSchedule:E.object};const n7=60,s7=1500,Mn={STRENGTH:"strength",CARDIO:"cardio",YOGA:"yoga",REST:"rest"},Ss={FULL:"full",UPPER:"upper",PUSH:"push",PULL:"pull",LEGS:"legs",CORE:"core"},mx=({onNavigate:e})=>{const[t,s]=x.useState({show:!1,message:"",severity:"success"}),[a,l]=x.useState(!1),[u,d]=x.useState(null),[f,p]=x.useState(!1),[g,y]=x.useState(""),{isAutoAssignWeek:v,assignWorkoutToDay:b,weeklySchedule:S}=Wa(),j={date:new Date,duration:"",notes:"",sessionName:"",sessionType:Mn.STRENGTH,workoutType:Ss.FULL,numExercises:"",setsPerExercise:""},T=R=>{const N={};return R.date||(N.date="Date is required"),R.sessionType!==Mn.REST&&(R.duration?(isNaN(R.duration)||parseFloat(R.duration)<=0)&&(N.duration="Duration must be a positive number"):N.duration="Duration is required"),R.sessionType===Mn.STRENGTH&&(R.numExercises?(isNaN(R.numExercises)||parseInt(R.numExercises)<=0)&&(N.numExercises="Must be a positive number"):N.numExercises="Number of exercises is required",R.setsPerExercise?(isNaN(R.setsPerExercise)||parseInt(R.setsPerExercise)<=0)&&(N.setsPerExercise="Must be a positive number"):N.setsPerExercise="Sets per exercise is required"),N},w=async(R,{setSubmitting:N,resetForm:W})=>{try{const U=R.date.getTime(),B=R.sessionType===Mn.REST&&!R.duration?0:parseFloat(R.duration)*n7,L={date:U,duration:B,type:R.sessionType===Mn.STRENGTH?R.workoutType:R.sessionType,exercises:{},notes:R.notes.trim(),sessionName:R.sessionName.trim(),isManualLog:!0,sessionType:R.sessionType};if(R.sessionType===Mn.STRENGTH&&(L.numExercises=parseInt(R.numExercises),L.setsPerExercise=parseInt(R.setsPerExercise)),await $g(L),R.sessionType!==Mn.REST){const ce=await Gc();ce.totalWorkouts+=1,ce.totalTime+=L.duration,await Kg(ce)}if(v()&&R.sessionType!==Mn.REST){const ce=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(U).getDay()],H={sessionType:R.sessionType,sessionName:k(R.sessionType,R.workoutType),date:new Date(U).toISOString()};await b(ce,H),s({show:!0,message:`Activity logged and assigned to ${ce}!`,severity:"success"})}else d({sessionType:R.sessionType,sessionName:k(R.sessionType,R.workoutType),date:new Date(U).toISOString()}),s({show:!0,message:"Activity logged successfully!",severity:"success"});W(),setTimeout(()=>{e&&e("progress")},s7)}catch(U){console.error("Error saving activity:",U),s({show:!0,message:"Failed to save activity. Please try again.",severity:"error"})}finally{N(!1)}},k=(R,N)=>R===Mn.STRENGTH?{[Ss.FULL]:"Full Body",[Ss.UPPER]:"Upper Body",[Ss.PUSH]:"Push",[Ss.PULL]:"Pull",[Ss.LEGS]:"Legs",[Ss.CORE]:"Core"}[N]||"Strength":{[Mn.CARDIO]:"Cardio",[Mn.YOGA]:"Yoga",[Mn.REST]:"Rest"}[R]||R,D=async R=>{if(u)try{await b(R,u),y(`Session assigned to ${R}`),p(!0),d(null)}catch(N){console.error("Error assigning session:",N),y("Failed to assign session"),p(!0)}},A=()=>r.jsx(Jt,{sx:{fontSize:48,color:"primary.main"}}),_=()=>"primary.main",P=()=>"rgba(19, 70, 134, 0.1)",M=()=>"Log Activity";return r.jsx(jf,{dateAdapter:tx,children:r.jsxs(V,{sx:{width:"100%",maxWidth:"700px",margin:"0 auto",padding:{xs:"1rem 0.75rem",sm:"1.5rem 1rem",md:"2rem 1rem"},boxSizing:"border-box"},children:[r.jsxs(Ke.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[r.jsxs(V,{sx:{mb:3,textAlign:"center"},children:[r.jsx(V,{sx:{display:"flex",justifyContent:"center",mb:2},children:r.jsx(V,{sx:{p:{xs:1.5,sm:2},borderRadius:"50%",bgcolor:P(),display:"flex",alignItems:"center",justifyContent:"center"},children:A()})}),r.jsx(I,{variant:"h3",sx:{fontWeight:700,color:_(),mb:1,fontSize:{xs:"1.5rem",sm:"2rem",md:"2.5rem"}},children:M()}),r.jsx(I,{variant:"body1",sx:{color:"text.secondary",mb:2,fontSize:{xs:"0.875rem",sm:"1rem"},px:{xs:1,sm:0}},children:"Manually log your completed activities"})]}),t.show&&r.jsx(Ke.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:r.jsx(At,{severity:t.severity,sx:{mb:3},onClose:()=>s({...t,show:!1}),children:t.message})}),r.jsx(at,{sx:{borderRadius:3,width:"100%",boxSizing:"border-box"},children:r.jsx(ct,{sx:{p:{xs:2,sm:3},"&:last-child":{pb:{xs:2,sm:3}}},children:r.jsx(K8,{initialValues:j,validate:T,onSubmit:w,children:({errors:R,touched:N,isSubmitting:W,isValid:U,dirty:B,values:L,setFieldValue:ce})=>r.jsx(rE,{children:r.jsxs(Re,{spacing:2,children:[r.jsx(ko,{name:"date",children:()=>r.jsx(af,{label:"Date",value:L.date,onChange:H=>ce("date",H),slotProps:{textField:{fullWidth:!0,error:N.date&&!!R.date,helperText:N.date&&R.date,sx:{width:"100%"}}},sx:{width:"100%"}})}),r.jsxs(Kt,{fullWidth:!0,children:[r.jsx(Un,{children:"Session Type"}),r.jsxs(Xt,{value:L.sessionType,label:"Session Type",onChange:H=>ce("sessionType",H.target.value),children:[r.jsx(Ve,{value:Mn.STRENGTH,children:"Strength"}),r.jsx(Ve,{value:Mn.CARDIO,children:"Cardio"}),r.jsx(Ve,{value:Mn.YOGA,children:"Yoga"}),r.jsx(Ve,{value:Mn.REST,children:"Rest Day"})]})]}),L.sessionType===Mn.STRENGTH&&r.jsxs(Kt,{fullWidth:!0,children:[r.jsx(Un,{children:"Workout Type"}),r.jsxs(Xt,{value:L.workoutType,label:"Workout Type",onChange:H=>ce("workoutType",H.target.value),children:[r.jsx(Ve,{value:Ss.FULL,children:"Full Body"}),r.jsx(Ve,{value:Ss.UPPER,children:"Upper Body"}),r.jsx(Ve,{value:Ss.PUSH,children:"Push"}),r.jsx(Ve,{value:Ss.PULL,children:"Pull"}),r.jsx(Ve,{value:Ss.LEGS,children:"Legs"}),r.jsx(Ve,{value:Ss.CORE,children:"Core"})]})]}),L.sessionType!==Mn.REST&&r.jsx(ko,{name:"duration",children:({field:H})=>r.jsx(pt,{...H,fullWidth:!0,type:"number",label:"Duration (minutes)",placeholder:"e.g., 45",error:N.duration&&!!R.duration,helperText:N.duration&&R.duration,variant:"outlined",inputProps:{min:0,step:1}})}),L.sessionType===Mn.STRENGTH&&r.jsxs(r.Fragment,{children:[r.jsx(ko,{name:"numExercises",children:({field:H})=>r.jsx(pt,{...H,fullWidth:!0,type:"number",label:"Number of Exercises",placeholder:"e.g., 6",error:N.numExercises&&!!R.numExercises,helperText:N.numExercises&&R.numExercises,variant:"outlined",inputProps:{min:1,step:1}})}),r.jsx(ko,{name:"setsPerExercise",children:({field:H})=>r.jsx(pt,{...H,fullWidth:!0,type:"number",label:"Sets per Exercise",placeholder:"e.g., 3",error:N.setsPerExercise&&!!R.setsPerExercise,helperText:N.setsPerExercise&&R.setsPerExercise,variant:"outlined",inputProps:{min:1,step:1}})})]}),r.jsx(ko,{name:"sessionName",children:({field:H})=>r.jsx(pt,{...H,fullWidth:!0,label:"Session Name (optional)",placeholder:"e.g., Morning workout, Leg day, etc.",variant:"outlined"})}),r.jsx(ko,{name:"notes",children:({field:H})=>r.jsx(pt,{...H,fullWidth:!0,multiline:!0,rows:4,label:"Notes (optional)",placeholder:"Add any notes about your session...",variant:"outlined"})}),r.jsx(je,{type:"submit",variant:"contained",fullWidth:!0,disabled:W||!U||!B,sx:{bgcolor:_(),"&:hover":{bgcolor:_(),filter:"brightness(0.9)"},py:1.5,fontWeight:600,mt:2},children:W?"Logging...":`Log ${M().replace("Log ","")}`}),!v()&&u&&r.jsx(je,{variant:"outlined",fullWidth:!0,startIcon:r.jsx(Ec,{}),onClick:()=>l(!0),sx:{mt:1,py:1.5,fontWeight:600},children:"Assign to Day of Week"})]})})})})})]}),r.jsx(Qs,{open:f,autoHideDuration:3e3,onClose:()=>p(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(At,{severity:"success",onClose:()=>p(!1),children:g})}),r.jsx(px,{open:a,onClose:()=>l(!1),onAssign:D,workoutData:u,currentSchedule:S})]})})};mx.propTypes={onNavigate:E.func};const oE=({onNavigate:e})=>r.jsx(V,{children:r.jsx(mx,{onNavigate:e,hideBackButton:!0})});oE.propTypes={onNavigate:E.func};const lE=({onNavigate:e,loading:t=!1,workoutType:s,selectedEquipment:a,equipmentOptions:l,onWorkoutTypeChange:u,onEquipmentChange:d,onStartWorkout:f,onCustomize:p})=>{const[g,y]=x.useState(0),v=(S,j)=>{y(j)},b=S=>{y(S)};return r.jsxs(V,{sx:{padding:{xs:2,sm:2,md:3},maxWidth:"1200px",margin:"0 auto",minHeight:"calc(100vh - 60px)",paddingBottom:{xs:"80px",md:"2rem"}},children:[r.jsx(V,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:r.jsxs(ff,{value:g,onChange:v,variant:"fullWidth",sx:{"& .MuiTab-root":{minHeight:64,fontSize:{xs:"0.875rem",sm:"1rem"},fontWeight:600}},children:[r.jsx(Ea,{icon:r.jsx(Jt,{}),label:"Workout",iconPosition:"start"}),r.jsx(Ea,{icon:r.jsx(fi,{}),label:"Cardio & Yoga",iconPosition:"start"}),r.jsx(Ea,{icon:r.jsx(R2,{}),label:"Activity",iconPosition:"start"})]})}),r.jsxs(V,{sx:{mt:2},children:[g===0&&r.jsx(nx,{onNavigate:e,loading:t,workoutType:s,selectedEquipment:a,equipmentOptions:l,onWorkoutTypeChange:u,onEquipmentChange:d,onStartWorkout:f,onCustomize:p,onTabChange:b}),g===1&&r.jsx(AD,{onNavigate:e}),g===2&&r.jsx(oE,{onNavigate:e})]})]})};lE.propTypes={onNavigate:E.func,loading:E.bool,workoutType:E.string,selectedEquipment:E.instanceOf(Set),equipmentOptions:E.array,onWorkoutTypeChange:E.func,onEquipmentChange:E.func,onStartWorkout:E.func,onCustomize:E.func};const sC=e=>({push:"Push",pull:"Pull",legs:"Legs",upper:"Upper Body",lower:"Lower Body",full:"Full Body",stretch:"Stretch",hiit:"HIIT",rest:"Rest",cardio:"Cardio",strength:"Strength",hypertrophy:"Hypertrophy",active_recovery:"Active Recovery"})[e]||e.charAt(0).toUpperCase()+e.slice(1),cE=({onStartWorkout:e,onNavigate:t})=>{const{weeklySchedule:s,currentWeek:a,deloadWeekActive:l,getWorkoutSuggestion:u}=Wa(),[d,f]=x.useState(null),[p,g]=x.useState([]),[y,v]=x.useState(!1);x.useState(()=>{(async()=>{const M=await Js();g(M)})()},[]);const b=[{name:"Sunday",abbrev:"SUN"},{name:"Monday",abbrev:"MON"},{name:"Tuesday",abbrev:"TUE"},{name:"Wednesday",abbrev:"WED"},{name:"Thursday",abbrev:"THU"},{name:"Friday",abbrev:"FRI"},{name:"Saturday",abbrev:"SAT"}],S=P=>{if(!P)return r.jsx(Jt,{});const M=P.toLowerCase();return M.includes("cardio")||M.includes("hiit")?r.jsx(fi,{}):M.includes("yoga")||M.includes("mobility")||M.includes("stretch")?r.jsx(Zs,{}):M.includes("rest")?r.jsx(Ag,{}):r.jsx(Jt,{})},j=P=>{if(!P)return"primary";const M=P.toLowerCase();return M.includes("cardio")||M.includes("hiit")?"error":M.includes("yoga")||M.includes("mobility")||M.includes("stretch")?"secondary":M.includes("rest")?"default":"primary"},T=P=>P?{upper:"Upper Body",lower:"Lower Body",full:"Full Body",push:"Push",pull:"Pull",legs:"Legs",cardio:"Cardio",hiit:"HIIT",yoga:"Yoga",mobility:"Mobility",stretch:"Stretching",rest:"Rest"}[P.toLowerCase()]||P:"Not assigned",w=P=>{f(P)},k=()=>{f(null)},D=()=>{if(d&&s[d]){const P=s[d],M=(P.sessionType||"").toLowerCase();if(M.includes("rest")){k(),v(!0);return}if(M.includes("cardio")||M.includes("hiit")||M.includes("yoga")||M.includes("mobility")||M.includes("stretch")){k(),t&&t("timer");return}e&&e(P)}k()},_=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date().getDay()];return r.jsxs(V,{sx:{width:"100%",maxWidth:800,mx:"auto",p:2},children:[y&&r.jsx(Vy,{onClose:()=>v(!1)}),r.jsxs(V,{sx:{mb:3,textAlign:"center"},children:[r.jsxs(I,{variant:"h5",fontWeight:700,gutterBottom:!0,children:["Week ",a," Schedule"]}),l&&r.jsx(ft,{label:"Deload Week - Recovery Focus",color:"warning",icon:r.jsx(_2,{}),sx:{mt:1}})]}),r.jsx(Re,{spacing:2,children:b.map((P,M)=>{const R=s[P.name],N=P.name===_,W=R?null:u(P.name,p);return r.jsx(Ke.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:M*.05},children:r.jsx(at,{sx:{borderRadius:2,border:N?2:1,borderColor:N?"primary.main":"divider",boxShadow:N?3:1,cursor:R?"pointer":"default",transition:"all 0.2s ease","&:hover":R?{transform:"translateY(-2px)",boxShadow:4}:{}},onClick:()=>R&&w(P.name),children:r.jsx(ct,{children:r.jsxs(V,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[r.jsxs(V,{sx:{display:"flex",alignItems:"center",gap:2,flex:1},children:[r.jsxs(V,{sx:{minWidth:60,textAlign:"center"},children:[r.jsx(I,{variant:"overline",fontWeight:700,color:N?"primary.main":"text.secondary",children:P.abbrev}),N&&r.jsx(I,{variant:"caption",display:"block",color:"primary.main",children:"Today"})]}),r.jsx(V,{sx:{flex:1},children:R?r.jsxs(r.Fragment,{children:[r.jsxs(V,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[S(R.sessionType),r.jsx(I,{variant:"body1",fontWeight:600,children:R.sessionName||T(R.sessionType)})]}),R.exercises&&R.exercises.length>0&&r.jsxs(I,{variant:"caption",color:"text.secondary",children:[R.exercises.length," exercises"]})]}):r.jsxs(V,{children:[r.jsx(I,{variant:"body2",color:"text.secondary",children:"No workout assigned"}),W&&r.jsxs(I,{variant:"caption",color:"info.main",children:["Suggestion: ",T(W.type||W.workoutType)]})]})}),R&&r.jsx(ft,{label:T(R.sessionType),color:j(R.sessionType),size:"small",variant:"outlined"})]}),R&&r.jsx(Qe,{color:"primary",sx:{ml:1},onClick:U=>{U.stopPropagation(),w(P.name)},children:r.jsx(Ks,{})})]})})})},P.name)})}),r.jsx(Tn,{open:!!d,onClose:k,maxWidth:"sm",fullWidth:!0,children:d&&s[d]&&r.jsxs(r.Fragment,{children:[r.jsx(In,{children:r.jsxs(V,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[r.jsxs(I,{variant:"h6",children:[d," - ",s[d].sessionName||T(s[d].sessionType)]}),r.jsx(Qe,{onClick:k,size:"small",children:r.jsx(el,{})})]})}),r.jsx(jn,{children:s[d].exercises&&s[d].exercises.length>0?r.jsxs(r.Fragment,{children:[r.jsx(I,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Exercises in this workout:"}),r.jsx(Hn,{dense:!0,children:s[d].exercises.map((P,M)=>r.jsxs(V,{children:[r.jsx(ot,{children:r.jsx(kt,{primary:P.name||P.exerciseName,secondary:P.muscleGroup||P.category||""})}),M<s[d].exercises.length-1&&r.jsx(yn,{})]},M))})]}):r.jsxs(I,{variant:"body2",color:"text.secondary",children:["This is a ",T(s[d].sessionType)," session.",(s[d].sessionType.toLowerCase().includes("cardio")||s[d].sessionType.toLowerCase().includes("yoga"))&&" Choose your specific workout when ready to start."]})}),r.jsxs(Dn,{children:[r.jsx(je,{onClick:k,color:"inherit",children:"Close"}),r.jsx(je,{onClick:D,variant:"contained",startIcon:r.jsx(Ks,{}),children:"Start Workout"})]})]})})]})};cE.propTypes={onStartWorkout:E.func,onNavigate:E.func};const uE=x.memo(({todaysWorkout:e,nextWorkouts:t=[],lastWorkout:s,onQuickStart:a,onNavigate:l,loading:u=!1})=>{const[d,f]=x.useState("");x.useEffect(()=>{const b={weekday:"long",year:"numeric",month:"long",day:"numeric"};f(new Date().toLocaleDateString("en-US",b))},[]);const p=s&&s.date,y=(()=>{if(!p)return null;const b=new Date(s.date),j=Math.abs(new Date-b);return Math.ceil(j/HF.MILLISECONDS_PER_DAY)})(),v=[{title:"Workouts",icon:r.jsx(Jt,{fontSize:"large"}),description:"Start a workout",color:"primary",action:()=>l("selection")},{title:"Plans",icon:r.jsx(Ec,{fontSize:"large"}),description:"View weekly plan",color:"info",action:()=>l("plans")},{title:"HIIT",icon:r.jsx(hf,{fontSize:"large"}),description:"High intensity training",color:"error",action:()=>l("hiit")},{title:"Stretching",icon:r.jsx(Zs,{fontSize:"large"}),description:"Mobility & stretching",color:"secondary",action:()=>l("stretch")},{title:"Cardio",icon:r.jsx(fi,{fontSize:"large"}),description:"Track cardio activity",color:"warning",action:()=>l("cardio")}];return r.jsxs(V,{sx:{padding:{xs:"1rem",sm:"2rem",md:"3rem"},maxWidth:"1200px",margin:"0 auto",minHeight:"calc(100vh - 60px)"},children:[r.jsx(V,{sx:{mb:4,textAlign:"center"},children:r.jsx(I,{variant:"h5",sx:{fontWeight:600,color:"text.secondary",fontSize:{xs:"1rem",sm:"1.25rem"}},children:d})}),e&&r.jsx(at,{sx:{mb:4,borderRadius:3,boxShadow:"0 4px 16px rgba(19, 70, 134, 0.12)",background:"linear-gradient(135deg, rgba(19, 70, 134, 0.05) 0%, rgba(237, 63, 39, 0.05) 100%)"},children:r.jsxs(ct,{sx:{p:3},children:[r.jsxs(V,{sx:{display:"flex",justifyContent:"space-between",alignItems:"start",mb:2},children:[r.jsxs(V,{children:[r.jsx(I,{variant:"overline",sx:{color:"primary.main",fontWeight:600,letterSpacing:1},children:"TODAY'S WORKOUT"}),r.jsxs(I,{variant:"h4",sx:{fontWeight:700,color:"text.primary",mt:1},children:[e.type!=="rest"?sC(e.type):"Rest Day",e.focus&&e.type!=="rest"&&r.jsx(ft,{label:e.focus,size:"small",sx:{ml:1,textTransform:"capitalize"}})]})]}),y!==null&&r.jsx(ft,{label:y===0?"Today":`${y}d ago`,size:"small",color:"primary",variant:"outlined"})]}),e.type!=="rest"?r.jsxs(r.Fragment,{children:[p&&r.jsxs(I,{variant:"body1",sx:{color:"text.secondary",mb:1},children:["Last session: ",Pj(s.duration||0),s.exercises&&`  ${s.exercises.length} exercises`]}),e.estimatedDuration&&r.jsxs(I,{variant:"body1",sx:{color:"text.secondary",mb:2},children:["Estimated: ~",e.estimatedDuration," min"]}),r.jsx(je,{variant:"contained",size:"large",startIcon:r.jsx(Ks,{}),onClick:a,disabled:u,sx:{mt:1},children:"START WORKOUT"})]}):r.jsx(I,{variant:"body1",sx:{color:"text.secondary"},children:"Recovery is key to growth. Take it easy today!"}),t.length>0&&r.jsxs(V,{sx:{mt:3,pt:3,borderTop:"1px solid",borderColor:"divider"},children:[r.jsx(I,{variant:"caption",sx:{color:"text.secondary",fontWeight:600,textTransform:"uppercase",letterSpacing:.5},children:"Coming Up:"}),r.jsx(Re,{spacing:.5,sx:{mt:1},children:t.slice(0,2).map((b,S)=>b.type!=="rest"&&r.jsx(V,{sx:{display:"flex",alignItems:"center",pl:1,borderLeft:"2px solid",borderColor:"primary.main"},children:r.jsxs(I,{variant:"body2",sx:{color:"text.primary"},children:[r.jsxs("strong",{children:[b.day,":"]})," ",sC(b.type)]})},S))})]})]})}),r.jsx(V,{sx:{mb:4},children:r.jsxs(yr,{defaultExpanded:!1,sx:{borderRadius:2,"&:before":{display:"none"},boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[r.jsxs(xr,{expandIcon:r.jsx(Da,{}),sx:{"& .MuiAccordionSummary-content":{alignItems:"center",gap:1}},children:[r.jsx(Ec,{color:"primary"}),r.jsx(I,{variant:"h6",fontWeight:600,children:"Weekly Schedule"})]}),r.jsx(br,{children:r.jsx(cE,{onStartWorkout:b=>{if(console.log("Start workout from schedule:",b),a){const S=(b.sessionType||"full").toLowerCase();a(S)}},onNavigate:l})})]})}),r.jsxs(V,{children:[r.jsx(I,{variant:"h5",sx:{fontWeight:700,color:"text.primary",mb:3},children:"Quick Access"}),r.jsx(nn,{container:!0,spacing:2,children:v.map((b,S)=>r.jsx(nn,{item:!0,xs:6,sm:4,md:2.4,children:r.jsx(at,{sx:{height:"100%",cursor:"pointer",transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)"}},onClick:b.action,children:r.jsxs(ct,{sx:{textAlign:"center",p:3,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"150px"},children:[r.jsx(V,{sx:{color:`${b.color}.main`,mb:1.5},children:b.icon}),r.jsx(I,{variant:"h6",sx:{fontWeight:600,mb:.5,fontSize:{xs:"1rem",sm:"1.25rem"}},children:b.title}),r.jsx(I,{variant:"caption",sx:{color:"text.secondary",fontSize:{xs:"0.7rem",sm:"0.75rem"}},children:b.description})]})})},S))})]})]})});uE.displayName="TodayView";uE.propTypes={todaysWorkout:E.shape({day:E.string,type:E.string,focus:E.string,estimatedDuration:E.number,description:E.string}),nextWorkouts:E.arrayOf(E.shape({day:E.string,type:E.string,description:E.string})),lastWorkout:E.shape({date:E.string,duration:E.number,exercises:E.array}),onQuickStart:E.func.isRequired,onNavigate:E.func.isRequired,loading:E.bool};const Nf=({title:e,subtitle:t,icon:s,action:a})=>r.jsxs(V,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",py:1,px:2,borderBottom:"1px solid",borderColor:"divider",mb:2},children:[r.jsxs(V,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[r.jsxs(V,{sx:{display:"flex",alignItems:"center",gap:1},children:[s&&r.jsx("span",{style:{fontSize:"1.2rem"},children:s}),r.jsx(I,{variant:"h6",sx:{fontSize:"1.1rem",fontWeight:700},children:e})]}),t&&r.jsx(I,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.875rem"},children:t})]}),a&&a]});Nf.propTypes={title:E.string.isRequired,subtitle:E.string,icon:E.node,action:E.node};const gx=x.memo(({workoutType:e,selectedEquipment:t,equipmentOptions:s,onWorkoutTypeChange:a,onEquipmentChange:l,onStartWorkout:u,onCustomize:d,loading:f})=>{const[p,g]=x.useState([]),[y,v]=x.useState(!1),[b,S]=x.useState(null),[j,T]=x.useState(""),[w,k]=x.useState(null);x.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),zi().then(g)},[]);const D=()=>{if(e){const B=t.has("all")?"all":Array.from(t);u(e,B)}},A=()=>{if(e&&d){const B=t.has("all")?"all":Array.from(t);d(e,B)}},_=async B=>{await wk(B);const L=await zi();g(L)},P=B=>{S(B),T(B.name),v(!0)},M=async()=>{if(b&&j.trim()){await GR(b.id,j.trim());const B=await zi();g(B),v(!1),S(null),T("")}},R=()=>{v(!1),S(null),T("")},N=B=>{a(B.type),l(B.equipment||"all");const L=B.equipment==="all"?"all":[B.equipment];u(B.type,L,B.exercises)},W=B=>{const L=new Set(t);B==="all"?(L.clear(),L.add("all")):(L.has("all")&&L.delete("all"),L.has(B)?L.delete(B):L.add(B),L.size===0&&L.add("all")),l(L)},U=()=>{if(t.has("all"))return"All Equipment";const B=Array.from(t);return B.length===0?"All Equipment":B.length===1?s.find(ce=>ce.toLowerCase()===B[0])||B[0]:`${B.length} selected`};return r.jsxs(V,{sx:{width:"100%",minHeight:"100vh"},children:[r.jsx(Nf,{title:"Workouts",icon:""}),r.jsxs(Ke.div,{className:"screen selection-screen",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"calc(100vh - 4rem)",padding:"1rem",paddingBottom:"max(2rem, calc(env(safe-area-inset-bottom) + 1rem))",overflow:"auto"},children:[f?r.jsx(V,{sx:{textAlign:"center"},children:r.jsx(I,{variant:"h5",sx:{mb:2},children:"Generating workout..."})}):r.jsx(V,{sx:{width:"100%",maxWidth:800},children:r.jsx(at,{sx:{maxWidth:800,width:"100%",borderRadius:3,boxShadow:"0 8px 32px rgba(19, 70, 134, 0.12)"},children:r.jsxs(ct,{sx:{p:{xs:2,sm:4}},children:[r.jsx(V,{sx:{mb:3},children:r.jsxs(Re,{direction:{xs:"column",sm:"row"},spacing:2,sx:{width:"100%"},children:[r.jsxs(Kt,{fullWidth:!0,children:[r.jsx(Un,{id:"workout-type-label",children:"Workout Type"}),r.jsxs(Xt,{labelId:"workout-type-label",id:"workout-type-select",value:e||"full",label:"Workout Type",onChange:B=>a(B.target.value),children:[r.jsx(Ve,{value:"full",children:"Full Body"}),r.jsx(Ve,{value:"upper",children:"Upper Body"}),r.jsx(Ve,{value:"lower",children:"Lower Body"}),r.jsx(Ve,{value:"push",children:"Push"}),r.jsx(Ve,{value:"pull",children:"Pull"}),r.jsx(Ve,{value:"legs",children:"Legs"})]})]}),r.jsx(V,{sx:{width:"100%"},children:r.jsxs(yr,{sx:{boxShadow:"none",border:"1px solid rgba(0, 0, 0, 0.23)",borderRadius:"4px","&:before":{display:"none"},"&.Mui-expanded":{margin:0}},children:[r.jsx(xr,{expandIcon:r.jsx(Da,{}),sx:{minHeight:"56px","&.Mui-expanded":{minHeight:"56px"},"& .MuiAccordionSummary-content":{margin:"16px 0","&.Mui-expanded":{margin:"16px 0"}}},children:r.jsxs(V,{sx:{display:"flex",flexDirection:"column",width:"100%"},children:[r.jsx(I,{variant:"caption",sx:{color:"rgba(0, 0, 0, 0.6)",fontSize:"0.75rem",lineHeight:1,mb:.5},children:"Equipment"}),r.jsx(I,{sx:{color:"rgba(0, 0, 0, 0.87)",fontSize:"1rem"},children:U()})]})}),r.jsx(br,{sx:{pt:0,pb:2},children:r.jsxs(V,{component:"div",role:"group","aria-label":"Equipment selection",children:[r.jsx(Ld,{control:r.jsx(xS,{checked:t.has("all"),onChange:()=>W("all")}),label:"All Equipment",sx:{mb:1,display:"flex"}}),s.map(B=>r.jsx(Ld,{control:r.jsx(xS,{checked:t.has(B.toLowerCase()),onChange:()=>W(B.toLowerCase())}),label:B,sx:{mb:1,display:"flex"}},B))]})})]})})]})}),p.length>0&&r.jsx(V,{sx:{mb:3},children:r.jsxs(yr,{sx:{boxShadow:"none","&:before":{display:"none"}},children:[r.jsx(xr,{expandIcon:r.jsx(Da,{}),children:r.jsxs(V,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(Hi,{sx:{color:"warning.main"}}),r.jsxs(I,{variant:"h6",sx:{fontWeight:600,color:"text.primary",fontSize:{xs:"1rem",sm:"1.25rem"}},children:["Favorite Workouts (",p.length,")"]})]})}),r.jsx(br,{children:r.jsx(Re,{spacing:1.5,children:p.map(B=>r.jsx(at,{sx:{border:"1px solid",borderColor:"divider",boxShadow:"none","&:hover":{boxShadow:"0 2px 8px rgba(19, 70, 134, 0.1)"}},children:r.jsxs(ct,{sx:{p:2,"&:last-child":{pb:2}},children:[r.jsxs(V,{sx:{display:"flex",justifyContent:"space-between",alignItems:"start",mb:1},children:[r.jsxs(V,{sx:{flex:1},children:[r.jsx(I,{variant:"body1",sx:{fontWeight:600,mb:.5},children:B.name}),r.jsxs(Re,{direction:"row",spacing:1,sx:{mb:1},children:[r.jsx(ft,{label:B.type.charAt(0).toUpperCase()+B.type.slice(1),size:"small",sx:{fontSize:"0.7rem"}}),r.jsx(ft,{label:`${B.exercises.length} exercises`,size:"small",variant:"outlined",sx:{fontSize:"0.7rem"}})]})]}),r.jsxs(V,{sx:{display:"flex",gap:.5},children:[r.jsx(Qe,{size:"small",onClick:()=>P(B),sx:{color:"primary.main"},children:r.jsx(Ui,{fontSize:"small"})}),r.jsx(Qe,{size:"small",onClick:()=>_(B.id),sx:{color:"error.main"},children:r.jsx(Cr,{fontSize:"small"})})]})]}),r.jsxs(yr,{expanded:w===B.id,onChange:()=>k(w===B.id?null:B.id),sx:{boxShadow:"none","&:before":{display:"none"},bgcolor:"transparent"},children:[r.jsx(xr,{expandIcon:r.jsx(Da,{}),sx:{minHeight:"auto","& .MuiAccordionSummary-content":{margin:"8px 0"}},children:r.jsx(I,{variant:"caption",sx:{fontWeight:600,color:"primary.main"},children:"View Exercises"})}),r.jsx(br,{sx:{pt:0},children:r.jsx(Hn,{dense:!0,sx:{py:0},children:B.exercises.map((L,ce)=>r.jsx(ot,{sx:{px:0},children:r.jsx(kt,{primary:L["Exercise Name"]||L.name||"Unknown Exercise",secondary:`${L.Equipment||L.equipment||"N/A"}  ${L["Primary Muscle"]||L.primaryMuscle||"N/A"}`,primaryTypographyProps:{variant:"body2",fontWeight:500},secondaryTypographyProps:{variant:"caption"}})},ce))})})]}),r.jsx(je,{size:"small",variant:"contained",onClick:()=>N(B),sx:{fontSize:"0.8rem",textTransform:"none",mt:1},fullWidth:!0,children:"Load Workout"})]})},B.id))})})]})}),r.jsxs(Re,{direction:"row",spacing:2,sx:{width:"100%"},children:[r.jsx(je,{variant:"outlined",size:"large",fullWidth:!0,disabled:!e,onClick:A,sx:{py:2,fontSize:"1.1rem",fontWeight:600,borderRadius:2,textTransform:"none",borderWidth:2,"&:hover":{borderWidth:2}},children:"Customize"}),r.jsx(je,{variant:"contained",size:"large",fullWidth:!0,disabled:!e,onClick:D,sx:{py:2,fontSize:"1.1rem",fontWeight:600,borderRadius:2,textTransform:"none"},children:"Generate"})]})]})})}),r.jsxs(Tn,{open:y,onClose:R,maxWidth:"sm",fullWidth:!0,children:[r.jsx(In,{children:"Edit Workout Name"}),r.jsx(jn,{children:r.jsx(pt,{autoFocus:!0,margin:"dense",label:"Workout Name",type:"text",fullWidth:!0,variant:"outlined",value:j,onChange:B=>T(B.target.value),onKeyPress:B=>{B.key==="Enter"&&M()}})}),r.jsxs(Dn,{children:[r.jsx(je,{onClick:R,color:"inherit",children:"Cancel"}),r.jsx(je,{onClick:M,variant:"contained",disabled:!j.trim(),children:"Save"})]})]})]})]})});gx.displayName="SelectionScreen";gx.propTypes={workoutType:E.string.isRequired,selectedEquipment:E.instanceOf(Set).isRequired,equipmentOptions:E.array.isRequired,onWorkoutTypeChange:E.func.isRequired,onEquipmentChange:E.func.isRequired,onStartWorkout:E.func.isRequired,onCustomize:E.func,onNavigate:E.func,loading:E.bool.isRequired};const bg=({type:e,workoutType:t,defaultDuration:s=5,onComplete:a,onSkip:l})=>{const[u,d]=x.useState("ready"),[f,p]=x.useState(s),[g,y]=x.useState(s*60),v=x.useRef(null),b=x.useRef(null),S=x.useRef(null);x.useEffect(()=>()=>{v.current&&clearInterval(v.current)},[]);const T=(()=>{if(e==="warmup"){const R="Recommended: 5-10 minutes of dynamic stretching",N={upper:"Focus on shoulder circles, arm swings, chest openers, and back rotations",lower:"Focus on leg swings, hip circles, knee lifts, and ankle rotations",full:"Focus on full body movement - jumping jacks, arm circles, leg swings, and torso twists"};return{main:R,specific:N[t]||N.full}}else{const R="Recommended: 5-10 minutes of static stretching",N={upper:"Hold stretches for 20-30 seconds - focus on shoulders, chest, back, and triceps",lower:"Hold stretches for 20-30 seconds - focus on quads, hamstrings, glutes, and calves",full:"Hold stretches for 20-30 seconds - focus on all major muscle groups you trained"};return{main:R,specific:N[t]||N.full}}})(),w=()=>{if(u==="ready"||u==="completed"){const R=f*60;y(R),d("running"),b.current=Date.now(),v.current=setInterval(()=>{const N=Math.floor((Date.now()-b.current)/1e3),W=R-N;W<=0?(clearInterval(v.current),y(0),d("completed"),Vt.playBeep(880,300),setTimeout(()=>Vt.playBeep(1046,300),350)):y(W)},1e3)}else if(u==="paused"){d("running");const R=Date.now()-S.current;b.current=b.current+R;const N=f*60;v.current=setInterval(()=>{const W=Math.floor((Date.now()-b.current)/1e3),U=N-W;U<=0?(clearInterval(v.current),y(0),d("completed"),Vt.playBeep(880,300),setTimeout(()=>Vt.playBeep(1046,300),350)):y(U)},1e3)}},k=()=>{u==="running"&&(d("paused"),S.current=Date.now(),v.current&&clearInterval(v.current))},D=()=>{v.current&&clearInterval(v.current),d("ready"),y(f*60)},A=()=>{v.current&&clearInterval(v.current),a()},_=()=>{v.current&&clearInterval(v.current),l()},P=R=>{const N=Math.floor(R/60),W=R%60;return`${N}:${W.toString().padStart(2,"0")}`},M=(f*60-g)/(f*60)*100;return r.jsx(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},style:{width:"100%",maxWidth:"600px",margin:"0 auto",padding:"0.5rem"},children:r.jsx(at,{sx:{borderRadius:2,boxShadow:3,bgcolor:"background.paper"},children:r.jsxs(ct,{sx:{p:3},children:[r.jsxs(V,{sx:{textAlign:"center",mb:3},children:[r.jsx(V,{sx:{display:"flex",justifyContent:"center",mb:2},children:e==="warmup"?r.jsx(Jt,{sx:{fontSize:48,color:"warning.main"}}):r.jsx(Zs,{sx:{fontSize:48,color:"info.main"}})}),r.jsx(I,{variant:"h5",sx:{fontWeight:600,mb:1},children:e==="warmup"?"Warm-Up Time":"Cool-Down Time"}),r.jsx(I,{variant:"body2",color:"text.secondary",sx:{mb:1},children:T.main}),r.jsx(I,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:T.specific})]}),u==="ready"&&r.jsxs(V,{sx:{mb:3},children:[r.jsx(I,{variant:"body2",color:"text.secondary",sx:{mb:1,textAlign:"center"},children:"Select Duration"}),r.jsx(Re,{direction:"row",spacing:1,justifyContent:"center",children:[5,7,10].map(R=>r.jsx(ft,{label:`${R} min`,onClick:()=>{p(R),y(R*60)},color:f===R?"primary":"default",variant:f===R?"filled":"outlined",sx:{minWidth:70,cursor:"pointer"}},R))})]}),r.jsxs(V,{sx:{textAlign:"center",mb:3},children:[r.jsx(I,{variant:"h1",sx:{fontWeight:700,fontSize:{xs:"3rem",sm:"4rem"},color:u==="completed"?"success.main":"text.primary"},children:P(g)}),u==="completed"&&r.jsx(I,{variant:"body1",color:"success.main",sx:{mt:1,fontWeight:600},children:" Time Complete!"})]}),(u==="running"||u==="paused"||u==="completed")&&r.jsxs(V,{sx:{mb:3},children:[r.jsx(Gi,{variant:"determinate",value:M,sx:{height:10,borderRadius:5,bgcolor:"rgba(0, 0, 0, 0.1)","& .MuiLinearProgress-bar":{bgcolor:e==="warmup"?"warning.main":"info.main",borderRadius:5}}}),r.jsxs(I,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.5,textAlign:"center"},children:[Math.round(M),"% complete"]})]}),r.jsxs(Re,{direction:"row",spacing:1,justifyContent:"center",sx:{mb:2},children:[(u==="ready"||u==="paused")&&r.jsx(je,{variant:"contained",size:"large",startIcon:r.jsx(Ks,{}),onClick:w,sx:{minWidth:140},children:u==="paused"?"Resume":"Start Timer"}),u==="running"&&r.jsx(je,{variant:"contained",size:"large",startIcon:r.jsx(Og,{}),onClick:k,sx:{minWidth:140},children:"Pause"}),(u==="running"||u==="paused")&&r.jsx(Qe,{onClick:D,color:"primary",size:"large",sx:{border:"1px solid",borderColor:"primary.main"},children:r.jsx(I2,{})})]}),r.jsxs(Re,{direction:"row",spacing:2,sx:{mt:3},children:[r.jsxs(je,{variant:"outlined",fullWidth:!0,onClick:_,startIcon:r.jsx(df,{}),children:["Skip ",e==="warmup"?"Warm-Up":"Cool-Down"]}),(u==="completed"||u==="running"||u==="paused")&&r.jsx(je,{variant:"contained",fullWidth:!0,onClick:A,color:"success",children:"Mark Complete"})]})]})})})};bg.propTypes={type:E.oneOf(["warmup","cooldown"]).isRequired,workoutType:E.oneOf(["upper","lower","full"]).isRequired,defaultDuration:E.number,onComplete:E.func.isRequired,onSkip:E.func.isRequired};const i7=(e,t,s)=>{if(!e||!t||!s)return null;const a=t-s;if(a===0){const l=e+5;return{message:`Great job! Try ${l}lbs next set`,suggestedWeight:l,type:"success"}}if(a>=2){const l=e+10;return{message:`Excellent! You exceeded target by ${a} reps. Try ${l}lbs next set`,suggestedWeight:l,type:"excellent"}}if(a===1){const l=e+5;return{message:`Nice! Try ${l}lbs next set`,suggestedWeight:l,type:"good"}}return t<s?{message:`Keep going! Try ${e}lbs again to hit ${s} reps`,suggestedWeight:e,type:"maintain"}:null},a7=(e,t,s=3)=>{if(!e||!Array.isArray(e)||e.length<s||!t||t<=0)return!1;const a=t*e.length,l=e.reduce((d,f)=>d+(f.reps||0),0),u=a*.8;return l<=u},dE=({workoutPlan:e,onComplete:t,onExit:s,supersetConfig:a=[2,2,2,2],setsPerSuperset:l=3})=>{const[u,d]=x.useState(0),[f,p]=x.useState([]),[g,y]=x.useState(0),[v,b]=x.useState(null),[S,j]=x.useState(null),[T,w]=x.useState(!1),[k,D]=x.useState(!1),[A,_]=x.useState({}),[P,M]=x.useState(null),[R,N]=x.useState(!1),[W,U]=x.useState(""),[B,L]=x.useState(""),[ce,H]=x.useState(new Set),[Q,z]=x.useState({}),q=x.useRef(null),ae=x.useRef(null),[fe,Z]=x.useState("warmup"),[J,X]=x.useState(!1),[ie,oe]=x.useState(!1),[Me,De]=x.useState(!1),[Ne,ue]=x.useState(!1),[we,be]=x.useState("full"),ve=x.useMemo(()=>{const xe=[];let Te=0;for(const Ie of a){const Ae=[];for(let Ye=0;Ye<Ie&&Te<e.length;Ye++)e[Te]&&Ae.push(e[Te]),Te++;if(Ae.length!==0)for(let Ye=1;Ye<=l;Ye++)for(const lt of Ae)xe.push({exercise:lt,setNumber:Ye})}return xe},[e,a,l]);x.useEffect(()=>{const xe=Bo(e[0]);be(xe);const Te=localStorage.getItem("goodlift_stretch_prefs");(Te?JSON.parse(Te):{showWarmup:!0}).showWarmup||(oe(!0),Z("exercise"))},[e]),x.useEffect(()=>(q.current=Date.now(),ae.current=setInterval(()=>{const Te=Math.floor((Date.now()-q.current)/1e3);y(Te)},1e3),(async()=>{const Te={},Ie=[...new Set(e.map(Ae=>Ae["Exercise Name"]))];await Promise.all(Ie.map(async Ae=>{const[Ye,lt]=await Promise.all([hc(Ae),Lo(Ae)]);Te[Ae]={weight:Ye??null,reps:lt??null}})),_(Te)})(),()=>{ae.current&&clearInterval(ae.current)}),[e]),x.useEffect(()=>{const xe=ve[u];if(xe?.exercise?.["Exercise Name"]){const Te=xe.exercise["Exercise Name"],Ie=A[Te],Ae=Q[Te]??Ie?.weight??null;b(Ae),j(Ie?.reps??null),U(Ae??""),L(Ie?.reps??""),M(null),N(!1)}window.scrollTo({top:0,behavior:"smooth"})},[u,A,ve,Q]);const Oe=ve[u],He=Oe?.exercise?.["Exercise Name"],Se=Oe?.exercise?.Equipment?.toLowerCase()==="bodyweight",Ue=async xe=>{const Te={};xe.forEach(({exerciseName:Ie,setNumber:Ae,weight:Ye,reps:lt})=>{Te[Ie]||(Te[Ie]=[]),Te[Ie].push({setNumber:Ae,weight:Ye,reps:lt})});for(const[Ie,Ae]of Object.entries(Te)){const Ye=A[Ie]||{weight:null,reps:null},lt=Ye.reps??0,nt=Ye.weight,wt=Ae.map(ht=>ht.reps).filter(ht=>typeof ht=="number"&&!isNaN(ht));if(wt.length===0)continue;const Ht=Math.min(...wt),on=wt.every(ht=>ht>=lt);if(wt.every(ht=>ht>lt)&&Ht>0&&await Gd(Ie,Ht),on){const ht=Ae[Ae.length-1].weight;typeof ht=="number"&&!isNaN(ht)&&ht>=0&&ht!==nt&&await Bi(Ie,ht)}}},le=()=>{X(!0),Z("exercise")},ne=()=>{oe(!0),Z("exercise")},Le=()=>{De(!0),Z("complete")},Ee=()=>{ue(!0),Z("complete")},ge=()=>{const xe=Math.floor((Date.now()-q.current)/1e3);ae.current&&clearInterval(ae.current);const Te={date:new Date().toISOString(),type:e[0]?.["Primary Muscle"]||"unknown",duration:xe,exercises:{},warmupCompleted:J,warmupSkipped:ie,cooldownCompleted:Me,cooldownSkipped:Ne,totalDuration:xe};f.forEach(Ie=>{const{exerciseName:Ae,setNumber:Ye,weight:lt,reps:nt}=Ie;Te.exercises[Ae]||(Te.exercises[Ae]={sets:[]}),Te.exercises[Ae].sets.push({set:Ye,weight:lt,reps:nt})}),t(Te)},_e=async xe=>{xe.preventDefault();const Te=xe.target.closest("form")||document.querySelector("form"),Ie=Te?.querySelector("#weight-select"),Ae=Te?.querySelector("#reps-select");if(!Ie||!Ae){console.error("Form inputs not found");return}const Ye=Math.max(0,parseFloat(Ie.value)||0),lt=parseInt(Ae.value,10),nt=lt>0?lt:0,wt=Oe.exercise["Exercise Name"],Ht=Q[wt]??A[wt]?.weight;Ye!==Ht&&Ht!==null&&Ht!==void 0&&(H(ht=>new Set(ht).add(wt)),z(ht=>({...ht,[wt]:Ye})));const on={exerciseName:wt,setNumber:Oe.setNumber,weight:Ye,reps:nt},Gn=[...f,on];if(p(Gn),S&&nt>0&&!ce.has(wt)){const ht=i7(Ye,nt,S);ht&&(M(ht),N(!0),setTimeout(()=>N(!1),5e3))}if(u+1>=ve.length){await Ue(Gn);const ht=localStorage.getItem("goodlift_stretch_prefs");(ht?JSON.parse(ht):{showCooldown:!0}).showCooldown?Z("cooldown"):(ue(!0),Z("complete"))}else d(ht=>ht+1)},G=()=>{u>0&&(d(xe=>xe-1),p(xe=>xe.slice(0,-1)))},ye=async()=>{if(window.confirm("Save this workout as partially complete? Your current progress will be saved.")){await Ue(f);const xe=Math.floor((Date.now()-q.current)/1e3);ae.current&&clearInterval(ae.current);const Te={date:new Date().toISOString(),type:e[0]?.["Primary Muscle"]||"unknown",duration:xe,exercises:{},isPartial:!0};f.forEach(Ie=>{const{exerciseName:Ae,setNumber:Ye,weight:lt,reps:nt}=Ie;Te.exercises[Ae]||(Te.exercises[Ae]={sets:[]}),Te.exercises[Ae].sets.push({set:Ye,weight:lt,reps:nt})}),t(Te)}},ke=()=>{window.confirm("Are you sure you want to exit? Your progress will not be saved.")&&(ae.current&&clearInterval(ae.current),s())},Ce=()=>{try{const xe=Bo(e[0]);Qg({name:`${xe.charAt(0).toUpperCase()+xe.slice(1)} Body Workout`,type:xe,equipment:"all",exercises:e}),w(!0),D(!0)}catch(xe){console.error("Error saving to favorites:",xe),alert("Failed to save workout to favorites")}},We=xe=>{const Te=parseFloat(W)||0,Ie=Math.max(0,Te+xe);U(Ie.toFixed(1))},ze=xe=>{const Te=parseInt(B,10)||0,Ie=Math.max(0,Te+xe);L(Ie.toString())},dt=()=>{P?.suggestedWeight&&(U(P.suggestedWeight.toString()),N(!1))},qe=()=>{if(window.confirm("Skip all remaining sets of this exercise?")){let xe=u+1;const Te=Oe.exercise["Exercise Name"];for(;xe<ve.length&&ve[xe].exercise["Exercise Name"]===Te;)xe++;xe>=ve.length?Z("cooldown"):d(xe)}},Xe=()=>{alert("Exercise swap feature coming soon! For now, you can skip this exercise and manually add a different one later.")};if(!Oe&&fe==="exercise")return null;if(fe==="warmup"){const xe=localStorage.getItem("goodlift_stretch_prefs"),Te=xe?JSON.parse(xe):{defaultWarmupDuration:5};return r.jsxs("div",{className:"screen",style:{paddingBottom:"100px",padding:"0.5rem",maxWidth:"100vw",boxSizing:"border-box"},children:[r.jsx(V,{sx:{mb:1.5,px:{xs:.5,sm:0}},children:r.jsx(I,{variant:"h6",sx:{fontWeight:600,textAlign:"center",mb:1},children:"Warm-Up Phase"})}),r.jsx(bg,{type:"warmup",workoutType:we,defaultDuration:Te.defaultWarmupDuration||5,onComplete:le,onSkip:ne})]})}if(fe==="cooldown"){const xe=localStorage.getItem("goodlift_stretch_prefs"),Te=xe?JSON.parse(xe):{defaultCooldownDuration:5};return r.jsxs("div",{className:"screen",style:{paddingBottom:"100px",padding:"0.5rem",maxWidth:"100vw",boxSizing:"border-box"},children:[r.jsx(V,{sx:{mb:1.5,px:{xs:.5,sm:0}},children:r.jsx(I,{variant:"h6",sx:{fontWeight:600,textAlign:"center",mb:1},children:"Cool-Down Phase"})}),r.jsx(bg,{type:"cooldown",workoutType:we,defaultDuration:Te.defaultCooldownDuration||5,onComplete:Le,onSkip:Ee})]})}return fe==="complete"?r.jsx("div",{className:"screen",style:{paddingBottom:"100px",padding:"2rem",maxWidth:"100vw",boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"60vh"},children:r.jsxs(Ke.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},style:{textAlign:"center"},children:[r.jsx(W2,{sx:{fontSize:80,color:"primary.main",mb:2}}),r.jsx(I,{variant:"h4",sx:{fontWeight:600,mb:2},children:"Workout Complete! "}),r.jsxs(I,{variant:"body1",color:"text.secondary",sx:{mb:3},children:["Great job! You've completed your workout",!ie&&!Ne?" including warmup and cooldown phases":ie?Ne?"":" including cooldown phase":" including warmup phase","."]}),r.jsx(je,{variant:"contained",size:"large",onClick:ge,sx:{mt:2},children:"Finish Workout"})]})}):r.jsxs("div",{className:"screen",style:{paddingBottom:"100px",padding:"0.5rem",maxWidth:"100vw",boxSizing:"border-box"},children:[r.jsxs(V,{sx:{mb:1.5,px:{xs:.5,sm:0}},children:[r.jsxs(V,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:.5,gap:1},children:[r.jsx(I,{variant:"body1",sx:{fontWeight:600,fontSize:{xs:"0.9rem",sm:"1.25rem"}},children:Aj(g)}),r.jsxs(V,{sx:{display:"flex",alignItems:"center",gap:{xs:.5,sm:1}},children:[r.jsx(Qe,{onClick:Ce,disabled:T,size:"small",sx:{color:T?"warning.main":"action.active","&:hover":{color:"warning.main"},p:{xs:.5,sm:1}},"aria-label":"Save to favorites",children:T?r.jsx(Hi,{sx:{fontSize:{xs:20,sm:24}}}):r.jsx(MC,{sx:{fontSize:{xs:20,sm:24}}})}),r.jsxs(I,{variant:"body1",sx:{fontWeight:600,fontSize:{xs:"0.9rem",sm:"1.25rem"}},children:[u+1,"/",ve.length]})]})]}),r.jsx(Gi,{variant:"determinate",value:u/ve.length*100,sx:{height:{xs:6,sm:8},borderRadius:4,bgcolor:"rgba(138, 190, 185, 0.2)","& .MuiLinearProgress-bar":{bgcolor:"primary.main",borderRadius:4}}})]}),r.jsx("div",{className:"exercise-card-container",children:r.jsx(Qo,{mode:"wait",children:r.jsx(Ke.form,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},onSubmit:_e,children:r.jsxs(Ke.div,{className:"exercise-card",initial:{scale:.95},animate:{scale:1},transition:{duration:.3},children:[r.jsxs(V,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1,mb:2},children:[r.jsx(I,{variant:"h3",component:"h2",sx:{fontWeight:700,fontSize:{xs:"1.75rem",sm:"2.5rem"},color:"primary.main",textAlign:"center"},children:He}),r.jsx(Qe,{component:"a",href:`https://www.google.com/search?q=${encodeURIComponent(He+" form")}`,target:"_blank",rel:"noopener noreferrer",sx:{color:"primary.main",minWidth:"44px",minHeight:"44px","&:hover":{backgroundColor:"rgba(19, 70, 134, 0.08)"}},"aria-label":`Search for ${He} form guide`,children:r.jsx(N2,{sx:{fontSize:{xs:28,sm:36}}})})]}),r.jsx(V,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1,my:2},children:r.jsx(ft,{label:`Set ${Oe.setNumber} of ${l}`,color:"primary",sx:{fontWeight:600,fontSize:"1rem",minHeight:"44px",px:2}})}),(v!==null||S!==null)&&r.jsxs(Ke.p,{className:"prev-weight",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.2},children:["Target: ",v??""," lbs  ",S??""," reps"]}),r.jsx(Qo,{children:R&&P&&r.jsx(Ke.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:r.jsx(At,{severity:P.type==="excellent"?"success":"info",icon:r.jsx(Aa,{}),action:P.suggestedWeight!==parseFloat(W)&&r.jsx(je,{color:"inherit",size:"small",onClick:dt,sx:{minHeight:"44px"},children:"Apply"}),sx:{mb:2,minHeight:"44px"},children:P.message})})}),r.jsxs("div",{className:"input-row",children:[r.jsxs("div",{className:"input-group",children:[r.jsxs("label",{htmlFor:"weight-select",children:["Weight (lbs)",Se&&" (N/A)"]}),r.jsxs(V,{sx:{display:"flex",gap:1,alignItems:"center"},children:[r.jsx(Qe,{onClick:()=>We(-2.5),disabled:Se,size:"large",sx:{bgcolor:Se?"action.disabledBackground":"action.hover",minWidth:"44px",minHeight:"44px","&:hover":{bgcolor:Se?"action.disabledBackground":"action.selected"}},children:r.jsx(kr,{})}),r.jsx("input",{id:"weight-select",type:"tel",inputMode:"decimal",pattern:"[0-9]*([.,][0-9]+)?",step:"2.5",min:"0",max:"500",className:"exercise-input",value:W,onChange:xe=>U(xe.target.value),placeholder:"",disabled:Se,"aria-label":"Weight in pounds",onFocus:xe=>{xe.target.select();const Ie=xe.target.getBoundingClientRect().bottom,Ye=window.innerHeight*.55;Ie>Ye&&setTimeout(()=>{xe.target.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{window.scrollBy({top:-80,behavior:"smooth"})},100)},300)},style:{width:"100%",padding:"12px",minHeight:"44px",borderRadius:"8px",border:"2px solid var(--color-border)",fontSize:"1.1rem",fontFamily:"var(--font-body)",backgroundColor:Se?"var(--color-disabled)":"var(--color-surface)",color:Se?"var(--color-text-disabled)":"var(--color-text)",cursor:Se?"not-allowed":"text",opacity:Se?.6:1}}),r.jsx(Qe,{onClick:()=>We(2.5),disabled:Se,size:"large",sx:{bgcolor:Se?"action.disabledBackground":"action.hover",minWidth:"44px",minHeight:"44px","&:hover":{bgcolor:Se?"action.disabledBackground":"action.selected"}},children:r.jsx(Yi,{})})]})]}),r.jsxs("div",{className:"input-group",children:[r.jsx("label",{htmlFor:"reps-select",children:"Reps"}),r.jsxs(V,{sx:{display:"flex",gap:1,alignItems:"center"},children:[r.jsx(Qe,{onClick:()=>ze(-1),size:"large",sx:{bgcolor:"action.hover",minWidth:"44px",minHeight:"44px","&:hover":{bgcolor:"action.selected"}},children:r.jsx(kr,{})}),r.jsx("input",{id:"reps-select",type:"number",inputMode:"numeric",step:"1",min:"1",max:"20",className:"exercise-input",value:B,onChange:xe=>L(xe.target.value),placeholder:"","aria-label":"Repetitions",onFocus:xe=>{xe.target.select();const Ie=xe.target.getBoundingClientRect().bottom,Ye=window.innerHeight*.55;Ie>Ye&&setTimeout(()=>{xe.target.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{window.scrollBy({top:-80,behavior:"smooth"})},100)},300)},style:{width:"100%",padding:"12px",minHeight:"44px",borderRadius:"8px",border:"2px solid var(--color-border)",fontSize:"1.1rem",fontFamily:"var(--font-body)",backgroundColor:"var(--color-surface)",color:"var(--color-text)"}}),r.jsx(Qe,{onClick:()=>ze(1),size:"large",sx:{bgcolor:"action.hover",minWidth:"44px",minHeight:"44px","&:hover":{bgcolor:"action.selected"}},children:r.jsx(Yi,{})})]})]})]}),r.jsxs(V,{sx:{display:"flex",gap:1,mt:2,mb:2},children:[r.jsx(je,{variant:"outlined",size:"small",startIcon:r.jsx(df,{}),onClick:qe,sx:{flex:1,minHeight:"44px"},children:"Skip Exercise"}),r.jsx(je,{variant:"outlined",size:"small",startIcon:r.jsx(L2,{}),onClick:Xe,sx:{flex:1,minHeight:"44px"},children:"Swap Exercise"})]}),r.jsxs("div",{className:"workout-nav-buttons",children:[u>0&&r.jsxs(Ke.button,{type:"button",className:"back-btn",onClick:G,whileHover:{scale:1.02},whileTap:{scale:.98},style:{minHeight:"44px"},children:[r.jsx(kC,{sx:{fontSize:18,mr:.5}})," Back"]}),r.jsxs(Ke.button,{type:"submit",className:"next-btn",whileHover:{scale:1.02},whileTap:{scale:.98},style:{minHeight:"44px"},children:["Next ",r.jsx(V2,{sx:{fontSize:18,ml:.5}})]})]})]})},u)})}),r.jsxs("div",{className:"workout-controls",children:[r.jsxs(Ke.button,{className:"exit-workout-btn",onClick:ke,whileHover:{scale:1.05},whileTap:{scale:.95},style:{background:"rgb(237, 63, 39)",marginBottom:"12px",color:"white",minHeight:"44px"},children:[r.jsx(B2,{sx:{fontSize:18,mr:.5}})," End Workout"]}),f.length>0&&r.jsx(Ke.button,{className:"partial-complete-btn",onClick:ye,whileHover:{scale:1.05},whileTap:{scale:.95},style:{background:"rgb(254, 178, 26)",color:"rgb(19, 70, 134)",minHeight:"44px"},children:"End and Save"})]}),r.jsx(Qs,{open:k,autoHideDuration:3e3,onClose:()=>D(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(At,{severity:"success",onClose:()=>D(!1),children:"Workout saved to favorites!"})})]})};dE.propTypes={workoutPlan:E.array.isRequired,onComplete:E.func.isRequired,onExit:E.func.isRequired,supersetConfig:E.arrayOf(E.number),setsPerSuperset:E.number};const yx=({value:e,onChange:t,availableExercises:s,label:a="Exercise",placeholder:l="Type to search and swap exercise...",size:u="small",fullWidth:d=!0,disabled:f=!1,sx:p={}})=>{const g=y=>{if(!y)return s;const v=y.toLowerCase().split(" ").filter(b=>b.length>0);return s.filter(b=>{const S=[b["Exercise Name"],b["Primary Muscle"],b["Secondary Muscles"],b.Equipment,b["Movement Pattern"],b.Difficulty,b["Workout Type"]].join(" ").toLowerCase();return v.every(j=>S.includes(j))})};return r.jsx(CC,{fullWidth:d,size:u,options:s,value:e,onChange:t,disabled:f,getOptionLabel:y=>y["Exercise Name"]||y.name||"",filterOptions:(y,v)=>g(v.inputValue),isOptionEqualToValue:(y,v)=>(y["Exercise Name"]||y.name)===(v["Exercise Name"]||v.name),renderInput:y=>r.jsx(pt,{...y,label:a,placeholder:l}),renderOption:(y,v)=>{const{key:b,...S}=y;return r.jsx("li",{...S,children:r.jsxs(V,{children:[r.jsx(I,{variant:"body2",children:v["Exercise Name"]}),r.jsxs(I,{variant:"caption",color:"text.secondary",children:[v["Primary Muscle"],"  ",v.Equipment]})]})},b)},noOptionsText:"No exercises found. Try different search terms.",sx:p})};yx.propTypes={value:E.object,onChange:E.func.isRequired,availableExercises:E.array.isRequired,label:E.string,placeholder:E.string,size:E.string,fullWidth:E.bool,disabled:E.bool,sx:E.object};const xx=x.memo(({workout:e,workoutType:t,onStart:s,onCancel:a,onRandomizeExercise:l,isCustomizeMode:u=!1,supersetConfig:d=[2,2,2,2],setsPerSuperset:f=3})=>{const[p,g]=x.useState({}),[y,v]=x.useState(!0),[b,S]=x.useState(!1),[j,T]=x.useState(!1),[w,k]=x.useState({}),[D,A]=x.useState({open:!1,message:"",severity:"info"}),[_,P]=x.useState([]),[M,R]=x.useState(e),[N,W]=x.useState(f);x.useEffect(()=>{(async()=>{try{const X=await(await fetch(sx)).json();P(X)}catch(J){console.error("Error loading exercises:",J),P([])}})()},[]),x.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),(async()=>{const J={};if(u){R(e),g({}),v(!1);return}const X=e.filter(ie=>ie!==null);for(const ie of X){const oe=ie["Exercise Name"],[Me,De]=await Promise.all([hc(oe),Lo(oe)]);J[oe]={weight:Me??"",targetReps:De??""}}g(J),R(e),v(!1)})()},[e,u,d]),x.useEffect(()=>{const Z=async()=>{const J=Object.keys(p),ie=e.filter(oe=>oe!==null).filter(oe=>!J.includes(oe["Exercise Name"]));if(ie.length>0){const oe={...p};for(const Me of ie){const De=Me["Exercise Name"];if(!w[De]){const[Ne,ue]=await Promise.all([hc(De),Lo(De)]);oe[De]={weight:Ne??"",targetReps:ue??""}}}g(oe)}};!y&&Object.keys(p).length>0&&Z()},[e,y]);const U=(Z,J)=>{if(J===""||/^\d*\.?\d*$/.test(J)){const X=J===""?"":parseFloat(J);g(ie=>({...ie,[Z]:{...ie[Z],weight:X}})),k(ie=>({...ie,[Z]:{...ie[Z],weightCustomized:!0}}))}},B=(Z,J)=>{if(J===""||J===null||J===void 0)return;const X=parseFloat(J);if(!isNaN(X)&&X>0){const ie=Math.round(X/2.5)*2.5;ie!==X&&(g(oe=>({...oe,[Z]:{...oe[Z],weight:ie}})),A({open:!0,message:`Weight adjusted to ${ie} lbs (nearest 2.5 lb increment)`,severity:"info"}))}},L=(Z,J)=>{if(J===""||/^\d+$/.test(J)){const X=J===""?"":parseInt(J,10);g(ie=>({...ie,[Z]:{...ie[Z],targetReps:X}})),k(ie=>({...ie,[Z]:{...ie[Z],repsCustomized:!0}}))}},ce=(Z,J)=>{if(J===""||J===null||J===void 0)return;const X=parseInt(J,10);(isNaN(X)||X<1)&&g(ie=>({...ie,[Z]:{...ie[Z],targetReps:""}}))},H=x.useCallback((Z,J)=>{l&&l(Z,J)},[l]),Q=x.useCallback((Z,J)=>{if(!J)return;R(ie=>{const oe=[...ie];return oe[Z]=J,oe});const X=J["Exercise Name"];w[X]||hc(X).then(ie=>{Lo(X).then(oe=>{g(Me=>({...Me,[X]:{weight:ie??"",targetReps:oe??""}}))})})},[w]),z=async()=>{if(u&&M.some(J=>J===null)){A({open:!0,message:"Please select exercises for all slots before starting",severity:"warning"});return}for(const[Z,J]of Object.entries(p)){const X=J.weight===""?null:J.weight,ie=J.targetReps===""?null:J.targetReps;await Bi(Z,X),await Gd(Z,ie)}s(M,d,N)},q=()=>{try{const Z=M.filter(J=>J!==null);Qg({name:`${t.charAt(0).toUpperCase()+t.slice(1)} Body Workout`,type:t,exercises:Z}),S(!0),T(!0)}catch(Z){console.error("Error saving to favorites:",Z)}},ae=[];let fe=0;for(const Z of d){const J=[];for(let X=0;X<Z&&fe<M.length;X++)J.push(M[fe]),fe++;J.length>0&&ae.push(J)}return y?r.jsx(V,{sx:{textAlign:"center",py:8,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:r.jsx(Ke.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:r.jsxs(I,{variant:"h5",sx:{color:"text.secondary",fontWeight:500},children:["Loading",r.jsx(Ke.span,{initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:"..."})]})})}):r.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"screen",style:{maxWidth:"900px",margin:"0 auto",padding:"1rem",width:"100%",boxSizing:"border-box",overflowX:"hidden"},children:[r.jsxs(V,{sx:{mb:{xs:2,sm:4},textAlign:"center",position:"relative",px:{xs:.5,sm:0}},children:[r.jsx(Qe,{onClick:q,disabled:b,size:"small",sx:{position:"absolute",top:0,right:{xs:0,sm:0},color:b?"warning.main":"action.active",minWidth:"44px",minHeight:"44px","&:hover":{color:"warning.main"},p:{xs:.5,sm:1}},"aria-label":"Save to favorites",children:b?r.jsx(Hi,{sx:{fontSize:{xs:24,sm:32}}}):r.jsx(bS,{sx:{fontSize:{xs:24,sm:32}}})}),r.jsx(Ke.div,{initial:{scale:.8},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},children:r.jsx(Jt,{sx:{fontSize:{xs:48,sm:60},color:"primary.main",mb:{xs:1,sm:2}}})}),r.jsx(I,{variant:"h3",component:"h1",gutterBottom:!0,sx:{fontWeight:700,color:"primary.main",fontSize:{xs:"1.5rem",sm:"3rem"}},children:u?"Customize Your Workout":`Your ${t.charAt(0).toUpperCase()+t.slice(1)} Body Workout`}),r.jsxs(I,{variant:"subtitle1",color:"text.secondary",sx:{mb:1,fontSize:{xs:"0.875rem",sm:"1rem"}},children:[ae.length," Supersets  ",M.filter(Z=>Z!==null).length," Exercises  ",N," Sets Each"]}),r.jsxs(V,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1,mb:1},children:[r.jsx(I,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Sets per superset:"}),r.jsxs(V,{sx:{display:"flex",alignItems:"center",gap:.5},children:[r.jsx(Qe,{size:"small",onClick:()=>W(Z=>Math.max(1,Z-1)),disabled:N<=1,sx:{minWidth:"32px",minHeight:"32px",bgcolor:"action.hover","&:hover":{bgcolor:"action.selected"}},children:r.jsx(kr,{fontSize:"small"})}),r.jsx(I,{variant:"h6",sx:{fontWeight:700,color:"primary.main",minWidth:"32px",textAlign:"center",fontSize:{xs:"1rem",sm:"1.25rem"}},children:N}),r.jsx(Qe,{size:"small",onClick:()=>W(Z=>Math.min(10,Z+1)),disabled:N>=10,sx:{minWidth:"32px",minHeight:"32px",bgcolor:"action.hover","&:hover":{bgcolor:"action.selected"}},children:r.jsx(Yi,{fontSize:"small"})})]})]}),r.jsx(I,{variant:"body2",color:"primary.main",sx:{fontWeight:600,fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:u?"Select exercises and set your target weight and reps for each":"Set your starting target weight and target reps for each exercise"})]}),r.jsx(Re,{spacing:{xs:2,sm:3},sx:{px:{xs:.5,sm:0}},children:ae.map((Z,J)=>r.jsx(Ke.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*J,duration:.4},children:r.jsx(at,{sx:{background:"linear-gradient(135deg, rgba(138, 190, 185, 0.1), rgba(193, 120, 90, 0.1))",border:"2px solid",borderColor:"primary.main",borderRadius:3,transition:"all 0.3s ease",maxWidth:"100%",boxSizing:"border-box","&:hover":{transform:"translateY(-4px)",boxShadow:"0 12px 24px rgba(48, 86, 105, 0.2)"}},children:r.jsxs(ct,{sx:{p:{xs:1.5,sm:2},"&:last-child":{pb:{xs:1.5,sm:2}}},children:[r.jsx(I,{variant:"h6",gutterBottom:!0,sx:{color:"secondary.main",fontWeight:600,mb:1.5,display:"flex",alignItems:"center",gap:1},children:r.jsx(ft,{label:`Superset ${J+1}`,size:"small",sx:{bgcolor:"secondary.main",color:"white",fontWeight:600}})}),r.jsx(Re,{spacing:{xs:1,sm:1.5},children:Z.map((X,ie)=>{const oe=X?X["Exercise Name"]:null,Me=oe?p[oe]||{weight:"",targetReps:""}:{weight:"",targetReps:""},De=ae.slice(0,J).reduce((ue,we)=>ue+we.length,0)+ie,Ne=String.fromCharCode(65+ie);return r.jsxs(V,{sx:{p:{xs:1,sm:1.5},bgcolor:"background.paper",borderRadius:2,transition:"all 0.2s ease"},children:[r.jsxs(V,{sx:{display:"flex",alignItems:"flex-start",gap:{xs:1,sm:1.5},mb:{xs:1,sm:1.5}},children:[r.jsx(I,{sx:{fontSize:{xs:"1.25rem",sm:"1.75rem"},color:"primary.main",fontWeight:700,width:{xs:"28px",sm:"36px"},textAlign:"center",flexShrink:0},children:Ne}),r.jsx(V,{sx:{flex:1,minWidth:0},children:r.jsx(V,{sx:{mb:.5},children:r.jsx(yx,{value:X,onChange:(ue,we)=>{we&&Q(De,we)},availableExercises:_,label:"Exercise",placeholder:u?"Type to search and select...":"Type to search and swap...",disabled:_.length===0})})})]}),X&&r.jsxs(r.Fragment,{children:[r.jsxs(Re,{direction:"row",spacing:{xs:1,sm:1.5},sx:{pl:{xs:3.5,sm:5.5},flexWrap:{xs:"wrap",sm:"nowrap"},mb:{xs:1,sm:1.5}},children:[r.jsx(pt,{type:"tel",inputMode:"decimal",value:Me.weight===""?"":Me.weight,onChange:ue=>U(oe,ue.target.value),onBlur:ue=>B(oe,ue.target.value),onFocus:ue=>ue.target.select(),placeholder:X.Equipment?.toLowerCase()==="bodyweight"?"N/A":"Weight (lbs)",size:"small",disabled:X.Equipment?.toLowerCase()==="bodyweight",inputProps:{min:0,max:500,step:2.5,pattern:"[0-9]*([.,][0-9]+)?","aria-label":`Target weight in pounds for ${oe}`},sx:{minWidth:{xs:100,sm:120},flex:{xs:"1 1 45%",sm:"none"},"& .MuiInputBase-input.Mui-disabled":{WebkitTextFillColor:"rgba(0, 0, 0, 0.38)",backgroundColor:"rgba(0, 0, 0, 0.04)"}}}),r.jsx(pt,{type:"tel",inputMode:"numeric",value:Me.targetReps===""?"":Me.targetReps,onChange:ue=>L(oe,ue.target.value),onBlur:ue=>ce(oe,ue.target.value),onFocus:ue=>ue.target.select(),placeholder:"Reps",size:"small",inputProps:{min:1,max:20,step:1,pattern:"\\d*","aria-label":`Target repetitions for ${oe}`},sx:{minWidth:{xs:100,sm:120},flex:{xs:"1 1 45%",sm:"none"}}})]}),r.jsxs(V,{sx:{pl:{xs:3.5,sm:5.5},display:"flex",alignItems:"center",gap:1,flexWrap:"wrap"},children:[r.jsx(ft,{label:X["Primary Muscle"],size:"small",variant:"outlined",sx:{borderColor:"primary.main",color:"primary.main",fontSize:{xs:"0.65rem",sm:"0.75rem"}}}),r.jsx(ft,{label:X.Equipment,size:"small",variant:"outlined",sx:{borderColor:"text.secondary",color:"text.secondary",fontSize:{xs:"0.65rem",sm:"0.75rem"}}}),l&&!u&&r.jsx(Qe,{size:"small",onClick:ue=>{ue.stopPropagation(),H(X,De)},sx:{color:"primary.main",minWidth:"36px",minHeight:"36px","&:hover":{backgroundColor:"rgba(19, 70, 134, 0.08)"}},"aria-label":`Randomize ${oe}`,children:r.jsx(z2,{fontSize:"small"})})]})]})]},ie)})})]})})},J))}),r.jsx(Ke.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:r.jsxs(Re,{direction:"row",spacing:2,sx:{mt:{xs:3,sm:4},px:{xs:.5,sm:0}},justifyContent:"center",children:[r.jsx(je,{variant:"contained",size:"large",onClick:a,sx:{borderRadius:2,minWidth:{xs:"60px",sm:"80px"},px:{xs:1,sm:2},py:1.5,fontSize:{xs:"1.2rem",sm:"1.5rem"},fontWeight:600,bgcolor:"rgb(237, 63, 39)",color:"white","&:hover":{bgcolor:"rgb(200, 50, 30)"}},children:""}),r.jsx(je,{variant:"contained",size:"large",startIcon:b?r.jsx(Hi,{}):r.jsx(bS,{}),onClick:q,disabled:b,sx:{borderRadius:2,flex:1,maxWidth:{xs:"130px",sm:"150px"},px:{xs:2,sm:3},py:1.5,fontSize:{xs:"0.9rem",sm:"1.1rem"},fontWeight:600,bgcolor:b?"rgb(76, 175, 80)":"rgb(254, 178, 26)",color:"white","&:hover":{bgcolor:b?"rgb(56, 142, 60)":"rgb(245, 158, 11)"},"&:disabled":{bgcolor:"rgb(76, 175, 80)",color:"white",opacity:.8}},children:b?"Saved!":"Save"}),r.jsx(je,{variant:"contained",size:"large",startIcon:r.jsx(Ks,{}),onClick:z,sx:{borderRadius:2,flex:1,maxWidth:{xs:"130px",sm:"150px"},px:{xs:2,sm:3},py:1.5,fontSize:{xs:"0.9rem",sm:"1.1rem"},fontWeight:600,bgcolor:"rgb(19, 70, 134)",color:"white","&:hover":{bgcolor:"rgb(15, 56, 107)",transform:"translateY(-2px)",boxShadow:"0 8px 16px rgba(19, 70, 134, 0.3)"},transition:"all 0.3s ease"},children:"Begin"})]})}),r.jsx(Qs,{open:j,autoHideDuration:3e3,onClose:()=>T(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(At,{severity:"success",onClose:()=>T(!1),children:"Workout saved to favorites!"})}),r.jsx(Qs,{open:D.open,autoHideDuration:4e3,onClose:()=>A({...D,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(At,{severity:D.severity,onClose:()=>A({...D,open:!1}),children:D.message})})]})});xx.displayName="WorkoutPreview";xx.propTypes={workout:E.array.isRequired,workoutType:E.string.isRequired,onStart:E.func.isRequired,onCancel:E.func.isRequired,onRandomizeExercise:E.func,equipmentFilter:E.oneOfType([E.string,E.array]),isCustomizeMode:E.bool,supersetConfig:E.arrayOf(E.number),setsPerSuperset:E.number};const r7=(e=[])=>{if(!e||e.length===0)return{currentStreak:0,longestStreak:0};const t=[...e].sort((p,g)=>new Date(g.date)-new Date(p.date)),s=[...new Set(t.map(p=>{const g=new Date(p.date);return`${g.getFullYear()}-${String(g.getMonth()+1).padStart(2,"0")}-${String(g.getDate()).padStart(2,"0")}`}))],a=new Date;a.setHours(0,0,0,0);let l=0,u=0,d=0,f=new Date(a);for(let p=0;p<90;p++){const g=`${f.getFullYear()}-${String(f.getMonth()+1).padStart(2,"0")}-${String(f.getDate()).padStart(2,"0")}`;if(s.includes(g)){if(d++,l===0){const y=new Date(t[0].date);y.setHours(0,0,0,0),Math.floor((a-y)/(1e3*60*60*24))<=2&&(l=d)}u=Math.max(u,d)}else if(p>0&&d>0){const y=new Date(f);y.setDate(y.getDate()-1);const v=`${y.getFullYear()}-${String(y.getMonth()+1).padStart(2,"0")}-${String(y.getDate()).padStart(2,"0")}`;if(!s.includes(v)){if(l===0)break;d=0}}f.setDate(f.getDate()-1)}return{currentStreak:l,longestStreak:u}},fE=(e=[])=>{const t={};return e.forEach(s=>{s.exercises&&Object.entries(s.exercises).forEach(([a,l])=>{!l.sets||l.sets.length===0||l.sets.forEach(u=>{const d=u.weight||0,f=u.reps||0;if(d===0&&f===0)return;const p=d>0&&f>0?d*(1+f/30):0;(!t[a]||d>(t[a].maxWeight||0))&&(t[a]||(t[a]={}),d>(t[a].maxWeight||0)&&(t[a].maxWeight=d,t[a].maxWeightDate=s.date,t[a].maxWeightReps=f)),(!t[a]||f>(t[a].maxReps||0))&&(t[a]||(t[a]={}),f>(t[a].maxReps||0)&&(t[a].maxReps=f,t[a].maxRepsDate=s.date,t[a].maxRepsWeight=d)),(!t[a]||p>(t[a].estimatedOneRepMax||0))&&(t[a]||(t[a]={}),p>(t[a].estimatedOneRepMax||0)&&(t[a].estimatedOneRepMax=Math.round(p*10)/10,t[a].oneRepMaxDate=s.date))})})}),t},hE=(e,t={})=>{const s=[];if(!e||!e.exercises)return s;Object.entries(e.exercises).forEach(([l,u])=>{if(!u.sets||u.sets.length===0)return;const d=t[l]||{};u.sets.forEach(f=>{const p=f.weight||0,g=f.reps||0;if(p===0&&g===0)return;p>0&&p>(d.maxWeight||0)&&s.push({exerciseName:l,type:"weight",value:p,previousValue:d.maxWeight||0,reps:g}),g>0&&g>(d.maxReps||0)&&s.push({exerciseName:l,type:"reps",value:g,previousValue:d.maxReps||0,weight:p});const y=p>0&&g>0?p*(1+g/30):0;y>(d.estimatedOneRepMax||0)&&s.push({exerciseName:l,type:"oneRepMax",value:Math.round(y*10)/10,previousValue:d.estimatedOneRepMax||0})})});const a={};return s.forEach(l=>{const u=`${l.exerciseName}-${l.type}`;(!a[u]||l.value>a[u].value)&&(a[u]=l)}),Object.values(a)},pE=e=>[{days:7,badge:" Week Warrior",description:"7 day streak!"},{days:30,badge:" Monthly Master",description:"30 day streak!"},{days:90,badge:" Quarter Champion",description:"90 day streak!"},{days:180,badge:" Half Year Hero",description:"180 day streak!"},{days:365,badge:" Year Legend",description:"365 day streak!"}].filter(s=>e>=s.days),o7=Object.freeze(Object.defineProperty({__proto__:null,calculateStreak:r7,detectNewPRs:hE,getPersonalRecords:fE,getStreakMilestones:pE},Symbol.toStringTag,{value:"Module"})),mE=({open:e,onClose:t,prData:s})=>{if(!s)return null;const a=()=>{const{exerciseName:l,type:u,value:d,previousValue:f}=s;return u==="weight"?`New ${l} PR!  ${d} lbs (previous: ${f} lbs)`:u==="reps"?`New ${l} Rep PR!  ${d} reps (previous: ${f} reps)`:u==="oneRepMax"?`New ${l} 1RM!  ${d} lbs (previous: ${f} lbs)`:`New ${l} PR! `};return r.jsx(Qs,{open:e,autoHideDuration:4e3,onClose:t,anchorOrigin:{vertical:"top",horizontal:"center"},TransitionComponent:AC,children:r.jsx(At,{onClose:t,severity:"success",variant:"filled",sx:{width:"100%",fontSize:"1rem","& .MuiAlert-icon":{fontSize:"2rem"}},icon:r.jsx(Go,{}),children:a()})})};mE.propTypes={open:E.bool.isRequired,onClose:E.func.isRequired,prData:E.shape({exerciseName:E.string.isRequired,type:E.string.isRequired,value:E.number.isRequired,previousValue:E.number})};E.bool.isRequired,E.func.isRequired,E.shape({days:E.number.isRequired,badge:E.string.isRequired,description:E.string.isRequired});E.bool.isRequired,E.func.isRequired,E.shape({workoutsCompleted:E.number,totalVolume:E.number,totalTime:E.number,prsAchieved:E.number,topExercises:E.arrayOf(E.shape({name:E.string,count:E.number})),adherence:E.number});E.array,E.array,E.object,E.func,E.func,E.func;const bx=x.memo(({workoutData:e,workoutPlan:t,onFinish:s,onExportCSV:a})=>{const[l,u]=x.useState(!1),[d,f]=x.useState(!1),[p,g]=x.useState([]),[y,v]=x.useState(0),[b,S]=x.useState(!1),[j,T]=x.useState(!1),[w,k]=x.useState(""),{isAutoAssignWeek:D,assignWorkoutToDay:A,weeklySchedule:_}=Wa();x.useEffect(()=>{(async()=>{try{const W=await Js(),U=fE(W.slice(1)),B=hE(e,U);B.length>0&&g(B)}catch(W){console.error("Error checking for PRs:",W)}})()},[e]),x.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),x.useEffect(()=>{(async()=>{if(D()&&e&&t)try{const W=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date().getDay()],U=Bo(e),B={sessionType:U,sessionName:`${U.charAt(0).toUpperCase()+U.slice(1)} Body Workout`,exercises:t,date:new Date().toISOString()};await A(W,B),k(`Automatically assigned to ${W}`),T(!0)}catch(W){console.error("Error auto-assigning workout:",W)}})()},[D,e,t,A]);const P=()=>{try{if(!t||t.length===0){alert("Cannot save workout: No exercise data available");return}const N=Bo(e);Qg({name:`${N.charAt(0).toUpperCase()+N.slice(1)} Body Workout`,type:N,equipment:"all",exercises:t}),u(!0),f(!0)}catch(N){console.error("Error saving to favorites:",N),alert("Failed to save workout to favorites")}},M=()=>{S(!0)},R=async(N,W)=>{try{const U=Bo(e),B={sessionType:U,sessionName:`${U.charAt(0).toUpperCase()+U.slice(1)} Body Workout`,exercises:t,date:new Date().toISOString()};await A(N,B),k(`Workout assigned to ${N}`),T(!0)}catch(U){console.error("Error assigning workout:",U),k("Failed to assign workout"),T(!0)}};return r.jsxs(Ke.div,{className:"screen completion-screen",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{padding:"1rem",maxWidth:"900px",margin:"0 auto"},children:[r.jsxs(Ke.div,{className:"completion-header",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,type:"spring",stiffness:200},children:[r.jsx(V,{sx:{position:"relative"},children:r.jsx(Qe,{onClick:P,disabled:l,sx:{position:"absolute",top:0,right:0,color:l?"warning.main":"white","&:hover":{color:"warning.main"}},"aria-label":"Save to favorites",children:l?r.jsx(Hi,{sx:{fontSize:32}}):r.jsx(MC,{sx:{fontSize:32}})})}),r.jsx(Ke.div,{initial:{y:-20},animate:{y:[0,-10,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut"},children:r.jsx("img",{src:"/goodlift/dancing-icon.svg",alt:"Celebration",style:{width:"120px",height:"120px",marginBottom:"1rem"}})}),r.jsx("h1",{children:"Workout Complete!"}),r.jsxs("p",{className:"completion-time",children:["Total Time: ",r.jsx("strong",{children:Aj(e.duration)})]})]}),r.jsxs("div",{className:"workout-summary-container",children:[r.jsx(I,{variant:"h4",component:"h2",sx:{fontWeight:700,mb:3,textAlign:"center",color:"text.primary"},children:"Workout Summary"}),r.jsx(Re,{spacing:2,children:Object.entries(e.exercises).map(([N,W],U)=>r.jsx(Ke.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3+U*.1},children:r.jsx(at,{sx:{borderRadius:3,transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 24px rgba(48, 86, 105, 0.15)"}},children:r.jsxs(ct,{children:[r.jsx(I,{variant:"h6",component:"h3",sx:{color:"primary.main",fontWeight:600,mb:2,pb:1,borderBottom:"2px solid",borderColor:"rgba(138, 190, 185, 0.2)"},children:N}),r.jsx(Re,{spacing:1,children:W.sets.map((B,L)=>r.jsxs(V,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:1.5,bgcolor:"rgba(183, 229, 205, 0.3)",borderRadius:2,transition:"all 0.2s ease","&:hover":{bgcolor:"primary.main",color:"white","& .MuiChip-root":{bgcolor:"white",color:"primary.main"}}},children:[r.jsx(ft,{label:`Set ${B.set}`,size:"small",sx:{fontWeight:600,minWidth:60}}),r.jsxs(I,{sx:{fontWeight:600,fontSize:"1rem"},children:[B.weight," lbs  ",B.reps," reps"]})]},L))})]})})},N))})]}),r.jsx(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:r.jsxs(Re,{direction:{xs:"column",sm:"row"},spacing:2,sx:{mt:4},children:[!D()&&r.jsx(je,{variant:"outlined",size:"large",startIcon:r.jsx(Ec,{}),onClick:M,sx:{flex:1,borderRadius:2,py:1.5,fontSize:"1rem",fontWeight:600,borderColor:"info.main",color:"info.main","&:hover":{borderColor:"info.dark",bgcolor:"rgba(33, 150, 243, 0.1)"}},children:"Assign to Day"}),r.jsx(je,{variant:"outlined",size:"large",startIcon:r.jsx(PC,{}),onClick:a,sx:{flex:1,borderRadius:2,py:1.5,fontSize:"1rem",fontWeight:600,borderColor:"secondary.main",color:"secondary.main","&:hover":{borderColor:"secondary.dark",bgcolor:"rgba(193, 120, 90, 0.1)"}},children:"Download CSV"}),r.jsx(je,{variant:"contained",size:"large",startIcon:r.jsx(F2,{}),onClick:s,sx:{flex:1,borderRadius:2,py:1.5,fontSize:"1rem",fontWeight:600,bgcolor:"primary.main","&:hover":{bgcolor:"primary.dark"}},children:"Finish"})]})}),r.jsx(Qs,{open:d,autoHideDuration:3e3,onClose:()=>f(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(At,{severity:"success",onClose:()=>f(!1),children:"Workout saved to favorites!"})}),r.jsx(Qs,{open:j,autoHideDuration:3e3,onClose:()=>T(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(At,{severity:"success",onClose:()=>T(!1),children:w})}),r.jsx(px,{open:b,onClose:()=>S(!1),onAssign:R,workoutData:e,currentSchedule:_}),p.length>0&&y<p.length&&r.jsx(mE,{open:!0,onClose:()=>v(N=>N+1),prData:p[y]})]})});bx.displayName="CompletionScreen";bx.propTypes={workoutData:E.object.isRequired,workoutPlan:E.array,onFinish:E.func.isRequired,onExportCSV:E.func.isRequired};const ai=[{id:"first-workout",name:"First Steps",description:"Complete your first workout",icon:"",tier:"bronze",condition:{type:"workoutCount",value:1}},{id:"dedicated-5",name:"Getting Started",description:"Complete 5 workouts",icon:"",tier:"bronze",condition:{type:"workoutCount",value:5}},{id:"dedicated-10",name:"Committed",description:"Complete 10 workouts",icon:"",tier:"silver",condition:{type:"workoutCount",value:10}},{id:"dedicated-25",name:"Athlete",description:"Complete 25 workouts",icon:"",tier:"silver",condition:{type:"workoutCount",value:25}},{id:"dedicated-50",name:"Beast Mode",description:"Complete 50 workouts",icon:"",tier:"gold",condition:{type:"workoutCount",value:50}},{id:"dedicated-100",name:"Centurion",description:"Complete 100 workouts",icon:"",tier:"gold",condition:{type:"workoutCount",value:100}},{id:"dedicated-150",name:"Elite Athlete",description:"Complete 150 workouts",icon:"",tier:"gold",condition:{type:"workoutCount",value:150}},{id:"dedicated-200",name:"Relentless",description:"Complete 200 workouts",icon:"",tier:"platinum",condition:{type:"workoutCount",value:200}},{id:"dedicated-250",name:"Iron Legend",description:"Complete 250 workouts",icon:"",tier:"platinum",condition:{type:"workoutCount",value:250}},{id:"dedicated-500",name:"Hall of Fame",description:"Complete 500 workouts",icon:"",tier:"platinum",condition:{type:"workoutCount",value:500}},{id:"streak-3",name:"Consistency",description:"Maintain a 3-day workout streak",icon:"",tier:"bronze",condition:{type:"streak",value:3}},{id:"streak-7",name:"Week Warrior",description:"Maintain a 7-day workout streak",icon:"",tier:"silver",condition:{type:"streak",value:7}},{id:"streak-14",name:"Fortnight Fighter",description:"Maintain a 14-day workout streak",icon:"",tier:"silver",condition:{type:"streak",value:14}},{id:"streak-30",name:"Monthly Master",description:"Maintain a 30-day workout streak",icon:"",tier:"gold",condition:{type:"streak",value:30}},{id:"streak-60",name:"Unbreakable",description:"Maintain a 60-day workout streak",icon:"",tier:"gold",condition:{type:"streak",value:60}},{id:"streak-100",name:"Iron Will",description:"Maintain a 100-day workout streak",icon:"",tier:"platinum",condition:{type:"streak",value:100}},{id:"first-pr",name:"New Heights",description:"Achieve your first personal record",icon:"",tier:"bronze",condition:{type:"prCount",value:1}},{id:"pr-5",name:"Record Breaker",description:"Achieve 5 personal records",icon:"",tier:"silver",condition:{type:"prCount",value:5}},{id:"pr-10",name:"Powerhouse",description:"Achieve 10 personal records",icon:"",tier:"gold",condition:{type:"prCount",value:10}},{id:"pr-25",name:"Peak Performance",description:"Achieve 25 personal records",icon:"",tier:"platinum",condition:{type:"prCount",value:25}},{id:"volume-10k",name:"Moving Iron",description:"Lift 10,000 lbs total volume",icon:"",tier:"bronze",condition:{type:"totalVolume",value:1e4}},{id:"volume-50k",name:"Heavy Lifter",description:"Lift 50,000 lbs total volume",icon:"",tier:"silver",condition:{type:"totalVolume",value:5e4}},{id:"volume-100k",name:"Tonnage Master",description:"Lift 100,000 lbs total volume",icon:"",tier:"gold",condition:{type:"totalVolume",value:1e5}},{id:"volume-250k",name:"Moving Mountains",description:"Lift 250,000 lbs total volume",icon:"",tier:"platinum",condition:{type:"totalVolume",value:25e4}},{id:"time-1h",name:"First Hour",description:"Complete 1 hour of total workout time",icon:"",tier:"bronze",condition:{type:"totalTime",value:3600}},{id:"time-10h",name:"Time Investment",description:"Complete 10 hours of total workout time",icon:"",tier:"silver",condition:{type:"totalTime",value:36e3}},{id:"time-50h",name:"Dedicated",description:"Complete 50 hours of total workout time",icon:"",tier:"gold",condition:{type:"totalTime",value:18e4}},{id:"time-100h",name:"Time Master",description:"Complete 100 hours of total workout time",icon:"",tier:"platinum",condition:{type:"totalTime",value:36e4}},{id:"early-bird",name:"Early Bird",description:"Complete a workout before 7 AM",icon:"",tier:"bronze",condition:{type:"special",value:"earlyMorning"}},{id:"morning-person",name:"Morning Person",description:"Complete 10 workouts in the morning (7 AM - 12 PM)",icon:"",tier:"silver",condition:{type:"special",value:"morningWorkouts",count:10}},{id:"afternoon-warrior",name:"Afternoon Warrior",description:"Complete 10 workouts in the afternoon (12 PM - 5 PM)",icon:"",tier:"silver",condition:{type:"special",value:"afternoonWorkouts",count:10}},{id:"evening-grinder",name:"Evening Grinder",description:"Complete 10 workouts in the evening (5 PM - 10 PM)",icon:"",tier:"silver",condition:{type:"special",value:"eveningWorkouts",count:10}},{id:"night-owl",name:"Night Owl",description:"Complete a workout after 10 PM",icon:"",tier:"bronze",condition:{type:"special",value:"lateNight"}},{id:"consecutive-3",name:"Back to Back",description:"Complete 3 consecutive workouts within an hour of each other",icon:"",tier:"bronze",condition:{type:"special",value:"consecutiveWorkouts",count:3}},{id:"consecutive-5",name:"Chain Reaction",description:"Complete 5 consecutive workouts within an hour of each other",icon:"",tier:"silver",condition:{type:"special",value:"consecutiveWorkouts",count:5}},{id:"consecutive-10",name:"Unstoppable",description:"Complete 10 consecutive workouts within an hour of each other",icon:"",tier:"gold",condition:{type:"special",value:"consecutiveWorkouts",count:10}},{id:"weekend-warrior",name:"Weekend Warrior",description:"Complete 10 weekend workouts",icon:"",tier:"silver",condition:{type:"special",value:"weekendWorkouts",count:10}},{id:"variety-seeker",name:"Variety Seeker",description:"Complete all workout types (Full Body, Upper, Lower, Push, Pull, Legs)",icon:"",tier:"gold",condition:{type:"special",value:"allWorkoutTypes"}},{id:"wellness-first",name:"Wellness Beginner",description:"Complete your first wellness task",icon:"",tier:"bronze",condition:{type:"wellnessTaskCount",value:1}},{id:"wellness-10",name:"Wellness Explorer",description:"Complete 10 wellness tasks",icon:"",tier:"bronze",condition:{type:"wellnessTaskCount",value:10}},{id:"wellness-25",name:"Wellness Enthusiast",description:"Complete 25 wellness tasks",icon:"",tier:"silver",condition:{type:"wellnessTaskCount",value:25}},{id:"wellness-50",name:"Wellness Champion",description:"Complete 50 wellness tasks",icon:"",tier:"gold",condition:{type:"wellnessTaskCount",value:50}},{id:"wellness-100",name:"Wellness Master",description:"Complete 100 wellness tasks",icon:"",tier:"platinum",condition:{type:"wellnessTaskCount",value:100}}],Lf={bronze:{color:"#CD7F32",gradient:"linear-gradient(135deg, #CD7F32 0%, #B87333 100%)",textColor:"#fff"},silver:{color:"#C0C0C0",gradient:"linear-gradient(135deg, #C0C0C0 0%, #A8A8A8 100%)",textColor:"#333"},gold:{color:"#FFD700",gradient:"linear-gradient(135deg, #FFD700 0%, #FFA500 100%)",textColor:"#333"},platinum:{color:"#E5E4E2",gradient:"linear-gradient(135deg, #E5E4E2 0%, #B0B0B0 100%)",textColor:"#333"}},kc=(e,t,s=[])=>{const{condition:a}=e;switch(a.type){case"workoutCount":return(t.totalWorkouts||0)>=a.value;case"streak":return(t.currentStreak||0)>=a.value;case"prCount":return(t.totalPRs||0)>=a.value;case"totalVolume":return(t.totalVolume||0)>=a.value;case"totalTime":return(t.totalTime||0)>=a.value;case"wellnessTaskCount":return(t.completedWellnessTasks||0)>=a.value;case"special":return l7(a,t,s);default:return!1}},l7=(e,t,s)=>{switch(e.value){case"earlyMorning":return s.some(a=>new Date(a.date).getHours()<7);case"morningWorkouts":return s.filter(l=>{const u=new Date(l.date).getHours();return u>=7&&u<12}).length>=(e.count||10);case"afternoonWorkouts":return s.filter(l=>{const u=new Date(l.date).getHours();return u>=12&&u<17}).length>=(e.count||10);case"eveningWorkouts":return s.filter(l=>{const u=new Date(l.date).getHours();return u>=17&&u<22}).length>=(e.count||10);case"lateNight":return s.some(a=>new Date(a.date).getHours()>=22);case"consecutiveWorkouts":{const a=[...s].sort((d,f)=>new Date(d.date)-new Date(f.date));let l=0,u=1;for(let d=1;d<a.length;d++){const f=new Date(a[d-1].date);(new Date(a[d].date)-f)/(1e3*60*60)<=1?(u++,l=Math.max(l,u)):u=1}return l>=(e.count||3)}case"weekendWorkouts":return s.filter(l=>{const u=new Date(l.date).getDay();return u===0||u===6}).length>=(e.count||10);case"allWorkoutTypes":{const a=["full","upper","lower","push","pull","legs"],l=new Set(s.map(u=>u.type?.toLowerCase()).filter(Boolean));return a.every(u=>l.has(u))}default:return!1}},Md=(e,t,s=[])=>{const l=[...e].sort((p,g)=>p.condition.value-g.condition.value).find(p=>!kc(p,t,s));if(!l)return null;const{condition:u}=l;let d=0;switch(u.type){case"workoutCount":d=t.totalWorkouts||0;break;case"streak":d=t.currentStreak||0;break;case"prCount":d=t.totalPRs||0;break;case"totalVolume":d=t.totalVolume||0;break;case"totalTime":d=t.totalTime||0;break;default:d=0}const f=Math.min(d/u.value*100,100);return{achievement:l,current:d,target:u.value,progress:f}},c7=(e,t=[])=>ai.filter(s=>kc(s,e,t)),u7=(e,t,s=[])=>c7(e,t).filter(l=>!s.includes(l.id)),d7=e=>{const t={bronze:10,silver:25,gold:50,platinum:100};return e.reduce((s,a)=>s+(t[a.tier]||0),0)},f7=e=>{const s=Math.floor(e/100)+1,a=e%100,l=100-a;return{level:s,currentPoints:a,pointsToNext:l,totalPoints:e}},gE=({achievement:e,unlocked:t,onClick:s})=>{const a=Lf[e.tier];return r.jsx(Ke.div,{whileHover:{scale:t?1.05:1.02},whileTap:{scale:.98},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:r.jsx(at,{onClick:s,sx:{height:"100%",cursor:"pointer",position:"relative",background:t?a.gradient:"linear-gradient(135deg, #424242 0%, #303030 100%)",color:t?a.textColor:"#888",transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:t?6:2}},children:r.jsxs(ct,{sx:{textAlign:"center",p:2},children:[!t&&r.jsx(V,{sx:{position:"absolute",top:8,right:8,color:"rgba(255, 255, 255, 0.5)"},children:r.jsx(RC,{fontSize:"small"})}),r.jsx(I,{variant:"h2",sx:{fontSize:"3rem",mb:1,filter:t?"none":"grayscale(100%)",opacity:t?1:.4},children:e.icon}),r.jsx(I,{variant:"subtitle1",sx:{fontWeight:700,mb:.5,fontSize:"0.95rem"},children:e.name}),r.jsx(ft,{label:e.tier.toUpperCase(),size:"small",sx:{fontSize:"0.65rem",height:20,fontWeight:600,bgcolor:t?"rgba(255, 255, 255, 0.3)":"rgba(255, 255, 255, 0.1)"}})]})})})};gE.propTypes={achievement:E.object.isRequired,unlocked:E.bool.isRequired,onClick:E.func.isRequired};const yE=({achievement:e,unlocked:t,onClose:s,onShare:a})=>{if(!e)return null;const l=Lf[e.tier];return r.jsxs(Tn,{open:!!e,onClose:s,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:3}},children:[r.jsx(In,{sx:{textAlign:"center",pb:1},children:r.jsx(Qe,{onClick:s,sx:{position:"absolute",right:8,top:8},children:r.jsx(el,{})})}),r.jsxs(jn,{sx:{textAlign:"center",pt:0},children:[r.jsx(V,{sx:{width:120,height:120,borderRadius:"50%",background:t?l.gradient:"linear-gradient(135deg, #424242 0%, #303030 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",filter:t?"none":"grayscale(100%)",opacity:t?1:.6},children:r.jsx(I,{variant:"h1",sx:{fontSize:"4rem"},children:e.icon})}),!t&&r.jsx(ft,{icon:r.jsx(RC,{}),label:"LOCKED",color:"default",sx:{mb:2}}),t&&r.jsx(ft,{icon:r.jsx(Go,{}),label:"UNLOCKED",color:"success",sx:{mb:2}}),r.jsx(I,{variant:"h5",sx:{fontWeight:700,mb:1},children:e.name}),r.jsx(ft,{label:e.tier.toUpperCase(),size:"small",sx:{mb:2,fontWeight:600,background:l.gradient,color:l.textColor}}),r.jsx(I,{variant:"body1",color:"text.secondary",sx:{mb:2},children:e.description}),r.jsx(V,{sx:{p:2,borderRadius:2,bgcolor:"action.hover"},children:r.jsx(I,{variant:"body2",color:"text.secondary",children:h7(e.condition)})})]}),r.jsxs(Dn,{sx:{justifyContent:"center",pb:3,px:3},children:[t&&a&&r.jsx(je,{variant:"contained",startIcon:r.jsx(_C,{}),onClick:()=>a(e),fullWidth:!0,children:"Share Achievement"}),!t&&r.jsx(je,{variant:"outlined",onClick:s,fullWidth:!0,children:"Close"})]})]})};yE.propTypes={achievement:E.object,unlocked:E.bool,onClose:E.func.isRequired,onShare:E.func};const cc=({title:e,icon:t,progressInfo:s})=>{if(!s)return r.jsx(at,{sx:{height:"100%"},children:r.jsx(ct,{children:r.jsxs(Re,{spacing:1,children:[r.jsxs(Re,{direction:"row",alignItems:"center",spacing:1,children:[t,r.jsx(I,{variant:"h6",sx:{fontWeight:600,fontSize:"1rem"},children:e})]}),r.jsx(I,{variant:"body2",color:"text.secondary",children:"All achievements unlocked! "})]})})});const{achievement:a,current:l,target:u,progress:d}=s;return r.jsx(at,{sx:{height:"100%"},children:r.jsx(ct,{children:r.jsxs(Re,{spacing:2,children:[r.jsxs(Re,{direction:"row",alignItems:"center",spacing:1,children:[t,r.jsx(I,{variant:"h6",sx:{fontWeight:600,fontSize:"1rem"},children:e})]}),r.jsxs(V,{children:[r.jsxs(Re,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:1},children:[r.jsx(I,{variant:"body2",sx:{fontWeight:600},children:a.name}),r.jsxs(I,{variant:"body2",color:"text.secondary",children:[iC(l,a.condition.type)," / ",iC(u,a.condition.type)]})]}),r.jsx(Gi,{variant:"determinate",value:d,sx:{height:8,borderRadius:4,bgcolor:"action.hover","& .MuiLinearProgress-bar":{background:Lf[a.tier].gradient,borderRadius:4}}}),r.jsxs(I,{variant:"caption",color:"text.secondary",sx:{mt:.5,display:"block"},children:[Math.round(d),"% complete"]})]})]})})})};cc.propTypes={title:E.string.isRequired,icon:E.element.isRequired,progressInfo:E.object};const xE=({userStats:e,workoutHistory:t=[]})=>{const[s,a]=x.useState(null),[l,u]=x.useState(!1),[d,f]=x.useState(0),p=ai.filter(M=>kc(M,e,t)),g=d7(p),y=f7(g),v={workout:ai.filter(M=>M.condition.type==="workoutCount"),streak:ai.filter(M=>M.condition.type==="streak"),pr:ai.filter(M=>M.condition.type==="prCount"),volume:ai.filter(M=>M.condition.type==="totalVolume"),time:ai.filter(M=>M.condition.type==="totalTime"),special:ai.filter(M=>M.condition.type==="special")},b=[{label:"All",key:"all"},{label:"Workouts",key:"workout"},{label:"Streaks",key:"streak"},{label:"PRs",key:"pr"},{label:"Volume",key:"volume"},{label:"Time",key:"time"},{label:"Special",key:"special"}],S=b[d].key,j=S==="all"?ai:v[S],T=Md(v.workout,e,t),w=Md(v.streak,e,t),k=Md(v.pr,e,t),D=Md(v.volume,e,t),A=M=>{a(M),u(kc(M,e,t))},_=async M=>{const R=`I just unlocked the "${M.name}" achievement in GoodLift! ${M.icon}

${M.description}`;if(navigator.share)try{await navigator.share({title:"GoodLift Achievement",text:R})}catch(N){N.name!=="AbortError"&&(console.error("Error sharing:",N),P(R))}else P(R)},P=M=>{navigator.clipboard.writeText(M).then(()=>{alert("Achievement text copied to clipboard!")})};return r.jsxs(V,{sx:{p:{xs:1,sm:2,md:3}},children:[r.jsxs(V,{sx:{mb:4,textAlign:"center"},children:[r.jsx(I,{variant:"h4",sx:{fontWeight:700,mb:1},children:"Achievements"}),r.jsxs(Re,{direction:"row",spacing:2,justifyContent:"center",alignItems:"center",sx:{mb:2},children:[r.jsx(ft,{icon:r.jsx(Go,{}),label:`Level ${y.level}`,color:"primary",sx:{fontSize:"1rem",fontWeight:600,height:36}}),r.jsx(ft,{label:`${p.length} / ${ai.length} Unlocked`,variant:"outlined",sx:{fontSize:"0.9rem",height:36}})]}),r.jsxs(V,{sx:{maxWidth:400,margin:"0 auto"},children:[r.jsxs(Re,{direction:"row",justifyContent:"space-between",sx:{mb:1},children:[r.jsxs(I,{variant:"caption",color:"text.secondary",children:[y.currentPoints," / 100 points"]}),r.jsxs(I,{variant:"caption",color:"text.secondary",children:[y.pointsToNext," to Level ",y.level+1]})]}),r.jsx(Gi,{variant:"determinate",value:y.currentPoints/100*100,sx:{height:10,borderRadius:5,bgcolor:"action.hover","& .MuiLinearProgress-bar":{borderRadius:5}}})]})]}),r.jsxs(nn,{container:!0,spacing:{xs:1,sm:2},sx:{mb:4},children:[r.jsx(nn,{item:!0,xs:6,sm:6,md:3,children:r.jsx(cc,{title:"Workouts",icon:r.jsx(Jt,{color:"primary"}),progressInfo:T})}),r.jsx(nn,{item:!0,xs:6,sm:6,md:3,children:r.jsx(cc,{title:"Streak",icon:r.jsx(OC,{sx:{color:"#FF6B35"}}),progressInfo:w})}),r.jsx(nn,{item:!0,xs:6,sm:6,md:3,children:r.jsx(cc,{title:"Personal Records",icon:r.jsx(Aa,{color:"success"}),progressInfo:k})}),r.jsx(nn,{item:!0,xs:6,sm:6,md:3,children:r.jsx(cc,{title:"Volume",icon:r.jsx(Go,{sx:{color:"#FFD700"}}),progressInfo:D})})]}),r.jsx(V,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:r.jsx(ff,{value:d,onChange:(M,R)=>f(R),variant:"scrollable",scrollButtons:"auto",children:b.map(M=>r.jsx(Ea,{label:M.label},M.key))})}),r.jsx(nn,{container:!0,spacing:{xs:1,sm:2},children:j.map(M=>{const R=kc(M,e,t);return r.jsx(nn,{item:!0,xs:6,sm:4,md:3,lg:2,children:r.jsx(gE,{achievement:M,unlocked:R,onClick:()=>A(M)})},M.id)})}),r.jsx(yE,{achievement:s,unlocked:l,onClose:()=>a(null),onShare:_})]})};xE.propTypes={userStats:E.shape({totalWorkouts:E.number,currentStreak:E.number,totalPRs:E.number,totalVolume:E.number,totalTime:E.number}).isRequired,workoutHistory:E.array};const h7=e=>{switch(e.type){case"workoutCount":return`Complete ${e.value} workout${e.value!==1?"s":""}`;case"streak":return`Maintain a ${e.value}-day workout streak`;case"prCount":return`Achieve ${e.value} personal record${e.value!==1?"s":""}`;case"totalVolume":return`Lift ${e.value.toLocaleString()} lbs total volume`;case"totalTime":{const t=Math.floor(e.value/3600);return`Complete ${t} hour${t!==1?"s":""} of total workout time`}case"special":return e.value;default:return""}},iC=(e,t)=>{switch(t){case"totalVolume":return`${e.toLocaleString()} lbs`;case"totalTime":{const s=Math.floor(e/3600),a=Math.floor(e%3600/60);return s>0?`${s}h ${a}m`:`${a}m`}default:return e}},vx=(e,t,s)=>!e||t===s?e:t==="lbs"&&s==="kg"?Math.round(e*.453592*10)/10:t==="kg"&&s==="lbs"?Math.round(e*2.20462*10)/10:e,bE=(e,t=30)=>{if(!e||e.length===0)return[];const s=new Date;return s.setDate(s.getDate()-t),e.filter(a=>new Date(a.date)>=s).sort((a,l)=>new Date(a.date)-new Date(l.date))},p7=(e,t=30)=>{if(!e||e.length<2)return{change:0,percentage:0,direction:"stable"};const s=bE(e,t);if(s.length<2)return{change:0,percentage:0,direction:"stable"};const a=s[0],l=s[s.length-1],u=vx(a.weight,a.unit,l.unit),f=l.weight-u,p=u!==0?f/u*100:0;let g="stable";return Math.abs(f)>.5&&(g=f>0?"up":"down"),{change:Math.round(f*10)/10,percentage:Math.round(p*10)/10,direction:g}},Ad=(e,t="lbs")=>e?`${Math.round(e*10)/10} ${t}`:`0 ${t}`,m7=(e,t="lbs")=>{if(!e||isNaN(e))return{valid:!1,error:"Please enter a valid weight"};const s=parseFloat(e);if(s<=0)return{valid:!1,error:"Weight must be greater than 0"};const a=t==="lbs"?50:20,l=t==="lbs"?1e3:450;return s<a||s>l?{valid:!1,error:`Weight must be between ${a} and ${l} ${t}`}:{valid:!0}},g7=(e,t=30,s="lbs")=>{const a=bE(e,t);if(a.length===0)return{labels:[],data:[]};const l=a.map(d=>new Date(d.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})),u=a.map(d=>vx(d.weight,d.unit,s));return{labels:l,data:u}},y7=(e,t="lbs")=>{if(!e||e.length===0)return{min:0,max:0,average:0,current:0,entries:0};const s=e.map(p=>vx(p.weight,p.unit,t)),a=Math.min(...s),l=Math.max(...s),d=s.reduce((p,g)=>p+g,0)/s.length,f=s[s.length-1];return{min:Math.round(a*10)/10,max:Math.round(l*10)/10,average:Math.round(d*10)/10,current:Math.round(f*10)/10,entries:s.length}};IP.register(WP,NP,LP,VP,BP,zP,FP,HP);const vE=({weightHistory:e,currentWeight:t,currentUnit:s,onAddWeight:a})=>{const[l,u]=x.useState(""),[d,f]=x.useState(s||"lbs"),[p,g]=x.useState(null),[y,v]=x.useState(!1);x.useEffect(()=>{f(s||"lbs")},[s]);const b=()=>{g(null);const A=m7(l,d);if(!A.valid){g(A.error);return}a(parseFloat(l),d),u(""),v(!1)},S=p7(e,30),j=y7(e,d),T=g7(e,30,d),w={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:A=>`${A.parsed.y} ${d}`}}},scales:{y:{beginAtZero:!1,ticks:{callback:A=>`${A} ${d}`}}}},k={labels:T.labels,datasets:[{label:"Weight",data:T.data,borderColor:"rgb(25, 118, 210)",backgroundColor:"rgba(25, 118, 210, 0.1)",fill:!0,tension:.4}]},D=()=>S.direction==="up"?r.jsx(Aa,{color:"warning"}):S.direction==="down"?r.jsx(Dg,{color:"success"}):r.jsx(H2,{color:"info"});return r.jsx(at,{sx:{borderRadius:2},children:r.jsxs(ct,{children:[r.jsxs(V,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[r.jsx(I,{variant:"h6",fontWeight:600,children:"Weight Tracking"}),r.jsx(Qe,{color:"primary",onClick:()=>v(!y),size:"small",children:r.jsx(Yi,{})})]}),t&&r.jsxs(V,{sx:{mb:3},children:[r.jsx(I,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Current Weight"}),r.jsxs(V,{sx:{display:"flex",alignItems:"center",gap:2},children:[r.jsx(I,{variant:"h4",fontWeight:700,children:Ad(t,d)}),S.direction!=="stable"&&r.jsx(ft,{icon:D(),label:`${S.change>0?"+":""}${S.change} ${d}`,size:"small",color:S.direction==="up"?"warning":"success"})]}),r.jsx(I,{variant:"caption",color:"text.secondary",children:S.direction!=="stable"?`${Math.abs(S.percentage)}% ${S.direction==="up"?"increase":"decrease"} in last 30 days`:"No significant change in last 30 days"})]}),y&&r.jsxs(V,{sx:{mb:3,p:2,bgcolor:"action.hover",borderRadius:2},children:[r.jsx(I,{variant:"body2",fontWeight:600,gutterBottom:!0,children:"Add Weight Entry"}),p&&r.jsx(At,{severity:"error",sx:{mb:2},children:p}),r.jsxs(Re,{direction:"row",spacing:2,alignItems:"flex-start",children:[r.jsx(pt,{label:"Weight",type:"number",value:l,onChange:A=>{u(A.target.value),g(null)},size:"small",sx:{flex:1},inputProps:{step:.1,min:0}}),r.jsxs(Kt,{size:"small",sx:{minWidth:80},children:[r.jsx(Un,{children:"Unit"}),r.jsxs(Xt,{value:d,onChange:A=>f(A.target.value),label:"Unit",children:[r.jsx(Ve,{value:"lbs",children:"lbs"}),r.jsx(Ve,{value:"kg",children:"kg"})]})]}),r.jsx(je,{variant:"contained",onClick:b,disabled:!l,size:"small",sx:{minWidth:80},children:"Add"})]})]}),T.data.length>0?r.jsxs(V,{sx:{height:250,mb:2},children:[r.jsx(I,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Last 30 Days"}),r.jsx(UP,{data:k,options:w})]}):r.jsx(At,{severity:"info",sx:{mb:2},children:"No weight history yet. Add your first weight entry to start tracking!"}),j.entries>0&&r.jsxs(V,{sx:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:2,pt:2,borderTop:1,borderColor:"divider"},children:[r.jsxs(V,{children:[r.jsx(I,{variant:"caption",color:"text.secondary",children:"Minimum"}),r.jsx(I,{variant:"body2",fontWeight:600,children:Ad(j.min,d)})]}),r.jsxs(V,{children:[r.jsx(I,{variant:"caption",color:"text.secondary",children:"Average"}),r.jsx(I,{variant:"body2",fontWeight:600,children:Ad(j.average,d)})]}),r.jsxs(V,{children:[r.jsx(I,{variant:"caption",color:"text.secondary",children:"Maximum"}),r.jsx(I,{variant:"body2",fontWeight:600,children:Ad(j.max,d)})]})]})]})})};vE.propTypes={weightHistory:E.arrayOf(E.shape({weight:E.number.isRequired,unit:E.string.isRequired,date:E.string.isRequired})).isRequired,currentWeight:E.number,currentUnit:E.string,onAddWeight:E.func.isRequired};class x7{constructor(){this.maxPinnedExercises=10}getExerciseProgression(t,s,a="weight"){if(!t||!Array.isArray(t))return[];const l=[];return[...t].reverse().forEach(d=>{if(!d.exercises||!d.exercises[s])return;const p=d.exercises[s].sets||[];if(p.length===0)return;let g;a==="weight"?g=Math.max(...p.map(y=>y.weight||0)):a==="reps"&&(g=Math.max(...p.map(y=>y.reps||0))),g>0&&l.push({date:new Date(d.date),value:g,workout:d})}),l}getUniqueExercises(t){if(!t||!Array.isArray(t))return[];const s=new Set;return t.forEach(a=>{a.exercises&&Object.keys(a.exercises).forEach(l=>{s.add(l)})}),Array.from(s).sort()}formatProgressionForChart(t,s,a="weight"){if(!t||t.length===0)return{labels:[],datasets:[{label:s,data:[],fill:!0,backgroundColor:"rgba(19, 70, 134, 0.2)",borderColor:"rgb(19, 70, 134)",tension:.4,pointBackgroundColor:"rgb(19, 70, 134)",pointBorderColor:"#fff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}],minValue:0};const l=t.slice(-10),u=l.map((p,g)=>`Session ${g+1}`),d=l.map(p=>p.value);let f=0;if(a==="weight"&&d.length>0){const p=Math.min(...d);f=Math.max(0,p-5)}return{labels:u,datasets:[{label:s,data:d,fill:!0,backgroundColor:"rgba(19, 70, 134, 0.2)",borderColor:"rgb(19, 70, 134)",tension:.4,pointBackgroundColor:"rgb(19, 70, 134)",pointBorderColor:"#fff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}],minValue:f}}getPinnedExercises(){return XR()}setPinnedExercises(t){if(!Array.isArray(t))throw new Error("Pinned exercises must be an array");const s=t.slice(0,this.maxPinnedExercises);ZR(s)}addPinnedExercise(t,s="weight"){try{const a=this.getPinnedExercises();return a.some(l=>l.exerciseName===t)||a.length>=this.maxPinnedExercises?!1:(a.push({exerciseName:t,trackingMode:s}),this.setPinnedExercises(a),!0)}catch(a){return console.error("Error adding pinned exercise:",a),!1}}removePinnedExercise(t){try{const a=this.getPinnedExercises().filter(l=>l.exerciseName!==t);this.setPinnedExercises(a)}catch(s){throw console.error("Error removing pinned exercise:",s),s}}updatePinnedExerciseMode(t,s){try{const l=this.getPinnedExercises().map(u=>u.exerciseName===t?{...u,trackingMode:s}:u);this.setPinnedExercises(l)}catch(a){throw console.error("Error updating pinned exercise mode:",a),a}}isExercisePinned(t){return this.getPinnedExercises().some(a=>a.exerciseName===t)}getAvailableExercisesForPinning(t){const s=this.getUniqueExercises(t),a=this.getPinnedExercises(),l=new Set(a.map(u=>u.exerciseName));return s.filter(u=>!l.has(u))}calculateStats(t,s="all"){if(!t||!Array.isArray(t))return{workoutsThisWeek:0,totalVolume:0,currentStreak:0,avgDuration:0};const a=new Date,l=t.filter(v=>{const b=new Date(v.date);if(s==="week"){const S=new Date(a.getTime()-6048e5);return b>=S}else if(s==="month"){const S=new Date(a.getTime()-2592e6);return b>=S}return!0}),u=new Date(a.getTime()-10080*60*1e3),d=t.filter(v=>new Date(v.date)>=u).length;let f=0;l.forEach(v=>{v.exercises&&Object.values(v.exercises).forEach(b=>{b.sets&&Array.isArray(b.sets)&&b.sets.forEach(S=>{f+=(S.weight||0)*(S.reps||0)})})});const p=this.calculateStreak(t),g=l.reduce((v,b)=>v+(b.duration||0),0),y=l.length>0?Math.round(g/l.length/60):0;return{workoutsThisWeek:d,totalVolume:f,currentStreak:p,avgDuration:y}}calculateStreak(t){if(!t||t.length===0)return 0;const s=[...t].sort((u,d)=>new Date(d.date)-new Date(u.date));let a=0,l=new Date;l.setHours(0,0,0,0);for(const u of s){const d=new Date(u.date);d.setHours(0,0,0,0);const f=Math.floor((l-d)/(1e3*60*60*24));if(f===a)a++;else if(f>a)break}return a}getProgressionSummary(t,s,a="weight"){const l=this.getExerciseProgression(t,s,a);if(l.length===0)return{current:0,best:0,trend:"none",improvement:0};const u=l.map(y=>y.value),d=u[u.length-1],f=Math.max(...u);let p="stable";if(u.length>=4){const y=u.slice(-4,-1).reduce((v,b)=>v+b,0)/3;d>y*1.05?p="up":d<y*.95&&(p="down")}const g=u.length>=2?(d-u[0])/u[0]*100:0;return{current:d,best:f,trend:p,improvement:Math.round(g)}}}const Eo=new x7,SE=x.memo(({currentStreak:e=0,longestStreak:t=0})=>{const s=pE(e),a=s.length>0?s[s.length-1]:null;return r.jsx(at,{sx:{borderRadius:3,boxShadow:"0 4px 16px rgba(19, 70, 134, 0.08)",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white"},children:r.jsx(ct,{sx:{p:2.5},children:r.jsxs(Re,{spacing:2,children:[r.jsxs(V,{sx:{textAlign:"center"},children:[r.jsx(V,{sx:{fontSize:"3rem",mb:1},children:""}),r.jsx(I,{variant:"h3",sx:{fontWeight:700,mb:.5},children:e}),r.jsx(I,{variant:"body2",sx:{opacity:.9},children:"Day Streak"})]}),s.length>0&&r.jsxs(V,{children:[r.jsx(I,{variant:"caption",sx:{opacity:.8,display:"block",textAlign:"center",mb:1},children:"Milestones Achieved"}),r.jsx(Re,{direction:"row",spacing:1,sx:{justifyContent:"center",flexWrap:"wrap",gap:1},children:s.map((l,u)=>r.jsx(Zn,{title:l.description,children:r.jsx(ft,{label:`${l.days} days`,size:"small",sx:{bgcolor:"rgba(255, 255, 255, 0.2)",color:"white",fontWeight:600,"&:hover":{bgcolor:"rgba(255, 255, 255, 0.3)"}},icon:r.jsx(V,{component:"span",sx:{fontSize:"1rem",ml:.5},children:l.badge.split(" ")[0]})})},u))})]}),a&&r.jsx(V,{sx:{p:1.5,borderRadius:2,bgcolor:"rgba(255, 255, 255, 0.15)",textAlign:"center"},children:r.jsx(I,{variant:"body2",sx:{opacity:.9},children:a.badge})}),t>e&&r.jsx(V,{sx:{textAlign:"center",pt:1,borderTop:"1px solid rgba(255, 255, 255, 0.2)"},children:r.jsxs(I,{variant:"caption",sx:{opacity:.8},children:["Personal Best: ",t," days"]})})]})})})});SE.displayName="StreakDisplay";SE.propTypes={currentStreak:E.number,longestStreak:E.number};const wE=x.memo(({adherence:e=0,completedWorkouts:t=0,plannedWorkouts:s=0})=>{const a=()=>e>=80?"success.main":e>=60?"warning.main":"error.main",l=()=>e>=80?"Excellent! ":e>=60?"Good progress! ":"Keep going! ";return r.jsx(at,{sx:{borderRadius:3,boxShadow:"0 4px 16px rgba(19, 70, 134, 0.08)"},children:r.jsx(ct,{sx:{p:2.5},children:r.jsxs(Re,{spacing:2,children:[r.jsxs(Re,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[r.jsxs(V,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(Uo,{sx:{color:a()}}),r.jsx(I,{variant:"h6",sx:{fontWeight:600},children:"Adherence"})]}),r.jsxs(I,{variant:"h4",sx:{fontWeight:700,color:a()},children:[e,"%"]})]}),r.jsx(V,{children:r.jsx(Gi,{variant:"determinate",value:e,sx:{height:12,borderRadius:6,bgcolor:"action.hover","& .MuiLinearProgress-bar":{bgcolor:a(),borderRadius:6}}})}),r.jsxs(Re,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[r.jsxs(I,{variant:"body2",color:"text.secondary",children:[t," of ",s," workouts completed"]}),r.jsx(I,{variant:"body2",sx:{fontWeight:600,color:a()},children:l()})]})]})})})});wE.displayName="AdherenceDisplay";wE.propTypes={adherence:E.number,completedWorkouts:E.number,plannedWorkouts:E.number};const CE=x.memo(({totalVolume:e=0,volumeChange:t=0})=>{const s=t>=0;return r.jsx(at,{sx:{borderRadius:3,boxShadow:"0 4px 16px rgba(19, 70, 134, 0.08)"},children:r.jsx(ct,{sx:{p:2.5},children:r.jsxs(Re,{spacing:2,children:[r.jsxs(V,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(Aa,{sx:{color:"primary.main"}}),r.jsx(I,{variant:"h6",sx:{fontWeight:600},children:"Total Volume"})]}),r.jsxs(V,{children:[r.jsx(I,{variant:"h3",sx:{fontWeight:700,color:"primary.main"},children:e.toLocaleString()}),r.jsx(I,{variant:"body2",color:"text.secondary",children:"lbs lifted (last 30 days)"})]}),t!==0&&r.jsxs(V,{sx:{p:1.5,borderRadius:2,bgcolor:s?"success.light":"error.light",display:"flex",alignItems:"center",justifyContent:"center",gap:.5},children:[r.jsxs(I,{variant:"body2",sx:{fontWeight:600,color:s?"success.dark":"error.dark"},children:[s?"":""," ",Math.abs(t),"%"]}),r.jsx(I,{variant:"caption",sx:{color:s?"success.dark":"error.dark"},children:"vs. previous 30 days"})]})]})})})});CE.displayName="VolumeTrendDisplay";CE.propTypes={totalVolume:E.number,volumeChange:E.number};const kE=x.createContext({}),Sx=()=>x.useContext(kE),To={displayName:"",email:"",avatar:null,currentWeight:null,weightHistory:[],bio:"",goals:"",memberSince:null,weightUnit:"lbs"},TE=({children:e})=>{const{currentUser:t,isGuest:s}=Ia(),[a,l]=x.useState(To),[u,d]=x.useState({totalWorkouts:0,currentStreak:0,longestStreak:0,favoriteExercise:"",totalVolume:0,totalPRs:0,completedWellnessTasks:0}),[f,p]=x.useState(!0),g=x.useCallback(async()=>{try{const k=await Js(),D=k.length,A=Eo.calculateStreak(k);let _=0,P=0;const M=[...k].sort((H,Q)=>new Date(H.date)-new Date(Q.date));for(let H=0;H<M.length;H++)if(H===0)P=1;else{const Q=new Date(M[H-1].date),z=new Date(M[H].date);Math.floor((z-Q)/(1e3*60*60*24))===1?P++:(_=Math.max(_,P),P=1)}_=Math.max(_,P);const R={};k.forEach(H=>{H.exercises?.forEach(Q=>{const z=Q.name||Q.exerciseName;z&&(R[z]=(R[z]||0)+1)})});const N=Object.entries(R).sort((H,Q)=>Q[1]-H[1])[0]?.[0]||"";let W=0;k.forEach(H=>{H.exercises?.forEach(Q=>{Q.sets?.forEach(z=>{z.weight&&z.reps&&(W+=z.weight*z.reps)})})});const U=localStorage.getItem("goodlift_total_prs")?parseInt(localStorage.getItem("goodlift_total_prs")):0,B=t?.uid?`wellness_completed_${t.uid}`:"wellness_completed_guest",L=localStorage.getItem(B),ce=L?JSON.parse(L).length:0;return{totalWorkouts:D,currentStreak:A,longestStreak:_,favoriteExercise:N,totalVolume:W,totalPRs:U,completedWellnessTasks:ce}}catch(k){return console.error("Error calculating stats:",k),{totalWorkouts:0,currentStreak:0,longestStreak:0,favoriteExercise:"",totalVolume:0,totalPRs:0,completedWellnessTasks:0}}},[t]);x.useEffect(()=>{t!==void 0&&(async()=>{p(!0);try{if(t&&!s){const D=await pi(t.uid);if(D?.profile)l({...To,...D.profile,email:t.email});else{const A={...To,displayName:t.displayName||"",email:t.email,memberSince:new Date().toISOString()};l(A),await An(t.uid,{profile:A})}if(D?.stats)d(D.stats);else{const A=await g();d(A)}}else{const D=localStorage.getItem("goodlift_user_profile");l(D?{...To,...JSON.parse(D)}:{...To,displayName:"Guest User",memberSince:new Date().toISOString()});const A=await g();d(A)}}catch(D){console.error("Error loading profile:",D),l(To)}finally{p(!1)}})()},[t,s,g]);const y=x.useCallback(async k=>{try{l(k),t&&!s?await An(t.uid,{profile:k}):localStorage.setItem("goodlift_user_profile",JSON.stringify(k))}catch(D){throw console.error("Error saving profile:",D),D}},[t,s]),v=x.useCallback((k,D)=>{const A={...a,[k]:D};return y(A)},[a,y]),b=x.useCallback(async(k,D="lbs")=>{const A={weight:k,unit:D,date:new Date().toISOString()},_=[...a.weightHistory,A],P={...a,currentWeight:k,weightUnit:D,weightHistory:_};await y(P)},[a,y]),S=x.useCallback(()=>{if(!a.displayName)return"?";const k=a.displayName.trim().split(" ");return k.length===1?k[0].charAt(0).toUpperCase():(k[0].charAt(0)+k[k.length-1].charAt(0)).toUpperCase()},[a.displayName]),j=x.useCallback(()=>{let k=0,D=7;return a.displayName&&k++,a.avatar&&k++,a.currentWeight&&k++,a.bio&&k++,a.goals&&k++,a.weightHistory.length>0&&k++,a.email&&k++,Math.round(k/D*100)},[a]),T=x.useCallback(async()=>{const k=await g();d(k),t&&!s&&await An(t.uid,{stats:k})},[g,t,s]),w={profile:a,stats:u,loading:f,saveProfile:y,updateProfile:v,addWeightEntry:b,getInitials:S,getProfileCompletion:j,refreshStats:T};return r.jsx(kE.Provider,{value:w,children:e})};TE.propTypes={children:E.node.isRequired};const b7=(e=[])=>{if(!e||e.length===0)return{currentStreak:0,longestStreak:0};const t=[...e].sort((g,y)=>new Date(y.date)-new Date(g.date)),s=new Set(t.map(g=>{const y=new Date(g.date);return y.setHours(0,0,0,0),y.getTime()})),a=new Date;a.setHours(0,0,0,0);let l=0,u=0,d=0,f=new Date(a),p=0;for(let g=0;g<365;g++){const y=f.getTime();if(Math.floor((a.getTime()-f.getTime())/(1e3*60*60*24))%7===0&&g>0&&(p=0),s.has(y))d++,l===0&&g<2&&(l=d),u=Math.max(u,d);else if(p++,p>1){const b=new Date(f);if(b.setDate(b.getDate()-1),!s.has(b.getTime())&&g>0){if(l===0&&d>0)break;d=0,p=0}}f.setDate(f.getDate()-1)}return{currentStreak:l,longestStreak:u}},v7=(e=[],t=30)=>{const s=new Date;s.setDate(s.getDate()-t),s.setHours(0,0,0,0);const l=e.filter(p=>{const g=new Date(p.date);return g.setHours(0,0,0,0),g>=s}).length,u=t/7,d=Math.ceil(u*6);return d===0?0:Math.min(100,Math.round(l/d*100))},jE=()=>{const[e,t]=x.useState(!0),[s,a]=x.useState([]),[l,u]=x.useState([]),[d,f]=x.useState([]),[p,g]=x.useState(!1),[y,v]=x.useState(""),[b,S]=x.useState(0),[j,T]=x.useState(!1),[w,k]=x.useState("all"),[D,A]=x.useState(null),[_,P]=x.useState(null),{profile:M,addWeightEntry:R}=Sx(),[N,W]=x.useState({currentStreak:0,longestStreak:0}),[U,B]=x.useState(0),[L,ce]=x.useState({}),[H,Q]=x.useState({personalRecords:0,totalWorkouts:0,averageDuration:0,strengthSessions:0,cardioSessions:0,yogaSessions:0}),z=()=>{switch(w){case"7days":return 7;case"30days":return 30;case"3months":return 90;case"year":return 365;case"custom":return null;case"all":return null;default:return null}},q=()=>{const X=z();if(w==="custom"&&D&&_){const oe=new Date(D);oe.setHours(0,0,0,0);const Me=new Date(_);return Me.setHours(23,59,59,999),s.filter(De=>{const Ne=new Date(De.date);return Ne>=oe&&Ne<=Me})}if(!X)return s;const ie=new Date;return ie.setDate(ie.getDate()-X),ie.setHours(0,0,0,0),s.filter(oe=>{const Me=new Date(oe.date);return Me.setHours(0,0,0,0),Me>=ie})},ae=X=>{let ie=0,oe=0,Me=0,De=0;const Ne={};X.forEach(be=>{be.type==="strength"||be.type==="full"||be.type==="upper"||be.type==="lower"||be.type==="push"||be.type==="pull"||be.type==="legs"?ie++:be.type==="cardio"||be.cardioType?oe++:be.type==="yoga"||be.yogaType?Me++:be.exercises&&Object.keys(be.exercises).length>0&&ie++;const ve=be.duration||0;De+=ve,be.exercises&&Object.entries(be.exercises).forEach(([Oe,He])=>{!He.sets||He.sets.length===0||He.sets.forEach(Se=>{const Ue=Se.weight||0,le=Se.reps||0;Ue===0&&le===0||(!Ne[Oe]||Ue>Ne[Oe].weight)&&(Ne[Oe]={weight:Ue,reps:le,date:be.date})})})});const ue=X.length,we=ue>0?Math.round(De/ue):0;return{personalRecords:Object.keys(Ne).length,totalWorkouts:ue,averageDuration:we,strengthSessions:ie,cardioSessions:oe,yogaSessions:Me}},fe=async()=>{t(!0);try{const[X,,ie]=await Promise.all([Js(),bf(),Gc()]);a(X),ce(ie);const oe=b7(X);W(oe);const Me=v7(X,30);B(Me);const De=Eo.getPinnedExercises();u(De);try{const we=(await(await fetch(sx)).json()).map(be=>be["Exercise Name"]).sort();f(we)}catch(Ne){console.error("Error loading exercises:",Ne);const ue=Eo.getUniqueExercises(X);f(ue)}}catch(X){console.error("Error loading progress data:",X)}finally{t(!1)}};x.useEffect(()=>{fe()},[]),x.useEffect(()=>{if(s.length>0||w||D||_){const X=q(),ie=ae(X);Q(ie)}},[s,w,D,_]);const Z=X=>{Eo.removePinnedExercise(X),u(l.filter(ie=>ie.exerciseName!==X))},J=X=>{Eo.addPinnedExercise(X,"weight")&&(u([...l,{exerciseName:X,trackingMode:"weight"}]),g(!1),v(""))};return e?r.jsx(V,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:r.jsxs(I,{variant:"h5",color:"text.secondary",children:["Loading",r.jsx(Ke.span,{initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:"..."})]})}):r.jsxs(V,{sx:{width:"100%",minHeight:"100vh",overflowX:"hidden"},children:[r.jsx(Nf,{title:"Progress",subtitle:"Track your fitness journey"}),r.jsxs(V,{sx:{maxWidth:"1400px",margin:"0 auto",p:{xs:1,sm:2,md:3},pb:{xs:"80px",md:3},width:"100%",boxSizing:"border-box"},children:[r.jsx(V,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:r.jsxs(ff,{value:b,onChange:(X,ie)=>S(ie),variant:"fullWidth",sx:{maxWidth:{xs:"100%",sm:600},margin:"0 auto"},children:[r.jsx(Ea,{icon:r.jsx(vS,{}),iconPosition:"start",label:"Statistics",sx:{minHeight:48}}),r.jsx(Ea,{icon:r.jsx(Go,{}),iconPosition:"start",label:"Achievements",sx:{minHeight:48}})]})}),b===0&&r.jsxs(Re,{spacing:3,children:[r.jsx(V,{sx:{display:"flex",justifyContent:"flex-end"},children:r.jsx(je,{startIcon:r.jsx(Om,{}),onClick:()=>T(!0),variant:"outlined",size:"small",sx:{textTransform:"none",borderRadius:2},children:w==="all"?"All Time":w==="7days"?"7 Days":w==="30days"?"30 Days":w==="3months"?"3 Months":w==="year"?"Year":w==="custom"?"Custom":"Filter"})}),r.jsx(at,{sx:{bgcolor:"background.paper",boxShadow:3,border:"2px solid #FF6B35"},children:r.jsx(ct,{sx:{p:2.5},children:r.jsxs(Re,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[r.jsxs(V,{sx:{display:"flex",alignItems:"center",gap:2},children:[r.jsx(OC,{sx:{fontSize:48,color:"#FF6B35"}}),r.jsxs(V,{children:[r.jsx(I,{variant:"h2",sx:{fontWeight:700,color:"#FF6B35",lineHeight:1},children:N.currentStreak}),r.jsx(I,{variant:"body1",color:"text.secondary",sx:{fontWeight:600},children:"Day Streak"})]})]}),r.jsxs(V,{sx:{textAlign:"right"},children:[r.jsx(I,{variant:"caption",color:"text.secondary",children:"Longest"}),r.jsx(I,{variant:"h5",sx:{fontWeight:700,color:"primary.main"},children:N.longestStreak})]})]})})}),r.jsx(at,{sx:{bgcolor:"background.paper"},children:r.jsx(ct,{sx:{p:2},children:r.jsxs(Re,{spacing:1.5,children:[r.jsxs(V,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[r.jsxs(V,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(vS,{sx:{color:"secondary.main"}}),r.jsx(I,{variant:"body1",sx:{fontWeight:600},children:"Adherence"})]}),r.jsxs(I,{variant:"h4",sx:{fontWeight:700,color:"secondary.main"},children:[U,"%"]})]}),r.jsx(Gi,{variant:"determinate",value:U,sx:{height:12,borderRadius:6,bgcolor:"action.hover","& .MuiLinearProgress-bar":{borderRadius:6,background:"linear-gradient(90deg, #4CAF50 0%, #8BC34A 100%)"}}}),r.jsx(I,{variant:"caption",color:"text.secondary",children:"Last 30 days  6 workouts/week target"})]})})}),s.length>0&&r.jsx(at,{sx:{bgcolor:"background.paper"},children:r.jsxs(ct,{children:[r.jsxs(Re,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[r.jsxs(I,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(Aa,{})," Progressive Overload"]}),l.length<10&&r.jsx(je,{size:"small",startIcon:r.jsx(Yi,{}),onClick:()=>g(!0),sx:{color:"secondary.main"},children:"Track Exercise"})]}),l.length===0?r.jsxs(V,{sx:{textAlign:"center",py:4},children:[r.jsx(I,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Track your favorite exercises to see your progress over time"}),r.jsx(je,{variant:"contained",startIcon:r.jsx(Yi,{}),onClick:()=>g(!0),children:"Add Exercise"})]}):r.jsx(Re,{spacing:2,children:l.map(X=>{const ie=Eo.getExerciseProgression(s,X.exerciseName,"weight"),oe=ie.length>0?ie[0].value:0,Me=ie.length>0?ie[ie.length-1].value:0,De=Me>oe?"up":Me<oe?"down":"same";return r.jsxs(V,{sx:{p:2,borderRadius:2,border:"1px solid",borderColor:"divider",bgcolor:"background.default"},children:[r.jsxs(Re,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",sx:{mb:1.5},children:[r.jsx(I,{variant:"body1",sx:{fontWeight:600,flex:1},children:X.exerciseName}),r.jsx(Qe,{onClick:()=>Z(X.exerciseName),size:"small",sx:{color:"text.secondary"},children:r.jsx(el,{sx:{fontSize:18}})})]}),ie.length>0?r.jsxs(Re,{direction:"row",alignItems:"center",spacing:2,sx:{justifyContent:"center",py:1},children:[r.jsxs(V,{sx:{textAlign:"center"},children:[r.jsx(I,{variant:"caption",color:"text.secondary",children:"Starting"}),r.jsxs(I,{variant:"h5",sx:{fontWeight:700,color:"primary.main"},children:[oe," lbs"]})]}),r.jsxs(V,{sx:{display:"flex",alignItems:"center",px:2},children:[De==="up"&&r.jsx(Aa,{sx:{fontSize:40,color:"success.main"}}),De==="down"&&r.jsx(Dg,{sx:{fontSize:40,color:"error.main"}}),De==="same"&&r.jsx(kr,{sx:{fontSize:40,color:"text.secondary"}})]}),r.jsxs(V,{sx:{textAlign:"center"},children:[r.jsx(I,{variant:"caption",color:"text.secondary",children:"Current"}),r.jsxs(I,{variant:"h5",sx:{fontWeight:700,color:"secondary.main"},children:[Me," lbs"]})]})]}):r.jsx(I,{variant:"caption",color:"text.secondary",sx:{display:"block",textAlign:"center",py:2},children:"No data available"})]},X.exerciseName)})})]})}),r.jsx(at,{sx:{bgcolor:"background.paper"},children:r.jsxs(ct,{sx:{p:3},children:[r.jsx(I,{variant:"h6",sx:{mb:3,fontWeight:600},children:"Workout Summary"}),r.jsxs(Re,{spacing:2.5,children:[r.jsxs(V,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs(V,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[r.jsx(Jt,{sx:{fontSize:28,color:"primary.main"}}),r.jsx(I,{variant:"body1",sx:{fontWeight:500},children:"Total Workouts"})]}),r.jsx(I,{variant:"h5",sx:{fontWeight:700,color:"primary.main"},children:H.totalWorkouts})]}),r.jsx(yn,{}),r.jsxs(V,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs(V,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[r.jsx(Jt,{sx:{fontSize:28,color:"error.main"}}),r.jsx(I,{variant:"body1",sx:{fontWeight:500},children:"Total Strength"})]}),r.jsx(I,{variant:"h5",sx:{fontWeight:700,color:"error.main"},children:H.strengthSessions})]}),r.jsx(yn,{}),r.jsxs(V,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs(V,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[r.jsx(fi,{sx:{fontSize:28,color:"success.main"}}),r.jsx(I,{variant:"body1",sx:{fontWeight:500},children:"Total Cardio"})]}),r.jsx(I,{variant:"h5",sx:{fontWeight:700,color:"success.main"},children:H.cardioSessions})]}),r.jsx(yn,{}),r.jsxs(V,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs(V,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[r.jsx(Zs,{sx:{fontSize:28,color:"secondary.main"}}),r.jsx(I,{variant:"body1",sx:{fontWeight:500},children:"Total Yoga"})]}),r.jsx(I,{variant:"h5",sx:{fontWeight:700,color:"secondary.main"},children:H.yogaSessions})]})]})]})}),r.jsx(vE,{weightHistory:M.weightHistory||[],currentWeight:M.currentWeight,currentUnit:M.weightUnit||"lbs",onAddWeight:R})]}),b===1&&r.jsx(xE,{userStats:L,workoutHistory:s}),r.jsxs(Tn,{open:p,onClose:()=>{g(!1),v("")},maxWidth:"xs",fullWidth:!0,children:[r.jsx(In,{children:"Add Exercise to Track"}),r.jsxs(jn,{children:[r.jsx(pt,{fullWidth:!0,placeholder:"Search exercises...",value:y,onChange:X=>v(X.target.value),variant:"outlined",size:"small",sx:{mb:2,mt:1}}),r.jsx(Hn,{sx:{maxHeight:400,overflow:"auto"},children:d.filter(X=>!l.some(ie=>ie.exerciseName===X)).filter(X=>X.toLowerCase().includes(y.toLowerCase())).map(X=>r.jsx(ot,{disablePadding:!0,children:r.jsx(Wi,{onClick:()=>J(X),children:r.jsx(kt,{primary:X})})},X))})]}),r.jsx(Dn,{children:r.jsx(je,{onClick:()=>{g(!1),v("")},children:"Cancel"})})]}),r.jsxs(Tn,{open:j,onClose:()=>T(!1),maxWidth:"xs",fullWidth:!0,children:[r.jsx(In,{children:"Time Frame Filter"}),r.jsx(jn,{children:r.jsxs(Re,{spacing:2,sx:{mt:1},children:[r.jsxs(TC,{value:w,exclusive:!0,onChange:(X,ie)=>{ie!==null&&k(ie)},orientation:"vertical",fullWidth:!0,children:[r.jsx(Li,{value:"all",children:"All Time"}),r.jsx(Li,{value:"7days",children:"Last 7 Days"}),r.jsx(Li,{value:"30days",children:"Last 30 Days"}),r.jsx(Li,{value:"3months",children:"Last 3 Months"}),r.jsx(Li,{value:"year",children:"Last Year"}),r.jsx(Li,{value:"custom",children:"Custom Range"})]}),w==="custom"&&r.jsx(jf,{dateAdapter:tx,children:r.jsxs(Re,{spacing:2,children:[r.jsx(af,{label:"Start Date",value:D,onChange:X=>A(X),slotProps:{textField:{fullWidth:!0}}}),r.jsx(af,{label:"End Date",value:_,onChange:X=>P(X),slotProps:{textField:{fullWidth:!0}}})]})})]})}),r.jsxs(Dn,{children:[r.jsx(je,{onClick:()=>{k("all"),A(null),P(null)},children:"Clear Filters"}),r.jsx(je,{onClick:()=>T(!1),variant:"contained",children:"Apply"})]})]})]})]})};jE.propTypes={};const S7=()=>{const[e,t]=x.useState(!0),[s,a]=x.useState(""),[l,u]=x.useState(""),[d,f]=x.useState(""),[p,g]=x.useState(!1),{login:y,signup:v}=Ia();return{isLogin:e,email:s,setEmail:a,password:l,setPassword:u,error:d,loading:p,handleSubmit:async j=>{if(j.preventDefault(),!s||!l){f("Please fill in all fields");return}if(l.length<6){f("Password must be at least 6 characters");return}try{f(""),g(!0),e?await y(s,l):await v(s,l)}catch(T){console.error("Auth error:",T.code||"Unknown error"),T.code==="auth/user-not-found"||T.code==="auth/wrong-password"?f("Invalid email or password"):T.code==="auth/email-already-in-use"?f("Email already in use"):T.code==="auth/invalid-email"?f("Invalid email address"):T.code==="auth/weak-password"?f("Password is too weak"):f(`Failed to ${e?"log in":"sign up"}. Please try again.`)}finally{g(!1)}},toggleMode:()=>{t(!e),f(""),a(""),u("")}}},w7=()=>{const{isLogin:e,email:t,setEmail:s,password:a,setPassword:l,error:u,loading:d,handleSubmit:f,toggleMode:p}=S7(),{continueAsGuest:g}=Ia();return r.jsx(V,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:y=>y.palette.background.default,p:2},children:r.jsx(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:r.jsx(at,{sx:{maxWidth:440,width:"100%",borderRadius:4,boxShadow:"0 8px 32px rgba(19, 70, 134, 0.2)"},children:r.jsxs(ct,{sx:{p:4},children:[r.jsxs(V,{sx:{textAlign:"center",mb:4},children:[r.jsx(Ke.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},style:{marginBottom:"1rem"},children:r.jsx("img",{src:"/goodlift/goodlift-logo.svg",alt:"GoodLift",style:{height:"80px",width:"auto"}})}),r.jsx(Qo,{mode:"wait",children:r.jsxs(Ke.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.3},children:[r.jsx(I,{variant:"h5",sx:{fontWeight:600,mb:1},children:e?"Welcome Back":"Create Account"}),r.jsx(I,{variant:"body2",color:"text.secondary",children:e?"Log in to continue your fitness journey":"Sign up to start tracking your workouts"})]},e?"login":"signup")})]}),r.jsx(Qo,{mode:"wait",children:u&&r.jsx(Ke.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:r.jsx(At,{severity:"error",sx:{mb:3},children:u})})}),r.jsxs(V,{component:"form",onSubmit:f,children:[r.jsx(pt,{fullWidth:!0,label:"Email",type:"email",value:t,onChange:y=>s(y.target.value),disabled:d,required:!0,sx:{mb:2}}),r.jsx(pt,{fullWidth:!0,label:"Password",type:"password",value:a,onChange:y=>l(y.target.value),disabled:d,required:!0,sx:{mb:3}}),r.jsx(Ke.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:r.jsx(je,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:d,sx:{py:1.5,fontSize:"1.1rem",fontWeight:600,bgcolor:"primary.main","&:hover":{bgcolor:"primary.dark"}},children:d?"Please wait...":e?"Log In":"Sign Up"})}),r.jsx(yn,{sx:{my:2},children:"OR"}),r.jsx(Ke.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:r.jsx(je,{fullWidth:!0,variant:"outlined",size:"large",disabled:d,onClick:g,sx:{py:1.5,fontSize:"1.1rem",fontWeight:600,borderColor:"secondary.main",color:"secondary.main","&:hover":{borderColor:"secondary.dark",bgcolor:"rgba(237, 63, 39, 0.05)"}},children:"Continue as Guest"})}),r.jsx(V,{sx:{mt:3,pt:3,borderTop:"1px solid",borderColor:"divider",textAlign:"center"},children:r.jsxs(I,{variant:"body2",color:"text.secondary",children:[e?"Don't have an account? ":"Already have an account? ",r.jsx(je,{onClick:p,disabled:d,sx:{color:"primary.main",fontWeight:600,textDecoration:"underline","&:hover":{bgcolor:"transparent",textDecoration:"underline"}},children:e?"Sign Up":"Log In"})]})})]})]})})})})},Tc=[{name:"Neck Side Stretch",primaryMuscles:"Neck",secondaryMuscles:"Upper Back, Traps",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=v5I0J_6w6jw"},{name:"Neck Rotation",primaryMuscles:"Neck",secondaryMuscles:"Traps",type:"Dynamic",duration:60,youtubeLink:"https://www.youtube.com/watch?v=xfGKhRo5bpI"},{name:"Shoulder Cross-Body Stretch",primaryMuscles:"Delts, Rear Delts",secondaryMuscles:"Upper Back",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=b6H9SHC0H9Y"},{name:"Overhead Triceps Stretch",primaryMuscles:"Triceps",secondaryMuscles:"Delts, Lats",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=EQO_8NRkljo"},{name:"Arm Circles",primaryMuscles:"Delts",secondaryMuscles:"Upper Back, Chest",type:"Dynamic",duration:60,youtubeLink:"https://www.youtube.com/watch?v=Ue_PRcVBdm8"},{name:"Doorway Chest Stretch",primaryMuscles:"Chest",secondaryMuscles:"Front Delts",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=qGJABe9R2zQ"},{name:"Standing Chest Expansion",primaryMuscles:"Chest",secondaryMuscles:"Front Delts, Biceps",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=mvh5zHB-xkc"},{name:"Child's Pose",primaryMuscles:"Lower Back",secondaryMuscles:"Lats, Glutes",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=2MTIlxJ82vY",difficulty:"Beginner"},{name:"Cat-Cow Stretch",primaryMuscles:"Back, Core",secondaryMuscles:"Abs",type:"Dynamic",duration:60,youtubeLink:"https://www.youtube.com/watch?v=kqnua4rHVVA",difficulty:"Beginner"},{name:"Seated Spinal Twist",primaryMuscles:"Back, Obliques",secondaryMuscles:"Lower Back, Glutes",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=DGd7kJyPZjU",difficulty:"Beginner"},{name:"Hip Flexor Stretch (Lunge)",primaryMuscles:"Hip Flexors",secondaryMuscles:"Quads",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=hdW4IXXCzKE"},{name:"Pigeon Pose",primaryMuscles:"Glutes, Hip Flexors",secondaryMuscles:"Lower Back",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=0_zDd6kQ",difficulty:"Intermediate"},{name:"Figure 4 Stretch",primaryMuscles:"Glutes",secondaryMuscles:"Lower Back, Hip Flexors",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=JbyjNymZP8M"},{name:"Butterfly Stretch",primaryMuscles:"Inner Thighs, Groin",secondaryMuscles:"Hip Flexors",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=mJiSzM1X7m0"},{name:"Standing Quad Stretch",primaryMuscles:"Quads",secondaryMuscles:"Hip Flexors",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=kRHQDSuhYKE"},{name:"Lying Quad Stretch",primaryMuscles:"Quads",secondaryMuscles:"Hip Flexors",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=5Mn5g6W-BZk"},{name:"Standing Hamstring Stretch",primaryMuscles:"Hamstrings",secondaryMuscles:"Lower Back, Calves",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=BPmv-3EQk2c"},{name:"Seated Forward Fold",primaryMuscles:"Hamstrings, Lower Back",secondaryMuscles:"Calves",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=U21floGmwDs",difficulty:"Beginner"},{name:"Downward Dog",primaryMuscles:"Hamstrings, Calves",secondaryMuscles:"Back, Delts",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=gZJWYonQKxY",difficulty:"Beginner"},{name:"Wall Calf Stretch",primaryMuscles:"Calves",secondaryMuscles:"Hamstrings",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=hjCRc2jYKyY"},{name:"Standing Calf Raise Stretch",primaryMuscles:"Calves",secondaryMuscles:"",type:"Dynamic",duration:60,youtubeLink:"https://www.youtube.com/watch?v=V3E_fFrLZmE"},{name:"Cobra Stretch",primaryMuscles:"Abs",secondaryMuscles:"Hip Flexors, Chest",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=JDcdhTuycOI",difficulty:"Beginner"},{name:"Side Bend Stretch",primaryMuscles:"Obliques",secondaryMuscles:"Lats, Side Delts",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=y1bKLSIvR1A"},{name:"World's Greatest Stretch",primaryMuscles:"Hip Flexors, Hamstrings",secondaryMuscles:"Glutes, Back, Chest",type:"Dynamic",duration:60,youtubeLink:"https://www.youtube.com/watch?v=a25W3YHBXP4",difficulty:"Intermediate"},{name:"Thread the Needle",primaryMuscles:"Upper Back, Delts",secondaryMuscles:"Obliques, Lower Back",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=lVGgLfg3wQ8",difficulty:"Beginner"},{name:"Warrior I Pose",primaryMuscles:"Hip Flexors, Quads",secondaryMuscles:"Glutes, Core",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=VC4s_PmJBkA",difficulty:"Beginner"},{name:"Triangle Pose",primaryMuscles:"Hamstrings, Obliques",secondaryMuscles:"Inner Thighs, Back",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=2S-ozXfUL9g",difficulty:"Intermediate"},{name:"Happy Baby Pose",primaryMuscles:"Hip Flexors, Glutes",secondaryMuscles:"Lower Back, Inner Thighs",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=p28vdRmDuLg",difficulty:"Beginner"},{name:"Supine Spinal Twist",primaryMuscles:"Lower Back, Obliques",secondaryMuscles:"Glutes, Chest",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=DQBT3u-x7TE",difficulty:"Beginner"}],aC=e=>e.split(",").map(t=>t.trim()).filter(t=>t.length>0),jc=e=>{const t=aC(e.primaryMuscles),s=aC(e.secondaryMuscles||"");return[...t,...s]},Mm={NECK:["Neck","Traps"],SHOULDERS:["Delts","Front Delts","Rear Delts","Side Delts"],CHEST:["Chest","Upper Chest","Lower Chest"],BACK:["Back","Upper Back","Lower Back","Lats"],CORE:["Core","Abs","Obliques"],ARMS:["Biceps","Triceps","Forearms"],HIPS:["Hip Flexors","Glutes","Groin","Inner Thighs"],LEGS_UPPER:["Quads","Hamstrings"],LEGS_LOWER:["Calves"]},rC=(e,t)=>jc(e).some(a=>t.some(l=>a.includes(l)||l.includes(a))),vg=(e=10)=>{const t=[],s=new Set,a=Object.keys(Mm);for(const l of a){if(t.length>=e)break;const u=Mm[l],d=Tc.filter(f=>rC(f,u)&&!t.includes(f));if(d.length>0){const f=Math.floor(Math.random()*d.length);t.push(d[f]),s.add(l)}}for(;t.length<e;){const l=a.filter(u=>!s.has(u));if(l.length>0){const u=l[Math.floor(Math.random()*l.length)],d=Mm[u],f=Tc.filter(p=>rC(p,d)&&!t.includes(p));if(f.length>0){const p=Math.floor(Math.random()*f.length);t.push(f[p]),s.add(u)}else s.add(u)}else{const u=Tc.filter(f=>!t.includes(f));if(u.length===0)break;const d=Math.floor(Math.random()*u.length);t.push(u[d])}}return Sg(t)},C7=(e,t=10)=>{if(!e||e.length===0)return vg(t);const s=Tc.filter(u=>{const d=jc(u);return e.some(f=>d.some(p=>p.includes(f)||f.includes(p)))});if(s.length===0)return console.warn("No stretches found for specified muscles, using full body selection"),vg(t);if(s.length<=t)return Sg(s);const a=[],l=new Set;for(const u of e){if(a.length>=t)break;const d=s.filter(f=>a.includes(f)?!1:jc(f).some(g=>g.includes(u)||u.includes(g)));if(d.length>0){const f=Math.floor(Math.random()*d.length);a.push(d[f]),jc(d[f]).forEach(p=>l.add(p))}}for(;a.length<t;){const u=s.filter(f=>!a.includes(f));if(u.length===0)break;const d=Math.floor(Math.random()*u.length);a.push(u[d])}return Sg(a)},Sg=e=>{const t=[...e];for(let s=t.length-1;s>0;s--){const a=Math.floor(Math.random()*(s+1));[t[s],t[a]]=[t[a],t[s]]}return t},k7=()=>{const e=new Set;return Tc.forEach(t=>{jc(t).forEach(s=>e.add(s))}),Array.from(e).sort()},DE=({onStartStretchSession:e})=>{const[t,s]=x.useState(null),[a,l]=x.useState([]),u=k7(),d=()=>{s("full")},f=()=>{s("custom")},p=b=>{l(S=>S.includes(b)?S.filter(j=>j!==b):[...S,b])},g=()=>{t==="full"?e("full",[]):t==="custom"&&e("custom",a)},y=()=>{s(null),l([])},v=t==="custom"&&a.length===0;return r.jsx(V,{sx:{padding:{xs:"2rem 1rem",sm:"2rem",md:"3rem"},maxWidth:"1200px",margin:"0 auto",minHeight:"calc(100vh - 60px)"},children:r.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsx(I,{variant:"h3",sx:{fontFamily:"'Montserrat', sans-serif",fontWeight:800,color:"primary.main",marginBottom:"0.5rem",textAlign:"center"},children:"Stretching"}),r.jsx(I,{variant:"body1",sx:{color:"text.secondary",marginBottom:"2rem",textAlign:"center"},children:"Improve flexibility and recovery with guided stretches"}),!t&&r.jsx(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:r.jsxs(nn,{container:!0,spacing:3,sx:{marginTop:2},children:[r.jsx(nn,{item:!0,xs:12,md:6,children:r.jsx(Ke.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:r.jsx(at,{onClick:d,sx:{cursor:"pointer",height:"100%",transition:"all 0.3s ease","&:hover":{boxShadow:6,borderColor:"primary.main"},border:"2px solid",borderColor:"divider"},children:r.jsxs(ct,{sx:{padding:4},children:[r.jsx(V,{sx:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:2},children:r.jsx(Jt,{sx:{fontSize:60,color:"primary.main"}})}),r.jsx(I,{variant:"h5",sx:{fontWeight:700,textAlign:"center",marginBottom:2,color:"primary.main"},children:"Full Body Stretch"}),r.jsx(I,{variant:"body2",sx:{textAlign:"center",marginBottom:2,color:"text.secondary"},children:"A balanced routine covering all major muscle groups for complete flexibility and recovery."}),r.jsxs(V,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1,marginTop:2},children:[r.jsx(Rm,{sx:{color:"secondary.main"}}),r.jsx(I,{variant:"h6",sx:{fontWeight:600,color:"secondary.main"},children:"~10 minutes"})]})]})})})}),r.jsx(nn,{item:!0,xs:12,md:6,children:r.jsx(Ke.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:r.jsx(at,{onClick:f,sx:{cursor:"pointer",height:"100%",transition:"all 0.3s ease","&:hover":{boxShadow:6,borderColor:"info.main"},border:"2px solid",borderColor:"divider"},children:r.jsxs(ct,{sx:{padding:4},children:[r.jsx(V,{sx:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:2},children:r.jsx(Jt,{sx:{fontSize:60,color:"info.main"}})}),r.jsx(I,{variant:"h5",sx:{fontWeight:700,textAlign:"center",marginBottom:2,color:"info.main"},children:"Custom Stretch"}),r.jsx(I,{variant:"body2",sx:{textAlign:"center",marginBottom:2,color:"text.secondary"},children:"Target specific muscle groups that need attention."}),r.jsxs(V,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1,marginTop:2},children:[r.jsx(Rm,{sx:{color:"secondary.main"}}),r.jsx(I,{variant:"h6",sx:{fontWeight:600,color:"secondary.main"},children:"~10 minutes"})]})]})})})})]})}),t==="custom"&&r.jsx(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:r.jsxs(at,{sx:{marginTop:3,padding:3},children:[r.jsx(I,{variant:"h5",sx:{fontWeight:700,marginBottom:2,textAlign:"center",color:"primary.main"},children:"Select Muscle Groups"}),r.jsx(I,{variant:"body2",sx:{marginBottom:3,textAlign:"center",color:"text.secondary"},children:"Choose one or more muscle groups to focus on"}),r.jsx(U2,{children:r.jsx(nn,{container:!0,spacing:2,children:u.map(b=>r.jsx(nn,{item:!0,xs:6,sm:4,md:3,children:r.jsx(Ld,{control:r.jsx(q2,{checked:a.includes(b),onChange:()=>p(b),color:"primary"}),label:b})},b))})})]})}),t==="full"&&r.jsx(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:r.jsxs(at,{sx:{marginTop:3,padding:3},children:[r.jsx(I,{variant:"h5",sx:{fontWeight:700,marginBottom:2,textAlign:"center",color:"primary.main"},children:"Full Body Stretch Session"}),r.jsxs(Re,{spacing:1,sx:{marginTop:2},children:[r.jsxs(I,{variant:"body1",children:[r.jsx("strong",{children:"Duration:"})," ~10 minutes"]}),r.jsxs(I,{variant:"body1",children:[r.jsx("strong",{children:"Focus:"})," All major muscle groups"]}),r.jsxs(I,{variant:"body1",children:[r.jsx("strong",{children:"Stretches:"})," 10 carefully selected stretches"]})]})]})}),t&&r.jsxs(V,{sx:{marginTop:4,display:"flex",justifyContent:"center",gap:2},children:[r.jsx(je,{variant:"outlined",size:"large",onClick:y,sx:{minWidth:"150px",padding:"12px 32px",fontSize:"1.1rem"},children:"Back"}),r.jsx(je,{variant:"contained",size:"large",startIcon:r.jsx(Ks,{}),onClick:g,disabled:v,sx:{minWidth:"200px",padding:"12px 32px",fontSize:"1.1rem",fontWeight:600},children:"Start Session"})]})]})})};DE.propTypes={onStartStretchSession:E.func.isRequired};class T7{constructor(){this.isSupported="speechSynthesis"in window,this.isEnabled=this.loadTTSPreference(),this.currentUtterance=null}isTTSSupported(){return this.isSupported}loadTTSPreference(){try{const t=localStorage.getItem("ttsEnabled");return t===null?!0:t==="true"}catch{return!0}}saveTTSPreference(){try{localStorage.setItem("ttsEnabled",this.isEnabled.toString())}catch(t){console.warn("Could not save TTS preference",t)}}toggleTTS(){return this.isEnabled=!this.isEnabled,this.saveTTSPreference(),!this.isEnabled&&this.isSupported&&window.speechSynthesis.cancel(),this.isEnabled}setEnabled(t){this.isEnabled=t,this.saveTTSPreference(),!t&&this.isSupported&&window.speechSynthesis.cancel()}isEnabledState(){return this.isEnabled}speak(t,s={}){return new Promise((a,l)=>{if(!this.isSupported){console.warn("Speech Synthesis not supported in this browser"),l(new Error("Speech Synthesis not supported"));return}if(!this.isEnabled){a();return}window.speechSynthesis.cancel();const u=new SpeechSynthesisUtterance(t);u.rate=s.rate||1,u.pitch=s.pitch||1,u.volume=s.volume||1,u.lang=s.lang||"en-US";const d=window.speechSynthesis.getVoices();if(d.length>0){let f=d.find(p=>p.lang.startsWith("en")&&(p.name.toLowerCase().includes("female")||p.name.toLowerCase().includes("natural")||p.name.toLowerCase().includes("premium")||p.name.toLowerCase().includes("neural")));f||(f=d.find(p=>p.lang.startsWith("en")&&p.localService===!1)),f||(f=d.find(p=>p.lang.startsWith("en"))),f&&(u.voice=f)}u.onend=()=>{this.currentUtterance=null,a()},u.onerror=f=>{console.error("Speech synthesis error:",f),this.currentUtterance=null,l(f)},this.currentUtterance=u,window.speechSynthesis.speak(u)})}async announceExercise(t){try{await this.speak(t,{rate:.85,pitch:.95})}catch(s){console.warn("Could not announce exercise:",s)}}async announceMessage(t){try{await this.speak(t,{rate:1})}catch(s){console.warn("Could not announce message:",s)}}stop(){this.isSupported&&(window.speechSynthesis.cancel(),this.currentUtterance=null)}pause(){this.isSupported&&window.speechSynthesis.speaking&&window.speechSynthesis.pause()}resume(){this.isSupported&&window.speechSynthesis.paused&&window.speechSynthesis.resume()}isSpeaking(){return this.isSupported&&window.speechSynthesis.speaking}}const oc=new T7,EE=({stretches:e,onComplete:t,onExit:s})=>{const[a,l]=x.useState(0),[u,d]=x.useState(60),[f,p]=x.useState(!1),[g,y]=x.useState(oc.isEnabledState()),v=x.useRef(null),b=x.useRef(!1),S=e[a],j=(60-u)/60*100,T=(a*60+(60-u))/(e.length*60)*100;x.useEffect(()=>(hr.requestWakeLock(),()=>{hr.releaseWakeLock(),oc.stop()}),[]),x.useEffect(()=>{!b.current&&g&&(oc.announceExercise(S.name),b.current=!0)},[a,S.name,g]),x.useEffect(()=>(f?v.current&&clearInterval(v.current):v.current=setInterval(()=>{d(M=>M<=1?a<e.length-1?(l(R=>R+1),b.current=!1,Vt.playTransitionBeep(),60):(clearInterval(v.current),Vt.playCompletionFanfare(),setTimeout(()=>{t()},500),0):M-1)},1e3),()=>{v.current&&clearInterval(v.current)}),[f,a,e.length,t]);const w=()=>{p(M=>!M)},k=x.useCallback(()=>{a<e.length-1&&(l(M=>M+1),d(60),b.current=!1,Vt.playTransitionBeep())},[a,e.length]),D=x.useCallback(()=>{a>0&&(l(M=>M-1),d(60),b.current=!1,Vt.playTransitionBeep())},[a]),A=()=>{const M=oc.toggleTTS();y(M)},_=()=>{v.current&&clearInterval(v.current),oc.stop(),s()},P=M=>{const R=Math.floor(M/60),N=M%60;return`${R}:${N.toString().padStart(2,"0")}`};return r.jsxs(V,{sx:{padding:{xs:"0.5rem",sm:"1rem",md:"2rem"},maxWidth:"900px",margin:"0 auto",minHeight:"calc(100vh - 60px)",width:"100%",boxSizing:"border-box"},children:[r.jsxs(V,{sx:{marginBottom:3},children:[r.jsxs(V,{sx:{display:"flex",justifyContent:"space-between",marginBottom:1},children:[r.jsxs(I,{variant:"body2",sx:{fontWeight:600},children:["Stretch ",a+1," of ",e.length]}),r.jsxs(I,{variant:"body2",sx:{fontWeight:600},children:[Math.round(T),"% Complete"]})]}),r.jsx(Gi,{variant:"determinate",value:T,sx:{height:8,borderRadius:4,backgroundColor:"rgba(19, 70, 134, 0.1)","& .MuiLinearProgress-bar":{backgroundColor:"primary.main"}}})]}),r.jsx(Qo,{mode:"wait",children:r.jsx(Ke.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},children:r.jsx(at,{sx:{background:"linear-gradient(135deg, rgba(19, 70, 134, 0.05) 0%, rgba(237, 63, 39, 0.05) 100%)",boxShadow:4},children:r.jsxs(ct,{sx:{padding:{xs:2,sm:3},width:"100%",boxSizing:"border-box"},children:[r.jsx(I,{variant:"h4",sx:{fontFamily:"'Montserrat', sans-serif",fontWeight:800,color:"primary.main",marginBottom:{xs:1,sm:2},textAlign:"center",fontSize:{xs:"1.5rem",sm:"2rem"}},children:S.name}),r.jsxs(V,{sx:{marginBottom:{xs:2,sm:3},textAlign:"center"},children:[r.jsx(I,{variant:"h1",sx:{fontFamily:"'Montserrat', sans-serif",fontWeight:800,color:f?"grey.500":"secondary.main",fontSize:{xs:"3rem",sm:"4rem",md:"5rem"},marginBottom:1,lineHeight:1},children:P(u)}),r.jsx(Gi,{variant:"determinate",value:j,sx:{height:{xs:8,sm:12},borderRadius:6,backgroundColor:"rgba(237, 63, 39, 0.1)","& .MuiLinearProgress-bar":{backgroundColor:"secondary.main"}}})]}),r.jsxs(V,{sx:{marginBottom:{xs:2,sm:3}},children:[r.jsx(I,{variant:"subtitle2",sx:{fontWeight:600,marginBottom:.5,color:"primary.main",fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Primary Muscles:"}),r.jsx(V,{sx:{display:"flex",flexWrap:"wrap",gap:.5,marginBottom:{xs:1,sm:2}},children:S.primaryMuscles.split(",").map((M,R)=>r.jsx(ft,{label:M.trim(),color:"primary",size:"medium"},R))}),S.secondaryMuscles&&r.jsxs(r.Fragment,{children:[r.jsx(I,{variant:"subtitle2",sx:{fontWeight:600,marginBottom:.5,color:"text.secondary",fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Secondary Muscles:"}),r.jsx(V,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:S.secondaryMuscles.split(",").map((M,R)=>{const N=M.trim();return N?r.jsx(ft,{label:N,variant:"outlined",size:"small"},R):null})})]})]}),S.youtubeLink&&r.jsx(je,{variant:"outlined",startIcon:r.jsx(Y2,{}),onClick:()=>window.open(S.youtubeLink,"_blank"),fullWidth:!0,sx:{marginBottom:{xs:2,sm:3},fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Watch Demonstration"}),r.jsxs(V,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:{xs:1,sm:2},marginBottom:{xs:1,sm:2},flexWrap:"wrap"},children:[r.jsx(Zn,{title:"Previous stretch",children:r.jsx("span",{children:r.jsx(Qe,{onClick:D,disabled:a===0,sx:{backgroundColor:"primary.main",color:"white","&:hover":{backgroundColor:"primary.dark"},"&:disabled":{backgroundColor:"grey.300",color:"grey.500"}},children:r.jsx(jC,{})})})}),r.jsx(Zn,{title:f?"Resume":"Pause",children:r.jsx(Qe,{onClick:w,sx:{backgroundColor:"secondary.main",color:"white",width:{xs:56,sm:64},height:{xs:56,sm:64},"&:hover":{backgroundColor:"secondary.dark"}},children:f?r.jsx(Ks,{sx:{fontSize:{xs:32,sm:40}}}):r.jsx(Og,{sx:{fontSize:{xs:32,sm:40}}})})}),r.jsx(Zn,{title:"Next stretch",children:r.jsx("span",{children:r.jsx(Qe,{onClick:k,disabled:a===e.length-1,sx:{backgroundColor:"primary.main",color:"white","&:hover":{backgroundColor:"primary.dark"},"&:disabled":{backgroundColor:"grey.300",color:"grey.500"}},children:r.jsx(df,{})})})})]}),r.jsxs(V,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:2},children:[r.jsx(Zn,{title:g?"Voice announcements on":"Voice announcements off",children:r.jsx(Qe,{onClick:A,color:g?"primary":"default",children:g?r.jsx(Eg,{}):r.jsx(yC,{})})}),r.jsx(je,{variant:"outlined",color:"error",startIcon:r.jsx(DC,{}),onClick:_,sx:{minWidth:"120px"},children:"End Session"})]})]})})},a)})]})};EE.propTypes={stretches:E.arrayOf(E.shape({name:E.string.isRequired,primaryMuscles:E.string.isRequired,secondaryMuscles:E.string,youtubeLink:E.string})).isRequired,onComplete:E.func.isRequired,onExit:E.func.isRequired};const j7=()=>{const[e,t]=x.useState("selection"),[s,a]=x.useState([]),[l,u]=x.useState(""),[d,f]=x.useState(null),p=(b,S)=>{let j;b==="full"?j=vg(10):j=C7(S,10),a(j),u(b),t("stretch-session")},g=async()=>{try{const b={id:`stretch_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,date:new Date().toISOString(),type:l,stretchesCompleted:s.length,stretches:s.map(S=>S.name),duration:s.length*60};await $R(b)}catch(b){console.error("Failed to save stretch session:",b)}f("stretch"),t("complete")},y=()=>{t("selection"),a([])},v=()=>{t("selection"),a([]),f(null)};return r.jsxs(r.Fragment,{children:[e==="selection"&&r.jsx(DE,{onStartStretchSession:p}),e==="stretch-session"&&s.length>0&&r.jsx(EE,{stretches:s,onComplete:g,onExit:y}),e==="complete"&&r.jsx(V,{sx:{padding:{xs:"2rem 1rem",sm:"2rem",md:"3rem"},maxWidth:"700px",margin:"0 auto",minHeight:"calc(100vh - 60px)",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(Ke.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},style:{width:"100%"},children:r.jsx(at,{sx:{background:d==="stretch"?"linear-gradient(135deg, rgba(19, 70, 134, 0.05) 0%, rgba(76, 175, 80, 0.05) 100%)":"linear-gradient(135deg, rgba(19, 70, 134, 0.05) 0%, rgba(156, 39, 176, 0.05) 100%)",boxShadow:6},children:r.jsxs(ct,{sx:{padding:{xs:3,sm:5},textAlign:"center"},children:[r.jsx(Ke.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},children:r.jsx(Uo,{sx:{fontSize:100,color:d==="stretch"?"success.main":"#9c27b0",marginBottom:2}})}),r.jsx(I,{variant:"h3",sx:{fontFamily:"'Montserrat', sans-serif",fontWeight:800,color:"primary.main",marginBottom:2},children:"Session Complete!"}),r.jsx(I,{variant:"h6",sx:{color:"text.secondary",marginBottom:3},children:d==="stretch"?"Great job! You've completed your stretch session.":"Great job! You've completed your mobility session."}),d==="stretch"&&r.jsxs(r.Fragment,{children:[r.jsxs(I,{variant:"body1",sx:{marginBottom:1},children:[s.length," stretches completed"]}),r.jsxs(I,{variant:"body1",sx:{marginBottom:4},children:["~",s.length," minutes of stretching"]})]}),r.jsx(je,{variant:"contained",size:"large",onClick:v,sx:{minWidth:"200px",padding:"12px 32px",fontSize:"1.1rem",fontWeight:600},children:"Done"})]})})})})]})},D7={Chest:"Lats",Lats:"Chest",Quads:"Hamstrings",Hamstrings:"Quads",Biceps:"Triceps",Triceps:"Biceps",Shoulders:"Lats"},ME=()=>{const[e,t]=x.useState({}),[s,a]=x.useState([]),[l,u]=x.useState(!0),[d,f]=x.useState(null);x.useEffect(()=>{(async()=>{try{u(!0);const S=await fetch(sx);if(!S.ok)throw new Error(`Failed to load exercises: ${S.status}`);const j=await S.json();a(j);const T=j.reduce((w,k)=>{const D=k["Primary Muscle"].split("(")[0].trim();return w[D]||(w[D]=[]),w[D].push(k),w},{});t(T),u(!1)}catch(S){console.error("Failed to load exercise data:",S),f(S.message),u(!1)}})()},[]);const p=x.useCallback((b,S,j=[],T="all")=>{let w=(e[b]||[]).filter(D=>!j.some(A=>A["Exercise Name"]===D["Exercise Name"]));if(T!=="all"){const D=Array.isArray(T)?T:[T];w=w.filter(A=>{const _=A.Equipment.toLowerCase();return D.some(P=>{const M=P.toLowerCase();return M==="cable machine"?_.includes("cable"):M==="dumbbells"?_.includes("dumbbell"):_.includes(M)})})}if(w.length<S)return console.warn(`Insufficient exercises for ${b}. Available: ${w.length}, Requested: ${S}`),w;const k=[...w];for(let D=k.length-1;D>0;D--){const A=Math.floor(Math.random()*(D+1));[k[D],k[A]]=[k[A],k[D]]}return k.slice(0,S)},[e]),g=x.useCallback((b,S="all",j=zF)=>{let T=[];switch(b){case"upper":{const w=Math.ceil(j*.375),k=Math.ceil(j*.375),D=Math.floor(j*.125),A=j-w-k-D;T.push(...p("Chest",w,T,S)),T.push(...p("Lats",k,T,S)),T.push(...p("Biceps",D,T,S)),T.push(...p("Triceps",A,T,S));break}case"lower":{const w=.375+Math.random()*.125,k=Math.ceil(j*w),D=Math.floor(j*.25)+Math.floor(Math.random()*2),A=j-k-D;T.push(...p("Quads",k,T,S)),T.push(...p("Hamstrings",D,T,S)),A>0&&T.push(...p("Core",A,T,S));break}case"full":{const w=Math.ceil(j*.25),k=Math.ceil(j*.25),D=Math.ceil(j*.25),A=Math.floor(j*.125)+Math.floor(Math.random()*2),_=j-w-k-D-A;T.push(...p("Chest",w,T,S)),T.push(...p("Lats",k,T,S)),T.push(...p("Quads",D,T,S)),T.push(...p("Hamstrings",A,T,S)),_>0&&T.push(...p("Core",_,T,S));break}case"push":{const w=Math.ceil(j*.375),k=Math.ceil(j*.375),D=j-w-k;T.push(...p("Chest",w,T,S)),T.push(...p("Delts",k,T,S)),T.push(...p("Triceps",D,T,S));break}case"pull":{const w=Math.ceil(j*.5),k=Math.ceil(j*.25),D=j-w-k;T.push(...p("Lats",w,T,S)),T.push(...p("Rear Delts",k,T,S)),T.push(...p("Biceps",D,T,S));break}case"legs":{const w=.375+Math.random()*.125,k=Math.ceil(j*w),D=Math.floor(j*.25)+Math.floor(Math.random()*2),A=j-k-D;T.push(...p("Quads",k,T,S)),T.push(...p("Hamstrings",D,T,S)),A>0&&T.push(...p("Core",A,T,S));break}case"core":T.push(...p("Core",j,T,S));break;default:console.warn(`Unknown workout type: ${b}`);break}for(;T.length<j&&T.length>0;){const w=Object.keys(e);if(w.length===0)break;const k=w[Math.floor(Math.random()*w.length)],D=p(k,1,T,S);if(D.length>0)T.push(D[0]);else break}return T.slice(0,j)},[e,p]),y=x.useCallback((b,S=[2,2,2,2])=>{const j=[],T=[...b];for(const w of S){if(T.length===0)break;const k=[];if(T.length>0){const D=T.shift();k.push(D);const A=D["Primary Muscle"].split("(")[0].trim(),_=D7[A];for(let P=1;P<w&&T.length>0;P++){let M=-1;P===1&&_&&(M=T.findIndex(N=>N["Primary Muscle"].includes(_))),M===-1&&(M=T.findIndex(N=>!k.some(W=>W["Primary Muscle"].includes(N["Primary Muscle"].split("(")[0].trim())))),M===-1&&(M=0);const R=T.splice(M,1)[0];k.push(R)}}j.push(...k)}return T.length>0&&j.push(...T),j},[]);return{generateWorkout:x.useCallback((b,S="all",j=[2,2,2,2])=>{if(Object.keys(e).length===0)return console.error("Exercise database is empty. Cannot generate workout."),[];const T=j.reduce((D,A)=>D+A,0),w=g(b,S,T);return y(w,j)},[e,g,y]),allExercises:s,exerciseDB:e,loading:l,error:d}},E7=()=>{const{allExercises:e,loading:t}=ME(),[s,a]=x.useState(""),[l,u]=x.useState("all"),[d,f]=x.useState("all"),[p,g]=x.useState("all"),[y,v]=x.useState(new Set),[b,S]=x.useState({}),[j,T]=x.useState({}),[w,k]=x.useState(!1);x.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),(async()=>{const U=new Set,B={},L={};await Promise.all(e.map(async ce=>{const H=ce["Exercise Name"];QR(H)&&U.add(H);const[Q,z]=await Promise.all([hc(H),Lo(H)]);B[H]=Q??"",L[H]=z??""})),v(U),S(B),T(L)})()},[e]);const D=x.useMemo(()=>{const W=new Set;return e.forEach(U=>{const B=U["Primary Muscle"].split("(")[0].trim();W.add(B)}),["all",...Array.from(W).sort()]},[e]),A=x.useMemo(()=>{const W=new Set;return e.forEach(U=>{W.add(U.Equipment)}),["all",...Array.from(W).sort()]},[e]),_=x.useMemo(()=>{const W=new Set;return e.forEach(U=>{W.add(U["Exercise Type"])}),["all",...Array.from(W).sort()]},[e]),P=x.useMemo(()=>e.filter(W=>{const U=s===""||W["Exercise Name"].toLowerCase().includes(s.toLowerCase())||W["Primary Muscle"].toLowerCase().includes(s.toLowerCase())||W.Equipment.toLowerCase().includes(s.toLowerCase()),B=W["Primary Muscle"].split("(")[0].trim(),L=l==="all"||B===l,ce=d==="all"||W.Equipment===d,H=p==="all"||W["Exercise Type"]===p;return U&&L&&ce&&H}),[e,s,l,d,p]),M=W=>{const U=KR(W);v(B=>{const L=new Set(B);return U?L.add(W):L.delete(W),L})},R=async(W,U)=>{if(U==="")S(B=>({...B,[W]:""})),await Bi(W,null);else{const B=Math.max(0,Number(U));S(L=>({...L,[W]:B})),await Bi(W,B)}},N=async(W,U)=>{if(U==="")T(B=>({...B,[W]:""})),await Gd(W,null);else{const B=Math.max(1,Number(U));T(L=>({...L,[W]:B})),await Gd(W,B)}};return t?r.jsx(V,{sx:{p:4,textAlign:"center"},children:r.jsx(I,{variant:"h5",color:"text.secondary",children:"Loading exercises..."})}):r.jsxs(V,{sx:{width:"100%",minHeight:"100vh"},children:[r.jsx(Nf,{title:"Exercise Database"}),r.jsx(Ke.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{padding:"1rem",maxWidth:"1400px",margin:"0 auto"},children:P.length>0||s||l!=="all"||d!=="all"||p!=="all"?r.jsxs(V,{children:[r.jsxs(uc,{sx:{position:"sticky",top:0,zIndex:10,borderRadius:"8px 8px 0 0",boxShadow:"0 2px 8px rgba(19, 70, 134, 0.08)"},children:[r.jsx(V,{sx:{p:1.5,borderBottom:"1px solid",borderColor:"divider",bgcolor:"background.paper"},children:r.jsxs(Re,{direction:"row",spacing:1,alignItems:"center",children:[r.jsx(pt,{size:"small",placeholder:"Search exercises...",value:s,onChange:W=>a(W.target.value),InputProps:{startAdornment:r.jsx(Dc,{position:"start",children:r.jsx(SS,{fontSize:"small"})})},sx:{flex:1,"& .MuiOutlinedInput-root":{borderRadius:1,bgcolor:"background.default"},"& .MuiInputBase-input":{fontSize:"0.875rem"}}}),r.jsx(Zn,{title:w?"Hide filters":"Show filters",children:r.jsx(Qe,{onClick:()=>k(!w),sx:{bgcolor:w?"primary.main":"background.default",color:w?"white":"text.primary","&:hover":{bgcolor:w?"primary.dark":"action.hover"}},children:r.jsx(Om,{})})}),r.jsxs(I,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem",whiteSpace:"nowrap",minWidth:"fit-content"},children:[P.length," of ",e.length]})]})}),r.jsx(Pm,{in:w,children:r.jsx(V,{sx:{p:1.5,pt:1,bgcolor:"background.paper"},children:r.jsxs(Re,{direction:{xs:"column",sm:"row"},spacing:1,children:[r.jsxs(Kt,{size:"small",sx:{minWidth:{xs:"100%",sm:150}},children:[r.jsx(Un,{children:"Muscle Group"}),r.jsxs(Xt,{value:l,onChange:W=>u(W.target.value),label:"Muscle Group",sx:{fontSize:"0.875rem",bgcolor:"background.default"},children:[r.jsx(Ve,{value:"all",children:"All Muscles"}),D.filter(W=>W!=="all").map(W=>r.jsx(Ve,{value:W,children:W},W))]})]}),r.jsxs(Kt,{size:"small",sx:{minWidth:{xs:"100%",sm:150}},children:[r.jsx(Un,{children:"Equipment"}),r.jsxs(Xt,{value:d,onChange:W=>f(W.target.value),label:"Equipment",sx:{fontSize:"0.875rem",bgcolor:"background.default"},children:[r.jsx(Ve,{value:"all",children:"All Equipment"}),A.filter(W=>W!=="all").map(W=>r.jsx(Ve,{value:W,children:W},W))]})]}),r.jsxs(Kt,{size:"small",sx:{minWidth:{xs:"100%",sm:150}},children:[r.jsx(Un,{children:"Exercise Type"}),r.jsxs(Xt,{value:p,onChange:W=>g(W.target.value),label:"Exercise Type",sx:{fontSize:"0.875rem",bgcolor:"background.default"},children:[r.jsx(Ve,{value:"all",children:"All Types"}),_.filter(W=>W!=="all").map(W=>r.jsx(Ve,{value:W,children:W},W))]})]})]})})})]}),r.jsx(G2,{component:uc,sx:{borderRadius:"0 0 8px 8px",boxShadow:"0 2px 8px rgba(19, 70, 134, 0.08)",maxHeight:"calc(100vh - 250px)",overflow:"auto"},children:r.jsxs($2,{stickyHeader:!0,size:"small",sx:{minWidth:{xs:300,sm:650}},children:[r.jsx(K2,{children:r.jsxs(wS,{children:[r.jsx(Ws,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5},children:r.jsx(V,{sx:{display:"flex",alignItems:"center",gap:.5},children:r.jsx("span",{children:""})})}),r.jsx(Ws,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5},children:"Exercise Name"}),r.jsx(Ws,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5,display:{xs:"none",sm:"table-cell"}},children:"Type"}),r.jsx(Ws,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5,display:{xs:"none",md:"table-cell"}},children:"Equipment"}),r.jsx(Ws,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5,textAlign:"center"},children:"Target Weight (lbs)"}),r.jsx(Ws,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5,textAlign:"center"},children:"Target Reps"})]})}),r.jsx(Q2,{children:P.map((W,U)=>{const B=y.has(W["Exercise Name"]),L=W["Exercise Name"],ce=b[L],H=j[L];return r.jsxs(wS,{sx:{"&:hover":{bgcolor:"rgba(138, 190, 185, 0.05)"},bgcolor:U%2===0?"background.paper":"rgba(0, 0, 0, 0.02)"},children:[r.jsx(Ws,{sx:{py:1},children:r.jsx(Zn,{title:B?"Remove from favorites":"Add to favorites",children:r.jsx(Qe,{size:"small",onClick:()=>M(L),sx:{color:B?"rgb(237, 63, 39)":"action.disabled",p:.5},children:B?r.jsx(X2,{fontSize:"small"}):r.jsx(Z2,{fontSize:"small"})})})}),r.jsx(Ws,{sx:{py:1},children:r.jsxs(V,{children:[r.jsx(I,{variant:"body2",sx:{fontWeight:600,fontSize:{xs:"0.75rem",sm:"0.875rem"},color:"primary.main"},children:L}),r.jsxs(I,{variant:"caption",color:"text.secondary",sx:{fontSize:{xs:"0.65rem",sm:"0.75rem"},display:{xs:"block",sm:"none"}},children:[W["Exercise Type"],"  ",W.Equipment]})]})}),r.jsx(Ws,{sx:{py:1,display:{xs:"none",sm:"table-cell"}},children:r.jsx(ft,{label:W["Exercise Type"],size:"small",variant:"outlined",sx:{fontSize:"0.7rem",height:22,borderColor:W["Exercise Type"]==="Compound"?"primary.main":"text.secondary",color:W["Exercise Type"]==="Compound"?"primary.main":"text.secondary"}})}),r.jsx(Ws,{sx:{py:1,display:{xs:"none",md:"table-cell"}},children:r.jsx(I,{variant:"body2",sx:{fontSize:"0.8rem"},children:W.Equipment})}),r.jsx(Ws,{sx:{py:1},children:r.jsx(pt,{type:"tel",inputMode:"decimal",size:"small",value:ce===""?"":ce,onChange:Q=>R(L,Q.target.value),onFocus:Q=>Q.target.select(),placeholder:"",inputProps:{min:0,step:5,pattern:"[0-9]*([.,][0-9]+)?","aria-label":`Target weight in pounds for ${L}`,style:{textAlign:"center",fontSize:"0.875rem",padding:"4px 8px"}},sx:{width:{xs:60,sm:70},"& .MuiOutlinedInput-root":{"& input":{textAlign:"center"}}}})}),r.jsx(Ws,{sx:{py:1},children:r.jsx(pt,{type:"tel",inputMode:"numeric",size:"small",value:H===""?"":H,onChange:Q=>N(L,Q.target.value),onFocus:Q=>Q.target.select(),placeholder:"",inputProps:{min:1,step:1,pattern:"\\d*","aria-label":`Target repetitions for ${L}`,style:{textAlign:"center",fontSize:"0.875rem",padding:"4px 8px"}},sx:{width:{xs:60,sm:70},"& .MuiOutlinedInput-root":{"& input":{textAlign:"center"}}}})})]},L)})})]})})]}):r.jsxs(uc,{sx:{borderRadius:2,boxShadow:"0 2px 8px rgba(19, 70, 134, 0.08)"},children:[r.jsxs(V,{sx:{p:2,borderBottom:"1px solid",borderColor:"divider"},children:[r.jsxs(Re,{direction:"row",spacing:1,alignItems:"center",sx:{mb:w?2:0},children:[r.jsx(pt,{size:"small",placeholder:"Search exercises...",value:s,onChange:W=>a(W.target.value),InputProps:{startAdornment:r.jsx(Dc,{position:"start",children:r.jsx(SS,{fontSize:"small"})})},sx:{flex:1,"& .MuiOutlinedInput-root":{borderRadius:1,bgcolor:"background.default"},"& .MuiInputBase-input":{fontSize:"0.875rem"}}}),r.jsx(Zn,{title:w?"Hide filters":"Show filters",children:r.jsx(Qe,{onClick:()=>k(!w),sx:{bgcolor:w?"primary.main":"background.default",color:w?"white":"text.primary","&:hover":{bgcolor:w?"primary.dark":"action.hover"}},children:r.jsx(Om,{})})}),r.jsxs(I,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem",whiteSpace:"nowrap"},children:["0 of ",e.length]})]}),r.jsx(Pm,{in:w,children:r.jsxs(Re,{direction:{xs:"column",sm:"row"},spacing:1,children:[r.jsxs(Kt,{size:"small",sx:{minWidth:{xs:"100%",sm:150}},children:[r.jsx(Un,{children:"Muscle Group"}),r.jsxs(Xt,{value:l,onChange:W=>u(W.target.value),label:"Muscle Group",sx:{fontSize:"0.875rem",bgcolor:"background.default"},children:[r.jsx(Ve,{value:"all",children:"All Muscles"}),D.filter(W=>W!=="all").map(W=>r.jsx(Ve,{value:W,children:W},W))]})]}),r.jsxs(Kt,{size:"small",sx:{minWidth:{xs:"100%",sm:150}},children:[r.jsx(Un,{children:"Equipment"}),r.jsxs(Xt,{value:d,onChange:W=>f(W.target.value),label:"Equipment",sx:{fontSize:"0.875rem",bgcolor:"background.default"},children:[r.jsx(Ve,{value:"all",children:"All Equipment"}),A.filter(W=>W!=="all").map(W=>r.jsx(Ve,{value:W,children:W},W))]})]}),r.jsxs(Kt,{size:"small",sx:{minWidth:{xs:"100%",sm:150}},children:[r.jsx(Un,{children:"Exercise Type"}),r.jsxs(Xt,{value:p,onChange:W=>g(W.target.value),label:"Exercise Type",sx:{fontSize:"0.875rem",bgcolor:"background.default"},children:[r.jsx(Ve,{value:"all",children:"All Types"}),_.filter(W=>W!=="all").map(W=>r.jsx(Ve,{value:W,children:W},W))]})]})]})})]}),r.jsxs(V,{sx:{textAlign:"center",py:8},children:[r.jsx(I,{variant:"h6",color:"text.secondary",children:"No exercises found"}),r.jsx(I,{variant:"body2",color:"text.secondary",children:"Try adjusting your search or filters"})]})]})})]})},AE=x.createContext(),PE=()=>{const e=x.useContext(AE);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e},OE=({children:e})=>{const[t,s]=x.useState(()=>{try{return localStorage.getItem("themeMode")==="light"?"light":"dark"}catch{return"dark"}});x.useEffect(()=>{try{localStorage.setItem("themeMode",t)}catch(d){console.warn("Could not save theme preference",d)}},[t]);const a=()=>{s(d=>d==="dark"?"light":"dark")},l=x.useMemo(()=>J2({palette:t==="dark"?{mode:"dark",primary:{main:"#1db584",light:"#2dd099",dark:"#18a071"},secondary:{main:"#ff8c00",light:"#ffa333",dark:"#cc7000"},background:{default:"#1e2939",paper:"#2a3647"},text:{primary:"#ffffff",secondary:"#a0a8b3"},success:{main:"#1db584"},warning:{main:"#ff8c00"},error:{main:"#ef5350"},info:{main:"#6b8a9d"}}:{mode:"light",primary:{main:"#18a071",light:"#1db584",dark:"#0f7a55"},secondary:{main:"#ff8c00",light:"#ffa333",dark:"#cc7000"},background:{default:"#f5f5f5",paper:"#ffffff"},text:{primary:"#1e2939",secondary:"#4a5568"},success:{main:"#18a071"},warning:{main:"#ff8c00"},error:{main:"#ef5350"},info:{main:"#6b8a9d"}},typography:{fontFamily:"'Poppins', sans-serif",h1:{fontFamily:"'Montserrat', sans-serif",fontWeight:800},h2:{fontFamily:"'Montserrat', sans-serif",fontWeight:800},h3:{fontFamily:"'Montserrat', sans-serif",fontWeight:700},h4:{fontFamily:"'Montserrat', sans-serif",fontWeight:700},h5:{fontFamily:"'Montserrat', sans-serif",fontWeight:700},h6:{fontFamily:"'Montserrat', sans-serif",fontWeight:700}},components:{MuiCard:{styleOverrides:{root:{backgroundImage:"none"}}},MuiPaper:{styleOverrides:{root:{backgroundImage:"none"}}},MuiButton:{styleOverrides:{containedPrimary:t==="dark"?{backgroundColor:"#1db584","&:hover":{backgroundColor:"#18a071"}}:{backgroundColor:"#18a071",color:"#ffffff","&:hover":{backgroundColor:"#0f7a55"}},containedSecondary:t==="dark"?{backgroundColor:"#ff8c00","&:hover":{backgroundColor:"#cc7000"}}:{backgroundColor:"#ff8c00",color:"#ffffff","&:hover":{backgroundColor:"#cc7000"}}}}}}),[t]),u={mode:t,toggleTheme:a,theme:l};return r.jsx(AE.Provider,{value:u,children:e})};OE.propTypes={children:E.node.isRequired};const RE=x.createContext({}),M7=()=>x.useContext(RE),jo={units:"imperial",theme:"dark",notifications:!0,sounds:!0,warmupDuration:5,cooldownDuration:5,restTimerDefault:90,autoProgressionEnabled:!0,language:"en",pushNotificationsEnabled:!1,dailyWellnessTasksEnabled:!1,wellnessCategories:[],relationshipStatus:"All",morningNotificationTime:{hour:8,minute:0},followupNotificationTime:{hour:21,minute:0},enableFollowupNotifications:!0},_E=({children:e})=>{const{currentUser:t,isGuest:s}=Ia(),[a,l]=x.useState(jo),[u,d]=x.useState(!0);x.useEffect(()=>{(async()=>{d(!0);try{if(t&&!s){const S=await pi(t.uid);S?.preferences?l({...jo,...S.preferences}):l(jo)}else{const S=localStorage.getItem("goodlift_preferences");l(S?{...jo,...JSON.parse(S)}:jo)}}catch(S){console.error("Error loading preferences:",S),l(jo)}finally{d(!1)}})()},[t,s]);const f=x.useCallback(async b=>{try{l(b),t&&!s?await An(t.uid,{preferences:b}):localStorage.setItem("goodlift_preferences",JSON.stringify(b))}catch(S){console.error("Error saving preferences:",S)}},[t,s]),p=x.useCallback((b,S)=>{const j={...a,[b]:S};f(j)},[a,f]),g=x.useCallback((b,S)=>{if(!b)return 0;const j=a.units==="imperial"?"lbs":"kg";return S===j?b:S==="lbs"&&j==="kg"?Math.round(b*.453592*10)/10:S==="kg"&&j==="lbs"?Math.round(b*2.20462*10)/10:b},[a.units]),y=x.useCallback(()=>a.units==="imperial"?"lbs":"kg",[a.units]),v={preferences:a,loading:u,updatePreference:p,savePreferences:f,convertWeight:g,getDisplayUnit:y};return r.jsx(RE.Provider,{value:v,children:e})};_E.propTypes={children:E.node.isRequired};const A7=e=>!e||e.trim().length===0?{valid:!1,error:"Display name is required"}:e.trim().length<2?{valid:!1,error:"Display name must be at least 2 characters"}:e.trim().length>50?{valid:!1,error:"Display name must be less than 50 characters"}:/^[a-zA-Z0-9\s\-']+$/.test(e)?{valid:!0}:{valid:!1,error:"Display name contains invalid characters"},oC=(e,t=500)=>e?e.length>t?{valid:!1,error:`Text must be less than ${t} characters`}:{valid:!0}:{valid:!0},Am=e=>e?e.replace(/<[^>]*>/g,"").trim().replace(/\s+/g," "):"",P7=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Unknown",O7=(e,t)=>{const s={profile:e,stats:t,exportedAt:new Date().toISOString()};return JSON.stringify(s,null,2)},R7=(e,t)=>{const s=O7(e,t),a=new Blob([s],{type:"application/json"}),l=URL.createObjectURL(a),u=document.createElement("a");u.href=l,u.download=`goodlift-profile-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(l)},IE=({open:e,onClose:t,onConfirm:s,resetInfo:a})=>{const[l,u]=x.useState(""),[d,f]=x.useState(!1),[p,g]=x.useState(null),y=l.toLowerCase()==="reset",v=async()=>{f(!0),g(null);try{await s(),u(""),t()}catch(S){g(S.message||"Failed to reset data. Please try again.")}finally{f(!1)}},b=()=>{d||(u(""),g(null),t())};return r.jsxs(Tn,{open:e,onClose:b,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:2}},children:[r.jsx(In,{sx:{pb:1},children:r.jsxs(V,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(eP,{color:"warning"}),r.jsx(I,{variant:"h6",component:"span",children:"Reset Personal Data"})]})}),r.jsxs(jn,{children:[r.jsxs(At,{severity:"warning",sx:{mb:2},children:["This action will delete your workout data and statistics. You will have"," ",r.jsx("strong",{children:"30 days"})," to recover your data if you change your mind."]}),r.jsxs(I,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,sx:{mt:2},children:[r.jsx(IC,{color:"error",sx:{verticalAlign:"middle",mr:.5}}),"The following will be deleted:"]}),r.jsxs(Hn,{dense:!0,sx:{bgcolor:"background.paper",borderRadius:1,mb:2},children:[a.totalWorkouts>0&&r.jsxs(ot,{children:[r.jsx(zt,{sx:{minWidth:40},children:r.jsx(Jt,{fontSize:"small"})}),r.jsx(kt,{primary:`${a.totalWorkouts} workout${a.totalWorkouts!==1?"s":""}`,secondary:"Complete workout history"})]}),a.totalHiitSessions>0&&r.jsxs(ot,{children:[r.jsx(zt,{sx:{minWidth:40},children:r.jsx(hf,{fontSize:"small"})}),r.jsx(kt,{primary:`${a.totalHiitSessions} HIIT session${a.totalHiitSessions!==1?"s":""}`})]}),a.totalCardioSessions>0&&r.jsxs(ot,{children:[r.jsx(zt,{sx:{minWidth:40},children:r.jsx(fi,{fontSize:"small"})}),r.jsx(kt,{primary:`${a.totalCardioSessions} cardio session${a.totalCardioSessions!==1?"s":""}`})]}),a.totalStretchSessions>0&&r.jsxs(ot,{children:[r.jsx(zt,{sx:{minWidth:40},children:r.jsx(Zs,{fontSize:"small"})}),r.jsx(kt,{primary:`${a.totalStretchSessions} stretch session${a.totalStretchSessions!==1?"s":""}`})]}),a.totalPlans>0&&r.jsxs(ot,{children:[r.jsx(zt,{sx:{minWidth:40},children:r.jsx(cf,{fontSize:"small"})}),r.jsx(kt,{primary:`${a.totalPlans} workout plan${a.totalPlans!==1?"s":""}`})]}),a.totalFavoriteWorkouts>0&&r.jsxs(ot,{children:[r.jsx(zt,{sx:{minWidth:40},children:r.jsx(Hi,{fontSize:"small"})}),r.jsx(kt,{primary:`${a.totalFavoriteWorkouts} favorite workout${a.totalFavoriteWorkouts!==1?"s":""}`})]}),a.totalPinnedExercises>0&&r.jsxs(ot,{children:[r.jsx(zt,{sx:{minWidth:40},children:r.jsx(tP,{fontSize:"small"})}),r.jsx(kt,{primary:`${a.totalPinnedExercises} pinned exercise${a.totalPinnedExercises!==1?"s":""}`})]}),r.jsx(ot,{children:r.jsx(kt,{primary:"All statistics and achievements",secondary:"Streaks, PRs, total volume, etc."})}),r.jsx(ot,{children:r.jsx(kt,{primary:"Exercise weights and target reps",secondary:"Saved progress tracking data"})})]}),r.jsx(yn,{sx:{my:2}}),r.jsxs(I,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,children:[r.jsx(Uo,{color:"success",sx:{verticalAlign:"middle",mr:.5}}),"The following will be preserved:"]}),r.jsxs(Hn,{dense:!0,sx:{bgcolor:"background.paper",borderRadius:1,mb:2},children:[r.jsx(ot,{children:r.jsx(kt,{primary:"Login credentials and authentication"})}),r.jsx(ot,{children:r.jsx(kt,{primary:"Profile information (name, email, avatar)"})}),r.jsx(ot,{children:r.jsx(kt,{primary:"App preferences and settings"})})]}),r.jsx(At,{severity:"info",sx:{mb:2},children:'Your data will be backed up for 30 days. Use the "Recover Data" option to restore it within this period.'}),p&&r.jsx(At,{severity:"error",sx:{mb:2},children:p}),r.jsxs(V,{sx:{mt:2},children:[r.jsxs(I,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["To confirm, type ",r.jsx("strong",{children:"RESET"})," below:"]}),r.jsx(pt,{fullWidth:!0,size:"small",value:l,onChange:S=>u(S.target.value),placeholder:"Type RESET to confirm",disabled:d,autoComplete:"off",sx:{mt:1}})]})]}),r.jsxs(Dn,{sx:{px:3,pb:2},children:[r.jsx(je,{onClick:b,disabled:d,children:"Cancel"}),r.jsx(je,{variant:"contained",color:"error",onClick:v,disabled:!y||d,startIcon:d?r.jsx(pf,{size:20}):null,children:d?"Resetting...":"Reset Data"})]})]})};IE.propTypes={open:E.bool.isRequired,onClose:E.func.isRequired,onConfirm:E.func.isRequired,resetInfo:E.shape({totalWorkouts:E.number.isRequired,totalHiitSessions:E.number.isRequired,totalCardioSessions:E.number.isRequired,totalStretchSessions:E.number.isRequired,totalPlans:E.number.isRequired,totalFavoriteWorkouts:E.number.isRequired,totalFavoriteExercises:E.number.isRequired,totalPinnedExercises:E.number.isRequired,hasData:E.bool.isRequired}).isRequired};const WE=({open:e,onClose:t,onRecover:s,backup:a})=>{const[l,u]=x.useState(!1),[d,f]=x.useState(null);if(!a)return null;const p=new Date(a.timestamp),g=new Date(a.expiresAt),y=Math.ceil((a.expiresAt-Date.now())/(1e3*60*60*24)),v=y<=7,b=(a.data.workoutHistory||[]).length,S=(a.data.hiitSessions||[]).length,j=(a.data.cardioSessions||[]).length,T=(a.data.stretchSessions||[]).length,w=(a.data.workoutPlans||[]).length,k=(a.data.favoriteWorkouts||[]).length,D=async()=>{u(!0),f(null);try{await s(),t()}catch(_){f(_.message||"Failed to recover data. Please try again.")}finally{u(!1)}},A=()=>{l||(f(null),t())};return r.jsxs(Tn,{open:e,onClose:A,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:2}},children:[r.jsx(In,{sx:{pb:1},children:r.jsxs(V,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(_m,{color:"primary"}),r.jsx(I,{variant:"h6",component:"span",children:"Recover Your Data"})]})}),r.jsxs(jn,{children:[r.jsxs(At,{severity:v?"warning":"info",sx:{mb:2},icon:r.jsx(nP,{}),children:[r.jsxs(I,{variant:"body2",children:[r.jsx("strong",{children:"Backup created:"})," ",p.toLocaleString()]}),r.jsxs(I,{variant:"body2",children:[r.jsx("strong",{children:"Expires:"})," ",g.toLocaleDateString()," ",r.jsx(ft,{label:`${y} day${y!==1?"s":""} remaining`,size:"small",color:v?"warning":"default",sx:{ml:1}})]})]}),r.jsx(I,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,children:"Your backup contains:"}),r.jsxs(Hn,{dense:!0,sx:{bgcolor:"background.paper",borderRadius:1,mb:2},children:[b>0&&r.jsxs(ot,{children:[r.jsx(Jt,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),r.jsx(kt,{primary:`${b} workout${b!==1?"s":""}`})]}),S>0&&r.jsxs(ot,{children:[r.jsx(hf,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),r.jsx(kt,{primary:`${S} HIIT session${S!==1?"s":""}`})]}),j>0&&r.jsxs(ot,{children:[r.jsx(fi,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),r.jsx(kt,{primary:`${j} cardio session${j!==1?"s":""}`})]}),T>0&&r.jsxs(ot,{children:[r.jsx(Zs,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),r.jsx(kt,{primary:`${T} stretch session${T!==1?"s":""}`})]}),w>0&&r.jsxs(ot,{children:[r.jsx(cf,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),r.jsx(kt,{primary:`${w} workout plan${w!==1?"s":""}`})]}),k>0&&r.jsxs(ot,{children:[r.jsx(Hi,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),r.jsx(kt,{primary:`${k} favorite workout${k!==1?"s":""}`})]}),r.jsx(ot,{children:r.jsx(kt,{primary:"All statistics and achievements",secondary:"Including streaks, PRs, and total volume"})}),r.jsx(ot,{children:r.jsx(kt,{primary:"Exercise weights and target reps",secondary:"Your saved progress tracking data"})})]}),r.jsx(At,{severity:"warning",sx:{mb:2},children:r.jsxs(I,{variant:"body2",children:[r.jsx("strong",{children:"Warning:"})," Recovering this backup will replace your current data. Any workouts or progress you've logged since the reset will be lost."]})}),d&&r.jsx(At,{severity:"error",sx:{mb:2},children:d})]}),r.jsxs(Dn,{sx:{px:3,pb:2},children:[r.jsx(je,{onClick:A,disabled:l,children:"Cancel"}),r.jsx(je,{variant:"contained",color:"primary",onClick:D,disabled:l,startIcon:l?r.jsx(pf,{size:20}):r.jsx(_m,{}),children:l?"Recovering...":"Recover Data"})]})]})};WE.propTypes={open:E.bool.isRequired,onClose:E.func.isRequired,onRecover:E.func.isRequired,backup:E.shape({timestamp:E.number.isRequired,expiresAt:E.number.isRequired,data:E.object.isRequired})};const NE=({open:e,onClose:t,workout:s,dayOfWeek:a,onSave:l})=>{const[u,d]=x.useState(""),[f,p]=x.useState([]),[g,y]=x.useState([]),[v,b]=x.useState(!1);x.useEffect(()=>{(async()=>{try{const M=await(await fetch("/goodlift/data/exercises.json")).json();y(M)}catch(P){console.error("Error loading exercises:",P),y([])}})()},[]),x.useEffect(()=>{if(s){d(s.sessionName||"");const _=(s.exercises||[]).map((P,M)=>({...P,sets:P.sets?[...P.sets]:[{weight:0,reps:10},{weight:0,reps:10},{weight:0,reps:10}],name:P.name||P.exerciseName||P["Exercise Name"]||"Unknown Exercise",muscleGroup:P.muscleGroup||P.category||P["Muscle Group"]||"",supersetGroup:P.supersetGroup!==void 0?P.supersetGroup:(M%2===0,Math.floor(M/2))}));p(_)}},[s]);const S=_=>{if(!_)return;const P=f.length>0?Math.max(...f.map(R=>R.supersetGroup||0)):-1,M={id:`ex_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,name:_["Exercise Name"]||_.name,exerciseName:_["Exercise Name"]||_.name,muscleGroup:_["Muscle Group"]||_.category||"",category:_["Muscle Group"]||_.category||"",supersetGroup:P+1,sets:[{weight:0,reps:10},{weight:0,reps:10},{weight:0,reps:10}]};p([...f,M]),b(!0)},j=_=>{const P=f.filter((M,R)=>R!==_);p(P),b(!0)},T=(_,P)=>{const M=[...f];M[_]={...M[_],name:P,exerciseName:P},p(M),b(!0)},w=(_,P,M,R)=>{const N=[...f],W=N[_];W.sets[P]={...W.sets[P],[M]:parseFloat(R)||0},p(N),b(!0)},k=(_,P)=>{const M=[...f];M[_]={...M[_],supersetGroup:parseInt(P)},p(M),b(!0)},D=()=>{const _={...s,sessionName:u||s.sessionName,exercises:f,lastModified:new Date().toISOString()};l(_),b(!1)},A=()=>{v?window.confirm("You have unsaved changes. Are you sure you want to close?")&&t():t()};return r.jsxs(Tn,{open:e,onClose:A,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{borderRadius:2,maxHeight:"90vh"}},children:[r.jsx(In,{children:r.jsxs(V,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[r.jsxs(V,{children:[r.jsx(I,{variant:"h6",fontWeight:700,children:"Edit Workout Details"}),r.jsxs(I,{variant:"caption",color:"text.secondary",children:[a," - Manage exercises, supersets, and set values"]})]}),r.jsx(Qe,{onClick:A,size:"small",children:r.jsx(el,{})})]})}),r.jsx(jn,{sx:{pb:1},children:r.jsxs(Re,{spacing:3,children:[r.jsx(pt,{label:"Workout Name",value:u,onChange:_=>{d(_.target.value),b(!0)},fullWidth:!0,variant:"outlined",size:"small"}),r.jsx(At,{severity:"info",sx:{fontSize:"0.875rem"},children:"Add or remove exercises. Configure superset groups. Edit exercise names and modify weight/reps for existing sets. Changes are preserved without data loss."}),r.jsx(at,{variant:"outlined",children:r.jsx(ct,{children:r.jsxs(V,{sx:{display:"flex",alignItems:"center",gap:2},children:[r.jsx(yx,{allExercises:g,onExerciseSelect:S,label:"Add Exercise",placeholder:"Search and add exercise..."}),r.jsx(ft,{icon:r.jsx(Yi,{}),label:`${f.length} exercises`,color:"primary",variant:"outlined"})]})})}),f.length===0?r.jsx(At,{severity:"warning",children:"No exercises in this workout. Add exercises above to get started."}):r.jsx(Re,{spacing:2,children:f.map((_,P)=>r.jsxs(yr,{defaultExpanded:P===0,children:[r.jsx(xr,{expandIcon:r.jsx(Da,{}),sx:{"&:hover":{backgroundColor:"action.hover"}},children:r.jsxs(V,{sx:{display:"flex",alignItems:"center",gap:1,flex:1},children:[r.jsx(sP,{sx:{color:"text.secondary"}}),r.jsx(Jt,{sx:{color:"primary.main"}}),r.jsxs(V,{sx:{flex:1},children:[r.jsx(I,{variant:"subtitle1",fontWeight:600,children:_.name}),r.jsxs(I,{variant:"caption",color:"text.secondary",children:[_.muscleGroup,"  ",_.sets?.length||0," sets"]})]}),r.jsx(Qe,{size:"small",color:"error",onClick:M=>{M.stopPropagation(),j(P)},children:r.jsx(Cr,{fontSize:"small"})})]})}),r.jsx(br,{children:r.jsxs(Re,{spacing:2,children:[r.jsx(V,{children:r.jsx(pt,{label:"Exercise Name",value:_.name,onChange:M=>T(P,M.target.value),fullWidth:!0,size:"small",InputProps:{endAdornment:r.jsx(Dc,{position:"end",children:r.jsx(Ui,{fontSize:"small"})})}})}),r.jsxs(V,{children:[r.jsxs(Kt,{fullWidth:!0,size:"small",children:[r.jsx(Un,{children:"Superset Group"}),r.jsxs(Xt,{value:_.supersetGroup!==void 0?_.supersetGroup:0,label:"Superset Group",onChange:M=>k(P,M.target.value),children:[Array.from({length:f.length},(M,R)=>r.jsxs(Ve,{value:R,children:["Group ",R+1,f.filter(N=>N.supersetGroup===R).length>1&&` (${f.filter(N=>N.supersetGroup===R).length} exercises)`]},R)),r.jsxs(Ve,{value:f.length,children:["New Group ",f.length+1]})]})]}),r.jsx(I,{variant:"caption",color:"text.secondary",sx:{mt:.5,display:"block"},children:"Exercises in the same group will be performed as a superset"})]}),r.jsxs(V,{children:[r.jsx(I,{variant:"subtitle2",fontWeight:600,sx:{mb:1},children:"Sets"}),r.jsx(Hn,{dense:!0,children:_.sets?.map((M,R)=>r.jsxs(V,{children:[r.jsxs(ot,{sx:{px:0,gap:1},children:[r.jsxs(I,{variant:"body2",sx:{minWidth:60,fontWeight:500},children:["Set ",R+1]}),r.jsx(pt,{label:"Weight",type:"number",value:M.weight,onChange:N=>w(P,R,"weight",N.target.value),size:"small",sx:{flex:1},InputProps:{endAdornment:r.jsx(Dc,{position:"end",children:"lbs"})}}),r.jsx(pt,{label:"Reps",type:"number",value:M.reps,onChange:N=>w(P,R,"reps",N.target.value),size:"small",sx:{flex:1}})]}),R<_.sets.length-1&&r.jsx(yn,{})]},R))})]})]})})]},_.id||P))})]})}),r.jsxs(Dn,{sx:{px:3,pb:2,gap:1},children:[r.jsx(je,{onClick:A,color:"inherit",children:"Cancel"}),r.jsx(je,{onClick:D,variant:"contained",startIcon:r.jsx(Mo,{}),disabled:!v,children:"Save Changes"})]})]})};NE.propTypes={open:E.bool.isRequired,onClose:E.func.isRequired,workout:E.object,dayOfWeek:E.string.isRequired,onSave:E.func.isRequired};const LE=({open:e,onClose:t})=>{const{weeklySchedule:s,currentWeek:a,assignWorkoutToDay:l}=Wa(),[u,d]=x.useState(null),[f,p]=x.useState(""),[g,y]=x.useState(!1),[v,b]=x.useState(!1),[S,j]=x.useState(null),T=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],w=[{value:"full",label:"Full Body"},{value:"upper",label:"Upper Body"},{value:"lower",label:"Lower Body"},{value:"push",label:"Push"},{value:"pull",label:"Pull"},{value:"legs",label:"Legs"},{value:"core",label:"Core"},{value:"cardio",label:"Cardio"},{value:"hiit",label:"HIIT"},{value:"yoga",label:"Yoga"},{value:"mobility",label:"Mobility"},{value:"stretch",label:"Stretching"},{value:"rest",label:"Rest Day"}],k=H=>{if(!H)return r.jsx(Jt,{});const Q=H.toLowerCase();return Q.includes("cardio")||Q.includes("hiit")?r.jsx(fi,{}):Q.includes("yoga")||Q.includes("mobility")||Q.includes("stretch")?r.jsx(Zs,{}):Q.includes("rest")?r.jsx(Ag,{}):r.jsx(Jt,{})},D=H=>{if(!H)return"default";const Q=H.toLowerCase();return Q.includes("cardio")||Q.includes("hiit")?"error":Q.includes("yoga")||Q.includes("mobility")||Q.includes("stretch")?"secondary":Q.includes("rest")?"default":"primary"},A=H=>{const Q=w.find(z=>z.value===H?.toLowerCase());return Q?Q.label:H||"Not assigned"},_=H=>{d(H);const Q=s[H];Q?.sessionType?p(Q.sessionType.toLowerCase()):p("")},P=()=>{d(null),p("")},M=async()=>{if(u&&f){const H={sessionType:f,sessionName:A(f),exercises:[],assignedDate:new Date().toISOString()};await l(u,H),y(!0),d(null),p("")}},R=async H=>{await l(H,null),y(!0)},N=H=>{j(H),b(!0)},W=()=>{b(!1),j(null)},U=async H=>{S&&(await l(S,H),y(!0),W())},B=()=>{g&&y(!1),d(null),p(""),t()},ce=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date().getDay()];return r.jsxs(Tn,{open:e,onClose:B,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{borderRadius:2}},children:[r.jsx(In,{children:r.jsxs(V,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[r.jsxs(V,{children:[r.jsx(I,{variant:"h6",fontWeight:700,children:"Edit Weekly Schedule"}),r.jsxs(I,{variant:"caption",color:"text.secondary",children:["Week ",a," - Customize your workout plan"]})]}),r.jsx(Qe,{onClick:B,size:"small",children:r.jsx(el,{})})]})}),r.jsxs(jn,{children:[r.jsx(At,{severity:"info",sx:{mb:3},children:"Assign or modify workouts for each day of the week. Changes are saved automatically."}),r.jsx(Re,{spacing:2,children:T.map(H=>{const Q=s[H],z=H===ce,q=u===H;return r.jsx(at,{sx:{border:z?2:1,borderColor:z?"primary.main":"divider",boxShadow:z?2:1},children:r.jsx(ct,{children:q?r.jsxs(V,{children:[r.jsxs(I,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,children:[H,z&&r.jsx(ft,{label:"Today",size:"small",color:"primary",sx:{ml:1}})]}),r.jsxs(V,{sx:{mt:2},children:[r.jsxs(Kt,{fullWidth:!0,size:"small",children:[r.jsx(Un,{children:"Workout Type"}),r.jsx(Xt,{value:f,label:"Workout Type",onChange:ae=>p(ae.target.value),children:w.map(ae=>r.jsx(Ve,{value:ae.value,children:ae.label},ae.value))})]}),r.jsxs(V,{sx:{mt:2,display:"flex",gap:1,justifyContent:"flex-end"},children:[r.jsx(je,{size:"small",onClick:P,children:"Cancel"}),r.jsx(je,{size:"small",variant:"contained",onClick:M,disabled:!f,children:"Save"})]})]})]}):r.jsxs(V,{sx:{display:"flex",alignItems:{xs:"flex-start",sm:"center"},justifyContent:"space-between",flexDirection:{xs:"column",sm:"row"},gap:{xs:1,sm:0}},children:[r.jsxs(V,{sx:{display:"flex",alignItems:{xs:"flex-start",sm:"center"},gap:2,flex:1,width:"100%",flexDirection:{xs:"column",sm:"row"}},children:[r.jsxs(V,{sx:{minWidth:{xs:"auto",sm:100},display:"flex",alignItems:"center",gap:1},children:[r.jsx(I,{variant:"subtitle1",fontWeight:600,children:H}),z&&r.jsx(ft,{label:"Today",size:"small",color:"primary"})]}),r.jsxs(V,{sx:{flex:1,display:"flex",alignItems:"center",justifyContent:"space-between",gap:1,width:"100%"},children:[r.jsx(V,{sx:{flex:1,minWidth:0},children:Q?r.jsxs(V,{sx:{display:"flex",alignItems:"center",gap:1},children:[k(Q.sessionType),r.jsx(I,{variant:"body1",sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Q.sessionName||A(Q.sessionType)}),Q.fromFavorite&&r.jsx(Hi,{sx:{fontSize:16,color:"warning.main",ml:.5}})]}):r.jsx(I,{variant:"body2",color:"text.secondary",children:"No workout assigned"})}),Q&&r.jsx(ft,{label:A(Q.sessionType),color:D(Q.sessionType),size:"small",variant:"outlined",sx:{display:{xs:"none",sm:"flex"},flexShrink:0}})]})]}),r.jsxs(V,{sx:{display:"flex",gap:.5,flexShrink:0,alignSelf:{xs:"flex-end",sm:"center"},ml:{xs:0,sm:1}},children:[r.jsx(Qe,{size:"small",color:"primary",onClick:()=>_(H),title:"Edit workout type",children:r.jsx(Ui,{fontSize:"small"})}),Q&&r.jsxs(r.Fragment,{children:[r.jsx(Qe,{size:"small",color:"secondary",onClick:()=>N(H),title:"Edit exercises, supersets, and set values",children:r.jsx(xC,{fontSize:"small"})}),r.jsx(Qe,{size:"small",color:"error",onClick:()=>R(H),title:"Clear workout",children:r.jsx(Cr,{fontSize:"small"})})]})]})]})})},H)})})]}),r.jsx(Dn,{sx:{px:3,pb:2},children:r.jsx(je,{onClick:B,variant:"contained",children:"Done"})}),S&&s[S]&&r.jsx(NE,{open:v,onClose:W,workout:s[S],dayOfWeek:S,onSave:U})]})};LE.propTypes={open:E.bool.isRequired,onClose:E.func.isRequired};const _7=["Communication","Mental Health","Learning","Volunteering","New Experiences","Physical","Nature","Personal Growth","Creativity","Seeking Connection","Media","Maintenance"],I7=JSON.parse(`{"daily":[{"id":"wellness_1","task":"Call or text a friend or family member","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_2","task":"Send a thoughtful message to someone you appreciate","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_3","task":"Compliment a friend, family member, or coworker","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_4","task":"Ask a close friend or family member how they're really doing","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_5","task":"Invite someone for coffee, lunch, or a casual hangout","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_6","task":"Check in with a neighbor or acquaintance","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_7","task":"Send an encouraging text to someone going through a challenge","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_8","task":"Reach out to someone you haven't talked to in a while","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_9","task":"Express appreciation to a family member or friend","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_10","task":"Join a group chat or online community around shared interests","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_11","task":"Smile and greet five people with genuine warmth","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_12","task":"Listen actively to someone without planning your response","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Mental Health"]},{"id":"wellness_13","task":"Share a personal update or story with someone you trust","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Mental Health"]},{"id":"wellness_14","task":"Invite family to a meal together","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_15","task":"Organize a group activity or outing via text or message","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_16","task":"Say hello to a coworker you don't usually interact with","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_17","task":"Text three people you care about just to say hello","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_35","task":"Update or refresh your online dating profile","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_36","task":"Browse dating apps with intention and genuine interest","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_37","task":"Send a thoughtful message to someone new on a dating app","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_38","task":"Write a genuine response to a match or connection","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Communication","Seeking Connection"]},{"id":"wellness_39","task":"Reflect on qualities you want in a partner and community","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_40","task":"Attend a social event where you might meet people","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Communication","Seeking Connection"]},{"id":"wellness_41","task":"Compliment or show interest in someone you're attracted to","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_42","task":"Work on your confidence and self-presentation","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Mental Health","Seeking Connection"]},{"id":"wellness_43","task":"Practice vulnerability in conversations with new people","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Mental Health","Seeking Connection"]},{"id":"wellness_53","task":"Send your partner a loving or appreciative message","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_54","task":"Give your partner a genuine compliment","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_55","task":"Ask your partner about their day and listen deeply","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Communication","Maintenance"]},{"id":"wellness_56","task":"Show physical affection (hug, kiss, hand-hold)","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_57","task":"Express gratitude for something your partner did","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_58","task":"Do a small act of kindness for your partner","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_59","task":"Make eye contact and be fully present with your partner","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Communication","Maintenance"]},{"id":"wellness_60","task":"Say 'I love you' or reaffirm your connection","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_61","task":"Cook a meal together or for your partner","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Communication","Maintenance"]},{"id":"wellness_62","task":"Share a laugh or funny moment together","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Communication","Maintenance"]},{"id":"wellness_73","task":"Practice gratitude - write down 3 things you're grateful for","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_74","task":"Meditate or practice mindfulness for 5-10 minutes","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_75","task":"Practice deep breathing exercises","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_76","task":"Write in your journal about your thoughts and feelings","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_77","task":"Practice positive affirmations or self-talk","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_78","task":"Give yourself permission to rest without guilt","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_79","task":"Practice self-compassion when facing a setback","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_80","task":"Identify one personal strength you possess","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_81","task":"Spend 5 minutes in quiet reflection or stillness","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_82","task":"Say something kind to yourself out loud","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_83","task":"Light a candle and create a calm environment","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_84","task":"Practice progressive muscle relaxation","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_85","task":"Set a meaningful intention for the day","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_86","task":"Acknowledge and accept your emotions without judgment","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_87","task":"Take a mental health check-in with yourself","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_88","task":"Limit news or negative content intake","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_89","task":"Practice forgiveness toward yourself","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_90","task":"Write down one thing that went well today","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_91","task":"Ground yourself using the 5 senses technique","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_92","task":"Take a warm shower or bath for comfort","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_103","task":"Read a chapter or section of a book","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_104","task":"Learn one new thing or skill","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning","Personal Growth"]},{"id":"wellness_105","task":"Listen to an educational podcast or audiobook","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning","Personal Growth"]},{"id":"wellness_106","task":"Practice a skill you're actively developing","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_107","task":"Reflect on a lesson or growth moment from today","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_108","task":"Work on a personal project or goal","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_109","task":"Practice a language for 15 minutes","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning","Personal Growth"]},{"id":"wellness_110","task":"Identify an area where you want to improve","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_111","task":"Set a small daily goal and work toward it","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_112","task":"Practice positive thinking about a challenge","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Personal Growth"]},{"id":"wellness_123","task":"Do 10 minutes of stretching or yoga","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_124","task":"Drink 8 glasses of water throughout the day","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_125","task":"Take a 10-minute walk","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_126","task":"Do light cardio or movement","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_127","task":"Practice good posture throughout the day","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_128","task":"Eat a nutritious meal or snack","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_129","task":"Get 7-9 hours of quality sleep","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_130","task":"Do 10 push-ups or bodyweight exercises","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_131","task":"Stretch your neck and shoulders","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_132","task":"Practice proper breathing techniques","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_143","task":"Take a 10-minute walk outside","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_144","task":"Notice and appreciate something in nature","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_145","task":"Open your window and breathe fresh air","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_146","task":"Water your plants or tend your garden","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_147","task":"Watch the sunrise or sunset","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_148","task":"Take a barefoot walk in grass or soil","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_149","task":"Listen to birds singing or nature sounds","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_150","task":"Take a photo of something beautiful in nature","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_151","task":"Identify a tree, flower, or plant near you","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_152","task":"Eat a meal outside if possible","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_163","task":"Draw, doodle, or sketch something","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_164","task":"Write poetry, lyrics, or creative writing","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_165","task":"Play a musical instrument","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_166","task":"Take creative or artistic photos","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_167","task":"Make or edit a short video","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_168","task":"Craft or make something by hand","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_169","task":"Paint or color something","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_170","task":"Create digital art or graphic design","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_171","task":"Write in a creative or expressive way","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_172","task":"Work on a creative side project","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_183","task":"Read an article on a topic of interest","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_184","task":"Watch an educational video","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_185","task":"Study a subject you're interested in","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_186","task":"Research something that fascinates you","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_187","task":"Take notes on something you learned","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_188","task":"Watch a documentary","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_189","task":"Read the news and stay informed","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_190","task":"Teach someone something you know","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Learning"]},{"id":"wellness_191","task":"Explore a new topic through research","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_192","task":"Listen to an educational podcast","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_203","task":"Help a friend or neighbor with a task","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_204","task":"Perform a random act of kindness","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_205","task":"Donate items to charity","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_206","task":"Offer emotional support to someone","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_207","task":"Give genuine compliments freely","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_208","task":"Help with household chores for someone","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_209","task":"Send a care package or thoughtful gift","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_210","task":"Offer your time or skills to someone","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_211","task":"Donate money to a cause you believe in","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_212","task":"Mentor or guide someone","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_223","task":"Try a new food or cuisine","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_224","task":"Take a different route to work or home","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_225","task":"Listen to a new genre of music","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_226","task":"Try a new recipe or cooking method","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_227","task":"Wear something you wouldn't normally wear","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_228","task":"Visit a new store or caf","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_229","task":"Try a new exercise or movement practice","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences","Physical"]},{"id":"wellness_230","task":"Try a new hairstyle or look","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_231","task":"Use a new app or technology tool","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_232","task":"Try a new hobby or craft","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences","Creativity"]},{"id":"wellness_243","task":"Turn off notifications for social media","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_244","task":"Take a one-hour social media break","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_245","task":"Leave your phone in another room for 30 minutes","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_246","task":"Avoid checking email first thing in the morning","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_247","task":"Practice presence during meals without devices","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_248","task":"Limit screen time after 8 PM","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_249","task":"Read a physical book instead of scrolling","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Media"]},{"id":"wellness_250","task":"Unfollow accounts that trigger negative feelings","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_251","task":"Have a conversation without checking your phone","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Media"]},{"id":"wellness_252","task":"Watch a sunset without recording it","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Media"]},{"id":"wellness_265","task":"Share gratitude and appreciation with family for Thanksgiving","timing":"Daily","relationshipStatus":"All","holiday":"Thanksgiving (2nd Monday October)","categories":["Communication","Mental Health"]}],"weekly":[{"id":"wellness_18","task":"Host a dinner, potluck, or casual meal gathering","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_19","task":"Organize a game night or board game gathering with friends","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_20","task":"Attend a local community event, meetup, or group gathering","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_21","task":"Host a book club, discussion, or movie watch party","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_22","task":"Plan a group outing (hike, picnic, movie, restaurant)","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_23","task":"Attend or volunteer at a community event or festival","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_24","task":"Visit a friend or family member in person","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_25","task":"Start or join a hobby club or group activity","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_26","task":"Participate in a group fitness class or sports activity","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Physical"]},{"id":"wellness_27","task":"Attend a cultural or social gathering","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_28","task":"Organize a skill-share or knowledge-sharing session with friends","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Learning"]},{"id":"wellness_29","task":"Host a phone or video call with distant friends or family","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_30","task":"Invite a friend to try a new restaurant or caf","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","New Experiences"]},{"id":"wellness_31","task":"Join a professional networking group or meetup","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_32","task":"Attend a workshop, class, or event with friends or family","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Learning"]},{"id":"wellness_33","task":"Create a community chat group or event planning forum","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_34","task":"Have a meaningful one-on-one conversation over coffee or meal","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_44","task":"Schedule or go on a first date","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_45","task":"Plan a follow-up date with someone you like","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_46","task":"Attend a speed dating, singles event, or mixer","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Communication","Seeking Connection"]},{"id":"wellness_47","task":"Join a social or hobby group where you can meet people","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Communication","Seeking Connection"]},{"id":"wellness_48","task":"Volunteer or attend a community event to expand your social circle","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Communication","Volunteering","Seeking Connection"]},{"id":"wellness_49","task":"Get feedback on your dating profile from a trusted friend","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Communication","Seeking Connection"]},{"id":"wellness_50","task":"Attend a party or social gathering with friends","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Communication","Seeking Connection"]},{"id":"wellness_51","task":"Go out to a venue where you might meet people naturally","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_52","task":"Join a group activity or class to meet people with similar interests","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Communication","Seeking Connection"]},{"id":"wellness_63","task":"Schedule a dedicated date night with your partner","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_64","task":"Have a deep conversation about feelings and goals","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Communication","Maintenance"]},{"id":"wellness_65","task":"Try a new experience or activity together","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["New Experiences","Maintenance"]},{"id":"wellness_66","task":"Plan a weekend getaway or day trip","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_67","task":"Give each other a massage or quality physical time","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_68","task":"Celebrate each other's wins and accomplishments","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Communication","Maintenance"]},{"id":"wellness_69","task":"Watch a movie or show you both enjoy together","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_70","task":"Share a meal without distractions and connect","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Communication","Maintenance"]},{"id":"wellness_71","task":"Create a shared bucket list or future plans together","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_72","task":"Write a love letter or heartfelt note to your partner","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_93","task":"Attend therapy or counseling session","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_94","task":"Practice yoga or tai chi","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Physical"]},{"id":"wellness_95","task":"Take a relaxing bath with essential oils or music","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_96","task":"Get a massage or practice self-massage","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_97","task":"Create an at-home spa day","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_98","task":"Organize and declutter your personal space","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_99","task":"Declutter a significant area of your home","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_100","task":"Reflect on the week and journal lessons learned","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_101","task":"Write letters to process difficult emotions","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_102","task":"Set healthy boundaries with demanding people","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_113","task":"Take an online course or class","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning","Personal Growth"]},{"id":"wellness_114","task":"Read a challenging or thought-provoking book","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning","Personal Growth"]},{"id":"wellness_115","task":"Attend a workshop, seminar, or webinar","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning","Personal Growth"]},{"id":"wellness_116","task":"Start learning a new skill or hobby","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning","New Experiences","Personal Growth"]},{"id":"wellness_117","task":"Create a vision board for your goals","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_118","task":"Review your goals and track progress","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_119","task":"Seek mentorship or advice from someone you admire","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Personal Growth"]},{"id":"wellness_120","task":"Practice public speaking or presentation skills","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_121","task":"Join a professional or personal development group","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Personal Growth"]},{"id":"wellness_122","task":"Mentor someone or teach a skill to others","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Personal Growth"]},{"id":"wellness_133","task":"Do a HIIT or cardio workout","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_134","task":"Go for a run, bike ride, or swim","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_135","task":"Do a strength training session","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_136","task":"Attend a fitness class or gym session","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_137","task":"Meal prep for the week","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_138","task":"Practice a sport or recreational activity","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_139","task":"Do a flexibility or mobility workout","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_140","task":"Schedule a health checkup or dental visit","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_141","task":"Try a new wellness practice","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences","Physical"]},{"id":"wellness_142","task":"Do a longer nature walk or outdoor activity","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical","Nature"]},{"id":"wellness_153","task":"Go on a nature hike","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_154","task":"Visit a park or green space","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_155","task":"Go to a botanical garden or arboretum","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_156","task":"Volunteer for environmental conservation","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Volunteering","Nature"]},{"id":"wellness_157","task":"Spend time gardening or planting","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_158","task":"Go camping or spend the night outdoors","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_159","task":"Take a nature photography walk","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_160","task":"Go fishing, kayaking, or canoeing","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_161","task":"Explore a local nature trail or forest","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_162","task":"Join a naturalist or outdoor club","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Nature"]},{"id":"wellness_173","task":"Attend an art class or creative workshop","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning","Creativity"]},{"id":"wellness_174","task":"Visit an art gallery or museum","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_175","task":"Create a mixed media project","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_176","task":"Share your creative work with others","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Creativity"]},{"id":"wellness_177","task":"Collaborate on a creative project with someone","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Creativity"]},{"id":"wellness_178","task":"Attend a poetry reading or open mic night","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Creativity"]},{"id":"wellness_179","task":"Create handmade gifts for others","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_180","task":"Join a creative community or group","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Creativity"]},{"id":"wellness_181","task":"Explore a new creative medium","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences","Creativity"]},{"id":"wellness_182","task":"Attend a performance or show","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_193","task":"Enroll in an online course","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_194","task":"Attend a lecture or webinar","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_195","task":"Join a discussion group or book club","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Learning"]},{"id":"wellness_196","task":"Visit the library and research","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_197","task":"Read multiple books or articles","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_198","task":"Create study notes or flashcards","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_199","task":"Interview an expert in a field","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Learning"]},{"id":"wellness_200","task":"Join a learning community online","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Learning"]},{"id":"wellness_201","task":"Complete a certification or training","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_202","task":"Attend a workshop in your field","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_213","task":"Volunteer at a local organization","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_214","task":"Volunteer at a food bank or soup kitchen","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_215","task":"Volunteer for environmental conservation","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Volunteering","Nature"]},{"id":"wellness_216","task":"Mentor a young person or colleague","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_217","task":"Volunteer at an animal rescue or shelter","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_218","task":"Participate in community cleanup","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_219","task":"Volunteer for a cause you care about","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_220","task":"Help organize a fundraiser or event","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_221","task":"Volunteer with vulnerable or senior populations","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_222","task":"Join a volunteer board or committee","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_233","task":"Take a class in something you've never done","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning","New Experiences"]},{"id":"wellness_234","task":"Try a new restaurant or food truck","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_235","task":"Explore a new neighborhood or area","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_236","task":"Attend an event in an unfamiliar genre","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_237","task":"Try a new sport or physical activity","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences","Physical"]},{"id":"wellness_238","task":"Visit a museum or gallery you've never been to","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_239","task":"Try a new form of art or creative expression","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences","Creativity"]},{"id":"wellness_240","task":"Go to an event or venue in a different part of town","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","New Experiences"]},{"id":"wellness_241","task":"Try something on your bucket list","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_242","task":"Volunteer for a new type of cause","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Volunteering","New Experiences"]},{"id":"wellness_253","task":"Disable social media and streaming apps for a full day","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_254","task":"Have a phone-free meal with friends or family","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Media"]},{"id":"wellness_255","task":"Take a full digital detox day","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_256","task":"Create a 'no screens' bedroom policy this week","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_257","task":"Replace scrolling time with a meaningful hobby","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Creativity","Media"]},{"id":"wellness_258","task":"Organize a phone-free game night","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Media"]},{"id":"wellness_259","task":"Stop using your phone while commuting","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_260","task":"Remove social media apps you don't need","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_261","task":"Create a designated screen-free evening time","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Media"]},{"id":"wellness_262","task":"Attend or host a Canada Day community celebration","timing":"Weekly","relationshipStatus":"All","holiday":"Canada Day (July 1)","categories":["Communication"]},{"id":"wellness_263","task":"Participate in Canada Day festivities with friends or family","timing":"Weekly","relationshipStatus":"All","holiday":"Canada Day (July 1)","categories":["Communication"]},{"id":"wellness_264","task":"Host or attend a Thanksgiving dinner gathering","timing":"Weekly","relationshipStatus":"All","holiday":"Thanksgiving (2nd Monday October)","categories":["Communication"]},{"id":"wellness_266","task":"Attend a Halloween social event or party with friends","timing":"Weekly","relationshipStatus":"All","holiday":"Halloween (October 31)","categories":["Communication","Seeking Connection"]},{"id":"wellness_267","task":"Send holiday cards to friends and family","timing":"Weekly","relationshipStatus":"All","holiday":"Christmas (December 25)","categories":["Communication"]},{"id":"wellness_268","task":"Volunteer at a shelter or food bank during Christmas","timing":"Weekly","relationshipStatus":"All","holiday":"Christmas (December 25)","categories":["Communication","Volunteering"]},{"id":"wellness_269","task":"Attend a New Year's Eve celebration with friends","timing":"Weekly","relationshipStatus":"All","holiday":"New Year's Eve (December 31)","categories":["Communication","Seeking Connection"]},{"id":"wellness_270","task":"Reflect on the past year and set new community goals","timing":"Weekly","relationshipStatus":"All","holiday":"New Year's Eve (December 31)","categories":["Communication","Personal Growth"]}],"holiday":[{"id":"wellness_262","task":"Attend or host a Canada Day community celebration","timing":"Weekly","relationshipStatus":"All","holiday":"Canada Day (July 1)","categories":["Communication"]},{"id":"wellness_263","task":"Participate in Canada Day festivities with friends or family","timing":"Weekly","relationshipStatus":"All","holiday":"Canada Day (July 1)","categories":["Communication"]},{"id":"wellness_264","task":"Host or attend a Thanksgiving dinner gathering","timing":"Weekly","relationshipStatus":"All","holiday":"Thanksgiving (2nd Monday October)","categories":["Communication"]},{"id":"wellness_265","task":"Share gratitude and appreciation with family for Thanksgiving","timing":"Daily","relationshipStatus":"All","holiday":"Thanksgiving (2nd Monday October)","categories":["Communication","Mental Health"]},{"id":"wellness_266","task":"Attend a Halloween social event or party with friends","timing":"Weekly","relationshipStatus":"All","holiday":"Halloween (October 31)","categories":["Communication","Seeking Connection"]},{"id":"wellness_267","task":"Send holiday cards to friends and family","timing":"Weekly","relationshipStatus":"All","holiday":"Christmas (December 25)","categories":["Communication"]},{"id":"wellness_268","task":"Volunteer at a shelter or food bank during Christmas","timing":"Weekly","relationshipStatus":"All","holiday":"Christmas (December 25)","categories":["Communication","Volunteering"]},{"id":"wellness_269","task":"Attend a New Year's Eve celebration with friends","timing":"Weekly","relationshipStatus":"All","holiday":"New Year's Eve (December 31)","categories":["Communication","Seeking Connection"]},{"id":"wellness_270","task":"Reflect on the past year and set new community goals","timing":"Weekly","relationshipStatus":"All","holiday":"New Year's Eve (December 31)","categories":["Communication","Personal Growth"]}]}`),VE={categories:_7,tasksByTiming:I7},W7=()=>VE.categories,N7=(e={})=>{const{enabledCategories:t=[],relationshipStatus:s="All"}=e,l=new Date().toISOString().split("T")[0].split("-").reduce((f,p)=>f+parseInt(p,10),0);let u=VE.tasksByTiming.daily.filter(f=>!(f.relationshipStatus!=="All"&&f.relationshipStatus!==s||t.length>0&&!f.categories.some(g=>t.includes(g))));if(u.length===0)return null;const d=l%u.length;return u[d]},L7="BE0ZQSJHIlmXfeA5ddjITNrqrS0TmGfGGQjBufmOlUKxRUtEwja2qHmTZ0pXHepJzGV2qcwH0gJ_D6ot6cWGB6w",V7=async()=>{try{return"Notification"in window?qd?await Notification.requestPermission()==="granted":(console.warn("Firebase Messaging not supported in this browser"),!1):(console.warn("This browser does not support notifications"),!1)}catch(e){return console.error("Error requesting notification permission:",e),!1}},B7=async()=>{try{if(!qd)return console.warn("[FCM] Firebase Messaging not available"),null;if(await Notification.requestPermission()!=="granted")return console.warn("[FCM] Notification permission not granted"),null;console.log("[FCM] Requesting FCM token with VAPID key...");const t=await OR(qd,{vapidKey:L7});return t?(console.log("[FCM]  FCM token obtained successfully"),console.log("[FCM]  FCM Token:",t),console.log("[FCM]  Send this token to your backend to enable Firebase push notifications"),t):(console.warn("[FCM] No FCM token available. User may need to grant permission."),null)}catch(e){return console.error("[FCM] Error getting FCM token:",e),null}},z7=e=>{const{title:t,body:s,icon:a=`${window.location.origin}/goodlift-logo.svg`,tag:l="goodlift-notification",requireInteraction:u=!1}=e;if(!("Notification"in window)){console.warn("Notifications not supported");return}if(Notification.permission==="granted")try{new Notification(t,{body:s,icon:a,tag:l,requireInteraction:u})}catch(d){console.error("Error showing notification:",d)}},F7=(e,t=null)=>{let s=` Today's session: ${e}`;return t&&(s+=`
 Today's wellness task: ${t.task}`),{title:"Good Morning! ",body:s}},H7=e=>{const t=N7(e.wellness||{}),s=F7("Full Body Strength",t);z7({title:s.title,body:s.body})},wx="goodlift_data_backup",Cx="goodlift_guest_data_backup",U7=30,q7=U7*24*60*60*1e3,BE=()=>{const e={};return Je()?(e.workoutHistory=jt("workout_history")||[],e.userStats=jt("user_stats")||null,e.exerciseWeights=jt("exercise_weights")||{},e.exerciseTargetReps=jt("exercise_target_reps")||{},e.hiitSessions=jt("hiit_sessions")||[],e.cardioSessions=jt("cardio_sessions")||[],e.stretchSessions=jt("stretch_sessions")||[],e.workoutPlans=jt("workout_plans")||[],e.activePlan=jt("active_plan")||null,e.favoriteWorkouts=jt("favorite_workouts")||[],e.favoriteExercises=jt("favorite_exercises")||[],e.pinnedExercises=jt("pinned_exercises")||[],e.unlockedAchievements=jt("unlocked_achievements")||[],e.totalPRs=jt("total_prs")||0,e.totalVolume=jt("total_volume")||0):Object.entries({workoutHistory:"goodlift_workout_history",userStats:"goodlift_user_stats",exerciseWeights:"goodlift_exercise_weights",exerciseTargetReps:"goodlift_exercise_target_reps",hiitSessions:"goodlift_hiit_sessions",cardioSessions:"goodlift_cardio_sessions",stretchSessions:"goodlift_stretch_sessions",workoutPlans:"goodlift_workout_plans",activePlan:"goodlift_active_plan",favoriteWorkouts:"goodlift_favorite_workouts",favoriteExercises:"goodlift_favorite_exercises",pinnedExercises:"goodlift_pinned_exercises",unlockedAchievements:"goodlift_unlocked_achievements",totalPRs:"goodlift_total_prs",totalVolume:"goodlift_total_volume"}).forEach(([s,a])=>{try{const l=localStorage.getItem(a);l?e[s]=JSON.parse(l):e[s]=null}catch(l){console.error(`Error reading ${a}:`,l),e[s]=null}}),e},Y7=()=>{Je()?(yt("workout_history",[]),yt("user_stats",{totalWorkouts:0,totalTime:0,totalHiitTime:0,totalCardioTime:0,totalStretchTime:0,currentStreak:0,longestStreak:0,totalPRs:0,totalVolume:0}),yt("exercise_weights",{}),yt("exercise_target_reps",{}),yt("hiit_sessions",[]),yt("cardio_sessions",[]),yt("stretch_sessions",[]),yt("workout_plans",[]),yt("active_plan",null),yt("favorite_workouts",[]),yt("favorite_exercises",[]),yt("pinned_exercises",[]),yt("unlocked_achievements",[]),yt("total_prs",0),yt("total_volume",0)):["goodlift_workout_history","goodlift_user_stats","goodlift_exercise_weights","goodlift_exercise_target_reps","goodlift_hiit_sessions","goodlift_cardio_sessions","goodlift_stretch_sessions","goodlift_workout_plans","goodlift_active_plan","goodlift_favorite_workouts","goodlift_favorite_exercises","goodlift_pinned_exercises","goodlift_unlocked_achievements","goodlift_total_prs","goodlift_total_volume"].forEach(t=>{try{t==="goodlift_user_stats"?localStorage.setItem(t,JSON.stringify({totalWorkouts:0,totalTime:0,totalHiitTime:0,totalCardioTime:0,totalStretchTime:0,currentStreak:0,longestStreak:0,totalPRs:0,totalVolume:0})):t==="goodlift_exercise_weights"||t==="goodlift_exercise_target_reps"?localStorage.setItem(t,JSON.stringify({})):t==="goodlift_active_plan"?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify([]))}catch(s){console.error(`Error clearing ${t}:`,s)}})},G7=e=>{if(!e||!e.data)throw new Error("Invalid backup data");const{data:t}=e;if(Je())Object.entries(t).forEach(([s,a])=>{a!=null&&yt(s.replace(/([A-Z])/g,"_$1").toLowerCase(),a)});else{const s={workoutHistory:"goodlift_workout_history",userStats:"goodlift_user_stats",exerciseWeights:"goodlift_exercise_weights",exerciseTargetReps:"goodlift_exercise_target_reps",hiitSessions:"goodlift_hiit_sessions",cardioSessions:"goodlift_cardio_sessions",stretchSessions:"goodlift_stretch_sessions",workoutPlans:"goodlift_workout_plans",activePlan:"goodlift_active_plan",favoriteWorkouts:"goodlift_favorite_workouts",favoriteExercises:"goodlift_favorite_exercises",pinnedExercises:"goodlift_pinned_exercises",unlockedAchievements:"goodlift_unlocked_achievements",totalPRs:"goodlift_total_prs",totalVolume:"goodlift_total_volume"};Object.entries(t).forEach(([a,l])=>{const u=s[a];if(u&&l!==null&&l!==void 0)try{localStorage.setItem(u,JSON.stringify(l))}catch(d){console.error(`Error restoring ${u}:`,d)}})}},$7=async()=>{try{const t={data:BE(),timestamp:Date.now(),expiresAt:Date.now()+q7,version:1},s=Je()?Cx:wx;localStorage.setItem(s,JSON.stringify(t));const a=Yc();if(a&&!Je())try{await An(a,{dataBackup:t})}catch(l){console.error("Error saving backup to Firebase:",l)}return t}catch(e){throw console.error("Error creating backup:",e),e}},of=async()=>{try{const e=Yc();if(e&&!Je())try{const l=await pi(e);if(l?.dataBackup)return l.dataBackup.expiresAt>Date.now()?l.dataBackup:(await wg(),null)}catch(l){console.error("Error loading backup from Firebase:",l)}const t=Je()?Cx:wx,s=localStorage.getItem(t);if(!s)return null;const a=JSON.parse(s);return a.expiresAt<=Date.now()?(await wg(),null):a}catch(e){return console.error("Error getting backup:",e),null}},wg=async()=>{try{const e=Je()?Cx:wx;localStorage.removeItem(e);const t=Yc();if(t&&!Je())try{await An(t,{dataBackup:null})}catch(s){console.error("Error deleting backup from Firebase:",s)}}catch(e){throw console.error("Error deleting backup:",e),e}},K7=async()=>{try{const e=await $7();Y7();const t=Yc();if(t&&!Je())try{await An(t,{workoutHistory:[],userStats:{totalWorkouts:0,totalTime:0,totalHiitTime:0,totalCardioTime:0,totalStretchTime:0,currentStreak:0,longestStreak:0,totalPRs:0,totalVolume:0},exerciseWeights:{},exerciseTargetReps:{},hiitSessions:[],cardioSessions:[],stretchSessions:[],workoutPlans:[],activePlanId:null})}catch(s){console.error("Error syncing reset to Firebase:",s)}return{success:!0,backup:e,message:"Data reset successfully. You have 30 days to recover your data."}}catch(e){return console.error("Error resetting user data:",e),{success:!1,message:"Failed to reset data. Please try again.",error:e}}},Q7=async()=>{try{const e=await of();if(!e)return{success:!1,message:"No backup found or backup has expired."};G7(e);const t=Yc();if(t&&!Je())try{await An(t,e.data)}catch(s){console.error("Error syncing recovered data to Firebase:",s)}return await wg(),{success:!0,message:"Data recovered successfully!"}}catch(e){return console.error("Error recovering user data:",e),{success:!1,message:"Failed to recover data. Please try again.",error:e}}},zE=async()=>{try{return await of()===null}catch(e){return console.error("Error cleaning up expired backups:",e),!1}},Pd=()=>{const e=BE(),t=(e.workoutHistory||[]).length,s=(e.hiitSessions||[]).length,a=(e.cardioSessions||[]).length,l=(e.stretchSessions||[]).length,u=(e.workoutPlans||[]).length,d=(e.favoriteWorkouts||[]).length,f=(e.favoriteExercises||[]).length,p=(e.pinnedExercises||[]).length;return{totalWorkouts:t,totalHiitSessions:s,totalCardioSessions:a,totalStretchSessions:l,totalPlans:u,totalFavoriteWorkouts:d,totalFavoriteExercises:f,totalPinnedExercises:p,hasData:t>0||s>0||a>0||l>0||u>0||d>0}},FE=({onNavigate:e})=>{const{mode:t,toggleTheme:s}=PE(),{preferences:a,updatePreference:l}=M7(),{profile:u,stats:d}=Sx(),{isGuest:f}=Ia(),{resetWeekCycle:p}=Wa(),[g,y]=x.useState(()=>{try{const ne=localStorage.getItem("audioVolume");return ne?parseFloat(ne):.3}catch{return .3}}),[v,b]=x.useState(Vt.isMutedState()),[S,j]=x.useState(!1),[T,w]=x.useState(!1),[k,D]=x.useState(!1),[A,_]=x.useState(!1),[P,M]=x.useState(null),[R,N]=x.useState(null),[W,U]=x.useState(!1),[B,L]=x.useState(""),[ce,H]=x.useState("success"),[Q]=x.useState(()=>W7()),[z,q]=x.useState(()=>{try{const ne=localStorage.getItem("goodlift_stretch_prefs");return ne?JSON.parse(ne):{showWarmup:!0,showCooldown:!0,defaultWarmupDuration:5,defaultCooldownDuration:5}}catch{return{showWarmup:!0,showCooldown:!0,defaultWarmupDuration:5,defaultCooldownDuration:5}}});x.useEffect(()=>{try{localStorage.setItem("audioVolume",g.toString())}catch(ne){console.warn("Could not save volume preference",ne)}},[g]),x.useEffect(()=>{try{localStorage.setItem("goodlift_stretch_prefs",JSON.stringify(z))}catch(ne){console.warn("Could not save stretch preferences",ne)}},[z]),x.useEffect(()=>{(async()=>{await zE();const Le=await of();M(Le),N(Pd())})()},[]);const ae=(ne,Le)=>{y(Le),Le>0&&v&&(Vt.setMuted(!1),b(!1)),Le===0&&!v&&(Vt.setMuted(!0),b(!0))},fe=()=>{s(),v||Vt.playTransitionBeep()},Z=()=>{g>0&&!v&&Vt.playBeep(800,200,g)},J=(ne,Le)=>{q(Ee=>({...Ee,[ne]:Le}))},X=()=>{R7(u,d)},ie=()=>{N(Pd()),j(!0)},oe=()=>{j(!1)},Me=async()=>{const ne=await K7();ne.success?(M(ne.backup),N(Pd()),L(ne.message),H("success"),U(!0),setTimeout(()=>{window.location.reload()},2e3)):(L(ne.message),H("error"),U(!0))},De=async()=>{const ne=await of();M(ne),w(!0)},Ne=()=>{w(!1)},ue=async()=>{const ne=await Q7();ne.success?(M(null),N(Pd()),L(ne.message),H("success"),U(!0),setTimeout(()=>{window.location.reload()},2e3)):(L(ne.message),H("error"),U(!0))},we=()=>{U(!1)},be=ne=>{e&&e(ne)},ve=()=>{_(!0)},Oe=()=>{_(!1)},He=async()=>{_(!1);try{await p(),L("Week cycle reset to Week 1. Automatic workout assignment re-enabled."),H("success"),U(!0)}catch(ne){console.error("Error resetting week cycle:",ne),L("Failed to reset week cycle"),H("error"),U(!0)}},Se=async ne=>{ne?await V7()?(l("pushNotificationsEnabled",!0),L("Push notifications enabled!"),H("success"),U(!0)):(L("Permission denied. Please enable notifications in your browser settings."),H("error"),U(!0)):(l("pushNotificationsEnabled",!1),L("Push notifications disabled"),H("info"),U(!0))},Ue=ne=>{const Le=a.wellnessCategories||[],Ee=Le.includes(ne)?Le.filter(ge=>ge!==ne):[...Le,ne];l("wellnessCategories",Ee)},le=()=>{H7(a),L("Test notification sent!"),H("success"),U(!0)};return r.jsxs(V,{sx:{minHeight:"100vh",padding:{xs:1,sm:2,md:3,lg:4},paddingBottom:{xs:"80px",sm:3,md:4},background:ne=>ne.palette.background.default,overflowX:"hidden",width:"100%",boxSizing:"border-box"},children:[r.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsx(V,{sx:{display:"flex",justifyContent:"center",mb:2},children:r.jsx("img",{src:"/goodlift/goodlift-logo.svg",alt:"GoodLift",style:{height:"50px",width:"auto"}})}),r.jsx(I,{variant:"h4",sx:{mb:2,fontWeight:700,color:"text.primary"},children:"Settings"}),r.jsxs(Re,{spacing:2,sx:{maxWidth:600},children:[r.jsx(at,{sx:{borderRadius:2,boxShadow:3},children:r.jsxs(ct,{sx:{p:0},children:[r.jsx(I,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"User Profile"}),r.jsx(Hn,{sx:{py:0},children:r.jsx(ot,{disablePadding:!0,children:r.jsxs(Wi,{onClick:()=>be("profile"),sx:{py:1},children:[r.jsx(zt,{sx:{minWidth:40},children:r.jsx(iP,{sx:{color:"primary.main"}})}),r.jsx(kt,{primary:"Profile Information",primaryTypographyProps:{fontWeight:500}}),r.jsx(cr,{sx:{color:"text.secondary"}})]})})})]})}),r.jsx(at,{sx:{borderRadius:2,boxShadow:3},children:r.jsxs(ct,{sx:{p:0},children:[r.jsx(I,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"Exercise Database"}),r.jsx(Hn,{sx:{py:0},children:r.jsx(ot,{disablePadding:!0,children:r.jsxs(Wi,{onClick:()=>be("exercise-list"),sx:{py:1},children:[r.jsx(zt,{sx:{minWidth:40},children:r.jsx(aP,{sx:{color:"primary.main"}})}),r.jsx(kt,{primary:"Browse Exercises",primaryTypographyProps:{fontWeight:500}}),r.jsx(cr,{sx:{color:"text.secondary"}})]})})})]})}),r.jsx(at,{sx:{borderRadius:2,boxShadow:3},children:r.jsxs(ct,{sx:{p:0},children:[r.jsx(I,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"Workout Scheduling"}),r.jsxs(Hn,{sx:{py:0},children:[r.jsx(ot,{disablePadding:!0,children:r.jsxs(Wi,{onClick:()=>D(!0),sx:{py:1},children:[r.jsx(zt,{sx:{minWidth:40},children:r.jsx(Ui,{sx:{color:"primary.main"}})}),r.jsx(kt,{primary:"Edit Weekly Schedule",primaryTypographyProps:{fontWeight:500}}),r.jsx(cr,{sx:{color:"text.secondary"}})]})}),r.jsx(yn,{component:"li"}),r.jsx(ot,{disablePadding:!0,children:r.jsxs(Wi,{onClick:ve,sx:{py:1},children:[r.jsx(zt,{sx:{minWidth:40},children:r.jsx(cf,{sx:{color:"primary.main"}})}),r.jsx(kt,{primary:"Reset Week Counter",primaryTypographyProps:{fontWeight:500}}),r.jsx(cr,{sx:{color:"text.secondary"}})]})})]})]})}),r.jsx(at,{sx:{borderRadius:2,boxShadow:3},children:r.jsxs(ct,{sx:{p:0},children:[r.jsx(I,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"App Preferences"}),r.jsxs(Hn,{sx:{py:0},children:[r.jsxs(ot,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(V,{sx:{display:"flex",alignItems:"center",width:"100%",mb:.5},children:[r.jsx(zt,{sx:{minWidth:40},children:r.jsx(rP,{sx:{color:"primary.main"}})}),r.jsx(I,{variant:"body2",fontWeight:500,children:"Unit System"})]}),r.jsx(Kt,{size:"small",sx:{ml:5,minWidth:160},children:r.jsxs(Xt,{value:a.units,onChange:ne=>l("units",ne.target.value),children:[r.jsx(Ve,{value:"imperial",children:"Imperial (lbs, in)"}),r.jsx(Ve,{value:"metric",children:"Metric (kg, cm)"})]})})]}),r.jsx(yn,{component:"li"}),r.jsxs(ot,{sx:{py:1},children:[r.jsx(zt,{sx:{minWidth:40},children:t==="dark"?r.jsx(oP,{sx:{color:"primary.main"}}):r.jsx(lP,{sx:{color:"primary.main"}})}),r.jsx(kt,{primary:"Theme",primaryTypographyProps:{fontWeight:500}}),r.jsx(sr,{checked:t==="light",onChange:fe,color:"primary"})]}),r.jsx(yn,{component:"li"}),r.jsxs(ot,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(V,{sx:{display:"flex",alignItems:"center",width:"100%",mb:.5},children:[r.jsx(zt,{sx:{minWidth:40},children:r.jsx(Eg,{sx:{color:"primary.main"}})}),r.jsx(I,{variant:"body2",fontWeight:500,children:"Sound Effects"})]}),r.jsx(V,{sx:{ml:5,width:"calc(100% - 40px)"},children:r.jsx(EC,{value:g,onChange:ae,onChangeCommitted:Z,min:0,max:1,step:.1,valueLabelDisplay:"auto",valueLabelFormat:ne=>`${Math.round(ne*100)}%`,sx:{width:180,"& .MuiSlider-thumb":{width:16,height:16},"& .MuiSlider-track":{height:4},"& .MuiSlider-rail":{height:4}}})})]}),r.jsx(yn,{component:"li"}),r.jsxs(ot,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(V,{sx:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"},children:[r.jsxs(V,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(zt,{sx:{minWidth:40},children:r.jsx(Zs,{sx:{color:"primary.main"}})}),r.jsx(I,{variant:"body2",fontWeight:500,children:"Warmup Reminders"})]}),r.jsx(sr,{checked:z.showWarmup,onChange:ne=>J("showWarmup",ne.target.checked),color:"primary"})]}),z.showWarmup&&r.jsx(Kt,{size:"small",sx:{ml:5,mt:.5,minWidth:160},children:r.jsxs(Xt,{value:z.defaultWarmupDuration,onChange:ne=>J("defaultWarmupDuration",ne.target.value),children:[r.jsx(Ve,{value:5,children:"5 minutes"}),r.jsx(Ve,{value:7,children:"7 minutes"}),r.jsx(Ve,{value:10,children:"10 minutes"})]})})]}),r.jsx(yn,{component:"li"}),r.jsxs(ot,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(V,{sx:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"},children:[r.jsxs(V,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(zt,{sx:{minWidth:40},children:r.jsx(Jt,{sx:{color:"primary.main"}})}),r.jsx(I,{variant:"body2",fontWeight:500,children:"Cooldown Reminders"})]}),r.jsx(sr,{checked:z.showCooldown,onChange:ne=>J("showCooldown",ne.target.checked),color:"primary"})]}),z.showCooldown&&r.jsx(Kt,{size:"small",sx:{ml:5,mt:.5,minWidth:160},children:r.jsxs(Xt,{value:z.defaultCooldownDuration,onChange:ne=>J("defaultCooldownDuration",ne.target.value),children:[r.jsx(Ve,{value:5,children:"5 minutes"}),r.jsx(Ve,{value:7,children:"7 minutes"}),r.jsx(Ve,{value:10,children:"10 minutes"})]})})]})]})]})}),r.jsx(at,{sx:{borderRadius:2,boxShadow:3},children:r.jsxs(ct,{sx:{p:0},children:[r.jsx(I,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"Wellness & Notifications"}),r.jsxs(Hn,{sx:{py:0},children:[r.jsxs(ot,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(V,{sx:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"},children:[r.jsxs(V,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(zt,{sx:{minWidth:40},children:r.jsx(cP,{sx:{color:"primary.main"}})}),r.jsx(I,{variant:"body2",fontWeight:500,children:"Push Notifications"})]}),r.jsx(sr,{checked:a.pushNotificationsEnabled||!1,onChange:ne=>Se(ne.target.checked),color:"primary"})]}),a.pushNotificationsEnabled&&r.jsx(V,{sx:{ml:5,mt:1,width:"calc(100% - 40px)"},children:r.jsx(je,{size:"small",variant:"outlined",onClick:le,sx:{fontSize:"0.75rem"},children:"Send Test Notification"})})]}),r.jsx(yn,{component:"li"}),r.jsx(ot,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:r.jsxs(V,{sx:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"},children:[r.jsxs(V,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(zt,{sx:{minWidth:40},children:r.jsx(uP,{sx:{color:"primary.main"}})}),r.jsx(I,{variant:"body2",fontWeight:500,children:"Daily Wellness Tasks"})]}),r.jsx(sr,{checked:a.dailyWellnessTasksEnabled||!1,onChange:ne=>l("dailyWellnessTasksEnabled",ne.target.checked),color:"primary",disabled:!a.pushNotificationsEnabled})]})}),r.jsx(yn,{component:"li"}),a.dailyWellnessTasksEnabled&&r.jsxs(r.Fragment,{children:[r.jsxs(ot,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(V,{sx:{display:"flex",alignItems:"center",width:"100%",mb:.5},children:[r.jsx(zt,{sx:{minWidth:40},children:r.jsx(dP,{sx:{color:"primary.main"}})}),r.jsx(I,{variant:"body2",fontWeight:500,children:"Relationship Status"})]}),r.jsx(Kt,{size:"small",sx:{ml:5,minWidth:160},children:r.jsxs(Xt,{value:a.relationshipStatus||"All",onChange:ne=>l("relationshipStatus",ne.target.value),children:[r.jsx(Ve,{value:"All",children:"All"}),r.jsx(Ve,{value:"Single",children:"Single"}),r.jsx(Ve,{value:"In Relationship",children:"In Relationship"})]})})]}),r.jsx(yn,{component:"li"}),r.jsxs(ot,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(V,{sx:{display:"flex",alignItems:"center",width:"100%",mb:1},children:[r.jsx(zt,{sx:{minWidth:40},children:r.jsx(fP,{sx:{color:"primary.main"}})}),r.jsx(I,{variant:"body2",fontWeight:500,children:"Wellness Categories"})]}),r.jsxs(V,{sx:{ml:5,width:"calc(100% - 40px)"},children:[r.jsx(I,{variant:"caption",color:"text.secondary",sx:{mb:1,display:"block"},children:"Select categories for personalized wellness tasks"}),r.jsx(Re,{spacing:.5,children:Q.map(ne=>r.jsx(Ld,{control:r.jsx(sr,{size:"small",checked:(a.wellnessCategories||[]).includes(ne),onChange:()=>Ue(ne),color:"primary"}),label:r.jsx(I,{variant:"caption",children:ne}),sx:{m:0}},ne))})]})]}),r.jsx(yn,{component:"li"})]}),a.pushNotificationsEnabled&&r.jsxs(r.Fragment,{children:[r.jsxs(ot,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(V,{sx:{display:"flex",alignItems:"center",width:"100%",mb:.5},children:[r.jsx(zt,{sx:{minWidth:40},children:r.jsx(Rm,{sx:{color:"primary.main"}})}),r.jsx(I,{variant:"body2",fontWeight:500,children:"Morning Notification Time"})]}),r.jsxs(V,{sx:{ml:5,display:"flex",gap:1},children:[r.jsx(Kt,{size:"small",sx:{minWidth:80},children:r.jsx(Xt,{value:a.morningNotificationTime?.hour||8,onChange:ne=>l("morningNotificationTime",{...a.morningNotificationTime,hour:ne.target.value}),children:Array.from({length:24},(ne,Le)=>r.jsx(Ve,{value:Le,children:Le.toString().padStart(2,"0")},Le))})}),r.jsx(I,{variant:"body2",sx:{alignSelf:"center"},children:":"}),r.jsx(Kt,{size:"small",sx:{minWidth:80},children:r.jsx(Xt,{value:a.morningNotificationTime?.minute||0,onChange:ne=>l("morningNotificationTime",{...a.morningNotificationTime,minute:ne.target.value}),children:[0,15,30,45].map(ne=>r.jsx(Ve,{value:ne,children:ne.toString().padStart(2,"0")},ne))})})]})]}),r.jsx(yn,{component:"li"}),r.jsxs(ot,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(V,{sx:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between",mb:1},children:[r.jsxs(V,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(zt,{sx:{minWidth:40},children:r.jsx(hf,{sx:{color:"primary.main"}})}),r.jsx(I,{variant:"body2",fontWeight:500,children:"Follow-up Notifications"})]}),r.jsx(sr,{checked:a.enableFollowupNotifications??!0,onChange:ne=>l("enableFollowupNotifications",ne.target.checked),color:"primary"})]}),a.enableFollowupNotifications&&r.jsxs(r.Fragment,{children:[r.jsx(I,{variant:"caption",color:"text.secondary",sx:{ml:5,mb:.5,display:"block"},children:"Daily tasks: 9 PM | Weekly tasks: Saturday morning"}),r.jsxs(V,{sx:{ml:5,display:"flex",gap:1,alignItems:"center"},children:[r.jsx(I,{variant:"caption",children:"Follow-up time:"}),r.jsx(Kt,{size:"small",sx:{minWidth:80},children:r.jsx(Xt,{value:a.followupNotificationTime?.hour||21,onChange:ne=>l("followupNotificationTime",{...a.followupNotificationTime,hour:ne.target.value}),children:Array.from({length:24},(ne,Le)=>r.jsx(Ve,{value:Le,children:Le.toString().padStart(2,"0")},Le))})}),r.jsx(I,{variant:"body2",children:":"}),r.jsx(Kt,{size:"small",sx:{minWidth:80},children:r.jsx(Xt,{value:a.followupNotificationTime?.minute||0,onChange:ne=>l("followupNotificationTime",{...a.followupNotificationTime,minute:ne.target.value}),children:[0,15,30,45].map(ne=>r.jsx(Ve,{value:ne,children:ne.toString().padStart(2,"0")},ne))})})]})]})]})]})]})]})}),r.jsx(at,{sx:{borderRadius:2,boxShadow:3},children:r.jsxs(ct,{sx:{p:0},children:[r.jsx(I,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"Data & Privacy"}),r.jsxs(Hn,{sx:{py:0},children:[r.jsx(ot,{disablePadding:!0,children:r.jsxs(Wi,{onClick:X,sx:{py:1},children:[r.jsx(zt,{sx:{minWidth:40},children:r.jsx(PC,{sx:{color:"primary.main"}})}),r.jsx(kt,{primary:"Export Data",primaryTypographyProps:{fontWeight:500}})]})}),r.jsx(yn,{component:"li"}),P&&r.jsxs(r.Fragment,{children:[r.jsx(ot,{disablePadding:!0,children:r.jsxs(Wi,{onClick:De,sx:{py:1},children:[r.jsx(zt,{sx:{minWidth:40},children:r.jsx(_m,{sx:{color:"success.main"}})}),r.jsx(kt,{primary:"Recover Data",primaryTypographyProps:{fontWeight:500}}),r.jsx(cr,{sx:{color:"text.secondary"}})]})}),r.jsx(yn,{component:"li"})]}),r.jsx(ot,{disablePadding:!0,children:r.jsxs(Wi,{onClick:ie,disabled:!R?.hasData,sx:{py:1},children:[r.jsx(zt,{sx:{minWidth:40},children:r.jsx(hP,{sx:{color:R?.hasData?"error.main":"text.disabled"}})}),r.jsx(kt,{primary:"Reset Personal Data",primaryTypographyProps:{fontWeight:500}}),r.jsx(cr,{sx:{color:"text.secondary"}})]})}),r.jsx(yn,{component:"li"}),r.jsxs(ot,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(V,{sx:{display:"flex",alignItems:"center",width:"100%",mb:.5},children:[r.jsx(zt,{sx:{minWidth:40},children:r.jsx(pP,{sx:{color:"primary.main"}})}),r.jsx(I,{variant:"body2",fontWeight:500,children:"Privacy"})]}),r.jsx(V,{sx:{ml:5,width:"calc(100% - 40px)"},children:f?r.jsx(At,{severity:"info",sx:{py:.5,fontSize:"0.8rem"},children:"Create an account to access cloud sync and data privacy features"}):r.jsx(At,{severity:"success",sx:{py:.5,fontSize:"0.8rem"},children:"Your data is securely stored in Firebase and synced across your devices"})})]})]})]})}),r.jsx(V,{sx:{mt:2},children:r.jsx(I,{variant:"body2",color:"text.secondary",sx:{textAlign:"center"},children:"Your preferences are saved automatically"})})]})]}),R&&r.jsx(IE,{open:S,onClose:oe,onConfirm:Me,resetInfo:R}),P&&r.jsx(WE,{open:T,onClose:Ne,onRecover:ue,backup:P}),r.jsx(LE,{open:k,onClose:()=>D(!1)}),r.jsxs(Tn,{open:A,onClose:Oe,maxWidth:"xs",fullWidth:!0,children:[r.jsx(In,{children:"Reset Week Counter?"}),r.jsx(jn,{children:r.jsx(wC,{children:"Are you sure you want to reset the week counter back to Week 1? This will re-enable automatic workout assignment."})}),r.jsxs(Dn,{children:[r.jsx(je,{onClick:Oe,color:"primary",children:"Cancel"}),r.jsx(je,{onClick:He,color:"primary",variant:"contained",children:"Continue"})]})]}),r.jsx(Qs,{open:W,autoHideDuration:6e3,onClose:we,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(At,{onClose:we,severity:ce,sx:{width:"100%"},children:B})})]})};FE.propTypes={onNavigate:E.func};const HE=[{id:"preset-1",color:"#1976d2",label:"Blue"},{id:"preset-2",color:"#d32f2f",label:"Red"},{id:"preset-3",color:"#388e3c",label:"Green"},{id:"preset-4",color:"#f57c00",label:"Orange"},{id:"preset-5",color:"#7b1fa2",label:"Purple"},{id:"preset-6",color:"#0288d1",label:"Light Blue"},{id:"preset-7",color:"#c2185b",label:"Pink"},{id:"preset-8",color:"#00796b",label:"Teal"},{id:"preset-9",color:"#fbc02d",label:"Yellow"},{id:"preset-10",color:"#5d4037",label:"Brown"},{id:"preset-11",color:"#455a64",label:"Blue Grey"},{id:"preset-12",color:"#e64a19",label:"Deep Orange"},{id:"preset-13",color:"#512da8",label:"Deep Purple"},{id:"preset-14",color:"#00695c",label:"Dark Teal"},{id:"preset-15",color:"#303f9f",label:"Indigo"}],X7=(e,t=200,s=200,a=.8)=>new Promise((l,u)=>{const d=new FileReader;d.onload=f=>{const p=new Image;p.onload=()=>{let g=p.width,y=p.height;g>y?g>t&&(y=Math.round(y*t/g),g=t):y>s&&(g=Math.round(g*s/y),y=s);const v=document.createElement("canvas");v.width=g,v.height=y,v.getContext("2d").drawImage(p,0,0,g,y),v.toBlob(S=>{S?l(S):u(new Error("Failed to compress image"))},"image/jpeg",a)},p.onerror=()=>{u(new Error("Failed to load image"))},p.src=f.target.result},d.onerror=()=>{u(new Error("Failed to read file"))},d.readAsDataURL(e)}),Z7=e=>{const t=["image/jpeg","image/jpg","image/png","image/webp"];return e?t.includes(e.type)?e.size>5242880?{success:!1,error:"File is too large. Maximum size is 5MB."}:{success:!0}:{success:!1,error:"Invalid file type. Please upload a JPEG, PNG, or WebP image."}:{success:!1,error:"No file selected"}},J7=async(e,t)=>{try{const s=VC(),a=OP(s,`avatars/${e}/avatar.jpg`);return await RP(a,t),await _P(a)}catch(s){throw console.error("Error uploading avatar:",s),s}},e9=e=>e?e.startsWith("preset-"):!1,t9=e=>{const t=HE.find(s=>s.id===e);return t?t.color:null},lC=(e,t="#1976d2")=>({display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",backgroundColor:t,color:"#ffffff",fontWeight:700,fontSize:"2rem",textTransform:"uppercase"}),UE=({open:e,onClose:t,onSelect:s,currentAvatar:a,initials:l})=>{const{currentUser:u,isGuest:d}=Ia(),[f,p]=x.useState(a),[g,y]=x.useState(!1),[v,b]=x.useState(null),[S,j]=x.useState(0),T=(P,M)=>{j(M),b(null)},w=P=>{p(P),b(null)},k=async P=>{const M=P.target.files[0];if(!M)return;b(null);const R=Z7(M);if(!R.success){b(R.error);return}if(d){b("Please sign in to upload custom avatars");return}try{y(!0);const N=await X7(M,200,200,.8),W=await J7(u.uid,N);p(W),b(null)}catch(N){console.error("Error uploading avatar:",N),b("Failed to upload avatar. Please try again.")}finally{y(!1)}},D=()=>{f&&(s(f),t())},A=()=>{p(a),b(null),t()},_=P=>{const M=f===P.id;return r.jsx(nn,{item:!0,xs:4,sm:3,children:r.jsxs(V,{onClick:()=>w(P.id),sx:{cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:1,p:1,borderRadius:2,border:2,borderColor:M?"primary.main":"transparent",bgcolor:M?"action.selected":"transparent",transition:"all 0.2s","&:hover":{bgcolor:"action.hover"}},children:[r.jsx(fc,{sx:{width:60,height:60,bgcolor:P.color,fontSize:"1.5rem",fontWeight:700},children:l}),r.jsx(I,{variant:"caption",color:"text.secondary",children:P.label})]})},P.id)};return r.jsxs(Tn,{open:e,onClose:A,maxWidth:"sm",fullWidth:!0,children:[r.jsx(In,{children:r.jsxs(V,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[r.jsx(I,{variant:"h6",children:"Choose Avatar"}),r.jsx(Qe,{onClick:A,size:"small",children:r.jsx(el,{})})]})}),r.jsxs(jn,{children:[r.jsxs(ff,{value:S,onChange:T,sx:{mb:2},children:[r.jsx(Ea,{label:"Preset Avatars"}),r.jsx(Ea,{label:"Upload Custom"})]}),v&&r.jsx(At,{severity:"error",sx:{mb:2},children:v}),S===0&&r.jsx(V,{sx:{mt:2},children:r.jsx(nn,{container:!0,spacing:2,children:HE.map(P=>_(P))})}),S===1&&r.jsx(V,{sx:{mt:2},children:d?r.jsx(At,{severity:"info",children:"Sign in to upload custom avatars"}):r.jsxs(r.Fragment,{children:[r.jsxs(je,{variant:"outlined",component:"label",fullWidth:!0,startIcon:g?r.jsx(pf,{size:20}):r.jsx(Im,{}),disabled:g,sx:{mb:2,minHeight:56},children:[g?"Uploading...":"Choose Image",r.jsx("input",{type:"file",hidden:!0,accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:k})]}),f&&!f.startsWith("preset-")&&r.jsxs(V,{sx:{textAlign:"center",mt:2},children:[r.jsx(I,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Preview:"}),r.jsx(fc,{src:f,sx:{width:100,height:100,mx:"auto",border:2,borderColor:"primary.main"}})]}),r.jsxs(At,{severity:"info",sx:{mt:2},children:["Image will be resized to 200x200px. Maximum file size: 5MB.",r.jsx("br",{}),"Supported formats: JPEG, PNG, WebP"]})]})})]}),r.jsxs(Dn,{sx:{p:2,pt:0},children:[r.jsx(je,{onClick:A,color:"inherit",children:"Cancel"}),r.jsx(je,{onClick:D,variant:"contained",disabled:!f||g,children:"Save"})]})]})};UE.propTypes={open:E.bool.isRequired,onClose:E.func.isRequired,onSelect:E.func.isRequired,currentAvatar:E.string,initials:E.string.isRequired};const n9=()=>{const{profile:e,stats:t,loading:s,saveProfile:a,updateProfile:l,getInitials:u,getProfileCompletion:d}=Sx(),[f,p]=x.useState(!1),[g,y]=x.useState(!1),[v,b]=x.useState(e),[S,j]=x.useState({}),[T,w]=x.useState(null);x.useEffect(()=>{b(e)},[e]);const k=()=>{p(!0),j({}),w(null)},D=()=>{p(!1),b(e),j({}),w(null)},A=async()=>{const N={},W=A7(v.displayName);W.valid||(N.displayName=W.error);const U=oC(v.bio,500);U.valid||(N.bio=U.error);const B=oC(v.goals,500);if(B.valid||(N.goals=B.error),Object.keys(N).length>0){j(N);return}try{const L={...v,displayName:Am(v.displayName),bio:Am(v.bio),goals:Am(v.goals)};await a(L),p(!1),w(null)}catch(L){console.error("Error saving profile:",L),w("Failed to save profile. Please try again.")}},_=(N,W)=>{b({...v,[N]:W}),S[N]&&j({...S,[N]:null})},P=async N=>{try{await l("avatar",N),b({...v,avatar:N})}catch(W){console.error("Error updating avatar:",W),w("Failed to update avatar. Please try again.")}},M=()=>{const N=u(),W=100;if(e.avatar)if(e9(e.avatar)){const U=t9(e.avatar);return r.jsx(fc,{sx:{width:W,height:W,...lC(N,U),fontSize:"2.5rem"},children:N})}else return r.jsx(fc,{src:e.avatar,sx:{width:W,height:W}});return r.jsx(fc,{sx:{width:W,height:W,...lC(),fontSize:"2.5rem"},children:N})},R=d();return s?r.jsx(V,{sx:{p:3},children:r.jsxs(I,{color:"text.secondary",children:["Loading profile",r.jsx(Ke.span,{initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:"..."})]})}):r.jsxs(V,{sx:{minHeight:"100vh",padding:{xs:2,sm:3,md:4},paddingBottom:{xs:"80px",sm:3,md:4},background:N=>N.palette.background.default},children:[r.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsx(I,{variant:"h4",sx:{mb:3,fontWeight:700,color:"text.primary"},children:"Profile"}),r.jsx(at,{sx:{mb:3,borderRadius:2},children:r.jsxs(ct,{sx:{p:3},children:[r.jsxs(V,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:3,mb:3},children:[r.jsxs(V,{sx:{position:"relative",alignSelf:{xs:"center",sm:"flex-start"}},children:[M(),r.jsx(Qe,{onClick:()=>y(!0),size:"small",sx:{position:"absolute",bottom:0,right:0,bgcolor:"primary.main",color:"white","&:hover":{bgcolor:"primary.dark"}},children:r.jsx(mP,{fontSize:"small"})})]}),r.jsxs(V,{sx:{flex:1},children:[f?r.jsx(pt,{fullWidth:!0,label:"Display Name",value:v.displayName,onChange:N=>_("displayName",N.target.value),error:!!S.displayName,helperText:S.displayName,sx:{mb:2}}):r.jsx(I,{variant:"h5",fontWeight:700,gutterBottom:!0,children:e.displayName||"Unknown User"}),r.jsx(I,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:e.email}),r.jsxs(I,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Member since ",P7(e.memberSince)]}),r.jsxs(V,{sx:{mt:2},children:[r.jsxs(V,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[r.jsx(I,{variant:"body2",fontWeight:600,children:"Profile Completion"}),r.jsxs(I,{variant:"body2",fontWeight:600,children:[R,"%"]})]}),r.jsx(Gi,{variant:"determinate",value:R,sx:{height:8,borderRadius:4}})]})]}),r.jsx(V,{children:f?r.jsxs(Re,{direction:"row",spacing:1,children:[r.jsx(Qe,{color:"primary",onClick:A,children:r.jsx(Mo,{})}),r.jsx(Qe,{onClick:D,children:r.jsx(IC,{})})]}):r.jsx(Qe,{color:"primary",onClick:k,children:r.jsx(Ui,{})})})]}),T&&r.jsx(At,{severity:"error",sx:{mb:2},children:T}),r.jsxs(V,{sx:{mb:2},children:[r.jsx(I,{variant:"subtitle2",fontWeight:600,gutterBottom:!0,children:"Bio"}),f?r.jsx(pt,{fullWidth:!0,multiline:!0,rows:3,value:v.bio,onChange:N=>_("bio",N.target.value),error:!!S.bio,helperText:S.bio||`${v.bio.length}/500`,placeholder:"Tell us about yourself..."}):r.jsx(I,{variant:"body2",color:"text.secondary",children:e.bio||"No bio yet"})]}),r.jsxs(V,{children:[r.jsx(I,{variant:"subtitle2",fontWeight:600,gutterBottom:!0,children:"Fitness Goals"}),f?r.jsx(pt,{fullWidth:!0,multiline:!0,rows:3,value:v.goals,onChange:N=>_("goals",N.target.value),error:!!S.goals,helperText:S.goals||`${v.goals.length}/500`,placeholder:"What are your fitness goals?"}):r.jsx(I,{variant:"body2",color:"text.secondary",children:e.goals||"No goals set yet"})]})]})}),r.jsxs(nn,{container:!0,spacing:3,sx:{mb:3},children:[r.jsx(nn,{item:!0,xs:6,sm:4,children:r.jsx(at,{children:r.jsxs(ct,{children:[r.jsx(I,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Total Workouts"}),r.jsx(I,{variant:"h4",fontWeight:700,children:t.totalWorkouts})]})})}),r.jsx(nn,{item:!0,xs:6,sm:4,children:r.jsx(at,{children:r.jsxs(ct,{children:[r.jsx(I,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Current Streak"}),r.jsx(I,{variant:"h4",fontWeight:700,color:"warning.main",children:t.currentStreak}),r.jsx(I,{variant:"caption",color:"text.secondary",children:"days"})]})})}),r.jsx(nn,{item:!0,xs:6,sm:4,children:r.jsx(at,{children:r.jsxs(ct,{children:[r.jsx(I,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Longest Streak"}),r.jsx(I,{variant:"h4",fontWeight:700,children:t.longestStreak}),r.jsx(I,{variant:"caption",color:"text.secondary",children:"days"})]})})}),r.jsx(nn,{item:!0,xs:6,sm:4,children:r.jsx(at,{children:r.jsxs(ct,{children:[r.jsx(I,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Total PRs"}),r.jsx(I,{variant:"h4",fontWeight:700,color:"success.main",children:t.totalPRs})]})})}),r.jsx(nn,{item:!0,xs:6,sm:4,children:r.jsx(at,{children:r.jsxs(ct,{children:[r.jsx(I,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Wellness Tasks"}),r.jsx(I,{variant:"h4",fontWeight:700,color:"secondary.main",children:t.completedWellnessTasks||0}),r.jsx(I,{variant:"caption",color:"text.secondary",children:"completed"})]})})}),r.jsx(nn,{item:!0,xs:12,sm:8,children:r.jsx(at,{children:r.jsxs(ct,{children:[r.jsx(I,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Favorite Exercise"}),r.jsx(ft,{label:t.favoriteExercise||"No data yet",color:"primary",sx:{mt:1}})]})})})]})]}),r.jsx(UE,{open:g,onClose:()=>y(!1),onSelect:P,currentAvatar:e.avatar,initials:u()})]})},qE=({open:e,onClose:t,userId:s})=>{const[a,l]=x.useState(!1),[u,d]=x.useState(null),f=async()=>{if(!s){d("No user ID provided");return}l(!0),d(null);try{const g=yk(),y=[];g.workout_history&&g.workout_history.length>0&&y.push(qc(s,g.workout_history)),g.user_stats&&y.push(xf(s,g.user_stats)),g.exercise_weights&&Object.keys(g.exercise_weights).length>0&&y.push(Hg(s,g.exercise_weights)),g.exercise_target_reps&&Object.keys(g.exercise_target_reps).length>0&&y.push(Ug(s,g.exercise_target_reps)),await Promise.all(y),zS(),l(!1),t(!0)}catch(g){console.error("Error migrating guest data:",g),d("Failed to migrate data. Please try again."),l(!1)}},p=()=>{zS(),t(!1)};return r.jsxs(Tn,{open:e,onClose:a?void 0:()=>t(!1),maxWidth:"sm",fullWidth:!0,disableEscapeKeyDown:a,PaperProps:{sx:{borderRadius:2}},children:[r.jsx(In,{sx:{pb:1},children:r.jsxs(V,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(Im,{sx:{color:"primary.main",fontSize:28}}),r.jsx(I,{variant:"h6",component:"span",sx:{fontWeight:600},children:"Save Your Guest Data?"})]})}),r.jsxs(jn,{children:[r.jsx(I,{variant:"body1",sx:{mb:2},children:"You have workout data from your guest session. Would you like to transfer it to your new account?"}),r.jsx(I,{variant:"body2",sx:{color:"text.secondary"},children:"This will save your workout history, progress, and settings to the cloud."}),u&&r.jsx(I,{variant:"body2",sx:{color:"error.main",mt:2},children:u})]}),r.jsxs(Dn,{sx:{p:2,pt:0},children:[r.jsx(je,{onClick:p,disabled:a,variant:"text",sx:{color:"text.secondary"},children:"Skip"}),r.jsx(je,{onClick:f,disabled:a,variant:"contained",startIcon:a?r.jsx(pf,{size:20,color:"inherit"}):r.jsx(Im,{}),sx:{fontWeight:600},children:a?"Migrating...":"Save My Data"})]})]})};qE.propTypes={open:E.bool.isRequired,onClose:E.func.isRequired,userId:E.string};const YE=({color:e,delay:t,startX:s})=>{const a=["#FF6B6B","#4ECDC4","#FFD93D","#6BCB77","#4D96FF","#FF9F9F"],l=e||a[Math.floor(Math.random()*a.length)];return r.jsx(Ke.div,{initial:{top:-20,left:`${s}%`,rotate:0,scale:1},animate:{top:"110vh",left:`${s+(Math.random()*20-10)}%`,rotate:Math.random()*720-360,scale:[1,1.2,.8]},transition:{duration:3+Math.random()*2,delay:t,ease:"easeOut"},style:{position:"fixed",width:Math.random()*10+5+"px",height:Math.random()*10+5+"px",backgroundColor:l,borderRadius:Math.random()>.5?"50%":"0%",zIndex:9999,pointerEvents:"none"}})};YE.propTypes={color:E.string,delay:E.number,startX:E.number};const GE=({active:e=!1,duration:t=3e3,intensity:s=50})=>{const[a,l]=x.useState([]);return x.useEffect(()=>{if(e){const u=Array.from({length:s},(f,p)=>({id:`confetti-${Date.now()}-${p}`,startX:Math.random()*100,delay:Math.random()*.5}));l(u);const d=setTimeout(()=>{l([])},t);return()=>clearTimeout(d)}},[e,t,s]),r.jsx(V,{sx:{position:"fixed",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:9999},children:r.jsx(Qo,{children:a.map(u=>r.jsx(YE,{startX:u.startX,delay:u.delay},u.id))})})};GE.propTypes={active:E.bool,duration:E.number,intensity:E.number};const $E=({open:e,onClose:t,achievement:s,onShare:a})=>{const[l,u]=x.useState(!1);if(x.useEffect(()=>{if(e&&s){u(!0);const g=setTimeout(()=>{u(!1)},3e3);return()=>clearTimeout(g)}},[e,s]),!s)return null;const d=Lf[s.tier],f=async()=>{const g=`I just unlocked the "${s.name}" achievement in GoodLift! ${s.icon}

${s.description}`;if(navigator.share)try{await navigator.share({title:"GoodLift Achievement",text:g})}catch(y){y.name!=="AbortError"&&(console.error("Error sharing:",y),p(g))}else p(g);a&&a(s)},p=g=>{navigator.clipboard.writeText(g).then(()=>{alert("Achievement text copied to clipboard!")})};return r.jsxs(r.Fragment,{children:[r.jsx(GE,{active:l}),r.jsxs(Tn,{open:e,onClose:t,maxWidth:"sm",fullWidth:!0,TransitionComponent:AC,TransitionProps:{direction:"up"},PaperProps:{sx:{borderRadius:3,background:d.gradient,color:d.textColor,overflow:"visible"}},children:[r.jsxs(jn,{sx:{textAlign:"center",py:4},children:[r.jsx(Ke.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:260,damping:20,delay:.1},children:r.jsx(V,{sx:{width:100,height:100,borderRadius:"50%",bgcolor:"rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px",border:"4px solid rgba(255, 255, 255, 0.3)"},children:r.jsx(Go,{sx:{fontSize:"4rem",color:"rgba(255, 255, 255, 0.9)"}})})}),r.jsx(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:r.jsx(I,{variant:"h6",sx:{fontWeight:600,mb:2,opacity:.9,letterSpacing:"0.1em",textTransform:"uppercase"},children:"Achievement Unlocked!"})}),r.jsx(Ke.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15,delay:.5},children:r.jsx(I,{variant:"h1",sx:{fontSize:"5rem",mb:2},children:s.icon})}),r.jsx(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:r.jsx(I,{variant:"h4",sx:{fontWeight:700,mb:1},children:s.name})}),r.jsx(Ke.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.9},children:r.jsx(V,{sx:{display:"inline-block",px:2,py:.5,borderRadius:2,bgcolor:"rgba(255, 255, 255, 0.2)",mb:2},children:r.jsx(I,{variant:"caption",sx:{fontWeight:700,letterSpacing:"0.1em",textTransform:"uppercase"},children:s.tier})})}),r.jsx(Ke.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.1},children:r.jsx(I,{variant:"body1",sx:{opacity:.9,maxWidth:"80%",margin:"0 auto"},children:s.description})})]}),r.jsx(Dn,{sx:{justifyContent:"center",pb:3,px:3},children:r.jsxs(Re,{direction:{xs:"column",sm:"row"},spacing:2,sx:{width:"100%"},children:[r.jsx(je,{variant:"contained",onClick:t,fullWidth:!0,sx:{bgcolor:"rgba(255, 255, 255, 0.9)",color:"primary.main","&:hover":{bgcolor:"rgba(255, 255, 255, 1)"}},children:"Awesome!"}),r.jsx(je,{variant:"outlined",startIcon:r.jsx(_C,{}),onClick:f,fullWidth:!0,sx:{borderColor:"rgba(255, 255, 255, 0.5)",color:"rgba(255, 255, 255, 0.9)","&:hover":{borderColor:"rgba(255, 255, 255, 0.8)",bgcolor:"rgba(255, 255, 255, 0.1)"}},children:"Share"})]})})]})]})};$E.propTypes={open:E.bool.isRequired,onClose:E.func.isRequired,achievement:E.shape({id:E.string.isRequired,name:E.string.isRequired,description:E.string.isRequired,icon:E.string.isRequired,tier:E.string.isRequired}),onShare:E.func};const s9=()=>{const[e,t]=x.useState(new Set);return x.useEffect(()=>{const s=async()=>{const l=Xg(),u=await zi(),d=new Set;u.forEach(p=>{p.exercises&&Array.isArray(p.exercises)&&p.exercises.forEach(g=>{g&&g["Exercise Name"]&&d.add(g["Exercise Name"])})});const f=new Set([...l,...d]);t(f)};s();const a=setInterval(s,3e4);return()=>clearInterval(a)},[]),e},Fi="v1.0.0-simplify-data-structure",KE="goodlift_migration_version",i9=()=>{try{return Je()?jt("migration_version")===Fi:localStorage.getItem(KE)===Fi}catch(e){return console.error("Error checking migration status:",e),!1}},a9=()=>{try{Je()?yt("migration_version",Fi):localStorage.setItem(KE,Fi),console.log(`Migration ${Fi} completed successfully`)}catch(e){console.error("Error marking migration as completed:",e)}},ws=e=>{try{if(Je())return jt(e);{const t=localStorage.getItem(`goodlift_${e}`);return t?JSON.parse(t):null}}catch(t){return console.error(`Error getting data for ${e}:`,t),null}},au=(e,t)=>{try{Je()?yt(e,t):localStorage.setItem(`goodlift_${e}`,JSON.stringify(t))}catch(s){console.error(`Error setting data for ${e}:`,s)}},kx=e=>{try{Je()?yt(e,null):localStorage.removeItem(`goodlift_${e}`)}catch(t){console.error(`Error removing data for ${e}:`,t)}},r9=()=>{console.log("Step 1: Migrating workout history...");const e=ws("workout_history");if(!e||!Array.isArray(e)||e.length===0){console.log("No workout history to migrate");return}let t=0;const s=e.map(a=>{let l=!1;const u={...a};if(u.date&&typeof u.date=="number")u.date=new Date(u.date).toISOString(),l=!0;else if(u.date&&typeof u.date=="string")try{const d=new Date(u.date);isNaN(d.getTime())||(u.date=d.toISOString(),l=!0)}catch{console.warn("Invalid date in workout:",u.date)}return(u.duration===void 0||u.duration===null)&&(u.duration=0,l=!0),!u.type&&u.exercises?.length>0&&(u.type="Workout",l=!0),l&&t++,u});t>0?(au("workout_history",s),console.log(`Migrated ${t} workout entries`)):console.log("All workout entries already in correct format")},o9=()=>{console.log("Step 2: Archiving yoga sessions...");const e=ws("yoga_sessions");if(!e||Array.isArray(e)&&e.length===0){console.log("No yoga sessions to archive");return}const t={data:e,archivedAt:new Date().toISOString(),reason:"Yoga feature removed, replaced with stretching/mobility sessions"};au("archived_yoga_sessions",t),kx("yoga_sessions"),console.log(`Archived ${Array.isArray(e)?e.length:1} yoga session(s)`)},l9=()=>{console.log("Step 3: Archiving favorite workouts...");const e=ws("favorite_workouts");if(!e||Array.isArray(e)&&e.length===0){console.log("No favorite workouts to archive");return}const t={data:e,archivedAt:new Date().toISOString(),reason:"Favorite workouts replaced by workout plans feature"};au("archived_favorite_workouts",t),kx("favorite_workouts"),console.log(`Archived ${e.length} favorite workout(s)`)},c9=()=>{console.log("Step 4: Cleaning up user stats...");const e=ws("user_stats");if(!e){console.log("No user stats to clean up");return}let t=!1;"totalYogaTime"in e&&(delete e.totalYogaTime,t=!0,console.log("Removed totalYogaTime from user stats")),Object.entries({totalWorkouts:0,totalTime:0,totalHiitTime:0,totalCardioTime:0,totalStretchTime:0}).forEach(([a,l])=>{a in e||(e[a]=l,t=!0)}),t?(au("user_stats",e),console.log("Updated user stats structure")):console.log("User stats already clean")},u9=()=>{console.log("Step 5: Validating session data..."),["hiit_sessions","cardio_sessions","stretch_sessions"].forEach(t=>{const s=ws(t);if(!s||!Array.isArray(s)||s.length===0){console.log(`No ${t} to validate`);return}let a=0;const l=s.map(u=>{let d=!1;const f={...u};return f.id||(f.id=`${Date.now()}-${Math.random().toString(36).substring(2,11)}`,d=!0),f.date||(f.date=Date.now(),d=!0),typeof f.date=="number"&&(f.date=new Date(f.date).toISOString(),d=!0),(f.duration===void 0||f.duration===null)&&(f.duration=0,d=!0),d&&a++,f});a>0&&(au(t,l),console.log(`Validated ${a} ${t} entries`))})},d9=()=>{console.log("Step 6: Removing orphaned references...");const e=["yoga_settings","yoga_preferences","legacy_favorites"];let t=0;e.forEach(s=>{ws(s)!==null&&(kx(s),t++,console.log(`Removed orphaned key: ${s}`))}),console.log(t===0?"No orphaned references found":`Removed ${t} orphaned reference(s)`)},f9=()=>{const e={version:Fi,timestamp:new Date().toISOString(),summary:{workoutHistory:ws("workout_history")?.length||0,hiitSessions:ws("hiit_sessions")?.length||0,cardioSessions:ws("cardio_sessions")?.length||0,stretchSessions:ws("stretch_sessions")?.length||0,workoutPlans:ws("workout_plans")?.length||0,archivedYoga:ws("archived_yoga_sessions")?.data?.length||0,archivedFavoriteWorkouts:ws("archived_favorite_workouts")?.data?.length||0}};return console.log("Migration Report:",e),e},h9=()=>{if(console.log("=== Starting Data Structure Simplification Migration ==="),console.log(`Version: ${Fi}`),i9())return console.log("Migration already completed, skipping..."),{status:"skipped",reason:"Migration already completed",version:Fi};try{r9(),o9(),l9(),c9(),u9(),d9(),a9();const e=f9();return console.log("=== Migration Completed Successfully ==="),{status:"success",...e}}catch(e){return console.error("Migration failed:",e),{status:"failed",error:e.message,version:Fi}}};function p9(){const[e,t]=x.useState("home"),[s,a]=x.useState([]),[l,u]=x.useState("full"),[d,f]=x.useState(new Set(["all"])),[p,g]=x.useState([]),[y,v]=x.useState(null),[b]=x.useState(!1),[S,j]=x.useState(!1),[T,w]=x.useState({open:!1,message:"",severity:"info"}),[k,D]=x.useState(!1),[A,_]=x.useState(!1),[P,M]=x.useState(null),[R,N]=x.useState(!1),[W,U]=x.useState(!1),[B,L]=x.useState([2,2,2,2]),[ce,H]=x.useState(3),{currentUser:Q,isGuest:z,hasGuestData:q}=Ia(),{generateWorkout:ae,allExercises:fe,exerciseDB:Z}=ME(),J=s9();x.useEffect(()=>{(async()=>{try{console.log("Running data structure migration...");const ge=h9();ge.status==="success"?console.log("Migration completed:",ge):ge.status==="skipped"?console.log("Migration skipped:",ge.reason):console.error("Migration failed:",ge)}catch(ge){console.error("Error running migration:",ge)}})()},[]),x.useEffect(()=>{(async()=>{try{await zE()}catch(ge){console.error("Error cleaning up expired backups:",ge)}})()},[]),x.useEffect(()=>{D(z?FR():!1)},[z]),x.useEffect(()=>{Q&&!z&&q&&_(!0)},[Q,z,q]);const X=async Ee=>{if(_(!1),Ee||Yd(),Q&&Q.uid)try{await bk(Q.uid)}catch(ge){console.error("Error loading user data after migration:",ge)}},ie=()=>{HR(),D(!1)};x.useEffect(()=>{const Ee=()=>{if(window.visualViewport){const _e=window.visualViewport;document.documentElement.style.setProperty("--viewport-height",`${_e.height}px`)}},ge=()=>{setTimeout(()=>{window.scrollTo(0,0),Ee()},100)};return window.addEventListener("resize",Ee),window.addEventListener("orientationchange",ge),window.visualViewport&&window.visualViewport.addEventListener("resize",Ee),Ee(),()=>{window.removeEventListener("resize",Ee),window.removeEventListener("orientationchange",ge),window.visualViewport&&window.visualViewport.removeEventListener("resize",Ee)}},[]),x.useEffect(()=>{if(fe.length>0){const Ee=new Set;fe.forEach(ge=>{const _e=ge.Equipment;_e.includes("Cable")?Ee.add("Cable Machine"):_e.includes("Dumbbell")?Ee.add("Dumbbells"):Ee.add(_e)}),g(Array.from(Ee).sort())}},[fe]);const oe=Ee=>{t(Ee)},Me=Ee=>{u(Ee)},De=Ee=>{if(Ee instanceof Set)f(Ee);else{const ge=new Set;ge.add(Ee),f(ge)}},Ne=(Ee,ge,_e=null,G=[2,2,2,2])=>{L(G);const ye=_e||ae(Ee,ge,G);a(ye),u(Ee),U(!1),j(!0),t("preview")},ue=(Ee,ge,_e=[2,2,2,2])=>{u(Ee),L(_e);const G=_e.reduce((ke,Ce)=>ke+Ce,0),ye=Array(G).fill(null);a(ye),U(!0),j(!0),t("preview")},we=(Ee,ge,_e)=>{Ee&&a(Ee),ge&&L(ge),_e!==void 0&&H(_e),j(!1),U(!1),t("workout")},be=()=>{j(!1),U(!1),t("home")},ve=x.useCallback((Ee,ge)=>{if(!Z||Object.keys(Z).length===0){console.error("Exercise database not available"),w({open:!0,message:"Exercise database not loaded",severity:"error"});return}const _e=Ee["Primary Muscle"],G=Ee["Exercise Type"],ye=Ee["Exercise Name"],ke=Z[_e]||[];let Ce=0;const We=3;let ze=null;for(;Ce<We&&!ze;){Ce++;let qe=ke;const Xe=Array.from(d);Xe.includes("all")||(qe=ke.filter(Ae=>{const Ye=Ae.Equipment;return Xe.some(lt=>lt==="Cable Machine"?Ye.includes("Cable"):lt==="Dumbbells"?Ye.includes("Dumbbell"):Ye.includes(lt))})),qe=qe.filter(Ae=>Ae["Exercise Type"]===G);const xe=s.map(Ae=>Ae["Exercise Name"]);let Te=qe.filter(Ae=>Ae["Exercise Name"]!==ye&&!xe.includes(Ae["Exercise Name"]));if(Te.length===0&&(Te=qe.filter(Ae=>Ae["Exercise Name"]!==ye)),Te.length===0)continue;const Ie=[...Te];Te.forEach(Ae=>{J.has(Ae["Exercise Name"])&&Ie.push(Ae)}),ze=Ie[Math.floor(Math.random()*Ie.length)]}if(!ze){w({open:!0,message:"No alternative exercises available",severity:"warning"});return}const dt=[...s];dt[ge]=ze,a(dt)},[Z,s,d,J]),Oe=x.useCallback((Ee,ge)=>{if(ge?.toLowerCase().includes("bodyweight")||ge?.toLowerCase().includes("body weight"))return 0;const _e=ge.includes("Dumbbell")||ge.includes("Kettlebell"),G=ge?.toLowerCase().includes("barbell");return jd.UPPER_BODY.includes(Ee)?G?ka.UPPER_BODY.BARBELL:ka.UPPER_BODY.DUMBBELL:jd.LOWER_BODY.includes(Ee)?G?ka.LOWER_BODY.BARBELL:_e?ka.LOWER_BODY.DUMBBELL:5:2.5},[]),He=x.useCallback((Ee,ge)=>{if(ge?.toLowerCase().includes("bodyweight")||ge?.toLowerCase().includes("body weight"))return 0;const _e=ge.includes("Dumbbell")||ge.includes("Kettlebell"),G=ge?.toLowerCase().includes("barbell");return jd.UPPER_BODY.includes(Ee)?G?ka.UPPER_BODY.BARBELL:ka.UPPER_BODY.DUMBBELL:jd.LOWER_BODY.includes(Ee)?G?ka.LOWER_BODY.BARBELL:_e?ka.LOWER_BODY.DUMBBELL:5:2.5},[]),Se=x.useCallback(async Ee=>{const ge=[],_e=[];let G=0;for(const[Ce,We]of Object.entries(Ee.exercises)){const ze=We.sets[We.sets.length-1];for(const dt of We.sets)dt.weight>0&&dt.reps>0&&(G+=dt.weight*dt.reps);if(ze?.weight>0){const dt=await Lo(Ce);if(We.sets.every(Xe=>Xe.reps>=dt)&&We.sets.length>=E1){const Xe=s.find(xe=>xe["Exercise Name"]===Ce);if(Xe){const xe=Xe["Primary Muscle"].split("(")[0].trim(),Te=Oe(xe,Xe.Equipment);if(Te>0){const Ie=ze.weight+Te;await Bi(Ce,Ie),ge.push({exercise:Ce,oldWeight:ze.weight,newWeight:Ie,increase:Te}),await t_()}}}else if(a7(We.sets,dt,E1)){const xe=s.find(Te=>Te["Exercise Name"]===Ce);if(xe){const Te=xe["Primary Muscle"].split("(")[0].trim(),Ie=He(Te,xe.Equipment);if(Ie>0&&ze.weight>Ie){const Ae=ze.weight-Ie;await Bi(Ce,Ae),_e.push({exercise:Ce,oldWeight:ze.weight,newWeight:Ae,decrease:Ie})}else await Bi(Ce,ze.weight)}else await Bi(Ce,ze.weight)}else await Bi(Ce,ze.weight)}}if(G>0&&await n_(G),ge.length>0){const Ce=ge.map(We=>`${We.exercise}: ${We.oldWeight}  ${We.newWeight} lbs (+${We.increase} lbs)`);w({open:!0,message:` Progressive Overload! You hit your target reps!

${Ce.join(`
`)}`,severity:"success"})}else if(_e.length>0){const Ce=_e.map(We=>`${We.exercise}: ${We.oldWeight}  ${We.newWeight} lbs (-${We.decrease} lbs)`);w({open:!0,message:` Weight adjusted for next session. Keep pushing!

${Ce.join(`
`)}`,severity:"info"})}const ye={...Ee,type:l};await $g(ye);const ke=await Gc();ke.totalWorkouts+=1,ke.totalTime+=Ee.duration,await Kg(ke);try{const Ce=await Ck(),We=await Js(),ze=u7(ke,We,Ce);if(ze.length>0){for(const dt of ze)await e_(dt.id);M(ze[0]),N(!0)}}catch(Ce){console.error("Error checking achievements:",Ce)}v(ye),t("completion")},[l,s,Oe,He]),Ue=()=>{t("home")},le=()=>{t("home")},ne=()=>{if(!y)return;let ge="data:text/csv;charset=utf-8,"+["Date","WorkoutType","Duration","Exercise","Set","Weight","Reps"].join(",")+`
`;for(const ye in y.exercises)y.exercises[ye].sets.forEach(Ce=>{const We=[new Date(y.date).toLocaleString(),y.type,y.duration,ye,Ce.set,Ce.weight,Ce.reps];ge+=We.join(",")+`
`});const _e=encodeURI(ge),G=document.createElement("a");G.setAttribute("href",_e),G.setAttribute("download",`GoodLift_Workout_${new Date(y.date).toISOString().split("T")[0]}.csv`),document.body.appendChild(G),G.click(),document.body.removeChild(G)},{theme:Le}=PE();return Q?r.jsxs(CS,{theme:Le,children:[r.jsx(kS,{}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[r.jsx(Qk,{onNavigate:oe}),r.jsxs("div",{id:"app",style:{flex:1,marginTop:"60px",paddingBottom:"80px"},children:[e==="home"&&r.jsx(lE,{onNavigate:oe,loading:b,workoutType:l,selectedEquipment:d,equipmentOptions:p,onWorkoutTypeChange:Me,onEquipmentChange:De,onStartWorkout:Ne,onCustomize:ue}),e==="selection"&&r.jsx(gx,{workoutType:l,selectedEquipment:d,equipmentOptions:p,onWorkoutTypeChange:Me,onEquipmentChange:De,onStartWorkout:Ne,onCustomize:ue,loading:b}),e==="preview"&&S&&r.jsx(xx,{workout:s,workoutType:l,onStart:we,onCancel:be,onRandomizeExercise:ve,equipmentFilter:Array.from(d),isCustomizeMode:W,supersetConfig:B,setsPerSuperset:ce}),e==="workout"&&s.length>0&&r.jsx(dE,{workoutPlan:s,onComplete:Se,onExit:Ue,supersetConfig:B,setsPerSuperset:ce}),e==="completion"&&y&&r.jsx(bx,{workoutData:y,workoutPlan:s,onFinish:le,onExportCSV:ne}),e==="progress"&&r.jsx(jE,{onNavigate:oe,onStartWorkout:Ne}),(e==="cardio"||e==="hiit"||e==="timer")&&r.jsx(ix,{onNavigate:oe}),e==="log-activity"&&r.jsx(mx,{onNavigate:oe}),(e==="stretch"||e==="mobility")&&r.jsx(j7,{}),e==="exercise-list"&&r.jsx(E7,{}),e==="settings"&&r.jsx(FE,{onNavigate:oe}),e==="profile"&&r.jsx(n9,{})]}),r.jsx(Ny,{currentScreen:e,onNavigate:oe}),r.jsx(qE,{open:A,onClose:X,userId:Q?.uid}),r.jsx($E,{open:R,onClose:()=>{N(!1),M(null)},achievement:P}),r.jsx(Qs,{open:k,anchorOrigin:{vertical:"bottom",horizontal:"center"},sx:{bottom:{xs:80,sm:24}},children:r.jsx(At,{severity:"info",onClose:ie,action:r.jsx(je,{color:"inherit",size:"small",onClick:()=>t("progress"),sx:{fontWeight:600},children:"Sign Up"}),sx:{width:"100%",maxWidth:"600px","& .MuiAlert-message":{fontSize:"0.95rem",fontWeight:500}},children:"You're in guest mode. Sign up to save your data permanently!"})}),r.jsx(Qs,{open:T.open,autoHideDuration:8e3,onClose:()=>w({...T,open:!1}),anchorOrigin:{vertical:"top",horizontal:"center"},children:r.jsx(At,{onClose:()=>w({...T,open:!1}),severity:T.severity,sx:{whiteSpace:"pre-line","& .MuiAlert-message":{fontSize:"1rem",fontWeight:500}},children:T.message})})]})]}):r.jsxs(CS,{theme:Le,children:[r.jsx(kS,{}),r.jsx(w7,{})]})}function m9(){return r.jsx(OE,{children:r.jsx(p9,{})})}var Vf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},g9={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},y9=class{#e=g9;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},Cg=new y9;function x9(e){setTimeout(e,0)}var Bf=typeof window>"u"||"Deno"in globalThis;function $s(){}function b9(e,t){return typeof e=="function"?e(t):e}function v9(e){return typeof e=="number"&&e>=0&&e!==1/0}function S9(e,t){return Math.max(e+(t||0)-Date.now(),0)}function kg(e,t){return typeof e=="function"?e(t):e}function w9(e,t){return typeof e=="function"?e(t):e}function cC(e,t){const{type:s="all",exact:a,fetchStatus:l,predicate:u,queryKey:d,stale:f}=e;if(d){if(a){if(t.queryHash!==Tx(d,t.options))return!1}else if(!Uc(t.queryKey,d))return!1}if(s!=="all"){const p=t.isActive();if(s==="active"&&!p||s==="inactive"&&p)return!1}return!(typeof f=="boolean"&&t.isStale()!==f||l&&l!==t.state.fetchStatus||u&&!u(t))}function uC(e,t){const{exact:s,status:a,predicate:l,mutationKey:u}=e;if(u){if(!t.options.mutationKey)return!1;if(s){if(Hc(t.options.mutationKey)!==Hc(u))return!1}else if(!Uc(t.options.mutationKey,u))return!1}return!(a&&t.state.status!==a||l&&!l(t))}function Tx(e,t){return(t?.queryKeyHashFn||Hc)(e)}function Hc(e){return JSON.stringify(e,(t,s)=>Tg(s)?Object.keys(s).sort().reduce((a,l)=>(a[l]=s[l],a),{}):s)}function Uc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>Uc(e[s],t[s])):!1}var C9=Object.prototype.hasOwnProperty;function QE(e,t){if(e===t)return e;const s=dC(e)&&dC(t);if(!s&&!(Tg(e)&&Tg(t)))return t;const l=(s?e:Object.keys(e)).length,u=s?t:Object.keys(t),d=u.length,f=s?new Array(d):{};let p=0;for(let g=0;g<d;g++){const y=s?g:u[g],v=e[y],b=t[y];if(v===b){f[y]=v,(s?g<l:C9.call(e,y))&&p++;continue}if(v===null||b===null||typeof v!="object"||typeof b!="object"){f[y]=b;continue}const S=QE(v,b);f[y]=S,S===v&&p++}return l===d&&p===l?e:f}function dC(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Tg(e){if(!fC(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!fC(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function fC(e){return Object.prototype.toString.call(e)==="[object Object]"}function k9(e){return new Promise(t=>{Cg.setTimeout(t,e)})}function T9(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?QE(e,t):t}function j9(e,t,s=0){const a=[...e,t];return s&&a.length>s?a.slice(1):a}function D9(e,t,s=0){const a=[t,...e];return s&&a.length>s?a.slice(0,-1):a}var jx=Symbol();function XE(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===jx?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var E9=class extends Vf{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Bf&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},ZE=new E9;function M9(){let e,t;const s=new Promise((l,u)=>{e=l,t=u});s.status="pending",s.catch(()=>{});function a(l){Object.assign(s,l),delete s.resolve,delete s.reject}return s.resolve=l=>{a({status:"fulfilled",value:l}),e(l)},s.reject=l=>{a({status:"rejected",reason:l}),t(l)},s}var A9=x9;function P9(){let e=[],t=0,s=f=>{f()},a=f=>{f()},l=A9;const u=f=>{t?e.push(f):l(()=>{s(f)})},d=()=>{const f=e;e=[],f.length&&l(()=>{a(()=>{f.forEach(p=>{s(p)})})})};return{batch:f=>{let p;t++;try{p=f()}finally{t--,t||d()}return p},batchCalls:f=>(...p)=>{u(()=>{f(...p)})},schedule:u,setNotifyFunction:f=>{s=f},setBatchNotifyFunction:f=>{a=f},setScheduler:f=>{l=f}}}var Xn=P9(),O9=class extends Vf{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Bf&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},lf=new O9;function R9(e){return Math.min(1e3*2**e,3e4)}function JE(e){return(e??"online")==="online"?lf.isOnline():!0}var jg=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function eM(e){let t=!1,s=0,a;const l=M9(),u=()=>l.status!=="pending",d=T=>{if(!u()){const w=new jg(T);b(w),e.onCancel?.(w)}},f=()=>{t=!0},p=()=>{t=!1},g=()=>ZE.isFocused()&&(e.networkMode==="always"||lf.isOnline())&&e.canRun(),y=()=>JE(e.networkMode)&&e.canRun(),v=T=>{u()||(a?.(),l.resolve(T))},b=T=>{u()||(a?.(),l.reject(T))},S=()=>new Promise(T=>{a=w=>{(u()||g())&&T(w)},e.onPause?.()}).then(()=>{a=void 0,u()||e.onContinue?.()}),j=()=>{if(u())return;let T;const w=s===0?e.initialPromise:void 0;try{T=w??e.fn()}catch(k){T=Promise.reject(k)}Promise.resolve(T).then(v).catch(k=>{if(u())return;const D=e.retry??(Bf?0:3),A=e.retryDelay??R9,_=typeof A=="function"?A(s,k):A,P=D===!0||typeof D=="number"&&s<D||typeof D=="function"&&D(s,k);if(t||!P){b(k);return}s++,e.onFail?.(s,k),k9(_).then(()=>g()?void 0:S()).then(()=>{t?b(k):j()})})};return{promise:l,status:()=>l.status,cancel:d,continue:()=>(a?.(),l),cancelRetry:f,continueRetry:p,canStart:y,start:()=>(y()?j():S().then(j),l)}}var tM=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),v9(this.gcTime)&&(this.#e=Cg.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Bf?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Cg.clearTimeout(this.#e),this.#e=void 0)}},_9=class extends tM{#e;#t;#n;#i;#s;#r;#o;constructor(e){super(),this.#o=!1,this.#r=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=pC(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){if(this.options={...this.#r,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=pC(this.options);t.data!==void 0&&(this.setState(hC(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const s=T9(this.state.data,e,this.options);return this.#a({data:s,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),s}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#s?.promise;return this.#s?.cancel(e),t?t.then($s).catch($s):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>w9(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===jx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>kg(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!S9(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#o=!0,s.signal)})},l=()=>{const f=XE(this.options,t),g=(()=>{const y={client:this.#i,queryKey:this.queryKey,meta:this.meta};return a(y),y})();return this.#o=!1,this.options.persister?this.options.persister(f,g,this):f(g)},d=(()=>{const f={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:l};return a(f),f})();this.options.behavior?.onFetch(d,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#a({type:"fetch",meta:d.fetchOptions?.meta}),this.#s=eM({initialPromise:t?.initialPromise,fn:d.fetchFn,onCancel:f=>{f instanceof jg&&f.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(f,p)=>{this.#a({type:"failed",failureCount:f,error:p})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0});try{const f=await this.#s.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#n.config.onSuccess?.(f,this),this.#n.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof jg){if(f.silent)return this.#s.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#a({type:"error",error:f}),this.#n.config.onError?.(f,this),this.#n.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#a(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...I9(s.data,this.options),fetchMeta:e.meta??null};case"success":const a={...s,...hC(e.data,e.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?a:void 0,a;case"error":const l=e.error;return{...s,error:l,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),Xn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function I9(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:JE(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function hC(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function pC(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,a=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}function mC(e){return{onFetch:(t,s)=>{const a=t.options,l=t.fetchOptions?.meta?.fetchMore?.direction,u=t.state.data?.pages||[],d=t.state.data?.pageParams||[];let f={pages:[],pageParams:[]},p=0;const g=async()=>{let y=!1;const v=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},b=XE(t.options,t.fetchOptions),S=async(j,T,w)=>{if(y)return Promise.reject();if(T==null&&j.pages.length)return Promise.resolve(j);const D=(()=>{const M={client:t.client,queryKey:t.queryKey,pageParam:T,direction:w?"backward":"forward",meta:t.options.meta};return v(M),M})(),A=await b(D),{maxPages:_}=t.options,P=w?D9:j9;return{pages:P(j.pages,A,_),pageParams:P(j.pageParams,T,_)}};if(l&&u.length){const j=l==="backward",T=j?W9:gC,w={pages:u,pageParams:d},k=T(a,w);f=await S(w,k,j)}else{const j=e??u.length;do{const T=p===0?d[0]??a.initialPageParam:gC(a,f);if(p>0&&T==null)break;f=await S(f,T),p++}while(p<j)}return f};t.options.persister?t.fetchFn=()=>t.options.persister?.(g,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s):t.fetchFn=g}}}function gC(e,{pages:t,pageParams:s}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,s[a],s):void 0}function W9(e,{pages:t,pageParams:s}){return t.length>0?e.getPreviousPageParam?.(t[0],t,s[0],s):void 0}var N9=class extends tM{#e;#t;#n;#i;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||L9(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#s({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=eM({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(u,d)=>{this.#s({type:"failed",failureCount:u,error:d})},onPause:()=>{this.#s({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const a=this.state.status==="pending",l=!this.#i.canStart();try{if(a)t();else{this.#s({type:"pending",variables:e,isPaused:l}),await this.#n.config.onMutate?.(e,this,s);const d=await this.options.onMutate?.(e,s);d!==this.state.context&&this.#s({type:"pending",context:d,variables:e,isPaused:l})}const u=await this.#i.start();return await this.#n.config.onSuccess?.(u,e,this.state.context,this,s),await this.options.onSuccess?.(u,e,this.state.context,s),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(u,null,e,this.state.context,s),this.#s({type:"success",data:u}),u}catch(u){try{throw await this.#n.config.onError?.(u,e,this.state.context,this,s),await this.options.onError?.(u,e,this.state.context,s),await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(void 0,u,e,this.state.context,s),u}finally{this.#s({type:"error",error:u})}}finally{this.#n.runNext(this)}}#s(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Xn.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function L9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var V9=class extends Vf{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,s){const a=new N9({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:s});return this.add(a),a}add(e){this.#e.add(e);const t=Od(e);if(typeof t=="string"){const s=this.#t.get(t);s?s.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Od(e);if(typeof t=="string"){const s=this.#t.get(t);if(s)if(s.length>1){const a=s.indexOf(e);a!==-1&&s.splice(a,1)}else s[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Od(e);if(typeof t=="string"){const a=this.#t.get(t)?.find(l=>l.state.status==="pending");return!a||a===e}else return!0}runNext(e){const t=Od(e);return typeof t=="string"?this.#t.get(t)?.find(a=>a!==e&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Xn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(s=>uC(t,s))}findAll(e={}){return this.getAll().filter(t=>uC(e,t))}notify(e){Xn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Xn.batch(()=>Promise.all(e.map(t=>t.continue().catch($s))))}};function Od(e){return e.options.scope?.id}var B9=class extends Vf{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,s){const a=t.queryKey,l=t.queryHash??Tx(a,t);let u=this.get(l);return u||(u=new _9({client:e,queryKey:a,queryHash:l,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(a)}),this.add(u)),u}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Xn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>cC(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>cC(e,s)):t}notify(e){Xn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Xn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Xn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},z9=class{#e;#t;#n;#i;#s;#r;#o;#a;constructor(e={}){this.#e=e.queryCache||new B9,this.#t=e.mutationCache||new V9,this.#n=e.defaultOptions||{},this.#i=new Map,this.#s=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#o=ZE.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=lf.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=this.#e.build(this,t),a=s.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(kg(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:s})=>{const a=s.data;return[t,a]})}setQueryData(e,t,s){const a=this.defaultQueryOptions({queryKey:e}),u=this.#e.get(a.queryHash)?.state.data,d=b9(t,u);if(d!==void 0)return this.#e.build(this,a).setData(d,{...s,manual:!0})}setQueriesData(e,t,s){return Xn.batch(()=>this.#e.findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,s)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Xn.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=this.#e;return Xn.batch(()=>(s.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},a=Xn.batch(()=>this.#e.findAll(e).map(l=>l.cancel(s)));return Promise.all(a).then($s).catch($s)}invalidateQueries(e,t={}){return Xn.batch(()=>(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},a=Xn.batch(()=>this.#e.findAll(e).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let u=l.fetch(void 0,s);return s.throwOnError||(u=u.catch($s)),l.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(a).then($s)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=this.#e.build(this,t);return s.isStaleByTime(kg(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then($s).catch($s)}fetchInfiniteQuery(e){return e.behavior=mC(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then($s).catch($s)}ensureInfiniteQueryData(e){return e.behavior=mC(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return lf.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#i.set(Hc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#i.values()],s={};return t.forEach(a=>{Uc(e,a.queryKey)&&Object.assign(s,a.defaultOptions)}),s}setMutationDefaults(e,t){this.#s.set(Hc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#s.values()],s={};return t.forEach(a=>{Uc(e,a.mutationKey)&&Object.assign(s,a.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Tx(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===jx&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},F9=x.createContext(void 0),H9=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(F9.Provider,{value:e,children:t}));function U9(e){const t="=".repeat((4-e.length%4)%4),s=(e+t).replace(/-/g,"+").replace(/_/g,"/"),a=window.atob(s),l=new Uint8Array(a.length);for(let u=0;u<a.length;++u)l[u]=a.charCodeAt(u);return l}async function q9(e){try{if(!("serviceWorker"in navigator))return console.warn("[Push Notifications] Service workers are not supported in this browser"),null;if(!("PushManager"in window))return console.warn("[Push Notifications] Push notifications are not supported in this browser"),null;if(console.log("[Push Notifications] Requesting notification permission..."),await Notification.requestPermission()!=="granted")return console.warn("[Push Notifications] Notification permission denied by user"),null;console.log("[Push Notifications] Notification permission granted"),console.log("[Push Notifications] Waiting for service worker to be ready...");const s=await navigator.serviceWorker.ready;console.log("[Push Notifications] Service worker is ready");const a=U9(e);console.log("[Push Notifications] Subscribing to push notifications...");const l=await s.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:a});return console.log("[Push Notifications]  Successfully subscribed to push notifications!"),console.log("[Push Notifications]  Subscription object:"),console.log(JSON.stringify(l,null,2)),console.log(`
[Push Notifications]  To enable push notifications:`),console.log("1. Send this subscription object to your backend server"),console.log("2. Store it in your database associated with this user"),console.log("3. Use it to send push notifications via web-push library or similar"),console.log(`
Example backend code (Node.js with web-push):`),console.log('const webpush = require("web-push");'),console.log('webpush.sendNotification(subscription, "Your notification message");'),l}catch(t){return console.error("[Push Notifications]  Error subscribing to push notifications:",t),console.error("[Push Notifications] Error details:",t.message),null}}async function Y9(){try{return!("serviceWorker"in navigator)||!("PushManager"in window)?null:await(await navigator.serviceWorker.ready).pushManager.getSubscription()}catch(e){return console.error("[Push Notifications] Error checking existing subscription:",e),null}}const G9="BE0ZQSJHIlmXfeA5ddjITNrqrS0TmGfGGQjBufmOlUKxRUtEwja2qHmTZ0pXHepJzGV2qcwH0gJ_D6ot6cWGB6w";async function $9(){try{console.log("[Push Init] Initializing push notification subscription..."),console.log("[Push Init] Setting up both Firebase Cloud Messaging and native Web Push API"),console.log("[Push Init] Step 1: Getting Firebase Cloud Messaging token..."),await B7()?(console.log("[Push Init]  Firebase Cloud Messaging initialized"),console.log("[Push Init] You can use this FCM token to send notifications via Firebase Admin SDK")):console.log("[Push Init]  Firebase Cloud Messaging not available (may not be supported in this browser)"),console.log("[Push Init] Step 2: Setting up native Web Push API subscription...");const t=await Y9();if(t)console.log("[Push Init]  Native Web Push: Already subscribed"),console.log("[Push Init] Existing subscription:",JSON.stringify(t,null,2));else{console.log("[Push Init] Native Web Push: No existing subscription, creating new subscription...");const s=await q9(G9);console.log(s?"[Push Init]  Native Web Push: Subscription created successfully":"[Push Init]  Native Web Push: Subscription not created (user may have denied permission)")}console.log(`
[Push Init] `),console.log("[Push Init]  Push notification setup complete!"),console.log("[Push Init] "),console.log("[Push Init] You now have two ways to send push notifications:"),console.log("[Push Init] 1  Firebase Cloud Messaging (FCM):"),console.log("[Push Init]     - Use the FCM token logged above"),console.log("[Push Init]     - Send via Firebase Admin SDK or FCM REST API"),console.log("[Push Init]     - Background messages handled by firebase-messaging-sw.js"),console.log("[Push Init] 2  Native Web Push API:"),console.log("[Push Init]     - Use the subscription object logged above"),console.log("[Push Init]     - Send via web-push library or any Web Push service"),console.log("[Push Init]     - Push events handled by service-worker.js"),console.log(`[Push Init] 
`)}catch(e){console.error("[Push Init] Error initializing push notifications:",e)}}const K9=new z9;"serviceWorker"in navigator&&"PushManager"in window&&window.addEventListener("load",()=>{$9()});QP.createRoot(document.getElementById("root")).render(r.jsx(Ma.StrictMode,{children:r.jsx(H9,{client:K9,children:r.jsx(Dk,{children:r.jsx(_E,{children:r.jsx(TE,{children:r.jsx(Kk,{children:r.jsx(m9,{})})})})})})}))});export default Q9();
