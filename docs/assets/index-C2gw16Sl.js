var v2=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import{u as el,j as r,B as L,T as Og,a as $n,P as E,I as Xe,V as jC,b as Rg,D as Pn,c as Un,d as On,e as R,f as Rn,g as Ae,F as S2,h as fn,i as w2,k as Aa,S as C2,l as T2,m as _g,C as nt,n as ct,o as k2,p as dr,q as mt,r as Pa,s as _e,t as Uo,v as hh,w as Js,x as qo,M as j2,y as Be,L as jt,z as Ht,A as uc,E as D2,G as E2,H as ti,J as fh,K as Gn,N as ut,O as DC,Q as Da,R as Vd,U as wr,W as mi,_ as dt,X as K,Y as _n,Z as In,$ as cn,a0 as Ki,a1 as Ke,a2 as Hn,a3 as mn,a4 as Dr,a5 as He,a6 as dc,a7 as fs,a8 as ph,a9 as M2,aa as A2,ab as Rt,ac as P2,ad as Yo,ae as qi,af as Ig,ag as Io,ah as Wa,ai as EC,aj as O2,ak as R2,al as An,am as _2,an as Ut,ao as gt,ap as Wm,aq as hi,ar as ja,as as MC,at as I2,au as Go,av as W2,aw as AC,ax as CS,ay as Gt,az as Wo,aA as No,aB as Lo,aC as N2,aD as Oa,aE as gi,aF as vn,aG as Wg,aH as Hs,aI as $t,aJ as PC,aK as Ng,aL as zd,aM as Zs,aN as jo,aO as L2,aP as OC,aQ as Lg,aR as RC,aS as B2,aT as mh,aU as _C,aV as kc,aW as Ni,aX as Fc,aY as zi,aZ as V2,a_ as z2,a$ as gh,b0 as Jt,b1 as Hc,b2 as Fd,b3 as TS,b4 as Yi,b5 as F2,b6 as H2,b7 as IC,b8 as U2,b9 as q2,ba as Y2,bb as G2,bc as kS,bd as $2,be as WC,bf as $o,bg as NC,bh as K2,bi as LC,bj as BC,bk as VC,bl as Q2,bm as jS,bn as Nm,bo as Lm,bp as X2,bq as Z2,br as J2,bs as DS,bt as eP,bu as tP,bv as nP,bw as ES,bx as Ws,by as sP,bz as iP,bA as aP,bB as rP,bC as oP,bD as zC,bE as lP,bF as Bg,bG as Bm,bH as cP,bI as uP,bJ as dP,bK as hP,bL as fP,bM as pP,bN as ar,bO as mP,bP as gP,bQ as yP,bR as xP,bS as bP,bT as vP,bU as Do,bV as SP,bW as MS,bX as AS,bY as PS}from"./mui-WGmXpv7x.js";import{d as wP,e as CP,g as FC,a as Ea,r as x}from"./vendor-B0qVADJY.js";import{r as Hd,_ as Ud,C as qd,a as Vg,E as HC,o as zg,F as TP,d as nm,g as kP,v as jP,i as DP,b as EP,c as UC,e as MP,f as AP,h as PP,j as OP,k as qC,s as RP,l as _P,m as IP,n as WP,p as NP,q as LP}from"./firebase-DbM8b2ov.js";import{C as BP,a as VP,L as zP,P as FP,b as HP,p as UP,c as qP,d as YP,i as GP,e as $P}from"./charts-CZMN3SWv.js";var tq=v2((Cs,Ts)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function s(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=s(l);fetch(l.href,u)}})();var sm={exports:{}},Xl={},im={exports:{}},am={};var OS;function KP(){return OS||(OS=1,(function(e){function t(z,U){var ue=z.length;z.push(U);e:for(;0<ue;){var fe=ue-1>>>1,Ce=z[fe];if(0<l(Ce,U))z[fe]=U,z[ue]=Ce,ue=fe;else break e}}function s(z){return z.length===0?null:z[0]}function a(z){if(z.length===0)return null;var U=z[0],ue=z.pop();if(ue!==U){z[0]=ue;e:for(var fe=0,Ce=z.length,we=Ce>>>1;fe<we;){var Q=2*(fe+1)-1,J=z[Q],he=Q+1,be=z[he];if(0>l(J,ue))he<Ce&&0>l(be,J)?(z[fe]=be,z[he]=ue,fe=he):(z[fe]=J,z[Q]=ue,fe=Q);else if(he<Ce&&0>l(be,ue))z[fe]=be,z[he]=ue,fe=he;else break e}}return U}function l(z,U){var ue=z.sortIndex-U.sortIndex;return ue!==0?ue:z.id-U.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();e.unstable_now=function(){return d.now()-h}}var p=[],g=[],y=1,b=null,v=3,S=!1,j=!1,k=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function W(z){for(var U=s(g);U!==null;){if(U.callback===null)a(g);else if(U.startTime<=z)a(g),U.sortIndex=U.expirationTime,t(p,U);else break;U=s(g)}}function P(z){if(k=!1,W(z),!j)if(s(p)!==null)j=!0,O||(O=!0,B());else{var U=s(g);U!==null&&ae(P,U.startTime-z)}}var O=!1,_=-1,N=5,I=-1;function H(){return w?!0:!(e.unstable_now()-I<N)}function V(){if(w=!1,O){var z=e.unstable_now();I=z;var U=!0;try{e:{j=!1,k&&(k=!1,D(_),_=-1),S=!0;var ue=v;try{t:{for(W(z),b=s(p);b!==null&&!(b.expirationTime>z&&H());){var fe=b.callback;if(typeof fe=="function"){b.callback=null,v=b.priorityLevel;var Ce=fe(b.expirationTime<=z);if(z=e.unstable_now(),typeof Ce=="function"){b.callback=Ce,W(z),U=!0;break t}b===s(p)&&a(p),W(z)}else a(p);b=s(p)}if(b!==null)U=!0;else{var we=s(g);we!==null&&ae(P,we.startTime-z),U=!1}}break e}finally{b=null,v=ue,S=!1}U=void 0}}finally{U?B():O=!1}}}var B;if(typeof A=="function")B=function(){A(V)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,q=de.port2;de.port1.onmessage=V,B=function(){q.postMessage(null)}}else B=function(){T(V,0)};function ae(z,U){_=T(function(){z(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(z){switch(v){case 1:case 2:case 3:var U=3;break;default:U=v}var ue=v;v=U;try{return z()}finally{v=ue}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(z,U){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ue=v;v=z;try{return U()}finally{v=ue}},e.unstable_scheduleCallback=function(z,U,ue){var fe=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?fe+ue:fe):ue=fe,z){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=ue+Ce,z={id:y++,callback:U,priorityLevel:z,startTime:ue,expirationTime:Ce,sortIndex:-1},ue>fe?(z.sortIndex=ue,t(g,z),s(p)===null&&z===s(g)&&(k?(D(_),_=-1):k=!0,ae(P,ue-fe))):(z.sortIndex=Ce,t(p,z),j||S||(j=!0,O||(O=!0,B()))),z},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(z){var U=v;return function(){var ue=v;v=U;try{return z.apply(this,arguments)}finally{v=ue}}}})(am)),am}var RS;function QP(){return RS||(RS=1,im.exports=KP()),im.exports}var _S;function XP(){if(_S)return Xl;_S=1;var e=QP(),t=wP(),s=CP();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,o=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(o=i.return),n=i.return;while(n)}return i.tag===3?o:null}function d(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function h(n){if(n.tag===31){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function p(n){if(u(n)!==n)throw Error(a(188))}function g(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(a(188));return i!==n?null:n}for(var o=n,c=i;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return p(f),n;if(m===c)return p(f),i;m=m.sibling}throw Error(a(188))}if(o.return!==c.return)o=f,c=m;else{for(var C=!1,M=f.child;M;){if(M===o){C=!0,o=f,c=m;break}if(M===c){C=!0,c=f,o=m;break}M=M.sibling}if(!C){for(M=m.child;M;){if(M===o){C=!0,o=m,c=f;break}if(M===c){C=!0,c=m,o=f;break}M=M.sibling}if(!C)throw Error(a(189))}}if(o.alternate!==c)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?n:i}function y(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=y(n),i!==null)return i;n=n.sibling}return null}var b=Object.assign,v=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),A=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function B(n){return n===null||typeof n!="object"?null:(n=V&&n[V]||n["@@iterator"],typeof n=="function"?n:null)}var de=Symbol.for("react.client.reference");function q(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===de?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case k:return"Fragment";case T:return"Profiler";case w:return"StrictMode";case P:return"Suspense";case O:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case j:return"Portal";case A:return n.displayName||"Context";case D:return(n._context.displayName||"Context")+".Consumer";case W:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case _:return i=n.displayName||null,i!==null?i:q(n.type)||"Memo";case N:i=n._payload,n=n._init;try{return q(n(i))}catch{}}return null}var ae=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},fe=[],Ce=-1;function we(n){return{current:n}}function Q(n){0>Ce||(n.current=fe[Ce],fe[Ce]=null,Ce--)}function J(n,i){Ce++,fe[Ce]=n.current,n.current=i}var he=we(null),be=we(null),ge=we(null),ie=we(null);function Y(n,i){switch(J(ge,i),J(be,n),J(he,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?Yv(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=Yv(i),n=Gv(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Q(he),J(he,n)}function oe(){Q(he),Q(be),Q(ge)}function $(n){n.memoizedState!==null&&J(ie,n);var i=he.current,o=Gv(i,n.type);i!==o&&(J(be,n),J(he,o))}function le(n){be.current===n&&(Q(he),Q(be)),ie.current===n&&(Q(ie),Gl._currentValue=ue)}var ye,Pe;function pe(n){if(ye===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);ye=i&&i[1]||"",Pe=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ye+n+Pe}var te=!1;function ee(n,i){if(!n||te)return"";te=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(ce){var re=ce}Reflect.construct(n,[],Te)}else{try{Te.call()}catch(ce){re=ce}n.call(Te.prototype)}}else{try{throw Error()}catch(ce){re=ce}(Te=n())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(ce){if(ce&&re&&typeof ce.stack=="string")return[ce.stack,re.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),C=m[0],M=m[1];if(C&&M){var F=C.split(`
`),se=M.split(`
`);for(f=c=0;c<F.length&&!F[c].includes("DetermineComponentFrameRoot");)c++;for(;f<se.length&&!se[f].includes("DetermineComponentFrameRoot");)f++;if(c===F.length||f===se.length)for(c=F.length-1,f=se.length-1;1<=c&&0<=f&&F[c]!==se[f];)f--;for(;1<=c&&0<=f;c--,f--)if(F[c]!==se[f]){if(c!==1||f!==1)do if(c--,f--,0>f||F[c]!==se[f]){var me=`
`+F[c].replace(" at new "," at ");return n.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",n.displayName)),me}while(1<=c&&0<=f);break}}}finally{te=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?pe(o):""}function Ne(n,i){switch(n.tag){case 26:case 27:case 5:return pe(n.type);case 16:return pe("Lazy");case 13:return n.child!==i&&i!==null?pe("Suspense Fallback"):pe("Suspense");case 19:return pe("SuspenseList");case 0:case 15:return ee(n.type,!1);case 11:return ee(n.type.render,!1);case 1:return ee(n.type,!0);case 31:return pe("Activity");default:return""}}function ot(n){try{var i="",o=null;do i+=Ne(n,o),o=n,n=n.return;while(n);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Ie=Object.prototype.hasOwnProperty,ke=e.unstable_scheduleCallback,We=e.unstable_cancelCallback,X=e.unstable_shouldYield,je=e.unstable_requestPaint,De=e.unstable_now,Me=e.unstable_getCurrentPriorityLevel,Le=e.unstable_ImmediatePriority,Ue=e.unstable_UserBlockingPriority,ft=e.unstable_NormalPriority,qe=e.unstable_LowPriority,Qe=e.unstable_IdlePriority,Ee=e.log,Re=e.unstable_setDisableYieldValue,Ve=null,Oe=null;function Fe(n){if(typeof Ee=="function"&&Re(n),Oe&&typeof Oe.setStrictMode=="function")try{Oe.setStrictMode(Ve,n)}catch{}}var rt=Math.clz32?Math.clz32:zt,it=Math.log,Dt=Math.LN2;function zt(n){return n>>>=0,n===0?32:31-(it(n)/Dt|0)|0}var en=256,Yn=262144,pt=4194304;function ks(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Xi(n,i,o){var c=n.pendingLanes;if(c===0)return 0;var f=0,m=n.suspendedLanes,C=n.pingedLanes;n=n.warmLanes;var M=c&134217727;return M!==0?(c=M&~m,c!==0?f=ks(c):(C&=M,C!==0?f=ks(C):o||(o=M&~n,o!==0&&(f=ks(o))))):(M=c&~m,M!==0?f=ks(M):C!==0?f=ks(C):o||(o=c&~n,o!==0&&(f=ks(o)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,o=i&-i,m>=o||m===32&&(o&4194048)!==0)?i:f}function Zi(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function au(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function an(){var n=pt;return pt<<=1,(pt&62914560)===0&&(pt=4194304),n}function Qn(n){for(var i=[],o=0;31>o;o++)i.push(n);return i}function si(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Uh(n,i,o,c,f,m){var C=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var M=n.entanglements,F=n.expirationTimes,se=n.hiddenUpdates;for(o=C&~o;0<o;){var me=31-rt(o),Te=1<<me;M[me]=0,F[me]=-1;var re=se[me];if(re!==null)for(se[me]=null,me=0;me<re.length;me++){var ce=re[me];ce!==null&&(ce.lane&=-536870913)}o&=~Te}c!==0&&qh(n,c,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(C&~i))}function qh(n,i,o){n.pendingLanes|=i,n.suspendedLanes&=~i;var c=31-rt(i);n.entangledLanes|=i,n.entanglements[c]=n.entanglements[c]|1073741824|o&261930}function ru(n,i){var o=n.entangledLanes|=i;for(n=n.entanglements;o;){var c=31-rt(o),f=1<<c;f&i|n[c]&i&&(n[c]|=i),o&=~f}}function _r(n,i){var o=i&-i;return o=(o&42)!==0?1:za(o),(o&(n.suspendedLanes|i))!==0?0:o}function za(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ol(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function xe(){var n=U.p;return n!==0?n:(n=window.event,n===void 0?32:gS(n.type))}function Se(n,i){var o=U.p;try{return U.p=n,i()}finally{U.p=o}}var ze=Math.random().toString(36).slice(2),bt="__reactFiber$"+ze,rn="__reactProps$"+ze,ns="__reactContainer$"+ze,Yh="__reactEvents$"+ze,cM="__reactListeners$"+ze,uM="__reactHandles$"+ze,Rx="__reactResources$"+ze,ll="__reactMarker$"+ze;function Gh(n){delete n[bt],delete n[rn],delete n[Yh],delete n[cM],delete n[uM]}function Ir(n){var i=n[bt];if(i)return i;for(var o=n.parentNode;o;){if(i=o[ns]||o[bt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(n=eS(n);n!==null;){if(o=n[bt])return o;n=eS(n)}return i}n=o,o=n.parentNode}return null}function Wr(n){if(n=n[bt]||n[ns]){var i=n.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return n}return null}function cl(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function Nr(n){var i=n[Rx];return i||(i=n[Rx]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Wn(n){n[ll]=!0}var _x=new Set,Ix={};function Fa(n,i){Lr(n,i),Lr(n+"Capture",i)}function Lr(n,i){for(Ix[n]=i,n=0;n<i.length;n++)_x.add(i[n])}var dM=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wx={},Nx={};function hM(n){return Ie.call(Nx,n)?!0:Ie.call(Wx,n)?!1:dM.test(n)?Nx[n]=!0:(Wx[n]=!0,!1)}function ou(n,i,o){if(hM(i))if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+o)}}function lu(n,i,o){if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+o)}}function bi(n,i,o,c){if(c===null)n.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(i,o,""+c)}}function js(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Lx(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function fM(n,i,o){var c=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);if(!n.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,m=c.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(C){o=""+C,m.call(this,C)}}),Object.defineProperty(n,i,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(C){o=""+C},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function $h(n){if(!n._valueTracker){var i=Lx(n)?"checked":"value";n._valueTracker=fM(n,i,""+n[i])}}function Bx(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return n&&(c=Lx(n)?n.checked?"true":"false":n.value),n=c,n!==o?(i.setValue(n),!0):!1}function cu(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var pM=/[\n"\\]/g;function Ds(n){return n.replace(pM,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Kh(n,i,o,c,f,m,C,M){n.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.type=C:n.removeAttribute("type"),i!=null?C==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+js(i)):n.value!==""+js(i)&&(n.value=""+js(i)):C!=="submit"&&C!=="reset"||n.removeAttribute("value"),i!=null?Qh(n,C,js(i)):o!=null?Qh(n,C,js(o)):c!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?n.name=""+js(M):n.removeAttribute("name")}function Vx(n,i,o,c,f,m,C,M){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){$h(n);return}o=o!=null?""+js(o):"",i=i!=null?""+js(i):o,M||i===n.value||(n.value=i),n.defaultValue=i}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=M?n.checked:!!c,n.defaultChecked=!!c,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(n.name=C),$h(n)}function Qh(n,i,o){i==="number"&&cu(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Br(n,i,o,c){if(n=n.options,i){i={};for(var f=0;f<o.length;f++)i["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=i.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&c&&(n[o].defaultSelected=!0)}else{for(o=""+js(o),i=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function zx(n,i,o){if(i!=null&&(i=""+js(i),i!==n.value&&(n.value=i),o==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=o!=null?""+js(o):""}function Fx(n,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(a(92));if(ae(c)){if(1<c.length)throw Error(a(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=js(i),n.defaultValue=o,c=n.textContent,c===o&&c!==""&&c!==null&&(n.value=c),$h(n)}function Vr(n,i){if(i){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=i;return}}n.textContent=i}var mM=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hx(n,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":c?n.setProperty(i,o):typeof o!="number"||o===0||mM.has(i)?i==="float"?n.cssFloat=o:n[i]=(""+o).trim():n[i]=o+"px"}function Ux(n,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var f in i)c=i[f],i.hasOwnProperty(f)&&o[f]!==c&&Hx(n,f,c)}else for(var m in i)i.hasOwnProperty(m)&&Hx(n,m,i[m])}function Xh(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uu(n){return yM.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function vi(){}var Zh=null;function Jh(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var zr=null,Fr=null;function qx(n){var i=Wr(n);if(i&&(n=i.stateNode)){var o=n[rn]||null;e:switch(n=i.stateNode,i.type){case"input":if(Kh(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ds(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==n&&c.form===n.form){var f=c[rn]||null;if(!f)throw Error(a(90));Kh(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===n.form&&Bx(c)}break e;case"textarea":zx(n,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&Br(n,!!o.multiple,i,!1)}}}var ef=!1;function Yx(n,i,o){if(ef)return n(i,o);ef=!0;try{var c=n(i);return c}finally{if(ef=!1,(zr!==null||Fr!==null)&&(Xu(),zr&&(i=zr,n=Fr,Fr=zr=null,qx(i),n)))for(i=0;i<n.length;i++)qx(n[i])}}function ul(n,i){var o=n.stateNode;if(o===null)return null;var c=o[rn]||null;if(c===null)return null;o=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var Si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tf=!1;if(Si)try{var dl={};Object.defineProperty(dl,"passive",{get:function(){tf=!0}}),window.addEventListener("test",dl,dl),window.removeEventListener("test",dl,dl)}catch{tf=!1}var Ji=null,nf=null,du=null;function Gx(){if(du)return du;var n,i=nf,o=i.length,c,f="value"in Ji?Ji.value:Ji.textContent,m=f.length;for(n=0;n<o&&i[n]===f[n];n++);var C=o-n;for(c=1;c<=C&&i[o-c]===f[m-c];c++);return du=f.slice(n,1<c?1-c:void 0)}function hu(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function fu(){return!0}function $x(){return!1}function ss(n){function i(o,c,f,m,C){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=C,this.currentTarget=null;for(var M in n)n.hasOwnProperty(M)&&(o=n[M],this[M]=o?o(m):m[M]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?fu:$x,this.isPropagationStopped=$x,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=fu)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=fu)},persist:function(){},isPersistent:fu}),i}var Ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pu=ss(Ha),hl=b({},Ha,{view:0,detail:0}),xM=ss(hl),sf,af,fl,mu=b({},hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:of,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==fl&&(fl&&n.type==="mousemove"?(sf=n.screenX-fl.screenX,af=n.screenY-fl.screenY):af=sf=0,fl=n),sf)},movementY:function(n){return"movementY"in n?n.movementY:af}}),Kx=ss(mu),bM=b({},mu,{dataTransfer:0}),vM=ss(bM),SM=b({},hl,{relatedTarget:0}),rf=ss(SM),wM=b({},Ha,{animationName:0,elapsedTime:0,pseudoElement:0}),CM=ss(wM),TM=b({},Ha,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),kM=ss(TM),jM=b({},Ha,{data:0}),Qx=ss(jM),DM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AM(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=MM[n])?!!i[n]:!1}function of(){return AM}var PM=b({},hl,{key:function(n){if(n.key){var i=DM[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=hu(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?EM[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:of,charCode:function(n){return n.type==="keypress"?hu(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?hu(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),OM=ss(PM),RM=b({},mu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xx=ss(RM),_M=b({},hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:of}),IM=ss(_M),WM=b({},Ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),NM=ss(WM),LM=b({},mu,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),BM=ss(LM),VM=b({},Ha,{newState:0,oldState:0}),zM=ss(VM),FM=[9,13,27,32],lf=Si&&"CompositionEvent"in window,pl=null;Si&&"documentMode"in document&&(pl=document.documentMode);var HM=Si&&"TextEvent"in window&&!pl,Zx=Si&&(!lf||pl&&8<pl&&11>=pl),Jx=" ",e0=!1;function t0(n,i){switch(n){case"keyup":return FM.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function n0(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Hr=!1;function UM(n,i){switch(n){case"compositionend":return n0(i);case"keypress":return i.which!==32?null:(e0=!0,Jx);case"textInput":return n=i.data,n===Jx&&e0?null:n;default:return null}}function qM(n,i){if(Hr)return n==="compositionend"||!lf&&t0(n,i)?(n=Gx(),du=nf=Ji=null,Hr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Zx&&i.locale!=="ko"?null:i.data;default:return null}}var YM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function s0(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!YM[n.type]:i==="textarea"}function i0(n,i,o,c){zr?Fr?Fr.push(c):Fr=[c]:zr=c,i=id(i,"onChange"),0<i.length&&(o=new pu("onChange","change",null,o,c),n.push({event:o,listeners:i}))}var ml=null,gl=null;function GM(n){Vv(n,0)}function gu(n){var i=cl(n);if(Bx(i))return n}function a0(n,i){if(n==="change")return i}var r0=!1;if(Si){var cf;if(Si){var uf="oninput"in document;if(!uf){var o0=document.createElement("div");o0.setAttribute("oninput","return;"),uf=typeof o0.oninput=="function"}cf=uf}else cf=!1;r0=cf&&(!document.documentMode||9<document.documentMode)}function l0(){ml&&(ml.detachEvent("onpropertychange",c0),gl=ml=null)}function c0(n){if(n.propertyName==="value"&&gu(gl)){var i=[];i0(i,gl,n,Jh(n)),Yx(GM,i)}}function $M(n,i,o){n==="focusin"?(l0(),ml=i,gl=o,ml.attachEvent("onpropertychange",c0)):n==="focusout"&&l0()}function KM(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return gu(gl)}function QM(n,i){if(n==="click")return gu(i)}function XM(n,i){if(n==="input"||n==="change")return gu(i)}function ZM(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var ps=typeof Object.is=="function"?Object.is:ZM;function yl(n,i){if(ps(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var o=Object.keys(n),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!Ie.call(i,f)||!ps(n[f],i[f]))return!1}return!0}function u0(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function d0(n,i){var o=u0(n);n=0;for(var c;o;){if(o.nodeType===3){if(c=n+o.textContent.length,n<=i&&c>=i)return{node:o,offset:i-n};n=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=u0(o)}}function h0(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?h0(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function f0(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=cu(n.document);i instanceof n.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)n=i.contentWindow;else break;i=cu(n.document)}return i}function df(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var JM=Si&&"documentMode"in document&&11>=document.documentMode,Ur=null,hf=null,xl=null,ff=!1;function p0(n,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ff||Ur==null||Ur!==cu(c)||(c=Ur,"selectionStart"in c&&df(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),xl&&yl(xl,c)||(xl=c,c=id(hf,"onSelect"),0<c.length&&(i=new pu("onSelect","select",null,i,o),n.push({event:i,listeners:c}),i.target=Ur)))}function Ua(n,i){var o={};return o[n.toLowerCase()]=i.toLowerCase(),o["Webkit"+n]="webkit"+i,o["Moz"+n]="moz"+i,o}var qr={animationend:Ua("Animation","AnimationEnd"),animationiteration:Ua("Animation","AnimationIteration"),animationstart:Ua("Animation","AnimationStart"),transitionrun:Ua("Transition","TransitionRun"),transitionstart:Ua("Transition","TransitionStart"),transitioncancel:Ua("Transition","TransitionCancel"),transitionend:Ua("Transition","TransitionEnd")},pf={},m0={};Si&&(m0=document.createElement("div").style,"AnimationEvent"in window||(delete qr.animationend.animation,delete qr.animationiteration.animation,delete qr.animationstart.animation),"TransitionEvent"in window||delete qr.transitionend.transition);function qa(n){if(pf[n])return pf[n];if(!qr[n])return n;var i=qr[n],o;for(o in i)if(i.hasOwnProperty(o)&&o in m0)return pf[n]=i[o];return n}var g0=qa("animationend"),y0=qa("animationiteration"),x0=qa("animationstart"),eA=qa("transitionrun"),tA=qa("transitionstart"),nA=qa("transitioncancel"),b0=qa("transitionend"),v0=new Map,mf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mf.push("scrollEnd");function qs(n,i){v0.set(n,i),Fa(i,[n])}var yu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Es=[],Yr=0,gf=0;function xu(){for(var n=Yr,i=gf=Yr=0;i<n;){var o=Es[i];Es[i++]=null;var c=Es[i];Es[i++]=null;var f=Es[i];Es[i++]=null;var m=Es[i];if(Es[i++]=null,c!==null&&f!==null){var C=c.pending;C===null?f.next=f:(f.next=C.next,C.next=f),c.pending=f}m!==0&&S0(o,f,m)}}function bu(n,i,o,c){Es[Yr++]=n,Es[Yr++]=i,Es[Yr++]=o,Es[Yr++]=c,gf|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function yf(n,i,o,c){return bu(n,i,o,c),vu(n)}function Ya(n,i){return bu(n,null,null,i),vu(n)}function S0(n,i,o){n.lanes|=o;var c=n.alternate;c!==null&&(c.lanes|=o);for(var f=!1,m=n.return;m!==null;)m.childLanes|=o,c=m.alternate,c!==null&&(c.childLanes|=o),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&i!==null&&(f=31-rt(o),n=m.hiddenUpdates,c=n[f],c===null?n[f]=[i]:c.push(i),i.lane=o|536870912),m):null}function vu(n){if(50<Vl)throw Vl=0,jp=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Gr={};function sA(n,i,o,c){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ms(n,i,o,c){return new sA(n,i,o,c)}function xf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function wi(n,i){var o=n.alternate;return o===null?(o=ms(n.tag,i,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=i,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,i=n.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function w0(n,i){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Su(n,i,o,c,f,m){var C=0;if(c=n,typeof n=="function")xf(n)&&(C=1);else if(typeof n=="string")C=l2(n,o,he.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=ms(31,o,i,f),n.elementType=I,n.lanes=m,n;case k:return Ga(o.children,f,m,i);case w:C=8,f|=24;break;case T:return n=ms(12,o,i,f|2),n.elementType=T,n.lanes=m,n;case P:return n=ms(13,o,i,f),n.elementType=P,n.lanes=m,n;case O:return n=ms(19,o,i,f),n.elementType=O,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case A:C=10;break e;case D:C=9;break e;case W:C=11;break e;case _:C=14;break e;case N:C=16,c=null;break e}C=29,o=Error(a(130,n===null?"null":typeof n,"")),c=null}return i=ms(C,o,i,f),i.elementType=n,i.type=c,i.lanes=m,i}function Ga(n,i,o,c){return n=ms(7,n,c,i),n.lanes=o,n}function bf(n,i,o){return n=ms(6,n,null,i),n.lanes=o,n}function C0(n){var i=ms(18,null,null,0);return i.stateNode=n,i}function vf(n,i,o){return i=ms(4,n.children!==null?n.children:[],n.key,i),i.lanes=o,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var T0=new WeakMap;function Ms(n,i){if(typeof n=="object"&&n!==null){var o=T0.get(n);return o!==void 0?o:(i={value:n,source:i,stack:ot(i)},T0.set(n,i),i)}return{value:n,source:i,stack:ot(i)}}var $r=[],Kr=0,wu=null,bl=0,As=[],Ps=0,ea=null,ii=1,ai="";function Ci(n,i){$r[Kr++]=bl,$r[Kr++]=wu,wu=n,bl=i}function k0(n,i,o){As[Ps++]=ii,As[Ps++]=ai,As[Ps++]=ea,ea=n;var c=ii;n=ai;var f=32-rt(c)-1;c&=~(1<<f),o+=1;var m=32-rt(i)+f;if(30<m){var C=f-f%5;m=(c&(1<<C)-1).toString(32),c>>=C,f-=C,ii=1<<32-rt(i)+f|o<<f|c,ai=m+n}else ii=1<<m|o<<f|c,ai=n}function Sf(n){n.return!==null&&(Ci(n,1),k0(n,1,0))}function wf(n){for(;n===wu;)wu=$r[--Kr],$r[Kr]=null,bl=$r[--Kr],$r[Kr]=null;for(;n===ea;)ea=As[--Ps],As[Ps]=null,ai=As[--Ps],As[Ps]=null,ii=As[--Ps],As[Ps]=null}function j0(n,i){As[Ps++]=ii,As[Ps++]=ai,As[Ps++]=ea,ii=i.id,ai=i.overflow,ea=n}var Ln=null,Kt=null,kt=!1,ta=null,Os=!1,Cf=Error(a(519));function na(n){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vl(Ms(i,n)),Cf}function D0(n){var i=n.stateNode,o=n.type,c=n.memoizedProps;switch(i[bt]=n,i[rn]=c,o){case"dialog":wt("cancel",i),wt("close",i);break;case"iframe":case"object":case"embed":wt("load",i);break;case"video":case"audio":for(o=0;o<Fl.length;o++)wt(Fl[o],i);break;case"source":wt("error",i);break;case"img":case"image":case"link":wt("error",i),wt("load",i);break;case"details":wt("toggle",i);break;case"input":wt("invalid",i),Vx(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":wt("invalid",i);break;case"textarea":wt("invalid",i),Fx(i,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||Uv(i.textContent,o)?(c.popover!=null&&(wt("beforetoggle",i),wt("toggle",i)),c.onScroll!=null&&wt("scroll",i),c.onScrollEnd!=null&&wt("scrollend",i),c.onClick!=null&&(i.onclick=vi),i=!0):i=!1,i||na(n,!0)}function E0(n){for(Ln=n.return;Ln;)switch(Ln.tag){case 5:case 31:case 13:Os=!1;return;case 27:case 3:Os=!0;return;default:Ln=Ln.return}}function Qr(n){if(n!==Ln)return!1;if(!kt)return E0(n),kt=!0,!1;var i=n.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||zp(n.type,n.memoizedProps)),o=!o),o&&Kt&&na(n),E0(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));Kt=Jv(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));Kt=Jv(n)}else i===27?(i=Kt,ga(n.type)?(n=Yp,Yp=null,Kt=n):Kt=i):Kt=Ln?_s(n.stateNode.nextSibling):null;return!0}function $a(){Kt=Ln=null,kt=!1}function Tf(){var n=ta;return n!==null&&(os===null?os=n:os.push.apply(os,n),ta=null),n}function vl(n){ta===null?ta=[n]:ta.push(n)}var kf=we(null),Ka=null,Ti=null;function sa(n,i,o){J(kf,i._currentValue),i._currentValue=o}function ki(n){n._currentValue=kf.current,Q(kf)}function jf(n,i,o){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===o)break;n=n.return}}function Df(n,i,o,c){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var C=f.child;m=m.firstContext;e:for(;m!==null;){var M=m;m=f;for(var F=0;F<i.length;F++)if(M.context===i[F]){m.lanes|=o,M=m.alternate,M!==null&&(M.lanes|=o),jf(m.return,o,n),c||(C=null);break e}m=M.next}}else if(f.tag===18){if(C=f.return,C===null)throw Error(a(341));C.lanes|=o,m=C.alternate,m!==null&&(m.lanes|=o),jf(C,o,n),C=null}else C=f.child;if(C!==null)C.return=f;else for(C=f;C!==null;){if(C===n){C=null;break}if(f=C.sibling,f!==null){f.return=C.return,C=f;break}C=C.return}f=C}}function Xr(n,i,o,c){n=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var C=f.alternate;if(C===null)throw Error(a(387));if(C=C.memoizedProps,C!==null){var M=f.type;ps(f.pendingProps.value,C.value)||(n!==null?n.push(M):n=[M])}}else if(f===ie.current){if(C=f.alternate,C===null)throw Error(a(387));C.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Gl):n=[Gl])}f=f.return}n!==null&&Df(i,n,o,c),i.flags|=262144}function Cu(n){for(n=n.firstContext;n!==null;){if(!ps(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Qa(n){Ka=n,Ti=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Bn(n){return M0(Ka,n)}function Tu(n,i){return Ka===null&&Qa(n),M0(n,i)}function M0(n,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Ti===null){if(n===null)throw Error(a(308));Ti=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Ti=Ti.next=i;return o}var iA=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(o,c){n.push(c)}};this.abort=function(){i.aborted=!0,n.forEach(function(o){return o()})}},aA=e.unstable_scheduleCallback,rA=e.unstable_NormalPriority,Tn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ef(){return{controller:new iA,data:new Map,refCount:0}}function Sl(n){n.refCount--,n.refCount===0&&aA(rA,function(){n.controller.abort()})}var wl=null,Mf=0,Zr=0,Jr=null;function oA(n,i){if(wl===null){var o=wl=[];Mf=0,Zr=Op(),Jr={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Mf++,i.then(A0,A0),i}function A0(){if(--Mf===0&&wl!==null){Jr!==null&&(Jr.status="fulfilled");var n=wl;wl=null,Zr=0,Jr=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function lA(n,i){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){c.status="fulfilled",c.value=i;for(var f=0;f<o.length;f++)(0,o[f])(i)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var P0=z.S;z.S=function(n,i){pv=De(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&oA(n,i),P0!==null&&P0(n,i)};var Xa=we(null);function Af(){var n=Xa.current;return n!==null?n:Ft.pooledCache}function ku(n,i){i===null?J(Xa,Xa.current):J(Xa,i.pool)}function O0(){var n=Af();return n===null?null:{parent:Tn._currentValue,pool:n}}var eo=Error(a(460)),Pf=Error(a(474)),ju=Error(a(542)),Du={then:function(){}};function R0(n){return n=n.status,n==="fulfilled"||n==="rejected"}function _0(n,i,o){switch(o=n[o],o===void 0?n.push(i):o!==i&&(i.then(vi,vi),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,W0(n),n;default:if(typeof i.status=="string")i.then(vi,vi);else{if(n=Ft,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(c){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=c}},function(c){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,W0(n),n}throw Ja=i,eo}}function Za(n){try{var i=n._init;return i(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ja=o,eo):o}}var Ja=null;function I0(){if(Ja===null)throw Error(a(459));var n=Ja;return Ja=null,n}function W0(n){if(n===eo||n===ju)throw Error(a(483))}var to=null,Cl=0;function Eu(n){var i=Cl;return Cl+=1,to===null&&(to=[]),_0(to,n,i)}function Tl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Mu(n,i){throw i.$$typeof===v?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function N0(n){function i(Z,G){if(n){var ne=Z.deletions;ne===null?(Z.deletions=[G],Z.flags|=16):ne.push(G)}}function o(Z,G){if(!n)return null;for(;G!==null;)i(Z,G),G=G.sibling;return null}function c(Z){for(var G=new Map;Z!==null;)Z.key!==null?G.set(Z.key,Z):G.set(Z.index,Z),Z=Z.sibling;return G}function f(Z,G){return Z=wi(Z,G),Z.index=0,Z.sibling=null,Z}function m(Z,G,ne){return Z.index=ne,n?(ne=Z.alternate,ne!==null?(ne=ne.index,ne<G?(Z.flags|=67108866,G):ne):(Z.flags|=67108866,G)):(Z.flags|=1048576,G)}function C(Z){return n&&Z.alternate===null&&(Z.flags|=67108866),Z}function M(Z,G,ne,ve){return G===null||G.tag!==6?(G=bf(ne,Z.mode,ve),G.return=Z,G):(G=f(G,ne),G.return=Z,G)}function F(Z,G,ne,ve){var Je=ne.type;return Je===k?me(Z,G,ne.props.children,ve,ne.key):G!==null&&(G.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===N&&Za(Je)===G.type)?(G=f(G,ne.props),Tl(G,ne),G.return=Z,G):(G=Su(ne.type,ne.key,ne.props,null,Z.mode,ve),Tl(G,ne),G.return=Z,G)}function se(Z,G,ne,ve){return G===null||G.tag!==4||G.stateNode.containerInfo!==ne.containerInfo||G.stateNode.implementation!==ne.implementation?(G=vf(ne,Z.mode,ve),G.return=Z,G):(G=f(G,ne.children||[]),G.return=Z,G)}function me(Z,G,ne,ve,Je){return G===null||G.tag!==7?(G=Ga(ne,Z.mode,ve,Je),G.return=Z,G):(G=f(G,ne),G.return=Z,G)}function Te(Z,G,ne){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=bf(""+G,Z.mode,ne),G.return=Z,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case S:return ne=Su(G.type,G.key,G.props,null,Z.mode,ne),Tl(ne,G),ne.return=Z,ne;case j:return G=vf(G,Z.mode,ne),G.return=Z,G;case N:return G=Za(G),Te(Z,G,ne)}if(ae(G)||B(G))return G=Ga(G,Z.mode,ne,null),G.return=Z,G;if(typeof G.then=="function")return Te(Z,Eu(G),ne);if(G.$$typeof===A)return Te(Z,Tu(Z,G),ne);Mu(Z,G)}return null}function re(Z,G,ne,ve){var Je=G!==null?G.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Je!==null?null:M(Z,G,""+ne,ve);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case S:return ne.key===Je?F(Z,G,ne,ve):null;case j:return ne.key===Je?se(Z,G,ne,ve):null;case N:return ne=Za(ne),re(Z,G,ne,ve)}if(ae(ne)||B(ne))return Je!==null?null:me(Z,G,ne,ve,null);if(typeof ne.then=="function")return re(Z,G,Eu(ne),ve);if(ne.$$typeof===A)return re(Z,G,Tu(Z,ne),ve);Mu(Z,ne)}return null}function ce(Z,G,ne,ve,Je){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return Z=Z.get(ne)||null,M(G,Z,""+ve,Je);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case S:return Z=Z.get(ve.key===null?ne:ve.key)||null,F(G,Z,ve,Je);case j:return Z=Z.get(ve.key===null?ne:ve.key)||null,se(G,Z,ve,Je);case N:return ve=Za(ve),ce(Z,G,ne,ve,Je)}if(ae(ve)||B(ve))return Z=Z.get(ne)||null,me(G,Z,ve,Je,null);if(typeof ve.then=="function")return ce(Z,G,ne,Eu(ve),Je);if(ve.$$typeof===A)return ce(Z,G,ne,Tu(G,ve),Je);Mu(G,ve)}return null}function Ye(Z,G,ne,ve){for(var Je=null,Mt=null,Ge=G,xt=G=0,Tt=null;Ge!==null&&xt<ne.length;xt++){Ge.index>xt?(Tt=Ge,Ge=null):Tt=Ge.sibling;var At=re(Z,Ge,ne[xt],ve);if(At===null){Ge===null&&(Ge=Tt);break}n&&Ge&&At.alternate===null&&i(Z,Ge),G=m(At,G,xt),Mt===null?Je=At:Mt.sibling=At,Mt=At,Ge=Tt}if(xt===ne.length)return o(Z,Ge),kt&&Ci(Z,xt),Je;if(Ge===null){for(;xt<ne.length;xt++)Ge=Te(Z,ne[xt],ve),Ge!==null&&(G=m(Ge,G,xt),Mt===null?Je=Ge:Mt.sibling=Ge,Mt=Ge);return kt&&Ci(Z,xt),Je}for(Ge=c(Ge);xt<ne.length;xt++)Tt=ce(Ge,Z,xt,ne[xt],ve),Tt!==null&&(n&&Tt.alternate!==null&&Ge.delete(Tt.key===null?xt:Tt.key),G=m(Tt,G,xt),Mt===null?Je=Tt:Mt.sibling=Tt,Mt=Tt);return n&&Ge.forEach(function(Sa){return i(Z,Sa)}),kt&&Ci(Z,xt),Je}function at(Z,G,ne,ve){if(ne==null)throw Error(a(151));for(var Je=null,Mt=null,Ge=G,xt=G=0,Tt=null,At=ne.next();Ge!==null&&!At.done;xt++,At=ne.next()){Ge.index>xt?(Tt=Ge,Ge=null):Tt=Ge.sibling;var Sa=re(Z,Ge,At.value,ve);if(Sa===null){Ge===null&&(Ge=Tt);break}n&&Ge&&Sa.alternate===null&&i(Z,Ge),G=m(Sa,G,xt),Mt===null?Je=Sa:Mt.sibling=Sa,Mt=Sa,Ge=Tt}if(At.done)return o(Z,Ge),kt&&Ci(Z,xt),Je;if(Ge===null){for(;!At.done;xt++,At=ne.next())At=Te(Z,At.value,ve),At!==null&&(G=m(At,G,xt),Mt===null?Je=At:Mt.sibling=At,Mt=At);return kt&&Ci(Z,xt),Je}for(Ge=c(Ge);!At.done;xt++,At=ne.next())At=ce(Ge,Z,xt,At.value,ve),At!==null&&(n&&At.alternate!==null&&Ge.delete(At.key===null?xt:At.key),G=m(At,G,xt),Mt===null?Je=At:Mt.sibling=At,Mt=At);return n&&Ge.forEach(function(b2){return i(Z,b2)}),kt&&Ci(Z,xt),Je}function Vt(Z,G,ne,ve){if(typeof ne=="object"&&ne!==null&&ne.type===k&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case S:e:{for(var Je=ne.key;G!==null;){if(G.key===Je){if(Je=ne.type,Je===k){if(G.tag===7){o(Z,G.sibling),ve=f(G,ne.props.children),ve.return=Z,Z=ve;break e}}else if(G.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===N&&Za(Je)===G.type){o(Z,G.sibling),ve=f(G,ne.props),Tl(ve,ne),ve.return=Z,Z=ve;break e}o(Z,G);break}else i(Z,G);G=G.sibling}ne.type===k?(ve=Ga(ne.props.children,Z.mode,ve,ne.key),ve.return=Z,Z=ve):(ve=Su(ne.type,ne.key,ne.props,null,Z.mode,ve),Tl(ve,ne),ve.return=Z,Z=ve)}return C(Z);case j:e:{for(Je=ne.key;G!==null;){if(G.key===Je)if(G.tag===4&&G.stateNode.containerInfo===ne.containerInfo&&G.stateNode.implementation===ne.implementation){o(Z,G.sibling),ve=f(G,ne.children||[]),ve.return=Z,Z=ve;break e}else{o(Z,G);break}else i(Z,G);G=G.sibling}ve=vf(ne,Z.mode,ve),ve.return=Z,Z=ve}return C(Z);case N:return ne=Za(ne),Vt(Z,G,ne,ve)}if(ae(ne))return Ye(Z,G,ne,ve);if(B(ne)){if(Je=B(ne),typeof Je!="function")throw Error(a(150));return ne=Je.call(ne),at(Z,G,ne,ve)}if(typeof ne.then=="function")return Vt(Z,G,Eu(ne),ve);if(ne.$$typeof===A)return Vt(Z,G,Tu(Z,ne),ve);Mu(Z,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,G!==null&&G.tag===6?(o(Z,G.sibling),ve=f(G,ne),ve.return=Z,Z=ve):(o(Z,G),ve=bf(ne,Z.mode,ve),ve.return=Z,Z=ve),C(Z)):o(Z,G)}return function(Z,G,ne,ve){try{Cl=0;var Je=Vt(Z,G,ne,ve);return to=null,Je}catch(Ge){if(Ge===eo||Ge===ju)throw Ge;var Mt=ms(29,Ge,null,Z.mode);return Mt.lanes=ve,Mt.return=Z,Mt}finally{}}}var er=N0(!0),L0=N0(!1),ia=!1;function Of(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rf(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function aa(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ra(n,i,o){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Pt&2)!==0){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,i=vu(n),S0(n,null,o),i}return bu(n,c,i,o),vu(n)}function kl(n,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=n.pendingLanes,o|=c,i.lanes=o,ru(n,o)}}function _f(n,i){var o=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var C={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=C:m=m.next=C,o=o.next}while(o!==null);m===null?f=m=i:m=m.next=i}else f=m=i;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=i:n.next=i,o.lastBaseUpdate=i}var If=!1;function jl(){if(If){var n=Jr;if(n!==null)throw n}}function Dl(n,i,o,c){If=!1;var f=n.updateQueue;ia=!1;var m=f.firstBaseUpdate,C=f.lastBaseUpdate,M=f.shared.pending;if(M!==null){f.shared.pending=null;var F=M,se=F.next;F.next=null,C===null?m=se:C.next=se,C=F;var me=n.alternate;me!==null&&(me=me.updateQueue,M=me.lastBaseUpdate,M!==C&&(M===null?me.firstBaseUpdate=se:M.next=se,me.lastBaseUpdate=F))}if(m!==null){var Te=f.baseState;C=0,me=se=F=null,M=m;do{var re=M.lane&-536870913,ce=re!==M.lane;if(ce?(Ct&re)===re:(c&re)===re){re!==0&&re===Zr&&(If=!0),me!==null&&(me=me.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var Ye=n,at=M;re=i;var Vt=o;switch(at.tag){case 1:if(Ye=at.payload,typeof Ye=="function"){Te=Ye.call(Vt,Te,re);break e}Te=Ye;break e;case 3:Ye.flags=Ye.flags&-65537|128;case 0:if(Ye=at.payload,re=typeof Ye=="function"?Ye.call(Vt,Te,re):Ye,re==null)break e;Te=b({},Te,re);break e;case 2:ia=!0}}re=M.callback,re!==null&&(n.flags|=64,ce&&(n.flags|=8192),ce=f.callbacks,ce===null?f.callbacks=[re]:ce.push(re))}else ce={lane:re,tag:M.tag,payload:M.payload,callback:M.callback,next:null},me===null?(se=me=ce,F=Te):me=me.next=ce,C|=re;if(M=M.next,M===null){if(M=f.shared.pending,M===null)break;ce=M,M=ce.next,ce.next=null,f.lastBaseUpdate=ce,f.shared.pending=null}}while(!0);me===null&&(F=Te),f.baseState=F,f.firstBaseUpdate=se,f.lastBaseUpdate=me,m===null&&(f.shared.lanes=0),da|=C,n.lanes=C,n.memoizedState=Te}}function B0(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function V0(n,i){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)B0(o[n],i)}var no=we(null),Au=we(0);function z0(n,i){n=_i,J(Au,n),J(no,i),_i=n|i.baseLanes}function Wf(){J(Au,_i),J(no,no.current)}function Nf(){_i=Au.current,Q(no),Q(Au)}var gs=we(null),Rs=null;function oa(n){var i=n.alternate;J(gn,gn.current&1),J(gs,n),Rs===null&&(i===null||no.current!==null||i.memoizedState!==null)&&(Rs=n)}function Lf(n){J(gn,gn.current),J(gs,n),Rs===null&&(Rs=n)}function F0(n){n.tag===22?(J(gn,gn.current),J(gs,n),Rs===null&&(Rs=n)):la()}function la(){J(gn,gn.current),J(gs,gs.current)}function ys(n){Q(gs),Rs===n&&(Rs=null),Q(gn)}var gn=we(0);function Pu(n){for(var i=n;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Up(o)||qp(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ji=0,yt=null,Lt=null,kn=null,Ou=!1,so=!1,tr=!1,Ru=0,El=0,io=null,cA=0;function un(){throw Error(a(321))}function Bf(n,i){if(i===null)return!1;for(var o=0;o<i.length&&o<n.length;o++)if(!ps(n[o],i[o]))return!1;return!0}function Vf(n,i,o,c,f,m){return ji=m,yt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,z.H=n===null||n.memoizedState===null?kb:tp,tr=!1,m=o(c,f),tr=!1,so&&(m=U0(i,o,c,f)),H0(n),m}function H0(n){z.H=Pl;var i=Lt!==null&&Lt.next!==null;if(ji=0,kn=Lt=yt=null,Ou=!1,El=0,io=null,i)throw Error(a(300));n===null||jn||(n=n.dependencies,n!==null&&Cu(n)&&(jn=!0))}function U0(n,i,o,c){yt=n;var f=0;do{if(so&&(io=null),El=0,so=!1,25<=f)throw Error(a(301));if(f+=1,kn=Lt=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}z.H=jb,m=i(o,c)}while(so);return m}function uA(){var n=z.H,i=n.useState()[0];return i=typeof i.then=="function"?Ml(i):i,n=n.useState()[0],(Lt!==null?Lt.memoizedState:null)!==n&&(yt.flags|=1024),i}function zf(){var n=Ru!==0;return Ru=0,n}function Ff(n,i,o){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~o}function Hf(n){if(Ou){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ou=!1}ji=0,kn=Lt=yt=null,so=!1,El=Ru=0,io=null}function Xn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?yt.memoizedState=kn=n:kn=kn.next=n,kn}function yn(){if(Lt===null){var n=yt.alternate;n=n!==null?n.memoizedState:null}else n=Lt.next;var i=kn===null?yt.memoizedState:kn.next;if(i!==null)kn=i,Lt=n;else{if(n===null)throw yt.alternate===null?Error(a(467)):Error(a(310));Lt=n,n={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},kn===null?yt.memoizedState=kn=n:kn=kn.next=n}return kn}function _u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ml(n){var i=El;return El+=1,io===null&&(io=[]),n=_0(io,n,i),i=yt,(kn===null?i.memoizedState:kn.next)===null&&(i=i.alternate,z.H=i===null||i.memoizedState===null?kb:tp),n}function Iu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ml(n);if(n.$$typeof===A)return Bn(n)}throw Error(a(438,String(n)))}function Uf(n){var i=null,o=yt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=yt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=_u(),yt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(n),c=0;c<n;c++)o[c]=H;return i.index++,o}function Di(n,i){return typeof i=="function"?i(n):i}function Wu(n){var i=yn();return qf(i,Lt,n)}function qf(n,i,o){var c=n.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=o;var f=n.baseQueue,m=c.pending;if(m!==null){if(f!==null){var C=f.next;f.next=m.next,m.next=C}i.baseQueue=f=m,c.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{i=f.next;var M=C=null,F=null,se=i,me=!1;do{var Te=se.lane&-536870913;if(Te!==se.lane?(Ct&Te)===Te:(ji&Te)===Te){var re=se.revertLane;if(re===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),Te===Zr&&(me=!0);else if((ji&re)===re){se=se.next,re===Zr&&(me=!0);continue}else Te={lane:0,revertLane:se.revertLane,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},F===null?(M=F=Te,C=m):F=F.next=Te,yt.lanes|=re,da|=re;Te=se.action,tr&&o(m,Te),m=se.hasEagerState?se.eagerState:o(m,Te)}else re={lane:Te,revertLane:se.revertLane,gesture:se.gesture,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},F===null?(M=F=re,C=m):F=F.next=re,yt.lanes|=Te,da|=Te;se=se.next}while(se!==null&&se!==i);if(F===null?C=m:F.next=M,!ps(m,n.memoizedState)&&(jn=!0,me&&(o=Jr,o!==null)))throw o;n.memoizedState=m,n.baseState=C,n.baseQueue=F,c.lastRenderedState=m}return f===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function Yf(n){var i=yn(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=n;var c=o.dispatch,f=o.pending,m=i.memoizedState;if(f!==null){o.pending=null;var C=f=f.next;do m=n(m,C.action),C=C.next;while(C!==f);ps(m,i.memoizedState)||(jn=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),o.lastRenderedState=m}return[m,c]}function q0(n,i,o){var c=yt,f=yn(),m=kt;if(m){if(o===void 0)throw Error(a(407));o=o()}else o=i();var C=!ps((Lt||f).memoizedState,o);if(C&&(f.memoizedState=o,jn=!0),f=f.queue,Kf($0.bind(null,c,f,n),[n]),f.getSnapshot!==i||C||kn!==null&&kn.memoizedState.tag&1){if(c.flags|=2048,ao(9,{destroy:void 0},G0.bind(null,c,f,o,i),null),Ft===null)throw Error(a(349));m||(ji&127)!==0||Y0(c,i,o)}return o}function Y0(n,i,o){n.flags|=16384,n={getSnapshot:i,value:o},i=yt.updateQueue,i===null?(i=_u(),yt.updateQueue=i,i.stores=[n]):(o=i.stores,o===null?i.stores=[n]:o.push(n))}function G0(n,i,o,c){i.value=o,i.getSnapshot=c,K0(i)&&Q0(n)}function $0(n,i,o){return o(function(){K0(i)&&Q0(n)})}function K0(n){var i=n.getSnapshot;n=n.value;try{var o=i();return!ps(n,o)}catch{return!0}}function Q0(n){var i=Ya(n,2);i!==null&&ls(i,n,2)}function Gf(n){var i=Xn();if(typeof n=="function"){var o=n;if(n=o(),tr){Fe(!0);try{o()}finally{Fe(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:n},i}function X0(n,i,o,c){return n.baseState=o,qf(n,Lt,typeof c=="function"?c:Di)}function dA(n,i,o,c,f){if(Bu(n))throw Error(a(485));if(n=i.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){m.listeners.push(C)}};z.T!==null?o(!0):m.isTransition=!1,c(m),o=i.pending,o===null?(m.next=i.pending=m,Z0(i,m)):(m.next=o.next,i.pending=o.next=m)}}function Z0(n,i){var o=i.action,c=i.payload,f=n.state;if(i.isTransition){var m=z.T,C={};z.T=C;try{var M=o(f,c),F=z.S;F!==null&&F(C,M),J0(n,i,M)}catch(se){$f(n,i,se)}finally{m!==null&&C.types!==null&&(m.types=C.types),z.T=m}}else try{m=o(f,c),J0(n,i,m)}catch(se){$f(n,i,se)}}function J0(n,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){eb(n,i,c)},function(c){return $f(n,i,c)}):eb(n,i,o)}function eb(n,i,o){i.status="fulfilled",i.value=o,tb(i),n.state=o,i=n.pending,i!==null&&(o=i.next,o===i?n.pending=null:(o=o.next,i.next=o,Z0(n,o)))}function $f(n,i,o){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,tb(i),i=i.next;while(i!==c)}n.action=null}function tb(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function nb(n,i){return i}function sb(n,i){if(kt){var o=Ft.formState;if(o!==null){e:{var c=yt;if(kt){if(Kt){t:{for(var f=Kt,m=Os;f.nodeType!==8;){if(!m){f=null;break t}if(f=_s(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Kt=_s(f.nextSibling),c=f.data==="F!";break e}}na(c)}c=!1}c&&(i=o[0])}}return o=Xn(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nb,lastRenderedState:i},o.queue=c,o=wb.bind(null,yt,c),c.dispatch=o,c=Gf(!1),m=ep.bind(null,yt,!1,c.queue),c=Xn(),f={state:i,dispatch:null,action:n,pending:null},c.queue=f,o=dA.bind(null,yt,f,m,o),f.dispatch=o,c.memoizedState=n,[i,o,!1]}function ib(n){var i=yn();return ab(i,Lt,n)}function ab(n,i,o){if(i=qf(n,i,nb)[0],n=Wu(Di)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Ml(i)}catch(C){throw C===eo?ju:C}else c=i;i=yn();var f=i.queue,m=f.dispatch;return o!==i.memoizedState&&(yt.flags|=2048,ao(9,{destroy:void 0},hA.bind(null,f,o),null)),[c,m,n]}function hA(n,i){n.action=i}function rb(n){var i=yn(),o=Lt;if(o!==null)return ab(i,o,n);yn(),i=i.memoizedState,o=yn();var c=o.queue.dispatch;return o.memoizedState=n,[i,c,!1]}function ao(n,i,o,c){return n={tag:n,create:o,deps:c,inst:i,next:null},i=yt.updateQueue,i===null&&(i=_u(),yt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=n.next=n:(c=o.next,o.next=n,n.next=c,i.lastEffect=n),n}function ob(){return yn().memoizedState}function Nu(n,i,o,c){var f=Xn();yt.flags|=n,f.memoizedState=ao(1|i,{destroy:void 0},o,c===void 0?null:c)}function Lu(n,i,o,c){var f=yn();c=c===void 0?null:c;var m=f.memoizedState.inst;Lt!==null&&c!==null&&Bf(c,Lt.memoizedState.deps)?f.memoizedState=ao(i,m,o,c):(yt.flags|=n,f.memoizedState=ao(1|i,m,o,c))}function lb(n,i){Nu(8390656,8,n,i)}function Kf(n,i){Lu(2048,8,n,i)}function fA(n){yt.flags|=4;var i=yt.updateQueue;if(i===null)i=_u(),yt.updateQueue=i,i.events=[n];else{var o=i.events;o===null?i.events=[n]:o.push(n)}}function cb(n){var i=yn().memoizedState;return fA({ref:i,nextImpl:n}),function(){if((Pt&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function ub(n,i){return Lu(4,2,n,i)}function db(n,i){return Lu(4,4,n,i)}function hb(n,i){if(typeof i=="function"){n=n();var o=i(n);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function fb(n,i,o){o=o!=null?o.concat([n]):null,Lu(4,4,hb.bind(null,i,n),o)}function Qf(){}function pb(n,i){var o=yn();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&Bf(i,c[1])?c[0]:(o.memoizedState=[n,i],n)}function mb(n,i){var o=yn();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&Bf(i,c[1]))return c[0];if(c=n(),tr){Fe(!0);try{n()}finally{Fe(!1)}}return o.memoizedState=[c,i],c}function Xf(n,i,o){return o===void 0||(ji&1073741824)!==0&&(Ct&261930)===0?n.memoizedState=i:(n.memoizedState=o,n=gv(),yt.lanes|=n,da|=n,o)}function gb(n,i,o,c){return ps(o,i)?o:no.current!==null?(n=Xf(n,o,c),ps(n,i)||(jn=!0),n):(ji&42)===0||(ji&1073741824)!==0&&(Ct&261930)===0?(jn=!0,n.memoizedState=o):(n=gv(),yt.lanes|=n,da|=n,i)}function yb(n,i,o,c,f){var m=U.p;U.p=m!==0&&8>m?m:8;var C=z.T,M={};z.T=M,ep(n,!1,i,o);try{var F=f(),se=z.S;if(se!==null&&se(M,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var me=lA(F,c);Al(n,i,me,vs(n))}else Al(n,i,c,vs(n))}catch(Te){Al(n,i,{then:function(){},status:"rejected",reason:Te},vs())}finally{U.p=m,C!==null&&M.types!==null&&(C.types=M.types),z.T=C}}function pA(){}function Zf(n,i,o,c){if(n.tag!==5)throw Error(a(476));var f=xb(n).queue;yb(n,f,i,ue,o===null?pA:function(){return bb(n),o(c)})}function xb(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:ue},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:o},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function bb(n){var i=xb(n);i.next===null&&(i=n.alternate.memoizedState),Al(n,i.next.queue,{},vs())}function Jf(){return Bn(Gl)}function vb(){return yn().memoizedState}function Sb(){return yn().memoizedState}function mA(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var o=vs();n=aa(o);var c=ra(i,n,o);c!==null&&(ls(c,i,o),kl(c,i,o)),i={cache:Ef()},n.payload=i;return}i=i.return}}function gA(n,i,o){var c=vs();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Bu(n)?Cb(i,o):(o=yf(n,i,o,c),o!==null&&(ls(o,n,c),Tb(o,i,c)))}function wb(n,i,o){var c=vs();Al(n,i,o,c)}function Al(n,i,o,c){var f={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Bu(n))Cb(i,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var C=i.lastRenderedState,M=m(C,o);if(f.hasEagerState=!0,f.eagerState=M,ps(M,C))return bu(n,i,f,0),Ft===null&&xu(),!1}catch{}finally{}if(o=yf(n,i,f,c),o!==null)return ls(o,n,c),Tb(o,i,c),!0}return!1}function ep(n,i,o,c){if(c={lane:2,revertLane:Op(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Bu(n)){if(i)throw Error(a(479))}else i=yf(n,o,c,2),i!==null&&ls(i,n,2)}function Bu(n){var i=n.alternate;return n===yt||i!==null&&i===yt}function Cb(n,i){so=Ou=!0;var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}function Tb(n,i,o){if((o&4194048)!==0){var c=i.lanes;c&=n.pendingLanes,o|=c,i.lanes=o,ru(n,o)}}var Pl={readContext:Bn,use:Iu,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useLayoutEffect:un,useInsertionEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useSyncExternalStore:un,useId:un,useHostTransitionStatus:un,useFormState:un,useActionState:un,useOptimistic:un,useMemoCache:un,useCacheRefresh:un};Pl.useEffectEvent=un;var kb={readContext:Bn,use:Iu,useCallback:function(n,i){return Xn().memoizedState=[n,i===void 0?null:i],n},useContext:Bn,useEffect:lb,useImperativeHandle:function(n,i,o){o=o!=null?o.concat([n]):null,Nu(4194308,4,hb.bind(null,i,n),o)},useLayoutEffect:function(n,i){return Nu(4194308,4,n,i)},useInsertionEffect:function(n,i){Nu(4,2,n,i)},useMemo:function(n,i){var o=Xn();i=i===void 0?null:i;var c=n();if(tr){Fe(!0);try{n()}finally{Fe(!1)}}return o.memoizedState=[c,i],c},useReducer:function(n,i,o){var c=Xn();if(o!==void 0){var f=o(i);if(tr){Fe(!0);try{o(i)}finally{Fe(!1)}}}else f=i;return c.memoizedState=c.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},c.queue=n,n=n.dispatch=gA.bind(null,yt,n),[c.memoizedState,n]},useRef:function(n){var i=Xn();return n={current:n},i.memoizedState=n},useState:function(n){n=Gf(n);var i=n.queue,o=wb.bind(null,yt,i);return i.dispatch=o,[n.memoizedState,o]},useDebugValue:Qf,useDeferredValue:function(n,i){var o=Xn();return Xf(o,n,i)},useTransition:function(){var n=Gf(!1);return n=yb.bind(null,yt,n.queue,!0,!1),Xn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,o){var c=yt,f=Xn();if(kt){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),Ft===null)throw Error(a(349));(Ct&127)!==0||Y0(c,i,o)}f.memoizedState=o;var m={value:o,getSnapshot:i};return f.queue=m,lb($0.bind(null,c,m,n),[n]),c.flags|=2048,ao(9,{destroy:void 0},G0.bind(null,c,m,o,i),null),o},useId:function(){var n=Xn(),i=Ft.identifierPrefix;if(kt){var o=ai,c=ii;o=(c&~(1<<32-rt(c)-1)).toString(32)+o,i="_"+i+"R_"+o,o=Ru++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=cA++,i="_"+i+"r_"+o.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:Jf,useFormState:sb,useActionState:sb,useOptimistic:function(n){var i=Xn();i.memoizedState=i.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=ep.bind(null,yt,!0,o),o.dispatch=i,[n,i]},useMemoCache:Uf,useCacheRefresh:function(){return Xn().memoizedState=mA.bind(null,yt)},useEffectEvent:function(n){var i=Xn(),o={impl:n};return i.memoizedState=o,function(){if((Pt&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},tp={readContext:Bn,use:Iu,useCallback:pb,useContext:Bn,useEffect:Kf,useImperativeHandle:fb,useInsertionEffect:ub,useLayoutEffect:db,useMemo:mb,useReducer:Wu,useRef:ob,useState:function(){return Wu(Di)},useDebugValue:Qf,useDeferredValue:function(n,i){var o=yn();return gb(o,Lt.memoizedState,n,i)},useTransition:function(){var n=Wu(Di)[0],i=yn().memoizedState;return[typeof n=="boolean"?n:Ml(n),i]},useSyncExternalStore:q0,useId:vb,useHostTransitionStatus:Jf,useFormState:ib,useActionState:ib,useOptimistic:function(n,i){var o=yn();return X0(o,Lt,n,i)},useMemoCache:Uf,useCacheRefresh:Sb};tp.useEffectEvent=cb;var jb={readContext:Bn,use:Iu,useCallback:pb,useContext:Bn,useEffect:Kf,useImperativeHandle:fb,useInsertionEffect:ub,useLayoutEffect:db,useMemo:mb,useReducer:Yf,useRef:ob,useState:function(){return Yf(Di)},useDebugValue:Qf,useDeferredValue:function(n,i){var o=yn();return Lt===null?Xf(o,n,i):gb(o,Lt.memoizedState,n,i)},useTransition:function(){var n=Yf(Di)[0],i=yn().memoizedState;return[typeof n=="boolean"?n:Ml(n),i]},useSyncExternalStore:q0,useId:vb,useHostTransitionStatus:Jf,useFormState:rb,useActionState:rb,useOptimistic:function(n,i){var o=yn();return Lt!==null?X0(o,Lt,n,i):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Uf,useCacheRefresh:Sb};jb.useEffectEvent=cb;function np(n,i,o,c){i=n.memoizedState,o=o(c,i),o=o==null?i:b({},i,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var sp={enqueueSetState:function(n,i,o){n=n._reactInternals;var c=vs(),f=aa(c);f.payload=i,o!=null&&(f.callback=o),i=ra(n,f,c),i!==null&&(ls(i,n,c),kl(i,n,c))},enqueueReplaceState:function(n,i,o){n=n._reactInternals;var c=vs(),f=aa(c);f.tag=1,f.payload=i,o!=null&&(f.callback=o),i=ra(n,f,c),i!==null&&(ls(i,n,c),kl(i,n,c))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var o=vs(),c=aa(o);c.tag=2,i!=null&&(c.callback=i),i=ra(n,c,o),i!==null&&(ls(i,n,o),kl(i,n,o))}};function Db(n,i,o,c,f,m,C){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,C):i.prototype&&i.prototype.isPureReactComponent?!yl(o,c)||!yl(f,m):!0}function Eb(n,i,o,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==n&&sp.enqueueReplaceState(i,i.state,null)}function nr(n,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(n=n.defaultProps){o===i&&(o=b({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}function Mb(n){yu(n)}function Ab(n){console.error(n)}function Pb(n){yu(n)}function Vu(n,i){try{var o=n.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function Ob(n,i,o){try{var c=n.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function ip(n,i,o){return o=aa(o),o.tag=3,o.payload={element:null},o.callback=function(){Vu(n,i)},o}function Rb(n){return n=aa(n),n.tag=3,n}function _b(n,i,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=c.value;n.payload=function(){return f(m)},n.callback=function(){Ob(i,o,c)}}var C=o.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(n.callback=function(){Ob(i,o,c),typeof f!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var M=c.stack;this.componentDidCatch(c.value,{componentStack:M!==null?M:""})})}function yA(n,i,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&Xr(i,o,f,!0),o=gs.current,o!==null){switch(o.tag){case 31:case 13:return Rs===null?Zu():o.alternate===null&&dn===0&&(dn=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===Du?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),Mp(n,c,f)),!1;case 22:return o.flags|=65536,c===Du?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),Mp(n,c,f)),!1}throw Error(a(435,o.tag))}return Mp(n,c,f),Zu(),!1}if(kt)return i=gs.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,c!==Cf&&(n=Error(a(422),{cause:c}),vl(Ms(n,o)))):(c!==Cf&&(i=Error(a(423),{cause:c}),vl(Ms(i,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,c=Ms(c,o),f=ip(n.stateNode,c,f),_f(n,f),dn!==4&&(dn=2)),!1;var m=Error(a(520),{cause:c});if(m=Ms(m,o),Bl===null?Bl=[m]:Bl.push(m),dn!==4&&(dn=2),i===null)return!0;c=Ms(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=ip(o.stateNode,c,n),_f(o,n),!1;case 1:if(i=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ha===null||!ha.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Rb(f),_b(f,n,o,c),_f(o,f),!1}o=o.return}while(o!==null);return!1}var ap=Error(a(461)),jn=!1;function Vn(n,i,o,c){i.child=n===null?L0(i,null,o,c):er(i,n.child,o,c)}function Ib(n,i,o,c,f){o=o.render;var m=i.ref;if("ref"in c){var C={};for(var M in c)M!=="ref"&&(C[M]=c[M])}else C=c;return Qa(i),c=Vf(n,i,o,C,m,f),M=zf(),n!==null&&!jn?(Ff(n,i,f),Ei(n,i,f)):(kt&&M&&Sf(i),i.flags|=1,Vn(n,i,c,f),i.child)}function Wb(n,i,o,c,f){if(n===null){var m=o.type;return typeof m=="function"&&!xf(m)&&m.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=m,Nb(n,i,m,c,f)):(n=Su(o.type,null,c,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!fp(n,f)){var C=m.memoizedProps;if(o=o.compare,o=o!==null?o:yl,o(C,c)&&n.ref===i.ref)return Ei(n,i,f)}return i.flags|=1,n=wi(m,c),n.ref=i.ref,n.return=i,i.child=n}function Nb(n,i,o,c,f){if(n!==null){var m=n.memoizedProps;if(yl(m,c)&&n.ref===i.ref)if(jn=!1,i.pendingProps=c=m,fp(n,f))(n.flags&131072)!==0&&(jn=!0);else return i.lanes=n.lanes,Ei(n,i,f)}return rp(n,i,o,c,f)}function Lb(n,i,o,c){var f=c.children,m=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,n!==null){for(c=i.child=n.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~m}else c=0,i.child=null;return Bb(n,i,m,o,c)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&ku(i,m!==null?m.cachePool:null),m!==null?z0(i,m):Wf(),F0(i);else return c=i.lanes=536870912,Bb(n,i,m!==null?m.baseLanes|o:o,o,c)}else m!==null?(ku(i,m.cachePool),z0(i,m),la(),i.memoizedState=null):(n!==null&&ku(i,null),Wf(),la());return Vn(n,i,f,o),i.child}function Ol(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Bb(n,i,o,c,f){var m=Af();return m=m===null?null:{parent:Tn._currentValue,pool:m},i.memoizedState={baseLanes:o,cachePool:m},n!==null&&ku(i,null),Wf(),F0(i),n!==null&&Xr(n,i,c,!0),i.childLanes=f,null}function zu(n,i){return i=Hu({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function Vb(n,i,o){return er(i,n.child,null,o),n=zu(i,i.pendingProps),n.flags|=2,ys(i),i.memoizedState=null,n}function xA(n,i,o){var c=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(kt){if(c.mode==="hidden")return n=zu(i,c),i.lanes=536870912,Ol(null,n);if(Lf(i),(n=Kt)?(n=Zv(n,Os),n=n!==null&&n.data==="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:ea!==null?{id:ii,overflow:ai}:null,retryLane:536870912,hydrationErrors:null},o=C0(n),o.return=i,i.child=o,Ln=i,Kt=null)):n=null,n===null)throw na(i);return i.lanes=536870912,null}return zu(i,c)}var m=n.memoizedState;if(m!==null){var C=m.dehydrated;if(Lf(i),f)if(i.flags&256)i.flags&=-257,i=Vb(n,i,o);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(a(558));else if(jn||Xr(n,i,o,!1),f=(o&n.childLanes)!==0,jn||f){if(c=Ft,c!==null&&(C=_r(c,o),C!==0&&C!==m.retryLane))throw m.retryLane=C,Ya(n,C),ls(c,n,C),ap;Zu(),i=Vb(n,i,o)}else n=m.treeContext,Kt=_s(C.nextSibling),Ln=i,kt=!0,ta=null,Os=!1,n!==null&&j0(i,n),i=zu(i,c),i.flags|=4096;return i}return n=wi(n.child,{mode:c.mode,children:c.children}),n.ref=i.ref,i.child=n,n.return=i,n}function Fu(n,i){var o=i.ref;if(o===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(n===null||n.ref!==o)&&(i.flags|=4194816)}}function rp(n,i,o,c,f){return Qa(i),o=Vf(n,i,o,c,void 0,f),c=zf(),n!==null&&!jn?(Ff(n,i,f),Ei(n,i,f)):(kt&&c&&Sf(i),i.flags|=1,Vn(n,i,o,f),i.child)}function zb(n,i,o,c,f,m){return Qa(i),i.updateQueue=null,o=U0(i,c,o,f),H0(n),c=zf(),n!==null&&!jn?(Ff(n,i,m),Ei(n,i,m)):(kt&&c&&Sf(i),i.flags|=1,Vn(n,i,o,m),i.child)}function Fb(n,i,o,c,f){if(Qa(i),i.stateNode===null){var m=Gr,C=o.contextType;typeof C=="object"&&C!==null&&(m=Bn(C)),m=new o(c,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=sp,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=c,m.state=i.memoizedState,m.refs={},Of(i),C=o.contextType,m.context=typeof C=="object"&&C!==null?Bn(C):Gr,m.state=i.memoizedState,C=o.getDerivedStateFromProps,typeof C=="function"&&(np(i,o,C,c),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(C=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),C!==m.state&&sp.enqueueReplaceState(m,m.state,null),Dl(i,c,m,f),jl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(n===null){m=i.stateNode;var M=i.memoizedProps,F=nr(o,M);m.props=F;var se=m.context,me=o.contextType;C=Gr,typeof me=="object"&&me!==null&&(C=Bn(me));var Te=o.getDerivedStateFromProps;me=typeof Te=="function"||typeof m.getSnapshotBeforeUpdate=="function",M=i.pendingProps!==M,me||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(M||se!==C)&&Eb(i,m,c,C),ia=!1;var re=i.memoizedState;m.state=re,Dl(i,c,m,f),jl(),se=i.memoizedState,M||re!==se||ia?(typeof Te=="function"&&(np(i,o,Te,c),se=i.memoizedState),(F=ia||Db(i,o,F,c,re,se,C))?(me||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=se),m.props=c,m.state=se,m.context=C,c=F):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{m=i.stateNode,Rf(n,i),C=i.memoizedProps,me=nr(o,C),m.props=me,Te=i.pendingProps,re=m.context,se=o.contextType,F=Gr,typeof se=="object"&&se!==null&&(F=Bn(se)),M=o.getDerivedStateFromProps,(se=typeof M=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(C!==Te||re!==F)&&Eb(i,m,c,F),ia=!1,re=i.memoizedState,m.state=re,Dl(i,c,m,f),jl();var ce=i.memoizedState;C!==Te||re!==ce||ia||n!==null&&n.dependencies!==null&&Cu(n.dependencies)?(typeof M=="function"&&(np(i,o,M,c),ce=i.memoizedState),(me=ia||Db(i,o,me,c,re,ce,F)||n!==null&&n.dependencies!==null&&Cu(n.dependencies))?(se||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,ce,F),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,ce,F)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||C===n.memoizedProps&&re===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&re===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ce),m.props=c,m.state=ce,m.context=F,c=me):(typeof m.componentDidUpdate!="function"||C===n.memoizedProps&&re===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&re===n.memoizedState||(i.flags|=1024),c=!1)}return m=c,Fu(n,i),c=(i.flags&128)!==0,m||c?(m=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&c?(i.child=er(i,n.child,null,f),i.child=er(i,null,o,f)):Vn(n,i,o,f),i.memoizedState=m.state,n=i.child):n=Ei(n,i,f),n}function Hb(n,i,o,c){return $a(),i.flags|=256,Vn(n,i,o,c),i.child}var op={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lp(n){return{baseLanes:n,cachePool:O0()}}function cp(n,i,o){return n=n!==null?n.childLanes&~o:0,i&&(n|=bs),n}function Ub(n,i,o){var c=i.pendingProps,f=!1,m=(i.flags&128)!==0,C;if((C=m)||(C=n!==null&&n.memoizedState===null?!1:(gn.current&2)!==0),C&&(f=!0,i.flags&=-129),C=(i.flags&32)!==0,i.flags&=-33,n===null){if(kt){if(f?oa(i):la(),(n=Kt)?(n=Zv(n,Os),n=n!==null&&n.data!=="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:ea!==null?{id:ii,overflow:ai}:null,retryLane:536870912,hydrationErrors:null},o=C0(n),o.return=i,i.child=o,Ln=i,Kt=null)):n=null,n===null)throw na(i);return qp(n)?i.lanes=32:i.lanes=536870912,null}var M=c.children;return c=c.fallback,f?(la(),f=i.mode,M=Hu({mode:"hidden",children:M},f),c=Ga(c,f,o,null),M.return=i,c.return=i,M.sibling=c,i.child=M,c=i.child,c.memoizedState=lp(o),c.childLanes=cp(n,C,o),i.memoizedState=op,Ol(null,c)):(oa(i),up(i,M))}var F=n.memoizedState;if(F!==null&&(M=F.dehydrated,M!==null)){if(m)i.flags&256?(oa(i),i.flags&=-257,i=dp(n,i,o)):i.memoizedState!==null?(la(),i.child=n.child,i.flags|=128,i=null):(la(),M=c.fallback,f=i.mode,c=Hu({mode:"visible",children:c.children},f),M=Ga(M,f,o,null),M.flags|=2,c.return=i,M.return=i,c.sibling=M,i.child=c,er(i,n.child,null,o),c=i.child,c.memoizedState=lp(o),c.childLanes=cp(n,C,o),i.memoizedState=op,i=Ol(null,c));else if(oa(i),qp(M)){if(C=M.nextSibling&&M.nextSibling.dataset,C)var se=C.dgst;C=se,c=Error(a(419)),c.stack="",c.digest=C,vl({value:c,source:null,stack:null}),i=dp(n,i,o)}else if(jn||Xr(n,i,o,!1),C=(o&n.childLanes)!==0,jn||C){if(C=Ft,C!==null&&(c=_r(C,o),c!==0&&c!==F.retryLane))throw F.retryLane=c,Ya(n,c),ls(C,n,c),ap;Up(M)||Zu(),i=dp(n,i,o)}else Up(M)?(i.flags|=192,i.child=n.child,i=null):(n=F.treeContext,Kt=_s(M.nextSibling),Ln=i,kt=!0,ta=null,Os=!1,n!==null&&j0(i,n),i=up(i,c.children),i.flags|=4096);return i}return f?(la(),M=c.fallback,f=i.mode,F=n.child,se=F.sibling,c=wi(F,{mode:"hidden",children:c.children}),c.subtreeFlags=F.subtreeFlags&65011712,se!==null?M=wi(se,M):(M=Ga(M,f,o,null),M.flags|=2),M.return=i,c.return=i,c.sibling=M,i.child=c,Ol(null,c),c=i.child,M=n.child.memoizedState,M===null?M=lp(o):(f=M.cachePool,f!==null?(F=Tn._currentValue,f=f.parent!==F?{parent:F,pool:F}:f):f=O0(),M={baseLanes:M.baseLanes|o,cachePool:f}),c.memoizedState=M,c.childLanes=cp(n,C,o),i.memoizedState=op,Ol(n.child,c)):(oa(i),o=n.child,n=o.sibling,o=wi(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,n!==null&&(C=i.deletions,C===null?(i.deletions=[n],i.flags|=16):C.push(n)),i.child=o,i.memoizedState=null,o)}function up(n,i){return i=Hu({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Hu(n,i){return n=ms(22,n,null,i),n.lanes=0,n}function dp(n,i,o){return er(i,n.child,null,o),n=up(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function qb(n,i,o){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),jf(n.return,i,o)}function hp(n,i,o,c,f,m){var C=n.memoizedState;C===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f,treeForkCount:m}:(C.isBackwards=i,C.rendering=null,C.renderingStartTime=0,C.last=c,C.tail=o,C.tailMode=f,C.treeForkCount=m)}function Yb(n,i,o){var c=i.pendingProps,f=c.revealOrder,m=c.tail;c=c.children;var C=gn.current,M=(C&2)!==0;if(M?(C=C&1|2,i.flags|=128):C&=1,J(gn,C),Vn(n,i,c,o),c=kt?bl:0,!M&&n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&qb(n,o,i);else if(n.tag===19)qb(n,o,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(o=i.child,f=null;o!==null;)n=o.alternate,n!==null&&Pu(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=i.child,i.child=null):(f=o.sibling,o.sibling=null),hp(i,!1,f,o,m,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Pu(n)===null){i.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}hp(i,!0,o,null,m,c);break;case"together":hp(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function Ei(n,i,o){if(n!==null&&(i.dependencies=n.dependencies),da|=i.lanes,(o&i.childLanes)===0)if(n!==null){if(Xr(n,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,o=wi(n,n.pendingProps),i.child=o,o.return=i;n.sibling!==null;)n=n.sibling,o=o.sibling=wi(n,n.pendingProps),o.return=i;o.sibling=null}return i.child}function fp(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Cu(n)))}function bA(n,i,o){switch(i.tag){case 3:Y(i,i.stateNode.containerInfo),sa(i,Tn,n.memoizedState.cache),$a();break;case 27:case 5:$(i);break;case 4:Y(i,i.stateNode.containerInfo);break;case 10:sa(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Lf(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(oa(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Ub(n,i,o):(oa(i),n=Ei(n,i,o),n!==null?n.sibling:null);oa(i);break;case 19:var f=(n.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(Xr(n,i,o,!1),c=(o&i.childLanes)!==0),f){if(c)return Yb(n,i,o);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),J(gn,gn.current),c)break;return null;case 22:return i.lanes=0,Lb(n,i,o,i.pendingProps);case 24:sa(i,Tn,n.memoizedState.cache)}return Ei(n,i,o)}function Gb(n,i,o){if(n!==null)if(n.memoizedProps!==i.pendingProps)jn=!0;else{if(!fp(n,o)&&(i.flags&128)===0)return jn=!1,bA(n,i,o);jn=(n.flags&131072)!==0}else jn=!1,kt&&(i.flags&1048576)!==0&&k0(i,bl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var c=i.pendingProps;if(n=Za(i.elementType),i.type=n,typeof n=="function")xf(n)?(c=nr(n,c),i.tag=1,i=Fb(null,i,n,c,o)):(i.tag=0,i=rp(null,i,n,c,o));else{if(n!=null){var f=n.$$typeof;if(f===W){i.tag=11,i=Ib(null,i,n,c,o);break e}else if(f===_){i.tag=14,i=Wb(null,i,n,c,o);break e}}throw i=q(n)||n,Error(a(306,i,""))}}return i;case 0:return rp(n,i,i.type,i.pendingProps,o);case 1:return c=i.type,f=nr(c,i.pendingProps),Fb(n,i,c,f,o);case 3:e:{if(Y(i,i.stateNode.containerInfo),n===null)throw Error(a(387));c=i.pendingProps;var m=i.memoizedState;f=m.element,Rf(n,i),Dl(i,c,null,o);var C=i.memoizedState;if(c=C.cache,sa(i,Tn,c),c!==m.cache&&Df(i,[Tn],o,!0),jl(),c=C.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:C.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=Hb(n,i,c,o);break e}else if(c!==f){f=Ms(Error(a(424)),i),vl(f),i=Hb(n,i,c,o);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Kt=_s(n.firstChild),Ln=i,kt=!0,ta=null,Os=!0,o=L0(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if($a(),c===f){i=Ei(n,i,o);break e}Vn(n,i,c,o)}i=i.child}return i;case 26:return Fu(n,i),n===null?(o=iS(i.type,null,i.pendingProps,null))?i.memoizedState=o:kt||(o=i.type,n=i.pendingProps,c=ad(ge.current).createElement(o),c[bt]=i,c[rn]=n,zn(c,o,n),Wn(c),i.stateNode=c):i.memoizedState=iS(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return $(i),n===null&&kt&&(c=i.stateNode=tS(i.type,i.pendingProps,ge.current),Ln=i,Os=!0,f=Kt,ga(i.type)?(Yp=f,Kt=_s(c.firstChild)):Kt=f),Vn(n,i,i.pendingProps.children,o),Fu(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&kt&&((f=c=Kt)&&(c=KA(c,i.type,i.pendingProps,Os),c!==null?(i.stateNode=c,Ln=i,Kt=_s(c.firstChild),Os=!1,f=!0):f=!1),f||na(i)),$(i),f=i.type,m=i.pendingProps,C=n!==null?n.memoizedProps:null,c=m.children,zp(f,m)?c=null:C!==null&&zp(f,C)&&(i.flags|=32),i.memoizedState!==null&&(f=Vf(n,i,uA,null,null,o),Gl._currentValue=f),Fu(n,i),Vn(n,i,c,o),i.child;case 6:return n===null&&kt&&((n=o=Kt)&&(o=QA(o,i.pendingProps,Os),o!==null?(i.stateNode=o,Ln=i,Kt=null,n=!0):n=!1),n||na(i)),null;case 13:return Ub(n,i,o);case 4:return Y(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=er(i,null,c,o):Vn(n,i,c,o),i.child;case 11:return Ib(n,i,i.type,i.pendingProps,o);case 7:return Vn(n,i,i.pendingProps,o),i.child;case 8:return Vn(n,i,i.pendingProps.children,o),i.child;case 12:return Vn(n,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,sa(i,i.type,c.value),Vn(n,i,c.children,o),i.child;case 9:return f=i.type._context,c=i.pendingProps.children,Qa(i),f=Bn(f),c=c(f),i.flags|=1,Vn(n,i,c,o),i.child;case 14:return Wb(n,i,i.type,i.pendingProps,o);case 15:return Nb(n,i,i.type,i.pendingProps,o);case 19:return Yb(n,i,o);case 31:return xA(n,i,o);case 22:return Lb(n,i,o,i.pendingProps);case 24:return Qa(i),c=Bn(Tn),n===null?(f=Af(),f===null&&(f=Ft,m=Ef(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),i.memoizedState={parent:c,cache:f},Of(i),sa(i,Tn,f)):((n.lanes&o)!==0&&(Rf(n,i),Dl(i,null,null,o),jl()),f=n.memoizedState,m=i.memoizedState,f.parent!==c?(f={parent:c,cache:c},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),sa(i,Tn,c)):(c=m.cache,sa(i,Tn,c),c!==f.cache&&Df(i,[Tn],o,!0))),Vn(n,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Mi(n){n.flags|=4}function pp(n,i,o,c,f){if((i=(n.mode&32)!==0)&&(i=!1),i){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(vv())n.flags|=8192;else throw Ja=Du,Pf}else n.flags&=-16777217}function $b(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!cS(i))if(vv())n.flags|=8192;else throw Ja=Du,Pf}function Uu(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?an():536870912,n.lanes|=i,co|=i)}function Rl(n,i){if(!kt)switch(n.tailMode){case"hidden":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Qt(n){var i=n.alternate!==null&&n.alternate.child===n.child,o=0,c=0;if(i)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=o,i}function vA(n,i,o){var c=i.pendingProps;switch(wf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(i),null;case 1:return Qt(i),null;case 3:return o=i.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),ki(Tn),oe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Qr(i)?Mi(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Tf())),Qt(i),null;case 26:var f=i.type,m=i.memoizedState;return n===null?(Mi(i),m!==null?(Qt(i),$b(i,m)):(Qt(i),pp(i,f,null,c,o))):m?m!==n.memoizedState?(Mi(i),Qt(i),$b(i,m)):(Qt(i),i.flags&=-16777217):(n=n.memoizedProps,n!==c&&Mi(i),Qt(i),pp(i,f,n,c,o)),null;case 27:if(le(i),o=ge.current,f=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==c&&Mi(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Qt(i),null}n=he.current,Qr(i)?D0(i):(n=tS(f,c,o),i.stateNode=n,Mi(i))}return Qt(i),null;case 5:if(le(i),f=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==c&&Mi(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Qt(i),null}if(m=he.current,Qr(i))D0(i);else{var C=ad(ge.current);switch(m){case 1:m=C.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=C.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=C.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=C.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=C.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?C.createElement("select",{is:c.is}):C.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?C.createElement(f,{is:c.is}):C.createElement(f)}}m[bt]=i,m[rn]=c;e:for(C=i.child;C!==null;){if(C.tag===5||C.tag===6)m.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===i)break e;for(;C.sibling===null;){if(C.return===null||C.return===i)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}i.stateNode=m;e:switch(zn(m,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Mi(i)}}return Qt(i),pp(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,o),null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==c&&Mi(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(a(166));if(n=ge.current,Qr(i)){if(n=i.stateNode,o=i.memoizedProps,c=null,f=Ln,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}n[bt]=i,n=!!(n.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Uv(n.nodeValue,o)),n||na(i,!0)}else n=ad(n).createTextNode(c),n[bt]=i,i.stateNode=n}return Qt(i),null;case 31:if(o=i.memoizedState,n===null||n.memoizedState!==null){if(c=Qr(i),o!==null){if(n===null){if(!c)throw Error(a(318));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(557));n[bt]=i}else $a(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Qt(i),n=!1}else o=Tf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return i.flags&256?(ys(i),i):(ys(i),null);if((i.flags&128)!==0)throw Error(a(558))}return Qt(i),null;case 13:if(c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Qr(i),c!==null&&c.dehydrated!==null){if(n===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[bt]=i}else $a(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Qt(i),f=!1}else f=Tf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(ys(i),i):(ys(i),null)}return ys(i),(i.flags&128)!==0?(i.lanes=o,i):(o=c!==null,n=n!==null&&n.memoizedState!==null,o&&(c=i.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==f&&(c.flags|=2048)),o!==n&&o&&(i.child.flags|=8192),Uu(i,i.updateQueue),Qt(i),null);case 4:return oe(),n===null&&Wp(i.stateNode.containerInfo),Qt(i),null;case 10:return ki(i.type),Qt(i),null;case 19:if(Q(gn),c=i.memoizedState,c===null)return Qt(i),null;if(f=(i.flags&128)!==0,m=c.rendering,m===null)if(f)Rl(c,!1);else{if(dn!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=Pu(n),m!==null){for(i.flags|=128,Rl(c,!1),n=m.updateQueue,i.updateQueue=n,Uu(i,n),i.subtreeFlags=0,n=o,o=i.child;o!==null;)w0(o,n),o=o.sibling;return J(gn,gn.current&1|2),kt&&Ci(i,c.treeForkCount),i.child}n=n.sibling}c.tail!==null&&De()>Ku&&(i.flags|=128,f=!0,Rl(c,!1),i.lanes=4194304)}else{if(!f)if(n=Pu(m),n!==null){if(i.flags|=128,f=!0,n=n.updateQueue,i.updateQueue=n,Uu(i,n),Rl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!kt)return Qt(i),null}else 2*De()-c.renderingStartTime>Ku&&o!==536870912&&(i.flags|=128,f=!0,Rl(c,!1),i.lanes=4194304);c.isBackwards?(m.sibling=i.child,i.child=m):(n=c.last,n!==null?n.sibling=m:i.child=m,c.last=m)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=De(),n.sibling=null,o=gn.current,J(gn,f?o&1|2:o&1),kt&&Ci(i,c.treeForkCount),n):(Qt(i),null);case 22:case 23:return ys(i),Nf(),c=i.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(Qt(i),i.subtreeFlags&6&&(i.flags|=8192)):Qt(i),o=i.updateQueue,o!==null&&Uu(i,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),n!==null&&Q(Xa),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),ki(Tn),Qt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function SA(n,i){switch(wf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return ki(Tn),oe(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return le(i),null;case 31:if(i.memoizedState!==null){if(ys(i),i.alternate===null)throw Error(a(340));$a()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if(ys(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));$a()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Q(gn),null;case 4:return oe(),null;case 10:return ki(i.type),null;case 22:case 23:return ys(i),Nf(),n!==null&&Q(Xa),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return ki(Tn),null;case 25:return null;default:return null}}function Kb(n,i){switch(wf(i),i.tag){case 3:ki(Tn),oe();break;case 26:case 27:case 5:le(i);break;case 4:oe();break;case 31:i.memoizedState!==null&&ys(i);break;case 13:ys(i);break;case 19:Q(gn);break;case 10:ki(i.type);break;case 22:case 23:ys(i),Nf(),n!==null&&Q(Xa);break;case 24:ki(Tn)}}function _l(n,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&n)===n){c=void 0;var m=o.create,C=o.inst;c=m(),C.destroy=c}o=o.next}while(o!==f)}}catch(M){It(i,i.return,M)}}function ca(n,i,o){try{var c=i.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var m=f.next;c=m;do{if((c.tag&n)===n){var C=c.inst,M=C.destroy;if(M!==void 0){C.destroy=void 0,f=i;var F=o,se=M;try{se()}catch(me){It(f,F,me)}}}c=c.next}while(c!==m)}}catch(me){It(i,i.return,me)}}function Qb(n){var i=n.updateQueue;if(i!==null){var o=n.stateNode;try{V0(i,o)}catch(c){It(n,n.return,c)}}}function Xb(n,i,o){o.props=nr(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(c){It(n,i,c)}}function Il(n,i){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof o=="function"?n.refCleanup=o(c):o.current=c}}catch(f){It(n,i,f)}}function ri(n,i){var o=n.ref,c=n.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){It(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){It(n,i,f)}else o.current=null}function Zb(n){var i=n.type,o=n.memoizedProps,c=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){It(n,n.return,f)}}function mp(n,i,o){try{var c=n.stateNode;HA(c,n.type,o,i),c[rn]=i}catch(f){It(n,n.return,f)}}function Jb(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ga(n.type)||n.tag===4}function gp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Jb(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ga(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function yp(n,i,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(n),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=vi));else if(c!==4&&(c===27&&ga(n.type)&&(o=n.stateNode,i=null),n=n.child,n!==null))for(yp(n,i,o),n=n.sibling;n!==null;)yp(n,i,o),n=n.sibling}function qu(n,i,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?o.insertBefore(n,i):o.appendChild(n);else if(c!==4&&(c===27&&ga(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(qu(n,i,o),n=n.sibling;n!==null;)qu(n,i,o),n=n.sibling}function ev(n){var i=n.stateNode,o=n.memoizedProps;try{for(var c=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);zn(i,c,o),i[bt]=n,i[rn]=o}catch(m){It(n,n.return,m)}}var Ai=!1,Dn=!1,xp=!1,tv=typeof WeakSet=="function"?WeakSet:Set,Nn=null;function wA(n,i){if(n=n.containerInfo,Bp=hd,n=f0(n),df(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var C=0,M=-1,F=-1,se=0,me=0,Te=n,re=null;t:for(;;){for(var ce;Te!==o||f!==0&&Te.nodeType!==3||(M=C+f),Te!==m||c!==0&&Te.nodeType!==3||(F=C+c),Te.nodeType===3&&(C+=Te.nodeValue.length),(ce=Te.firstChild)!==null;)re=Te,Te=ce;for(;;){if(Te===n)break t;if(re===o&&++se===f&&(M=C),re===m&&++me===c&&(F=C),(ce=Te.nextSibling)!==null)break;Te=re,re=Te.parentNode}Te=ce}o=M===-1||F===-1?null:{start:M,end:F}}else o=null}o=o||{start:0,end:0}}else o=null;for(Vp={focusedElem:n,selectionRange:o},hd=!1,Nn=i;Nn!==null;)if(i=Nn,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Nn=n;else for(;Nn!==null;){switch(i=Nn,m=i.alternate,n=i.flags,i.tag){case 0:if((n&4)!==0&&(n=i.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)f=n[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,o=i,f=m.memoizedProps,m=m.memoizedState,c=o.stateNode;try{var Ye=nr(o.type,f);n=c.getSnapshotBeforeUpdate(Ye,m),c.__reactInternalSnapshotBeforeUpdate=n}catch(at){It(o,o.return,at)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,o=n.nodeType,o===9)Hp(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Hp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,Nn=n;break}Nn=i.return}}function nv(n,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Oi(n,o),c&4&&_l(5,o);break;case 1:if(Oi(n,o),c&4)if(n=o.stateNode,i===null)try{n.componentDidMount()}catch(C){It(o,o.return,C)}else{var f=nr(o.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(C){It(o,o.return,C)}}c&64&&Qb(o),c&512&&Il(o,o.return);break;case 3:if(Oi(n,o),c&64&&(n=o.updateQueue,n!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{V0(n,i)}catch(C){It(o,o.return,C)}}break;case 27:i===null&&c&4&&ev(o);case 26:case 5:Oi(n,o),i===null&&c&4&&Zb(o),c&512&&Il(o,o.return);break;case 12:Oi(n,o);break;case 31:Oi(n,o),c&4&&av(n,o);break;case 13:Oi(n,o),c&4&&rv(n,o),c&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=PA.bind(null,o),XA(n,o))));break;case 22:if(c=o.memoizedState!==null||Ai,!c){i=i!==null&&i.memoizedState!==null||Dn,f=Ai;var m=Dn;Ai=c,(Dn=i)&&!m?Ri(n,o,(o.subtreeFlags&8772)!==0):Oi(n,o),Ai=f,Dn=m}break;case 30:break;default:Oi(n,o)}}function sv(n){var i=n.alternate;i!==null&&(n.alternate=null,sv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Gh(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var tn=null,is=!1;function Pi(n,i,o){for(o=o.child;o!==null;)iv(n,i,o),o=o.sibling}function iv(n,i,o){if(Oe&&typeof Oe.onCommitFiberUnmount=="function")try{Oe.onCommitFiberUnmount(Ve,o)}catch{}switch(o.tag){case 26:Dn||ri(o,i),Pi(n,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Dn||ri(o,i);var c=tn,f=is;ga(o.type)&&(tn=o.stateNode,is=!1),Pi(n,i,o),Ul(o.stateNode),tn=c,is=f;break;case 5:Dn||ri(o,i);case 6:if(c=tn,f=is,tn=null,Pi(n,i,o),tn=c,is=f,tn!==null)if(is)try{(tn.nodeType===9?tn.body:tn.nodeName==="HTML"?tn.ownerDocument.body:tn).removeChild(o.stateNode)}catch(m){It(o,i,m)}else try{tn.removeChild(o.stateNode)}catch(m){It(o,i,m)}break;case 18:tn!==null&&(is?(n=tn,Qv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),xo(n)):Qv(tn,o.stateNode));break;case 4:c=tn,f=is,tn=o.stateNode.containerInfo,is=!0,Pi(n,i,o),tn=c,is=f;break;case 0:case 11:case 14:case 15:ca(2,o,i),Dn||ca(4,o,i),Pi(n,i,o);break;case 1:Dn||(ri(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Xb(o,i,c)),Pi(n,i,o);break;case 21:Pi(n,i,o);break;case 22:Dn=(c=Dn)||o.memoizedState!==null,Pi(n,i,o),Dn=c;break;default:Pi(n,i,o)}}function av(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{xo(n)}catch(o){It(i,i.return,o)}}}function rv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{xo(n)}catch(o){It(i,i.return,o)}}function CA(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new tv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new tv),i;default:throw Error(a(435,n.tag))}}function Yu(n,i){var o=CA(n);i.forEach(function(c){if(!o.has(c)){o.add(c);var f=OA.bind(null,n,c);c.then(f,f)}})}function as(n,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],m=n,C=i,M=C;e:for(;M!==null;){switch(M.tag){case 27:if(ga(M.type)){tn=M.stateNode,is=!1;break e}break;case 5:tn=M.stateNode,is=!1;break e;case 3:case 4:tn=M.stateNode.containerInfo,is=!0;break e}M=M.return}if(tn===null)throw Error(a(160));iv(m,C,f),tn=null,is=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)ov(i,n),i=i.sibling}var Ys=null;function ov(n,i){var o=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:as(i,n),rs(n),c&4&&(ca(3,n,n.return),_l(3,n),ca(5,n,n.return));break;case 1:as(i,n),rs(n),c&512&&(Dn||o===null||ri(o,o.return)),c&64&&Ai&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=Ys;if(as(i,n),rs(n),c&512&&(Dn||o===null||ri(o,o.return)),c&4){var m=o!==null?o.memoizedState:null;if(c=n.memoizedState,o===null)if(c===null)if(n.stateNode===null){e:{c=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":m=f.getElementsByTagName("title")[0],(!m||m[ll]||m[bt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(c),f.head.insertBefore(m,f.querySelector("head > title"))),zn(m,c,o),m[bt]=n,Wn(m),c=m;break e;case"link":var C=oS("link","href",f).get(c+(o.href||""));if(C){for(var M=0;M<C.length;M++)if(m=C[M],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){C.splice(M,1);break t}}m=f.createElement(c),zn(m,c,o),f.head.appendChild(m);break;case"meta":if(C=oS("meta","content",f).get(c+(o.content||""))){for(M=0;M<C.length;M++)if(m=C[M],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){C.splice(M,1);break t}}m=f.createElement(c),zn(m,c,o),f.head.appendChild(m);break;default:throw Error(a(468,c))}m[bt]=n,Wn(m),c=m}n.stateNode=c}else lS(f,n.type,n.stateNode);else n.stateNode=rS(f,c,n.memoizedProps);else m!==c?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,c===null?lS(f,n.type,n.stateNode):rS(f,c,n.memoizedProps)):c===null&&n.stateNode!==null&&mp(n,n.memoizedProps,o.memoizedProps)}break;case 27:as(i,n),rs(n),c&512&&(Dn||o===null||ri(o,o.return)),o!==null&&c&4&&mp(n,n.memoizedProps,o.memoizedProps);break;case 5:if(as(i,n),rs(n),c&512&&(Dn||o===null||ri(o,o.return)),n.flags&32){f=n.stateNode;try{Vr(f,"")}catch(Ye){It(n,n.return,Ye)}}c&4&&n.stateNode!=null&&(f=n.memoizedProps,mp(n,f,o!==null?o.memoizedProps:f)),c&1024&&(xp=!0);break;case 6:if(as(i,n),rs(n),c&4){if(n.stateNode===null)throw Error(a(162));c=n.memoizedProps,o=n.stateNode;try{o.nodeValue=c}catch(Ye){It(n,n.return,Ye)}}break;case 3:if(ld=null,f=Ys,Ys=rd(i.containerInfo),as(i,n),Ys=f,rs(n),c&4&&o!==null&&o.memoizedState.isDehydrated)try{xo(i.containerInfo)}catch(Ye){It(n,n.return,Ye)}xp&&(xp=!1,lv(n));break;case 4:c=Ys,Ys=rd(n.stateNode.containerInfo),as(i,n),rs(n),Ys=c;break;case 12:as(i,n),rs(n);break;case 31:as(i,n),rs(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Yu(n,c)));break;case 13:as(i,n),rs(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&($u=De()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Yu(n,c)));break;case 22:f=n.memoizedState!==null;var F=o!==null&&o.memoizedState!==null,se=Ai,me=Dn;if(Ai=se||f,Dn=me||F,as(i,n),Dn=me,Ai=se,rs(n),c&8192)e:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(o===null||F||Ai||Dn||sr(n)),o=null,i=n;;){if(i.tag===5||i.tag===26){if(o===null){F=o=i;try{if(m=F.stateNode,f)C=m.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{M=F.stateNode;var Te=F.memoizedProps.style,re=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;M.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(Ye){It(F,F.return,Ye)}}}else if(i.tag===6){if(o===null){F=i;try{F.stateNode.nodeValue=f?"":F.memoizedProps}catch(Ye){It(F,F.return,Ye)}}}else if(i.tag===18){if(o===null){F=i;try{var ce=F.stateNode;f?Xv(ce,!0):Xv(F.stateNode,!1)}catch(Ye){It(F,F.return,Ye)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=n.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Yu(n,o))));break;case 19:as(i,n),rs(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Yu(n,c)));break;case 30:break;case 21:break;default:as(i,n),rs(n)}}function rs(n){var i=n.flags;if(i&2){try{for(var o,c=n.return;c!==null;){if(Jb(c)){o=c;break}c=c.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var f=o.stateNode,m=gp(n);qu(n,m,f);break;case 5:var C=o.stateNode;o.flags&32&&(Vr(C,""),o.flags&=-33);var M=gp(n);qu(n,M,C);break;case 3:case 4:var F=o.stateNode.containerInfo,se=gp(n);yp(n,se,F);break;default:throw Error(a(161))}}catch(me){It(n,n.return,me)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function lv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;lv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Oi(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)nv(n,i.alternate,i),i=i.sibling}function sr(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:ca(4,i,i.return),sr(i);break;case 1:ri(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Xb(i,i.return,o),sr(i);break;case 27:Ul(i.stateNode);case 26:case 5:ri(i,i.return),sr(i);break;case 22:i.memoizedState===null&&sr(i);break;case 30:sr(i);break;default:sr(i)}n=n.sibling}}function Ri(n,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,f=n,m=i,C=m.flags;switch(m.tag){case 0:case 11:case 15:Ri(f,m,o),_l(4,m);break;case 1:if(Ri(f,m,o),c=m,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(se){It(c,c.return,se)}if(c=m,f=c.updateQueue,f!==null){var M=c.stateNode;try{var F=f.shared.hiddenCallbacks;if(F!==null)for(f.shared.hiddenCallbacks=null,f=0;f<F.length;f++)B0(F[f],M)}catch(se){It(c,c.return,se)}}o&&C&64&&Qb(m),Il(m,m.return);break;case 27:ev(m);case 26:case 5:Ri(f,m,o),o&&c===null&&C&4&&Zb(m),Il(m,m.return);break;case 12:Ri(f,m,o);break;case 31:Ri(f,m,o),o&&C&4&&av(f,m);break;case 13:Ri(f,m,o),o&&C&4&&rv(f,m);break;case 22:m.memoizedState===null&&Ri(f,m,o),Il(m,m.return);break;case 30:break;default:Ri(f,m,o)}i=i.sibling}}function bp(n,i){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Sl(o))}function vp(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Sl(n))}function Gs(n,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)cv(n,i,o,c),i=i.sibling}function cv(n,i,o,c){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Gs(n,i,o,c),f&2048&&_l(9,i);break;case 1:Gs(n,i,o,c);break;case 3:Gs(n,i,o,c),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Sl(n)));break;case 12:if(f&2048){Gs(n,i,o,c),n=i.stateNode;try{var m=i.memoizedProps,C=m.id,M=m.onPostCommit;typeof M=="function"&&M(C,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(F){It(i,i.return,F)}}else Gs(n,i,o,c);break;case 31:Gs(n,i,o,c);break;case 13:Gs(n,i,o,c);break;case 23:break;case 22:m=i.stateNode,C=i.alternate,i.memoizedState!==null?m._visibility&2?Gs(n,i,o,c):Wl(n,i):m._visibility&2?Gs(n,i,o,c):(m._visibility|=2,ro(n,i,o,c,(i.subtreeFlags&10256)!==0||!1)),f&2048&&bp(C,i);break;case 24:Gs(n,i,o,c),f&2048&&vp(i.alternate,i);break;default:Gs(n,i,o,c)}}function ro(n,i,o,c,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=n,C=i,M=o,F=c,se=C.flags;switch(C.tag){case 0:case 11:case 15:ro(m,C,M,F,f),_l(8,C);break;case 23:break;case 22:var me=C.stateNode;C.memoizedState!==null?me._visibility&2?ro(m,C,M,F,f):Wl(m,C):(me._visibility|=2,ro(m,C,M,F,f)),f&&se&2048&&bp(C.alternate,C);break;case 24:ro(m,C,M,F,f),f&&se&2048&&vp(C.alternate,C);break;default:ro(m,C,M,F,f)}i=i.sibling}}function Wl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=n,c=i,f=c.flags;switch(c.tag){case 22:Wl(o,c),f&2048&&bp(c.alternate,c);break;case 24:Wl(o,c),f&2048&&vp(c.alternate,c);break;default:Wl(o,c)}i=i.sibling}}var Nl=8192;function oo(n,i,o){if(n.subtreeFlags&Nl)for(n=n.child;n!==null;)uv(n,i,o),n=n.sibling}function uv(n,i,o){switch(n.tag){case 26:oo(n,i,o),n.flags&Nl&&n.memoizedState!==null&&c2(o,Ys,n.memoizedState,n.memoizedProps);break;case 5:oo(n,i,o);break;case 3:case 4:var c=Ys;Ys=rd(n.stateNode.containerInfo),oo(n,i,o),Ys=c;break;case 22:n.memoizedState===null&&(c=n.alternate,c!==null&&c.memoizedState!==null?(c=Nl,Nl=16777216,oo(n,i,o),Nl=c):oo(n,i,o));break;default:oo(n,i,o)}}function dv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Ll(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Nn=c,fv(c,n)}dv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)hv(n),n=n.sibling}function hv(n){switch(n.tag){case 0:case 11:case 15:Ll(n),n.flags&2048&&ca(9,n,n.return);break;case 3:Ll(n);break;case 12:Ll(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Gu(n)):Ll(n);break;default:Ll(n)}}function Gu(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Nn=c,fv(c,n)}dv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:ca(8,i,i.return),Gu(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Gu(i));break;default:Gu(i)}n=n.sibling}}function fv(n,i){for(;Nn!==null;){var o=Nn;switch(o.tag){case 0:case 11:case 15:ca(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Sl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Nn=c;else e:for(o=n;Nn!==null;){c=Nn;var f=c.sibling,m=c.return;if(sv(c),c===o){Nn=null;break e}if(f!==null){f.return=m,Nn=f;break e}Nn=m}}}var TA={getCacheForType:function(n){var i=Bn(Tn),o=i.data.get(n);return o===void 0&&(o=n(),i.data.set(n,o)),o},cacheSignal:function(){return Bn(Tn).controller.signal}},kA=typeof WeakMap=="function"?WeakMap:Map,Pt=0,Ft=null,St=null,Ct=0,_t=0,xs=null,ua=!1,lo=!1,Sp=!1,_i=0,dn=0,da=0,ir=0,wp=0,bs=0,co=0,Bl=null,os=null,Cp=!1,$u=0,pv=0,Ku=1/0,Qu=null,ha=null,Mn=0,fa=null,uo=null,Ii=0,Tp=0,kp=null,mv=null,Vl=0,jp=null;function vs(){return(Pt&2)!==0&&Ct!==0?Ct&-Ct:z.T!==null?Op():xe()}function gv(){if(bs===0)if((Ct&536870912)===0||kt){var n=Yn;Yn<<=1,(Yn&3932160)===0&&(Yn=262144),bs=n}else bs=536870912;return n=gs.current,n!==null&&(n.flags|=32),bs}function ls(n,i,o){(n===Ft&&(_t===2||_t===9)||n.cancelPendingCommit!==null)&&(ho(n,0),pa(n,Ct,bs,!1)),si(n,o),((Pt&2)===0||n!==Ft)&&(n===Ft&&((Pt&2)===0&&(ir|=o),dn===4&&pa(n,Ct,bs,!1)),oi(n))}function yv(n,i,o){if((Pt&6)!==0)throw Error(a(327));var c=!o&&(i&127)===0&&(i&n.expiredLanes)===0||Zi(n,i),f=c?EA(n,i):Ep(n,i,!0),m=c;do{if(f===0){lo&&!c&&pa(n,i,0,!1);break}else{if(o=n.current.alternate,m&&!jA(o)){f=Ep(n,i,!1),m=!1;continue}if(f===2){if(m=i,n.errorRecoveryDisabledLanes&m)var C=0;else C=n.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){i=C;e:{var M=n;f=Bl;var F=M.current.memoizedState.isDehydrated;if(F&&(ho(M,C).flags|=256),C=Ep(M,C,!1),C!==2){if(Sp&&!F){M.errorRecoveryDisabledLanes|=m,ir|=m,f=4;break e}m=os,os=f,m!==null&&(os===null?os=m:os.push.apply(os,m))}f=C}if(m=!1,f!==2)continue}}if(f===1){ho(n,0),pa(n,i,0,!0);break}e:{switch(c=n,m=f,m){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:pa(c,i,bs,!ua);break e;case 2:os=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=$u+300-De(),10<f)){if(pa(c,i,bs,!ua),Xi(c,0,!0)!==0)break e;Ii=i,c.timeoutHandle=$v(xv.bind(null,c,o,os,Qu,Cp,i,bs,ir,co,ua,m,"Throttled",-0,0),f);break e}xv(c,o,os,Qu,Cp,i,bs,ir,co,ua,m,null,-0,0)}}break}while(!0);oi(n)}function xv(n,i,o,c,f,m,C,M,F,se,me,Te,re,ce){if(n.timeoutHandle=-1,Te=i.subtreeFlags,Te&8192||(Te&16785408)===16785408){Te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vi},uv(i,m,Te);var Ye=(m&62914560)===m?$u-De():(m&4194048)===m?pv-De():0;if(Ye=u2(Te,Ye),Ye!==null){Ii=m,n.cancelPendingCommit=Ye(jv.bind(null,n,i,m,o,c,f,C,M,F,me,Te,null,re,ce)),pa(n,m,C,!se);return}}jv(n,i,m,o,c,f,C,M,F)}function jA(n){for(var i=n;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],m=f.getSnapshot;f=f.value;try{if(!ps(m(),f))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function pa(n,i,o,c){i&=~wp,i&=~ir,n.suspendedLanes|=i,n.pingedLanes&=~i,c&&(n.warmLanes|=i),c=n.expirationTimes;for(var f=i;0<f;){var m=31-rt(f),C=1<<m;c[m]=-1,f&=~C}o!==0&&qh(n,o,i)}function Xu(){return(Pt&6)===0?(zl(0),!1):!0}function Dp(){if(St!==null){if(_t===0)var n=St.return;else n=St,Ti=Ka=null,Hf(n),to=null,Cl=0,n=St;for(;n!==null;)Kb(n.alternate,n),n=n.return;St=null}}function ho(n,i){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,YA(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Ii=0,Dp(),Ft=n,St=o=wi(n.current,null),Ct=i,_t=0,xs=null,ua=!1,lo=Zi(n,i),Sp=!1,co=bs=wp=ir=da=dn=0,os=Bl=null,Cp=!1,(i&8)!==0&&(i|=i&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=i;0<c;){var f=31-rt(c),m=1<<f;i|=n[f],c&=~m}return _i=i,xu(),o}function bv(n,i){yt=null,z.H=Pl,i===eo||i===ju?(i=I0(),_t=3):i===Pf?(i=I0(),_t=4):_t=i===ap?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,xs=i,St===null&&(dn=1,Vu(n,Ms(i,n.current)))}function vv(){var n=gs.current;return n===null?!0:(Ct&4194048)===Ct?Rs===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?n===Rs:!1}function Sv(){var n=z.H;return z.H=Pl,n===null?Pl:n}function wv(){var n=z.A;return z.A=TA,n}function Zu(){dn=4,ua||(Ct&4194048)!==Ct&&gs.current!==null||(lo=!0),(da&134217727)===0&&(ir&134217727)===0||Ft===null||pa(Ft,Ct,bs,!1)}function Ep(n,i,o){var c=Pt;Pt|=2;var f=Sv(),m=wv();(Ft!==n||Ct!==i)&&(Qu=null,ho(n,i)),i=!1;var C=dn;e:do try{if(_t!==0&&St!==null){var M=St,F=xs;switch(_t){case 8:Dp(),C=6;break e;case 3:case 2:case 9:case 6:gs.current===null&&(i=!0);var se=_t;if(_t=0,xs=null,fo(n,M,F,se),o&&lo){C=0;break e}break;default:se=_t,_t=0,xs=null,fo(n,M,F,se)}}DA(),C=dn;break}catch(me){bv(n,me)}while(!0);return i&&n.shellSuspendCounter++,Ti=Ka=null,Pt=c,z.H=f,z.A=m,St===null&&(Ft=null,Ct=0,xu()),C}function DA(){for(;St!==null;)Cv(St)}function EA(n,i){var o=Pt;Pt|=2;var c=Sv(),f=wv();Ft!==n||Ct!==i?(Qu=null,Ku=De()+500,ho(n,i)):lo=Zi(n,i);e:do try{if(_t!==0&&St!==null){i=St;var m=xs;t:switch(_t){case 1:_t=0,xs=null,fo(n,i,m,1);break;case 2:case 9:if(R0(m)){_t=0,xs=null,Tv(i);break}i=function(){_t!==2&&_t!==9||Ft!==n||(_t=7),oi(n)},m.then(i,i);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:R0(m)?(_t=0,xs=null,Tv(i)):(_t=0,xs=null,fo(n,i,m,7));break;case 5:var C=null;switch(St.tag){case 26:C=St.memoizedState;case 5:case 27:var M=St;if(C?cS(C):M.stateNode.complete){_t=0,xs=null;var F=M.sibling;if(F!==null)St=F;else{var se=M.return;se!==null?(St=se,Ju(se)):St=null}break t}}_t=0,xs=null,fo(n,i,m,5);break;case 6:_t=0,xs=null,fo(n,i,m,6);break;case 8:Dp(),dn=6;break e;default:throw Error(a(462))}}MA();break}catch(me){bv(n,me)}while(!0);return Ti=Ka=null,z.H=c,z.A=f,Pt=o,St!==null?0:(Ft=null,Ct=0,xu(),dn)}function MA(){for(;St!==null&&!X();)Cv(St)}function Cv(n){var i=Gb(n.alternate,n,_i);n.memoizedProps=n.pendingProps,i===null?Ju(n):St=i}function Tv(n){var i=n,o=i.alternate;switch(i.tag){case 15:case 0:i=zb(o,i,i.pendingProps,i.type,void 0,Ct);break;case 11:i=zb(o,i,i.pendingProps,i.type.render,i.ref,Ct);break;case 5:Hf(i);default:Kb(o,i),i=St=w0(i,_i),i=Gb(o,i,_i)}n.memoizedProps=n.pendingProps,i===null?Ju(n):St=i}function fo(n,i,o,c){Ti=Ka=null,Hf(i),to=null,Cl=0;var f=i.return;try{if(yA(n,f,i,o,Ct)){dn=1,Vu(n,Ms(o,n.current)),St=null;return}}catch(m){if(f!==null)throw St=f,m;dn=1,Vu(n,Ms(o,n.current)),St=null;return}i.flags&32768?(kt||c===1?n=!0:lo||(Ct&536870912)!==0?n=!1:(ua=n=!0,(c===2||c===9||c===3||c===6)&&(c=gs.current,c!==null&&c.tag===13&&(c.flags|=16384))),kv(i,n)):Ju(i)}function Ju(n){var i=n;do{if((i.flags&32768)!==0){kv(i,ua);return}n=i.return;var o=vA(i.alternate,i,_i);if(o!==null){St=o;return}if(i=i.sibling,i!==null){St=i;return}St=i=n}while(i!==null);dn===0&&(dn=5)}function kv(n,i){do{var o=SA(n.alternate,n);if(o!==null){o.flags&=32767,St=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(n=n.sibling,n!==null)){St=n;return}St=n=o}while(n!==null);dn=6,St=null}function jv(n,i,o,c,f,m,C,M,F){n.cancelPendingCommit=null;do ed();while(Mn!==0);if((Pt&6)!==0)throw Error(a(327));if(i!==null){if(i===n.current)throw Error(a(177));if(m=i.lanes|i.childLanes,m|=gf,Uh(n,o,m,C,M,F),n===Ft&&(St=Ft=null,Ct=0),uo=i,fa=n,Ii=o,Tp=m,kp=f,mv=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,RA(ft,function(){return Pv(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=z.T,z.T=null,f=U.p,U.p=2,C=Pt,Pt|=4;try{wA(n,i,o)}finally{Pt=C,U.p=f,z.T=c}}Mn=1,Dv(),Ev(),Mv()}}function Dv(){if(Mn===1){Mn=0;var n=fa,i=uo,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=z.T,z.T=null;var c=U.p;U.p=2;var f=Pt;Pt|=4;try{ov(i,n);var m=Vp,C=f0(n.containerInfo),M=m.focusedElem,F=m.selectionRange;if(C!==M&&M&&M.ownerDocument&&h0(M.ownerDocument.documentElement,M)){if(F!==null&&df(M)){var se=F.start,me=F.end;if(me===void 0&&(me=se),"selectionStart"in M)M.selectionStart=se,M.selectionEnd=Math.min(me,M.value.length);else{var Te=M.ownerDocument||document,re=Te&&Te.defaultView||window;if(re.getSelection){var ce=re.getSelection(),Ye=M.textContent.length,at=Math.min(F.start,Ye),Vt=F.end===void 0?at:Math.min(F.end,Ye);!ce.extend&&at>Vt&&(C=Vt,Vt=at,at=C);var Z=d0(M,at),G=d0(M,Vt);if(Z&&G&&(ce.rangeCount!==1||ce.anchorNode!==Z.node||ce.anchorOffset!==Z.offset||ce.focusNode!==G.node||ce.focusOffset!==G.offset)){var ne=Te.createRange();ne.setStart(Z.node,Z.offset),ce.removeAllRanges(),at>Vt?(ce.addRange(ne),ce.extend(G.node,G.offset)):(ne.setEnd(G.node,G.offset),ce.addRange(ne))}}}}for(Te=[],ce=M;ce=ce.parentNode;)ce.nodeType===1&&Te.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<Te.length;M++){var ve=Te[M];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}hd=!!Bp,Vp=Bp=null}finally{Pt=f,U.p=c,z.T=o}}n.current=i,Mn=2}}function Ev(){if(Mn===2){Mn=0;var n=fa,i=uo,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=z.T,z.T=null;var c=U.p;U.p=2;var f=Pt;Pt|=4;try{nv(n,i.alternate,i)}finally{Pt=f,U.p=c,z.T=o}}Mn=3}}function Mv(){if(Mn===4||Mn===3){Mn=0,je();var n=fa,i=uo,o=Ii,c=mv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mn=5:(Mn=0,uo=fa=null,Av(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(ha=null),ol(o),i=i.stateNode,Oe&&typeof Oe.onCommitFiberRoot=="function")try{Oe.onCommitFiberRoot(Ve,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=z.T,f=U.p,U.p=2,z.T=null;try{for(var m=n.onRecoverableError,C=0;C<c.length;C++){var M=c[C];m(M.value,{componentStack:M.stack})}}finally{z.T=i,U.p=f}}(Ii&3)!==0&&ed(),oi(n),f=n.pendingLanes,(o&261930)!==0&&(f&42)!==0?n===jp?Vl++:(Vl=0,jp=n):Vl=0,zl(0)}}function Av(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Sl(i)))}function ed(){return Dv(),Ev(),Mv(),Pv()}function Pv(){if(Mn!==5)return!1;var n=fa,i=Tp;Tp=0;var o=ol(Ii),c=z.T,f=U.p;try{U.p=32>o?32:o,z.T=null,o=kp,kp=null;var m=fa,C=Ii;if(Mn=0,uo=fa=null,Ii=0,(Pt&6)!==0)throw Error(a(331));var M=Pt;if(Pt|=4,hv(m.current),cv(m,m.current,C,o),Pt=M,zl(0,!1),Oe&&typeof Oe.onPostCommitFiberRoot=="function")try{Oe.onPostCommitFiberRoot(Ve,m)}catch{}return!0}finally{U.p=f,z.T=c,Av(n,i)}}function Ov(n,i,o){i=Ms(o,i),i=ip(n.stateNode,i,2),n=ra(n,i,2),n!==null&&(si(n,2),oi(n))}function It(n,i,o){if(n.tag===3)Ov(n,n,o);else for(;i!==null;){if(i.tag===3){Ov(i,n,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ha===null||!ha.has(c))){n=Ms(o,n),o=Rb(2),c=ra(i,o,2),c!==null&&(_b(o,c,i,n),si(c,2),oi(c));break}}i=i.return}}function Mp(n,i,o){var c=n.pingCache;if(c===null){c=n.pingCache=new kA;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(o)||(Sp=!0,f.add(o),n=AA.bind(null,n,i,o),i.then(n,n))}function AA(n,i,o){var c=n.pingCache;c!==null&&c.delete(i),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Ft===n&&(Ct&o)===o&&(dn===4||dn===3&&(Ct&62914560)===Ct&&300>De()-$u?(Pt&2)===0&&ho(n,0):wp|=o,co===Ct&&(co=0)),oi(n)}function Rv(n,i){i===0&&(i=an()),n=Ya(n,i),n!==null&&(si(n,i),oi(n))}function PA(n){var i=n.memoizedState,o=0;i!==null&&(o=i.retryLane),Rv(n,o)}function OA(n,i){var o=0;switch(n.tag){case 31:case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(i),Rv(n,o)}function RA(n,i){return ke(n,i)}var td=null,po=null,Ap=!1,nd=!1,Pp=!1,ma=0;function oi(n){n!==po&&n.next===null&&(po===null?td=po=n:po=po.next=n),nd=!0,Ap||(Ap=!0,IA())}function zl(n,i){if(!Pp&&nd){Pp=!0;do for(var o=!1,c=td;c!==null;){if(n!==0){var f=c.pendingLanes;if(f===0)var m=0;else{var C=c.suspendedLanes,M=c.pingedLanes;m=(1<<31-rt(42|n)+1)-1,m&=f&~(C&~M),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,Nv(c,m))}else m=Ct,m=Xi(c,c===Ft?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||Zi(c,m)||(o=!0,Nv(c,m));c=c.next}while(o);Pp=!1}}function _A(){_v()}function _v(){nd=Ap=!1;var n=0;ma!==0&&qA()&&(n=ma);for(var i=De(),o=null,c=td;c!==null;){var f=c.next,m=Iv(c,i);m===0?(c.next=null,o===null?td=f:o.next=f,f===null&&(po=o)):(o=c,(n!==0||(m&3)!==0)&&(nd=!0)),c=f}Mn!==0&&Mn!==5||zl(n),ma!==0&&(ma=0)}function Iv(n,i){for(var o=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var C=31-rt(m),M=1<<C,F=f[C];F===-1?((M&o)===0||(M&c)!==0)&&(f[C]=au(M,i)):F<=i&&(n.expiredLanes|=M),m&=~M}if(i=Ft,o=Ct,o=Xi(n,n===i?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,o===0||n===i&&(_t===2||_t===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&We(c),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Zi(n,o)){if(i=o&-o,i===n.callbackPriority)return i;switch(c!==null&&We(c),ol(o)){case 2:case 8:o=Ue;break;case 32:o=ft;break;case 268435456:o=Qe;break;default:o=ft}return c=Wv.bind(null,n),o=ke(o,c),n.callbackPriority=i,n.callbackNode=o,i}return c!==null&&c!==null&&We(c),n.callbackPriority=2,n.callbackNode=null,2}function Wv(n,i){if(Mn!==0&&Mn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(ed()&&n.callbackNode!==o)return null;var c=Ct;return c=Xi(n,n===Ft?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(yv(n,c,i),Iv(n,De()),n.callbackNode!=null&&n.callbackNode===o?Wv.bind(null,n):null)}function Nv(n,i){if(ed())return null;yv(n,i,!0)}function IA(){GA(function(){(Pt&6)!==0?ke(Le,_A):_v()})}function Op(){if(ma===0){var n=Zr;n===0&&(n=en,en<<=1,(en&261888)===0&&(en=256)),ma=n}return ma}function Lv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:uu(""+n)}function Bv(n,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,n.id&&o.setAttribute("form",n.id),i.parentNode.insertBefore(o,i),n=new FormData(n),o.parentNode.removeChild(o),n}function WA(n,i,o,c,f){if(i==="submit"&&o&&o.stateNode===f){var m=Lv((f[rn]||null).action),C=c.submitter;C&&(i=(i=C[rn]||null)?Lv(i.formAction):C.getAttribute("formAction"),i!==null&&(m=i,C=null));var M=new pu("action","action",null,c,f);n.push({event:M,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ma!==0){var F=C?Bv(f,C):new FormData(f);Zf(o,{pending:!0,data:F,method:f.method,action:m},null,F)}}else typeof m=="function"&&(M.preventDefault(),F=C?Bv(f,C):new FormData(f),Zf(o,{pending:!0,data:F,method:f.method,action:m},m,F))},currentTarget:f}]})}}for(var Rp=0;Rp<mf.length;Rp++){var _p=mf[Rp],NA=_p.toLowerCase(),LA=_p[0].toUpperCase()+_p.slice(1);qs(NA,"on"+LA)}qs(g0,"onAnimationEnd"),qs(y0,"onAnimationIteration"),qs(x0,"onAnimationStart"),qs("dblclick","onDoubleClick"),qs("focusin","onFocus"),qs("focusout","onBlur"),qs(eA,"onTransitionRun"),qs(tA,"onTransitionStart"),qs(nA,"onTransitionCancel"),qs(b0,"onTransitionEnd"),Lr("onMouseEnter",["mouseout","mouseover"]),Lr("onMouseLeave",["mouseout","mouseover"]),Lr("onPointerEnter",["pointerout","pointerover"]),Lr("onPointerLeave",["pointerout","pointerover"]),Fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl));function Vv(n,i){i=(i&4)!==0;for(var o=0;o<n.length;o++){var c=n[o],f=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var C=c.length-1;0<=C;C--){var M=c[C],F=M.instance,se=M.currentTarget;if(M=M.listener,F!==m&&f.isPropagationStopped())break e;m=M,f.currentTarget=se;try{m(f)}catch(me){yu(me)}f.currentTarget=null,m=F}else for(C=0;C<c.length;C++){if(M=c[C],F=M.instance,se=M.currentTarget,M=M.listener,F!==m&&f.isPropagationStopped())break e;m=M,f.currentTarget=se;try{m(f)}catch(me){yu(me)}f.currentTarget=null,m=F}}}}function wt(n,i){var o=i[Yh];o===void 0&&(o=i[Yh]=new Set);var c=n+"__bubble";o.has(c)||(zv(i,n,2,!1),o.add(c))}function Ip(n,i,o){var c=0;i&&(c|=4),zv(o,n,c,i)}var sd="_reactListening"+Math.random().toString(36).slice(2);function Wp(n){if(!n[sd]){n[sd]=!0,_x.forEach(function(o){o!=="selectionchange"&&(BA.has(o)||Ip(o,!1,n),Ip(o,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[sd]||(i[sd]=!0,Ip("selectionchange",!1,i))}}function zv(n,i,o,c){switch(gS(i)){case 2:var f=f2;break;case 8:f=p2;break;default:f=Xp}o=f.bind(null,i,o,n),f=void 0,!tf||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(i,o,{capture:!0,passive:f}):n.addEventListener(i,o,!0):f!==void 0?n.addEventListener(i,o,{passive:f}):n.addEventListener(i,o,!1)}function Np(n,i,o,c,f){var m=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var C=c.tag;if(C===3||C===4){var M=c.stateNode.containerInfo;if(M===f)break;if(C===4)for(C=c.return;C!==null;){var F=C.tag;if((F===3||F===4)&&C.stateNode.containerInfo===f)return;C=C.return}for(;M!==null;){if(C=Ir(M),C===null)return;if(F=C.tag,F===5||F===6||F===26||F===27){c=m=C;continue e}M=M.parentNode}}c=c.return}Yx(function(){var se=m,me=Jh(o),Te=[];e:{var re=v0.get(n);if(re!==void 0){var ce=pu,Ye=n;switch(n){case"keypress":if(hu(o)===0)break e;case"keydown":case"keyup":ce=OM;break;case"focusin":Ye="focus",ce=rf;break;case"focusout":Ye="blur",ce=rf;break;case"beforeblur":case"afterblur":ce=rf;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Kx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=vM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=IM;break;case g0:case y0:case x0:ce=CM;break;case b0:ce=NM;break;case"scroll":case"scrollend":ce=xM;break;case"wheel":ce=BM;break;case"copy":case"cut":case"paste":ce=kM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=Xx;break;case"toggle":case"beforetoggle":ce=zM}var at=(i&4)!==0,Vt=!at&&(n==="scroll"||n==="scrollend"),Z=at?re!==null?re+"Capture":null:re;at=[];for(var G=se,ne;G!==null;){var ve=G;if(ne=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||ne===null||Z===null||(ve=ul(G,Z),ve!=null&&at.push(Hl(G,ve,ne))),Vt)break;G=G.return}0<at.length&&(re=new ce(re,Ye,null,o,me),Te.push({event:re,listeners:at}))}}if((i&7)===0){e:{if(re=n==="mouseover"||n==="pointerover",ce=n==="mouseout"||n==="pointerout",re&&o!==Zh&&(Ye=o.relatedTarget||o.fromElement)&&(Ir(Ye)||Ye[ns]))break e;if((ce||re)&&(re=me.window===me?me:(re=me.ownerDocument)?re.defaultView||re.parentWindow:window,ce?(Ye=o.relatedTarget||o.toElement,ce=se,Ye=Ye?Ir(Ye):null,Ye!==null&&(Vt=u(Ye),at=Ye.tag,Ye!==Vt||at!==5&&at!==27&&at!==6)&&(Ye=null)):(ce=null,Ye=se),ce!==Ye)){if(at=Kx,ve="onMouseLeave",Z="onMouseEnter",G="mouse",(n==="pointerout"||n==="pointerover")&&(at=Xx,ve="onPointerLeave",Z="onPointerEnter",G="pointer"),Vt=ce==null?re:cl(ce),ne=Ye==null?re:cl(Ye),re=new at(ve,G+"leave",ce,o,me),re.target=Vt,re.relatedTarget=ne,ve=null,Ir(me)===se&&(at=new at(Z,G+"enter",Ye,o,me),at.target=ne,at.relatedTarget=Vt,ve=at),Vt=ve,ce&&Ye)t:{for(at=VA,Z=ce,G=Ye,ne=0,ve=Z;ve;ve=at(ve))ne++;ve=0;for(var Je=G;Je;Je=at(Je))ve++;for(;0<ne-ve;)Z=at(Z),ne--;for(;0<ve-ne;)G=at(G),ve--;for(;ne--;){if(Z===G||G!==null&&Z===G.alternate){at=Z;break t}Z=at(Z),G=at(G)}at=null}else at=null;ce!==null&&Fv(Te,re,ce,at,!1),Ye!==null&&Vt!==null&&Fv(Te,Vt,Ye,at,!0)}}e:{if(re=se?cl(se):window,ce=re.nodeName&&re.nodeName.toLowerCase(),ce==="select"||ce==="input"&&re.type==="file")var Mt=a0;else if(s0(re))if(r0)Mt=XM;else{Mt=KM;var Ge=$M}else ce=re.nodeName,!ce||ce.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?se&&Xh(se.elementType)&&(Mt=a0):Mt=QM;if(Mt&&(Mt=Mt(n,se))){i0(Te,Mt,o,me);break e}Ge&&Ge(n,re,se),n==="focusout"&&se&&re.type==="number"&&se.memoizedProps.value!=null&&Qh(re,"number",re.value)}switch(Ge=se?cl(se):window,n){case"focusin":(s0(Ge)||Ge.contentEditable==="true")&&(Ur=Ge,hf=se,xl=null);break;case"focusout":xl=hf=Ur=null;break;case"mousedown":ff=!0;break;case"contextmenu":case"mouseup":case"dragend":ff=!1,p0(Te,o,me);break;case"selectionchange":if(JM)break;case"keydown":case"keyup":p0(Te,o,me)}var xt;if(lf)e:{switch(n){case"compositionstart":var Tt="onCompositionStart";break e;case"compositionend":Tt="onCompositionEnd";break e;case"compositionupdate":Tt="onCompositionUpdate";break e}Tt=void 0}else Hr?t0(n,o)&&(Tt="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Tt="onCompositionStart");Tt&&(Zx&&o.locale!=="ko"&&(Hr||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&Hr&&(xt=Gx()):(Ji=me,nf="value"in Ji?Ji.value:Ji.textContent,Hr=!0)),Ge=id(se,Tt),0<Ge.length&&(Tt=new Qx(Tt,n,null,o,me),Te.push({event:Tt,listeners:Ge}),xt?Tt.data=xt:(xt=n0(o),xt!==null&&(Tt.data=xt)))),(xt=HM?UM(n,o):qM(n,o))&&(Tt=id(se,"onBeforeInput"),0<Tt.length&&(Ge=new Qx("onBeforeInput","beforeinput",null,o,me),Te.push({event:Ge,listeners:Tt}),Ge.data=xt)),WA(Te,n,se,o,me)}Vv(Te,i)})}function Hl(n,i,o){return{instance:n,listener:i,currentTarget:o}}function id(n,i){for(var o=i+"Capture",c=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ul(n,o),f!=null&&c.unshift(Hl(n,f,m)),f=ul(n,i),f!=null&&c.push(Hl(n,f,m))),n.tag===3)return c;n=n.return}return[]}function VA(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Fv(n,i,o,c,f){for(var m=i._reactName,C=[];o!==null&&o!==c;){var M=o,F=M.alternate,se=M.stateNode;if(M=M.tag,F!==null&&F===c)break;M!==5&&M!==26&&M!==27||se===null||(F=se,f?(se=ul(o,m),se!=null&&C.unshift(Hl(o,se,F))):f||(se=ul(o,m),se!=null&&C.push(Hl(o,se,F)))),o=o.return}C.length!==0&&n.push({event:i,listeners:C})}var zA=/\r\n?/g,FA=/\u0000|\uFFFD/g;function Hv(n){return(typeof n=="string"?n:""+n).replace(zA,`
`).replace(FA,"")}function Uv(n,i){return i=Hv(i),Hv(n)===i}function Bt(n,i,o,c,f,m){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Vr(n,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Vr(n,""+c);break;case"className":lu(n,"class",c);break;case"tabIndex":lu(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":lu(n,o,c);break;case"style":Ux(n,c,m);break;case"data":if(i!=="object"){lu(n,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){n.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=uu(""+c),n.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(i!=="input"&&Bt(n,i,"name",f.name,f,null),Bt(n,i,"formEncType",f.formEncType,f,null),Bt(n,i,"formMethod",f.formMethod,f,null),Bt(n,i,"formTarget",f.formTarget,f,null)):(Bt(n,i,"encType",f.encType,f,null),Bt(n,i,"method",f.method,f,null),Bt(n,i,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=uu(""+c),n.setAttribute(o,c);break;case"onClick":c!=null&&(n.onclick=vi);break;case"onScroll":c!=null&&wt("scroll",n);break;case"onScrollEnd":c!=null&&wt("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}o=uu(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""+c):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":c===!0?n.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,c):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(o,c):n.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(o):n.setAttribute(o,c);break;case"popover":wt("beforetoggle",n),wt("toggle",n),ou(n,"popover",c);break;case"xlinkActuate":bi(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":bi(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":bi(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":bi(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":bi(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":bi(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":bi(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":bi(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":bi(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ou(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=gM.get(o)||o,ou(n,o,c))}}function Lp(n,i,o,c,f,m){switch(o){case"style":Ux(n,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"children":typeof c=="string"?Vr(n,c):(typeof c=="number"||typeof c=="bigint")&&Vr(n,""+c);break;case"onScroll":c!=null&&wt("scroll",n);break;case"onScrollEnd":c!=null&&wt("scrollend",n);break;case"onClick":c!=null&&(n.onclick=vi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ix.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),i=o.slice(2,f?o.length-7:void 0),m=n[rn]||null,m=m!=null?m[o]:null,typeof m=="function"&&n.removeEventListener(i,m,f),typeof c=="function")){typeof m!="function"&&m!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(i,c,f);break e}o in n?n[o]=c:c===!0?n.setAttribute(o,""):ou(n,o,c)}}}function zn(n,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",n),wt("load",n);var c=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var C=o[m];if(C!=null)switch(m){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Bt(n,i,m,C,o,null)}}f&&Bt(n,i,"srcSet",o.srcSet,o,null),c&&Bt(n,i,"src",o.src,o,null);return;case"input":wt("invalid",n);var M=m=C=f=null,F=null,se=null;for(c in o)if(o.hasOwnProperty(c)){var me=o[c];if(me!=null)switch(c){case"name":f=me;break;case"type":C=me;break;case"checked":F=me;break;case"defaultChecked":se=me;break;case"value":m=me;break;case"defaultValue":M=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(a(137,i));break;default:Bt(n,i,c,me,o,null)}}Vx(n,m,M,F,se,C,f,!1);return;case"select":wt("invalid",n),c=C=m=null;for(f in o)if(o.hasOwnProperty(f)&&(M=o[f],M!=null))switch(f){case"value":m=M;break;case"defaultValue":C=M;break;case"multiple":c=M;default:Bt(n,i,f,M,o,null)}i=m,o=C,n.multiple=!!c,i!=null?Br(n,!!c,i,!1):o!=null&&Br(n,!!c,o,!0);return;case"textarea":wt("invalid",n),m=f=c=null;for(C in o)if(o.hasOwnProperty(C)&&(M=o[C],M!=null))switch(C){case"value":c=M;break;case"defaultValue":f=M;break;case"children":m=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(a(91));break;default:Bt(n,i,C,M,o,null)}Fx(n,c,f,m);return;case"option":for(F in o)if(o.hasOwnProperty(F)&&(c=o[F],c!=null))switch(F){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Bt(n,i,F,c,o,null)}return;case"dialog":wt("beforetoggle",n),wt("toggle",n),wt("cancel",n),wt("close",n);break;case"iframe":case"object":wt("load",n);break;case"video":case"audio":for(c=0;c<Fl.length;c++)wt(Fl[c],n);break;case"image":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"embed":case"source":case"link":wt("error",n),wt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in o)if(o.hasOwnProperty(se)&&(c=o[se],c!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Bt(n,i,se,c,o,null)}return;default:if(Xh(i)){for(me in o)o.hasOwnProperty(me)&&(c=o[me],c!==void 0&&Lp(n,i,me,c,o,void 0));return}}for(M in o)o.hasOwnProperty(M)&&(c=o[M],c!=null&&Bt(n,i,M,c,o,null))}function HA(n,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,C=null,M=null,F=null,se=null,me=null;for(ce in o){var Te=o[ce];if(o.hasOwnProperty(ce)&&Te!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":F=Te;default:c.hasOwnProperty(ce)||Bt(n,i,ce,null,c,Te)}}for(var re in c){var ce=c[re];if(Te=o[re],c.hasOwnProperty(re)&&(ce!=null||Te!=null))switch(re){case"type":m=ce;break;case"name":f=ce;break;case"checked":se=ce;break;case"defaultChecked":me=ce;break;case"value":C=ce;break;case"defaultValue":M=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(a(137,i));break;default:ce!==Te&&Bt(n,i,re,ce,c,Te)}}Kh(n,C,M,F,se,me,m,f);return;case"select":ce=C=M=re=null;for(m in o)if(F=o[m],o.hasOwnProperty(m)&&F!=null)switch(m){case"value":break;case"multiple":ce=F;default:c.hasOwnProperty(m)||Bt(n,i,m,null,c,F)}for(f in c)if(m=c[f],F=o[f],c.hasOwnProperty(f)&&(m!=null||F!=null))switch(f){case"value":re=m;break;case"defaultValue":M=m;break;case"multiple":C=m;default:m!==F&&Bt(n,i,f,m,c,F)}i=M,o=C,c=ce,re!=null?Br(n,!!o,re,!1):!!c!=!!o&&(i!=null?Br(n,!!o,i,!0):Br(n,!!o,o?[]:"",!1));return;case"textarea":ce=re=null;for(M in o)if(f=o[M],o.hasOwnProperty(M)&&f!=null&&!c.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Bt(n,i,M,null,c,f)}for(C in c)if(f=c[C],m=o[C],c.hasOwnProperty(C)&&(f!=null||m!=null))switch(C){case"value":re=f;break;case"defaultValue":ce=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&Bt(n,i,C,f,c,m)}zx(n,re,ce);return;case"option":for(var Ye in o)if(re=o[Ye],o.hasOwnProperty(Ye)&&re!=null&&!c.hasOwnProperty(Ye))switch(Ye){case"selected":n.selected=!1;break;default:Bt(n,i,Ye,null,c,re)}for(F in c)if(re=c[F],ce=o[F],c.hasOwnProperty(F)&&re!==ce&&(re!=null||ce!=null))switch(F){case"selected":n.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:Bt(n,i,F,re,c,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var at in o)re=o[at],o.hasOwnProperty(at)&&re!=null&&!c.hasOwnProperty(at)&&Bt(n,i,at,null,c,re);for(se in c)if(re=c[se],ce=o[se],c.hasOwnProperty(se)&&re!==ce&&(re!=null||ce!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(a(137,i));break;default:Bt(n,i,se,re,c,ce)}return;default:if(Xh(i)){for(var Vt in o)re=o[Vt],o.hasOwnProperty(Vt)&&re!==void 0&&!c.hasOwnProperty(Vt)&&Lp(n,i,Vt,void 0,c,re);for(me in c)re=c[me],ce=o[me],!c.hasOwnProperty(me)||re===ce||re===void 0&&ce===void 0||Lp(n,i,me,re,c,ce);return}}for(var Z in o)re=o[Z],o.hasOwnProperty(Z)&&re!=null&&!c.hasOwnProperty(Z)&&Bt(n,i,Z,null,c,re);for(Te in c)re=c[Te],ce=o[Te],!c.hasOwnProperty(Te)||re===ce||re==null&&ce==null||Bt(n,i,Te,re,c,ce)}function qv(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function UA(){if(typeof performance.getEntriesByType=="function"){for(var n=0,i=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var f=o[c],m=f.transferSize,C=f.initiatorType,M=f.duration;if(m&&M&&qv(C)){for(C=0,M=f.responseEnd,c+=1;c<o.length;c++){var F=o[c],se=F.startTime;if(se>M)break;var me=F.transferSize,Te=F.initiatorType;me&&qv(Te)&&(F=F.responseEnd,C+=me*(F<M?1:(M-se)/(F-se)))}if(--c,i+=8*(m+C)/(f.duration/1e3),n++,10<n)break}}if(0<n)return i/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Bp=null,Vp=null;function ad(n){return n.nodeType===9?n:n.ownerDocument}function Yv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gv(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function zp(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Fp=null;function qA(){var n=window.event;return n&&n.type==="popstate"?n===Fp?!1:(Fp=n,!0):(Fp=null,!1)}var $v=typeof setTimeout=="function"?setTimeout:void 0,YA=typeof clearTimeout=="function"?clearTimeout:void 0,Kv=typeof Promise=="function"?Promise:void 0,GA=typeof queueMicrotask=="function"?queueMicrotask:typeof Kv<"u"?function(n){return Kv.resolve(null).then(n).catch($A)}:$v;function $A(n){setTimeout(function(){throw n})}function ga(n){return n==="head"}function Qv(n,i){var o=i,c=0;do{var f=o.nextSibling;if(n.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(c===0){n.removeChild(f),xo(i);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Ul(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,Ul(o);for(var m=o.firstChild;m;){var C=m.nextSibling,M=m.nodeName;m[ll]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=C}}else o==="body"&&Ul(n.ownerDocument.body);o=f}while(o);xo(i)}function Xv(n,i){var o=n;n=0;do{var c=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=c}while(o)}function Hp(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Hp(o),Gh(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function KA(n,i,o,c){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[ll])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=_s(n.nextSibling),n===null)break}return null}function QA(n,i,o){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=_s(n.nextSibling),n===null))return null;return n}function Zv(n,i){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=_s(n.nextSibling),n===null))return null;return n}function Up(n){return n.data==="$?"||n.data==="$~"}function qp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function XA(n,i){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=i;else if(n.data!=="$?"||o.readyState!=="loading")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function _s(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return n}var Yp=null;function Jv(n){n=n.nextSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(i===0)return _s(n.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}n=n.nextSibling}return null}function eS(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return n;i--}else o!=="/$"&&o!=="/&"||i++}n=n.previousSibling}return null}function tS(n,i,o){switch(i=ad(o),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function Ul(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Gh(n)}var Is=new Map,nS=new Set;function rd(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Wi=U.d;U.d={f:ZA,r:JA,D:e2,C:t2,L:n2,m:s2,X:a2,S:i2,M:r2};function ZA(){var n=Wi.f(),i=Xu();return n||i}function JA(n){var i=Wr(n);i!==null&&i.tag===5&&i.type==="form"?bb(i):Wi.r(n)}var mo=typeof document>"u"?null:document;function sS(n,i,o){var c=mo;if(c&&typeof i=="string"&&i){var f=Ds(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),nS.has(f)||(nS.add(f),n={rel:n,crossOrigin:o,href:i},c.querySelector(f)===null&&(i=c.createElement("link"),zn(i,"link",n),Wn(i),c.head.appendChild(i)))}}function e2(n){Wi.D(n),sS("dns-prefetch",n,null)}function t2(n,i){Wi.C(n,i),sS("preconnect",n,i)}function n2(n,i,o){Wi.L(n,i,o);var c=mo;if(c&&n&&i){var f='link[rel="preload"][as="'+Ds(i)+'"]';i==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Ds(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Ds(o.imageSizes)+'"]')):f+='[href="'+Ds(n)+'"]';var m=f;switch(i){case"style":m=go(n);break;case"script":m=yo(n)}Is.has(m)||(n=b({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:n,as:i},o),Is.set(m,n),c.querySelector(f)!==null||i==="style"&&c.querySelector(ql(m))||i==="script"&&c.querySelector(Yl(m))||(i=c.createElement("link"),zn(i,"link",n),Wn(i),c.head.appendChild(i)))}}function s2(n,i){Wi.m(n,i);var o=mo;if(o&&n){var c=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Ds(c)+'"][href="'+Ds(n)+'"]',m=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=yo(n)}if(!Is.has(m)&&(n=b({rel:"modulepreload",href:n},i),Is.set(m,n),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Yl(m)))return}c=o.createElement("link"),zn(c,"link",n),Wn(c),o.head.appendChild(c)}}}function i2(n,i,o){Wi.S(n,i,o);var c=mo;if(c&&n){var f=Nr(c).hoistableStyles,m=go(n);i=i||"default";var C=f.get(m);if(!C){var M={loading:0,preload:null};if(C=c.querySelector(ql(m)))M.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":i},o),(o=Is.get(m))&&Gp(n,o);var F=C=c.createElement("link");Wn(F),zn(F,"link",n),F._p=new Promise(function(se,me){F.onload=se,F.onerror=me}),F.addEventListener("load",function(){M.loading|=1}),F.addEventListener("error",function(){M.loading|=2}),M.loading|=4,od(C,i,c)}C={type:"stylesheet",instance:C,count:1,state:M},f.set(m,C)}}}function a2(n,i){Wi.X(n,i);var o=mo;if(o&&n){var c=Nr(o).hoistableScripts,f=yo(n),m=c.get(f);m||(m=o.querySelector(Yl(f)),m||(n=b({src:n,async:!0},i),(i=Is.get(f))&&$p(n,i),m=o.createElement("script"),Wn(m),zn(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function r2(n,i){Wi.M(n,i);var o=mo;if(o&&n){var c=Nr(o).hoistableScripts,f=yo(n),m=c.get(f);m||(m=o.querySelector(Yl(f)),m||(n=b({src:n,async:!0,type:"module"},i),(i=Is.get(f))&&$p(n,i),m=o.createElement("script"),Wn(m),zn(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function iS(n,i,o,c){var f=(f=ge.current)?rd(f):null;if(!f)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=go(o.href),o=Nr(f).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=go(o.href);var m=Nr(f).hoistableStyles,C=m.get(n);if(C||(f=f.ownerDocument||f,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,C),(m=f.querySelector(ql(n)))&&!m._p&&(C.instance=m,C.state.loading=5),Is.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Is.set(n,o),m||o2(f,n,o,C.state))),i&&c===null)throw Error(a(528,""));return C}if(i&&c!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=yo(o),o=Nr(f).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function go(n){return'href="'+Ds(n)+'"'}function ql(n){return'link[rel="stylesheet"]['+n+"]"}function aS(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function o2(n,i,o,c){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=n.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),zn(i,"link",o),Wn(i),n.head.appendChild(i))}function yo(n){return'[src="'+Ds(n)+'"]'}function Yl(n){return"script[async]"+n}function rS(n,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=n.querySelector('style[data-href~="'+Ds(o.href)+'"]');if(c)return i.instance=c,Wn(c),c;var f=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Wn(c),zn(c,"style",f),od(c,o.precedence,n),i.instance=c;case"stylesheet":f=go(o.href);var m=n.querySelector(ql(f));if(m)return i.state.loading|=4,i.instance=m,Wn(m),m;c=aS(o),(f=Is.get(f))&&Gp(c,f),m=(n.ownerDocument||n).createElement("link"),Wn(m);var C=m;return C._p=new Promise(function(M,F){C.onload=M,C.onerror=F}),zn(m,"link",c),i.state.loading|=4,od(m,o.precedence,n),i.instance=m;case"script":return m=yo(o.src),(f=n.querySelector(Yl(m)))?(i.instance=f,Wn(f),f):(c=o,(f=Is.get(m))&&(c=b({},o),$p(c,f)),n=n.ownerDocument||n,f=n.createElement("script"),Wn(f),zn(f,"link",c),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,od(c,o.precedence,n));return i.instance}function od(n,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,m=f,C=0;C<c.length;C++){var M=c[C];if(M.dataset.precedence===i)m=M;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(n,i.firstChild))}function Gp(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function $p(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var ld=null;function oS(n,i,o){if(ld===null){var c=new Map,f=ld=new Map;f.set(o,c)}else f=ld,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(n))return c;for(c.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var m=o[f];if(!(m[ll]||m[bt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var C=m.getAttribute(i)||"";C=n+C;var M=c.get(C);M?M.push(m):c.set(C,[m])}}return c}function lS(n,i,o){n=n.ownerDocument||n,n.head.insertBefore(o,i==="title"?n.querySelector("head > title"):null)}function l2(n,i,o){if(o===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function cS(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function c2(n,i,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=go(c.href),m=i.querySelector(ql(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(n.count++,n=cd.bind(n),i.then(n,n)),o.state.loading|=4,o.instance=m,Wn(m);return}m=i.ownerDocument||i,c=aS(c),(f=Is.get(f))&&Gp(c,f),m=m.createElement("link"),Wn(m);var C=m;C._p=new Promise(function(M,F){C.onload=M,C.onerror=F}),zn(m,"link",c),o.instance=m}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=cd.bind(n),i.addEventListener("load",o),i.addEventListener("error",o))}}var Kp=0;function u2(n,i){return n.stylesheets&&n.count===0&&dd(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var c=setTimeout(function(){if(n.stylesheets&&dd(n,n.stylesheets),n.unsuspend){var m=n.unsuspend;n.unsuspend=null,m()}},6e4+i);0<n.imgBytes&&Kp===0&&(Kp=62500*UA());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&dd(n,n.stylesheets),n.unsuspend)){var m=n.unsuspend;n.unsuspend=null,m()}},(n.imgBytes>Kp?50:800)+i);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function cd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dd(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ud=null;function dd(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ud=new Map,i.forEach(d2,n),ud=null,cd.call(n))}function d2(n,i){if(!(i.state.loading&4)){var o=ud.get(n);if(o)var c=o.get(null);else{o=new Map,ud.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var C=f[m];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(o.set(C.dataset.precedence,C),c=C)}c&&o.set(null,c)}f=i.instance,C=f.getAttribute("data-precedence"),m=o.get(C)||c,m===c&&o.set(null,f),o.set(C,f),this.count++,c=cd.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var Gl={$$typeof:A,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function h2(n,i,o,c,f,m,C,M,F){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qn(0),this.hiddenUpdates=Qn(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function uS(n,i,o,c,f,m,C,M,F,se,me,Te){return n=new h2(n,i,o,C,F,se,me,Te,M),i=1,m===!0&&(i|=24),m=ms(3,null,null,i),n.current=m,m.stateNode=n,i=Ef(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:c,isDehydrated:o,cache:i},Of(m),n}function dS(n){return n?(n=Gr,n):Gr}function hS(n,i,o,c,f,m){f=dS(f),c.context===null?c.context=f:c.pendingContext=f,c=aa(i),c.payload={element:o},m=m===void 0?null:m,m!==null&&(c.callback=m),o=ra(n,c,i),o!==null&&(ls(o,n,i),kl(o,n,i))}function fS(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<i?o:i}}function Qp(n,i){fS(n,i),(n=n.alternate)&&fS(n,i)}function pS(n){if(n.tag===13||n.tag===31){var i=Ya(n,67108864);i!==null&&ls(i,n,67108864),Qp(n,67108864)}}function mS(n){if(n.tag===13||n.tag===31){var i=vs();i=za(i);var o=Ya(n,i);o!==null&&ls(o,n,i),Qp(n,i)}}var hd=!0;function f2(n,i,o,c){var f=z.T;z.T=null;var m=U.p;try{U.p=2,Xp(n,i,o,c)}finally{U.p=m,z.T=f}}function p2(n,i,o,c){var f=z.T;z.T=null;var m=U.p;try{U.p=8,Xp(n,i,o,c)}finally{U.p=m,z.T=f}}function Xp(n,i,o,c){if(hd){var f=Zp(c);if(f===null)Np(n,i,c,fd,o),yS(n,c);else if(g2(f,n,i,o,c))c.stopPropagation();else if(yS(n,c),i&4&&-1<m2.indexOf(n)){for(;f!==null;){var m=Wr(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var C=ks(m.pendingLanes);if(C!==0){var M=m;for(M.pendingLanes|=2,M.entangledLanes|=2;C;){var F=1<<31-rt(C);M.entanglements[1]|=F,C&=~F}oi(m),(Pt&6)===0&&(Ku=De()+500,zl(0))}}break;case 31:case 13:M=Ya(m,2),M!==null&&ls(M,m,2),Xu(),Qp(m,2)}if(m=Zp(c),m===null&&Np(n,i,c,fd,o),m===f)break;f=m}f!==null&&c.stopPropagation()}else Np(n,i,c,null,o)}}function Zp(n){return n=Jh(n),Jp(n)}var fd=null;function Jp(n){if(fd=null,n=Ir(n),n!==null){var i=u(n);if(i===null)n=null;else{var o=i.tag;if(o===13){if(n=d(i),n!==null)return n;n=null}else if(o===31){if(n=h(i),n!==null)return n;n=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return fd=n,null}function gS(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Me()){case Le:return 2;case Ue:return 8;case ft:case qe:return 32;case Qe:return 268435456;default:return 32}default:return 32}}var em=!1,ya=null,xa=null,ba=null,$l=new Map,Kl=new Map,va=[],m2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yS(n,i){switch(n){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":xa=null;break;case"mouseover":case"mouseout":ba=null;break;case"pointerover":case"pointerout":$l.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(i.pointerId)}}function Ql(n,i,o,c,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Wr(i),i!==null&&pS(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function g2(n,i,o,c,f){switch(i){case"focusin":return ya=Ql(ya,n,i,o,c,f),!0;case"dragenter":return xa=Ql(xa,n,i,o,c,f),!0;case"mouseover":return ba=Ql(ba,n,i,o,c,f),!0;case"pointerover":var m=f.pointerId;return $l.set(m,Ql($l.get(m)||null,n,i,o,c,f)),!0;case"gotpointercapture":return m=f.pointerId,Kl.set(m,Ql(Kl.get(m)||null,n,i,o,c,f)),!0}return!1}function xS(n){var i=Ir(n.target);if(i!==null){var o=u(i);if(o!==null){if(i=o.tag,i===13){if(i=d(o),i!==null){n.blockedOn=i,Se(n.priority,function(){mS(o)});return}}else if(i===31){if(i=h(o),i!==null){n.blockedOn=i,Se(n.priority,function(){mS(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function pd(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var o=Zp(n.nativeEvent);if(o===null){o=n.nativeEvent;var c=new o.constructor(o.type,o);Zh=c,o.target.dispatchEvent(c),Zh=null}else return i=Wr(o),i!==null&&pS(i),n.blockedOn=o,!1;i.shift()}return!0}function bS(n,i,o){pd(n)&&o.delete(i)}function y2(){em=!1,ya!==null&&pd(ya)&&(ya=null),xa!==null&&pd(xa)&&(xa=null),ba!==null&&pd(ba)&&(ba=null),$l.forEach(bS),Kl.forEach(bS)}function md(n,i){n.blockedOn===i&&(n.blockedOn=null,em||(em=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,y2)))}var gd=null;function vS(n){gd!==n&&(gd=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){gd===n&&(gd=null);for(var i=0;i<n.length;i+=3){var o=n[i],c=n[i+1],f=n[i+2];if(typeof c!="function"){if(Jp(c||o)===null)continue;break}var m=Wr(o);m!==null&&(n.splice(i,3),i-=3,Zf(m,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function xo(n){function i(F){return md(F,n)}ya!==null&&md(ya,n),xa!==null&&md(xa,n),ba!==null&&md(ba,n),$l.forEach(i),Kl.forEach(i);for(var o=0;o<va.length;o++){var c=va[o];c.blockedOn===n&&(c.blockedOn=null)}for(;0<va.length&&(o=va[0],o.blockedOn===null);)xS(o),o.blockedOn===null&&va.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],m=o[c+1],C=f[rn]||null;if(typeof m=="function")C||vS(o);else if(C){var M=null;if(m&&m.hasAttribute("formAction")){if(f=m,C=m[rn]||null)M=C.formAction;else if(Jp(f)!==null)continue}else M=C.action;typeof M=="function"?o[c+1]=M:(o.splice(c,3),c-=3),vS(o)}}}function SS(){function n(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(C){return f=C})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function tm(n){this._internalRoot=n}yd.prototype.render=tm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,c=vs();hS(o,c,n,i,null,null)},yd.prototype.unmount=tm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;hS(n.current,2,null,n,null,null),Xu(),i[ns]=null}};function yd(n){this._internalRoot=n}yd.prototype.unstable_scheduleHydration=function(n){if(n){var i=xe();n={blockedOn:null,target:n,priority:i};for(var o=0;o<va.length&&i!==0&&i<va[o].priority;o++);va.splice(o,0,n),o===0&&xS(n)}};var wS=t.version;if(wS!=="19.2.0")throw Error(a(527,wS,"19.2.0"));U.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=g(i),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var x2={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xd.isDisabled&&xd.supportsFiber)try{Ve=xd.inject(x2),Oe=xd}catch{}}return Xl.createRoot=function(n,i){if(!l(n))throw Error(a(299));var o=!1,c="",f=Mb,m=Ab,C=Pb;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(C=i.onRecoverableError)),i=uS(n,1,!1,null,null,o,c,null,f,m,C,SS),n[ns]=i.current,Wp(n),new tm(i)},Xl.hydrateRoot=function(n,i,o){if(!l(n))throw Error(a(299));var c=!1,f="",m=Mb,C=Ab,M=Pb,F=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(C=o.onCaughtError),o.onRecoverableError!==void 0&&(M=o.onRecoverableError),o.formState!==void 0&&(F=o.formState)),i=uS(n,1,!0,i,o??null,c,f,F,m,C,M,SS),i.context=dS(null),o=i.current,c=vs(),c=za(c),f=aa(c),f.callback=null,ra(o,f,c),o=c,i.current.lanes=o,si(i,o),oi(i),n[ns]=i.current,Wp(n),new yd(i)},Xl.version="19.2.0",Xl}var IS;function ZP(){if(IS)return sm.exports;IS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),sm.exports=XP(),sm.exports}var JP=ZP();const eO=FC(JP);var YC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},WS=Ea.createContext&&Ea.createContext(YC),tO=["attr","size","title"];function nO(e,t){if(e==null)return{};var s=sO(e,t),a,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)a=u[l],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function sO(e,t){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}function Yd(){return Yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Yd.apply(this,arguments)}function NS(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),s.push.apply(s,a)}return s}function Gd(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?NS(Object(s),!0).forEach(function(a){iO(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):NS(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function iO(e,t,s){return t=aO(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function aO(e){var t=rO(e,"string");return typeof t=="symbol"?t:t+""}function rO(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GC(e){return e&&e.map((t,s)=>Ea.createElement(t.tag,Gd({key:s},t.attr),GC(t.child)))}function $C(e){return t=>Ea.createElement(oO,Yd({attr:Gd({},e.attr)},t),GC(e.child))}function oO(e){var t=s=>{var{attr:a,size:l,title:u}=e,d=nO(e,tO),h=l||s.size||"1em",p;return s.className&&(p=s.className),e.className&&(p=(p?p+" ":"")+e.className),Ea.createElement("svg",Yd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,a,d,{className:p,style:Gd(Gd({color:e.color||s.color},s.style),e.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),u&&Ea.createElement("title",null,u),e.children)};return WS!==void 0?Ea.createElement(WS.Consumer,null,s=>t(s)):t(YC)}function lO(e){return $C({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 16h4c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1v-1a2 2 0 1 0-4 0v1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1zm.8-6c0-.66.54-1.2 1.2-1.2.66 0 1.2.54 1.2 1.2v1h-2.4v-1zM17 1H7c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 18H7V5h10v14z"},child:[]}]})(e)}function cO(e){return $C({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m23.25 12.77-2.57-2.57-1.41 1.41 2.22 2.22-5.66 5.66L4.51 8.17l5.66-5.66 2.1 2.1 1.41-1.41L11.23.75a1.49 1.49 0 0 0-2.12 0L2.75 7.11a1.49 1.49 0 0 0 0 2.12l12.02 12.02c.59.59 1.54.59 2.12 0l6.36-6.36c.59-.59.59-1.54 0-2.12zM8.47 20.48A10.487 10.487 0 0 1 2.5 12H1c.51 6.16 5.66 11 11.95 11l.66-.03-3.81-3.82-1.33 1.33zM16 9h5c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1v-.5a2.5 2.5 0 0 0-5 0V3c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1zm.8-6.5c0-.94.76-1.7 1.7-1.7s1.7.76 1.7 1.7V3h-3.4v-.5z"},child:[]}]})(e)}class uO{constructor(){this.audioContext=null,this.isMuted=this.loadMutePreference(),this.volume=this.loadVolumePreference(),this.sounds={},this.initAudioContext()}initAudioContext(){if(!this.audioContext&&typeof window<"u")try{this.audioContext=new(window.AudioContext||window.webkitAudioContext)}catch(t){console.warn("Web Audio API not supported",t)}}loadMutePreference(){try{return localStorage.getItem("audioMuted")==="true"}catch{return!1}}loadVolumePreference(){try{const t=localStorage.getItem("audioVolume");return t?parseFloat(t):.3}catch{return .3}}saveMutePreference(){try{localStorage.setItem("audioMuted",this.isMuted.toString())}catch(t){console.warn("Could not save mute preference",t)}}toggleMute(){return this.isMuted=!this.isMuted,this.saveMutePreference(),this.isMuted}setMuted(t){this.isMuted=t,this.saveMutePreference()}isMutedState(){return this.isMuted}playBeep(t=800,s=200,a=null){if(this.isMuted)return;const l=a!==null?a:this.loadVolumePreference();if(!(!this.audioContext&&(this.initAudioContext(),!this.audioContext)))try{this.audioContext.state==="suspended"&&this.audioContext.resume();const u=this.audioContext.createOscillator(),d=this.audioContext.createGain();u.connect(d),d.connect(this.audioContext.destination),u.frequency.value=t,u.type="sine",d.gain.setValueAtTime(l,this.audioContext.currentTime),d.gain.exponentialRampToValueAtTime(.01,this.audioContext.currentTime+s/1e3),u.start(this.audioContext.currentTime),u.stop(this.audioContext.currentTime+s/1e3)}catch(u){console.warn("Could not play beep",u)}}playHighBeep(){this.playBeep(1e3,300)}playLowBeep(){this.playBeep(400,300)}playChime(){if(!this.isMuted&&!(!this.audioContext&&(this.initAudioContext(),!this.audioContext)))try{this.audioContext.state==="suspended"&&this.audioContext.resume(),this.playBeep(800,200),setTimeout(()=>{this.playBeep(1e3,400)},150)}catch(t){console.warn("Could not play chime",t)}}playCountdownBeep(){this.isMuted||(this.playBeep(600,150),setTimeout(()=>this.playBeep(600,150),200),setTimeout(()=>this.playBeep(600,150),400))}playCompletionFanfare(){if(!this.isMuted&&!(!this.audioContext&&(this.initAudioContext(),!this.audioContext)))try{this.audioContext.state==="suspended"&&this.audioContext.resume(),[523,659,784,1047].forEach((s,a)=>{setTimeout(()=>{this.playBeep(s,300)},a*150)})}catch(t){console.warn("Could not play completion fanfare",t)}}playTransitionBeep(){this.isMuted||this.playBeep(700,200)}}const Nt=new uO;class dO{constructor(){this.wakeLock=null,this.isSupported="wakeLock"in navigator}isWakeLockSupported(){return this.isSupported}async requestWakeLock(){if(!this.isSupported)return console.warn("Wake Lock API is not supported in this browser"),!1;try{return this.wakeLock=await navigator.wakeLock.request("screen"),console.log("Wake Lock acquired"),this.wakeLock.addEventListener("release",()=>{console.log("Wake Lock released")}),!0}catch(t){return console.error(`Failed to acquire wake lock: ${t.name}, ${t.message}`),!1}}async releaseWakeLock(){if(this.wakeLock!==null)try{await this.wakeLock.release(),this.wakeLock=null,console.log("Wake Lock manually released")}catch(t){console.error(`Failed to release wake lock: ${t.message}`)}}isActive(){return this.wakeLock!==null&&!this.wakeLock.released}async reacquireOnVisibilityChange(){if(!this.isSupported)return;const t=async()=>{document.visibilityState==="visible"&&this.wakeLock!==null&&this.wakeLock.released&&await this.requestWakeLock()};return document.addEventListener("visibilitychange",t),()=>{document.removeEventListener("visibilitychange",t)}}}const mr=new dO,Fg=x.memo(({currentWeek:e=1,deloadWeekActive:t=!1,onDeloadTrigger:s,clickable:a=!1})=>{const l=el(),d=["SUN","MON","TUE","WED","THU","FRI","SAT"][new Date().getDay()],h=e>=4&&!t&&a,g=t?{backgroundColor:l.palette.mode==="dark"?"rgba(255, 152, 0, 0.2)":"rgba(255, 152, 0, 0.15)",color:l.palette.warning.main,border:`1px solid ${l.palette.warning.main}`}:{backgroundColor:l.palette.mode==="dark"?"rgba(29, 181, 132, 0.2)":"rgba(29, 181, 132, 0.15)",color:l.palette.primary.main,border:`1px solid ${l.palette.mode==="dark","rgba(29, 181, 132, 0.3)"}`},y=()=>{h&&s&&s()},b=r.jsxs(L,{onClick:y,sx:{display:"inline-flex",alignItems:"center",gap:.5,padding:"4px 12px",borderRadius:"16px",fontWeight:600,fontSize:"0.875rem",letterSpacing:"0.5px",cursor:h?"pointer":"default",transition:"all 0.2s ease",...g,"&:hover":h?{transform:"scale(1.05)",boxShadow:l.palette.mode==="dark"?"0 2px 8px rgba(0, 0, 0, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.15)"}:{},"&:active":h?{transform:"scale(0.98)"}:{}},role:h?"button":void 0,tabIndex:h?0:void 0,onKeyDown:h?v=>{(v.key==="Enter"||v.key===" ")&&(v.preventDefault(),y())}:void 0,"aria-label":h?`Week ${e} - Click to trigger deload week`:`${d}, Week ${e}${t?" (Deload)":""}`,children:[r.jsx(L,{component:"span",sx:{fontWeight:700},children:d}),r.jsx(L,{component:"span",sx:{fontSize:"1rem",opacity:.6,mx:.25},children:"|"}),r.jsx(L,{component:"span",sx:{fontWeight:600},children:t?"DELOAD":`WK ${e}`}),t&&r.jsx(Og,{sx:{fontSize:"1rem",ml:.25}})]});return h?r.jsx($n,{title:"Click to trigger deload week",arrow:!0,children:b}):b});Fg.displayName="WeekBadge";Fg.propTypes={currentWeek:E.number,deloadWeekActive:E.bool,onDeloadTrigger:E.func,clickable:E.bool};const KC="@firebase/installations",Hg="0.6.19";const QC=1e4,XC=`w:${Hg}`,ZC="FIS_v2",hO="https://firebaseinstallations.googleapis.com/v1",fO=3600*1e3,pO="installations",mO="Installations";const gO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Cr=new HC(pO,mO,gO);function JC(e){return e instanceof TP&&e.code.includes("request-failed")}function eT({projectId:e}){return`${hO}/projects/${e}/installations`}function tT(e){return{token:e.token,requestStatus:2,expiresIn:xO(e.expiresIn),creationTime:Date.now()}}async function nT(e,t){const a=(await t.json()).error;return Cr.create("request-failed",{requestName:e,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function sT({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function yO(e,{refreshToken:t}){const s=sT(e);return s.append("Authorization",bO(t)),s}async function iT(e){const t=await e();return t.status>=500&&t.status<600?e():t}function xO(e){return Number(e.replace("s","000"))}function bO(e){return`${ZC} ${e}`}async function vO({appConfig:e,heartbeatServiceProvider:t},{fid:s}){const a=eT(e),l=sT(e),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const d={fid:s,authVersion:ZC,appId:e.appId,sdkVersion:XC},h={method:"POST",headers:l,body:JSON.stringify(d)},p=await iT(()=>fetch(a,h));if(p.ok){const g=await p.json();return{fid:g.fid||s,registrationStatus:2,refreshToken:g.refreshToken,authToken:tT(g.authToken)}}else throw await nT("Create Installation",p)}function aT(e){return new Promise(t=>{setTimeout(t,e)})}function SO(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}const wO=/^[cdef][\w-]{21}$/,Vm="";function CO(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const s=TO(e);return wO.test(s)?s:Vm}catch{return Vm}}function TO(e){return SO(e).substr(0,22)}function yh(e){return`${e.appName}!${e.appId}`}const rT=new Map;function oT(e,t){const s=yh(e);lT(s,t),kO(s,t)}function lT(e,t){const s=rT.get(e);if(s)for(const a of s)a(t)}function kO(e,t){const s=jO();s&&s.postMessage({key:e,fid:t}),DO()}let gr=null;function jO(){return!gr&&"BroadcastChannel"in self&&(gr=new BroadcastChannel("[Firebase] FID Change"),gr.onmessage=e=>{lT(e.data.key,e.data.fid)}),gr}function DO(){rT.size===0&&gr&&(gr.close(),gr=null)}const EO="firebase-installations-database",MO=1,Tr="firebase-installations-store";let rm=null;function Ug(){return rm||(rm=zg(EO,MO,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Tr)}}})),rm}async function $d(e,t){const s=yh(e),l=(await Ug()).transaction(Tr,"readwrite"),u=l.objectStore(Tr),d=await u.get(s);return await u.put(t,s),await l.done,(!d||d.fid!==t.fid)&&oT(e,t.fid),t}async function cT(e){const t=yh(e),a=(await Ug()).transaction(Tr,"readwrite");await a.objectStore(Tr).delete(t),await a.done}async function xh(e,t){const s=yh(e),l=(await Ug()).transaction(Tr,"readwrite"),u=l.objectStore(Tr),d=await u.get(s),h=t(d);return h===void 0?await u.delete(s):await u.put(h,s),await l.done,h&&(!d||d.fid!==h.fid)&&oT(e,h.fid),h}async function qg(e){let t;const s=await xh(e.appConfig,a=>{const l=AO(a),u=PO(e,l);return t=u.registrationPromise,u.installationEntry});return s.fid===Vm?{installationEntry:await t}:{installationEntry:s,registrationPromise:t}}function AO(e){const t=e||{fid:CO(),registrationStatus:0};return uT(t)}function PO(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(Cr.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const s={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},a=OO(e,s);return{installationEntry:s,registrationPromise:a}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:RO(e)}:{installationEntry:t}}async function OO(e,t){try{const s=await vO(e,t);return $d(e.appConfig,s)}catch(s){throw JC(s)&&s.customData.serverCode===409?await cT(e.appConfig):await $d(e.appConfig,{fid:t.fid,registrationStatus:0}),s}}async function RO(e){let t=await LS(e.appConfig);for(;t.registrationStatus===1;)await aT(100),t=await LS(e.appConfig);if(t.registrationStatus===0){const{installationEntry:s,registrationPromise:a}=await qg(e);return a||s}return t}function LS(e){return xh(e,t=>{if(!t)throw Cr.create("installation-not-found");return uT(t)})}function uT(e){return _O(e)?{fid:e.fid,registrationStatus:0}:e}function _O(e){return e.registrationStatus===1&&e.registrationTime+QC<Date.now()}async function IO({appConfig:e,heartbeatServiceProvider:t},s){const a=WO(e,s),l=yO(e,s),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const d={installation:{sdkVersion:XC,appId:e.appId}},h={method:"POST",headers:l,body:JSON.stringify(d)},p=await iT(()=>fetch(a,h));if(p.ok){const g=await p.json();return tT(g)}else throw await nT("Generate Auth Token",p)}function WO(e,{fid:t}){return`${eT(e)}/${t}/authTokens:generate`}async function Yg(e,t=!1){let s;const a=await xh(e.appConfig,u=>{if(!dT(u))throw Cr.create("not-registered");const d=u.authToken;if(!t&&BO(d))return u;if(d.requestStatus===1)return s=NO(e,t),u;{if(!navigator.onLine)throw Cr.create("app-offline");const h=zO(u);return s=LO(e,h),h}});return s?await s:a.authToken}async function NO(e,t){let s=await BS(e.appConfig);for(;s.authToken.requestStatus===1;)await aT(100),s=await BS(e.appConfig);const a=s.authToken;return a.requestStatus===0?Yg(e,t):a}function BS(e){return xh(e,t=>{if(!dT(t))throw Cr.create("not-registered");const s=t.authToken;return FO(s)?{...t,authToken:{requestStatus:0}}:t})}async function LO(e,t){try{const s=await IO(e,t),a={...t,authToken:s};return await $d(e.appConfig,a),s}catch(s){if(JC(s)&&(s.customData.serverCode===401||s.customData.serverCode===404))await cT(e.appConfig);else{const a={...t,authToken:{requestStatus:0}};await $d(e.appConfig,a)}throw s}}function dT(e){return e!==void 0&&e.registrationStatus===2}function BO(e){return e.requestStatus===2&&!VO(e)}function VO(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+fO}function zO(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function FO(e){return e.requestStatus===1&&e.requestTime+QC<Date.now()}async function HO(e){const t=e,{installationEntry:s,registrationPromise:a}=await qg(t);return a?a.catch(console.error):Yg(t).catch(console.error),s.fid}async function UO(e,t=!1){const s=e;return await qO(s),(await Yg(s,t)).token}async function qO(e){const{registrationPromise:t}=await qg(e);t&&await t}function YO(e){if(!e||!e.options)throw om("App Configuration");if(!e.name)throw om("App Name");const t=["projectId","apiKey","appId"];for(const s of t)if(!e.options[s])throw om(s);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function om(e){return Cr.create("missing-app-config-values",{valueName:e})}const hT="installations",GO="installations-internal",$O=e=>{const t=e.getProvider("app").getImmediate(),s=YO(t),a=Vg(t,"heartbeat");return{app:t,appConfig:s,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},KO=e=>{const t=e.getProvider("app").getImmediate(),s=Vg(t,hT).getImmediate();return{getId:()=>HO(s),getToken:l=>UO(s,l)}};function QO(){Ud(new qd(hT,$O,"PUBLIC")),Ud(new qd(GO,KO,"PRIVATE"))}QO();Hd(KC,Hg);Hd(KC,Hg,"esm2020");const XO="/firebase-messaging-sw.js",ZO="/firebase-cloud-messaging-push-scope",fT="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",JO="https://fcmregistrations.googleapis.com/v1",pT="google.c.a.c_id",eR="google.c.a.c_l",tR="google.c.a.ts",nR="google.c.a.e",VS=1e4;var zS;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(zS||(zS={}));var jc;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(jc||(jc={}));function Li(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function sR(e){const t="=".repeat((4-e.length%4)%4),s=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),a=atob(s),l=new Uint8Array(a.length);for(let u=0;u<a.length;++u)l[u]=a.charCodeAt(u);return l}const lm="fcm_token_details_db",iR=5,FS="fcm_token_object_Store";async function aR(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(u=>u.name).includes(lm))return null;let t=null;return(await zg(lm,iR,{upgrade:async(a,l,u,d)=>{if(l<2||!a.objectStoreNames.contains(FS))return;const h=d.objectStore(FS),p=await h.index("fcmSenderId").get(e);if(await h.clear(),!!p){if(l===2){const g=p;if(!g.auth||!g.p256dh||!g.endpoint)return;t={token:g.fcmToken,createTime:g.createTime??Date.now(),subscriptionOptions:{auth:g.auth,p256dh:g.p256dh,endpoint:g.endpoint,swScope:g.swScope,vapidKey:typeof g.vapidKey=="string"?g.vapidKey:Li(g.vapidKey)}}}else if(l===3){const g=p;t={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:Li(g.auth),p256dh:Li(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:Li(g.vapidKey)}}}else if(l===4){const g=p;t={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:Li(g.auth),p256dh:Li(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:Li(g.vapidKey)}}}}}})).close(),await nm(lm),await nm("fcm_vapid_details_db"),await nm("undefined"),rR(t)?t:null}function rR(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}const oR="firebase-messaging-database",lR=1,Dc="firebase-messaging-store";let cm=null;function mT(){return cm||(cm=zg(oR,lR,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Dc)}}})),cm}async function cR(e){const t=gT(e),a=await(await mT()).transaction(Dc).objectStore(Dc).get(t);if(a)return a;{const l=await aR(e.appConfig.senderId);if(l)return await Gg(e,l),l}}async function Gg(e,t){const s=gT(e),l=(await mT()).transaction(Dc,"readwrite");return await l.objectStore(Dc).put(t,s),await l.done,t}function gT({appConfig:e}){return e.appId}const uR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},ts=new HC("messaging","Messaging",uR);async function dR(e,t){const s=await Kg(e),a=yT(t),l={method:"POST",headers:s,body:JSON.stringify(a)};let u;try{u=await(await fetch($g(e.appConfig),l)).json()}catch(d){throw ts.create("token-subscribe-failed",{errorInfo:d?.toString()})}if(u.error){const d=u.error.message;throw ts.create("token-subscribe-failed",{errorInfo:d})}if(!u.token)throw ts.create("token-subscribe-no-token");return u.token}async function hR(e,t){const s=await Kg(e),a=yT(t.subscriptionOptions),l={method:"PATCH",headers:s,body:JSON.stringify(a)};let u;try{u=await(await fetch(`${$g(e.appConfig)}/${t.token}`,l)).json()}catch(d){throw ts.create("token-update-failed",{errorInfo:d?.toString()})}if(u.error){const d=u.error.message;throw ts.create("token-update-failed",{errorInfo:d})}if(!u.token)throw ts.create("token-update-no-token");return u.token}async function fR(e,t){const a={method:"DELETE",headers:await Kg(e)};try{const u=await(await fetch(`${$g(e.appConfig)}/${t}`,a)).json();if(u.error){const d=u.error.message;throw ts.create("token-unsubscribe-failed",{errorInfo:d})}}catch(l){throw ts.create("token-unsubscribe-failed",{errorInfo:l?.toString()})}}function $g({projectId:e}){return`${JO}/projects/${e}/registrations`}async function Kg({appConfig:e,installations:t}){const s=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${s}`})}function yT({p256dh:e,auth:t,endpoint:s,vapidKey:a}){const l={web:{endpoint:s,auth:t,p256dh:e}};return a!==fT&&(l.web.applicationPubKey=a),l}const pR=10080*60*1e3;async function mR(e){const t=await yR(e.swRegistration,e.vapidKey),s={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Li(t.getKey("auth")),p256dh:Li(t.getKey("p256dh"))},a=await cR(e.firebaseDependencies);if(a){if(xR(a.subscriptionOptions,s))return Date.now()>=a.createTime+pR?gR(e,{token:a.token,createTime:Date.now(),subscriptionOptions:s}):a.token;try{await fR(e.firebaseDependencies,a.token)}catch(l){console.warn(l)}return HS(e.firebaseDependencies,s)}else return HS(e.firebaseDependencies,s)}async function gR(e,t){try{const s=await hR(e.firebaseDependencies,t),a={...t,token:s,createTime:Date.now()};return await Gg(e.firebaseDependencies,a),s}catch(s){throw s}}async function HS(e,t){const a={token:await dR(e,t),createTime:Date.now(),subscriptionOptions:t};return await Gg(e,a),a.token}async function yR(e,t){const s=await e.pushManager.getSubscription();return s||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:sR(t)})}function xR(e,t){const s=t.vapidKey===e.vapidKey,a=t.endpoint===e.endpoint,l=t.auth===e.auth,u=t.p256dh===e.p256dh;return s&&a&&l&&u}function US(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return bR(t,e),vR(t,e),SR(t,e),t}function bR(e,t){if(!t.notification)return;e.notification={};const s=t.notification.title;s&&(e.notification.title=s);const a=t.notification.body;a&&(e.notification.body=a);const l=t.notification.image;l&&(e.notification.image=l);const u=t.notification.icon;u&&(e.notification.icon=u)}function vR(e,t){t.data&&(e.data=t.data)}function SR(e,t){if(!t.fcmOptions&&!t.notification?.click_action)return;e.fcmOptions={};const s=t.fcmOptions?.link??t.notification?.click_action;s&&(e.fcmOptions.link=s);const a=t.fcmOptions?.analytics_label;a&&(e.fcmOptions.analyticsLabel=a)}function wR(e){return typeof e=="object"&&!!e&&pT in e}function CR(e){if(!e||!e.options)throw um("App Configuration Object");if(!e.name)throw um("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:s}=e;for(const a of t)if(!s[a])throw um(a);return{appName:e.name,projectId:s.projectId,apiKey:s.apiKey,appId:s.appId,senderId:s.messagingSenderId}}function um(e){return ts.create("missing-app-config-values",{valueName:e})}class TR{constructor(t,s,a){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const l=CR(t);this.firebaseDependencies={app:t,appConfig:l,installations:s,analyticsProvider:a}}_delete(){return Promise.resolve()}}async function kR(e){try{e.swRegistration=await navigator.serviceWorker.register(XO,{scope:ZO}),e.swRegistration.update().catch(()=>{}),await jR(e.swRegistration)}catch(t){throw ts.create("failed-service-worker-registration",{browserErrorMessage:t?.message})}}async function jR(e){return new Promise((t,s)=>{const a=setTimeout(()=>s(new Error(`Service worker not registered after ${VS} ms`)),VS),l=e.installing||e.waiting;e.active?(clearTimeout(a),t()):l?l.onstatechange=u=>{u.target?.state==="activated"&&(l.onstatechange=null,clearTimeout(a),t())}:(clearTimeout(a),s(new Error("No incoming service worker found.")))})}async function DR(e,t){if(!t&&!e.swRegistration&&await kR(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw ts.create("invalid-sw-registration");e.swRegistration=t}}async function ER(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=fT)}async function xT(e,t){if(!navigator)throw ts.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw ts.create("permission-blocked");return await ER(e,t?.vapidKey),await DR(e,t?.serviceWorkerRegistration),mR(e)}async function MR(e,t,s){const a=AR(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(a,{message_id:s[pT],message_name:s[eR],message_time:s[tR],message_device_time:Math.floor(Date.now()/1e3)})}function AR(e){switch(e){case jc.NOTIFICATION_CLICKED:return"notification_open";case jc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function PR(e,t){const s=t.data;if(!s.isFirebaseMessaging)return;e.onMessageHandler&&s.messageType===jc.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(US(s)):e.onMessageHandler.next(US(s)));const a=s.data;wR(a)&&a[nR]==="1"&&await MR(e,s.messageType,a)}const qS="@firebase/messaging",YS="0.12.23";const OR=e=>{const t=new TR(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",s=>PR(t,s)),t},RR=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:a=>xT(t,a)}};function _R(){Ud(new qd("messaging",OR,"PUBLIC")),Ud(new qd("messaging-internal",RR,"PRIVATE")),Hd(qS,YS),Hd(qS,YS,"esm2020")}async function bT(){try{await jP()}catch{return!1}return typeof window<"u"&&DP()&&EP()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function IR(e=kP()){return bT().then(t=>{if(!t)throw ts.create("unsupported-browser")},t=>{throw ts.create("indexed-db-unsupported")}),Vg(UC(e),"messaging").getImmediate()}async function WR(e,t){return e=UC(e),xT(e,t)}_R();const NR={apiKey:"AIzaSyCxgAj6zUGeScwae1Slw-JqX-ZAEcEhAcI",authDomain:"goodlift-7760a.firebaseapp.com",projectId:"goodlift-7760a",storageBucket:"goodlift-7760a.firebasestorage.app",messagingSenderId:"444306542177",appId:"1:444306542177:web:ea09005a6d4cf46d6f6420",measurementId:"G-YR73MY2CH6"},bh=MP(NR),vT=AP(bh),bd=PP(bh);OP(bh);let Kd=null;bT().then(e=>{e&&(Kd=IR(bh))}).catch(e=>{console.warn("Firebase Messaging not supported:",e)});const LR="modulepreload",BR=function(e){return"/goodlift/"+e},GS={},VR=function(t,s,a){let l=Promise.resolve();if(s&&s.length>0){let p=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=d?.nonce||d?.getAttribute("nonce");l=p(s.map(g=>{if(g=BR(g),g in GS)return;GS[g]=!0;const y=g.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const v=document.createElement("link");if(v.rel=y?"stylesheet":LR,y||(v.as="script"),v.crossOrigin="",v.href=g,h&&v.setAttribute("nonce",h),document.head.appendChild(v),y)return new Promise((S,j)=>{v.addEventListener("load",S),v.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return l.then(d=>{for(const h of d||[])h.status==="rejected"&&u(h.reason);return t().catch(u)})},zm=e=>{if(e==null)return null;if(Array.isArray(e))return e.map(t=>zm(t));if(typeof e=="object"){const t={};for(const[s,a]of Object.entries(e))a!==void 0&&(t[s]=zm(a));return t}return e},Cn=async(e,t)=>{if(!e){console.error("Cannot save data: No user ID provided");return}try{const s=qC(vT,"users",e,"data","userData"),a=zm({...t,lastUpdated:new Date().toISOString()});await RP(s,a,{merge:!0})}catch(s){throw console.error("Error saving data to Firebase:",s),s}},Us=async e=>{if(!e)return console.error("Cannot load data: No user ID provided"),null;try{const t=qC(vT,"users",e,"data","userData"),s=await _P(t);return s.exists()?s.data():null}catch(t){throw console.error("Error loading data from Firebase:",t),t}},Uc=async(e,t)=>{if(e)try{await Cn(e,{workoutHistory:t})}catch(s){console.error("Error saving workout history to Firebase:",s)}},vh=async(e,t)=>{if(e)try{await Cn(e,{userStats:t})}catch(s){console.error("Error saving user stats to Firebase:",s)}},Qg=async(e,t)=>{if(e)try{await Cn(e,{exerciseWeights:t})}catch(s){console.error("Error saving exercise weights to Firebase:",s)}},Xg=async(e,t)=>{if(e)try{await Cn(e,{exerciseTargetReps:t})}catch(s){console.error("Error saving exercise target reps to Firebase:",s)}},zR=async(e,t)=>{if(e)try{await Cn(e,{hiitSessions:t})}catch(s){console.error("Error saving HIIT sessions to Firebase:",s)}},FR=async(e,t)=>{if(e)try{await Cn(e,{cardioSessions:t})}catch(s){console.error("Error saving cardio sessions to Firebase:",s)}},ST=async(e,t)=>{if(e)try{await Cn(e,{stretchSessions:t})}catch(s){console.error("Error saving stretch sessions to Firebase:",s)}},HR=async(e,t)=>{if(e)try{await Cn(e,{workoutPlans:t})}catch(s){console.error("Error saving workout plans to Firebase:",s)}},UR=async(e,t)=>{if(e)try{await Cn(e,{activePlanId:t})}catch(s){console.error("Error saving active plan to Firebase:",s)}},Zg=async(e,t)=>{if(e)try{await Cn(e,{favoriteWorkouts:t})}catch(s){console.error("Error saving favorite workouts to Firebase:",s)}},wT=async(e,t)=>{if(e)try{await Cn(e,{hiitPresets:t})}catch(s){console.error("Error saving HIIT presets to Firebase:",s)}},CT=async(e,t)=>{if(e)try{await Cn(e,{yogaPresets:t})}catch(s){console.error("Error saving Yoga presets to Firebase:",s)}},Jg="goodlift_guest_mode",Fm=1,tl={WORKOUT_HISTORY:"goodlift_guest_workout_history",USER_STATS:"goodlift_guest_user_stats",EXERCISE_WEIGHTS:"goodlift_guest_exercise_weights",EXERCISE_TARGET_REPS:"goodlift_guest_exercise_target_reps",HIIT_SESSIONS:"goodlift_guest_hiit_sessions",STRETCH_SESSIONS:"goodlift_guest_stretch_sessions",CARDIO_SESSIONS:"goodlift_guest_cardio_sessions",FAVORITE_WORKOUTS:"goodlift_guest_favorite_workouts",FAVORITE_EXERCISES:"goodlift_guest_favorite_exercises",PINNED_EXERCISES:"goodlift_guest_pinned_exercises",WORKOUT_PLANS:"goodlift_guest_workout_plans",SNACKBAR_DISMISSED:"goodlift_guest_snackbar_dismissed",UNLOCKED_ACHIEVEMENTS:"goodlift_guest_unlocked_achievements",TOTAL_PRS:"goodlift_guest_total_prs",TOTAL_VOLUME:"goodlift_guest_total_volume",ACTIVE_PLAN:"goodlift_guest_active_plan",PLANS:"goodlift_guest_plans",PLAN_DAYS:"goodlift_guest_plan_days",PLAN_EXERCISES:"goodlift_guest_plan_exercises",YOGA_PRESETS:"goodlift_guest_yoga_presets",HIIT_PRESETS:"goodlift_guest_hiit_presets"},et=()=>{try{return localStorage.getItem(Jg)==="true"}catch(e){return console.error("Error checking guest mode:",e),!1}},qR=()=>{try{localStorage.setItem(Jg,"true")}catch(e){console.error("Error enabling guest mode:",e),ey(e)}},Qd=()=>{try{localStorage.removeItem(Jg)}catch(e){console.error("Error disabling guest mode:",e)}},Et=e=>{const t=tl[e.toUpperCase()];if(!t)return console.error(`Invalid category: ${e}`),null;try{const s=localStorage.getItem(t);if(!s)return null;const a=JSON.parse(s);return a.version&&a.version!==Fm&&console.warn(`Data version mismatch for ${e}: ${a.version} vs ${Fm}`),a.data!==void 0?a.data:a}catch(s){return console.error(`Error reading guest data for ${e}:`,s),null}},vt=(e,t)=>{const s=tl[e.toUpperCase()];if(!s){console.error(`Invalid category: ${e}`);return}try{const a={version:Fm,data:t,lastUpdated:new Date().toISOString()};localStorage.setItem(s,JSON.stringify(a))}catch(a){console.error(`Error saving guest data for ${e}:`,a),ey(a)}},$S=()=>{try{Object.values(tl).forEach(e=>{localStorage.removeItem(e)}),Qd()}catch(e){console.error("Error clearing guest data:",e)}},TT=()=>{const e={};try{Object.entries(tl).forEach(([t,s])=>{if(t==="SNACKBAR_DISMISSED")return;const a=localStorage.getItem(s);if(a)try{const l=JSON.parse(a);e[t.toLowerCase()]=l.data!==void 0?l.data:l}catch(l){console.error(`Error parsing guest data for ${t}:`,l)}})}catch(t){console.error("Error getting all guest data:",t)}return e},YR=()=>{try{const e=localStorage.getItem(tl.SNACKBAR_DISMISSED);if(!e)return!0;const t=parseInt(e,10),s=Date.now(),a=1440*60*1e3;return s-t>a}catch(e){return console.error("Error checking snackbar status:",e),!0}},GR=()=>{try{localStorage.setItem(tl.SNACKBAR_DISMISSED,Date.now().toString())}catch(e){console.error("Error dismissing snackbar:",e),ey(e)}},ey=e=>{(e.name==="QuotaExceededError"||e.code===22)&&console.error("localStorage quota exceeded. Some data may not be saved.")},Ze={WORKOUT_HISTORY:"goodlift_workout_history",USER_STATS:"goodlift_user_stats",EXERCISE_WEIGHTS:"goodlift_exercise_weights",EXERCISE_TARGET_REPS:"goodlift_exercise_target_reps",HIIT_SESSIONS:"goodlift_hiit_sessions",STRETCH_SESSIONS:"goodlift_stretch_sessions",CARDIO_SESSIONS:"goodlift_cardio_sessions",FAVORITE_WORKOUTS:"goodlift_favorite_workouts",FAVORITE_EXERCISES:"goodlift_favorite_exercises",PINNED_EXERCISES:"goodlift_pinned_exercises",WORKOUT_PLANS:"goodlift_workout_plans",ACTIVE_PLAN:"goodlift_active_plan",UNLOCKED_ACHIEVEMENTS:"goodlift_unlocked_achievements",TOTAL_PRS:"goodlift_total_prs",TOTAL_VOLUME:"goodlift_total_volume",YOGA_PRESETS:"goodlift_yoga_presets",HIIT_PRESETS:"goodlift_hiit_presets"};let ht=null;const kT=e=>{ht=e},qc=()=>ht,ni=async()=>{try{if(et())return Et("workout_history")||[];if(ht)try{const t=await Us(ht);if(t?.workoutHistory)return localStorage.setItem(Ze.WORKOUT_HISTORY,JSON.stringify(t.workoutHistory)),t.workoutHistory}catch(t){console.error("Firebase fetch failed, using localStorage:",t)}const e=localStorage.getItem(Ze.WORKOUT_HISTORY);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading workout history:",e),[]}},ty=async e=>{try{if(!e)throw new Error("Workout data is required");const t=await ni();t.unshift(e),et()?vt("workout_history",t):(localStorage.setItem(Ze.WORKOUT_HISTORY,JSON.stringify(t)),ht&&await Uc(ht,t))}catch(t){throw console.error("Error saving workout:",t),t}},$R=async e=>{try{const t=await ni();if(e<0||e>=t.length)throw new Error("Invalid workout index");t.splice(e,1),et()?vt("workout_history",t):(localStorage.setItem(Ze.WORKOUT_HISTORY,JSON.stringify(t)),ht&&await Uc(ht,t))}catch(t){throw console.error("Error deleting workout:",t),t}},KR=async(e,t)=>{try{const s=await ni();if(e<0||e>=s.length)throw new Error("Invalid workout index");s[e]={...s[e],...t},et()?vt("workout_history",s):(localStorage.setItem(Ze.WORKOUT_HISTORY,JSON.stringify(s)),ht&&await Uc(ht,s))}catch(s){throw console.error("Error updating workout:",s),s}},Yc=async()=>{try{const e=await ni(),{calculateStreak:t}=await VR(async()=>{const{calculateStreak:j}=await Promise.resolve().then(()=>d7);return{calculateStreak:j}},void 0),s=t(e),a=e.length,l=e.reduce((j,k)=>j+(k.duration||0),0),d=DT().reduce((j,k)=>j+(k.duration||0),0),p=ET().reduce((j,k)=>j+(k.duration||0),0),y=Sh().reduce((j,k)=>j+(k.duration||0),0),b=await PT(),v=await OT(),S={totalWorkouts:a,totalTime:l,totalHiitTime:d,totalCardioTime:p,totalStretchTime:y,currentStreak:s.currentStreak,longestStreak:s.longestStreak,totalPRs:b,totalVolume:v};return et()?vt("user_stats",S):(localStorage.setItem(Ze.USER_STATS,JSON.stringify(S)),ht&&await vh(ht,S)),S}catch(e){return console.error("Error calculating user stats:",e),{totalWorkouts:0,totalTime:0,totalHiitTime:0,totalCardioTime:0,totalStretchTime:0,currentStreak:0,longestStreak:0,totalPRs:0,totalVolume:0}}},ny=async e=>{try{if(!e)throw new Error("Stats object is required");et()?vt("user_stats",e):(localStorage.setItem(Ze.USER_STATS,JSON.stringify(e)),ht&&await vh(ht,e))}catch(t){throw console.error("Error saving user stats:",t),t}},Ma=async e=>{try{if(et()){const u=Et("exercise_weights")?.[e];return u!==void 0?u:null}if(ht)try{const l=await Us(ht);if(l?.exerciseWeights){localStorage.setItem(Ze.EXERCISE_WEIGHTS,JSON.stringify(l.exerciseWeights));const u=l.exerciseWeights[e];return u!==void 0?u:null}}catch(l){console.error("Firebase fetch failed, using localStorage:",l)}const t=localStorage.getItem(Ze.EXERCISE_WEIGHTS),a=(t?JSON.parse(t):{})[e];return a!==void 0?a:null}catch(t){return console.error("Error reading exercise weight:",t),null}},QR=async()=>{try{if(et())return Et("exercise_weights")||{};if(ht)try{const t=await Us(ht);if(t?.exerciseWeights)return localStorage.setItem(Ze.EXERCISE_WEIGHTS,JSON.stringify(t.exerciseWeights)),t.exerciseWeights}catch(t){console.error("Firebase fetch failed, using localStorage:",t)}const e=localStorage.getItem(Ze.EXERCISE_WEIGHTS);return e?JSON.parse(e):{}}catch(e){return console.error("Error reading exercise weights:",e),{}}},Vi=async(e,t)=>{try{if(!e)throw new Error("Exercise name is required");if(t!=null&&(typeof t!="number"||t<0))throw new Error("Weight must be a positive number or null");const s=await QR();s[e]=t??null,et()?vt("exercise_weights",s):(localStorage.setItem(Ze.EXERCISE_WEIGHTS,JSON.stringify(s)),ht&&await Qg(ht,s))}catch(s){throw console.error("Error saving exercise weight:",s),s}},Fi=async e=>{try{if(et()){const u=Et("exercise_target_reps")?.[e];return u!==void 0?u:null}if(ht)try{const l=await Us(ht);if(l?.exerciseTargetReps){localStorage.setItem(Ze.EXERCISE_TARGET_REPS,JSON.stringify(l.exerciseTargetReps));const u=l.exerciseTargetReps[e];return u!==void 0?u:null}}catch(l){console.error("Firebase fetch failed, using localStorage:",l)}const t=localStorage.getItem(Ze.EXERCISE_TARGET_REPS),a=(t?JSON.parse(t):{})[e];return a!==void 0?a:null}catch(t){return console.error("Error reading exercise target reps:",t),null}},Xd=async(e,t)=>{try{if(!e)throw new Error("Exercise name is required");if(t!=null&&(typeof t!="number"||t<1))throw new Error("Reps must be a positive number or null");let s={};if(et())s=Et("exercise_target_reps")||{};else{const a=localStorage.getItem(Ze.EXERCISE_TARGET_REPS);s=a?JSON.parse(a):{}}s[e]=t??null,et()?vt("exercise_target_reps",s):(localStorage.setItem(Ze.EXERCISE_TARGET_REPS,JSON.stringify(s)),ht&&await Xg(ht,s))}catch(s){throw console.error("Error saving exercise target reps:",s),s}},jT=async e=>{if(!e){console.error("Cannot load data: No user ID provided");return}try{kT(e);const t=await Us(e);if(t)t.workoutHistory&&localStorage.setItem(Ze.WORKOUT_HISTORY,JSON.stringify(t.workoutHistory)),t.userStats&&localStorage.setItem(Ze.USER_STATS,JSON.stringify(t.userStats)),t.exerciseWeights&&localStorage.setItem(Ze.EXERCISE_WEIGHTS,JSON.stringify(t.exerciseWeights)),t.exerciseTargetReps&&localStorage.setItem(Ze.EXERCISE_TARGET_REPS,JSON.stringify(t.exerciseTargetReps)),t.hiitSessions&&localStorage.setItem(Ze.HIIT_SESSIONS,JSON.stringify(t.hiitSessions)),t.cardioSessions&&localStorage.setItem(Ze.CARDIO_SESSIONS,JSON.stringify(t.cardioSessions)),t.stretchSessions&&localStorage.setItem(Ze.STRETCH_SESSIONS,JSON.stringify(t.stretchSessions)),t.workoutPlans&&localStorage.setItem(Ze.WORKOUT_PLANS,JSON.stringify(t.workoutPlans)),t.activePlanId&&localStorage.setItem(Ze.ACTIVE_PLAN,t.activePlanId);else{const s=await ni(),a=await Yc(),l=localStorage.getItem(Ze.EXERCISE_WEIGHTS),u=l?JSON.parse(l):{},d=localStorage.getItem(Ze.EXERCISE_TARGET_REPS),h=d?JSON.parse(d):{},p=DT(),g=ET(),y=Sh(),b=localStorage.getItem(Ze.WORKOUT_PLANS),v=b?JSON.parse(b):[],S=localStorage.getItem(Ze.ACTIVE_PLAN);(s.length>0||a?.totalWorkouts>0||Object.keys(u).length>0||Object.keys(h).length>0||p.length>0||g.length>0||y.length>0||v.length>0||S)&&await Promise.all([Uc(e,s),vh(e,a),Qg(e,u),Xg(e,h),zR(e,p),FR(e,g),ST(e,y),HR(e,v),UR(e,S)])}}catch(t){console.error("Error loading user data from cloud:",t)}},DT=()=>{try{if(et())return Et("hiit_sessions")||[];const e=localStorage.getItem(Ze.HIIT_SESSIONS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading HIIT sessions:",e),[]}},ET=()=>{try{if(et())return Et("cardio_sessions")||[];const e=localStorage.getItem(Ze.CARDIO_SESSIONS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading cardio sessions:",e),[]}},Hi=async()=>{try{if(et())return Et("favorite_workouts")||[];if(ht)try{const t=await Us(ht);if(t?.favoriteWorkouts)return localStorage.setItem(Ze.FAVORITE_WORKOUTS,JSON.stringify(t.favoriteWorkouts)),t.favoriteWorkouts}catch(t){console.error("Firebase fetch failed for favorite workouts, using localStorage:",t)}const e=localStorage.getItem(Ze.FAVORITE_WORKOUTS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading favorite workouts:",e),[]}},sy=async e=>{try{if(!e)throw new Error("Workout data is required");const t=await Hi(),s={id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:e.name||`${e.type} Workout`,type:e.type,equipment:e.equipment||"all",exercises:e.exercises,savedAt:new Date().toISOString()};t.unshift(s),et()?vt("favorite_workouts",t):(localStorage.setItem(Ze.FAVORITE_WORKOUTS,JSON.stringify(t)),ht&&await Zg(ht,t))}catch(t){throw console.error("Error saving favorite workout:",t),t}},MT=async e=>{try{const s=(await Hi()).filter(a=>a.id!==e);et()?vt("favorite_workouts",s):(localStorage.setItem(Ze.FAVORITE_WORKOUTS,JSON.stringify(s)),ht&&await Zg(ht,s))}catch(t){throw console.error("Error deleting favorite workout:",t),t}},XR=async(e,t)=>{try{if(!e||!t)throw new Error("Workout ID and new name are required");const a=(await Hi()).map(l=>l.id===e?{...l,name:t}:l);et()?vt("favorite_workouts",a):(localStorage.setItem(Ze.FAVORITE_WORKOUTS,JSON.stringify(a)),ht&&await Zg(ht,a))}catch(s){throw console.error("Error updating favorite workout name:",s),s}},Sh=()=>{try{if(et())return Et("stretch_sessions")||[];const e=localStorage.getItem(Ze.STRETCH_SESSIONS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading stretch sessions:",e),[]}},ZR=async e=>{try{if(!e)throw new Error("Session data is required");const t=Sh();t.unshift(e),et()?vt("stretch_sessions",t):(localStorage.setItem(Ze.STRETCH_SESSIONS,JSON.stringify(t)),ht&&await ST(ht,t))}catch(t){throw console.error("Error saving stretch session:",t),t}},iy=()=>{try{if(et()){const t=Et("favorite_exercises")||[];return new Set(t)}const e=localStorage.getItem(Ze.FAVORITE_EXERCISES);return new Set(e?JSON.parse(e):[])}catch(e){return console.error("Error reading favorite exercises:",e),new Set}},JR=e=>{try{if(!e)throw new Error("Exercise name is required");const t=iy();let s;t.has(e)?(t.delete(e),s=!1):(t.add(e),s=!0);const a=Array.from(t);return et()?vt("favorite_exercises",a):localStorage.setItem(Ze.FAVORITE_EXERCISES,JSON.stringify(a)),s}catch(t){throw console.error("Error toggling favorite exercise:",t),t}},e_=e=>iy().has(e),t_=()=>{try{if(et())return Et("pinned_exercises")||[];const e=localStorage.getItem(Ze.PINNED_EXERCISES);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading pinned exercises:",e),[]}},n_=e=>{try{if(!Array.isArray(e))throw new Error("Pinned exercises must be an array");const t=e.slice(0,10);et()?vt("pinned_exercises",t):localStorage.setItem(Ze.PINNED_EXERCISES,JSON.stringify(t))}catch(t){throw console.error("Error saving pinned exercises:",t),t}},AT=async()=>{try{if(et())return Et("unlocked_achievements")||[];const e=localStorage.getItem(Ze.UNLOCKED_ACHIEVEMENTS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading unlocked achievements:",e),[]}},s_=async e=>{try{et()?vt("unlocked_achievements",e):localStorage.setItem(Ze.UNLOCKED_ACHIEVEMENTS,JSON.stringify(e))}catch(t){console.error("Error saving unlocked achievements:",t)}},i_=async e=>{try{const t=await AT();t.includes(e)||(t.push(e),await s_(t))}catch(t){console.error("Error adding unlocked achievement:",t)}},PT=async()=>{try{if(et())return Et("total_prs")||0;const e=localStorage.getItem(Ze.TOTAL_PRS);return e?parseInt(e,10):0}catch(e){return console.error("Error reading total PRs:",e),0}},a_=async()=>{try{const t=await PT()+1;return et()?vt("total_prs",t):localStorage.setItem(Ze.TOTAL_PRS,t.toString()),t}catch(e){console.error("Error incrementing total PRs:",e)}},OT=async()=>{try{if(et())return Et("total_volume")||0;const e=localStorage.getItem(Ze.TOTAL_VOLUME);return e?parseFloat(e):0}catch(e){return console.error("Error reading total volume:",e),0}},r_=async e=>{try{const s=await OT()+e;return et()?vt("total_volume",s):localStorage.setItem(Ze.TOTAL_VOLUME,s.toString()),s}catch(t){console.error("Error adding to total volume:",t)}},hc=async()=>{try{if(et())return Et("yoga_presets")||[];if(ht)try{const t=await Us(ht);if(t?.yogaPresets)return localStorage.setItem(Ze.YOGA_PRESETS,JSON.stringify(t.yogaPresets)),t.yogaPresets}catch(t){console.error("Firebase fetch failed for yoga presets, using localStorage:",t)}const e=localStorage.getItem(Ze.YOGA_PRESETS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading yoga presets:",e),[]}},o_=async e=>{try{if(!e||!e.name)throw new Error("Preset must have a name");const t=await hc(),s=t.findIndex(a=>a.id===e.id);return s>=0?t[s]={...e,updatedAt:Date.now()}:t.push({...e,id:e.id||`yoga_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:Date.now(),updatedAt:Date.now()}),et()?vt("yoga_presets",t):(localStorage.setItem(Ze.YOGA_PRESETS,JSON.stringify(t)),ht&&await CT(ht,t)),t}catch(t){throw console.error("Error saving yoga preset:",t),t}},l_=async e=>{try{const s=(await hc()).filter(a=>a.id!==e);return et()?vt("yoga_presets",s):(localStorage.setItem(Ze.YOGA_PRESETS,JSON.stringify(s)),ht&&await CT(ht,s)),s}catch(t){throw console.error("Error deleting yoga preset:",t),t}},fc=async()=>{try{if(et())return Et("hiit_presets")||[];if(ht)try{const t=await Us(ht);if(t?.hiitPresets)return localStorage.setItem(Ze.HIIT_PRESETS,JSON.stringify(t.hiitPresets)),t.hiitPresets}catch(t){console.error("Firebase fetch failed for HIIT presets, using localStorage:",t)}const e=localStorage.getItem(Ze.HIIT_PRESETS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading HIIT presets:",e),[]}},c_=async e=>{try{if(!e||!e.name)throw new Error("Preset must have a name");const t=await fc(),s=t.findIndex(a=>a.id===e.id);return s>=0?t[s]={...e,updatedAt:Date.now()}:t.push({...e,id:e.id||`hiit_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:Date.now(),updatedAt:Date.now()}),et()?vt("hiit_presets",t):(localStorage.setItem(Ze.HIIT_PRESETS,JSON.stringify(t)),ht&&await wT(ht,t)),t}catch(t){throw console.error("Error saving HIIT preset:",t),t}},u_=async e=>{try{const s=(await fc()).filter(a=>a.id!==e);return et()?vt("hiit_presets",s):(localStorage.setItem(Ze.HIIT_PRESETS,JSON.stringify(s)),ht&&await wT(ht,s)),s}catch(t){throw console.error("Error deleting HIIT preset:",t),t}},RT=x.createContext({}),Er=()=>x.useContext(RT),_T=({children:e})=>{const[t,s]=x.useState(null),[a,l]=x.useState(!0),[u,d]=x.useState(!1),[h,p]=x.useState(!1),g=()=>{if(et()){const w=TT(),T=Object.keys(w).length>0;return p(T),T}return p(!1),!1},y=(w,T)=>LP(bd,w,T),b=(w,T)=>NP(bd,w,T),v=()=>u?(d(!1),Qd(),s(null),Promise.resolve()):WP(bd),S=()=>{qR(),d(!0),s({uid:"guest",email:null,isGuest:!0})},j=async(w,T)=>{if(d(!1),T||Qd(),s(w),!T)try{await jT(w.uid)}catch(D){console.error("Error loading user data:",D)}};x.useEffect(()=>(et()&&(d(!0),s({uid:"guest",email:null,isGuest:!0}),g(),l(!1)),IP(bd,async T=>{if(T){const D=g();await j(T,D)}else et()||(d(!1),p(!1),s(null),kT(null));l(!1)})),[]);const k={currentUser:t,isGuest:u,hasGuestData:h,signup:y,login:b,logout:v,continueAsGuest:S,checkGuestData:g};return r.jsx(RT.Provider,{value:k,children:!a&&e})};_T.propTypes={children:E.node.isRequired};const IT=6048e5,d_=864e5,WT=6e4,NT=36e5,h_=1e3,KS=Symbol.for("constructDateFrom");function sn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&KS in e?e[KS](t):e instanceof Date?new e.constructor(t):new Date(t)}function st(e,t){return sn(t||e,e)}function Gc(e,t,s){const a=st(e,s?.in);return isNaN(t)?sn(s?.in||e,NaN):(t&&a.setDate(a.getDate()+t),a)}function wh(e,t,s){const a=st(e,s?.in);if(isNaN(t))return sn(e,NaN);if(!t)return a;const l=a.getDate(),u=sn(e,a.getTime());u.setMonth(a.getMonth()+t+1,0);const d=u.getDate();return l>=d?u:(a.setFullYear(u.getFullYear(),u.getMonth(),l),a)}function LT(e,t,s){return sn(e,+st(e)+t)}function f_(e,t,s){return LT(e,t*NT)}let p_={};function Mr(){return p_}function ei(e,t){const s=Mr(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,l=st(e,t?.in),u=l.getDay(),d=(u<a?7:0)+u-a;return l.setDate(l.getDate()-d),l.setHours(0,0,0,0),l}function Ko(e,t){return ei(e,{...t,weekStartsOn:1})}function BT(e,t){const s=st(e,t?.in),a=s.getFullYear(),l=sn(s,0);l.setFullYear(a+1,0,4),l.setHours(0,0,0,0);const u=Ko(l),d=sn(s,0);d.setFullYear(a,0,4),d.setHours(0,0,0,0);const h=Ko(d);return s.getTime()>=u.getTime()?a+1:s.getTime()>=h.getTime()?a:a-1}function Zd(e){const t=st(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function $c(e,...t){const s=sn.bind(null,t.find(a=>typeof a=="object"));return t.map(s)}function Ec(e,t){const s=st(e,t?.in);return s.setHours(0,0,0,0),s}function m_(e,t,s){const[a,l]=$c(s?.in,e,t),u=Ec(a),d=Ec(l),h=+u-Zd(u),p=+d-Zd(d);return Math.round((h-p)/d_)}function g_(e,t){const s=BT(e,t),a=sn(e,0);return a.setFullYear(s,0,4),a.setHours(0,0,0,0),Ko(a)}function y_(e,t,s){const a=st(e,s?.in);return a.setTime(a.getTime()+t*WT),a}function x_(e,t,s){return LT(e,t*1e3)}function b_(e,t,s){return Gc(e,t*7,s)}function v_(e,t,s){return wh(e,t*12,s)}function Hm(e,t,s){const[a,l]=$c(s?.in,e,t);return+Ec(a)==+Ec(l)}function S_(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function VT(e){return!(!S_(e)&&typeof e!="number"||isNaN(+st(e)))}function QS(e,t){const s=st(e,t?.in);return s.setHours(23,59,59,999),s}function zT(e,t){const s=st(e,t?.in),a=s.getMonth();return s.setFullYear(s.getFullYear(),a+1,0),s.setHours(23,59,59,999),s}function FT(e,t){const s=st(e,t?.in);return s.setDate(1),s.setHours(0,0,0,0),s}function XS(e,t){const s=st(e,t?.in),a=s.getFullYear();return s.setFullYear(a+1,0,0),s.setHours(23,59,59,999),s}function HT(e,t){const s=st(e,t?.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}function UT(e,t){const s=Mr(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,l=st(e,t?.in),u=l.getDay(),d=(u<a?-7:0)+6-(u-a);return l.setDate(l.getDate()+d),l.setHours(23,59,59,999),l}const w_={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},C_=(e,t,s)=>{let a;const l=w_[e];return typeof l=="string"?a=l:t===1?a=l.one:a=l.other.replace("{{count}}",t.toString()),s?.addSuffix?s.comparison&&s.comparison>0?"in "+a:a+" ago":a};function dm(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const T_={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},k_={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},j_={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},D_={date:dm({formats:T_,defaultWidth:"full"}),time:dm({formats:k_,defaultWidth:"full"}),dateTime:dm({formats:j_,defaultWidth:"full"})},E_={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},M_=(e,t,s,a)=>E_[e];function Zl(e){return(t,s)=>{const a=s?.context?String(s.context):"standalone";let l;if(a==="formatting"&&e.formattingValues){const d=e.defaultFormattingWidth||e.defaultWidth,h=s?.width?String(s.width):d;l=e.formattingValues[h]||e.formattingValues[d]}else{const d=e.defaultWidth,h=s?.width?String(s.width):e.defaultWidth;l=e.values[h]||e.values[d]}const u=e.argumentCallback?e.argumentCallback(t):t;return l[u]}}const A_={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},P_={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},O_={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},R_={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},__={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},I_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},W_=(e,t)=>{const s=Number(e),a=s%100;if(a>20||a<10)switch(a%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},N_={ordinalNumber:W_,era:Zl({values:A_,defaultWidth:"wide"}),quarter:Zl({values:P_,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Zl({values:O_,defaultWidth:"wide"}),day:Zl({values:R_,defaultWidth:"wide"}),dayPeriod:Zl({values:__,defaultWidth:"wide",formattingValues:I_,defaultFormattingWidth:"wide"})};function Jl(e){return(t,s={})=>{const a=s.width,l=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],u=t.match(l);if(!u)return null;const d=u[0],h=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],p=Array.isArray(h)?B_(h,b=>b.test(d)):L_(h,b=>b.test(d));let g;g=e.valueCallback?e.valueCallback(p):p,g=s.valueCallback?s.valueCallback(g):g;const y=t.slice(d.length);return{value:g,rest:y}}}function L_(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function B_(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function V_(e){return(t,s={})=>{const a=t.match(e.matchPattern);if(!a)return null;const l=a[0],u=t.match(e.parsePattern);if(!u)return null;let d=e.valueCallback?e.valueCallback(u[0]):u[0];d=s.valueCallback?s.valueCallback(d):d;const h=t.slice(l.length);return{value:d,rest:h}}}const z_=/^(\d+)(th|st|nd|rd)?/i,F_=/\d+/i,H_={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},U_={any:[/^b/i,/^(a|c)/i]},q_={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Y_={any:[/1/i,/2/i,/3/i,/4/i]},G_={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$_={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},K_={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Q_={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},X_={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Z_={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},J_={ordinalNumber:V_({matchPattern:z_,parsePattern:F_,valueCallback:e=>parseInt(e,10)}),era:Jl({matchPatterns:H_,defaultMatchWidth:"wide",parsePatterns:U_,defaultParseWidth:"any"}),quarter:Jl({matchPatterns:q_,defaultMatchWidth:"wide",parsePatterns:Y_,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Jl({matchPatterns:G_,defaultMatchWidth:"wide",parsePatterns:$_,defaultParseWidth:"any"}),day:Jl({matchPatterns:K_,defaultMatchWidth:"wide",parsePatterns:Q_,defaultParseWidth:"any"}),dayPeriod:Jl({matchPatterns:X_,defaultMatchWidth:"any",parsePatterns:Z_,defaultParseWidth:"any"})},ay={code:"en-US",formatDistance:C_,formatLong:D_,formatRelative:M_,localize:N_,match:J_,options:{weekStartsOn:0,firstWeekContainsDate:1}};function e5(e,t){const s=st(e,t?.in);return m_(s,HT(s))+1}function qT(e,t){const s=st(e,t?.in),a=+Ko(s)-+g_(s);return Math.round(a/IT)+1}function ry(e,t){const s=st(e,t?.in),a=s.getFullYear(),l=Mr(),u=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,d=sn(t?.in||e,0);d.setFullYear(a+1,0,u),d.setHours(0,0,0,0);const h=ei(d,t),p=sn(t?.in||e,0);p.setFullYear(a,0,u),p.setHours(0,0,0,0);const g=ei(p,t);return+s>=+h?a+1:+s>=+g?a:a-1}function t5(e,t){const s=Mr(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,l=ry(e,t),u=sn(t?.in||e,0);return u.setFullYear(l,0,a),u.setHours(0,0,0,0),ei(u,t)}function oy(e,t){const s=st(e,t?.in),a=+ei(s,t)-+t5(s,t);return Math.round(a/IT)+1}function Wt(e,t){const s=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return s+a}const wa={y(e,t){const s=e.getFullYear(),a=s>0?s:1-s;return Wt(t==="yy"?a%100:a,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):Wt(s+1,2)},d(e,t){return Wt(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,t){return Wt(e.getHours()%12||12,t.length)},H(e,t){return Wt(e.getHours(),t.length)},m(e,t){return Wt(e.getMinutes(),t.length)},s(e,t){return Wt(e.getSeconds(),t.length)},S(e,t){const s=t.length,a=e.getMilliseconds(),l=Math.trunc(a*Math.pow(10,s-3));return Wt(l,t.length)}},bo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ZS={G:function(e,t,s){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(a,{width:"abbreviated"});case"GGGGG":return s.era(a,{width:"narrow"});case"GGGG":default:return s.era(a,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const a=e.getFullYear(),l=a>0?a:1-a;return s.ordinalNumber(l,{unit:"year"})}return wa.y(e,t)},Y:function(e,t,s,a){const l=ry(e,a),u=l>0?l:1-l;if(t==="YY"){const d=u%100;return Wt(d,2)}return t==="Yo"?s.ordinalNumber(u,{unit:"year"}):Wt(u,t.length)},R:function(e,t){const s=BT(e);return Wt(s,t.length)},u:function(e,t){const s=e.getFullYear();return Wt(s,t.length)},Q:function(e,t,s){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return Wt(a,2);case"Qo":return s.ordinalNumber(a,{unit:"quarter"});case"QQQ":return s.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,s){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return Wt(a,2);case"qo":return s.ordinalNumber(a,{unit:"quarter"});case"qqq":return s.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,s){const a=e.getMonth();switch(t){case"M":case"MM":return wa.M(e,t);case"Mo":return s.ordinalNumber(a+1,{unit:"month"});case"MMM":return s.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,s){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return Wt(a+1,2);case"Lo":return s.ordinalNumber(a+1,{unit:"month"});case"LLL":return s.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,s,a){const l=oy(e,a);return t==="wo"?s.ordinalNumber(l,{unit:"week"}):Wt(l,t.length)},I:function(e,t,s){const a=qT(e);return t==="Io"?s.ordinalNumber(a,{unit:"week"}):Wt(a,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):wa.d(e,t)},D:function(e,t,s){const a=e5(e);return t==="Do"?s.ordinalNumber(a,{unit:"dayOfYear"}):Wt(a,t.length)},E:function(e,t,s){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(a,{width:"short",context:"formatting"});case"EEEE":default:return s.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,s,a){const l=e.getDay(),u=(l-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(u);case"ee":return Wt(u,2);case"eo":return s.ordinalNumber(u,{unit:"day"});case"eee":return s.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(l,{width:"short",context:"formatting"});case"eeee":default:return s.day(l,{width:"wide",context:"formatting"})}},c:function(e,t,s,a){const l=e.getDay(),u=(l-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(u);case"cc":return Wt(u,t.length);case"co":return s.ordinalNumber(u,{unit:"day"});case"ccc":return s.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(l,{width:"narrow",context:"standalone"});case"cccccc":return s.day(l,{width:"short",context:"standalone"});case"cccc":default:return s.day(l,{width:"wide",context:"standalone"})}},i:function(e,t,s){const a=e.getDay(),l=a===0?7:a;switch(t){case"i":return String(l);case"ii":return Wt(l,t.length);case"io":return s.ordinalNumber(l,{unit:"day"});case"iii":return s.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(a,{width:"short",context:"formatting"});case"iiii":default:return s.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,s){const l=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(e,t,s){const a=e.getHours();let l;switch(a===12?l=bo.noon:a===0?l=bo.midnight:l=a/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(e,t,s){const a=e.getHours();let l;switch(a>=17?l=bo.evening:a>=12?l=bo.afternoon:a>=4?l=bo.morning:l=bo.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),s.ordinalNumber(a,{unit:"hour"})}return wa.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):wa.H(e,t)},K:function(e,t,s){const a=e.getHours()%12;return t==="Ko"?s.ordinalNumber(a,{unit:"hour"}):Wt(a,t.length)},k:function(e,t,s){let a=e.getHours();return a===0&&(a=24),t==="ko"?s.ordinalNumber(a,{unit:"hour"}):Wt(a,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):wa.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):wa.s(e,t)},S:function(e,t){return wa.S(e,t)},X:function(e,t,s){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return ew(a);case"XXXX":case"XX":return hr(a);case"XXXXX":case"XXX":default:return hr(a,":")}},x:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"x":return ew(a);case"xxxx":case"xx":return hr(a);case"xxxxx":case"xxx":default:return hr(a,":")}},O:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+JS(a,":");case"OOOO":default:return"GMT"+hr(a,":")}},z:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+JS(a,":");case"zzzz":default:return"GMT"+hr(a,":")}},t:function(e,t,s){const a=Math.trunc(+e/1e3);return Wt(a,t.length)},T:function(e,t,s){return Wt(+e,t.length)}};function JS(e,t=""){const s=e>0?"-":"+",a=Math.abs(e),l=Math.trunc(a/60),u=a%60;return u===0?s+String(l):s+String(l)+t+Wt(u,2)}function ew(e,t){return e%60===0?(e>0?"-":"+")+Wt(Math.abs(e)/60,2):hr(e,t)}function hr(e,t=""){const s=e>0?"-":"+",a=Math.abs(e),l=Wt(Math.trunc(a/60),2),u=Wt(a%60,2);return s+l+t+u}const tw=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},YT=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},n5=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],a=s[1],l=s[2];if(!l)return tw(e,t);let u;switch(a){case"P":u=t.dateTime({width:"short"});break;case"PP":u=t.dateTime({width:"medium"});break;case"PPP":u=t.dateTime({width:"long"});break;case"PPPP":default:u=t.dateTime({width:"full"});break}return u.replace("{{date}}",tw(a,t)).replace("{{time}}",YT(l,t))},Jd={p:YT,P:n5},s5=/^D+$/,i5=/^Y+$/,a5=["D","DD","YY","YYYY"];function GT(e){return s5.test(e)}function $T(e){return i5.test(e)}function Um(e,t,s){const a=r5(e,t,s);if(console.warn(a),a5.includes(e))throw new RangeError(a)}function r5(e,t,s){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const o5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,l5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,c5=/^'([^]*?)'?$/,u5=/''/g,d5=/[a-zA-Z]/;function qm(e,t,s){const a=Mr(),l=s?.locale??a.locale??ay,u=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,d=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,h=st(e,s?.in);if(!VT(h))throw new RangeError("Invalid time value");let p=t.match(l5).map(y=>{const b=y[0];if(b==="p"||b==="P"){const v=Jd[b];return v(y,l.formatLong)}return y}).join("").match(o5).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:h5(y)};if(ZS[b])return{isToken:!0,value:y};if(b.match(d5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});l.localize.preprocessor&&(p=l.localize.preprocessor(h,p));const g={firstWeekContainsDate:u,weekStartsOn:d,locale:l};return p.map(y=>{if(!y.isToken)return y.value;const b=y.value;(!s?.useAdditionalWeekYearTokens&&$T(b)||!s?.useAdditionalDayOfYearTokens&&GT(b))&&Um(b,t,String(e));const v=ZS[b[0]];return v(h,b,l.localize,g)}).join("")}function h5(e){const t=e.match(c5);return t?t[1].replace(u5,"'"):e}function f5(e,t){return st(e,t?.in).getDate()}function KT(e,t){const s=st(e,t?.in),a=s.getFullYear(),l=s.getMonth(),u=sn(s,0);return u.setFullYear(a,l+1,0),u.setHours(0,0,0,0),u.getDate()}function p5(){return Object.assign({},Mr())}function m5(e,t){return st(e,t?.in).getHours()}function g5(e,t){const s=st(e,t?.in).getDay();return s===0?7:s}function y5(e){return st(e).getMilliseconds()}function x5(e,t){return st(e,t?.in).getMinutes()}function b5(e,t){return st(e,t?.in).getMonth()}function v5(e){return st(e).getSeconds()}function S5(e,t){return st(e,t?.in).getFullYear()}function Id(e,t){return+st(e)>+st(t)}function hm(e,t){return+st(e)<+st(t)}function w5(e,t){return+st(e)==+st(t)}function C5(e,t){const s=T5(t)?new t(0):sn(t,0);return s.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),s.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),s}function T5(e){return typeof e=="function"&&e.prototype?.constructor===e}const k5=10;class QT{subPriority=0;validate(t,s){return!0}}class j5 extends QT{constructor(t,s,a,l,u){super(),this.value=t,this.validateValue=s,this.setValue=a,this.priority=l,u&&(this.subPriority=u)}validate(t,s){return this.validateValue(t,this.value,s)}set(t,s,a){return this.setValue(t,s,this.value,a)}}class D5 extends QT{priority=k5;subPriority=-1;constructor(t,s){super(),this.context=t||(a=>sn(s,a))}set(t,s){return s.timestampIsSet?t:sn(t,C5(t,this.context))}}class Ot{run(t,s,a,l){const u=this.parse(t,s,a,l);return u?{setter:new j5(u.value,this.validate,this.set,this.priority,this.subPriority),rest:u.rest}:null}validate(t,s,a){return!0}}class E5 extends Ot{priority=140;parse(t,s,a){switch(s){case"G":case"GG":case"GGG":return a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"});case"GGGGG":return a.era(t,{width:"narrow"});case"GGGG":default:return a.era(t,{width:"wide"})||a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"})}}set(t,s,a){return s.era=a,t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const Sn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ui={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function wn(e,t){return e&&{value:t(e.value),rest:e.rest}}function on(e,t){const s=t.match(e);return s?{value:parseInt(s[0],10),rest:t.slice(s[0].length)}:null}function di(e,t){const s=t.match(e);if(!s)return null;if(s[0]==="Z")return{value:0,rest:t.slice(1)};const a=s[1]==="+"?1:-1,l=s[2]?parseInt(s[2],10):0,u=s[3]?parseInt(s[3],10):0,d=s[5]?parseInt(s[5],10):0;return{value:a*(l*NT+u*WT+d*h_),rest:t.slice(s[0].length)}}function XT(e){return on(Sn.anyDigitsSigned,e)}function pn(e,t){switch(e){case 1:return on(Sn.singleDigit,t);case 2:return on(Sn.twoDigits,t);case 3:return on(Sn.threeDigits,t);case 4:return on(Sn.fourDigits,t);default:return on(new RegExp("^\\d{1,"+e+"}"),t)}}function eh(e,t){switch(e){case 1:return on(Sn.singleDigitSigned,t);case 2:return on(Sn.twoDigitsSigned,t);case 3:return on(Sn.threeDigitsSigned,t);case 4:return on(Sn.fourDigitsSigned,t);default:return on(new RegExp("^-?\\d{1,"+e+"}"),t)}}function ly(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function ZT(e,t){const s=t>0,a=s?t:1-t;let l;if(a<=50)l=e||100;else{const u=a+50,d=Math.trunc(u/100)*100,h=e>=u%100;l=e+d-(h?100:0)}return s?l:1-l}function JT(e){return e%400===0||e%4===0&&e%100!==0}class M5 extends Ot{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,s,a){const l=u=>({year:u,isTwoDigitYear:s==="yy"});switch(s){case"y":return wn(pn(4,t),l);case"yo":return wn(a.ordinalNumber(t,{unit:"year"}),l);default:return wn(pn(s.length,t),l)}}validate(t,s){return s.isTwoDigitYear||s.year>0}set(t,s,a){const l=t.getFullYear();if(a.isTwoDigitYear){const d=ZT(a.year,l);return t.setFullYear(d,0,1),t.setHours(0,0,0,0),t}const u=!("era"in s)||s.era===1?a.year:1-a.year;return t.setFullYear(u,0,1),t.setHours(0,0,0,0),t}}class A5 extends Ot{priority=130;parse(t,s,a){const l=u=>({year:u,isTwoDigitYear:s==="YY"});switch(s){case"Y":return wn(pn(4,t),l);case"Yo":return wn(a.ordinalNumber(t,{unit:"year"}),l);default:return wn(pn(s.length,t),l)}}validate(t,s){return s.isTwoDigitYear||s.year>0}set(t,s,a,l){const u=ry(t,l);if(a.isTwoDigitYear){const h=ZT(a.year,u);return t.setFullYear(h,0,l.firstWeekContainsDate),t.setHours(0,0,0,0),ei(t,l)}const d=!("era"in s)||s.era===1?a.year:1-a.year;return t.setFullYear(d,0,l.firstWeekContainsDate),t.setHours(0,0,0,0),ei(t,l)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class P5 extends Ot{priority=130;parse(t,s){return eh(s==="R"?4:s.length,t)}set(t,s,a){const l=sn(t,0);return l.setFullYear(a,0,4),l.setHours(0,0,0,0),Ko(l)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class O5 extends Ot{priority=130;parse(t,s){return eh(s==="u"?4:s.length,t)}set(t,s,a){return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class R5 extends Ot{priority=120;parse(t,s,a){switch(s){case"Q":case"QQ":return pn(s.length,t);case"Qo":return a.ordinalNumber(t,{unit:"quarter"});case"QQQ":return a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(t,{width:"wide",context:"formatting"})||a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,s){return s>=1&&s<=4}set(t,s,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class _5 extends Ot{priority=120;parse(t,s,a){switch(s){case"q":case"qq":return pn(s.length,t);case"qo":return a.ordinalNumber(t,{unit:"quarter"});case"qqq":return a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(t,{width:"wide",context:"standalone"})||a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,s){return s>=1&&s<=4}set(t,s,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class I5 extends Ot{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,s,a){const l=u=>u-1;switch(s){case"M":return wn(on(Sn.month,t),l);case"MM":return wn(pn(2,t),l);case"Mo":return wn(a.ordinalNumber(t,{unit:"month"}),l);case"MMM":return a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(t,{width:"wide",context:"formatting"})||a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"})}}validate(t,s){return s>=0&&s<=11}set(t,s,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}}class W5 extends Ot{priority=110;parse(t,s,a){const l=u=>u-1;switch(s){case"L":return wn(on(Sn.month,t),l);case"LL":return wn(pn(2,t),l);case"Lo":return wn(a.ordinalNumber(t,{unit:"month"}),l);case"LLL":return a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(t,{width:"wide",context:"standalone"})||a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"})}}validate(t,s){return s>=0&&s<=11}set(t,s,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function N5(e,t,s){const a=st(e,s?.in),l=oy(a,s)-t;return a.setDate(a.getDate()-l*7),st(a,s?.in)}class L5 extends Ot{priority=100;parse(t,s,a){switch(s){case"w":return on(Sn.week,t);case"wo":return a.ordinalNumber(t,{unit:"week"});default:return pn(s.length,t)}}validate(t,s){return s>=1&&s<=53}set(t,s,a,l){return ei(N5(t,a,l),l)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function B5(e,t,s){const a=st(e,s?.in),l=qT(a,s)-t;return a.setDate(a.getDate()-l*7),a}class V5 extends Ot{priority=100;parse(t,s,a){switch(s){case"I":return on(Sn.week,t);case"Io":return a.ordinalNumber(t,{unit:"week"});default:return pn(s.length,t)}}validate(t,s){return s>=1&&s<=53}set(t,s,a){return Ko(B5(t,a))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const z5=[31,28,31,30,31,30,31,31,30,31,30,31],F5=[31,29,31,30,31,30,31,31,30,31,30,31];class H5 extends Ot{priority=90;subPriority=1;parse(t,s,a){switch(s){case"d":return on(Sn.date,t);case"do":return a.ordinalNumber(t,{unit:"date"});default:return pn(s.length,t)}}validate(t,s){const a=t.getFullYear(),l=JT(a),u=t.getMonth();return l?s>=1&&s<=F5[u]:s>=1&&s<=z5[u]}set(t,s,a){return t.setDate(a),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class U5 extends Ot{priority=90;subpriority=1;parse(t,s,a){switch(s){case"D":case"DD":return on(Sn.dayOfYear,t);case"Do":return a.ordinalNumber(t,{unit:"date"});default:return pn(s.length,t)}}validate(t,s){const a=t.getFullYear();return JT(a)?s>=1&&s<=366:s>=1&&s<=365}set(t,s,a){return t.setMonth(0,a),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function cy(e,t,s){const a=Mr(),l=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,u=st(e,s?.in),d=u.getDay(),p=(t%7+7)%7,g=7-l,y=t<0||t>6?t-(d+g)%7:(p+g)%7-(d+g)%7;return Gc(u,y,s)}class q5 extends Ot{priority=90;parse(t,s,a){switch(s){case"E":case"EE":case"EEE":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,s){return s>=0&&s<=6}set(t,s,a,l){return t=cy(t,a,l),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class Y5 extends Ot{priority=90;parse(t,s,a,l){const u=d=>{const h=Math.floor((d-1)/7)*7;return(d+l.weekStartsOn+6)%7+h};switch(s){case"e":case"ee":return wn(pn(s.length,t),u);case"eo":return wn(a.ordinalNumber(t,{unit:"day"}),u);case"eee":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeeee":return a.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,s){return s>=0&&s<=6}set(t,s,a,l){return t=cy(t,a,l),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class G5 extends Ot{priority=90;parse(t,s,a,l){const u=d=>{const h=Math.floor((d-1)/7)*7;return(d+l.weekStartsOn+6)%7+h};switch(s){case"c":case"cc":return wn(pn(s.length,t),u);case"co":return wn(a.ordinalNumber(t,{unit:"day"}),u);case"ccc":return a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"ccccc":return a.day(t,{width:"narrow",context:"standalone"});case"cccccc":return a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(t,{width:"wide",context:"standalone"})||a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"})}}validate(t,s){return s>=0&&s<=6}set(t,s,a,l){return t=cy(t,a,l),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function $5(e,t,s){const a=st(e,s?.in),l=g5(a,s),u=t-l;return Gc(a,u,s)}class K5 extends Ot{priority=90;parse(t,s,a){const l=u=>u===0?7:u;switch(s){case"i":case"ii":return pn(s.length,t);case"io":return a.ordinalNumber(t,{unit:"day"});case"iii":return wn(a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),l);case"iiiii":return wn(a.day(t,{width:"narrow",context:"formatting"}),l);case"iiiiii":return wn(a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),l);case"iiii":default:return wn(a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),l)}}validate(t,s){return s>=1&&s<=7}set(t,s,a){return t=$5(t,a),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class Q5 extends Ot{priority=80;parse(t,s,a){switch(s){case"a":case"aa":case"aaa":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,s,a){return t.setHours(ly(a),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class X5 extends Ot{priority=80;parse(t,s,a){switch(s){case"b":case"bb":case"bbb":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,s,a){return t.setHours(ly(a),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class Z5 extends Ot{priority=80;parse(t,s,a){switch(s){case"B":case"BB":case"BBB":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,s,a){return t.setHours(ly(a),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class J5 extends Ot{priority=70;parse(t,s,a){switch(s){case"h":return on(Sn.hour12h,t);case"ho":return a.ordinalNumber(t,{unit:"hour"});default:return pn(s.length,t)}}validate(t,s){return s>=1&&s<=12}set(t,s,a){const l=t.getHours()>=12;return l&&a<12?t.setHours(a+12,0,0,0):!l&&a===12?t.setHours(0,0,0,0):t.setHours(a,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class eI extends Ot{priority=70;parse(t,s,a){switch(s){case"H":return on(Sn.hour23h,t);case"Ho":return a.ordinalNumber(t,{unit:"hour"});default:return pn(s.length,t)}}validate(t,s){return s>=0&&s<=23}set(t,s,a){return t.setHours(a,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class tI extends Ot{priority=70;parse(t,s,a){switch(s){case"K":return on(Sn.hour11h,t);case"Ko":return a.ordinalNumber(t,{unit:"hour"});default:return pn(s.length,t)}}validate(t,s){return s>=0&&s<=11}set(t,s,a){return t.getHours()>=12&&a<12?t.setHours(a+12,0,0,0):t.setHours(a,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class nI extends Ot{priority=70;parse(t,s,a){switch(s){case"k":return on(Sn.hour24h,t);case"ko":return a.ordinalNumber(t,{unit:"hour"});default:return pn(s.length,t)}}validate(t,s){return s>=1&&s<=24}set(t,s,a){const l=a<=24?a%24:a;return t.setHours(l,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class sI extends Ot{priority=60;parse(t,s,a){switch(s){case"m":return on(Sn.minute,t);case"mo":return a.ordinalNumber(t,{unit:"minute"});default:return pn(s.length,t)}}validate(t,s){return s>=0&&s<=59}set(t,s,a){return t.setMinutes(a,0,0),t}incompatibleTokens=["t","T"]}class iI extends Ot{priority=50;parse(t,s,a){switch(s){case"s":return on(Sn.second,t);case"so":return a.ordinalNumber(t,{unit:"second"});default:return pn(s.length,t)}}validate(t,s){return s>=0&&s<=59}set(t,s,a){return t.setSeconds(a,0),t}incompatibleTokens=["t","T"]}class aI extends Ot{priority=30;parse(t,s){const a=l=>Math.trunc(l*Math.pow(10,-s.length+3));return wn(pn(s.length,t),a)}set(t,s,a){return t.setMilliseconds(a),t}incompatibleTokens=["t","T"]}class rI extends Ot{priority=10;parse(t,s){switch(s){case"X":return di(ui.basicOptionalMinutes,t);case"XX":return di(ui.basic,t);case"XXXX":return di(ui.basicOptionalSeconds,t);case"XXXXX":return di(ui.extendedOptionalSeconds,t);case"XXX":default:return di(ui.extended,t)}}set(t,s,a){return s.timestampIsSet?t:sn(t,t.getTime()-Zd(t)-a)}incompatibleTokens=["t","T","x"]}class oI extends Ot{priority=10;parse(t,s){switch(s){case"x":return di(ui.basicOptionalMinutes,t);case"xx":return di(ui.basic,t);case"xxxx":return di(ui.basicOptionalSeconds,t);case"xxxxx":return di(ui.extendedOptionalSeconds,t);case"xxx":default:return di(ui.extended,t)}}set(t,s,a){return s.timestampIsSet?t:sn(t,t.getTime()-Zd(t)-a)}incompatibleTokens=["t","T","X"]}class lI extends Ot{priority=40;parse(t){return XT(t)}set(t,s,a){return[sn(t,a*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class cI extends Ot{priority=20;parse(t){return XT(t)}set(t,s,a){return[sn(t,a),{timestampIsSet:!0}]}incompatibleTokens="*"}const uI={G:new E5,y:new M5,Y:new A5,R:new P5,u:new O5,Q:new R5,q:new _5,M:new I5,L:new W5,w:new L5,I:new V5,d:new H5,D:new U5,E:new q5,e:new Y5,c:new G5,i:new K5,a:new Q5,b:new X5,B:new Z5,h:new J5,H:new eI,K:new tI,k:new nI,m:new sI,s:new iI,S:new aI,X:new rI,x:new oI,t:new lI,T:new cI},dI=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hI=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fI=/^'([^]*?)'?$/,pI=/''/g,mI=/\S/,gI=/[a-zA-Z]/;function yI(e,t,s,a){const l=()=>sn(a?.in||s,NaN),u=p5(),d=a?.locale??u.locale??ay,h=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??u.firstWeekContainsDate??u.locale?.options?.firstWeekContainsDate??1,p=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??u.weekStartsOn??u.locale?.options?.weekStartsOn??0;if(!t)return e?l():st(s,a?.in);const g={firstWeekContainsDate:h,weekStartsOn:p,locale:d},y=[new D5(a?.in,s)],b=t.match(hI).map(w=>{const T=w[0];if(T in Jd){const D=Jd[T];return D(w,d.formatLong)}return w}).join("").match(dI),v=[];for(let w of b){!a?.useAdditionalWeekYearTokens&&$T(w)&&Um(w,t,e),!a?.useAdditionalDayOfYearTokens&&GT(w)&&Um(w,t,e);const T=w[0],D=uI[T];if(D){const{incompatibleTokens:A}=D;if(Array.isArray(A)){const P=v.find(O=>A.includes(O.token)||O.token===T);if(P)throw new RangeError(`The format string mustn't contain \`${P.fullToken}\` and \`${w}\` at the same time`)}else if(D.incompatibleTokens==="*"&&v.length>0)throw new RangeError(`The format string mustn't contain \`${w}\` and any other token at the same time`);v.push({token:T,fullToken:w});const W=D.run(e,w,d.match,g);if(!W)return l();y.push(W.setter),e=W.rest}else{if(T.match(gI))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");if(w==="''"?w="'":T==="'"&&(w=xI(w)),e.indexOf(w)===0)e=e.slice(w.length);else return l()}}if(e.length>0&&mI.test(e))return l();const S=y.map(w=>w.priority).sort((w,T)=>T-w).filter((w,T,D)=>D.indexOf(w)===T).map(w=>y.filter(T=>T.priority===w).sort((T,D)=>D.subPriority-T.subPriority)).map(w=>w[0]);let j=st(s,a?.in);if(isNaN(+j))return l();const k={};for(const w of S){if(!w.validate(j,g))return l();const T=w.set(j,k,g);Array.isArray(T)?(j=T[0],Object.assign(k,T[1])):j=T}return j}function xI(e){return e.match(fI)[1].replace(pI,"'")}function nw(e,t){const s=st(e,t?.in);return s.setMinutes(0,0,0),s}function bI(e,t,s){const[a,l]=$c(s?.in,e,t);return+nw(a)==+nw(l)}function ek(e,t,s){const[a,l]=$c(s?.in,e,t);return a.getFullYear()===l.getFullYear()&&a.getMonth()===l.getMonth()}function vI(e,t,s){const[a,l]=$c(s?.in,e,t);return a.getFullYear()===l.getFullYear()}function SI(e,t,s){const a=+st(e,s?.in),[l,u]=[+st(t.start,s?.in),+st(t.end,s?.in)].sort((d,h)=>d-h);return a>=l&&a<=u}function wI(e,t,s){const a=st(e,s?.in),l=a.getFullYear(),u=a.getDate(),d=sn(e,0);d.setFullYear(l,t,15),d.setHours(0,0,0,0);const h=KT(d);return a.setMonth(t,Math.min(u,h)),a}function CI(e,t,s){const a=st(e,s?.in);return a.setDate(t),a}function TI(e,t,s){const a=st(e,s?.in);return a.setHours(t),a}function kI(e,t,s){const a=st(e,s?.in);return a.setMilliseconds(t),a}function jI(e,t,s){const a=st(e,s?.in);return a.setMinutes(t),a}function DI(e,t,s){const a=st(e,s?.in);return a.setSeconds(t),a}function EI(e,t,s){const a=st(e,s?.in);return isNaN(+a)?sn(e,NaN):(a.setFullYear(t),a)}function MI(e,t,s){return wh(e,-1,s)}const tk=x.createContext({}),Na=()=>x.useContext(tk),ec={currentWeek:1,cycleStartDate:null,deloadWeekActive:!1,weeklySchedule:{Monday:null,Tuesday:null,Wednesday:null,Thursday:null,Friday:null,Saturday:null,Sunday:null},favorites:[]},nk=({children:e})=>{const{currentUser:t,isGuest:s}=Er(),[a,l]=x.useState(ec),[u,d]=x.useState(!0),h=x.useCallback(()=>{const W=ei(new Date,{weekStartsOn:0});return W.setHours(0,0,0,0),W.toISOString()},[]),p=x.useCallback(A=>{if(!A)return 1;const W=new Date(A),P=new Date(h());return Math.floor((P-W)/(10080*60*1e3))+1},[h]),g=x.useCallback(async A=>{const W=h();if(A.cycleStartDate&&Id(new Date(W),new Date(A.cycleStartDate))){const P=p(A.cycleStartDate);if(P!==A.currentWeek){const O=A.deloadWeekActive,_={...A,currentWeek:P,deloadWeekActive:!1};return l(_),await y(_),{updated:!0,wasDeloadActive:O}}}return{updated:!1,wasDeloadActive:!1}},[h,p]);x.useEffect(()=>{t!==void 0&&(async()=>{d(!0);try{let W=null;if(t&&!s)W=(await Us(t.uid))?.weekScheduling;else{const P=localStorage.getItem("goodlift_week_scheduling");P&&(W=JSON.parse(P))}if(W){const P={...ec,...W,weeklySchedule:{...ec.weeklySchedule,...W.weeklySchedule||{}}};l(P),await g(P)}else{const P={...ec,cycleStartDate:h()};l(P),await y(P)}}catch(W){console.error("Error loading week state:",W);const P={...ec,cycleStartDate:h()};l(P)}finally{d(!1)}})()},[t,s,h,g]);const y=async A=>{try{t&&!s?await Cn(t.uid,{weekScheduling:A}):localStorage.setItem("goodlift_week_scheduling",JSON.stringify(A))}catch(W){throw console.error("Error saving week state:",W),W}},b=x.useCallback(async()=>{const A={...a,currentWeek:1,cycleStartDate:h(),deloadWeekActive:!1};return l(A),await y(A),A},[a,h]),v=x.useCallback(async()=>{if(a.currentWeek<4)throw new Error("Deload week only available from week 4 onwards");const A={...a,deloadWeekActive:!0,weeklySchedule:{Monday:null,Tuesday:null,Wednesday:null,Thursday:null,Friday:null,Saturday:null,Sunday:null}};return l(A),await y(A),A},[a]),S=x.useCallback(()=>a.currentWeek===1,[a.currentWeek]),j=x.useCallback(async(A,W)=>{const P={...a.weeklySchedule,[A]:W},O={...a,weeklySchedule:P};return l(O),await y(O),O},[a]),k=x.useCallback(async A=>{const W={...A,id:`fav_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,addedAt:new Date().toISOString()},P=[...a.favorites,W],O={...a,favorites:P};return l(O),await y(O),W},[a]),w=x.useCallback(async A=>{const W=a.favorites.filter(O=>O.id!==A),P={...a,favorites:W};return l(P),await y(P),P},[a]),T=x.useCallback((A,W=[])=>{if(!W||W.length===0)return null;const P=new Date;P.setDate(P.getDate()-7);const _={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6}[A],N=W.filter(I=>{const H=new Date(I.date);return H.getDay()===_&&H>=new Date(P.getTime()-10080*60*1e3)&&H<P});return N.length>0?N[N.length-1]:null},[]),D={weekState:a,loading:u,currentWeek:a.currentWeek,cycleStartDate:a.cycleStartDate,deloadWeekActive:a.deloadWeekActive,weeklySchedule:a.weeklySchedule,favorites:a.favorites,resetWeekCycle:b,triggerDeloadWeek:v,isAutoAssignWeek:S,assignWorkoutToDay:j,addToFavorites:k,removeFromFavorites:w,getWorkoutSuggestion:T,checkAndIncrementWeek:()=>g(a)};return r.jsx(tk.Provider,{value:D,children:e})};nk.propTypes={children:E.node.isRequired};const sk=({onNavigate:e})=>{const t=el(),{currentWeek:s,deloadWeekActive:a,triggerDeloadWeek:l}=Na(),[u,d]=x.useState(Nt.isMutedState()),[h,p]=x.useState(mr.isActive()),[g]=x.useState(mr.isWakeLockSupported()),[y,b]=x.useState(!1);x.useEffect(()=>{const T=mr.reacquireOnVisibilityChange();return()=>{T&&T.then(D=>D&&D())}},[]);const v=()=>{const T=Nt.toggleMute();d(T)},S=async()=>{if(h)await mr.releaseWakeLock(),p(!1);else{const T=await mr.requestWakeLock();p(T)}},j=()=>{b(!0)},k=async()=>{try{await l(),b(!1)}catch(T){console.error("Error triggering deload week:",T)}},w=()=>{b(!1)};return r.jsxs(L,{component:"header",sx:{position:"fixed",top:0,left:0,right:0,height:"60px",display:"flex",alignItems:"center",justifyContent:"flex-start",padding:"0 1rem",background:t.palette.background.paper,backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",boxShadow:t.palette.mode==="dark"?"0 2px 8px rgba(0, 0, 0, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.1)",zIndex:100,borderBottom:`1px solid ${t.palette.mode==="dark"?"rgba(29, 181, 132, 0.2)":"rgba(0, 0, 0, 0.12)"}`},children:[r.jsx(L,{onClick:()=>e&&e("progress"),sx:{display:"flex",alignItems:"center",cursor:e?"pointer":"default",transition:"transform 0.2s ease","&:hover":e?{transform:"scale(1.05)"}:{},"&:active":e?{transform:"scale(0.98)"}:{}},"aria-label":e?"Go to Progress screen":void 0,role:e?"button":void 0,tabIndex:e?0:void 0,onKeyDown:e?T=>{(T.key==="Enter"||T.key===" ")&&(T.preventDefault(),e("progress"))}:void 0,children:r.jsx("img",{src:"/goodlift/goodlift-favicon.svg",alt:"GoodLift",style:{height:"40px",width:"40px",display:"block"}})}),r.jsx(L,{sx:{position:"absolute",left:"50%",transform:"translateX(-50%)",display:"flex",alignItems:"center"},children:r.jsx(Fg,{currentWeek:s,deloadWeekActive:a,onDeloadTrigger:j,clickable:!0})}),r.jsxs(L,{sx:{position:"absolute",right:"1rem",display:"flex",alignItems:"center",gap:.5},children:[r.jsx($n,{title:u?"Unmute sounds":"Mute sounds",children:r.jsx(Xe,{onClick:v,sx:{color:u?"grey.500":"primary.main",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{backgroundColor:t.palette.mode==="dark"?"rgba(29, 181, 132, 0.15)":"rgba(24, 160, 113, 0.1)"}},"aria-label":u?"Unmute sounds":"Mute sounds",children:u?r.jsx(jC,{}):r.jsx(Rg,{})})}),g&&r.jsx($n,{title:h?"Screen kept awake":"Allow screen sleep",children:r.jsx(Xe,{onClick:S,sx:{color:h?"secondary.main":"grey.500",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{backgroundColor:t.palette.mode==="dark"?"rgba(255, 140, 0, 0.15)":"rgba(255, 140, 0, 0.1)"}},"aria-label":h?"Release wake lock":"Keep screen awake",children:h?r.jsx(cO,{size:24}):r.jsx(lO,{size:24})})})]}),r.jsxs(Pn,{open:y,onClose:w,maxWidth:"sm",fullWidth:!0,children:[r.jsx(Un,{children:"Trigger Deload Week?"}),r.jsx(On,{children:r.jsx(R,{children:"This will activate deload week, replacing your scheduled workouts with recovery-focused sessions. The week counter will continue normally, and deload mode will end after this week completes."})}),r.jsxs(Rn,{children:[r.jsx(Ae,{onClick:w,color:"inherit",children:"Cancel"}),r.jsx(Ae,{onClick:k,variant:"contained",color:"warning",children:"Activate Deload"})]})]})]})};sk.propTypes={onNavigate:E.func};const uy=x.createContext({});function dy(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const hy=typeof window<"u",ik=hy?x.useLayoutEffect:x.useEffect,Ch=x.createContext(null);function fy(e,t){e.indexOf(t)===-1&&e.push(t)}function py(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const Gi=(e,t,s)=>s>t?t:s<e?e:s;let my=()=>{};const $i={},ak=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function rk(e){return typeof e=="object"&&e!==null}const ok=e=>/^0[^.\s]+$/u.test(e);function gy(e){let t;return()=>(t===void 0&&(t=e()),t)}const Fs=e=>e,AI=(e,t)=>s=>t(e(s)),Kc=(...e)=>e.reduce(AI),Mc=(e,t,s)=>{const a=t-e;return a===0?1:(s-e)/a};class yy{constructor(){this.subscriptions=[]}add(t){return fy(this.subscriptions,t),()=>py(this.subscriptions,t)}notify(t,s,a){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](t,s,a);else for(let u=0;u<l;u++){const d=this.subscriptions[u];d&&d(t,s,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fi=e=>e*1e3,zs=e=>e/1e3;function lk(e,t){return t?e*(1e3/t):0}const ck=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,PI=1e-7,OI=12;function RI(e,t,s,a,l){let u,d,h=0;do d=t+(s-t)/2,u=ck(d,a,l)-e,u>0?s=d:t=d;while(Math.abs(u)>PI&&++h<OI);return d}function Qc(e,t,s,a){if(e===t&&s===a)return Fs;const l=u=>RI(u,0,1,e,s);return u=>u===0||u===1?u:ck(l(u),t,a)}const uk=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,dk=e=>t=>1-e(1-t),hk=Qc(.33,1.53,.69,.99),xy=dk(hk),fk=uk(xy),pk=e=>(e*=2)<1?.5*xy(e):.5*(2-Math.pow(2,-10*(e-1))),by=e=>1-Math.sin(Math.acos(e)),mk=dk(by),gk=uk(by),_I=Qc(.42,0,1,1),II=Qc(0,0,.58,1),yk=Qc(.42,0,.58,1),WI=e=>Array.isArray(e)&&typeof e[0]!="number",xk=e=>Array.isArray(e)&&typeof e[0]=="number",NI={linear:Fs,easeIn:_I,easeInOut:yk,easeOut:II,circIn:by,circInOut:gk,circOut:mk,backIn:xy,backInOut:fk,backOut:hk,anticipate:pk},LI=e=>typeof e=="string",sw=e=>{if(xk(e)){my(e.length===4);const[t,s,a,l]=e;return Qc(t,s,a,l)}else if(LI(e))return NI[e];return e},vd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function BI(e,t){let s=new Set,a=new Set,l=!1,u=!1;const d=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function p(y){d.has(y)&&(g.schedule(y),e()),y(h)}const g={schedule:(y,b=!1,v=!1)=>{const j=v&&l?s:a;return b&&d.add(y),j.has(y)||j.add(y),y},cancel:y=>{a.delete(y),d.delete(y)},process:y=>{if(h=y,l){u=!0;return}l=!0,[s,a]=[a,s],s.forEach(p),s.clear(),l=!1,u&&(u=!1,g.process(y))}};return g}const VI=40;function bk(e,t){let s=!1,a=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=()=>s=!0,d=vd.reduce((A,W)=>(A[W]=BI(u),A),{}),{setup:h,read:p,resolveKeyframes:g,preUpdate:y,update:b,preRender:v,render:S,postRender:j}=d,k=()=>{const A=$i.useManualTiming?l.timestamp:performance.now();s=!1,$i.useManualTiming||(l.delta=a?1e3/60:Math.max(Math.min(A-l.timestamp,VI),1)),l.timestamp=A,l.isProcessing=!0,h.process(l),p.process(l),g.process(l),y.process(l),b.process(l),v.process(l),S.process(l),j.process(l),l.isProcessing=!1,s&&t&&(a=!1,e(k))},w=()=>{s=!0,a=!0,l.isProcessing||e(k)};return{schedule:vd.reduce((A,W)=>{const P=d[W];return A[W]=(O,_=!1,N=!1)=>(s||w(),P.schedule(O,_,N)),A},{}),cancel:A=>{for(let W=0;W<vd.length;W++)d[vd[W]].cancel(A)},state:l,steps:d}}const{schedule:nn,cancel:Ra,state:Fn,steps:fm}=bk(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fs,!0);let Wd;function zI(){Wd=void 0}const hs={now:()=>(Wd===void 0&&hs.set(Fn.isProcessing||$i.useManualTiming?Fn.timestamp:performance.now()),Wd),set:e=>{Wd=e,queueMicrotask(zI)}},vk=e=>t=>typeof t=="string"&&t.startsWith(e),vy=vk("--"),FI=vk("var(--"),Sy=e=>FI(e)?HI.test(e.split("/*")[0].trim()):!1,HI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,nl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ac={...nl,transform:e=>Gi(0,1,e)},Sd={...nl,default:1},pc=e=>Math.round(e*1e5)/1e5,wy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function UI(e){return e==null}const qI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Cy=(e,t)=>s=>!!(typeof s=="string"&&qI.test(s)&&s.startsWith(e)||t&&!UI(s)&&Object.prototype.hasOwnProperty.call(s,t)),Sk=(e,t,s)=>a=>{if(typeof a!="string")return a;const[l,u,d,h]=a.match(wy);return{[e]:parseFloat(l),[t]:parseFloat(u),[s]:parseFloat(d),alpha:h!==void 0?parseFloat(h):1}},YI=e=>Gi(0,255,e),pm={...nl,transform:e=>Math.round(YI(e))},yr={test:Cy("rgb","red"),parse:Sk("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:a=1})=>"rgba("+pm.transform(e)+", "+pm.transform(t)+", "+pm.transform(s)+", "+pc(Ac.transform(a))+")"};function GI(e){let t="",s="",a="",l="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),a=e.substring(5,7),l=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),a=e.substring(3,4),l=e.substring(4,5),t+=t,s+=s,a+=a,l+=l),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(a,16),alpha:l?parseInt(l,16)/255:1}}const Ym={test:Cy("#"),parse:GI,transform:yr.transform},Xc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ka=Xc("deg"),pi=Xc("%"),lt=Xc("px"),$I=Xc("vh"),KI=Xc("vw"),iw={...pi,parse:e=>pi.parse(e)/100,transform:e=>pi.transform(e*100)},Eo={test:Cy("hsl","hue"),parse:Sk("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:a=1})=>"hsla("+Math.round(e)+", "+pi.transform(pc(t))+", "+pi.transform(pc(s))+", "+pc(Ac.transform(a))+")"},En={test:e=>yr.test(e)||Ym.test(e)||Eo.test(e),parse:e=>yr.test(e)?yr.parse(e):Eo.test(e)?Eo.parse(e):Ym.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?yr.transform(e):Eo.transform(e),getAnimatableNone:e=>{const t=En.parse(e);return t.alpha=0,En.transform(t)}},QI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function XI(e){return isNaN(e)&&typeof e=="string"&&(e.match(wy)?.length||0)+(e.match(QI)?.length||0)>0}const wk="number",Ck="color",ZI="var",JI="var(",aw="${}",eW=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pc(e){const t=e.toString(),s=[],a={color:[],number:[],var:[]},l=[];let u=0;const h=t.replace(eW,p=>(En.test(p)?(a.color.push(u),l.push(Ck),s.push(En.parse(p))):p.startsWith(JI)?(a.var.push(u),l.push(ZI),s.push(p)):(a.number.push(u),l.push(wk),s.push(parseFloat(p))),++u,aw)).split(aw);return{values:s,split:h,indexes:a,types:l}}function Tk(e){return Pc(e).values}function kk(e){const{split:t,types:s}=Pc(e),a=t.length;return l=>{let u="";for(let d=0;d<a;d++)if(u+=t[d],l[d]!==void 0){const h=s[d];h===wk?u+=pc(l[d]):h===Ck?u+=En.transform(l[d]):u+=l[d]}return u}}const tW=e=>typeof e=="number"?0:En.test(e)?En.getAnimatableNone(e):e;function nW(e){const t=Tk(e);return kk(e)(t.map(tW))}const _a={test:XI,parse:Tk,createTransformer:kk,getAnimatableNone:nW};function mm(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function sW({hue:e,saturation:t,lightness:s,alpha:a}){e/=360,t/=100,s/=100;let l=0,u=0,d=0;if(!t)l=u=d=s;else{const h=s<.5?s*(1+t):s+t-s*t,p=2*s-h;l=mm(p,h,e+1/3),u=mm(p,h,e),d=mm(p,h,e-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(d*255),alpha:a}}function th(e,t){return s=>s>0?t:e}const ln=(e,t,s)=>e+(t-e)*s,gm=(e,t,s)=>{const a=e*e,l=s*(t*t-a)+a;return l<0?0:Math.sqrt(l)},iW=[Ym,yr,Eo],aW=e=>iW.find(t=>t.test(e));function rw(e){const t=aW(e);if(!t)return!1;let s=t.parse(e);return t===Eo&&(s=sW(s)),s}const ow=(e,t)=>{const s=rw(e),a=rw(t);if(!s||!a)return th(e,t);const l={...s};return u=>(l.red=gm(s.red,a.red,u),l.green=gm(s.green,a.green,u),l.blue=gm(s.blue,a.blue,u),l.alpha=ln(s.alpha,a.alpha,u),yr.transform(l))},Gm=new Set(["none","hidden"]);function rW(e,t){return Gm.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function oW(e,t){return s=>ln(e,t,s)}function Ty(e){return typeof e=="number"?oW:typeof e=="string"?Sy(e)?th:En.test(e)?ow:uW:Array.isArray(e)?jk:typeof e=="object"?En.test(e)?ow:lW:th}function jk(e,t){const s=[...e],a=s.length,l=e.map((u,d)=>Ty(u)(u,t[d]));return u=>{for(let d=0;d<a;d++)s[d]=l[d](u);return s}}function lW(e,t){const s={...e,...t},a={};for(const l in s)e[l]!==void 0&&t[l]!==void 0&&(a[l]=Ty(e[l])(e[l],t[l]));return l=>{for(const u in a)s[u]=a[u](l);return s}}function cW(e,t){const s=[],a={color:0,var:0,number:0};for(let l=0;l<t.values.length;l++){const u=t.types[l],d=e.indexes[u][a[u]],h=e.values[d]??0;s[l]=h,a[u]++}return s}const uW=(e,t)=>{const s=_a.createTransformer(t),a=Pc(e),l=Pc(t);return a.indexes.var.length===l.indexes.var.length&&a.indexes.color.length===l.indexes.color.length&&a.indexes.number.length>=l.indexes.number.length?Gm.has(e)&&!l.values.length||Gm.has(t)&&!a.values.length?rW(e,t):Kc(jk(cW(a,l),l.values),s):th(e,t)};function Dk(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?ln(e,t,s):Ty(e)(e,t)}const dW=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>nn.update(t,s),stop:()=>Ra(t),now:()=>Fn.isProcessing?Fn.timestamp:hs.now()}},Ek=(e,t,s=10)=>{let a="";const l=Math.max(Math.round(t/s),2);for(let u=0;u<l;u++)a+=Math.round(e(u/(l-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},nh=2e4;function ky(e){let t=0;const s=50;let a=e.next(t);for(;!a.done&&t<nh;)t+=s,a=e.next(t);return t>=nh?1/0:t}function hW(e,t=100,s){const a=s({...e,keyframes:[0,t]}),l=Math.min(ky(a),nh);return{type:"keyframes",ease:u=>a.next(l*u).value/t,duration:zs(l)}}const fW=5;function Mk(e,t,s){const a=Math.max(t-fW,0);return lk(s-e(a),t-a)}const hn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ym=.001;function pW({duration:e=hn.duration,bounce:t=hn.bounce,velocity:s=hn.velocity,mass:a=hn.mass}){let l,u,d=1-t;d=Gi(hn.minDamping,hn.maxDamping,d),e=Gi(hn.minDuration,hn.maxDuration,zs(e)),d<1?(l=g=>{const y=g*d,b=y*e,v=y-s,S=$m(g,d),j=Math.exp(-b);return ym-v/S*j},u=g=>{const b=g*d*e,v=b*s+s,S=Math.pow(d,2)*Math.pow(g,2)*e,j=Math.exp(-b),k=$m(Math.pow(g,2),d);return(-l(g)+ym>0?-1:1)*((v-S)*j)/k}):(l=g=>{const y=Math.exp(-g*e),b=(g-s)*e+1;return-ym+y*b},u=g=>{const y=Math.exp(-g*e),b=(s-g)*(e*e);return y*b});const h=5/e,p=gW(l,u,h);if(e=fi(e),isNaN(p))return{stiffness:hn.stiffness,damping:hn.damping,duration:e};{const g=Math.pow(p,2)*a;return{stiffness:g,damping:d*2*Math.sqrt(a*g),duration:e}}}const mW=12;function gW(e,t,s){let a=s;for(let l=1;l<mW;l++)a=a-e(a)/t(a);return a}function $m(e,t){return e*Math.sqrt(1-t*t)}const yW=["duration","bounce"],xW=["stiffness","damping","mass"];function lw(e,t){return t.some(s=>e[s]!==void 0)}function bW(e){let t={velocity:hn.velocity,stiffness:hn.stiffness,damping:hn.damping,mass:hn.mass,isResolvedFromDuration:!1,...e};if(!lw(e,xW)&&lw(e,yW))if(e.visualDuration){const s=e.visualDuration,a=2*Math.PI/(s*1.2),l=a*a,u=2*Gi(.05,1,1-(e.bounce||0))*Math.sqrt(l);t={...t,mass:hn.mass,stiffness:l,damping:u}}else{const s=pW(e);t={...t,...s,mass:hn.mass},t.isResolvedFromDuration=!0}return t}function sh(e=hn.visualDuration,t=hn.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:a,restDelta:l}=s;const u=s.keyframes[0],d=s.keyframes[s.keyframes.length-1],h={done:!1,value:u},{stiffness:p,damping:g,mass:y,duration:b,velocity:v,isResolvedFromDuration:S}=bW({...s,velocity:-zs(s.velocity||0)}),j=v||0,k=g/(2*Math.sqrt(p*y)),w=d-u,T=zs(Math.sqrt(p/y)),D=Math.abs(w)<5;a||(a=D?hn.restSpeed.granular:hn.restSpeed.default),l||(l=D?hn.restDelta.granular:hn.restDelta.default);let A;if(k<1){const P=$m(T,k);A=O=>{const _=Math.exp(-k*T*O);return d-_*((j+k*T*w)/P*Math.sin(P*O)+w*Math.cos(P*O))}}else if(k===1)A=P=>d-Math.exp(-T*P)*(w+(j+T*w)*P);else{const P=T*Math.sqrt(k*k-1);A=O=>{const _=Math.exp(-k*T*O),N=Math.min(P*O,300);return d-_*((j+k*T*w)*Math.sinh(N)+P*w*Math.cosh(N))/P}}const W={calculatedDuration:S&&b||null,next:P=>{const O=A(P);if(S)h.done=P>=b;else{let _=P===0?j:0;k<1&&(_=P===0?fi(j):Mk(A,P,O));const N=Math.abs(_)<=a,I=Math.abs(d-O)<=l;h.done=N&&I}return h.value=h.done?d:O,h},toString:()=>{const P=Math.min(ky(W),nh),O=Ek(_=>W.next(P*_).value,P,30);return P+"ms "+O},toTransition:()=>{}};return W}sh.applyToOptions=e=>{const t=hW(e,100,sh);return e.ease=t.ease,e.duration=fi(t.duration),e.type="keyframes",e};function Km({keyframes:e,velocity:t=0,power:s=.8,timeConstant:a=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:d,min:h,max:p,restDelta:g=.5,restSpeed:y}){const b=e[0],v={done:!1,value:b},S=N=>h!==void 0&&N<h||p!==void 0&&N>p,j=N=>h===void 0?p:p===void 0||Math.abs(h-N)<Math.abs(p-N)?h:p;let k=s*t;const w=b+k,T=d===void 0?w:d(w);T!==w&&(k=T-b);const D=N=>-k*Math.exp(-N/a),A=N=>T+D(N),W=N=>{const I=D(N),H=A(N);v.done=Math.abs(I)<=g,v.value=v.done?T:H};let P,O;const _=N=>{S(v.value)&&(P=N,O=sh({keyframes:[v.value,j(v.value)],velocity:Mk(A,N,v.value),damping:l,stiffness:u,restDelta:g,restSpeed:y}))};return _(0),{calculatedDuration:null,next:N=>{let I=!1;return!O&&P===void 0&&(I=!0,W(N),_(N)),P!==void 0&&N>=P?O.next(N-P):(!I&&W(N),v)}}}function vW(e,t,s){const a=[],l=s||$i.mix||Dk,u=e.length-1;for(let d=0;d<u;d++){let h=l(e[d],e[d+1]);if(t){const p=Array.isArray(t)?t[d]||Fs:t;h=Kc(p,h)}a.push(h)}return a}function SW(e,t,{clamp:s=!0,ease:a,mixer:l}={}){const u=e.length;if(my(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const d=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const h=vW(t,a,l),p=h.length,g=y=>{if(d&&y<e[0])return t[0];let b=0;if(p>1)for(;b<e.length-2&&!(y<e[b+1]);b++);const v=Mc(e[b],e[b+1],y);return h[b](v)};return s?y=>g(Gi(e[0],e[u-1],y)):g}function wW(e,t){const s=e[e.length-1];for(let a=1;a<=t;a++){const l=Mc(0,t,a);e.push(ln(s,1,l))}}function CW(e){const t=[0];return wW(t,e.length-1),t}function TW(e,t){return e.map(s=>s*t)}function kW(e,t){return e.map(()=>t||yk).splice(0,e.length-1)}function mc({duration:e=300,keyframes:t,times:s,ease:a="easeInOut"}){const l=WI(a)?a.map(sw):sw(a),u={done:!1,value:t[0]},d=TW(s&&s.length===t.length?s:CW(t),e),h=SW(d,t,{ease:Array.isArray(l)?l:kW(t,l)});return{calculatedDuration:e,next:p=>(u.value=h(p),u.done=p>=e,u)}}const jW=e=>e!==null;function jy(e,{repeat:t,repeatType:s="loop"},a,l=1){const u=e.filter(jW),h=l<0||t&&s!=="loop"&&t%2===1?0:u.length-1;return!h||a===void 0?u[h]:a}const DW={decay:Km,inertia:Km,tween:mc,keyframes:mc,spring:sh};function Ak(e){typeof e.type=="string"&&(e.type=DW[e.type])}class Dy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const EW=e=>e/100;class Ey extends Dy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==hs.now()&&this.tick(hs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Ak(t);const{type:s=mc,repeat:a=0,repeatDelay:l=0,repeatType:u,velocity:d=0}=t;let{keyframes:h}=t;const p=s||mc;p!==mc&&typeof h[0]!="number"&&(this.mixKeyframes=Kc(EW,Dk(h[0],h[1])),h=[0,100]);const g=p({...t,keyframes:h});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...h].reverse(),velocity:-d})),g.calculatedDuration===null&&(g.calculatedDuration=ky(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+l,this.totalDuration=this.resolvedDuration*(a+1)-l,this.generator=g}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:a,totalDuration:l,mixKeyframes:u,mirroredGenerator:d,resolvedDuration:h,calculatedDuration:p}=this;if(this.startTime===null)return a.next(0);const{delay:g=0,keyframes:y,repeat:b,repeatType:v,repeatDelay:S,type:j,onUpdate:k,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-l/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const T=this.currentTime-g*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?T<0:T>l;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let A=this.currentTime,W=a;if(b){const N=Math.min(this.currentTime,l)/h;let I=Math.floor(N),H=N%1;!H&&N>=1&&(H=1),H===1&&I--,I=Math.min(I,b+1),!!(I%2)&&(v==="reverse"?(H=1-H,S&&(H-=S/h)):v==="mirror"&&(W=d)),A=Gi(0,1,H)*h}const P=D?{done:!1,value:y[0]}:W.next(A);u&&(P.value=u(P.value));let{done:O}=P;!D&&p!==null&&(O=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return _&&j!==Km&&(P.value=jy(y,this.options,w,this.speed)),k&&k(P.value),_&&this.finish(),P}then(t,s){return this.finished.then(t,s)}get duration(){return zs(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+zs(t)}get time(){return zs(this.currentTime)}set time(t){t=fi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(hs.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=zs(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=dW,startTime:s}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),this.options.onPlay?.();const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=s??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(hs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function MW(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const xr=e=>e*180/Math.PI,Qm=e=>{const t=xr(Math.atan2(e[1],e[0]));return Xm(t)},AW={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Qm,rotateZ:Qm,skewX:e=>xr(Math.atan(e[1])),skewY:e=>xr(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Xm=e=>(e=e%360,e<0&&(e+=360),e),cw=Qm,uw=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),dw=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),PW={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:uw,scaleY:dw,scale:e=>(uw(e)+dw(e))/2,rotateX:e=>Xm(xr(Math.atan2(e[6],e[5]))),rotateY:e=>Xm(xr(Math.atan2(-e[2],e[0]))),rotateZ:cw,rotate:cw,skewX:e=>xr(Math.atan(e[4])),skewY:e=>xr(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Zm(e){return e.includes("scale")?1:0}function Jm(e,t){if(!e||e==="none")return Zm(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,l;if(s)a=PW,l=s;else{const h=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=AW,l=h}if(!l)return Zm(t);const u=a[t],d=l[1].split(",").map(RW);return typeof u=="function"?u(d):d[u]}const OW=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return Jm(s,t)};function RW(e){return parseFloat(e.trim())}const sl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],il=new Set(sl),hw=e=>e===nl||e===lt,_W=new Set(["x","y","z"]),IW=sl.filter(e=>!_W.has(e));function WW(e){const t=[];return IW.forEach(s=>{const a=e.getValue(s);a!==void 0&&(t.push([s,a.get()]),a.set(s.startsWith("scale")?1:0))}),t}const br={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Jm(t,"x"),y:(e,{transform:t})=>Jm(t,"y")};br.translateX=br.x;br.translateY=br.y;const vr=new Set;let eg=!1,tg=!1,ng=!1;function Pk(){if(tg){const e=Array.from(vr).filter(a=>a.needsMeasurement),t=new Set(e.map(a=>a.element)),s=new Map;t.forEach(a=>{const l=WW(a);l.length&&(s.set(a,l),a.render())}),e.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const l=s.get(a);l&&l.forEach(([u,d])=>{a.getValue(u)?.set(d)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}tg=!1,eg=!1,vr.forEach(e=>e.complete(ng)),vr.clear()}function Ok(){vr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(tg=!0)})}function NW(){ng=!0,Ok(),Pk(),ng=!1}class My{constructor(t,s,a,l,u,d=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=a,this.motionValue=l,this.element=u,this.isAsync=d}scheduleResolve(){this.state="scheduled",this.isAsync?(vr.add(this),eg||(eg=!0,nn.read(Ok),nn.resolveKeyframes(Pk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:a,motionValue:l}=this;if(t[0]===null){const u=l?.get(),d=t[t.length-1];if(u!==void 0)t[0]=u;else if(a&&s){const h=a.readValue(s,d);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=d),l&&u===void 0&&l.set(t[0])}MW(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),vr.delete(this)}cancel(){this.state==="scheduled"&&(vr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const LW=e=>e.startsWith("--");function BW(e,t,s){LW(t)?e.style.setProperty(t,s):e.style[t]=s}const VW=gy(()=>window.ScrollTimeline!==void 0),zW={};function FW(e,t){const s=gy(e);return()=>zW[t]??s()}const Rk=FW(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),lc=([e,t,s,a])=>`cubic-bezier(${e}, ${t}, ${s}, ${a})`,fw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:lc([0,.65,.55,1]),circOut:lc([.55,0,1,.45]),backIn:lc([.31,.01,.66,-.59]),backOut:lc([.33,1.53,.69,.99])};function _k(e,t){if(e)return typeof e=="function"?Rk()?Ek(e,t):"ease-out":xk(e)?lc(e):Array.isArray(e)?e.map(s=>_k(s,t)||fw.easeOut):fw[e]}function HW(e,t,s,{delay:a=0,duration:l=300,repeat:u=0,repeatType:d="loop",ease:h="easeOut",times:p}={},g=void 0){const y={[t]:s};p&&(y.offset=p);const b=_k(h,l);Array.isArray(b)&&(y.easing=b);const v={delay:a,duration:l,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:u+1,direction:d==="reverse"?"alternate":"normal"};return g&&(v.pseudoElement=g),e.animate(y,v)}function Ik(e){return typeof e=="function"&&"applyToOptions"in e}function UW({type:e,...t}){return Ik(e)&&Rk()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class qW extends Dy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:a,keyframes:l,pseudoElement:u,allowFlatten:d=!1,finalKeyframe:h,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=d,this.options=t,my(typeof t.type!="string");const g=UW(t);this.animation=HW(s,a,l,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const y=jy(l,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):BW(s,a,y),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return zs(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+zs(t)}get time(){return zs(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=fi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&VW()?(this.animation.timeline=t,Fs):s(this)}}const Wk={anticipate:pk,backInOut:fk,circInOut:gk};function YW(e){return e in Wk}function GW(e){typeof e.ease=="string"&&YW(e.ease)&&(e.ease=Wk[e.ease])}const pw=10;class $W extends qW{constructor(t){GW(t),Ak(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:a,onComplete:l,element:u,...d}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const h=new Ey({...d,autoplay:!1}),p=fi(this.finishedTime??this.time);s.setWithVelocity(h.sample(p-pw).value,h.sample(p).value,pw),h.stop()}}const mw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(_a.test(e)||e==="0")&&!e.startsWith("url("));function KW(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function QW(e,t,s,a){const l=e[0];if(l===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],d=mw(l,t),h=mw(u,t);return!d||!h?!1:KW(e)||(s==="spring"||Ik(s))&&a}function sg(e){e.duration=0,e.type="keyframes"}const XW=new Set(["opacity","clipPath","filter","transform"]),ZW=gy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function JW(e){const{motionValue:t,name:s,repeatDelay:a,repeatType:l,damping:u,type:d}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return ZW()&&s&&XW.has(s)&&(s!=="transform"||!g)&&!p&&!a&&l!=="mirror"&&u!==0&&d!=="inertia"}const eN=40;class tN extends Dy{constructor({autoplay:t=!0,delay:s=0,type:a="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:d="loop",keyframes:h,name:p,motionValue:g,element:y,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=hs.now();const v={autoplay:t,delay:s,type:a,repeat:l,repeatDelay:u,repeatType:d,name:p,motionValue:g,element:y,...b},S=y?.KeyframeResolver||My;this.keyframeResolver=new S(h,(j,k,w)=>this.onKeyframesResolved(j,k,v,!w),p,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,s,a,l){this.keyframeResolver=void 0;const{name:u,type:d,velocity:h,delay:p,isHandoff:g,onUpdate:y}=a;this.resolvedAt=hs.now(),QW(t,u,d,h)||(($i.instantAnimations||!p)&&y?.(jy(t,a,s)),t[0]=t[t.length-1],sg(a),a.repeat=0);const v={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>eN?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...a,keyframes:t},S=!g&&JW(v)?new $W({...v,element:v.motionValue.owner.current}):new Ey(v);S.finished.then(()=>this.notifyFinished()).catch(Fs),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),NW()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const nN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function sN(e){const t=nN.exec(e);if(!t)return[,];const[,s,a,l]=t;return[`--${s??a}`,l]}function Nk(e,t,s=1){const[a,l]=sN(e);if(!a)return;const u=window.getComputedStyle(t).getPropertyValue(a);if(u){const d=u.trim();return ak(d)?parseFloat(d):d}return Sy(l)?Nk(l,t,s+1):l}function Ay(e,t){return e?.[t]??e?.default??e}const Lk=new Set(["width","height","top","left","right","bottom",...sl]),iN={test:e=>e==="auto",parse:e=>e},Bk=e=>t=>t.test(e),Vk=[nl,lt,pi,ka,KI,$I,iN],gw=e=>Vk.find(Bk(e));function aN(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ok(e):!0}const rN=new Set(["brightness","contrast","saturate","opacity"]);function oN(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=s.match(wy)||[];if(!a)return e;const l=s.replace(a,"");let u=rN.has(t)?1:0;return a!==s&&(u*=100),t+"("+u+l+")"}const lN=/\b([a-z-]*)\(.*?\)/gu,ig={..._a,getAnimatableNone:e=>{const t=e.match(lN);return t?t.map(oN).join(" "):e}},yw={...nl,transform:Math.round},cN={rotate:ka,rotateX:ka,rotateY:ka,rotateZ:ka,scale:Sd,scaleX:Sd,scaleY:Sd,scaleZ:Sd,skew:ka,skewX:ka,skewY:ka,distance:lt,translateX:lt,translateY:lt,translateZ:lt,x:lt,y:lt,z:lt,perspective:lt,transformPerspective:lt,opacity:Ac,originX:iw,originY:iw,originZ:lt},Py={borderWidth:lt,borderTopWidth:lt,borderRightWidth:lt,borderBottomWidth:lt,borderLeftWidth:lt,borderRadius:lt,radius:lt,borderTopLeftRadius:lt,borderTopRightRadius:lt,borderBottomRightRadius:lt,borderBottomLeftRadius:lt,width:lt,maxWidth:lt,height:lt,maxHeight:lt,top:lt,right:lt,bottom:lt,left:lt,padding:lt,paddingTop:lt,paddingRight:lt,paddingBottom:lt,paddingLeft:lt,margin:lt,marginTop:lt,marginRight:lt,marginBottom:lt,marginLeft:lt,backgroundPositionX:lt,backgroundPositionY:lt,...cN,zIndex:yw,fillOpacity:Ac,strokeOpacity:Ac,numOctaves:yw},uN={...Py,color:En,backgroundColor:En,outlineColor:En,fill:En,stroke:En,borderColor:En,borderTopColor:En,borderRightColor:En,borderBottomColor:En,borderLeftColor:En,filter:ig,WebkitFilter:ig},zk=e=>uN[e];function Fk(e,t){let s=zk(e);return s!==ig&&(s=_a),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const dN=new Set(["auto","none","0"]);function hN(e,t,s){let a=0,l;for(;a<e.length&&!l;){const u=e[a];typeof u=="string"&&!dN.has(u)&&Pc(u).values.length&&(l=e[a]),a++}if(l&&s)for(const u of t)e[u]=Fk(s,l)}class fN extends My{constructor(t,s,a,l,u){super(t,s,a,l,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:a}=this;if(!s||!s.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),Sy(g))){const y=Nk(g,s.current);y!==void 0&&(t[p]=y),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Lk.has(a)||t.length!==2)return;const[l,u]=t,d=gw(l),h=gw(u);if(d!==h)if(hw(d)&&hw(h))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else br[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,a=[];for(let l=0;l<t.length;l++)(t[l]===null||aN(t[l]))&&a.push(l);a.length&&hN(t,a,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=br[a](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const l=s[s.length-1];l!==void 0&&t.getValue(a,l).jump(l,!1)}measureEndState(){const{element:t,name:s,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const l=t.getValue(s);l&&l.jump(this.measuredOrigin,!1);const u=a.length-1,d=a[u];a[u]=br[s](t.measureViewportBox(),window.getComputedStyle(t.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,p])=>{t.getValue(h).set(p)}),this.resolveNoneKeyframes()}}function pN(e,t,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let a=document;const l=s?.[e]??a.querySelectorAll(e);return l?Array.from(l):[]}return Array.from(e)}const Hk=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Uk(e){return rk(e)&&"offsetHeight"in e}const xw=30,mN=e=>!isNaN(parseFloat(e));class gN{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{const l=hs.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=hs.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=mN(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new yy);const a=this.events[t].add(s);return t==="change"?()=>{a(),nn.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,s,a){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=hs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>xw)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,xw);return lk(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qo(e,t){return new gN(e,t)}const{schedule:Oy}=bk(queueMicrotask,!1),Qs={x:!1,y:!1};function qk(){return Qs.x||Qs.y}function yN(e){return e==="x"||e==="y"?Qs[e]?null:(Qs[e]=!0,()=>{Qs[e]=!1}):Qs.x||Qs.y?null:(Qs.x=Qs.y=!0,()=>{Qs.x=Qs.y=!1})}function Yk(e,t){const s=pN(e),a=new AbortController,l={passive:!0,...t,signal:a.signal};return[s,l,()=>a.abort()]}function bw(e){return!(e.pointerType==="touch"||qk())}function xN(e,t,s={}){const[a,l,u]=Yk(e,s),d=h=>{if(!bw(h))return;const{target:p}=h,g=t(p,h);if(typeof g!="function"||!p)return;const y=b=>{bw(b)&&(g(b),p.removeEventListener("pointerleave",y))};p.addEventListener("pointerleave",y,l)};return a.forEach(h=>{h.addEventListener("pointerenter",d,l)}),u}const Gk=(e,t)=>t?e===t?!0:Gk(e,t.parentElement):!1,Ry=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,bN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function vN(e){return bN.has(e.tagName)||e.tabIndex!==-1}const Nd=new WeakSet;function vw(e){return t=>{t.key==="Enter"&&e(t)}}function xm(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const SN=(e,t)=>{const s=e.currentTarget;if(!s)return;const a=vw(()=>{if(Nd.has(s))return;xm(s,"down");const l=vw(()=>{xm(s,"up")}),u=()=>xm(s,"cancel");s.addEventListener("keyup",l,t),s.addEventListener("blur",u,t)});s.addEventListener("keydown",a,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",a),t)};function Sw(e){return Ry(e)&&!qk()}function wN(e,t,s={}){const[a,l,u]=Yk(e,s),d=h=>{const p=h.currentTarget;if(!Sw(h))return;Nd.add(p);const g=t(p,h),y=(S,j)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",v),Nd.has(p)&&Nd.delete(p),Sw(S)&&typeof g=="function"&&g(S,{success:j})},b=S=>{y(S,p===window||p===document||s.useGlobalTarget||Gk(p,S.target))},v=S=>{y(S,!1)};window.addEventListener("pointerup",b,l),window.addEventListener("pointercancel",v,l)};return a.forEach(h=>{(s.useGlobalTarget?window:h).addEventListener("pointerdown",d,l),Uk(h)&&(h.addEventListener("focus",g=>SN(g,l)),!vN(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),u}function $k(e){return rk(e)&&"ownerSVGElement"in e}function CN(e){return $k(e)&&e.tagName==="svg"}const Kn=e=>!!(e&&e.getVelocity),TN=[...Vk,En,_a],kN=e=>TN.find(Bk(e)),_y=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function ww(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function jN(...e){return t=>{let s=!1;const a=e.map(l=>{const u=ww(l,t);return!s&&typeof u=="function"&&(s=!0),u});if(s)return()=>{for(let l=0;l<a.length;l++){const u=a[l];typeof u=="function"?u():ww(e[l],null)}}}}function DN(...e){return x.useCallback(jN(...e),e)}class EN extends x.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const a=s.offsetParent,l=Uk(a)&&a.offsetWidth||0,u=this.props.sizeRef.current;u.height=s.offsetHeight||0,u.width=s.offsetWidth||0,u.top=s.offsetTop,u.left=s.offsetLeft,u.right=l-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function MN({children:e,isPresent:t,anchorX:s,root:a}){const l=x.useId(),u=x.useRef(null),d=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=x.useContext(_y),p=DN(u,e?.ref);return x.useInsertionEffect(()=>{const{width:g,height:y,top:b,left:v,right:S}=d.current;if(t||!u.current||!g||!y)return;const j=s==="left"?`left: ${v}`:`right: ${S}`;u.current.dataset.motionPopId=l;const k=document.createElement("style");h&&(k.nonce=h);const w=a??document.head;return w.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${j}px !important;
            top: ${b}px !important;
          }
        `),()=>{w.contains(k)&&w.removeChild(k)}},[t]),r.jsx(EN,{isPresent:t,childRef:u,sizeRef:d,children:x.cloneElement(e,{ref:p})})}const AN=({children:e,initial:t,isPresent:s,onExitComplete:a,custom:l,presenceAffectsLayout:u,mode:d,anchorX:h,root:p})=>{const g=dy(PN),y=x.useId();let b=!0,v=x.useMemo(()=>(b=!1,{id:y,initial:t,isPresent:s,custom:l,onExitComplete:S=>{g.set(S,!0);for(const j of g.values())if(!j)return;a&&a()},register:S=>(g.set(S,!1),()=>g.delete(S))}),[s,g,a]);return u&&b&&(v={...v}),x.useMemo(()=>{g.forEach((S,j)=>g.set(j,!1))},[s]),x.useEffect(()=>{!s&&!g.size&&a&&a()},[s]),d==="popLayout"&&(e=r.jsx(MN,{isPresent:s,anchorX:h,root:p,children:e})),r.jsx(Ch.Provider,{value:v,children:e})};function PN(){return new Map}function Kk(e=!0){const t=x.useContext(Ch);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:a,register:l}=t,u=x.useId();x.useEffect(()=>{if(e)return l(u)},[e]);const d=x.useCallback(()=>e&&a&&a(u),[u,a,e]);return!s&&a?[!1,d]:[!0]}const wd=e=>e.key||"";function Cw(e){const t=[];return x.Children.forEach(e,s=>{x.isValidElement(s)&&t.push(s)}),t}const Xo=({children:e,custom:t,initial:s=!0,onExitComplete:a,presenceAffectsLayout:l=!0,mode:u="sync",propagate:d=!1,anchorX:h="left",root:p})=>{const[g,y]=Kk(d),b=x.useMemo(()=>Cw(e),[e]),v=d&&!g?[]:b.map(wd),S=x.useRef(!0),j=x.useRef(b),k=dy(()=>new Map),[w,T]=x.useState(b),[D,A]=x.useState(b);ik(()=>{S.current=!1,j.current=b;for(let O=0;O<D.length;O++){const _=wd(D[O]);v.includes(_)?k.delete(_):k.get(_)!==!0&&k.set(_,!1)}},[D,v.length,v.join("-")]);const W=[];if(b!==w){let O=[...b];for(let _=0;_<D.length;_++){const N=D[_],I=wd(N);v.includes(I)||(O.splice(_,0,N),W.push(N))}return u==="wait"&&W.length&&(O=W),A(Cw(O)),T(b),null}const{forceRender:P}=x.useContext(uy);return r.jsx(r.Fragment,{children:D.map(O=>{const _=wd(O),N=d&&!g?!1:b===D||v.includes(_),I=()=>{if(k.has(_))k.set(_,!0);else return;let H=!0;k.forEach(V=>{V||(H=!1)}),H&&(P?.(),A(j.current),d&&y?.(),a&&a())};return r.jsx(AN,{isPresent:N,initial:!S.current||s?void 0:!1,custom:t,presenceAffectsLayout:l,mode:u,root:p,onExitComplete:N?void 0:I,anchorX:h,children:O},_)})})},Qk=x.createContext({strict:!1}),Tw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zo={};for(const e in Tw)Zo[e]={isEnabled:t=>Tw[e].some(s=>!!t[s])};function ON(e){for(const t in e)Zo[t]={...Zo[t],...e[t]}}const RN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ih(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||RN.has(e)}let Xk=e=>!ih(e);function _N(e){typeof e=="function"&&(Xk=t=>t.startsWith("on")?!ih(t):e(t))}try{_N(require("@emotion/is-prop-valid").default)}catch{}function IN(e,t,s){const a={};for(const l in e)l==="values"&&typeof e.values=="object"||(Xk(l)||s===!0&&ih(l)||!t&&!ih(l)||e.draggable&&l.startsWith("onDrag"))&&(a[l]=e[l]);return a}const Th=x.createContext({});function kh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Oc(e){return typeof e=="string"||Array.isArray(e)}const Iy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Wy=["initial",...Iy];function jh(e){return kh(e.animate)||Wy.some(t=>Oc(e[t]))}function Zk(e){return!!(jh(e)||e.variants)}function WN(e,t){if(jh(e)){const{initial:s,animate:a}=e;return{initial:s===!1||Oc(s)?s:void 0,animate:Oc(a)?a:void 0}}return e.inherit!==!1?t:{}}function NN(e){const{initial:t,animate:s}=WN(e,x.useContext(Th));return x.useMemo(()=>({initial:t,animate:s}),[kw(t),kw(s)])}function kw(e){return Array.isArray(e)?e.join(" "):e}const Rc={};function LN(e){for(const t in e)Rc[t]=e[t],vy(t)&&(Rc[t].isCSSVariable=!0)}function Jk(e,{layout:t,layoutId:s}){return il.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!Rc[e]||e==="opacity")}const BN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},VN=sl.length;function zN(e,t,s){let a="",l=!0;for(let u=0;u<VN;u++){const d=sl[u],h=e[d];if(h===void 0)continue;let p=!0;if(typeof h=="number"?p=h===(d.startsWith("scale")?1:0):p=parseFloat(h)===0,!p||s){const g=Hk(h,Py[d]);if(!p){l=!1;const y=BN[d]||d;a+=`${y}(${g}) `}s&&(t[d]=g)}}return a=a.trim(),s?a=s(t,l?"":a):l&&(a="none"),a}function Ny(e,t,s){const{style:a,vars:l,transformOrigin:u}=e;let d=!1,h=!1;for(const p in t){const g=t[p];if(il.has(p)){d=!0;continue}else if(vy(p)){l[p]=g;continue}else{const y=Hk(g,Py[p]);p.startsWith("origin")?(h=!0,u[p]=y):a[p]=y}}if(t.transform||(d||s?a.transform=zN(t,e.transform,s):a.transform&&(a.transform="none")),h){const{originX:p="50%",originY:g="50%",originZ:y=0}=u;a.transformOrigin=`${p} ${g} ${y}`}}const Ly=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ej(e,t,s){for(const a in t)!Kn(t[a])&&!Jk(a,s)&&(e[a]=t[a])}function FN({transformTemplate:e},t){return x.useMemo(()=>{const s=Ly();return Ny(s,t,e),Object.assign({},s.vars,s.style)},[t])}function HN(e,t){const s=e.style||{},a={};return ej(a,s,e),Object.assign(a,FN(e,t)),a}function UN(e,t){const s={},a=HN(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=a,s}const qN={offset:"stroke-dashoffset",array:"stroke-dasharray"},YN={offset:"strokeDashoffset",array:"strokeDasharray"};function GN(e,t,s=1,a=0,l=!0){e.pathLength=1;const u=l?qN:YN;e[u.offset]=lt.transform(-a);const d=lt.transform(t),h=lt.transform(s);e[u.array]=`${d} ${h}`}function tj(e,{attrX:t,attrY:s,attrScale:a,pathLength:l,pathSpacing:u=1,pathOffset:d=0,...h},p,g,y){if(Ny(e,h,g),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:b,style:v}=e;b.transform&&(v.transform=b.transform,delete b.transform),(v.transform||b.transformOrigin)&&(v.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),v.transform&&(v.transformBox=y?.transformBox??"fill-box",delete b.transformBox),t!==void 0&&(b.x=t),s!==void 0&&(b.y=s),a!==void 0&&(b.scale=a),l!==void 0&&GN(b,l,u,d,!1)}const nj=()=>({...Ly(),attrs:{}}),sj=e=>typeof e=="string"&&e.toLowerCase()==="svg";function $N(e,t,s,a){const l=x.useMemo(()=>{const u=nj();return tj(u,t,sj(a),e.transformTemplate,e.style),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};ej(u,e.style,e),l.style={...u,...l.style}}return l}const KN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function By(e){return typeof e!="string"||e.includes("-")?!1:!!(KN.indexOf(e)>-1||/[A-Z]/u.test(e))}function QN(e,t,s,{latestValues:a},l,u=!1){const h=(By(e)?$N:UN)(t,a,l,e),p=IN(t,typeof e=="string",u),g=e!==x.Fragment?{...p,...h,ref:s}:{},{children:y}=t,b=x.useMemo(()=>Kn(y)?y.get():y,[y]);return x.createElement(e,{...g,children:b})}function jw(e){const t=[{},{}];return e?.values.forEach((s,a)=>{t[0][a]=s.get(),t[1][a]=s.getVelocity()}),t}function Vy(e,t,s,a){if(typeof t=="function"){const[l,u]=jw(a);t=t(s!==void 0?s:e.custom,l,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[l,u]=jw(a);t=t(s!==void 0?s:e.custom,l,u)}return t}function Ld(e){return Kn(e)?e.get():e}function XN({scrapeMotionValuesFromProps:e,createRenderState:t},s,a,l){return{latestValues:ZN(s,a,l,e),renderState:t()}}function ZN(e,t,s,a){const l={},u=a(e,{});for(const v in u)l[v]=Ld(u[v]);let{initial:d,animate:h}=e;const p=jh(e),g=Zk(e);t&&g&&!p&&e.inherit!==!1&&(d===void 0&&(d=t.initial),h===void 0&&(h=t.animate));let y=s?s.initial===!1:!1;y=y||d===!1;const b=y?h:d;if(b&&typeof b!="boolean"&&!kh(b)){const v=Array.isArray(b)?b:[b];for(let S=0;S<v.length;S++){const j=Vy(e,v[S]);if(j){const{transitionEnd:k,transition:w,...T}=j;for(const D in T){let A=T[D];if(Array.isArray(A)){const W=y?A.length-1:0;A=A[W]}A!==null&&(l[D]=A)}for(const D in k)l[D]=k[D]}}}return l}const ij=e=>(t,s)=>{const a=x.useContext(Th),l=x.useContext(Ch),u=()=>XN(e,t,a,l);return s?u():dy(u)};function zy(e,t,s){const{style:a}=e,l={};for(const u in a)(Kn(a[u])||t.style&&Kn(t.style[u])||Jk(u,e)||s?.getValue(u)?.liveStyle!==void 0)&&(l[u]=a[u]);return l}const JN=ij({scrapeMotionValuesFromProps:zy,createRenderState:Ly});function aj(e,t,s){const a=zy(e,t,s);for(const l in e)if(Kn(e[l])||Kn(t[l])){const u=sl.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;a[u]=e[l]}return a}const e3=ij({scrapeMotionValuesFromProps:aj,createRenderState:nj}),t3=Symbol.for("motionComponentSymbol");function Mo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function n3(e,t,s){return x.useCallback(a=>{a&&e.onMount&&e.onMount(a),t&&(a?t.mount(a):t.unmount()),s&&(typeof s=="function"?s(a):Mo(s)&&(s.current=a))},[t])}const Fy=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),s3="framerAppearId",rj="data-"+Fy(s3),oj=x.createContext({});function i3(e,t,s,a,l){const{visualElement:u}=x.useContext(Th),d=x.useContext(Qk),h=x.useContext(Ch),p=x.useContext(_y).reducedMotion,g=x.useRef(null);a=a||d.renderer,!g.current&&a&&(g.current=a(e,{visualState:t,parent:u,props:s,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p}));const y=g.current,b=x.useContext(oj);y&&!y.projection&&l&&(y.type==="html"||y.type==="svg")&&a3(g.current,s,l,b);const v=x.useRef(!1);x.useInsertionEffect(()=>{y&&v.current&&y.update(s,h)});const S=s[rj],j=x.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return ik(()=>{y&&(v.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),j.current&&y.animationState&&y.animationState.animateChanges())}),x.useEffect(()=>{y&&(!j.current&&y.animationState&&y.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),j.current=!1),y.enteringChildren=void 0)}),y}function a3(e,t,s,a){const{layoutId:l,layout:u,drag:d,dragConstraints:h,layoutScroll:p,layoutRoot:g,layoutCrossfade:y}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:lj(e.parent)),e.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||h&&Mo(h),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,crossfade:y,layoutScroll:p,layoutRoot:g})}function lj(e){if(e)return e.options.allowProjection!==!1?e.projection:lj(e.parent)}function bm(e,{forwardMotionProps:t=!1}={},s,a){s&&ON(s);const l=By(e)?e3:JN;function u(h,p){let g;const y={...x.useContext(_y),...h,layoutId:r3(h)},{isStatic:b}=y,v=NN(h),S=l(h,b);if(!b&&hy){o3();const j=l3(y);g=j.MeasureLayout,v.visualElement=i3(e,S,y,a,j.ProjectionNode)}return r.jsxs(Th.Provider,{value:v,children:[g&&v.visualElement?r.jsx(g,{visualElement:v.visualElement,...y}):null,QN(e,h,n3(S,v.visualElement,p),S,b,t)]})}u.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const d=x.forwardRef(u);return d[t3]=e,d}function r3({layoutId:e}){const t=x.useContext(uy).id;return t&&e!==void 0?t+"-"+e:e}function o3(e,t){x.useContext(Qk).strict}function l3(e){const{drag:t,layout:s}=Zo;if(!t&&!s)return{};const a={...t,...s};return{MeasureLayout:t?.isEnabled(e)||s?.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function c3(e,t){if(typeof Proxy>"u")return bm;const s=new Map,a=(u,d)=>bm(u,d,e,t),l=(u,d)=>a(u,d);return new Proxy(l,{get:(u,d)=>d==="create"?a:(s.has(d)||s.set(d,bm(d,void 0,e,t)),s.get(d))})}function cj({top:e,left:t,right:s,bottom:a}){return{x:{min:t,max:s},y:{min:e,max:a}}}function u3({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function d3(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:a.y,right:a.x}}function vm(e){return e===void 0||e===1}function ag({scale:e,scaleX:t,scaleY:s}){return!vm(e)||!vm(t)||!vm(s)}function fr(e){return ag(e)||uj(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function uj(e){return Dw(e.x)||Dw(e.y)}function Dw(e){return e&&e!=="0%"}function ah(e,t,s){const a=e-s,l=t*a;return s+l}function Ew(e,t,s,a,l){return l!==void 0&&(e=ah(e,l,a)),ah(e,s,a)+t}function rg(e,t=0,s=1,a,l){e.min=Ew(e.min,t,s,a,l),e.max=Ew(e.max,t,s,a,l)}function dj(e,{x:t,y:s}){rg(e.x,t.translate,t.scale,t.originPoint),rg(e.y,s.translate,s.scale,s.originPoint)}const Mw=.999999999999,Aw=1.0000000000001;function h3(e,t,s,a=!1){const l=s.length;if(!l)return;t.x=t.y=1;let u,d;for(let h=0;h<l;h++){u=s[h],d=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Po(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),d&&(t.x*=d.x.scale,t.y*=d.y.scale,dj(e,d)),a&&fr(u.latestValues)&&Po(e,u.latestValues))}t.x<Aw&&t.x>Mw&&(t.x=1),t.y<Aw&&t.y>Mw&&(t.y=1)}function Ao(e,t){e.min=e.min+t,e.max=e.max+t}function Pw(e,t,s,a,l=.5){const u=ln(e.min,e.max,l);rg(e,t,s,u,a)}function Po(e,t){Pw(e.x,t.x,t.scaleX,t.scale,t.originX),Pw(e.y,t.y,t.scaleY,t.scale,t.originY)}function hj(e,t){return cj(d3(e.getBoundingClientRect(),t))}function f3(e,t,s){const a=hj(e,s),{scroll:l}=t;return l&&(Ao(a.x,l.offset.x),Ao(a.y,l.offset.y)),a}const Ow=()=>({translate:0,scale:1,origin:0,originPoint:0}),Oo=()=>({x:Ow(),y:Ow()}),Rw=()=>({min:0,max:0}),bn=()=>({x:Rw(),y:Rw()}),og={current:null},fj={current:!1};function p3(){if(fj.current=!0,!!hy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>og.current=e.matches;e.addEventListener("change",t),t()}else og.current=!1}const m3=new WeakMap;function g3(e,t,s){for(const a in t){const l=t[a],u=s[a];if(Kn(l))e.addValue(a,l);else if(Kn(u))e.addValue(a,Qo(l,{owner:e}));else if(u!==l)if(e.hasValue(a)){const d=e.getValue(a);d.liveStyle===!0?d.jump(l):d.hasAnimated||d.set(l)}else{const d=e.getStaticValue(a);e.addValue(a,Qo(d!==void 0?d:l,{owner:e}))}}for(const a in s)t[a]===void 0&&e.removeValue(a);return t}const _w=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class y3{scrapeMotionValuesFromProps(t,s,a){return{}}constructor({parent:t,props:s,presenceContext:a,reducedMotionConfig:l,blockInitialAnimation:u,visualState:d},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=My,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=hs.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,nn.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=d;this.latestValues=p,this.baseTarget={...p},this.initialValues=s.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=s,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=l,this.options=h,this.blockInitialAnimation=!!u,this.isControllingVariants=jh(s),this.isVariantNode=Zk(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...b}=this.scrapeMotionValuesFromProps(s,{},this);for(const v in b){const S=b[v];p[v]!==void 0&&Kn(S)&&S.set(p[v])}}mount(t){this.current=t,m3.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),fj.current||p3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:og.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ra(this.notifyUpdate),Ra(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=il.has(t);a&&this.onBindTransform&&this.onBindTransform();const l=s.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&nn.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{l(),u&&u(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Zo){const s=Zo[t];if(!s)continue;const{isEnabled:a,Feature:l}=s;if(!this.features[t]&&l&&a(this.props)&&(this.features[t]=new l(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let a=0;a<_w.length;a++){const l=_w[a];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u="on"+l,d=t[u];d&&(this.propEventSubscriptions[l]=this.on(l,d))}this.prevMotionValues=g3(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const a=this.values.get(t);s!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&s!==void 0&&(a=Qo(s===null?void 0:s,{owner:this}),this.addValue(t,a)),a}readValue(t,s){let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(ak(a)||ok(a))?a=parseFloat(a):!kN(a)&&_a.test(s)&&(a=Fk(t,s)),this.setBaseTarget(t,Kn(a)?a.get():a)),Kn(a)?a.get():a}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){const{initial:s}=this.props;let a;if(typeof s=="string"||typeof s=="object"){const u=Vy(this.props,s,this.presenceContext?.custom);u&&(a=u[t])}if(s&&a!==void 0)return a;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!Kn(l)?l:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new yy),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){Oy.render(this.render)}}class pj extends y3{constructor(){super(...arguments),this.KeyframeResolver=fN}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:a}){delete s[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Kn(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function mj(e,{style:t,vars:s},a,l){const u=e.style;let d;for(d in t)u[d]=t[d];l?.applyProjectionStyles(u,a);for(d in s)u.setProperty(d,s[d])}function x3(e){return window.getComputedStyle(e)}class b3 extends pj{constructor(){super(...arguments),this.type="html",this.renderInstance=mj}readValueFromInstance(t,s){if(il.has(s))return this.projection?.isProjecting?Zm(s):OW(t,s);{const a=x3(t),l=(vy(s)?a.getPropertyValue(s):a[s])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:s}){return hj(t,s)}build(t,s,a){Ny(t,s,a.transformTemplate)}scrapeMotionValuesFromProps(t,s,a){return zy(t,s,a)}}const gj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function v3(e,t,s,a){mj(e,t,void 0,a);for(const l in t.attrs)e.setAttribute(gj.has(l)?l:Fy(l),t.attrs[l])}class S3 extends pj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=bn}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(il.has(s)){const a=zk(s);return a&&a.default||0}return s=gj.has(s)?s:Fy(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,a){return aj(t,s,a)}build(t,s,a){tj(t,s,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(t,s,a,l){v3(t,s,a,l)}mount(t){this.isSVGTag=sj(t.tagName),super.mount(t)}}const w3=(e,t)=>By(e)?new S3(t):new b3(t,{allowProjection:e!==x.Fragment});function Bo(e,t,s){const a=e.getProps();return Vy(a,t,s!==void 0?s:a.custom,e)}const lg=e=>Array.isArray(e);function C3(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,Qo(s))}function T3(e){return lg(e)?e[e.length-1]||0:e}function k3(e,t){const s=Bo(e,t);let{transitionEnd:a={},transition:l={},...u}=s||{};u={...u,...a};for(const d in u){const h=T3(u[d]);C3(e,d,h)}}function j3(e){return!!(Kn(e)&&e.add)}function cg(e,t){const s=e.getValue("willChange");if(j3(s))return s.add(t);if(!s&&$i.WillChange){const a=new $i.WillChange("auto");e.addValue("willChange",a),a.add(t)}}function yj(e){return e.props[rj]}const D3=e=>e!==null;function E3(e,{repeat:t,repeatType:s="loop"},a){const l=e.filter(D3),u=t&&s!=="loop"&&t%2===1?0:l.length-1;return l[u]}const M3={type:"spring",stiffness:500,damping:25,restSpeed:10},A3=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),P3={type:"keyframes",duration:.8},O3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},R3=(e,{keyframes:t})=>t.length>2?P3:il.has(e)?e.startsWith("scale")?A3(t[1]):M3:O3;function _3({when:e,delay:t,delayChildren:s,staggerChildren:a,staggerDirection:l,repeat:u,repeatType:d,repeatDelay:h,from:p,elapsed:g,...y}){return!!Object.keys(y).length}const Hy=(e,t,s,a={},l,u)=>d=>{const h=Ay(a,e)||{},p=h.delay||a.delay||0;let{elapsed:g=0}=a;g=g-fi(p);const y={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-g,onUpdate:v=>{t.set(v),h.onUpdate&&h.onUpdate(v)},onComplete:()=>{d(),h.onComplete&&h.onComplete()},name:e,motionValue:t,element:u?void 0:l};_3(h)||Object.assign(y,R3(e,y)),y.duration&&(y.duration=fi(y.duration)),y.repeatDelay&&(y.repeatDelay=fi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let b=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(sg(y),y.delay===0&&(b=!0)),($i.instantAnimations||$i.skipAnimations)&&(b=!0,sg(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,b&&!u&&t.get()!==void 0){const v=E3(y.keyframes,h);if(v!==void 0){nn.update(()=>{y.onUpdate(v),y.onComplete()});return}}return h.isSync?new Ey(y):new tN(y)};function I3({protectedKeys:e,needsAnimating:t},s){const a=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,a}function xj(e,t,{delay:s=0,transitionOverride:a,type:l}={}){let{transition:u=e.getDefaultTransition(),transitionEnd:d,...h}=t;a&&(u=a);const p=[],g=l&&e.animationState&&e.animationState.getState()[l];for(const y in h){const b=e.getValue(y,e.latestValues[y]??null),v=h[y];if(v===void 0||g&&I3(g,y))continue;const S={delay:s,...Ay(u||{},y)},j=b.get();if(j!==void 0&&!b.isAnimating&&!Array.isArray(v)&&v===j&&!S.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const T=yj(e);if(T){const D=window.MotionHandoffAnimation(T,y,nn);D!==null&&(S.startTime=D,k=!0)}}cg(e,y),b.start(Hy(y,b,v,e.shouldReduceMotion&&Lk.has(y)?{type:!1}:S,e,k));const w=b.animation;w&&p.push(w)}return d&&Promise.all(p).then(()=>{nn.update(()=>{d&&k3(e,d)})}),p}function bj(e,t,s,a=0,l=1){const u=Array.from(e).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),d=e.size,h=(d-1)*a;return typeof s=="function"?s(u,d):l===1?u*a:h-u*a}function ug(e,t,s={}){const a=Bo(e,t,s.type==="exit"?e.presenceContext?.custom:void 0);let{transition:l=e.getDefaultTransition()||{}}=a||{};s.transitionOverride&&(l=s.transitionOverride);const u=a?()=>Promise.all(xj(e,a,s)):()=>Promise.resolve(),d=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:b}=l;return W3(e,t,p,g,y,b,s)}:()=>Promise.resolve(),{when:h}=l;if(h){const[p,g]=h==="beforeChildren"?[u,d]:[d,u];return p().then(()=>g())}else return Promise.all([u(),d(s.delay)])}function W3(e,t,s=0,a=0,l=0,u=1,d){const h=[];for(const p of e.variantChildren)p.notify("AnimationStart",t),h.push(ug(p,t,{...d,delay:s+(typeof a=="function"?0:a)+bj(e.variantChildren,p,a,l,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(h)}function N3(e,t,s={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const l=t.map(u=>ug(e,u,s));a=Promise.all(l)}else if(typeof t=="string")a=ug(e,t,s);else{const l=typeof t=="function"?Bo(e,t,s.custom):t;a=Promise.all(xj(e,l,s))}return a.then(()=>{e.notify("AnimationComplete",t)})}function vj(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let a=0;a<s;a++)if(t[a]!==e[a])return!1;return!0}const L3=Wy.length;function Sj(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?Sj(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<L3;s++){const a=Wy[s],l=e.props[a];(Oc(l)||l===!1)&&(t[a]=l)}return t}const B3=[...Iy].reverse(),V3=Iy.length;function z3(e){return t=>Promise.all(t.map(({animation:s,options:a})=>N3(e,s,a)))}function F3(e){let t=z3(e),s=Iw(),a=!0;const l=p=>(g,y)=>{const b=Bo(e,y,p==="exit"?e.presenceContext?.custom:void 0);if(b){const{transition:v,transitionEnd:S,...j}=b;g={...g,...j,...S}}return g};function u(p){t=p(e)}function d(p){const{props:g}=e,y=Sj(e.parent)||{},b=[],v=new Set;let S={},j=1/0;for(let w=0;w<V3;w++){const T=B3[w],D=s[T],A=g[T]!==void 0?g[T]:y[T],W=Oc(A),P=T===p?D.isActive:null;P===!1&&(j=w);let O=A===y[T]&&A!==g[T]&&W;if(O&&a&&e.manuallyAnimateOnMount&&(O=!1),D.protectedKeys={...S},!D.isActive&&P===null||!A&&!D.prevProp||kh(A)||typeof A=="boolean")continue;const _=H3(D.prevProp,A);let N=_||T===p&&D.isActive&&!O&&W||w>j&&W,I=!1;const H=Array.isArray(A)?A:[A];let V=H.reduce(l(T),{});P===!1&&(V={});const{prevResolvedValues:B={}}=D,de={...B,...V},q=U=>{N=!0,v.has(U)&&(I=!0,v.delete(U)),D.needsAnimating[U]=!0;const ue=e.getValue(U);ue&&(ue.liveStyle=!1)};for(const U in de){const ue=V[U],fe=B[U];if(S.hasOwnProperty(U))continue;let Ce=!1;lg(ue)&&lg(fe)?Ce=!vj(ue,fe):Ce=ue!==fe,Ce?ue!=null?q(U):v.add(U):ue!==void 0&&v.has(U)?q(U):D.protectedKeys[U]=!0}D.prevProp=A,D.prevResolvedValues=V,D.isActive&&(S={...S,...V}),a&&e.blockInitialAnimation&&(N=!1);const ae=O&&_;N&&(!ae||I)&&b.push(...H.map(U=>{const ue={type:T};if(typeof U=="string"&&a&&!ae&&e.manuallyAnimateOnMount&&e.parent){const{parent:fe}=e,Ce=Bo(fe,U);if(fe.enteringChildren&&Ce){const{delayChildren:we}=Ce.transition||{};ue.delay=bj(fe.enteringChildren,e,we)}}return{animation:U,options:ue}}))}if(v.size){const w={};if(typeof g.initial!="boolean"){const T=Bo(e,Array.isArray(g.initial)?g.initial[0]:g.initial);T&&T.transition&&(w.transition=T.transition)}v.forEach(T=>{const D=e.getBaseTarget(T),A=e.getValue(T);A&&(A.liveStyle=!0),w[T]=D??null}),b.push({animation:w})}let k=!!b.length;return a&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(k=!1),a=!1,k?t(b):Promise.resolve()}function h(p,g){if(s[p].isActive===g)return Promise.resolve();e.variantChildren?.forEach(b=>b.animationState?.setActive(p,g)),s[p].isActive=g;const y=d(p);for(const b in s)s[b].protectedKeys={};return y}return{animateChanges:d,setActive:h,setAnimateFunction:u,getState:()=>s,reset:()=>{s=Iw()}}}function H3(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!vj(t,e):!1}function rr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Iw(){return{animate:rr(!0),whileInView:rr(),whileHover:rr(),whileTap:rr(),whileDrag:rr(),whileFocus:rr(),exit:rr()}}class La{constructor(t){this.isMounted=!1,this.node=t}update(){}}class U3 extends La{constructor(t){super(t),t.animationState||(t.animationState=F3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();kh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let q3=0;class Y3 extends La{constructor(){super(...arguments),this.id=q3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const l=this.node.animationState.setActive("exit",!t);s&&!t&&l.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const G3={animation:{Feature:U3},exit:{Feature:Y3}};function _c(e,t,s,a={passive:!0}){return e.addEventListener(t,s,a),()=>e.removeEventListener(t,s)}function Zc(e){return{point:{x:e.pageX,y:e.pageY}}}const $3=e=>t=>Ry(t)&&e(t,Zc(t));function gc(e,t,s,a){return _c(e,t,$3(s),a)}const wj=1e-4,K3=1-wj,Q3=1+wj,Cj=.01,X3=0-Cj,Z3=0+Cj;function es(e){return e.max-e.min}function J3(e,t,s){return Math.abs(e-t)<=s}function Ww(e,t,s,a=.5){e.origin=a,e.originPoint=ln(t.min,t.max,e.origin),e.scale=es(s)/es(t),e.translate=ln(s.min,s.max,e.origin)-e.originPoint,(e.scale>=K3&&e.scale<=Q3||isNaN(e.scale))&&(e.scale=1),(e.translate>=X3&&e.translate<=Z3||isNaN(e.translate))&&(e.translate=0)}function yc(e,t,s,a){Ww(e.x,t.x,s.x,a?a.originX:void 0),Ww(e.y,t.y,s.y,a?a.originY:void 0)}function Nw(e,t,s){e.min=s.min+t.min,e.max=e.min+es(t)}function eL(e,t,s){Nw(e.x,t.x,s.x),Nw(e.y,t.y,s.y)}function Lw(e,t,s){e.min=t.min-s.min,e.max=e.min+es(t)}function xc(e,t,s){Lw(e.x,t.x,s.x),Lw(e.y,t.y,s.y)}function Vs(e){return[e("x"),e("y")]}const Tj=({current:e})=>e?e.ownerDocument.defaultView:null,Bw=(e,t)=>Math.abs(e-t);function tL(e,t){const s=Bw(e.x,t.x),a=Bw(e.y,t.y);return Math.sqrt(s**2+a**2)}class kj{constructor(t,s,{transformPagePoint:a,contextWindow:l=window,dragSnapToOrigin:u=!1,distanceThreshold:d=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=wm(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,j=tL(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!j)return;const{point:k}=v,{timestamp:w}=Fn;this.history.push({...k,timestamp:w});const{onStart:T,onMove:D}=this.handlers;S||(T&&T(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,v)},this.handlePointerMove=(v,S)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Sm(S,this.transformPagePoint),nn.update(this.updatePoint,!0)},this.handlePointerUp=(v,S)=>{this.end();const{onEnd:j,onSessionEnd:k,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=wm(v.type==="pointercancel"?this.lastMoveEventInfo:Sm(S,this.transformPagePoint),this.history);this.startEvent&&j&&j(v,T),k&&k(v,T)},!Ry(t))return;this.dragSnapToOrigin=u,this.handlers=s,this.transformPagePoint=a,this.distanceThreshold=d,this.contextWindow=l||window;const h=Zc(t),p=Sm(h,this.transformPagePoint),{point:g}=p,{timestamp:y}=Fn;this.history=[{...g,timestamp:y}];const{onSessionStart:b}=s;b&&b(t,wm(p,this.history)),this.removeListeners=Kc(gc(this.contextWindow,"pointermove",this.handlePointerMove),gc(this.contextWindow,"pointerup",this.handlePointerUp),gc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ra(this.updatePoint)}}function Sm(e,t){return t?{point:t(e.point)}:e}function Vw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function wm({point:e},t){return{point:e,delta:Vw(e,jj(t)),offset:Vw(e,nL(t)),velocity:sL(t,.1)}}function nL(e){return e[0]}function jj(e){return e[e.length-1]}function sL(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,a=null;const l=jj(e);for(;s>=0&&(a=e[s],!(l.timestamp-a.timestamp>fi(t)));)s--;if(!a)return{x:0,y:0};const u=zs(l.timestamp-a.timestamp);if(u===0)return{x:0,y:0};const d={x:(l.x-a.x)/u,y:(l.y-a.y)/u};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function iL(e,{min:t,max:s},a){return t!==void 0&&e<t?e=a?ln(t,e,a.min):Math.max(e,t):s!==void 0&&e>s&&(e=a?ln(s,e,a.max):Math.min(e,s)),e}function zw(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function aL(e,{top:t,left:s,bottom:a,right:l}){return{x:zw(e.x,s,l),y:zw(e.y,t,a)}}function Fw(e,t){let s=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,a]=[a,s]),{min:s,max:a}}function rL(e,t){return{x:Fw(e.x,t.x),y:Fw(e.y,t.y)}}function oL(e,t){let s=.5;const a=es(e),l=es(t);return l>a?s=Mc(t.min,t.max-a,e.min):a>l&&(s=Mc(e.min,e.max-l,t.min)),Gi(0,1,s)}function lL(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const dg=.35;function cL(e=dg){return e===!1?e=0:e===!0&&(e=dg),{x:Hw(e,"left","right"),y:Hw(e,"top","bottom")}}function Hw(e,t,s){return{min:Uw(e,t),max:Uw(e,s)}}function Uw(e,t){return typeof e=="number"?e:e[t]||0}const uL=new WeakMap;class dL{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:a}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const u=b=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Zc(b).point)},d=(b,v)=>{const{drag:S,dragPropagation:j,onDragStart:k}=this.getProps();if(S&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=yN(S),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vs(T=>{let D=this.getAxisMotionValue(T).get()||0;if(pi.test(D)){const{projection:A}=this.visualElement;if(A&&A.layout){const W=A.layout.layoutBox[T];W&&(D=es(W)*(parseFloat(D)/100))}}this.originPoint[T]=D}),k&&nn.postRender(()=>k(b,v)),cg(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},h=(b,v)=>{this.latestPointerEvent=b,this.latestPanInfo=v;const{dragPropagation:S,dragDirectionLock:j,onDirectionLock:k,onDrag:w}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:T}=v;if(j&&this.currentDirection===null){this.currentDirection=hL(T),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",v.point,T),this.updateAxis("y",v.point,T),this.visualElement.render(),w&&w(b,v)},p=(b,v)=>{this.latestPointerEvent=b,this.latestPanInfo=v,this.stop(b,v),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Vs(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new kj(t,{onSessionStart:u,onStart:d,onMove:h,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:a,contextWindow:Tj(this.visualElement)})}stop(t,s){const a=t||this.latestPointerEvent,l=s||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!l||!a)return;const{velocity:d}=l;this.startAnimation(d);const{onDragEnd:h}=this.getProps();h&&nn.postRender(()=>h(a,l))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,a){const{drag:l}=this.getProps();if(!a||!Cd(t,l,this.currentDirection))return;const u=this.getAxisMotionValue(t);let d=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(d=iL(d,this.constraints[t],this.elastic[t])),u.set(d)}resolveConstraints(){const{dragConstraints:t,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,l=this.constraints;t&&Mo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=aL(a.layoutBox,t):this.constraints=!1,this.elastic=cL(s),l!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Vs(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=lL(a.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Mo(t))return!1;const a=t.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=f3(a,l.root,this.visualElement.getTransformPagePoint());let d=rL(l.layout.layoutBox,u);if(s){const h=s(u3(d));this.hasMutatedConstraints=!!h,h&&(d=cj(h))}return d}startAnimation(t){const{drag:s,dragMomentum:a,dragElastic:l,dragTransition:u,dragSnapToOrigin:d,onDragTransitionEnd:h}=this.getProps(),p=this.constraints||{},g=Vs(y=>{if(!Cd(y,s,this.currentDirection))return;let b=p&&p[y]||{};d&&(b={min:0,max:0});const v=l?200:1e6,S=l?40:1e7,j={type:"inertia",velocity:a?t[y]:0,bounceStiffness:v,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...u,...b};return this.startAxisValueAnimation(y,j)});return Promise.all(g).then(h)}startAxisValueAnimation(t,s){const a=this.getAxisMotionValue(t);return cg(this.visualElement,t),a.start(Hy(t,a,0,s,this.visualElement,!1))}stopAnimation(){Vs(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Vs(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),l=a[s];return l||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){Vs(s=>{const{drag:a}=this.getProps();if(!Cd(s,a,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(s);if(l&&l.layout){const{min:d,max:h}=l.layout.layoutBox[s];u.set(t[s]-ln(d,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:a}=this.visualElement;if(!Mo(s)||!a||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Vs(d=>{const h=this.getAxisMotionValue(d);if(h&&this.constraints!==!1){const p=h.get();l[d]=oL({min:p,max:p},this.constraints[d])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Vs(d=>{if(!Cd(d,t,null))return;const h=this.getAxisMotionValue(d),{min:p,max:g}=this.constraints[d];h.set(ln(p,g,l[d]))})}addListeners(){if(!this.visualElement.current)return;uL.set(this.visualElement,this);const t=this.visualElement.current,s=gc(t,"pointerdown",p=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(p)}),a=()=>{const{dragConstraints:p}=this.getProps();Mo(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),nn.read(a);const d=_c(window,"resize",()=>this.scalePositionWithinConstraints()),h=l.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Vs(y=>{const b=this.getAxisMotionValue(y);b&&(this.originPoint[y]+=p[y].translate,b.set(b.get()+p[y].translate))}),this.visualElement.render())}));return()=>{d(),s(),u(),h&&h()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:a=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:d=dg,dragMomentum:h=!0}=t;return{...t,drag:s,dragDirectionLock:a,dragPropagation:l,dragConstraints:u,dragElastic:d,dragMomentum:h}}}function Cd(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function hL(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class fL extends La{constructor(t){super(t),this.removeGroupControls=Fs,this.removeListeners=Fs,this.controls=new dL(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fs}unmount(){this.removeGroupControls(),this.removeListeners()}}const qw=e=>(t,s)=>{e&&nn.postRender(()=>e(t,s))};class pL extends La{constructor(){super(...arguments),this.removePointerDownListener=Fs}onPointerDown(t){this.session=new kj(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Tj(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:a,onPanEnd:l}=this.node.getProps();return{onSessionStart:qw(t),onStart:qw(s),onMove:a,onEnd:(u,d)=>{delete this.session,l&&nn.postRender(()=>l(u,d))}}}mount(){this.removePointerDownListener=gc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Bd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Yw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const tc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(lt.test(e))e=parseFloat(e);else return e;const s=Yw(e,t.target.x),a=Yw(e,t.target.y);return`${s}% ${a}%`}},mL={correct:(e,{treeScale:t,projectionDelta:s})=>{const a=e,l=_a.parse(e);if(l.length>5)return a;const u=_a.createTransformer(e),d=typeof l[0]!="number"?1:0,h=s.x.scale*t.x,p=s.y.scale*t.y;l[0+d]/=h,l[1+d]/=p;const g=ln(h,p,.5);return typeof l[2+d]=="number"&&(l[2+d]/=g),typeof l[3+d]=="number"&&(l[3+d]/=g),u(l)}};let Cm=!1;class gL extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:a,layoutId:l}=this.props,{projection:u}=t;LN(yL),u&&(s.group&&s.group.add(u),a&&a.register&&l&&a.register(u),Cm&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Bd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:a,drag:l,isPresent:u}=this.props,{projection:d}=a;return d&&(d.isPresent=u,Cm=!0,l||t.layoutDependency!==s||s===void 0||t.isPresent!==u?d.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?d.promote():d.relegate()||nn.postRender(()=>{const h=d.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Oy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:a}=this.props,{projection:l}=t;Cm=!0,l&&(l.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(l),a&&a.deregister&&a.deregister(l))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Dj(e){const[t,s]=Kk(),a=x.useContext(uy);return r.jsx(gL,{...e,layoutGroup:a,switchLayoutGroup:x.useContext(oj),isPresent:t,safeToRemove:s})}const yL={borderRadius:{...tc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tc,borderTopRightRadius:tc,borderBottomLeftRadius:tc,borderBottomRightRadius:tc,boxShadow:mL};function xL(e,t,s){const a=Kn(e)?e:Qo(e);return a.start(Hy("",a,t,s)),a.animation}const bL=(e,t)=>e.depth-t.depth;class vL{constructor(){this.children=[],this.isDirty=!1}add(t){fy(this.children,t),this.isDirty=!0}remove(t){py(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(bL),this.isDirty=!1,this.children.forEach(t)}}function SL(e,t){const s=hs.now(),a=({timestamp:l})=>{const u=l-s;u>=t&&(Ra(a),e(u-t))};return nn.setup(a,!0),()=>Ra(a)}const Ej=["TopLeft","TopRight","BottomLeft","BottomRight"],wL=Ej.length,Gw=e=>typeof e=="string"?parseFloat(e):e,$w=e=>typeof e=="number"||lt.test(e);function CL(e,t,s,a,l,u){l?(e.opacity=ln(0,s.opacity??1,TL(a)),e.opacityExit=ln(t.opacity??1,0,kL(a))):u&&(e.opacity=ln(t.opacity??1,s.opacity??1,a));for(let d=0;d<wL;d++){const h=`border${Ej[d]}Radius`;let p=Kw(t,h),g=Kw(s,h);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||$w(p)===$w(g)?(e[h]=Math.max(ln(Gw(p),Gw(g),a),0),(pi.test(g)||pi.test(p))&&(e[h]+="%")):e[h]=g}(t.rotate||s.rotate)&&(e.rotate=ln(t.rotate||0,s.rotate||0,a))}function Kw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const TL=Mj(0,.5,mk),kL=Mj(.5,.95,Fs);function Mj(e,t,s){return a=>a<e?0:a>t?1:s(Mc(e,t,a))}function Qw(e,t){e.min=t.min,e.max=t.max}function Ns(e,t){Qw(e.x,t.x),Qw(e.y,t.y)}function Xw(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Zw(e,t,s,a,l){return e-=t,e=ah(e,1/s,a),l!==void 0&&(e=ah(e,1/l,a)),e}function jL(e,t=0,s=1,a=.5,l,u=e,d=e){if(pi.test(t)&&(t=parseFloat(t),t=ln(d.min,d.max,t/100)-d.min),typeof t!="number")return;let h=ln(u.min,u.max,a);e===u&&(h-=t),e.min=Zw(e.min,t,s,h,l),e.max=Zw(e.max,t,s,h,l)}function Jw(e,t,[s,a,l],u,d){jL(e,t[s],t[a],t[l],t.scale,u,d)}const DL=["x","scaleX","originX"],EL=["y","scaleY","originY"];function e1(e,t,s,a){Jw(e.x,t,DL,s?s.x:void 0,a?a.x:void 0),Jw(e.y,t,EL,s?s.y:void 0,a?a.y:void 0)}function t1(e){return e.translate===0&&e.scale===1}function Aj(e){return t1(e.x)&&t1(e.y)}function n1(e,t){return e.min===t.min&&e.max===t.max}function ML(e,t){return n1(e.x,t.x)&&n1(e.y,t.y)}function s1(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Pj(e,t){return s1(e.x,t.x)&&s1(e.y,t.y)}function i1(e){return es(e.x)/es(e.y)}function a1(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class AL{constructor(){this.members=[]}add(t){fy(this.members,t),t.scheduleRender()}remove(t){if(py(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(l=>t===l);if(s===0)return!1;let a;for(let l=s;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){a=u;break}}return a?(this.promote(a),!0):!1}promote(t,s){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,s&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:l}=t.options;l===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:a}=t;s.onExitComplete&&s.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function PL(e,t,s){let a="";const l=e.x.translate/t.x,u=e.y.translate/t.y,d=s?.z||0;if((l||u||d)&&(a=`translate3d(${l}px, ${u}px, ${d}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:g,rotate:y,rotateX:b,rotateY:v,skewX:S,skewY:j}=s;g&&(a=`perspective(${g}px) ${a}`),y&&(a+=`rotate(${y}deg) `),b&&(a+=`rotateX(${b}deg) `),v&&(a+=`rotateY(${v}deg) `),S&&(a+=`skewX(${S}deg) `),j&&(a+=`skewY(${j}deg) `)}const h=e.x.scale*t.x,p=e.y.scale*t.y;return(h!==1||p!==1)&&(a+=`scale(${h}, ${p})`),a||"none"}const Tm=["","X","Y","Z"],OL=1e3;let RL=0;function km(e,t,s,a){const{latestValues:l}=t;l[e]&&(s[e]=l[e],t.setStaticValue(e,0),a&&(a[e]=0))}function Oj(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=yj(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:l,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",nn,!(l||u))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&Oj(a)}function Rj({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:a,resetTransform:l}){return class{constructor(d={},h=t?.()){this.id=RL++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(WL),this.nodes.forEach(VL),this.nodes.forEach(zL),this.nodes.forEach(NL)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new vL)}addEventListener(d,h){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new yy),this.eventHandlers.get(d).add(h)}notifyListeners(d,...h){const p=this.eventHandlers.get(d);p&&p.notify(...h)}hasListeners(d){return this.eventHandlers.has(d)}mount(d){if(this.instance)return;this.isSVG=$k(d)&&!CN(d),this.instance=d;const{layoutId:h,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||h)&&(this.isLayoutDirty=!0),e){let y,b=0;const v=()=>this.root.updateBlockedByResize=!1;nn.read(()=>{b=window.innerWidth}),e(d,()=>{const S=window.innerWidth;S!==b&&(b=S,this.root.updateBlockedByResize=!0,y&&y(),y=SL(v,250),Bd.hasAnimatedSinceResize&&(Bd.hasAnimatedSinceResize=!1,this.nodes.forEach(l1)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:b,hasRelativeLayoutChanged:v,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||g.getDefaultTransition()||YL,{onLayoutAnimationStart:k,onLayoutAnimationComplete:w}=g.getProps(),T=!this.targetLayout||!Pj(this.targetLayout,S),D=!b&&v;if(this.options.layoutRoot||this.resumeFrom||D||b&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...Ay(j,"layout"),onPlay:k,onComplete:w};(g.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(y,D)}else b||l1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ra(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(FL),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Oj(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const b=this.path[y];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:h,layout:p}=this.options;if(h===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(r1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(o1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(BL),this.nodes.forEach(_L),this.nodes.forEach(IL)):this.nodes.forEach(o1),this.clearAllSnapshots();const h=hs.now();Fn.delta=Gi(0,1e3/60,h-Fn.timestamp),Fn.timestamp=h,Fn.isProcessing=!0,fm.update.process(Fn),fm.preRender.process(Fn),fm.render.process(Fn),Fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Oy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(LL),this.sharedNodes.forEach(HL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,nn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){nn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!es(this.snapshot.measuredBox.x)&&!es(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=bn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(h=!1),h&&this.instance){const p=a(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:p,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!l)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!Aj(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;d&&this.instance&&(h||fr(this.latestValues)||y)&&(l(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const h=this.measurePageBox();let p=this.removeElementScroll(h);return d&&(p=this.removeTransform(p)),GL(p),{animationId:this.root.animationId,measuredBox:h,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:d}=this.options;if(!d)return bn();const h=d.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some($L))){const{scroll:g}=this.root;g&&(Ao(h.x,g.offset.x),Ao(h.y,g.offset.y))}return h}removeElementScroll(d){const h=bn();if(Ns(h,d),this.scroll?.wasRoot)return h;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:y,options:b}=g;g!==this.root&&y&&b.layoutScroll&&(y.wasRoot&&Ns(h,d),Ao(h.x,y.offset.x),Ao(h.y,y.offset.y))}return h}applyTransform(d,h=!1){const p=bn();Ns(p,d);for(let g=0;g<this.path.length;g++){const y=this.path[g];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Po(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),fr(y.latestValues)&&Po(p,y.latestValues)}return fr(this.latestValues)&&Po(p,this.latestValues),p}removeTransform(d){const h=bn();Ns(h,d);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!fr(g.latestValues))continue;ag(g.latestValues)&&g.updateSnapshot();const y=bn(),b=g.measurePageBox();Ns(y,b),e1(h,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return fr(this.latestValues)&&e1(h,this.latestValues),h}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==h;if(!(d||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:b}=this.options;if(!(!this.layout||!(y||b))){if(this.resolvedRelativeTargetAt=Fn.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bn(),this.relativeTargetOrigin=bn(),xc(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Ns(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=bn(),this.targetWithTransforms=bn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),eL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ns(this.target,this.layout.layoutBox),dj(this.target,this.targetDelta)):Ns(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bn(),this.relativeTargetOrigin=bn(),xc(this.relativeTargetOrigin,this.target,v.target),Ns(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ag(this.parent.latestValues)||uj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const d=this.getLead(),h=!!this.resumingFrom||this!==d;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Fn.timestamp&&(p=!1),p)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;Ns(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,v=this.treeScale.y;h3(this.layoutCorrected,this.treeScale,this.path,h),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=bn());const{target:S}=d;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Xw(this.prevProjectionDelta.x,this.projectionDelta.x),Xw(this.prevProjectionDelta.y,this.projectionDelta.y)),yc(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==v||!a1(this.projectionDelta.x,this.prevProjectionDelta.x)||!a1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){if(this.options.visualElement?.scheduleRender(),d){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Oo(),this.projectionDelta=Oo(),this.projectionDeltaWithTransform=Oo()}setAnimationOrigin(d,h=!1){const p=this.snapshot,g=p?p.latestValues:{},y={...this.latestValues},b=Oo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const v=bn(),S=p?p.source:void 0,j=this.layout?this.layout.source:void 0,k=S!==j,w=this.getStack(),T=!w||w.members.length<=1,D=!!(k&&!T&&this.options.crossfade===!0&&!this.path.some(qL));this.animationProgress=0;let A;this.mixTargetDelta=W=>{const P=W/1e3;c1(b.x,d.x,P),c1(b.y,d.y,P),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xc(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),UL(this.relativeTarget,this.relativeTargetOrigin,v,P),A&&ML(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=bn()),Ns(A,this.relativeTarget)),k&&(this.animationValues=y,CL(y,g,this.latestValues,P,D,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ra(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=nn.update(()=>{Bd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Qo(0)),this.currentAnimation=xL(this.motionValue,[0,1e3],{...d,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),d.onUpdate&&d.onUpdate(h)},onStop:()=>{},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(OL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:h,target:p,layout:g,latestValues:y}=d;if(!(!h||!p||!g)){if(this!==d&&this.layout&&g&&_j(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||bn();const b=es(this.layout.layoutBox.x);p.x.min=d.target.x.min,p.x.max=p.x.min+b;const v=es(this.layout.layoutBox.y);p.y.min=d.target.y.min,p.y.max=p.y.min+v}Ns(h,p),Po(h,y),yc(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(d,h){this.sharedNodes.has(d)||this.sharedNodes.set(d,new AL),this.sharedNodes.get(d).add(h);const g=h.options.initialPromotionConfig;h.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(h):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){const{layoutId:d}=this.options;return d?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:d}=this.options;return d?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:h,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),d&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let h=!1;const{latestValues:p}=d;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(h=!0),!h)return;const g={};p.z&&km("z",d,g,this.animationValues);for(let y=0;y<Tm.length;y++)km(`rotate${Tm[y]}`,d,g,this.animationValues),km(`skew${Tm[y]}`,d,g,this.animationValues);d.render();for(const y in g)d.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);d.scheduleRender()}applyProjectionStyles(d,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){d.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,d.visibility="",d.opacity="",d.pointerEvents=Ld(h?.pointerEvents)||"",d.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=Ld(h?.pointerEvents)||""),this.hasProjected&&!fr(this.latestValues)&&(d.transform=p?p({},""):"none",this.hasProjected=!1);return}d.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let b=PL(this.projectionDeltaWithTransform,this.treeScale,y);p&&(b=p(y,b)),d.transform=b;const{x:v,y:S}=this.projectionDelta;d.transformOrigin=`${v.origin*100}% ${S.origin*100}% 0`,g.animationValues?d.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:d.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const j in Rc){if(y[j]===void 0)continue;const{correct:k,applyTo:w,isCSSVariable:T}=Rc[j],D=b==="none"?y[j]:k(y[j],g);if(w){const A=w.length;for(let W=0;W<A;W++)d[w[W]]=D}else T?this.options.visualElement.renderState.vars[j]=D:d[j]=D}this.options.layoutId&&(d.pointerEvents=g===this?Ld(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>d.currentAnimation?.stop()),this.root.nodes.forEach(r1),this.root.sharedNodes.clear()}}}function _L(e){e.updateLayout()}function IL(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=e.layout,{animationType:l}=e.options,u=t.source!==e.layout.source;l==="size"?Vs(y=>{const b=u?t.measuredBox[y]:t.layoutBox[y],v=es(b);b.min=s[y].min,b.max=b.min+v}):_j(l,t.layoutBox,s)&&Vs(y=>{const b=u?t.measuredBox[y]:t.layoutBox[y],v=es(s[y]);b.max=b.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+v)});const d=Oo();yc(d,s,t.layoutBox);const h=Oo();u?yc(h,e.applyTransform(a,!0),t.measuredBox):yc(h,s,t.layoutBox);const p=!Aj(d);let g=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:b,layout:v}=y;if(b&&v){const S=bn();xc(S,t.layoutBox,b.layoutBox);const j=bn();xc(j,s,v.layoutBox),Pj(S,j)||(g=!0),y.options.layoutRoot&&(e.relativeTarget=j,e.relativeTargetOrigin=S,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:h,layoutDelta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function WL(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function NL(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function LL(e){e.clearSnapshot()}function r1(e){e.clearMeasurements()}function o1(e){e.isLayoutDirty=!1}function BL(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function l1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function VL(e){e.resolveTargetDelta()}function zL(e){e.calcProjection()}function FL(e){e.resetSkewAndRotation()}function HL(e){e.removeLeadSnapshot()}function c1(e,t,s){e.translate=ln(t.translate,0,s),e.scale=ln(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function u1(e,t,s,a){e.min=ln(t.min,s.min,a),e.max=ln(t.max,s.max,a)}function UL(e,t,s,a){u1(e.x,t.x,s.x,a),u1(e.y,t.y,s.y,a)}function qL(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const YL={duration:.45,ease:[.4,0,.1,1]},d1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),h1=d1("applewebkit/")&&!d1("chrome/")?Math.round:Fs;function f1(e){e.min=h1(e.min),e.max=h1(e.max)}function GL(e){f1(e.x),f1(e.y)}function _j(e,t,s){return e==="position"||e==="preserve-aspect"&&!J3(i1(t),i1(s),.2)}function $L(e){return e!==e.root&&e.scroll?.wasRoot}const KL=Rj({attachResizeListener:(e,t)=>_c(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jm={current:void 0},Ij=Rj({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!jm.current){const e=new KL({});e.mount(window),e.setOptions({layoutScroll:!0}),jm.current=e}return jm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),QL={pan:{Feature:pL},drag:{Feature:fL,ProjectionNode:Ij,MeasureLayout:Dj}};function p1(e,t,s){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",s==="Start");const l="onHover"+s,u=a[l];u&&nn.postRender(()=>u(t,Zc(t)))}class XL extends La{mount(){const{current:t}=this.node;t&&(this.unmount=xN(t,(s,a)=>(p1(this.node,a,"Start"),l=>p1(this.node,l,"End"))))}unmount(){}}class ZL extends La{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kc(_c(this.node.current,"focus",()=>this.onFocus()),_c(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function m1(e,t,s){const{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",s==="Start");const l="onTap"+(s==="End"?"":s),u=a[l];u&&nn.postRender(()=>u(t,Zc(t)))}class JL extends La{mount(){const{current:t}=this.node;t&&(this.unmount=wN(t,(s,a)=>(m1(this.node,a,"Start"),(l,{success:u})=>m1(this.node,l,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const hg=new WeakMap,Dm=new WeakMap,e6=e=>{const t=hg.get(e.target);t&&t(e)},t6=e=>{e.forEach(e6)};function n6({root:e,...t}){const s=e||document;Dm.has(s)||Dm.set(s,{});const a=Dm.get(s),l=JSON.stringify(t);return a[l]||(a[l]=new IntersectionObserver(t6,{root:e,...t})),a[l]}function s6(e,t,s){const a=n6(t);return hg.set(e,s),a.observe(e),()=>{hg.delete(e),a.unobserve(e)}}const i6={some:0,all:1};class a6 extends La{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:a,amount:l="some",once:u}=t,d={root:s?s.current:void 0,rootMargin:a,threshold:typeof l=="number"?l:i6[l]},h=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:b}=this.node.getProps(),v=g?y:b;v&&v(p)};return s6(this.node.current,d,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(r6(t,s))&&this.startObserver()}unmount(){}}function r6({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const o6={inView:{Feature:a6},tap:{Feature:JL},focus:{Feature:ZL},hover:{Feature:XL}},l6={layout:{ProjectionNode:Ij,MeasureLayout:Dj}},c6={...G3,...o6,...QL,...l6},$e=c3(c6,w3),rh={minimum:"44px",navigation:"56px"},u6={navigation:1e3},Uy=x.memo(({currentScreen:e,onNavigate:t})=>{const s=el(),a=[{id:"home",label:"Work",iconActive:fn,iconInactive:S2,activeColor:"#1db584",screens:["home","selection","preview","workout","customize","custom-preview","completion","timer","cardio","hiit"]},{id:"progress",label:"Progress",iconActive:Aa,iconInactive:w2,activeColor:"#6b8a9d",screens:["progress"]},{id:"settings",label:"Settings",iconActive:T2,iconInactive:C2,activeColor:"#ff8c00",screens:["settings","log-activity","exercise-list","profile","stretch","mobility"]}],l=d=>{t(d)},u=d=>d.screens.includes(e);return r.jsx($e.nav,{initial:{y:100},animate:{y:0},transition:{type:"spring",stiffness:300,damping:30},style:{position:"fixed",bottom:0,left:0,right:0,height:`calc(${rh.navigation} + env(safe-area-inset-bottom))`,backgroundColor:s.palette.background.paper,borderTop:`1px solid ${s.palette.mode==="dark"?"rgba(29, 181, 132, 0.2)":"rgba(0, 0, 0, 0.12)"}`,boxShadow:s.palette.mode==="dark"?"0 -2px 10px rgba(0, 0, 0, 0.3)":"0 -2px 10px rgba(0, 0, 0, 0.1)",zIndex:u6.navigation,display:"flex",alignItems:"center",justifyContent:"space-around",paddingBottom:"env(safe-area-inset-bottom)",paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)"},children:a.map(d=>{const h=u(d),p=h?d.iconActive:d.iconInactive;return r.jsxs($e.button,{onClick:()=>l(d.id),whileTap:{scale:.9},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flex:1,height:"100%",minWidth:rh.minimum,background:"transparent",border:"none",cursor:"pointer",color:h?d.activeColor:s.palette.text.secondary,transition:"color 0.2s ease",padding:"8px 4px"},"aria-label":d.label,"aria-current":h?"page":void 0,children:[r.jsx("div",{style:{fontSize:"1.5rem",marginBottom:"2px",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(p,{sx:{fontSize:"1.5rem"}})}),r.jsx("span",{style:{fontSize:"0.625rem",fontWeight:h?600:400,textTransform:"uppercase",letterSpacing:"0.5px",lineHeight:1},children:d.label}),h&&r.jsx($e.div,{layoutId:"bottomNavIndicator",style:{position:"absolute",top:0,left:0,right:0,height:"2px",backgroundColor:d.activeColor,borderRadius:"0 0 2px 2px"},transition:{type:"spring",stiffness:300,damping:30}})]},d.id)})})});Uy.displayName="BottomNav";Uy.propTypes={currentScreen:E.string.isRequired,onNavigate:E.func.isRequired};const Wj=({workoutHistory:e=[],onDayClick:t})=>{const s=el(),a=_g(s.breakpoints.down("sm")),[l,u]=x.useState(new Date),d=()=>{const S=FT(l),j=zT(l),k=ei(S),w=UT(j),T=[];let D=k;for(;D<=w;)T.push(D),D=Gc(D,1);return T},h=S=>e.filter(j=>{const k=new Date(j.date);return Hm(k,S)}),p=S=>{if(!S||S.length===0)return null;const j=S[0];return j.type?.toLowerCase()||j.workoutType?.toLowerCase()||"strength"},g=S=>S?S==="cardio"||S==="hiit"?"error.main":S==="stretch"||S==="active_recovery"||S==="yoga"||S==="mobility"?"secondary.main":S==="rest"?"action.disabled":"primary.main":"primary.main",y=d(),b=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],v=new Date;return r.jsx(nt,{elevation:2,sx:{borderRadius:3,overflow:"hidden"},children:r.jsxs(ct,{sx:{p:{xs:2,sm:3},width:"100%",maxWidth:"100%",boxSizing:"border-box"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},children:[r.jsx(Xe,{onClick:()=>u(MI(l)),size:a?"small":"medium",children:r.jsx(k2,{})}),r.jsx(R,{variant:"h6",sx:{fontWeight:600,fontSize:{xs:"1.1rem",sm:"1.25rem"}},children:qm(l,"MMMM yyyy")}),r.jsx(Xe,{onClick:()=>u(wh(l,1)),size:a?"small":"medium",children:r.jsx(dr,{})})]}),r.jsx(L,{sx:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:{xs:.25,sm:.5},mb:.5},children:b.map(S=>r.jsx(L,{sx:{textAlign:"center",py:{xs:.5,sm:1},fontWeight:700,color:"text.primary",fontSize:{xs:"0.7rem",sm:"0.875rem"},opacity:.8},children:a?S.charAt(0):S},S))}),r.jsx(L,{sx:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:{xs:.25,sm:.5}},children:y.map((S,j)=>{const k=ek(S,l),w=Hm(S,v),T=h(S),D=T.length>0,A=p(T);return r.jsxs(L,{onClick:()=>D&&t?.(S,T[0]),sx:{aspectRatio:"1",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:1,cursor:D?"pointer":"default",bgcolor:w?"action.selected":"transparent",opacity:k?1:.3,border:w?2:1,borderColor:w?"primary.main":"transparent",transition:"all 0.2s ease",minHeight:{xs:40,sm:52},maxHeight:{xs:44,sm:60},position:"relative",padding:{xs:"3px 2px",sm:"6px 4px"},"&:hover":D?{bgcolor:"action.hover",transform:"scale(1.05)",boxShadow:1}:{}},children:[r.jsx(R,{variant:"body2",sx:{fontWeight:w?700:500,color:"text.primary",fontSize:{xs:"0.7rem",sm:"0.875rem"},position:"absolute",top:{xs:3,sm:6},left:"50%",transform:"translateX(-50%)"},children:qm(S,"d")}),D&&r.jsx(R,{sx:{fontSize:{xs:"1.1rem",sm:"1.5rem"},fontWeight:900,color:g(A),lineHeight:1,textShadow:"0 1px 2px rgba(0,0,0,0.1)",marginTop:"auto",marginBottom:{xs:"1px",sm:"4px"}},children:""})]},j)})}),r.jsxs(L,{sx:{display:"flex",gap:{xs:1,sm:2},mt:3,flexWrap:"nowrap",justifyContent:"center",overflowX:"auto"},children:[r.jsx(mt,{label:"Strength",size:"small",sx:{bgcolor:"primary.light",fontSize:{xs:"0.7rem",sm:"0.8125rem"},height:{xs:24,sm:32}}}),r.jsx(mt,{label:"Yoga",size:"small",sx:{bgcolor:"secondary.light",fontSize:{xs:"0.7rem",sm:"0.8125rem"},height:{xs:24,sm:32}}}),r.jsx(mt,{label:"Cardio",size:"small",sx:{bgcolor:"error.light",fontSize:{xs:"0.7rem",sm:"0.8125rem"},height:{xs:24,sm:32}}}),r.jsx(mt,{label:"Rest",size:"small",sx:{bgcolor:"action.disabledBackground",fontSize:{xs:"0.7rem",sm:"0.8125rem"},height:{xs:24,sm:32}}})]})]})})};Wj.propTypes={workoutHistory:E.array,onDayClick:E.func};const qy=x.memo(({onStartWorkout:e})=>{const[t,s]=x.useState([]),[a,l]=x.useState(null),[u,d]=x.useState(null),{assignWorkoutToDay:h,weeklySchedule:p}=Na(),g=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];x.useEffect(()=>{const w=async()=>{try{const D=await Hi();s(D)}catch(D){console.error("Error loading favorite workouts:",D)}};w();const T=()=>{w()};return window.addEventListener("storage",T),()=>{window.removeEventListener("storage",T)}},[]);const y=async w=>{try{for(const D of g){const A=p[D];A&&A.favoriteId===w&&await h(D,null)}await MT(w);const T=await Hi();s(T)}catch(T){console.error("Error deleting favorite workout:",T)}},b=w=>{if(e&&w){const T=w.type||"full",D=w.equipment||"all",A=w.exercises||[];e(T,D,A)}},v=(w,T)=>{l(w.currentTarget),d(T)},S=()=>{l(null),d(null)},j=async w=>{if(u)try{const T={sessionType:u.type||"full",sessionName:u.name||`${u.type} Workout`,exercises:u.exercises||[],assignedDate:new Date().toISOString(),fromFavorite:!0,favoriteId:u.id};await h(w,T),S()}catch(T){console.error("Error assigning workout to day:",T)}},k=w=>{for(const T of g){const D=p[T];if(D&&D.favoriteId===w.id)return T}return null};return t.length===0?null:r.jsx(nt,{elevation:2,sx:{mb:3,borderRadius:3},children:r.jsxs(ct,{sx:{p:{xs:2,sm:3}},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",mb:2},children:[r.jsx(Pa,{sx:{color:"warning.main",mr:1}}),r.jsx(R,{variant:"h6",sx:{fontWeight:600,color:"text.primary",flex:1},children:"Favourite Workouts"})]}),r.jsx(_e,{spacing:1.5,children:t.map((w,T)=>r.jsxs(L,{sx:{p:1.5,bgcolor:"background.default",borderRadius:2,borderLeft:"4px solid",borderLeftColor:"warning.main",display:"flex",alignItems:"center",gap:1},children:[r.jsx(fn,{sx:{color:"text.secondary",fontSize:20}}),r.jsxs(L,{sx:{flex:1,minWidth:0},children:[r.jsx(R,{variant:"subtitle2",sx:{fontWeight:600,mb:.5,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:w.name||"Untitled Workout"}),r.jsxs(_e,{direction:"row",spacing:.5,flexWrap:"wrap",children:[w.type&&r.jsx(mt,{label:w.type.charAt(0).toUpperCase()+w.type.slice(1),size:"small",sx:{fontSize:"0.65rem",height:20}}),w.exercises&&r.jsx(mt,{label:`${w.exercises.length} exercises`,size:"small",variant:"outlined",sx:{fontSize:"0.65rem",height:20}}),k(w)&&r.jsx(mt,{icon:r.jsx(Uo,{sx:{fontSize:"0.75rem !important"}}),label:k(w),size:"small",color:"success",sx:{fontSize:"0.65rem",height:20}})]})]}),r.jsxs(_e,{direction:"row",spacing:.5,children:[r.jsx($n,{title:"Assign to day",children:r.jsx(Xe,{size:"small",onClick:D=>v(D,w),sx:{color:k(w)?"success.main":"text.secondary","&:hover":{backgroundColor:"rgba(46, 125, 50, 0.08)"}},"aria-label":`Assign ${w.name||"workout"} to day`,children:r.jsx(hh,{fontSize:"small"})})}),r.jsx($n,{title:"Start workout",children:r.jsx(Xe,{size:"small",onClick:()=>b(w),sx:{color:"primary.main","&:hover":{backgroundColor:"rgba(19, 70, 134, 0.08)"}},"aria-label":`Start ${w.name||"workout"}`,children:r.jsx(Js,{fontSize:"small"})})}),r.jsx($n,{title:"Delete",children:r.jsx(Xe,{size:"small",onClick:()=>y(w.id),sx:{color:"error.main","&:hover":{backgroundColor:"rgba(211, 47, 47, 0.08)"}},"aria-label":`Delete ${w.name||"workout"}`,children:r.jsx(qo,{fontSize:"small"})})})]})]},T))}),r.jsxs(j2,{anchorEl:a,open:!!a,onClose:S,PaperProps:{sx:{maxHeight:300,width:200}},children:[r.jsx(Be,{disabled:!0,sx:{opacity:1,fontWeight:600},children:r.jsx(jt,{children:"Assign to Day"})}),g.map(w=>{const T=u&&p[w]?.favoriteId===u.id;return r.jsxs(Be,{onClick:()=>j(w),selected:T,children:[r.jsx(Ht,{children:T&&r.jsx(Uo,{fontSize:"small",color:"success"})}),r.jsx(jt,{children:w})]},w)})]})]})})});qy.displayName="FavouriteWorkoutsWidget";qy.propTypes={onStartWorkout:E.func};const Yy=({onClose:e})=>{const t=[{text:"Take it easy! See a friend!",icon:r.jsx(D2,{sx:{fontSize:48}})},{text:"Rest up! Read a book!",icon:r.jsx(E2,{sx:{fontSize:48}})},{text:"Relax and recover! Try some gentle stretching!",icon:r.jsx(ti,{sx:{fontSize:48}})},{text:"Your body needs rest! Enjoy your day off!",icon:r.jsx(fh,{sx:{fontSize:48}})}],s=t[Math.floor(Math.random()*t.length)];return r.jsx(L,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"rgba(0, 0, 0, 0.5)",zIndex:1300,p:2},onClick:e,children:r.jsx($e.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},transition:{type:"spring",stiffness:260,damping:20},children:r.jsxs(uc,{elevation:8,sx:{p:4,maxWidth:400,textAlign:"center",borderRadius:4,background:"linear-gradient(135deg, rgba(19, 70, 134, 0.1) 0%, rgba(237, 63, 39, 0.1) 100%)"},onClick:a=>a.stopPropagation(),children:[r.jsx($e.div,{animate:{y:[0,-10,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:r.jsx(L,{sx:{color:"primary.main",mb:2},children:s.icon})}),r.jsx(R,{variant:"h5",sx:{fontWeight:700,mb:2,color:"text.primary"},children:"It's a Rest Day! "}),r.jsx(R,{variant:"body1",sx:{color:"text.secondary",mb:3},children:s.text}),r.jsx($e.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:r.jsx(L,{sx:{display:"inline-block",px:3,py:1,borderRadius:2,bgcolor:"primary.main",color:"white",cursor:"pointer",fontWeight:600,"&:hover":{bgcolor:"primary.dark"}},onClick:e,children:"Got it!"})})]})})})};Yy.propTypes={onClose:E.func.isRequired};const Nj=e=>{const t=Math.floor(e/3600),s=Math.floor(e%3600/60),a=e%60;return`${t.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`},d6=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),Lj=e=>{const t=Math.floor(e/3600),s=Math.floor(e%3600/60);return t>0?`${t}h ${s}m`:`${s}m`},Vo=e=>{if(typeof e=="string"){const t=e.toLowerCase();return t.includes("upper")?"upper":t.includes("lower")?"lower":"full"}if(e?.type)return Vo(e.type);if(e?.["Primary Muscle"]){const t=e["Primary Muscle"].toLowerCase();if(t.includes("upper"))return"upper";if(t.includes("lower"))return"lower"}return"full"},Gy=x.memo(({activities:e=[],onDelete:t,onEdit:s,maxVisible:a=10,showLoadMore:l=!0})=>{const[u,d]=x.useState(null),[h,p]=x.useState(a),g=k=>{d(u===k?null:k)},y=k=>({strength:r.jsx(fn,{fontSize:"small"}),cardio:r.jsx(mi,{fontSize:"small"}),hiit:r.jsx(mi,{fontSize:"small"}),stretch:r.jsx(ti,{fontSize:"small"})})[k]||r.jsx(fn,{fontSize:"small"}),b=k=>({strength:"primary",cardio:"info",hiit:"error",stretch:"warning"})[k]||"default",v=k=>k.charAt(0).toUpperCase()+k.slice(1),S=k=>{if(k.exercises){if(Array.isArray(k.exercises))return k.exercises.length;if(typeof k.exercises=="object")return Object.keys(k.exercises).length}return 0},j=e.slice(0,h);return e.length===0?r.jsx(nt,{sx:{width:"100%",borderRadius:3},children:r.jsx(ct,{children:r.jsx(R,{variant:"body2",color:"text.secondary",align:"center",children:"No activities yet. Start your first workout!"})})}):r.jsxs(L,{sx:{width:"100%"},children:[r.jsx(R,{variant:"overline",sx:{color:"primary.main",fontWeight:600,letterSpacing:1,mb:1,display:"block"},children:"ACTIVITY HISTORY"}),r.jsx(Gn,{sx:{p:0},children:j.map((k,w)=>{const T=u===w,D=S(k),A=k.type||"strength";return r.jsx(nt,{sx:{mb:1,borderRadius:2,boxShadow:"0 2px 8px rgba(19, 70, 134, 0.06)",transition:"box-shadow 0.2s","&:hover":{boxShadow:"0 4px 16px rgba(19, 70, 134, 0.12)"}},children:r.jsxs(ut,{sx:{display:"flex",flexDirection:"column",alignItems:"stretch",p:1.5,cursor:"pointer"},onClick:()=>g(w),children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1,flex:1},children:[r.jsx(L,{sx:{color:`${b(A)}.main`},children:y(A)}),r.jsxs(L,{sx:{flex:1},children:[r.jsxs(R,{variant:"body2",sx:{fontWeight:600,color:"text.primary"},children:[k.sessionName||v(A),k.isPartial&&r.jsx(mt,{label:"Partial",size:"small",sx:{ml:1,height:"18px",fontSize:"0.7rem"}})]}),k.sessionName&&r.jsx(R,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.65rem"},children:v(A)}),r.jsxs(_e,{direction:"row",spacing:1,sx:{mt:.5},children:[r.jsx(R,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.7rem"},children:d6(k.date)}),r.jsx(R,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.7rem"},children:""}),r.jsx(R,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.7rem"},children:Lj(k.duration)}),D>0&&r.jsxs(r.Fragment,{children:[r.jsx(R,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.7rem"},children:""}),r.jsxs(R,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.7rem"},children:[D," exercises"]})]})]})]})]}),r.jsx(Xe,{size:"small",onClick:W=>{W.stopPropagation(),g(w)},children:T?r.jsx(DC,{}):r.jsx(Da,{})})]}),r.jsx(Vd,{in:T,timeout:"auto",unmountOnExit:!0,children:r.jsxs(L,{sx:{mt:2,pt:2,borderTop:"1px solid",borderColor:"divider"},children:[k.exercises&&typeof k.exercises=="object"&&r.jsxs(L,{sx:{mb:2},children:[r.jsx(R,{variant:"caption",sx:{fontWeight:600,color:"text.secondary"},children:"Exercises:"}),r.jsx(Gn,{dense:!0,sx:{mt:.5},children:Object.entries(k.exercises).map(([W,P],O)=>r.jsxs(ut,{sx:{py:.5,px:1,flexDirection:"column",alignItems:"flex-start"},children:[r.jsxs(R,{variant:"caption",sx:{color:"text.primary"},children:[W,": ",P.sets?.length||0," sets"]}),P.formNotes&&r.jsxs(R,{variant:"caption",sx:{color:"text.secondary",fontStyle:"italic",mt:.5},children:["Form: ",P.formNotes]})]},O))})]}),k.notes&&r.jsxs(L,{sx:{mb:2,p:1.5,bgcolor:"action.hover",borderRadius:1},children:[r.jsx(R,{variant:"caption",sx:{fontWeight:600,color:"text.secondary",display:"block",mb:.5},children:"Notes:"}),r.jsx(R,{variant:"caption",sx:{color:"text.primary"},children:k.notes})]}),r.jsxs(_e,{direction:"row",spacing:1,children:[s&&r.jsx(Ae,{size:"small",startIcon:r.jsx(wr,{}),onClick:W=>{W.stopPropagation(),s(w)},variant:"outlined",children:"Edit"}),t&&r.jsx(Ae,{size:"small",startIcon:r.jsx(qo,{}),onClick:W=>{W.stopPropagation(),t(w)},variant:"outlined",color:"error",children:"Delete"})]})]})})]})},w)})}),l&&h<e.length&&r.jsx(L,{sx:{display:"flex",justifyContent:"center",mt:2},children:r.jsxs(Ae,{variant:"outlined",onClick:()=>p(k=>k+a),children:["Load More (",e.length-h," remaining)"]})})]})});Gy.displayName="ActivitiesList";Gy.propTypes={activities:E.arrayOf(E.shape({date:E.string,type:E.string,duration:E.number,sessionName:E.string,exercises:E.oneOfType([E.array,E.object]),isPartial:E.bool})).isRequired,onDelete:E.func,onEdit:E.func,maxVisible:E.number,showLoadMore:E.bool};const nc=(e,t)=>e.length!==t.length?!1:t.every(s=>e.includes(s)),h6=({openTo:e,defaultOpenTo:t,views:s,defaultViews:a})=>{const l=s??a;let u;if(e!=null)u=e;else if(l.includes(t))u=t;else if(l.length>0)u=l[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:l,openTo:u}},oh=(e,t,s)=>{let a=t;return a=e.setHours(a,e.getHours(s)),a=e.setMinutes(a,e.getMinutes(s)),a=e.setSeconds(a,e.getSeconds(s)),a=e.setMilliseconds(a,e.getMilliseconds(s)),a},Ic=({date:e,disableFuture:t,disablePast:s,maxDate:a,minDate:l,isDateDisabled:u,adapter:d,timezone:h})=>{const p=oh(d,d.date(void 0,h),e);s&&d.isBefore(l,p)&&(l=p),t&&d.isAfter(a,p)&&(a=p);let g=e,y=e;for(d.isBefore(e,l)&&(g=l,y=null),d.isAfter(e,a)&&(y&&(y=a),g=null);g||y;){if(g&&d.isAfter(g,a)&&(g=null),y&&d.isBefore(y,l)&&(y=null),g){if(!u(g))return g;g=d.addDays(g,1)}if(y){if(!u(y))return y;y=d.addDays(y,-1)}}return null},f6=(e,t)=>e.isValid(t)?t:null,g1=(e,t,s)=>t==null||!e.isValid(t)?s:t,p6=(e,t,s)=>!e.isValid(t)&&t!=null&&!e.isValid(s)&&s!=null?!0:e.isEqual(t,s),$y=(e,t)=>{const a=[e.startOfYear(t)];for(;a.length<12;){const l=a[a.length-1];a.push(e.addMonths(l,1))}return a},Bj=(e,t,s)=>s==="date"?e.startOfDay(e.date(void 0,t)):e.date(void 0,t),m6=["year","month","day"],y1=e=>m6.includes(e),Ky=(e,{format:t,views:s},a)=>{if(t!=null)return t;const l=e.formats;return nc(s,["year"])?l.year:nc(s,["month"])?l.month:nc(s,["day"])?l.dayOfMonth:nc(s,["month","year"])?`${l.month} ${l.year}`:nc(s,["day","month"])?`${l.month} ${l.dayOfMonth}`:a?/en/.test(e.getCurrentLocaleCode())?l.normalDateWithWeekday:l.normalDate:l.keyboardDate},g6=(e,t)=>{const s=e.startOfWeek(t);return[0,1,2,3,4,5,6].map(a=>e.addDays(s,a))},y6=["hours","minutes","seconds"],x6=e=>y6.includes(e),x1=(e,t)=>t.getHours(e)*3600+t.getMinutes(e)*60+t.getSeconds(e),b6=(e,t)=>(s,a)=>e?t.isAfter(s,a):x1(s,t)>x1(a,t),ci={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},v6=e=>Math.max(...e.map(t=>ci[t.type]??1)),sc=(e,t,s)=>{if(t===ci.year)return e.startOfYear(s);if(t===ci.month)return e.startOfMonth(s);if(t===ci.day)return e.startOfDay(s);let a=s;return t<ci.minutes&&(a=e.setMinutes(a,0)),t<ci.seconds&&(a=e.setSeconds(a,0)),t<ci.milliseconds&&(a=e.setMilliseconds(a,0)),a},S6=({props:e,adapter:t,granularity:s,timezone:a,getTodayDate:l})=>{let u=l?l():sc(t,s,Bj(t,a));e.minDate!=null&&t.isAfterDay(e.minDate,u)&&(u=sc(t,s,e.minDate)),e.maxDate!=null&&t.isBeforeDay(e.maxDate,u)&&(u=sc(t,s,e.maxDate));const d=b6(e.disableIgnoringDatePartForTimeValidation??!1,t);return e.minTime!=null&&d(e.minTime,u)&&(u=sc(t,s,e.disableIgnoringDatePartForTimeValidation?e.minTime:oh(t,u,e.minTime))),e.maxTime!=null&&d(u,e.maxTime)&&(u=sc(t,s,e.disableIgnoringDatePartForTimeValidation?e.maxTime:oh(t,u,e.maxTime))),u},Vj=(e,t)=>{const s=e.formatTokenMap[t];if(s==null)throw new Error([`MUI X: The token "${t}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof s=="string"?{type:s,contentType:s==="meridiem"?"letter":"digit",maxLength:void 0}:{type:s.sectionType,contentType:s.contentType,maxLength:s.maxLength}},Dh=(e,t)=>{const s=[],a=e.date(void 0,"default"),l=e.startOfWeek(a),u=e.endOfWeek(a);let d=l;for(;e.isBefore(d,u);)s.push(d),d=e.addDays(d,1);return s.map(h=>e.formatByString(h,t))},zj=(e,t,s,a)=>{switch(s){case"month":return $y(e,e.date(void 0,t)).map(l=>e.formatByString(l,a));case"weekDay":return Dh(e,a);case"meridiem":{const l=e.date(void 0,t);return[e.startOfDay(l),e.endOfDay(l)].map(u=>e.formatByString(u,a))}default:return[]}},b1="s",w6=["0","1","2","3","4","5","6","7","8","9"],C6=e=>{const t=e.date(void 0);return e.formatByString(e.setSeconds(t,0),b1)==="0"?w6:Array.from({length:10}).map((a,l)=>e.formatByString(e.setSeconds(t,l),b1))},kr=(e,t)=>{if(t[0]==="0")return e;const s=[];let a="";for(let l=0;l<e.length;l+=1){a+=e[l];const u=t.indexOf(a);u>-1&&(s.push(u.toString()),a="")}return s.join("")},Qy=(e,t)=>t[0]==="0"?e:e.split("").map(s=>t[Number(s)]).join(""),v1=(e,t)=>{const s=kr(e,t);return s!==" "&&!Number.isNaN(Number(s))},Xy=(e,t)=>Number(e).toString().padStart(t,"0"),Fj=(e,t,s,a,l)=>{if(l.type==="day"&&l.contentType==="digit-with-letter"){const d=e.setDate(s.longestMonth,t);return e.formatByString(d,l.format)}let u=t.toString();return l.hasLeadingZerosInInput&&(u=Xy(u,l.maxLength)),Qy(u,a)},Zy=(e,t,s)=>{let a=e.value||e.placeholder;const l=t==="non-input"?e.hasLeadingZerosInFormat:e.hasLeadingZerosInInput;return t==="non-input"&&e.hasLeadingZerosInInput&&!e.hasLeadingZerosInFormat&&(a=Number(kr(a,s)).toString()),["input-rtl","input-ltr"].includes(t)&&e.contentType==="digit"&&!l&&a.length===1&&(a=`${a}`),t==="input-rtl"&&(a=`${a}`),a},S1=(e,t,s,a)=>e.formatByString(e.parse(t,s),a),T6=(e,t)=>e.formatByString(e.date(void 0,"system"),t).length===4,Hj=(e,t,s,a)=>{if(t!=="digit")return!1;const l=e.date(void 0,"default");switch(s){case"year":return e.lib==="dayjs"&&a==="YY"?!0:e.formatByString(e.setYear(l,1),a).startsWith("0");case"month":return e.formatByString(e.startOfYear(l),a).length>1;case"day":return e.formatByString(e.startOfMonth(l),a).length>1;case"weekDay":return e.formatByString(e.startOfWeek(l),a).length>1;case"hours":return e.formatByString(e.setHours(l,1),a).length>1;case"minutes":return e.formatByString(e.setMinutes(l,1),a).length>1;case"seconds":return e.formatByString(e.setSeconds(l,1),a).length>1;default:throw new Error("Invalid section type")}},k6=(e,t,s)=>{const a=t.some(p=>p.type==="day"),l=[],u=[];for(let p=0;p<t.length;p+=1){const g=t[p];a&&g.type==="weekDay"||(l.push(g.format),u.push(Zy(g,"non-input",s)))}const d=l.join(" "),h=u.join(" ");return e.parse(h,d)},j6=e=>e.map(t=>`${t.startSeparator}${t.value||t.placeholder}${t.endSeparator}`).join(""),D6=(e,t,s)=>{const l=e.map(u=>{const d=Zy(u,s?"input-rtl":"input-ltr",t);return`${u.startSeparator}${d}${u.endSeparator}`}).join("");return s?`${l}`:l},E6=(e,t,s)=>{const a=e.date(void 0,s),l=e.endOfYear(a),u=e.endOfDay(a),{maxDaysInMonth:d,longestMonth:h}=$y(e,a).reduce((p,g)=>{const y=e.getDaysInMonth(g);return y>p.maxDaysInMonth?{maxDaysInMonth:y,longestMonth:g}:p},{maxDaysInMonth:0,longestMonth:null});return{year:({format:p})=>({minimum:0,maximum:T6(e,p)?9999:99}),month:()=>({minimum:1,maximum:e.getMonth(l)+1}),day:({currentDate:p})=>({minimum:1,maximum:e.isValid(p)?e.getDaysInMonth(p):d,longestMonth:h}),weekDay:({format:p,contentType:g})=>{if(g==="digit"){const y=Dh(e,p).map(Number);return{minimum:Math.min(...y),maximum:Math.max(...y)}}return{minimum:1,maximum:7}},hours:({format:p})=>{const g=e.getHours(u);return kr(e.formatByString(e.endOfDay(a),p),t)!==g.toString()?{minimum:1,maximum:Number(kr(e.formatByString(e.startOfDay(a),p),t))}:{minimum:0,maximum:g}},minutes:()=>({minimum:0,maximum:e.getMinutes(u)}),seconds:()=>({minimum:0,maximum:e.getSeconds(u)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}},M6=(e,t,s,a)=>{switch(t.type){case"year":return e.setYear(a,e.getYear(s));case"month":return e.setMonth(a,e.getMonth(s));case"weekDay":{let l=e.formatByString(s,t.format);t.hasLeadingZerosInInput&&(l=Xy(l,t.maxLength));const u=Dh(e,t.format),d=u.indexOf(l),p=u.indexOf(t.value)-d;return e.addDays(s,p)}case"day":return e.setDate(a,e.getDate(s));case"meridiem":{const l=e.getHours(s)<12,u=e.getHours(a);return l&&u>=12?e.addHours(a,-12):!l&&u<12?e.addHours(a,12):a}case"hours":return e.setHours(a,e.getHours(s));case"minutes":return e.setMinutes(a,e.getMinutes(s));case"seconds":return e.setSeconds(a,e.getSeconds(s));default:return a}},w1={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},C1=(e,t,s,a,l)=>[...s].sort((u,d)=>w1[u.type]-w1[d.type]).reduce((u,d)=>!l||d.modified?M6(e,d,t,u):u,a),A6=()=>navigator.userAgent.toLowerCase().includes("android"),P6=(e,t)=>{const s={};if(!t)return e.forEach((p,g)=>{const y=g===0?null:g-1,b=g===e.length-1?null:g+1;s[g]={leftIndex:y,rightIndex:b}}),{neighbors:s,startIndex:0,endIndex:e.length-1};const a={},l={};let u=0,d=0,h=e.length-1;for(;h>=0;){d=e.findIndex((p,g)=>g>=u&&p.endSeparator?.includes(" ")&&p.endSeparator!==" / "),d===-1&&(d=e.length-1);for(let p=d;p>=u;p-=1)l[p]=h,a[h]=p,h-=1;u=d+1}return e.forEach((p,g)=>{const y=l[g],b=y===0?null:a[y-1],v=y===e.length-1?null:a[y+1];s[g]={leftIndex:b,rightIndex:v}}),{neighbors:s,startIndex:a[0],endIndex:a[e.length-1]}},fg=(e,t)=>{if(e==null)return null;if(e==="all")return"all";if(typeof e=="string"){const s=t.findIndex(a=>a.type===e);return s===-1?null:s}return e},O6=["value","referenceDate"],yi={emptyValue:null,getTodayValue:Bj,getInitialReferenceValue:e=>{let{value:t,referenceDate:s}=e,a=dt(e,O6);return a.adapter.isValid(t)?t:s??S6(a)},cleanValue:f6,areValuesEqual:p6,isSameError:(e,t)=>e===t,hasError:e=>e!=null,defaultErrorState:null,getTimezone:(e,t)=>e.isValid(t)?e.getTimezone(t):null,setTimezone:(e,t,s)=>s==null?null:e.setTimezone(s,t)},R6={updateReferenceValue:(e,t,s)=>e.isValid(t)?t:s,getSectionsFromValue:(e,t)=>t(e),getV7HiddenInputValueFromSections:j6,getV6InputValueFromSections:D6,parseValueStr:(e,t,s)=>s(e.trim(),t),getDateFromSection:e=>e,getDateSectionsFromValue:e=>e,updateDateInValue:(e,t,s)=>s,clearDateSections:e=>e.map(t=>K({},t,{value:""}))};function _6(e){return _n("MuiPickersToolbar",e)}In("MuiPickersToolbar",["root","title","content"]);const I6=["localeText"],pg=x.createContext(null),Eh=function(t){const{localeText:s}=t,a=dt(t,I6),{adapter:l,localeText:u}=x.useContext(pg)??{adapter:void 0,localeText:void 0},d=cn({props:a,name:"MuiLocalizationProvider"}),{children:h,dateAdapter:p,dateFormats:g,dateLibInstance:y,adapterLocale:b,localeText:v}=d,S=x.useMemo(()=>K({},v,u,s),[v,u,s]),j=x.useMemo(()=>{if(!p)return l||null;const T=new p({locale:b,formats:g,instance:y});if(!T.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/quickstart/#installation"].join(`
`));return T},[p,b,g,y,l]),k=x.useMemo(()=>j?{minDate:j.date("1900-01-01T00:00:00.000"),maxDate:j.date("2099-12-31T00:00:00.000")}:null,[j]),w=x.useMemo(()=>({utils:j,adapter:j,defaultDates:k,localeText:S}),[k,j,S]);return r.jsx(pg.Provider,{value:w,children:h})},Uj=x.createContext(()=>!0);function W6(){return x.useContext(Uj)}const qj=x.createContext(null);function Yj(){return x.useContext(qj)}const Jy=x.createContext(null),al=()=>{const e=x.useContext(Jy);if(e==null)throw new Error("MUI X: The `usePickerContext` hook can only be called inside the context of a Picker component");return e},Gj=x.createContext(null),$j=x.createContext({ownerState:{isPickerDisabled:!1,isPickerReadOnly:!1,isPickerValueEmpty:!1,isPickerOpen:!1,pickerVariant:"desktop",pickerOrientation:"portrait"},rootRefObject:{current:null},labelId:void 0,dismissViews:()=>{},hasUIView:!0,getCurrentViewMode:()=>"UI",triggerElement:null,viewContainerRole:null,defaultActionBarActions:[],onPopperExited:void 0});function Kj(e){const{contextValue:t,actionsContextValue:s,privateContextValue:a,fieldPrivateContextValue:l,isValidContextValue:u,localeText:d,children:h}=e;return r.jsx(Jy.Provider,{value:t,children:r.jsx(Gj.Provider,{value:s,children:r.jsx($j.Provider,{value:a,children:r.jsx(qj.Provider,{value:l,children:r.jsx(Uj.Provider,{value:u,children:r.jsx(Eh,{localeText:d,children:h})})})})})})}const qn=()=>x.useContext($j);function Qj(){const{ownerState:e}=qn(),t=Ki();return x.useMemo(()=>K({},e,{toolbarDirection:t?"rtl":"ltr"}),[e,t])}const N6=["children","className","classes","toolbarTitle","hidden","titleId","classes","landscapeDirection"],L6=e=>mn({root:["root"],title:["title"],content:["content"]},_6,e),B6=Ke("div",{name:"MuiPickersToolbar",slot:"Root"})(({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:e.spacing(2,3),variants:[{props:{pickerOrientation:"landscape"},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),V6=Ke("div",{name:"MuiPickersToolbar",slot:"Content",shouldForwardProp:e=>Dr(e)&&e!=="landscapeDirection"})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{pickerOrientation:"landscape"},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{pickerOrientation:"landscape",landscapeDirection:"row"},style:{flexDirection:"row"}}]}),z6=x.forwardRef(function(t,s){const a=cn({props:t,name:"MuiPickersToolbar"}),{children:l,className:u,classes:d,toolbarTitle:h,hidden:p,titleId:g,landscapeDirection:y}=a,b=dt(a,N6),v=Qj(),S=L6(d);return p?null:r.jsxs(B6,K({ref:s,className:Hn(S.root,u),ownerState:v},b,{children:[r.jsx(R,{color:"text.secondary",variant:"overline",id:g,className:S.title,children:h}),r.jsx(V6,{className:S.content,ownerState:v,landscapeDirection:y,children:l})]}))}),F6=e=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:K({},e)}}}}),Xj={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:e=>e==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",nextStepButtonLabel:"Next",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",timeRangePickerToolbarTitle:"Select time range",clockLabelText:(e,t)=>`Select ${e}. ${t?`Selected time is ${t}`:"No time selected"}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:e=>e?`Choose date, selected date is ${e}`:"Choose date",openTimePickerDialogue:e=>e?`Choose time, selected time is ${e}`:"Choose time",openRangePickerDialogue:e=>e?`Choose range, selected range is ${e}`:"Choose range",fieldClearLabel:"Clear",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>e.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>e.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},H6=Xj;F6(Xj);const ex=()=>{const e=x.useContext(pg);if(e===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(e.adapter===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const t=x.useMemo(()=>K({},H6,e.localeText),[e.localeText]);return x.useMemo(()=>K({},e,{localeText:t}),[e,t])},qt=()=>ex().adapter,Ba=()=>ex().localeText,mg=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],gg=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],Zj=["minDateTime","maxDateTime"],U6=[...mg,...gg,...Zj],Jj=e=>U6.reduce((t,s)=>(e.hasOwnProperty(s)&&(t[s]=e[s]),t),{}),q6=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","unstableStartFieldRef","unstableEndFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator","autoFocus","focused"],eD=(e,t)=>x.useMemo(()=>{const s=K({},e),a={},l=u=>{s.hasOwnProperty(u)&&(a[u]=s[u],delete s[u])};return q6.forEach(l),t==="date"?mg.forEach(l):t==="time"?gg.forEach(l):t==="date-time"&&(mg.forEach(l),gg.forEach(l),Zj.forEach(l)),{forwardedProps:s,internalProps:a}},[e,t]),Y6=({adapter:e,format:t})=>{let s=10,a=t,l=e.expandFormat(t);for(;l!==a;)if(a=l,l=e.expandFormat(a),s-=1,s<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the component.");return l},G6=({adapter:e,expandedFormat:t})=>{const s=[],{start:a,end:l}=e.escapedCharacters,u=new RegExp(`(\\${a}[^\\${l}]*\\${l})+`,"g");let d=null;for(;d=u.exec(t);)s.push({start:d.index,end:u.lastIndex-1});return s},$6=(e,t,s,a)=>{switch(s.type){case"year":return t.fieldYearPlaceholder({digitAmount:e.formatByString(e.date(void 0,"default"),a).length,format:a});case"month":return t.fieldMonthPlaceholder({contentType:s.contentType,format:a});case"day":return t.fieldDayPlaceholder({format:a});case"weekDay":return t.fieldWeekDayPlaceholder({contentType:s.contentType,format:a});case"hours":return t.fieldHoursPlaceholder({format:a});case"minutes":return t.fieldMinutesPlaceholder({format:a});case"seconds":return t.fieldSecondsPlaceholder({format:a});case"meridiem":return t.fieldMeridiemPlaceholder({format:a});default:return a}},K6=({adapter:e,date:t,shouldRespectLeadingZeros:s,localeText:a,localizedDigits:l,now:u,token:d,startSeparator:h})=>{if(d==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const p=Vj(e,d),g=Hj(e,p.contentType,p.type,d),y=s?g:p.contentType==="digit",b=e.isValid(t);let v=b?e.formatByString(t,d):"",S=null;if(y)if(g)S=v===""?e.formatByString(u,d).length:v.length;else{if(p.maxLength==null)throw new Error(`MUI X: The token ${d} should have a 'maxLength' property on it's adapter`);S=p.maxLength,b&&(v=Qy(Xy(kr(v,l),S),l))}return K({},p,{format:d,maxLength:S,value:v,placeholder:$6(e,a,p,d),hasLeadingZerosInFormat:g,hasLeadingZerosInInput:y,startSeparator:h,endSeparator:"",modified:!1})},Q6=e=>{const{adapter:t,expandedFormat:s,escapedParts:a}=e,l=t.date(void 0),u=[];let d="";const h=Object.keys(t.formatTokenMap).sort((S,j)=>j.length-S.length),p=/^([a-zA-Z]+)/,g=new RegExp(`^(${h.join("|")})*$`),y=new RegExp(`^(${h.join("|")})`),b=S=>a.find(j=>j.start<=S&&j.end>=S);let v=0;for(;v<s.length;){const S=b(v),j=S!=null,k=p.exec(s.slice(v))?.[1];if(!j&&k!=null&&g.test(k)){let w=k;for(;w.length>0;){const T=y.exec(w)[1];w=w.slice(T.length),u.push(K6(K({},e,{now:l,token:T,startSeparator:d}))),d=""}v+=k.length}else{const w=s[v];j&&S?.start===v||S?.end===v||(u.length===0?d+=w:(u[u.length-1].endSeparator+=w,u[u.length-1].isEndFormatSeparator=!0)),v+=1}}return u.length===0&&d.length>0&&u.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:d,endSeparator:"",modified:!1}),u},X6=({isRtl:e,formatDensity:t,sections:s})=>s.map(a=>{const l=u=>{let d=u;return e&&d!==null&&d.includes(" ")&&(d=`${d}`),t==="spacious"&&["/",".","-"].includes(d)&&(d=` ${d} `),d};return a.startSeparator=l(a.startSeparator),a.endSeparator=l(a.endSeparator),a}),T1=e=>{let t=Y6(e);e.isRtl&&e.enableAccessibleFieldDOMStructure&&(t=t.split(" ").reverse().join(" "));const s=G6(K({},e,{expandedFormat:t})),a=Q6(K({},e,{expandedFormat:t,escapedParts:s}));return X6(K({},e,{sections:a}))},tx=()=>x.useContext(Jy),Z6=()=>{const e=x.useContext(Gj);if(e==null)throw new Error(["MUI X: The `usePickerActionsContext` can only be called in fields that are used as a slot of a Picker component"].join(`
`));return e};function J6(e){return _n("MuiDatePickerToolbar",e)}In("MuiDatePickerToolbar",["root","title"]);const eB=["toolbarFormat","toolbarPlaceholder","className","classes"],tB=e=>mn({root:["root"],title:["title"]},J6,e),nB=Ke(z6,{name:"MuiDatePickerToolbar",slot:"Root"})({}),sB=Ke(R,{name:"MuiDatePickerToolbar",slot:"Title"})({variants:[{props:{pickerOrientation:"landscape"},style:{margin:"auto 16px auto auto"}}]}),iB=x.forwardRef(function(t,s){const a=cn({props:t,name:"MuiDatePickerToolbar"}),{toolbarFormat:l,toolbarPlaceholder:u="",className:d,classes:h}=a,p=dt(a,eB),g=qt(),{value:y,views:b,orientation:v}=al(),S=Ba(),j=Qj(),k=tB(h),w=x.useMemo(()=>{if(!g.isValid(y))return u;const T=Ky(g,{format:l,views:b},!0);return g.formatByString(y,T)},[y,l,u,g,b]);return r.jsx(nB,K({ref:s,toolbarTitle:S.datePickerToolbarTitle,className:Hn(k.root,d)},p,{children:r.jsx(sB,{variant:"h4",align:v==="landscape"?"left":"center",ownerState:j,className:k.title,children:w})}))}),Jc=({props:e,value:t,timezone:s,adapter:a})=>{if(t===null)return null;const{shouldDisableDate:l,shouldDisableMonth:u,shouldDisableYear:d,disablePast:h,disableFuture:p,minDate:g,maxDate:y}=e,b=a.date(void 0,s);switch(!0){case!a.isValid(t):return"invalidDate";case!!(l&&l(t)):return"shouldDisableDate";case!!(u&&u(t)):return"shouldDisableMonth";case!!(d&&d(t)):return"shouldDisableYear";case!!(p&&a.isAfterDay(t,b)):return"disableFuture";case!!(h&&a.isBeforeDay(t,b)):return"disablePast";case!!(g&&a.isBeforeDay(t,g)):return"minDate";case!!(y&&a.isAfterDay(t,y)):return"maxDate";default:return null}};Jc.valueManager=yi;function tD(e){const{props:t,validator:s,value:a,timezone:l,onError:u}=e,d=qt(),h=x.useRef(s.valueManager.defaultErrorState),p=s({adapter:d,value:a,timezone:l,props:t}),g=s.valueManager.hasError(p);x.useEffect(()=>{u&&!s.valueManager.isSameError(p,h.current)&&u(p,a),h.current=p},[s,u,p,a]);const y=He(b=>s({adapter:d,value:b,timezone:l,props:t}));return{validationError:p,hasValidationError:g,getValidationErrorForNewValue:y}}const aB=()=>ex().defaultDates,Mh=e=>{const t=qt(),s=x.useRef(void 0);return s.current===void 0&&(s.current=t.date(void 0,e)),s.current};function rB(e={}){const{enableAccessibleFieldDOMStructure:t=!0}=e;return x.useMemo(()=>({valueType:"date",validator:Jc,internal_valueManager:yi,internal_fieldValueManager:R6,internal_enableAccessibleFieldDOMStructure:t,internal_useApplyDefaultValuesToFieldInternalProps:lB,internal_useOpenPickerButtonAriaLabel:oB}),[t])}function oB(e){const t=qt(),s=Ba();return x.useMemo(()=>{const a=t.isValid(e)?t.format(e,"fullDate"):null;return s.openDatePickerDialogue(a)},[e,s,t])}function lB(e){const t=qt(),s=eu(e);return x.useMemo(()=>K({},e,s,{format:e.format??t.formats.keyboardDate}),[e,s,t])}function eu(e){const t=qt(),s=aB();return x.useMemo(()=>({disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,minDate:g1(t,e.minDate,s.minDate),maxDate:g1(t,e.maxDate,s.maxDate)}),[e.minDate,e.maxDate,e.disableFuture,e.disablePast,t,s])}function nD(e,t){const s=cn({props:e,name:t}),a=eu(s),l=x.useMemo(()=>s.localeText?.toolbarTitle==null?s.localeText:K({},s.localeText,{datePickerToolbarTitle:s.localeText.toolbarTitle}),[s.localeText]);return K({},s,a,{localeText:l},h6({views:s.views,openTo:s.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{slots:K({toolbar:iB},s.slots)})}function cB(e){return _n("MuiPickerPopper",e)}In("MuiPickerPopper",["root","paper"]);function uB(e,t){return Array.isArray(t)?t.every(s=>e.indexOf(s)!==-1):e.indexOf(t)!==-1}const dB=e=>{setTimeout(e,0)},sD=(e=document)=>{const t=e.activeElement;return t?t.shadowRoot?sD(t.shadowRoot):t:null},Zn=e=>sD(dc(e)),hB="@media (pointer: fine)",fB=["PaperComponent","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],pB=e=>mn({root:["root"],paper:["paper"]},cB,e),mB=Ke(P2,{name:"MuiPickerPopper",slot:"Root"})(({theme:e})=>({zIndex:e.zIndex.modal})),gB=Ke(uc,{name:"MuiPickerPopper",slot:"Paper"})({outline:0,transformOrigin:"top center",variants:[{props:({popperPlacement:e})=>new Set(["top","top-start","top-end"]).has(e),style:{transformOrigin:"bottom center"}}]});function yB(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function xB(e,t){const s=x.useRef(!1),a=x.useRef(!1),l=x.useRef(null),u=x.useRef(!1);x.useEffect(()=>{if(!e)return;function p(){u.current=!0}return document.addEventListener("mousedown",p,!0),document.addEventListener("touchstart",p,!0),()=>{document.removeEventListener("mousedown",p,!0),document.removeEventListener("touchstart",p,!0),u.current=!1}},[e]);const d=He(p=>{if(!u.current)return;const g=a.current;a.current=!1;const y=dc(l.current);if(!l.current||"clientX"in p&&yB(p,y))return;if(s.current){s.current=!1;return}let b;p.composedPath?b=p.composedPath().indexOf(l.current)>-1:b=!y.documentElement.contains(p.target)||l.current.contains(p.target),!b&&!g&&t(p)}),h=p=>{p.defaultMuiPrevented||(a.current=!0)};return x.useEffect(()=>{if(e){const p=dc(l.current),g=()=>{s.current=!0};return p.addEventListener("touchstart",d),p.addEventListener("touchmove",g),()=>{p.removeEventListener("touchstart",d),p.removeEventListener("touchmove",g)}}},[e,d]),x.useEffect(()=>{if(e){const p=dc(l.current);return p.addEventListener("click",d),()=>{p.removeEventListener("click",d),a.current=!1}}},[e,d]),[l,h,h]}const bB=x.forwardRef((e,t)=>{const{PaperComponent:s,ownerState:a,children:l,paperSlotProps:u,paperClasses:d,onPaperClick:h,onPaperTouchStart:p}=e,g=dt(e,fB),y=Rt({elementType:s,externalSlotProps:u,additionalProps:{tabIndex:-1,elevation:8,ref:t},className:d,ownerState:a});return r.jsx(s,K({},g,y,{onClick:b=>{h(b),y.onClick?.(b)},onTouchStart:b=>{p(b),y.onTouchStart?.(b)},ownerState:a,children:l}))});function vB(e){const t=cn({props:e,name:"MuiPickerPopper"}),{children:s,placement:a="bottom-start",slots:l,slotProps:u,classes:d}=t,{open:h,popupRef:p,reduceAnimations:g}=al(),{ownerState:y,rootRefObject:b}=qn(),{dismissViews:v,getCurrentViewMode:S,onPopperExited:j,triggerElement:k,viewContainerRole:w}=qn();x.useEffect(()=>{function U(ue){h&&ue.key==="Escape"&&v()}return document.addEventListener("keydown",U),()=>{document.removeEventListener("keydown",U)}},[v,h]);const T=x.useRef(null);x.useEffect(()=>{w==="tooltip"||S()==="field"||(h?T.current=Zn(b.current):T.current&&T.current instanceof HTMLElement&&setTimeout(()=>{T.current instanceof HTMLElement&&T.current.focus()}))},[h,w,S,b]);const D=pB(d),A=He(()=>{w==="tooltip"?dB(()=>{b.current?.contains(Zn(b.current))||p.current?.contains(Zn(p.current))||v()}):v()}),[W,P,O]=xB(h,A),_=x.useRef(null),N=fs(_,p),I=fs(N,W),H=U=>{U.key==="Escape"&&(U.stopPropagation(),v())},V=l?.desktopTransition??g?ph:M2,B=l?.desktopTrapFocus??A2,de=l?.desktopPaper??gB,q=l?.popper??mB,ae=Rt({elementType:q,externalSlotProps:u?.popper,additionalProps:{transition:!0,role:w??void 0,open:h,placement:a,anchorEl:k,onKeyDown:H},className:D.root,ownerState:y}),z=x.useMemo(()=>K({},y,{popperPlacement:ae.placement}),[y,ae.placement]);return r.jsx(q,K({},ae,{children:({TransitionProps:U})=>r.jsx(B,K({open:h,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:w==="tooltip",isEnabled:()=>!0},u?.desktopTrapFocus,{children:r.jsx(V,K({},U,u?.desktopTransition,{onExited:ue=>{j?.(),u?.desktopTransition?.onExited?.(ue),U?.onExited?.()},children:r.jsx(bB,{PaperComponent:de,ownerState:z,ref:I,onPaperClick:P,onPaperTouchStart:O,paperClasses:D.paper,paperSlotProps:u?.desktopPaper,children:s})}))}))}))}const SB="@media (prefers-reduced-motion: reduce)",zo=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),k1=zo&&zo[1]?parseInt(zo[1],10):null,j1=zo&&zo[2]?parseInt(zo[2],10):null,wB=k1&&k1<10||j1&&j1<13||!1;function iD(e){const t=_g(SB,{defaultMatches:!1});return e??(t||wB)}const aD={hasNextStep:!1,hasSeveralSteps:!1,goToNextStep:()=>{},areViewsInSameStep:()=>!0};function CB(e){const{steps:t,isViewMatchingStep:s,onStepChange:a}=e;return l=>{if(t==null)return aD;const u=t.findIndex(h=>s(l.view,h)),d=u===-1||u===t.length-1?null:t[u+1];return{hasNextStep:d!=null,hasSeveralSteps:t.length>1,goToNextStep:()=>{d!=null&&a(K({},l,{step:d}))},areViewsInSameStep:(h,p)=>{const g=t.find(b=>s(h,b)),y=t.find(b=>s(p,b));return g===y}}}}function rD({onChange:e,onViewChange:t,openTo:s,view:a,views:l,autoFocus:u,focusedView:d,onFocusedViewChange:h,getStepNavigation:p}){const g=x.useRef(s),y=x.useRef(l),b=x.useRef(l.includes(s)?s:l[0]),[v,S]=Yo({name:"useViews",state:"view",controlled:a,default:b.current}),j=x.useRef(u?v:null),[k,w]=Yo({name:"useViews",state:"focusedView",controlled:d,default:j.current}),T=p?p({setView:S,view:v,defaultView:b.current,views:l}):aD;x.useEffect(()=>{(g.current&&g.current!==s||y.current&&y.current.some(I=>!l.includes(I)))&&(S(l.includes(s)?s:l[0]),y.current=l,g.current=s)},[s,S,v,l]);const D=l.indexOf(v),A=l[D-1]??null,W=l[D+1]??null,P=He((I,H)=>{w(H?I:V=>I===V?null:V),h?.(I,H)}),O=He(I=>{P(I,!0),I!==v&&(S(I),t&&t(I))}),_=He(()=>{W&&O(W)}),N=He((I,H,V)=>{const B=H==="finish",de=V?l.indexOf(V)<l.length-1:!!W;e(I,B&&de?"partial":H,V);let ae=null;if(V!=null&&V!==v?ae=V:B&&(ae=v),ae==null)return;const z=l[l.indexOf(ae)+1];z==null||!T.areViewsInSameStep(ae,z)||O(z)});return K({},T,{view:v,setView:O,focusedView:k,setFocusedView:P,nextView:W,previousView:A,defaultView:l.includes(s)?s:l[0],goToNextView:_,setValueAndGoToNextView:N})}function D1(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}function TB(e,t){const[s,a]=x.useState(D1);return qi(()=>{const l=()=>{a(D1())};return window.addEventListener("orientationchange",l),()=>{window.removeEventListener("orientationchange",l)}},[]),uB(e,["hours","minutes","seconds"])?"portrait":t??s}const tu=({name:e,timezone:t,value:s,defaultValue:a,referenceDate:l,onChange:u,valueManager:d})=>{const h=qt(),[p,g]=Yo({name:e,state:"value",controlled:s,default:a??d.emptyValue}),y=x.useMemo(()=>d.getTimezone(h,p),[h,d,p]),b=He(k=>y==null?k:d.setTimezone(h,y,k)),v=x.useMemo(()=>t||y||(l?h.getTimezone(Array.isArray(l)?l[0]:l):"default"),[t,y,l,h]),S=x.useMemo(()=>d.setTimezone(h,v,p),[d,h,v,p]),j=He((k,...w)=>{const T=b(k);g(T),u?.(T,...w)});return{value:S,handleValueChange:j,timezone:v}};function kB(e){const{props:t,valueManager:s,validator:a}=e,{value:l,defaultValue:u,onChange:d,referenceDate:h,timezone:p,onAccept:g,closeOnSelect:y,open:b,onOpen:v,onClose:S}=t,{current:j}=x.useRef(u),{current:k}=x.useRef(l!==void 0),{current:w}=x.useRef(b!==void 0),T=qt(),{timezone:D,value:A,handleValueChange:W}=tu({name:"a picker component",timezone:p,value:l,defaultValue:j,referenceDate:h,onChange:d,valueManager:s}),[P,O]=x.useState(()=>({open:!1,lastExternalValue:A,clockShallowValue:void 0,lastCommittedValue:A,hasBeenModifiedSinceMount:!1})),{getValidationErrorForNewValue:_}=tD({props:t,validator:a,timezone:D,value:A,onError:t.onError}),N=He(B=>{const de=typeof B=="function"?B(P.open):B;w||O(q=>K({},q,{open:de})),de&&v&&v(),de||S?.()}),I=He((B,de)=>{const{changeImportance:q="accept",skipPublicationIfPristine:ae=!1,validationError:z,shortcut:U,shouldClose:ue=q==="accept"}=de??{};let fe,Ce;!ae&&!k&&!P.hasBeenModifiedSinceMount?(fe=!0,Ce=q==="accept"):(fe=!s.areValuesEqual(T,B,A),Ce=q==="accept"&&!s.areValuesEqual(T,B,P.lastCommittedValue)),O(J=>K({},J,{clockShallowValue:fe?void 0:J.clockShallowValue,lastCommittedValue:Ce?B:J.lastCommittedValue,hasBeenModifiedSinceMount:!0}));let we=null;const Q=()=>(we||(we={validationError:z??_(B)},U&&(we.shortcut=U)),we);fe&&W(B,Q()),Ce&&g&&g(B,Q()),ue&&N(!1)});A!==P.lastExternalValue&&O(B=>K({},B,{lastExternalValue:A,clockShallowValue:void 0,hasBeenModifiedSinceMount:!0}));const H=He((B,de="partial")=>{if(de==="shallow"){O(q=>K({},q,{clockShallowValue:B,hasBeenModifiedSinceMount:!0}));return}I(B,{changeImportance:de==="finish"&&y?"accept":"set"})});x.useEffect(()=>{if(w){if(b===void 0)throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");O(B=>K({},B,{open:b}))}},[w,b]);const V=x.useMemo(()=>s.cleanValue(T,P.clockShallowValue===void 0?A:P.clockShallowValue),[T,s,P.clockShallowValue,A]);return{timezone:D,state:P,setValue:I,setValueFromView:H,setOpen:N,value:A,viewValue:V}}const jB=["className","sx"],oD=({ref:e,props:t,valueManager:s,valueType:a,variant:l,validator:u,onPopperExited:d,autoFocusView:h,rendererInterceptor:p,localeText:g,viewContainerRole:y,getStepNavigation:b})=>{const{views:v,view:S,openTo:j,onViewChange:k,viewRenderers:w,reduceAnimations:T,orientation:D,disableOpenPicker:A,closeOnSelect:W,disabled:P,readOnly:O,formatDensity:_,enableAccessibleFieldDOMStructure:N,selectedSections:I,onSelectedSectionsChange:H,format:V,label:B,autoFocus:de,name:q}=t,{className:ae,sx:z}=t,U=dt(t,jB),ue=Ig(),fe=qt(),Ce=iD(T),we=TB(v,D),{current:Q}=x.useRef(j??null),[J,he]=x.useState(null),be=x.useRef(null),ge=x.useRef(null),ie=x.useRef(null),Y=fs(e,ie),{timezone:oe,state:$,setOpen:le,setValue:ye,setValueFromView:Pe,value:pe,viewValue:te}=kB({props:t,valueManager:s,validator:u}),{view:ee,setView:Ne,defaultView:ot,focusedView:Ie,setFocusedView:ke,setValueAndGoToNextView:We,goToNextStep:X,hasNextStep:je,hasSeveralSteps:De}=rD({view:S,views:v,openTo:j,onChange:Pe,onViewChange:k,autoFocus:h,getStepNavigation:b}),Me=He(()=>ye(s.emptyValue)),Le=He(()=>ye(s.getTodayValue(fe,oe,a))),Ue=He(()=>ye(pe)),ft=He(()=>ye($.lastCommittedValue,{skipPublicationIfPristine:!0})),qe=He(()=>{ye(pe,{skipPublicationIfPristine:!0})}),{hasUIView:Qe,viewModeLookup:Ee,timeViewsCount:Re}=x.useMemo(()=>v.reduce((an,Qn)=>{const si=w[Qn]==null?"field":"UI";return an.viewModeLookup[Qn]=si,si==="UI"&&(an.hasUIView=!0,x6(Qn)&&(an.timeViewsCount+=1)),an},{hasUIView:!1,viewModeLookup:{},timeViewsCount:0}),[w,v]),Ve=Ee[ee],Oe=He(()=>Ve),[Fe,rt]=x.useState(Ve==="UI"?ee:null);Fe!==ee&&Ee[ee]==="UI"&&rt(ee),qi(()=>{Ve==="field"&&$.open&&(le(!1),setTimeout(()=>{ge?.current?.setSelectedSections(ee),ge?.current?.focusField(ee)}))},[ee]),qi(()=>{if(!$.open)return;let an=ee;Ve==="field"&&Fe!=null&&(an=Fe),an!==ot&&Ee[an]==="UI"&&Ee[ot]==="UI"&&(an=ot),an!==ee&&Ne(an),ke(an,!0)},[$.open]);const it=x.useMemo(()=>({isPickerValueEmpty:s.areValuesEqual(fe,pe,s.emptyValue),isPickerOpen:$.open,isPickerDisabled:t.disabled??!1,isPickerReadOnly:t.readOnly??!1,pickerOrientation:we,pickerVariant:l}),[fe,s,pe,$.open,we,l,t.disabled,t.readOnly]),Dt=x.useMemo(()=>A||!Qe?"hidden":P||O?"disabled":"enabled",[A,Qe,P,O]),zt=He(X),en=x.useMemo(()=>W&&!De?[]:["cancel","nextOrAccept"],[W,De]),Yn=x.useMemo(()=>({setValue:ye,setOpen:le,clearValue:Me,setValueToToday:Le,acceptValueChanges:Ue,cancelValueChanges:ft,setView:Ne,goToNextStep:zt}),[ye,le,Me,Le,Ue,ft,Ne,zt]),pt=x.useMemo(()=>K({},Yn,{value:pe,timezone:oe,open:$.open,views:v,view:Fe,initialView:Q,disabled:P??!1,readOnly:O??!1,autoFocus:de??!1,variant:l,orientation:we,popupRef:be,reduceAnimations:Ce,triggerRef:he,triggerStatus:Dt,hasNextStep:je,fieldFormat:V??"",name:q,label:B,rootSx:z,rootRef:Y,rootClassName:ae}),[Yn,pe,Y,l,we,Ce,P,O,V,ae,q,B,z,Dt,je,oe,$.open,Fe,v,Q,de]),ks=x.useMemo(()=>({dismissViews:qe,ownerState:it,hasUIView:Qe,getCurrentViewMode:Oe,rootRefObject:ie,labelId:ue,triggerElement:J,viewContainerRole:y,defaultActionBarActions:en,onPopperExited:d}),[qe,it,Qe,Oe,ue,J,y,en,d]),Xi=x.useMemo(()=>({formatDensity:_,enableAccessibleFieldDOMStructure:N,selectedSections:I,onSelectedSectionsChange:H,fieldRef:ge}),[_,N,I,H,ge]);return{providerProps:{localeText:g,contextValue:pt,privateContextValue:ks,actionsContextValue:Yn,fieldPrivateContextValue:Xi,isValidContextValue:an=>{const Qn=u({adapter:fe,value:an,timezone:oe,props:t});return!s.hasError(Qn)}},renderCurrentView:()=>{if(Fe==null)return null;const an=w[Fe];if(an==null)return null;const Qn=K({},U,{views:v,timezone:oe,value:te,onChange:We,view:Fe,onViewChange:Ne,showViewSwitcher:Re>1,timeViewsCount:Re},y==="tooltip"?{focusedView:null,onFocusedViewChange:()=>{}}:{focusedView:Ie,onFocusedViewChange:ke});return p?r.jsx(p,{viewRenderers:w,popperView:Fe,rendererProps:Qn}):an(Qn)},ownerState:it}};function lD(e){return _n("MuiPickersLayout",e)}const or=In("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),DB=["actions"],EB=Ke(Rn,{name:"MuiPickersLayout",slot:"ActionBar"})({});function MB(e){const{actions:t}=e,s=dt(e,DB),a=Ba(),{clearValue:l,setValueToToday:u,acceptValueChanges:d,cancelValueChanges:h,goToNextStep:p,hasNextStep:g}=al();if(t==null||t.length===0)return null;const y=t?.map(b=>{switch(b){case"clear":return r.jsx(Ae,{onClick:l,children:a.clearButtonLabel},b);case"cancel":return r.jsx(Ae,{onClick:h,children:a.cancelButtonLabel},b);case"accept":return r.jsx(Ae,{onClick:d,children:a.okButtonLabel},b);case"today":return r.jsx(Ae,{onClick:u,children:a.todayButtonLabel},b);case"next":return r.jsx(Ae,{onClick:p,children:a.nextStepButtonLabel},b);case"nextOrAccept":return g?r.jsx(Ae,{onClick:p,children:a.nextStepButtonLabel},b):r.jsx(Ae,{onClick:d,children:a.okButtonLabel},b);default:return null}});return r.jsx(EB,K({},s,{children:y}))}const AB=x.memo(MB),Wc=36,Ah=2,Ph=320,PB=280,nx=336,OB=["items","changeImportance"],RB=["getValue"],_B=Ke(Gn,{name:"MuiPickersLayout",slot:"Shortcuts"})({});function IB(e){const{items:t,changeImportance:s="accept"}=e,a=dt(e,OB),{setValue:l}=Z6(),u=W6();if(t==null||t.length===0)return null;const d=t.map(h=>{let{getValue:p}=h,g=dt(h,RB);const y=p({isValid:u});return K({},g,{label:g.label,onClick:()=>{l(y,{changeImportance:s,shortcut:g})},disabled:!u(y)})});return r.jsx(_B,K({dense:!0,sx:[{maxHeight:nx,maxWidth:200,overflow:"auto"},...Array.isArray(a.sx)?a.sx:[a.sx]]},a,{children:d.map(h=>r.jsx(ut,{children:r.jsx(mt,K({},h))},h.id??h.label))}))}const WB=["ownerState"];function NB(e){return e.view!==null}const LB=(e,t)=>{const{pickerOrientation:s}=t;return mn({root:["root",s==="landscape"&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},lD,e)},BB=e=>{const{ownerState:t,defaultActionBarActions:s}=qn(),{view:a}=al(),l=Ki(),{children:u,slots:d,slotProps:h,classes:p}=e,g=x.useMemo(()=>K({},t,{layoutDirection:l?"rtl":"ltr",hasShortcuts:!1}),[t,l]),y=LB(p,g),b=d?.actionBar??AB,v=Rt({elementType:b,externalSlotProps:h?.actionBar,additionalProps:{actions:s},className:y.actionBar,ownerState:g}),S=dt(v,WB),j=r.jsx(b,K({},S)),k=d?.toolbar,w=Rt({elementType:k,externalSlotProps:h?.toolbar,className:y.toolbar,ownerState:g}),T=NB(w)&&k?r.jsx(k,K({},w)):null,D=u,A=d?.tabs,W=a&&A?r.jsx(A,K({className:y.tabs},h?.tabs)):null,P=d?.shortcuts??IB,O=Rt({elementType:P,externalSlotProps:h?.shortcuts,className:y.shortcuts,ownerState:g}),_=Array.isArray(O?.items)&&O.items.length>0,N=a&&P?r.jsx(P,K({},O)):null;return{toolbar:T,content:D,tabs:W,actionBar:j,shortcuts:N,ownerState:K({},g,{hasShortcuts:_})}},VB=(e,t)=>{const{pickerOrientation:s}=t;return mn({root:["root",s==="landscape"&&"landscape"],contentWrapper:["contentWrapper"]},lD,e)},zB=Ke("div",{name:"MuiPickersLayout",slot:"Root"})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${or.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{pickerOrientation:"landscape",hasShortcuts:!1},style:{[`& .${or.toolbar}`]:{gridColumn:1,gridRow:"1 / 3"}}},{props:{pickerOrientation:"landscape",hasShortcuts:!0},style:{[`& .${or.toolbar}`]:{gridColumn:"2 / 4",gridRow:1,maxWidth:"max-content"},[`& .${or.shortcuts}`]:{gridColumn:1,gridRow:2}}},{props:{pickerOrientation:"portrait"},style:{[`& .${or.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${or.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{hasShortcuts:!0,layoutDirection:"rtl"},style:{[`& .${or.shortcuts}`]:{gridColumn:4}}}]}),FB=Ke("div",{name:"MuiPickersLayout",slot:"ContentWrapper"})({gridColumn:"2 / 4",gridRow:2,display:"flex",flexDirection:"column"}),cD=x.forwardRef(function(t,s){const a=cn({props:t,name:"MuiPickersLayout"}),{toolbar:l,content:u,tabs:d,actionBar:h,shortcuts:p,ownerState:g}=BB(a),{orientation:y,variant:b}=al(),{sx:v,className:S,classes:j}=a,k=VB(j,g);return r.jsxs(zB,{ref:s,sx:v,className:Hn(k.root,S),ownerState:g,children:[y==="landscape"?p:l,y==="landscape"?l:p,r.jsx(FB,{className:k.contentWrapper,ownerState:g,children:b==="desktop"?r.jsxs(x.Fragment,{children:[u,d]}):r.jsxs(x.Fragment,{children:[d,u]})}),h]})});function uD(e){const{steps:t}=e;return CB({steps:t,isViewMatchingStep:(s,a)=>a.views==null||a.views.includes(s),onStepChange:({step:s,defaultView:a,setView:l,view:u,views:d})=>{const h=s.views==null?a:s.views.find(p=>d.includes(p));h!==u&&l(h)}})}const HB=["props","steps"],UB=["ownerState"],qB=e=>{let{props:t,steps:s}=e,a=dt(e,HB);const{slots:l,slotProps:u,label:d,inputRef:h,localeText:p}=t,g=uD({steps:s}),{providerProps:y,renderCurrentView:b,ownerState:v}=oD(K({},a,{props:t,localeText:p,autoFocusView:!0,viewContainerRole:"dialog",variant:"desktop",getStepNavigation:g})),S=y.privateContextValue.labelId,j=u?.toolbar?.hidden??!1,k=l.field,w=Rt({elementType:k,externalSlotProps:u?.field,additionalProps:K({},j&&{id:S}),ownerState:v}),T=dt(w,UB),D=l.layout??cD;let A=S;j&&(d?A=`${S}-label`:A=void 0);const W=K({},u,{toolbar:K({},u?.toolbar,{titleId:S}),popper:K({"aria-labelledby":A},u?.popper)});return{renderPicker:()=>r.jsxs(Kj,K({},y,{children:[r.jsx(k,K({},T,{slots:l,slotProps:W,inputRef:h})),r.jsx(vB,{slots:l,slotProps:W,children:r.jsx(D,K({},W?.layout,{slots:l,slotProps:W,children:b()}))})]}))}},vo=e=>e.saveQuery!=null,dD=({stateResponse:{localizedDigits:e,sectionsValueBoundaries:t,state:s,timezone:a,setCharacterQuery:l,setTempAndroidValueStr:u,updateSectionValue:d}})=>{const h=qt(),p=({keyPressed:b,sectionIndex:v},S,j)=>{const k=b.toLowerCase(),w=s.sections[v];if(s.characterQuery!=null&&(!j||j(s.characterQuery.value))&&s.characterQuery.sectionIndex===v){const D=`${s.characterQuery.value}${k}`,A=S(D,w);if(!vo(A))return l({sectionIndex:v,value:D,sectionType:w.type}),A}const T=S(k,w);return vo(T)&&!T.saveQuery?(l(null),null):(l({sectionIndex:v,value:k,sectionType:w.type}),vo(T)?null:T)},g=b=>{const v=(k,w,T)=>{const D=w.filter(A=>A.toLowerCase().startsWith(T));return D.length===0?{saveQuery:!1}:{sectionValue:D[0],shouldGoToNextSection:D.length===1}},S=(k,w,T,D)=>{const A=W=>zj(h,a,w.type,W);if(w.contentType==="letter")return v(w.format,A(w.format),k);if(T&&D!=null&&Vj(h,T).contentType==="letter"){const W=A(T),P=v(T,W,k);return vo(P)?{saveQuery:!1}:K({},P,{sectionValue:D(P.sectionValue,W)})}return{saveQuery:!1}};return p(b,(k,w)=>{switch(w.type){case"month":{const T=D=>S1(h,D,h.formats.month,w.format);return S(k,w,h.formats.month,T)}case"weekDay":{const T=(D,A)=>A.indexOf(D).toString();return S(k,w,h.formats.weekday,T)}case"meridiem":return S(k,w);default:return{saveQuery:!1}}})},y=b=>{const v=({queryValue:j,skipIfBelowMinimum:k,section:w})=>{const T=kr(j,e),D=Number(T),A=t[w.type]({currentDate:null,format:w.format,contentType:w.contentType});if(D>A.maximum)return{saveQuery:!1};if(k&&D<A.minimum)return{saveQuery:!0};const W=D*10>A.maximum||T.length===A.maximum.toString().length;return{sectionValue:Fj(h,D,A,e,w),shouldGoToNextSection:W}};return p(b,(j,k)=>{if(k.contentType==="digit"||k.contentType==="digit-with-letter")return v({queryValue:j,skipIfBelowMinimum:!1,section:k});if(k.type==="month"){Hj(h,"digit","month","MM");const w=v({queryValue:j,skipIfBelowMinimum:!0,section:{type:k.type,format:"MM",hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2}});if(vo(w))return w;const T=S1(h,w.sectionValue,"MM",k.format);return K({},w,{sectionValue:T})}if(k.type==="weekDay"){const w=v({queryValue:j,skipIfBelowMinimum:!0,section:k});if(vo(w))return w;const T=Dh(h,k.format)[Number(w.sectionValue)-1];return K({},w,{sectionValue:T})}return{saveQuery:!1}},j=>v1(j,e))};return He(b=>{const v=s.sections[b.sectionIndex],j=v1(b.keyPressed,e)?y(K({},b,{keyPressed:Qy(b.keyPressed,e)})):g(b);if(j==null){u(null);return}d({section:v,newSectionValue:j.sectionValue,shouldGoToNextSection:j.shouldGoToNextSection})})},YB=5e3,hD=e=>{const t=qt(),s=Ba(),a=Ki(),{manager:{validator:l,valueType:u,internal_valueManager:d,internal_fieldValueManager:h},internalPropsWithDefaults:p,internalPropsWithDefaults:{value:g,defaultValue:y,referenceDate:b,onChange:v,format:S,formatDensity:j="dense",selectedSections:k,onSelectedSectionsChange:w,shouldRespectLeadingZeros:T=!1,timezone:D,enableAccessibleFieldDOMStructure:A=!0},forwardedProps:{error:W}}=e,{value:P,handleValueChange:O,timezone:_}=tu({name:"a field component",timezone:D,value:g,defaultValue:y,referenceDate:b,onChange:v,valueManager:d}),N=x.useRef(P);x.useEffect(()=>{N.current=P},[P]);const{hasValidationError:I}=tD({props:p,validator:l,timezone:_,value:P,onError:p.onError}),H=x.useMemo(()=>W!==void 0?W:I,[I,W]),V=x.useMemo(()=>C6(t),[t]),B=x.useMemo(()=>E6(t,V,_),[t,V,_]),de=x.useCallback(ee=>h.getSectionsFromValue(ee,Ne=>T1({adapter:t,localeText:s,localizedDigits:V,format:S,date:Ne,formatDensity:j,shouldRespectLeadingZeros:T,enableAccessibleFieldDOMStructure:A,isRtl:a})),[h,S,s,V,a,T,t,j,A]),[q,ae]=x.useState(()=>{const ee=de(P),Ne={sections:ee,lastExternalValue:P,lastSectionsDependencies:{format:S,isRtl:a,locale:t.locale},tempValueStrAndroid:null,characterQuery:null},ot=v6(ee),Ie=d.getInitialReferenceValue({referenceDate:b,value:P,adapter:t,props:p,granularity:ot,timezone:_});return K({},Ne,{referenceValue:Ie})}),[z,U]=Yo({controlled:k,default:null,name:"useField",state:"selectedSections"}),ue=ee=>{U(ee),w?.(ee)},fe=x.useMemo(()=>fg(z,q.sections),[z,q.sections]),Ce=fe==="all"?0:fe,we=x.useMemo(()=>P6(q.sections,a&&!A),[q.sections,a,A]),Q=x.useMemo(()=>q.sections.every(ee=>ee.value===""),[q.sections]),J=ee=>{const Ne={validationError:l({adapter:t,value:ee,timezone:_,props:p})};O(ee,Ne)},he=(ee,Ne)=>{const ot=[...q.sections];return ot[ee]=K({},ot[ee],{value:Ne,modified:!0}),ot},be=x.useRef(null),ge=Io(),ie=ee=>{Ce!=null&&(be.current={sectionIndex:Ce,value:ee},ge.start(0,()=>{be.current=null}))},Y=()=>{d.areValuesEqual(t,P,d.emptyValue)?ae(ee=>K({},ee,{sections:ee.sections.map(Ne=>K({},Ne,{value:""})),tempValueStrAndroid:null,characterQuery:null})):(ae(ee=>K({},ee,{characterQuery:null})),J(d.emptyValue))},oe=()=>{if(Ce==null)return;const ee=q.sections[Ce];ee.value!==""&&(ie(""),h.getDateFromSection(P,ee)===null?ae(Ne=>K({},Ne,{sections:he(Ce,""),tempValueStrAndroid:null,characterQuery:null})):(ae(Ne=>K({},Ne,{characterQuery:null})),J(h.updateDateInValue(P,ee,null))))},$=ee=>{const Ne=(Ie,ke)=>{const We=t.parse(Ie,S);if(!t.isValid(We))return null;const X=T1({adapter:t,localeText:s,localizedDigits:V,format:S,date:We,formatDensity:j,shouldRespectLeadingZeros:T,enableAccessibleFieldDOMStructure:A,isRtl:a});return C1(t,We,X,ke,!1)},ot=h.parseValueStr(ee,q.referenceValue,Ne);J(ot)},le=Io(),ye=({section:ee,newSectionValue:Ne,shouldGoToNextSection:ot})=>{ge.clear(),le.clear();const Ie=h.getDateFromSection(P,ee);ot&&Ce<q.sections.length-1&&ue(Ce+1);const ke=he(Ce,Ne),We=h.getDateSectionsFromValue(ke,ee),X=k6(t,We,V);if(t.isValid(X)){const je=C1(t,X,We,h.getDateFromSection(q.referenceValue,ee),!0);return Ie==null&&le.start(0,()=>{N.current===P&&ae(De=>K({},De,{sections:h.clearDateSections(q.sections,ee),tempValueStrAndroid:null}))}),J(h.updateDateInValue(P,ee,je))}return We.every(je=>je.value!=="")&&(Ie==null||t.isValid(Ie))?(ie(Ne),J(h.updateDateInValue(P,ee,X))):Ie!=null?(ie(Ne),J(h.updateDateInValue(P,ee,null))):ae(je=>K({},je,{sections:ke,tempValueStrAndroid:null}))},Pe=ee=>ae(Ne=>K({},Ne,{tempValueStrAndroid:ee})),pe=He(ee=>{ae(Ne=>K({},Ne,{characterQuery:ee}))});if(P!==q.lastExternalValue){const ee=be.current!=null&&!t.isValid(h.getDateFromSection(P,q.sections[be.current.sectionIndex]));let Ne;ee?Ne=he(be.current.sectionIndex,be.current.value):Ne=de(P),ae(ot=>K({},ot,{lastExternalValue:P,sections:Ne,sectionsDependencies:{format:S,isRtl:a,locale:t.locale},referenceValue:ee?ot.referenceValue:h.updateReferenceValue(t,P,ot.referenceValue),tempValueStrAndroid:null}))}if(a!==q.lastSectionsDependencies.isRtl||S!==q.lastSectionsDependencies.format||t.locale!==q.lastSectionsDependencies.locale){const ee=de(P);ae(Ne=>K({},Ne,{lastSectionsDependencies:{format:S,isRtl:a,locale:t.locale},sections:ee,tempValueStrAndroid:null,characterQuery:null}))}q.characterQuery!=null&&!H&&Ce==null&&pe(null),q.characterQuery!=null&&q.sections[q.characterQuery.sectionIndex]?.type!==q.characterQuery.sectionType&&pe(null),x.useEffect(()=>{be.current!=null&&(be.current=null)});const te=Io();return x.useEffect(()=>(q.characterQuery!=null&&te.start(YB,()=>pe(null)),()=>{}),[q.characterQuery,pe,te]),x.useEffect(()=>{q.tempValueStrAndroid!=null&&Ce!=null&&oe()},[q.sections]),{activeSectionIndex:Ce,areAllSectionsEmpty:Q,error:H,localizedDigits:V,parsedSelectedSections:fe,sectionOrder:we,sectionsValueBoundaries:B,state:q,timezone:_,value:P,clearValue:Y,clearActiveSection:oe,setCharacterQuery:pe,setSelectedSections:ue,setTempAndroidValueStr:Pe,updateSectionValue:ye,updateValueFromValueStr:$,getSectionsFromValue:de}};function fD(e){const{manager:{internal_useApplyDefaultValuesToFieldInternalProps:t},internalProps:s,skipContextFieldRefAssignment:a}=e,l=tx(),u=Yj(),d=fs(s.unstableFieldRef,a?null:u?.fieldRef),h=l?.setValue,p=x.useCallback((y,b)=>h?.(y,{validationError:b.validationError,shouldClose:!1}),[h]),g=x.useMemo(()=>u!=null&&l!=null?K({value:l.value,onChange:p,timezone:l.timezone,disabled:l.disabled,readOnly:l.readOnly,autoFocus:l.autoFocus&&!l.open,focused:l.open?!0:void 0,format:l.fieldFormat,formatDensity:u.formatDensity,enableAccessibleFieldDOMStructure:u.enableAccessibleFieldDOMStructure,selectedSections:u.selectedSections,onSelectedSectionsChange:u.onSelectedSectionsChange,unstableFieldRef:d},s):s,[l,u,s,p,d]);return t(g)}function sx(e){const{focused:t,domGetters:s,stateResponse:{parsedSelectedSections:a,state:l}}=e;if(!s.isReady())return;const u=dc(s.getRoot()).getSelection();if(!u)return;if(a==null){u.rangeCount>0&&u.getRangeAt(0).startContainer instanceof Node&&s.getRoot().contains(u.getRangeAt(0).startContainer)&&u.removeAllRanges(),t&&s.getRoot().blur();return}if(!s.getRoot().contains(Zn(s.getRoot())))return;const d=new window.Range;let h;a==="all"?h=s.getRoot():l.sections[a].type==="empty"?h=s.getSectionContainer(a):h=s.getSectionContent(a),d.selectNodeContents(h),h.focus(),u.removeAllRanges(),u.addRange(d)}function pD(e){const t=qt(),{manager:{internal_fieldValueManager:s},internalPropsWithDefaults:{minutesStep:a,disabled:l,readOnly:u},stateResponse:{state:d,value:h,activeSectionIndex:p,parsedSelectedSections:g,sectionsValueBoundaries:y,localizedDigits:b,timezone:v,sectionOrder:S,clearValue:j,clearActiveSection:k,setSelectedSections:w,updateSectionValue:T}}=e;return He(D=>{if(!l)switch(!0){case((D.ctrlKey||D.metaKey)&&String.fromCharCode(D.keyCode)==="A"&&!D.shiftKey&&!D.altKey):{D.preventDefault(),w("all");break}case D.key==="ArrowRight":{if(D.preventDefault(),g==null)w(S.startIndex);else if(g==="all")w(S.endIndex);else{const A=S.neighbors[g].rightIndex;A!==null&&w(A)}break}case D.key==="ArrowLeft":{if(D.preventDefault(),g==null)w(S.endIndex);else if(g==="all")w(S.startIndex);else{const A=S.neighbors[g].leftIndex;A!==null&&w(A)}break}case D.key==="Delete":{if(D.preventDefault(),u)break;g==null||g==="all"?j():k();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(D.key):{if(D.preventDefault(),u||p==null)break;g==="all"&&w(p);const A=d.sections[p],W=$B(t,v,A,D.key,y,b,s.getDateFromSection(h,A),{minutesStep:a});T({section:A,newSectionValue:W,shouldGoToNextSection:!1});break}}})}function GB(e){switch(e){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}}function $B(e,t,s,a,l,u,d,h){const p=GB(a),g=a==="Home",y=a==="End",b=s.value===""||g||y,v=()=>{const j=l[s.type]({currentDate:d,format:s.format,contentType:s.contentType}),k=D=>Fj(e,D,j,u,s),w=s.type==="minutes"&&h?.minutesStep?h.minutesStep:1;let T;if(b){if(s.type==="year"&&!y&&!g)return e.formatByString(e.date(void 0,t),s.format);p>0||g?T=j.minimum:T=j.maximum}else T=parseInt(kr(s.value,u),10)+p*w;return T%w!==0&&((p<0||g)&&(T+=w-(w+T)%w),(p>0||y)&&(T-=T%w)),T>j.maximum?k(j.minimum+(T-j.maximum-1)%(j.maximum-j.minimum+1)):T<j.minimum?k(j.maximum-(j.minimum-T-1)%(j.maximum-j.minimum+1)):k(T)},S=()=>{const j=zj(e,t,s.type,s.format);if(j.length===0)return s.value;if(b)return p>0||g?j[0]:j[j.length-1];const T=((j.indexOf(s.value)+p)%j.length+j.length)%j.length;return j[T]};return s.contentType==="digit"||s.contentType==="digit-with-letter"?v():S()}function KB(e){const{manager:t,focused:s,setFocused:a,domGetters:l,stateResponse:u,applyCharacterEditing:d,internalPropsWithDefaults:h,stateResponse:{parsedSelectedSections:p,sectionOrder:g,state:y,clearValue:b,setCharacterQuery:v,setSelectedSections:S,updateValueFromValueStr:j},internalPropsWithDefaults:{disabled:k=!1,readOnly:w=!1}}=e,T=pD({manager:t,internalPropsWithDefaults:h,stateResponse:u}),D=Io(),A=He(N=>{k||!l.isReady()||(a(!0),p==="all"?D.start(0,()=>{const I=document.getSelection().getRangeAt(0).startOffset;if(I===0){S(g.startIndex);return}let H=0,V=0;for(;V<I&&H<y.sections.length;){const B=y.sections[H];H+=1,V+=`${B.startSeparator}${B.value||B.placeholder}${B.endSeparator}`.length}S(H-1)}):s?l.getRoot().contains(N.target)||S(g.startIndex):(a(!0),S(g.startIndex)))}),W=He(N=>{if(!l.isReady()||p!=="all")return;const H=N.target.textContent??"";l.getRoot().innerHTML=y.sections.map(V=>`${V.startSeparator}${V.value||V.placeholder}${V.endSeparator}`).join(""),sx({focused:s,domGetters:l,stateResponse:u}),H.length===0||H.charCodeAt(0)===10?(b(),S("all")):H.length>1?j(H):(p==="all"&&S(0),d({keyPressed:H,sectionIndex:0}))}),P=He(N=>{if(w||p!=="all"){N.preventDefault();return}const I=N.clipboardData.getData("text");N.preventDefault(),v(null),j(I)}),O=He(()=>{if(s||k||!l.isReady())return;const N=Zn(l.getRoot());a(!0),l.getSectionIndexFromDOMElement(N)!=null||S(g.startIndex)}),_=He(()=>{setTimeout(()=>{if(!l.isReady())return;const N=Zn(l.getRoot());!l.getRoot().contains(N)&&(a(!1),S(null))})});return{onKeyDown:T,onBlur:_,onFocus:O,onClick:A,onPaste:P,onInput:W,contentEditable:p==="all",tabIndex:h.disabled||p===0?-1:0}}function QB(e){const{manager:{internal_fieldValueManager:t},stateResponse:{areAllSectionsEmpty:s,state:a,updateValueFromValueStr:l}}=e,u=He(h=>{l(h.target.value)});return{value:x.useMemo(()=>s?"":t.getV7HiddenInputValueFromSections(a.sections),[s,a.sections,t]),onChange:u}}function XB(e){const{stateResponse:{setSelectedSections:t},internalPropsWithDefaults:{disabled:s=!1}}=e,a=x.useCallback(l=>u=>{s||u.isDefaultPrevented()||t(l)},[s,t]);return x.useCallback(l=>({"data-sectionindex":l,onClick:a(l)}),[a])}function ZB(e){const t=qt(),s=Ba(),{focused:a,domGetters:l,stateResponse:u,applyCharacterEditing:d,manager:{internal_fieldValueManager:h},stateResponse:{parsedSelectedSections:p,sectionsValueBoundaries:g,state:y,value:b,clearActiveSection:v,setCharacterQuery:S,setSelectedSections:j,updateSectionValue:k,updateValueFromValueStr:w},internalPropsWithDefaults:{disabled:T=!1,readOnly:D=!1}}=e,A=p==="all",W=!A&&!T&&!D,P=He(V=>{if(!l.isReady())return;const B=y.sections[V];l.getSectionContent(V).innerHTML=B.value||B.placeholder,sx({focused:a,domGetters:l,stateResponse:u})}),O=He(V=>{if(!l.isReady())return;const B=V.target,de=B.textContent??"",q=l.getSectionIndexFromDOMElement(B),ae=y.sections[q];if(D){P(q);return}if(de.length===0){if(ae.value===""){P(q);return}const z=V.nativeEvent.inputType;if(z==="insertParagraph"||z==="insertLineBreak"){P(q);return}P(q),v();return}d({keyPressed:de,sectionIndex:q}),P(q)}),_=He(V=>{V.preventDefault()}),N=He(V=>{if(V.preventDefault(),D||T||typeof p!="number")return;const B=y.sections[p],de=V.clipboardData.getData("text"),q=/^[a-zA-Z]+$/.test(de),ae=/^[0-9]+$/.test(de),z=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(de);B.contentType==="letter"&&q||B.contentType==="digit"&&ae||B.contentType==="digit-with-letter"&&z?(S(null),k({section:B,newSectionValue:de,shouldGoToNextSection:!0})):!q&&!ae&&(S(null),w(de))}),I=He(V=>{V.preventDefault(),V.dataTransfer.dropEffect="none"}),H=x.useCallback(V=>()=>{T||j(V)},[T,j]);return x.useCallback((V,B)=>{const de=g[V.type]({currentDate:h.getDateFromSection(b,V),contentType:V.contentType,format:V.format});return{onInput:O,onPaste:N,onMouseUp:_,onDragOver:I,onFocus:H(B),"aria-readonly":D,"aria-valuenow":eV(V,t),"aria-valuemin":de.minimum,"aria-valuemax":de.maximum,"aria-valuetext":V.value?JB(V,t):s.empty,"aria-label":s[V.type],"aria-disabled":T,tabIndex:!W||A||B>0?-1:0,contentEditable:!A&&!T&&!D,role:"spinbutton","data-range-position":V.dateName||void 0,spellCheck:W?!1:void 0,autoCapitalize:W?"none":void 0,autoCorrect:W?"off":void 0,children:V.value||V.placeholder,inputMode:V.contentType==="letter"?"text":"numeric"}},[g,A,T,D,W,s,t,O,N,_,I,H,h,b])}function JB(e,t){if(e.value)switch(e.type){case"month":{if(e.contentType==="digit"){const a=t.setMonth(t.date(),Number(e.value)-1);return t.isValid(a)?t.format(a,"month"):""}const s=t.parse(e.value,e.format);return s&&t.isValid(s)?t.format(s,"month"):void 0}case"day":if(e.contentType==="digit"){const s=t.setDate(t.startOfYear(t.date()),Number(e.value));return t.isValid(s)?t.format(s,"dayOfMonthFull"):""}return e.value;case"weekDay":return;default:return}}function eV(e,t){if(e.value)switch(e.type){case"weekDay":return e.contentType==="letter"?void 0:Number(e.value);case"meridiem":{const s=t.parse(`01:00 ${e.value}`,`${t.formats.hours12h}:${t.formats.minutes} ${e.format}`);return s?t.getHours(s)>=12?1:0:void 0}case"day":return e.contentType==="digit-with-letter"?parseInt(e.value,10):Number(e.value);case"month":{if(e.contentType==="digit")return Number(e.value);const s=t.parse(e.value,e.format);return s?t.getMonth(s)+1:void 0}default:return e.contentType!=="letter"?Number(e.value):void 0}}const tV=e=>{const{props:t,manager:s,skipContextFieldRefAssignment:a,manager:{valueType:l,internal_useOpenPickerButtonAriaLabel:u}}=e,{internalProps:d,forwardedProps:h}=eD(t,l),p=fD({manager:s,internalProps:d,skipContextFieldRefAssignment:a}),{sectionListRef:g,onBlur:y,onClick:b,onFocus:v,onInput:S,onPaste:j,onKeyDown:k,onClear:w,clearable:T}=h,{disabled:D=!1,readOnly:A=!1,autoFocus:W=!1,focused:P,unstableFieldRef:O}=p,_=x.useRef(null),N=fs(g,_),I=x.useMemo(()=>({isReady:()=>_.current!=null,getRoot:()=>_.current.getRoot(),getSectionContainer:ee=>_.current.getSectionContainer(ee),getSectionContent:ee=>_.current.getSectionContent(ee),getSectionIndexFromDOMElement:ee=>_.current.getSectionIndexFromDOMElement(ee)}),[_]),H=hD({manager:s,internalPropsWithDefaults:p,forwardedProps:h}),{areAllSectionsEmpty:V,error:B,parsedSelectedSections:de,sectionOrder:q,state:ae,value:z,clearValue:U,setSelectedSections:ue}=H,fe=dD({stateResponse:H}),Ce=u(z),[we,Q]=x.useState(!1);function J(ee=0){if(D||!_.current||E1(_)!=null)return;const Ne=fg(ee,ae.sections);Q(!0),_.current.getSectionContent(Ne).focus()}const he=KB({manager:s,internalPropsWithDefaults:p,stateResponse:H,applyCharacterEditing:fe,focused:we,setFocused:Q,domGetters:I}),be=QB({manager:s,stateResponse:H}),ge=XB({stateResponse:H,internalPropsWithDefaults:p}),ie=ZB({manager:s,stateResponse:H,applyCharacterEditing:fe,internalPropsWithDefaults:p,domGetters:I,focused:we}),Y=He(ee=>{k?.(ee),he.onKeyDown(ee)}),oe=He(ee=>{y?.(ee),he.onBlur(ee)}),$=He(ee=>{v?.(ee),he.onFocus(ee)}),le=He(ee=>{ee.isDefaultPrevented()||(b?.(ee),he.onClick(ee))}),ye=He(ee=>{j?.(ee),he.onPaste(ee)}),Pe=He(ee=>{S?.(ee),he.onInput(ee)}),pe=He((ee,...Ne)=>{ee.preventDefault(),w?.(ee,...Ne),U(),M1(_)?ue(q.startIndex):J(0)}),te=x.useMemo(()=>ae.sections.map((ee,Ne)=>{const ot=ie(ee,Ne);return{container:ge(Ne),content:ie(ee,Ne),before:{children:ee.startSeparator},after:{children:ee.endSeparator,"data-range-position":ee.isEndFormatSeparator?ot["data-range-position"]:void 0}}}),[ae.sections,ge,ie]);return x.useEffect(()=>{if(_.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please add the `enableAccessibleFieldDOMStructure={false}` prop to your Picker or Field component:","","<DatePicker enableAccessibleFieldDOMStructure={false} slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));W&&!D&&_.current&&_.current.getSectionContent(q.startIndex).focus()},[]),qi(()=>{if(!(!we||!_.current)){if(de==="all")_.current.getRoot().focus();else if(typeof de=="number"){const ee=_.current.getSectionContent(de);ee&&ee.focus()}}},[de,we]),qi(()=>{sx({focused:we,domGetters:I,stateResponse:H})}),x.useImperativeHandle(O,()=>({getSections:()=>ae.sections,getActiveSectionIndex:()=>E1(_),setSelectedSections:ee=>{if(D||!_.current)return;const Ne=fg(ee,ae.sections);Q((Ne==="all"?0:Ne)!==null),ue(ee)},focusField:J,isFieldFocused:()=>M1(_)})),K({},h,he,{onBlur:oe,onClick:le,onFocus:$,onInput:Pe,onPaste:ye,onKeyDown:Y,onClear:pe},be,{error:B,clearable:!!(T&&!V&&!A&&!D),focused:P??we,sectionListRef:N,enableAccessibleFieldDOMStructure:!0,elements:te,areAllSectionsEmpty:V,disabled:D,readOnly:A,autoFocus:W,openPickerAriaLabel:Ce})};function E1(e){const t=Zn(e.current?.getRoot());return!t||!e.current||!e.current.getRoot().contains(t)?null:e.current.getSectionIndexFromDOMElement(t)}function M1(e){const t=Zn(e.current?.getRoot());return!!e.current&&e.current.getRoot().contains(t)}const Ro=e=>e.replace(/[\u2066\u2067\u2068\u2069]/g,""),nV=(e,t,s)=>{let a=0,l=s?1:0;const u=[];for(let d=0;d<e.length;d+=1){const h=e[d],p=Zy(h,s?"input-rtl":"input-ltr",t),g=`${h.startSeparator}${p}${h.endSeparator}`,y=Ro(g).length,b=g.length,v=Ro(p),S=l+(v===""?0:p.indexOf(v[0]))+h.startSeparator.length,j=S+v.length;u.push(K({},h,{start:a,end:a+y,startInInput:S,endInInput:j})),a+=y,l+=b}return u},sV=e=>{const t=Ki(),s=Io(),a=Io(),{props:l,manager:u,skipContextFieldRefAssignment:d,manager:{valueType:h,internal_valueManager:p,internal_fieldValueManager:g,internal_useOpenPickerButtonAriaLabel:y}}=e,{internalProps:b,forwardedProps:v}=eD(l,h),S=fD({manager:u,internalProps:b,skipContextFieldRefAssignment:d}),{onFocus:j,onClick:k,onPaste:w,onBlur:T,onKeyDown:D,onClear:A,clearable:W,inputRef:P,placeholder:O}=v,{readOnly:_=!1,disabled:N=!1,autoFocus:I=!1,focused:H,unstableFieldRef:V}=S,B=x.useRef(null),de=fs(P,B),q=hD({manager:u,internalPropsWithDefaults:S,forwardedProps:v}),{activeSectionIndex:ae,areAllSectionsEmpty:z,error:U,localizedDigits:ue,parsedSelectedSections:fe,sectionOrder:Ce,state:we,value:Q,clearValue:J,clearActiveSection:he,setCharacterQuery:be,setSelectedSections:ge,setTempAndroidValueStr:ie,updateSectionValue:Y,updateValueFromValueStr:oe,getSectionsFromValue:$}=q,le=dD({stateResponse:q}),ye=y(Q),Pe=x.useMemo(()=>nV(we.sections,ue,t),[we.sections,ue,t]);function pe(){const qe=B.current.selectionStart??0;let Qe;qe<=Pe[0].startInInput||qe>=Pe[Pe.length-1].endInInput?Qe=1:Qe=Pe.findIndex(Re=>Re.startInInput-Re.startSeparator.length>qe);const Ee=Qe===-1?Pe.length-1:Qe-1;ge(Ee)}function te(qe=0){Zn(B.current)!==B.current&&(B.current?.focus(),ge(qe))}const ee=He(qe=>{j?.(qe);const Qe=B.current;s.start(0,()=>{!Qe||Qe!==B.current||ae==null&&(Qe.value.length&&Number(Qe.selectionEnd)-Number(Qe.selectionStart)===Qe.value.length?ge("all"):pe())})}),Ne=He((qe,...Qe)=>{qe.isDefaultPrevented()||(k?.(qe,...Qe),pe())}),ot=He(qe=>{if(w?.(qe),qe.preventDefault(),_||N)return;const Qe=qe.clipboardData.getData("text");if(typeof fe=="number"){const Ee=we.sections[fe],Re=/^[a-zA-Z]+$/.test(Qe),Ve=/^[0-9]+$/.test(Qe),Oe=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(Qe);if(Ee.contentType==="letter"&&Re||Ee.contentType==="digit"&&Ve||Ee.contentType==="digit-with-letter"&&Oe){be(null),Y({section:Ee,newSectionValue:Qe,shouldGoToNextSection:!0});return}if(Re||Ve)return}be(null),oe(Qe)}),Ie=He(qe=>{T?.(qe),ge(null)}),ke=He(qe=>{if(_)return;const Qe=qe.target.value;if(Qe===""){J();return}const Ee=qe.nativeEvent.data,Re=Ee&&Ee.length>1,Ve=Re?Ee:Qe,Oe=Ro(Ve);if(fe==="all"&&ge(ae),ae==null||Re){oe(Re?Ee:Oe);return}let Fe;if(fe==="all"&&Oe.length===1)Fe=Oe;else{const rt=Ro(g.getV6InputValueFromSections(Pe,ue,t));let it=-1,Dt=-1;for(let pt=0;pt<rt.length;pt+=1)it===-1&&rt[pt]!==Oe[pt]&&(it=pt),Dt===-1&&rt[rt.length-pt-1]!==Oe[Oe.length-pt-1]&&(Dt=pt);const zt=Pe[ae];if(it<zt.start||rt.length-Dt-1>zt.end)return;const Yn=Oe.length-rt.length+zt.end-Ro(zt.endSeparator||"").length;Fe=Oe.slice(zt.start+Ro(zt.startSeparator||"").length,Yn)}if(Fe.length===0){A6()&&ie(Ve),he();return}le({keyPressed:Fe,sectionIndex:ae})}),We=He((qe,...Qe)=>{qe.preventDefault(),A?.(qe,...Qe),J(),A1(B)?ge(Ce.startIndex):te(0)}),X=pD({manager:u,internalPropsWithDefaults:S,stateResponse:q}),je=He(qe=>{D?.(qe),X(qe)}),De=x.useMemo(()=>O!==void 0?O:g.getV6InputValueFromSections($(p.emptyValue),ue,t),[O,g,$,p.emptyValue,ue,t]),Me=x.useMemo(()=>we.tempValueStrAndroid??g.getV6InputValueFromSections(we.sections,ue,t),[we.sections,g,we.tempValueStrAndroid,ue,t]);x.useEffect(()=>{B.current&&B.current===Zn(B.current)&&ge("all")},[]),qi(()=>{function qe(){if(!B.current)return;if(fe==null){B.current.scrollLeft&&(B.current.scrollLeft=0);return}if(B.current!==Zn(B.current))return;const Qe=B.current.scrollTop;if(fe==="all")B.current.select();else{const Ee=Pe[fe],Re=Ee.type==="empty"?Ee.startInInput-Ee.startSeparator.length:Ee.startInInput,Ve=Ee.type==="empty"?Ee.endInInput+Ee.endSeparator.length:Ee.endInInput;(Re!==B.current.selectionStart||Ve!==B.current.selectionEnd)&&B.current===Zn(B.current)&&B.current.setSelectionRange(Re,Ve),a.start(0,()=>{B.current&&B.current===Zn(B.current)&&B.current.selectionStart===B.current.selectionEnd&&(B.current.selectionStart!==Re||B.current.selectionEnd!==Ve)&&qe()})}B.current.scrollTop=Qe}qe()});const Le=x.useMemo(()=>ae==null||we.sections[ae].contentType==="letter"?"text":"numeric",[ae,we.sections]),ft=!(B.current&&B.current===Zn(B.current))&&z;return x.useImperativeHandle(V,()=>({getSections:()=>we.sections,getActiveSectionIndex:()=>{const qe=B.current.selectionStart??0,Qe=B.current.selectionEnd??0;if(qe===0&&Qe===0)return null;const Ee=qe<=Pe[0].startInInput?1:Pe.findIndex(Re=>Re.startInInput-Re.startSeparator.length>qe);return Ee===-1?Pe.length-1:Ee-1},setSelectedSections:qe=>ge(qe),focusField:te,isFieldFocused:()=>A1(B)})),K({},v,{error:U,clearable:!!(W&&!z&&!_&&!N),onBlur:Ie,onClick:Ne,onFocus:ee,onPaste:ot,onKeyDown:je,onClear:We,inputRef:de,enableAccessibleFieldDOMStructure:!1,placeholder:De,inputMode:Le,autoComplete:"off",value:ft?"":Me,onChange:ke,focused:H,disabled:N,readOnly:_,autoFocus:I,openPickerAriaLabel:ye})};function A1(e){return e.current===Zn(e.current)}const iV=e=>{const t=Yj();return(e.props.enableAccessibleFieldDOMStructure??t?.enableAccessibleFieldDOMStructure??!0?tV:sV)(e)},aV=e=>{const t=rB(e);return iV({manager:t,props:e})};function ix(e){const{ownerState:t}=qn(),s=Ki();return x.useMemo(()=>K({},t,{isFieldDisabled:e.disabled??!1,isFieldReadOnly:e.readOnly??!1,isFieldRequired:e.required??!1,fieldDirection:s?"rtl":"ltr"}),[t,e.disabled,e.readOnly,e.required,s])}const rV=Wa(r.jsx("path",{d:"M7 10l5 5 5-5z"})),oV=Wa(r.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"})),lV=Wa(r.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})),cV=Wa(r.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}));Wa(r.jsxs(x.Fragment,{children:[r.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),r.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}));Wa(r.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}));Wa(r.jsxs(x.Fragment,{children:[r.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),r.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}));const uV=Wa(r.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));function dV(e){return _n("MuiPickersTextField",e)}In("MuiPickersTextField",["root","focused","disabled","error","required"]);function hV(e){return _n("MuiPickersInputBase",e)}const Fo=In("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input","inputSizeSmall","activeBar"]);function fV(e){return _n("MuiPickersSectionList",e)}const To=In("MuiPickersSectionList",["root","section","sectionContent"]),pV=["slots","slotProps","elements","sectionListRef","classes"],mD=Ke("div",{name:"MuiPickersSectionList",slot:"Root"})({direction:"ltr /*! @noflip */",outline:"none"}),gD=Ke("span",{name:"MuiPickersSectionList",slot:"Section"})({}),yD=Ke("span",{name:"MuiPickersSectionList",slot:"SectionSeparator"})({whiteSpace:"pre"}),xD=Ke("span",{name:"MuiPickersSectionList",slot:"SectionContent"})({outline:"none"}),mV=e=>mn({root:["root"],section:["section"],sectionContent:["sectionContent"]},fV,e);function gV(e){const{slots:t,slotProps:s,element:a,classes:l}=e,{ownerState:u}=qn(),d=t?.section??gD,h=Rt({elementType:d,externalSlotProps:s?.section,externalForwardedProps:a.container,className:l.section,ownerState:u}),p=t?.sectionContent??xD,g=Rt({elementType:p,externalSlotProps:s?.sectionContent,externalForwardedProps:a.content,additionalProps:{suppressContentEditableWarning:!0},className:l.sectionContent,ownerState:u}),y=t?.sectionSeparator??yD,b=Rt({elementType:y,externalSlotProps:s?.sectionSeparator,externalForwardedProps:a.before,ownerState:K({},u,{separatorPosition:"before"})}),v=Rt({elementType:y,externalSlotProps:s?.sectionSeparator,externalForwardedProps:a.after,ownerState:K({},u,{separatorPosition:"after"})}),S=x.useRef(null),j=fs(g.ref,S),k=w=>{const T=w.relatedTarget,D=w.currentTarget.closest(`.${To.root}`);if(D&&T instanceof Node&&D.contains(T)){w.stopPropagation();return}};return r.jsxs(d,K({},h,{children:[r.jsx(y,K({},b)),r.jsx(p,K({},g,{ref:j,onBlur:k})),r.jsx(y,K({},v))]}))}const yV=x.forwardRef(function(t,s){const a=cn({props:t,name:"MuiPickersSectionList"}),{slots:l,slotProps:u,elements:d,sectionListRef:h,classes:p}=a,g=dt(a,pV),y=mV(p),{ownerState:b}=qn(),v=x.useRef(null),S=fs(s,v),j=T=>{if(!v.current)throw new Error(`MUI X: Cannot call sectionListRef.${T} before the mount of the component.`);return v.current};x.useImperativeHandle(h,()=>({getRoot(){return j("getRoot")},getSectionContainer(T){return j("getSectionContainer").querySelector(`.${To.section}[data-sectionindex="${T}"]`)},getSectionContent(T){return j("getSectionContent").querySelector(`.${To.section}[data-sectionindex="${T}"] .${To.sectionContent}`)},getSectionIndexFromDOMElement(T){const D=j("getSectionIndexFromDOMElement");if(T==null||!D.contains(T))return null;let A=null;return T.classList.contains(To.section)?A=T:T.classList.contains(To.sectionContent)&&(A=T.parentElement),A==null?null:Number(A.dataset.sectionindex)}}));const k=l?.root??mD,w=Rt({elementType:k,externalSlotProps:u?.root,externalForwardedProps:g,additionalProps:{ref:S,suppressContentEditableWarning:!0},className:y.root,ownerState:b});return r.jsx(k,K({},w,{children:w.contentEditable?d.map(({content:T,before:D,after:A})=>`${D.children}${T.children}${A.children}`).join(""):r.jsx(x.Fragment,{children:d.map((T,D)=>r.jsx(gV,{slots:l,slotProps:u,element:T,classes:y},D))})}))}),bD=x.createContext(null),Oh=()=>{const e=x.useContext(bD);if(e==null)throw new Error(["MUI X: The `usePickerTextFieldOwnerState` can only be called in components that are used inside a PickerTextField component"].join(`
`));return e},xV=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef","onFocus","onBlur","classes","ownerState"],bV=e=>Math.round(e*1e5)/1e5,Rh=Ke("div",{name:"MuiPickersInputBase",slot:"Root"})(({theme:e})=>K({},e.typography.body1,{color:(e.vars||e).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${bV(.15/16)}em`,variants:[{props:{isInputInFullWidth:!0},style:{width:"100%"}}]})),ax=Ke(mD,{name:"MuiPickersInputBase",slot:"SectionsContainer"})(({theme:e})=>({padding:"4px 0 5px",fontFamily:e.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{fieldDirection:"rtl"},style:{justifyContent:"end"}},{props:{inputSize:"small"},style:{paddingTop:1}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0},style:{color:"currentColor",opacity:0}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0,inputHasLabel:!1},style:e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:e.palette.mode==="light"?.42:.5}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0,inputHasLabel:!0,isLabelShrunk:!0},style:e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:e.palette.mode==="light"?.42:.5}}]})),vV=Ke(gD,{name:"MuiPickersInputBase",slot:"Section"})(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"inline-block",whiteSpace:"nowrap"})),SV=Ke(xD,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(e,t)=>t.content})(({theme:e})=>({fontFamily:e.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),wV=Ke(yD,{name:"MuiPickersInputBase",slot:"Separator"})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),CV=Ke("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(e,t)=>t.hiddenInput})(K({},R2)),TV=Ke("div",{name:"MuiPickersInputBase",slot:"ActiveBar"})(({theme:e,ownerState:t})=>({display:"none",position:"absolute",height:2,bottom:2,borderTopLeftRadius:2,borderTopRightRadius:2,transition:e.transitions.create(["width","left"],{duration:e.transitions.duration.shortest}),backgroundColor:(e.vars||e).palette.primary.main,'[data-active-range-position="start"] &, [data-active-range-position="end"] &':{display:"block"},'[data-active-range-position="start"] &':{left:t.sectionOffsets[0]},'[data-active-range-position="end"] &':{left:t.sectionOffsets[1]}})),kV=(e,t)=>{const{isFieldFocused:s,isFieldDisabled:a,isFieldReadOnly:l,hasFieldError:u,inputSize:d,isInputInFullWidth:h,inputColor:p,hasStartAdornment:g,hasEndAdornment:y}=t,b={root:["root",s&&!a&&"focused",a&&"disabled",l&&"readOnly",u&&"error",h&&"fullWidth",`color${O2(p)}`,d==="small"&&"inputSizeSmall",g&&"adornedStart",y&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"],activeBar:["activeBar"]};return mn(b,hV,e)};function P1(e,t,s,a){if(e.content.id){const l=t.current?.querySelectorAll(`[data-sectionindex="${s}"] [data-range-position="${a}"]`);if(l)return Array.from(l).reduce((u,d)=>u+d.offsetWidth,0)}return 0}function jV(e,t){let s=0;if(t.current?.getAttribute("data-active-range-position")==="end")for(let l=e.length-1;l>=e.length/2;l-=1)s+=P1(e[l],t,l,"end");else for(let l=0;l<e.length/2;l+=1)s+=P1(e[l],t,l,"start");return{activeBarWidth:s,sectionOffsets:[t.current?.querySelector('[data-sectionindex="0"]')?.offsetLeft||0,t.current?.querySelector(`[data-sectionindex="${e.length/2}"]`)?.offsetLeft||0]}}const rx=x.forwardRef(function(t,s){const a=cn({props:t,name:"MuiPickersInputBase"}),{elements:l,areAllSectionsEmpty:u,value:d,onChange:h,id:p,endAdornment:g,startAdornment:y,renderSuffix:b,slots:v,slotProps:S,contentEditable:j,tabIndex:k,onInput:w,onPaste:T,onKeyDown:D,name:A,readOnly:W,inputProps:P,inputRef:O,sectionListRef:_,onFocus:N,onBlur:I,classes:H,ownerState:V}=a,B=dt(a,xV),de=Oh(),q=x.useRef(null),ae=x.useRef(null),z=x.useRef([]),U=fs(s,q),ue=fs(P?.ref,O),fe=EC();if(!fe)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const Ce=V??de,we=$=>{fe.onFocus?.($),N?.($)},Q=$=>{we($)},J=$=>{if(D?.($),$.key==="Enter"&&!$.defaultMuiPrevented){if(q.current?.dataset.multiInput)return;const le=q.current?.closest("form"),ye=le?.querySelector('[type="submit"]');if(!le||!ye)return;$.preventDefault(),le.requestSubmit(ye)}},he=$=>{fe.onBlur?.($),I?.($)};x.useEffect(()=>{fe&&fe.setAdornedStart(!!y)},[fe,y]),x.useEffect(()=>{fe&&(u?fe.onEmpty():fe.onFilled())},[fe,u]);const be=kV(H,Ce),ge=v?.root||Rh,ie=Rt({elementType:ge,externalSlotProps:S?.root,externalForwardedProps:B,additionalProps:{"aria-invalid":fe.error,ref:U},className:be.root,ownerState:Ce}),Y=v?.input||ax,oe=l.some($=>$.content["data-range-position"]!==void 0);return x.useEffect(()=>{if(!oe||!Ce.isPickerOpen)return;const{activeBarWidth:$,sectionOffsets:le}=jV(l,q);z.current=[le[0],le[1]],ae.current&&(ae.current.style.width=`${$}px`)},[l,oe,Ce.isPickerOpen]),r.jsxs(ge,K({},ie,{children:[y,r.jsx(yV,{sectionListRef:_,elements:l,contentEditable:j,tabIndex:k,className:be.sectionsContainer,onFocus:we,onBlur:he,onInput:w,onPaste:T,onKeyDown:J,slots:{root:Y,section:vV,sectionContent:SV,sectionSeparator:wV},slotProps:{root:K({},S?.input,{ownerState:Ce}),sectionContent:{className:Fo.sectionContent},sectionSeparator:({separatorPosition:$})=>({className:$==="before"?Fo.sectionBefore:Fo.sectionAfter})}}),g,b?b(K({},fe)):null,r.jsx(CV,K({name:A,className:be.input,value:d,onChange:h,id:p,"aria-hidden":"true",tabIndex:-1,readOnly:W,required:fe.required,disabled:fe.disabled,onFocus:Q},P,{ref:ue})),oe&&r.jsx(TV,{className:be.activeBar,ref:ae,ownerState:{sectionOffsets:z.current}})]}))});function DV(e){return _n("MuiPickersOutlinedInput",e)}const $s=K({},Fo,In("MuiPickersOutlinedInput",["root","notchedOutline","input"])),EV=["children","className","label","notched","shrink"],MV=Ke("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline"})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),O1=Ke("span")(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit"})),AV=Ke("legend",{shouldForwardProp:e=>Dr(e)&&e!=="notched"})(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{inputHasLabel:!1},style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:{inputHasLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{inputHasLabel:!0,notched:!0},style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]}));function PV(e){const{className:t,label:s,notched:a}=e,l=dt(e,EV),u=Oh();return r.jsx(MV,K({"aria-hidden":!0,className:t},l,{ownerState:u,children:r.jsx(AV,{ownerState:u,notched:a,children:s?r.jsx(O1,{children:s}):r.jsx(O1,{className:"notranslate",children:""})})}))}const OV=["label","autoFocus","ownerState","classes","notched"],RV=Ke(Rh,{name:"MuiPickersOutlinedInput",slot:"Root"})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${$s.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${$s.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${$s.focused} .${$s.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${$s.disabled}`]:{[`& .${$s.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled},"*":{color:(e.vars||e).palette.action.disabled}},[`&.${$s.error} .${$s.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},variants:Object.keys((e.vars??e).palette).filter(s=>(e.vars??e).palette[s]?.main??!1).map(s=>({props:{inputColor:s},style:{[`&.${$s.focused}:not(.${$s.error}) .${$s.notchedOutline}`]:{borderColor:(e.vars||e).palette[s].main}}}))}}),_V=Ke(ax,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer"})({padding:"16.5px 0",variants:[{props:{inputSize:"small"},style:{padding:"8.5px 0"}}]}),IV=e=>{const s=mn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},DV,e);return K({},e,s)},vD=x.forwardRef(function(t,s){const a=cn({props:t,name:"MuiPickersOutlinedInput"}),{label:l,classes:u,notched:d}=a,h=dt(a,OV),p=EC(),g=IV(u);return r.jsx(rx,K({slots:{root:RV,input:_V},renderSuffix:y=>r.jsx(PV,{shrink:!!(d||y.adornedStart||y.focused||y.filled),notched:!!(d||y.adornedStart||y.focused||y.filled),className:g.notchedOutline,label:l!=null&&l!==""&&p?.required?r.jsxs(x.Fragment,{children:[l,"","*"]}):l})},h,{label:l,classes:g,ref:s}))});vD.muiName="Input";function WV(e){return _n("MuiPickersFilledInput",e)}const lr=K({},Fo,In("MuiPickersFilledInput",["root","underline","input"])),NV=["label","autoFocus","disableUnderline","hiddenLabel","classes"],LV=Ke(Rh,{name:"MuiPickersFilledInput",slot:"Root",shouldForwardProp:e=>Dr(e)&&e!=="disableUnderline"})(({theme:e})=>{const t=e.palette.mode==="light",s=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",l=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",u=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:l,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a}},[`&.${lr.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a},[`&.${lr.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:u},variants:[...Object.keys((e.vars??e).palette).filter(d=>(e.vars??e).palette[d].main).map(d=>({props:{inputColor:d,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[d]?.main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${lr.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${lr.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${lr.disabled}, .${lr.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${lr.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:{hasStartAdornment:!0},style:{paddingLeft:12}},{props:{hasEndAdornment:!0},style:{paddingRight:12}}]}}),BV=Ke(ax,{name:"MuiPickersFilledInput",slot:"sectionsContainer",shouldForwardProp:e=>Dr(e)&&e!=="hiddenLabel"})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{inputSize:"small"},style:{paddingTop:21,paddingBottom:4}},{props:{hasStartAdornment:!0},style:{paddingLeft:0}},{props:{hasEndAdornment:!0},style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,inputSize:"small"},style:{paddingTop:8,paddingBottom:9}}]}),VV=(e,t)=>{const{inputHasUnderline:s}=t,l=mn({root:["root",s&&"underline"],input:["input"]},WV,e);return K({},e,l)},SD=x.forwardRef(function(t,s){const a=cn({props:t,name:"MuiPickersFilledInput"}),{label:l,disableUnderline:u=!1,hiddenLabel:d=!1,classes:h}=a,p=dt(a,NV),g=Oh(),y=K({},g,{inputHasUnderline:!u}),b=VV(h,y);return r.jsx(rx,K({slots:{root:LV,input:BV},slotProps:{root:{disableUnderline:u},input:{hiddenLabel:d}}},p,{label:l,classes:b,ref:s,ownerState:y}))});SD.muiName="Input";function zV(e){return _n("MuiPickersFilledInput",e)}const ic=K({},Fo,In("MuiPickersInput",["root","underline","input"])),FV=["label","autoFocus","disableUnderline","ownerState","classes"],HV=Ke(Rh,{name:"MuiPickersInput",slot:"Root",shouldForwardProp:e=>Dr(e)&&e!=="disableUnderline"})(({theme:e})=>{let s=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(s=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((e.vars??e).palette).filter(a=>(e.vars??e).palette[a].main).map(a=>({props:{inputColor:a,inputHasUnderline:!0},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[a].main}`}}})),{props:{inputHasUnderline:!0},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ic.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ic.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ic.disabled}, .${ic.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${s}`}},[`&.${ic.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),UV=(e,t)=>{const{inputHasUnderline:s}=t,l=mn({root:["root",!s&&"underline"],input:["input"]},zV,e);return K({},e,l)},wD=x.forwardRef(function(t,s){const a=cn({props:t,name:"MuiPickersInput"}),{label:l,disableUnderline:u=!1,classes:d}=a,h=dt(a,FV),p=Oh(),g=K({},p,{inputHasUnderline:!u}),y=UV(d,g);return r.jsx(rx,K({slots:{root:HV},slotProps:{root:{disableUnderline:u}}},h,{ownerState:g,label:l,classes:y,ref:s}))});wD.muiName="Input";const qV=["onFocus","onBlur","className","classes","color","disabled","error","variant","required","hiddenLabel","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps","data-active-range-position"],YV={standard:wD,filled:SD,outlined:vD},GV=Ke(Ut,{name:"MuiPickersTextField",slot:"Root"})({maxWidth:"100%"}),$V=(e,t)=>{const{isFieldFocused:s,isFieldDisabled:a,isFieldRequired:l}=t;return mn({root:["root",s&&!a&&"focused",a&&"disabled",l&&"required"]},dV,e)},CD=x.forwardRef(function(t,s){const a=cn({props:t,name:"MuiPickersTextField"}),{onFocus:l,onBlur:u,className:d,classes:h,color:p="primary",disabled:g=!1,error:y=!1,variant:b="outlined",required:v=!1,hiddenLabel:S=!1,InputProps:j,inputProps:k,inputRef:w,sectionListRef:T,elements:D,areAllSectionsEmpty:A,onClick:W,onKeyDown:P,onKeyUp:O,onPaste:_,onInput:N,endAdornment:I,startAdornment:H,tabIndex:V,contentEditable:B,focused:de,value:q,onChange:ae,fullWidth:z,id:U,name:ue,helperText:fe,FormHelperTextProps:Ce,label:we,InputLabelProps:Q,"data-active-range-position":J}=a,he=dt(a,qV),be=x.useRef(null),ge=fs(s,be),ie=Ig(U),Y=fe&&ie?`${ie}-helper-text`:void 0,oe=we&&ie?`${ie}-label`:void 0,$=ix({disabled:a.disabled,required:a.required,readOnly:j?.readOnly}),le=x.useMemo(()=>K({},$,{isFieldValueEmpty:A,isFieldFocused:de??!1,hasFieldError:y??!1,inputSize:a.size??"medium",inputColor:p??"primary",isInputInFullWidth:z??!1,hasStartAdornment:!!(H??j?.startAdornment),hasEndAdornment:!!(I??j?.endAdornment),inputHasLabel:!!we,isLabelShrunk:!!Q?.shrink}),[$,A,de,y,a.size,p,z,H,I,j?.startAdornment,j?.endAdornment,we,Q?.shrink]),ye=$V(h,le),Pe=YV[b],pe={};return b==="outlined"?(Q&&typeof Q.shrink<"u"&&(pe.notched=Q.shrink),pe.label=we):b==="filled"&&(pe.hiddenLabel=S),r.jsx(bD.Provider,{value:le,children:r.jsxs(GV,K({className:Hn(ye.root,d),ref:ge,focused:de,disabled:g,variant:b,error:y,color:p,fullWidth:z,required:v,ownerState:le},he,{children:[we!=null&&we!==""&&r.jsx(An,K({htmlFor:ie,id:oe},Q,{children:we})),r.jsx(Pe,K({elements:D,areAllSectionsEmpty:A,onClick:W,onKeyDown:P,onKeyUp:O,onInput:N,onPaste:_,onFocus:l,onBlur:u,endAdornment:I,startAdornment:H,tabIndex:V,contentEditable:B,value:q,onChange:ae,id:ie,fullWidth:z,inputProps:k,inputRef:w,sectionListRef:T,label:we,name:ue,role:"group","aria-labelledby":oe,"aria-describedby":Y,"aria-live":Y?"polite":void 0,"data-active-range-position":J},pe,j)),fe&&r.jsx(_2,K({id:Y},Ce,{children:fe}))]}))})}),KV=["enableAccessibleFieldDOMStructure"],QV=["InputProps","readOnly","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],XV=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],ZV=["ownerState"],JV=["ownerState"],ez=["ownerState"],tz=["ownerState"],nz=["InputProps","inputProps"],Em=()=>{},sz=e=>{let{enableAccessibleFieldDOMStructure:t}=e,s=dt(e,KV);if(t){const{InputProps:D,readOnly:A,onClear:W,clearable:P,clearButtonPosition:O,openPickerButtonPosition:_,openPickerAriaLabel:N}=s,I=dt(s,QV),H=ja>=6&&I?.slotProps?.input?bc(I?.slotProps?.input,D):Em;return{clearable:P,onClear:W,clearButtonPosition:O,openPickerButtonPosition:_,openPickerAriaLabel:N,textFieldProps:K({},I,ja>=6&&I?.slotProps?.input?{slotProps:K({},I?.slotProps,{input:V=>K({},hi(H,V),{readOnly:A})})}:{InputProps:K({},D??{},{readOnly:A})})}}const{onPaste:a,onKeyDown:l,inputMode:u,readOnly:d,InputProps:h,inputProps:p,inputRef:g,onClear:y,clearable:b,clearButtonPosition:v,openPickerButtonPosition:S,openPickerAriaLabel:j}=s,k=dt(s,XV),w=ja>=6&&k?.slotProps?.input?bc(k?.slotProps?.input,h):Em,T=ja>=6&&k?.slotProps?.htmlInput?bc(k?.slotProps?.htmlInput,p):Em;return{clearable:b,onClear:y,clearButtonPosition:v,openPickerButtonPosition:S,openPickerAriaLabel:j,textFieldProps:K({},k,ja>=6&&(k?.slotProps?.input||k?.slotProps?.htmlInput)?{slotProps:K({},k?.slotProps,{input:D=>K({},hi(w,D),{readOnly:d}),htmlInput:D=>K({},hi(T,D),{inputMode:u,onPaste:a,onKeyDown:l,ref:g})})}:{InputProps:K({},h??{},{readOnly:d}),inputProps:K({},p??{},{inputMode:u,onPaste:a,onKeyDown:l,ref:g})})}},ox=x.createContext({slots:{},slotProps:{},inputRef:void 0});function iz(e){const{fieldResponse:t,defaultOpenPickerIcon:s}=e,a=Ba(),l=tx(),u=x.useContext(ox),{textFieldProps:d,onClear:h,clearable:p,openPickerAriaLabel:g,clearButtonPosition:y="end",openPickerButtonPosition:b="end"}=sz(t),v=ix(d),S=He(Ce=>{Ce.preventDefault(),l?.setOpen(we=>!we)}),j=l?l.triggerStatus:"hidden",k=p?y:null,w=j!=="hidden"?b:null,T=u.slots.textField??(t.enableAccessibleFieldDOMStructure===!1?gt:CD),D=u.slots.inputAdornment??Wm,A=Rt({elementType:D,externalSlotProps:u.slotProps.inputAdornment,additionalProps:{position:"start"},ownerState:K({},v,{position:"start"})}),W=dt(A,ZV),P=Rt({elementType:D,externalSlotProps:u.slotProps.inputAdornment,additionalProps:{position:"end"},ownerState:K({},v,{position:"end"})}),O=dt(P,JV),_=u.slots.openPickerButton??Xe,N=Rt({elementType:_,externalSlotProps:u.slotProps.openPickerButton,additionalProps:{disabled:j==="disabled",onClick:S,"aria-label":g,edge:d.variant!=="standard"?w:!1},ownerState:v}),I=dt(N,ez),H=u.slots.openPickerIcon??s,V=Rt({elementType:H,externalSlotProps:u.slotProps.openPickerIcon,ownerState:v}),B=u.slots.clearButton??Xe,de=Rt({elementType:B,externalSlotProps:u.slotProps.clearButton,className:"clearButton",additionalProps:{title:a.fieldClearLabel,tabIndex:-1,onClick:h,disabled:t.disabled||t.readOnly,edge:d.variant!=="standard"&&k!==w?k:!1},ownerState:v}),q=dt(de,tz),ae=u.slots.clearIcon??uV,z=Rt({elementType:ae,externalSlotProps:u.slotProps.clearIcon,additionalProps:{fontSize:"small"},ownerState:v});d.ref=fs(d.ref,l?.rootRef);const U={},ue=hi((ja>=6&&d?.slotProps?.input)??d.InputProps,v);l&&(U.ref=l.triggerRef),!ue?.startAdornment&&(k==="start"||w==="start")&&(U.startAdornment=r.jsxs(D,K({},W,{children:[w==="start"&&r.jsx(_,K({},I,{children:r.jsx(H,K({},V))})),k==="start"&&r.jsx(B,K({},q,{children:r.jsx(ae,K({},z))}))]}))),!ue?.endAdornment&&(k==="end"||w==="end")&&(U.endAdornment=r.jsxs(D,K({},O,{children:[k==="end"&&r.jsx(B,K({},q,{children:r.jsx(ae,K({},z))})),w==="end"&&r.jsx(_,K({},I,{children:r.jsx(H,K({},V))}))]}))),!U?.endAdornment&&!U?.startAdornment&&u.slots.inputAdornment&&(U.endAdornment=r.jsx(D,K({},O))),k!=null&&(d.sx=[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(d.sx)?d.sx:[d.sx]]);const fe=ja>=6&&d?.slotProps?.input?hi(bc(ue,U),v):K({},ue,U);return d.inputProps=ja>=6&&d?.slotProps?.htmlInput?hi(d.slotProps.htmlInput,v):d.inputProps,delete d?.slotProps?.input,t.enableAccessibleFieldDOMStructure&&delete d?.slotProps,r.jsx(T,K({},d,{InputProps:fe}))}function bc(e,t){return e?t?s=>K({},hi(t,s),hi(e,s)):e:t}function az(e){const{ref:t,externalForwardedProps:s,slotProps:a}=e,l=x.useContext(ox),u=tx(),d=ix(s),{InputProps:h,inputProps:p}=s,g=dt(s,nz),y=Rt({elementType:CD,externalSlotProps:bc(l.slotProps.textField,a?.textField),externalForwardedProps:g,additionalProps:{ref:t,sx:u?.rootSx,label:u?.label,name:u?.name,className:u?.rootClassName,inputRef:l.inputRef},ownerState:d});return y.inputProps=K({},p,y.inputProps),y.InputProps=K({},h,y.InputProps),y}function rz(e){const{slots:t={},slotProps:s={},inputRef:a,children:l}=e,u=x.useMemo(()=>({inputRef:a,slots:{openPickerButton:t.openPickerButton,openPickerIcon:t.openPickerIcon,textField:t.textField,inputAdornment:t.inputAdornment,clearIcon:t.clearIcon,clearButton:t.clearButton},slotProps:{openPickerButton:s.openPickerButton,openPickerIcon:s.openPickerIcon,textField:s.textField,inputAdornment:s.inputAdornment,clearIcon:s.clearIcon,clearButton:s.clearButton}}),[a,t.openPickerButton,t.openPickerIcon,t.textField,t.inputAdornment,t.clearIcon,t.clearButton,s.openPickerButton,s.openPickerIcon,s.textField,s.inputAdornment,s.clearIcon,s.clearButton]);return r.jsx(ox.Provider,{value:u,children:l})}const oz=["slots","slotProps"],TD=x.forwardRef(function(t,s){const a=cn({props:t,name:"MuiDateField"}),{slots:l,slotProps:u}=a,d=dt(a,oz),h=az({slotProps:u,ref:s,externalForwardedProps:d}),p=aV(h);return r.jsx(rz,{slots:l,slotProps:u,inputRef:d.inputRef,children:r.jsx(iz,{fieldResponse:p,defaultOpenPickerIcon:cV})})}),kD=({shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:s,minDate:a,maxDate:l,disableFuture:u,disablePast:d,timezone:h})=>{const p=qt();return x.useCallback(g=>Jc({adapter:p,value:g,timezone:h,props:{shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:s,minDate:a,maxDate:l,disableFuture:u,disablePast:d}})!==null,[p,e,t,s,a,l,u,d,h])},lz=(e,t)=>(s,a)=>{switch(a.type){case"setVisibleDate":return K({},s,{slideDirection:a.direction,currentMonth:a.month,isMonthSwitchingAnimating:!t.isSameMonth(a.month,s.currentMonth)&&!e&&!a.skipAnimation,focusedDay:a.focusedDay});case"changeMonthTimezone":{const l=a.newTimezone;if(t.getTimezone(s.currentMonth)===l)return s;let u=t.setTimezone(s.currentMonth,l);return t.getMonth(u)!==t.getMonth(s.currentMonth)&&(u=t.setMonth(u,t.getMonth(s.currentMonth))),K({},s,{currentMonth:u})}case"finishMonthSwitchingAnimation":return K({},s,{isMonthSwitchingAnimating:!1});default:throw new Error("missing support")}},cz=e=>{const{value:t,referenceDate:s,disableFuture:a,disablePast:l,maxDate:u,minDate:d,onMonthChange:h,onYearChange:p,reduceAnimations:g,shouldDisableDate:y,timezone:b,getCurrentMonthFromVisibleDate:v}=e,S=qt(),j=x.useRef(lz(!!g,S)).current,k=x.useMemo(()=>yi.getInitialReferenceValue({value:t,adapter:S,timezone:b,props:e,referenceDate:s,granularity:ci.day}),[s,b]),[w,T]=x.useReducer(j,{isMonthSwitchingAnimating:!1,focusedDay:k,currentMonth:S.startOfMonth(k),slideDirection:"left"}),D=kD({shouldDisableDate:y,minDate:d,maxDate:u,disableFuture:a,disablePast:l,timezone:b});x.useEffect(()=>{T({type:"changeMonthTimezone",newTimezone:S.getTimezone(k)})},[k,S]);const A=He(({target:P,reason:O})=>{if(O==="cell-interaction"&&w.focusedDay!=null&&S.isSameDay(P,w.focusedDay))return;const _=O==="cell-interaction";let N,I;if(O==="cell-interaction")N=v(P,w.currentMonth),I=P;else if(N=S.isSameMonth(P,w.currentMonth)?w.currentMonth:S.startOfMonth(P),I=P,D(I)){const B=S.startOfMonth(P),de=S.endOfMonth(P);I=Ic({adapter:S,date:I,minDate:S.isBefore(d,B)?B:d,maxDate:S.isAfter(u,de)?de:u,disablePast:l,disableFuture:a,isDateDisabled:D,timezone:b})}const H=!S.isSameMonth(w.currentMonth,N),V=!S.isSameYear(w.currentMonth,N);H&&h?.(N),V&&p?.(S.startOfYear(N)),T({type:"setVisibleDate",month:N,direction:S.isAfterDay(N,w.currentMonth)?"left":"right",focusedDay:w.focusedDay!=null&&I!=null&&S.isSameDay(I,w.focusedDay)?w.focusedDay:I,skipAnimation:_})}),W=x.useCallback(()=>{T({type:"finishMonthSwitchingAnimation"})},[]);return{referenceDate:k,calendarState:w,setVisibleDate:A,isDateDisabled:D,onMonthSwitchingAnimationEnd:W}},uz=e=>_n("MuiPickersFadeTransitionGroup",e);In("MuiPickersFadeTransitionGroup",["root"]);const dz=["children"],hz=e=>mn({root:["root"]},uz,e),fz=Ke(MC,{name:"MuiPickersFadeTransitionGroup",slot:"Root"})({display:"block",position:"relative"});function jD(e){const t=cn({props:e,name:"MuiPickersFadeTransitionGroup"}),{className:s,reduceAnimations:a,transKey:l,classes:u}=t,{children:d}=t,h=dt(t,dz),p=hz(u),g=el();return a?d:r.jsx(fz,{className:Hn(p.root,s),ownerState:h,children:r.jsx(ph,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:g.transitions.duration.enteringScreen,enter:g.transitions.duration.enteringScreen,exit:0},children:d},l)})}function pz(e){return _n("MuiPickersDay",e)}const cr=In("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]);function DD(e){const{disabled:t,selected:s,today:a,outsideCurrentMonth:l,day:u,disableMargin:d,disableHighlightToday:h,showDaysOutsideCurrentMonth:p}=e,g=qt(),{ownerState:y}=qn();return x.useMemo(()=>K({},y,{day:u,isDaySelected:s??!1,isDayDisabled:t??!1,isDayCurrent:a??!1,isDayOutsideMonth:l??!1,isDayStartOfWeek:g.isSameDay(u,g.startOfWeek(u)),isDayEndOfWeek:g.isSameDay(u,g.endOfWeek(u)),disableMargin:d??!1,disableHighlightToday:h??!1,showDaysOutsideCurrentMonth:p??!1}),[g,y,u,s,t,a,l,d,h,p])}const mz=["autoFocus","className","classes","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","children","isFirstVisibleCell","isLastVisibleCell","day","selected","disabled","today","outsideCurrentMonth","disableMargin","disableHighlightToday","showDaysOutsideCurrentMonth"],gz=(e,t)=>{const{isDaySelected:s,isDayDisabled:a,isDayCurrent:l,isDayOutsideMonth:u,disableMargin:d,disableHighlightToday:h,showDaysOutsideCurrentMonth:p}=t,g=u&&!p;return mn({root:["root",s&&!g&&"selected",a&&"disabled",!d&&"dayWithMargin",!h&&l&&"today",u&&p&&"dayOutsideMonth",g&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},pz,e)},ED=({theme:e})=>K({},e.typography.caption,{width:Wc,height:Wc,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Go(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:Go(e.palette.primary.main,e.palette.action.focusOpacity),[`&.${cr.selected}`]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${cr.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${cr.disabled}:not(.${cr.selected})`]:{color:(e.vars||e).palette.text.disabled},[`&.${cr.disabled}&.${cr.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${Ah}px`}},{props:{isDayOutsideMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(e.vars||e).palette.text.secondary}},{props:{disableHighlightToday:!1,isDayCurrent:!0},style:{[`&:not(.${cr.selected})`]:{border:`1px solid ${(e.vars||e).palette.text.secondary}`}}}]}),MD=(e,t)=>{const{ownerState:s}=e;return[t.root,!s.disableMargin&&t.dayWithMargin,!s.disableHighlightToday&&s.isDayCurrent&&t.today,!s.isDayOutsideMonth&&s.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,s.isDayOutsideMonth&&!s.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},yz=Ke(I2,{name:"MuiPickersDay",slot:"Root",overridesResolver:MD})(ED),xz=Ke("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:MD})(({theme:e})=>K({},ED({theme:e}),{opacity:0,pointerEvents:"none"})),ac=()=>{},bz=x.forwardRef(function(t,s){const a=cn({props:t,name:"MuiPickersDay"}),{autoFocus:l=!1,className:u,classes:d,isAnimating:h,onClick:p,onDaySelect:g,onFocus:y=ac,onBlur:b=ac,onKeyDown:v=ac,onMouseDown:S=ac,onMouseEnter:j=ac,children:k,day:w,selected:T,disabled:D,today:A,outsideCurrentMonth:W,disableMargin:P,disableHighlightToday:O,showDaysOutsideCurrentMonth:_}=a,N=dt(a,mz),I=DD({day:w,selected:T,disabled:D,today:A,outsideCurrentMonth:W,disableMargin:P,disableHighlightToday:O,showDaysOutsideCurrentMonth:_}),H=gz(d,I),V=qt(),B=x.useRef(null),de=fs(B,s);qi(()=>{l&&!D&&!h&&!W&&B.current.focus()},[l,D,h,W]);const q=z=>{S(z),W&&z.preventDefault()},ae=z=>{z.defaultMuiPrevented=!0,D||g(w),W&&z.currentTarget.focus(),p&&p(z)};return W&&!_?r.jsx(xz,{className:Hn(H.root,H.hiddenDaySpacingFiller,u),ownerState:I,role:N.role}):r.jsx(yz,K({className:Hn(H.root,u),ref:de,centerRipple:!0,disabled:D,tabIndex:T?0:-1,onKeyDown:z=>v(z,w),onFocus:z=>y(z,w),onBlur:z=>b(z,w),onMouseEnter:z=>j(z,w),onClick:ae,onMouseDown:q},N,{ownerState:I,children:k??V.format(w,"dayOfMonth")}))}),vz=x.memo(bz),Sz=e=>_n("MuiPickersSlideTransition",e),Ls=In("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),wz=["children","className","reduceAnimations","slideDirection","transKey","classes"],Cz=(e,t)=>{const{slideDirection:s}=t,a={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${s}`],exitActive:[`slideExitActiveLeft-${s}`]};return mn(a,Sz,e)},Tz=Ke(MC,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`.${Ls["slideEnter-left"]}`]:t["slideEnter-left"]},{[`.${Ls["slideEnter-right"]}`]:t["slideEnter-right"]},{[`.${Ls.slideEnterActive}`]:t.slideEnterActive},{[`.${Ls.slideExit}`]:t.slideExit},{[`.${Ls["slideExitActiveLeft-left"]}`]:t["slideExitActiveLeft-left"]},{[`.${Ls["slideExitActiveLeft-right"]}`]:t["slideExitActiveLeft-right"]}]})(({theme:e})=>{const t=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Ls["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Ls["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Ls.slideEnterActive}`]:{transform:"translate(0%)",transition:t},[`& .${Ls.slideExit}`]:{transform:"translate(0%)"},[`& .${Ls["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:t,zIndex:0},[`& .${Ls["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:t,zIndex:0}}});function kz(e){const t=cn({props:e,name:"MuiPickersSlideTransition"}),{children:s,className:a,reduceAnimations:l,slideDirection:u,transKey:d,classes:h}=t,p=dt(t,wz),{ownerState:g}=qn(),y=K({},g,{slideDirection:u}),b=Cz(h,y),v=el();if(l)return r.jsx("div",{className:Hn(b.root,a),children:s});const S={exit:b.exit,enterActive:b.enterActive,enter:b.enter,exitActive:b.exitActive};return r.jsx(Tz,{className:Hn(b.root,a),childFactory:j=>x.cloneElement(j,{classNames:S}),role:"presentation",ownerState:y,children:r.jsx(W2,K({mountOnEnter:!0,unmountOnExit:!0,timeout:v.transitions.duration.complex,classNames:S},p,{children:s}),d)})}const jz=e=>_n("MuiDayCalendar",e);In("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const Dz=["parentProps","day","focusedDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],Ez=["ownerState"],Mz=e=>mn({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},jz,e),AD=(Wc+Ah*2)*6,Az=Ke("div",{name:"MuiDayCalendar",slot:"Root"})({}),Pz=Ke("div",{name:"MuiDayCalendar",slot:"Header"})({display:"flex",justifyContent:"center",alignItems:"center"}),Oz=Ke(R,{name:"MuiDayCalendar",slot:"WeekDayLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),Rz=Ke(R,{name:"MuiDayCalendar",slot:"WeekNumberLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.disabled})),_z=Ke(R,{name:"MuiDayCalendar",slot:"WeekNumber"})(({theme:e})=>K({},e.typography.caption,{width:Wc,height:Wc,padding:0,margin:`0 ${Ah}px`,color:(e.vars||e).palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),Iz=Ke("div",{name:"MuiDayCalendar",slot:"LoadingContainer"})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:AD}),Wz=Ke(kz,{name:"MuiDayCalendar",slot:"SlideTransition"})({minHeight:AD}),Nz=Ke("div",{name:"MuiDayCalendar",slot:"MonthContainer"})({overflow:"hidden"}),Lz=Ke("div",{name:"MuiDayCalendar",slot:"WeekContainer"})({margin:`${Ah}px 0`,display:"flex",justifyContent:"center"});function Bz(e){let{parentProps:t,day:s,focusedDay:a,selectedDays:l,isDateDisabled:u,currentMonthNumber:d,isViewFocused:h}=e,p=dt(e,Dz);const{disabled:g,disableHighlightToday:y,isMonthSwitchingAnimating:b,showDaysOutsideCurrentMonth:v,slots:S,slotProps:j,timezone:k}=t,w=qt(),T=Mh(k),D=a!=null&&w.isSameDay(s,a),A=h&&D,W=l.some(q=>w.isSameDay(q,s)),P=w.isSameDay(s,T),O=x.useMemo(()=>g||u(s),[g,u,s]),_=x.useMemo(()=>w.getMonth(s)!==d,[w,s,d]),N=DD({day:s,selected:W,disabled:O,today:P,outsideCurrentMonth:_,disableMargin:void 0,disableHighlightToday:y,showDaysOutsideCurrentMonth:v}),I=S?.day??vz,H=Rt({elementType:I,externalSlotProps:j?.day,additionalProps:K({disableHighlightToday:y,showDaysOutsideCurrentMonth:v,role:"gridcell",isAnimating:b,"data-timestamp":w.toJsDate(s).valueOf()},p),ownerState:K({},N,{day:s,isDayDisabled:O,isDaySelected:W})}),V=dt(H,Ez),B=x.useMemo(()=>{const q=w.startOfMonth(w.setMonth(s,d));return v?w.isSameDay(s,w.startOfWeek(q)):w.isSameDay(s,q)},[d,s,v,w]),de=x.useMemo(()=>{const q=w.endOfMonth(w.setMonth(s,d));return v?w.isSameDay(s,w.endOfWeek(q)):w.isSameDay(s,q)},[d,s,v,w]);return r.jsx(I,K({},V,{day:s,disabled:O,autoFocus:!_&&A,today:P,outsideCurrentMonth:_,isFirstVisibleCell:B,isLastVisibleCell:de,selected:W,tabIndex:D?0:-1,"aria-selected":W,"aria-current":P?"date":void 0}))}function Vz(e){const t=cn({props:e,name:"MuiDayCalendar"}),s=qt(),{onFocusedDayChange:a,className:l,classes:u,currentMonth:d,selectedDays:h,focusedDay:p,loading:g,onSelectedDaysChange:y,onMonthSwitchingAnimationEnd:b,readOnly:v,reduceAnimations:S,renderLoading:j=()=>r.jsx("span",{children:"..."}),slideDirection:k,TransitionProps:w,disablePast:T,disableFuture:D,minDate:A,maxDate:W,shouldDisableDate:P,shouldDisableMonth:O,shouldDisableYear:_,dayOfWeekFormatter:N=le=>s.format(le,"weekdayShort").charAt(0).toUpperCase(),hasFocus:I,onFocusedViewChange:H,gridLabelId:V,displayWeekNumber:B,fixedWeekNumber:de,timezone:q}=t,ae=Mh(q),z=Mz(u),U=Ki(),ue=kD({shouldDisableDate:P,shouldDisableMonth:O,shouldDisableYear:_,minDate:A,maxDate:W,disablePast:T,disableFuture:D,timezone:q}),fe=Ba(),Ce=He(le=>{v||y(le)}),we=le=>{ue(le)||(a(le),H?.(!0))},Q=He((le,ye)=>{switch(le.key){case"ArrowUp":we(s.addDays(ye,-7)),le.preventDefault();break;case"ArrowDown":we(s.addDays(ye,7)),le.preventDefault();break;case"ArrowLeft":{const Pe=s.addDays(ye,U?1:-1),pe=s.addMonths(ye,U?1:-1),te=Ic({adapter:s,date:Pe,minDate:U?Pe:s.startOfMonth(pe),maxDate:U?s.endOfMonth(pe):Pe,isDateDisabled:ue,timezone:q});we(te||Pe),le.preventDefault();break}case"ArrowRight":{const Pe=s.addDays(ye,U?-1:1),pe=s.addMonths(ye,U?-1:1),te=Ic({adapter:s,date:Pe,minDate:U?s.startOfMonth(pe):Pe,maxDate:U?Pe:s.endOfMonth(pe),isDateDisabled:ue,timezone:q});we(te||Pe),le.preventDefault();break}case"Home":we(s.startOfWeek(ye)),le.preventDefault();break;case"End":we(s.endOfWeek(ye)),le.preventDefault();break;case"PageUp":we(s.addMonths(ye,1)),le.preventDefault();break;case"PageDown":we(s.addMonths(ye,-1)),le.preventDefault();break}}),J=He((le,ye)=>we(ye)),he=He((le,ye)=>{p!=null&&s.isSameDay(p,ye)&&H?.(!1)}),be=s.getMonth(d),ge=s.getYear(d),ie=x.useMemo(()=>h.filter(le=>!!le).map(le=>s.startOfDay(le)),[s,h]),Y=`${ge}-${be}`,oe=x.useMemo(()=>x.createRef(),[Y]),$=x.useMemo(()=>{const le=s.getWeekArray(d);let ye=s.addMonths(d,1);for(;de&&le.length<de;){const Pe=s.getWeekArray(ye),pe=s.isSameDay(le[le.length-1][0],Pe[0][0]);Pe.slice(pe?1:0).forEach(te=>{le.length<de&&le.push(te)}),ye=s.addMonths(ye,1)}return le},[d,de,s]);return r.jsxs(Az,{role:"grid","aria-labelledby":V,className:z.root,children:[r.jsxs(Pz,{role:"row",className:z.header,children:[B&&r.jsx(Rz,{variant:"caption",role:"columnheader","aria-label":fe.calendarWeekNumberHeaderLabel,className:z.weekNumberLabel,children:fe.calendarWeekNumberHeaderText}),g6(s,ae).map((le,ye)=>r.jsx(Oz,{variant:"caption",role:"columnheader","aria-label":s.format(le,"weekday"),className:z.weekDayLabel,children:N(le)},ye.toString()))]}),g?r.jsx(Iz,{className:z.loadingContainer,children:j()}):r.jsx(Wz,K({transKey:Y,onExited:b,reduceAnimations:S,slideDirection:k,className:Hn(l,z.slideTransition)},w,{nodeRef:oe,children:r.jsx(Nz,{ref:oe,role:"rowgroup",className:z.monthContainer,children:$.map((le,ye)=>r.jsxs(Lz,{role:"row",className:z.weekContainer,"aria-rowindex":ye+1,children:[B&&r.jsx(_z,{className:z.weekNumber,role:"rowheader","aria-label":fe.calendarWeekNumberAriaLabelText(s.getWeekNumber(le[0])),children:fe.calendarWeekNumberText(s.getWeekNumber(le[0]))}),le.map((Pe,pe)=>r.jsx(Bz,{parentProps:t,day:Pe,selectedDays:ie,isViewFocused:I,focusedDay:p,onKeyDown:Q,onFocus:J,onBlur:he,onDaySelect:Ce,isDateDisabled:ue,currentMonthNumber:be,"aria-colindex":pe+1},Pe.toString()))]},`week-${le[0]}`))})}))]})}function PD(e){return _n("MuiMonthCalendar",e)}const Td=In("MuiMonthCalendar",["root","button","disabled","selected"]),zz=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],Fz=(e,t)=>{const s={button:["button",t.isMonthDisabled&&"disabled",t.isMonthSelected&&"selected"]};return mn(s,PD,e)},Hz=Ke("button",{name:"MuiMonthCalendar",slot:"Button",overridesResolver:(e,t)=>[t.button,{[`&.${Td.disabled}`]:t.disabled},{[`&.${Td.selected}`]:t.selected}]})(({theme:e})=>K({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Go(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Go(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Td.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${Td.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),Uz=x.memo(function(t){const{autoFocus:s,classes:a,disabled:l,selected:u,value:d,onClick:h,onKeyDown:p,onFocus:g,onBlur:y,slots:b,slotProps:v}=t,S=dt(t,zz),j=x.useRef(null),{ownerState:k}=qn(),w=K({},k,{isMonthDisabled:l,isMonthSelected:u}),T=Fz(a,w);qi(()=>{s&&j.current?.focus()},[s]);const D=b?.monthButton??Hz,A=Rt({elementType:D,externalSlotProps:v?.monthButton,externalForwardedProps:S,additionalProps:{disabled:l,ref:j,type:"button",role:"radio","aria-checked":u,onClick:W=>h(W,d),onKeyDown:W=>p(W,d),onFocus:W=>g(W,d),onBlur:W=>y(W,d)},ownerState:w,className:T.button});return r.jsx(D,K({},A))}),qz=["autoFocus","className","currentMonth","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],Yz=e=>mn({root:["root"]},PD,e);function Gz(e,t){const s=cn({props:e,name:t}),a=eu(s);return K({},s,a,{monthsPerRow:s.monthsPerRow??3})}const R1=(e,t,s,a,l)=>!!(e===t&&a&&l.isSameYear(s,a)),$z=Ke("div",{name:"MuiMonthCalendar",slot:"Root",shouldForwardProp:e=>Dr(e)&&e!=="monthsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:16,padding:"8px 0",width:Ph,boxSizing:"border-box",variants:[{props:{monthsPerRow:3},style:{columnGap:24}},{props:{monthsPerRow:4},style:{columnGap:0}}]}),Kz=x.forwardRef(function(t,s){const a=Gz(t,"MuiMonthCalendar"),{autoFocus:l,className:u,currentMonth:d,classes:h,value:p,defaultValue:g,referenceDate:y,disabled:b,disableFuture:v,disablePast:S,maxDate:j,minDate:k,onChange:w,shouldDisableMonth:T,readOnly:D,onMonthFocus:A,hasFocus:W,onFocusedViewChange:P,monthsPerRow:O,timezone:_,gridLabelId:N,slots:I,slotProps:H}=a,V=dt(a,qz),{value:B,handleValueChange:de,timezone:q}=tu({name:"MonthCalendar",timezone:_,value:p,defaultValue:g,referenceDate:y,onChange:w,valueManager:yi}),ae=Mh(q),z=Ki(),U=qt(),{ownerState:ue}=qn(),fe=x.useMemo(()=>yi.getInitialReferenceValue({value:B,adapter:U,props:a,timezone:q,referenceDate:y,granularity:ci.month}),[]),Ce=Yz(h),we=x.useMemo(()=>U.getMonth(ae),[U,ae]),Q=x.useMemo(()=>B!=null?U.getMonth(B):null,[B,U]),[J,he]=x.useState(()=>Q||U.getMonth(fe)),[be,ge]=Yo({name:"MonthCalendar",state:"hasFocus",controlled:W,default:l??!1}),ie=He(pe=>{ge(pe),P&&P(pe)}),Y=x.useCallback(pe=>{const te=U.startOfMonth(S&&U.isAfter(ae,k)?ae:k),ee=U.startOfMonth(v&&U.isBefore(ae,j)?ae:j),Ne=U.startOfMonth(pe);return U.isBefore(Ne,te)||U.isAfter(Ne,ee)?!0:T?T(Ne):!1},[v,S,j,k,ae,T,U]),oe=He((pe,te)=>{if(D)return;const ee=B&&d&&!U.isSameYear(B,d)?U.setYear(B,U.getYear(d)):B,Ne=U.setMonth(ee??fe,te);de(Ne)}),$=He(pe=>{Y(U.setMonth(B??d??fe,pe))||(he(pe),ie(!0),A&&A(pe))});x.useEffect(()=>{he(pe=>Q!==null&&pe!==Q?Q:pe)},[Q]);const le=He((pe,te)=>{switch(pe.key){case"ArrowUp":$((12+te-3)%12),pe.preventDefault();break;case"ArrowDown":$((12+te+3)%12),pe.preventDefault();break;case"ArrowLeft":$((12+te+(z?1:-1))%12),pe.preventDefault();break;case"ArrowRight":$((12+te+(z?-1:1))%12),pe.preventDefault();break}}),ye=He((pe,te)=>{$(te)}),Pe=He((pe,te)=>{J===te&&ie(!1)});return r.jsx($z,K({ref:s,className:Hn(Ce.root,u),ownerState:ue,role:"radiogroup","aria-labelledby":N,monthsPerRow:O},V,{children:$y(U,d??B??fe).map(pe=>{const te=U.getMonth(pe),ee=U.format(pe,"monthShort"),Ne=U.format(pe,"month"),ot=R1(te,Q,pe,B,U),Ie=b||Y(pe);return r.jsx(Uz,{selected:ot,value:te,onClick:oe,onKeyDown:le,autoFocus:be&&te===J,disabled:Ie,tabIndex:te===J&&!Ie?0:-1,onFocus:ye,onBlur:Pe,"aria-current":R1(te,we,pe,ae,U)?"date":void 0,"aria-label":Ne,slots:I,slotProps:H,classes:h,children:ee},ee)})}))});function OD(e){return _n("MuiYearCalendar",e)}const kd=In("MuiYearCalendar",["root","button","disabled","selected"]),Qz=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],Xz=(e,t)=>{const s={button:["button",t.isYearDisabled&&"disabled",t.isYearSelected&&"selected"]};return mn(s,OD,e)},Zz=Ke("button",{name:"MuiYearCalendar",slot:"Button",overridesResolver:(e,t)=>[t.button,{[`&.${kd.disabled}`]:t.disabled},{[`&.${kd.selected}`]:t.selected}]})(({theme:e})=>K({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.focusOpacity})`:Go(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Go(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${kd.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${kd.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),Jz=x.memo(function(t){const{autoFocus:s,classes:a,disabled:l,selected:u,value:d,onClick:h,onKeyDown:p,onFocus:g,onBlur:y,slots:b,slotProps:v}=t,S=dt(t,Qz),j=x.useRef(null),{ownerState:k}=qn(),w=K({},k,{isYearDisabled:l,isYearSelected:u}),T=Xz(a,w);qi(()=>{s&&j.current?.focus()},[s]);const D=b?.yearButton??Zz,A=Rt({elementType:D,externalSlotProps:v?.yearButton,externalForwardedProps:S,additionalProps:{disabled:l,ref:j,type:"button",role:"radio","aria-checked":u,onClick:W=>h(W,d),onKeyDown:W=>p(W,d),onFocus:W=>g(W,d),onBlur:W=>y(W,d)},ownerState:w,className:T.button});return r.jsx(D,K({},A))}),eF=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsOrder","yearsPerRow","timezone","gridLabelId","slots","slotProps"],tF=e=>mn({root:["root"]},OD,e);function nF(e,t){const s=cn({props:e,name:t}),a=eu(s);return K({},s,a,{yearsPerRow:s.yearsPerRow??3,yearsOrder:s.yearsOrder??"asc"})}const sF=Ke("div",{name:"MuiYearCalendar",slot:"Root",shouldForwardProp:e=>Dr(e)&&e!=="yearsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:12,padding:"6px 0",overflowY:"auto",height:"100%",width:Ph,maxHeight:PB,boxSizing:"border-box",position:"relative",variants:[{props:{yearsPerRow:3},style:{columnGap:24}},{props:{yearsPerRow:4},style:{columnGap:0,padding:"0 2px"}}]}),iF=Ke("div",{name:"MuiYearCalendar",slot:"ButtonFiller"})({height:36,width:72}),aF=x.forwardRef(function(t,s){const a=nF(t,"MuiYearCalendar"),{autoFocus:l,className:u,classes:d,value:h,defaultValue:p,referenceDate:g,disabled:y,disableFuture:b,disablePast:v,maxDate:S,minDate:j,onChange:k,readOnly:w,shouldDisableYear:T,onYearFocus:D,hasFocus:A,onFocusedViewChange:W,yearsOrder:P,yearsPerRow:O,timezone:_,gridLabelId:N,slots:I,slotProps:H}=a,V=dt(a,eF),{value:B,handleValueChange:de,timezone:q}=tu({name:"YearCalendar",timezone:_,value:h,defaultValue:p,referenceDate:g,onChange:k,valueManager:yi}),ae=Mh(q),z=Ki(),U=qt(),{ownerState:ue}=qn(),fe=x.useMemo(()=>yi.getInitialReferenceValue({value:B,adapter:U,props:a,timezone:q,referenceDate:g,granularity:ci.year}),[]),Ce=tF(d),we=x.useMemo(()=>U.getYear(ae),[U,ae]),Q=x.useMemo(()=>B!=null?U.getYear(B):null,[B,U]),[J,he]=x.useState(()=>Q||U.getYear(fe)),[be,ge]=Yo({name:"YearCalendar",state:"hasFocus",controlled:A,default:l??!1}),ie=He(ke=>{ge(ke),W&&W(ke)}),Y=x.useCallback(ke=>{if(v&&U.isBeforeYear(ke,ae)||b&&U.isAfterYear(ke,ae)||j&&U.isBeforeYear(ke,j)||S&&U.isAfterYear(ke,S))return!0;if(!T)return!1;const We=U.startOfYear(ke);return T(We)},[b,v,S,j,ae,T,U]),oe=He((ke,We)=>{if(w)return;const X=U.setYear(B??fe,We);de(X)}),$=He(ke=>{Y(U.setYear(B??fe,ke))||(he(ke),ie(!0),D?.(ke))});x.useEffect(()=>{he(ke=>Q!==null&&ke!==Q?Q:ke)},[Q]);const le=P!=="desc"?O*1:O*-1,ye=z&&P==="asc"||!z&&P==="desc"?-1:1,Pe=He((ke,We)=>{switch(ke.key){case"ArrowUp":$(We-le),ke.preventDefault();break;case"ArrowDown":$(We+le),ke.preventDefault();break;case"ArrowLeft":$(We-ye),ke.preventDefault();break;case"ArrowRight":$(We+ye),ke.preventDefault();break}}),pe=He((ke,We)=>{$(We)}),te=He((ke,We)=>{J===We&&ie(!1)}),ee=x.useRef(null),Ne=fs(s,ee);x.useEffect(()=>{if(l||ee.current===null)return;const ke=ee.current.querySelector('[tabindex="0"]');if(!ke)return;const We=ke.offsetHeight,X=ke.offsetTop,je=ee.current.clientHeight,De=ee.current.scrollTop,Me=X+We;We>je||X<De||(ee.current.scrollTop=Me-je/2-We/2)},[l]);const ot=U.getYearRange([j,S]);P==="desc"&&ot.reverse();let Ie=O-ot.length%O;return Ie===O&&(Ie=0),r.jsxs(sF,K({ref:Ne,className:Hn(Ce.root,u),ownerState:ue,role:"radiogroup","aria-labelledby":N,yearsPerRow:O},V,{children:[ot.map(ke=>{const We=U.getYear(ke),X=We===Q,je=y||Y(ke);return r.jsx(Jz,{selected:X,value:We,onClick:oe,onKeyDown:Pe,autoFocus:be&&We===J,disabled:je,tabIndex:We===J&&!je?0:-1,onFocus:pe,onBlur:te,"aria-current":we===We?"date":void 0,slots:I,slotProps:H,classes:d,children:U.format(ke,"year")},U.format(ke,"year"))}),Array.from({length:Ie},(ke,We)=>r.jsx(iF,{},We))]}))}),rF=e=>_n("MuiPickersCalendarHeader",e),oF=In("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]);function lF(e){return _n("MuiPickersArrowSwitcher",e)}In("MuiPickersArrowSwitcher",["root","spacer","button","previousIconButton","nextIconButton","leftArrowIcon","rightArrowIcon"]);const cF=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId","classes"],uF=["ownerState"],dF=["ownerState"],hF=Ke("div",{name:"MuiPickersArrowSwitcher",slot:"Root"})({display:"flex"}),fF=Ke("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer"})(({theme:e})=>({width:e.spacing(3)})),_1=Ke(Xe,{name:"MuiPickersArrowSwitcher",slot:"Button"})({variants:[{props:{isButtonHidden:!0},style:{visibility:"hidden"}}]}),pF=e=>mn({root:["root"],spacer:["spacer"],button:["button"],previousIconButton:["previousIconButton"],nextIconButton:["nextIconButton"],leftArrowIcon:["leftArrowIcon"],rightArrowIcon:["rightArrowIcon"]},lF,e),mF=x.forwardRef(function(t,s){const a=Ki(),l=cn({props:t,name:"MuiPickersArrowSwitcher"}),{children:u,className:d,slots:h,slotProps:p,isNextDisabled:g,isNextHidden:y,onGoToNext:b,nextLabel:v,isPreviousDisabled:S,isPreviousHidden:j,onGoToPrevious:k,previousLabel:w,labelId:T,classes:D}=l,A=dt(l,cF),{ownerState:W}=qn(),P=pF(D),O={isDisabled:g,isHidden:y,goTo:b,label:v},_={isDisabled:S,isHidden:j,goTo:k,label:w},N=h?.previousIconButton??_1,I=Rt({elementType:N,externalSlotProps:p?.previousIconButton,additionalProps:{size:"medium",title:_.label,"aria-label":_.label,disabled:_.isDisabled,edge:"end",onClick:_.goTo},ownerState:K({},W,{isButtonHidden:_.isHidden??!1}),className:Hn(P.button,P.previousIconButton)}),H=h?.nextIconButton??_1,V=Rt({elementType:H,externalSlotProps:p?.nextIconButton,additionalProps:{size:"medium",title:O.label,"aria-label":O.label,disabled:O.isDisabled,edge:"start",onClick:O.goTo},ownerState:K({},W,{isButtonHidden:O.isHidden??!1}),className:Hn(P.button,P.nextIconButton)}),B=h?.leftArrowIcon??oV,de=Rt({elementType:B,externalSlotProps:p?.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:W,className:P.leftArrowIcon}),q=dt(de,uF),ae=h?.rightArrowIcon??lV,z=Rt({elementType:ae,externalSlotProps:p?.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:W,className:P.rightArrowIcon}),U=dt(z,dF);return r.jsxs(hF,K({ref:s,className:Hn(P.root,d),ownerState:W},A,{children:[r.jsx(N,K({},I,{children:a?r.jsx(ae,K({},U)):r.jsx(B,K({},q))})),u?r.jsx(R,{variant:"subtitle1",component:"span",id:T,children:u}):r.jsx(fF,{className:P.spacer,ownerState:W}),r.jsx(H,K({},V,{children:a?r.jsx(B,K({},q)):r.jsx(ae,K({},U))}))]}))});function gF(e,{disableFuture:t,maxDate:s,timezone:a}){const l=qt();return x.useMemo(()=>{const u=l.date(void 0,a),d=l.startOfMonth(t&&l.isBefore(u,s)?u:s);return!l.isAfter(d,e)},[t,s,e,l,a])}function yF(e,{disablePast:t,minDate:s,timezone:a}){const l=qt();return x.useMemo(()=>{const u=l.date(void 0,a),d=l.startOfMonth(t&&l.isAfter(u,s)?u:s);return!l.isBefore(d,e)},[t,s,e,l,a])}const xF=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","classes","timezone","format"],bF=["ownerState"],vF=e=>mn({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},rF,e),SF=Ke("div",{name:"MuiPickersCalendarHeader",slot:"Root"})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),wF=Ke("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer"})(({theme:e})=>K({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),CF=Ke("div",{name:"MuiPickersCalendarHeader",slot:"Label"})({marginRight:6}),TF=Ke(Xe,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton"})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${oF.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),kF=Ke(rV,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon"})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"})),jF=x.forwardRef(function(t,s){const a=Ba(),l=qt(),u=cn({props:t,name:"MuiPickersCalendarHeader"}),{slots:d,slotProps:h,currentMonth:p,disabled:g,disableFuture:y,disablePast:b,maxDate:v,minDate:S,onMonthChange:j,onViewChange:k,view:w,reduceAnimations:T,views:D,labelId:A,className:W,classes:P,timezone:O,format:_=`${l.formats.month} ${l.formats.year}`}=u,N=dt(u,xF),{ownerState:I}=qn(),H=vF(P),V=d?.switchViewButton??TF,B=Rt({elementType:V,externalSlotProps:h?.switchViewButton,additionalProps:{size:"small","aria-label":a.calendarViewSwitchingButtonAriaLabel(w)},ownerState:K({},I,{view:w}),className:H.switchViewButton}),de=d?.switchViewIcon??kF,q=Rt({elementType:de,externalSlotProps:h?.switchViewIcon,ownerState:I,className:H.switchViewIcon}),ae=dt(q,bF),z=()=>j(l.addMonths(p,1)),U=()=>j(l.addMonths(p,-1)),ue=gF(p,{disableFuture:y,maxDate:v,timezone:O}),fe=yF(p,{disablePast:b,minDate:S,timezone:O}),Ce=()=>{if(!(D.length===1||!k||g))if(D.length===2)k(D.find(Q=>Q!==w)||D[0]);else{const Q=D.indexOf(w)!==0?0:1;k(D[Q])}};if(D.length===1&&D[0]==="year")return null;const we=l.formatByString(p,_);return r.jsxs(SF,K({},N,{ownerState:I,className:Hn(H.root,W),ref:s,children:[r.jsxs(wF,{role:"presentation",onClick:Ce,ownerState:I,"aria-live":"polite",className:H.labelContainer,children:[r.jsx(jD,{reduceAnimations:T,transKey:we,children:r.jsx(CF,{id:A,ownerState:I,className:H.label,children:we})}),D.length>1&&!g&&r.jsx(V,K({},B,{children:r.jsx(de,K({},ae))}))]}),r.jsx(ph,{in:w==="day",appear:!T,enter:!T,children:r.jsx(mF,{slots:d,slotProps:h,onGoToPrevious:U,isPreviousDisabled:fe,previousLabel:a.previousMonth,onGoToNext:z,isNextDisabled:ue,nextLabel:a.nextMonth})})]}))}),DF=Ke("div")({overflow:"hidden",width:Ph,maxHeight:nx,display:"flex",flexDirection:"column",margin:"0 auto"}),EF=e=>_n("MuiDateCalendar",e);In("MuiDateCalendar",["root","viewTransitionContainer"]);const MF=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","classes","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsOrder","yearsPerRow","monthsPerRow","timezone"],AF=e=>mn({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},EF,e);function PF(e,t){const s=cn({props:e,name:t}),a=iD(s.reduceAnimations),l=eu(s);return K({},s,l,{loading:s.loading??!1,openTo:s.openTo??"day",views:s.views??["year","day"],reduceAnimations:a,renderLoading:s.renderLoading??(()=>r.jsx("span",{children:"..."}))})}const OF=Ke(DF,{name:"MuiDateCalendar",slot:"Root"})({display:"flex",flexDirection:"column",height:nx}),RF=Ke(jD,{name:"MuiDateCalendar",slot:"ViewTransitionContainer"})({}),_F=x.forwardRef(function(t,s){const a=qt(),{ownerState:l}=qn(),u=Ig(),d=PF(t,"MuiDateCalendar"),{autoFocus:h,onViewChange:p,value:g,defaultValue:y,referenceDate:b,disableFuture:v,disablePast:S,onChange:j,onMonthChange:k,reduceAnimations:w,shouldDisableDate:T,shouldDisableMonth:D,shouldDisableYear:A,view:W,views:P,openTo:O,className:_,classes:N,disabled:I,readOnly:H,minDate:V,maxDate:B,disableHighlightToday:de,focusedView:q,onFocusedViewChange:ae,showDaysOutsideCurrentMonth:z,fixedWeekNumber:U,dayOfWeekFormatter:ue,slots:fe,slotProps:Ce,loading:we,renderLoading:Q,displayWeekNumber:J,yearsOrder:he,yearsPerRow:be,monthsPerRow:ge,timezone:ie}=d,Y=dt(d,MF),{value:oe,handleValueChange:$,timezone:le}=tu({name:"DateCalendar",timezone:ie,value:g,defaultValue:y,referenceDate:b,onChange:j,valueManager:yi}),{view:ye,setView:Pe,focusedView:pe,setFocusedView:te,goToNextView:ee,setValueAndGoToNextView:Ne}=rD({view:W,views:P,openTo:O,onChange:$,onViewChange:p,autoFocus:h,focusedView:q,onFocusedViewChange:ae}),{referenceDate:ot,calendarState:Ie,setVisibleDate:ke,isDateDisabled:We,onMonthSwitchingAnimationEnd:X}=cz({value:oe,referenceDate:b,reduceAnimations:w,onMonthChange:k,minDate:V,maxDate:B,shouldDisableDate:T,disablePast:S,disableFuture:v,timezone:le,getCurrentMonthFromVisibleDate:(it,Dt)=>a.isSameMonth(it,Dt)?Dt:a.startOfMonth(it)}),je=I&&oe||V,De=I&&oe||B,Me=`${u}-grid-label`,Le=pe!==null,Ue=fe?.calendarHeader??jF,ft=Rt({elementType:Ue,externalSlotProps:Ce?.calendarHeader,additionalProps:{views:P,view:ye,currentMonth:Ie.currentMonth,onViewChange:Pe,onMonthChange:it=>ke({target:it,reason:"header-navigation"}),minDate:je,maxDate:De,disabled:I,disablePast:S,disableFuture:v,reduceAnimations:w,timezone:le,labelId:Me},ownerState:l}),qe=He(it=>{const Dt=a.startOfMonth(it),zt=a.endOfMonth(it),en=We(it)?Ic({adapter:a,date:it,minDate:a.isBefore(V,Dt)?Dt:V,maxDate:a.isAfter(B,zt)?zt:B,disablePast:S,disableFuture:v,isDateDisabled:We,timezone:le}):it;en?(Ne(en,"finish"),ke({target:en,reason:"cell-interaction"})):(ee(),ke({target:Dt,reason:"cell-interaction"}))}),Qe=He(it=>{const Dt=a.startOfYear(it),zt=a.endOfYear(it),en=We(it)?Ic({adapter:a,date:it,minDate:a.isBefore(V,Dt)?Dt:V,maxDate:a.isAfter(B,zt)?zt:B,disablePast:S,disableFuture:v,isDateDisabled:We,timezone:le}):it;en?(Ne(en,"finish"),ke({target:en,reason:"cell-interaction"})):(ee(),ke({target:Dt,reason:"cell-interaction"}))}),Ee=He(it=>$(it&&oh(a,it,oe??ot),"finish",ye));x.useEffect(()=>{a.isValid(oe)&&ke({target:oe,reason:"controlled-value-change"})},[oe]);const Re=AF(N),Ve={disablePast:S,disableFuture:v,maxDate:B,minDate:V},Oe={disableHighlightToday:de,readOnly:H,disabled:I,timezone:le,gridLabelId:Me,slots:fe,slotProps:Ce},Fe=x.useRef(ye);x.useEffect(()=>{Fe.current!==ye&&(pe===Fe.current&&te(ye,!0),Fe.current=ye)},[pe,te,ye]);const rt=x.useMemo(()=>[oe],[oe]);return r.jsxs(OF,K({ref:s,className:Hn(Re.root,_),ownerState:l},Y,{children:[r.jsx(Ue,K({},ft,{slots:fe,slotProps:Ce})),r.jsx(RF,{reduceAnimations:w,className:Re.viewTransitionContainer,transKey:ye,ownerState:l,children:r.jsxs("div",{children:[ye==="year"&&r.jsx(aF,K({},Ve,Oe,{value:oe,onChange:Qe,shouldDisableYear:A,hasFocus:Le,onFocusedViewChange:it=>te("year",it),yearsOrder:he,yearsPerRow:be,referenceDate:ot})),ye==="month"&&r.jsx(Kz,K({},Ve,Oe,{currentMonth:Ie.currentMonth,hasFocus:Le,className:_,value:oe,onChange:qe,shouldDisableMonth:D,onFocusedViewChange:it=>te("month",it),monthsPerRow:ge,referenceDate:ot})),ye==="day"&&r.jsx(Vz,K({},Ie,Ve,Oe,{onMonthSwitchingAnimationEnd:X,hasFocus:Le,onFocusedDayChange:it=>ke({target:it,reason:"cell-interaction"}),reduceAnimations:w,selectedDays:rt,onSelectedDaysChange:Ee,shouldDisableDate:T,shouldDisableMonth:D,shouldDisableYear:A,onFocusedViewChange:it=>te("day",it),showDaysOutsideCurrentMonth:z,fixedWeekNumber:U,dayOfWeekFormatter:ue,displayWeekNumber:J,loading:we,renderLoading:Q}))]})})]}))}),Ho=({view:e,onViewChange:t,views:s,focusedView:a,onFocusedViewChange:l,value:u,defaultValue:d,referenceDate:h,onChange:p,className:g,classes:y,disableFuture:b,disablePast:v,minDate:S,maxDate:j,shouldDisableDate:k,shouldDisableMonth:w,shouldDisableYear:T,reduceAnimations:D,onMonthChange:A,monthsPerRow:W,onYearChange:P,yearsOrder:O,yearsPerRow:_,slots:N,slotProps:I,loading:H,renderLoading:V,disableHighlightToday:B,readOnly:de,disabled:q,showDaysOutsideCurrentMonth:ae,dayOfWeekFormatter:z,sx:U,autoFocus:ue,fixedWeekNumber:fe,displayWeekNumber:Ce,timezone:we})=>r.jsx(_F,{view:e,onViewChange:t,views:s.filter(y1),focusedView:a&&y1(a)?a:null,onFocusedViewChange:l,value:u,defaultValue:d,referenceDate:h,onChange:p,className:g,classes:y,disableFuture:b,disablePast:v,minDate:S,maxDate:j,shouldDisableDate:k,shouldDisableMonth:w,shouldDisableYear:T,reduceAnimations:D,onMonthChange:A,monthsPerRow:W,onYearChange:P,yearsOrder:O,yearsPerRow:_,slots:N,slotProps:I,loading:H,renderLoading:V,disableHighlightToday:B,readOnly:de,disabled:q,showDaysOutsideCurrentMonth:ae,dayOfWeekFormatter:z,sx:U,autoFocus:ue,fixedWeekNumber:fe,displayWeekNumber:Ce,timezone:we}),RD=x.forwardRef(function(t,s){const a=qt(),l=nD(t,"MuiDesktopDatePicker"),u=K({day:Ho,month:Ho,year:Ho},l.viewRenderers),d=K({},l,{closeOnSelect:l.closeOnSelect??!0,viewRenderers:u,format:Ky(a,l,!1),yearsPerRow:l.yearsPerRow??4,slots:K({field:TD},l.slots),slotProps:K({},l.slotProps,{field:p=>K({},hi(l.slotProps?.field,p),Jj(l)),toolbar:K({hidden:!0},l.slotProps?.toolbar)})}),{renderPicker:h}=qB({ref:s,props:d,valueManager:yi,valueType:"date",validator:Jc,steps:null});return h()});RD.propTypes={autoFocus:E.bool,className:E.string,closeOnSelect:E.bool,dayOfWeekFormatter:E.func,defaultValue:E.object,disabled:E.bool,disableFuture:E.bool,disableHighlightToday:E.bool,disableOpenPicker:E.bool,disablePast:E.bool,displayWeekNumber:E.bool,enableAccessibleFieldDOMStructure:E.any,fixedWeekNumber:E.number,format:E.string,formatDensity:E.oneOf(["dense","spacious"]),inputRef:AC,label:E.node,loading:E.bool,localeText:E.object,maxDate:E.object,minDate:E.object,monthsPerRow:E.oneOf([3,4]),name:E.string,onAccept:E.func,onChange:E.func,onClose:E.func,onError:E.func,onMonthChange:E.func,onOpen:E.func,onSelectedSectionsChange:E.func,onViewChange:E.func,onYearChange:E.func,open:E.bool,openTo:E.oneOf(["day","month","year"]),orientation:E.oneOf(["landscape","portrait"]),readOnly:E.bool,reduceAnimations:E.bool,referenceDate:E.object,renderLoading:E.func,selectedSections:E.oneOfType([E.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),E.number]),shouldDisableDate:E.func,shouldDisableMonth:E.func,shouldDisableYear:E.func,showDaysOutsideCurrentMonth:E.bool,slotProps:E.object,slots:E.object,sx:E.oneOfType([E.arrayOf(E.oneOfType([E.func,E.object,E.bool])),E.func,E.object]),timezone:E.string,value:E.object,view:E.oneOf(["day","month","year"]),viewRenderers:E.shape({day:E.func,month:E.func,year:E.func}),views:E.arrayOf(E.oneOf(["day","month","year"]).isRequired),yearsOrder:E.oneOf(["asc","desc"]),yearsPerRow:E.oneOf([3,4])};const IF=Ke(Pn)({[`& .${CS.container}`]:{outline:0},[`& .${CS.paper}`]:{outline:0,minWidth:Ph}}),WF=Ke(On)({"&:first-of-type":{padding:0}});function NF(e){const{children:t,slots:s,slotProps:a}=e,{open:l}=al(),{dismissViews:u,onPopperExited:d}=qn(),h=s?.dialog??IF,p=s?.mobileTransition??ph;return r.jsx(h,K({open:l,onClose:()=>{u(),d?.()}},a?.dialog,{TransitionComponent:p,TransitionProps:a?.mobileTransition,PaperComponent:s?.mobilePaper,PaperProps:a?.mobilePaper,children:r.jsx(WF,{children:t})}))}const LF=["props","steps"],BF=["ownerState"],VF=e=>{let{props:t,steps:s}=e,a=dt(e,LF);const{slots:l,slotProps:u,label:d,inputRef:h,localeText:p}=t,g=uD({steps:s}),{providerProps:y,renderCurrentView:b,ownerState:v}=oD(K({},a,{props:t,localeText:p,autoFocusView:!0,viewContainerRole:"dialog",variant:"mobile",getStepNavigation:g})),S=y.privateContextValue.labelId,j=u?.toolbar?.hidden??!1,k=l.field,w=Rt({elementType:k,externalSlotProps:u?.field,additionalProps:K({},j&&{id:S}),ownerState:v}),T=dt(w,BF),D=l.layout??cD;let A=S;j&&(d?A=`${S}-label`:A=void 0);const W=K({},u,{toolbar:K({},u?.toolbar,{titleId:S}),mobilePaper:K({"aria-labelledby":A},u?.mobilePaper)});return{renderPicker:()=>r.jsxs(Kj,K({},y,{children:[r.jsx(k,K({},T,{slots:l,slotProps:W,inputRef:h})),r.jsx(NF,{slots:l,slotProps:W,children:r.jsx(D,K({},W?.layout,{slots:l,slotProps:W,children:b()}))})]}))}},_D=x.forwardRef(function(t,s){const a=qt(),l=nD(t,"MuiMobileDatePicker"),u=K({day:Ho,month:Ho,year:Ho},l.viewRenderers),d=K({},l,{viewRenderers:u,format:Ky(a,l,!1),slots:K({field:TD},l.slots),slotProps:K({},l.slotProps,{field:p=>K({},hi(l.slotProps?.field,p),Jj(l)),toolbar:K({hidden:!1},l.slotProps?.toolbar)})}),{renderPicker:h}=VF({ref:s,props:d,valueManager:yi,valueType:"date",validator:Jc,steps:null});return h()});_D.propTypes={autoFocus:E.bool,className:E.string,closeOnSelect:E.bool,dayOfWeekFormatter:E.func,defaultValue:E.object,disabled:E.bool,disableFuture:E.bool,disableHighlightToday:E.bool,disableOpenPicker:E.bool,disablePast:E.bool,displayWeekNumber:E.bool,enableAccessibleFieldDOMStructure:E.any,fixedWeekNumber:E.number,format:E.string,formatDensity:E.oneOf(["dense","spacious"]),inputRef:AC,label:E.node,loading:E.bool,localeText:E.object,maxDate:E.object,minDate:E.object,monthsPerRow:E.oneOf([3,4]),name:E.string,onAccept:E.func,onChange:E.func,onClose:E.func,onError:E.func,onMonthChange:E.func,onOpen:E.func,onSelectedSectionsChange:E.func,onViewChange:E.func,onYearChange:E.func,open:E.bool,openTo:E.oneOf(["day","month","year"]),orientation:E.oneOf(["landscape","portrait"]),readOnly:E.bool,reduceAnimations:E.bool,referenceDate:E.object,renderLoading:E.func,selectedSections:E.oneOfType([E.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),E.number]),shouldDisableDate:E.func,shouldDisableMonth:E.func,shouldDisableYear:E.func,showDaysOutsideCurrentMonth:E.bool,slotProps:E.object,slots:E.object,sx:E.oneOfType([E.arrayOf(E.oneOfType([E.func,E.object,E.bool])),E.func,E.object]),timezone:E.string,value:E.object,view:E.oneOf(["day","month","year"]),viewRenderers:E.shape({day:E.func,month:E.func,year:E.func}),views:E.arrayOf(E.oneOf(["day","month","year"]).isRequired),yearsOrder:E.oneOf(["asc","desc"]),yearsPerRow:E.oneOf([3,4])};const zF=["desktopModeMediaQuery"],lh=x.forwardRef(function(t,s){const a=cn({props:t,name:"MuiDatePicker"}),{desktopModeMediaQuery:l=hB}=a,u=dt(a,zF);return _g(l,{defaultMatches:!0})?r.jsx(RD,K({ref:s},u)):r.jsx(_D,K({ref:s},u))}),FF={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},HF={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",dayOfMonthFull:"do",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class UF{isMUIAdapter=!0;isTimezoneCompatible=!1;formatTokenMap=FF;escapedCharacters={start:"'",end:"'"};constructor(t){const{locale:s,formats:a,longFormatters:l,lib:u}=t;this.locale=s,this.formats=K({},HF,a),this.longFormatters=l,this.lib=u||"date-fns"}date=t=>typeof t>"u"?new Date:t===null?null:new Date(t);getInvalidDate=()=>new Date("Invalid Date");getTimezone=()=>"default";setTimezone=t=>t;toJsDate=t=>t;getCurrentLocaleCode=()=>this.locale.code;is12HourCycleInCurrentLocale=()=>/a/.test(this.locale.formatLong.time({width:"short"}));expandFormat=t=>{const s=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return t.match(s).map(a=>{const l=a[0];if(l==="p"||l==="P"){const u=this.longFormatters[l];return u(a,this.locale.formatLong)}return a}).join("")};formatNumber=t=>t;getDayOfWeek=t=>t.getDay()+1}class lx extends UF{constructor({locale:t,formats:s}={}){super({locale:t??ay,formats:s,longFormatters:Jd})}parse=(t,s)=>t===""?null:yI(t,s,new Date,{locale:this.locale});isValid=t=>t==null?!1:VT(t);format=(t,s)=>this.formatByString(t,this.formats[s]);formatByString=(t,s)=>qm(t,s,{locale:this.locale});isEqual=(t,s)=>t===null&&s===null?!0:t===null||s===null?!1:w5(t,s);isSameYear=(t,s)=>vI(t,s);isSameMonth=(t,s)=>ek(t,s);isSameDay=(t,s)=>Hm(t,s);isSameHour=(t,s)=>bI(t,s);isAfter=(t,s)=>Id(t,s);isAfterYear=(t,s)=>Id(t,XS(s));isAfterDay=(t,s)=>Id(t,QS(s));isBefore=(t,s)=>hm(t,s);isBeforeYear=(t,s)=>hm(t,this.startOfYear(s));isBeforeDay=(t,s)=>hm(t,this.startOfDay(s));isWithinRange=(t,[s,a])=>SI(t,{start:s,end:a});startOfYear=t=>HT(t);startOfMonth=t=>FT(t);startOfWeek=t=>ei(t,{locale:this.locale});startOfDay=t=>Ec(t);endOfYear=t=>XS(t);endOfMonth=t=>zT(t);endOfWeek=t=>UT(t,{locale:this.locale});endOfDay=t=>QS(t);addYears=(t,s)=>v_(t,s);addMonths=(t,s)=>wh(t,s);addWeeks=(t,s)=>b_(t,s);addDays=(t,s)=>Gc(t,s);addHours=(t,s)=>f_(t,s);addMinutes=(t,s)=>y_(t,s);addSeconds=(t,s)=>x_(t,s);getYear=t=>S5(t);getMonth=t=>b5(t);getDate=t=>f5(t);getHours=t=>m5(t);getMinutes=t=>x5(t);getSeconds=t=>v5(t);getMilliseconds=t=>y5(t);setYear=(t,s)=>EI(t,s);setMonth=(t,s)=>wI(t,s);setDate=(t,s)=>CI(t,s);setHours=(t,s)=>TI(t,s);setMinutes=(t,s)=>jI(t,s);setSeconds=(t,s)=>DI(t,s);setMilliseconds=(t,s)=>kI(t,s);getDaysInMonth=t=>KT(t);getWeekArray=t=>{const s=this.startOfWeek(this.startOfMonth(t)),a=this.endOfWeek(this.endOfMonth(t));let l=0,u=s;const d=[];for(;this.isBefore(u,a);){const h=Math.floor(l/7);d[h]=d[h]||[],d[h].push(u),u=this.addDays(u,1),l+=1}return d};getWeekNumber=t=>oy(t,{locale:this.locale});getYearRange=([t,s])=>{const a=this.startOfYear(t),l=this.endOfYear(s),u=[];let d=a;for(;this.isBefore(d,l);)u.push(d),d=this.addYears(d,1);return u}}const cs={STRENGTH:"strength",CARDIO:"cardio",YOGA:"yoga",REST:"rest"},Ca={FULL:"full",UPPER:"upper",PUSH:"push",PULL:"pull",LEGS:"legs",CORE:"core"},ID=({open:e,onClose:t,activity:s,onSave:a})=>{const[l,u]=x.useState({date:new Date,duration:"",notes:"",sessionName:"",sessionType:cs.STRENGTH,workoutType:Ca.FULL,numExercises:"",setsPerExercise:""});x.useEffect(()=>{if(s&&e){const g=s.duration?Math.round(s.duration/60):"";u({date:new Date(s.date),duration:g,notes:s.notes||"",sessionName:s.sessionName||"",sessionType:s.sessionType||cs.STRENGTH,workoutType:s.type||Ca.FULL,numExercises:s.numExercises||"",setsPerExercise:s.setsPerExercise||""})}},[s,e]);const d=(g,y)=>{u(b=>({...b,[g]:y}))},h=()=>{const g=l.duration?parseFloat(l.duration)*60:0,y={...s,date:l.date.getTime(),duration:g,notes:l.notes.trim(),sessionName:l.sessionName.trim(),sessionType:l.sessionType,type:l.sessionType===cs.STRENGTH?l.workoutType:l.sessionType,numExercises:l.sessionType===cs.STRENGTH&&parseInt(l.numExercises)||void 0,setsPerExercise:l.sessionType===cs.STRENGTH&&parseInt(l.setsPerExercise)||void 0};a(y),t()},p=()=>!(!l.date||l.sessionType!==cs.REST&&(!l.duration||parseFloat(l.duration)<=0)||l.sessionType===cs.STRENGTH&&(!l.numExercises||parseInt(l.numExercises)<=0||!l.setsPerExercise||parseInt(l.setsPerExercise)<=0));return r.jsx(Eh,{dateAdapter:lx,children:r.jsxs(Pn,{open:e,onClose:t,maxWidth:"sm",fullWidth:!0,children:[r.jsx(Un,{children:"Edit Activity"}),r.jsx(On,{children:r.jsxs(_e,{spacing:2,sx:{mt:1},children:[r.jsx(lh,{label:"Date",value:l.date,onChange:g=>d("date",g),slotProps:{textField:{fullWidth:!0}}}),r.jsxs(Ut,{fullWidth:!0,children:[r.jsx(An,{children:"Session Type"}),r.jsxs(Gt,{value:l.sessionType,label:"Session Type",onChange:g=>d("sessionType",g.target.value),children:[r.jsx(Be,{value:cs.STRENGTH,children:"Strength"}),r.jsx(Be,{value:cs.CARDIO,children:"Cardio"}),r.jsx(Be,{value:cs.YOGA,children:"Yoga"}),r.jsx(Be,{value:cs.REST,children:"Rest Day"})]})]}),l.sessionType===cs.STRENGTH&&r.jsxs(Ut,{fullWidth:!0,children:[r.jsx(An,{children:"Workout Type"}),r.jsxs(Gt,{value:l.workoutType,label:"Workout Type",onChange:g=>d("workoutType",g.target.value),children:[r.jsx(Be,{value:Ca.FULL,children:"Full Body"}),r.jsx(Be,{value:Ca.UPPER,children:"Upper Body"}),r.jsx(Be,{value:Ca.PUSH,children:"Push"}),r.jsx(Be,{value:Ca.PULL,children:"Pull"}),r.jsx(Be,{value:Ca.LEGS,children:"Legs"}),r.jsx(Be,{value:Ca.CORE,children:"Core"})]})]}),l.sessionType!==cs.REST&&r.jsx(gt,{fullWidth:!0,type:"number",label:"Duration (minutes)",placeholder:"e.g., 45",value:l.duration,onChange:g=>d("duration",g.target.value),variant:"outlined",inputProps:{min:0,step:1}}),l.sessionType===cs.STRENGTH&&r.jsxs(r.Fragment,{children:[r.jsx(gt,{fullWidth:!0,type:"number",label:"Number of Exercises",placeholder:"e.g., 6",value:l.numExercises,onChange:g=>d("numExercises",g.target.value),variant:"outlined",inputProps:{min:1,step:1}}),r.jsx(gt,{fullWidth:!0,type:"number",label:"Sets per Exercise",placeholder:"e.g., 3",value:l.setsPerExercise,onChange:g=>d("setsPerExercise",g.target.value),variant:"outlined",inputProps:{min:1,step:1}})]}),r.jsx(gt,{fullWidth:!0,label:"Session Name (optional)",placeholder:"e.g., Morning workout, Leg day, etc.",value:l.sessionName,onChange:g=>d("sessionName",g.target.value),variant:"outlined"}),r.jsx(gt,{fullWidth:!0,multiline:!0,rows:4,label:"Notes (optional)",placeholder:"Add any notes about your session...",value:l.notes,onChange:g=>d("notes",g.target.value),variant:"outlined"})]})}),r.jsxs(Rn,{children:[r.jsx(Ae,{onClick:t,children:"Cancel"}),r.jsx(Ae,{onClick:h,variant:"contained",disabled:!p(),children:"Save"})]})]})})};ID.propTypes={open:E.bool.isRequired,onClose:E.func.isRequired,activity:E.object,onSave:E.func.isRequired};const cx=x.memo(({onNavigate:e,loading:t=!1,workoutType:s,selectedEquipment:a,equipmentOptions:l,onWorkoutTypeChange:u,onEquipmentChange:d,onStartWorkout:h,onCustomize:p,onTabChange:g})=>{const[y,b]=x.useState(""),[v,S]=x.useState([]),[j,k]=x.useState([]),[w,T]=x.useState(!1),{weeklySchedule:D}=Na(),[A,W]=x.useState([2,2,2,2]),[P,O]=x.useState(!1),[_,N]=x.useState(!1),[I,H]=x.useState(null),[V,B]=x.useState({open:!1,message:"",severity:"success"});x.useEffect(()=>{const Y={weekday:"short",month:"short",day:"numeric"};b(new Date().toLocaleDateString("en-US",Y))},[]);const q=(()=>{const oe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date().getDay()];return D[oe]})(),ae=async()=>{try{const Y=await ni();k(Y),S(Y.slice(0,5))}catch(Y){console.error("Error loading recent workouts:",Y)}};x.useEffect(()=>{ae()},[]);const z=Y=>{H(Y),O(!0)},U=Y=>{H(Y),N(!0)},ue=async()=>{try{await $R(I),B({open:!0,message:"Activity deleted successfully",severity:"success"}),N(!1),H(null),await ae()}catch(Y){console.error("Error deleting activity:",Y),B({open:!0,message:"Failed to delete activity",severity:"error"})}},fe=async Y=>{try{await KR(I,Y),B({open:!0,message:"Activity updated successfully",severity:"success"}),O(!1),H(null),await ae()}catch(oe){console.error("Error updating activity:",oe),B({open:!0,message:"Failed to update activity",severity:"error"})}},Ce=Y=>{const oe=new Set(a);Y==="all"?(oe.clear(),oe.add("all")):(oe.has("all")&&oe.delete("all"),oe.has(Y)?oe.delete(Y):oe.add(Y),oe.size===0&&oe.add("all")),d(oe)},we=()=>{if(a.has("all"))return"All Equipment";const Y=Array.from(a);return Y.length===0?"All Equipment":Y.length===1?l.find($=>$.toLowerCase()===Y[0])||Y[0]:`${Y.length} selected`},Q=()=>{W([...A,2])},J=Y=>{if(A.length>1){const oe=A.filter(($,le)=>le!==Y);W(oe)}},he=(Y,oe)=>{const $=[...A],le=Math.max(1,Math.min(6,$[Y]+oe));$[Y]=le,W($)},be=()=>{if(s&&h){const Y=a.has("all")?"all":Array.from(a);h(s,Y,null,A)}},ge=()=>{if(s&&p){const Y=a.has("all")?"all":Array.from(a);p(s,Y,A)}},ie=()=>{if(!q)return;const Y=(q.sessionType||"").toLowerCase();if(Y.includes("rest")){T(!0);return}if(Y.includes("cardio")||Y.includes("hiit")||Y.includes("yoga")||Y.includes("mobility")||Y.includes("stretch")){g&&g(1);return}if(["full","upper","lower","push","pull","legs","core"].includes(Y)){u(Y);const $=a.has("all")?"all":Array.from(a);q.exercises&&q.exercises.length>0?h(Y,$,q.exercises,A):h(Y,$,null,A)}};return r.jsxs(L,{children:[w&&r.jsx(Yy,{onClose:()=>T(!1)}),r.jsx(L,{sx:{mb:4,textAlign:"center"},children:r.jsxs(R,{variant:"h5",sx:{fontWeight:600,color:"text.secondary",fontSize:{xs:"1rem",sm:"1.25rem"},display:"flex",alignItems:"center",justifyContent:"center",gap:1,flexWrap:"wrap"},children:[r.jsx("span",{children:y}),q&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),r.jsx(mt,{label:`Suggested Session: ${q.sessionName||q.sessionType}`,color:"primary",variant:"outlined",size:"small",onClick:ie,sx:{fontWeight:600,fontSize:{xs:"0.75rem",sm:"0.875rem"},cursor:"pointer","&:hover":{backgroundColor:"rgba(19, 70, 134, 0.08)"}}})]})]})}),r.jsx(nt,{elevation:2,sx:{mb:3,borderRadius:3,background:"linear-gradient(135deg, rgba(237, 63, 39, 0.05) 0%, rgba(19, 70, 134, 0.05) 100%)"},children:r.jsxs(ct,{sx:{p:{xs:2,sm:3}},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",mb:2},children:[r.jsx(fn,{sx:{color:"secondary.main",mr:1}}),r.jsx(R,{variant:"h6",sx:{color:"text.primary",fontWeight:600},children:"Start a Workout"})]}),r.jsxs(_e,{spacing:2,sx:{mb:3},children:[r.jsxs(Ut,{fullWidth:!0,size:"medium",children:[r.jsx(An,{id:"workout-type-label",children:"Workout Type"}),r.jsxs(Gt,{labelId:"workout-type-label",value:s||"full",label:"Workout Type",onChange:Y=>u(Y.target.value),children:[r.jsx(Be,{value:"full",children:"Full Body"}),r.jsx(Be,{value:"upper",children:"Upper Body"}),r.jsx(Be,{value:"lower",children:"Lower Body"}),r.jsx(Be,{value:"push",children:"Push"}),r.jsx(Be,{value:"pull",children:"Pull"}),r.jsx(Be,{value:"legs",children:"Legs"}),r.jsx(Be,{value:"core",children:"Core"})]})]}),r.jsxs(Wo,{sx:{boxShadow:"none",border:"1px solid rgba(0, 0, 0, 0.23)",borderRadius:"4px !important","&:before":{display:"none"},"&.Mui-expanded":{margin:0}},children:[r.jsx(No,{expandIcon:r.jsx(Da,{}),sx:{minHeight:"48px","&.Mui-expanded":{minHeight:"48px"},"& .MuiAccordionSummary-content":{margin:"12px 0","&.Mui-expanded":{margin:"12px 0"}}},children:r.jsxs(L,{sx:{display:"flex",flexDirection:"column",width:"100%"},children:[r.jsx(R,{variant:"caption",sx:{color:"text.primary",fontSize:"0.75rem",lineHeight:1,mb:.5},children:"Equipment"}),r.jsx(R,{sx:{color:"text.primary",fontSize:"1rem"},children:we()})]})}),r.jsx(Lo,{sx:{pt:0,pb:2},children:r.jsxs(_e,{spacing:1,children:[r.jsx(mt,{label:"All Equipment",onClick:()=>Ce("all"),color:a.has("all")?"primary":"default",variant:a.has("all")?"filled":"outlined",sx:{justifyContent:"flex-start"}}),l.map(Y=>r.jsx(mt,{label:Y,onClick:()=>Ce(Y.toLowerCase()),color:a.has(Y.toLowerCase())?"primary":"default",variant:a.has(Y.toLowerCase())?"filled":"outlined",sx:{justifyContent:"flex-start"}},Y))]})})]})]}),r.jsxs(Wo,{sx:{boxShadow:"none",border:"1px solid rgba(0, 0, 0, 0.12)",borderRadius:"4px !important","&:before":{display:"none"},mb:2},children:[r.jsx(No,{expandIcon:r.jsx(Da,{}),children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(N2,{sx:{fontSize:20}}),r.jsxs(R,{variant:"body2",sx:{fontWeight:600},children:["Superset Configuration (",A.length," supersets)"]})]})}),r.jsx(Lo,{children:r.jsxs(_e,{spacing:2,children:[A.map((Y,oe)=>r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1,p:1.5,bgcolor:"action.hover",borderRadius:1},children:[r.jsxs(R,{variant:"body2",sx:{minWidth:"80px",fontWeight:500},children:["Superset ",oe+1]}),r.jsxs(_e,{direction:"row",spacing:1,alignItems:"center",sx:{flex:1},children:[r.jsx(Xe,{size:"small",onClick:()=>he(oe,-1),disabled:Y<=1,children:r.jsx(Oa,{fontSize:"small"})}),r.jsxs(R,{sx:{minWidth:"90px",textAlign:"center"},children:[Y," exercises"]}),r.jsx(Xe,{size:"small",onClick:()=>he(oe,1),disabled:Y>=6,children:r.jsx(gi,{fontSize:"small"})})]}),r.jsx($n,{title:"Remove superset",children:r.jsx(Xe,{size:"small",onClick:()=>J(oe),disabled:A.length<=1,color:"error",children:r.jsx(Oa,{fontSize:"small"})})})]},oe)),r.jsx(Ae,{variant:"outlined",size:"small",startIcon:r.jsx(gi,{}),onClick:Q,sx:{alignSelf:"flex-start"},children:"Add Superset"})]})})]}),r.jsx(vn,{sx:{my:2}}),r.jsxs(_e,{direction:"row",spacing:2,children:[r.jsx(Ae,{variant:"outlined",size:"large",fullWidth:!0,disabled:!s||t,onClick:ge,startIcon:r.jsx(wr,{}),sx:{minHeight:rh.navigation,fontSize:{xs:"0.95rem",sm:"1rem"},fontWeight:600,borderWidth:2,"&:hover":{borderWidth:2}},children:"Customize"}),r.jsx(Ae,{variant:"contained",size:"large",fullWidth:!0,disabled:!s||t,onClick:be,startIcon:r.jsx(Js,{}),sx:{minHeight:rh.navigation,fontSize:{xs:"0.95rem",sm:"1rem"},fontWeight:600,backgroundColor:"primary.main","&:hover":{backgroundColor:"primary.dark"}},children:"Generate"})]})]})}),r.jsx(qy,{onStartWorkout:h}),r.jsx(L,{sx:{mb:3},children:r.jsx(Wj,{workoutHistory:j})}),v.length>0&&r.jsxs(L,{sx:{mb:3},children:[r.jsxs(_e,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[r.jsxs(R,{variant:"h6",sx:{fontWeight:600,color:"text.primary",display:"flex",alignItems:"center",gap:1},children:[r.jsx(Aa,{})," Recent Activity"]}),r.jsx(Ae,{size:"small",onClick:()=>e("progress"),sx:{color:"primary.main"},children:"View All"})]}),r.jsx(Gy,{activities:v,onEdit:z,onDelete:U,maxVisible:5,showLoadMore:!1})]}),r.jsx(ID,{open:P,onClose:()=>{O(!1),H(null)},activity:I!==null?v[I]:null,onSave:fe}),r.jsxs(Pn,{open:_,onClose:()=>{N(!1),H(null)},children:[r.jsx(Un,{children:"Delete Activity?"}),r.jsx(On,{children:r.jsx(Wg,{children:"Are you sure you want to delete this activity? This action cannot be undone."})}),r.jsxs(Rn,{children:[r.jsx(Ae,{onClick:()=>{N(!1),H(null)},children:"Cancel"}),r.jsx(Ae,{onClick:ue,color:"error",variant:"contained",children:"Delete"})]})]}),r.jsx(Hs,{open:V.open,autoHideDuration:6e3,onClose:()=>B({...V,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx($t,{onClose:()=>B({...V,open:!1}),severity:V.severity,sx:{width:"100%"},children:V.message})})]})});cx.displayName="WorkoutTab";cx.propTypes={onNavigate:E.func,loading:E.bool,workoutType:E.string,selectedEquipment:E.instanceOf(Set),equipmentOptions:E.array,onWorkoutTypeChange:E.func,onEquipmentChange:E.func,onStartWorkout:E.func,onCustomize:E.func,onTabChange:E.func};const I1=3,qF=8,_h="/goodlift/data/exercises.json",YF="/goodlift/data/hiit-exercises.json",jd={UPPER_BODY:["Chest","Upper Chest","Lower Chest","Inner Chest","Back","Lats","Upper Back","Lower Back","Delts","Front Delts","Rear Delts","Side Delts","Biceps","Triceps","Forearms","Traps"],LOWER_BODY:["Quads","Hamstrings","Glutes","Calves","Hip Flexors"]},Ta={UPPER_BODY:{DUMBBELL:2.5,BARBELL:5},LOWER_BODY:{DUMBBELL:10,BARBELL:5}},GF={MILLISECONDS_PER_DAY:864e5},WD=({value:e,onChange:t,availableExercises:s,label:a="Exercise",placeholder:l="Type to search exercises...",size:u="small",fullWidth:d=!0,disabled:h=!1,sx:p={}})=>{const g=y=>{if(!y)return s;const b=y.toLowerCase().split(" ").filter(v=>v.length>0);return s.filter(v=>{const S=[v.name,v.muscleGroup].join(" ").toLowerCase();return b.every(j=>S.includes(j))})};return r.jsx(PC,{fullWidth:d,size:u,options:s,value:e,onChange:t,disabled:h,getOptionLabel:y=>typeof y=="string"?y:y?.name||"",filterOptions:(y,b)=>g(b.inputValue),isOptionEqualToValue:(y,b)=>typeof y=="string"&&typeof b=="string"?y===b:y?.name===b?.name,freeSolo:!0,renderInput:y=>r.jsx(gt,{...y,label:a,placeholder:l}),renderOption:(y,b)=>{const{key:v,...S}=y;return r.jsx("li",{...S,children:r.jsxs(L,{children:[r.jsx(R,{variant:"body2",children:b.name}),r.jsx(R,{variant:"caption",color:"text.secondary",children:b.muscleGroup})]})},v)},noOptionsText:"No exercises found. Try different search terms.",sx:p})};WD.propTypes={value:E.oneOfType([E.object,E.string]),onChange:E.func.isRequired,availableExercises:E.array.isRequired,label:E.string,placeholder:E.string,size:E.string,fullWidth:E.bool,disabled:E.bool,sx:E.object};const tt={HIIT:"hiit",FLOW:"flow",CARDIO:"cardio"},W1=[{name:"Mountain Pose (Tadasana)",defaultDuration:30},{name:"Downward Dog (Adho Mukha Svanasana)",defaultDuration:60},{name:"Warrior I (Virabhadrasana I)",defaultDuration:45},{name:"Warrior II (Virabhadrasana II)",defaultDuration:45},{name:"Triangle Pose (Trikonasana)",defaultDuration:45},{name:"Tree Pose (Vrksasana)",defaultDuration:30},{name:"Child's Pose (Balasana)",defaultDuration:60},{name:"Cat-Cow Pose",defaultDuration:60},{name:"Seated Forward Bend (Paschimottanasana)",defaultDuration:60},{name:"Cobra Pose (Bhujangasana)",defaultDuration:30},{name:"Plank Pose",defaultDuration:30},{name:"Bridge Pose (Setu Bandhasana)",defaultDuration:45}],ux=({onNavigate:e,hideBackButton:t=!1})=>{const[s,a]=x.useState(tt.CARDIO),[l,u]=x.useState(!0),[d,h]=x.useState(!1),[p,g]=x.useState(!1),[y,b]=x.useState(1200),[v,S]=x.useState(1200),[j,k]=x.useState(30),[w,T]=x.useState(15),[D,A]=x.useState(8),[W,P]=x.useState(1),[O,_]=x.useState(1),[N,I]=x.useState(1),[H,V]=x.useState(!0),[B,de]=x.useState(10),[q,ae]=x.useState(0),[z,U]=x.useState(""),[ue,fe]=x.useState([]),[Ce,we]=x.useState({prep:"Get Ready",recovery:"Set Break"}),[Q,J]=x.useState(!1),[he,be]=x.useState(!1),[ge,ie]=x.useState([]),[Y,oe]=x.useState(0),[$,le]=x.useState(45),[ye,Pe]=x.useState(20),[pe,te]=x.useState([]),[ee,Ne]=x.useState([]),[ot,Ie]=x.useState(!1),[ke,We]=x.useState(""),[X,je]=x.useState(null),[De,Me]=x.useState(!1),[Le,Ue]=x.useState([]),[ft,qe]=x.useState(!1),[Qe,Ee]=x.useState(5),[Re,Ve]=x.useState(""),Oe=x.useRef(null),Fe=x.useRef(!1);x.useEffect(()=>{(async()=>{try{const Se=await hc(),ze=await fc();te(Se),Ne(ze)}catch(Se){console.error("Error loading presets:",Se)}})()},[]),x.useEffect(()=>{(async()=>{try{const ze=await(await fetch(YF)).json();Ue(ze)}catch(Se){console.error("Error loading HIIT exercises:",Se),Ue([])}})()},[]),x.useEffect(()=>()=>{Oe.current&&clearInterval(Oe.current)},[]);const rt=x.useCallback(()=>{h(!1),clearInterval(Oe.current),Nt.playCompletionFanfare(),qe(!0)},[]);x.useEffect(()=>(d&&!p?Oe.current=setInterval(()=>{b(xe=>(xe===3||xe===2?(Nt.playBeep(800,150),Fe.current=!0):xe===1&&Nt.playBeep(600,300),xe<=1?s===tt.HIIT?Q?(J(!1),V(!0),Nt.playHighBeep(),Fe.current=!1,j):he?(be(!1),_(O+1),I(1),V(!0),Nt.playHighBeep(),Fe.current=!1,j):H?(V(!1),Nt.playLowBeep(),Fe.current=!1,w):N<D?(I(N+1),V(!0),Nt.playHighBeep(),Fe.current=!1,j):O<W?q>0?(be(!0),Nt.playTransitionBeep(),Fe.current=!1,q):(_(O+1),I(1),V(!0),Nt.playHighBeep(),Fe.current=!1,j):(rt(),0):s===tt.FLOW&&Y<ge.length-1?(oe(Y+1),Nt.playTransitionBeep(),Fe.current=!1,ge[Y+1].duration):(rt(),0):xe-1))},1e3):Oe.current&&clearInterval(Oe.current),()=>{Oe.current&&clearInterval(Oe.current)}),[d,p,s,H,Q,he,N,O,D,W,Y,ge,j,w,q,rt]);const it=()=>{if(l){if(s===tt.HIIT){const xe=D*(j+w),Se=W>1&&q>0?(W-1)*q:0;S(B+W*xe+Se),B>0?(b(B),J(!0),V(!1)):(b(j),J(!1),V(!0)),_(1),I(1),be(!1)}else if(s===tt.FLOW){const xe=ge.reduce((Se,ze)=>Se+ze.duration,0);S(xe),b(ge[0]?.duration||45),oe(0)}else{const xe=ye*60;S(xe),b(xe)}u(!1)}h(!0),g(!1),Fe.current=!1},Dt=()=>{g(!p)},zt=()=>{h(!1),g(!1),u(!0),Fe.current=!1},en=()=>{zt(),_(1),I(1),V(!0),J(!1),be(!1),oe(0)},Yn=(xe,Se)=>{Se!==null&&(a(Se),en())},pt=xe=>{ie([...ge,{...xe,duration:$}])},ks=xe=>{ie(ge.filter((Se,ze)=>ze!==xe))},Xi=()=>{s===tt.HIIT?(Q?(J(!1),V(!0),b(j)):H?(V(!1),b(w)):he?(be(!1),_(O+1),I(1),V(!0),b(j)):N<D?(I(N+1),V(!0),b(j)):O<W&&(q>0?(be(!0),b(q)):(_(O+1),I(1),V(!0),b(j))),Nt.playTransitionBeep()):s===tt.FLOW&&Y<ge.length-1&&(oe(Y+1),b(ge[Y+1].duration),Nt.playTransitionBeep())},Zi=()=>{s===tt.HIIT?(H&&N>1?(V(!1),I(N-1),b(w)):H&&N===1&&O>1?q>0?(be(!0),_(O-1),I(D),b(q)):(_(O-1),I(D),V(!1),b(w)):!H&&!Q&&!he?(V(!0),b(j)):he&&(be(!1),V(!1),b(w)),Nt.playTransitionBeep()):s===tt.FLOW&&Y>0&&(oe(Y-1),b(ge[Y-1].duration),Nt.playTransitionBeep())},au=async()=>{try{if(!ke.trim()){alert("Please enter a preset name");return}if(s===tt.FLOW){const xe={id:X?.id,name:ke,poses:ge,defaultDuration:$};await o_(xe);const Se=await hc();te(Se)}else if(s===tt.HIIT){const xe={id:X?.id,name:ke,workInterval:j,restInterval:w,roundsPerSet:D,numberOfSets:W,preparationInterval:B,recoveryBetweenSets:q,sessionName:z,workIntervalNames:ue,intervalNames:Ce};await c_(xe);const Se=await fc();Ne(Se)}Ie(!1),We(""),je(null)}catch(xe){console.error("Error saving preset:",xe),alert("Failed to save preset")}},an=xe=>{s===tt.FLOW?(ie(xe.poses||[]),le(xe.defaultDuration||45)):s===tt.HIIT&&(k(xe.workInterval||30),T(xe.restInterval||15),xe.rounds!==void 0&&xe.roundsPerSet===void 0?(A(xe.rounds),P(1)):(A(xe.roundsPerSet||8),P(xe.numberOfSets||1)),de(xe.preparationInterval||10),xe.recoveryInterval!==void 0&&xe.recoveryBetweenSets===void 0?ae(xe.recoveryInterval||0):ae(xe.recoveryBetweenSets||0),U(xe.sessionName||""),fe(xe.workIntervalNames||[]),we(xe.intervalNames||{prep:"Get Ready",recovery:"Set Break"}))},Qn=async xe=>{try{if(s===tt.FLOW){await l_(xe);const Se=await hc();te(Se)}else if(s===tt.HIIT){await u_(xe);const Se=await fc();Ne(Se)}}catch(Se){console.error("Error deleting preset:",Se),alert("Failed to delete preset")}},si=async()=>{try{const xe={date:Date.now(),type:s===tt.HIIT?"hiit":s===tt.FLOW?"yoga":"cardio",duration:Math.floor(v/60),perceivedEffort:Qe,notes:Re,exercises:{}};await ty(xe);const Se=await Yc();Se.totalWorkouts+=1,Se.totalTime+=v,await ny(Se),qe(!1),en(),e&&setTimeout(()=>e("selection"),500)}catch(xe){console.error("Error saving session:",xe)}},Uh=xe=>{const Se=Math.floor(xe/60),ze=xe%60;return`${Se}:${ze.toString().padStart(2,"0")}`},ru=(()=>{if(s===tt.HIIT){const xe=W*D,ze=((O-1)*D+(N-1))/xe*100,bt=H?(j-y)/j:(w-y)/w;return ze+bt*(100/xe)}else return(v-y)/v*100})(),_r=120,za=2*Math.PI*_r,ol=za-ru/100*za;return r.jsx(L,{sx:{width:"100%",minHeight:"100vh",p:3,bgcolor:"background.default"},children:r.jsxs($e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},style:{maxWidth:"800px",margin:"0 auto"},children:[!t&&r.jsx(L,{sx:{mb:2},children:r.jsx(Ae,{startIcon:r.jsx(Ng,{}),onClick:()=>e("home"),sx:{color:"text.secondary"},children:"Back to Work Home"})}),l&&r.jsx(nt,{sx:{borderRadius:3,mb:3},children:r.jsxs(ct,{children:[r.jsx(R,{variant:"h6",sx:{mb:2,textAlign:"center"},children:"Select Mode"}),r.jsxs(zd,{value:s,exclusive:!0,onChange:Yn,fullWidth:!0,sx:{mb:3},children:[r.jsx(Zs,{value:tt.HIIT,sx:{py:2},children:r.jsxs(_e,{alignItems:"center",spacing:1,children:[r.jsx(fn,{}),r.jsx(R,{variant:"body2",children:"HIIT"})]})}),r.jsx(Zs,{value:tt.FLOW,sx:{py:2},children:r.jsxs(_e,{alignItems:"center",spacing:1,children:[r.jsx(ti,{}),r.jsx(R,{variant:"body2",children:"Yoga"})]})}),r.jsx(Zs,{value:tt.CARDIO,sx:{py:2},children:r.jsxs(_e,{alignItems:"center",spacing:1,children:[r.jsx(mi,{}),r.jsx(R,{variant:"body2",children:"Cardio"})]})})]}),s===tt.HIIT&&r.jsxs(_e,{spacing:3,children:[r.jsxs(_e,{direction:"row",spacing:2,alignItems:"center",children:[r.jsx(R,{variant:"subtitle1",sx:{fontWeight:600,flex:1},children:"HIIT Configuration"}),r.jsx(Ae,{size:"small",startIcon:r.jsx(jo,{}),onClick:()=>{We(""),je(null),Ie(!0)},children:"Save Preset"})]}),ee.length>0&&r.jsxs(L,{children:[r.jsxs(_e,{direction:"row",spacing:1,alignItems:"center",sx:{mb:1},children:[r.jsx(R,{variant:"subtitle2",sx:{flex:1},children:"Saved Presets"}),r.jsx(Ae,{size:"small",startIcon:De?r.jsx(jo,{}):r.jsx(wr,{}),onClick:()=>Me(!De),children:De?"Done":"Manage"})]}),r.jsx(_e,{direction:"row",spacing:1,flexWrap:"wrap",useFlexGap:!0,children:ee.map(xe=>r.jsxs(L,{sx:{position:"relative",display:"inline-block"},children:[r.jsx(mt,{label:xe.name,onClick:()=>!De&&an(xe),color:"primary",variant:"outlined",sx:{mb:1,cursor:De?"default":"pointer",opacity:De?.7:1}}),De&&r.jsx(Xe,{size:"small",onClick:()=>Qn(xe.id),sx:{position:"absolute",top:-8,right:-8,bgcolor:"error.main",color:"white",width:20,height:20,"&:hover":{bgcolor:"error.dark"}},children:r.jsx(qo,{sx:{fontSize:14}})})]},xe.id))})]}),r.jsx(gt,{label:"Session Name (optional)",value:z,onChange:xe=>U(xe.target.value),fullWidth:!0,placeholder:"e.g., Morning HIIT, Tabata Workout"}),r.jsx(gt,{label:"Preparation Interval (seconds)",type:"number",value:B??"",onChange:xe=>{const Se=xe.target.value;if(Se===""||Se===null)de("");else{const ze=parseInt(Se);de(isNaN(ze)?"":ze)}},onBlur:xe=>{const Se=xe.target.value;if(Se===""||Se===null)de(10);else{const ze=parseInt(Se);de(Math.max(0,Math.min(60,isNaN(ze)?10:ze)))}},inputProps:{min:0,max:60,inputMode:"numeric"},fullWidth:!0,helperText:"Time to get ready before the workout starts"}),r.jsx(gt,{label:"Work Interval (seconds)",type:"number",value:j??"",onChange:xe=>{const Se=xe.target.value;if(Se===""||Se===null)k("");else{const ze=parseInt(Se);k(isNaN(ze)?"":ze)}},onBlur:xe=>{const Se=xe.target.value;if(Se===""||Se===null)k(30);else{const ze=parseInt(Se);k(Math.max(5,Math.min(300,isNaN(ze)?30:ze)))}},inputProps:{min:5,max:300,inputMode:"numeric"},fullWidth:!0}),r.jsx(gt,{label:"Rest Interval (seconds)",type:"number",value:w??"",onChange:xe=>{const Se=xe.target.value;if(Se===""||Se===null)T("");else{const ze=parseInt(Se);T(isNaN(ze)?"":ze)}},onBlur:xe=>{const Se=xe.target.value;if(Se===""||Se===null)T(15);else{const ze=parseInt(Se);T(Math.max(5,Math.min(300,isNaN(ze)?15:ze)))}},inputProps:{min:5,max:300,inputMode:"numeric"},fullWidth:!0}),r.jsx(gt,{label:"Rounds per Set",type:"number",value:D??"",onChange:xe=>{const Se=xe.target.value;if(Se===""||Se===null)A("");else{const ze=parseInt(Se),bt=isNaN(ze)?"":ze;A(bt),bt!==""&&bt>0&&fe(rn=>{const ns=[...rn];for(;ns.length<bt;)ns.push("");return ns.slice(0,bt)})}},onBlur:xe=>{const Se=xe.target.value;if(Se===""||Se===null)A(8),fe(ze=>{const bt=[...ze];for(;bt.length<8;)bt.push("");return bt.slice(0,8)});else{const ze=parseInt(Se),bt=Math.max(1,Math.min(50,isNaN(ze)?8:ze));A(bt),fe(rn=>{const ns=[...rn];for(;ns.length<bt;)ns.push("");return ns.slice(0,bt)})}},inputProps:{min:1,max:50,inputMode:"numeric"},fullWidth:!0,helperText:"Number of work/rest cycles in each set"}),r.jsx(gt,{label:"Number of Sets",type:"number",value:W??"",onChange:xe=>{const Se=xe.target.value;if(Se===""||Se===null)P("");else{const ze=parseInt(Se);P(isNaN(ze)?"":ze)}},onBlur:xe=>{const Se=xe.target.value;if(Se===""||Se===null)P(1);else{const ze=parseInt(Se);P(Math.max(1,Math.min(10,isNaN(ze)?1:ze)))}},inputProps:{min:1,max:10,inputMode:"numeric"},fullWidth:!0,helperText:"Number of sets to perform (exercises repeat for each set)"}),r.jsxs(L,{children:[r.jsx(R,{variant:"subtitle2",gutterBottom:!0,children:"Exercise Names per Round (optional)"}),r.jsx(R,{variant:"body2",color:"text.secondary",sx:{mb:2},children:`Name each round's exercise. These will repeat for all sets. Leave blank to use "work" as default.`}),r.jsx(_e,{spacing:1.5,children:Array.from({length:D||0}).map((xe,Se)=>r.jsx(WD,{label:`Round ${Se+1} Exercise`,value:ue[Se]||"",onChange:(ze,bt)=>{const rn=[...ue];typeof bt=="string"?rn[Se]=bt:bt&&bt.name?rn[Se]=bt.name:rn[Se]="",fe(rn)},availableExercises:Le,placeholder:"e.g., push-ups, burpees, jumping jacks",size:"small",fullWidth:!0},Se))})]}),W>1&&r.jsx(gt,{label:"Set Break Duration (seconds, 0 to disable)",type:"number",value:q??"",onChange:xe=>{const Se=xe.target.value;if(Se===""||Se===null)ae("");else{const ze=parseInt(Se);ae(isNaN(ze)?"":ze)}},onBlur:xe=>{const Se=xe.target.value;if(Se===""||Se===null)ae(0);else{const ze=parseInt(Se);ae(Math.max(0,Math.min(300,isNaN(ze)?0:ze)))}},inputProps:{min:0,max:300,inputMode:"numeric"},fullWidth:!0,helperText:"Rest period between sets"}),r.jsxs(R,{variant:"body2",color:"text.secondary",children:["Total Duration: ",Math.floor((B+W*D*(j+w)+(W>1&&q>0?(W-1)*q:0))/60)," minutes"]})]}),s===tt.FLOW&&r.jsxs(_e,{spacing:3,children:[r.jsxs(_e,{direction:"row",spacing:2,alignItems:"center",children:[r.jsx(R,{variant:"subtitle1",sx:{fontWeight:600,flex:1},children:"Yoga Configuration"}),r.jsx(Ae,{size:"small",startIcon:r.jsx(jo,{}),onClick:()=>{We(""),je(null),Ie(!0)},disabled:ge.length===0,children:"Save Preset"})]}),pe.length>0&&r.jsxs(L,{children:[r.jsxs(_e,{direction:"row",spacing:1,alignItems:"center",sx:{mb:1},children:[r.jsx(R,{variant:"subtitle2",sx:{flex:1},children:"Saved Presets"}),r.jsx(Ae,{size:"small",startIcon:De?r.jsx(jo,{}):r.jsx(wr,{}),onClick:()=>Me(!De),children:De?"Done":"Manage"})]}),r.jsx(_e,{direction:"row",spacing:1,flexWrap:"wrap",useFlexGap:!0,children:pe.map(xe=>r.jsxs(L,{sx:{position:"relative",display:"inline-block"},children:[r.jsx(mt,{label:xe.name,onClick:()=>!De&&an(xe),color:"primary",variant:"outlined",icon:r.jsx(L2,{}),sx:{mb:1,cursor:De?"default":"pointer",opacity:De?.7:1}}),De&&r.jsx(Xe,{size:"small",onClick:()=>Qn(xe.id),sx:{position:"absolute",top:-8,right:-8,bgcolor:"error.main",color:"white",width:20,height:20,"&:hover":{bgcolor:"error.dark"}},children:r.jsx(qo,{sx:{fontSize:14}})})]},xe.id))})]}),r.jsx(gt,{label:"Hold Duration per Pose (seconds)",type:"number",value:$??"",onChange:xe=>{const Se=xe.target.value;if(Se===""||Se===null)le("");else{const ze=parseInt(Se);le(isNaN(ze)?"":ze)}},onBlur:xe=>{const Se=xe.target.value;if(Se===""||Se===null)le(45);else{const ze=parseInt(Se);le(Math.max(15,Math.min(300,isNaN(ze)?45:ze)))}},inputProps:{min:15,max:300,inputMode:"numeric"},fullWidth:!0}),r.jsxs(R,{variant:"subtitle2",children:["Selected Poses (",ge.length,")"]}),ge.length>0&&r.jsx(_e,{spacing:1,children:ge.map((xe,Se)=>r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:1.5,bgcolor:"background.paper",borderRadius:1},children:[r.jsx(R,{variant:"body2",children:xe.name}),r.jsxs(_e,{direction:"row",spacing:1,alignItems:"center",children:[r.jsxs(R,{variant:"caption",color:"text.secondary",children:[xe.duration,"s"]}),r.jsx(Xe,{size:"small",onClick:()=>ks(Se),sx:{color:"error.main"},children:r.jsx(Oa,{fontSize:"small"})})]})]},Se))}),r.jsxs(Ut,{fullWidth:!0,children:[r.jsx(An,{children:"Add Pose"}),r.jsx(Gt,{value:"",label:"Add Pose",onChange:xe=>{const Se=W1.find(ze=>ze.name===xe.target.value);Se&&pt(Se)},children:W1.map(xe=>r.jsx(Be,{value:xe.name,children:xe.name},xe.name))})]}),ge.length>0&&r.jsxs(R,{variant:"body2",color:"text.secondary",children:["Total Duration: ",Math.floor(ge.reduce((xe,Se)=>xe+Se.duration,0)/60)," minutes ",ge.reduce((xe,Se)=>xe+Se.duration,0)%60," seconds"]})]}),s===tt.CARDIO&&r.jsxs(_e,{spacing:3,children:[r.jsx(R,{variant:"subtitle1",sx:{fontWeight:600},children:"Cardio Configuration"}),r.jsx(gt,{label:"Duration (minutes)",type:"number",value:ye??"",onChange:xe=>{const Se=xe.target.value;if(Se===""||Se===null)Pe("");else{const ze=parseInt(Se);Pe(isNaN(ze)?"":ze)}},onBlur:xe=>{const Se=xe.target.value;if(Se===""||Se===null)Pe(20);else{const ze=parseInt(Se);Pe(Math.max(1,Math.min(240,isNaN(ze)?20:ze)))}},inputProps:{min:1,max:240,inputMode:"numeric"},fullWidth:!0})]})]})}),!l&&r.jsx(nt,{sx:{borderRadius:3,mb:3},children:r.jsxs(ct,{sx:{p:4},children:[r.jsx(_e,{direction:"row",justifyContent:"center",sx:{mb:3},children:r.jsx(mt,{label:s===tt.HIIT?"HIIT":s===tt.FLOW?"Yoga":"Cardio",color:"primary",size:"medium"})}),r.jsxs(L,{sx:{textAlign:"center",mb:3,position:"relative",display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},children:[s!==tt.HIIT&&r.jsxs("svg",{width:"280",height:"280",style:{transform:"rotate(-90deg)"},children:[r.jsx("circle",{cx:"140",cy:"140",r:_r,stroke:"#e0e0e0",strokeWidth:"12",fill:"none"}),r.jsx("circle",{cx:"140",cy:"140",r:_r,stroke:"#1976d2",strokeWidth:"12",fill:"none",strokeDasharray:za,strokeDashoffset:ol,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0.5s ease"}})]}),r.jsxs(L,{sx:{position:s!==tt.HIIT?"absolute":"relative",top:s!==tt.HIIT?"50%":"auto",left:s!==tt.HIIT?"50%":"auto",transform:s!==tt.HIIT?"translate(-50%, -50%)":"none",textAlign:"center",width:"100%"},children:[r.jsx(R,{variant:"h1",sx:{fontSize:s===tt.HIIT?{xs:"clamp(3rem, 15vw, 8rem)",sm:"clamp(5rem, 20vw, 10rem)",md:"12rem"}:"4rem",fontWeight:700,color:s===tt.HIIT&&H?"success.main":s===tt.HIIT&&(Q||he)?"warning.main":s===tt.HIIT&&!H?"error.main":"primary.main",fontFamily:"monospace",lineHeight:1},children:Uh(y)}),s===tt.HIIT&&r.jsxs(r.Fragment,{children:[r.jsx(R,{variant:"h6",sx:{mt:2,fontWeight:600,fontSize:{xs:"1.5rem",sm:"2rem",md:"2.5rem"}},children:Q?Ce.prep:he?Ce.recovery:H?ue[N-1]||"work":"rest"}),Q&&r.jsxs(R,{variant:"body2",color:"text.secondary",sx:{mt:1,fontSize:{xs:"1rem",sm:"1.2rem"}},children:["Up Next: ",ue[0]||"work"]}),he&&r.jsxs(R,{variant:"body2",color:"text.secondary",sx:{mt:1,fontSize:{xs:"1rem",sm:"1.2rem"}},children:["Up Next (Set ",O+1,"): ",ue[0]||"work"]}),!Q&&!he&&!H&&N<D&&r.jsxs(R,{variant:"body2",color:"text.secondary",sx:{mt:1,fontSize:{xs:"1rem",sm:"1.2rem"}},children:["Up Next: ",ue[N]||"work"]}),!Q&&!he&&r.jsxs(r.Fragment,{children:[r.jsxs(R,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"1rem",sm:"1.2rem"}},children:["Round ",N," / ",D]}),W>1&&r.jsxs(R,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"1rem",sm:"1.2rem"}},children:["Set ",O," / ",W]})]}),z&&r.jsx(R,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:1,fontSize:{xs:"0.9rem",sm:"1rem"}},children:z})]}),s===tt.FLOW&&ge[Y]&&r.jsx(R,{variant:"h6",sx:{mt:1,fontWeight:600,maxWidth:"200px"},children:ge[Y].name})]})]}),s===tt.FLOW&&ge[Y]&&r.jsx(L,{sx:{mb:3,textAlign:"center"},children:r.jsxs(R,{variant:"body2",color:"text.secondary",children:["Pose ",Y+1," of ",ge.length]})}),r.jsx(_e,{direction:"row",spacing:2,justifyContent:"center",flexWrap:"wrap",children:d?r.jsxs(r.Fragment,{children:[(s===tt.HIIT||s===tt.FLOW)&&r.jsx(Xe,{size:"large",onClick:Zi,color:"primary",sx:{width:56,height:56},disabled:s===tt.HIIT&&Q||s===tt.FLOW&&Y===0,children:r.jsx(OC,{sx:{fontSize:36}})}),r.jsx(Xe,{size:"large",onClick:Dt,color:p?"success":"warning",sx:{width:64,height:64},children:p?r.jsx(Js,{sx:{fontSize:40}}):r.jsx(Lg,{sx:{fontSize:40}})}),r.jsx(Xe,{size:"large",onClick:zt,color:"error",sx:{width:64,height:64},children:r.jsx(RC,{sx:{fontSize:40}})}),r.jsx(Xe,{size:"large",onClick:en,color:"primary",sx:{width:64,height:64},children:r.jsx(B2,{sx:{fontSize:40}})}),(s===tt.HIIT||s===tt.FLOW)&&r.jsx(Xe,{size:"large",onClick:Xi,color:"primary",sx:{width:56,height:56},disabled:s===tt.HIIT&&!Q&&!he&&!H&&N>=D&&O>=W||s===tt.FLOW&&Y>=ge.length-1,children:r.jsx(mh,{sx:{fontSize:36}})})]}):r.jsx(Ae,{variant:"contained",size:"large",startIcon:r.jsx(Js,{}),onClick:it,sx:{px:4,py:1.5},disabled:s===tt.FLOW&&ge.length===0,children:"Start"})})]})}),l&&r.jsx(Ae,{variant:"contained",size:"large",fullWidth:!0,onClick:it,disabled:s===tt.FLOW&&ge.length===0,sx:{mb:2,py:2},children:s===tt.FLOW&&ge.length===0?"Add at least one pose to start":"Start Session"}),e&&!t&&r.jsx(Ae,{variant:"outlined",fullWidth:!0,onClick:()=>e("selection"),sx:{mt:2},children:"Back to Home"}),r.jsxs(Pn,{open:ft,onClose:()=>qe(!1),maxWidth:"sm",fullWidth:!0,children:[r.jsx(Un,{children:"Session Complete! "}),r.jsx(On,{children:r.jsxs(_e,{spacing:3,sx:{mt:2},children:[r.jsx(R,{variant:"body1",children:"Great work! How would you rate this session?"}),r.jsxs(L,{children:[r.jsx(R,{variant:"subtitle2",gutterBottom:!0,children:"Perceived Effort (1-10)"}),r.jsx(_C,{value:Qe,onChange:(xe,Se)=>Ee(Se),min:1,max:10,marks:!0,valueLabelDisplay:"on",sx:{mt:2}})]}),r.jsx(gt,{label:"Notes (optional)",multiline:!0,rows:3,value:Re,onChange:xe=>Ve(xe.target.value),fullWidth:!0}),r.jsxs(L,{sx:{p:2,bgcolor:"background.default",borderRadius:1},children:[r.jsxs(R,{variant:"body2",color:"text.secondary",children:["Type: ",s===tt.HIIT?"HIIT":s===tt.FLOW?"Yoga":"Cardio"]}),r.jsxs(R,{variant:"body2",color:"text.secondary",children:["Duration: ",Math.floor(v/60)," minutes"]})]})]})}),r.jsxs(Rn,{children:[r.jsx(Ae,{onClick:()=>qe(!1),children:"Skip"}),r.jsx(Ae,{variant:"contained",onClick:si,children:"Save & Sync"})]})]}),r.jsxs(Pn,{open:ot,onClose:()=>{Ie(!1),We(""),je(null)},maxWidth:"sm",fullWidth:!0,children:[r.jsxs(Un,{children:["Save ",s===tt.FLOW?"Yoga":"HIIT"," Preset"]}),r.jsx(On,{children:r.jsxs(_e,{spacing:2,sx:{mt:2},children:[r.jsx(gt,{label:"Preset Name",value:ke,onChange:xe=>We(xe.target.value),fullWidth:!0,autoFocus:!0,placeholder:s===tt.FLOW?"e.g., Morning Flow, Evening Stretch":"e.g., Tabata, Circuit Training"}),r.jsx(R,{variant:"body2",color:"text.secondary",children:s===tt.FLOW?`This will save your current pose sequence (${ge.length} poses)`:"This will save your current interval configuration"})]})}),r.jsxs(Rn,{children:[r.jsx(Ae,{onClick:()=>{Ie(!1),We(""),je(null)},children:"Cancel"}),r.jsx(Ae,{variant:"contained",onClick:au,disabled:!ke.trim(),children:"Save Preset"})]})]})]})})};ux.propTypes={onNavigate:E.func,hideBackButton:E.bool};const ND=({onNavigate:e})=>r.jsx(L,{children:r.jsx(ux,{onNavigate:e,hideBackButton:!0})});ND.propTypes={onNavigate:E.func};var $F=function(t){return KF(t)&&!QF(t)};function KF(e){return!!e&&typeof e=="object"}function QF(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||JF(e)}var XF=typeof Symbol=="function"&&Symbol.for,ZF=XF?Symbol.for("react.element"):60103;function JF(e){return e.$$typeof===ZF}function e4(e){return Array.isArray(e)?[]:{}}function ch(e,t){return t.clone!==!1&&t.isMergeableObject(e)?Nc(e4(e),e,t):e}function t4(e,t,s){return e.concat(t).map(function(a){return ch(a,s)})}function n4(e,t,s){var a={};return s.isMergeableObject(e)&&Object.keys(e).forEach(function(l){a[l]=ch(e[l],s)}),Object.keys(t).forEach(function(l){!s.isMergeableObject(t[l])||!e[l]?a[l]=ch(t[l],s):a[l]=Nc(e[l],t[l],s)}),a}function Nc(e,t,s){s=s||{},s.arrayMerge=s.arrayMerge||t4,s.isMergeableObject=s.isMergeableObject||$F;var a=Array.isArray(t),l=Array.isArray(e),u=a===l;return u?a?s.arrayMerge(e,t,s):n4(e,t,s):ch(t,s)}Nc.all=function(t,s){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(a,l){return Nc(a,l,s)},{})};var yg=Nc,LD=typeof global=="object"&&global&&global.Object===Object&&global,s4=typeof self=="object"&&self&&self.Object===Object&&self,xi=LD||s4||Function("return this")(),Ia=xi.Symbol,BD=Object.prototype,i4=BD.hasOwnProperty,a4=BD.toString,rc=Ia?Ia.toStringTag:void 0;function r4(e){var t=i4.call(e,rc),s=e[rc];try{e[rc]=void 0;var a=!0}catch{}var l=a4.call(e);return a&&(t?e[rc]=s:delete e[rc]),l}var o4=Object.prototype,l4=o4.toString;function c4(e){return l4.call(e)}var u4="[object Null]",d4="[object Undefined]",N1=Ia?Ia.toStringTag:void 0;function Ar(e){return e==null?e===void 0?d4:u4:N1&&N1 in Object(e)?r4(e):c4(e)}function VD(e,t){return function(s){return e(t(s))}}var dx=VD(Object.getPrototypeOf,Object);function Pr(e){return e!=null&&typeof e=="object"}var h4="[object Object]",f4=Function.prototype,p4=Object.prototype,zD=f4.toString,m4=p4.hasOwnProperty,g4=zD.call(Object);function L1(e){if(!Pr(e)||Ar(e)!=h4)return!1;var t=dx(e);if(t===null)return!0;var s=m4.call(t,"constructor")&&t.constructor;return typeof s=="function"&&s instanceof s&&zD.call(s)==g4}function y4(){this.__data__=[],this.size=0}function FD(e,t){return e===t||e!==e&&t!==t}function Ih(e,t){for(var s=e.length;s--;)if(FD(e[s][0],t))return s;return-1}var x4=Array.prototype,b4=x4.splice;function v4(e){var t=this.__data__,s=Ih(t,e);if(s<0)return!1;var a=t.length-1;return s==a?t.pop():b4.call(t,s,1),--this.size,!0}function S4(e){var t=this.__data__,s=Ih(t,e);return s<0?void 0:t[s][1]}function w4(e){return Ih(this.__data__,e)>-1}function C4(e,t){var s=this.__data__,a=Ih(s,e);return a<0?(++this.size,s.push([e,t])):s[a][1]=t,this}function Qi(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}Qi.prototype.clear=y4;Qi.prototype.delete=v4;Qi.prototype.get=S4;Qi.prototype.has=w4;Qi.prototype.set=C4;function T4(){this.__data__=new Qi,this.size=0}function k4(e){var t=this.__data__,s=t.delete(e);return this.size=t.size,s}function j4(e){return this.__data__.get(e)}function D4(e){return this.__data__.has(e)}function nu(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var E4="[object AsyncFunction]",M4="[object Function]",A4="[object GeneratorFunction]",P4="[object Proxy]";function HD(e){if(!nu(e))return!1;var t=Ar(e);return t==M4||t==A4||t==E4||t==P4}var Mm=xi["__core-js_shared__"],B1=(function(){var e=/[^.]+$/.exec(Mm&&Mm.keys&&Mm.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function O4(e){return!!B1&&B1 in e}var R4=Function.prototype,_4=R4.toString;function Or(e){if(e!=null){try{return _4.call(e)}catch{}try{return e+""}catch{}}return""}var I4=/[\\^$.*+?()[\]{}|]/g,W4=/^\[object .+?Constructor\]$/,N4=Function.prototype,L4=Object.prototype,B4=N4.toString,V4=L4.hasOwnProperty,z4=RegExp("^"+B4.call(V4).replace(I4,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function F4(e){if(!nu(e)||O4(e))return!1;var t=HD(e)?z4:W4;return t.test(Or(e))}function H4(e,t){return e?.[t]}function Rr(e,t){var s=H4(e,t);return F4(s)?s:void 0}var Lc=Rr(xi,"Map"),Bc=Rr(Object,"create");function U4(){this.__data__=Bc?Bc(null):{},this.size=0}function q4(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Y4="__lodash_hash_undefined__",G4=Object.prototype,$4=G4.hasOwnProperty;function K4(e){var t=this.__data__;if(Bc){var s=t[e];return s===Y4?void 0:s}return $4.call(t,e)?t[e]:void 0}var Q4=Object.prototype,X4=Q4.hasOwnProperty;function Z4(e){var t=this.__data__;return Bc?t[e]!==void 0:X4.call(t,e)}var J4="__lodash_hash_undefined__";function eH(e,t){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=Bc&&t===void 0?J4:t,this}function jr(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}jr.prototype.clear=U4;jr.prototype.delete=q4;jr.prototype.get=K4;jr.prototype.has=Z4;jr.prototype.set=eH;function tH(){this.size=0,this.__data__={hash:new jr,map:new(Lc||Qi),string:new jr}}function nH(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Wh(e,t){var s=e.__data__;return nH(t)?s[typeof t=="string"?"string":"hash"]:s.map}function sH(e){var t=Wh(this,e).delete(e);return this.size-=t?1:0,t}function iH(e){return Wh(this,e).get(e)}function aH(e){return Wh(this,e).has(e)}function rH(e,t){var s=Wh(this,e),a=s.size;return s.set(e,t),this.size+=s.size==a?0:1,this}function Va(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}Va.prototype.clear=tH;Va.prototype.delete=sH;Va.prototype.get=iH;Va.prototype.has=aH;Va.prototype.set=rH;var oH=200;function lH(e,t){var s=this.__data__;if(s instanceof Qi){var a=s.__data__;if(!Lc||a.length<oH-1)return a.push([e,t]),this.size=++s.size,this;s=this.__data__=new Va(a)}return s.set(e,t),this.size=s.size,this}function rl(e){var t=this.__data__=new Qi(e);this.size=t.size}rl.prototype.clear=T4;rl.prototype.delete=k4;rl.prototype.get=j4;rl.prototype.has=D4;rl.prototype.set=lH;function cH(e,t){for(var s=-1,a=e==null?0:e.length;++s<a&&t(e[s],s,e)!==!1;);return e}var V1=(function(){try{var e=Rr(Object,"defineProperty");return e({},"",{}),e}catch{}})();function UD(e,t,s){t=="__proto__"&&V1?V1(e,t,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[t]=s}var uH=Object.prototype,dH=uH.hasOwnProperty;function qD(e,t,s){var a=e[t];(!(dH.call(e,t)&&FD(a,s))||s===void 0&&!(t in e))&&UD(e,t,s)}function Nh(e,t,s,a){var l=!s;s||(s={});for(var u=-1,d=t.length;++u<d;){var h=t[u],p=void 0;p===void 0&&(p=e[h]),l?UD(s,h,p):qD(s,h,p)}return s}function hH(e,t){for(var s=-1,a=Array(e);++s<e;)a[s]=t(s);return a}var fH="[object Arguments]";function z1(e){return Pr(e)&&Ar(e)==fH}var YD=Object.prototype,pH=YD.hasOwnProperty,mH=YD.propertyIsEnumerable,gH=z1((function(){return arguments})())?z1:function(e){return Pr(e)&&pH.call(e,"callee")&&!mH.call(e,"callee")},su=Array.isArray;function yH(){return!1}var GD=typeof Cs=="object"&&Cs&&!Cs.nodeType&&Cs,F1=GD&&typeof Ts=="object"&&Ts&&!Ts.nodeType&&Ts,xH=F1&&F1.exports===GD,H1=xH?xi.Buffer:void 0,bH=H1?H1.isBuffer:void 0,$D=bH||yH,vH=9007199254740991,SH=/^(?:0|[1-9]\d*)$/;function wH(e,t){var s=typeof e;return t=t??vH,!!t&&(s=="number"||s!="symbol"&&SH.test(e))&&e>-1&&e%1==0&&e<t}var CH=9007199254740991;function KD(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=CH}var TH="[object Arguments]",kH="[object Array]",jH="[object Boolean]",DH="[object Date]",EH="[object Error]",MH="[object Function]",AH="[object Map]",PH="[object Number]",OH="[object Object]",RH="[object RegExp]",_H="[object Set]",IH="[object String]",WH="[object WeakMap]",NH="[object ArrayBuffer]",LH="[object DataView]",BH="[object Float32Array]",VH="[object Float64Array]",zH="[object Int8Array]",FH="[object Int16Array]",HH="[object Int32Array]",UH="[object Uint8Array]",qH="[object Uint8ClampedArray]",YH="[object Uint16Array]",GH="[object Uint32Array]",Xt={};Xt[BH]=Xt[VH]=Xt[zH]=Xt[FH]=Xt[HH]=Xt[UH]=Xt[qH]=Xt[YH]=Xt[GH]=!0;Xt[TH]=Xt[kH]=Xt[NH]=Xt[jH]=Xt[LH]=Xt[DH]=Xt[EH]=Xt[MH]=Xt[AH]=Xt[PH]=Xt[OH]=Xt[RH]=Xt[_H]=Xt[IH]=Xt[WH]=!1;function $H(e){return Pr(e)&&KD(e.length)&&!!Xt[Ar(e)]}function hx(e){return function(t){return e(t)}}var QD=typeof Cs=="object"&&Cs&&!Cs.nodeType&&Cs,vc=QD&&typeof Ts=="object"&&Ts&&!Ts.nodeType&&Ts,KH=vc&&vc.exports===QD,Am=KH&&LD.process,Jo=(function(){try{var e=vc&&vc.require&&vc.require("util").types;return e||Am&&Am.binding&&Am.binding("util")}catch{}})(),U1=Jo&&Jo.isTypedArray,QH=U1?hx(U1):$H,XH=Object.prototype,ZH=XH.hasOwnProperty;function XD(e,t){var s=su(e),a=!s&&gH(e),l=!s&&!a&&$D(e),u=!s&&!a&&!l&&QH(e),d=s||a||l||u,h=d?hH(e.length,String):[],p=h.length;for(var g in e)(t||ZH.call(e,g))&&!(d&&(g=="length"||l&&(g=="offset"||g=="parent")||u&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||wH(g,p)))&&h.push(g);return h}var JH=Object.prototype;function fx(e){var t=e&&e.constructor,s=typeof t=="function"&&t.prototype||JH;return e===s}var eU=VD(Object.keys,Object),tU=Object.prototype,nU=tU.hasOwnProperty;function sU(e){if(!fx(e))return eU(e);var t=[];for(var s in Object(e))nU.call(e,s)&&s!="constructor"&&t.push(s);return t}function ZD(e){return e!=null&&KD(e.length)&&!HD(e)}function px(e){return ZD(e)?XD(e):sU(e)}function iU(e,t){return e&&Nh(t,px(t),e)}function aU(e){var t=[];if(e!=null)for(var s in Object(e))t.push(s);return t}var rU=Object.prototype,oU=rU.hasOwnProperty;function lU(e){if(!nu(e))return aU(e);var t=fx(e),s=[];for(var a in e)a=="constructor"&&(t||!oU.call(e,a))||s.push(a);return s}function mx(e){return ZD(e)?XD(e,!0):lU(e)}function cU(e,t){return e&&Nh(t,mx(t),e)}var JD=typeof Cs=="object"&&Cs&&!Cs.nodeType&&Cs,q1=JD&&typeof Ts=="object"&&Ts&&!Ts.nodeType&&Ts,uU=q1&&q1.exports===JD,Y1=uU?xi.Buffer:void 0,G1=Y1?Y1.allocUnsafe:void 0;function dU(e,t){if(t)return e.slice();var s=e.length,a=G1?G1(s):new e.constructor(s);return e.copy(a),a}function eE(e,t){var s=-1,a=e.length;for(t||(t=Array(a));++s<a;)t[s]=e[s];return t}function hU(e,t){for(var s=-1,a=e==null?0:e.length,l=0,u=[];++s<a;){var d=e[s];t(d,s,e)&&(u[l++]=d)}return u}function tE(){return[]}var fU=Object.prototype,pU=fU.propertyIsEnumerable,$1=Object.getOwnPropertySymbols,gx=$1?function(e){return e==null?[]:(e=Object(e),hU($1(e),function(t){return pU.call(e,t)}))}:tE;function mU(e,t){return Nh(e,gx(e),t)}function nE(e,t){for(var s=-1,a=t.length,l=e.length;++s<a;)e[l+s]=t[s];return e}var gU=Object.getOwnPropertySymbols,sE=gU?function(e){for(var t=[];e;)nE(t,gx(e)),e=dx(e);return t}:tE;function yU(e,t){return Nh(e,sE(e),t)}function iE(e,t,s){var a=t(e);return su(e)?a:nE(a,s(e))}function xU(e){return iE(e,px,gx)}function bU(e){return iE(e,mx,sE)}var xg=Rr(xi,"DataView"),bg=Rr(xi,"Promise"),vg=Rr(xi,"Set"),Sg=Rr(xi,"WeakMap"),K1="[object Map]",vU="[object Object]",Q1="[object Promise]",X1="[object Set]",Z1="[object WeakMap]",J1="[object DataView]",SU=Or(xg),wU=Or(Lc),CU=Or(bg),TU=Or(vg),kU=Or(Sg),Bi=Ar;(xg&&Bi(new xg(new ArrayBuffer(1)))!=J1||Lc&&Bi(new Lc)!=K1||bg&&Bi(bg.resolve())!=Q1||vg&&Bi(new vg)!=X1||Sg&&Bi(new Sg)!=Z1)&&(Bi=function(e){var t=Ar(e),s=t==vU?e.constructor:void 0,a=s?Or(s):"";if(a)switch(a){case SU:return J1;case wU:return K1;case CU:return Q1;case TU:return X1;case kU:return Z1}return t});var jU=Object.prototype,DU=jU.hasOwnProperty;function EU(e){var t=e.length,s=new e.constructor(t);return t&&typeof e[0]=="string"&&DU.call(e,"index")&&(s.index=e.index,s.input=e.input),s}var eC=xi.Uint8Array;function yx(e){var t=new e.constructor(e.byteLength);return new eC(t).set(new eC(e)),t}function MU(e,t){var s=t?yx(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.byteLength)}var AU=/\w*$/;function PU(e){var t=new e.constructor(e.source,AU.exec(e));return t.lastIndex=e.lastIndex,t}var tC=Ia?Ia.prototype:void 0,nC=tC?tC.valueOf:void 0;function OU(e){return nC?Object(nC.call(e)):{}}function RU(e,t){var s=t?yx(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.length)}var _U="[object Boolean]",IU="[object Date]",WU="[object Map]",NU="[object Number]",LU="[object RegExp]",BU="[object Set]",VU="[object String]",zU="[object Symbol]",FU="[object ArrayBuffer]",HU="[object DataView]",UU="[object Float32Array]",qU="[object Float64Array]",YU="[object Int8Array]",GU="[object Int16Array]",$U="[object Int32Array]",KU="[object Uint8Array]",QU="[object Uint8ClampedArray]",XU="[object Uint16Array]",ZU="[object Uint32Array]";function JU(e,t,s){var a=e.constructor;switch(t){case FU:return yx(e);case _U:case IU:return new a(+e);case HU:return MU(e,s);case UU:case qU:case YU:case GU:case $U:case KU:case QU:case XU:case ZU:return RU(e,s);case WU:return new a;case NU:case VU:return new a(e);case LU:return PU(e);case BU:return new a;case zU:return OU(e)}}var sC=Object.create,e8=(function(){function e(){}return function(t){if(!nu(t))return{};if(sC)return sC(t);e.prototype=t;var s=new e;return e.prototype=void 0,s}})();function t8(e){return typeof e.constructor=="function"&&!fx(e)?e8(dx(e)):{}}var n8="[object Map]";function s8(e){return Pr(e)&&Bi(e)==n8}var iC=Jo&&Jo.isMap,i8=iC?hx(iC):s8,a8="[object Set]";function r8(e){return Pr(e)&&Bi(e)==a8}var aC=Jo&&Jo.isSet,o8=aC?hx(aC):r8,l8=1,c8=2,u8=4,aE="[object Arguments]",d8="[object Array]",h8="[object Boolean]",f8="[object Date]",p8="[object Error]",rE="[object Function]",m8="[object GeneratorFunction]",g8="[object Map]",y8="[object Number]",oE="[object Object]",x8="[object RegExp]",b8="[object Set]",v8="[object String]",S8="[object Symbol]",w8="[object WeakMap]",C8="[object ArrayBuffer]",T8="[object DataView]",k8="[object Float32Array]",j8="[object Float64Array]",D8="[object Int8Array]",E8="[object Int16Array]",M8="[object Int32Array]",A8="[object Uint8Array]",P8="[object Uint8ClampedArray]",O8="[object Uint16Array]",R8="[object Uint32Array]",Yt={};Yt[aE]=Yt[d8]=Yt[C8]=Yt[T8]=Yt[h8]=Yt[f8]=Yt[k8]=Yt[j8]=Yt[D8]=Yt[E8]=Yt[M8]=Yt[g8]=Yt[y8]=Yt[oE]=Yt[x8]=Yt[b8]=Yt[v8]=Yt[S8]=Yt[A8]=Yt[P8]=Yt[O8]=Yt[R8]=!0;Yt[p8]=Yt[rE]=Yt[w8]=!1;function Sc(e,t,s,a,l,u){var d,h=t&l8,p=t&c8,g=t&u8;if(d!==void 0)return d;if(!nu(e))return e;var y=su(e);if(y){if(d=EU(e),!h)return eE(e,d)}else{var b=Bi(e),v=b==rE||b==m8;if($D(e))return dU(e,h);if(b==oE||b==aE||v&&!l){if(d=p||v?{}:t8(e),!h)return p?yU(e,cU(d,e)):mU(e,iU(d,e))}else{if(!Yt[b])return l?e:{};d=JU(e,b,h)}}u||(u=new rl);var S=u.get(e);if(S)return S;u.set(e,d),o8(e)?e.forEach(function(w){d.add(Sc(w,t,s,w,e,u))}):i8(e)&&e.forEach(function(w,T){d.set(T,Sc(w,t,s,T,e,u))});var j=g?p?bU:xU:p?mx:px,k=y?void 0:j(e);return cH(k||e,function(w,T){k&&(T=w,w=e[T]),qD(d,T,Sc(w,t,s,T,e,u))}),d}var _8=1,I8=4;function Dd(e){return Sc(e,_8|I8)}var Pm,rC;function W8(){if(rC)return Pm;rC=1;var e=Array.isArray,t=Object.keys,s=Object.prototype.hasOwnProperty,a=typeof Element<"u";function l(u,d){if(u===d)return!0;if(u&&d&&typeof u=="object"&&typeof d=="object"){var h=e(u),p=e(d),g,y,b;if(h&&p){if(y=u.length,y!=d.length)return!1;for(g=y;g--!==0;)if(!l(u[g],d[g]))return!1;return!0}if(h!=p)return!1;var v=u instanceof Date,S=d instanceof Date;if(v!=S)return!1;if(v&&S)return u.getTime()==d.getTime();var j=u instanceof RegExp,k=d instanceof RegExp;if(j!=k)return!1;if(j&&k)return u.toString()==d.toString();var w=t(u);if(y=w.length,y!==t(d).length)return!1;for(g=y;g--!==0;)if(!s.call(d,w[g]))return!1;if(a&&u instanceof Element&&d instanceof Element)return u===d;for(g=y;g--!==0;)if(b=w[g],!(b==="_owner"&&u.$$typeof)&&!l(u[b],d[b]))return!1;return!0}return u!==u&&d!==d}return Pm=function(d,h){try{return l(d,h)}catch(p){if(p.message&&p.message.match(/stack|recursion/i)||p.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",p.name,p.message),!1;throw p}},Pm}var N8=W8();const pr=FC(N8);var L8=4;function oC(e){return Sc(e,L8)}function lE(e,t){for(var s=-1,a=e==null?0:e.length,l=Array(a);++s<a;)l[s]=t(e[s],s,e);return l}var B8="[object Symbol]";function xx(e){return typeof e=="symbol"||Pr(e)&&Ar(e)==B8}var V8="Expected a function";function bx(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(V8);var s=function(){var a=arguments,l=t?t.apply(this,a):a[0],u=s.cache;if(u.has(l))return u.get(l);var d=e.apply(this,a);return s.cache=u.set(l,d)||u,d};return s.cache=new(bx.Cache||Va),s}bx.Cache=Va;var z8=500;function F8(e){var t=bx(e,function(a){return s.size===z8&&s.clear(),a}),s=t.cache;return t}var H8=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,U8=/\\(\\)?/g,q8=F8(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(H8,function(s,a,l,u){t.push(l?u.replace(U8,"$1"):a||s)}),t});function Y8(e){if(typeof e=="string"||xx(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var lC=Ia?Ia.prototype:void 0,cC=lC?lC.toString:void 0;function cE(e){if(typeof e=="string")return e;if(su(e))return lE(e,cE)+"";if(xx(e))return cC?cC.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function G8(e){return e==null?"":cE(e)}function uE(e){return su(e)?lE(e,Y8):xx(e)?[e]:eE(q8(G8(e)))}function Zt(){return Zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Zt.apply(this,arguments)}function _o(e,t){if(e==null)return{};var s={},a=Object.keys(e),l,u;for(u=0;u<a.length;u++)l=a[u],!(t.indexOf(l)>=0)&&(s[l]=e[l]);return s}var Lh=x.createContext(void 0);Lh.displayName="FormikContext";var $8=Lh.Provider;Lh.Consumer;function dE(){var e=x.useContext(Lh);return e}var ds=function(t){return typeof t=="function"},Bh=function(t){return t!==null&&typeof t=="object"},K8=function(t){return String(Math.floor(Number(t)))===t},Om=function(t){return Object.prototype.toString.call(t)==="[object String]"},Q8=function(t){return x.Children.count(t)===0},Rm=function(t){return Bh(t)&&ds(t.then)};function us(e,t,s,a){a===void 0&&(a=0);for(var l=uE(t);e&&a<l.length;)e=e[l[a++]];return a!==l.length&&!e||e===void 0?s:e}function Sr(e,t,s){for(var a=oC(e),l=a,u=0,d=uE(t);u<d.length-1;u++){var h=d[u],p=us(e,d.slice(0,u+1));if(p&&(Bh(p)||Array.isArray(p)))l=l[h]=oC(p);else{var g=d[u+1];l=l[h]=K8(g)&&Number(g)>=0?[]:{}}}return(u===0?e:l)[d[u]]===s?e:(s===void 0?delete l[d[u]]:l[d[u]]=s,u===0&&s===void 0&&delete a[d[u]],a)}function hE(e,t,s,a){s===void 0&&(s=new WeakMap),a===void 0&&(a={});for(var l=0,u=Object.keys(e);l<u.length;l++){var d=u[l],h=e[d];Bh(h)?s.get(h)||(s.set(h,!0),a[d]=Array.isArray(h)?[]:{},hE(h,t,s,a[d])):a[d]=t}return a}function X8(e,t){switch(t.type){case"SET_VALUES":return Zt({},e,{values:t.payload});case"SET_TOUCHED":return Zt({},e,{touched:t.payload});case"SET_ERRORS":return pr(e.errors,t.payload)?e:Zt({},e,{errors:t.payload});case"SET_STATUS":return Zt({},e,{status:t.payload});case"SET_ISSUBMITTING":return Zt({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return Zt({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return Zt({},e,{values:Sr(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return Zt({},e,{touched:Sr(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return Zt({},e,{errors:Sr(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return Zt({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return Zt({},e,{touched:hE(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":return Zt({},e,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Zt({},e,{isSubmitting:!1});default:return e}}var ur={},Ed={};function Z8(e){var t=e.validateOnChange,s=t===void 0?!0:t,a=e.validateOnBlur,l=a===void 0?!0:a,u=e.validateOnMount,d=u===void 0?!1:u,h=e.isInitialValid,p=e.enableReinitialize,g=p===void 0?!1:p,y=e.onSubmit,b=_o(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),v=Zt({validateOnChange:s,validateOnBlur:l,validateOnMount:d,onSubmit:y},b),S=x.useRef(v.initialValues),j=x.useRef(v.initialErrors||ur),k=x.useRef(v.initialTouched||Ed),w=x.useRef(v.initialStatus),T=x.useRef(!1),D=x.useRef({});x.useEffect(function(){return T.current=!0,function(){T.current=!1}},[]);var A=x.useState(0),W=A[1],P=x.useRef({values:Dd(v.initialValues),errors:Dd(v.initialErrors)||ur,touched:Dd(v.initialTouched)||Ed,status:Dd(v.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),O=P.current,_=x.useCallback(function(X){var je=P.current;P.current=X8(je,X),je!==P.current&&W(function(De){return De+1})},[]),N=x.useCallback(function(X,je){return new Promise(function(De,Me){var Le=v.validate(X,je);Le==null?De(ur):Rm(Le)?Le.then(function(Ue){De(Ue||ur)},function(Ue){Me(Ue)}):De(Le)})},[v.validate]),I=x.useCallback(function(X,je){var De=v.validationSchema,Me=ds(De)?De(je):De,Le=je&&Me.validateAt?Me.validateAt(je,X):t7(X,Me);return new Promise(function(Ue,ft){Le.then(function(){Ue(ur)},function(qe){qe.name==="ValidationError"?Ue(e7(qe)):ft(qe)})})},[v.validationSchema]),H=x.useCallback(function(X,je){return new Promise(function(De){return De(D.current[X].validate(je))})},[]),V=x.useCallback(function(X){var je=Object.keys(D.current).filter(function(Me){return ds(D.current[Me].validate)}),De=je.length>0?je.map(function(Me){return H(Me,us(X,Me))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(De).then(function(Me){return Me.reduce(function(Le,Ue,ft){return Ue==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||Ue&&(Le=Sr(Le,je[ft],Ue)),Le},{})})},[H]),B=x.useCallback(function(X){return Promise.all([V(X),v.validationSchema?I(X):{},v.validate?N(X):{}]).then(function(je){var De=je[0],Me=je[1],Le=je[2],Ue=yg.all([De,Me,Le],{arrayMerge:n7});return Ue})},[v.validate,v.validationSchema,V,N,I]),de=Bs(function(X){return X===void 0&&(X=O.values),_({type:"SET_ISVALIDATING",payload:!0}),B(X).then(function(je){return T.current&&(_({type:"SET_ISVALIDATING",payload:!1}),_({type:"SET_ERRORS",payload:je})),je})});x.useEffect(function(){d&&T.current===!0&&pr(S.current,v.initialValues)&&de(S.current)},[d,de]);var q=x.useCallback(function(X){var je=X&&X.values?X.values:S.current,De=X&&X.errors?X.errors:j.current?j.current:v.initialErrors||{},Me=X&&X.touched?X.touched:k.current?k.current:v.initialTouched||{},Le=X&&X.status?X.status:w.current?w.current:v.initialStatus;S.current=je,j.current=De,k.current=Me,w.current=Le;var Ue=function(){_({type:"RESET_FORM",payload:{isSubmitting:!!X&&!!X.isSubmitting,errors:De,touched:Me,status:Le,values:je,isValidating:!!X&&!!X.isValidating,submitCount:X&&X.submitCount&&typeof X.submitCount=="number"?X.submitCount:0}})};if(v.onReset){var ft=v.onReset(O.values,Pe);Rm(ft)?ft.then(Ue):Ue()}else Ue()},[v.initialErrors,v.initialStatus,v.initialTouched,v.onReset]);x.useEffect(function(){T.current===!0&&!pr(S.current,v.initialValues)&&g&&(S.current=v.initialValues,q(),d&&de(S.current))},[g,v.initialValues,q,d,de]),x.useEffect(function(){g&&T.current===!0&&!pr(j.current,v.initialErrors)&&(j.current=v.initialErrors||ur,_({type:"SET_ERRORS",payload:v.initialErrors||ur}))},[g,v.initialErrors]),x.useEffect(function(){g&&T.current===!0&&!pr(k.current,v.initialTouched)&&(k.current=v.initialTouched||Ed,_({type:"SET_TOUCHED",payload:v.initialTouched||Ed}))},[g,v.initialTouched]),x.useEffect(function(){g&&T.current===!0&&!pr(w.current,v.initialStatus)&&(w.current=v.initialStatus,_({type:"SET_STATUS",payload:v.initialStatus}))},[g,v.initialStatus,v.initialTouched]);var ae=Bs(function(X){if(D.current[X]&&ds(D.current[X].validate)){var je=us(O.values,X),De=D.current[X].validate(je);return Rm(De)?(_({type:"SET_ISVALIDATING",payload:!0}),De.then(function(Me){return Me}).then(function(Me){_({type:"SET_FIELD_ERROR",payload:{field:X,value:Me}}),_({type:"SET_ISVALIDATING",payload:!1})})):(_({type:"SET_FIELD_ERROR",payload:{field:X,value:De}}),Promise.resolve(De))}else if(v.validationSchema)return _({type:"SET_ISVALIDATING",payload:!0}),I(O.values,X).then(function(Me){return Me}).then(function(Me){_({type:"SET_FIELD_ERROR",payload:{field:X,value:us(Me,X)}}),_({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),z=x.useCallback(function(X,je){var De=je.validate;D.current[X]={validate:De}},[]),U=x.useCallback(function(X){delete D.current[X]},[]),ue=Bs(function(X,je){_({type:"SET_TOUCHED",payload:X});var De=je===void 0?l:je;return De?de(O.values):Promise.resolve()}),fe=x.useCallback(function(X){_({type:"SET_ERRORS",payload:X})},[]),Ce=Bs(function(X,je){var De=ds(X)?X(O.values):X;_({type:"SET_VALUES",payload:De});var Me=je===void 0?s:je;return Me?de(De):Promise.resolve()}),we=x.useCallback(function(X,je){_({type:"SET_FIELD_ERROR",payload:{field:X,value:je}})},[]),Q=Bs(function(X,je,De){var Me=ds(je)?je(us(O.values,X)):je;_({type:"SET_FIELD_VALUE",payload:{field:X,value:Me}});var Le=De===void 0?s:De;return Le?de(Sr(O.values,X,Me)):Promise.resolve()}),J=x.useCallback(function(X,je){var De=je,Me=X,Le;if(!Om(X)){X.persist&&X.persist();var Ue=X.target?X.target:X.currentTarget,ft=Ue.type,qe=Ue.name,Qe=Ue.id,Ee=Ue.value,Re=Ue.checked;Ue.outerHTML;var Ve=Ue.options,Oe=Ue.multiple;De=je||qe||Qe,Me=/number|range/.test(ft)?(Le=parseFloat(Ee),isNaN(Le)?"":Le):/checkbox/.test(ft)?i7(us(O.values,De),Re,Ee):Ve&&Oe?s7(Ve):Ee}De&&Q(De,Me)},[Q,O.values]),he=Bs(function(X){if(Om(X))return function(je){return J(je,X)};J(X)}),be=Bs(function(X,je,De){je===void 0&&(je=!0),_({type:"SET_FIELD_TOUCHED",payload:{field:X,value:je}});var Me=De===void 0?l:De;return Me?de(O.values):Promise.resolve()}),ge=x.useCallback(function(X,je){X.persist&&X.persist();var De=X.target,Me=De.name,Le=De.id;De.outerHTML;var Ue=je||Me||Le;be(Ue,!0)},[be]),ie=Bs(function(X){if(Om(X))return function(je){return ge(je,X)};ge(X)}),Y=x.useCallback(function(X){ds(X)?_({type:"SET_FORMIK_STATE",payload:X}):_({type:"SET_FORMIK_STATE",payload:function(){return X}})},[]),oe=x.useCallback(function(X){_({type:"SET_STATUS",payload:X})},[]),$=x.useCallback(function(X){_({type:"SET_ISSUBMITTING",payload:X})},[]),le=Bs(function(){return _({type:"SUBMIT_ATTEMPT"}),de().then(function(X){var je=X instanceof Error,De=!je&&Object.keys(X).length===0;if(De){var Me;try{if(Me=pe(),Me===void 0)return}catch(Le){throw Le}return Promise.resolve(Me).then(function(Le){return T.current&&_({type:"SUBMIT_SUCCESS"}),Le}).catch(function(Le){if(T.current)throw _({type:"SUBMIT_FAILURE"}),Le})}else if(T.current&&(_({type:"SUBMIT_FAILURE"}),je))throw X})}),ye=Bs(function(X){X&&X.preventDefault&&ds(X.preventDefault)&&X.preventDefault(),X&&X.stopPropagation&&ds(X.stopPropagation)&&X.stopPropagation(),le().catch(function(je){console.warn("Warning: An unhandled error was caught from submitForm()",je)})}),Pe={resetForm:q,validateForm:de,validateField:ae,setErrors:fe,setFieldError:we,setFieldTouched:be,setFieldValue:Q,setStatus:oe,setSubmitting:$,setTouched:ue,setValues:Ce,setFormikState:Y,submitForm:le},pe=Bs(function(){return y(O.values,Pe)}),te=Bs(function(X){X&&X.preventDefault&&ds(X.preventDefault)&&X.preventDefault(),X&&X.stopPropagation&&ds(X.stopPropagation)&&X.stopPropagation(),q()}),ee=x.useCallback(function(X){return{value:us(O.values,X),error:us(O.errors,X),touched:!!us(O.touched,X),initialValue:us(S.current,X),initialTouched:!!us(k.current,X),initialError:us(j.current,X)}},[O.errors,O.touched,O.values]),Ne=x.useCallback(function(X){return{setValue:function(De,Me){return Q(X,De,Me)},setTouched:function(De,Me){return be(X,De,Me)},setError:function(De){return we(X,De)}}},[Q,be,we]),ot=x.useCallback(function(X){var je=Bh(X),De=je?X.name:X,Me=us(O.values,De),Le={name:De,value:Me,onChange:he,onBlur:ie};if(je){var Ue=X.type,ft=X.value,qe=X.as,Qe=X.multiple;Ue==="checkbox"?ft===void 0?Le.checked=!!Me:(Le.checked=!!(Array.isArray(Me)&&~Me.indexOf(ft)),Le.value=ft):Ue==="radio"?(Le.checked=Me===ft,Le.value=ft):qe==="select"&&Qe&&(Le.value=Le.value||[],Le.multiple=!0)}return Le},[ie,he,O.values]),Ie=x.useMemo(function(){return!pr(S.current,O.values)},[S.current,O.values]),ke=x.useMemo(function(){return typeof h<"u"?Ie?O.errors&&Object.keys(O.errors).length===0:h!==!1&&ds(h)?h(v):h:O.errors&&Object.keys(O.errors).length===0},[h,Ie,O.errors,v]),We=Zt({},O,{initialValues:S.current,initialErrors:j.current,initialTouched:k.current,initialStatus:w.current,handleBlur:ie,handleChange:he,handleReset:te,handleSubmit:ye,resetForm:q,setErrors:fe,setFormikState:Y,setFieldTouched:be,setFieldValue:Q,setFieldError:we,setStatus:oe,setSubmitting:$,setTouched:ue,setValues:Ce,submitForm:le,validateForm:de,validateField:ae,isValid:ke,dirty:Ie,unregisterField:U,registerField:z,getFieldProps:ot,getFieldMeta:ee,getFieldHelpers:Ne,validateOnBlur:l,validateOnChange:s,validateOnMount:d});return We}function J8(e){var t=Z8(e),s=e.component,a=e.children,l=e.render,u=e.innerRef;return x.useImperativeHandle(u,function(){return t}),x.createElement($8,{value:t},s?x.createElement(s,t):l?l(t):a?ds(a)?a(t):Q8(a)?null:x.Children.only(a):null)}function e7(e){var t={};if(e.inner){if(e.inner.length===0)return Sr(t,e.path,e.message);for(var l=e.inner,s=Array.isArray(l),a=0,l=s?l:l[Symbol.iterator]();;){var u;if(s){if(a>=l.length)break;u=l[a++]}else{if(a=l.next(),a.done)break;u=a.value}var d=u;us(t,d.path)||(t=Sr(t,d.path,d.message))}}return t}function t7(e,t,s,a){s===void 0&&(s=!1);var l=wg(e);return t[s?"validateSync":"validate"](l,{abortEarly:!1,context:l})}function wg(e){var t=Array.isArray(e)?[]:{};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var a=String(s);Array.isArray(e[a])===!0?t[a]=e[a].map(function(l){return Array.isArray(l)===!0||L1(l)?wg(l):l!==""?l:void 0}):L1(e[a])?t[a]=wg(e[a]):t[a]=e[a]!==""?e[a]:void 0}return t}function n7(e,t,s){var a=e.slice();return t.forEach(function(u,d){if(typeof a[d]>"u"){var h=s.clone!==!1,p=h&&s.isMergeableObject(u);a[d]=p?yg(Array.isArray(u)?[]:{},u,s):u}else s.isMergeableObject(u)?a[d]=yg(e[d],u,s):e.indexOf(u)===-1&&a.push(u)}),a}function s7(e){return Array.from(e).filter(function(t){return t.selected}).map(function(t){return t.value})}function i7(e,t,s){if(typeof e=="boolean")return!!t;var a=[],l=!1,u=-1;if(Array.isArray(e))a=e,u=e.indexOf(s),l=u>=0;else if(!s||s=="true"||s=="false")return!!t;return t&&s&&!l?a.concat(s):l?a.slice(0,u).concat(a.slice(u+1)):a}var a7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?x.useLayoutEffect:x.useEffect;function Bs(e){var t=x.useRef(e);return a7(function(){t.current=e}),x.useCallback(function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return t.current.apply(void 0,a)},[])}function So(e){var t=e.validate,s=e.name,a=e.render,l=e.children,u=e.as,d=e.component,h=e.className,p=_o(e,["validate","name","render","children","as","component","className"]),g=dE(),y=_o(g,["validate","validationSchema"]),b=y.registerField,v=y.unregisterField;x.useEffect(function(){return b(s,{validate:t}),function(){v(s)}},[b,v,s,t]);var S=y.getFieldProps(Zt({name:s},p)),j=y.getFieldMeta(s),k={field:S,form:y};if(a)return a(Zt({},k,{meta:j}));if(ds(l))return l(Zt({},k,{meta:j}));if(d){if(typeof d=="string"){var w=p.innerRef,T=_o(p,["innerRef"]);return x.createElement(d,Zt({ref:w},S,T,{className:h}),l)}return x.createElement(d,Zt({field:S,form:y},p,{className:h}),l)}var D=u||"input";if(typeof D=="string"){var A=p.innerRef,W=_o(p,["innerRef"]);return x.createElement(D,Zt({ref:A},S,W,{className:h}),l)}return x.createElement(D,Zt({},S,p,{className:h}),l)}var fE=x.forwardRef(function(e,t){var s=e.action,a=_o(e,["action"]),l=s??"#",u=dE(),d=u.handleReset,h=u.handleSubmit;return x.createElement("form",Zt({onSubmit:h,ref:t,onReset:d,action:l},a))});fE.displayName="Form";const vx=({open:e,onClose:t,onAssign:s,workoutData:a,currentSchedule:l})=>{const[u,d]=x.useState(null),h=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],p=S=>{d(S)},g=()=>{u&&s&&(s(u,a),y())},y=()=>{d(null),t()},b=S=>l&&l[S]!==null&&l[S]!==void 0,v=S=>S?{upper:"Upper Body",lower:"Lower Body",full:"Full Body",push:"Push",pull:"Pull",legs:"Legs",cardio:"Cardio",hiit:"HIIT",yoga:"Yoga",mobility:"Mobility",stretch:"Stretching",rest:"Rest"}[S.toLowerCase()]||S:"";return r.jsxs(Pn,{open:e,onClose:y,maxWidth:"sm",fullWidth:!0,children:[r.jsx(Un,{children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(kc,{color:"primary"}),r.jsx(R,{variant:"h6",children:"Assign to Day of Week"})]})}),r.jsxs(On,{children:[r.jsx(R,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Select which day of the week to assign this workout to. It will be suggested when you visit that day next week."}),r.jsx(Gn,{sx:{pt:0},children:h.map(S=>{const j=b(S),k=u===S,w=l?.[S];return r.jsx(ut,{disablePadding:!0,sx:{mb:1},children:r.jsx(Ni,{onClick:()=>p(S),selected:k,sx:{borderRadius:2,border:k?2:1,borderColor:k?"primary.main":"divider","&.Mui-selected":{backgroundColor:"primary.light","&:hover":{backgroundColor:"primary.light"}}},children:r.jsx(jt,{primary:r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(R,{variant:"body1",fontWeight:500,children:S}),k&&r.jsx(Uo,{color:"primary",fontSize:"small"})]}),secondary:j&&w?r.jsx(mt,{label:`Currently: ${v(w.sessionType)}`,size:"small",sx:{mt:.5},color:"info",variant:"outlined"}):"Not assigned"})})},S)})})]}),r.jsxs(Rn,{children:[r.jsx(Ae,{onClick:y,color:"inherit",children:"Cancel"}),r.jsxs(Ae,{onClick:g,variant:"contained",disabled:!u,children:["Assign to ",u]})]})]})};vx.propTypes={open:E.bool.isRequired,onClose:E.func.isRequired,onAssign:E.func.isRequired,workoutData:E.object,currentSchedule:E.object};const r7=60,o7=1500,xn={STRENGTH:"strength",CARDIO:"cardio",YOGA:"yoga",REST:"rest"},Ss={FULL:"full",UPPER:"upper",PUSH:"push",PULL:"pull",LEGS:"legs",CORE:"core"},Ks={GENERAL:"general",RUNNING:"running",CYCLING:"cycling",SWIMMING:"swimming",HIIT:"hiit"},Sx=({onNavigate:e})=>{const[t,s]=x.useState({show:!1,message:"",severity:"success"}),[a,l]=x.useState(!1),[u,d]=x.useState(null),[h,p]=x.useState(!1),[g,y]=x.useState(""),{isAutoAssignWeek:b,assignWorkoutToDay:v,weeklySchedule:S}=Na(),j={date:new Date,duration:"",notes:"",sessionName:"",sessionType:xn.STRENGTH,workoutType:Ss.FULL,cardioType:Ks.GENERAL,numExercises:"",setsPerExercise:""},k=_=>{const N={};return _.date||(N.date="Date is required"),_.sessionType!==xn.REST&&(_.duration?(isNaN(_.duration)||parseFloat(_.duration)<=0)&&(N.duration="Duration must be a positive number"):N.duration="Duration is required"),_.sessionType===xn.STRENGTH&&(_.numExercises?(isNaN(_.numExercises)||parseInt(_.numExercises)<=0)&&(N.numExercises="Must be a positive number"):N.numExercises="Number of exercises is required",_.setsPerExercise?(isNaN(_.setsPerExercise)||parseInt(_.setsPerExercise)<=0)&&(N.setsPerExercise="Must be a positive number"):N.setsPerExercise="Sets per exercise is required"),N},w=async(_,{setSubmitting:N,resetForm:I})=>{try{const H=_.date.getTime(),V=_.sessionType===xn.REST&&!_.duration?0:parseFloat(_.duration)*r7,B={date:H,duration:V,type:_.sessionType===xn.STRENGTH?_.workoutType:_.sessionType===xn.CARDIO?_.cardioType:_.sessionType,exercises:{},notes:_.notes.trim(),sessionName:_.sessionName.trim(),isManualLog:!0,sessionType:_.sessionType};if(_.sessionType===xn.STRENGTH&&(B.numExercises=parseInt(_.numExercises),B.setsPerExercise=parseInt(_.setsPerExercise)),await ty(B),_.sessionType!==xn.REST){const de=await Yc();de.totalWorkouts+=1,de.totalTime+=B.duration,await ny(de)}if(b()&&_.sessionType!==xn.REST){const de=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(H).getDay()],q={sessionType:_.sessionType,sessionName:T(_.sessionType,_.workoutType,_.cardioType),date:new Date(H).toISOString()};await v(de,q),s({show:!0,message:`Activity logged and assigned to ${de}!`,severity:"success"})}else d({sessionType:_.sessionType,sessionName:T(_.sessionType,_.workoutType,_.cardioType),date:new Date(H).toISOString()}),s({show:!0,message:"Activity logged successfully!",severity:"success"});I(),setTimeout(()=>{e&&e("progress")},o7)}catch(H){console.error("Error saving activity:",H),s({show:!0,message:"Failed to save activity. Please try again.",severity:"error"})}finally{N(!1)}},T=(_,N,I)=>_===xn.STRENGTH?{[Ss.FULL]:"Full Body",[Ss.UPPER]:"Upper Body",[Ss.PUSH]:"Push",[Ss.PULL]:"Pull",[Ss.LEGS]:"Legs",[Ss.CORE]:"Core"}[N]||"Strength":_===xn.CARDIO?{[Ks.GENERAL]:"Cardio",[Ks.RUNNING]:"Running",[Ks.CYCLING]:"Cycling",[Ks.SWIMMING]:"Swimming",[Ks.HIIT]:"HIIT"}[I]||"Cardio":{[xn.YOGA]:"Yoga",[xn.REST]:"Rest"}[_]||_,D=async _=>{if(u)try{await v(_,u),y(`Session assigned to ${_}`),p(!0),d(null)}catch(N){console.error("Error assigning session:",N),y("Failed to assign session"),p(!0)}},A=()=>r.jsx(fn,{sx:{fontSize:48,color:"primary.main"}}),W=()=>"primary.main",P=()=>"rgba(19, 70, 134, 0.1)",O=()=>"Log Activity";return r.jsx(Eh,{dateAdapter:lx,children:r.jsxs(L,{sx:{width:"100%",maxWidth:"700px",margin:"0 auto",padding:{xs:"1rem 0.75rem",sm:"1.5rem 1rem",md:"2rem 1rem"},boxSizing:"border-box"},children:[r.jsxs($e.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[r.jsxs(L,{sx:{mb:3,textAlign:"center"},children:[r.jsx(L,{sx:{display:"flex",justifyContent:"center",mb:2},children:r.jsx(L,{sx:{p:{xs:1.5,sm:2},borderRadius:"50%",bgcolor:P(),display:"flex",alignItems:"center",justifyContent:"center"},children:A()})}),r.jsx(R,{variant:"h3",sx:{fontWeight:700,color:W(),mb:1,fontSize:{xs:"1.5rem",sm:"2rem",md:"2.5rem"}},children:O()}),r.jsx(R,{variant:"body1",sx:{color:"text.secondary",mb:2,fontSize:{xs:"0.875rem",sm:"1rem"},px:{xs:1,sm:0}},children:"Manually log your completed activities"})]}),t.show&&r.jsx($e.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:r.jsx($t,{severity:t.severity,sx:{mb:3},onClose:()=>s({...t,show:!1}),children:t.message})}),r.jsx(nt,{sx:{borderRadius:3,width:"100%",boxSizing:"border-box"},children:r.jsx(ct,{sx:{p:{xs:2,sm:3},"&:last-child":{pb:{xs:2,sm:3}}},children:r.jsx(J8,{initialValues:j,validate:k,onSubmit:w,children:({errors:_,touched:N,isSubmitting:I,isValid:H,dirty:V,values:B,setFieldValue:de})=>r.jsx(fE,{children:r.jsxs(_e,{spacing:2,children:[r.jsx(So,{name:"date",children:()=>r.jsx(lh,{label:"Date",value:B.date,onChange:q=>de("date",q),slotProps:{textField:{fullWidth:!0,error:N.date&&!!_.date,helperText:N.date&&_.date,sx:{width:"100%"}}},sx:{width:"100%"}})}),r.jsxs(Ut,{fullWidth:!0,children:[r.jsx(An,{children:"Session Type"}),r.jsxs(Gt,{value:B.sessionType,label:"Session Type",onChange:q=>de("sessionType",q.target.value),children:[r.jsx(Be,{value:xn.STRENGTH,children:"Strength"}),r.jsx(Be,{value:xn.CARDIO,children:"Cardio"}),r.jsx(Be,{value:xn.YOGA,children:"Yoga"}),r.jsx(Be,{value:xn.REST,children:"Rest Day"})]})]}),B.sessionType===xn.STRENGTH&&r.jsxs(Ut,{fullWidth:!0,children:[r.jsx(An,{children:"Workout Type"}),r.jsxs(Gt,{value:B.workoutType,label:"Workout Type",onChange:q=>de("workoutType",q.target.value),children:[r.jsx(Be,{value:Ss.FULL,children:"Full Body"}),r.jsx(Be,{value:Ss.UPPER,children:"Upper Body"}),r.jsx(Be,{value:Ss.PUSH,children:"Push"}),r.jsx(Be,{value:Ss.PULL,children:"Pull"}),r.jsx(Be,{value:Ss.LEGS,children:"Legs"}),r.jsx(Be,{value:Ss.CORE,children:"Core"})]})]}),B.sessionType===xn.CARDIO&&r.jsxs(Ut,{fullWidth:!0,children:[r.jsx(An,{children:"Cardio Type"}),r.jsxs(Gt,{value:B.cardioType,label:"Cardio Type",onChange:q=>de("cardioType",q.target.value),children:[r.jsx(Be,{value:Ks.GENERAL,children:"General Cardio"}),r.jsx(Be,{value:Ks.RUNNING,children:"Running"}),r.jsx(Be,{value:Ks.CYCLING,children:"Cycling"}),r.jsx(Be,{value:Ks.SWIMMING,children:"Swimming"}),r.jsx(Be,{value:Ks.HIIT,children:"HIIT"})]})]}),B.sessionType!==xn.REST&&r.jsx(So,{name:"duration",children:({field:q})=>r.jsx(gt,{...q,fullWidth:!0,type:"number",label:"Duration (minutes)",placeholder:"e.g., 45",error:N.duration&&!!_.duration,helperText:N.duration&&_.duration,variant:"outlined",inputProps:{min:0,step:1}})}),B.sessionType===xn.STRENGTH&&r.jsxs(r.Fragment,{children:[r.jsx(So,{name:"numExercises",children:({field:q})=>r.jsx(gt,{...q,fullWidth:!0,type:"number",label:"Number of Exercises",placeholder:"e.g., 6",error:N.numExercises&&!!_.numExercises,helperText:N.numExercises&&_.numExercises,variant:"outlined",inputProps:{min:1,step:1}})}),r.jsx(So,{name:"setsPerExercise",children:({field:q})=>r.jsx(gt,{...q,fullWidth:!0,type:"number",label:"Sets per Exercise",placeholder:"e.g., 3",error:N.setsPerExercise&&!!_.setsPerExercise,helperText:N.setsPerExercise&&_.setsPerExercise,variant:"outlined",inputProps:{min:1,step:1}})})]}),r.jsx(So,{name:"sessionName",children:({field:q})=>r.jsx(gt,{...q,fullWidth:!0,label:"Session Name (optional)",placeholder:"e.g., Morning workout, Leg day, etc.",variant:"outlined"})}),r.jsx(So,{name:"notes",children:({field:q})=>r.jsx(gt,{...q,fullWidth:!0,multiline:!0,rows:4,label:"Notes (optional)",placeholder:"Add any notes about your session...",variant:"outlined"})}),r.jsx(Ae,{type:"submit",variant:"contained",fullWidth:!0,disabled:I||!H||!V,sx:{bgcolor:W(),"&:hover":{bgcolor:W(),filter:"brightness(0.9)"},py:1.5,fontWeight:600,mt:2},children:I?"Logging...":`Log ${O().replace("Log ","")}`}),!b()&&u&&r.jsx(Ae,{variant:"outlined",fullWidth:!0,startIcon:r.jsx(kc,{}),onClick:()=>l(!0),sx:{mt:1,py:1.5,fontWeight:600},children:"Assign to Day of Week"})]})})})})})]}),r.jsx(Hs,{open:h,autoHideDuration:3e3,onClose:()=>p(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx($t,{severity:"success",onClose:()=>p(!1),children:g})}),r.jsx(vx,{open:a,onClose:()=>l(!1),onAssign:D,workoutData:u,currentSchedule:S})]})})};Sx.propTypes={onNavigate:E.func};const pE=({onNavigate:e})=>r.jsx(L,{children:r.jsx(Sx,{onNavigate:e,hideBackButton:!0})});pE.propTypes={onNavigate:E.func};const mE=({onNavigate:e,loading:t=!1,workoutType:s,selectedEquipment:a,equipmentOptions:l,onWorkoutTypeChange:u,onEquipmentChange:d,onStartWorkout:h,onCustomize:p})=>{const[g,y]=x.useState(0),b=(S,j)=>{y(j)},v=S=>{y(S)};return r.jsxs(L,{sx:{padding:{xs:2,sm:2,md:3},maxWidth:"1200px",margin:"0 auto",minHeight:"calc(100vh - 60px)",paddingBottom:{xs:"80px",md:"2rem"}},children:[r.jsx(L,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:r.jsxs(Fc,{value:g,onChange:b,variant:"fullWidth",sx:{"& .MuiTab-root":{minHeight:64,fontSize:{xs:"0.875rem",sm:"1rem"},fontWeight:600}},children:[r.jsx(zi,{icon:r.jsx(fn,{}),label:"Workout",iconPosition:"start"}),r.jsx(zi,{icon:r.jsx(mi,{}),label:"Cardio & Yoga",iconPosition:"start"}),r.jsx(zi,{icon:r.jsx(V2,{}),label:"Activity",iconPosition:"start"})]})}),r.jsxs(L,{sx:{mt:2},children:[g===0&&r.jsx(cx,{onNavigate:e,loading:t,workoutType:s,selectedEquipment:a,equipmentOptions:l,onWorkoutTypeChange:u,onEquipmentChange:d,onStartWorkout:h,onCustomize:p,onTabChange:v}),g===1&&r.jsx(ND,{onNavigate:e}),g===2&&r.jsx(pE,{onNavigate:e})]})]})};mE.propTypes={onNavigate:E.func,loading:E.bool,workoutType:E.string,selectedEquipment:E.instanceOf(Set),equipmentOptions:E.array,onWorkoutTypeChange:E.func,onEquipmentChange:E.func,onStartWorkout:E.func,onCustomize:E.func};const uC=e=>({push:"Push",pull:"Pull",legs:"Legs",upper:"Upper Body",lower:"Lower Body",full:"Full Body",stretch:"Stretch",hiit:"HIIT",rest:"Rest",cardio:"Cardio",strength:"Strength",hypertrophy:"Hypertrophy",active_recovery:"Active Recovery"})[e]||e.charAt(0).toUpperCase()+e.slice(1),gE=({onStartWorkout:e,onNavigate:t})=>{const{weeklySchedule:s,currentWeek:a,deloadWeekActive:l,getWorkoutSuggestion:u}=Na(),[d,h]=x.useState(null),[p,g]=x.useState([]),[y,b]=x.useState(!1);x.useEffect(()=>{(async()=>{const O=await ni();g(O)})()},[]);const v=[{name:"Sunday",abbrev:"SUN"},{name:"Monday",abbrev:"MON"},{name:"Tuesday",abbrev:"TUE"},{name:"Wednesday",abbrev:"WED"},{name:"Thursday",abbrev:"THU"},{name:"Friday",abbrev:"FRI"},{name:"Saturday",abbrev:"SAT"}],S=P=>{if(!P)return r.jsx(fn,{});const O=P.toLowerCase();return O.includes("cardio")||O.includes("hiit")?r.jsx(mi,{}):O.includes("yoga")||O.includes("mobility")||O.includes("stretch")?r.jsx(ti,{}):O.includes("rest")?r.jsx(fh,{}):r.jsx(fn,{})},j=P=>{if(!P)return"primary";const O=P.toLowerCase();return O.includes("cardio")||O.includes("hiit")?"error":O.includes("yoga")||O.includes("mobility")||O.includes("stretch")?"secondary":O.includes("rest")?"default":"primary"},k=P=>P?{upper:"Upper Body",lower:"Lower Body",full:"Full Body",push:"Push",pull:"Pull",legs:"Legs",cardio:"Cardio",hiit:"HIIT",yoga:"Yoga",mobility:"Mobility",stretch:"Stretching",rest:"Rest"}[P.toLowerCase()]||P:"Not assigned",w=P=>{h(P)},T=()=>{h(null)},D=()=>{if(d&&s[d]){const P=s[d],O=(P.sessionType||"").toLowerCase();if(O.includes("rest")){T(),b(!0);return}if(O.includes("cardio")||O.includes("hiit")||O.includes("yoga")||O.includes("mobility")||O.includes("stretch")){T(),t&&t("timer");return}e&&e(P)}T()},W=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date().getDay()];return r.jsxs(L,{sx:{width:"100%",maxWidth:800,mx:"auto",p:2},children:[y&&r.jsx(Yy,{onClose:()=>b(!1)}),r.jsxs(L,{sx:{mb:3,textAlign:"center"},children:[r.jsxs(R,{variant:"h5",fontWeight:700,gutterBottom:!0,children:["Week ",a," Schedule"]}),l&&r.jsx(mt,{label:"Deload Week - Recovery Focus",color:"warning",icon:r.jsx(z2,{}),sx:{mt:1}})]}),r.jsx(_e,{spacing:2,children:v.map((P,O)=>{const _=s[P.name],N=P.name===W,I=_?null:u(P.name,p);return r.jsx($e.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:O*.05},children:r.jsx(nt,{sx:{borderRadius:2,border:N?2:1,borderColor:N?"primary.main":"divider",boxShadow:N?3:1,cursor:_?"pointer":"default",transition:"all 0.2s ease","&:hover":_?{transform:"translateY(-2px)",boxShadow:4}:{}},onClick:()=>_&&w(P.name),children:r.jsx(ct,{children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:2,flex:1},children:[r.jsxs(L,{sx:{minWidth:60,textAlign:"center"},children:[r.jsx(R,{variant:"overline",fontWeight:700,color:N?"primary.main":"text.secondary",children:P.abbrev}),N&&r.jsx(R,{variant:"caption",display:"block",color:"primary.main",children:"Today"})]}),r.jsx(L,{sx:{flex:1},children:_?r.jsxs(r.Fragment,{children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[S(_.sessionType),r.jsx(R,{variant:"body1",fontWeight:600,children:_.sessionName||k(_.sessionType)})]}),_.exercises&&_.exercises.length>0&&r.jsxs(R,{variant:"caption",color:"text.secondary",children:[_.exercises.length," exercises"]})]}):r.jsxs(L,{children:[r.jsx(R,{variant:"body2",color:"text.secondary",children:"No workout assigned"}),I&&r.jsxs(R,{variant:"caption",color:"info.main",children:["Suggestion: ",k(I.type||I.workoutType)]})]})}),_&&r.jsx(mt,{label:k(_.sessionType),color:j(_.sessionType),size:"small",variant:"outlined"})]}),_&&r.jsx(Xe,{color:"primary",sx:{ml:1},onClick:H=>{H.stopPropagation(),w(P.name)},children:r.jsx(Js,{})})]})})})},P.name)})}),r.jsx(Pn,{open:!!d,onClose:T,maxWidth:"sm",fullWidth:!0,children:d&&s[d]&&r.jsxs(r.Fragment,{children:[r.jsx(Un,{children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[r.jsxs(R,{variant:"h6",children:[d," - ",s[d].sessionName||k(s[d].sessionType)]}),r.jsx(Xe,{onClick:T,size:"small",children:r.jsx(gh,{})})]})}),r.jsx(On,{children:s[d].exercises&&s[d].exercises.length>0?r.jsxs(r.Fragment,{children:[r.jsx(R,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Exercises in this workout:"}),r.jsx(Gn,{dense:!0,children:s[d].exercises.map((P,O)=>r.jsxs(L,{children:[r.jsx(ut,{children:r.jsx(jt,{primary:P.name||P.exerciseName,secondary:P.muscleGroup||P.category||""})}),O<s[d].exercises.length-1&&r.jsx(vn,{})]},O))})]}):r.jsxs(R,{variant:"body2",color:"text.secondary",children:["This is a ",k(s[d].sessionType)," session.",(s[d].sessionType.toLowerCase().includes("cardio")||s[d].sessionType.toLowerCase().includes("yoga"))&&" Choose your specific workout when ready to start."]})}),r.jsxs(Rn,{children:[r.jsx(Ae,{onClick:T,color:"inherit",children:"Close"}),r.jsx(Ae,{onClick:D,variant:"contained",startIcon:r.jsx(Js,{}),children:"Start Workout"})]})]})})]})};gE.propTypes={onStartWorkout:E.func,onNavigate:E.func};const yE=x.memo(({todaysWorkout:e,nextWorkouts:t=[],lastWorkout:s,onQuickStart:a,onNavigate:l,loading:u=!1})=>{const[d,h]=x.useState("");x.useEffect(()=>{const v={weekday:"long",year:"numeric",month:"long",day:"numeric"};h(new Date().toLocaleDateString("en-US",v))},[]);const p=s&&s.date,y=(()=>{if(!p)return null;const v=new Date(s.date),j=Math.abs(new Date-v);return Math.ceil(j/GF.MILLISECONDS_PER_DAY)})(),b=[{title:"Workouts",icon:r.jsx(fn,{fontSize:"large"}),description:"Start a workout",color:"primary",action:()=>l("selection")},{title:"Plans",icon:r.jsx(kc,{fontSize:"large"}),description:"View weekly plan",color:"info",action:()=>l("plans")},{title:"HIIT",icon:r.jsx(Hc,{fontSize:"large"}),description:"High intensity training",color:"error",action:()=>l("hiit")},{title:"Stretching",icon:r.jsx(ti,{fontSize:"large"}),description:"Mobility & stretching",color:"secondary",action:()=>l("stretch")},{title:"Cardio",icon:r.jsx(mi,{fontSize:"large"}),description:"Track cardio activity",color:"warning",action:()=>l("cardio")}];return r.jsxs(L,{sx:{padding:{xs:"1rem",sm:"2rem",md:"3rem"},maxWidth:"1200px",margin:"0 auto",minHeight:"calc(100vh - 60px)"},children:[r.jsx(L,{sx:{mb:4,textAlign:"center"},children:r.jsx(R,{variant:"h5",sx:{fontWeight:600,color:"text.secondary",fontSize:{xs:"1rem",sm:"1.25rem"}},children:d})}),e&&r.jsx(nt,{sx:{mb:4,borderRadius:3,boxShadow:"0 4px 16px rgba(19, 70, 134, 0.12)",background:"linear-gradient(135deg, rgba(19, 70, 134, 0.05) 0%, rgba(237, 63, 39, 0.05) 100%)"},children:r.jsxs(ct,{sx:{p:3},children:[r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"start",mb:2},children:[r.jsxs(L,{children:[r.jsx(R,{variant:"overline",sx:{color:"primary.main",fontWeight:600,letterSpacing:1},children:"TODAY'S WORKOUT"}),r.jsxs(R,{variant:"h4",sx:{fontWeight:700,color:"text.primary",mt:1},children:[e.type!=="rest"?uC(e.type):"Rest Day",e.focus&&e.type!=="rest"&&r.jsx(mt,{label:e.focus,size:"small",sx:{ml:1,textTransform:"capitalize"}})]})]}),y!==null&&r.jsx(mt,{label:y===0?"Today":`${y}d ago`,size:"small",color:"primary",variant:"outlined"})]}),e.type!=="rest"?r.jsxs(r.Fragment,{children:[p&&r.jsxs(R,{variant:"body1",sx:{color:"text.secondary",mb:1},children:["Last session: ",Lj(s.duration||0),s.exercises&&`  ${s.exercises.length} exercises`]}),e.estimatedDuration&&r.jsxs(R,{variant:"body1",sx:{color:"text.secondary",mb:2},children:["Estimated: ~",e.estimatedDuration," min"]}),r.jsx(Ae,{variant:"contained",size:"large",startIcon:r.jsx(Js,{}),onClick:a,disabled:u,sx:{mt:1},children:"START WORKOUT"})]}):r.jsx(R,{variant:"body1",sx:{color:"text.secondary"},children:"Recovery is key to growth. Take it easy today!"}),t.length>0&&r.jsxs(L,{sx:{mt:3,pt:3,borderTop:"1px solid",borderColor:"divider"},children:[r.jsx(R,{variant:"caption",sx:{color:"text.secondary",fontWeight:600,textTransform:"uppercase",letterSpacing:.5},children:"Coming Up:"}),r.jsx(_e,{spacing:.5,sx:{mt:1},children:t.slice(0,2).map((v,S)=>v.type!=="rest"&&r.jsx(L,{sx:{display:"flex",alignItems:"center",pl:1,borderLeft:"2px solid",borderColor:"primary.main"},children:r.jsxs(R,{variant:"body2",sx:{color:"text.primary"},children:[r.jsxs("strong",{children:[v.day,":"]})," ",uC(v.type)]})},S))})]})]})}),r.jsx(L,{sx:{mb:4},children:r.jsxs(Wo,{defaultExpanded:!1,sx:{borderRadius:2,"&:before":{display:"none"},boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[r.jsxs(No,{expandIcon:r.jsx(Da,{}),sx:{"& .MuiAccordionSummary-content":{alignItems:"center",gap:1}},children:[r.jsx(kc,{color:"primary"}),r.jsx(R,{variant:"h6",fontWeight:600,children:"Weekly Schedule"})]}),r.jsx(Lo,{children:r.jsx(gE,{onStartWorkout:v=>{if(console.log("Start workout from schedule:",v),a){const S=(v.sessionType||"full").toLowerCase();a(S)}},onNavigate:l})})]})}),r.jsxs(L,{children:[r.jsx(R,{variant:"h5",sx:{fontWeight:700,color:"text.primary",mb:3},children:"Quick Access"}),r.jsx(Jt,{container:!0,spacing:2,children:b.map((v,S)=>r.jsx(Jt,{item:!0,xs:6,sm:4,md:2.4,children:r.jsx(nt,{sx:{height:"100%",cursor:"pointer",transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)"}},onClick:v.action,children:r.jsxs(ct,{sx:{textAlign:"center",p:3,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"150px"},children:[r.jsx(L,{sx:{color:`${v.color}.main`,mb:1.5},children:v.icon}),r.jsx(R,{variant:"h6",sx:{fontWeight:600,mb:.5,fontSize:{xs:"1rem",sm:"1.25rem"}},children:v.title}),r.jsx(R,{variant:"caption",sx:{color:"text.secondary",fontSize:{xs:"0.7rem",sm:"0.75rem"}},children:v.description})]})})},S))})]})]})});yE.displayName="TodayView";yE.propTypes={todaysWorkout:E.shape({day:E.string,type:E.string,focus:E.string,estimatedDuration:E.number,description:E.string}),nextWorkouts:E.arrayOf(E.shape({day:E.string,type:E.string,description:E.string})),lastWorkout:E.shape({date:E.string,duration:E.number,exercises:E.array}),onQuickStart:E.func.isRequired,onNavigate:E.func.isRequired,loading:E.bool};const Vh=({title:e,subtitle:t,icon:s,action:a})=>r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",py:1,px:2,borderBottom:"1px solid",borderColor:"divider",mb:2},children:[r.jsxs(L,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[s&&r.jsx("span",{style:{fontSize:"1.2rem"},children:s}),r.jsx(R,{variant:"h6",sx:{fontSize:"1.1rem",fontWeight:700},children:e})]}),t&&r.jsx(R,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.875rem"},children:t})]}),a&&a]});Vh.propTypes={title:E.string.isRequired,subtitle:E.string,icon:E.node,action:E.node};const wx=x.memo(({workoutType:e,selectedEquipment:t,equipmentOptions:s,onWorkoutTypeChange:a,onEquipmentChange:l,onStartWorkout:u,onCustomize:d,loading:h})=>{const[p,g]=x.useState([]),[y,b]=x.useState(!1),[v,S]=x.useState(null),[j,k]=x.useState(""),[w,T]=x.useState(null);x.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),Hi().then(g)},[]);const D=()=>{if(e){const V=t.has("all")?"all":Array.from(t);u(e,V)}},A=()=>{if(e&&d){const V=t.has("all")?"all":Array.from(t);d(e,V)}},W=async V=>{await MT(V);const B=await Hi();g(B)},P=V=>{S(V),k(V.name),b(!0)},O=async()=>{if(v&&j.trim()){await XR(v.id,j.trim());const V=await Hi();g(V),b(!1),S(null),k("")}},_=()=>{b(!1),S(null),k("")},N=V=>{a(V.type),l(V.equipment||"all");const B=V.equipment==="all"?"all":[V.equipment];u(V.type,B,V.exercises)},I=V=>{const B=new Set(t);V==="all"?(B.clear(),B.add("all")):(B.has("all")&&B.delete("all"),B.has(V)?B.delete(V):B.add(V),B.size===0&&B.add("all")),l(B)},H=()=>{if(t.has("all"))return"All Equipment";const V=Array.from(t);return V.length===0?"All Equipment":V.length===1?s.find(de=>de.toLowerCase()===V[0])||V[0]:`${V.length} selected`};return r.jsxs(L,{sx:{width:"100%",minHeight:"100vh"},children:[r.jsx(Vh,{title:"Workouts",icon:""}),r.jsxs($e.div,{className:"screen selection-screen",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"calc(100vh - 4rem)",padding:"1rem",paddingBottom:"max(2rem, calc(env(safe-area-inset-bottom) + 1rem))",overflow:"auto"},children:[h?r.jsx(L,{sx:{textAlign:"center"},children:r.jsx(R,{variant:"h5",sx:{mb:2},children:"Generating workout..."})}):r.jsx(L,{sx:{width:"100%",maxWidth:800},children:r.jsx(nt,{sx:{maxWidth:800,width:"100%",borderRadius:3,boxShadow:"0 8px 32px rgba(19, 70, 134, 0.12)"},children:r.jsxs(ct,{sx:{p:{xs:2,sm:4}},children:[r.jsx(L,{sx:{mb:3},children:r.jsxs(_e,{direction:{xs:"column",sm:"row"},spacing:2,sx:{width:"100%"},children:[r.jsxs(Ut,{fullWidth:!0,children:[r.jsx(An,{id:"workout-type-label",children:"Workout Type"}),r.jsxs(Gt,{labelId:"workout-type-label",id:"workout-type-select",value:e||"full",label:"Workout Type",onChange:V=>a(V.target.value),children:[r.jsx(Be,{value:"full",children:"Full Body"}),r.jsx(Be,{value:"upper",children:"Upper Body"}),r.jsx(Be,{value:"lower",children:"Lower Body"}),r.jsx(Be,{value:"push",children:"Push"}),r.jsx(Be,{value:"pull",children:"Pull"}),r.jsx(Be,{value:"legs",children:"Legs"})]})]}),r.jsx(L,{sx:{width:"100%"},children:r.jsxs(Wo,{sx:{boxShadow:"none",border:"1px solid rgba(0, 0, 0, 0.23)",borderRadius:"4px","&:before":{display:"none"},"&.Mui-expanded":{margin:0}},children:[r.jsx(No,{expandIcon:r.jsx(Da,{}),sx:{minHeight:"56px","&.Mui-expanded":{minHeight:"56px"},"& .MuiAccordionSummary-content":{margin:"16px 0","&.Mui-expanded":{margin:"16px 0"}}},children:r.jsxs(L,{sx:{display:"flex",flexDirection:"column",width:"100%"},children:[r.jsx(R,{variant:"caption",sx:{color:"rgba(0, 0, 0, 0.6)",fontSize:"0.75rem",lineHeight:1,mb:.5},children:"Equipment"}),r.jsx(R,{sx:{color:"rgba(0, 0, 0, 0.87)",fontSize:"1rem"},children:H()})]})}),r.jsx(Lo,{sx:{pt:0,pb:2},children:r.jsxs(L,{component:"div",role:"group","aria-label":"Equipment selection",children:[r.jsx(Fd,{control:r.jsx(TS,{checked:t.has("all"),onChange:()=>I("all")}),label:"All Equipment",sx:{mb:1,display:"flex"}}),s.map(V=>r.jsx(Fd,{control:r.jsx(TS,{checked:t.has(V.toLowerCase()),onChange:()=>I(V.toLowerCase())}),label:V,sx:{mb:1,display:"flex"}},V))]})})]})})]})}),p.length>0&&r.jsx(L,{sx:{mb:3},children:r.jsxs(Wo,{sx:{boxShadow:"none","&:before":{display:"none"}},children:[r.jsx(No,{expandIcon:r.jsx(Da,{}),children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(Pa,{sx:{color:"warning.main"}}),r.jsxs(R,{variant:"h6",sx:{fontWeight:600,color:"text.primary",fontSize:{xs:"1rem",sm:"1.25rem"}},children:["Favorite Workouts (",p.length,")"]})]})}),r.jsx(Lo,{children:r.jsx(_e,{spacing:1.5,children:p.map(V=>r.jsx(nt,{sx:{border:"1px solid",borderColor:"divider",boxShadow:"none","&:hover":{boxShadow:"0 2px 8px rgba(19, 70, 134, 0.1)"}},children:r.jsxs(ct,{sx:{p:2,"&:last-child":{pb:2}},children:[r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"start",mb:1},children:[r.jsxs(L,{sx:{flex:1},children:[r.jsx(R,{variant:"body1",sx:{fontWeight:600,mb:.5},children:V.name}),r.jsxs(_e,{direction:"row",spacing:1,sx:{mb:1},children:[r.jsx(mt,{label:V.type.charAt(0).toUpperCase()+V.type.slice(1),size:"small",sx:{fontSize:"0.7rem"}}),r.jsx(mt,{label:`${V.exercises.length} exercises`,size:"small",variant:"outlined",sx:{fontSize:"0.7rem"}})]})]}),r.jsxs(L,{sx:{display:"flex",gap:.5},children:[r.jsx(Xe,{size:"small",onClick:()=>P(V),sx:{color:"primary.main"},children:r.jsx(wr,{fontSize:"small"})}),r.jsx(Xe,{size:"small",onClick:()=>W(V.id),sx:{color:"error.main"},children:r.jsx(qo,{fontSize:"small"})})]})]}),r.jsxs(Wo,{expanded:w===V.id,onChange:()=>T(w===V.id?null:V.id),sx:{boxShadow:"none","&:before":{display:"none"},bgcolor:"transparent"},children:[r.jsx(No,{expandIcon:r.jsx(Da,{}),sx:{minHeight:"auto","& .MuiAccordionSummary-content":{margin:"8px 0"}},children:r.jsx(R,{variant:"caption",sx:{fontWeight:600,color:"primary.main"},children:"View Exercises"})}),r.jsx(Lo,{sx:{pt:0},children:r.jsx(Gn,{dense:!0,sx:{py:0},children:V.exercises.map((B,de)=>r.jsx(ut,{sx:{px:0},children:r.jsx(jt,{primary:B["Exercise Name"]||B.name||"Unknown Exercise",secondary:`${B.Equipment||B.equipment||"N/A"}  ${B["Primary Muscle"]||B.primaryMuscle||"N/A"}`,primaryTypographyProps:{variant:"body2",fontWeight:500},secondaryTypographyProps:{variant:"caption"}})},de))})})]}),r.jsx(Ae,{size:"small",variant:"contained",onClick:()=>N(V),sx:{fontSize:"0.8rem",textTransform:"none",mt:1},fullWidth:!0,children:"Load Workout"})]})},V.id))})})]})}),r.jsxs(_e,{direction:"row",spacing:2,sx:{width:"100%"},children:[r.jsx(Ae,{variant:"outlined",size:"large",fullWidth:!0,disabled:!e,onClick:A,sx:{py:2,fontSize:"1.1rem",fontWeight:600,borderRadius:2,textTransform:"none",borderWidth:2,"&:hover":{borderWidth:2}},children:"Customize"}),r.jsx(Ae,{variant:"contained",size:"large",fullWidth:!0,disabled:!e,onClick:D,sx:{py:2,fontSize:"1.1rem",fontWeight:600,borderRadius:2,textTransform:"none"},children:"Generate"})]})]})})}),r.jsxs(Pn,{open:y,onClose:_,maxWidth:"sm",fullWidth:!0,children:[r.jsx(Un,{children:"Edit Workout Name"}),r.jsx(On,{children:r.jsx(gt,{autoFocus:!0,margin:"dense",label:"Workout Name",type:"text",fullWidth:!0,variant:"outlined",value:j,onChange:V=>k(V.target.value),onKeyPress:V=>{V.key==="Enter"&&O()}})}),r.jsxs(Rn,{children:[r.jsx(Ae,{onClick:_,color:"inherit",children:"Cancel"}),r.jsx(Ae,{onClick:O,variant:"contained",disabled:!j.trim(),children:"Save"})]})]})]})]})});wx.displayName="SelectionScreen";wx.propTypes={workoutType:E.string.isRequired,selectedEquipment:E.instanceOf(Set).isRequired,equipmentOptions:E.array.isRequired,onWorkoutTypeChange:E.func.isRequired,onEquipmentChange:E.func.isRequired,onStartWorkout:E.func.isRequired,onCustomize:E.func,onNavigate:E.func,loading:E.bool.isRequired};const Cg=({type:e,workoutType:t,defaultDuration:s=5,onComplete:a,onSkip:l})=>{const[u,d]=x.useState("ready"),[h,p]=x.useState(s),[g,y]=x.useState(s*60),b=x.useRef(null),v=x.useRef(null),S=x.useRef(null);x.useEffect(()=>()=>{b.current&&clearInterval(b.current)},[]);const k=(()=>{if(e==="warmup"){const _="Recommended: 5-10 minutes of dynamic stretching",N={upper:"Focus on shoulder circles, arm swings, chest openers, and back rotations",lower:"Focus on leg swings, hip circles, knee lifts, and ankle rotations",full:"Focus on full body movement - jumping jacks, arm circles, leg swings, and torso twists"};return{main:_,specific:N[t]||N.full}}else{const _="Recommended: 5-10 minutes of static stretching",N={upper:"Hold stretches for 20-30 seconds - focus on shoulders, chest, back, and triceps",lower:"Hold stretches for 20-30 seconds - focus on quads, hamstrings, glutes, and calves",full:"Hold stretches for 20-30 seconds - focus on all major muscle groups you trained"};return{main:_,specific:N[t]||N.full}}})(),w=()=>{if(u==="ready"||u==="completed"){const _=h*60;y(_),d("running"),v.current=Date.now(),b.current=setInterval(()=>{const N=Math.floor((Date.now()-v.current)/1e3),I=_-N;I<=0?(clearInterval(b.current),y(0),d("completed"),Nt.playBeep(880,300),setTimeout(()=>Nt.playBeep(1046,300),350)):y(I)},1e3)}else if(u==="paused"){d("running");const _=Date.now()-S.current;v.current=v.current+_;const N=h*60;b.current=setInterval(()=>{const I=Math.floor((Date.now()-v.current)/1e3),H=N-I;H<=0?(clearInterval(b.current),y(0),d("completed"),Nt.playBeep(880,300),setTimeout(()=>Nt.playBeep(1046,300),350)):y(H)},1e3)}},T=()=>{u==="running"&&(d("paused"),S.current=Date.now(),b.current&&clearInterval(b.current))},D=()=>{b.current&&clearInterval(b.current),d("ready"),y(h*60)},A=()=>{b.current&&clearInterval(b.current),a()},W=()=>{b.current&&clearInterval(b.current),l()},P=_=>{const N=Math.floor(_/60),I=_%60;return`${N}:${I.toString().padStart(2,"0")}`},O=(h*60-g)/(h*60)*100;return r.jsx($e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},style:{width:"100%",maxWidth:"600px",margin:"0 auto",padding:"0.5rem"},children:r.jsx(nt,{sx:{borderRadius:2,boxShadow:3,bgcolor:"background.paper"},children:r.jsxs(ct,{sx:{p:3},children:[r.jsxs(L,{sx:{textAlign:"center",mb:3},children:[r.jsx(L,{sx:{display:"flex",justifyContent:"center",mb:2},children:e==="warmup"?r.jsx(fn,{sx:{fontSize:48,color:"warning.main"}}):r.jsx(ti,{sx:{fontSize:48,color:"info.main"}})}),r.jsx(R,{variant:"h5",sx:{fontWeight:600,mb:1},children:e==="warmup"?"Warm-Up Time":"Cool-Down Time"}),r.jsx(R,{variant:"body2",color:"text.secondary",sx:{mb:1},children:k.main}),r.jsx(R,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:k.specific})]}),u==="ready"&&r.jsxs(L,{sx:{mb:3},children:[r.jsx(R,{variant:"body2",color:"text.secondary",sx:{mb:1,textAlign:"center"},children:"Select Duration"}),r.jsx(_e,{direction:"row",spacing:1,justifyContent:"center",children:[5,7,10].map(_=>r.jsx(mt,{label:`${_} min`,onClick:()=>{p(_),y(_*60)},color:h===_?"primary":"default",variant:h===_?"filled":"outlined",sx:{minWidth:70,cursor:"pointer"}},_))})]}),r.jsxs(L,{sx:{textAlign:"center",mb:3},children:[r.jsx(R,{variant:"h1",sx:{fontWeight:700,fontSize:{xs:"3rem",sm:"4rem"},color:u==="completed"?"success.main":"text.primary"},children:P(g)}),u==="completed"&&r.jsx(R,{variant:"body1",color:"success.main",sx:{mt:1,fontWeight:600},children:" Time Complete!"})]}),(u==="running"||u==="paused"||u==="completed")&&r.jsxs(L,{sx:{mb:3},children:[r.jsx(Yi,{variant:"determinate",value:O,sx:{height:10,borderRadius:5,bgcolor:"rgba(0, 0, 0, 0.1)","& .MuiLinearProgress-bar":{bgcolor:e==="warmup"?"warning.main":"info.main",borderRadius:5}}}),r.jsxs(R,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.5,textAlign:"center"},children:[Math.round(O),"% complete"]})]}),r.jsxs(_e,{direction:"row",spacing:1,justifyContent:"center",sx:{mb:2},children:[(u==="ready"||u==="paused")&&r.jsx(Ae,{variant:"contained",size:"large",startIcon:r.jsx(Js,{}),onClick:w,sx:{minWidth:140},children:u==="paused"?"Resume":"Start Timer"}),u==="running"&&r.jsx(Ae,{variant:"contained",size:"large",startIcon:r.jsx(Lg,{}),onClick:T,sx:{minWidth:140},children:"Pause"}),(u==="running"||u==="paused")&&r.jsx(Xe,{onClick:D,color:"primary",size:"large",sx:{border:"1px solid",borderColor:"primary.main"},children:r.jsx(F2,{})})]}),r.jsxs(_e,{direction:"row",spacing:2,sx:{mt:3},children:[r.jsxs(Ae,{variant:"outlined",fullWidth:!0,onClick:W,startIcon:r.jsx(mh,{}),children:["Skip ",e==="warmup"?"Warm-Up":"Cool-Down"]}),(u==="completed"||u==="running"||u==="paused")&&r.jsx(Ae,{variant:"contained",fullWidth:!0,onClick:A,color:"success",children:"Mark Complete"})]})]})})})};Cg.propTypes={type:E.oneOf(["warmup","cooldown"]).isRequired,workoutType:E.oneOf(["upper","lower","full"]).isRequired,defaultDuration:E.number,onComplete:E.func.isRequired,onSkip:E.func.isRequired};const l7=(e,t,s)=>{if(!e||!t||!s)return null;const a=t-s;if(a===0){const l=e+5;return{message:`Great job! Try ${l}lbs next set`,suggestedWeight:l,type:"success"}}if(a>=2){const l=e+10;return{message:`Excellent! You exceeded target by ${a} reps. Try ${l}lbs next set`,suggestedWeight:l,type:"excellent"}}if(a===1){const l=e+5;return{message:`Nice! Try ${l}lbs next set`,suggestedWeight:l,type:"good"}}return t<s?{message:`Keep going! Try ${e}lbs again to hit ${s} reps`,suggestedWeight:e,type:"maintain"}:null},c7=(e,t,s=3)=>{if(!e||!Array.isArray(e)||e.length<s||!t||t<=0)return!1;const a=t*e.length,l=e.reduce((d,h)=>d+(h.reps||0),0),u=a*.8;return l<=u},xE=({workoutPlan:e,onComplete:t,onExit:s,supersetConfig:a=[2,2,2,2],setsPerSuperset:l=3})=>{const[u,d]=x.useState(0),[h,p]=x.useState([]),[g,y]=x.useState(0),[b,v]=x.useState(null),[S,j]=x.useState(null),[k,w]=x.useState(!1),[T,D]=x.useState(!1),[A,W]=x.useState({}),[P,O]=x.useState(null),[_,N]=x.useState(!1),[I,H]=x.useState(""),[V,B]=x.useState(""),[de,q]=x.useState(new Set),[ae,z]=x.useState({}),U=x.useRef(null),ue=x.useRef(null),[fe,Ce]=x.useState("warmup"),[we,Q]=x.useState(!1),[J,he]=x.useState(!1),[be,ge]=x.useState(!1),[ie,Y]=x.useState(!1),[oe,$]=x.useState("full"),le=x.useMemo(()=>{const Ee=[];let Re=0;for(const Ve of a){const Oe=[];for(let Fe=0;Fe<Ve&&Re<e.length;Fe++)e[Re]&&Oe.push(e[Re]),Re++;if(Oe.length!==0)for(let Fe=1;Fe<=l;Fe++)for(const rt of Oe)Ee.push({exercise:rt,setNumber:Fe})}return Ee},[e,a,l]);x.useEffect(()=>{const Ee=Vo(e[0]);$(Ee);const Re=localStorage.getItem("goodlift_stretch_prefs");(Re?JSON.parse(Re):{showWarmup:!0}).showWarmup||(he(!0),Ce("exercise"))},[e]),x.useEffect(()=>(U.current=Date.now(),ue.current=setInterval(()=>{const Re=Math.floor((Date.now()-U.current)/1e3);y(Re)},1e3),(async()=>{const Re={},Ve=[...new Set(e.map(Oe=>Oe["Exercise Name"]))];await Promise.all(Ve.map(async Oe=>{const[Fe,rt]=await Promise.all([Ma(Oe),Fi(Oe)]);Re[Oe]={weight:Fe??null,reps:rt??null}})),W(Re)})(),()=>{ue.current&&clearInterval(ue.current)}),[e]),x.useEffect(()=>{const Ee=le[u];if(Ee?.exercise?.["Exercise Name"]){const Re=Ee.exercise["Exercise Name"],Ve=A[Re],Oe=ae[Re]??Ve?.weight??null;v(Oe),j(Ve?.reps??null),H(Oe??""),B(Ve?.reps??""),O(null),N(!1)}window.scrollTo({top:0,behavior:"smooth"})},[u,A,le,ae]);const ye=le[u],Pe=ye?.exercise?.["Exercise Name"],pe=ye?.exercise?.Equipment?.toLowerCase()==="bodyweight",te=async Ee=>{const Re={};Ee.forEach(({exerciseName:Ve,setNumber:Oe,weight:Fe,reps:rt})=>{Re[Ve]||(Re[Ve]=[]),Re[Ve].push({setNumber:Oe,weight:Fe,reps:rt})});for(const[Ve,Oe]of Object.entries(Re)){const Fe=A[Ve]||{weight:null,reps:null},rt=Fe.reps??0,it=Fe.weight,Dt=Oe.map(pt=>pt.reps).filter(pt=>typeof pt=="number"&&!isNaN(pt));if(Dt.length===0)continue;const zt=Math.min(...Dt),en=Dt.every(pt=>pt>=rt);if(Dt.every(pt=>pt>rt)&&zt>0&&await Xd(Ve,zt),en){const pt=Oe[Oe.length-1].weight;typeof pt=="number"&&!isNaN(pt)&&pt>=0&&pt!==it&&await Vi(Ve,pt)}}},ee=()=>{Q(!0),Ce("exercise")},Ne=()=>{he(!0),Ce("exercise")},ot=()=>{ge(!0),Ce("complete")},Ie=()=>{Y(!0),Ce("complete")},ke=()=>{const Ee=Math.floor((Date.now()-U.current)/1e3);ue.current&&clearInterval(ue.current);const Re={date:new Date().toISOString(),type:e[0]?.["Primary Muscle"]||"unknown",duration:Ee,exercises:{},warmupCompleted:we,warmupSkipped:J,cooldownCompleted:be,cooldownSkipped:ie,totalDuration:Ee};h.forEach(Ve=>{const{exerciseName:Oe,setNumber:Fe,weight:rt,reps:it}=Ve;Re.exercises[Oe]||(Re.exercises[Oe]={sets:[]}),Re.exercises[Oe].sets.push({set:Fe,weight:rt,reps:it})}),t(Re)},We=async Ee=>{Ee.preventDefault();const Re=Ee.target.closest("form")||document.querySelector("form"),Ve=Re?.querySelector("#weight-select"),Oe=Re?.querySelector("#reps-select");if(!Ve||!Oe){console.error("Form inputs not found");return}const Fe=Math.max(0,parseFloat(Ve.value)||0),rt=parseInt(Oe.value,10),it=rt>0?rt:0,Dt=ye.exercise["Exercise Name"],zt=ae[Dt]??A[Dt]?.weight;Fe!==zt&&zt!==null&&zt!==void 0&&(q(pt=>new Set(pt).add(Dt)),z(pt=>({...pt,[Dt]:Fe})));const en={exerciseName:Dt,setNumber:ye.setNumber,weight:Fe,reps:it},Yn=[...h,en];if(p(Yn),S&&it>0&&!de.has(Dt)){const pt=l7(Fe,it,S);pt&&(O(pt),N(!0),setTimeout(()=>N(!1),5e3))}if(u+1>=le.length){await te(Yn);const pt=localStorage.getItem("goodlift_stretch_prefs");(pt?JSON.parse(pt):{showCooldown:!0}).showCooldown?Ce("cooldown"):(Y(!0),Ce("complete"))}else d(pt=>pt+1)},X=()=>{u>0&&(d(Ee=>Ee-1),p(Ee=>Ee.slice(0,-1)))},je=async()=>{if(window.confirm("Save this workout as partially complete? Your current progress will be saved.")){await te(h);const Ee=Math.floor((Date.now()-U.current)/1e3);ue.current&&clearInterval(ue.current);const Re={date:new Date().toISOString(),type:e[0]?.["Primary Muscle"]||"unknown",duration:Ee,exercises:{},isPartial:!0};h.forEach(Ve=>{const{exerciseName:Oe,setNumber:Fe,weight:rt,reps:it}=Ve;Re.exercises[Oe]||(Re.exercises[Oe]={sets:[]}),Re.exercises[Oe].sets.push({set:Fe,weight:rt,reps:it})}),t(Re)}},De=()=>{window.confirm("Are you sure you want to exit? Your progress will not be saved.")&&(ue.current&&clearInterval(ue.current),s())},Me=()=>{try{const Ee=Vo(e[0]);sy({name:`${Ee.charAt(0).toUpperCase()+Ee.slice(1)} Body Workout`,type:Ee,equipment:"all",exercises:e}),w(!0),D(!0)}catch(Ee){console.error("Error saving to favorites:",Ee),alert("Failed to save workout to favorites")}},Le=Ee=>{const Re=parseFloat(I)||0,Ve=Math.max(0,Re+Ee);H(Ve.toFixed(1))},Ue=Ee=>{const Re=parseInt(V,10)||0,Ve=Math.max(0,Re+Ee);B(Ve.toString())},ft=()=>{P?.suggestedWeight&&(H(P.suggestedWeight.toString()),N(!1))},qe=()=>{if(window.confirm("Skip all remaining sets of this exercise?")){let Ee=u+1;const Re=ye.exercise["Exercise Name"];for(;Ee<le.length&&le[Ee].exercise["Exercise Name"]===Re;)Ee++;Ee>=le.length?Ce("cooldown"):d(Ee)}},Qe=()=>{alert("Exercise swap feature coming soon! For now, you can skip this exercise and manually add a different one later.")};if(!ye&&fe==="exercise")return null;if(fe==="warmup"){const Ee=localStorage.getItem("goodlift_stretch_prefs"),Re=Ee?JSON.parse(Ee):{defaultWarmupDuration:5};return r.jsxs("div",{className:"screen",style:{paddingBottom:"100px",padding:"0.5rem",maxWidth:"100vw",boxSizing:"border-box"},children:[r.jsx(L,{sx:{mb:1.5,px:{xs:.5,sm:0}},children:r.jsx(R,{variant:"h6",sx:{fontWeight:600,textAlign:"center",mb:1},children:"Warm-Up Phase"})}),r.jsx(Cg,{type:"warmup",workoutType:oe,defaultDuration:Re.defaultWarmupDuration||5,onComplete:ee,onSkip:Ne})]})}if(fe==="cooldown"){const Ee=localStorage.getItem("goodlift_stretch_prefs"),Re=Ee?JSON.parse(Ee):{defaultCooldownDuration:5};return r.jsxs("div",{className:"screen",style:{paddingBottom:"100px",padding:"0.5rem",maxWidth:"100vw",boxSizing:"border-box"},children:[r.jsx(L,{sx:{mb:1.5,px:{xs:.5,sm:0}},children:r.jsx(R,{variant:"h6",sx:{fontWeight:600,textAlign:"center",mb:1},children:"Cool-Down Phase"})}),r.jsx(Cg,{type:"cooldown",workoutType:oe,defaultDuration:Re.defaultCooldownDuration||5,onComplete:ot,onSkip:Ie})]})}return fe==="complete"?r.jsx("div",{className:"screen",style:{paddingBottom:"100px",padding:"2rem",maxWidth:"100vw",boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"60vh"},children:r.jsxs($e.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},style:{textAlign:"center"},children:[r.jsx(H2,{sx:{fontSize:80,color:"primary.main",mb:2}}),r.jsx(R,{variant:"h4",sx:{fontWeight:600,mb:2},children:"Workout Complete! "}),r.jsxs(R,{variant:"body1",color:"text.secondary",sx:{mb:3},children:["Great job! You've completed your workout",!J&&!ie?" including warmup and cooldown phases":J?ie?"":" including cooldown phase":" including warmup phase","."]}),r.jsx(Ae,{variant:"contained",size:"large",onClick:ke,sx:{mt:2},children:"Finish Workout"})]})}):r.jsxs("div",{className:"screen",style:{paddingBottom:"100px",padding:"0.5rem",maxWidth:"100vw",boxSizing:"border-box"},children:[r.jsxs(L,{sx:{mb:1.5,px:{xs:.5,sm:0}},children:[r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:.5,gap:1},children:[r.jsx(R,{variant:"body1",sx:{fontWeight:600,fontSize:{xs:"0.9rem",sm:"1.25rem"}},children:Nj(g)}),r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:{xs:.5,sm:1}},children:[r.jsx(Xe,{onClick:Me,disabled:k,size:"small",sx:{color:k?"warning.main":"action.active","&:hover":{color:"warning.main"},p:{xs:.5,sm:1}},"aria-label":"Save to favorites",children:k?r.jsx(Pa,{sx:{fontSize:{xs:20,sm:24}}}):r.jsx(IC,{sx:{fontSize:{xs:20,sm:24}}})}),r.jsxs(R,{variant:"body1",sx:{fontWeight:600,fontSize:{xs:"0.9rem",sm:"1.25rem"}},children:[u+1,"/",le.length]})]})]}),r.jsx(Yi,{variant:"determinate",value:u/le.length*100,sx:{height:{xs:6,sm:8},borderRadius:4,bgcolor:"rgba(138, 190, 185, 0.2)","& .MuiLinearProgress-bar":{bgcolor:"primary.main",borderRadius:4}}})]}),r.jsx("div",{className:"exercise-card-container",children:r.jsx(Xo,{mode:"wait",children:r.jsx($e.form,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},onSubmit:We,children:r.jsxs($e.div,{className:"exercise-card",initial:{scale:.95},animate:{scale:1},transition:{duration:.3},children:[r.jsxs(L,{sx:{position:"relative",mb:2},children:[r.jsx(Xe,{component:"a",href:`https://www.google.com/search?q=${encodeURIComponent(Pe+" form")}`,target:"_blank",rel:"noopener noreferrer",size:"small",sx:{position:"absolute",top:0,right:0,color:"primary.main",minWidth:"44px",minHeight:"44px",zIndex:1,"&:hover":{backgroundColor:"rgba(19, 70, 134, 0.08)"}},"aria-label":`Search for ${Pe} form guide`,children:r.jsx(U2,{sx:{fontSize:{xs:24,sm:28}}})}),r.jsx(R,{variant:"h3",component:"h2",sx:{fontWeight:700,fontSize:{xs:"clamp(2.5rem, 14vw, 6rem)",sm:"clamp(3.5rem, 10vw, 6rem)",md:"5rem"},color:"primary.main",textAlign:"center",lineHeight:1.1,px:{xs:4,sm:5},wordBreak:"break-word",mb:{xs:1,sm:1.5}},children:Pe})]}),r.jsx(L,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1,my:{xs:1,sm:1.5}},children:r.jsx(mt,{label:`Set ${ye.setNumber} of ${l}`,color:"primary",size:"small",sx:{fontWeight:600,fontSize:{xs:"0.75rem",sm:"0.85rem"},minHeight:"32px",px:1.5}})}),(b!==null||S!==null)&&r.jsxs($e.p,{className:"prev-weight",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.2},children:["Target: ",b??""," lbs  ",S??""," reps"]}),r.jsx(Xo,{children:_&&P&&r.jsx($e.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:r.jsx($t,{severity:P.type==="excellent"?"success":"info",icon:r.jsx(Aa,{}),action:P.suggestedWeight!==parseFloat(I)&&r.jsx(Ae,{color:"inherit",size:"small",onClick:ft,sx:{minHeight:"44px"},children:"Apply"}),sx:{mb:2,minHeight:"44px"},children:P.message})})}),r.jsxs("div",{className:"input-row",children:[r.jsxs("div",{className:"input-group",children:[r.jsxs("label",{htmlFor:"weight-select",children:["Weight (lbs)",pe&&" (N/A)"]}),r.jsxs(L,{sx:{display:"flex",gap:{xs:.5,sm:1},alignItems:"center"},children:[r.jsx(Xe,{onClick:()=>Le(-2.5),disabled:pe,size:"small",sx:{bgcolor:pe?"action.disabledBackground":"action.hover",minWidth:{xs:"36px",sm:"40px"},minHeight:{xs:"36px",sm:"40px"},p:{xs:.5,sm:1},"&:hover":{bgcolor:pe?"action.disabledBackground":"action.selected"}},children:r.jsx(Oa,{sx:{fontSize:{xs:18,sm:20}}})}),r.jsx("input",{id:"weight-select",type:"tel",inputMode:"decimal",pattern:"[0-9]*([.,][0-9]+)?",step:"2.5",min:"0",max:"500",className:"exercise-input",value:I,onChange:Ee=>H(Ee.target.value),placeholder:"",disabled:pe,"aria-label":"Weight in pounds",onFocus:Ee=>{Ee.target.select();const Ve=Ee.target.getBoundingClientRect().bottom,Fe=window.innerHeight*.55;Ve>Fe&&setTimeout(()=>{Ee.target.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{window.scrollBy({top:-80,behavior:"smooth"})},100)},300)},style:{width:"100%",minWidth:"80px",padding:"12px",minHeight:"44px",borderRadius:"8px",border:"2px solid var(--color-border)",fontSize:"1.1rem",fontFamily:"var(--font-body)",backgroundColor:pe?"var(--color-disabled)":"var(--color-surface)",color:pe?"var(--color-text-disabled)":"var(--color-text)",cursor:pe?"not-allowed":"text",opacity:pe?.6:1}}),r.jsx(Xe,{onClick:()=>Le(2.5),disabled:pe,size:"small",sx:{bgcolor:pe?"action.disabledBackground":"action.hover",minWidth:{xs:"36px",sm:"40px"},minHeight:{xs:"36px",sm:"40px"},p:{xs:.5,sm:1},"&:hover":{bgcolor:pe?"action.disabledBackground":"action.selected"}},children:r.jsx(gi,{sx:{fontSize:{xs:18,sm:20}}})})]})]}),r.jsxs("div",{className:"input-group",children:[r.jsx("label",{htmlFor:"reps-select",children:"Reps"}),r.jsxs(L,{sx:{display:"flex",gap:{xs:.5,sm:1},alignItems:"center"},children:[r.jsx(Xe,{onClick:()=>Ue(-1),size:"small",sx:{bgcolor:"action.hover",minWidth:{xs:"36px",sm:"40px"},minHeight:{xs:"36px",sm:"40px"},p:{xs:.5,sm:1},"&:hover":{bgcolor:"action.selected"}},children:r.jsx(Oa,{sx:{fontSize:{xs:18,sm:20}}})}),r.jsx("input",{id:"reps-select",type:"number",inputMode:"numeric",step:"1",min:"1",max:"20",className:"exercise-input",value:V,onChange:Ee=>B(Ee.target.value),placeholder:"","aria-label":"Repetitions",onFocus:Ee=>{Ee.target.select();const Ve=Ee.target.getBoundingClientRect().bottom,Fe=window.innerHeight*.55;Ve>Fe&&setTimeout(()=>{Ee.target.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{window.scrollBy({top:-80,behavior:"smooth"})},100)},300)},style:{width:"100%",minWidth:"80px",padding:"12px",minHeight:"44px",borderRadius:"8px",border:"2px solid var(--color-border)",fontSize:"1.1rem",fontFamily:"var(--font-body)",backgroundColor:"var(--color-surface)",color:"var(--color-text)"}}),r.jsx(Xe,{onClick:()=>Ue(1),size:"small",sx:{bgcolor:"action.hover",minWidth:{xs:"36px",sm:"40px"},minHeight:{xs:"36px",sm:"40px"},p:{xs:.5,sm:1},"&:hover":{bgcolor:"action.selected"}},children:r.jsx(gi,{sx:{fontSize:{xs:18,sm:20}}})})]})]})]}),r.jsxs(L,{sx:{display:"flex",gap:1,mt:2,mb:2},children:[r.jsx(Ae,{variant:"outlined",size:"small",startIcon:r.jsx(mh,{}),onClick:qe,sx:{flex:1,minHeight:"44px"},children:"Skip Exercise"}),r.jsx(Ae,{variant:"outlined",size:"small",startIcon:r.jsx(q2,{}),onClick:Qe,sx:{flex:1,minHeight:"44px"},children:"Swap Exercise"})]}),r.jsxs("div",{className:"workout-nav-buttons",children:[u>0&&r.jsxs($e.button,{type:"button",className:"back-btn",onClick:X,whileHover:{scale:1.02},whileTap:{scale:.98},style:{minHeight:"44px"},children:[r.jsx(Ng,{sx:{fontSize:18,mr:.5}})," Back"]}),r.jsxs($e.button,{type:"submit",className:"next-btn",whileHover:{scale:1.02},whileTap:{scale:.98},style:{minHeight:"44px"},children:["Next ",r.jsx(Y2,{sx:{fontSize:18,ml:.5}})]})]})]})},u)})}),r.jsxs("div",{className:"workout-controls",children:[r.jsxs($e.button,{className:"exit-workout-btn",onClick:De,whileHover:{scale:1.05},whileTap:{scale:.95},style:{background:"rgb(237, 63, 39)",marginBottom:"12px",color:"white",minHeight:"44px"},children:[r.jsx(G2,{sx:{fontSize:18,mr:.5}})," End Workout"]}),h.length>0&&r.jsx($e.button,{className:"partial-complete-btn",onClick:je,whileHover:{scale:1.05},whileTap:{scale:.95},style:{background:"rgb(254, 178, 26)",color:"rgb(19, 70, 134)",minHeight:"44px"},children:"End and Save"})]}),r.jsx(Hs,{open:T,autoHideDuration:3e3,onClose:()=>D(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx($t,{severity:"success",onClose:()=>D(!1),children:"Workout saved to favorites!"})})]})};xE.propTypes={workoutPlan:E.array.isRequired,onComplete:E.func.isRequired,onExit:E.func.isRequired,supersetConfig:E.arrayOf(E.number),setsPerSuperset:E.number};const Cx=({value:e,onChange:t,availableExercises:s,label:a="Exercise",placeholder:l="Type to search and swap exercise...",size:u="small",fullWidth:d=!0,disabled:h=!1,sx:p={}})=>{const g=y=>{if(!y)return s;const b=y.toLowerCase().split(" ").filter(v=>v.length>0);return s.filter(v=>{const S=[v["Exercise Name"],v["Primary Muscle"],v["Secondary Muscles"],v.Equipment,v["Movement Pattern"],v.Difficulty,v["Workout Type"]].join(" ").toLowerCase();return b.every(j=>S.includes(j))})};return r.jsx(PC,{fullWidth:d,size:u,options:s,value:e,onChange:t,disabled:h,getOptionLabel:y=>y["Exercise Name"]||y.name||"",filterOptions:(y,b)=>g(b.inputValue),isOptionEqualToValue:(y,b)=>(y["Exercise Name"]||y.name)===(b["Exercise Name"]||b.name),renderInput:y=>r.jsx(gt,{...y,label:a,placeholder:l}),renderOption:(y,b)=>{const{key:v,...S}=y;return r.jsx("li",{...S,children:r.jsxs(L,{children:[r.jsx(R,{variant:"body2",children:b["Exercise Name"]}),r.jsxs(R,{variant:"caption",color:"text.secondary",children:[b["Primary Muscle"],"  ",b.Equipment]})]})},v)},noOptionsText:"No exercises found. Try different search terms.",sx:p})};Cx.propTypes={value:E.object,onChange:E.func.isRequired,availableExercises:E.array.isRequired,label:E.string,placeholder:E.string,size:E.string,fullWidth:E.bool,disabled:E.bool,sx:E.object};const Tx=x.memo(({workout:e,workoutType:t,onStart:s,onCancel:a,onRandomizeExercise:l,isCustomizeMode:u=!1,supersetConfig:d=[2,2,2,2],setsPerSuperset:h=3})=>{const[p,g]=x.useState({}),[y,b]=x.useState(!0),[v,S]=x.useState(!1),[j,k]=x.useState(!1),[w,T]=x.useState(!1),[D,A]=x.useState({}),[W,P]=x.useState({open:!1,message:"",severity:"info"}),[O,_]=x.useState([]),[N,I]=x.useState(e),[H,V]=x.useState(h);x.useEffect(()=>{(async()=>{try{const he=await(await fetch(_h)).json();_(he)}catch(J){console.error("Error loading exercises:",J),_([])}})()},[]),x.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),(async()=>{const J={};if(u){I(e),g({}),b(!1);return}const he=e.filter(be=>be!==null);for(const be of he){const ge=be["Exercise Name"],[ie,Y]=await Promise.all([Ma(ge),Fi(ge)]);J[ge]={weight:ie??"",targetReps:Y??""}}g(J),I(e),b(!1)})()},[e,u,d]),x.useEffect(()=>{const Q=async()=>{const J=Object.keys(p),be=e.filter(ge=>ge!==null).filter(ge=>!J.includes(ge["Exercise Name"]));if(be.length>0){const ge={...p};for(const ie of be){const Y=ie["Exercise Name"];if(!D[Y]){const[oe,$]=await Promise.all([Ma(Y),Fi(Y)]);ge[Y]={weight:oe??"",targetReps:$??""}}}g(ge)}};!y&&Object.keys(p).length>0&&Q()},[e,y]);const B=(Q,J)=>{if(J===""||/^\d*\.?\d*$/.test(J)){const he=J===""?"":parseFloat(J);g(be=>({...be,[Q]:{...be[Q],weight:he}})),A(be=>({...be,[Q]:{...be[Q],weightCustomized:!0}}))}},de=(Q,J)=>{if(J===""||J===null||J===void 0)return;const he=parseFloat(J);if(!isNaN(he)&&he>0){const be=Math.round(he/2.5)*2.5;be!==he&&(g(ge=>({...ge,[Q]:{...ge[Q],weight:be}})),P({open:!0,message:`Weight adjusted to ${be} lbs (nearest 2.5 lb increment)`,severity:"info"}))}},q=(Q,J)=>{if(J===""||/^\d+$/.test(J)){const he=J===""?"":parseInt(J,10);g(be=>({...be,[Q]:{...be[Q],targetReps:he}})),A(be=>({...be,[Q]:{...be[Q],repsCustomized:!0}}))}},ae=(Q,J)=>{if(J===""||J===null||J===void 0)return;const he=parseInt(J,10);(isNaN(he)||he<1)&&g(be=>({...be,[Q]:{...be[Q],targetReps:""}}))},z=x.useCallback((Q,J)=>{l&&l(Q,J)},[l]),U=x.useCallback((Q,J)=>{if(!J)return;I(be=>{const ge=[...be];return ge[Q]=J,ge});const he=J["Exercise Name"];D[he]||Ma(he).then(be=>{Fi(he).then(ge=>{g(ie=>({...ie,[he]:{weight:be??"",targetReps:ge??""}}))})})},[D]),ue=async()=>{if(!v){S(!0);try{if(u&&N.some(J=>J===null)){P({open:!0,message:"Please select exercises for all slots before starting",severity:"warning"}),S(!1);return}for(const[Q,J]of Object.entries(p)){const he=J.weight===""?null:J.weight,be=J.targetReps===""?null:J.targetReps;await Vi(Q,he),await Xd(Q,be)}s(N,d,H)}catch(Q){console.error("Error starting workout:",Q),S(!1)}}},fe=()=>{try{const Q=N.filter(J=>J!==null);sy({name:`${t.charAt(0).toUpperCase()+t.slice(1)} Body Workout`,type:t,exercises:Q}),k(!0),T(!0)}catch(Q){console.error("Error saving to favorites:",Q)}},Ce=[];let we=0;for(const Q of d){const J=[];for(let he=0;he<Q&&we<N.length;he++)J.push(N[we]),we++;J.length>0&&Ce.push(J)}return y?r.jsx(L,{sx:{textAlign:"center",py:8,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:r.jsx($e.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:r.jsxs(R,{variant:"h5",sx:{color:"text.secondary",fontWeight:500},children:["Loading",r.jsx($e.span,{initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:"..."})]})})}):r.jsxs($e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"screen",style:{maxWidth:"900px",margin:"0 auto",padding:"1rem",width:"100%",boxSizing:"border-box",overflowX:"hidden"},children:[r.jsxs(L,{sx:{mb:{xs:2,sm:4},textAlign:"center",position:"relative",px:{xs:.5,sm:0}},children:[r.jsx(Xe,{onClick:fe,disabled:j,size:"small",sx:{position:"absolute",top:0,right:{xs:0,sm:0},color:j?"warning.main":"action.active",minWidth:"44px",minHeight:"44px","&:hover":{color:"warning.main"},p:{xs:.5,sm:1}},"aria-label":"Save to favorites",children:j?r.jsx(Pa,{sx:{fontSize:{xs:24,sm:32}}}):r.jsx(kS,{sx:{fontSize:{xs:24,sm:32}}})}),r.jsx($e.div,{initial:{scale:.8},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},children:r.jsx(fn,{sx:{fontSize:{xs:48,sm:60},color:"primary.main",mb:{xs:1,sm:2}}})}),r.jsx(R,{variant:"h3",component:"h1",gutterBottom:!0,sx:{fontWeight:700,color:"primary.main",fontSize:{xs:"1.5rem",sm:"3rem"}},children:u?"Customize Your Workout":`Your ${t.charAt(0).toUpperCase()+t.slice(1)} Body Workout`}),r.jsxs(R,{variant:"subtitle1",color:"text.secondary",sx:{mb:1,fontSize:{xs:"0.875rem",sm:"1rem"}},children:[Ce.length," Supersets  ",N.filter(Q=>Q!==null).length," Exercises  ",H," Sets Each"]}),r.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1,mb:1},children:[r.jsx(R,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Sets per superset:"}),r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:.5},children:[r.jsx(Xe,{size:"small",onClick:()=>V(Q=>Math.max(1,Q-1)),disabled:H<=1,sx:{minWidth:"32px",minHeight:"32px",bgcolor:"action.hover","&:hover":{bgcolor:"action.selected"}},children:r.jsx(Oa,{fontSize:"small"})}),r.jsx(R,{variant:"h6",sx:{fontWeight:700,color:"primary.main",minWidth:"32px",textAlign:"center",fontSize:{xs:"1rem",sm:"1.25rem"}},children:H}),r.jsx(Xe,{size:"small",onClick:()=>V(Q=>Math.min(10,Q+1)),disabled:H>=10,sx:{minWidth:"32px",minHeight:"32px",bgcolor:"action.hover","&:hover":{bgcolor:"action.selected"}},children:r.jsx(gi,{fontSize:"small"})})]})]}),r.jsx(R,{variant:"body2",color:"primary.main",sx:{fontWeight:600,fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:u?"Select exercises and set your target weight and reps for each":"Set your starting target weight and target reps for each exercise"})]}),r.jsx(_e,{spacing:{xs:2,sm:3},sx:{px:{xs:.5,sm:0}},children:Ce.map((Q,J)=>r.jsx($e.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*J,duration:.4},children:r.jsx(nt,{sx:{background:"linear-gradient(135deg, rgba(138, 190, 185, 0.1), rgba(193, 120, 90, 0.1))",border:"2px solid",borderColor:"primary.main",borderRadius:3,transition:"all 0.3s ease",maxWidth:"100%",boxSizing:"border-box","&:hover":{transform:"translateY(-4px)",boxShadow:"0 12px 24px rgba(48, 86, 105, 0.2)"}},children:r.jsxs(ct,{sx:{p:{xs:1.5,sm:2},"&:last-child":{pb:{xs:1.5,sm:2}}},children:[r.jsx(R,{variant:"h6",gutterBottom:!0,sx:{color:"secondary.main",fontWeight:600,mb:1.5,display:"flex",alignItems:"center",gap:1},children:r.jsx(mt,{label:`Superset ${J+1}`,size:"small",sx:{bgcolor:"secondary.main",color:"white",fontWeight:600}})}),r.jsx(_e,{spacing:{xs:1,sm:1.5},children:Q.map((he,be)=>{const ge=he?he["Exercise Name"]:null,ie=ge?p[ge]||{weight:"",targetReps:""}:{weight:"",targetReps:""},Y=Ce.slice(0,J).reduce(($,le)=>$+le.length,0)+be,oe=String.fromCharCode(65+be);return r.jsxs(L,{sx:{p:{xs:1,sm:1.5},bgcolor:"background.paper",borderRadius:2,transition:"all 0.2s ease"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"flex-start",gap:{xs:1,sm:1.5},mb:{xs:1,sm:1.5}},children:[r.jsx(R,{sx:{fontSize:{xs:"1.25rem",sm:"1.75rem"},color:"primary.main",fontWeight:700,width:{xs:"28px",sm:"36px"},textAlign:"center",flexShrink:0},children:oe}),r.jsx(L,{sx:{flex:1,minWidth:0},children:r.jsx(L,{sx:{mb:.5},children:r.jsx(Cx,{value:he,onChange:($,le)=>{le&&U(Y,le)},availableExercises:O,label:"Exercise",placeholder:u?"Type to search and select...":"Type to search and swap...",disabled:O.length===0})})})]}),he&&r.jsxs(r.Fragment,{children:[r.jsxs(_e,{direction:"row",spacing:{xs:1,sm:1.5},sx:{pl:{xs:3.5,sm:5.5},flexWrap:{xs:"wrap",sm:"nowrap"},mb:{xs:1,sm:1.5}},children:[r.jsx(gt,{type:"tel",inputMode:"decimal",value:ie.weight===""?"":ie.weight,onChange:$=>B(ge,$.target.value),onBlur:$=>de(ge,$.target.value),onFocus:$=>$.target.select(),placeholder:he.Equipment?.toLowerCase()==="bodyweight"?"N/A":"Weight (lbs)",size:"small",disabled:he.Equipment?.toLowerCase()==="bodyweight",inputProps:{min:0,max:500,step:2.5,pattern:"[0-9]*([.,][0-9]+)?","aria-label":`Target weight in pounds for ${ge}`},sx:{minWidth:{xs:100,sm:120},flex:{xs:"1 1 45%",sm:"none"},"& .MuiInputBase-input.Mui-disabled":{WebkitTextFillColor:"rgba(0, 0, 0, 0.38)",backgroundColor:"rgba(0, 0, 0, 0.04)"}}}),r.jsx(gt,{type:"tel",inputMode:"numeric",value:ie.targetReps===""?"":ie.targetReps,onChange:$=>q(ge,$.target.value),onBlur:$=>ae(ge,$.target.value),onFocus:$=>$.target.select(),placeholder:"Reps",size:"small",inputProps:{min:1,max:20,step:1,pattern:"\\d*","aria-label":`Target repetitions for ${ge}`},sx:{minWidth:{xs:100,sm:120},flex:{xs:"1 1 45%",sm:"none"}}})]}),r.jsxs(L,{sx:{pl:{xs:3.5,sm:5.5},display:"flex",alignItems:"center",gap:1,flexWrap:"wrap"},children:[r.jsx(mt,{label:he["Primary Muscle"],size:"small",variant:"outlined",sx:{borderColor:"primary.main",color:"primary.main",fontSize:{xs:"0.65rem",sm:"0.75rem"}}}),r.jsx(mt,{label:he.Equipment,size:"small",variant:"outlined",sx:{borderColor:"text.secondary",color:"text.secondary",fontSize:{xs:"0.65rem",sm:"0.75rem"}}}),l&&!u&&r.jsx(Xe,{size:"small",onClick:$=>{$.stopPropagation(),z(he,Y)},sx:{color:"primary.main",minWidth:"36px",minHeight:"36px","&:hover":{backgroundColor:"rgba(19, 70, 134, 0.08)"}},"aria-label":`Randomize ${ge}`,children:r.jsx($2,{fontSize:"small"})})]})]})]},be)})})]})})},J))}),r.jsx($e.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:r.jsxs(_e,{direction:"row",spacing:2,sx:{mt:{xs:3,sm:4},px:{xs:.5,sm:0}},justifyContent:"center",children:[r.jsx(Ae,{variant:"contained",size:"large",onClick:a,sx:{borderRadius:2,minWidth:{xs:"60px",sm:"80px"},px:{xs:1,sm:2},py:1.5,fontSize:{xs:"1.2rem",sm:"1.5rem"},fontWeight:600,bgcolor:"rgb(237, 63, 39)",color:"white","&:hover":{bgcolor:"rgb(200, 50, 30)"}},children:""}),r.jsx(Ae,{variant:"contained",size:"large",startIcon:j?r.jsx(Pa,{}):r.jsx(kS,{}),onClick:fe,disabled:j,sx:{borderRadius:2,flex:1,maxWidth:{xs:"130px",sm:"150px"},px:{xs:2,sm:3},py:1.5,fontSize:{xs:"0.9rem",sm:"1.1rem"},fontWeight:600,bgcolor:j?"rgb(76, 175, 80)":"rgb(254, 178, 26)",color:"white","&:hover":{bgcolor:j?"rgb(56, 142, 60)":"rgb(245, 158, 11)"},"&:disabled":{bgcolor:"rgb(76, 175, 80)",color:"white",opacity:.8}},children:j?"Saved!":"Save"}),r.jsx(Ae,{variant:"contained",size:"large",startIcon:r.jsx(Js,{}),onClick:ue,disabled:v,sx:{borderRadius:2,flex:1,maxWidth:{xs:"130px",sm:"150px"},px:{xs:2,sm:3},py:1.5,fontSize:{xs:"0.9rem",sm:"1.1rem"},fontWeight:600,bgcolor:"rgb(19, 70, 134)",color:"white","&:hover":{bgcolor:"rgb(15, 56, 107)",transform:"translateY(-2px)",boxShadow:"0 8px 16px rgba(19, 70, 134, 0.3)"},"&:disabled":{bgcolor:"rgb(19, 70, 134)",color:"white",opacity:.6},transition:"all 0.3s ease"},children:v?"Starting...":"Begin"})]})}),r.jsx(Hs,{open:w,autoHideDuration:3e3,onClose:()=>T(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx($t,{severity:"success",onClose:()=>T(!1),children:"Workout saved to favorites!"})}),r.jsx(Hs,{open:W.open,autoHideDuration:4e3,onClose:()=>P({...W,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx($t,{severity:W.severity,onClose:()=>P({...W,open:!1}),children:W.message})})]})});Tx.displayName="WorkoutPreview";Tx.propTypes={workout:E.array.isRequired,workoutType:E.string.isRequired,onStart:E.func.isRequired,onCancel:E.func.isRequired,onRandomizeExercise:E.func,equipmentFilter:E.oneOfType([E.string,E.array]),isCustomizeMode:E.bool,supersetConfig:E.arrayOf(E.number),setsPerSuperset:E.number};const u7=(e=[])=>{if(!e||e.length===0)return{currentStreak:0,longestStreak:0};const t=[...e].sort((p,g)=>new Date(g.date)-new Date(p.date)),s=[...new Set(t.map(p=>{const g=new Date(p.date);return`${g.getFullYear()}-${String(g.getMonth()+1).padStart(2,"0")}-${String(g.getDate()).padStart(2,"0")}`}))],a=new Date;a.setHours(0,0,0,0);let l=0,u=0,d=0,h=new Date(a);for(let p=0;p<90;p++){const g=`${h.getFullYear()}-${String(h.getMonth()+1).padStart(2,"0")}-${String(h.getDate()).padStart(2,"0")}`;if(s.includes(g)){if(d++,l===0){const y=new Date(t[0].date);y.setHours(0,0,0,0),Math.floor((a-y)/(1e3*60*60*24))<=2&&(l=d)}u=Math.max(u,d)}else if(p>0&&d>0){const y=new Date(h);y.setDate(y.getDate()-1);const b=`${y.getFullYear()}-${String(y.getMonth()+1).padStart(2,"0")}-${String(y.getDate()).padStart(2,"0")}`;if(!s.includes(b)){if(l===0)break;d=0}}h.setDate(h.getDate()-1)}return{currentStreak:l,longestStreak:u}},bE=(e=[])=>{const t={};return e.forEach(s=>{s.exercises&&Object.entries(s.exercises).forEach(([a,l])=>{!l.sets||l.sets.length===0||l.sets.forEach(u=>{const d=u.weight||0,h=u.reps||0;if(d===0&&h===0)return;const p=d>0&&h>0?d*(1+h/30):0;(!t[a]||d>(t[a].maxWeight||0))&&(t[a]||(t[a]={}),d>(t[a].maxWeight||0)&&(t[a].maxWeight=d,t[a].maxWeightDate=s.date,t[a].maxWeightReps=h)),(!t[a]||h>(t[a].maxReps||0))&&(t[a]||(t[a]={}),h>(t[a].maxReps||0)&&(t[a].maxReps=h,t[a].maxRepsDate=s.date,t[a].maxRepsWeight=d)),(!t[a]||p>(t[a].estimatedOneRepMax||0))&&(t[a]||(t[a]={}),p>(t[a].estimatedOneRepMax||0)&&(t[a].estimatedOneRepMax=Math.round(p*10)/10,t[a].oneRepMaxDate=s.date))})})}),t},vE=(e,t={})=>{const s=[];if(!e||!e.exercises)return s;Object.entries(e.exercises).forEach(([l,u])=>{if(!u.sets||u.sets.length===0)return;const d=t[l]||{};u.sets.forEach(h=>{const p=h.weight||0,g=h.reps||0;if(p===0&&g===0)return;p>0&&p>(d.maxWeight||0)&&s.push({exerciseName:l,type:"weight",value:p,previousValue:d.maxWeight||0,reps:g}),g>0&&g>(d.maxReps||0)&&s.push({exerciseName:l,type:"reps",value:g,previousValue:d.maxReps||0,weight:p});const y=p>0&&g>0?p*(1+g/30):0;y>(d.estimatedOneRepMax||0)&&s.push({exerciseName:l,type:"oneRepMax",value:Math.round(y*10)/10,previousValue:d.estimatedOneRepMax||0})})});const a={};return s.forEach(l=>{const u=`${l.exerciseName}-${l.type}`;(!a[u]||l.value>a[u].value)&&(a[u]=l)}),Object.values(a)},SE=e=>[{days:7,badge:" Week Warrior",description:"7 day streak!"},{days:30,badge:" Monthly Master",description:"30 day streak!"},{days:90,badge:" Quarter Champion",description:"90 day streak!"},{days:180,badge:" Half Year Hero",description:"180 day streak!"},{days:365,badge:" Year Legend",description:"365 day streak!"}].filter(s=>e>=s.days),d7=Object.freeze(Object.defineProperty({__proto__:null,calculateStreak:u7,detectNewPRs:vE,getPersonalRecords:bE,getStreakMilestones:SE},Symbol.toStringTag,{value:"Module"})),wE=({open:e,onClose:t,prData:s})=>{if(!s)return null;const a=()=>{const{exerciseName:l,type:u,value:d,previousValue:h}=s;return u==="weight"?`New ${l} PR!  ${d} lbs (previous: ${h} lbs)`:u==="reps"?`New ${l} Rep PR!  ${d} reps (previous: ${h} reps)`:u==="oneRepMax"?`New ${l} 1RM!  ${d} lbs (previous: ${h} lbs)`:`New ${l} PR! `};return r.jsx(Hs,{open:e,autoHideDuration:4e3,onClose:t,anchorOrigin:{vertical:"top",horizontal:"center"},TransitionComponent:WC,children:r.jsx($t,{onClose:t,severity:"success",variant:"filled",sx:{width:"100%",fontSize:"1rem","& .MuiAlert-icon":{fontSize:"2rem"}},icon:r.jsx($o,{}),children:a()})})};wE.propTypes={open:E.bool.isRequired,onClose:E.func.isRequired,prData:E.shape({exerciseName:E.string.isRequired,type:E.string.isRequired,value:E.number.isRequired,previousValue:E.number})};E.bool.isRequired,E.func.isRequired,E.shape({days:E.number.isRequired,badge:E.string.isRequired,description:E.string.isRequired});E.bool.isRequired,E.func.isRequired,E.shape({workoutsCompleted:E.number,totalVolume:E.number,totalTime:E.number,prsAchieved:E.number,topExercises:E.arrayOf(E.shape({name:E.string,count:E.number})),adherence:E.number});E.array,E.array,E.object,E.func,E.func,E.func;const kx=x.memo(({workoutData:e,workoutPlan:t,onFinish:s,onExportCSV:a})=>{const[l,u]=x.useState(!1),[d,h]=x.useState(!1),[p,g]=x.useState([]),[y,b]=x.useState(0),[v,S]=x.useState(!1),[j,k]=x.useState(!1),[w,T]=x.useState(""),{isAutoAssignWeek:D,assignWorkoutToDay:A,weeklySchedule:W}=Na();x.useEffect(()=>{(async()=>{try{const I=await ni(),H=bE(I.slice(1)),V=vE(e,H);V.length>0&&g(V)}catch(I){console.error("Error checking for PRs:",I)}})()},[e]),x.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),x.useEffect(()=>{(async()=>{if(D()&&e&&t)try{const I=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date().getDay()],H=Vo(e),V={sessionType:H,sessionName:`${H.charAt(0).toUpperCase()+H.slice(1)} Body Workout`,exercises:t,date:new Date().toISOString()};await A(I,V),T(`Automatically assigned to ${I}`),k(!0)}catch(I){console.error("Error auto-assigning workout:",I)}})()},[D,e,t,A]);const P=()=>{try{if(!t||t.length===0){alert("Cannot save workout: No exercise data available");return}const N=Vo(e);sy({name:`${N.charAt(0).toUpperCase()+N.slice(1)} Body Workout`,type:N,equipment:"all",exercises:t}),u(!0),h(!0)}catch(N){console.error("Error saving to favorites:",N),alert("Failed to save workout to favorites")}},O=()=>{S(!0)},_=async(N,I)=>{try{const H=Vo(e),V={sessionType:H,sessionName:`${H.charAt(0).toUpperCase()+H.slice(1)} Body Workout`,exercises:t,date:new Date().toISOString()};await A(N,V),T(`Workout assigned to ${N}`),k(!0)}catch(H){console.error("Error assigning workout:",H),T("Failed to assign workout"),k(!0)}};return r.jsxs($e.div,{className:"screen completion-screen",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{padding:"1rem",maxWidth:"900px",margin:"0 auto"},children:[r.jsxs($e.div,{className:"completion-header",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,type:"spring",stiffness:200},children:[r.jsx(L,{sx:{position:"relative"},children:r.jsx(Xe,{onClick:P,disabled:l,sx:{position:"absolute",top:0,right:0,color:l?"warning.main":"white","&:hover":{color:"warning.main"}},"aria-label":"Save to favorites",children:l?r.jsx(Pa,{sx:{fontSize:32}}):r.jsx(IC,{sx:{fontSize:32}})})}),r.jsx($e.div,{initial:{y:-20},animate:{y:[0,-10,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut"},children:r.jsx("img",{src:"/goodlift/dancing-icon.svg",alt:"Celebration",style:{width:"120px",height:"120px",marginBottom:"1rem"}})}),r.jsx("h1",{children:"Workout Complete!"}),r.jsxs("p",{className:"completion-time",children:["Total Time: ",r.jsx("strong",{children:Nj(e.duration)})]})]}),r.jsxs("div",{className:"workout-summary-container",children:[r.jsx(R,{variant:"h4",component:"h2",sx:{fontWeight:700,mb:3,textAlign:"center",color:"text.primary"},children:"Workout Summary"}),r.jsx(_e,{spacing:2,children:Object.entries(e.exercises).map(([N,I],H)=>r.jsx($e.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3+H*.1},children:r.jsx(nt,{sx:{borderRadius:3,transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 24px rgba(48, 86, 105, 0.15)"}},children:r.jsxs(ct,{children:[r.jsx(R,{variant:"h6",component:"h3",sx:{color:"primary.main",fontWeight:600,mb:2,pb:1,borderBottom:"2px solid",borderColor:"rgba(138, 190, 185, 0.2)"},children:N}),r.jsx(_e,{spacing:1,children:I.sets.map((V,B)=>r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:1.5,bgcolor:"rgba(183, 229, 205, 0.3)",borderRadius:2,transition:"all 0.2s ease","&:hover":{bgcolor:"primary.main",color:"white","& .MuiChip-root":{bgcolor:"white",color:"primary.main"}}},children:[r.jsx(mt,{label:`Set ${V.set}`,size:"small",sx:{fontWeight:600,minWidth:60}}),r.jsxs(R,{sx:{fontWeight:600,fontSize:"1rem"},children:[V.weight," lbs  ",V.reps," reps"]})]},B))})]})})},N))})]}),r.jsx($e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:r.jsxs(_e,{direction:{xs:"column",sm:"row"},spacing:2,sx:{mt:4},children:[!D()&&r.jsx(Ae,{variant:"outlined",size:"large",startIcon:r.jsx(kc,{}),onClick:O,sx:{flex:1,borderRadius:2,py:1.5,fontSize:"1rem",fontWeight:600,borderColor:"info.main",color:"info.main","&:hover":{borderColor:"info.dark",bgcolor:"rgba(33, 150, 243, 0.1)"}},children:"Assign to Day"}),r.jsx(Ae,{variant:"outlined",size:"large",startIcon:r.jsx(NC,{}),onClick:a,sx:{flex:1,borderRadius:2,py:1.5,fontSize:"1rem",fontWeight:600,borderColor:"secondary.main",color:"secondary.main","&:hover":{borderColor:"secondary.dark",bgcolor:"rgba(193, 120, 90, 0.1)"}},children:"Download CSV"}),r.jsx(Ae,{variant:"contained",size:"large",startIcon:r.jsx(K2,{}),onClick:s,sx:{flex:1,borderRadius:2,py:1.5,fontSize:"1rem",fontWeight:600,bgcolor:"primary.main","&:hover":{bgcolor:"primary.dark"}},children:"Finish"})]})}),r.jsx(Hs,{open:d,autoHideDuration:3e3,onClose:()=>h(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx($t,{severity:"success",onClose:()=>h(!1),children:"Workout saved to favorites!"})}),r.jsx(Hs,{open:j,autoHideDuration:3e3,onClose:()=>k(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx($t,{severity:"success",onClose:()=>k(!1),children:w})}),r.jsx(vx,{open:v,onClose:()=>S(!1),onAssign:_,workoutData:e,currentSchedule:W}),p.length>0&&y<p.length&&r.jsx(wE,{open:!0,onClose:()=>b(N=>N+1),prData:p[y]})]})});kx.displayName="CompletionScreen";kx.propTypes={workoutData:E.object.isRequired,workoutPlan:E.array,onFinish:E.func.isRequired,onExportCSV:E.func.isRequired};const li=[{id:"first-workout",name:"First Steps",description:"Complete your first workout",icon:"",tier:"bronze",condition:{type:"workoutCount",value:1}},{id:"dedicated-5",name:"Getting Started",description:"Complete 5 workouts",icon:"",tier:"bronze",condition:{type:"workoutCount",value:5}},{id:"dedicated-10",name:"Committed",description:"Complete 10 workouts",icon:"",tier:"silver",condition:{type:"workoutCount",value:10}},{id:"dedicated-25",name:"Athlete",description:"Complete 25 workouts",icon:"",tier:"silver",condition:{type:"workoutCount",value:25}},{id:"dedicated-50",name:"Beast Mode",description:"Complete 50 workouts",icon:"",tier:"gold",condition:{type:"workoutCount",value:50}},{id:"dedicated-100",name:"Centurion",description:"Complete 100 workouts",icon:"",tier:"gold",condition:{type:"workoutCount",value:100}},{id:"dedicated-150",name:"Elite Athlete",description:"Complete 150 workouts",icon:"",tier:"gold",condition:{type:"workoutCount",value:150}},{id:"dedicated-200",name:"Relentless",description:"Complete 200 workouts",icon:"",tier:"platinum",condition:{type:"workoutCount",value:200}},{id:"dedicated-250",name:"Iron Legend",description:"Complete 250 workouts",icon:"",tier:"platinum",condition:{type:"workoutCount",value:250}},{id:"dedicated-500",name:"Hall of Fame",description:"Complete 500 workouts",icon:"",tier:"platinum",condition:{type:"workoutCount",value:500}},{id:"streak-3",name:"Consistency",description:"Maintain a 3-day workout streak",icon:"",tier:"bronze",condition:{type:"streak",value:3}},{id:"streak-7",name:"Week Warrior",description:"Maintain a 7-day workout streak",icon:"",tier:"silver",condition:{type:"streak",value:7}},{id:"streak-14",name:"Fortnight Fighter",description:"Maintain a 14-day workout streak",icon:"",tier:"silver",condition:{type:"streak",value:14}},{id:"streak-30",name:"Monthly Master",description:"Maintain a 30-day workout streak",icon:"",tier:"gold",condition:{type:"streak",value:30}},{id:"streak-60",name:"Unbreakable",description:"Maintain a 60-day workout streak",icon:"",tier:"gold",condition:{type:"streak",value:60}},{id:"streak-100",name:"Iron Will",description:"Maintain a 100-day workout streak",icon:"",tier:"platinum",condition:{type:"streak",value:100}},{id:"first-pr",name:"New Heights",description:"Achieve your first personal record",icon:"",tier:"bronze",condition:{type:"prCount",value:1}},{id:"pr-5",name:"Record Breaker",description:"Achieve 5 personal records",icon:"",tier:"silver",condition:{type:"prCount",value:5}},{id:"pr-10",name:"Powerhouse",description:"Achieve 10 personal records",icon:"",tier:"gold",condition:{type:"prCount",value:10}},{id:"pr-25",name:"Peak Performance",description:"Achieve 25 personal records",icon:"",tier:"platinum",condition:{type:"prCount",value:25}},{id:"volume-10k",name:"Moving Iron",description:"Lift 10,000 lbs total volume",icon:"",tier:"bronze",condition:{type:"totalVolume",value:1e4}},{id:"volume-50k",name:"Heavy Lifter",description:"Lift 50,000 lbs total volume",icon:"",tier:"silver",condition:{type:"totalVolume",value:5e4}},{id:"volume-100k",name:"Tonnage Master",description:"Lift 100,000 lbs total volume",icon:"",tier:"gold",condition:{type:"totalVolume",value:1e5}},{id:"volume-250k",name:"Moving Mountains",description:"Lift 250,000 lbs total volume",icon:"",tier:"platinum",condition:{type:"totalVolume",value:25e4}},{id:"time-1h",name:"First Hour",description:"Complete 1 hour of total workout time",icon:"",tier:"bronze",condition:{type:"totalTime",value:3600}},{id:"time-10h",name:"Time Investment",description:"Complete 10 hours of total workout time",icon:"",tier:"silver",condition:{type:"totalTime",value:36e3}},{id:"time-50h",name:"Dedicated",description:"Complete 50 hours of total workout time",icon:"",tier:"gold",condition:{type:"totalTime",value:18e4}},{id:"time-100h",name:"Time Master",description:"Complete 100 hours of total workout time",icon:"",tier:"platinum",condition:{type:"totalTime",value:36e4}},{id:"early-bird",name:"Early Bird",description:"Complete a workout before 7 AM",icon:"",tier:"bronze",condition:{type:"special",value:"earlyMorning"}},{id:"morning-person",name:"Morning Person",description:"Complete 10 workouts in the morning (7 AM - 12 PM)",icon:"",tier:"silver",condition:{type:"special",value:"morningWorkouts",count:10}},{id:"afternoon-warrior",name:"Afternoon Warrior",description:"Complete 10 workouts in the afternoon (12 PM - 5 PM)",icon:"",tier:"silver",condition:{type:"special",value:"afternoonWorkouts",count:10}},{id:"evening-grinder",name:"Evening Grinder",description:"Complete 10 workouts in the evening (5 PM - 10 PM)",icon:"",tier:"silver",condition:{type:"special",value:"eveningWorkouts",count:10}},{id:"night-owl",name:"Night Owl",description:"Complete a workout after 10 PM",icon:"",tier:"bronze",condition:{type:"special",value:"lateNight"}},{id:"consecutive-3",name:"Back to Back",description:"Complete 3 consecutive workouts within an hour of each other",icon:"",tier:"bronze",condition:{type:"special",value:"consecutiveWorkouts",count:3}},{id:"consecutive-5",name:"Chain Reaction",description:"Complete 5 consecutive workouts within an hour of each other",icon:"",tier:"silver",condition:{type:"special",value:"consecutiveWorkouts",count:5}},{id:"consecutive-10",name:"Unstoppable",description:"Complete 10 consecutive workouts within an hour of each other",icon:"",tier:"gold",condition:{type:"special",value:"consecutiveWorkouts",count:10}},{id:"weekend-warrior",name:"Weekend Warrior",description:"Complete 10 weekend workouts",icon:"",tier:"silver",condition:{type:"special",value:"weekendWorkouts",count:10}},{id:"variety-seeker",name:"Variety Seeker",description:"Complete all workout types (Full Body, Upper, Lower, Push, Pull, Legs)",icon:"",tier:"gold",condition:{type:"special",value:"allWorkoutTypes"}},{id:"wellness-first",name:"Wellness Beginner",description:"Complete your first wellness task",icon:"",tier:"bronze",condition:{type:"wellnessTaskCount",value:1}},{id:"wellness-10",name:"Wellness Explorer",description:"Complete 10 wellness tasks",icon:"",tier:"bronze",condition:{type:"wellnessTaskCount",value:10}},{id:"wellness-25",name:"Wellness Enthusiast",description:"Complete 25 wellness tasks",icon:"",tier:"silver",condition:{type:"wellnessTaskCount",value:25}},{id:"wellness-50",name:"Wellness Champion",description:"Complete 50 wellness tasks",icon:"",tier:"gold",condition:{type:"wellnessTaskCount",value:50}},{id:"wellness-100",name:"Wellness Master",description:"Complete 100 wellness tasks",icon:"",tier:"platinum",condition:{type:"wellnessTaskCount",value:100}}],zh={bronze:{color:"#CD7F32",gradient:"linear-gradient(135deg, #CD7F32 0%, #B87333 100%)",textColor:"#fff"},silver:{color:"#C0C0C0",gradient:"linear-gradient(135deg, #C0C0C0 0%, #A8A8A8 100%)",textColor:"#333"},gold:{color:"#FFD700",gradient:"linear-gradient(135deg, #FFD700 0%, #FFA500 100%)",textColor:"#333"},platinum:{color:"#E5E4E2",gradient:"linear-gradient(135deg, #E5E4E2 0%, #B0B0B0 100%)",textColor:"#333"}},wc=(e,t,s=[])=>{const{condition:a}=e;switch(a.type){case"workoutCount":return(t.totalWorkouts||0)>=a.value;case"streak":return(t.currentStreak||0)>=a.value;case"prCount":return(t.totalPRs||0)>=a.value;case"totalVolume":return(t.totalVolume||0)>=a.value;case"totalTime":return(t.totalTime||0)>=a.value;case"wellnessTaskCount":return(t.completedWellnessTasks||0)>=a.value;case"special":return h7(a,t,s);default:return!1}},h7=(e,t,s)=>{switch(e.value){case"earlyMorning":return s.some(a=>new Date(a.date).getHours()<7);case"morningWorkouts":return s.filter(l=>{const u=new Date(l.date).getHours();return u>=7&&u<12}).length>=(e.count||10);case"afternoonWorkouts":return s.filter(l=>{const u=new Date(l.date).getHours();return u>=12&&u<17}).length>=(e.count||10);case"eveningWorkouts":return s.filter(l=>{const u=new Date(l.date).getHours();return u>=17&&u<22}).length>=(e.count||10);case"lateNight":return s.some(a=>new Date(a.date).getHours()>=22);case"consecutiveWorkouts":{const a=[...s].sort((d,h)=>new Date(d.date)-new Date(h.date));let l=0,u=1;for(let d=1;d<a.length;d++){const h=new Date(a[d-1].date);(new Date(a[d].date)-h)/(1e3*60*60)<=1?(u++,l=Math.max(l,u)):u=1}return l>=(e.count||3)}case"weekendWorkouts":return s.filter(l=>{const u=new Date(l.date).getDay();return u===0||u===6}).length>=(e.count||10);case"allWorkoutTypes":{const a=["full","upper","lower","push","pull","legs"],l=new Set(s.map(u=>u.type?.toLowerCase()).filter(Boolean));return a.every(u=>l.has(u))}default:return!1}},Md=(e,t,s=[])=>{const l=[...e].sort((p,g)=>p.condition.value-g.condition.value).find(p=>!wc(p,t,s));if(!l)return null;const{condition:u}=l;let d=0;switch(u.type){case"workoutCount":d=t.totalWorkouts||0;break;case"streak":d=t.currentStreak||0;break;case"prCount":d=t.totalPRs||0;break;case"totalVolume":d=t.totalVolume||0;break;case"totalTime":d=t.totalTime||0;break;default:d=0}const h=Math.min(d/u.value*100,100);return{achievement:l,current:d,target:u.value,progress:h}},f7=(e,t=[])=>li.filter(s=>wc(s,e,t)),p7=(e,t,s=[])=>f7(e,t).filter(l=>!s.includes(l.id)),m7=e=>{const t={bronze:10,silver:25,gold:50,platinum:100};return e.reduce((s,a)=>s+(t[a.tier]||0),0)},g7=e=>{const s=Math.floor(e/100)+1,a=e%100,l=100-a;return{level:s,currentPoints:a,pointsToNext:l,totalPoints:e}},CE=({achievement:e,unlocked:t,onClick:s})=>{const a=zh[e.tier];return r.jsx($e.div,{whileHover:{scale:t?1.05:1.02},whileTap:{scale:.98},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:r.jsx(nt,{onClick:s,sx:{height:"100%",cursor:"pointer",position:"relative",background:t?a.gradient:"linear-gradient(135deg, #424242 0%, #303030 100%)",color:t?a.textColor:"#888",transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:t?6:2}},children:r.jsxs(ct,{sx:{textAlign:"center",p:2},children:[!t&&r.jsx(L,{sx:{position:"absolute",top:8,right:8,color:"rgba(255, 255, 255, 0.5)"},children:r.jsx(BC,{fontSize:"small"})}),r.jsx(R,{variant:"h2",sx:{fontSize:"3rem",mb:1,filter:t?"none":"grayscale(100%)",opacity:t?1:.4},children:e.icon}),r.jsx(R,{variant:"subtitle1",sx:{fontWeight:700,mb:.5,fontSize:"0.95rem"},children:e.name}),r.jsx(mt,{label:e.tier.toUpperCase(),size:"small",sx:{fontSize:"0.65rem",height:20,fontWeight:600,bgcolor:t?"rgba(255, 255, 255, 0.3)":"rgba(255, 255, 255, 0.1)"}})]})})})};CE.propTypes={achievement:E.object.isRequired,unlocked:E.bool.isRequired,onClick:E.func.isRequired};const TE=({achievement:e,unlocked:t,onClose:s,onShare:a})=>{if(!e)return null;const l=zh[e.tier];return r.jsxs(Pn,{open:!!e,onClose:s,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:3}},children:[r.jsx(Un,{sx:{textAlign:"center",pb:1},children:r.jsx(Xe,{onClick:s,sx:{position:"absolute",right:8,top:8},children:r.jsx(gh,{})})}),r.jsxs(On,{sx:{textAlign:"center",pt:0},children:[r.jsx(L,{sx:{width:120,height:120,borderRadius:"50%",background:t?l.gradient:"linear-gradient(135deg, #424242 0%, #303030 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",filter:t?"none":"grayscale(100%)",opacity:t?1:.6},children:r.jsx(R,{variant:"h1",sx:{fontSize:"4rem"},children:e.icon})}),!t&&r.jsx(mt,{icon:r.jsx(BC,{}),label:"LOCKED",color:"default",sx:{mb:2}}),t&&r.jsx(mt,{icon:r.jsx($o,{}),label:"UNLOCKED",color:"success",sx:{mb:2}}),r.jsx(R,{variant:"h5",sx:{fontWeight:700,mb:1},children:e.name}),r.jsx(mt,{label:e.tier.toUpperCase(),size:"small",sx:{mb:2,fontWeight:600,background:l.gradient,color:l.textColor}}),r.jsx(R,{variant:"body1",color:"text.secondary",sx:{mb:2},children:e.description}),r.jsx(L,{sx:{p:2,borderRadius:2,bgcolor:"action.hover"},children:r.jsx(R,{variant:"body2",color:"text.secondary",children:y7(e.condition)})})]}),r.jsxs(Rn,{sx:{justifyContent:"center",pb:3,px:3},children:[t&&a&&r.jsx(Ae,{variant:"contained",startIcon:r.jsx(VC,{}),onClick:()=>a(e),fullWidth:!0,children:"Share Achievement"}),!t&&r.jsx(Ae,{variant:"outlined",onClick:s,fullWidth:!0,children:"Close"})]})]})};TE.propTypes={achievement:E.object,unlocked:E.bool,onClose:E.func.isRequired,onShare:E.func};const cc=({title:e,icon:t,progressInfo:s})=>{if(!s)return r.jsx(nt,{sx:{height:"100%"},children:r.jsx(ct,{children:r.jsxs(_e,{spacing:1,children:[r.jsxs(_e,{direction:"row",alignItems:"center",spacing:1,children:[t,r.jsx(R,{variant:"h6",sx:{fontWeight:600,fontSize:"1rem"},children:e})]}),r.jsx(R,{variant:"body2",color:"text.secondary",children:"All achievements unlocked! "})]})})});const{achievement:a,current:l,target:u,progress:d}=s;return r.jsx(nt,{sx:{height:"100%"},children:r.jsx(ct,{children:r.jsxs(_e,{spacing:2,children:[r.jsxs(_e,{direction:"row",alignItems:"center",spacing:1,children:[t,r.jsx(R,{variant:"h6",sx:{fontWeight:600,fontSize:"1rem"},children:e})]}),r.jsxs(L,{children:[r.jsxs(_e,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:1},children:[r.jsx(R,{variant:"body2",sx:{fontWeight:600},children:a.name}),r.jsxs(R,{variant:"body2",color:"text.secondary",children:[dC(l,a.condition.type)," / ",dC(u,a.condition.type)]})]}),r.jsx(Yi,{variant:"determinate",value:d,sx:{height:8,borderRadius:4,bgcolor:"action.hover","& .MuiLinearProgress-bar":{background:zh[a.tier].gradient,borderRadius:4}}}),r.jsxs(R,{variant:"caption",color:"text.secondary",sx:{mt:.5,display:"block"},children:[Math.round(d),"% complete"]})]})]})})})};cc.propTypes={title:E.string.isRequired,icon:E.element.isRequired,progressInfo:E.object};const kE=({userStats:e,workoutHistory:t=[]})=>{const[s,a]=x.useState(null),[l,u]=x.useState(!1),[d,h]=x.useState(0),p=li.filter(O=>wc(O,e,t)),g=m7(p),y=g7(g),b={workout:li.filter(O=>O.condition.type==="workoutCount"),streak:li.filter(O=>O.condition.type==="streak"),pr:li.filter(O=>O.condition.type==="prCount"),volume:li.filter(O=>O.condition.type==="totalVolume"),time:li.filter(O=>O.condition.type==="totalTime"),special:li.filter(O=>O.condition.type==="special")},v=[{label:"All",key:"all"},{label:"Workouts",key:"workout"},{label:"Streaks",key:"streak"},{label:"PRs",key:"pr"},{label:"Volume",key:"volume"},{label:"Time",key:"time"},{label:"Special",key:"special"}],S=v[d].key,j=S==="all"?li:b[S],k=Md(b.workout,e,t),w=Md(b.streak,e,t),T=Md(b.pr,e,t),D=Md(b.volume,e,t),A=O=>{a(O),u(wc(O,e,t))},W=async O=>{const _=`I just unlocked the "${O.name}" achievement in GoodLift! ${O.icon}

${O.description}`;if(navigator.share)try{await navigator.share({title:"GoodLift Achievement",text:_})}catch(N){N.name!=="AbortError"&&(console.error("Error sharing:",N),P(_))}else P(_)},P=O=>{navigator.clipboard.writeText(O).then(()=>{alert("Achievement text copied to clipboard!")})};return r.jsxs(L,{sx:{p:{xs:1,sm:2,md:3}},children:[r.jsxs(L,{sx:{mb:4,textAlign:"center"},children:[r.jsx(R,{variant:"h4",sx:{fontWeight:700,mb:1},children:"Achievements"}),r.jsxs(_e,{direction:"row",spacing:2,justifyContent:"center",alignItems:"center",sx:{mb:2},children:[r.jsx(mt,{icon:r.jsx($o,{}),label:`Level ${y.level}`,color:"primary",sx:{fontSize:"1rem",fontWeight:600,height:36}}),r.jsx(mt,{label:`${p.length} / ${li.length} Unlocked`,variant:"outlined",sx:{fontSize:"0.9rem",height:36}})]}),r.jsxs(L,{sx:{maxWidth:400,margin:"0 auto"},children:[r.jsxs(_e,{direction:"row",justifyContent:"space-between",sx:{mb:1},children:[r.jsxs(R,{variant:"caption",color:"text.secondary",children:[y.currentPoints," / 100 points"]}),r.jsxs(R,{variant:"caption",color:"text.secondary",children:[y.pointsToNext," to Level ",y.level+1]})]}),r.jsx(Yi,{variant:"determinate",value:y.currentPoints/100*100,sx:{height:10,borderRadius:5,bgcolor:"action.hover","& .MuiLinearProgress-bar":{borderRadius:5}}})]})]}),r.jsxs(Jt,{container:!0,spacing:{xs:1,sm:2},sx:{mb:4},children:[r.jsx(Jt,{item:!0,xs:6,sm:6,md:3,children:r.jsx(cc,{title:"Workouts",icon:r.jsx(fn,{color:"primary"}),progressInfo:k})}),r.jsx(Jt,{item:!0,xs:6,sm:6,md:3,children:r.jsx(cc,{title:"Streak",icon:r.jsx(LC,{sx:{color:"#FF6B35"}}),progressInfo:w})}),r.jsx(Jt,{item:!0,xs:6,sm:6,md:3,children:r.jsx(cc,{title:"Personal Records",icon:r.jsx(Aa,{color:"success"}),progressInfo:T})}),r.jsx(Jt,{item:!0,xs:6,sm:6,md:3,children:r.jsx(cc,{title:"Volume",icon:r.jsx($o,{sx:{color:"#FFD700"}}),progressInfo:D})})]}),r.jsx(L,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:r.jsx(Fc,{value:d,onChange:(O,_)=>h(_),variant:"scrollable",scrollButtons:"auto",children:v.map(O=>r.jsx(zi,{label:O.label},O.key))})}),r.jsx(Jt,{container:!0,spacing:{xs:1,sm:2},children:j.map(O=>{const _=wc(O,e,t);return r.jsx(Jt,{item:!0,xs:6,sm:4,md:3,lg:2,children:r.jsx(CE,{achievement:O,unlocked:_,onClick:()=>A(O)})},O.id)})}),r.jsx(TE,{achievement:s,unlocked:l,onClose:()=>a(null),onShare:W})]})};kE.propTypes={userStats:E.shape({totalWorkouts:E.number,currentStreak:E.number,totalPRs:E.number,totalVolume:E.number,totalTime:E.number}).isRequired,workoutHistory:E.array};const y7=e=>{switch(e.type){case"workoutCount":return`Complete ${e.value} workout${e.value!==1?"s":""}`;case"streak":return`Maintain a ${e.value}-day workout streak`;case"prCount":return`Achieve ${e.value} personal record${e.value!==1?"s":""}`;case"totalVolume":return`Lift ${e.value.toLocaleString()} lbs total volume`;case"totalTime":{const t=Math.floor(e.value/3600);return`Complete ${t} hour${t!==1?"s":""} of total workout time`}case"special":return e.value;default:return""}},dC=(e,t)=>{switch(t){case"totalVolume":return`${e.toLocaleString()} lbs`;case"totalTime":{const s=Math.floor(e/3600),a=Math.floor(e%3600/60);return s>0?`${s}h ${a}m`:`${a}m`}default:return e}},jx=(e,t,s)=>!e||t===s?e:t==="lbs"&&s==="kg"?Math.round(e*.453592*10)/10:t==="kg"&&s==="lbs"?Math.round(e*2.20462*10)/10:e,jE=(e,t=30)=>{if(!e||e.length===0)return[];const s=new Date;return s.setDate(s.getDate()-t),e.filter(a=>new Date(a.date)>=s).sort((a,l)=>new Date(a.date)-new Date(l.date))},x7=(e,t=30)=>{if(!e||e.length<2)return{change:0,percentage:0,direction:"stable"};const s=jE(e,t);if(s.length<2)return{change:0,percentage:0,direction:"stable"};const a=s[0],l=s[s.length-1],u=jx(a.weight,a.unit,l.unit),h=l.weight-u,p=u!==0?h/u*100:0;let g="stable";return Math.abs(h)>.5&&(g=h>0?"up":"down"),{change:Math.round(h*10)/10,percentage:Math.round(p*10)/10,direction:g}},Ad=(e,t="lbs")=>e?`${Math.round(e*10)/10} ${t}`:`0 ${t}`,b7=(e,t="lbs")=>{if(!e||isNaN(e))return{valid:!1,error:"Please enter a valid weight"};const s=parseFloat(e);if(s<=0)return{valid:!1,error:"Weight must be greater than 0"};const a=t==="lbs"?50:20,l=t==="lbs"?1e3:450;return s<a||s>l?{valid:!1,error:`Weight must be between ${a} and ${l} ${t}`}:{valid:!0}},v7=(e,t=30,s="lbs")=>{const a=jE(e,t);if(a.length===0)return{labels:[],data:[]};const l=a.map(d=>new Date(d.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})),u=a.map(d=>jx(d.weight,d.unit,s));return{labels:l,data:u}},S7=(e,t="lbs")=>{if(!e||e.length===0)return{min:0,max:0,average:0,current:0,entries:0};const s=e.map(p=>jx(p.weight,p.unit,t)),a=Math.min(...s),l=Math.max(...s),d=s.reduce((p,g)=>p+g,0)/s.length,h=s[s.length-1];return{min:Math.round(a*10)/10,max:Math.round(l*10)/10,average:Math.round(d*10)/10,current:Math.round(h*10)/10,entries:s.length}};BP.register(VP,zP,FP,HP,UP,qP,YP,GP);const DE=({weightHistory:e,currentWeight:t,currentUnit:s,targetWeight:a,onAddWeight:l})=>{const[u,d]=x.useState(""),[h,p]=x.useState(s||"lbs"),[g,y]=x.useState(null),[b,v]=x.useState(!1);x.useEffect(()=>{p(s||"lbs")},[s]);const S=()=>{y(null);const P=b7(u,h);if(!P.valid){y(P.error);return}l(parseFloat(u),h),d(""),v(!1)},j=x7(e,30),k=S7(e,h),w=v7(e,30,h);let T;if(a&&w.data.length>0){const P=Math.min(...w.data);T=Math.min(a,P)-5}const D={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:P=>`${P.parsed.y} ${h}`}}},scales:{y:{beginAtZero:!1,min:T,ticks:{callback:P=>`${P} ${h}`}}}},A={labels:w.labels,datasets:[{label:"Weight",data:w.data,borderColor:"rgb(25, 118, 210)",backgroundColor:"rgba(25, 118, 210, 0.1)",fill:!0,tension:.4}]},W=()=>j.direction==="up"?r.jsx(Aa,{color:"warning"}):j.direction==="down"?r.jsx(Og,{color:"success"}):r.jsx(Q2,{color:"info"});return r.jsx(nt,{sx:{borderRadius:2},children:r.jsxs(ct,{children:[r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[r.jsx(R,{variant:"h6",fontWeight:600,children:"Weight Tracking"}),r.jsx(Xe,{color:"primary",onClick:()=>v(!b),size:"small",children:r.jsx(gi,{})})]}),t&&r.jsxs(L,{sx:{mb:3},children:[r.jsx(R,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Current Weight"}),r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:2},children:[r.jsx(R,{variant:"h4",fontWeight:700,children:Ad(t,h)}),j.direction!=="stable"&&r.jsx(mt,{icon:W(),label:`${j.change>0?"+":""}${j.change} ${h}`,size:"small",color:j.direction==="up"?"warning":"success"})]}),r.jsx(R,{variant:"caption",color:"text.secondary",children:j.direction!=="stable"?`${Math.abs(j.percentage)}% ${j.direction==="up"?"increase":"decrease"} in last 30 days`:"No significant change in last 30 days"})]}),b&&r.jsxs(L,{sx:{mb:3,p:2,bgcolor:"action.hover",borderRadius:2},children:[r.jsx(R,{variant:"body2",fontWeight:600,gutterBottom:!0,children:"Add Weight Entry"}),g&&r.jsx($t,{severity:"error",sx:{mb:2},children:g}),r.jsxs(_e,{direction:"row",spacing:2,alignItems:"flex-start",children:[r.jsx(gt,{label:"Weight",type:"number",value:u,onChange:P=>{d(P.target.value),y(null)},size:"small",sx:{flex:1},inputProps:{step:.1,min:0}}),r.jsxs(Ut,{size:"small",sx:{minWidth:80},children:[r.jsx(An,{children:"Unit"}),r.jsxs(Gt,{value:h,onChange:P=>p(P.target.value),label:"Unit",children:[r.jsx(Be,{value:"lbs",children:"lbs"}),r.jsx(Be,{value:"kg",children:"kg"})]})]}),r.jsx(Ae,{variant:"contained",onClick:S,disabled:!u,size:"small",sx:{minWidth:80},children:"Add"})]})]}),w.data.length>0?r.jsxs(L,{sx:{height:250,mb:2},children:[r.jsx(R,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Last 30 Days"}),r.jsx($P,{data:A,options:D})]}):r.jsx($t,{severity:"info",sx:{mb:2},children:"No weight history yet. Add your first weight entry to start tracking!"}),k.entries>0&&r.jsxs(L,{sx:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:2,pt:2,borderTop:1,borderColor:"divider"},children:[r.jsxs(L,{children:[r.jsx(R,{variant:"caption",color:"text.secondary",children:"Minimum"}),r.jsx(R,{variant:"body2",fontWeight:600,children:Ad(k.min,h)})]}),r.jsxs(L,{children:[r.jsx(R,{variant:"caption",color:"text.secondary",children:"Average"}),r.jsx(R,{variant:"body2",fontWeight:600,children:Ad(k.average,h)})]}),r.jsxs(L,{children:[r.jsx(R,{variant:"caption",color:"text.secondary",children:"Maximum"}),r.jsx(R,{variant:"body2",fontWeight:600,children:Ad(k.max,h)})]})]})]})})};DE.propTypes={weightHistory:E.arrayOf(E.shape({weight:E.number.isRequired,unit:E.string.isRequired,date:E.string.isRequired})).isRequired,currentWeight:E.number,currentUnit:E.string,targetWeight:E.number,onAddWeight:E.func.isRequired};class w7{constructor(){this.maxPinnedExercises=10}getExerciseProgression(t,s,a="weight"){if(!t||!Array.isArray(t))return[];const l=[];return t.forEach(u=>{if(!u.exercises||!u.exercises[s])return;const h=u.exercises[s].sets||[];if(h.length===0)return;let p;a==="weight"?p=Math.max(...h.map(g=>g.weight||0)):a==="reps"&&(p=Math.max(...h.map(g=>g.reps||0))),p>0&&l.push({date:new Date(u.date),value:p,workout:u})}),l.sort((u,d)=>u.date-d.date),l}getUniqueExercises(t){if(!t||!Array.isArray(t))return[];const s=new Set;return t.forEach(a=>{a.exercises&&Object.keys(a.exercises).forEach(l=>{s.add(l)})}),Array.from(s).sort()}formatProgressionForChart(t,s,a="weight"){if(!t||t.length===0)return{labels:[],datasets:[{label:s,data:[],fill:!0,backgroundColor:"rgba(19, 70, 134, 0.2)",borderColor:"rgb(19, 70, 134)",tension:.4,pointBackgroundColor:"rgb(19, 70, 134)",pointBorderColor:"#fff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}],minValue:0};const l=t.slice(-10),u=l.map((p,g)=>`Session ${g+1}`),d=l.map(p=>p.value);let h=0;if(a==="weight"&&d.length>0){const p=Math.min(...d);h=Math.max(0,p-5)}return{labels:u,datasets:[{label:s,data:d,fill:!0,backgroundColor:"rgba(19, 70, 134, 0.2)",borderColor:"rgb(19, 70, 134)",tension:.4,pointBackgroundColor:"rgb(19, 70, 134)",pointBorderColor:"#fff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}],minValue:h}}getPinnedExercises(){return t_()}setPinnedExercises(t){if(!Array.isArray(t))throw new Error("Pinned exercises must be an array");const s=t.slice(0,this.maxPinnedExercises);n_(s)}addPinnedExercise(t,s="weight"){try{const a=this.getPinnedExercises();return a.some(l=>l.exerciseName===t)||a.length>=this.maxPinnedExercises?!1:(a.push({exerciseName:t,trackingMode:s}),this.setPinnedExercises(a),!0)}catch(a){return console.error("Error adding pinned exercise:",a),!1}}removePinnedExercise(t){try{const a=this.getPinnedExercises().filter(l=>l.exerciseName!==t);this.setPinnedExercises(a)}catch(s){throw console.error("Error removing pinned exercise:",s),s}}updatePinnedExerciseMode(t,s){try{const l=this.getPinnedExercises().map(u=>u.exerciseName===t?{...u,trackingMode:s}:u);this.setPinnedExercises(l)}catch(a){throw console.error("Error updating pinned exercise mode:",a),a}}isExercisePinned(t){return this.getPinnedExercises().some(a=>a.exerciseName===t)}getAvailableExercisesForPinning(t){const s=this.getUniqueExercises(t),a=this.getPinnedExercises(),l=new Set(a.map(u=>u.exerciseName));return s.filter(u=>!l.has(u))}calculateStats(t,s="all"){if(!t||!Array.isArray(t))return{workoutsThisWeek:0,totalVolume:0,currentStreak:0,avgDuration:0};const a=new Date,l=t.filter(b=>{const v=new Date(b.date);if(s==="week"){const S=new Date(a.getTime()-6048e5);return v>=S}else if(s==="month"){const S=new Date(a.getTime()-2592e6);return v>=S}return!0}),u=new Date(a.getTime()-10080*60*1e3),d=t.filter(b=>new Date(b.date)>=u).length;let h=0;l.forEach(b=>{b.exercises&&Object.values(b.exercises).forEach(v=>{v.sets&&Array.isArray(v.sets)&&v.sets.forEach(S=>{h+=(S.weight||0)*(S.reps||0)})})});const p=this.calculateStreak(t),g=l.reduce((b,v)=>b+(v.duration||0),0),y=l.length>0?Math.round(g/l.length/60):0;return{workoutsThisWeek:d,totalVolume:h,currentStreak:p,avgDuration:y}}calculateStreak(t){if(!t||t.length===0)return 0;const s=[...t].sort((u,d)=>new Date(d.date)-new Date(u.date));let a=0,l=new Date;l.setHours(0,0,0,0);for(const u of s){const d=new Date(u.date);d.setHours(0,0,0,0);const h=Math.floor((l-d)/(1e3*60*60*24));if(h===a)a++;else if(h>a)break}return a}getProgressionSummary(t,s,a="weight"){const l=this.getExerciseProgression(t,s,a);if(l.length===0)return{current:0,best:0,trend:"none",improvement:0};const u=l.map(y=>y.value),d=u[u.length-1],h=Math.max(...u);let p="stable";if(u.length>=4){const y=u.slice(-4,-1).reduce((b,v)=>b+v,0)/3;d>y*1.05?p="up":d<y*.95&&(p="down")}const g=u.length>=2?(d-u[0])/u[0]*100:0;return{current:d,best:h,trend:p,improvement:Math.round(g)}}}const ko=new w7,EE=x.memo(({currentStreak:e=0,longestStreak:t=0})=>{const s=SE(e),a=s.length>0?s[s.length-1]:null;return r.jsx(nt,{sx:{borderRadius:3,boxShadow:"0 4px 16px rgba(19, 70, 134, 0.08)",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white"},children:r.jsx(ct,{sx:{p:2.5},children:r.jsxs(_e,{spacing:2,children:[r.jsxs(L,{sx:{textAlign:"center"},children:[r.jsx(L,{sx:{fontSize:"3rem",mb:1},children:""}),r.jsx(R,{variant:"h3",sx:{fontWeight:700,mb:.5},children:e}),r.jsx(R,{variant:"body2",sx:{opacity:.9},children:"Day Streak"})]}),s.length>0&&r.jsxs(L,{children:[r.jsx(R,{variant:"caption",sx:{opacity:.8,display:"block",textAlign:"center",mb:1},children:"Milestones Achieved"}),r.jsx(_e,{direction:"row",spacing:1,sx:{justifyContent:"center",flexWrap:"wrap",gap:1},children:s.map((l,u)=>r.jsx($n,{title:l.description,children:r.jsx(mt,{label:`${l.days} days`,size:"small",sx:{bgcolor:"rgba(255, 255, 255, 0.2)",color:"white",fontWeight:600,"&:hover":{bgcolor:"rgba(255, 255, 255, 0.3)"}},icon:r.jsx(L,{component:"span",sx:{fontSize:"1rem",ml:.5},children:l.badge.split(" ")[0]})})},u))})]}),a&&r.jsx(L,{sx:{p:1.5,borderRadius:2,bgcolor:"rgba(255, 255, 255, 0.15)",textAlign:"center"},children:r.jsx(R,{variant:"body2",sx:{opacity:.9},children:a.badge})}),t>e&&r.jsx(L,{sx:{textAlign:"center",pt:1,borderTop:"1px solid rgba(255, 255, 255, 0.2)"},children:r.jsxs(R,{variant:"caption",sx:{opacity:.8},children:["Personal Best: ",t," days"]})})]})})})});EE.displayName="StreakDisplay";EE.propTypes={currentStreak:E.number,longestStreak:E.number};const ME=x.memo(({adherence:e=0,completedWorkouts:t=0,plannedWorkouts:s=0})=>{const a=()=>e>=80?"success.main":e>=60?"warning.main":"error.main",l=()=>e>=80?"Excellent! ":e>=60?"Good progress! ":"Keep going! ";return r.jsx(nt,{sx:{borderRadius:3,boxShadow:"0 4px 16px rgba(19, 70, 134, 0.08)"},children:r.jsx(ct,{sx:{p:2.5},children:r.jsxs(_e,{spacing:2,children:[r.jsxs(_e,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(Uo,{sx:{color:a()}}),r.jsx(R,{variant:"h6",sx:{fontWeight:600},children:"Adherence"})]}),r.jsxs(R,{variant:"h4",sx:{fontWeight:700,color:a()},children:[e,"%"]})]}),r.jsx(L,{children:r.jsx(Yi,{variant:"determinate",value:e,sx:{height:12,borderRadius:6,bgcolor:"action.hover","& .MuiLinearProgress-bar":{bgcolor:a(),borderRadius:6}}})}),r.jsxs(_e,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[r.jsxs(R,{variant:"body2",color:"text.secondary",children:[t," of ",s," workouts completed"]}),r.jsx(R,{variant:"body2",sx:{fontWeight:600,color:a()},children:l()})]})]})})})});ME.displayName="AdherenceDisplay";ME.propTypes={adherence:E.number,completedWorkouts:E.number,plannedWorkouts:E.number};const AE=x.memo(({totalVolume:e=0,volumeChange:t=0})=>{const s=t>=0;return r.jsx(nt,{sx:{borderRadius:3,boxShadow:"0 4px 16px rgba(19, 70, 134, 0.08)"},children:r.jsx(ct,{sx:{p:2.5},children:r.jsxs(_e,{spacing:2,children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(Aa,{sx:{color:"primary.main"}}),r.jsx(R,{variant:"h6",sx:{fontWeight:600},children:"Total Volume"})]}),r.jsxs(L,{children:[r.jsx(R,{variant:"h3",sx:{fontWeight:700,color:"primary.main"},children:e.toLocaleString()}),r.jsx(R,{variant:"body2",color:"text.secondary",children:"lbs lifted (last 30 days)"})]}),t!==0&&r.jsxs(L,{sx:{p:1.5,borderRadius:2,bgcolor:s?"success.light":"error.light",display:"flex",alignItems:"center",justifyContent:"center",gap:.5},children:[r.jsxs(R,{variant:"body2",sx:{fontWeight:600,color:s?"success.dark":"error.dark"},children:[s?"":""," ",Math.abs(t),"%"]}),r.jsx(R,{variant:"caption",sx:{color:s?"success.dark":"error.dark"},children:"vs. previous 30 days"})]})]})})})});AE.displayName="VolumeTrendDisplay";AE.propTypes={totalVolume:E.number,volumeChange:E.number};const PE=x.createContext({}),Dx=()=>x.useContext(PE),wo={displayName:"",email:"",avatar:null,currentWeight:null,targetWeight:null,weightHistory:[],bio:"",goals:"",memberSince:null,weightUnit:"lbs"},OE=({children:e})=>{const{currentUser:t,isGuest:s}=Er(),[a,l]=x.useState(wo),[u,d]=x.useState({totalWorkouts:0,currentStreak:0,longestStreak:0,favoriteExercise:"",totalVolume:0,totalPRs:0,completedWellnessTasks:0}),[h,p]=x.useState(!0),g=x.useCallback(async()=>{try{const T=await ni(),D=T.length,A=ko.calculateStreak(T);let W=0,P=0;const O=[...T].sort((q,ae)=>new Date(q.date)-new Date(ae.date));for(let q=0;q<O.length;q++)if(q===0)P=1;else{const ae=new Date(O[q-1].date),z=new Date(O[q].date);Math.floor((z-ae)/(1e3*60*60*24))===1?P++:(W=Math.max(W,P),P=1)}W=Math.max(W,P);const _={};T.forEach(q=>{q.exercises?.forEach(ae=>{const z=ae.name||ae.exerciseName;z&&(_[z]=(_[z]||0)+1)})});const N=Object.entries(_).sort((q,ae)=>ae[1]-q[1])[0]?.[0]||"";let I=0;T.forEach(q=>{q.exercises?.forEach(ae=>{ae.sets?.forEach(z=>{z.weight&&z.reps&&(I+=z.weight*z.reps)})})});const H=localStorage.getItem("goodlift_total_prs")?parseInt(localStorage.getItem("goodlift_total_prs")):0,V=t?.uid?`wellness_completed_${t.uid}`:"wellness_completed_guest",B=localStorage.getItem(V),de=B?JSON.parse(B).length:0;return{totalWorkouts:D,currentStreak:A,longestStreak:W,favoriteExercise:N,totalVolume:I,totalPRs:H,completedWellnessTasks:de}}catch(T){return console.error("Error calculating stats:",T),{totalWorkouts:0,currentStreak:0,longestStreak:0,favoriteExercise:"",totalVolume:0,totalPRs:0,completedWellnessTasks:0}}},[t]);x.useEffect(()=>{t!==void 0&&(async()=>{p(!0);try{if(t&&!s){const D=await Us(t.uid);if(D?.profile)l({...wo,...D.profile,email:t.email});else{const A={...wo,displayName:t.displayName||"",email:t.email,memberSince:new Date().toISOString()};l(A),await Cn(t.uid,{profile:A})}if(D?.stats)d(D.stats);else{const A=await g();d(A)}}else{const D=localStorage.getItem("goodlift_user_profile");l(D?{...wo,...JSON.parse(D)}:{...wo,displayName:"Guest User",memberSince:new Date().toISOString()});const A=await g();d(A)}}catch(D){console.error("Error loading profile:",D),l(wo)}finally{p(!1)}})()},[t,s,g]);const y=x.useCallback(async T=>{try{l(T),t&&!s?await Cn(t.uid,{profile:T}):localStorage.setItem("goodlift_user_profile",JSON.stringify(T))}catch(D){throw console.error("Error saving profile:",D),D}},[t,s]),b=x.useCallback((T,D)=>{const A={...a,[T]:D};return y(A)},[a,y]),v=x.useCallback(async(T,D="lbs")=>{const A={weight:T,unit:D,date:new Date().toISOString()},W=[...a.weightHistory,A],P={...a,currentWeight:T,weightUnit:D,weightHistory:W};await y(P)},[a,y]),S=x.useCallback(()=>{if(!a.displayName)return"?";const T=a.displayName.trim().split(" ");return T.length===1?T[0].charAt(0).toUpperCase():(T[0].charAt(0)+T[T.length-1].charAt(0)).toUpperCase()},[a.displayName]),j=x.useCallback(()=>{let T=0,D=7;return a.displayName&&T++,a.avatar&&T++,a.currentWeight&&T++,a.bio&&T++,a.goals&&T++,a.weightHistory.length>0&&T++,a.email&&T++,Math.round(T/D*100)},[a]),k=x.useCallback(async()=>{const T=await g();d(T),t&&!s&&await Cn(t.uid,{stats:T})},[g,t,s]),w={profile:a,stats:u,loading:h,saveProfile:y,updateProfile:b,addWeightEntry:v,getInitials:S,getProfileCompletion:j,refreshStats:k};return r.jsx(PE.Provider,{value:w,children:e})};OE.propTypes={children:E.node.isRequired};const C7=(e=[])=>{if(!e||e.length===0)return{currentStreak:0,longestStreak:0};const t=[...e].sort((g,y)=>new Date(y.date)-new Date(g.date)),s=new Set(t.map(g=>{const y=new Date(g.date);return y.setHours(0,0,0,0),y.getTime()})),a=new Date;a.setHours(0,0,0,0);let l=0,u=0,d=0,h=new Date(a),p=0;for(let g=0;g<365;g++){const y=h.getTime();if(Math.floor((a.getTime()-h.getTime())/(1e3*60*60*24))%7===0&&g>0&&(p=0),s.has(y))d++,l===0&&g<2&&(l=d),u=Math.max(u,d);else if(p++,p>1){const v=new Date(h);if(v.setDate(v.getDate()-1),!s.has(v.getTime())&&g>0){if(l===0&&d>0)break;d=0,p=0}}h.setDate(h.getDate()-1)}return{currentStreak:l,longestStreak:u}},T7=(e=[],t=30)=>{const s=new Date;s.setDate(s.getDate()-t),s.setHours(0,0,0,0);const l=e.filter(p=>{const g=new Date(p.date);return g.setHours(0,0,0,0),g>=s}).length,u=t/7,d=Math.ceil(u*6);return d===0?0:Math.min(100,Math.round(l/d*100))},RE=()=>{const[e,t]=x.useState(!0),[s,a]=x.useState([]),[l,u]=x.useState([]),[d,h]=x.useState([]),[p,g]=x.useState(!1),[y,b]=x.useState(""),[v,S]=x.useState(0),[j,k]=x.useState(!1),[w,T]=x.useState("all"),[D,A]=x.useState(null),[W,P]=x.useState(null),{profile:O,addWeightEntry:_}=Dx(),[N,I]=x.useState({currentStreak:0,longestStreak:0}),[H,V]=x.useState(0),[B,de]=x.useState({}),[q,ae]=x.useState({personalRecords:0,totalWorkouts:0,averageDuration:0,strengthSessions:0,cardioSessions:0,yogaSessions:0}),z=()=>{switch(w){case"7days":return 7;case"30days":return 30;case"3months":return 90;case"year":return 365;case"custom":return null;case"all":return null;default:return null}},U=()=>{const Q=z();if(w==="custom"&&D&&W){const he=new Date(D);he.setHours(0,0,0,0);const be=new Date(W);return be.setHours(23,59,59,999),s.filter(ge=>{const ie=new Date(ge.date);return ie>=he&&ie<=be})}if(!Q)return s;const J=new Date;return J.setDate(J.getDate()-Q),J.setHours(0,0,0,0),s.filter(he=>{const be=new Date(he.date);return be.setHours(0,0,0,0),be>=J})},ue=Q=>{let J=0,he=0,be=0,ge=0;const ie={};Q.forEach($=>{$.type==="cardio"||$.type==="hiit"||$.cardioType?he++:$.type==="yoga"||$.type==="stretch"||$.type==="mobility"||$.yogaType?be++:($.type==="strength"||$.type==="full"||$.type==="upper"||$.type==="lower"||$.type==="push"||$.type==="pull"||$.type==="legs"||$.exercises&&Object.keys($.exercises).length>0)&&J++;const le=$.duration||0;ge+=le,$.exercises&&Object.entries($.exercises).forEach(([ye,Pe])=>{!Pe.sets||Pe.sets.length===0||Pe.sets.forEach(pe=>{const te=pe.weight||0,ee=pe.reps||0;te===0&&ee===0||(!ie[ye]||te>ie[ye].weight)&&(ie[ye]={weight:te,reps:ee,date:$.date})})})});const Y=Q.length,oe=Y>0?Math.round(ge/Y):0;return{personalRecords:Object.keys(ie).length,totalWorkouts:Y,averageDuration:oe,strengthSessions:J,cardioSessions:he,yogaSessions:be}},fe=async()=>{t(!0);try{const[Q,,J]=await Promise.all([ni(),Sh(),Yc()]);a(Q),de(J);const he=C7(Q);I(he);const be=T7(Q,30);V(be);const ge=ko.getPinnedExercises();u(ge);try{const oe=(await(await fetch(_h)).json()).map($=>$["Exercise Name"]).sort();h(oe)}catch(ie){console.error("Error loading exercises:",ie);const Y=ko.getUniqueExercises(Q);h(Y)}}catch(Q){console.error("Error loading progress data:",Q)}finally{t(!1)}};x.useEffect(()=>{fe()},[]),x.useEffect(()=>{if(s.length>0||w||D||W){const Q=U(),J=ue(Q);ae(J)}},[s,w,D,W]);const Ce=Q=>{ko.removePinnedExercise(Q),u(l.filter(J=>J.exerciseName!==Q))},we=Q=>{ko.addPinnedExercise(Q,"weight")&&(u([...l,{exerciseName:Q,trackingMode:"weight"}]),g(!1),b(""))};return e?r.jsx(L,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:r.jsxs(R,{variant:"h5",color:"text.secondary",children:["Loading",r.jsx($e.span,{initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:"..."})]})}):r.jsxs(L,{sx:{width:"100%",minHeight:"100vh",overflowX:"hidden"},children:[r.jsx(Vh,{title:"Progress",subtitle:"Track your fitness journey"}),r.jsxs(L,{sx:{maxWidth:"1400px",margin:"0 auto",p:{xs:1,sm:2,md:3},pb:{xs:"80px",md:3},width:"100%",boxSizing:"border-box"},children:[r.jsx(L,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:r.jsxs(Fc,{value:v,onChange:(Q,J)=>S(J),variant:"fullWidth",sx:{maxWidth:{xs:"100%",sm:600},margin:"0 auto"},children:[r.jsx(zi,{icon:r.jsx(jS,{}),iconPosition:"start",label:"Statistics",sx:{minHeight:48}}),r.jsx(zi,{icon:r.jsx($o,{}),iconPosition:"start",label:"Achievements",sx:{minHeight:48}})]})}),v===0&&r.jsxs(_e,{spacing:3,children:[r.jsx(L,{sx:{display:"flex",justifyContent:"flex-end"},children:r.jsx(Ae,{startIcon:r.jsx(Nm,{}),onClick:()=>k(!0),variant:"outlined",size:"small",sx:{textTransform:"none",borderRadius:2},children:w==="all"?"All Time":w==="7days"?"7 Days":w==="30days"?"30 Days":w==="3months"?"3 Months":w==="year"?"Year":w==="custom"?"Custom":"Filter"})}),r.jsx(nt,{sx:{bgcolor:"background.paper",boxShadow:3,border:"2px solid #FF6B35"},children:r.jsx(ct,{sx:{p:2.5},children:r.jsxs(_e,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:2},children:[r.jsx(LC,{sx:{fontSize:48,color:"#FF6B35"}}),r.jsxs(L,{children:[r.jsx(R,{variant:"h2",sx:{fontWeight:700,color:"#FF6B35",lineHeight:1},children:N.currentStreak}),r.jsx(R,{variant:"body1",color:"text.secondary",sx:{fontWeight:600},children:"Day Streak"})]})]}),r.jsxs(L,{sx:{textAlign:"right"},children:[r.jsx(R,{variant:"caption",color:"text.secondary",children:"Longest"}),r.jsx(R,{variant:"h5",sx:{fontWeight:700,color:"primary.main"},children:N.longestStreak})]})]})})}),r.jsx(nt,{sx:{bgcolor:"background.paper"},children:r.jsx(ct,{sx:{p:2},children:r.jsxs(_e,{spacing:1.5,children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(jS,{sx:{color:"secondary.main"}}),r.jsx(R,{variant:"body1",sx:{fontWeight:600},children:"Adherence"})]}),r.jsxs(R,{variant:"h4",sx:{fontWeight:700,color:"secondary.main"},children:[H,"%"]})]}),r.jsx(Yi,{variant:"determinate",value:H,sx:{height:12,borderRadius:6,bgcolor:"action.hover","& .MuiLinearProgress-bar":{borderRadius:6,background:"linear-gradient(90deg, #4CAF50 0%, #8BC34A 100%)"}}}),r.jsx(R,{variant:"caption",color:"text.secondary",children:"Last 30 days  6 workouts/week target"})]})})}),s.length>0&&r.jsx(nt,{sx:{bgcolor:"background.paper"},children:r.jsxs(ct,{children:[r.jsxs(_e,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[r.jsxs(R,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(Aa,{})," Progressive Overload"]}),l.length<10&&r.jsx(Ae,{size:"small",startIcon:r.jsx(gi,{}),onClick:()=>g(!0),sx:{color:"secondary.main"},children:"Track Exercise"})]}),l.length===0?r.jsxs(L,{sx:{textAlign:"center",py:4},children:[r.jsx(R,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Track your favorite exercises to see your progress over time"}),r.jsx(Ae,{variant:"contained",startIcon:r.jsx(gi,{}),onClick:()=>g(!0),children:"Add Exercise"})]}):r.jsx(_e,{spacing:2,children:l.map(Q=>{const J=ko.getExerciseProgression(s,Q.exerciseName,"weight"),he=J.length>0?J[0].value:0,be=J.length>0?J[J.length-1].value:0,ge=be>he?"up":be<he?"down":"same";return r.jsxs(L,{sx:{p:2,borderRadius:2,border:"1px solid",borderColor:"divider",bgcolor:"background.default"},children:[r.jsxs(_e,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",sx:{mb:1.5},children:[r.jsx(R,{variant:"body1",sx:{fontWeight:600,flex:1},children:Q.exerciseName}),r.jsx(Xe,{onClick:()=>Ce(Q.exerciseName),size:"small",sx:{color:"text.secondary"},children:r.jsx(gh,{sx:{fontSize:18}})})]}),J.length>0?r.jsxs(_e,{direction:"row",alignItems:"center",spacing:2,sx:{justifyContent:"center",py:1},children:[r.jsxs(L,{sx:{textAlign:"center"},children:[r.jsx(R,{variant:"caption",color:"text.secondary",children:"Starting"}),r.jsxs(R,{variant:"h5",sx:{fontWeight:700,color:"primary.main"},children:[he," lbs"]})]}),r.jsxs(L,{sx:{display:"flex",alignItems:"center",px:2},children:[ge==="up"&&r.jsx(Aa,{sx:{fontSize:40,color:"success.main"}}),ge==="down"&&r.jsx(Og,{sx:{fontSize:40,color:"error.main"}}),ge==="same"&&r.jsx(Oa,{sx:{fontSize:40,color:"text.secondary"}})]}),r.jsxs(L,{sx:{textAlign:"center"},children:[r.jsx(R,{variant:"caption",color:"text.secondary",children:"Current"}),r.jsxs(R,{variant:"h5",sx:{fontWeight:700,color:"secondary.main"},children:[be," lbs"]})]})]}):r.jsx(R,{variant:"caption",color:"text.secondary",sx:{display:"block",textAlign:"center",py:2},children:"No data available"})]},Q.exerciseName)})})]})}),r.jsx(nt,{sx:{bgcolor:"background.paper"},children:r.jsxs(ct,{sx:{p:3},children:[r.jsx(R,{variant:"h6",sx:{mb:3,fontWeight:600},children:"Workout Summary"}),r.jsxs(_e,{spacing:2.5,children:[r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[r.jsx(fn,{sx:{fontSize:28,color:"primary.main"}}),r.jsx(R,{variant:"body1",sx:{fontWeight:500},children:"Total Workouts"})]}),r.jsx(R,{variant:"h5",sx:{fontWeight:700,color:"primary.main"},children:q.totalWorkouts})]}),r.jsx(vn,{}),r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[r.jsx(fn,{sx:{fontSize:28,color:"error.main"}}),r.jsx(R,{variant:"body1",sx:{fontWeight:500},children:"Total Strength"})]}),r.jsx(R,{variant:"h5",sx:{fontWeight:700,color:"error.main"},children:q.strengthSessions})]}),r.jsx(vn,{}),r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[r.jsx(mi,{sx:{fontSize:28,color:"success.main"}}),r.jsx(R,{variant:"body1",sx:{fontWeight:500},children:"Total Cardio"})]}),r.jsx(R,{variant:"h5",sx:{fontWeight:700,color:"success.main"},children:q.cardioSessions})]}),r.jsx(vn,{}),r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[r.jsx(ti,{sx:{fontSize:28,color:"secondary.main"}}),r.jsx(R,{variant:"body1",sx:{fontWeight:500},children:"Total Yoga"})]}),r.jsx(R,{variant:"h5",sx:{fontWeight:700,color:"secondary.main"},children:q.yogaSessions})]})]})]})}),r.jsx(DE,{weightHistory:O.weightHistory||[],currentWeight:O.currentWeight,currentUnit:O.weightUnit||"lbs",targetWeight:O.targetWeight,onAddWeight:_})]}),v===1&&r.jsx(kE,{userStats:B,workoutHistory:s}),r.jsxs(Pn,{open:p,onClose:()=>{g(!1),b("")},maxWidth:"xs",fullWidth:!0,children:[r.jsx(Un,{children:"Add Exercise to Track"}),r.jsxs(On,{children:[r.jsx(gt,{fullWidth:!0,placeholder:"Search exercises...",value:y,onChange:Q=>b(Q.target.value),variant:"outlined",size:"small",sx:{mb:2,mt:1}}),r.jsx(Gn,{sx:{maxHeight:400,overflow:"auto"},children:d.filter(Q=>!l.some(J=>J.exerciseName===Q)).filter(Q=>Q.toLowerCase().includes(y.toLowerCase())).map(Q=>r.jsx(ut,{disablePadding:!0,children:r.jsx(Ni,{onClick:()=>we(Q),children:r.jsx(jt,{primary:Q})})},Q))})]}),r.jsx(Rn,{children:r.jsx(Ae,{onClick:()=>{g(!1),b("")},children:"Cancel"})})]}),r.jsxs(Pn,{open:j,onClose:()=>k(!1),maxWidth:"xs",fullWidth:!0,children:[r.jsx(Un,{children:"Time Frame Filter"}),r.jsx(On,{children:r.jsxs(_e,{spacing:2,sx:{mt:1},children:[r.jsxs(zd,{value:w,exclusive:!0,onChange:(Q,J)=>{J!==null&&T(J)},orientation:"vertical",fullWidth:!0,children:[r.jsx(Zs,{value:"all",children:"All Time"}),r.jsx(Zs,{value:"7days",children:"Last 7 Days"}),r.jsx(Zs,{value:"30days",children:"Last 30 Days"}),r.jsx(Zs,{value:"3months",children:"Last 3 Months"}),r.jsx(Zs,{value:"year",children:"Last Year"}),r.jsx(Zs,{value:"custom",children:"Custom Range"})]}),w==="custom"&&r.jsx(Eh,{dateAdapter:lx,children:r.jsxs(_e,{spacing:2,children:[r.jsx(lh,{label:"Start Date",value:D,onChange:Q=>A(Q),slotProps:{textField:{fullWidth:!0}}}),r.jsx(lh,{label:"End Date",value:W,onChange:Q=>P(Q),slotProps:{textField:{fullWidth:!0}}})]})})]})}),r.jsxs(Rn,{children:[r.jsx(Ae,{onClick:()=>{T("all"),A(null),P(null)},children:"Clear Filters"}),r.jsx(Ae,{onClick:()=>k(!1),variant:"contained",children:"Apply"})]})]})]})]})};RE.propTypes={};const k7=()=>{const[e,t]=x.useState(!0),[s,a]=x.useState(""),[l,u]=x.useState(""),[d,h]=x.useState(""),[p,g]=x.useState(!1),{login:y,signup:b}=Er();return{isLogin:e,email:s,setEmail:a,password:l,setPassword:u,error:d,loading:p,handleSubmit:async j=>{if(j.preventDefault(),!s||!l){h("Please fill in all fields");return}if(l.length<6){h("Password must be at least 6 characters");return}try{h(""),g(!0),e?await y(s,l):await b(s,l)}catch(k){console.error("Auth error:",k.code||"Unknown error"),k.code==="auth/user-not-found"||k.code==="auth/wrong-password"?h("Invalid email or password"):k.code==="auth/email-already-in-use"?h("Email already in use"):k.code==="auth/invalid-email"?h("Invalid email address"):k.code==="auth/weak-password"?h("Password is too weak"):h(`Failed to ${e?"log in":"sign up"}. Please try again.`)}finally{g(!1)}},toggleMode:()=>{t(!e),h(""),a(""),u("")}}},j7=()=>{const{isLogin:e,email:t,setEmail:s,password:a,setPassword:l,error:u,loading:d,handleSubmit:h,toggleMode:p}=k7(),{continueAsGuest:g}=Er();return r.jsx(L,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:y=>y.palette.background.default,p:2},children:r.jsx($e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:r.jsx(nt,{sx:{maxWidth:440,width:"100%",borderRadius:4,boxShadow:"0 8px 32px rgba(19, 70, 134, 0.2)"},children:r.jsxs(ct,{sx:{p:4},children:[r.jsxs(L,{sx:{textAlign:"center",mb:4},children:[r.jsx($e.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},style:{marginBottom:"1rem"},children:r.jsx("img",{src:"/goodlift/goodlift-logo.svg",alt:"GoodLift",style:{height:"80px",width:"auto"}})}),r.jsx(Xo,{mode:"wait",children:r.jsxs($e.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.3},children:[r.jsx(R,{variant:"h5",sx:{fontWeight:600,mb:1},children:e?"Welcome Back":"Create Account"}),r.jsx(R,{variant:"body2",color:"text.secondary",children:e?"Log in to continue your fitness journey":"Sign up to start tracking your workouts"})]},e?"login":"signup")})]}),r.jsx(Xo,{mode:"wait",children:u&&r.jsx($e.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:r.jsx($t,{severity:"error",sx:{mb:3},children:u})})}),r.jsxs(L,{component:"form",onSubmit:h,children:[r.jsx(gt,{fullWidth:!0,label:"Email",type:"email",value:t,onChange:y=>s(y.target.value),disabled:d,required:!0,sx:{mb:2}}),r.jsx(gt,{fullWidth:!0,label:"Password",type:"password",value:a,onChange:y=>l(y.target.value),disabled:d,required:!0,sx:{mb:3}}),r.jsx($e.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:r.jsx(Ae,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:d,sx:{py:1.5,fontSize:"1.1rem",fontWeight:600,bgcolor:"primary.main","&:hover":{bgcolor:"primary.dark"}},children:d?"Please wait...":e?"Log In":"Sign Up"})}),r.jsx(vn,{sx:{my:2},children:"OR"}),r.jsx($e.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:r.jsx(Ae,{fullWidth:!0,variant:"outlined",size:"large",disabled:d,onClick:g,sx:{py:1.5,fontSize:"1.1rem",fontWeight:600,borderColor:"secondary.main",color:"secondary.main","&:hover":{borderColor:"secondary.dark",bgcolor:"rgba(237, 63, 39, 0.05)"}},children:"Continue as Guest"})}),r.jsx(L,{sx:{mt:3,pt:3,borderTop:"1px solid",borderColor:"divider",textAlign:"center"},children:r.jsxs(R,{variant:"body2",color:"text.secondary",children:[e?"Don't have an account? ":"Already have an account? ",r.jsx(Ae,{onClick:p,disabled:d,sx:{color:"primary.main",fontWeight:600,textDecoration:"underline","&:hover":{bgcolor:"transparent",textDecoration:"underline"}},children:e?"Sign Up":"Log In"})]})})]})]})})})})},Cc=[{name:"Neck Side Stretch",primaryMuscles:"Neck",secondaryMuscles:"Upper Back, Traps",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=v5I0J_6w6jw"},{name:"Neck Rotation",primaryMuscles:"Neck",secondaryMuscles:"Traps",type:"Dynamic",duration:60,youtubeLink:"https://www.youtube.com/watch?v=xfGKhRo5bpI"},{name:"Shoulder Cross-Body Stretch",primaryMuscles:"Delts, Rear Delts",secondaryMuscles:"Upper Back",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=b6H9SHC0H9Y"},{name:"Overhead Triceps Stretch",primaryMuscles:"Triceps",secondaryMuscles:"Delts, Lats",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=EQO_8NRkljo"},{name:"Arm Circles",primaryMuscles:"Delts",secondaryMuscles:"Upper Back, Chest",type:"Dynamic",duration:60,youtubeLink:"https://www.youtube.com/watch?v=Ue_PRcVBdm8"},{name:"Doorway Chest Stretch",primaryMuscles:"Chest",secondaryMuscles:"Front Delts",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=qGJABe9R2zQ"},{name:"Standing Chest Expansion",primaryMuscles:"Chest",secondaryMuscles:"Front Delts, Biceps",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=mvh5zHB-xkc"},{name:"Child's Pose",primaryMuscles:"Lower Back",secondaryMuscles:"Lats, Glutes",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=2MTIlxJ82vY",difficulty:"Beginner"},{name:"Cat-Cow Stretch",primaryMuscles:"Back, Core",secondaryMuscles:"Abs",type:"Dynamic",duration:60,youtubeLink:"https://www.youtube.com/watch?v=kqnua4rHVVA",difficulty:"Beginner"},{name:"Seated Spinal Twist",primaryMuscles:"Back, Obliques",secondaryMuscles:"Lower Back, Glutes",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=DGd7kJyPZjU",difficulty:"Beginner"},{name:"Hip Flexor Stretch (Lunge)",primaryMuscles:"Hip Flexors",secondaryMuscles:"Quads",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=hdW4IXXCzKE"},{name:"Pigeon Pose",primaryMuscles:"Glutes, Hip Flexors",secondaryMuscles:"Lower Back",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=0_zDd6kQ",difficulty:"Intermediate"},{name:"Figure 4 Stretch",primaryMuscles:"Glutes",secondaryMuscles:"Lower Back, Hip Flexors",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=JbyjNymZP8M"},{name:"Butterfly Stretch",primaryMuscles:"Inner Thighs, Groin",secondaryMuscles:"Hip Flexors",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=mJiSzM1X7m0"},{name:"Standing Quad Stretch",primaryMuscles:"Quads",secondaryMuscles:"Hip Flexors",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=kRHQDSuhYKE"},{name:"Lying Quad Stretch",primaryMuscles:"Quads",secondaryMuscles:"Hip Flexors",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=5Mn5g6W-BZk"},{name:"Standing Hamstring Stretch",primaryMuscles:"Hamstrings",secondaryMuscles:"Lower Back, Calves",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=BPmv-3EQk2c"},{name:"Seated Forward Fold",primaryMuscles:"Hamstrings, Lower Back",secondaryMuscles:"Calves",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=U21floGmwDs",difficulty:"Beginner"},{name:"Downward Dog",primaryMuscles:"Hamstrings, Calves",secondaryMuscles:"Back, Delts",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=gZJWYonQKxY",difficulty:"Beginner"},{name:"Wall Calf Stretch",primaryMuscles:"Calves",secondaryMuscles:"Hamstrings",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=hjCRc2jYKyY"},{name:"Standing Calf Raise Stretch",primaryMuscles:"Calves",secondaryMuscles:"",type:"Dynamic",duration:60,youtubeLink:"https://www.youtube.com/watch?v=V3E_fFrLZmE"},{name:"Cobra Stretch",primaryMuscles:"Abs",secondaryMuscles:"Hip Flexors, Chest",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=JDcdhTuycOI",difficulty:"Beginner"},{name:"Side Bend Stretch",primaryMuscles:"Obliques",secondaryMuscles:"Lats, Side Delts",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=y1bKLSIvR1A"},{name:"World's Greatest Stretch",primaryMuscles:"Hip Flexors, Hamstrings",secondaryMuscles:"Glutes, Back, Chest",type:"Dynamic",duration:60,youtubeLink:"https://www.youtube.com/watch?v=a25W3YHBXP4",difficulty:"Intermediate"},{name:"Thread the Needle",primaryMuscles:"Upper Back, Delts",secondaryMuscles:"Obliques, Lower Back",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=lVGgLfg3wQ8",difficulty:"Beginner"},{name:"Warrior I Pose",primaryMuscles:"Hip Flexors, Quads",secondaryMuscles:"Glutes, Core",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=VC4s_PmJBkA",difficulty:"Beginner"},{name:"Triangle Pose",primaryMuscles:"Hamstrings, Obliques",secondaryMuscles:"Inner Thighs, Back",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=2S-ozXfUL9g",difficulty:"Intermediate"},{name:"Happy Baby Pose",primaryMuscles:"Hip Flexors, Glutes",secondaryMuscles:"Lower Back, Inner Thighs",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=p28vdRmDuLg",difficulty:"Beginner"},{name:"Supine Spinal Twist",primaryMuscles:"Lower Back, Obliques",secondaryMuscles:"Glutes, Chest",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=DQBT3u-x7TE",difficulty:"Beginner"}],hC=e=>e.split(",").map(t=>t.trim()).filter(t=>t.length>0),Tc=e=>{const t=hC(e.primaryMuscles),s=hC(e.secondaryMuscles||"");return[...t,...s]},_m={NECK:["Neck","Traps"],SHOULDERS:["Delts","Front Delts","Rear Delts","Side Delts"],CHEST:["Chest","Upper Chest","Lower Chest"],BACK:["Back","Upper Back","Lower Back","Lats"],CORE:["Core","Abs","Obliques"],ARMS:["Biceps","Triceps","Forearms"],HIPS:["Hip Flexors","Glutes","Groin","Inner Thighs"],LEGS_UPPER:["Quads","Hamstrings"],LEGS_LOWER:["Calves"]},fC=(e,t)=>Tc(e).some(a=>t.some(l=>a.includes(l)||l.includes(a))),Tg=(e=10)=>{const t=[],s=new Set,a=Object.keys(_m);for(const l of a){if(t.length>=e)break;const u=_m[l],d=Cc.filter(h=>fC(h,u)&&!t.includes(h));if(d.length>0){const h=Math.floor(Math.random()*d.length);t.push(d[h]),s.add(l)}}for(;t.length<e;){const l=a.filter(u=>!s.has(u));if(l.length>0){const u=l[Math.floor(Math.random()*l.length)],d=_m[u],h=Cc.filter(p=>fC(p,d)&&!t.includes(p));if(h.length>0){const p=Math.floor(Math.random()*h.length);t.push(h[p]),s.add(u)}else s.add(u)}else{const u=Cc.filter(h=>!t.includes(h));if(u.length===0)break;const d=Math.floor(Math.random()*u.length);t.push(u[d])}}return kg(t)},D7=(e,t=10)=>{if(!e||e.length===0)return Tg(t);const s=Cc.filter(u=>{const d=Tc(u);return e.some(h=>d.some(p=>p.includes(h)||h.includes(p)))});if(s.length===0)return console.warn("No stretches found for specified muscles, using full body selection"),Tg(t);if(s.length<=t)return kg(s);const a=[],l=new Set;for(const u of e){if(a.length>=t)break;const d=s.filter(h=>a.includes(h)?!1:Tc(h).some(g=>g.includes(u)||u.includes(g)));if(d.length>0){const h=Math.floor(Math.random()*d.length);a.push(d[h]),Tc(d[h]).forEach(p=>l.add(p))}}for(;a.length<t;){const u=s.filter(h=>!a.includes(h));if(u.length===0)break;const d=Math.floor(Math.random()*u.length);a.push(u[d])}return kg(a)},kg=e=>{const t=[...e];for(let s=t.length-1;s>0;s--){const a=Math.floor(Math.random()*(s+1));[t[s],t[a]]=[t[a],t[s]]}return t},E7=()=>{const e=new Set;return Cc.forEach(t=>{Tc(t).forEach(s=>e.add(s))}),Array.from(e).sort()},_E=({onStartStretchSession:e})=>{const[t,s]=x.useState(null),[a,l]=x.useState([]),u=E7(),d=()=>{s("full")},h=()=>{s("custom")},p=v=>{l(S=>S.includes(v)?S.filter(j=>j!==v):[...S,v])},g=()=>{t==="full"?e("full",[]):t==="custom"&&e("custom",a)},y=()=>{s(null),l([])},b=t==="custom"&&a.length===0;return r.jsx(L,{sx:{padding:{xs:"2rem 1rem",sm:"2rem",md:"3rem"},maxWidth:"1200px",margin:"0 auto",minHeight:"calc(100vh - 60px)"},children:r.jsxs($e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsx(R,{variant:"h3",sx:{fontFamily:"'Montserrat', sans-serif",fontWeight:800,color:"primary.main",marginBottom:"0.5rem",textAlign:"center"},children:"Stretching"}),r.jsx(R,{variant:"body1",sx:{color:"text.secondary",marginBottom:"2rem",textAlign:"center"},children:"Improve flexibility and recovery with guided stretches"}),!t&&r.jsx($e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:r.jsxs(Jt,{container:!0,spacing:3,sx:{marginTop:2},children:[r.jsx(Jt,{item:!0,xs:12,md:6,children:r.jsx($e.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:r.jsx(nt,{onClick:d,sx:{cursor:"pointer",height:"100%",transition:"all 0.3s ease","&:hover":{boxShadow:6,borderColor:"primary.main"},border:"2px solid",borderColor:"divider"},children:r.jsxs(ct,{sx:{padding:4},children:[r.jsx(L,{sx:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:2},children:r.jsx(fn,{sx:{fontSize:60,color:"primary.main"}})}),r.jsx(R,{variant:"h5",sx:{fontWeight:700,textAlign:"center",marginBottom:2,color:"primary.main"},children:"Full Body Stretch"}),r.jsx(R,{variant:"body2",sx:{textAlign:"center",marginBottom:2,color:"text.secondary"},children:"A balanced routine covering all major muscle groups for complete flexibility and recovery."}),r.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1,marginTop:2},children:[r.jsx(Lm,{sx:{color:"secondary.main"}}),r.jsx(R,{variant:"h6",sx:{fontWeight:600,color:"secondary.main"},children:"~10 minutes"})]})]})})})}),r.jsx(Jt,{item:!0,xs:12,md:6,children:r.jsx($e.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:r.jsx(nt,{onClick:h,sx:{cursor:"pointer",height:"100%",transition:"all 0.3s ease","&:hover":{boxShadow:6,borderColor:"info.main"},border:"2px solid",borderColor:"divider"},children:r.jsxs(ct,{sx:{padding:4},children:[r.jsx(L,{sx:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:2},children:r.jsx(fn,{sx:{fontSize:60,color:"info.main"}})}),r.jsx(R,{variant:"h5",sx:{fontWeight:700,textAlign:"center",marginBottom:2,color:"info.main"},children:"Custom Stretch"}),r.jsx(R,{variant:"body2",sx:{textAlign:"center",marginBottom:2,color:"text.secondary"},children:"Target specific muscle groups that need attention."}),r.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1,marginTop:2},children:[r.jsx(Lm,{sx:{color:"secondary.main"}}),r.jsx(R,{variant:"h6",sx:{fontWeight:600,color:"secondary.main"},children:"~10 minutes"})]})]})})})})]})}),t==="custom"&&r.jsx($e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:r.jsxs(nt,{sx:{marginTop:3,padding:3},children:[r.jsx(R,{variant:"h5",sx:{fontWeight:700,marginBottom:2,textAlign:"center",color:"primary.main"},children:"Select Muscle Groups"}),r.jsx(R,{variant:"body2",sx:{marginBottom:3,textAlign:"center",color:"text.secondary"},children:"Choose one or more muscle groups to focus on"}),r.jsx(X2,{children:r.jsx(Jt,{container:!0,spacing:2,children:u.map(v=>r.jsx(Jt,{item:!0,xs:6,sm:4,md:3,children:r.jsx(Fd,{control:r.jsx(Z2,{checked:a.includes(v),onChange:()=>p(v),color:"primary"}),label:v})},v))})})]})}),t==="full"&&r.jsx($e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:r.jsxs(nt,{sx:{marginTop:3,padding:3},children:[r.jsx(R,{variant:"h5",sx:{fontWeight:700,marginBottom:2,textAlign:"center",color:"primary.main"},children:"Full Body Stretch Session"}),r.jsxs(_e,{spacing:1,sx:{marginTop:2},children:[r.jsxs(R,{variant:"body1",children:[r.jsx("strong",{children:"Duration:"})," ~10 minutes"]}),r.jsxs(R,{variant:"body1",children:[r.jsx("strong",{children:"Focus:"})," All major muscle groups"]}),r.jsxs(R,{variant:"body1",children:[r.jsx("strong",{children:"Stretches:"})," 10 carefully selected stretches"]})]})]})}),t&&r.jsxs(L,{sx:{marginTop:4,display:"flex",justifyContent:"center",gap:2},children:[r.jsx(Ae,{variant:"outlined",size:"large",onClick:y,sx:{minWidth:"150px",padding:"12px 32px",fontSize:"1.1rem"},children:"Back"}),r.jsx(Ae,{variant:"contained",size:"large",startIcon:r.jsx(Js,{}),onClick:g,disabled:b,sx:{minWidth:"200px",padding:"12px 32px",fontSize:"1.1rem",fontWeight:600},children:"Start Session"})]})]})})};_E.propTypes={onStartStretchSession:E.func.isRequired};class M7{constructor(){this.isSupported="speechSynthesis"in window,this.isEnabled=this.loadTTSPreference(),this.currentUtterance=null}isTTSSupported(){return this.isSupported}loadTTSPreference(){try{const t=localStorage.getItem("ttsEnabled");return t===null?!0:t==="true"}catch{return!0}}saveTTSPreference(){try{localStorage.setItem("ttsEnabled",this.isEnabled.toString())}catch(t){console.warn("Could not save TTS preference",t)}}toggleTTS(){return this.isEnabled=!this.isEnabled,this.saveTTSPreference(),!this.isEnabled&&this.isSupported&&window.speechSynthesis.cancel(),this.isEnabled}setEnabled(t){this.isEnabled=t,this.saveTTSPreference(),!t&&this.isSupported&&window.speechSynthesis.cancel()}isEnabledState(){return this.isEnabled}speak(t,s={}){return new Promise((a,l)=>{if(!this.isSupported){console.warn("Speech Synthesis not supported in this browser"),l(new Error("Speech Synthesis not supported"));return}if(!this.isEnabled){a();return}window.speechSynthesis.cancel();const u=new SpeechSynthesisUtterance(t);u.rate=s.rate||1,u.pitch=s.pitch||1,u.volume=s.volume||1,u.lang=s.lang||"en-US";const d=window.speechSynthesis.getVoices();if(d.length>0){let h=d.find(p=>p.lang.startsWith("en")&&(p.name.toLowerCase().includes("female")||p.name.toLowerCase().includes("natural")||p.name.toLowerCase().includes("premium")||p.name.toLowerCase().includes("neural")));h||(h=d.find(p=>p.lang.startsWith("en")&&p.localService===!1)),h||(h=d.find(p=>p.lang.startsWith("en"))),h&&(u.voice=h)}u.onend=()=>{this.currentUtterance=null,a()},u.onerror=h=>{console.error("Speech synthesis error:",h),this.currentUtterance=null,l(h)},this.currentUtterance=u,window.speechSynthesis.speak(u)})}async announceExercise(t){try{await this.speak(t,{rate:.85,pitch:.95})}catch(s){console.warn("Could not announce exercise:",s)}}async announceMessage(t){try{await this.speak(t,{rate:1})}catch(s){console.warn("Could not announce message:",s)}}stop(){this.isSupported&&(window.speechSynthesis.cancel(),this.currentUtterance=null)}pause(){this.isSupported&&window.speechSynthesis.speaking&&window.speechSynthesis.pause()}resume(){this.isSupported&&window.speechSynthesis.paused&&window.speechSynthesis.resume()}isSpeaking(){return this.isSupported&&window.speechSynthesis.speaking}}const oc=new M7,IE=({stretches:e,onComplete:t,onExit:s})=>{const[a,l]=x.useState(0),[u,d]=x.useState(60),[h,p]=x.useState(!1),[g,y]=x.useState(oc.isEnabledState()),b=x.useRef(null),v=x.useRef(!1),S=e[a],j=(60-u)/60*100,k=(a*60+(60-u))/(e.length*60)*100;x.useEffect(()=>(mr.requestWakeLock(),()=>{mr.releaseWakeLock(),oc.stop()}),[]),x.useEffect(()=>{!v.current&&g&&(oc.announceExercise(S.name),v.current=!0)},[a,S.name,g]),x.useEffect(()=>(h?b.current&&clearInterval(b.current):b.current=setInterval(()=>{d(O=>O<=1?a<e.length-1?(l(_=>_+1),v.current=!1,Nt.playTransitionBeep(),60):(clearInterval(b.current),Nt.playCompletionFanfare(),setTimeout(()=>{t()},500),0):O-1)},1e3),()=>{b.current&&clearInterval(b.current)}),[h,a,e.length,t]);const w=()=>{p(O=>!O)},T=x.useCallback(()=>{a<e.length-1&&(l(O=>O+1),d(60),v.current=!1,Nt.playTransitionBeep())},[a,e.length]),D=x.useCallback(()=>{a>0&&(l(O=>O-1),d(60),v.current=!1,Nt.playTransitionBeep())},[a]),A=()=>{const O=oc.toggleTTS();y(O)},W=()=>{b.current&&clearInterval(b.current),oc.stop(),s()},P=O=>{const _=Math.floor(O/60),N=O%60;return`${_}:${N.toString().padStart(2,"0")}`};return r.jsxs(L,{sx:{padding:{xs:"0.5rem",sm:"1rem",md:"2rem"},maxWidth:"900px",margin:"0 auto",minHeight:"calc(100vh - 60px)",width:"100%",boxSizing:"border-box"},children:[r.jsxs(L,{sx:{marginBottom:3},children:[r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",marginBottom:1},children:[r.jsxs(R,{variant:"body2",sx:{fontWeight:600},children:["Stretch ",a+1," of ",e.length]}),r.jsxs(R,{variant:"body2",sx:{fontWeight:600},children:[Math.round(k),"% Complete"]})]}),r.jsx(Yi,{variant:"determinate",value:k,sx:{height:8,borderRadius:4,backgroundColor:"rgba(19, 70, 134, 0.1)","& .MuiLinearProgress-bar":{backgroundColor:"primary.main"}}})]}),r.jsx(Xo,{mode:"wait",children:r.jsx($e.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},children:r.jsx(nt,{sx:{background:"linear-gradient(135deg, rgba(19, 70, 134, 0.05) 0%, rgba(237, 63, 39, 0.05) 100%)",boxShadow:4},children:r.jsxs(ct,{sx:{padding:{xs:2,sm:3},width:"100%",boxSizing:"border-box"},children:[r.jsx(R,{variant:"h4",sx:{fontFamily:"'Montserrat', sans-serif",fontWeight:800,color:"primary.main",marginBottom:{xs:1,sm:2},textAlign:"center",fontSize:{xs:"1.5rem",sm:"2rem"}},children:S.name}),r.jsxs(L,{sx:{marginBottom:{xs:2,sm:3},textAlign:"center"},children:[r.jsx(R,{variant:"h1",sx:{fontFamily:"'Montserrat', sans-serif",fontWeight:800,color:h?"grey.500":"secondary.main",fontSize:{xs:"3rem",sm:"4rem",md:"5rem"},marginBottom:1,lineHeight:1},children:P(u)}),r.jsx(Yi,{variant:"determinate",value:j,sx:{height:{xs:8,sm:12},borderRadius:6,backgroundColor:"rgba(237, 63, 39, 0.1)","& .MuiLinearProgress-bar":{backgroundColor:"secondary.main"}}})]}),r.jsxs(L,{sx:{marginBottom:{xs:2,sm:3}},children:[r.jsx(R,{variant:"subtitle2",sx:{fontWeight:600,marginBottom:.5,color:"primary.main",fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Primary Muscles:"}),r.jsx(L,{sx:{display:"flex",flexWrap:"wrap",gap:.5,marginBottom:{xs:1,sm:2}},children:S.primaryMuscles.split(",").map((O,_)=>r.jsx(mt,{label:O.trim(),color:"primary",size:"medium"},_))}),S.secondaryMuscles&&r.jsxs(r.Fragment,{children:[r.jsx(R,{variant:"subtitle2",sx:{fontWeight:600,marginBottom:.5,color:"text.secondary",fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Secondary Muscles:"}),r.jsx(L,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:S.secondaryMuscles.split(",").map((O,_)=>{const N=O.trim();return N?r.jsx(mt,{label:N,variant:"outlined",size:"small"},_):null})})]})]}),S.youtubeLink&&r.jsx(Ae,{variant:"outlined",startIcon:r.jsx(J2,{}),onClick:()=>window.open(S.youtubeLink,"_blank"),fullWidth:!0,sx:{marginBottom:{xs:2,sm:3},fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Watch Demonstration"}),r.jsxs(L,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:{xs:1,sm:2},marginBottom:{xs:1,sm:2},flexWrap:"wrap"},children:[r.jsx($n,{title:"Previous stretch",children:r.jsx("span",{children:r.jsx(Xe,{onClick:D,disabled:a===0,sx:{backgroundColor:"primary.main",color:"white","&:hover":{backgroundColor:"primary.dark"},"&:disabled":{backgroundColor:"grey.300",color:"grey.500"}},children:r.jsx(OC,{})})})}),r.jsx($n,{title:h?"Resume":"Pause",children:r.jsx(Xe,{onClick:w,sx:{backgroundColor:"secondary.main",color:"white",width:{xs:56,sm:64},height:{xs:56,sm:64},"&:hover":{backgroundColor:"secondary.dark"}},children:h?r.jsx(Js,{sx:{fontSize:{xs:32,sm:40}}}):r.jsx(Lg,{sx:{fontSize:{xs:32,sm:40}}})})}),r.jsx($n,{title:"Next stretch",children:r.jsx("span",{children:r.jsx(Xe,{onClick:T,disabled:a===e.length-1,sx:{backgroundColor:"primary.main",color:"white","&:hover":{backgroundColor:"primary.dark"},"&:disabled":{backgroundColor:"grey.300",color:"grey.500"}},children:r.jsx(mh,{})})})})]}),r.jsxs(L,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:2},children:[r.jsx($n,{title:g?"Voice announcements on":"Voice announcements off",children:r.jsx(Xe,{onClick:A,color:g?"primary":"default",children:g?r.jsx(Rg,{}):r.jsx(jC,{})})}),r.jsx(Ae,{variant:"outlined",color:"error",startIcon:r.jsx(RC,{}),onClick:W,sx:{minWidth:"120px"},children:"End Session"})]})]})})},a)})]})};IE.propTypes={stretches:E.arrayOf(E.shape({name:E.string.isRequired,primaryMuscles:E.string.isRequired,secondaryMuscles:E.string,youtubeLink:E.string})).isRequired,onComplete:E.func.isRequired,onExit:E.func.isRequired};const A7=()=>{const[e,t]=x.useState("selection"),[s,a]=x.useState([]),[l,u]=x.useState(""),[d,h]=x.useState(null),p=(v,S)=>{let j;v==="full"?j=Tg(10):j=D7(S,10),a(j),u(v),t("stretch-session")},g=async()=>{try{const v={id:`stretch_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,date:new Date().toISOString(),type:l,stretchesCompleted:s.length,stretches:s.map(S=>S.name),duration:s.length*60};await ZR(v)}catch(v){console.error("Failed to save stretch session:",v)}h("stretch"),t("complete")},y=()=>{t("selection"),a([])},b=()=>{t("selection"),a([]),h(null)};return r.jsxs(r.Fragment,{children:[e==="selection"&&r.jsx(_E,{onStartStretchSession:p}),e==="stretch-session"&&s.length>0&&r.jsx(IE,{stretches:s,onComplete:g,onExit:y}),e==="complete"&&r.jsx(L,{sx:{padding:{xs:"2rem 1rem",sm:"2rem",md:"3rem"},maxWidth:"700px",margin:"0 auto",minHeight:"calc(100vh - 60px)",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx($e.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},style:{width:"100%"},children:r.jsx(nt,{sx:{background:d==="stretch"?"linear-gradient(135deg, rgba(19, 70, 134, 0.05) 0%, rgba(76, 175, 80, 0.05) 100%)":"linear-gradient(135deg, rgba(19, 70, 134, 0.05) 0%, rgba(156, 39, 176, 0.05) 100%)",boxShadow:6},children:r.jsxs(ct,{sx:{padding:{xs:3,sm:5},textAlign:"center"},children:[r.jsx($e.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},children:r.jsx(Uo,{sx:{fontSize:100,color:d==="stretch"?"success.main":"#9c27b0",marginBottom:2}})}),r.jsx(R,{variant:"h3",sx:{fontFamily:"'Montserrat', sans-serif",fontWeight:800,color:"primary.main",marginBottom:2},children:"Session Complete!"}),r.jsx(R,{variant:"h6",sx:{color:"text.secondary",marginBottom:3},children:d==="stretch"?"Great job! You've completed your stretch session.":"Great job! You've completed your mobility session."}),d==="stretch"&&r.jsxs(r.Fragment,{children:[r.jsxs(R,{variant:"body1",sx:{marginBottom:1},children:[s.length," stretches completed"]}),r.jsxs(R,{variant:"body1",sx:{marginBottom:4},children:["~",s.length," minutes of stretching"]})]}),r.jsx(Ae,{variant:"contained",size:"large",onClick:b,sx:{minWidth:"200px",padding:"12px 32px",fontSize:"1.1rem",fontWeight:600},children:"Done"})]})})})})]})},P7={Chest:"Lats",Lats:"Chest",Quads:"Hamstrings",Hamstrings:"Quads",Biceps:"Triceps",Triceps:"Biceps",Shoulders:"Lats"},WE=()=>{const[e,t]=x.useState({}),[s,a]=x.useState([]),[l,u]=x.useState(!0),[d,h]=x.useState(null);x.useEffect(()=>{(async()=>{try{u(!0);const S=await fetch(_h);if(!S.ok)throw new Error(`Failed to load exercises: ${S.status}`);const j=await S.json();a(j);const k=j.reduce((w,T)=>{const D=T["Primary Muscle"].split("(")[0].trim();return w[D]||(w[D]=[]),w[D].push(T),w},{});t(k),u(!1)}catch(S){console.error("Failed to load exercise data:",S),h(S.message),u(!1)}})()},[]);const p=x.useCallback((v,S,j=[],k="all")=>{let w=(e[v]||[]).filter(D=>!j.some(A=>A["Exercise Name"]===D["Exercise Name"]));if(k!=="all"){const D=Array.isArray(k)?k:[k];w=w.filter(A=>{const W=A.Equipment.toLowerCase();return D.some(P=>{const O=P.toLowerCase();return O==="cable machine"?W.includes("cable"):O==="dumbbells"?W.includes("dumbbell"):W.includes(O)})})}if(w.length<S)return console.warn(`Insufficient exercises for ${v}. Available: ${w.length}, Requested: ${S}`),w;const T=[...w];for(let D=T.length-1;D>0;D--){const A=Math.floor(Math.random()*(D+1));[T[D],T[A]]=[T[A],T[D]]}return T.slice(0,S)},[e]),g=x.useCallback((v,S="all",j=qF)=>{let k=[];switch(v){case"upper":{const w=Math.ceil(j*.375),T=Math.ceil(j*.375),D=Math.floor(j*.125),A=j-w-T-D;k.push(...p("Chest",w,k,S)),k.push(...p("Lats",T,k,S)),k.push(...p("Biceps",D,k,S)),k.push(...p("Triceps",A,k,S));break}case"lower":{const w=.375+Math.random()*.125,T=Math.ceil(j*w),D=Math.floor(j*.25)+Math.floor(Math.random()*2),A=j-T-D;k.push(...p("Quads",T,k,S)),k.push(...p("Hamstrings",D,k,S)),A>0&&k.push(...p("Core",A,k,S));break}case"full":{const w=Math.ceil(j*.25),T=Math.ceil(j*.25),D=Math.ceil(j*.25),A=Math.floor(j*.125)+Math.floor(Math.random()*2),W=j-w-T-D-A;k.push(...p("Chest",w,k,S)),k.push(...p("Lats",T,k,S)),k.push(...p("Quads",D,k,S)),k.push(...p("Hamstrings",A,k,S)),W>0&&k.push(...p("Core",W,k,S));break}case"push":{const w=Math.ceil(j*.375),T=Math.ceil(j*.375),D=j-w-T;k.push(...p("Chest",w,k,S)),k.push(...p("Delts",T,k,S)),k.push(...p("Triceps",D,k,S));break}case"pull":{const w=Math.ceil(j*.5),T=Math.ceil(j*.25),D=j-w-T;k.push(...p("Lats",w,k,S)),k.push(...p("Rear Delts",T,k,S)),k.push(...p("Biceps",D,k,S));break}case"legs":{const w=.375+Math.random()*.125,T=Math.ceil(j*w),D=Math.floor(j*.25)+Math.floor(Math.random()*2),A=j-T-D;k.push(...p("Quads",T,k,S)),k.push(...p("Hamstrings",D,k,S)),A>0&&k.push(...p("Core",A,k,S));break}case"core":k.push(...p("Core",j,k,S));break;default:console.warn(`Unknown workout type: ${v}`);break}for(;k.length<j&&k.length>0;){const w=Object.keys(e);if(w.length===0)break;const T=w[Math.floor(Math.random()*w.length)],D=p(T,1,k,S);if(D.length>0)k.push(D[0]);else break}return k.slice(0,j)},[e,p]),y=x.useCallback((v,S=[2,2,2,2])=>{const j=[],k=[...v];for(const w of S){if(k.length===0)break;const T=[];if(k.length>0){const D=k.shift();T.push(D);const A=D["Primary Muscle"].split("(")[0].trim(),W=P7[A];for(let P=1;P<w&&k.length>0;P++){let O=-1;P===1&&W&&(O=k.findIndex(N=>N["Primary Muscle"].includes(W))),O===-1&&(O=k.findIndex(N=>!T.some(I=>I["Primary Muscle"].includes(N["Primary Muscle"].split("(")[0].trim())))),O===-1&&(O=0);const _=k.splice(O,1)[0];T.push(_)}}j.push(...T)}return k.length>0&&j.push(...k),j},[]);return{generateWorkout:x.useCallback((v,S="all",j=[2,2,2,2])=>{if(Object.keys(e).length===0)return console.error("Exercise database is empty. Cannot generate workout."),[];const k=j.reduce((D,A)=>D+A,0),w=g(v,S,k);return y(w,j)},[e,g,y]),allExercises:s,exerciseDB:e,loading:l,error:d}},O7=()=>{const{allExercises:e,loading:t}=WE(),[s,a]=x.useState(""),[l,u]=x.useState("all"),[d,h]=x.useState("all"),[p,g]=x.useState("all"),[y,b]=x.useState(new Set),[v,S]=x.useState({}),[j,k]=x.useState({}),[w,T]=x.useState(!1);x.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),(async()=>{const H=new Set,V={},B={};await Promise.all(e.map(async de=>{const q=de["Exercise Name"];e_(q)&&H.add(q);const[ae,z]=await Promise.all([Ma(q),Fi(q)]);V[q]=ae??"",B[q]=z??""})),b(H),S(V),k(B)})()},[e]);const D=x.useMemo(()=>{const I=new Set;return e.forEach(H=>{const V=H["Primary Muscle"].split("(")[0].trim();I.add(V)}),["all",...Array.from(I).sort()]},[e]),A=x.useMemo(()=>{const I=new Set;return e.forEach(H=>{I.add(H.Equipment)}),["all",...Array.from(I).sort()]},[e]),W=x.useMemo(()=>{const I=new Set;return e.forEach(H=>{I.add(H["Exercise Type"])}),["all",...Array.from(I).sort()]},[e]),P=x.useMemo(()=>e.filter(I=>{const H=s===""||I["Exercise Name"].toLowerCase().includes(s.toLowerCase())||I["Primary Muscle"].toLowerCase().includes(s.toLowerCase())||I.Equipment.toLowerCase().includes(s.toLowerCase()),V=I["Primary Muscle"].split("(")[0].trim(),B=l==="all"||V===l,de=d==="all"||I.Equipment===d,q=p==="all"||I["Exercise Type"]===p;return H&&B&&de&&q}),[e,s,l,d,p]),O=I=>{const H=JR(I);b(V=>{const B=new Set(V);return H?B.add(I):B.delete(I),B})},_=async(I,H)=>{if(H==="")S(V=>({...V,[I]:""})),await Vi(I,null);else{const V=Math.max(0,Number(H));S(B=>({...B,[I]:V})),await Vi(I,V)}},N=async(I,H)=>{if(H==="")k(V=>({...V,[I]:""})),await Xd(I,null);else{const V=Math.max(1,Number(H));k(B=>({...B,[I]:V})),await Xd(I,V)}};return t?r.jsx(L,{sx:{p:4,textAlign:"center"},children:r.jsx(R,{variant:"h5",color:"text.secondary",children:"Loading exercises..."})}):r.jsxs(L,{sx:{width:"100%",minHeight:"100vh"},children:[r.jsx(Vh,{title:"Exercise Database"}),r.jsx($e.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{padding:"1rem",maxWidth:"1400px",margin:"0 auto"},children:P.length>0||s||l!=="all"||d!=="all"||p!=="all"?r.jsxs(L,{children:[r.jsxs(uc,{sx:{position:"sticky",top:0,zIndex:10,borderRadius:"8px 8px 0 0",boxShadow:"0 2px 8px rgba(19, 70, 134, 0.08)"},children:[r.jsx(L,{sx:{p:1.5,borderBottom:"1px solid",borderColor:"divider",bgcolor:"background.paper"},children:r.jsxs(_e,{direction:"row",spacing:1,alignItems:"center",children:[r.jsx(gt,{size:"small",placeholder:"Search exercises...",value:s,onChange:I=>a(I.target.value),InputProps:{startAdornment:r.jsx(Wm,{position:"start",children:r.jsx(DS,{fontSize:"small"})})},sx:{flex:1,"& .MuiOutlinedInput-root":{borderRadius:1,bgcolor:"background.default"},"& .MuiInputBase-input":{fontSize:"0.875rem"}}}),r.jsx($n,{title:w?"Hide filters":"Show filters",children:r.jsx(Xe,{onClick:()=>T(!w),sx:{bgcolor:w?"primary.main":"background.default",color:w?"white":"text.primary","&:hover":{bgcolor:w?"primary.dark":"action.hover"}},children:r.jsx(Nm,{})})}),r.jsxs(R,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem",whiteSpace:"nowrap",minWidth:"fit-content"},children:[P.length," of ",e.length]})]})}),r.jsx(Vd,{in:w,children:r.jsx(L,{sx:{p:1.5,pt:1,bgcolor:"background.paper"},children:r.jsxs(_e,{direction:{xs:"column",sm:"row"},spacing:1,children:[r.jsxs(Ut,{size:"small",sx:{minWidth:{xs:"100%",sm:150}},children:[r.jsx(An,{children:"Muscle Group"}),r.jsxs(Gt,{value:l,onChange:I=>u(I.target.value),label:"Muscle Group",sx:{fontSize:"0.875rem",bgcolor:"background.default"},children:[r.jsx(Be,{value:"all",children:"All Muscles"}),D.filter(I=>I!=="all").map(I=>r.jsx(Be,{value:I,children:I},I))]})]}),r.jsxs(Ut,{size:"small",sx:{minWidth:{xs:"100%",sm:150}},children:[r.jsx(An,{children:"Equipment"}),r.jsxs(Gt,{value:d,onChange:I=>h(I.target.value),label:"Equipment",sx:{fontSize:"0.875rem",bgcolor:"background.default"},children:[r.jsx(Be,{value:"all",children:"All Equipment"}),A.filter(I=>I!=="all").map(I=>r.jsx(Be,{value:I,children:I},I))]})]}),r.jsxs(Ut,{size:"small",sx:{minWidth:{xs:"100%",sm:150}},children:[r.jsx(An,{children:"Exercise Type"}),r.jsxs(Gt,{value:p,onChange:I=>g(I.target.value),label:"Exercise Type",sx:{fontSize:"0.875rem",bgcolor:"background.default"},children:[r.jsx(Be,{value:"all",children:"All Types"}),W.filter(I=>I!=="all").map(I=>r.jsx(Be,{value:I,children:I},I))]})]})]})})})]}),r.jsx(eP,{component:uc,sx:{borderRadius:"0 0 8px 8px",boxShadow:"0 2px 8px rgba(19, 70, 134, 0.08)",maxHeight:"calc(100vh - 250px)",overflow:"auto"},children:r.jsxs(tP,{stickyHeader:!0,size:"small",sx:{minWidth:{xs:300,sm:650}},children:[r.jsx(nP,{children:r.jsxs(ES,{children:[r.jsx(Ws,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5},children:r.jsx(L,{sx:{display:"flex",alignItems:"center",gap:.5},children:r.jsx("span",{children:""})})}),r.jsx(Ws,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5},children:"Exercise Name"}),r.jsx(Ws,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5,display:{xs:"none",sm:"table-cell"}},children:"Type"}),r.jsx(Ws,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5,display:{xs:"none",md:"table-cell"}},children:"Equipment"}),r.jsx(Ws,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5,textAlign:"center"},children:"Target Weight (lbs)"}),r.jsx(Ws,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5,textAlign:"center"},children:"Target Reps"})]})}),r.jsx(sP,{children:P.map((I,H)=>{const V=y.has(I["Exercise Name"]),B=I["Exercise Name"],de=v[B],q=j[B];return r.jsxs(ES,{sx:{"&:hover":{bgcolor:"rgba(138, 190, 185, 0.05)"},bgcolor:H%2===0?"background.paper":"rgba(0, 0, 0, 0.02)"},children:[r.jsx(Ws,{sx:{py:1},children:r.jsx($n,{title:V?"Remove from favorites":"Add to favorites",children:r.jsx(Xe,{size:"small",onClick:()=>O(B),sx:{color:V?"rgb(237, 63, 39)":"action.disabled",p:.5},children:V?r.jsx(iP,{fontSize:"small"}):r.jsx(aP,{fontSize:"small"})})})}),r.jsx(Ws,{sx:{py:1},children:r.jsxs(L,{children:[r.jsx(R,{variant:"body2",sx:{fontWeight:600,fontSize:{xs:"0.75rem",sm:"0.875rem"},color:"primary.main"},children:B}),r.jsxs(R,{variant:"caption",color:"text.secondary",sx:{fontSize:{xs:"0.65rem",sm:"0.75rem"},display:{xs:"block",sm:"none"}},children:[I["Exercise Type"],"  ",I.Equipment]})]})}),r.jsx(Ws,{sx:{py:1,display:{xs:"none",sm:"table-cell"}},children:r.jsx(mt,{label:I["Exercise Type"],size:"small",variant:"outlined",sx:{fontSize:"0.7rem",height:22,borderColor:I["Exercise Type"]==="Compound"?"primary.main":"text.secondary",color:I["Exercise Type"]==="Compound"?"primary.main":"text.secondary"}})}),r.jsx(Ws,{sx:{py:1,display:{xs:"none",md:"table-cell"}},children:r.jsx(R,{variant:"body2",sx:{fontSize:"0.8rem"},children:I.Equipment})}),r.jsx(Ws,{sx:{py:1},children:r.jsx(gt,{type:"tel",inputMode:"decimal",size:"small",value:de===""?"":de,onChange:ae=>_(B,ae.target.value),onFocus:ae=>ae.target.select(),placeholder:"",inputProps:{min:0,step:5,pattern:"[0-9]*([.,][0-9]+)?","aria-label":`Target weight in pounds for ${B}`,style:{textAlign:"center",fontSize:"0.875rem",padding:"4px 8px"}},sx:{width:{xs:60,sm:70},"& .MuiOutlinedInput-root":{"& input":{textAlign:"center"}}}})}),r.jsx(Ws,{sx:{py:1},children:r.jsx(gt,{type:"tel",inputMode:"numeric",size:"small",value:q===""?"":q,onChange:ae=>N(B,ae.target.value),onFocus:ae=>ae.target.select(),placeholder:"",inputProps:{min:1,step:1,pattern:"\\d*","aria-label":`Target repetitions for ${B}`,style:{textAlign:"center",fontSize:"0.875rem",padding:"4px 8px"}},sx:{width:{xs:60,sm:70},"& .MuiOutlinedInput-root":{"& input":{textAlign:"center"}}}})})]},B)})})]})})]}):r.jsxs(uc,{sx:{borderRadius:2,boxShadow:"0 2px 8px rgba(19, 70, 134, 0.08)"},children:[r.jsxs(L,{sx:{p:2,borderBottom:"1px solid",borderColor:"divider"},children:[r.jsxs(_e,{direction:"row",spacing:1,alignItems:"center",sx:{mb:w?2:0},children:[r.jsx(gt,{size:"small",placeholder:"Search exercises...",value:s,onChange:I=>a(I.target.value),InputProps:{startAdornment:r.jsx(Wm,{position:"start",children:r.jsx(DS,{fontSize:"small"})})},sx:{flex:1,"& .MuiOutlinedInput-root":{borderRadius:1,bgcolor:"background.default"},"& .MuiInputBase-input":{fontSize:"0.875rem"}}}),r.jsx($n,{title:w?"Hide filters":"Show filters",children:r.jsx(Xe,{onClick:()=>T(!w),sx:{bgcolor:w?"primary.main":"background.default",color:w?"white":"text.primary","&:hover":{bgcolor:w?"primary.dark":"action.hover"}},children:r.jsx(Nm,{})})}),r.jsxs(R,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem",whiteSpace:"nowrap"},children:["0 of ",e.length]})]}),r.jsx(Vd,{in:w,children:r.jsxs(_e,{direction:{xs:"column",sm:"row"},spacing:1,children:[r.jsxs(Ut,{size:"small",sx:{minWidth:{xs:"100%",sm:150}},children:[r.jsx(An,{children:"Muscle Group"}),r.jsxs(Gt,{value:l,onChange:I=>u(I.target.value),label:"Muscle Group",sx:{fontSize:"0.875rem",bgcolor:"background.default"},children:[r.jsx(Be,{value:"all",children:"All Muscles"}),D.filter(I=>I!=="all").map(I=>r.jsx(Be,{value:I,children:I},I))]})]}),r.jsxs(Ut,{size:"small",sx:{minWidth:{xs:"100%",sm:150}},children:[r.jsx(An,{children:"Equipment"}),r.jsxs(Gt,{value:d,onChange:I=>h(I.target.value),label:"Equipment",sx:{fontSize:"0.875rem",bgcolor:"background.default"},children:[r.jsx(Be,{value:"all",children:"All Equipment"}),A.filter(I=>I!=="all").map(I=>r.jsx(Be,{value:I,children:I},I))]})]}),r.jsxs(Ut,{size:"small",sx:{minWidth:{xs:"100%",sm:150}},children:[r.jsx(An,{children:"Exercise Type"}),r.jsxs(Gt,{value:p,onChange:I=>g(I.target.value),label:"Exercise Type",sx:{fontSize:"0.875rem",bgcolor:"background.default"},children:[r.jsx(Be,{value:"all",children:"All Types"}),W.filter(I=>I!=="all").map(I=>r.jsx(Be,{value:I,children:I},I))]})]})]})})]}),r.jsxs(L,{sx:{textAlign:"center",py:8},children:[r.jsx(R,{variant:"h6",color:"text.secondary",children:"No exercises found"}),r.jsx(R,{variant:"body2",color:"text.secondary",children:"Try adjusting your search or filters"})]})]})})]})},NE=x.createContext(),LE=()=>{const e=x.useContext(NE);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e},BE=({children:e})=>{const[t,s]=x.useState(()=>{try{return localStorage.getItem("themeMode")==="light"?"light":"dark"}catch{return"dark"}});x.useEffect(()=>{try{localStorage.setItem("themeMode",t)}catch(d){console.warn("Could not save theme preference",d)}},[t]);const a=()=>{s(d=>d==="dark"?"light":"dark")},l=x.useMemo(()=>rP({palette:t==="dark"?{mode:"dark",primary:{main:"#1db584",light:"#2dd099",dark:"#18a071"},secondary:{main:"#ff8c00",light:"#ffa333",dark:"#cc7000"},background:{default:"#1e2939",paper:"#2a3647"},text:{primary:"#ffffff",secondary:"#a0a8b3"},success:{main:"#1db584"},warning:{main:"#ff8c00"},error:{main:"#ef5350"},info:{main:"#6b8a9d"}}:{mode:"light",primary:{main:"#18a071",light:"#1db584",dark:"#0f7a55"},secondary:{main:"#ff8c00",light:"#ffa333",dark:"#cc7000"},background:{default:"#f5f5f5",paper:"#ffffff"},text:{primary:"#1e2939",secondary:"#4a5568"},success:{main:"#18a071"},warning:{main:"#ff8c00"},error:{main:"#ef5350"},info:{main:"#6b8a9d"}},typography:{fontFamily:"'Poppins', sans-serif",h1:{fontFamily:"'Montserrat', sans-serif",fontWeight:800},h2:{fontFamily:"'Montserrat', sans-serif",fontWeight:800},h3:{fontFamily:"'Montserrat', sans-serif",fontWeight:700},h4:{fontFamily:"'Montserrat', sans-serif",fontWeight:700},h5:{fontFamily:"'Montserrat', sans-serif",fontWeight:700},h6:{fontFamily:"'Montserrat', sans-serif",fontWeight:700}},components:{MuiCard:{styleOverrides:{root:{backgroundImage:"none"}}},MuiPaper:{styleOverrides:{root:{backgroundImage:"none"}}},MuiButton:{styleOverrides:{containedPrimary:t==="dark"?{backgroundColor:"#1db584","&:hover":{backgroundColor:"#18a071"}}:{backgroundColor:"#18a071",color:"#ffffff","&:hover":{backgroundColor:"#0f7a55"}},containedSecondary:t==="dark"?{backgroundColor:"#ff8c00","&:hover":{backgroundColor:"#cc7000"}}:{backgroundColor:"#ff8c00",color:"#ffffff","&:hover":{backgroundColor:"#cc7000"}}}}}}),[t]),u={mode:t,toggleTheme:a,theme:l};return r.jsx(NE.Provider,{value:u,children:e})};BE.propTypes={children:E.node.isRequired};const VE=x.createContext({}),R7=()=>x.useContext(VE),Co={units:"imperial",theme:"dark",notifications:!0,sounds:!0,warmupDuration:5,cooldownDuration:5,restTimerDefault:90,autoProgressionEnabled:!0,language:"en",pushNotificationsEnabled:!1,dailyWellnessTasksEnabled:!1,wellnessCategories:[],relationshipStatus:"All",morningNotificationTime:{hour:8,minute:0},followupNotificationTime:{hour:21,minute:0},enableFollowupNotifications:!0},zE=({children:e})=>{const{currentUser:t,isGuest:s}=Er(),[a,l]=x.useState(Co),[u,d]=x.useState(!0);x.useEffect(()=>{(async()=>{d(!0);try{if(t&&!s){const S=await Us(t.uid);S?.preferences?l({...Co,...S.preferences}):l(Co)}else{const S=localStorage.getItem("goodlift_preferences");l(S?{...Co,...JSON.parse(S)}:Co)}}catch(S){console.error("Error loading preferences:",S),l(Co)}finally{d(!1)}})()},[t,s]);const h=x.useCallback(async v=>{try{l(v),t&&!s?await Cn(t.uid,{preferences:v}):localStorage.setItem("goodlift_preferences",JSON.stringify(v))}catch(S){console.error("Error saving preferences:",S)}},[t,s]),p=x.useCallback((v,S)=>{const j={...a,[v]:S};h(j)},[a,h]),g=x.useCallback((v,S)=>{if(!v)return 0;const j=a.units==="imperial"?"lbs":"kg";return S===j?v:S==="lbs"&&j==="kg"?Math.round(v*.453592*10)/10:S==="kg"&&j==="lbs"?Math.round(v*2.20462*10)/10:v},[a.units]),y=x.useCallback(()=>a.units==="imperial"?"lbs":"kg",[a.units]),b={preferences:a,loading:u,updatePreference:p,savePreferences:h,convertWeight:g,getDisplayUnit:y};return r.jsx(VE.Provider,{value:b,children:e})};zE.propTypes={children:E.node.isRequired};const _7=e=>!e||e.trim().length===0?{valid:!1,error:"Display name is required"}:e.trim().length<2?{valid:!1,error:"Display name must be at least 2 characters"}:e.trim().length>50?{valid:!1,error:"Display name must be less than 50 characters"}:/^[a-zA-Z0-9\s\-']+$/.test(e)?{valid:!0}:{valid:!1,error:"Display name contains invalid characters"},pC=(e,t=500)=>e?e.length>t?{valid:!1,error:`Text must be less than ${t} characters`}:{valid:!0}:{valid:!0},Im=e=>e?e.replace(/<[^>]*>/g,"").trim().replace(/\s+/g," "):"",I7=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Unknown",W7=(e,t)=>{const s={profile:e,stats:t,exportedAt:new Date().toISOString()};return JSON.stringify(s,null,2)},N7=(e,t)=>{const s=W7(e,t),a=new Blob([s],{type:"application/json"}),l=URL.createObjectURL(a),u=document.createElement("a");u.href=l,u.download=`goodlift-profile-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(l)},FE=({open:e,onClose:t,onConfirm:s,resetInfo:a})=>{const[l,u]=x.useState(""),[d,h]=x.useState(!1),[p,g]=x.useState(null),y=l.toLowerCase()==="reset",b=async()=>{h(!0),g(null);try{await s(),u(""),t()}catch(S){g(S.message||"Failed to reset data. Please try again.")}finally{h(!1)}},v=()=>{d||(u(""),g(null),t())};return r.jsxs(Pn,{open:e,onClose:v,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:2}},children:[r.jsx(Un,{sx:{pb:1},children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(oP,{color:"warning"}),r.jsx(R,{variant:"h6",component:"span",children:"Reset Personal Data"})]})}),r.jsxs(On,{children:[r.jsxs($t,{severity:"warning",sx:{mb:2},children:["This action will delete your workout data and statistics. You will have"," ",r.jsx("strong",{children:"30 days"})," to recover your data if you change your mind."]}),r.jsxs(R,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,sx:{mt:2},children:[r.jsx(zC,{color:"error",sx:{verticalAlign:"middle",mr:.5}}),"The following will be deleted:"]}),r.jsxs(Gn,{dense:!0,sx:{bgcolor:"background.paper",borderRadius:1,mb:2},children:[a.totalWorkouts>0&&r.jsxs(ut,{children:[r.jsx(Ht,{sx:{minWidth:40},children:r.jsx(fn,{fontSize:"small"})}),r.jsx(jt,{primary:`${a.totalWorkouts} workout${a.totalWorkouts!==1?"s":""}`,secondary:"Complete workout history"})]}),a.totalHiitSessions>0&&r.jsxs(ut,{children:[r.jsx(Ht,{sx:{minWidth:40},children:r.jsx(Hc,{fontSize:"small"})}),r.jsx(jt,{primary:`${a.totalHiitSessions} HIIT session${a.totalHiitSessions!==1?"s":""}`})]}),a.totalCardioSessions>0&&r.jsxs(ut,{children:[r.jsx(Ht,{sx:{minWidth:40},children:r.jsx(mi,{fontSize:"small"})}),r.jsx(jt,{primary:`${a.totalCardioSessions} cardio session${a.totalCardioSessions!==1?"s":""}`})]}),a.totalStretchSessions>0&&r.jsxs(ut,{children:[r.jsx(Ht,{sx:{minWidth:40},children:r.jsx(ti,{fontSize:"small"})}),r.jsx(jt,{primary:`${a.totalStretchSessions} stretch session${a.totalStretchSessions!==1?"s":""}`})]}),a.totalPlans>0&&r.jsxs(ut,{children:[r.jsx(Ht,{sx:{minWidth:40},children:r.jsx(hh,{fontSize:"small"})}),r.jsx(jt,{primary:`${a.totalPlans} workout plan${a.totalPlans!==1?"s":""}`})]}),a.totalFavoriteWorkouts>0&&r.jsxs(ut,{children:[r.jsx(Ht,{sx:{minWidth:40},children:r.jsx(Pa,{fontSize:"small"})}),r.jsx(jt,{primary:`${a.totalFavoriteWorkouts} favorite workout${a.totalFavoriteWorkouts!==1?"s":""}`})]}),a.totalPinnedExercises>0&&r.jsxs(ut,{children:[r.jsx(Ht,{sx:{minWidth:40},children:r.jsx(lP,{fontSize:"small"})}),r.jsx(jt,{primary:`${a.totalPinnedExercises} pinned exercise${a.totalPinnedExercises!==1?"s":""}`})]}),r.jsx(ut,{children:r.jsx(jt,{primary:"All statistics and achievements",secondary:"Streaks, PRs, total volume, etc."})}),r.jsx(ut,{children:r.jsx(jt,{primary:"Exercise weights and target reps",secondary:"Saved progress tracking data"})})]}),r.jsx(vn,{sx:{my:2}}),r.jsxs(R,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,children:[r.jsx(Uo,{color:"success",sx:{verticalAlign:"middle",mr:.5}}),"The following will be preserved:"]}),r.jsxs(Gn,{dense:!0,sx:{bgcolor:"background.paper",borderRadius:1,mb:2},children:[r.jsx(ut,{children:r.jsx(jt,{primary:"Login credentials and authentication"})}),r.jsx(ut,{children:r.jsx(jt,{primary:"Profile information (name, email, avatar)"})}),r.jsx(ut,{children:r.jsx(jt,{primary:"App preferences and settings"})})]}),r.jsx($t,{severity:"info",sx:{mb:2},children:'Your data will be backed up for 30 days. Use the "Recover Data" option to restore it within this period.'}),p&&r.jsx($t,{severity:"error",sx:{mb:2},children:p}),r.jsxs(L,{sx:{mt:2},children:[r.jsxs(R,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["To confirm, type ",r.jsx("strong",{children:"RESET"})," below:"]}),r.jsx(gt,{fullWidth:!0,size:"small",value:l,onChange:S=>u(S.target.value),placeholder:"Type RESET to confirm",disabled:d,autoComplete:"off",sx:{mt:1}})]})]}),r.jsxs(Rn,{sx:{px:3,pb:2},children:[r.jsx(Ae,{onClick:v,disabled:d,children:"Cancel"}),r.jsx(Ae,{variant:"contained",color:"error",onClick:b,disabled:!y||d,startIcon:d?r.jsx(Bg,{size:20}):null,children:d?"Resetting...":"Reset Data"})]})]})};FE.propTypes={open:E.bool.isRequired,onClose:E.func.isRequired,onConfirm:E.func.isRequired,resetInfo:E.shape({totalWorkouts:E.number.isRequired,totalHiitSessions:E.number.isRequired,totalCardioSessions:E.number.isRequired,totalStretchSessions:E.number.isRequired,totalPlans:E.number.isRequired,totalFavoriteWorkouts:E.number.isRequired,totalFavoriteExercises:E.number.isRequired,totalPinnedExercises:E.number.isRequired,hasData:E.bool.isRequired}).isRequired};const HE=({open:e,onClose:t,onRecover:s,backup:a})=>{const[l,u]=x.useState(!1),[d,h]=x.useState(null);if(!a)return null;const p=new Date(a.timestamp),g=new Date(a.expiresAt),y=Math.ceil((a.expiresAt-Date.now())/(1e3*60*60*24)),b=y<=7,v=(a.data.workoutHistory||[]).length,S=(a.data.hiitSessions||[]).length,j=(a.data.cardioSessions||[]).length,k=(a.data.stretchSessions||[]).length,w=(a.data.workoutPlans||[]).length,T=(a.data.favoriteWorkouts||[]).length,D=async()=>{u(!0),h(null);try{await s(),t()}catch(W){h(W.message||"Failed to recover data. Please try again.")}finally{u(!1)}},A=()=>{l||(h(null),t())};return r.jsxs(Pn,{open:e,onClose:A,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:2}},children:[r.jsx(Un,{sx:{pb:1},children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(Bm,{color:"primary"}),r.jsx(R,{variant:"h6",component:"span",children:"Recover Your Data"})]})}),r.jsxs(On,{children:[r.jsxs($t,{severity:b?"warning":"info",sx:{mb:2},icon:r.jsx(cP,{}),children:[r.jsxs(R,{variant:"body2",children:[r.jsx("strong",{children:"Backup created:"})," ",p.toLocaleString()]}),r.jsxs(R,{variant:"body2",children:[r.jsx("strong",{children:"Expires:"})," ",g.toLocaleDateString()," ",r.jsx(mt,{label:`${y} day${y!==1?"s":""} remaining`,size:"small",color:b?"warning":"default",sx:{ml:1}})]})]}),r.jsx(R,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,children:"Your backup contains:"}),r.jsxs(Gn,{dense:!0,sx:{bgcolor:"background.paper",borderRadius:1,mb:2},children:[v>0&&r.jsxs(ut,{children:[r.jsx(fn,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),r.jsx(jt,{primary:`${v} workout${v!==1?"s":""}`})]}),S>0&&r.jsxs(ut,{children:[r.jsx(Hc,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),r.jsx(jt,{primary:`${S} HIIT session${S!==1?"s":""}`})]}),j>0&&r.jsxs(ut,{children:[r.jsx(mi,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),r.jsx(jt,{primary:`${j} cardio session${j!==1?"s":""}`})]}),k>0&&r.jsxs(ut,{children:[r.jsx(ti,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),r.jsx(jt,{primary:`${k} stretch session${k!==1?"s":""}`})]}),w>0&&r.jsxs(ut,{children:[r.jsx(hh,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),r.jsx(jt,{primary:`${w} workout plan${w!==1?"s":""}`})]}),T>0&&r.jsxs(ut,{children:[r.jsx(Pa,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),r.jsx(jt,{primary:`${T} favorite workout${T!==1?"s":""}`})]}),r.jsx(ut,{children:r.jsx(jt,{primary:"All statistics and achievements",secondary:"Including streaks, PRs, and total volume"})}),r.jsx(ut,{children:r.jsx(jt,{primary:"Exercise weights and target reps",secondary:"Your saved progress tracking data"})})]}),r.jsx($t,{severity:"warning",sx:{mb:2},children:r.jsxs(R,{variant:"body2",children:[r.jsx("strong",{children:"Warning:"})," Recovering this backup will replace your current data. Any workouts or progress you've logged since the reset will be lost."]})}),d&&r.jsx($t,{severity:"error",sx:{mb:2},children:d})]}),r.jsxs(Rn,{sx:{px:3,pb:2},children:[r.jsx(Ae,{onClick:A,disabled:l,children:"Cancel"}),r.jsx(Ae,{variant:"contained",color:"primary",onClick:D,disabled:l,startIcon:l?r.jsx(Bg,{size:20}):r.jsx(Bm,{}),children:l?"Recovering...":"Recover Data"})]})]})};HE.propTypes={open:E.bool.isRequired,onClose:E.func.isRequired,onRecover:E.func.isRequired,backup:E.shape({timestamp:E.number.isRequired,expiresAt:E.number.isRequired,data:E.object.isRequired})};const L7=["Communication","Mental Health","Learning","Volunteering","New Experiences","Physical","Nature","Personal Growth","Creativity","Seeking Connection","Media","Maintenance"],B7=JSON.parse(`{"daily":[{"id":"wellness_1","task":"Call or text a friend or family member","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_2","task":"Send a thoughtful message to someone you appreciate","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_3","task":"Compliment a friend, family member, or coworker","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_4","task":"Ask a close friend or family member how they're really doing","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_5","task":"Invite someone for coffee, lunch, or a casual hangout","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_6","task":"Check in with a neighbor or acquaintance","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_7","task":"Send an encouraging text to someone going through a challenge","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_8","task":"Reach out to someone you haven't talked to in a while","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_9","task":"Express appreciation to a family member or friend","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_10","task":"Join a group chat or online community around shared interests","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_11","task":"Smile and greet five people with genuine warmth","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_12","task":"Listen actively to someone without planning your response","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Mental Health"]},{"id":"wellness_13","task":"Share a personal update or story with someone you trust","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Mental Health"]},{"id":"wellness_14","task":"Invite family to a meal together","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_15","task":"Organize a group activity or outing via text or message","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_16","task":"Say hello to a coworker you don't usually interact with","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_17","task":"Text three people you care about just to say hello","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_35","task":"Update or refresh your online dating profile","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_36","task":"Browse dating apps with intention and genuine interest","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_37","task":"Send a thoughtful message to someone new on a dating app","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_38","task":"Write a genuine response to a match or connection","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Communication","Seeking Connection"]},{"id":"wellness_39","task":"Reflect on qualities you want in a partner and community","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_40","task":"Attend a social event where you might meet people","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Communication","Seeking Connection"]},{"id":"wellness_41","task":"Compliment or show interest in someone you're attracted to","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_42","task":"Work on your confidence and self-presentation","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Mental Health","Seeking Connection"]},{"id":"wellness_43","task":"Practice vulnerability in conversations with new people","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Mental Health","Seeking Connection"]},{"id":"wellness_53","task":"Send your partner a loving or appreciative message","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_54","task":"Give your partner a genuine compliment","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_55","task":"Ask your partner about their day and listen deeply","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Communication","Maintenance"]},{"id":"wellness_56","task":"Show physical affection (hug, kiss, hand-hold)","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_57","task":"Express gratitude for something your partner did","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_58","task":"Do a small act of kindness for your partner","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_59","task":"Make eye contact and be fully present with your partner","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Communication","Maintenance"]},{"id":"wellness_60","task":"Say 'I love you' or reaffirm your connection","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_61","task":"Cook a meal together or for your partner","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Communication","Maintenance"]},{"id":"wellness_62","task":"Share a laugh or funny moment together","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Communication","Maintenance"]},{"id":"wellness_73","task":"Practice gratitude - write down 3 things you're grateful for","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_74","task":"Meditate or practice mindfulness for 5-10 minutes","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_75","task":"Practice deep breathing exercises","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_76","task":"Write in your journal about your thoughts and feelings","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_77","task":"Practice positive affirmations or self-talk","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_78","task":"Give yourself permission to rest without guilt","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_79","task":"Practice self-compassion when facing a setback","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_80","task":"Identify one personal strength you possess","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_81","task":"Spend 5 minutes in quiet reflection or stillness","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_82","task":"Say something kind to yourself out loud","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_83","task":"Light a candle and create a calm environment","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_84","task":"Practice progressive muscle relaxation","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_85","task":"Set a meaningful intention for the day","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_86","task":"Acknowledge and accept your emotions without judgment","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_87","task":"Take a mental health check-in with yourself","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_88","task":"Limit news or negative content intake","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_89","task":"Practice forgiveness toward yourself","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_90","task":"Write down one thing that went well today","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_91","task":"Ground yourself using the 5 senses technique","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_92","task":"Take a warm shower or bath for comfort","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_103","task":"Read a chapter or section of a book","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_104","task":"Learn one new thing or skill","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning","Personal Growth"]},{"id":"wellness_105","task":"Listen to an educational podcast or audiobook","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning","Personal Growth"]},{"id":"wellness_106","task":"Practice a skill you're actively developing","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_107","task":"Reflect on a lesson or growth moment from today","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_108","task":"Work on a personal project or goal","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_109","task":"Practice a language for 15 minutes","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning","Personal Growth"]},{"id":"wellness_110","task":"Identify an area where you want to improve","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_111","task":"Set a small daily goal and work toward it","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_112","task":"Practice positive thinking about a challenge","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Personal Growth"]},{"id":"wellness_123","task":"Do 10 minutes of stretching or yoga","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_124","task":"Drink 8 glasses of water throughout the day","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_125","task":"Take a 10-minute walk","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_126","task":"Do light cardio or movement","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_127","task":"Practice good posture throughout the day","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_128","task":"Eat a nutritious meal or snack","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_129","task":"Get 7-9 hours of quality sleep","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_130","task":"Do 10 push-ups or bodyweight exercises","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_131","task":"Stretch your neck and shoulders","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_132","task":"Practice proper breathing techniques","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_143","task":"Take a 10-minute walk outside","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_144","task":"Notice and appreciate something in nature","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_145","task":"Open your window and breathe fresh air","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_146","task":"Water your plants or tend your garden","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_147","task":"Watch the sunrise or sunset","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_148","task":"Take a barefoot walk in grass or soil","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_149","task":"Listen to birds singing or nature sounds","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_150","task":"Take a photo of something beautiful in nature","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_151","task":"Identify a tree, flower, or plant near you","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_152","task":"Eat a meal outside if possible","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_163","task":"Draw, doodle, or sketch something","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_164","task":"Write poetry, lyrics, or creative writing","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_165","task":"Play a musical instrument","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_166","task":"Take creative or artistic photos","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_167","task":"Make or edit a short video","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_168","task":"Craft or make something by hand","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_169","task":"Paint or color something","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_170","task":"Create digital art or graphic design","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_171","task":"Write in a creative or expressive way","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_172","task":"Work on a creative side project","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_183","task":"Read an article on a topic of interest","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_184","task":"Watch an educational video","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_185","task":"Study a subject you're interested in","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_186","task":"Research something that fascinates you","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_187","task":"Take notes on something you learned","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_188","task":"Watch a documentary","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_189","task":"Read the news and stay informed","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_190","task":"Teach someone something you know","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Learning"]},{"id":"wellness_191","task":"Explore a new topic through research","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_192","task":"Listen to an educational podcast","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_203","task":"Help a friend or neighbor with a task","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_204","task":"Perform a random act of kindness","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_205","task":"Donate items to charity","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_206","task":"Offer emotional support to someone","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_207","task":"Give genuine compliments freely","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_208","task":"Help with household chores for someone","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_209","task":"Send a care package or thoughtful gift","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_210","task":"Offer your time or skills to someone","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_211","task":"Donate money to a cause you believe in","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_212","task":"Mentor or guide someone","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_223","task":"Try a new food or cuisine","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_224","task":"Take a different route to work or home","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_225","task":"Listen to a new genre of music","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_226","task":"Try a new recipe or cooking method","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_227","task":"Wear something you wouldn't normally wear","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_228","task":"Visit a new store or caf","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_229","task":"Try a new exercise or movement practice","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences","Physical"]},{"id":"wellness_230","task":"Try a new hairstyle or look","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_231","task":"Use a new app or technology tool","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_232","task":"Try a new hobby or craft","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences","Creativity"]},{"id":"wellness_243","task":"Turn off notifications for social media","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_244","task":"Take a one-hour social media break","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_245","task":"Leave your phone in another room for 30 minutes","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_246","task":"Avoid checking email first thing in the morning","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_247","task":"Practice presence during meals without devices","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_248","task":"Limit screen time after 8 PM","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_249","task":"Read a physical book instead of scrolling","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Media"]},{"id":"wellness_250","task":"Unfollow accounts that trigger negative feelings","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_251","task":"Have a conversation without checking your phone","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Media"]},{"id":"wellness_252","task":"Watch a sunset without recording it","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Media"]},{"id":"wellness_265","task":"Share gratitude and appreciation with family for Thanksgiving","timing":"Daily","relationshipStatus":"All","holiday":"Thanksgiving (2nd Monday October)","categories":["Communication","Mental Health"]}],"weekly":[{"id":"wellness_18","task":"Host a dinner, potluck, or casual meal gathering","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_19","task":"Organize a game night or board game gathering with friends","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_20","task":"Attend a local community event, meetup, or group gathering","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_21","task":"Host a book club, discussion, or movie watch party","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_22","task":"Plan a group outing (hike, picnic, movie, restaurant)","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_23","task":"Attend or volunteer at a community event or festival","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_24","task":"Visit a friend or family member in person","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_25","task":"Start or join a hobby club or group activity","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_26","task":"Participate in a group fitness class or sports activity","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Physical"]},{"id":"wellness_27","task":"Attend a cultural or social gathering","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_28","task":"Organize a skill-share or knowledge-sharing session with friends","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Learning"]},{"id":"wellness_29","task":"Host a phone or video call with distant friends or family","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_30","task":"Invite a friend to try a new restaurant or caf","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","New Experiences"]},{"id":"wellness_31","task":"Join a professional networking group or meetup","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_32","task":"Attend a workshop, class, or event with friends or family","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Learning"]},{"id":"wellness_33","task":"Create a community chat group or event planning forum","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_34","task":"Have a meaningful one-on-one conversation over coffee or meal","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_44","task":"Schedule or go on a first date","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_45","task":"Plan a follow-up date with someone you like","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_46","task":"Attend a speed dating, singles event, or mixer","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Communication","Seeking Connection"]},{"id":"wellness_47","task":"Join a social or hobby group where you can meet people","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Communication","Seeking Connection"]},{"id":"wellness_48","task":"Volunteer or attend a community event to expand your social circle","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Communication","Volunteering","Seeking Connection"]},{"id":"wellness_49","task":"Get feedback on your dating profile from a trusted friend","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Communication","Seeking Connection"]},{"id":"wellness_50","task":"Attend a party or social gathering with friends","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Communication","Seeking Connection"]},{"id":"wellness_51","task":"Go out to a venue where you might meet people naturally","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_52","task":"Join a group activity or class to meet people with similar interests","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Communication","Seeking Connection"]},{"id":"wellness_63","task":"Schedule a dedicated date night with your partner","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_64","task":"Have a deep conversation about feelings and goals","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Communication","Maintenance"]},{"id":"wellness_65","task":"Try a new experience or activity together","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["New Experiences","Maintenance"]},{"id":"wellness_66","task":"Plan a weekend getaway or day trip","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_67","task":"Give each other a massage or quality physical time","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_68","task":"Celebrate each other's wins and accomplishments","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Communication","Maintenance"]},{"id":"wellness_69","task":"Watch a movie or show you both enjoy together","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_70","task":"Share a meal without distractions and connect","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Communication","Maintenance"]},{"id":"wellness_71","task":"Create a shared bucket list or future plans together","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_72","task":"Write a love letter or heartfelt note to your partner","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_93","task":"Attend therapy or counseling session","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_94","task":"Practice yoga or tai chi","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Physical"]},{"id":"wellness_95","task":"Take a relaxing bath with essential oils or music","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_96","task":"Get a massage or practice self-massage","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_97","task":"Create an at-home spa day","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_98","task":"Organize and declutter your personal space","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_99","task":"Declutter a significant area of your home","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_100","task":"Reflect on the week and journal lessons learned","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_101","task":"Write letters to process difficult emotions","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_102","task":"Set healthy boundaries with demanding people","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_113","task":"Take an online course or class","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning","Personal Growth"]},{"id":"wellness_114","task":"Read a challenging or thought-provoking book","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning","Personal Growth"]},{"id":"wellness_115","task":"Attend a workshop, seminar, or webinar","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning","Personal Growth"]},{"id":"wellness_116","task":"Start learning a new skill or hobby","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning","New Experiences","Personal Growth"]},{"id":"wellness_117","task":"Create a vision board for your goals","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_118","task":"Review your goals and track progress","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_119","task":"Seek mentorship or advice from someone you admire","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Personal Growth"]},{"id":"wellness_120","task":"Practice public speaking or presentation skills","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_121","task":"Join a professional or personal development group","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Personal Growth"]},{"id":"wellness_122","task":"Mentor someone or teach a skill to others","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Personal Growth"]},{"id":"wellness_133","task":"Do a HIIT or cardio workout","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_134","task":"Go for a run, bike ride, or swim","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_135","task":"Do a strength training session","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_136","task":"Attend a fitness class or gym session","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_137","task":"Meal prep for the week","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_138","task":"Practice a sport or recreational activity","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_139","task":"Do a flexibility or mobility workout","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_140","task":"Schedule a health checkup or dental visit","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_141","task":"Try a new wellness practice","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences","Physical"]},{"id":"wellness_142","task":"Do a longer nature walk or outdoor activity","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical","Nature"]},{"id":"wellness_153","task":"Go on a nature hike","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_154","task":"Visit a park or green space","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_155","task":"Go to a botanical garden or arboretum","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_156","task":"Volunteer for environmental conservation","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Volunteering","Nature"]},{"id":"wellness_157","task":"Spend time gardening or planting","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_158","task":"Go camping or spend the night outdoors","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_159","task":"Take a nature photography walk","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_160","task":"Go fishing, kayaking, or canoeing","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_161","task":"Explore a local nature trail or forest","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_162","task":"Join a naturalist or outdoor club","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Nature"]},{"id":"wellness_173","task":"Attend an art class or creative workshop","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning","Creativity"]},{"id":"wellness_174","task":"Visit an art gallery or museum","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_175","task":"Create a mixed media project","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_176","task":"Share your creative work with others","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Creativity"]},{"id":"wellness_177","task":"Collaborate on a creative project with someone","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Creativity"]},{"id":"wellness_178","task":"Attend a poetry reading or open mic night","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Creativity"]},{"id":"wellness_179","task":"Create handmade gifts for others","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_180","task":"Join a creative community or group","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Creativity"]},{"id":"wellness_181","task":"Explore a new creative medium","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences","Creativity"]},{"id":"wellness_182","task":"Attend a performance or show","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_193","task":"Enroll in an online course","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_194","task":"Attend a lecture or webinar","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_195","task":"Join a discussion group or book club","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Learning"]},{"id":"wellness_196","task":"Visit the library and research","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_197","task":"Read multiple books or articles","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_198","task":"Create study notes or flashcards","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_199","task":"Interview an expert in a field","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Learning"]},{"id":"wellness_200","task":"Join a learning community online","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Learning"]},{"id":"wellness_201","task":"Complete a certification or training","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_202","task":"Attend a workshop in your field","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_213","task":"Volunteer at a local organization","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_214","task":"Volunteer at a food bank or soup kitchen","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_215","task":"Volunteer for environmental conservation","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Volunteering","Nature"]},{"id":"wellness_216","task":"Mentor a young person or colleague","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_217","task":"Volunteer at an animal rescue or shelter","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_218","task":"Participate in community cleanup","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_219","task":"Volunteer for a cause you care about","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_220","task":"Help organize a fundraiser or event","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_221","task":"Volunteer with vulnerable or senior populations","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_222","task":"Join a volunteer board or committee","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_233","task":"Take a class in something you've never done","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning","New Experiences"]},{"id":"wellness_234","task":"Try a new restaurant or food truck","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_235","task":"Explore a new neighborhood or area","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_236","task":"Attend an event in an unfamiliar genre","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_237","task":"Try a new sport or physical activity","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences","Physical"]},{"id":"wellness_238","task":"Visit a museum or gallery you've never been to","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_239","task":"Try a new form of art or creative expression","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences","Creativity"]},{"id":"wellness_240","task":"Go to an event or venue in a different part of town","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","New Experiences"]},{"id":"wellness_241","task":"Try something on your bucket list","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_242","task":"Volunteer for a new type of cause","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Volunteering","New Experiences"]},{"id":"wellness_253","task":"Disable social media and streaming apps for a full day","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_254","task":"Have a phone-free meal with friends or family","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Media"]},{"id":"wellness_255","task":"Take a full digital detox day","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_256","task":"Create a 'no screens' bedroom policy this week","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_257","task":"Replace scrolling time with a meaningful hobby","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Creativity","Media"]},{"id":"wellness_258","task":"Organize a phone-free game night","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Media"]},{"id":"wellness_259","task":"Stop using your phone while commuting","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_260","task":"Remove social media apps you don't need","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_261","task":"Create a designated screen-free evening time","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Media"]},{"id":"wellness_262","task":"Attend or host a Canada Day community celebration","timing":"Weekly","relationshipStatus":"All","holiday":"Canada Day (July 1)","categories":["Communication"]},{"id":"wellness_263","task":"Participate in Canada Day festivities with friends or family","timing":"Weekly","relationshipStatus":"All","holiday":"Canada Day (July 1)","categories":["Communication"]},{"id":"wellness_264","task":"Host or attend a Thanksgiving dinner gathering","timing":"Weekly","relationshipStatus":"All","holiday":"Thanksgiving (2nd Monday October)","categories":["Communication"]},{"id":"wellness_266","task":"Attend a Halloween social event or party with friends","timing":"Weekly","relationshipStatus":"All","holiday":"Halloween (October 31)","categories":["Communication","Seeking Connection"]},{"id":"wellness_267","task":"Send holiday cards to friends and family","timing":"Weekly","relationshipStatus":"All","holiday":"Christmas (December 25)","categories":["Communication"]},{"id":"wellness_268","task":"Volunteer at a shelter or food bank during Christmas","timing":"Weekly","relationshipStatus":"All","holiday":"Christmas (December 25)","categories":["Communication","Volunteering"]},{"id":"wellness_269","task":"Attend a New Year's Eve celebration with friends","timing":"Weekly","relationshipStatus":"All","holiday":"New Year's Eve (December 31)","categories":["Communication","Seeking Connection"]},{"id":"wellness_270","task":"Reflect on the past year and set new community goals","timing":"Weekly","relationshipStatus":"All","holiday":"New Year's Eve (December 31)","categories":["Communication","Personal Growth"]}],"holiday":[{"id":"wellness_262","task":"Attend or host a Canada Day community celebration","timing":"Weekly","relationshipStatus":"All","holiday":"Canada Day (July 1)","categories":["Communication"]},{"id":"wellness_263","task":"Participate in Canada Day festivities with friends or family","timing":"Weekly","relationshipStatus":"All","holiday":"Canada Day (July 1)","categories":["Communication"]},{"id":"wellness_264","task":"Host or attend a Thanksgiving dinner gathering","timing":"Weekly","relationshipStatus":"All","holiday":"Thanksgiving (2nd Monday October)","categories":["Communication"]},{"id":"wellness_265","task":"Share gratitude and appreciation with family for Thanksgiving","timing":"Daily","relationshipStatus":"All","holiday":"Thanksgiving (2nd Monday October)","categories":["Communication","Mental Health"]},{"id":"wellness_266","task":"Attend a Halloween social event or party with friends","timing":"Weekly","relationshipStatus":"All","holiday":"Halloween (October 31)","categories":["Communication","Seeking Connection"]},{"id":"wellness_267","task":"Send holiday cards to friends and family","timing":"Weekly","relationshipStatus":"All","holiday":"Christmas (December 25)","categories":["Communication"]},{"id":"wellness_268","task":"Volunteer at a shelter or food bank during Christmas","timing":"Weekly","relationshipStatus":"All","holiday":"Christmas (December 25)","categories":["Communication","Volunteering"]},{"id":"wellness_269","task":"Attend a New Year's Eve celebration with friends","timing":"Weekly","relationshipStatus":"All","holiday":"New Year's Eve (December 31)","categories":["Communication","Seeking Connection"]},{"id":"wellness_270","task":"Reflect on the past year and set new community goals","timing":"Weekly","relationshipStatus":"All","holiday":"New Year's Eve (December 31)","categories":["Communication","Personal Growth"]}]}`),UE={categories:L7,tasksByTiming:B7},V7=()=>UE.categories,z7=(e={})=>{const{enabledCategories:t=[],relationshipStatus:s="All"}=e,l=new Date().toISOString().split("T")[0].split("-").reduce((h,p)=>h+parseInt(p,10),0);let u=UE.tasksByTiming.daily.filter(h=>!(h.relationshipStatus!=="All"&&h.relationshipStatus!==s||t.length>0&&!h.categories.some(g=>t.includes(g))));if(u.length===0)return null;const d=l%u.length;return u[d]},F7="BE0ZQSJHIlmXfeA5ddjITNrqrS0TmGfGGQjBufmOlUKxRUtEwja2qHmTZ0pXHepJzGV2qcwH0gJ_D6ot6cWGB6w",H7=async()=>{try{return"Notification"in window?Kd?await Notification.requestPermission()==="granted":(console.warn("Firebase Messaging not supported in this browser"),!1):(console.warn("This browser does not support notifications"),!1)}catch(e){return console.error("Error requesting notification permission:",e),!1}},U7=async()=>{try{if(!Kd)return console.warn("[FCM] Firebase Messaging not available"),null;if(await Notification.requestPermission()!=="granted")return console.warn("[FCM] Notification permission not granted"),null;console.log("[FCM] Requesting FCM token with VAPID key...");const t=await WR(Kd,{vapidKey:F7});return t?(console.log("[FCM]  FCM token obtained successfully"),console.log("[FCM]  FCM Token:",t),console.log("[FCM]  Send this token to your backend to enable Firebase push notifications"),t):(console.warn("[FCM] No FCM token available. User may need to grant permission."),null)}catch(e){return console.error("[FCM] Error getting FCM token:",e),null}},q7=e=>{const{title:t,body:s,icon:a=`${window.location.origin}/goodlift-logo.svg`,tag:l="goodlift-notification",requireInteraction:u=!1}=e;if(!("Notification"in window)){console.warn("Notifications not supported");return}if(Notification.permission==="granted")try{new Notification(t,{body:s,icon:a,tag:l,requireInteraction:u})}catch(d){console.error("Error showing notification:",d)}},Y7=(e,t=null)=>{let s=` Today's session: ${e}`;return t&&(s+=`
 Today's wellness task: ${t.task}`),{title:"Good Morning! ",body:s}},G7=e=>{const t=z7(e.wellness||{}),s=Y7("Full Body Strength",t);q7({title:s.title,body:s.body})},Ex="goodlift_data_backup",Mx="goodlift_guest_data_backup",$7=30,K7=$7*24*60*60*1e3,qE=()=>{const e={};return et()?(e.workoutHistory=Et("workout_history")||[],e.userStats=Et("user_stats")||null,e.exerciseWeights=Et("exercise_weights")||{},e.exerciseTargetReps=Et("exercise_target_reps")||{},e.hiitSessions=Et("hiit_sessions")||[],e.cardioSessions=Et("cardio_sessions")||[],e.stretchSessions=Et("stretch_sessions")||[],e.workoutPlans=Et("workout_plans")||[],e.activePlan=Et("active_plan")||null,e.favoriteWorkouts=Et("favorite_workouts")||[],e.favoriteExercises=Et("favorite_exercises")||[],e.pinnedExercises=Et("pinned_exercises")||[],e.unlockedAchievements=Et("unlocked_achievements")||[],e.totalPRs=Et("total_prs")||0,e.totalVolume=Et("total_volume")||0):Object.entries({workoutHistory:"goodlift_workout_history",userStats:"goodlift_user_stats",exerciseWeights:"goodlift_exercise_weights",exerciseTargetReps:"goodlift_exercise_target_reps",hiitSessions:"goodlift_hiit_sessions",cardioSessions:"goodlift_cardio_sessions",stretchSessions:"goodlift_stretch_sessions",workoutPlans:"goodlift_workout_plans",activePlan:"goodlift_active_plan",favoriteWorkouts:"goodlift_favorite_workouts",favoriteExercises:"goodlift_favorite_exercises",pinnedExercises:"goodlift_pinned_exercises",unlockedAchievements:"goodlift_unlocked_achievements",totalPRs:"goodlift_total_prs",totalVolume:"goodlift_total_volume"}).forEach(([s,a])=>{try{const l=localStorage.getItem(a);l?e[s]=JSON.parse(l):e[s]=null}catch(l){console.error(`Error reading ${a}:`,l),e[s]=null}}),e},Q7=()=>{et()?(vt("workout_history",[]),vt("user_stats",{totalWorkouts:0,totalTime:0,totalHiitTime:0,totalCardioTime:0,totalStretchTime:0,currentStreak:0,longestStreak:0,totalPRs:0,totalVolume:0}),vt("exercise_weights",{}),vt("exercise_target_reps",{}),vt("hiit_sessions",[]),vt("cardio_sessions",[]),vt("stretch_sessions",[]),vt("workout_plans",[]),vt("active_plan",null),vt("favorite_workouts",[]),vt("favorite_exercises",[]),vt("pinned_exercises",[]),vt("unlocked_achievements",[]),vt("total_prs",0),vt("total_volume",0)):["goodlift_workout_history","goodlift_user_stats","goodlift_exercise_weights","goodlift_exercise_target_reps","goodlift_hiit_sessions","goodlift_cardio_sessions","goodlift_stretch_sessions","goodlift_workout_plans","goodlift_active_plan","goodlift_favorite_workouts","goodlift_favorite_exercises","goodlift_pinned_exercises","goodlift_unlocked_achievements","goodlift_total_prs","goodlift_total_volume"].forEach(t=>{try{t==="goodlift_user_stats"?localStorage.setItem(t,JSON.stringify({totalWorkouts:0,totalTime:0,totalHiitTime:0,totalCardioTime:0,totalStretchTime:0,currentStreak:0,longestStreak:0,totalPRs:0,totalVolume:0})):t==="goodlift_exercise_weights"||t==="goodlift_exercise_target_reps"?localStorage.setItem(t,JSON.stringify({})):t==="goodlift_active_plan"?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify([]))}catch(s){console.error(`Error clearing ${t}:`,s)}})},X7=e=>{if(!e||!e.data)throw new Error("Invalid backup data");const{data:t}=e;if(et())Object.entries(t).forEach(([s,a])=>{a!=null&&vt(s.replace(/([A-Z])/g,"_$1").toLowerCase(),a)});else{const s={workoutHistory:"goodlift_workout_history",userStats:"goodlift_user_stats",exerciseWeights:"goodlift_exercise_weights",exerciseTargetReps:"goodlift_exercise_target_reps",hiitSessions:"goodlift_hiit_sessions",cardioSessions:"goodlift_cardio_sessions",stretchSessions:"goodlift_stretch_sessions",workoutPlans:"goodlift_workout_plans",activePlan:"goodlift_active_plan",favoriteWorkouts:"goodlift_favorite_workouts",favoriteExercises:"goodlift_favorite_exercises",pinnedExercises:"goodlift_pinned_exercises",unlockedAchievements:"goodlift_unlocked_achievements",totalPRs:"goodlift_total_prs",totalVolume:"goodlift_total_volume"};Object.entries(t).forEach(([a,l])=>{const u=s[a];if(u&&l!==null&&l!==void 0)try{localStorage.setItem(u,JSON.stringify(l))}catch(d){console.error(`Error restoring ${u}:`,d)}})}},Z7=async()=>{try{const t={data:qE(),timestamp:Date.now(),expiresAt:Date.now()+K7,version:1},s=et()?Mx:Ex;localStorage.setItem(s,JSON.stringify(t));const a=qc();if(a&&!et())try{await Cn(a,{dataBackup:t})}catch(l){console.error("Error saving backup to Firebase:",l)}return t}catch(e){throw console.error("Error creating backup:",e),e}},uh=async()=>{try{const e=qc();if(e&&!et())try{const l=await Us(e);if(l?.dataBackup)return l.dataBackup.expiresAt>Date.now()?l.dataBackup:(await jg(),null)}catch(l){console.error("Error loading backup from Firebase:",l)}const t=et()?Mx:Ex,s=localStorage.getItem(t);if(!s)return null;const a=JSON.parse(s);return a.expiresAt<=Date.now()?(await jg(),null):a}catch(e){return console.error("Error getting backup:",e),null}},jg=async()=>{try{const e=et()?Mx:Ex;localStorage.removeItem(e);const t=qc();if(t&&!et())try{await Cn(t,{dataBackup:null})}catch(s){console.error("Error deleting backup from Firebase:",s)}}catch(e){throw console.error("Error deleting backup:",e),e}},J7=async()=>{try{const e=await Z7();Q7();const t=qc();if(t&&!et())try{await Cn(t,{workoutHistory:[],userStats:{totalWorkouts:0,totalTime:0,totalHiitTime:0,totalCardioTime:0,totalStretchTime:0,currentStreak:0,longestStreak:0,totalPRs:0,totalVolume:0},exerciseWeights:{},exerciseTargetReps:{},hiitSessions:[],cardioSessions:[],stretchSessions:[],workoutPlans:[],activePlanId:null})}catch(s){console.error("Error syncing reset to Firebase:",s)}return{success:!0,backup:e,message:"Data reset successfully. You have 30 days to recover your data."}}catch(e){return console.error("Error resetting user data:",e),{success:!1,message:"Failed to reset data. Please try again.",error:e}}},e9=async()=>{try{const e=await uh();if(!e)return{success:!1,message:"No backup found or backup has expired."};X7(e);const t=qc();if(t&&!et())try{await Cn(t,e.data)}catch(s){console.error("Error syncing recovered data to Firebase:",s)}return await jg(),{success:!0,message:"Data recovered successfully!"}}catch(e){return console.error("Error recovering user data:",e),{success:!1,message:"Failed to recover data. Please try again.",error:e}}},YE=async()=>{try{return await uh()===null}catch(e){return console.error("Error cleaning up expired backups:",e),!1}},Pd=()=>{const e=qE(),t=(e.workoutHistory||[]).length,s=(e.hiitSessions||[]).length,a=(e.cardioSessions||[]).length,l=(e.stretchSessions||[]).length,u=(e.workoutPlans||[]).length,d=(e.favoriteWorkouts||[]).length,h=(e.favoriteExercises||[]).length,p=(e.pinnedExercises||[]).length;return{totalWorkouts:t,totalHiitSessions:s,totalCardioSessions:a,totalStretchSessions:l,totalPlans:u,totalFavoriteWorkouts:d,totalFavoriteExercises:h,totalPinnedExercises:p,hasData:t>0||s>0||a>0||l>0||u>0||d>0}},GE=({onNavigate:e})=>{const{mode:t,toggleTheme:s}=LE(),{preferences:a,updatePreference:l}=R7(),{profile:u,stats:d}=Dx(),{isGuest:h}=Er(),{resetWeekCycle:p}=Na(),[g,y]=x.useState(()=>{try{const te=localStorage.getItem("audioVolume");return te?parseFloat(te):.3}catch{return .3}}),[b,v]=x.useState(Nt.isMutedState()),[S,j]=x.useState(!1),[k,w]=x.useState(!1),[T,D]=x.useState(!1),[A,W]=x.useState(null),[P,O]=x.useState(null),[_,N]=x.useState(!1),[I,H]=x.useState(""),[V,B]=x.useState("success"),[de]=x.useState(()=>V7()),[q,ae]=x.useState(()=>{try{const te=localStorage.getItem("goodlift_stretch_prefs");return te?JSON.parse(te):{showWarmup:!0,showCooldown:!0,defaultWarmupDuration:5,defaultCooldownDuration:5}}catch{return{showWarmup:!0,showCooldown:!0,defaultWarmupDuration:5,defaultCooldownDuration:5}}});x.useEffect(()=>{try{localStorage.setItem("audioVolume",g.toString())}catch(te){console.warn("Could not save volume preference",te)}},[g]),x.useEffect(()=>{try{localStorage.setItem("goodlift_stretch_prefs",JSON.stringify(q))}catch(te){console.warn("Could not save stretch preferences",te)}},[q]),x.useEffect(()=>{(async()=>{await YE();const ee=await uh();W(ee),O(Pd())})()},[]);const z=(te,ee)=>{y(ee),ee>0&&b&&(Nt.setMuted(!1),v(!1)),ee===0&&!b&&(Nt.setMuted(!0),v(!0))},U=()=>{s(),b||Nt.playTransitionBeep()},ue=()=>{g>0&&!b&&Nt.playBeep(800,200,g)},fe=(te,ee)=>{ae(Ne=>({...Ne,[te]:ee}))},Ce=()=>{N7(u,d)},we=()=>{O(Pd()),j(!0)},Q=()=>{j(!1)},J=async()=>{const te=await J7();te.success?(W(te.backup),O(Pd()),H(te.message),B("success"),N(!0),setTimeout(()=>{window.location.reload()},2e3)):(H(te.message),B("error"),N(!0))},he=async()=>{const te=await uh();W(te),w(!0)},be=()=>{w(!1)},ge=async()=>{const te=await e9();te.success?(W(null),O(Pd()),H(te.message),B("success"),N(!0),setTimeout(()=>{window.location.reload()},2e3)):(H(te.message),B("error"),N(!0))},ie=()=>{N(!1)},Y=te=>{e&&e(te)},oe=()=>{D(!0)},$=()=>{D(!1)},le=async()=>{D(!1);try{await p(),H("Week cycle reset to Week 1. Automatic workout assignment re-enabled."),B("success"),N(!0)}catch(te){console.error("Error resetting week cycle:",te),H("Failed to reset week cycle"),B("error"),N(!0)}},ye=async te=>{te?await H7()?(l("pushNotificationsEnabled",!0),H("Push notifications enabled!"),B("success"),N(!0)):(H("Permission denied. Please enable notifications in your browser settings."),B("error"),N(!0)):(l("pushNotificationsEnabled",!1),H("Push notifications disabled"),B("info"),N(!0))},Pe=te=>{const ee=a.wellnessCategories||[],Ne=ee.includes(te)?ee.filter(ot=>ot!==te):[...ee,te];l("wellnessCategories",Ne)},pe=()=>{G7(a),H("Test notification sent!"),B("success"),N(!0)};return r.jsxs(L,{sx:{minHeight:"100vh",padding:{xs:1,sm:2,md:3,lg:4},paddingBottom:{xs:"80px",sm:3,md:4},background:te=>te.palette.background.default,overflowX:"hidden",width:"100%",boxSizing:"border-box"},children:[r.jsxs($e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsx(L,{sx:{display:"flex",justifyContent:"center",mb:2},children:r.jsx("img",{src:"/goodlift/goodlift-logo.svg",alt:"GoodLift",style:{height:"50px",width:"auto"}})}),r.jsx(R,{variant:"h4",sx:{mb:2,fontWeight:700,color:"text.primary"},children:"Settings"}),r.jsxs(_e,{spacing:2,sx:{maxWidth:600},children:[r.jsx(nt,{sx:{borderRadius:2,boxShadow:3},children:r.jsxs(ct,{sx:{p:0},children:[r.jsx(R,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"User Profile"}),r.jsx(Gn,{sx:{py:0},children:r.jsx(ut,{disablePadding:!0,children:r.jsxs(Ni,{onClick:()=>Y("profile"),sx:{py:1},children:[r.jsx(Ht,{sx:{minWidth:40},children:r.jsx(uP,{sx:{color:"primary.main"}})}),r.jsx(jt,{primary:"Profile Information",primaryTypographyProps:{fontWeight:500}}),r.jsx(dr,{sx:{color:"text.secondary"}})]})})})]})}),r.jsx(nt,{sx:{borderRadius:2,boxShadow:3},children:r.jsxs(ct,{sx:{p:0},children:[r.jsx(R,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"Exercise Database"}),r.jsx(Gn,{sx:{py:0},children:r.jsx(ut,{disablePadding:!0,children:r.jsxs(Ni,{onClick:()=>Y("exercise-list"),sx:{py:1},children:[r.jsx(Ht,{sx:{minWidth:40},children:r.jsx(dP,{sx:{color:"primary.main"}})}),r.jsx(jt,{primary:"Browse Exercises",primaryTypographyProps:{fontWeight:500}}),r.jsx(dr,{sx:{color:"text.secondary"}})]})})})]})}),r.jsx(nt,{sx:{borderRadius:2,boxShadow:3},children:r.jsxs(ct,{sx:{p:0},children:[r.jsx(R,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"Workout Scheduling"}),r.jsxs(Gn,{sx:{py:0},children:[r.jsx(ut,{disablePadding:!0,children:r.jsxs(Ni,{onClick:()=>Y("edit-weekly-schedule"),sx:{py:1},children:[r.jsx(Ht,{sx:{minWidth:40},children:r.jsx(wr,{sx:{color:"primary.main"}})}),r.jsx(jt,{primary:"Edit Weekly Schedule",primaryTypographyProps:{fontWeight:500}}),r.jsx(dr,{sx:{color:"text.secondary"}})]})}),r.jsx(vn,{component:"li"}),r.jsx(ut,{disablePadding:!0,children:r.jsxs(Ni,{onClick:oe,sx:{py:1},children:[r.jsx(Ht,{sx:{minWidth:40},children:r.jsx(hh,{sx:{color:"primary.main"}})}),r.jsx(jt,{primary:"Reset Week Counter",primaryTypographyProps:{fontWeight:500}}),r.jsx(dr,{sx:{color:"text.secondary"}})]})})]})]})}),r.jsx(nt,{sx:{borderRadius:2,boxShadow:3},children:r.jsxs(ct,{sx:{p:0},children:[r.jsx(R,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"App Preferences"}),r.jsxs(Gn,{sx:{py:0},children:[r.jsxs(ut,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",width:"100%",mb:.5},children:[r.jsx(Ht,{sx:{minWidth:40},children:r.jsx(hP,{sx:{color:"primary.main"}})}),r.jsx(R,{variant:"body2",fontWeight:500,children:"Unit System"})]}),r.jsx(Ut,{size:"small",sx:{ml:5,minWidth:160},children:r.jsxs(Gt,{value:a.units,onChange:te=>l("units",te.target.value),children:[r.jsx(Be,{value:"imperial",children:"Imperial (lbs, in)"}),r.jsx(Be,{value:"metric",children:"Metric (kg, cm)"})]})})]}),r.jsx(vn,{component:"li"}),r.jsxs(ut,{sx:{py:1},children:[r.jsx(Ht,{sx:{minWidth:40},children:t==="dark"?r.jsx(fP,{sx:{color:"primary.main"}}):r.jsx(pP,{sx:{color:"primary.main"}})}),r.jsx(jt,{primary:"Theme",primaryTypographyProps:{fontWeight:500}}),r.jsx(ar,{checked:t==="light",onChange:U,color:"primary"})]}),r.jsx(vn,{component:"li"}),r.jsxs(ut,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",width:"100%",mb:.5},children:[r.jsx(Ht,{sx:{minWidth:40},children:r.jsx(Rg,{sx:{color:"primary.main"}})}),r.jsx(R,{variant:"body2",fontWeight:500,children:"Sound Effects"})]}),r.jsx(L,{sx:{ml:5,width:"calc(100% - 40px)"},children:r.jsx(_C,{value:g,onChange:z,onChangeCommitted:ue,min:0,max:1,step:.1,valueLabelDisplay:"auto",valueLabelFormat:te=>`${Math.round(te*100)}%`,sx:{width:180,"& .MuiSlider-thumb":{width:16,height:16},"& .MuiSlider-track":{height:4},"& .MuiSlider-rail":{height:4}}})})]}),r.jsx(vn,{component:"li"}),r.jsxs(ut,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(Ht,{sx:{minWidth:40},children:r.jsx(ti,{sx:{color:"primary.main"}})}),r.jsx(R,{variant:"body2",fontWeight:500,children:"Warmup Reminders"})]}),r.jsx(ar,{checked:q.showWarmup,onChange:te=>fe("showWarmup",te.target.checked),color:"primary"})]}),q.showWarmup&&r.jsx(Ut,{size:"small",sx:{ml:5,mt:.5,minWidth:160},children:r.jsxs(Gt,{value:q.defaultWarmupDuration,onChange:te=>fe("defaultWarmupDuration",te.target.value),children:[r.jsx(Be,{value:5,children:"5 minutes"}),r.jsx(Be,{value:7,children:"7 minutes"}),r.jsx(Be,{value:10,children:"10 minutes"})]})})]}),r.jsx(vn,{component:"li"}),r.jsxs(ut,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(Ht,{sx:{minWidth:40},children:r.jsx(fn,{sx:{color:"primary.main"}})}),r.jsx(R,{variant:"body2",fontWeight:500,children:"Cooldown Reminders"})]}),r.jsx(ar,{checked:q.showCooldown,onChange:te=>fe("showCooldown",te.target.checked),color:"primary"})]}),q.showCooldown&&r.jsx(Ut,{size:"small",sx:{ml:5,mt:.5,minWidth:160},children:r.jsxs(Gt,{value:q.defaultCooldownDuration,onChange:te=>fe("defaultCooldownDuration",te.target.value),children:[r.jsx(Be,{value:5,children:"5 minutes"}),r.jsx(Be,{value:7,children:"7 minutes"}),r.jsx(Be,{value:10,children:"10 minutes"})]})})]})]})]})}),r.jsx(nt,{sx:{borderRadius:2,boxShadow:3},children:r.jsxs(ct,{sx:{p:0},children:[r.jsx(R,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"Wellness & Notifications"}),r.jsxs(Gn,{sx:{py:0},children:[r.jsxs(ut,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(Ht,{sx:{minWidth:40},children:r.jsx(mP,{sx:{color:"primary.main"}})}),r.jsx(R,{variant:"body2",fontWeight:500,children:"Push Notifications"})]}),r.jsx(ar,{checked:a.pushNotificationsEnabled||!1,onChange:te=>ye(te.target.checked),color:"primary"})]}),a.pushNotificationsEnabled&&r.jsx(L,{sx:{ml:5,mt:1,width:"calc(100% - 40px)"},children:r.jsx(Ae,{size:"small",variant:"outlined",onClick:pe,sx:{fontSize:"0.75rem"},children:"Send Test Notification"})})]}),r.jsx(vn,{component:"li"}),r.jsx(ut,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(Ht,{sx:{minWidth:40},children:r.jsx(gP,{sx:{color:"primary.main"}})}),r.jsx(R,{variant:"body2",fontWeight:500,children:"Daily Wellness Tasks"})]}),r.jsx(ar,{checked:a.dailyWellnessTasksEnabled||!1,onChange:te=>l("dailyWellnessTasksEnabled",te.target.checked),color:"primary",disabled:!a.pushNotificationsEnabled})]})}),r.jsx(vn,{component:"li"}),a.dailyWellnessTasksEnabled&&r.jsxs(r.Fragment,{children:[r.jsxs(ut,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",width:"100%",mb:.5},children:[r.jsx(Ht,{sx:{minWidth:40},children:r.jsx(yP,{sx:{color:"primary.main"}})}),r.jsx(R,{variant:"body2",fontWeight:500,children:"Relationship Status"})]}),r.jsx(Ut,{size:"small",sx:{ml:5,minWidth:160},children:r.jsxs(Gt,{value:a.relationshipStatus||"All",onChange:te=>l("relationshipStatus",te.target.value),children:[r.jsx(Be,{value:"All",children:"All"}),r.jsx(Be,{value:"Single",children:"Single"}),r.jsx(Be,{value:"In Relationship",children:"In Relationship"})]})})]}),r.jsx(vn,{component:"li"}),r.jsxs(ut,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",width:"100%",mb:1},children:[r.jsx(Ht,{sx:{minWidth:40},children:r.jsx(xP,{sx:{color:"primary.main"}})}),r.jsx(R,{variant:"body2",fontWeight:500,children:"Wellness Categories"})]}),r.jsxs(L,{sx:{ml:5,width:"calc(100% - 40px)"},children:[r.jsx(R,{variant:"caption",color:"text.secondary",sx:{mb:1,display:"block"},children:"Select categories for personalized wellness tasks"}),r.jsx(_e,{spacing:.5,children:de.map(te=>r.jsx(Fd,{control:r.jsx(ar,{size:"small",checked:(a.wellnessCategories||[]).includes(te),onChange:()=>Pe(te),color:"primary"}),label:r.jsx(R,{variant:"caption",children:te}),sx:{m:0}},te))})]})]}),r.jsx(vn,{component:"li"})]}),a.pushNotificationsEnabled&&r.jsxs(r.Fragment,{children:[r.jsxs(ut,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",width:"100%",mb:.5},children:[r.jsx(Ht,{sx:{minWidth:40},children:r.jsx(Lm,{sx:{color:"primary.main"}})}),r.jsx(R,{variant:"body2",fontWeight:500,children:"Morning Notification Time"})]}),r.jsxs(L,{sx:{ml:5,display:"flex",gap:1},children:[r.jsx(Ut,{size:"small",sx:{minWidth:80},children:r.jsx(Gt,{value:a.morningNotificationTime?.hour||8,onChange:te=>l("morningNotificationTime",{...a.morningNotificationTime,hour:te.target.value}),children:Array.from({length:24},(te,ee)=>r.jsx(Be,{value:ee,children:ee.toString().padStart(2,"0")},ee))})}),r.jsx(R,{variant:"body2",sx:{alignSelf:"center"},children:":"}),r.jsx(Ut,{size:"small",sx:{minWidth:80},children:r.jsx(Gt,{value:a.morningNotificationTime?.minute||0,onChange:te=>l("morningNotificationTime",{...a.morningNotificationTime,minute:te.target.value}),children:[0,15,30,45].map(te=>r.jsx(Be,{value:te,children:te.toString().padStart(2,"0")},te))})})]})]}),r.jsx(vn,{component:"li"}),r.jsxs(ut,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between",mb:1},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(Ht,{sx:{minWidth:40},children:r.jsx(Hc,{sx:{color:"primary.main"}})}),r.jsx(R,{variant:"body2",fontWeight:500,children:"Follow-up Notifications"})]}),r.jsx(ar,{checked:a.enableFollowupNotifications??!0,onChange:te=>l("enableFollowupNotifications",te.target.checked),color:"primary"})]}),a.enableFollowupNotifications&&r.jsxs(r.Fragment,{children:[r.jsx(R,{variant:"caption",color:"text.secondary",sx:{ml:5,mb:.5,display:"block"},children:"Daily tasks: 9 PM | Weekly tasks: Saturday morning"}),r.jsxs(L,{sx:{ml:5,display:"flex",gap:1,alignItems:"center"},children:[r.jsx(R,{variant:"caption",children:"Follow-up time:"}),r.jsx(Ut,{size:"small",sx:{minWidth:80},children:r.jsx(Gt,{value:a.followupNotificationTime?.hour||21,onChange:te=>l("followupNotificationTime",{...a.followupNotificationTime,hour:te.target.value}),children:Array.from({length:24},(te,ee)=>r.jsx(Be,{value:ee,children:ee.toString().padStart(2,"0")},ee))})}),r.jsx(R,{variant:"body2",children:":"}),r.jsx(Ut,{size:"small",sx:{minWidth:80},children:r.jsx(Gt,{value:a.followupNotificationTime?.minute||0,onChange:te=>l("followupNotificationTime",{...a.followupNotificationTime,minute:te.target.value}),children:[0,15,30,45].map(te=>r.jsx(Be,{value:te,children:te.toString().padStart(2,"0")},te))})})]})]})]})]})]})]})}),r.jsx(nt,{sx:{borderRadius:2,boxShadow:3},children:r.jsxs(ct,{sx:{p:0},children:[r.jsx(R,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"Data & Privacy"}),r.jsxs(Gn,{sx:{py:0},children:[r.jsx(ut,{disablePadding:!0,children:r.jsxs(Ni,{onClick:Ce,sx:{py:1},children:[r.jsx(Ht,{sx:{minWidth:40},children:r.jsx(NC,{sx:{color:"primary.main"}})}),r.jsx(jt,{primary:"Export Data",primaryTypographyProps:{fontWeight:500}})]})}),r.jsx(vn,{component:"li"}),A&&r.jsxs(r.Fragment,{children:[r.jsx(ut,{disablePadding:!0,children:r.jsxs(Ni,{onClick:he,sx:{py:1},children:[r.jsx(Ht,{sx:{minWidth:40},children:r.jsx(Bm,{sx:{color:"success.main"}})}),r.jsx(jt,{primary:"Recover Data",primaryTypographyProps:{fontWeight:500}}),r.jsx(dr,{sx:{color:"text.secondary"}})]})}),r.jsx(vn,{component:"li"})]}),r.jsx(ut,{disablePadding:!0,children:r.jsxs(Ni,{onClick:we,disabled:!P?.hasData,sx:{py:1},children:[r.jsx(Ht,{sx:{minWidth:40},children:r.jsx(bP,{sx:{color:P?.hasData?"error.main":"text.disabled"}})}),r.jsx(jt,{primary:"Reset Personal Data",primaryTypographyProps:{fontWeight:500}}),r.jsx(dr,{sx:{color:"text.secondary"}})]})}),r.jsx(vn,{component:"li"}),r.jsxs(ut,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",width:"100%",mb:.5},children:[r.jsx(Ht,{sx:{minWidth:40},children:r.jsx(vP,{sx:{color:"primary.main"}})}),r.jsx(R,{variant:"body2",fontWeight:500,children:"Privacy"})]}),r.jsx(L,{sx:{ml:5,width:"calc(100% - 40px)"},children:h?r.jsx($t,{severity:"info",sx:{py:.5,fontSize:"0.8rem"},children:"Create an account to access cloud sync and data privacy features"}):r.jsx($t,{severity:"success",sx:{py:.5,fontSize:"0.8rem"},children:"Your data is securely stored in Firebase and synced across your devices"})})]})]})]})}),r.jsx(L,{sx:{mt:2},children:r.jsx(R,{variant:"body2",color:"text.secondary",sx:{textAlign:"center"},children:"Your preferences are saved automatically"})})]})]}),P&&r.jsx(FE,{open:S,onClose:Q,onConfirm:J,resetInfo:P}),A&&r.jsx(HE,{open:k,onClose:be,onRecover:ge,backup:A}),r.jsxs(Pn,{open:T,onClose:$,maxWidth:"xs",fullWidth:!0,children:[r.jsx(Un,{children:"Reset Week Counter?"}),r.jsx(On,{children:r.jsx(Wg,{children:"Are you sure you want to reset the week counter back to Week 1? This will re-enable automatic workout assignment."})}),r.jsxs(Rn,{children:[r.jsx(Ae,{onClick:$,color:"primary",children:"Cancel"}),r.jsx(Ae,{onClick:le,color:"primary",variant:"contained",children:"Continue"})]})]}),r.jsx(Hs,{open:_,autoHideDuration:6e3,onClose:ie,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx($t,{onClose:ie,severity:V,sx:{width:"100%"},children:I})})]})};GE.propTypes={onNavigate:E.func};const $E=[{id:"preset-1",color:"#1db584",label:"Primary Teal"},{id:"preset-2",color:"#18a071",label:"Dark Teal"},{id:"preset-3",color:"#2dd099",label:"Light Teal"},{id:"preset-4",color:"#ff8c00",label:"Orange"},{id:"preset-5",color:"#ffa333",label:"Light Orange"},{id:"preset-6",color:"#cc7000",label:"Dark Orange"},{id:"preset-7",color:"#ef5350",label:"Red"},{id:"preset-8",color:"#6b8a9d",label:"Blue Grey"}],Od=()=>"/goodlift/",KE=[{id:"doggo-1",url:`${Od()}avatars/doggo-1.jpeg`,label:"Percy"},{id:"doggo-2",url:`${Od()}avatars/doggo-2.jpeg`,label:"Leo"},{id:"doggo-3",url:`${Od()}avatars/doggo-3.jpeg`,label:"Monty"},{id:"doggo-4",url:`${Od()}avatars/doggo-4.jpeg`,label:"Whiskey"}],t9=e=>e?e.startsWith("preset-")||e.startsWith("doggo-"):!1,n9=e=>e?e.startsWith("doggo-"):!1,s9=e=>{const t=$E.find(s=>s.id===e);return t?t.color:null},i9=e=>{const t=KE.find(s=>s.id===e);return t?t.url:null},mC=(e,t="#ff8c00")=>({display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",backgroundColor:t,color:"#ffffff",fontWeight:700,fontSize:"2rem",textTransform:"uppercase"}),QE=({open:e,onClose:t,onSelect:s,currentAvatar:a,initials:l})=>{const[u,d]=x.useState(a),[h,p]=x.useState(0),g=(w,T)=>{p(T)},y=w=>{d(w)},b=w=>{d(w)},v=()=>{u&&(s(u),t())},S=()=>{d(a),t()},j=w=>{const T=u===w.id;return r.jsx(Jt,{item:!0,xs:4,sm:3,children:r.jsxs(L,{onClick:()=>y(w.id),sx:{cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:1,p:1,borderRadius:2,border:2,borderColor:T?"primary.main":"transparent",bgcolor:T?"action.selected":"transparent",transition:"all 0.2s","&:hover":{bgcolor:"action.hover"}},children:[r.jsx(Do,{sx:{width:60,height:60,bgcolor:w.color,fontSize:"1.5rem",fontWeight:700},children:l}),r.jsx(R,{variant:"caption",color:"text.secondary",children:w.label})]})},w.id)},k=w=>{const T=u===w.id;return r.jsx(Jt,{item:!0,xs:6,sm:3,children:r.jsxs(L,{onClick:()=>b(w.id),sx:{cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:1,p:1,borderRadius:2,border:2,borderColor:T?"primary.main":"transparent",bgcolor:T?"action.selected":"transparent",transition:"all 0.2s","&:hover":{bgcolor:"action.hover"}},children:[r.jsx(Do,{src:w.url,sx:{width:80,height:80}}),r.jsx(R,{variant:"caption",color:"text.secondary",children:w.label})]})},w.id)};return r.jsxs(Pn,{open:e,onClose:S,maxWidth:"sm",fullWidth:!0,children:[r.jsx(Un,{children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[r.jsx(R,{variant:"h6",children:"Choose Avatar"}),r.jsx(Xe,{onClick:S,size:"small",children:r.jsx(gh,{})})]})}),r.jsxs(On,{children:[r.jsxs(Fc,{value:h,onChange:g,sx:{mb:2},children:[r.jsx(zi,{label:"Preset Avatars"}),r.jsx(zi,{label:"Doggos"})]}),h===0&&r.jsx(L,{sx:{mt:2},children:r.jsx(Jt,{container:!0,spacing:2,children:$E.map(w=>j(w))})}),h===1&&r.jsxs(L,{sx:{mt:2},children:[r.jsx(R,{variant:"body2",color:"text.secondary",gutterBottom:!0,sx:{mb:2},children:"Select a doggo as your avatar"}),r.jsx(Jt,{container:!0,spacing:2,children:KE.map(w=>k(w))})]})]}),r.jsxs(Rn,{sx:{p:2,pt:0},children:[r.jsx(Ae,{onClick:S,color:"inherit",children:"Cancel"}),r.jsx(Ae,{onClick:v,variant:"contained",disabled:!u,children:"Save"})]})]})};QE.propTypes={open:E.bool.isRequired,onClose:E.func.isRequired,onSelect:E.func.isRequired,currentAvatar:E.string,initials:E.string.isRequired};const a9=()=>{const{profile:e,stats:t,loading:s,saveProfile:a,updateProfile:l,getInitials:u,getProfileCompletion:d}=Dx(),[h,p]=x.useState(!1),[g,y]=x.useState(!1),[b,v]=x.useState(e),[S,j]=x.useState({}),[k,w]=x.useState(null);x.useEffect(()=>{v(e)},[e]);const T=()=>{p(!0),j({}),w(null)},D=()=>{p(!1),v(e),j({}),w(null)},A=async()=>{const N={},I=_7(b.displayName);I.valid||(N.displayName=I.error);const H=pC(b.bio,500);H.valid||(N.bio=H.error);const V=pC(b.goals,500);if(V.valid||(N.goals=V.error),Object.keys(N).length>0){j(N);return}try{const B={...b,displayName:Im(b.displayName),bio:Im(b.bio),goals:Im(b.goals)};await a(B),p(!1),w(null)}catch(B){console.error("Error saving profile:",B),w("Failed to save profile. Please try again.")}},W=(N,I)=>{v({...b,[N]:I}),S[N]&&j({...S,[N]:null})},P=async N=>{try{await l("avatar",N),v({...b,avatar:N})}catch(I){console.error("Error updating avatar:",I),w("Failed to update avatar. Please try again.")}},O=()=>{const N=u(),I=100;if(e.avatar)if(n9(e.avatar)){const H=i9(e.avatar);return r.jsx(Do,{src:H,sx:{width:I,height:I}})}else if(t9(e.avatar)){const H=s9(e.avatar);return r.jsx(Do,{sx:{width:I,height:I,...mC(N,H),fontSize:"2.5rem"},children:N})}else return r.jsx(Do,{src:e.avatar,sx:{width:I,height:I}});return r.jsx(Do,{sx:{width:I,height:I,...mC(),fontSize:"2.5rem"},children:N})},_=d();return s?r.jsx(L,{sx:{p:3},children:r.jsxs(R,{color:"text.secondary",children:["Loading profile",r.jsx($e.span,{initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:"..."})]})}):r.jsxs(L,{sx:{minHeight:"100vh",padding:{xs:2,sm:3,md:4},paddingBottom:{xs:"80px",sm:3,md:4},background:N=>N.palette.background.default},children:[r.jsxs($e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsx(R,{variant:"h4",sx:{mb:3,fontWeight:700,color:"text.primary"},children:"Profile"}),r.jsx(nt,{sx:{mb:3,borderRadius:2},children:r.jsxs(ct,{sx:{p:3},children:[r.jsxs(L,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:3,mb:3},children:[r.jsxs(L,{sx:{position:"relative",alignSelf:{xs:"center",sm:"flex-start"}},children:[r.jsx(L,{sx:{borderRadius:"50%",overflow:"hidden",width:100,height:100,border:"2px solid",borderColor:"divider"},children:O()}),r.jsx(Xe,{onClick:()=>y(!0),size:"small",sx:{position:"absolute",bottom:-4,right:-4,bgcolor:"primary.main",color:"white",boxShadow:2,"&:hover":{bgcolor:"primary.dark",boxShadow:4}},children:r.jsx(SP,{fontSize:"small"})})]}),r.jsxs(L,{sx:{flex:1},children:[h?r.jsx(gt,{fullWidth:!0,label:"Display Name",value:b.displayName,onChange:N=>W("displayName",N.target.value),error:!!S.displayName,helperText:S.displayName,sx:{mb:2}}):r.jsx(R,{variant:"h5",fontWeight:700,gutterBottom:!0,children:e.displayName||"Unknown User"}),r.jsx(R,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:e.email}),r.jsxs(R,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Member since ",I7(e.memberSince)]}),r.jsxs(L,{sx:{mt:2},children:[r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[r.jsx(R,{variant:"body2",fontWeight:600,children:"Profile Completion"}),r.jsxs(R,{variant:"body2",fontWeight:600,children:[_,"%"]})]}),r.jsx(Yi,{variant:"determinate",value:_,sx:{height:8,borderRadius:4}})]})]}),r.jsx(L,{children:h?r.jsxs(_e,{direction:"row",spacing:1,children:[r.jsx(Xe,{color:"primary",onClick:A,children:r.jsx(jo,{})}),r.jsx(Xe,{onClick:D,children:r.jsx(zC,{})})]}):r.jsx(Xe,{color:"primary",onClick:T,children:r.jsx(wr,{})})})]}),k&&r.jsx($t,{severity:"error",sx:{mb:2},children:k}),r.jsxs(L,{sx:{mb:2},children:[r.jsx(R,{variant:"subtitle2",fontWeight:600,gutterBottom:!0,children:"Bio"}),h?r.jsx(gt,{fullWidth:!0,multiline:!0,rows:3,value:b.bio,onChange:N=>W("bio",N.target.value),error:!!S.bio,helperText:S.bio||`${b.bio.length}/500`,placeholder:"Tell us about yourself..."}):r.jsx(R,{variant:"body2",color:"text.secondary",children:e.bio||"No bio yet"})]}),r.jsxs(L,{children:[r.jsx(R,{variant:"subtitle2",fontWeight:600,gutterBottom:!0,children:"Fitness Goals"}),h?r.jsx(gt,{fullWidth:!0,multiline:!0,rows:3,value:b.goals,onChange:N=>W("goals",N.target.value),error:!!S.goals,helperText:S.goals||`${b.goals.length}/500`,placeholder:"What are your fitness goals?"}):r.jsx(R,{variant:"body2",color:"text.secondary",children:e.goals||"No goals set yet"})]}),r.jsxs(L,{sx:{mt:2},children:[r.jsx(R,{variant:"subtitle2",fontWeight:600,gutterBottom:!0,children:"Target Weight"}),h?r.jsxs(_e,{direction:"row",spacing:2,alignItems:"flex-start",children:[r.jsx(gt,{type:"number",label:"Target Weight",value:b.targetWeight||"",onChange:N=>W("targetWeight",N.target.value?parseFloat(N.target.value):null),inputProps:{step:.1,min:0},sx:{flex:1,maxWidth:200}}),r.jsxs(Ut,{size:"small",sx:{minWidth:80},children:[r.jsx(An,{children:"Unit"}),r.jsxs(Gt,{value:b.weightUnit||"lbs",onChange:N=>W("weightUnit",N.target.value),label:"Unit",children:[r.jsx(Be,{value:"lbs",children:"lbs"}),r.jsx(Be,{value:"kg",children:"kg"})]})]})]}):r.jsx(R,{variant:"body2",color:"text.secondary",children:e.targetWeight?`${e.targetWeight} ${e.weightUnit||"lbs"}`:"No target weight set"})]})]})}),r.jsxs(Jt,{container:!0,spacing:3,sx:{mb:3},children:[r.jsx(Jt,{item:!0,xs:6,sm:4,children:r.jsx(nt,{children:r.jsxs(ct,{children:[r.jsx(R,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Total Workouts"}),r.jsx(R,{variant:"h4",fontWeight:700,children:t.totalWorkouts})]})})}),r.jsx(Jt,{item:!0,xs:6,sm:4,children:r.jsx(nt,{children:r.jsxs(ct,{children:[r.jsx(R,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Current Streak"}),r.jsx(R,{variant:"h4",fontWeight:700,color:"warning.main",children:t.currentStreak}),r.jsx(R,{variant:"caption",color:"text.secondary",children:"days"})]})})}),r.jsx(Jt,{item:!0,xs:6,sm:4,children:r.jsx(nt,{children:r.jsxs(ct,{children:[r.jsx(R,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Longest Streak"}),r.jsx(R,{variant:"h4",fontWeight:700,children:t.longestStreak}),r.jsx(R,{variant:"caption",color:"text.secondary",children:"days"})]})})}),r.jsx(Jt,{item:!0,xs:6,sm:4,children:r.jsx(nt,{children:r.jsxs(ct,{children:[r.jsx(R,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Total PRs"}),r.jsx(R,{variant:"h4",fontWeight:700,color:"success.main",children:t.totalPRs})]})})}),r.jsx(Jt,{item:!0,xs:6,sm:4,children:r.jsx(nt,{children:r.jsxs(ct,{children:[r.jsx(R,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Wellness Tasks"}),r.jsx(R,{variant:"h4",fontWeight:700,color:"secondary.main",children:t.completedWellnessTasks||0}),r.jsx(R,{variant:"caption",color:"text.secondary",children:"completed"})]})})}),r.jsx(Jt,{item:!0,xs:12,sm:8,children:r.jsx(nt,{children:r.jsxs(ct,{children:[r.jsx(R,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Favorite Exercise"}),r.jsx(mt,{label:t.favoriteExercise||"No data yet",color:"primary",sx:{mt:1}})]})})})]})]}),r.jsx(QE,{open:g,onClose:()=>y(!1),onSelect:P,currentAvatar:e.avatar,initials:u()})]})},Dg=({currentType:e,onChange:t,compact:s=!1})=>{const[a,l]=x.useState(!1),u={strength:[{value:"full",label:"Full Body",shortLabel:"Full"},{value:"upper",label:"Upper Body",shortLabel:"Upper"},{value:"lower",label:"Lower Body",shortLabel:"Lower"},{value:"push",label:"Push",shortLabel:"Push"},{value:"pull",label:"Pull",shortLabel:"Pull"},{value:"legs",label:"Legs",shortLabel:"Legs"},{value:"core",label:"Core",shortLabel:"Core"}],cardio:[{value:"cardio",label:"Cardio",shortLabel:"Cardio"},{value:"hiit",label:"HIIT",shortLabel:"HIIT"}],flexibility:[{value:"yoga",label:"Yoga",shortLabel:"Yoga"},{value:"mobility",label:"Mobility",shortLabel:"Mobility"},{value:"stretch",label:"Stretching",shortLabel:"Stretch"}],rest:[{value:"rest",label:"Rest Day",shortLabel:"Rest"}]},d=y=>({strength:r.jsx(fn,{fontSize:"small"}),cardio:r.jsx(mi,{fontSize:"small"}),flexibility:r.jsx(ti,{fontSize:"small"}),rest:r.jsx(fh,{fontSize:"small"})})[y],p=(()=>{for(const[y,b]of Object.entries(u))if(b.some(v=>v.value===e))return y;return"strength"})(),g=(y,b)=>{b!==null&&b!==e&&t(b)};return s?r.jsxs(L,{children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",p:1.5,borderRadius:1,bgcolor:"background.paper",border:1,borderColor:"divider","&:hover":{bgcolor:"action.hover"}},onClick:()=>l(!a),children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[d(p),r.jsx(R,{variant:"body2",fontWeight:600,children:"Session Type:"}),r.jsx(mt,{label:u[p].find(y=>y.value===e)?.label||e,size:"small",color:"primary"})]}),a?r.jsx(DC,{}):r.jsx(Da,{})]}),r.jsx(Vd,{in:a,children:r.jsx(L,{sx:{pt:2},children:Object.entries(u).map(([y,b])=>r.jsxs(L,{sx:{mb:2},children:[r.jsxs(R,{variant:"caption",color:"text.secondary",sx:{display:"flex",alignItems:"center",gap:.5,mb:1},children:[d(y),y.charAt(0).toUpperCase()+y.slice(1)]}),r.jsx(zd,{value:e,exclusive:!0,onChange:g,size:"small",fullWidth:!0,sx:{display:"flex",flexWrap:"wrap",gap:.5,"& .MuiToggleButton-root":{flex:"1 1 auto",minWidth:"fit-content"}},children:b.map(v=>r.jsx(Zs,{value:v.value,children:v.shortLabel},v.value))})]},y))})})]}):r.jsxs(L,{children:[r.jsx(R,{variant:"subtitle2",sx:{mb:2,fontWeight:600},children:"Quick Toggle Session Type"}),r.jsx(_e,{spacing:2,children:Object.entries(u).map(([y,b])=>r.jsxs(L,{children:[r.jsxs(R,{variant:"caption",color:"text.secondary",sx:{display:"flex",alignItems:"center",gap:.5,mb:1},children:[d(y),y.charAt(0).toUpperCase()+y.slice(1)]}),r.jsx(zd,{value:e,exclusive:!0,onChange:g,size:"small",fullWidth:!0,sx:{display:"flex",flexWrap:"wrap",gap:.5,"& .MuiToggleButton-root":{flex:{xs:"1 1 45%",sm:"1 1 auto"},minWidth:"fit-content"}},children:b.map(v=>r.jsx($n,{title:v.label,arrow:!0,children:r.jsx(Zs,{value:v.value,children:v.shortLabel})},v.value))})]},y))})]})};Dg.propTypes={currentType:E.string.isRequired,onChange:E.func.isRequired,compact:E.bool};const gC=e=>{const t=e.toLowerCase();return["full","upper","lower","push","pull","legs","core"].includes(t)?{sessionType:t,sessionName:yC(t),exercises:[],supersetConfig:[2,2,2,2],assignedDate:new Date().toISOString(),instructions:"Complete all exercises in each superset before moving to the next. Rest 60-90 seconds between supersets."}:["cardio","hiit","yoga","mobility","stretch"].includes(t)?{sessionType:t,sessionName:yC(t),timerConfig:{duration:r9(t),intensity:"moderate",notes:""},assignedDate:new Date().toISOString(),instructions:o9(t)}:t==="rest"?{sessionType:"rest",sessionName:"Rest Day",assignedDate:new Date().toISOString(),instructions:"Take a break and recover. Your body needs rest to grow stronger!"}:{sessionType:t,sessionName:t.charAt(0).toUpperCase()+t.slice(1),assignedDate:new Date().toISOString()}},yC=e=>({full:"Full Body",upper:"Upper Body",lower:"Lower Body",push:"Push",pull:"Pull",legs:"Legs",core:"Core",cardio:"Cardio",hiit:"HIIT",yoga:"Yoga",mobility:"Mobility",stretch:"Stretching",rest:"Rest Day"})[e]||e.charAt(0).toUpperCase()+e.slice(1),r9=e=>({cardio:30,hiit:20,yoga:45,mobility:20,stretch:15})[e]||30,o9=e=>({cardio:"Maintain a steady pace throughout the session. Focus on breathing and form.",hiit:"Alternate between high-intensity intervals and rest periods. Push yourself during work intervals.",yoga:"Flow through poses with controlled breathing. Focus on alignment and balance.",mobility:"Move through your full range of motion. Hold stretches for 30-60 seconds.",stretch:"Gently stretch each muscle group. Hold each stretch for 20-30 seconds without bouncing."})[e]||"Follow your workout plan and listen to your body.",Rd=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],XE=({onNavigate:e})=>{const{weeklySchedule:t,assignWorkoutToDay:s,loading:a}=Na(),[l,u]=x.useState("Sunday"),[d,h]=x.useState({}),[p,g]=x.useState({}),[y,b]=x.useState([]),[v,S]=x.useState({open:!1,message:"",severity:"info"}),[j,k]=x.useState(!1),[w,T]=x.useState(null);x.useEffect(()=>{(async()=>{try{const oe=await(await fetch(_h)).json();b(oe)}catch(Y){console.error("Error loading exercises:",Y),b([])}})()},[]);const D=x.useCallback(async(ie,Y=[2,2,2,2])=>{if(!ie||ie.length===0)return[];const oe=[];let $=0,le=0;for(const ye of Y){for(let Pe=0;Pe<ye&&$<ie.length;Pe++){const pe=ie[$];if(pe.id&&pe.supersetGroup!==void 0&&pe.sets){oe.push(pe),$++;continue}const te=pe["Exercise Name"]||pe.exerciseName||pe.name,[ee,Ne]=await Promise.all([Ma(te),Fi(te)]),ot={id:pe.id||`ex_${Date.now()}_${$}_${Math.random().toString(36).substring(2,9)}`,name:te,exerciseName:te,supersetGroup:le,muscleGroup:pe["Primary Muscle"]||pe.muscleGroup||pe.category,equipment:pe.Equipment||pe.equipment,category:pe["Primary Muscle"]||pe.muscleGroup||pe.category,sets:pe.sets||[{weight:ee||0,reps:Ne||10},{weight:ee||0,reps:Ne||10},{weight:ee||0,reps:Ne||10}]};oe.push(ot),$++}le++}for(;$<ie.length;){const ye=ie[$];if(ye.id&&ye.supersetGroup!==void 0&&ye.sets){oe.push(ye),$++;continue}const Pe=ye["Exercise Name"]||ye.exerciseName||ye.name,[pe,te]=await Promise.all([Ma(Pe),Fi(Pe)]),ee={id:ye.id||`ex_${Date.now()}_${$}_${Math.random().toString(36).substring(2,9)}`,name:Pe,exerciseName:Pe,supersetGroup:le,muscleGroup:ye["Primary Muscle"]||ye.muscleGroup||ye.category,equipment:ye.Equipment||ye.equipment,category:ye["Primary Muscle"]||ye.muscleGroup||ye.category,sets:ye.sets||[{weight:pe||0,reps:te||10},{weight:pe||0,reps:te||10},{weight:pe||0,reps:te||10}]};oe.push(ee),$++,le++}return oe},[]);x.useEffect(()=>{if(a)return;(async()=>{const Y={};for(const oe of Rd)if(t[oe]){const $=JSON.parse(JSON.stringify(t[oe]));if($.exercises&&Array.isArray($.exercises)&&$.exercises.length>0){const le=$.supersetConfig||[2,2,2,2];$.exercises=await D($.exercises,le)}Y[oe]=$}else Y[oe]=null;h(Y)})()},[t,a,D]);const A=ie=>ie?ie.sessionType?.toLowerCase():null,W=ie=>ie?["full","upper","lower","push","pull","legs","core"].includes(ie):!1,P=ie=>ie?["cardio","hiit","yoga","mobility","stretch"].includes(ie):!1,O=ie=>ie==="rest",_=(ie,Y)=>{p[l]?(T(Y),k(!0)):u(Y)},N=()=>{k(!1),w&&(u(w),T(null))},I=()=>{k(!1),T(null)},H=()=>{const ie=d[l];if(!ie||!W(A(ie)))return;const Y=ie.exercises||[],oe=Y.length>0?Math.max(...Y.map(le=>le.supersetGroup||0)):-1,$=[...Y,{id:`ex_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,name:null,exerciseName:null,supersetGroup:oe+1,sets:[{weight:0,reps:10},{weight:0,reps:10},{weight:0,reps:10}]},{id:`ex_${Date.now()+1}_${Math.random().toString(36).substring(2,9)}`,name:null,exerciseName:null,supersetGroup:oe+1,sets:[{weight:0,reps:10},{weight:0,reps:10},{weight:0,reps:10}]}];h(le=>({...le,[l]:{...ie,exercises:$}})),g(le=>({...le,[l]:!0}))},V=ie=>{const Y=d[l];if(!Y)return;const oe=Y.exercises.filter($=>$.supersetGroup!==ie);h($=>({...$,[l]:{...Y,exercises:oe}})),g($=>({...$,[l]:!0}))},B=ie=>{const Y=d[l];if(!Y)return;const oe={id:`ex_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,name:null,exerciseName:null,supersetGroup:ie,sets:[{weight:0,reps:10},{weight:0,reps:10},{weight:0,reps:10}]};h($=>({...$,[l]:{...Y,exercises:[...Y.exercises,oe]}})),g($=>({...$,[l]:!0}))},de=ie=>{const Y=d[l];if(!Y)return;const oe=Y.exercises.filter($=>$.id!==ie);h($=>({...$,[l]:{...Y,exercises:oe}})),g($=>({...$,[l]:!0}))},q=x.useCallback(async(ie,Y)=>{const oe=d[l];if(!oe||!Y)return;const $=oe.exercises.map(te=>te.id===ie?{...te,name:Y["Exercise Name"],exerciseName:Y["Exercise Name"],muscleGroup:Y["Primary Muscle"]||Y["Muscle Group"],equipment:Y.Equipment,category:Y["Primary Muscle"]||Y["Muscle Group"]}:te),le=Y["Exercise Name"],[ye,Pe]=await Promise.all([Ma(le),Fi(le)]),pe=$.map(te=>te.id===ie?{...te,sets:te.sets.map(ee=>({weight:ye??ee.weight,reps:Pe??ee.reps}))}:te);h(te=>({...te,[l]:{...oe,exercises:pe}})),g(te=>({...te,[l]:!0}))},[d,l]),ae=(ie,Y,oe,$)=>{const le=d[l];if(!le)return;const ye=le.exercises.map(Pe=>{if(Pe.id===ie){const pe=[...Pe.sets];return pe[Y]={...pe[Y],[oe]:parseFloat($)||0},{...Pe,sets:pe}}return Pe});h(Pe=>({...Pe,[l]:{...le,exercises:ye}})),g(Pe=>({...Pe,[l]:!0}))},z=(ie,Y)=>{const oe=d[l];oe&&(h($=>({...$,[l]:{...oe,timerConfig:{...oe.timerConfig,[ie]:Y}}})),g($=>({...$,[l]:!0})))},U=ie=>{if(!d[l]){const $=gC(ie);h(le=>({...le,[l]:$})),g(le=>({...le,[l]:!0})),S({open:!0,message:`Session type changed to ${$.sessionName}`,severity:"success"});return}const oe=gC(ie);h($=>({...$,[l]:oe})),g($=>({...$,[l]:!0})),S({open:!0,message:`Session type changed to ${oe.sessionName}. Previous data has been replaced.`,severity:"info"})},ue=async()=>{try{for(const ie of Rd)if(p[ie]){const Y=d[ie];if(Y&&Y.exercises&&Array.isArray(Y.exercises)){const oe={};Y.exercises.forEach(le=>{const ye=le.supersetGroup??0;oe[ye]=(oe[ye]||0)+1});const $=Object.keys(oe).sort((le,ye)=>parseInt(le)-parseInt(ye)).map(le=>oe[le]);Y.supersetConfig=$.length>0?$:[2,2,2,2]}await s(ie,Y)}g({}),S({open:!0,message:"All changes saved successfully!",severity:"success"})}catch(ie){console.error("Error saving changes:",ie),S({open:!0,message:"Failed to save changes. Please try again.",severity:"error"})}},fe=()=>{const ie={};Rd.forEach(Y=>{t[Y]?ie[Y]=JSON.parse(JSON.stringify(t[Y])):ie[Y]=null}),h(ie),g({}),S({open:!0,message:"All changes discarded",severity:"info"})},Ce=ie=>{if(!ie||ie.length===0)return[];const Y={};return ie.forEach(oe=>{const $=oe.supersetGroup??0;Y[$]||(Y[$]=[]),Y[$].push(oe)}),Object.entries(Y).sort(([oe],[$])=>parseInt(oe)-parseInt($))},we=d[l],Q=A(we),J=W(Q),he=P(Q),be=O(Q),ge=Object.values(p).some(ie=>ie);return a?r.jsx(L,{sx:{minHeight:"100vh",padding:{xs:2,sm:3},display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(R,{variant:"h6",color:"text.secondary",children:"Loading schedule..."})}):r.jsxs(L,{sx:{minHeight:"100vh",padding:{xs:2,sm:3},paddingBottom:{xs:"80px",sm:3},background:ie=>ie.palette.background.default},children:[r.jsxs($e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsxs(L,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[r.jsx(Xe,{onClick:()=>e?.("settings"),sx:{color:"primary.main"},children:r.jsx(Ng,{})}),r.jsxs(L,{sx:{flex:1},children:[r.jsx(R,{variant:"h4",sx:{fontWeight:700,color:"text.primary"},children:"Edit Weekly Schedule"}),r.jsx(R,{variant:"body2",color:"text.secondary",children:"Customize your workouts for each day of the week"})]}),ge&&r.jsx(mt,{label:"Unsaved Changes",color:"warning",size:"small",sx:{display:{xs:"none",sm:"flex"}}})]}),r.jsx(nt,{sx:{mb:3},children:r.jsx(Fc,{value:l,onChange:_,variant:"scrollable",scrollButtons:"auto",sx:{borderBottom:1,borderColor:"divider","& .MuiTab-root":{minWidth:{xs:80,sm:100}}},children:Rd.map(ie=>r.jsx(zi,{value:ie,label:r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:.5},children:[ie.substring(0,3),p[ie]&&r.jsx(L,{sx:{width:6,height:6,borderRadius:"50%",bgcolor:"warning.main"}})]})},ie))})}),r.jsxs(L,{sx:{maxWidth:900,mx:"auto"},children:[we&&r.jsx(nt,{sx:{mb:3},children:r.jsx(ct,{children:r.jsx(Dg,{currentType:Q||"full",onChange:U,compact:!0})})}),!we&&r.jsxs(nt,{sx:{p:4,textAlign:"center"},children:[r.jsxs(R,{variant:"h6",color:"text.secondary",children:["No workout assigned for ",l]}),r.jsx(R,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Use the quick toggle below to assign a workout type"}),r.jsx(L,{sx:{mt:3,maxWidth:600,mx:"auto"},children:r.jsx(Dg,{currentType:"full",onChange:U,compact:!1})})]}),be&&r.jsxs(nt,{sx:{p:6,textAlign:"center"},children:[r.jsx(fh,{sx:{fontSize:80,color:"text.secondary",mb:2}}),r.jsx(R,{variant:"h4",sx:{fontWeight:700,color:"text.primary"},children:"Rest Day"}),r.jsx(R,{variant:"body1",color:"text.secondary",sx:{mt:2},children:"Take a break and recover. Your body needs rest to grow stronger!"})]}),he&&r.jsx(nt,{children:r.jsxs(ct,{children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[r.jsx(Hc,{sx:{fontSize:40,color:"primary.main"}}),r.jsxs(L,{children:[r.jsx(R,{variant:"h5",sx:{fontWeight:700},children:"Timer Configuration"}),r.jsxs(R,{variant:"body2",color:"text.secondary",children:["Set duration for your ",we.sessionName||Q," session"]})]})]}),r.jsxs(_e,{spacing:3,children:[r.jsxs(Ut,{fullWidth:!0,children:[r.jsx(An,{children:"Duration (minutes)"}),r.jsxs(Gt,{value:we.timerConfig?.duration||30,label:"Duration (minutes)",onChange:ie=>z("duration",ie.target.value),children:[r.jsx(Be,{value:15,children:"15 minutes"}),r.jsx(Be,{value:20,children:"20 minutes"}),r.jsx(Be,{value:30,children:"30 minutes"}),r.jsx(Be,{value:45,children:"45 minutes"}),r.jsx(Be,{value:60,children:"60 minutes"})]})]}),r.jsxs(Ut,{fullWidth:!0,children:[r.jsx(An,{children:"Intensity"}),r.jsxs(Gt,{value:we.timerConfig?.intensity||"moderate",label:"Intensity",onChange:ie=>z("intensity",ie.target.value),children:[r.jsx(Be,{value:"light",children:"Light"}),r.jsx(Be,{value:"moderate",children:"Moderate"}),r.jsx(Be,{value:"vigorous",children:"Vigorous"})]})]}),r.jsx(gt,{label:"Notes (optional)",multiline:!0,rows:3,value:we.timerConfig?.notes||"",onChange:ie=>z("notes",ie.target.value),placeholder:"Add any notes or goals for this session..."})]})]})}),J&&r.jsxs(_e,{spacing:3,children:[r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx(R,{variant:"h6",sx:{fontWeight:600},children:"Supersets"}),r.jsx(Ae,{variant:"outlined",startIcon:r.jsx(gi,{}),onClick:H,size:"small",children:"Add Superset"})]}),Ce(we.exercises).map(([ie,Y],oe)=>r.jsx(nt,{sx:{borderLeft:3,borderColor:"primary.main"},children:r.jsxs(ct,{children:[r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[r.jsx(mt,{label:`Superset ${oe+1}`,color:"primary",size:"small"}),r.jsxs(L,{sx:{display:"flex",gap:1},children:[r.jsx(Xe,{size:"small",color:"primary",onClick:()=>B(parseInt(ie)),title:"Add exercise to this superset",children:r.jsx(gi,{fontSize:"small"})}),r.jsx(Xe,{size:"small",color:"error",onClick:()=>V(parseInt(ie)),title:"Remove this superset",children:r.jsx(qo,{fontSize:"small"})})]})]}),r.jsx(_e,{spacing:2,children:Y.map(($,le)=>r.jsxs(L,{children:[le>0&&r.jsx(vn,{sx:{my:1}}),r.jsxs(L,{children:[r.jsxs(L,{sx:{display:"flex",alignItems:"flex-start",gap:2,mb:2},children:[r.jsx(R,{sx:{fontSize:"1.5rem",color:"primary.main",fontWeight:700,width:"32px",textAlign:"center",flexShrink:0},children:String.fromCharCode(65+le)}),r.jsx(L,{sx:{flex:1},children:r.jsx(Cx,{value:$.name?y.find(ye=>ye["Exercise Name"]===$.name):null,onChange:(ye,Pe)=>q($.id,Pe),availableExercises:y,label:"Exercise",placeholder:"Select exercise...",disabled:y.length===0})}),r.jsx(Xe,{size:"small",color:"error",onClick:()=>de($.id),sx:{mt:.5},children:r.jsx(Oa,{fontSize:"small"})})]}),$.name&&r.jsxs(L,{sx:{pl:5},children:[r.jsx(R,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"Sets"}),r.jsx(_e,{spacing:1,children:$.sets?.map((ye,Pe)=>r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsxs(R,{variant:"body2",sx:{minWidth:50,fontWeight:500},children:["Set ",Pe+1]}),r.jsx(gt,{type:"number",label:"Weight (lbs)",value:ye.weight,onChange:pe=>ae($.id,Pe,"weight",pe.target.value),size:"small",sx:{width:120},disabled:$.equipment?.toLowerCase()==="bodyweight"}),r.jsx(gt,{type:"number",label:"Reps",value:ye.reps,onChange:pe=>ae($.id,Pe,"reps",pe.target.value),size:"small",sx:{width:100}})]},Pe))})]})]})]},$.id))})]})},ie)),(!we.exercises||we.exercises.length===0)&&r.jsx(nt,{sx:{p:4,textAlign:"center"},children:r.jsx(R,{variant:"body1",color:"text.secondary",children:'No exercises in this workout. Click "Add Superset" to get started.'})})]}),we&&!be&&r.jsxs(L,{sx:{mt:4,display:"flex",gap:2,justifyContent:"center"},children:[r.jsx(Ae,{variant:"outlined",onClick:fe,disabled:!ge,children:"Discard Changes"}),r.jsx(Ae,{variant:"contained",startIcon:r.jsx(jo,{}),onClick:ue,disabled:!ge,children:"Save All Changes"})]})]})]}),r.jsxs(Pn,{open:j,onClose:I,children:[r.jsx(Un,{children:"Unsaved Changes"}),r.jsx(On,{children:r.jsxs(Wg,{children:["You have unsaved changes for ",l,`. These changes will be kept when you switch days, but they won't be saved until you click "Save All Changes".`]})}),r.jsxs(Rn,{children:[r.jsx(Ae,{onClick:I,children:"Cancel"}),r.jsx(Ae,{onClick:N,variant:"contained",children:"Continue"})]})]}),r.jsx(Hs,{open:v.open,autoHideDuration:6e3,onClose:()=>S({...v,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx($t,{onClose:()=>S({...v,open:!1}),severity:v.severity,sx:{width:"100%"},children:v.message})})]})};XE.propTypes={onNavigate:E.func};const ZE=({open:e,onClose:t,userId:s})=>{const[a,l]=x.useState(!1),[u,d]=x.useState(null),h=async()=>{if(!s){d("No user ID provided");return}l(!0),d(null);try{const g=TT(),y=[];g.workout_history&&g.workout_history.length>0&&y.push(Uc(s,g.workout_history)),g.user_stats&&y.push(vh(s,g.user_stats)),g.exercise_weights&&Object.keys(g.exercise_weights).length>0&&y.push(Qg(s,g.exercise_weights)),g.exercise_target_reps&&Object.keys(g.exercise_target_reps).length>0&&y.push(Xg(s,g.exercise_target_reps)),await Promise.all(y),$S(),l(!1),t(!0)}catch(g){console.error("Error migrating guest data:",g),d("Failed to migrate data. Please try again."),l(!1)}},p=()=>{$S(),t(!1)};return r.jsxs(Pn,{open:e,onClose:a?void 0:()=>t(!1),maxWidth:"sm",fullWidth:!0,disableEscapeKeyDown:a,PaperProps:{sx:{borderRadius:2}},children:[r.jsx(Un,{sx:{pb:1},children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(MS,{sx:{color:"primary.main",fontSize:28}}),r.jsx(R,{variant:"h6",component:"span",sx:{fontWeight:600},children:"Save Your Guest Data?"})]})}),r.jsxs(On,{children:[r.jsx(R,{variant:"body1",sx:{mb:2},children:"You have workout data from your guest session. Would you like to transfer it to your new account?"}),r.jsx(R,{variant:"body2",sx:{color:"text.secondary"},children:"This will save your workout history, progress, and settings to the cloud."}),u&&r.jsx(R,{variant:"body2",sx:{color:"error.main",mt:2},children:u})]}),r.jsxs(Rn,{sx:{p:2,pt:0},children:[r.jsx(Ae,{onClick:p,disabled:a,variant:"text",sx:{color:"text.secondary"},children:"Skip"}),r.jsx(Ae,{onClick:h,disabled:a,variant:"contained",startIcon:a?r.jsx(Bg,{size:20,color:"inherit"}):r.jsx(MS,{}),sx:{fontWeight:600},children:a?"Migrating...":"Save My Data"})]})]})};ZE.propTypes={open:E.bool.isRequired,onClose:E.func.isRequired,userId:E.string};const JE=({color:e,delay:t,startX:s})=>{const a=["#FF6B6B","#4ECDC4","#FFD93D","#6BCB77","#4D96FF","#FF9F9F"],l=e||a[Math.floor(Math.random()*a.length)];return r.jsx($e.div,{initial:{top:-20,left:`${s}%`,rotate:0,scale:1},animate:{top:"110vh",left:`${s+(Math.random()*20-10)}%`,rotate:Math.random()*720-360,scale:[1,1.2,.8]},transition:{duration:3+Math.random()*2,delay:t,ease:"easeOut"},style:{position:"fixed",width:Math.random()*10+5+"px",height:Math.random()*10+5+"px",backgroundColor:l,borderRadius:Math.random()>.5?"50%":"0%",zIndex:9999,pointerEvents:"none"}})};JE.propTypes={color:E.string,delay:E.number,startX:E.number};const eM=({active:e=!1,duration:t=3e3,intensity:s=50})=>{const[a,l]=x.useState([]);return x.useEffect(()=>{if(e){const u=Array.from({length:s},(h,p)=>({id:`confetti-${Date.now()}-${p}`,startX:Math.random()*100,delay:Math.random()*.5}));l(u);const d=setTimeout(()=>{l([])},t);return()=>clearTimeout(d)}},[e,t,s]),r.jsx(L,{sx:{position:"fixed",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:9999},children:r.jsx(Xo,{children:a.map(u=>r.jsx(JE,{startX:u.startX,delay:u.delay},u.id))})})};eM.propTypes={active:E.bool,duration:E.number,intensity:E.number};const tM=({open:e,onClose:t,achievement:s,onShare:a})=>{const[l,u]=x.useState(!1);if(x.useEffect(()=>{if(e&&s){u(!0);const g=setTimeout(()=>{u(!1)},3e3);return()=>clearTimeout(g)}},[e,s]),!s)return null;const d=zh[s.tier],h=async()=>{const g=`I just unlocked the "${s.name}" achievement in GoodLift! ${s.icon}

${s.description}`;if(navigator.share)try{await navigator.share({title:"GoodLift Achievement",text:g})}catch(y){y.name!=="AbortError"&&(console.error("Error sharing:",y),p(g))}else p(g);a&&a(s)},p=g=>{navigator.clipboard.writeText(g).then(()=>{alert("Achievement text copied to clipboard!")})};return r.jsxs(r.Fragment,{children:[r.jsx(eM,{active:l}),r.jsxs(Pn,{open:e,onClose:t,maxWidth:"sm",fullWidth:!0,TransitionComponent:WC,TransitionProps:{direction:"up"},PaperProps:{sx:{borderRadius:3,background:d.gradient,color:d.textColor,overflow:"visible"}},children:[r.jsxs(On,{sx:{textAlign:"center",py:4},children:[r.jsx($e.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:260,damping:20,delay:.1},children:r.jsx(L,{sx:{width:100,height:100,borderRadius:"50%",bgcolor:"rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px",border:"4px solid rgba(255, 255, 255, 0.3)"},children:r.jsx($o,{sx:{fontSize:"4rem",color:"rgba(255, 255, 255, 0.9)"}})})}),r.jsx($e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:r.jsx(R,{variant:"h6",sx:{fontWeight:600,mb:2,opacity:.9,letterSpacing:"0.1em",textTransform:"uppercase"},children:"Achievement Unlocked!"})}),r.jsx($e.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15,delay:.5},children:r.jsx(R,{variant:"h1",sx:{fontSize:"5rem",mb:2},children:s.icon})}),r.jsx($e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:r.jsx(R,{variant:"h4",sx:{fontWeight:700,mb:1},children:s.name})}),r.jsx($e.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.9},children:r.jsx(L,{sx:{display:"inline-block",px:2,py:.5,borderRadius:2,bgcolor:"rgba(255, 255, 255, 0.2)",mb:2},children:r.jsx(R,{variant:"caption",sx:{fontWeight:700,letterSpacing:"0.1em",textTransform:"uppercase"},children:s.tier})})}),r.jsx($e.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.1},children:r.jsx(R,{variant:"body1",sx:{opacity:.9,maxWidth:"80%",margin:"0 auto"},children:s.description})})]}),r.jsx(Rn,{sx:{justifyContent:"center",pb:3,px:3},children:r.jsxs(_e,{direction:{xs:"column",sm:"row"},spacing:2,sx:{width:"100%"},children:[r.jsx(Ae,{variant:"contained",onClick:t,fullWidth:!0,sx:{bgcolor:"rgba(255, 255, 255, 0.9)",color:"primary.main","&:hover":{bgcolor:"rgba(255, 255, 255, 1)"}},children:"Awesome!"}),r.jsx(Ae,{variant:"outlined",startIcon:r.jsx(VC,{}),onClick:h,fullWidth:!0,sx:{borderColor:"rgba(255, 255, 255, 0.5)",color:"rgba(255, 255, 255, 0.9)","&:hover":{borderColor:"rgba(255, 255, 255, 0.8)",bgcolor:"rgba(255, 255, 255, 0.1)"}},children:"Share"})]})})]})]})};tM.propTypes={open:E.bool.isRequired,onClose:E.func.isRequired,achievement:E.shape({id:E.string.isRequired,name:E.string.isRequired,description:E.string.isRequired,icon:E.string.isRequired,tier:E.string.isRequired}),onShare:E.func};const l9=()=>{const[e,t]=x.useState(new Set);return x.useEffect(()=>{const s=async()=>{const l=iy(),u=await Hi(),d=new Set;u.forEach(p=>{p.exercises&&Array.isArray(p.exercises)&&p.exercises.forEach(g=>{g&&g["Exercise Name"]&&d.add(g["Exercise Name"])})});const h=new Set([...l,...d]);t(h)};s();const a=setInterval(s,3e4);return()=>clearInterval(a)},[]),e},Ui="v1.0.0-simplify-data-structure",nM="goodlift_migration_version",c9=()=>{try{return et()?Et("migration_version")===Ui:localStorage.getItem(nM)===Ui}catch(e){return console.error("Error checking migration status:",e),!1}},u9=()=>{try{et()?vt("migration_version",Ui):localStorage.setItem(nM,Ui),console.log(`Migration ${Ui} completed successfully`)}catch(e){console.error("Error marking migration as completed:",e)}},ws=e=>{try{if(et())return Et(e);{const t=localStorage.getItem(`goodlift_${e}`);return t?JSON.parse(t):null}}catch(t){return console.error(`Error getting data for ${e}:`,t),null}},iu=(e,t)=>{try{et()?vt(e,t):localStorage.setItem(`goodlift_${e}`,JSON.stringify(t))}catch(s){console.error(`Error setting data for ${e}:`,s)}},Ax=e=>{try{et()?vt(e,null):localStorage.removeItem(`goodlift_${e}`)}catch(t){console.error(`Error removing data for ${e}:`,t)}},d9=()=>{console.log("Step 1: Migrating workout history...");const e=ws("workout_history");if(!e||!Array.isArray(e)||e.length===0){console.log("No workout history to migrate");return}let t=0;const s=e.map(a=>{let l=!1;const u={...a};if(u.date&&typeof u.date=="number")u.date=new Date(u.date).toISOString(),l=!0;else if(u.date&&typeof u.date=="string")try{const d=new Date(u.date);isNaN(d.getTime())||(u.date=d.toISOString(),l=!0)}catch{console.warn("Invalid date in workout:",u.date)}return(u.duration===void 0||u.duration===null)&&(u.duration=0,l=!0),!u.type&&u.exercises?.length>0&&(u.type="Workout",l=!0),l&&t++,u});t>0?(iu("workout_history",s),console.log(`Migrated ${t} workout entries`)):console.log("All workout entries already in correct format")},h9=()=>{console.log("Step 2: Archiving yoga sessions...");const e=ws("yoga_sessions");if(!e||Array.isArray(e)&&e.length===0){console.log("No yoga sessions to archive");return}const t={data:e,archivedAt:new Date().toISOString(),reason:"Yoga feature removed, replaced with stretching/mobility sessions"};iu("archived_yoga_sessions",t),Ax("yoga_sessions"),console.log(`Archived ${Array.isArray(e)?e.length:1} yoga session(s)`)},f9=()=>{console.log("Step 3: Archiving favorite workouts...");const e=ws("favorite_workouts");if(!e||Array.isArray(e)&&e.length===0){console.log("No favorite workouts to archive");return}const t={data:e,archivedAt:new Date().toISOString(),reason:"Favorite workouts replaced by workout plans feature"};iu("archived_favorite_workouts",t),Ax("favorite_workouts"),console.log(`Archived ${e.length} favorite workout(s)`)},p9=()=>{console.log("Step 4: Cleaning up user stats...");const e=ws("user_stats");if(!e){console.log("No user stats to clean up");return}let t=!1;"totalYogaTime"in e&&(delete e.totalYogaTime,t=!0,console.log("Removed totalYogaTime from user stats")),Object.entries({totalWorkouts:0,totalTime:0,totalHiitTime:0,totalCardioTime:0,totalStretchTime:0}).forEach(([a,l])=>{a in e||(e[a]=l,t=!0)}),t?(iu("user_stats",e),console.log("Updated user stats structure")):console.log("User stats already clean")},m9=()=>{console.log("Step 5: Validating session data..."),["hiit_sessions","cardio_sessions","stretch_sessions"].forEach(t=>{const s=ws(t);if(!s||!Array.isArray(s)||s.length===0){console.log(`No ${t} to validate`);return}let a=0;const l=s.map(u=>{let d=!1;const h={...u};return h.id||(h.id=`${Date.now()}-${Math.random().toString(36).substring(2,11)}`,d=!0),h.date||(h.date=Date.now(),d=!0),typeof h.date=="number"&&(h.date=new Date(h.date).toISOString(),d=!0),(h.duration===void 0||h.duration===null)&&(h.duration=0,d=!0),d&&a++,h});a>0&&(iu(t,l),console.log(`Validated ${a} ${t} entries`))})},g9=()=>{console.log("Step 6: Removing orphaned references...");const e=["yoga_settings","yoga_preferences","legacy_favorites"];let t=0;e.forEach(s=>{ws(s)!==null&&(Ax(s),t++,console.log(`Removed orphaned key: ${s}`))}),console.log(t===0?"No orphaned references found":`Removed ${t} orphaned reference(s)`)},y9=()=>{const e={version:Ui,timestamp:new Date().toISOString(),summary:{workoutHistory:ws("workout_history")?.length||0,hiitSessions:ws("hiit_sessions")?.length||0,cardioSessions:ws("cardio_sessions")?.length||0,stretchSessions:ws("stretch_sessions")?.length||0,workoutPlans:ws("workout_plans")?.length||0,archivedYoga:ws("archived_yoga_sessions")?.data?.length||0,archivedFavoriteWorkouts:ws("archived_favorite_workouts")?.data?.length||0}};return console.log("Migration Report:",e),e},x9=()=>{if(console.log("=== Starting Data Structure Simplification Migration ==="),console.log(`Version: ${Ui}`),c9())return console.log("Migration already completed, skipping..."),{status:"skipped",reason:"Migration already completed",version:Ui};try{d9(),h9(),f9(),p9(),m9(),g9(),u9();const e=y9();return console.log("=== Migration Completed Successfully ==="),{status:"success",...e}}catch(e){return console.error("Migration failed:",e),{status:"failed",error:e.message,version:Ui}}};function b9(){const[e,t]=x.useState("home"),[s,a]=x.useState([]),[l,u]=x.useState("full"),[d,h]=x.useState(new Set(["all"])),[p,g]=x.useState([]),[y,b]=x.useState(null),[v]=x.useState(!1),[S,j]=x.useState(!1),[k,w]=x.useState({open:!1,message:"",severity:"info"}),[T,D]=x.useState(!1),[A,W]=x.useState(!1),[P,O]=x.useState(null),[_,N]=x.useState(!1),[I,H]=x.useState(!1),[V,B]=x.useState([2,2,2,2]),[de,q]=x.useState(3),{currentUser:ae,isGuest:z,hasGuestData:U}=Er(),{generateWorkout:ue,allExercises:fe,exerciseDB:Ce}=WE(),we=l9();x.useEffect(()=>{(async()=>{try{console.log("Running data structure migration...");const ke=x9();ke.status==="success"?console.log("Migration completed:",ke):ke.status==="skipped"?console.log("Migration skipped:",ke.reason):console.error("Migration failed:",ke)}catch(ke){console.error("Error running migration:",ke)}})()},[]),x.useEffect(()=>{(async()=>{try{await YE()}catch(ke){console.error("Error cleaning up expired backups:",ke)}})()},[]),x.useEffect(()=>{D(z?YR():!1)},[z]),x.useEffect(()=>{ae&&!z&&U&&W(!0)},[ae,z,U]);const Q=async Ie=>{if(W(!1),Ie||Qd(),ae&&ae.uid)try{await jT(ae.uid)}catch(ke){console.error("Error loading user data after migration:",ke)}},J=()=>{GR(),D(!1)};x.useEffect(()=>{const Ie=()=>{if(window.visualViewport){const We=window.visualViewport;document.documentElement.style.setProperty("--viewport-height",`${We.height}px`)}},ke=()=>{setTimeout(()=>{window.scrollTo(0,0),Ie()},100)};return window.addEventListener("resize",Ie),window.addEventListener("orientationchange",ke),window.visualViewport&&window.visualViewport.addEventListener("resize",Ie),Ie(),()=>{window.removeEventListener("resize",Ie),window.removeEventListener("orientationchange",ke),window.visualViewport&&window.visualViewport.removeEventListener("resize",Ie)}},[]),x.useEffect(()=>{if(fe.length>0){const Ie=new Set;fe.forEach(ke=>{const We=ke.Equipment;We.includes("Cable")?Ie.add("Cable Machine"):We.includes("Dumbbell")?Ie.add("Dumbbells"):Ie.add(We)}),g(Array.from(Ie).sort())}},[fe]);const he=Ie=>{t(Ie)},be=Ie=>{u(Ie)},ge=Ie=>{if(Ie instanceof Set)h(Ie);else{const ke=new Set;ke.add(Ie),h(ke)}},ie=(Ie,ke,We=null,X=[2,2,2,2])=>{B(X);const je=We||ue(Ie,ke,X);a(je),u(Ie),H(!1),j(!0),t("preview")},Y=(Ie,ke,We=[2,2,2,2])=>{u(Ie),B(We);const X=We.reduce((De,Me)=>De+Me,0),je=Array(X).fill(null);a(je),H(!0),j(!0),t("preview")},oe=(Ie,ke,We)=>{Ie&&a(Ie),ke&&B(ke),We!==void 0&&q(We),j(!1),H(!1),t("workout")},$=()=>{j(!1),H(!1),t("home")},le=x.useCallback((Ie,ke)=>{if(!Ce||Object.keys(Ce).length===0){console.error("Exercise database not available"),w({open:!0,message:"Exercise database not loaded",severity:"error"});return}const We=Ie["Primary Muscle"],X=Ie["Exercise Type"],je=Ie["Exercise Name"],De=Ce[We]||[];let Me=0;const Le=3;let Ue=null;for(;Me<Le&&!Ue;){Me++;let qe=De;const Qe=Array.from(d);Qe.includes("all")||(qe=De.filter(Oe=>{const Fe=Oe.Equipment;return Qe.some(rt=>rt==="Cable Machine"?Fe.includes("Cable"):rt==="Dumbbells"?Fe.includes("Dumbbell"):Fe.includes(rt))})),qe=qe.filter(Oe=>Oe["Exercise Type"]===X);const Ee=s.map(Oe=>Oe["Exercise Name"]);let Re=qe.filter(Oe=>Oe["Exercise Name"]!==je&&!Ee.includes(Oe["Exercise Name"]));if(Re.length===0&&(Re=qe.filter(Oe=>Oe["Exercise Name"]!==je)),Re.length===0)continue;const Ve=[...Re];Re.forEach(Oe=>{we.has(Oe["Exercise Name"])&&Ve.push(Oe)}),Ue=Ve[Math.floor(Math.random()*Ve.length)]}if(!Ue){w({open:!0,message:"No alternative exercises available",severity:"warning"});return}const ft=[...s];ft[ke]=Ue,a(ft)},[Ce,s,d,we]),ye=x.useCallback((Ie,ke)=>{if(ke?.toLowerCase().includes("bodyweight")||ke?.toLowerCase().includes("body weight"))return 0;const We=ke.includes("Dumbbell")||ke.includes("Kettlebell"),X=ke?.toLowerCase().includes("barbell");return jd.UPPER_BODY.includes(Ie)?X?Ta.UPPER_BODY.BARBELL:Ta.UPPER_BODY.DUMBBELL:jd.LOWER_BODY.includes(Ie)?X?Ta.LOWER_BODY.BARBELL:We?Ta.LOWER_BODY.DUMBBELL:5:2.5},[]),Pe=x.useCallback((Ie,ke)=>{if(ke?.toLowerCase().includes("bodyweight")||ke?.toLowerCase().includes("body weight"))return 0;const We=ke.includes("Dumbbell")||ke.includes("Kettlebell"),X=ke?.toLowerCase().includes("barbell");return jd.UPPER_BODY.includes(Ie)?X?Ta.UPPER_BODY.BARBELL:Ta.UPPER_BODY.DUMBBELL:jd.LOWER_BODY.includes(Ie)?X?Ta.LOWER_BODY.BARBELL:We?Ta.LOWER_BODY.DUMBBELL:5:2.5},[]),pe=x.useCallback(async Ie=>{const ke=[],We=[];let X=0;for(const[Me,Le]of Object.entries(Ie.exercises)){const Ue=Le.sets[Le.sets.length-1];for(const ft of Le.sets)ft.weight>0&&ft.reps>0&&(X+=ft.weight*ft.reps);if(Ue?.weight>0){const ft=await Fi(Me);if(Le.sets.every(Qe=>Qe.reps>=ft)&&Le.sets.length>=I1){const Qe=s.find(Ee=>Ee["Exercise Name"]===Me);if(Qe){const Ee=Qe["Primary Muscle"].split("(")[0].trim(),Re=ye(Ee,Qe.Equipment);if(Re>0){const Ve=Ue.weight+Re;await Vi(Me,Ve),ke.push({exercise:Me,oldWeight:Ue.weight,newWeight:Ve,increase:Re}),await a_()}}}else if(c7(Le.sets,ft,I1)){const Ee=s.find(Re=>Re["Exercise Name"]===Me);if(Ee){const Re=Ee["Primary Muscle"].split("(")[0].trim(),Ve=Pe(Re,Ee.Equipment);if(Ve>0&&Ue.weight>Ve){const Oe=Ue.weight-Ve;await Vi(Me,Oe),We.push({exercise:Me,oldWeight:Ue.weight,newWeight:Oe,decrease:Ve})}else await Vi(Me,Ue.weight)}else await Vi(Me,Ue.weight)}else await Vi(Me,Ue.weight)}}if(X>0&&await r_(X),ke.length>0){const Me=ke.map(Le=>`${Le.exercise}: ${Le.oldWeight}  ${Le.newWeight} lbs (+${Le.increase} lbs)`);w({open:!0,message:` Progressive Overload! You hit your target reps!

${Me.join(`
`)}`,severity:"success"})}else if(We.length>0){const Me=We.map(Le=>`${Le.exercise}: ${Le.oldWeight}  ${Le.newWeight} lbs (-${Le.decrease} lbs)`);w({open:!0,message:` Weight adjusted for next session. Keep pushing!

${Me.join(`
`)}`,severity:"info"})}const je={...Ie,type:l};await ty(je);const De=await Yc();De.totalWorkouts+=1,De.totalTime+=Ie.duration,await ny(De);try{const Me=await AT(),Le=await ni(),Ue=p7(De,Le,Me);if(Ue.length>0){for(const ft of Ue)await i_(ft.id);O(Ue[0]),N(!0)}}catch(Me){console.error("Error checking achievements:",Me)}b(je),t("completion")},[l,s,ye,Pe]),te=()=>{t("home")},ee=()=>{t("home")},Ne=()=>{if(!y)return;let ke="data:text/csv;charset=utf-8,"+["Date","WorkoutType","Duration","Exercise","Set","Weight","Reps"].join(",")+`
`;for(const je in y.exercises)y.exercises[je].sets.forEach(Me=>{const Le=[new Date(y.date).toLocaleString(),y.type,y.duration,je,Me.set,Me.weight,Me.reps];ke+=Le.join(",")+`
`});const We=encodeURI(ke),X=document.createElement("a");X.setAttribute("href",We),X.setAttribute("download",`GoodLift_Workout_${new Date(y.date).toISOString().split("T")[0]}.csv`),document.body.appendChild(X),X.click(),document.body.removeChild(X)},{theme:ot}=LE();return ae?r.jsxs(AS,{theme:ot,children:[r.jsx(PS,{}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[r.jsx(sk,{onNavigate:he}),r.jsxs("div",{id:"app",style:{flex:1,marginTop:"60px",paddingBottom:"80px"},children:[e==="home"&&r.jsx(mE,{onNavigate:he,loading:v,workoutType:l,selectedEquipment:d,equipmentOptions:p,onWorkoutTypeChange:be,onEquipmentChange:ge,onStartWorkout:ie,onCustomize:Y}),e==="selection"&&r.jsx(wx,{workoutType:l,selectedEquipment:d,equipmentOptions:p,onWorkoutTypeChange:be,onEquipmentChange:ge,onStartWorkout:ie,onCustomize:Y,loading:v}),e==="preview"&&S&&r.jsx(Tx,{workout:s,workoutType:l,onStart:oe,onCancel:$,onRandomizeExercise:le,equipmentFilter:Array.from(d),isCustomizeMode:I,supersetConfig:V,setsPerSuperset:de}),e==="workout"&&s.length>0&&r.jsx(xE,{workoutPlan:s,onComplete:pe,onExit:te,supersetConfig:V,setsPerSuperset:de}),e==="completion"&&y&&r.jsx(kx,{workoutData:y,workoutPlan:s,onFinish:ee,onExportCSV:Ne}),e==="progress"&&r.jsx(RE,{onNavigate:he,onStartWorkout:ie}),(e==="cardio"||e==="hiit"||e==="timer")&&r.jsx(ux,{onNavigate:he}),e==="log-activity"&&r.jsx(Sx,{onNavigate:he}),(e==="stretch"||e==="mobility")&&r.jsx(A7,{}),e==="exercise-list"&&r.jsx(O7,{}),e==="settings"&&r.jsx(GE,{onNavigate:he}),e==="profile"&&r.jsx(a9,{}),e==="edit-weekly-schedule"&&r.jsx(XE,{onNavigate:he})]}),r.jsx(Uy,{currentScreen:e,onNavigate:he}),r.jsx(ZE,{open:A,onClose:Q,userId:ae?.uid}),r.jsx(tM,{open:_,onClose:()=>{N(!1),O(null)},achievement:P}),r.jsx(Hs,{open:T,anchorOrigin:{vertical:"bottom",horizontal:"center"},sx:{bottom:{xs:80,sm:24}},children:r.jsx($t,{severity:"info",onClose:J,action:r.jsx(Ae,{color:"inherit",size:"small",onClick:()=>t("progress"),sx:{fontWeight:600},children:"Sign Up"}),sx:{width:"100%",maxWidth:"600px","& .MuiAlert-message":{fontSize:"0.95rem",fontWeight:500}},children:"You're in guest mode. Sign up to save your data permanently!"})}),r.jsx(Hs,{open:k.open,autoHideDuration:8e3,onClose:()=>w({...k,open:!1}),anchorOrigin:{vertical:"top",horizontal:"center"},children:r.jsx($t,{onClose:()=>w({...k,open:!1}),severity:k.severity,sx:{whiteSpace:"pre-line","& .MuiAlert-message":{fontSize:"1rem",fontWeight:500}},children:k.message})})]})]}):r.jsxs(AS,{theme:ot,children:[r.jsx(PS,{}),r.jsx(j7,{})]})}function v9(){return r.jsx(BE,{children:r.jsx(b9,{})})}var Fh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},S9={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},w9=class{#e=S9;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},Eg=new w9;function C9(e){setTimeout(e,0)}var Hh=typeof window>"u"||"Deno"in globalThis;function Xs(){}function T9(e,t){return typeof e=="function"?e(t):e}function k9(e){return typeof e=="number"&&e>=0&&e!==1/0}function j9(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Mg(e,t){return typeof e=="function"?e(t):e}function D9(e,t){return typeof e=="function"?e(t):e}function xC(e,t){const{type:s="all",exact:a,fetchStatus:l,predicate:u,queryKey:d,stale:h}=e;if(d){if(a){if(t.queryHash!==Px(d,t.options))return!1}else if(!zc(t.queryKey,d))return!1}if(s!=="all"){const p=t.isActive();if(s==="active"&&!p||s==="inactive"&&p)return!1}return!(typeof h=="boolean"&&t.isStale()!==h||l&&l!==t.state.fetchStatus||u&&!u(t))}function bC(e,t){const{exact:s,status:a,predicate:l,mutationKey:u}=e;if(u){if(!t.options.mutationKey)return!1;if(s){if(Vc(t.options.mutationKey)!==Vc(u))return!1}else if(!zc(t.options.mutationKey,u))return!1}return!(a&&t.state.status!==a||l&&!l(t))}function Px(e,t){return(t?.queryKeyHashFn||Vc)(e)}function Vc(e){return JSON.stringify(e,(t,s)=>Ag(s)?Object.keys(s).sort().reduce((a,l)=>(a[l]=s[l],a),{}):s)}function zc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>zc(e[s],t[s])):!1}var E9=Object.prototype.hasOwnProperty;function sM(e,t){if(e===t)return e;const s=vC(e)&&vC(t);if(!s&&!(Ag(e)&&Ag(t)))return t;const l=(s?e:Object.keys(e)).length,u=s?t:Object.keys(t),d=u.length,h=s?new Array(d):{};let p=0;for(let g=0;g<d;g++){const y=s?g:u[g],b=e[y],v=t[y];if(b===v){h[y]=b,(s?g<l:E9.call(e,y))&&p++;continue}if(b===null||v===null||typeof b!="object"||typeof v!="object"){h[y]=v;continue}const S=sM(b,v);h[y]=S,S===b&&p++}return l===d&&p===l?e:h}function vC(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ag(e){if(!SC(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!SC(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function SC(e){return Object.prototype.toString.call(e)==="[object Object]"}function M9(e){return new Promise(t=>{Eg.setTimeout(t,e)})}function A9(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?sM(e,t):t}function P9(e,t,s=0){const a=[...e,t];return s&&a.length>s?a.slice(1):a}function O9(e,t,s=0){const a=[t,...e];return s&&a.length>s?a.slice(0,-1):a}var Ox=Symbol();function iM(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Ox?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var R9=class extends Fh{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Hh&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},aM=new R9;function _9(){let e,t;const s=new Promise((l,u)=>{e=l,t=u});s.status="pending",s.catch(()=>{});function a(l){Object.assign(s,l),delete s.resolve,delete s.reject}return s.resolve=l=>{a({status:"fulfilled",value:l}),e(l)},s.reject=l=>{a({status:"rejected",reason:l}),t(l)},s}var I9=C9;function W9(){let e=[],t=0,s=h=>{h()},a=h=>{h()},l=I9;const u=h=>{t?e.push(h):l(()=>{s(h)})},d=()=>{const h=e;e=[],h.length&&l(()=>{a(()=>{h.forEach(p=>{s(p)})})})};return{batch:h=>{let p;t++;try{p=h()}finally{t--,t||d()}return p},batchCalls:h=>(...p)=>{u(()=>{h(...p)})},schedule:u,setNotifyFunction:h=>{s=h},setBatchNotifyFunction:h=>{a=h},setScheduler:h=>{l=h}}}var Jn=W9(),N9=class extends Fh{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Hh&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},dh=new N9;function L9(e){return Math.min(1e3*2**e,3e4)}function rM(e){return(e??"online")==="online"?dh.isOnline():!0}var Pg=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function oM(e){let t=!1,s=0,a;const l=_9(),u=()=>l.status!=="pending",d=k=>{if(!u()){const w=new Pg(k);v(w),e.onCancel?.(w)}},h=()=>{t=!0},p=()=>{t=!1},g=()=>aM.isFocused()&&(e.networkMode==="always"||dh.isOnline())&&e.canRun(),y=()=>rM(e.networkMode)&&e.canRun(),b=k=>{u()||(a?.(),l.resolve(k))},v=k=>{u()||(a?.(),l.reject(k))},S=()=>new Promise(k=>{a=w=>{(u()||g())&&k(w)},e.onPause?.()}).then(()=>{a=void 0,u()||e.onContinue?.()}),j=()=>{if(u())return;let k;const w=s===0?e.initialPromise:void 0;try{k=w??e.fn()}catch(T){k=Promise.reject(T)}Promise.resolve(k).then(b).catch(T=>{if(u())return;const D=e.retry??(Hh?0:3),A=e.retryDelay??L9,W=typeof A=="function"?A(s,T):A,P=D===!0||typeof D=="number"&&s<D||typeof D=="function"&&D(s,T);if(t||!P){v(T);return}s++,e.onFail?.(s,T),M9(W).then(()=>g()?void 0:S()).then(()=>{t?v(T):j()})})};return{promise:l,status:()=>l.status,cancel:d,continue:()=>(a?.(),l),cancelRetry:h,continueRetry:p,canStart:y,start:()=>(y()?j():S().then(j),l)}}var lM=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),k9(this.gcTime)&&(this.#e=Eg.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Hh?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Eg.clearTimeout(this.#e),this.#e=void 0)}},B9=class extends lM{#e;#t;#n;#i;#s;#r;#o;constructor(e){super(),this.#o=!1,this.#r=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=CC(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){if(this.options={...this.#r,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=CC(this.options);t.data!==void 0&&(this.setState(wC(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const s=A9(this.state.data,e,this.options);return this.#a({data:s,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),s}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#s?.promise;return this.#s?.cancel(e),t?t.then(Xs).catch(Xs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>D9(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ox||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Mg(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!j9(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#o=!0,s.signal)})},l=()=>{const h=iM(this.options,t),g=(()=>{const y={client:this.#i,queryKey:this.queryKey,meta:this.meta};return a(y),y})();return this.#o=!1,this.options.persister?this.options.persister(h,g,this):h(g)},d=(()=>{const h={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:l};return a(h),h})();this.options.behavior?.onFetch(d,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#a({type:"fetch",meta:d.fetchOptions?.meta}),this.#s=oM({initialPromise:t?.initialPromise,fn:d.fetchFn,onCancel:h=>{h instanceof Pg&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(h,p)=>{this.#a({type:"failed",failureCount:h,error:p})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0});try{const h=await this.#s.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof Pg){if(h.silent)return this.#s.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#a({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#a(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...V9(s.data,this.options),fetchMeta:e.meta??null};case"success":const a={...s,...wC(e.data,e.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?a:void 0,a;case"error":const l=e.error;return{...s,error:l,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),Jn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function V9(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:rM(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function wC(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function CC(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,a=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}function TC(e){return{onFetch:(t,s)=>{const a=t.options,l=t.fetchOptions?.meta?.fetchMore?.direction,u=t.state.data?.pages||[],d=t.state.data?.pageParams||[];let h={pages:[],pageParams:[]},p=0;const g=async()=>{let y=!1;const b=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},v=iM(t.options,t.fetchOptions),S=async(j,k,w)=>{if(y)return Promise.reject();if(k==null&&j.pages.length)return Promise.resolve(j);const D=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:k,direction:w?"backward":"forward",meta:t.options.meta};return b(O),O})(),A=await v(D),{maxPages:W}=t.options,P=w?O9:P9;return{pages:P(j.pages,A,W),pageParams:P(j.pageParams,k,W)}};if(l&&u.length){const j=l==="backward",k=j?z9:kC,w={pages:u,pageParams:d},T=k(a,w);h=await S(w,T,j)}else{const j=e??u.length;do{const k=p===0?d[0]??a.initialPageParam:kC(a,h);if(p>0&&k==null)break;h=await S(h,k),p++}while(p<j)}return h};t.options.persister?t.fetchFn=()=>t.options.persister?.(g,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s):t.fetchFn=g}}}function kC(e,{pages:t,pageParams:s}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,s[a],s):void 0}function z9(e,{pages:t,pageParams:s}){return t.length>0?e.getPreviousPageParam?.(t[0],t,s[0],s):void 0}var F9=class extends lM{#e;#t;#n;#i;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||H9(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#s({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=oM({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(u,d)=>{this.#s({type:"failed",failureCount:u,error:d})},onPause:()=>{this.#s({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const a=this.state.status==="pending",l=!this.#i.canStart();try{if(a)t();else{this.#s({type:"pending",variables:e,isPaused:l}),await this.#n.config.onMutate?.(e,this,s);const d=await this.options.onMutate?.(e,s);d!==this.state.context&&this.#s({type:"pending",context:d,variables:e,isPaused:l})}const u=await this.#i.start();return await this.#n.config.onSuccess?.(u,e,this.state.context,this,s),await this.options.onSuccess?.(u,e,this.state.context,s),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(u,null,e,this.state.context,s),this.#s({type:"success",data:u}),u}catch(u){try{throw await this.#n.config.onError?.(u,e,this.state.context,this,s),await this.options.onError?.(u,e,this.state.context,s),await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(void 0,u,e,this.state.context,s),u}finally{this.#s({type:"error",error:u})}}finally{this.#n.runNext(this)}}#s(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Jn.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function H9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var U9=class extends Fh{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,s){const a=new F9({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:s});return this.add(a),a}add(e){this.#e.add(e);const t=_d(e);if(typeof t=="string"){const s=this.#t.get(t);s?s.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=_d(e);if(typeof t=="string"){const s=this.#t.get(t);if(s)if(s.length>1){const a=s.indexOf(e);a!==-1&&s.splice(a,1)}else s[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=_d(e);if(typeof t=="string"){const a=this.#t.get(t)?.find(l=>l.state.status==="pending");return!a||a===e}else return!0}runNext(e){const t=_d(e);return typeof t=="string"?this.#t.get(t)?.find(a=>a!==e&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Jn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(s=>bC(t,s))}findAll(e={}){return this.getAll().filter(t=>bC(e,t))}notify(e){Jn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Jn.batch(()=>Promise.all(e.map(t=>t.continue().catch(Xs))))}};function _d(e){return e.options.scope?.id}var q9=class extends Fh{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,s){const a=t.queryKey,l=t.queryHash??Px(a,t);let u=this.get(l);return u||(u=new B9({client:e,queryKey:a,queryHash:l,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(a)}),this.add(u)),u}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Jn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>xC(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>xC(e,s)):t}notify(e){Jn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Jn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Jn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Y9=class{#e;#t;#n;#i;#s;#r;#o;#a;constructor(e={}){this.#e=e.queryCache||new q9,this.#t=e.mutationCache||new U9,this.#n=e.defaultOptions||{},this.#i=new Map,this.#s=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#o=aM.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=dh.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=this.#e.build(this,t),a=s.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Mg(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:s})=>{const a=s.data;return[t,a]})}setQueryData(e,t,s){const a=this.defaultQueryOptions({queryKey:e}),u=this.#e.get(a.queryHash)?.state.data,d=T9(t,u);if(d!==void 0)return this.#e.build(this,a).setData(d,{...s,manual:!0})}setQueriesData(e,t,s){return Jn.batch(()=>this.#e.findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,s)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Jn.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=this.#e;return Jn.batch(()=>(s.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},a=Jn.batch(()=>this.#e.findAll(e).map(l=>l.cancel(s)));return Promise.all(a).then(Xs).catch(Xs)}invalidateQueries(e,t={}){return Jn.batch(()=>(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},a=Jn.batch(()=>this.#e.findAll(e).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let u=l.fetch(void 0,s);return s.throwOnError||(u=u.catch(Xs)),l.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(a).then(Xs)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=this.#e.build(this,t);return s.isStaleByTime(Mg(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Xs).catch(Xs)}fetchInfiniteQuery(e){return e.behavior=TC(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Xs).catch(Xs)}ensureInfiniteQueryData(e){return e.behavior=TC(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return dh.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#i.set(Vc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#i.values()],s={};return t.forEach(a=>{zc(e,a.queryKey)&&Object.assign(s,a.defaultOptions)}),s}setMutationDefaults(e,t){this.#s.set(Vc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#s.values()],s={};return t.forEach(a=>{zc(e,a.mutationKey)&&Object.assign(s,a.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Px(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ox&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},G9=x.createContext(void 0),$9=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(G9.Provider,{value:e,children:t}));function K9(e){const t="=".repeat((4-e.length%4)%4),s=(e+t).replace(/-/g,"+").replace(/_/g,"/"),a=window.atob(s),l=new Uint8Array(a.length);for(let u=0;u<a.length;++u)l[u]=a.charCodeAt(u);return l}async function Q9(e){try{if(!("serviceWorker"in navigator))return console.warn("[Push Notifications] Service workers are not supported in this browser"),null;if(!("PushManager"in window))return console.warn("[Push Notifications] Push notifications are not supported in this browser"),null;if(console.log("[Push Notifications] Requesting notification permission..."),await Notification.requestPermission()!=="granted")return console.warn("[Push Notifications] Notification permission denied by user"),null;console.log("[Push Notifications] Notification permission granted"),console.log("[Push Notifications] Waiting for service worker to be ready...");const s=await navigator.serviceWorker.ready;console.log("[Push Notifications] Service worker is ready");const a=K9(e);console.log("[Push Notifications] Subscribing to push notifications...");const l=await s.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:a});return console.log("[Push Notifications]  Successfully subscribed to push notifications!"),console.log("[Push Notifications]  Subscription object:"),console.log(JSON.stringify(l,null,2)),console.log(`
[Push Notifications]  To enable push notifications:`),console.log("1. Send this subscription object to your backend server"),console.log("2. Store it in your database associated with this user"),console.log("3. Use it to send push notifications via web-push library or similar"),console.log(`
Example backend code (Node.js with web-push):`),console.log('const webpush = require("web-push");'),console.log('webpush.sendNotification(subscription, "Your notification message");'),l}catch(t){return console.error("[Push Notifications]  Error subscribing to push notifications:",t),console.error("[Push Notifications] Error details:",t.message),null}}async function X9(){try{return!("serviceWorker"in navigator)||!("PushManager"in window)?null:await(await navigator.serviceWorker.ready).pushManager.getSubscription()}catch(e){return console.error("[Push Notifications] Error checking existing subscription:",e),null}}const Z9="BE0ZQSJHIlmXfeA5ddjITNrqrS0TmGfGGQjBufmOlUKxRUtEwja2qHmTZ0pXHepJzGV2qcwH0gJ_D6ot6cWGB6w";async function J9(){try{console.log("[Push Init] Initializing push notification subscription..."),console.log("[Push Init] Setting up both Firebase Cloud Messaging and native Web Push API"),console.log("[Push Init] Step 1: Getting Firebase Cloud Messaging token..."),await U7()?(console.log("[Push Init]  Firebase Cloud Messaging initialized"),console.log("[Push Init] You can use this FCM token to send notifications via Firebase Admin SDK")):console.log("[Push Init]  Firebase Cloud Messaging not available (may not be supported in this browser)"),console.log("[Push Init] Step 2: Setting up native Web Push API subscription...");const t=await X9();if(t)console.log("[Push Init]  Native Web Push: Already subscribed"),console.log("[Push Init] Existing subscription:",JSON.stringify(t,null,2));else{console.log("[Push Init] Native Web Push: No existing subscription, creating new subscription...");const s=await Q9(Z9);console.log(s?"[Push Init]  Native Web Push: Subscription created successfully":"[Push Init]  Native Web Push: Subscription not created (user may have denied permission)")}console.log(`
[Push Init] `),console.log("[Push Init]  Push notification setup complete!"),console.log("[Push Init] "),console.log("[Push Init] You now have two ways to send push notifications:"),console.log("[Push Init] 1  Firebase Cloud Messaging (FCM):"),console.log("[Push Init]     - Use the FCM token logged above"),console.log("[Push Init]     - Send via Firebase Admin SDK or FCM REST API"),console.log("[Push Init]     - Background messages handled by firebase-messaging-sw.js"),console.log("[Push Init] 2  Native Web Push API:"),console.log("[Push Init]     - Use the subscription object logged above"),console.log("[Push Init]     - Send via web-push library or any Web Push service"),console.log("[Push Init]     - Push events handled by service-worker.js"),console.log(`[Push Init] 
`)}catch(e){console.error("[Push Init] Error initializing push notifications:",e)}}const eq=new Y9;"serviceWorker"in navigator&&"PushManager"in window&&window.addEventListener("load",()=>{J9()});eO.createRoot(document.getElementById("root")).render(r.jsx(Ea.StrictMode,{children:r.jsx($9,{client:eq,children:r.jsx(_T,{children:r.jsx(zE,{children:r.jsx(OE,{children:r.jsx(nk,{children:r.jsx(v9,{})})})})})})}))});export default tq();
