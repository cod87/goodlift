var TA=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import{u as il,j as r,B as N,T as Rg,a as Zn,P as D,I as Be,V as MC,b as _g,D as In,c as Kn,d as Wn,e as P,f as Nn,g as Ae,F as DA,h as gn,i as EA,k as Zi,S as MA,l as AA,m as Ig,C as it,n as ut,o as PA,p as yr,q as yt,r as Ji,s as Ie,t as Er,v as mh,w as ri,x as Ko,M as OA,y as Ne,L as Mt,z as Gt,A as pc,E as RA,G as _A,H as li,J as gh,K as Xn,N as ht,O as AC,Q as Wa,R as Hd,U as Mr,W as Si,_ as ft,X as K,Y as Ln,Z as zn,$ as hn,a0 as ia,a1 as $e,a2 as $n,a3 as xn,a4 as _r,a5 as Ve,a6 as mc,a7 as xs,a8 as yh,a9 as IA,aa as WA,ab as Wt,ac as NA,ad as Qo,ae as ea,af as Wg,ag as Bo,ah as Fa,ai as PC,aj as LA,ak as zA,al as _n,am as BA,an as $t,ao as gt,ap as Nm,aq as xi,ar as _a,as as OC,at as VA,au as Xo,av as FA,aw as RC,ax as TS,ay as Zt,az as Vo,aA as Fo,aB as Ho,aC as HA,aD as wi,aE as Ks,aF as Cn,aG as Ng,aH as Qs,aI as qt,aJ as _C,aK as xh,aL as Ud,aM as ai,aN as Ia,aO as UA,aP as IC,aQ as Lg,aR as WC,aS as qA,aT as Yc,aU as NC,aV as Mc,aW as Ui,aX as Gc,aY as $i,aZ as YA,a_ as GA,a$ as bh,b0 as sn,b1 as $c,b2 as qd,b3 as DS,b4 as ta,b5 as $A,b6 as KA,b7 as zg,b8 as LC,b9 as zC,ba as BC,bb as VC,bc as ES,bd as QA,be as FC,bf as Zo,bg as HC,bh as XA,bi as UC,bj as qC,bk as YC,bl as ZA,bm as MS,bn as Lm,bo as zm,bp as JA,bq as eP,br as tP,bs as AS,bt as nP,bu as sP,bv as iP,bw as PS,bx as Fs,by as aP,bz as rP,bA as oP,bB as lP,bC as cP,bD as GC,bE as uP,bF as Bg,bG as Bm,bH as dP,bI as hP,bJ as fP,bK as pP,bL as mP,bM as gP,bN as dr,bO as yP,bP as xP,bQ as bP,bR as vP,bS as SP,bT as wP,bU as Oo,bV as CP,bW as jP,bX as OS,bY as RS,bZ as _S}from"./mui-CcLUROKm.js";import{d as kP,e as TP,g as $C,a as Na,r as x}from"./vendor-B0qVADJY.js";import{r as Yd,_ as Gd,C as $d,a as Vg,E as KC,o as Fg,F as DP,d as sm,g as EP,v as MP,i as AP,b as PP,c as QC,e as OP,f as RP,h as _P,j as IP,k as XC,s as WP,l as NP,m as LP,n as zP,p as BP,q as VP}from"./firebase-DbM8b2ov.js";import{C as FP,a as HP,L as UP,P as qP,b as YP,p as GP,c as $P,d as KP,i as QP,e as XP}from"./charts-BsOkJn6u.js";var aq=TA((As,Ps)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function s(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=s(l);fetch(l.href,u)}})();var im={exports:{}},tc={},am={exports:{}},rm={};var IS;function ZP(){return IS||(IS=1,(function(e){function t(V,q){var le=V.length;V.push(q);e:for(;0<le;){var pe=le-1>>>1,ke=V[pe];if(0<l(ke,q))V[pe]=q,V[le]=ke,le=pe;else break e}}function s(V){return V.length===0?null:V[0]}function a(V){if(V.length===0)return null;var q=V[0],le=V.pop();if(le!==q){V[0]=le;e:for(var pe=0,ke=V.length,be=ke>>>1;pe<be;){var Q=2*(pe+1)-1,ee=V[Q],ue=Q+1,me=V[ue];if(0>l(ee,le))ue<ke&&0>l(me,ee)?(V[pe]=me,V[ue]=le,pe=ue):(V[pe]=ee,V[Q]=le,pe=Q);else if(ue<ke&&0>l(me,le))V[pe]=me,V[ue]=le,pe=ue;else break e}}return q}function l(V,q){var le=V.sortIndex-q.sortIndex;return le!==0?le:V.id-q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();e.unstable_now=function(){return d.now()-h}}var p=[],g=[],y=1,b=null,v=3,S=!1,T=!1,k=!1,w=!1,j=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function W(V){for(var q=s(g);q!==null;){if(q.callback===null)a(g);else if(q.startTime<=V)a(g),q.sortIndex=q.expirationTime,t(p,q);else break;q=s(g)}}function O(V){if(k=!1,W(V),!T)if(s(p)!==null)T=!0,R||(R=!0,z());else{var q=s(g);q!==null&&ie(O,q.startTime-V)}}var R=!1,_=-1,L=5,I=-1;function F(){return w?!0:!(e.unstable_now()-I<L)}function B(){if(w=!1,R){var V=e.unstable_now();I=V;var q=!0;try{e:{T=!1,k&&(k=!1,E(_),_=-1),S=!0;var le=v;try{t:{for(W(V),b=s(p);b!==null&&!(b.expirationTime>V&&F());){var pe=b.callback;if(typeof pe=="function"){b.callback=null,v=b.priorityLevel;var ke=pe(b.expirationTime<=V);if(V=e.unstable_now(),typeof ke=="function"){b.callback=ke,W(V),q=!0;break t}b===s(p)&&a(p),W(V)}else a(p);b=s(p)}if(b!==null)q=!0;else{var be=s(g);be!==null&&ie(O,be.startTime-V),q=!1}}break e}finally{b=null,v=le,S=!1}q=void 0}}finally{q?z():R=!1}}}var z;if(typeof M=="function")z=function(){M(B)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,U=ce.port2;ce.port1.onmessage=B,z=function(){U.postMessage(null)}}else z=function(){j(B,0)};function ie(V,q){_=j(function(){V(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(V){switch(v){case 1:case 2:case 3:var q=3;break;default:q=v}var le=v;v=q;try{return V()}finally{v=le}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(V,q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var le=v;v=V;try{return q()}finally{v=le}},e.unstable_scheduleCallback=function(V,q,le){var pe=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?pe+le:pe):le=pe,V){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=le+ke,V={id:y++,callback:q,priorityLevel:V,startTime:le,expirationTime:ke,sortIndex:-1},le>pe?(V.sortIndex=le,t(g,V),s(p)===null&&V===s(g)&&(k?(E(_),_=-1):k=!0,ie(O,le-pe))):(V.sortIndex=ke,t(p,V),T||S||(T=!0,R||(R=!0,z()))),V},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(V){var q=v;return function(){var le=v;v=q;try{return V.apply(this,arguments)}finally{v=le}}}})(rm)),rm}var WS;function JP(){return WS||(WS=1,am.exports=ZP()),am.exports}var NS;function eO(){if(NS)return tc;NS=1;var e=JP(),t=kP(),s=TP();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,o=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(o=i.return),n=i.return;while(n)}return i.tag===3?o:null}function d(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function h(n){if(n.tag===31){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function p(n){if(u(n)!==n)throw Error(a(188))}function g(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(a(188));return i!==n?null:n}for(var o=n,c=i;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return p(f),n;if(m===c)return p(f),i;m=m.sibling}throw Error(a(188))}if(o.return!==c.return)o=f,c=m;else{for(var C=!1,A=f.child;A;){if(A===o){C=!0,o=f,c=m;break}if(A===c){C=!0,c=f,o=m;break}A=A.sibling}if(!C){for(A=m.child;A;){if(A===o){C=!0,o=m,c=f;break}if(A===c){C=!0,c=m,o=f;break}A=A.sibling}if(!C)throw Error(a(189))}}if(o.alternate!==c)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?n:i}function y(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=y(n),i!==null)return i;n=n.sibling}return null}var b=Object.assign,v=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),M=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function z(n){return n===null||typeof n!="object"?null:(n=B&&n[B]||n["@@iterator"],typeof n=="function"?n:null)}var ce=Symbol.for("react.client.reference");function U(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ce?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case k:return"Fragment";case j:return"Profiler";case w:return"StrictMode";case O:return"Suspense";case R:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case T:return"Portal";case M:return n.displayName||"Context";case E:return(n._context.displayName||"Context")+".Consumer";case W:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case _:return i=n.displayName||null,i!==null?i:U(n.type)||"Memo";case L:i=n._payload,n=n._init;try{return U(n(i))}catch{}}return null}var ie=Array.isArray,V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},pe=[],ke=-1;function be(n){return{current:n}}function Q(n){0>ke||(n.current=pe[ke],pe[ke]=null,ke--)}function ee(n,i){ke++,pe[ke]=n.current,n.current=i}var ue=be(null),me=be(null),ge=be(null),ae=be(null);function Y(n,i){switch(ee(ge,i),ee(me,n),ee(ue,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?Kv(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=Kv(i),n=Qv(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Q(ue),ee(ue,n)}function oe(){Q(ue),Q(me),Q(ge)}function G(n){n.memoizedState!==null&&ee(ae,n);var i=ue.current,o=Qv(i,n.type);i!==o&&(ee(me,n),ee(ue,o))}function he(n){me.current===n&&(Q(ue),Q(me)),ae.current===n&&(Q(ae),Xl._currentValue=le)}var ve,Oe;function fe(n){if(ve===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);ve=i&&i[1]||"",Oe=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ve+n+Oe}var te=!1;function J(n,i){if(!n||te)return"";te=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var je=function(){throw Error()};if(Object.defineProperty(je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(je,[])}catch(de){var re=de}Reflect.construct(n,[],je)}else{try{je.call()}catch(de){re=de}n.call(je.prototype)}}else{try{throw Error()}catch(de){re=de}(je=n())&&typeof je.catch=="function"&&je.catch(function(){})}}catch(de){if(de&&re&&typeof de.stack=="string")return[de.stack,re.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),C=m[0],A=m[1];if(C&&A){var H=C.split(`
`),se=A.split(`
`);for(f=c=0;c<H.length&&!H[c].includes("DetermineComponentFrameRoot");)c++;for(;f<se.length&&!se[f].includes("DetermineComponentFrameRoot");)f++;if(c===H.length||f===se.length)for(c=H.length-1,f=se.length-1;1<=c&&0<=f&&H[c]!==se[f];)f--;for(;1<=c&&0<=f;c--,f--)if(H[c]!==se[f]){if(c!==1||f!==1)do if(c--,f--,0>f||H[c]!==se[f]){var xe=`
`+H[c].replace(" at new "," at ");return n.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",n.displayName)),xe}while(1<=c&&0<=f);break}}}finally{te=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?fe(o):""}function Re(n,i){switch(n.tag){case 26:case 27:case 5:return fe(n.type);case 16:return fe("Lazy");case 13:return n.child!==i&&i!==null?fe("Suspense Fallback"):fe("Suspense");case 19:return fe("SuspenseList");case 0:case 15:return J(n.type,!1);case 11:return J(n.type.render,!1);case 1:return J(n.type,!0);case 31:return fe("Activity");default:return""}}function Fe(n){try{var i="",o=null;do i+=Re(n,o),o=n,n=n.return;while(n);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Ee=Object.prototype.hasOwnProperty,we=e.unstable_scheduleCallback,We=e.unstable_cancelCallback,X=e.unstable_shouldYield,Te=e.unstable_requestPaint,De=e.unstable_now,Me=e.unstable_getCurrentPriorityLevel,Le=e.unstable_ImmediatePriority,qe=e.unstable_UserBlockingPriority,xt=e.unstable_NormalPriority,He=e.unstable_LowPriority,Qe=e.unstable_IdlePriority,rt=e.log,dt=e.unstable_setDisableYieldValue,bt=null,Ye=null;function mt(n){if(typeof rt=="function"&&dt(n),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(bt,n)}catch{}}var Pe=Math.clz32?Math.clz32:Xe,_e=Math.log,Je=Math.LN2;function Xe(n){return n>>>=0,n===0?32:31-(_e(n)/Je|0)|0}var lt=256,It=262144,Nt=4194304;function Qt(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Fn(n,i,o){var c=n.pendingLanes;if(c===0)return 0;var f=0,m=n.suspendedLanes,C=n.pingedLanes;n=n.warmLanes;var A=c&134217727;return A!==0?(c=A&~m,c!==0?f=Qt(c):(C&=A,C!==0?f=Qt(C):o||(o=A&~n,o!==0&&(f=Qt(o))))):(A=c&~m,A!==0?f=Qt(A):C!==0?f=Qt(C):o||(o=c&~n,o!==0&&(f=Qt(o)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,o=i&-i,m>=o||m===32&&(o&4194048)!==0)?i:f}function es(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function bs(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nt(){var n=Nt;return Nt<<=1,(Nt&62914560)===0&&(Nt=4194304),n}function Dn(n){for(var i=[],o=0;31>o;o++)i.push(n);return i}function ln(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function dl(n,i,o,c,f,m){var C=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var A=n.entanglements,H=n.expirationTimes,se=n.hiddenUpdates;for(o=C&~o;0<o;){var xe=31-Pe(o),je=1<<xe;A[xe]=0,H[xe]=-1;var re=se[xe];if(re!==null)for(se[xe]=null,xe=0;xe<re.length;xe++){var de=re[xe];de!==null&&(de.lane&=-536870913)}o&=~je}c!==0&&Ga(n,c,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(C&~i))}function Ga(n,i,o){n.pendingLanes|=i,n.suspendedLanes&=~i;var c=31-Pe(i);n.entangledLanes|=i,n.entanglements[c]=n.entanglements[c]|1073741824|o&261930}function ra(n,i){var o=n.entangledLanes|=i;for(n=n.entanglements;o;){var c=31-Pe(o),f=1<<c;f&i|n[c]&i&&(n[c]|=i),o&=~f}}function ki(n,i){var o=i&-i;return o=(o&42)!==0?1:ts(o),(o&(n.suspendedLanes|i))!==0?0:o}function ts(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function vs(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function ye(){var n=q.p;return n!==0?n:(n=window.event,n===void 0?32:bS(n.type))}function Se(n,i){var o=q.p;try{return q.p=n,i()}finally{q.p=o}}var ze=Math.random().toString(36).slice(2),wt="__reactFiber$"+ze,cn="__reactProps$"+ze,os="__reactContainer$"+ze,Gh="__reactEvents$"+ze,m2="__reactListeners$"+ze,g2="__reactHandles$"+ze,Wx="__reactResources$"+ze,hl="__reactMarker$"+ze;function $h(n){delete n[wt],delete n[cn],delete n[Gh],delete n[m2],delete n[g2]}function Vr(n){var i=n[wt];if(i)return i;for(var o=n.parentNode;o;){if(i=o[os]||o[wt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(n=sS(n);n!==null;){if(o=n[wt])return o;n=sS(n)}return i}n=o,o=n.parentNode}return null}function Fr(n){if(n=n[wt]||n[os]){var i=n.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return n}return null}function fl(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function Hr(n){var i=n[Wx];return i||(i=n[Wx]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Bn(n){n[hl]=!0}var Nx=new Set,Lx={};function $a(n,i){Ur(n,i),Ur(n+"Capture",i)}function Ur(n,i){for(Lx[n]=i,n=0;n<i.length;n++)Nx.add(i[n])}var y2=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zx={},Bx={};function x2(n){return Ee.call(Bx,n)?!0:Ee.call(zx,n)?!1:y2.test(n)?Bx[n]=!0:(zx[n]=!0,!1)}function uu(n,i,o){if(x2(i))if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+o)}}function du(n,i,o){if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+o)}}function Ti(n,i,o,c){if(c===null)n.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(i,o,""+c)}}function Os(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Vx(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function b2(n,i,o){var c=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);if(!n.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,m=c.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(C){o=""+C,m.call(this,C)}}),Object.defineProperty(n,i,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(C){o=""+C},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Kh(n){if(!n._valueTracker){var i=Vx(n)?"checked":"value";n._valueTracker=b2(n,i,""+n[i])}}function Fx(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return n&&(c=Vx(n)?n.checked?"true":"false":n.value),n=c,n!==o?(i.setValue(n),!0):!1}function hu(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var v2=/[\n"\\]/g;function Rs(n){return n.replace(v2,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Qh(n,i,o,c,f,m,C,A){n.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.type=C:n.removeAttribute("type"),i!=null?C==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Os(i)):n.value!==""+Os(i)&&(n.value=""+Os(i)):C!=="submit"&&C!=="reset"||n.removeAttribute("value"),i!=null?Xh(n,C,Os(i)):o!=null?Xh(n,C,Os(o)):c!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.name=""+Os(A):n.removeAttribute("name")}function Hx(n,i,o,c,f,m,C,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){Kh(n);return}o=o!=null?""+Os(o):"",i=i!=null?""+Os(i):o,A||i===n.value||(n.value=i),n.defaultValue=i}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=A?n.checked:!!c,n.defaultChecked=!!c,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(n.name=C),Kh(n)}function Xh(n,i,o){i==="number"&&hu(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function qr(n,i,o,c){if(n=n.options,i){i={};for(var f=0;f<o.length;f++)i["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=i.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&c&&(n[o].defaultSelected=!0)}else{for(o=""+Os(o),i=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Ux(n,i,o){if(i!=null&&(i=""+Os(i),i!==n.value&&(n.value=i),o==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=o!=null?""+Os(o):""}function qx(n,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(a(92));if(ie(c)){if(1<c.length)throw Error(a(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=Os(i),n.defaultValue=o,c=n.textContent,c===o&&c!==""&&c!==null&&(n.value=c),Kh(n)}function Yr(n,i){if(i){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=i;return}}n.textContent=i}var S2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yx(n,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":c?n.setProperty(i,o):typeof o!="number"||o===0||S2.has(i)?i==="float"?n.cssFloat=o:n[i]=(""+o).trim():n[i]=o+"px"}function Gx(n,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var f in i)c=i[f],i.hasOwnProperty(f)&&o[f]!==c&&Yx(n,f,c)}else for(var m in i)i.hasOwnProperty(m)&&Yx(n,m,i[m])}function Zh(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var w2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),C2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fu(n){return C2.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Di(){}var Jh=null;function ef(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Gr=null,$r=null;function $x(n){var i=Fr(n);if(i&&(n=i.stateNode)){var o=n[cn]||null;e:switch(n=i.stateNode,i.type){case"input":if(Qh(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Rs(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==n&&c.form===n.form){var f=c[cn]||null;if(!f)throw Error(a(90));Qh(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===n.form&&Fx(c)}break e;case"textarea":Ux(n,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&qr(n,!!o.multiple,i,!1)}}}var tf=!1;function Kx(n,i,o){if(tf)return n(i,o);tf=!0;try{var c=n(i);return c}finally{if(tf=!1,(Gr!==null||$r!==null)&&(ed(),Gr&&(i=Gr,n=$r,$r=Gr=null,$x(i),n)))for(i=0;i<n.length;i++)$x(n[i])}}function pl(n,i){var o=n.stateNode;if(o===null)return null;var c=o[cn]||null;if(c===null)return null;o=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nf=!1;if(Ei)try{var ml={};Object.defineProperty(ml,"passive",{get:function(){nf=!0}}),window.addEventListener("test",ml,ml),window.removeEventListener("test",ml,ml)}catch{nf=!1}var oa=null,sf=null,pu=null;function Qx(){if(pu)return pu;var n,i=sf,o=i.length,c,f="value"in oa?oa.value:oa.textContent,m=f.length;for(n=0;n<o&&i[n]===f[n];n++);var C=o-n;for(c=1;c<=C&&i[o-c]===f[m-c];c++);return pu=f.slice(n,1<c?1-c:void 0)}function mu(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function gu(){return!0}function Xx(){return!1}function ls(n){function i(o,c,f,m,C){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=C,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(o=n[A],this[A]=o?o(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?gu:Xx,this.isPropagationStopped=Xx,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=gu)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=gu)},persist:function(){},isPersistent:gu}),i}var Ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yu=ls(Ka),gl=b({},Ka,{view:0,detail:0}),j2=ls(gl),af,rf,yl,xu=b({},gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lf,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==yl&&(yl&&n.type==="mousemove"?(af=n.screenX-yl.screenX,rf=n.screenY-yl.screenY):rf=af=0,yl=n),af)},movementY:function(n){return"movementY"in n?n.movementY:rf}}),Zx=ls(xu),k2=b({},xu,{dataTransfer:0}),T2=ls(k2),D2=b({},gl,{relatedTarget:0}),of=ls(D2),E2=b({},Ka,{animationName:0,elapsedTime:0,pseudoElement:0}),M2=ls(E2),A2=b({},Ka,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),P2=ls(A2),O2=b({},Ka,{data:0}),Jx=ls(O2),R2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W2(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=I2[n])?!!i[n]:!1}function lf(){return W2}var N2=b({},gl,{key:function(n){if(n.key){var i=R2[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=mu(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?_2[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lf,charCode:function(n){return n.type==="keypress"?mu(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?mu(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),L2=ls(N2),z2=b({},xu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),e0=ls(z2),B2=b({},gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lf}),V2=ls(B2),F2=b({},Ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),H2=ls(F2),U2=b({},xu,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),q2=ls(U2),Y2=b({},Ka,{newState:0,oldState:0}),G2=ls(Y2),$2=[9,13,27,32],cf=Ei&&"CompositionEvent"in window,xl=null;Ei&&"documentMode"in document&&(xl=document.documentMode);var K2=Ei&&"TextEvent"in window&&!xl,t0=Ei&&(!cf||xl&&8<xl&&11>=xl),n0=" ",s0=!1;function i0(n,i){switch(n){case"keyup":return $2.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function a0(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Kr=!1;function Q2(n,i){switch(n){case"compositionend":return a0(i);case"keypress":return i.which!==32?null:(s0=!0,n0);case"textInput":return n=i.data,n===n0&&s0?null:n;default:return null}}function X2(n,i){if(Kr)return n==="compositionend"||!cf&&i0(n,i)?(n=Qx(),pu=sf=oa=null,Kr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return t0&&i.locale!=="ko"?null:i.data;default:return null}}var Z2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r0(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Z2[n.type]:i==="textarea"}function o0(n,i,o,c){Gr?$r?$r.push(c):$r=[c]:Gr=c,i=od(i,"onChange"),0<i.length&&(o=new yu("onChange","change",null,o,c),n.push({event:o,listeners:i}))}var bl=null,vl=null;function J2(n){Hv(n,0)}function bu(n){var i=fl(n);if(Fx(i))return n}function l0(n,i){if(n==="change")return i}var c0=!1;if(Ei){var uf;if(Ei){var df="oninput"in document;if(!df){var u0=document.createElement("div");u0.setAttribute("oninput","return;"),df=typeof u0.oninput=="function"}uf=df}else uf=!1;c0=uf&&(!document.documentMode||9<document.documentMode)}function d0(){bl&&(bl.detachEvent("onpropertychange",h0),vl=bl=null)}function h0(n){if(n.propertyName==="value"&&bu(vl)){var i=[];o0(i,vl,n,ef(n)),Kx(J2,i)}}function eM(n,i,o){n==="focusin"?(d0(),bl=i,vl=o,bl.attachEvent("onpropertychange",h0)):n==="focusout"&&d0()}function tM(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return bu(vl)}function nM(n,i){if(n==="click")return bu(i)}function sM(n,i){if(n==="input"||n==="change")return bu(i)}function iM(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Ss=typeof Object.is=="function"?Object.is:iM;function Sl(n,i){if(Ss(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var o=Object.keys(n),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!Ee.call(i,f)||!Ss(n[f],i[f]))return!1}return!0}function f0(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function p0(n,i){var o=f0(n);n=0;for(var c;o;){if(o.nodeType===3){if(c=n+o.textContent.length,n<=i&&c>=i)return{node:o,offset:i-n};n=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=f0(o)}}function m0(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?m0(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function g0(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=hu(n.document);i instanceof n.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)n=i.contentWindow;else break;i=hu(n.document)}return i}function hf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var aM=Ei&&"documentMode"in document&&11>=document.documentMode,Qr=null,ff=null,wl=null,pf=!1;function y0(n,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;pf||Qr==null||Qr!==hu(c)||(c=Qr,"selectionStart"in c&&hf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),wl&&Sl(wl,c)||(wl=c,c=od(ff,"onSelect"),0<c.length&&(i=new yu("onSelect","select",null,i,o),n.push({event:i,listeners:c}),i.target=Qr)))}function Qa(n,i){var o={};return o[n.toLowerCase()]=i.toLowerCase(),o["Webkit"+n]="webkit"+i,o["Moz"+n]="moz"+i,o}var Xr={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionrun:Qa("Transition","TransitionRun"),transitionstart:Qa("Transition","TransitionStart"),transitioncancel:Qa("Transition","TransitionCancel"),transitionend:Qa("Transition","TransitionEnd")},mf={},x0={};Ei&&(x0=document.createElement("div").style,"AnimationEvent"in window||(delete Xr.animationend.animation,delete Xr.animationiteration.animation,delete Xr.animationstart.animation),"TransitionEvent"in window||delete Xr.transitionend.transition);function Xa(n){if(mf[n])return mf[n];if(!Xr[n])return n;var i=Xr[n],o;for(o in i)if(i.hasOwnProperty(o)&&o in x0)return mf[n]=i[o];return n}var b0=Xa("animationend"),v0=Xa("animationiteration"),S0=Xa("animationstart"),rM=Xa("transitionrun"),oM=Xa("transitionstart"),lM=Xa("transitioncancel"),w0=Xa("transitionend"),C0=new Map,gf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gf.push("scrollEnd");function Zs(n,i){C0.set(n,i),$a(i,[n])}var vu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},_s=[],Zr=0,yf=0;function Su(){for(var n=Zr,i=yf=Zr=0;i<n;){var o=_s[i];_s[i++]=null;var c=_s[i];_s[i++]=null;var f=_s[i];_s[i++]=null;var m=_s[i];if(_s[i++]=null,c!==null&&f!==null){var C=c.pending;C===null?f.next=f:(f.next=C.next,C.next=f),c.pending=f}m!==0&&j0(o,f,m)}}function wu(n,i,o,c){_s[Zr++]=n,_s[Zr++]=i,_s[Zr++]=o,_s[Zr++]=c,yf|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function xf(n,i,o,c){return wu(n,i,o,c),Cu(n)}function Za(n,i){return wu(n,null,null,i),Cu(n)}function j0(n,i,o){n.lanes|=o;var c=n.alternate;c!==null&&(c.lanes|=o);for(var f=!1,m=n.return;m!==null;)m.childLanes|=o,c=m.alternate,c!==null&&(c.childLanes|=o),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&i!==null&&(f=31-Pe(o),n=m.hiddenUpdates,c=n[f],c===null?n[f]=[i]:c.push(i),i.lane=o|536870912),m):null}function Cu(n){if(50<Ul)throw Ul=0,Dp=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Jr={};function cM(n,i,o,c){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ws(n,i,o,c){return new cM(n,i,o,c)}function bf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Mi(n,i){var o=n.alternate;return o===null?(o=ws(n.tag,i,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=i,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,i=n.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function k0(n,i){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function ju(n,i,o,c,f,m){var C=0;if(c=n,typeof n=="function")bf(n)&&(C=1);else if(typeof n=="string")C=pA(n,o,ue.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=ws(31,o,i,f),n.elementType=I,n.lanes=m,n;case k:return Ja(o.children,f,m,i);case w:C=8,f|=24;break;case j:return n=ws(12,o,i,f|2),n.elementType=j,n.lanes=m,n;case O:return n=ws(13,o,i,f),n.elementType=O,n.lanes=m,n;case R:return n=ws(19,o,i,f),n.elementType=R,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case M:C=10;break e;case E:C=9;break e;case W:C=11;break e;case _:C=14;break e;case L:C=16,c=null;break e}C=29,o=Error(a(130,n===null?"null":typeof n,"")),c=null}return i=ws(C,o,i,f),i.elementType=n,i.type=c,i.lanes=m,i}function Ja(n,i,o,c){return n=ws(7,n,c,i),n.lanes=o,n}function vf(n,i,o){return n=ws(6,n,null,i),n.lanes=o,n}function T0(n){var i=ws(18,null,null,0);return i.stateNode=n,i}function Sf(n,i,o){return i=ws(4,n.children!==null?n.children:[],n.key,i),i.lanes=o,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var D0=new WeakMap;function Is(n,i){if(typeof n=="object"&&n!==null){var o=D0.get(n);return o!==void 0?o:(i={value:n,source:i,stack:Fe(i)},D0.set(n,i),i)}return{value:n,source:i,stack:Fe(i)}}var eo=[],to=0,ku=null,Cl=0,Ws=[],Ns=0,la=null,ui=1,di="";function Ai(n,i){eo[to++]=Cl,eo[to++]=ku,ku=n,Cl=i}function E0(n,i,o){Ws[Ns++]=ui,Ws[Ns++]=di,Ws[Ns++]=la,la=n;var c=ui;n=di;var f=32-Pe(c)-1;c&=~(1<<f),o+=1;var m=32-Pe(i)+f;if(30<m){var C=f-f%5;m=(c&(1<<C)-1).toString(32),c>>=C,f-=C,ui=1<<32-Pe(i)+f|o<<f|c,di=m+n}else ui=1<<m|o<<f|c,di=n}function wf(n){n.return!==null&&(Ai(n,1),E0(n,1,0))}function Cf(n){for(;n===ku;)ku=eo[--to],eo[to]=null,Cl=eo[--to],eo[to]=null;for(;n===la;)la=Ws[--Ns],Ws[Ns]=null,di=Ws[--Ns],Ws[Ns]=null,ui=Ws[--Ns],Ws[Ns]=null}function M0(n,i){Ws[Ns++]=ui,Ws[Ns++]=di,Ws[Ns++]=la,ui=i.id,di=i.overflow,la=n}var Hn=null,Jt=null,Et=!1,ca=null,Ls=!1,jf=Error(a(519));function ua(n){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jl(Is(i,n)),jf}function A0(n){var i=n.stateNode,o=n.type,c=n.memoizedProps;switch(i[wt]=n,i[cn]=c,o){case"dialog":kt("cancel",i),kt("close",i);break;case"iframe":case"object":case"embed":kt("load",i);break;case"video":case"audio":for(o=0;o<Yl.length;o++)kt(Yl[o],i);break;case"source":kt("error",i);break;case"img":case"image":case"link":kt("error",i),kt("load",i);break;case"details":kt("toggle",i);break;case"input":kt("invalid",i),Hx(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":kt("invalid",i);break;case"textarea":kt("invalid",i),qx(i,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||Gv(i.textContent,o)?(c.popover!=null&&(kt("beforetoggle",i),kt("toggle",i)),c.onScroll!=null&&kt("scroll",i),c.onScrollEnd!=null&&kt("scrollend",i),c.onClick!=null&&(i.onclick=Di),i=!0):i=!1,i||ua(n,!0)}function P0(n){for(Hn=n.return;Hn;)switch(Hn.tag){case 5:case 31:case 13:Ls=!1;return;case 27:case 3:Ls=!0;return;default:Hn=Hn.return}}function no(n){if(n!==Hn)return!1;if(!Et)return P0(n),Et=!0,!1;var i=n.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Fp(n.type,n.memoizedProps)),o=!o),o&&Jt&&ua(n),P0(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));Jt=nS(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));Jt=nS(n)}else i===27?(i=Jt,ja(n.type)?(n=Gp,Gp=null,Jt=n):Jt=i):Jt=Hn?Bs(n.stateNode.nextSibling):null;return!0}function er(){Jt=Hn=null,Et=!1}function kf(){var n=ca;return n!==null&&(hs===null?hs=n:hs.push.apply(hs,n),ca=null),n}function jl(n){ca===null?ca=[n]:ca.push(n)}var Tf=be(null),tr=null,Pi=null;function da(n,i,o){ee(Tf,i._currentValue),i._currentValue=o}function Oi(n){n._currentValue=Tf.current,Q(Tf)}function Df(n,i,o){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===o)break;n=n.return}}function Ef(n,i,o,c){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var C=f.child;m=m.firstContext;e:for(;m!==null;){var A=m;m=f;for(var H=0;H<i.length;H++)if(A.context===i[H]){m.lanes|=o,A=m.alternate,A!==null&&(A.lanes|=o),Df(m.return,o,n),c||(C=null);break e}m=A.next}}else if(f.tag===18){if(C=f.return,C===null)throw Error(a(341));C.lanes|=o,m=C.alternate,m!==null&&(m.lanes|=o),Df(C,o,n),C=null}else C=f.child;if(C!==null)C.return=f;else for(C=f;C!==null;){if(C===n){C=null;break}if(f=C.sibling,f!==null){f.return=C.return,C=f;break}C=C.return}f=C}}function so(n,i,o,c){n=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var C=f.alternate;if(C===null)throw Error(a(387));if(C=C.memoizedProps,C!==null){var A=f.type;Ss(f.pendingProps.value,C.value)||(n!==null?n.push(A):n=[A])}}else if(f===ae.current){if(C=f.alternate,C===null)throw Error(a(387));C.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Xl):n=[Xl])}f=f.return}n!==null&&Ef(i,n,o,c),i.flags|=262144}function Tu(n){for(n=n.firstContext;n!==null;){if(!Ss(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function nr(n){tr=n,Pi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Un(n){return O0(tr,n)}function Du(n,i){return tr===null&&nr(n),O0(n,i)}function O0(n,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Pi===null){if(n===null)throw Error(a(308));Pi=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Pi=Pi.next=i;return o}var uM=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(o,c){n.push(c)}};this.abort=function(){i.aborted=!0,n.forEach(function(o){return o()})}},dM=e.unstable_scheduleCallback,hM=e.unstable_NormalPriority,En={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mf(){return{controller:new uM,data:new Map,refCount:0}}function kl(n){n.refCount--,n.refCount===0&&dM(hM,function(){n.controller.abort()})}var Tl=null,Af=0,io=0,ao=null;function fM(n,i){if(Tl===null){var o=Tl=[];Af=0,io=Rp(),ao={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Af++,i.then(R0,R0),i}function R0(){if(--Af===0&&Tl!==null){ao!==null&&(ao.status="fulfilled");var n=Tl;Tl=null,io=0,ao=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function pM(n,i){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){c.status="fulfilled",c.value=i;for(var f=0;f<o.length;f++)(0,o[f])(i)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var _0=V.S;V.S=function(n,i){yv=De(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&fM(n,i),_0!==null&&_0(n,i)};var sr=be(null);function Pf(){var n=sr.current;return n!==null?n:Yt.pooledCache}function Eu(n,i){i===null?ee(sr,sr.current):ee(sr,i.pool)}function I0(){var n=Pf();return n===null?null:{parent:En._currentValue,pool:n}}var ro=Error(a(460)),Of=Error(a(474)),Mu=Error(a(542)),Au={then:function(){}};function W0(n){return n=n.status,n==="fulfilled"||n==="rejected"}function N0(n,i,o){switch(o=n[o],o===void 0?n.push(i):o!==i&&(i.then(Di,Di),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,z0(n),n;default:if(typeof i.status=="string")i.then(Di,Di);else{if(n=Yt,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(c){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=c}},function(c){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,z0(n),n}throw ar=i,ro}}function ir(n){try{var i=n._init;return i(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ar=o,ro):o}}var ar=null;function L0(){if(ar===null)throw Error(a(459));var n=ar;return ar=null,n}function z0(n){if(n===ro||n===Mu)throw Error(a(483))}var oo=null,Dl=0;function Pu(n){var i=Dl;return Dl+=1,oo===null&&(oo=[]),N0(oo,n,i)}function El(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Ou(n,i){throw i.$$typeof===v?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function B0(n){function i(Z,$){if(n){var ne=Z.deletions;ne===null?(Z.deletions=[$],Z.flags|=16):ne.push($)}}function o(Z,$){if(!n)return null;for(;$!==null;)i(Z,$),$=$.sibling;return null}function c(Z){for(var $=new Map;Z!==null;)Z.key!==null?$.set(Z.key,Z):$.set(Z.index,Z),Z=Z.sibling;return $}function f(Z,$){return Z=Mi(Z,$),Z.index=0,Z.sibling=null,Z}function m(Z,$,ne){return Z.index=ne,n?(ne=Z.alternate,ne!==null?(ne=ne.index,ne<$?(Z.flags|=67108866,$):ne):(Z.flags|=67108866,$)):(Z.flags|=1048576,$)}function C(Z){return n&&Z.alternate===null&&(Z.flags|=67108866),Z}function A(Z,$,ne,Ce){return $===null||$.tag!==6?($=vf(ne,Z.mode,Ce),$.return=Z,$):($=f($,ne),$.return=Z,$)}function H(Z,$,ne,Ce){var et=ne.type;return et===k?xe(Z,$,ne.props.children,Ce,ne.key):$!==null&&($.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===L&&ir(et)===$.type)?($=f($,ne.props),El($,ne),$.return=Z,$):($=ju(ne.type,ne.key,ne.props,null,Z.mode,Ce),El($,ne),$.return=Z,$)}function se(Z,$,ne,Ce){return $===null||$.tag!==4||$.stateNode.containerInfo!==ne.containerInfo||$.stateNode.implementation!==ne.implementation?($=Sf(ne,Z.mode,Ce),$.return=Z,$):($=f($,ne.children||[]),$.return=Z,$)}function xe(Z,$,ne,Ce,et){return $===null||$.tag!==7?($=Ja(ne,Z.mode,Ce,et),$.return=Z,$):($=f($,ne),$.return=Z,$)}function je(Z,$,ne){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=vf(""+$,Z.mode,ne),$.return=Z,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case S:return ne=ju($.type,$.key,$.props,null,Z.mode,ne),El(ne,$),ne.return=Z,ne;case T:return $=Sf($,Z.mode,ne),$.return=Z,$;case L:return $=ir($),je(Z,$,ne)}if(ie($)||z($))return $=Ja($,Z.mode,ne,null),$.return=Z,$;if(typeof $.then=="function")return je(Z,Pu($),ne);if($.$$typeof===M)return je(Z,Du(Z,$),ne);Ou(Z,$)}return null}function re(Z,$,ne,Ce){var et=$!==null?$.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return et!==null?null:A(Z,$,""+ne,Ce);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case S:return ne.key===et?H(Z,$,ne,Ce):null;case T:return ne.key===et?se(Z,$,ne,Ce):null;case L:return ne=ir(ne),re(Z,$,ne,Ce)}if(ie(ne)||z(ne))return et!==null?null:xe(Z,$,ne,Ce,null);if(typeof ne.then=="function")return re(Z,$,Pu(ne),Ce);if(ne.$$typeof===M)return re(Z,$,Du(Z,ne),Ce);Ou(Z,ne)}return null}function de(Z,$,ne,Ce,et){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return Z=Z.get(ne)||null,A($,Z,""+Ce,et);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case S:return Z=Z.get(Ce.key===null?ne:Ce.key)||null,H($,Z,Ce,et);case T:return Z=Z.get(Ce.key===null?ne:Ce.key)||null,se($,Z,Ce,et);case L:return Ce=ir(Ce),de(Z,$,ne,Ce,et)}if(ie(Ce)||z(Ce))return Z=Z.get(ne)||null,xe($,Z,Ce,et,null);if(typeof Ce.then=="function")return de(Z,$,ne,Pu(Ce),et);if(Ce.$$typeof===M)return de(Z,$,ne,Du($,Ce),et);Ou($,Ce)}return null}function Ue(Z,$,ne,Ce){for(var et=null,Pt=null,Ge=$,St=$=0,Dt=null;Ge!==null&&St<ne.length;St++){Ge.index>St?(Dt=Ge,Ge=null):Dt=Ge.sibling;var Ot=re(Z,Ge,ne[St],Ce);if(Ot===null){Ge===null&&(Ge=Dt);break}n&&Ge&&Ot.alternate===null&&i(Z,Ge),$=m(Ot,$,St),Pt===null?et=Ot:Pt.sibling=Ot,Pt=Ot,Ge=Dt}if(St===ne.length)return o(Z,Ge),Et&&Ai(Z,St),et;if(Ge===null){for(;St<ne.length;St++)Ge=je(Z,ne[St],Ce),Ge!==null&&($=m(Ge,$,St),Pt===null?et=Ge:Pt.sibling=Ge,Pt=Ge);return Et&&Ai(Z,St),et}for(Ge=c(Ge);St<ne.length;St++)Dt=de(Ge,Z,St,ne[St],Ce),Dt!==null&&(n&&Dt.alternate!==null&&Ge.delete(Dt.key===null?St:Dt.key),$=m(Dt,$,St),Pt===null?et=Dt:Pt.sibling=Dt,Pt=Dt);return n&&Ge.forEach(function(Ma){return i(Z,Ma)}),Et&&Ai(Z,St),et}function ot(Z,$,ne,Ce){if(ne==null)throw Error(a(151));for(var et=null,Pt=null,Ge=$,St=$=0,Dt=null,Ot=ne.next();Ge!==null&&!Ot.done;St++,Ot=ne.next()){Ge.index>St?(Dt=Ge,Ge=null):Dt=Ge.sibling;var Ma=re(Z,Ge,Ot.value,Ce);if(Ma===null){Ge===null&&(Ge=Dt);break}n&&Ge&&Ma.alternate===null&&i(Z,Ge),$=m(Ma,$,St),Pt===null?et=Ma:Pt.sibling=Ma,Pt=Ma,Ge=Dt}if(Ot.done)return o(Z,Ge),Et&&Ai(Z,St),et;if(Ge===null){for(;!Ot.done;St++,Ot=ne.next())Ot=je(Z,Ot.value,Ce),Ot!==null&&($=m(Ot,$,St),Pt===null?et=Ot:Pt.sibling=Ot,Pt=Ot);return Et&&Ai(Z,St),et}for(Ge=c(Ge);!Ot.done;St++,Ot=ne.next())Ot=de(Ge,Z,St,Ot.value,Ce),Ot!==null&&(n&&Ot.alternate!==null&&Ge.delete(Ot.key===null?St:Ot.key),$=m(Ot,$,St),Pt===null?et=Ot:Pt.sibling=Ot,Pt=Ot);return n&&Ge.forEach(function(kA){return i(Z,kA)}),Et&&Ai(Z,St),et}function Ut(Z,$,ne,Ce){if(typeof ne=="object"&&ne!==null&&ne.type===k&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case S:e:{for(var et=ne.key;$!==null;){if($.key===et){if(et=ne.type,et===k){if($.tag===7){o(Z,$.sibling),Ce=f($,ne.props.children),Ce.return=Z,Z=Ce;break e}}else if($.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===L&&ir(et)===$.type){o(Z,$.sibling),Ce=f($,ne.props),El(Ce,ne),Ce.return=Z,Z=Ce;break e}o(Z,$);break}else i(Z,$);$=$.sibling}ne.type===k?(Ce=Ja(ne.props.children,Z.mode,Ce,ne.key),Ce.return=Z,Z=Ce):(Ce=ju(ne.type,ne.key,ne.props,null,Z.mode,Ce),El(Ce,ne),Ce.return=Z,Z=Ce)}return C(Z);case T:e:{for(et=ne.key;$!==null;){if($.key===et)if($.tag===4&&$.stateNode.containerInfo===ne.containerInfo&&$.stateNode.implementation===ne.implementation){o(Z,$.sibling),Ce=f($,ne.children||[]),Ce.return=Z,Z=Ce;break e}else{o(Z,$);break}else i(Z,$);$=$.sibling}Ce=Sf(ne,Z.mode,Ce),Ce.return=Z,Z=Ce}return C(Z);case L:return ne=ir(ne),Ut(Z,$,ne,Ce)}if(ie(ne))return Ue(Z,$,ne,Ce);if(z(ne)){if(et=z(ne),typeof et!="function")throw Error(a(150));return ne=et.call(ne),ot(Z,$,ne,Ce)}if(typeof ne.then=="function")return Ut(Z,$,Pu(ne),Ce);if(ne.$$typeof===M)return Ut(Z,$,Du(Z,ne),Ce);Ou(Z,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,$!==null&&$.tag===6?(o(Z,$.sibling),Ce=f($,ne),Ce.return=Z,Z=Ce):(o(Z,$),Ce=vf(ne,Z.mode,Ce),Ce.return=Z,Z=Ce),C(Z)):o(Z,$)}return function(Z,$,ne,Ce){try{Dl=0;var et=Ut(Z,$,ne,Ce);return oo=null,et}catch(Ge){if(Ge===ro||Ge===Mu)throw Ge;var Pt=ws(29,Ge,null,Z.mode);return Pt.lanes=Ce,Pt.return=Z,Pt}finally{}}}var rr=B0(!0),V0=B0(!1),ha=!1;function Rf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _f(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function fa(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function pa(n,i,o){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Rt&2)!==0){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,i=Cu(n),j0(n,null,o),i}return wu(n,c,i,o),Cu(n)}function Ml(n,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=n.pendingLanes,o|=c,i.lanes=o,ra(n,o)}}function If(n,i){var o=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var C={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=C:m=m.next=C,o=o.next}while(o!==null);m===null?f=m=i:m=m.next=i}else f=m=i;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=i:n.next=i,o.lastBaseUpdate=i}var Wf=!1;function Al(){if(Wf){var n=ao;if(n!==null)throw n}}function Pl(n,i,o,c){Wf=!1;var f=n.updateQueue;ha=!1;var m=f.firstBaseUpdate,C=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var H=A,se=H.next;H.next=null,C===null?m=se:C.next=se,C=H;var xe=n.alternate;xe!==null&&(xe=xe.updateQueue,A=xe.lastBaseUpdate,A!==C&&(A===null?xe.firstBaseUpdate=se:A.next=se,xe.lastBaseUpdate=H))}if(m!==null){var je=f.baseState;C=0,xe=se=H=null,A=m;do{var re=A.lane&-536870913,de=re!==A.lane;if(de?(Tt&re)===re:(c&re)===re){re!==0&&re===io&&(Wf=!0),xe!==null&&(xe=xe.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Ue=n,ot=A;re=i;var Ut=o;switch(ot.tag){case 1:if(Ue=ot.payload,typeof Ue=="function"){je=Ue.call(Ut,je,re);break e}je=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=ot.payload,re=typeof Ue=="function"?Ue.call(Ut,je,re):Ue,re==null)break e;je=b({},je,re);break e;case 2:ha=!0}}re=A.callback,re!==null&&(n.flags|=64,de&&(n.flags|=8192),de=f.callbacks,de===null?f.callbacks=[re]:de.push(re))}else de={lane:re,tag:A.tag,payload:A.payload,callback:A.callback,next:null},xe===null?(se=xe=de,H=je):xe=xe.next=de,C|=re;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;de=A,A=de.next,de.next=null,f.lastBaseUpdate=de,f.shared.pending=null}}while(!0);xe===null&&(H=je),f.baseState=H,f.firstBaseUpdate=se,f.lastBaseUpdate=xe,m===null&&(f.shared.lanes=0),ba|=C,n.lanes=C,n.memoizedState=je}}function F0(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function H0(n,i){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)F0(o[n],i)}var lo=be(null),Ru=be(0);function U0(n,i){n=Vi,ee(Ru,n),ee(lo,i),Vi=n|i.baseLanes}function Nf(){ee(Ru,Vi),ee(lo,lo.current)}function Lf(){Vi=Ru.current,Q(lo),Q(Ru)}var Cs=be(null),zs=null;function ma(n){var i=n.alternate;ee(bn,bn.current&1),ee(Cs,n),zs===null&&(i===null||lo.current!==null||i.memoizedState!==null)&&(zs=n)}function zf(n){ee(bn,bn.current),ee(Cs,n),zs===null&&(zs=n)}function q0(n){n.tag===22?(ee(bn,bn.current),ee(Cs,n),zs===null&&(zs=n)):ga()}function ga(){ee(bn,bn.current),ee(Cs,Cs.current)}function js(n){Q(Cs),zs===n&&(zs=null),Q(bn)}var bn=be(0);function _u(n){for(var i=n;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||qp(o)||Yp(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ri=0,vt=null,Ft=null,Mn=null,Iu=!1,co=!1,or=!1,Wu=0,Ol=0,uo=null,mM=0;function fn(){throw Error(a(321))}function Bf(n,i){if(i===null)return!1;for(var o=0;o<i.length&&o<n.length;o++)if(!Ss(n[o],i[o]))return!1;return!0}function Vf(n,i,o,c,f,m){return Ri=m,vt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,V.H=n===null||n.memoizedState===null?Eb:np,or=!1,m=o(c,f),or=!1,co&&(m=G0(i,o,c,f)),Y0(n),m}function Y0(n){V.H=Il;var i=Ft!==null&&Ft.next!==null;if(Ri=0,Mn=Ft=vt=null,Iu=!1,Ol=0,uo=null,i)throw Error(a(300));n===null||An||(n=n.dependencies,n!==null&&Tu(n)&&(An=!0))}function G0(n,i,o,c){vt=n;var f=0;do{if(co&&(uo=null),Ol=0,co=!1,25<=f)throw Error(a(301));if(f+=1,Mn=Ft=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}V.H=Mb,m=i(o,c)}while(co);return m}function gM(){var n=V.H,i=n.useState()[0];return i=typeof i.then=="function"?Rl(i):i,n=n.useState()[0],(Ft!==null?Ft.memoizedState:null)!==n&&(vt.flags|=1024),i}function Ff(){var n=Wu!==0;return Wu=0,n}function Hf(n,i,o){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~o}function Uf(n){if(Iu){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Iu=!1}Ri=0,Mn=Ft=vt=null,co=!1,Ol=Wu=0,uo=null}function ns(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mn===null?vt.memoizedState=Mn=n:Mn=Mn.next=n,Mn}function vn(){if(Ft===null){var n=vt.alternate;n=n!==null?n.memoizedState:null}else n=Ft.next;var i=Mn===null?vt.memoizedState:Mn.next;if(i!==null)Mn=i,Ft=n;else{if(n===null)throw vt.alternate===null?Error(a(467)):Error(a(310));Ft=n,n={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Mn===null?vt.memoizedState=Mn=n:Mn=Mn.next=n}return Mn}function Nu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rl(n){var i=Ol;return Ol+=1,uo===null&&(uo=[]),n=N0(uo,n,i),i=vt,(Mn===null?i.memoizedState:Mn.next)===null&&(i=i.alternate,V.H=i===null||i.memoizedState===null?Eb:np),n}function Lu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Rl(n);if(n.$$typeof===M)return Un(n)}throw Error(a(438,String(n)))}function qf(n){var i=null,o=vt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=vt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Nu(),vt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(n),c=0;c<n;c++)o[c]=F;return i.index++,o}function _i(n,i){return typeof i=="function"?i(n):i}function zu(n){var i=vn();return Yf(i,Ft,n)}function Yf(n,i,o){var c=n.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=o;var f=n.baseQueue,m=c.pending;if(m!==null){if(f!==null){var C=f.next;f.next=m.next,m.next=C}i.baseQueue=f=m,c.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{i=f.next;var A=C=null,H=null,se=i,xe=!1;do{var je=se.lane&-536870913;if(je!==se.lane?(Tt&je)===je:(Ri&je)===je){var re=se.revertLane;if(re===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),je===io&&(xe=!0);else if((Ri&re)===re){se=se.next,re===io&&(xe=!0);continue}else je={lane:0,revertLane:se.revertLane,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},H===null?(A=H=je,C=m):H=H.next=je,vt.lanes|=re,ba|=re;je=se.action,or&&o(m,je),m=se.hasEagerState?se.eagerState:o(m,je)}else re={lane:je,revertLane:se.revertLane,gesture:se.gesture,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},H===null?(A=H=re,C=m):H=H.next=re,vt.lanes|=je,ba|=je;se=se.next}while(se!==null&&se!==i);if(H===null?C=m:H.next=A,!Ss(m,n.memoizedState)&&(An=!0,xe&&(o=ao,o!==null)))throw o;n.memoizedState=m,n.baseState=C,n.baseQueue=H,c.lastRenderedState=m}return f===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function Gf(n){var i=vn(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=n;var c=o.dispatch,f=o.pending,m=i.memoizedState;if(f!==null){o.pending=null;var C=f=f.next;do m=n(m,C.action),C=C.next;while(C!==f);Ss(m,i.memoizedState)||(An=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),o.lastRenderedState=m}return[m,c]}function $0(n,i,o){var c=vt,f=vn(),m=Et;if(m){if(o===void 0)throw Error(a(407));o=o()}else o=i();var C=!Ss((Ft||f).memoizedState,o);if(C&&(f.memoizedState=o,An=!0),f=f.queue,Qf(X0.bind(null,c,f,n),[n]),f.getSnapshot!==i||C||Mn!==null&&Mn.memoizedState.tag&1){if(c.flags|=2048,ho(9,{destroy:void 0},Q0.bind(null,c,f,o,i),null),Yt===null)throw Error(a(349));m||(Ri&127)!==0||K0(c,i,o)}return o}function K0(n,i,o){n.flags|=16384,n={getSnapshot:i,value:o},i=vt.updateQueue,i===null?(i=Nu(),vt.updateQueue=i,i.stores=[n]):(o=i.stores,o===null?i.stores=[n]:o.push(n))}function Q0(n,i,o,c){i.value=o,i.getSnapshot=c,Z0(i)&&J0(n)}function X0(n,i,o){return o(function(){Z0(i)&&J0(n)})}function Z0(n){var i=n.getSnapshot;n=n.value;try{var o=i();return!Ss(n,o)}catch{return!0}}function J0(n){var i=Za(n,2);i!==null&&fs(i,n,2)}function $f(n){var i=ns();if(typeof n=="function"){var o=n;if(n=o(),or){mt(!0);try{o()}finally{mt(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:n},i}function eb(n,i,o,c){return n.baseState=o,Yf(n,Ft,typeof c=="function"?c:_i)}function yM(n,i,o,c,f){if(Fu(n))throw Error(a(485));if(n=i.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){m.listeners.push(C)}};V.T!==null?o(!0):m.isTransition=!1,c(m),o=i.pending,o===null?(m.next=i.pending=m,tb(i,m)):(m.next=o.next,i.pending=o.next=m)}}function tb(n,i){var o=i.action,c=i.payload,f=n.state;if(i.isTransition){var m=V.T,C={};V.T=C;try{var A=o(f,c),H=V.S;H!==null&&H(C,A),nb(n,i,A)}catch(se){Kf(n,i,se)}finally{m!==null&&C.types!==null&&(m.types=C.types),V.T=m}}else try{m=o(f,c),nb(n,i,m)}catch(se){Kf(n,i,se)}}function nb(n,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){sb(n,i,c)},function(c){return Kf(n,i,c)}):sb(n,i,o)}function sb(n,i,o){i.status="fulfilled",i.value=o,ib(i),n.state=o,i=n.pending,i!==null&&(o=i.next,o===i?n.pending=null:(o=o.next,i.next=o,tb(n,o)))}function Kf(n,i,o){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,ib(i),i=i.next;while(i!==c)}n.action=null}function ib(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function ab(n,i){return i}function rb(n,i){if(Et){var o=Yt.formState;if(o!==null){e:{var c=vt;if(Et){if(Jt){t:{for(var f=Jt,m=Ls;f.nodeType!==8;){if(!m){f=null;break t}if(f=Bs(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Jt=Bs(f.nextSibling),c=f.data==="F!";break e}}ua(c)}c=!1}c&&(i=o[0])}}return o=ns(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ab,lastRenderedState:i},o.queue=c,o=kb.bind(null,vt,c),c.dispatch=o,c=$f(!1),m=tp.bind(null,vt,!1,c.queue),c=ns(),f={state:i,dispatch:null,action:n,pending:null},c.queue=f,o=yM.bind(null,vt,f,m,o),f.dispatch=o,c.memoizedState=n,[i,o,!1]}function ob(n){var i=vn();return lb(i,Ft,n)}function lb(n,i,o){if(i=Yf(n,i,ab)[0],n=zu(_i)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Rl(i)}catch(C){throw C===ro?Mu:C}else c=i;i=vn();var f=i.queue,m=f.dispatch;return o!==i.memoizedState&&(vt.flags|=2048,ho(9,{destroy:void 0},xM.bind(null,f,o),null)),[c,m,n]}function xM(n,i){n.action=i}function cb(n){var i=vn(),o=Ft;if(o!==null)return lb(i,o,n);vn(),i=i.memoizedState,o=vn();var c=o.queue.dispatch;return o.memoizedState=n,[i,c,!1]}function ho(n,i,o,c){return n={tag:n,create:o,deps:c,inst:i,next:null},i=vt.updateQueue,i===null&&(i=Nu(),vt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=n.next=n:(c=o.next,o.next=n,n.next=c,i.lastEffect=n),n}function ub(){return vn().memoizedState}function Bu(n,i,o,c){var f=ns();vt.flags|=n,f.memoizedState=ho(1|i,{destroy:void 0},o,c===void 0?null:c)}function Vu(n,i,o,c){var f=vn();c=c===void 0?null:c;var m=f.memoizedState.inst;Ft!==null&&c!==null&&Bf(c,Ft.memoizedState.deps)?f.memoizedState=ho(i,m,o,c):(vt.flags|=n,f.memoizedState=ho(1|i,m,o,c))}function db(n,i){Bu(8390656,8,n,i)}function Qf(n,i){Vu(2048,8,n,i)}function bM(n){vt.flags|=4;var i=vt.updateQueue;if(i===null)i=Nu(),vt.updateQueue=i,i.events=[n];else{var o=i.events;o===null?i.events=[n]:o.push(n)}}function hb(n){var i=vn().memoizedState;return bM({ref:i,nextImpl:n}),function(){if((Rt&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function fb(n,i){return Vu(4,2,n,i)}function pb(n,i){return Vu(4,4,n,i)}function mb(n,i){if(typeof i=="function"){n=n();var o=i(n);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function gb(n,i,o){o=o!=null?o.concat([n]):null,Vu(4,4,mb.bind(null,i,n),o)}function Xf(){}function yb(n,i){var o=vn();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&Bf(i,c[1])?c[0]:(o.memoizedState=[n,i],n)}function xb(n,i){var o=vn();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&Bf(i,c[1]))return c[0];if(c=n(),or){mt(!0);try{n()}finally{mt(!1)}}return o.memoizedState=[c,i],c}function Zf(n,i,o){return o===void 0||(Ri&1073741824)!==0&&(Tt&261930)===0?n.memoizedState=i:(n.memoizedState=o,n=bv(),vt.lanes|=n,ba|=n,o)}function bb(n,i,o,c){return Ss(o,i)?o:lo.current!==null?(n=Zf(n,o,c),Ss(n,i)||(An=!0),n):(Ri&42)===0||(Ri&1073741824)!==0&&(Tt&261930)===0?(An=!0,n.memoizedState=o):(n=bv(),vt.lanes|=n,ba|=n,i)}function vb(n,i,o,c,f){var m=q.p;q.p=m!==0&&8>m?m:8;var C=V.T,A={};V.T=A,tp(n,!1,i,o);try{var H=f(),se=V.S;if(se!==null&&se(A,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var xe=pM(H,c);_l(n,i,xe,Ds(n))}else _l(n,i,c,Ds(n))}catch(je){_l(n,i,{then:function(){},status:"rejected",reason:je},Ds())}finally{q.p=m,C!==null&&A.types!==null&&(C.types=A.types),V.T=C}}function vM(){}function Jf(n,i,o,c){if(n.tag!==5)throw Error(a(476));var f=Sb(n).queue;vb(n,f,i,le,o===null?vM:function(){return wb(n),o(c)})}function Sb(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:le},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:o},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function wb(n){var i=Sb(n);i.next===null&&(i=n.alternate.memoizedState),_l(n,i.next.queue,{},Ds())}function ep(){return Un(Xl)}function Cb(){return vn().memoizedState}function jb(){return vn().memoizedState}function SM(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var o=Ds();n=fa(o);var c=pa(i,n,o);c!==null&&(fs(c,i,o),Ml(c,i,o)),i={cache:Mf()},n.payload=i;return}i=i.return}}function wM(n,i,o){var c=Ds();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Fu(n)?Tb(i,o):(o=xf(n,i,o,c),o!==null&&(fs(o,n,c),Db(o,i,c)))}function kb(n,i,o){var c=Ds();_l(n,i,o,c)}function _l(n,i,o,c){var f={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Fu(n))Tb(i,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var C=i.lastRenderedState,A=m(C,o);if(f.hasEagerState=!0,f.eagerState=A,Ss(A,C))return wu(n,i,f,0),Yt===null&&Su(),!1}catch{}finally{}if(o=xf(n,i,f,c),o!==null)return fs(o,n,c),Db(o,i,c),!0}return!1}function tp(n,i,o,c){if(c={lane:2,revertLane:Rp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Fu(n)){if(i)throw Error(a(479))}else i=xf(n,o,c,2),i!==null&&fs(i,n,2)}function Fu(n){var i=n.alternate;return n===vt||i!==null&&i===vt}function Tb(n,i){co=Iu=!0;var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}function Db(n,i,o){if((o&4194048)!==0){var c=i.lanes;c&=n.pendingLanes,o|=c,i.lanes=o,ra(n,o)}}var Il={readContext:Un,use:Lu,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useLayoutEffect:fn,useInsertionEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useSyncExternalStore:fn,useId:fn,useHostTransitionStatus:fn,useFormState:fn,useActionState:fn,useOptimistic:fn,useMemoCache:fn,useCacheRefresh:fn};Il.useEffectEvent=fn;var Eb={readContext:Un,use:Lu,useCallback:function(n,i){return ns().memoizedState=[n,i===void 0?null:i],n},useContext:Un,useEffect:db,useImperativeHandle:function(n,i,o){o=o!=null?o.concat([n]):null,Bu(4194308,4,mb.bind(null,i,n),o)},useLayoutEffect:function(n,i){return Bu(4194308,4,n,i)},useInsertionEffect:function(n,i){Bu(4,2,n,i)},useMemo:function(n,i){var o=ns();i=i===void 0?null:i;var c=n();if(or){mt(!0);try{n()}finally{mt(!1)}}return o.memoizedState=[c,i],c},useReducer:function(n,i,o){var c=ns();if(o!==void 0){var f=o(i);if(or){mt(!0);try{o(i)}finally{mt(!1)}}}else f=i;return c.memoizedState=c.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},c.queue=n,n=n.dispatch=wM.bind(null,vt,n),[c.memoizedState,n]},useRef:function(n){var i=ns();return n={current:n},i.memoizedState=n},useState:function(n){n=$f(n);var i=n.queue,o=kb.bind(null,vt,i);return i.dispatch=o,[n.memoizedState,o]},useDebugValue:Xf,useDeferredValue:function(n,i){var o=ns();return Zf(o,n,i)},useTransition:function(){var n=$f(!1);return n=vb.bind(null,vt,n.queue,!0,!1),ns().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,o){var c=vt,f=ns();if(Et){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),Yt===null)throw Error(a(349));(Tt&127)!==0||K0(c,i,o)}f.memoizedState=o;var m={value:o,getSnapshot:i};return f.queue=m,db(X0.bind(null,c,m,n),[n]),c.flags|=2048,ho(9,{destroy:void 0},Q0.bind(null,c,m,o,i),null),o},useId:function(){var n=ns(),i=Yt.identifierPrefix;if(Et){var o=di,c=ui;o=(c&~(1<<32-Pe(c)-1)).toString(32)+o,i="_"+i+"R_"+o,o=Wu++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=mM++,i="_"+i+"r_"+o.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:ep,useFormState:rb,useActionState:rb,useOptimistic:function(n){var i=ns();i.memoizedState=i.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=tp.bind(null,vt,!0,o),o.dispatch=i,[n,i]},useMemoCache:qf,useCacheRefresh:function(){return ns().memoizedState=SM.bind(null,vt)},useEffectEvent:function(n){var i=ns(),o={impl:n};return i.memoizedState=o,function(){if((Rt&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},np={readContext:Un,use:Lu,useCallback:yb,useContext:Un,useEffect:Qf,useImperativeHandle:gb,useInsertionEffect:fb,useLayoutEffect:pb,useMemo:xb,useReducer:zu,useRef:ub,useState:function(){return zu(_i)},useDebugValue:Xf,useDeferredValue:function(n,i){var o=vn();return bb(o,Ft.memoizedState,n,i)},useTransition:function(){var n=zu(_i)[0],i=vn().memoizedState;return[typeof n=="boolean"?n:Rl(n),i]},useSyncExternalStore:$0,useId:Cb,useHostTransitionStatus:ep,useFormState:ob,useActionState:ob,useOptimistic:function(n,i){var o=vn();return eb(o,Ft,n,i)},useMemoCache:qf,useCacheRefresh:jb};np.useEffectEvent=hb;var Mb={readContext:Un,use:Lu,useCallback:yb,useContext:Un,useEffect:Qf,useImperativeHandle:gb,useInsertionEffect:fb,useLayoutEffect:pb,useMemo:xb,useReducer:Gf,useRef:ub,useState:function(){return Gf(_i)},useDebugValue:Xf,useDeferredValue:function(n,i){var o=vn();return Ft===null?Zf(o,n,i):bb(o,Ft.memoizedState,n,i)},useTransition:function(){var n=Gf(_i)[0],i=vn().memoizedState;return[typeof n=="boolean"?n:Rl(n),i]},useSyncExternalStore:$0,useId:Cb,useHostTransitionStatus:ep,useFormState:cb,useActionState:cb,useOptimistic:function(n,i){var o=vn();return Ft!==null?eb(o,Ft,n,i):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:qf,useCacheRefresh:jb};Mb.useEffectEvent=hb;function sp(n,i,o,c){i=n.memoizedState,o=o(c,i),o=o==null?i:b({},i,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var ip={enqueueSetState:function(n,i,o){n=n._reactInternals;var c=Ds(),f=fa(c);f.payload=i,o!=null&&(f.callback=o),i=pa(n,f,c),i!==null&&(fs(i,n,c),Ml(i,n,c))},enqueueReplaceState:function(n,i,o){n=n._reactInternals;var c=Ds(),f=fa(c);f.tag=1,f.payload=i,o!=null&&(f.callback=o),i=pa(n,f,c),i!==null&&(fs(i,n,c),Ml(i,n,c))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var o=Ds(),c=fa(o);c.tag=2,i!=null&&(c.callback=i),i=pa(n,c,o),i!==null&&(fs(i,n,o),Ml(i,n,o))}};function Ab(n,i,o,c,f,m,C){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,C):i.prototype&&i.prototype.isPureReactComponent?!Sl(o,c)||!Sl(f,m):!0}function Pb(n,i,o,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==n&&ip.enqueueReplaceState(i,i.state,null)}function lr(n,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(n=n.defaultProps){o===i&&(o=b({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}function Ob(n){vu(n)}function Rb(n){console.error(n)}function _b(n){vu(n)}function Hu(n,i){try{var o=n.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function Ib(n,i,o){try{var c=n.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function ap(n,i,o){return o=fa(o),o.tag=3,o.payload={element:null},o.callback=function(){Hu(n,i)},o}function Wb(n){return n=fa(n),n.tag=3,n}function Nb(n,i,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=c.value;n.payload=function(){return f(m)},n.callback=function(){Ib(i,o,c)}}var C=o.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(n.callback=function(){Ib(i,o,c),typeof f!="function"&&(va===null?va=new Set([this]):va.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function CM(n,i,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&so(i,o,f,!0),o=Cs.current,o!==null){switch(o.tag){case 31:case 13:return zs===null?td():o.alternate===null&&pn===0&&(pn=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===Au?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),Ap(n,c,f)),!1;case 22:return o.flags|=65536,c===Au?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),Ap(n,c,f)),!1}throw Error(a(435,o.tag))}return Ap(n,c,f),td(),!1}if(Et)return i=Cs.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,c!==jf&&(n=Error(a(422),{cause:c}),jl(Is(n,o)))):(c!==jf&&(i=Error(a(423),{cause:c}),jl(Is(i,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,c=Is(c,o),f=ap(n.stateNode,c,f),If(n,f),pn!==4&&(pn=2)),!1;var m=Error(a(520),{cause:c});if(m=Is(m,o),Hl===null?Hl=[m]:Hl.push(m),pn!==4&&(pn=2),i===null)return!0;c=Is(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=ap(o.stateNode,c,n),If(o,n),!1;case 1:if(i=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(va===null||!va.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Wb(f),Nb(f,n,o,c),If(o,f),!1}o=o.return}while(o!==null);return!1}var rp=Error(a(461)),An=!1;function qn(n,i,o,c){i.child=n===null?V0(i,null,o,c):rr(i,n.child,o,c)}function Lb(n,i,o,c,f){o=o.render;var m=i.ref;if("ref"in c){var C={};for(var A in c)A!=="ref"&&(C[A]=c[A])}else C=c;return nr(i),c=Vf(n,i,o,C,m,f),A=Ff(),n!==null&&!An?(Hf(n,i,f),Ii(n,i,f)):(Et&&A&&wf(i),i.flags|=1,qn(n,i,c,f),i.child)}function zb(n,i,o,c,f){if(n===null){var m=o.type;return typeof m=="function"&&!bf(m)&&m.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=m,Bb(n,i,m,c,f)):(n=ju(o.type,null,c,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!pp(n,f)){var C=m.memoizedProps;if(o=o.compare,o=o!==null?o:Sl,o(C,c)&&n.ref===i.ref)return Ii(n,i,f)}return i.flags|=1,n=Mi(m,c),n.ref=i.ref,n.return=i,i.child=n}function Bb(n,i,o,c,f){if(n!==null){var m=n.memoizedProps;if(Sl(m,c)&&n.ref===i.ref)if(An=!1,i.pendingProps=c=m,pp(n,f))(n.flags&131072)!==0&&(An=!0);else return i.lanes=n.lanes,Ii(n,i,f)}return op(n,i,o,c,f)}function Vb(n,i,o,c){var f=c.children,m=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,n!==null){for(c=i.child=n.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~m}else c=0,i.child=null;return Fb(n,i,m,o,c)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Eu(i,m!==null?m.cachePool:null),m!==null?U0(i,m):Nf(),q0(i);else return c=i.lanes=536870912,Fb(n,i,m!==null?m.baseLanes|o:o,o,c)}else m!==null?(Eu(i,m.cachePool),U0(i,m),ga(),i.memoizedState=null):(n!==null&&Eu(i,null),Nf(),ga());return qn(n,i,f,o),i.child}function Wl(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Fb(n,i,o,c,f){var m=Pf();return m=m===null?null:{parent:En._currentValue,pool:m},i.memoizedState={baseLanes:o,cachePool:m},n!==null&&Eu(i,null),Nf(),q0(i),n!==null&&so(n,i,c,!0),i.childLanes=f,null}function Uu(n,i){return i=Yu({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function Hb(n,i,o){return rr(i,n.child,null,o),n=Uu(i,i.pendingProps),n.flags|=2,js(i),i.memoizedState=null,n}function jM(n,i,o){var c=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(Et){if(c.mode==="hidden")return n=Uu(i,c),i.lanes=536870912,Wl(null,n);if(zf(i),(n=Jt)?(n=tS(n,Ls),n=n!==null&&n.data==="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:la!==null?{id:ui,overflow:di}:null,retryLane:536870912,hydrationErrors:null},o=T0(n),o.return=i,i.child=o,Hn=i,Jt=null)):n=null,n===null)throw ua(i);return i.lanes=536870912,null}return Uu(i,c)}var m=n.memoizedState;if(m!==null){var C=m.dehydrated;if(zf(i),f)if(i.flags&256)i.flags&=-257,i=Hb(n,i,o);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(a(558));else if(An||so(n,i,o,!1),f=(o&n.childLanes)!==0,An||f){if(c=Yt,c!==null&&(C=ki(c,o),C!==0&&C!==m.retryLane))throw m.retryLane=C,Za(n,C),fs(c,n,C),rp;td(),i=Hb(n,i,o)}else n=m.treeContext,Jt=Bs(C.nextSibling),Hn=i,Et=!0,ca=null,Ls=!1,n!==null&&M0(i,n),i=Uu(i,c),i.flags|=4096;return i}return n=Mi(n.child,{mode:c.mode,children:c.children}),n.ref=i.ref,i.child=n,n.return=i,n}function qu(n,i){var o=i.ref;if(o===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(n===null||n.ref!==o)&&(i.flags|=4194816)}}function op(n,i,o,c,f){return nr(i),o=Vf(n,i,o,c,void 0,f),c=Ff(),n!==null&&!An?(Hf(n,i,f),Ii(n,i,f)):(Et&&c&&wf(i),i.flags|=1,qn(n,i,o,f),i.child)}function Ub(n,i,o,c,f,m){return nr(i),i.updateQueue=null,o=G0(i,c,o,f),Y0(n),c=Ff(),n!==null&&!An?(Hf(n,i,m),Ii(n,i,m)):(Et&&c&&wf(i),i.flags|=1,qn(n,i,o,m),i.child)}function qb(n,i,o,c,f){if(nr(i),i.stateNode===null){var m=Jr,C=o.contextType;typeof C=="object"&&C!==null&&(m=Un(C)),m=new o(c,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=ip,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=c,m.state=i.memoizedState,m.refs={},Rf(i),C=o.contextType,m.context=typeof C=="object"&&C!==null?Un(C):Jr,m.state=i.memoizedState,C=o.getDerivedStateFromProps,typeof C=="function"&&(sp(i,o,C,c),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(C=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),C!==m.state&&ip.enqueueReplaceState(m,m.state,null),Pl(i,c,m,f),Al(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(n===null){m=i.stateNode;var A=i.memoizedProps,H=lr(o,A);m.props=H;var se=m.context,xe=o.contextType;C=Jr,typeof xe=="object"&&xe!==null&&(C=Un(xe));var je=o.getDerivedStateFromProps;xe=typeof je=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,xe||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||se!==C)&&Pb(i,m,c,C),ha=!1;var re=i.memoizedState;m.state=re,Pl(i,c,m,f),Al(),se=i.memoizedState,A||re!==se||ha?(typeof je=="function"&&(sp(i,o,je,c),se=i.memoizedState),(H=ha||Ab(i,o,H,c,re,se,C))?(xe||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=se),m.props=c,m.state=se,m.context=C,c=H):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{m=i.stateNode,_f(n,i),C=i.memoizedProps,xe=lr(o,C),m.props=xe,je=i.pendingProps,re=m.context,se=o.contextType,H=Jr,typeof se=="object"&&se!==null&&(H=Un(se)),A=o.getDerivedStateFromProps,(se=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(C!==je||re!==H)&&Pb(i,m,c,H),ha=!1,re=i.memoizedState,m.state=re,Pl(i,c,m,f),Al();var de=i.memoizedState;C!==je||re!==de||ha||n!==null&&n.dependencies!==null&&Tu(n.dependencies)?(typeof A=="function"&&(sp(i,o,A,c),de=i.memoizedState),(xe=ha||Ab(i,o,xe,c,re,de,H)||n!==null&&n.dependencies!==null&&Tu(n.dependencies))?(se||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,de,H),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,de,H)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||C===n.memoizedProps&&re===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&re===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=de),m.props=c,m.state=de,m.context=H,c=xe):(typeof m.componentDidUpdate!="function"||C===n.memoizedProps&&re===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&re===n.memoizedState||(i.flags|=1024),c=!1)}return m=c,qu(n,i),c=(i.flags&128)!==0,m||c?(m=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&c?(i.child=rr(i,n.child,null,f),i.child=rr(i,null,o,f)):qn(n,i,o,f),i.memoizedState=m.state,n=i.child):n=Ii(n,i,f),n}function Yb(n,i,o,c){return er(),i.flags|=256,qn(n,i,o,c),i.child}var lp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cp(n){return{baseLanes:n,cachePool:I0()}}function up(n,i,o){return n=n!==null?n.childLanes&~o:0,i&&(n|=Ts),n}function Gb(n,i,o){var c=i.pendingProps,f=!1,m=(i.flags&128)!==0,C;if((C=m)||(C=n!==null&&n.memoizedState===null?!1:(bn.current&2)!==0),C&&(f=!0,i.flags&=-129),C=(i.flags&32)!==0,i.flags&=-33,n===null){if(Et){if(f?ma(i):ga(),(n=Jt)?(n=tS(n,Ls),n=n!==null&&n.data!=="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:la!==null?{id:ui,overflow:di}:null,retryLane:536870912,hydrationErrors:null},o=T0(n),o.return=i,i.child=o,Hn=i,Jt=null)):n=null,n===null)throw ua(i);return Yp(n)?i.lanes=32:i.lanes=536870912,null}var A=c.children;return c=c.fallback,f?(ga(),f=i.mode,A=Yu({mode:"hidden",children:A},f),c=Ja(c,f,o,null),A.return=i,c.return=i,A.sibling=c,i.child=A,c=i.child,c.memoizedState=cp(o),c.childLanes=up(n,C,o),i.memoizedState=lp,Wl(null,c)):(ma(i),dp(i,A))}var H=n.memoizedState;if(H!==null&&(A=H.dehydrated,A!==null)){if(m)i.flags&256?(ma(i),i.flags&=-257,i=hp(n,i,o)):i.memoizedState!==null?(ga(),i.child=n.child,i.flags|=128,i=null):(ga(),A=c.fallback,f=i.mode,c=Yu({mode:"visible",children:c.children},f),A=Ja(A,f,o,null),A.flags|=2,c.return=i,A.return=i,c.sibling=A,i.child=c,rr(i,n.child,null,o),c=i.child,c.memoizedState=cp(o),c.childLanes=up(n,C,o),i.memoizedState=lp,i=Wl(null,c));else if(ma(i),Yp(A)){if(C=A.nextSibling&&A.nextSibling.dataset,C)var se=C.dgst;C=se,c=Error(a(419)),c.stack="",c.digest=C,jl({value:c,source:null,stack:null}),i=hp(n,i,o)}else if(An||so(n,i,o,!1),C=(o&n.childLanes)!==0,An||C){if(C=Yt,C!==null&&(c=ki(C,o),c!==0&&c!==H.retryLane))throw H.retryLane=c,Za(n,c),fs(C,n,c),rp;qp(A)||td(),i=hp(n,i,o)}else qp(A)?(i.flags|=192,i.child=n.child,i=null):(n=H.treeContext,Jt=Bs(A.nextSibling),Hn=i,Et=!0,ca=null,Ls=!1,n!==null&&M0(i,n),i=dp(i,c.children),i.flags|=4096);return i}return f?(ga(),A=c.fallback,f=i.mode,H=n.child,se=H.sibling,c=Mi(H,{mode:"hidden",children:c.children}),c.subtreeFlags=H.subtreeFlags&65011712,se!==null?A=Mi(se,A):(A=Ja(A,f,o,null),A.flags|=2),A.return=i,c.return=i,c.sibling=A,i.child=c,Wl(null,c),c=i.child,A=n.child.memoizedState,A===null?A=cp(o):(f=A.cachePool,f!==null?(H=En._currentValue,f=f.parent!==H?{parent:H,pool:H}:f):f=I0(),A={baseLanes:A.baseLanes|o,cachePool:f}),c.memoizedState=A,c.childLanes=up(n,C,o),i.memoizedState=lp,Wl(n.child,c)):(ma(i),o=n.child,n=o.sibling,o=Mi(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,n!==null&&(C=i.deletions,C===null?(i.deletions=[n],i.flags|=16):C.push(n)),i.child=o,i.memoizedState=null,o)}function dp(n,i){return i=Yu({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Yu(n,i){return n=ws(22,n,null,i),n.lanes=0,n}function hp(n,i,o){return rr(i,n.child,null,o),n=dp(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function $b(n,i,o){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),Df(n.return,i,o)}function fp(n,i,o,c,f,m){var C=n.memoizedState;C===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f,treeForkCount:m}:(C.isBackwards=i,C.rendering=null,C.renderingStartTime=0,C.last=c,C.tail=o,C.tailMode=f,C.treeForkCount=m)}function Kb(n,i,o){var c=i.pendingProps,f=c.revealOrder,m=c.tail;c=c.children;var C=bn.current,A=(C&2)!==0;if(A?(C=C&1|2,i.flags|=128):C&=1,ee(bn,C),qn(n,i,c,o),c=Et?Cl:0,!A&&n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&$b(n,o,i);else if(n.tag===19)$b(n,o,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(o=i.child,f=null;o!==null;)n=o.alternate,n!==null&&_u(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=i.child,i.child=null):(f=o.sibling,o.sibling=null),fp(i,!1,f,o,m,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&_u(n)===null){i.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}fp(i,!0,o,null,m,c);break;case"together":fp(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function Ii(n,i,o){if(n!==null&&(i.dependencies=n.dependencies),ba|=i.lanes,(o&i.childLanes)===0)if(n!==null){if(so(n,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,o=Mi(n,n.pendingProps),i.child=o,o.return=i;n.sibling!==null;)n=n.sibling,o=o.sibling=Mi(n,n.pendingProps),o.return=i;o.sibling=null}return i.child}function pp(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Tu(n)))}function kM(n,i,o){switch(i.tag){case 3:Y(i,i.stateNode.containerInfo),da(i,En,n.memoizedState.cache),er();break;case 27:case 5:G(i);break;case 4:Y(i,i.stateNode.containerInfo);break;case 10:da(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,zf(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(ma(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Gb(n,i,o):(ma(i),n=Ii(n,i,o),n!==null?n.sibling:null);ma(i);break;case 19:var f=(n.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(so(n,i,o,!1),c=(o&i.childLanes)!==0),f){if(c)return Kb(n,i,o);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ee(bn,bn.current),c)break;return null;case 22:return i.lanes=0,Vb(n,i,o,i.pendingProps);case 24:da(i,En,n.memoizedState.cache)}return Ii(n,i,o)}function Qb(n,i,o){if(n!==null)if(n.memoizedProps!==i.pendingProps)An=!0;else{if(!pp(n,o)&&(i.flags&128)===0)return An=!1,kM(n,i,o);An=(n.flags&131072)!==0}else An=!1,Et&&(i.flags&1048576)!==0&&E0(i,Cl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var c=i.pendingProps;if(n=ir(i.elementType),i.type=n,typeof n=="function")bf(n)?(c=lr(n,c),i.tag=1,i=qb(null,i,n,c,o)):(i.tag=0,i=op(null,i,n,c,o));else{if(n!=null){var f=n.$$typeof;if(f===W){i.tag=11,i=Lb(null,i,n,c,o);break e}else if(f===_){i.tag=14,i=zb(null,i,n,c,o);break e}}throw i=U(n)||n,Error(a(306,i,""))}}return i;case 0:return op(n,i,i.type,i.pendingProps,o);case 1:return c=i.type,f=lr(c,i.pendingProps),qb(n,i,c,f,o);case 3:e:{if(Y(i,i.stateNode.containerInfo),n===null)throw Error(a(387));c=i.pendingProps;var m=i.memoizedState;f=m.element,_f(n,i),Pl(i,c,null,o);var C=i.memoizedState;if(c=C.cache,da(i,En,c),c!==m.cache&&Ef(i,[En],o,!0),Al(),c=C.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:C.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=Yb(n,i,c,o);break e}else if(c!==f){f=Is(Error(a(424)),i),jl(f),i=Yb(n,i,c,o);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Jt=Bs(n.firstChild),Hn=i,Et=!0,ca=null,Ls=!0,o=V0(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(er(),c===f){i=Ii(n,i,o);break e}qn(n,i,c,o)}i=i.child}return i;case 26:return qu(n,i),n===null?(o=oS(i.type,null,i.pendingProps,null))?i.memoizedState=o:Et||(o=i.type,n=i.pendingProps,c=ld(ge.current).createElement(o),c[wt]=i,c[cn]=n,Yn(c,o,n),Bn(c),i.stateNode=c):i.memoizedState=oS(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return G(i),n===null&&Et&&(c=i.stateNode=iS(i.type,i.pendingProps,ge.current),Hn=i,Ls=!0,f=Jt,ja(i.type)?(Gp=f,Jt=Bs(c.firstChild)):Jt=f),qn(n,i,i.pendingProps.children,o),qu(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Et&&((f=c=Jt)&&(c=tA(c,i.type,i.pendingProps,Ls),c!==null?(i.stateNode=c,Hn=i,Jt=Bs(c.firstChild),Ls=!1,f=!0):f=!1),f||ua(i)),G(i),f=i.type,m=i.pendingProps,C=n!==null?n.memoizedProps:null,c=m.children,Fp(f,m)?c=null:C!==null&&Fp(f,C)&&(i.flags|=32),i.memoizedState!==null&&(f=Vf(n,i,gM,null,null,o),Xl._currentValue=f),qu(n,i),qn(n,i,c,o),i.child;case 6:return n===null&&Et&&((n=o=Jt)&&(o=nA(o,i.pendingProps,Ls),o!==null?(i.stateNode=o,Hn=i,Jt=null,n=!0):n=!1),n||ua(i)),null;case 13:return Gb(n,i,o);case 4:return Y(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=rr(i,null,c,o):qn(n,i,c,o),i.child;case 11:return Lb(n,i,i.type,i.pendingProps,o);case 7:return qn(n,i,i.pendingProps,o),i.child;case 8:return qn(n,i,i.pendingProps.children,o),i.child;case 12:return qn(n,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,da(i,i.type,c.value),qn(n,i,c.children,o),i.child;case 9:return f=i.type._context,c=i.pendingProps.children,nr(i),f=Un(f),c=c(f),i.flags|=1,qn(n,i,c,o),i.child;case 14:return zb(n,i,i.type,i.pendingProps,o);case 15:return Bb(n,i,i.type,i.pendingProps,o);case 19:return Kb(n,i,o);case 31:return jM(n,i,o);case 22:return Vb(n,i,o,i.pendingProps);case 24:return nr(i),c=Un(En),n===null?(f=Pf(),f===null&&(f=Yt,m=Mf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),i.memoizedState={parent:c,cache:f},Rf(i),da(i,En,f)):((n.lanes&o)!==0&&(_f(n,i),Pl(i,null,null,o),Al()),f=n.memoizedState,m=i.memoizedState,f.parent!==c?(f={parent:c,cache:c},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),da(i,En,c)):(c=m.cache,da(i,En,c),c!==f.cache&&Ef(i,[En],o,!0))),qn(n,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Wi(n){n.flags|=4}function mp(n,i,o,c,f){if((i=(n.mode&32)!==0)&&(i=!1),i){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(Cv())n.flags|=8192;else throw ar=Au,Of}else n.flags&=-16777217}function Xb(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!hS(i))if(Cv())n.flags|=8192;else throw ar=Au,Of}function Gu(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?nt():536870912,n.lanes|=i,go|=i)}function Nl(n,i){if(!Et)switch(n.tailMode){case"hidden":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function en(n){var i=n.alternate!==null&&n.alternate.child===n.child,o=0,c=0;if(i)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=o,i}function TM(n,i,o){var c=i.pendingProps;switch(Cf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(i),null;case 1:return en(i),null;case 3:return o=i.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Oi(En),oe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(no(i)?Wi(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,kf())),en(i),null;case 26:var f=i.type,m=i.memoizedState;return n===null?(Wi(i),m!==null?(en(i),Xb(i,m)):(en(i),mp(i,f,null,c,o))):m?m!==n.memoizedState?(Wi(i),en(i),Xb(i,m)):(en(i),i.flags&=-16777217):(n=n.memoizedProps,n!==c&&Wi(i),en(i),mp(i,f,n,c,o)),null;case 27:if(he(i),o=ge.current,f=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==c&&Wi(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return en(i),null}n=ue.current,no(i)?A0(i):(n=iS(f,c,o),i.stateNode=n,Wi(i))}return en(i),null;case 5:if(he(i),f=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==c&&Wi(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return en(i),null}if(m=ue.current,no(i))A0(i);else{var C=ld(ge.current);switch(m){case 1:m=C.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=C.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=C.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=C.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=C.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?C.createElement("select",{is:c.is}):C.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?C.createElement(f,{is:c.is}):C.createElement(f)}}m[wt]=i,m[cn]=c;e:for(C=i.child;C!==null;){if(C.tag===5||C.tag===6)m.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===i)break e;for(;C.sibling===null;){if(C.return===null||C.return===i)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}i.stateNode=m;e:switch(Yn(m,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Wi(i)}}return en(i),mp(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,o),null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==c&&Wi(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(a(166));if(n=ge.current,no(i)){if(n=i.stateNode,o=i.memoizedProps,c=null,f=Hn,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}n[wt]=i,n=!!(n.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Gv(n.nodeValue,o)),n||ua(i,!0)}else n=ld(n).createTextNode(c),n[wt]=i,i.stateNode=n}return en(i),null;case 31:if(o=i.memoizedState,n===null||n.memoizedState!==null){if(c=no(i),o!==null){if(n===null){if(!c)throw Error(a(318));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(557));n[wt]=i}else er(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;en(i),n=!1}else o=kf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return i.flags&256?(js(i),i):(js(i),null);if((i.flags&128)!==0)throw Error(a(558))}return en(i),null;case 13:if(c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=no(i),c!==null&&c.dehydrated!==null){if(n===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[wt]=i}else er(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;en(i),f=!1}else f=kf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(js(i),i):(js(i),null)}return js(i),(i.flags&128)!==0?(i.lanes=o,i):(o=c!==null,n=n!==null&&n.memoizedState!==null,o&&(c=i.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==f&&(c.flags|=2048)),o!==n&&o&&(i.child.flags|=8192),Gu(i,i.updateQueue),en(i),null);case 4:return oe(),n===null&&Np(i.stateNode.containerInfo),en(i),null;case 10:return Oi(i.type),en(i),null;case 19:if(Q(bn),c=i.memoizedState,c===null)return en(i),null;if(f=(i.flags&128)!==0,m=c.rendering,m===null)if(f)Nl(c,!1);else{if(pn!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=_u(n),m!==null){for(i.flags|=128,Nl(c,!1),n=m.updateQueue,i.updateQueue=n,Gu(i,n),i.subtreeFlags=0,n=o,o=i.child;o!==null;)k0(o,n),o=o.sibling;return ee(bn,bn.current&1|2),Et&&Ai(i,c.treeForkCount),i.child}n=n.sibling}c.tail!==null&&De()>Zu&&(i.flags|=128,f=!0,Nl(c,!1),i.lanes=4194304)}else{if(!f)if(n=_u(m),n!==null){if(i.flags|=128,f=!0,n=n.updateQueue,i.updateQueue=n,Gu(i,n),Nl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!Et)return en(i),null}else 2*De()-c.renderingStartTime>Zu&&o!==536870912&&(i.flags|=128,f=!0,Nl(c,!1),i.lanes=4194304);c.isBackwards?(m.sibling=i.child,i.child=m):(n=c.last,n!==null?n.sibling=m:i.child=m,c.last=m)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=De(),n.sibling=null,o=bn.current,ee(bn,f?o&1|2:o&1),Et&&Ai(i,c.treeForkCount),n):(en(i),null);case 22:case 23:return js(i),Lf(),c=i.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(en(i),i.subtreeFlags&6&&(i.flags|=8192)):en(i),o=i.updateQueue,o!==null&&Gu(i,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),n!==null&&Q(sr),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Oi(En),en(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function DM(n,i){switch(Cf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Oi(En),oe(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return he(i),null;case 31:if(i.memoizedState!==null){if(js(i),i.alternate===null)throw Error(a(340));er()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if(js(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));er()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Q(bn),null;case 4:return oe(),null;case 10:return Oi(i.type),null;case 22:case 23:return js(i),Lf(),n!==null&&Q(sr),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Oi(En),null;case 25:return null;default:return null}}function Zb(n,i){switch(Cf(i),i.tag){case 3:Oi(En),oe();break;case 26:case 27:case 5:he(i);break;case 4:oe();break;case 31:i.memoizedState!==null&&js(i);break;case 13:js(i);break;case 19:Q(bn);break;case 10:Oi(i.type);break;case 22:case 23:js(i),Lf(),n!==null&&Q(sr);break;case 24:Oi(En)}}function Ll(n,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&n)===n){c=void 0;var m=o.create,C=o.inst;c=m(),C.destroy=c}o=o.next}while(o!==f)}}catch(A){zt(i,i.return,A)}}function ya(n,i,o){try{var c=i.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var m=f.next;c=m;do{if((c.tag&n)===n){var C=c.inst,A=C.destroy;if(A!==void 0){C.destroy=void 0,f=i;var H=o,se=A;try{se()}catch(xe){zt(f,H,xe)}}}c=c.next}while(c!==m)}}catch(xe){zt(i,i.return,xe)}}function Jb(n){var i=n.updateQueue;if(i!==null){var o=n.stateNode;try{H0(i,o)}catch(c){zt(n,n.return,c)}}}function ev(n,i,o){o.props=lr(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(c){zt(n,i,c)}}function zl(n,i){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof o=="function"?n.refCleanup=o(c):o.current=c}}catch(f){zt(n,i,f)}}function hi(n,i){var o=n.ref,c=n.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){zt(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){zt(n,i,f)}else o.current=null}function tv(n){var i=n.type,o=n.memoizedProps,c=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){zt(n,n.return,f)}}function gp(n,i,o){try{var c=n.stateNode;KM(c,n.type,o,i),c[cn]=i}catch(f){zt(n,n.return,f)}}function nv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ja(n.type)||n.tag===4}function yp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||nv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ja(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function xp(n,i,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(n),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Di));else if(c!==4&&(c===27&&ja(n.type)&&(o=n.stateNode,i=null),n=n.child,n!==null))for(xp(n,i,o),n=n.sibling;n!==null;)xp(n,i,o),n=n.sibling}function $u(n,i,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?o.insertBefore(n,i):o.appendChild(n);else if(c!==4&&(c===27&&ja(n.type)&&(o=n.stateNode),n=n.child,n!==null))for($u(n,i,o),n=n.sibling;n!==null;)$u(n,i,o),n=n.sibling}function sv(n){var i=n.stateNode,o=n.memoizedProps;try{for(var c=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Yn(i,c,o),i[wt]=n,i[cn]=o}catch(m){zt(n,n.return,m)}}var Ni=!1,Pn=!1,bp=!1,iv=typeof WeakSet=="function"?WeakSet:Set,Vn=null;function EM(n,i){if(n=n.containerInfo,Bp=md,n=g0(n),hf(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var C=0,A=-1,H=-1,se=0,xe=0,je=n,re=null;t:for(;;){for(var de;je!==o||f!==0&&je.nodeType!==3||(A=C+f),je!==m||c!==0&&je.nodeType!==3||(H=C+c),je.nodeType===3&&(C+=je.nodeValue.length),(de=je.firstChild)!==null;)re=je,je=de;for(;;){if(je===n)break t;if(re===o&&++se===f&&(A=C),re===m&&++xe===c&&(H=C),(de=je.nextSibling)!==null)break;je=re,re=je.parentNode}je=de}o=A===-1||H===-1?null:{start:A,end:H}}else o=null}o=o||{start:0,end:0}}else o=null;for(Vp={focusedElem:n,selectionRange:o},md=!1,Vn=i;Vn!==null;)if(i=Vn,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Vn=n;else for(;Vn!==null;){switch(i=Vn,m=i.alternate,n=i.flags,i.tag){case 0:if((n&4)!==0&&(n=i.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)f=n[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,o=i,f=m.memoizedProps,m=m.memoizedState,c=o.stateNode;try{var Ue=lr(o.type,f);n=c.getSnapshotBeforeUpdate(Ue,m),c.__reactInternalSnapshotBeforeUpdate=n}catch(ot){zt(o,o.return,ot)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,o=n.nodeType,o===9)Up(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Up(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,Vn=n;break}Vn=i.return}}function av(n,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:zi(n,o),c&4&&Ll(5,o);break;case 1:if(zi(n,o),c&4)if(n=o.stateNode,i===null)try{n.componentDidMount()}catch(C){zt(o,o.return,C)}else{var f=lr(o.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(C){zt(o,o.return,C)}}c&64&&Jb(o),c&512&&zl(o,o.return);break;case 3:if(zi(n,o),c&64&&(n=o.updateQueue,n!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{H0(n,i)}catch(C){zt(o,o.return,C)}}break;case 27:i===null&&c&4&&sv(o);case 26:case 5:zi(n,o),i===null&&c&4&&tv(o),c&512&&zl(o,o.return);break;case 12:zi(n,o);break;case 31:zi(n,o),c&4&&lv(n,o);break;case 13:zi(n,o),c&4&&cv(n,o),c&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=NM.bind(null,o),sA(n,o))));break;case 22:if(c=o.memoizedState!==null||Ni,!c){i=i!==null&&i.memoizedState!==null||Pn,f=Ni;var m=Pn;Ni=c,(Pn=i)&&!m?Bi(n,o,(o.subtreeFlags&8772)!==0):zi(n,o),Ni=f,Pn=m}break;case 30:break;default:zi(n,o)}}function rv(n){var i=n.alternate;i!==null&&(n.alternate=null,rv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&$h(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var an=null,cs=!1;function Li(n,i,o){for(o=o.child;o!==null;)ov(n,i,o),o=o.sibling}function ov(n,i,o){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(bt,o)}catch{}switch(o.tag){case 26:Pn||hi(o,i),Li(n,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Pn||hi(o,i);var c=an,f=cs;ja(o.type)&&(an=o.stateNode,cs=!1),Li(n,i,o),$l(o.stateNode),an=c,cs=f;break;case 5:Pn||hi(o,i);case 6:if(c=an,f=cs,an=null,Li(n,i,o),an=c,cs=f,an!==null)if(cs)try{(an.nodeType===9?an.body:an.nodeName==="HTML"?an.ownerDocument.body:an).removeChild(o.stateNode)}catch(m){zt(o,i,m)}else try{an.removeChild(o.stateNode)}catch(m){zt(o,i,m)}break;case 18:an!==null&&(cs?(n=an,Jv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),jo(n)):Jv(an,o.stateNode));break;case 4:c=an,f=cs,an=o.stateNode.containerInfo,cs=!0,Li(n,i,o),an=c,cs=f;break;case 0:case 11:case 14:case 15:ya(2,o,i),Pn||ya(4,o,i),Li(n,i,o);break;case 1:Pn||(hi(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&ev(o,i,c)),Li(n,i,o);break;case 21:Li(n,i,o);break;case 22:Pn=(c=Pn)||o.memoizedState!==null,Li(n,i,o),Pn=c;break;default:Li(n,i,o)}}function lv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{jo(n)}catch(o){zt(i,i.return,o)}}}function cv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{jo(n)}catch(o){zt(i,i.return,o)}}function MM(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new iv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new iv),i;default:throw Error(a(435,n.tag))}}function Ku(n,i){var o=MM(n);i.forEach(function(c){if(!o.has(c)){o.add(c);var f=LM.bind(null,n,c);c.then(f,f)}})}function us(n,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],m=n,C=i,A=C;e:for(;A!==null;){switch(A.tag){case 27:if(ja(A.type)){an=A.stateNode,cs=!1;break e}break;case 5:an=A.stateNode,cs=!1;break e;case 3:case 4:an=A.stateNode.containerInfo,cs=!0;break e}A=A.return}if(an===null)throw Error(a(160));ov(m,C,f),an=null,cs=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)uv(i,n),i=i.sibling}var Js=null;function uv(n,i){var o=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:us(i,n),ds(n),c&4&&(ya(3,n,n.return),Ll(3,n),ya(5,n,n.return));break;case 1:us(i,n),ds(n),c&512&&(Pn||o===null||hi(o,o.return)),c&64&&Ni&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=Js;if(us(i,n),ds(n),c&512&&(Pn||o===null||hi(o,o.return)),c&4){var m=o!==null?o.memoizedState:null;if(c=n.memoizedState,o===null)if(c===null)if(n.stateNode===null){e:{c=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":m=f.getElementsByTagName("title")[0],(!m||m[hl]||m[wt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(c),f.head.insertBefore(m,f.querySelector("head > title"))),Yn(m,c,o),m[wt]=n,Bn(m),c=m;break e;case"link":var C=uS("link","href",f).get(c+(o.href||""));if(C){for(var A=0;A<C.length;A++)if(m=C[A],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){C.splice(A,1);break t}}m=f.createElement(c),Yn(m,c,o),f.head.appendChild(m);break;case"meta":if(C=uS("meta","content",f).get(c+(o.content||""))){for(A=0;A<C.length;A++)if(m=C[A],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){C.splice(A,1);break t}}m=f.createElement(c),Yn(m,c,o),f.head.appendChild(m);break;default:throw Error(a(468,c))}m[wt]=n,Bn(m),c=m}n.stateNode=c}else dS(f,n.type,n.stateNode);else n.stateNode=cS(f,c,n.memoizedProps);else m!==c?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,c===null?dS(f,n.type,n.stateNode):cS(f,c,n.memoizedProps)):c===null&&n.stateNode!==null&&gp(n,n.memoizedProps,o.memoizedProps)}break;case 27:us(i,n),ds(n),c&512&&(Pn||o===null||hi(o,o.return)),o!==null&&c&4&&gp(n,n.memoizedProps,o.memoizedProps);break;case 5:if(us(i,n),ds(n),c&512&&(Pn||o===null||hi(o,o.return)),n.flags&32){f=n.stateNode;try{Yr(f,"")}catch(Ue){zt(n,n.return,Ue)}}c&4&&n.stateNode!=null&&(f=n.memoizedProps,gp(n,f,o!==null?o.memoizedProps:f)),c&1024&&(bp=!0);break;case 6:if(us(i,n),ds(n),c&4){if(n.stateNode===null)throw Error(a(162));c=n.memoizedProps,o=n.stateNode;try{o.nodeValue=c}catch(Ue){zt(n,n.return,Ue)}}break;case 3:if(dd=null,f=Js,Js=cd(i.containerInfo),us(i,n),Js=f,ds(n),c&4&&o!==null&&o.memoizedState.isDehydrated)try{jo(i.containerInfo)}catch(Ue){zt(n,n.return,Ue)}bp&&(bp=!1,dv(n));break;case 4:c=Js,Js=cd(n.stateNode.containerInfo),us(i,n),ds(n),Js=c;break;case 12:us(i,n),ds(n);break;case 31:us(i,n),ds(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Ku(n,c)));break;case 13:us(i,n),ds(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Xu=De()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Ku(n,c)));break;case 22:f=n.memoizedState!==null;var H=o!==null&&o.memoizedState!==null,se=Ni,xe=Pn;if(Ni=se||f,Pn=xe||H,us(i,n),Pn=xe,Ni=se,ds(n),c&8192)e:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(o===null||H||Ni||Pn||cr(n)),o=null,i=n;;){if(i.tag===5||i.tag===26){if(o===null){H=o=i;try{if(m=H.stateNode,f)C=m.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{A=H.stateNode;var je=H.memoizedProps.style,re=je!=null&&je.hasOwnProperty("display")?je.display:null;A.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(Ue){zt(H,H.return,Ue)}}}else if(i.tag===6){if(o===null){H=i;try{H.stateNode.nodeValue=f?"":H.memoizedProps}catch(Ue){zt(H,H.return,Ue)}}}else if(i.tag===18){if(o===null){H=i;try{var de=H.stateNode;f?eS(de,!0):eS(H.stateNode,!1)}catch(Ue){zt(H,H.return,Ue)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=n.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Ku(n,o))));break;case 19:us(i,n),ds(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Ku(n,c)));break;case 30:break;case 21:break;default:us(i,n),ds(n)}}function ds(n){var i=n.flags;if(i&2){try{for(var o,c=n.return;c!==null;){if(nv(c)){o=c;break}c=c.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var f=o.stateNode,m=yp(n);$u(n,m,f);break;case 5:var C=o.stateNode;o.flags&32&&(Yr(C,""),o.flags&=-33);var A=yp(n);$u(n,A,C);break;case 3:case 4:var H=o.stateNode.containerInfo,se=yp(n);xp(n,se,H);break;default:throw Error(a(161))}}catch(xe){zt(n,n.return,xe)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function dv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;dv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function zi(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)av(n,i.alternate,i),i=i.sibling}function cr(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:ya(4,i,i.return),cr(i);break;case 1:hi(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&ev(i,i.return,o),cr(i);break;case 27:$l(i.stateNode);case 26:case 5:hi(i,i.return),cr(i);break;case 22:i.memoizedState===null&&cr(i);break;case 30:cr(i);break;default:cr(i)}n=n.sibling}}function Bi(n,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,f=n,m=i,C=m.flags;switch(m.tag){case 0:case 11:case 15:Bi(f,m,o),Ll(4,m);break;case 1:if(Bi(f,m,o),c=m,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(se){zt(c,c.return,se)}if(c=m,f=c.updateQueue,f!==null){var A=c.stateNode;try{var H=f.shared.hiddenCallbacks;if(H!==null)for(f.shared.hiddenCallbacks=null,f=0;f<H.length;f++)F0(H[f],A)}catch(se){zt(c,c.return,se)}}o&&C&64&&Jb(m),zl(m,m.return);break;case 27:sv(m);case 26:case 5:Bi(f,m,o),o&&c===null&&C&4&&tv(m),zl(m,m.return);break;case 12:Bi(f,m,o);break;case 31:Bi(f,m,o),o&&C&4&&lv(f,m);break;case 13:Bi(f,m,o),o&&C&4&&cv(f,m);break;case 22:m.memoizedState===null&&Bi(f,m,o),zl(m,m.return);break;case 30:break;default:Bi(f,m,o)}i=i.sibling}}function vp(n,i){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&kl(o))}function Sp(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&kl(n))}function ei(n,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)hv(n,i,o,c),i=i.sibling}function hv(n,i,o,c){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ei(n,i,o,c),f&2048&&Ll(9,i);break;case 1:ei(n,i,o,c);break;case 3:ei(n,i,o,c),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&kl(n)));break;case 12:if(f&2048){ei(n,i,o,c),n=i.stateNode;try{var m=i.memoizedProps,C=m.id,A=m.onPostCommit;typeof A=="function"&&A(C,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(H){zt(i,i.return,H)}}else ei(n,i,o,c);break;case 31:ei(n,i,o,c);break;case 13:ei(n,i,o,c);break;case 23:break;case 22:m=i.stateNode,C=i.alternate,i.memoizedState!==null?m._visibility&2?ei(n,i,o,c):Bl(n,i):m._visibility&2?ei(n,i,o,c):(m._visibility|=2,fo(n,i,o,c,(i.subtreeFlags&10256)!==0||!1)),f&2048&&vp(C,i);break;case 24:ei(n,i,o,c),f&2048&&Sp(i.alternate,i);break;default:ei(n,i,o,c)}}function fo(n,i,o,c,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=n,C=i,A=o,H=c,se=C.flags;switch(C.tag){case 0:case 11:case 15:fo(m,C,A,H,f),Ll(8,C);break;case 23:break;case 22:var xe=C.stateNode;C.memoizedState!==null?xe._visibility&2?fo(m,C,A,H,f):Bl(m,C):(xe._visibility|=2,fo(m,C,A,H,f)),f&&se&2048&&vp(C.alternate,C);break;case 24:fo(m,C,A,H,f),f&&se&2048&&Sp(C.alternate,C);break;default:fo(m,C,A,H,f)}i=i.sibling}}function Bl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=n,c=i,f=c.flags;switch(c.tag){case 22:Bl(o,c),f&2048&&vp(c.alternate,c);break;case 24:Bl(o,c),f&2048&&Sp(c.alternate,c);break;default:Bl(o,c)}i=i.sibling}}var Vl=8192;function po(n,i,o){if(n.subtreeFlags&Vl)for(n=n.child;n!==null;)fv(n,i,o),n=n.sibling}function fv(n,i,o){switch(n.tag){case 26:po(n,i,o),n.flags&Vl&&n.memoizedState!==null&&mA(o,Js,n.memoizedState,n.memoizedProps);break;case 5:po(n,i,o);break;case 3:case 4:var c=Js;Js=cd(n.stateNode.containerInfo),po(n,i,o),Js=c;break;case 22:n.memoizedState===null&&(c=n.alternate,c!==null&&c.memoizedState!==null?(c=Vl,Vl=16777216,po(n,i,o),Vl=c):po(n,i,o));break;default:po(n,i,o)}}function pv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Fl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Vn=c,gv(c,n)}pv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)mv(n),n=n.sibling}function mv(n){switch(n.tag){case 0:case 11:case 15:Fl(n),n.flags&2048&&ya(9,n,n.return);break;case 3:Fl(n);break;case 12:Fl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Qu(n)):Fl(n);break;default:Fl(n)}}function Qu(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Vn=c,gv(c,n)}pv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:ya(8,i,i.return),Qu(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Qu(i));break;default:Qu(i)}n=n.sibling}}function gv(n,i){for(;Vn!==null;){var o=Vn;switch(o.tag){case 0:case 11:case 15:ya(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:kl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Vn=c;else e:for(o=n;Vn!==null;){c=Vn;var f=c.sibling,m=c.return;if(rv(c),c===o){Vn=null;break e}if(f!==null){f.return=m,Vn=f;break e}Vn=m}}}var AM={getCacheForType:function(n){var i=Un(En),o=i.data.get(n);return o===void 0&&(o=n(),i.data.set(n,o)),o},cacheSignal:function(){return Un(En).controller.signal}},PM=typeof WeakMap=="function"?WeakMap:Map,Rt=0,Yt=null,jt=null,Tt=0,Lt=0,ks=null,xa=!1,mo=!1,wp=!1,Vi=0,pn=0,ba=0,ur=0,Cp=0,Ts=0,go=0,Hl=null,hs=null,jp=!1,Xu=0,yv=0,Zu=1/0,Ju=null,va=null,Rn=0,Sa=null,yo=null,Fi=0,kp=0,Tp=null,xv=null,Ul=0,Dp=null;function Ds(){return(Rt&2)!==0&&Tt!==0?Tt&-Tt:V.T!==null?Rp():ye()}function bv(){if(Ts===0)if((Tt&536870912)===0||Et){var n=It;It<<=1,(It&3932160)===0&&(It=262144),Ts=n}else Ts=536870912;return n=Cs.current,n!==null&&(n.flags|=32),Ts}function fs(n,i,o){(n===Yt&&(Lt===2||Lt===9)||n.cancelPendingCommit!==null)&&(xo(n,0),wa(n,Tt,Ts,!1)),ln(n,o),((Rt&2)===0||n!==Yt)&&(n===Yt&&((Rt&2)===0&&(ur|=o),pn===4&&wa(n,Tt,Ts,!1)),fi(n))}function vv(n,i,o){if((Rt&6)!==0)throw Error(a(327));var c=!o&&(i&127)===0&&(i&n.expiredLanes)===0||es(n,i),f=c?_M(n,i):Mp(n,i,!0),m=c;do{if(f===0){mo&&!c&&wa(n,i,0,!1);break}else{if(o=n.current.alternate,m&&!OM(o)){f=Mp(n,i,!1),m=!1;continue}if(f===2){if(m=i,n.errorRecoveryDisabledLanes&m)var C=0;else C=n.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){i=C;e:{var A=n;f=Hl;var H=A.current.memoizedState.isDehydrated;if(H&&(xo(A,C).flags|=256),C=Mp(A,C,!1),C!==2){if(wp&&!H){A.errorRecoveryDisabledLanes|=m,ur|=m,f=4;break e}m=hs,hs=f,m!==null&&(hs===null?hs=m:hs.push.apply(hs,m))}f=C}if(m=!1,f!==2)continue}}if(f===1){xo(n,0),wa(n,i,0,!0);break}e:{switch(c=n,m=f,m){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:wa(c,i,Ts,!xa);break e;case 2:hs=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=Xu+300-De(),10<f)){if(wa(c,i,Ts,!xa),Fn(c,0,!0)!==0)break e;Fi=i,c.timeoutHandle=Xv(Sv.bind(null,c,o,hs,Ju,jp,i,Ts,ur,go,xa,m,"Throttled",-0,0),f);break e}Sv(c,o,hs,Ju,jp,i,Ts,ur,go,xa,m,null,-0,0)}}break}while(!0);fi(n)}function Sv(n,i,o,c,f,m,C,A,H,se,xe,je,re,de){if(n.timeoutHandle=-1,je=i.subtreeFlags,je&8192||(je&16785408)===16785408){je={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Di},fv(i,m,je);var Ue=(m&62914560)===m?Xu-De():(m&4194048)===m?yv-De():0;if(Ue=gA(je,Ue),Ue!==null){Fi=m,n.cancelPendingCommit=Ue(Mv.bind(null,n,i,m,o,c,f,C,A,H,xe,je,null,re,de)),wa(n,m,C,!se);return}}Mv(n,i,m,o,c,f,C,A,H)}function OM(n){for(var i=n;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],m=f.getSnapshot;f=f.value;try{if(!Ss(m(),f))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function wa(n,i,o,c){i&=~Cp,i&=~ur,n.suspendedLanes|=i,n.pingedLanes&=~i,c&&(n.warmLanes|=i),c=n.expirationTimes;for(var f=i;0<f;){var m=31-Pe(f),C=1<<m;c[m]=-1,f&=~C}o!==0&&Ga(n,o,i)}function ed(){return(Rt&6)===0?(ql(0),!1):!0}function Ep(){if(jt!==null){if(Lt===0)var n=jt.return;else n=jt,Pi=tr=null,Uf(n),oo=null,Dl=0,n=jt;for(;n!==null;)Zb(n.alternate,n),n=n.return;jt=null}}function xo(n,i){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,ZM(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Fi=0,Ep(),Yt=n,jt=o=Mi(n.current,null),Tt=i,Lt=0,ks=null,xa=!1,mo=es(n,i),wp=!1,go=Ts=Cp=ur=ba=pn=0,hs=Hl=null,jp=!1,(i&8)!==0&&(i|=i&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=i;0<c;){var f=31-Pe(c),m=1<<f;i|=n[f],c&=~m}return Vi=i,Su(),o}function wv(n,i){vt=null,V.H=Il,i===ro||i===Mu?(i=L0(),Lt=3):i===Of?(i=L0(),Lt=4):Lt=i===rp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ks=i,jt===null&&(pn=1,Hu(n,Is(i,n.current)))}function Cv(){var n=Cs.current;return n===null?!0:(Tt&4194048)===Tt?zs===null:(Tt&62914560)===Tt||(Tt&536870912)!==0?n===zs:!1}function jv(){var n=V.H;return V.H=Il,n===null?Il:n}function kv(){var n=V.A;return V.A=AM,n}function td(){pn=4,xa||(Tt&4194048)!==Tt&&Cs.current!==null||(mo=!0),(ba&134217727)===0&&(ur&134217727)===0||Yt===null||wa(Yt,Tt,Ts,!1)}function Mp(n,i,o){var c=Rt;Rt|=2;var f=jv(),m=kv();(Yt!==n||Tt!==i)&&(Ju=null,xo(n,i)),i=!1;var C=pn;e:do try{if(Lt!==0&&jt!==null){var A=jt,H=ks;switch(Lt){case 8:Ep(),C=6;break e;case 3:case 2:case 9:case 6:Cs.current===null&&(i=!0);var se=Lt;if(Lt=0,ks=null,bo(n,A,H,se),o&&mo){C=0;break e}break;default:se=Lt,Lt=0,ks=null,bo(n,A,H,se)}}RM(),C=pn;break}catch(xe){wv(n,xe)}while(!0);return i&&n.shellSuspendCounter++,Pi=tr=null,Rt=c,V.H=f,V.A=m,jt===null&&(Yt=null,Tt=0,Su()),C}function RM(){for(;jt!==null;)Tv(jt)}function _M(n,i){var o=Rt;Rt|=2;var c=jv(),f=kv();Yt!==n||Tt!==i?(Ju=null,Zu=De()+500,xo(n,i)):mo=es(n,i);e:do try{if(Lt!==0&&jt!==null){i=jt;var m=ks;t:switch(Lt){case 1:Lt=0,ks=null,bo(n,i,m,1);break;case 2:case 9:if(W0(m)){Lt=0,ks=null,Dv(i);break}i=function(){Lt!==2&&Lt!==9||Yt!==n||(Lt=7),fi(n)},m.then(i,i);break e;case 3:Lt=7;break e;case 4:Lt=5;break e;case 7:W0(m)?(Lt=0,ks=null,Dv(i)):(Lt=0,ks=null,bo(n,i,m,7));break;case 5:var C=null;switch(jt.tag){case 26:C=jt.memoizedState;case 5:case 27:var A=jt;if(C?hS(C):A.stateNode.complete){Lt=0,ks=null;var H=A.sibling;if(H!==null)jt=H;else{var se=A.return;se!==null?(jt=se,nd(se)):jt=null}break t}}Lt=0,ks=null,bo(n,i,m,5);break;case 6:Lt=0,ks=null,bo(n,i,m,6);break;case 8:Ep(),pn=6;break e;default:throw Error(a(462))}}IM();break}catch(xe){wv(n,xe)}while(!0);return Pi=tr=null,V.H=c,V.A=f,Rt=o,jt!==null?0:(Yt=null,Tt=0,Su(),pn)}function IM(){for(;jt!==null&&!X();)Tv(jt)}function Tv(n){var i=Qb(n.alternate,n,Vi);n.memoizedProps=n.pendingProps,i===null?nd(n):jt=i}function Dv(n){var i=n,o=i.alternate;switch(i.tag){case 15:case 0:i=Ub(o,i,i.pendingProps,i.type,void 0,Tt);break;case 11:i=Ub(o,i,i.pendingProps,i.type.render,i.ref,Tt);break;case 5:Uf(i);default:Zb(o,i),i=jt=k0(i,Vi),i=Qb(o,i,Vi)}n.memoizedProps=n.pendingProps,i===null?nd(n):jt=i}function bo(n,i,o,c){Pi=tr=null,Uf(i),oo=null,Dl=0;var f=i.return;try{if(CM(n,f,i,o,Tt)){pn=1,Hu(n,Is(o,n.current)),jt=null;return}}catch(m){if(f!==null)throw jt=f,m;pn=1,Hu(n,Is(o,n.current)),jt=null;return}i.flags&32768?(Et||c===1?n=!0:mo||(Tt&536870912)!==0?n=!1:(xa=n=!0,(c===2||c===9||c===3||c===6)&&(c=Cs.current,c!==null&&c.tag===13&&(c.flags|=16384))),Ev(i,n)):nd(i)}function nd(n){var i=n;do{if((i.flags&32768)!==0){Ev(i,xa);return}n=i.return;var o=TM(i.alternate,i,Vi);if(o!==null){jt=o;return}if(i=i.sibling,i!==null){jt=i;return}jt=i=n}while(i!==null);pn===0&&(pn=5)}function Ev(n,i){do{var o=DM(n.alternate,n);if(o!==null){o.flags&=32767,jt=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(n=n.sibling,n!==null)){jt=n;return}jt=n=o}while(n!==null);pn=6,jt=null}function Mv(n,i,o,c,f,m,C,A,H){n.cancelPendingCommit=null;do sd();while(Rn!==0);if((Rt&6)!==0)throw Error(a(327));if(i!==null){if(i===n.current)throw Error(a(177));if(m=i.lanes|i.childLanes,m|=yf,dl(n,o,m,C,A,H),n===Yt&&(jt=Yt=null,Tt=0),yo=i,Sa=n,Fi=o,kp=m,Tp=f,xv=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,zM(xt,function(){return _v(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=V.T,V.T=null,f=q.p,q.p=2,C=Rt,Rt|=4;try{EM(n,i,o)}finally{Rt=C,q.p=f,V.T=c}}Rn=1,Av(),Pv(),Ov()}}function Av(){if(Rn===1){Rn=0;var n=Sa,i=yo,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=V.T,V.T=null;var c=q.p;q.p=2;var f=Rt;Rt|=4;try{uv(i,n);var m=Vp,C=g0(n.containerInfo),A=m.focusedElem,H=m.selectionRange;if(C!==A&&A&&A.ownerDocument&&m0(A.ownerDocument.documentElement,A)){if(H!==null&&hf(A)){var se=H.start,xe=H.end;if(xe===void 0&&(xe=se),"selectionStart"in A)A.selectionStart=se,A.selectionEnd=Math.min(xe,A.value.length);else{var je=A.ownerDocument||document,re=je&&je.defaultView||window;if(re.getSelection){var de=re.getSelection(),Ue=A.textContent.length,ot=Math.min(H.start,Ue),Ut=H.end===void 0?ot:Math.min(H.end,Ue);!de.extend&&ot>Ut&&(C=Ut,Ut=ot,ot=C);var Z=p0(A,ot),$=p0(A,Ut);if(Z&&$&&(de.rangeCount!==1||de.anchorNode!==Z.node||de.anchorOffset!==Z.offset||de.focusNode!==$.node||de.focusOffset!==$.offset)){var ne=je.createRange();ne.setStart(Z.node,Z.offset),de.removeAllRanges(),ot>Ut?(de.addRange(ne),de.extend($.node,$.offset)):(ne.setEnd($.node,$.offset),de.addRange(ne))}}}}for(je=[],de=A;de=de.parentNode;)de.nodeType===1&&je.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<je.length;A++){var Ce=je[A];Ce.element.scrollLeft=Ce.left,Ce.element.scrollTop=Ce.top}}md=!!Bp,Vp=Bp=null}finally{Rt=f,q.p=c,V.T=o}}n.current=i,Rn=2}}function Pv(){if(Rn===2){Rn=0;var n=Sa,i=yo,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=V.T,V.T=null;var c=q.p;q.p=2;var f=Rt;Rt|=4;try{av(n,i.alternate,i)}finally{Rt=f,q.p=c,V.T=o}}Rn=3}}function Ov(){if(Rn===4||Rn===3){Rn=0,Te();var n=Sa,i=yo,o=Fi,c=xv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Rn=5:(Rn=0,yo=Sa=null,Rv(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(va=null),vs(o),i=i.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(bt,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=V.T,f=q.p,q.p=2,V.T=null;try{for(var m=n.onRecoverableError,C=0;C<c.length;C++){var A=c[C];m(A.value,{componentStack:A.stack})}}finally{V.T=i,q.p=f}}(Fi&3)!==0&&sd(),fi(n),f=n.pendingLanes,(o&261930)!==0&&(f&42)!==0?n===Dp?Ul++:(Ul=0,Dp=n):Ul=0,ql(0)}}function Rv(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,kl(i)))}function sd(){return Av(),Pv(),Ov(),_v()}function _v(){if(Rn!==5)return!1;var n=Sa,i=kp;kp=0;var o=vs(Fi),c=V.T,f=q.p;try{q.p=32>o?32:o,V.T=null,o=Tp,Tp=null;var m=Sa,C=Fi;if(Rn=0,yo=Sa=null,Fi=0,(Rt&6)!==0)throw Error(a(331));var A=Rt;if(Rt|=4,mv(m.current),hv(m,m.current,C,o),Rt=A,ql(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(bt,m)}catch{}return!0}finally{q.p=f,V.T=c,Rv(n,i)}}function Iv(n,i,o){i=Is(o,i),i=ap(n.stateNode,i,2),n=pa(n,i,2),n!==null&&(ln(n,2),fi(n))}function zt(n,i,o){if(n.tag===3)Iv(n,n,o);else for(;i!==null;){if(i.tag===3){Iv(i,n,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(va===null||!va.has(c))){n=Is(o,n),o=Wb(2),c=pa(i,o,2),c!==null&&(Nb(o,c,i,n),ln(c,2),fi(c));break}}i=i.return}}function Ap(n,i,o){var c=n.pingCache;if(c===null){c=n.pingCache=new PM;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(o)||(wp=!0,f.add(o),n=WM.bind(null,n,i,o),i.then(n,n))}function WM(n,i,o){var c=n.pingCache;c!==null&&c.delete(i),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Yt===n&&(Tt&o)===o&&(pn===4||pn===3&&(Tt&62914560)===Tt&&300>De()-Xu?(Rt&2)===0&&xo(n,0):Cp|=o,go===Tt&&(go=0)),fi(n)}function Wv(n,i){i===0&&(i=nt()),n=Za(n,i),n!==null&&(ln(n,i),fi(n))}function NM(n){var i=n.memoizedState,o=0;i!==null&&(o=i.retryLane),Wv(n,o)}function LM(n,i){var o=0;switch(n.tag){case 31:case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(i),Wv(n,o)}function zM(n,i){return we(n,i)}var id=null,vo=null,Pp=!1,ad=!1,Op=!1,Ca=0;function fi(n){n!==vo&&n.next===null&&(vo===null?id=vo=n:vo=vo.next=n),ad=!0,Pp||(Pp=!0,VM())}function ql(n,i){if(!Op&&ad){Op=!0;do for(var o=!1,c=id;c!==null;){if(n!==0){var f=c.pendingLanes;if(f===0)var m=0;else{var C=c.suspendedLanes,A=c.pingedLanes;m=(1<<31-Pe(42|n)+1)-1,m&=f&~(C&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,Bv(c,m))}else m=Tt,m=Fn(c,c===Yt?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||es(c,m)||(o=!0,Bv(c,m));c=c.next}while(o);Op=!1}}function BM(){Nv()}function Nv(){ad=Pp=!1;var n=0;Ca!==0&&XM()&&(n=Ca);for(var i=De(),o=null,c=id;c!==null;){var f=c.next,m=Lv(c,i);m===0?(c.next=null,o===null?id=f:o.next=f,f===null&&(vo=o)):(o=c,(n!==0||(m&3)!==0)&&(ad=!0)),c=f}Rn!==0&&Rn!==5||ql(n),Ca!==0&&(Ca=0)}function Lv(n,i){for(var o=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var C=31-Pe(m),A=1<<C,H=f[C];H===-1?((A&o)===0||(A&c)!==0)&&(f[C]=bs(A,i)):H<=i&&(n.expiredLanes|=A),m&=~A}if(i=Yt,o=Tt,o=Fn(n,n===i?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,o===0||n===i&&(Lt===2||Lt===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&We(c),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||es(n,o)){if(i=o&-o,i===n.callbackPriority)return i;switch(c!==null&&We(c),vs(o)){case 2:case 8:o=qe;break;case 32:o=xt;break;case 268435456:o=Qe;break;default:o=xt}return c=zv.bind(null,n),o=we(o,c),n.callbackPriority=i,n.callbackNode=o,i}return c!==null&&c!==null&&We(c),n.callbackPriority=2,n.callbackNode=null,2}function zv(n,i){if(Rn!==0&&Rn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(sd()&&n.callbackNode!==o)return null;var c=Tt;return c=Fn(n,n===Yt?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(vv(n,c,i),Lv(n,De()),n.callbackNode!=null&&n.callbackNode===o?zv.bind(null,n):null)}function Bv(n,i){if(sd())return null;vv(n,i,!0)}function VM(){JM(function(){(Rt&6)!==0?we(Le,BM):Nv()})}function Rp(){if(Ca===0){var n=io;n===0&&(n=lt,lt<<=1,(lt&261888)===0&&(lt=256)),Ca=n}return Ca}function Vv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:fu(""+n)}function Fv(n,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,n.id&&o.setAttribute("form",n.id),i.parentNode.insertBefore(o,i),n=new FormData(n),o.parentNode.removeChild(o),n}function FM(n,i,o,c,f){if(i==="submit"&&o&&o.stateNode===f){var m=Vv((f[cn]||null).action),C=c.submitter;C&&(i=(i=C[cn]||null)?Vv(i.formAction):C.getAttribute("formAction"),i!==null&&(m=i,C=null));var A=new yu("action","action",null,c,f);n.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ca!==0){var H=C?Fv(f,C):new FormData(f);Jf(o,{pending:!0,data:H,method:f.method,action:m},null,H)}}else typeof m=="function"&&(A.preventDefault(),H=C?Fv(f,C):new FormData(f),Jf(o,{pending:!0,data:H,method:f.method,action:m},m,H))},currentTarget:f}]})}}for(var _p=0;_p<gf.length;_p++){var Ip=gf[_p],HM=Ip.toLowerCase(),UM=Ip[0].toUpperCase()+Ip.slice(1);Zs(HM,"on"+UM)}Zs(b0,"onAnimationEnd"),Zs(v0,"onAnimationIteration"),Zs(S0,"onAnimationStart"),Zs("dblclick","onDoubleClick"),Zs("focusin","onFocus"),Zs("focusout","onBlur"),Zs(rM,"onTransitionRun"),Zs(oM,"onTransitionStart"),Zs(lM,"onTransitionCancel"),Zs(w0,"onTransitionEnd"),Ur("onMouseEnter",["mouseout","mouseover"]),Ur("onMouseLeave",["mouseout","mouseover"]),Ur("onPointerEnter",["pointerout","pointerover"]),Ur("onPointerLeave",["pointerout","pointerover"]),$a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$a("onBeforeInput",["compositionend","keypress","textInput","paste"]),$a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yl));function Hv(n,i){i=(i&4)!==0;for(var o=0;o<n.length;o++){var c=n[o],f=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var C=c.length-1;0<=C;C--){var A=c[C],H=A.instance,se=A.currentTarget;if(A=A.listener,H!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=se;try{m(f)}catch(xe){vu(xe)}f.currentTarget=null,m=H}else for(C=0;C<c.length;C++){if(A=c[C],H=A.instance,se=A.currentTarget,A=A.listener,H!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=se;try{m(f)}catch(xe){vu(xe)}f.currentTarget=null,m=H}}}}function kt(n,i){var o=i[Gh];o===void 0&&(o=i[Gh]=new Set);var c=n+"__bubble";o.has(c)||(Uv(i,n,2,!1),o.add(c))}function Wp(n,i,o){var c=0;i&&(c|=4),Uv(o,n,c,i)}var rd="_reactListening"+Math.random().toString(36).slice(2);function Np(n){if(!n[rd]){n[rd]=!0,Nx.forEach(function(o){o!=="selectionchange"&&(qM.has(o)||Wp(o,!1,n),Wp(o,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[rd]||(i[rd]=!0,Wp("selectionchange",!1,i))}}function Uv(n,i,o,c){switch(bS(i)){case 2:var f=bA;break;case 8:f=vA;break;default:f=Zp}o=f.bind(null,i,o,n),f=void 0,!nf||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(i,o,{capture:!0,passive:f}):n.addEventListener(i,o,!0):f!==void 0?n.addEventListener(i,o,{passive:f}):n.addEventListener(i,o,!1)}function Lp(n,i,o,c,f){var m=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var C=c.tag;if(C===3||C===4){var A=c.stateNode.containerInfo;if(A===f)break;if(C===4)for(C=c.return;C!==null;){var H=C.tag;if((H===3||H===4)&&C.stateNode.containerInfo===f)return;C=C.return}for(;A!==null;){if(C=Vr(A),C===null)return;if(H=C.tag,H===5||H===6||H===26||H===27){c=m=C;continue e}A=A.parentNode}}c=c.return}Kx(function(){var se=m,xe=ef(o),je=[];e:{var re=C0.get(n);if(re!==void 0){var de=yu,Ue=n;switch(n){case"keypress":if(mu(o)===0)break e;case"keydown":case"keyup":de=L2;break;case"focusin":Ue="focus",de=of;break;case"focusout":Ue="blur",de=of;break;case"beforeblur":case"afterblur":de=of;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Zx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=T2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=V2;break;case b0:case v0:case S0:de=M2;break;case w0:de=H2;break;case"scroll":case"scrollend":de=j2;break;case"wheel":de=q2;break;case"copy":case"cut":case"paste":de=P2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=e0;break;case"toggle":case"beforetoggle":de=G2}var ot=(i&4)!==0,Ut=!ot&&(n==="scroll"||n==="scrollend"),Z=ot?re!==null?re+"Capture":null:re;ot=[];for(var $=se,ne;$!==null;){var Ce=$;if(ne=Ce.stateNode,Ce=Ce.tag,Ce!==5&&Ce!==26&&Ce!==27||ne===null||Z===null||(Ce=pl($,Z),Ce!=null&&ot.push(Gl($,Ce,ne))),Ut)break;$=$.return}0<ot.length&&(re=new de(re,Ue,null,o,xe),je.push({event:re,listeners:ot}))}}if((i&7)===0){e:{if(re=n==="mouseover"||n==="pointerover",de=n==="mouseout"||n==="pointerout",re&&o!==Jh&&(Ue=o.relatedTarget||o.fromElement)&&(Vr(Ue)||Ue[os]))break e;if((de||re)&&(re=xe.window===xe?xe:(re=xe.ownerDocument)?re.defaultView||re.parentWindow:window,de?(Ue=o.relatedTarget||o.toElement,de=se,Ue=Ue?Vr(Ue):null,Ue!==null&&(Ut=u(Ue),ot=Ue.tag,Ue!==Ut||ot!==5&&ot!==27&&ot!==6)&&(Ue=null)):(de=null,Ue=se),de!==Ue)){if(ot=Zx,Ce="onMouseLeave",Z="onMouseEnter",$="mouse",(n==="pointerout"||n==="pointerover")&&(ot=e0,Ce="onPointerLeave",Z="onPointerEnter",$="pointer"),Ut=de==null?re:fl(de),ne=Ue==null?re:fl(Ue),re=new ot(Ce,$+"leave",de,o,xe),re.target=Ut,re.relatedTarget=ne,Ce=null,Vr(xe)===se&&(ot=new ot(Z,$+"enter",Ue,o,xe),ot.target=ne,ot.relatedTarget=Ut,Ce=ot),Ut=Ce,de&&Ue)t:{for(ot=YM,Z=de,$=Ue,ne=0,Ce=Z;Ce;Ce=ot(Ce))ne++;Ce=0;for(var et=$;et;et=ot(et))Ce++;for(;0<ne-Ce;)Z=ot(Z),ne--;for(;0<Ce-ne;)$=ot($),Ce--;for(;ne--;){if(Z===$||$!==null&&Z===$.alternate){ot=Z;break t}Z=ot(Z),$=ot($)}ot=null}else ot=null;de!==null&&qv(je,re,de,ot,!1),Ue!==null&&Ut!==null&&qv(je,Ut,Ue,ot,!0)}}e:{if(re=se?fl(se):window,de=re.nodeName&&re.nodeName.toLowerCase(),de==="select"||de==="input"&&re.type==="file")var Pt=l0;else if(r0(re))if(c0)Pt=sM;else{Pt=tM;var Ge=eM}else de=re.nodeName,!de||de.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?se&&Zh(se.elementType)&&(Pt=l0):Pt=nM;if(Pt&&(Pt=Pt(n,se))){o0(je,Pt,o,xe);break e}Ge&&Ge(n,re,se),n==="focusout"&&se&&re.type==="number"&&se.memoizedProps.value!=null&&Xh(re,"number",re.value)}switch(Ge=se?fl(se):window,n){case"focusin":(r0(Ge)||Ge.contentEditable==="true")&&(Qr=Ge,ff=se,wl=null);break;case"focusout":wl=ff=Qr=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,y0(je,o,xe);break;case"selectionchange":if(aM)break;case"keydown":case"keyup":y0(je,o,xe)}var St;if(cf)e:{switch(n){case"compositionstart":var Dt="onCompositionStart";break e;case"compositionend":Dt="onCompositionEnd";break e;case"compositionupdate":Dt="onCompositionUpdate";break e}Dt=void 0}else Kr?i0(n,o)&&(Dt="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Dt="onCompositionStart");Dt&&(t0&&o.locale!=="ko"&&(Kr||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&Kr&&(St=Qx()):(oa=xe,sf="value"in oa?oa.value:oa.textContent,Kr=!0)),Ge=od(se,Dt),0<Ge.length&&(Dt=new Jx(Dt,n,null,o,xe),je.push({event:Dt,listeners:Ge}),St?Dt.data=St:(St=a0(o),St!==null&&(Dt.data=St)))),(St=K2?Q2(n,o):X2(n,o))&&(Dt=od(se,"onBeforeInput"),0<Dt.length&&(Ge=new Jx("onBeforeInput","beforeinput",null,o,xe),je.push({event:Ge,listeners:Dt}),Ge.data=St)),FM(je,n,se,o,xe)}Hv(je,i)})}function Gl(n,i,o){return{instance:n,listener:i,currentTarget:o}}function od(n,i){for(var o=i+"Capture",c=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=pl(n,o),f!=null&&c.unshift(Gl(n,f,m)),f=pl(n,i),f!=null&&c.push(Gl(n,f,m))),n.tag===3)return c;n=n.return}return[]}function YM(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function qv(n,i,o,c,f){for(var m=i._reactName,C=[];o!==null&&o!==c;){var A=o,H=A.alternate,se=A.stateNode;if(A=A.tag,H!==null&&H===c)break;A!==5&&A!==26&&A!==27||se===null||(H=se,f?(se=pl(o,m),se!=null&&C.unshift(Gl(o,se,H))):f||(se=pl(o,m),se!=null&&C.push(Gl(o,se,H)))),o=o.return}C.length!==0&&n.push({event:i,listeners:C})}var GM=/\r\n?/g,$M=/\u0000|\uFFFD/g;function Yv(n){return(typeof n=="string"?n:""+n).replace(GM,`
`).replace($M,"")}function Gv(n,i){return i=Yv(i),Yv(n)===i}function Ht(n,i,o,c,f,m){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Yr(n,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Yr(n,""+c);break;case"className":du(n,"class",c);break;case"tabIndex":du(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":du(n,o,c);break;case"style":Gx(n,c,m);break;case"data":if(i!=="object"){du(n,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){n.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=fu(""+c),n.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(i!=="input"&&Ht(n,i,"name",f.name,f,null),Ht(n,i,"formEncType",f.formEncType,f,null),Ht(n,i,"formMethod",f.formMethod,f,null),Ht(n,i,"formTarget",f.formTarget,f,null)):(Ht(n,i,"encType",f.encType,f,null),Ht(n,i,"method",f.method,f,null),Ht(n,i,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=fu(""+c),n.setAttribute(o,c);break;case"onClick":c!=null&&(n.onclick=Di);break;case"onScroll":c!=null&&kt("scroll",n);break;case"onScrollEnd":c!=null&&kt("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}o=fu(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""+c):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":c===!0?n.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,c):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(o,c):n.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(o):n.setAttribute(o,c);break;case"popover":kt("beforetoggle",n),kt("toggle",n),uu(n,"popover",c);break;case"xlinkActuate":Ti(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ti(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ti(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ti(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ti(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ti(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ti(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ti(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ti(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":uu(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=w2.get(o)||o,uu(n,o,c))}}function zp(n,i,o,c,f,m){switch(o){case"style":Gx(n,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"children":typeof c=="string"?Yr(n,c):(typeof c=="number"||typeof c=="bigint")&&Yr(n,""+c);break;case"onScroll":c!=null&&kt("scroll",n);break;case"onScrollEnd":c!=null&&kt("scrollend",n);break;case"onClick":c!=null&&(n.onclick=Di);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lx.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),i=o.slice(2,f?o.length-7:void 0),m=n[cn]||null,m=m!=null?m[o]:null,typeof m=="function"&&n.removeEventListener(i,m,f),typeof c=="function")){typeof m!="function"&&m!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(i,c,f);break e}o in n?n[o]=c:c===!0?n.setAttribute(o,""):uu(n,o,c)}}}function Yn(n,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",n),kt("load",n);var c=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var C=o[m];if(C!=null)switch(m){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ht(n,i,m,C,o,null)}}f&&Ht(n,i,"srcSet",o.srcSet,o,null),c&&Ht(n,i,"src",o.src,o,null);return;case"input":kt("invalid",n);var A=m=C=f=null,H=null,se=null;for(c in o)if(o.hasOwnProperty(c)){var xe=o[c];if(xe!=null)switch(c){case"name":f=xe;break;case"type":C=xe;break;case"checked":H=xe;break;case"defaultChecked":se=xe;break;case"value":m=xe;break;case"defaultValue":A=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(a(137,i));break;default:Ht(n,i,c,xe,o,null)}}Hx(n,m,A,H,se,C,f,!1);return;case"select":kt("invalid",n),c=C=m=null;for(f in o)if(o.hasOwnProperty(f)&&(A=o[f],A!=null))switch(f){case"value":m=A;break;case"defaultValue":C=A;break;case"multiple":c=A;default:Ht(n,i,f,A,o,null)}i=m,o=C,n.multiple=!!c,i!=null?qr(n,!!c,i,!1):o!=null&&qr(n,!!c,o,!0);return;case"textarea":kt("invalid",n),m=f=c=null;for(C in o)if(o.hasOwnProperty(C)&&(A=o[C],A!=null))switch(C){case"value":c=A;break;case"defaultValue":f=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(a(91));break;default:Ht(n,i,C,A,o,null)}qx(n,c,f,m);return;case"option":for(H in o)if(o.hasOwnProperty(H)&&(c=o[H],c!=null))switch(H){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ht(n,i,H,c,o,null)}return;case"dialog":kt("beforetoggle",n),kt("toggle",n),kt("cancel",n),kt("close",n);break;case"iframe":case"object":kt("load",n);break;case"video":case"audio":for(c=0;c<Yl.length;c++)kt(Yl[c],n);break;case"image":kt("error",n),kt("load",n);break;case"details":kt("toggle",n);break;case"embed":case"source":case"link":kt("error",n),kt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in o)if(o.hasOwnProperty(se)&&(c=o[se],c!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ht(n,i,se,c,o,null)}return;default:if(Zh(i)){for(xe in o)o.hasOwnProperty(xe)&&(c=o[xe],c!==void 0&&zp(n,i,xe,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&Ht(n,i,A,c,o,null))}function KM(n,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,C=null,A=null,H=null,se=null,xe=null;for(de in o){var je=o[de];if(o.hasOwnProperty(de)&&je!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":H=je;default:c.hasOwnProperty(de)||Ht(n,i,de,null,c,je)}}for(var re in c){var de=c[re];if(je=o[re],c.hasOwnProperty(re)&&(de!=null||je!=null))switch(re){case"type":m=de;break;case"name":f=de;break;case"checked":se=de;break;case"defaultChecked":xe=de;break;case"value":C=de;break;case"defaultValue":A=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(a(137,i));break;default:de!==je&&Ht(n,i,re,de,c,je)}}Qh(n,C,A,H,se,xe,m,f);return;case"select":de=C=A=re=null;for(m in o)if(H=o[m],o.hasOwnProperty(m)&&H!=null)switch(m){case"value":break;case"multiple":de=H;default:c.hasOwnProperty(m)||Ht(n,i,m,null,c,H)}for(f in c)if(m=c[f],H=o[f],c.hasOwnProperty(f)&&(m!=null||H!=null))switch(f){case"value":re=m;break;case"defaultValue":A=m;break;case"multiple":C=m;default:m!==H&&Ht(n,i,f,m,c,H)}i=A,o=C,c=de,re!=null?qr(n,!!o,re,!1):!!c!=!!o&&(i!=null?qr(n,!!o,i,!0):qr(n,!!o,o?[]:"",!1));return;case"textarea":de=re=null;for(A in o)if(f=o[A],o.hasOwnProperty(A)&&f!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Ht(n,i,A,null,c,f)}for(C in c)if(f=c[C],m=o[C],c.hasOwnProperty(C)&&(f!=null||m!=null))switch(C){case"value":re=f;break;case"defaultValue":de=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&Ht(n,i,C,f,c,m)}Ux(n,re,de);return;case"option":for(var Ue in o)if(re=o[Ue],o.hasOwnProperty(Ue)&&re!=null&&!c.hasOwnProperty(Ue))switch(Ue){case"selected":n.selected=!1;break;default:Ht(n,i,Ue,null,c,re)}for(H in c)if(re=c[H],de=o[H],c.hasOwnProperty(H)&&re!==de&&(re!=null||de!=null))switch(H){case"selected":n.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:Ht(n,i,H,re,c,de)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in o)re=o[ot],o.hasOwnProperty(ot)&&re!=null&&!c.hasOwnProperty(ot)&&Ht(n,i,ot,null,c,re);for(se in c)if(re=c[se],de=o[se],c.hasOwnProperty(se)&&re!==de&&(re!=null||de!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(a(137,i));break;default:Ht(n,i,se,re,c,de)}return;default:if(Zh(i)){for(var Ut in o)re=o[Ut],o.hasOwnProperty(Ut)&&re!==void 0&&!c.hasOwnProperty(Ut)&&zp(n,i,Ut,void 0,c,re);for(xe in c)re=c[xe],de=o[xe],!c.hasOwnProperty(xe)||re===de||re===void 0&&de===void 0||zp(n,i,xe,re,c,de);return}}for(var Z in o)re=o[Z],o.hasOwnProperty(Z)&&re!=null&&!c.hasOwnProperty(Z)&&Ht(n,i,Z,null,c,re);for(je in c)re=c[je],de=o[je],!c.hasOwnProperty(je)||re===de||re==null&&de==null||Ht(n,i,je,re,c,de)}function $v(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QM(){if(typeof performance.getEntriesByType=="function"){for(var n=0,i=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var f=o[c],m=f.transferSize,C=f.initiatorType,A=f.duration;if(m&&A&&$v(C)){for(C=0,A=f.responseEnd,c+=1;c<o.length;c++){var H=o[c],se=H.startTime;if(se>A)break;var xe=H.transferSize,je=H.initiatorType;xe&&$v(je)&&(H=H.responseEnd,C+=xe*(H<A?1:(A-se)/(H-se)))}if(--c,i+=8*(m+C)/(f.duration/1e3),n++,10<n)break}}if(0<n)return i/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Bp=null,Vp=null;function ld(n){return n.nodeType===9?n:n.ownerDocument}function Kv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qv(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Fp(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Hp=null;function XM(){var n=window.event;return n&&n.type==="popstate"?n===Hp?!1:(Hp=n,!0):(Hp=null,!1)}var Xv=typeof setTimeout=="function"?setTimeout:void 0,ZM=typeof clearTimeout=="function"?clearTimeout:void 0,Zv=typeof Promise=="function"?Promise:void 0,JM=typeof queueMicrotask=="function"?queueMicrotask:typeof Zv<"u"?function(n){return Zv.resolve(null).then(n).catch(eA)}:Xv;function eA(n){setTimeout(function(){throw n})}function ja(n){return n==="head"}function Jv(n,i){var o=i,c=0;do{var f=o.nextSibling;if(n.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(c===0){n.removeChild(f),jo(i);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")$l(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,$l(o);for(var m=o.firstChild;m;){var C=m.nextSibling,A=m.nodeName;m[hl]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=C}}else o==="body"&&$l(n.ownerDocument.body);o=f}while(o);jo(i)}function eS(n,i){var o=n;n=0;do{var c=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=c}while(o)}function Up(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Up(o),$h(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function tA(n,i,o,c){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[hl])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Bs(n.nextSibling),n===null)break}return null}function nA(n,i,o){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Bs(n.nextSibling),n===null))return null;return n}function tS(n,i){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=Bs(n.nextSibling),n===null))return null;return n}function qp(n){return n.data==="$?"||n.data==="$~"}function Yp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function sA(n,i){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=i;else if(n.data!=="$?"||o.readyState!=="loading")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function Bs(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return n}var Gp=null;function nS(n){n=n.nextSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(i===0)return Bs(n.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}n=n.nextSibling}return null}function sS(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return n;i--}else o!=="/$"&&o!=="/&"||i++}n=n.previousSibling}return null}function iS(n,i,o){switch(i=ld(o),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function $l(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);$h(n)}var Vs=new Map,aS=new Set;function cd(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Hi=q.d;q.d={f:iA,r:aA,D:rA,C:oA,L:lA,m:cA,X:dA,S:uA,M:hA};function iA(){var n=Hi.f(),i=ed();return n||i}function aA(n){var i=Fr(n);i!==null&&i.tag===5&&i.type==="form"?wb(i):Hi.r(n)}var So=typeof document>"u"?null:document;function rS(n,i,o){var c=So;if(c&&typeof i=="string"&&i){var f=Rs(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),aS.has(f)||(aS.add(f),n={rel:n,crossOrigin:o,href:i},c.querySelector(f)===null&&(i=c.createElement("link"),Yn(i,"link",n),Bn(i),c.head.appendChild(i)))}}function rA(n){Hi.D(n),rS("dns-prefetch",n,null)}function oA(n,i){Hi.C(n,i),rS("preconnect",n,i)}function lA(n,i,o){Hi.L(n,i,o);var c=So;if(c&&n&&i){var f='link[rel="preload"][as="'+Rs(i)+'"]';i==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Rs(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Rs(o.imageSizes)+'"]')):f+='[href="'+Rs(n)+'"]';var m=f;switch(i){case"style":m=wo(n);break;case"script":m=Co(n)}Vs.has(m)||(n=b({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:n,as:i},o),Vs.set(m,n),c.querySelector(f)!==null||i==="style"&&c.querySelector(Kl(m))||i==="script"&&c.querySelector(Ql(m))||(i=c.createElement("link"),Yn(i,"link",n),Bn(i),c.head.appendChild(i)))}}function cA(n,i){Hi.m(n,i);var o=So;if(o&&n){var c=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Rs(c)+'"][href="'+Rs(n)+'"]',m=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Co(n)}if(!Vs.has(m)&&(n=b({rel:"modulepreload",href:n},i),Vs.set(m,n),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ql(m)))return}c=o.createElement("link"),Yn(c,"link",n),Bn(c),o.head.appendChild(c)}}}function uA(n,i,o){Hi.S(n,i,o);var c=So;if(c&&n){var f=Hr(c).hoistableStyles,m=wo(n);i=i||"default";var C=f.get(m);if(!C){var A={loading:0,preload:null};if(C=c.querySelector(Kl(m)))A.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":i},o),(o=Vs.get(m))&&$p(n,o);var H=C=c.createElement("link");Bn(H),Yn(H,"link",n),H._p=new Promise(function(se,xe){H.onload=se,H.onerror=xe}),H.addEventListener("load",function(){A.loading|=1}),H.addEventListener("error",function(){A.loading|=2}),A.loading|=4,ud(C,i,c)}C={type:"stylesheet",instance:C,count:1,state:A},f.set(m,C)}}}function dA(n,i){Hi.X(n,i);var o=So;if(o&&n){var c=Hr(o).hoistableScripts,f=Co(n),m=c.get(f);m||(m=o.querySelector(Ql(f)),m||(n=b({src:n,async:!0},i),(i=Vs.get(f))&&Kp(n,i),m=o.createElement("script"),Bn(m),Yn(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function hA(n,i){Hi.M(n,i);var o=So;if(o&&n){var c=Hr(o).hoistableScripts,f=Co(n),m=c.get(f);m||(m=o.querySelector(Ql(f)),m||(n=b({src:n,async:!0,type:"module"},i),(i=Vs.get(f))&&Kp(n,i),m=o.createElement("script"),Bn(m),Yn(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function oS(n,i,o,c){var f=(f=ge.current)?cd(f):null;if(!f)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=wo(o.href),o=Hr(f).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=wo(o.href);var m=Hr(f).hoistableStyles,C=m.get(n);if(C||(f=f.ownerDocument||f,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,C),(m=f.querySelector(Kl(n)))&&!m._p&&(C.instance=m,C.state.loading=5),Vs.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Vs.set(n,o),m||fA(f,n,o,C.state))),i&&c===null)throw Error(a(528,""));return C}if(i&&c!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Co(o),o=Hr(f).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function wo(n){return'href="'+Rs(n)+'"'}function Kl(n){return'link[rel="stylesheet"]['+n+"]"}function lS(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function fA(n,i,o,c){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=n.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Yn(i,"link",o),Bn(i),n.head.appendChild(i))}function Co(n){return'[src="'+Rs(n)+'"]'}function Ql(n){return"script[async]"+n}function cS(n,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=n.querySelector('style[data-href~="'+Rs(o.href)+'"]');if(c)return i.instance=c,Bn(c),c;var f=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Bn(c),Yn(c,"style",f),ud(c,o.precedence,n),i.instance=c;case"stylesheet":f=wo(o.href);var m=n.querySelector(Kl(f));if(m)return i.state.loading|=4,i.instance=m,Bn(m),m;c=lS(o),(f=Vs.get(f))&&$p(c,f),m=(n.ownerDocument||n).createElement("link"),Bn(m);var C=m;return C._p=new Promise(function(A,H){C.onload=A,C.onerror=H}),Yn(m,"link",c),i.state.loading|=4,ud(m,o.precedence,n),i.instance=m;case"script":return m=Co(o.src),(f=n.querySelector(Ql(m)))?(i.instance=f,Bn(f),f):(c=o,(f=Vs.get(m))&&(c=b({},o),Kp(c,f)),n=n.ownerDocument||n,f=n.createElement("script"),Bn(f),Yn(f,"link",c),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,ud(c,o.precedence,n));return i.instance}function ud(n,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,m=f,C=0;C<c.length;C++){var A=c[C];if(A.dataset.precedence===i)m=A;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(n,i.firstChild))}function $p(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Kp(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var dd=null;function uS(n,i,o){if(dd===null){var c=new Map,f=dd=new Map;f.set(o,c)}else f=dd,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(n))return c;for(c.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var m=o[f];if(!(m[hl]||m[wt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var C=m.getAttribute(i)||"";C=n+C;var A=c.get(C);A?A.push(m):c.set(C,[m])}}return c}function dS(n,i,o){n=n.ownerDocument||n,n.head.insertBefore(o,i==="title"?n.querySelector("head > title"):null)}function pA(n,i,o){if(o===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function hS(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function mA(n,i,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=wo(c.href),m=i.querySelector(Kl(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(n.count++,n=hd.bind(n),i.then(n,n)),o.state.loading|=4,o.instance=m,Bn(m);return}m=i.ownerDocument||i,c=lS(c),(f=Vs.get(f))&&$p(c,f),m=m.createElement("link"),Bn(m);var C=m;C._p=new Promise(function(A,H){C.onload=A,C.onerror=H}),Yn(m,"link",c),o.instance=m}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=hd.bind(n),i.addEventListener("load",o),i.addEventListener("error",o))}}var Qp=0;function gA(n,i){return n.stylesheets&&n.count===0&&pd(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var c=setTimeout(function(){if(n.stylesheets&&pd(n,n.stylesheets),n.unsuspend){var m=n.unsuspend;n.unsuspend=null,m()}},6e4+i);0<n.imgBytes&&Qp===0&&(Qp=62500*QM());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&pd(n,n.stylesheets),n.unsuspend)){var m=n.unsuspend;n.unsuspend=null,m()}},(n.imgBytes>Qp?50:800)+i);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function hd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pd(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var fd=null;function pd(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,fd=new Map,i.forEach(yA,n),fd=null,hd.call(n))}function yA(n,i){if(!(i.state.loading&4)){var o=fd.get(n);if(o)var c=o.get(null);else{o=new Map,fd.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var C=f[m];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(o.set(C.dataset.precedence,C),c=C)}c&&o.set(null,c)}f=i.instance,C=f.getAttribute("data-precedence"),m=o.get(C)||c,m===c&&o.set(null,f),o.set(C,f),this.count++,c=hd.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var Xl={$$typeof:M,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function xA(n,i,o,c,f,m,C,A,H){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dn(0),this.hiddenUpdates=Dn(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function fS(n,i,o,c,f,m,C,A,H,se,xe,je){return n=new xA(n,i,o,C,H,se,xe,je,A),i=1,m===!0&&(i|=24),m=ws(3,null,null,i),n.current=m,m.stateNode=n,i=Mf(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:c,isDehydrated:o,cache:i},Rf(m),n}function pS(n){return n?(n=Jr,n):Jr}function mS(n,i,o,c,f,m){f=pS(f),c.context===null?c.context=f:c.pendingContext=f,c=fa(i),c.payload={element:o},m=m===void 0?null:m,m!==null&&(c.callback=m),o=pa(n,c,i),o!==null&&(fs(o,n,i),Ml(o,n,i))}function gS(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<i?o:i}}function Xp(n,i){gS(n,i),(n=n.alternate)&&gS(n,i)}function yS(n){if(n.tag===13||n.tag===31){var i=Za(n,67108864);i!==null&&fs(i,n,67108864),Xp(n,67108864)}}function xS(n){if(n.tag===13||n.tag===31){var i=Ds();i=ts(i);var o=Za(n,i);o!==null&&fs(o,n,i),Xp(n,i)}}var md=!0;function bA(n,i,o,c){var f=V.T;V.T=null;var m=q.p;try{q.p=2,Zp(n,i,o,c)}finally{q.p=m,V.T=f}}function vA(n,i,o,c){var f=V.T;V.T=null;var m=q.p;try{q.p=8,Zp(n,i,o,c)}finally{q.p=m,V.T=f}}function Zp(n,i,o,c){if(md){var f=Jp(c);if(f===null)Lp(n,i,c,gd,o),vS(n,c);else if(wA(f,n,i,o,c))c.stopPropagation();else if(vS(n,c),i&4&&-1<SA.indexOf(n)){for(;f!==null;){var m=Fr(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var C=Qt(m.pendingLanes);if(C!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;C;){var H=1<<31-Pe(C);A.entanglements[1]|=H,C&=~H}fi(m),(Rt&6)===0&&(Zu=De()+500,ql(0))}}break;case 31:case 13:A=Za(m,2),A!==null&&fs(A,m,2),ed(),Xp(m,2)}if(m=Jp(c),m===null&&Lp(n,i,c,gd,o),m===f)break;f=m}f!==null&&c.stopPropagation()}else Lp(n,i,c,null,o)}}function Jp(n){return n=ef(n),em(n)}var gd=null;function em(n){if(gd=null,n=Vr(n),n!==null){var i=u(n);if(i===null)n=null;else{var o=i.tag;if(o===13){if(n=d(i),n!==null)return n;n=null}else if(o===31){if(n=h(i),n!==null)return n;n=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return gd=n,null}function bS(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Me()){case Le:return 2;case qe:return 8;case xt:case He:return 32;case Qe:return 268435456;default:return 32}default:return 32}}var tm=!1,ka=null,Ta=null,Da=null,Zl=new Map,Jl=new Map,Ea=[],SA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vS(n,i){switch(n){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":Da=null;break;case"pointerover":case"pointerout":Zl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(i.pointerId)}}function ec(n,i,o,c,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Fr(i),i!==null&&yS(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function wA(n,i,o,c,f){switch(i){case"focusin":return ka=ec(ka,n,i,o,c,f),!0;case"dragenter":return Ta=ec(Ta,n,i,o,c,f),!0;case"mouseover":return Da=ec(Da,n,i,o,c,f),!0;case"pointerover":var m=f.pointerId;return Zl.set(m,ec(Zl.get(m)||null,n,i,o,c,f)),!0;case"gotpointercapture":return m=f.pointerId,Jl.set(m,ec(Jl.get(m)||null,n,i,o,c,f)),!0}return!1}function SS(n){var i=Vr(n.target);if(i!==null){var o=u(i);if(o!==null){if(i=o.tag,i===13){if(i=d(o),i!==null){n.blockedOn=i,Se(n.priority,function(){xS(o)});return}}else if(i===31){if(i=h(o),i!==null){n.blockedOn=i,Se(n.priority,function(){xS(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function yd(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var o=Jp(n.nativeEvent);if(o===null){o=n.nativeEvent;var c=new o.constructor(o.type,o);Jh=c,o.target.dispatchEvent(c),Jh=null}else return i=Fr(o),i!==null&&yS(i),n.blockedOn=o,!1;i.shift()}return!0}function wS(n,i,o){yd(n)&&o.delete(i)}function CA(){tm=!1,ka!==null&&yd(ka)&&(ka=null),Ta!==null&&yd(Ta)&&(Ta=null),Da!==null&&yd(Da)&&(Da=null),Zl.forEach(wS),Jl.forEach(wS)}function xd(n,i){n.blockedOn===i&&(n.blockedOn=null,tm||(tm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,CA)))}var bd=null;function CS(n){bd!==n&&(bd=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){bd===n&&(bd=null);for(var i=0;i<n.length;i+=3){var o=n[i],c=n[i+1],f=n[i+2];if(typeof c!="function"){if(em(c||o)===null)continue;break}var m=Fr(o);m!==null&&(n.splice(i,3),i-=3,Jf(m,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function jo(n){function i(H){return xd(H,n)}ka!==null&&xd(ka,n),Ta!==null&&xd(Ta,n),Da!==null&&xd(Da,n),Zl.forEach(i),Jl.forEach(i);for(var o=0;o<Ea.length;o++){var c=Ea[o];c.blockedOn===n&&(c.blockedOn=null)}for(;0<Ea.length&&(o=Ea[0],o.blockedOn===null);)SS(o),o.blockedOn===null&&Ea.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],m=o[c+1],C=f[cn]||null;if(typeof m=="function")C||CS(o);else if(C){var A=null;if(m&&m.hasAttribute("formAction")){if(f=m,C=m[cn]||null)A=C.formAction;else if(em(f)!==null)continue}else A=C.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),CS(o)}}}function jS(){function n(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(C){return f=C})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function nm(n){this._internalRoot=n}vd.prototype.render=nm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,c=Ds();mS(o,c,n,i,null,null)},vd.prototype.unmount=nm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;mS(n.current,2,null,n,null,null),ed(),i[os]=null}};function vd(n){this._internalRoot=n}vd.prototype.unstable_scheduleHydration=function(n){if(n){var i=ye();n={blockedOn:null,target:n,priority:i};for(var o=0;o<Ea.length&&i!==0&&i<Ea[o].priority;o++);Ea.splice(o,0,n),o===0&&SS(n)}};var kS=t.version;if(kS!=="19.2.0")throw Error(a(527,kS,"19.2.0"));q.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=g(i),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var jA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sd.isDisabled&&Sd.supportsFiber)try{bt=Sd.inject(jA),Ye=Sd}catch{}}return tc.createRoot=function(n,i){if(!l(n))throw Error(a(299));var o=!1,c="",f=Ob,m=Rb,C=_b;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(C=i.onRecoverableError)),i=fS(n,1,!1,null,null,o,c,null,f,m,C,jS),n[os]=i.current,Np(n),new nm(i)},tc.hydrateRoot=function(n,i,o){if(!l(n))throw Error(a(299));var c=!1,f="",m=Ob,C=Rb,A=_b,H=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(C=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(H=o.formState)),i=fS(n,1,!0,i,o??null,c,f,H,m,C,A,jS),i.context=pS(null),o=i.current,c=Ds(),c=ts(c),f=fa(c),f.callback=null,pa(o,f,c),o=c,i.current.lanes=o,ln(i,o),fi(i),n[os]=i.current,Np(n),new vd(i)},tc.version="19.2.0",tc}var LS;function tO(){if(LS)return im.exports;LS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),im.exports=eO(),im.exports}var nO=tO();const sO=$C(nO);var ZC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},zS=Na.createContext&&Na.createContext(ZC),iO=["attr","size","title"];function aO(e,t){if(e==null)return{};var s=rO(e,t),a,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)a=u[l],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function rO(e,t){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}function Kd(){return Kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Kd.apply(this,arguments)}function BS(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),s.push.apply(s,a)}return s}function Qd(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?BS(Object(s),!0).forEach(function(a){oO(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):BS(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function oO(e,t,s){return t=lO(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function lO(e){var t=cO(e,"string");return typeof t=="symbol"?t:t+""}function cO(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JC(e){return e&&e.map((t,s)=>Na.createElement(t.tag,Qd({key:s},t.attr),JC(t.child)))}function ej(e){return t=>Na.createElement(uO,Kd({attr:Qd({},e.attr)},t),JC(e.child))}function uO(e){var t=s=>{var{attr:a,size:l,title:u}=e,d=aO(e,iO),h=l||s.size||"1em",p;return s.className&&(p=s.className),e.className&&(p=(p?p+" ":"")+e.className),Na.createElement("svg",Kd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,a,d,{className:p,style:Qd(Qd({color:e.color||s.color},s.style),e.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),u&&Na.createElement("title",null,u),e.children)};return zS!==void 0?Na.createElement(zS.Consumer,null,s=>t(s)):t(ZC)}function dO(e){return ej({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 16h4c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1v-1a2 2 0 1 0-4 0v1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1zm.8-6c0-.66.54-1.2 1.2-1.2.66 0 1.2.54 1.2 1.2v1h-2.4v-1zM17 1H7c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 18H7V5h10v14z"},child:[]}]})(e)}function hO(e){return ej({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m23.25 12.77-2.57-2.57-1.41 1.41 2.22 2.22-5.66 5.66L4.51 8.17l5.66-5.66 2.1 2.1 1.41-1.41L11.23.75a1.49 1.49 0 0 0-2.12 0L2.75 7.11a1.49 1.49 0 0 0 0 2.12l12.02 12.02c.59.59 1.54.59 2.12 0l6.36-6.36c.59-.59.59-1.54 0-2.12zM8.47 20.48A10.487 10.487 0 0 1 2.5 12H1c.51 6.16 5.66 11 11.95 11l.66-.03-3.81-3.82-1.33 1.33zM16 9h5c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1v-.5a2.5 2.5 0 0 0-5 0V3c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1zm.8-6.5c0-.94.76-1.7 1.7-1.7s1.7.76 1.7 1.7V3h-3.4v-.5z"},child:[]}]})(e)}class fO{constructor(){this.audioContext=null,this.isMuted=this.loadMutePreference(),this.volume=this.loadVolumePreference(),this.sounds={},this.initAudioContext()}initAudioContext(){if(!this.audioContext&&typeof window<"u")try{this.audioContext=new(window.AudioContext||window.webkitAudioContext)}catch(t){console.warn("Web Audio API not supported",t)}}loadMutePreference(){try{return localStorage.getItem("audioMuted")==="true"}catch{return!1}}loadVolumePreference(){try{const t=localStorage.getItem("audioVolume");return t?parseFloat(t):.3}catch{return .3}}saveMutePreference(){try{localStorage.setItem("audioMuted",this.isMuted.toString())}catch(t){console.warn("Could not save mute preference",t)}}toggleMute(){return this.isMuted=!this.isMuted,this.saveMutePreference(),this.isMuted}setMuted(t){this.isMuted=t,this.saveMutePreference()}isMutedState(){return this.isMuted}playBeep(t=800,s=200,a=null){if(this.isMuted)return;const l=a!==null?a:this.loadVolumePreference();if(!(!this.audioContext&&(this.initAudioContext(),!this.audioContext)))try{this.audioContext.state==="suspended"&&this.audioContext.resume();const u=this.audioContext.createOscillator(),d=this.audioContext.createGain();u.connect(d),d.connect(this.audioContext.destination),u.frequency.value=t,u.type="sine",d.gain.setValueAtTime(l,this.audioContext.currentTime),d.gain.exponentialRampToValueAtTime(.01,this.audioContext.currentTime+s/1e3),u.start(this.audioContext.currentTime),u.stop(this.audioContext.currentTime+s/1e3)}catch(u){console.warn("Could not play beep",u)}}playHighBeep(){this.playBeep(1e3,300)}playLowBeep(){this.playBeep(400,300)}playChime(){if(!this.isMuted&&!(!this.audioContext&&(this.initAudioContext(),!this.audioContext)))try{this.audioContext.state==="suspended"&&this.audioContext.resume(),this.playBeep(800,200),setTimeout(()=>{this.playBeep(1e3,400)},150)}catch(t){console.warn("Could not play chime",t)}}playCountdownBeep(){this.isMuted||(this.playBeep(600,150),setTimeout(()=>this.playBeep(600,150),200),setTimeout(()=>this.playBeep(600,150),400))}playCompletionFanfare(){if(!this.isMuted&&!(!this.audioContext&&(this.initAudioContext(),!this.audioContext)))try{this.audioContext.state==="suspended"&&this.audioContext.resume(),[523,659,784,1047].forEach((s,a)=>{setTimeout(()=>{this.playBeep(s,300)},a*150)})}catch(t){console.warn("Could not play completion fanfare",t)}}playTransitionBeep(){this.isMuted||this.playBeep(700,200)}}const Vt=new fO;class pO{constructor(){this.wakeLock=null,this.isSupported="wakeLock"in navigator}isWakeLockSupported(){return this.isSupported}async requestWakeLock(){if(!this.isSupported)return console.warn("Wake Lock API is not supported in this browser"),!1;try{return this.wakeLock=await navigator.wakeLock.request("screen"),console.log("Wake Lock acquired"),this.wakeLock.addEventListener("release",()=>{console.log("Wake Lock released")}),!0}catch(t){return console.error(`Failed to acquire wake lock: ${t.name}, ${t.message}`),!1}}async releaseWakeLock(){if(this.wakeLock!==null)try{await this.wakeLock.release(),this.wakeLock=null,console.log("Wake Lock manually released")}catch(t){console.error(`Failed to release wake lock: ${t.message}`)}}isActive(){return this.wakeLock!==null&&!this.wakeLock.released}async reacquireOnVisibilityChange(){if(!this.isSupported)return;const t=async()=>{document.visibilityState==="visible"&&this.wakeLock!==null&&this.wakeLock.released&&await this.requestWakeLock()};return document.addEventListener("visibilitychange",t),()=>{document.removeEventListener("visibilitychange",t)}}}const Sr=new pO,Hg=x.memo(({currentWeek:e=1,deloadWeekActive:t=!1,onDeloadTrigger:s,clickable:a=!1})=>{const l=il(),d=["SUN","MON","TUE","WED","THU","FRI","SAT"][new Date().getDay()],h=e>=4&&!t&&a,g=t?{backgroundColor:l.palette.mode==="dark"?"rgba(255, 152, 0, 0.2)":"rgba(255, 152, 0, 0.15)",color:l.palette.warning.main,border:`1px solid ${l.palette.warning.main}`}:{backgroundColor:l.palette.mode==="dark"?"rgba(29, 181, 132, 0.2)":"rgba(29, 181, 132, 0.15)",color:l.palette.primary.main,border:`1px solid ${l.palette.mode==="dark","rgba(29, 181, 132, 0.3)"}`},y=()=>{h&&s&&s()},b=r.jsxs(N,{onClick:y,sx:{display:"inline-flex",alignItems:"center",gap:.5,padding:"4px 12px",borderRadius:"16px",fontWeight:600,fontSize:"0.875rem",letterSpacing:"0.5px",cursor:h?"pointer":"default",transition:"all 0.2s ease",...g,"&:hover":h?{transform:"scale(1.05)",boxShadow:l.palette.mode==="dark"?"0 2px 8px rgba(0, 0, 0, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.15)"}:{},"&:active":h?{transform:"scale(0.98)"}:{}},role:h?"button":void 0,tabIndex:h?0:void 0,onKeyDown:h?v=>{(v.key==="Enter"||v.key===" ")&&(v.preventDefault(),y())}:void 0,"aria-label":h?`Week ${e} - Click to trigger deload week`:`${d}, Week ${e}${t?" (Deload)":""}`,children:[r.jsx(N,{component:"span",sx:{fontWeight:700},children:d}),r.jsx(N,{component:"span",sx:{fontSize:"1rem",opacity:.6,mx:.25},children:"|"}),r.jsx(N,{component:"span",sx:{fontWeight:600},children:t?"DELOAD":`WK ${e}`}),t&&r.jsx(Rg,{sx:{fontSize:"1rem",ml:.25}})]});return h?r.jsx(Zn,{title:"Click to trigger deload week",arrow:!0,children:b}):b});Hg.displayName="WeekBadge";Hg.propTypes={currentWeek:D.number,deloadWeekActive:D.bool,onDeloadTrigger:D.func,clickable:D.bool};const tj="@firebase/installations",Ug="0.6.19";const nj=1e4,sj=`w:${Ug}`,ij="FIS_v2",mO="https://firebaseinstallations.googleapis.com/v1",gO=3600*1e3,yO="installations",xO="Installations";const bO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ar=new KC(yO,xO,bO);function aj(e){return e instanceof DP&&e.code.includes("request-failed")}function rj({projectId:e}){return`${mO}/projects/${e}/installations`}function oj(e){return{token:e.token,requestStatus:2,expiresIn:SO(e.expiresIn),creationTime:Date.now()}}async function lj(e,t){const a=(await t.json()).error;return Ar.create("request-failed",{requestName:e,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function cj({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function vO(e,{refreshToken:t}){const s=cj(e);return s.append("Authorization",wO(t)),s}async function uj(e){const t=await e();return t.status>=500&&t.status<600?e():t}function SO(e){return Number(e.replace("s","000"))}function wO(e){return`${ij} ${e}`}async function CO({appConfig:e,heartbeatServiceProvider:t},{fid:s}){const a=rj(e),l=cj(e),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const d={fid:s,authVersion:ij,appId:e.appId,sdkVersion:sj},h={method:"POST",headers:l,body:JSON.stringify(d)},p=await uj(()=>fetch(a,h));if(p.ok){const g=await p.json();return{fid:g.fid||s,registrationStatus:2,refreshToken:g.refreshToken,authToken:oj(g.authToken)}}else throw await lj("Create Installation",p)}function dj(e){return new Promise(t=>{setTimeout(t,e)})}function jO(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}const kO=/^[cdef][\w-]{21}$/,Vm="";function TO(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const s=DO(e);return kO.test(s)?s:Vm}catch{return Vm}}function DO(e){return jO(e).substr(0,22)}function vh(e){return`${e.appName}!${e.appId}`}const hj=new Map;function fj(e,t){const s=vh(e);pj(s,t),EO(s,t)}function pj(e,t){const s=hj.get(e);if(s)for(const a of s)a(t)}function EO(e,t){const s=MO();s&&s.postMessage({key:e,fid:t}),AO()}let wr=null;function MO(){return!wr&&"BroadcastChannel"in self&&(wr=new BroadcastChannel("[Firebase] FID Change"),wr.onmessage=e=>{pj(e.data.key,e.data.fid)}),wr}function AO(){hj.size===0&&wr&&(wr.close(),wr=null)}const PO="firebase-installations-database",OO=1,Pr="firebase-installations-store";let om=null;function qg(){return om||(om=Fg(PO,OO,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Pr)}}})),om}async function Xd(e,t){const s=vh(e),l=(await qg()).transaction(Pr,"readwrite"),u=l.objectStore(Pr),d=await u.get(s);return await u.put(t,s),await l.done,(!d||d.fid!==t.fid)&&fj(e,t.fid),t}async function mj(e){const t=vh(e),a=(await qg()).transaction(Pr,"readwrite");await a.objectStore(Pr).delete(t),await a.done}async function Sh(e,t){const s=vh(e),l=(await qg()).transaction(Pr,"readwrite"),u=l.objectStore(Pr),d=await u.get(s),h=t(d);return h===void 0?await u.delete(s):await u.put(h,s),await l.done,h&&(!d||d.fid!==h.fid)&&fj(e,h.fid),h}async function Yg(e){let t;const s=await Sh(e.appConfig,a=>{const l=RO(a),u=_O(e,l);return t=u.registrationPromise,u.installationEntry});return s.fid===Vm?{installationEntry:await t}:{installationEntry:s,registrationPromise:t}}function RO(e){const t=e||{fid:TO(),registrationStatus:0};return gj(t)}function _O(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(Ar.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const s={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},a=IO(e,s);return{installationEntry:s,registrationPromise:a}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:WO(e)}:{installationEntry:t}}async function IO(e,t){try{const s=await CO(e,t);return Xd(e.appConfig,s)}catch(s){throw aj(s)&&s.customData.serverCode===409?await mj(e.appConfig):await Xd(e.appConfig,{fid:t.fid,registrationStatus:0}),s}}async function WO(e){let t=await VS(e.appConfig);for(;t.registrationStatus===1;)await dj(100),t=await VS(e.appConfig);if(t.registrationStatus===0){const{installationEntry:s,registrationPromise:a}=await Yg(e);return a||s}return t}function VS(e){return Sh(e,t=>{if(!t)throw Ar.create("installation-not-found");return gj(t)})}function gj(e){return NO(e)?{fid:e.fid,registrationStatus:0}:e}function NO(e){return e.registrationStatus===1&&e.registrationTime+nj<Date.now()}async function LO({appConfig:e,heartbeatServiceProvider:t},s){const a=zO(e,s),l=vO(e,s),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const d={installation:{sdkVersion:sj,appId:e.appId}},h={method:"POST",headers:l,body:JSON.stringify(d)},p=await uj(()=>fetch(a,h));if(p.ok){const g=await p.json();return oj(g)}else throw await lj("Generate Auth Token",p)}function zO(e,{fid:t}){return`${rj(e)}/${t}/authTokens:generate`}async function Gg(e,t=!1){let s;const a=await Sh(e.appConfig,u=>{if(!yj(u))throw Ar.create("not-registered");const d=u.authToken;if(!t&&FO(d))return u;if(d.requestStatus===1)return s=BO(e,t),u;{if(!navigator.onLine)throw Ar.create("app-offline");const h=UO(u);return s=VO(e,h),h}});return s?await s:a.authToken}async function BO(e,t){let s=await FS(e.appConfig);for(;s.authToken.requestStatus===1;)await dj(100),s=await FS(e.appConfig);const a=s.authToken;return a.requestStatus===0?Gg(e,t):a}function FS(e){return Sh(e,t=>{if(!yj(t))throw Ar.create("not-registered");const s=t.authToken;return qO(s)?{...t,authToken:{requestStatus:0}}:t})}async function VO(e,t){try{const s=await LO(e,t),a={...t,authToken:s};return await Xd(e.appConfig,a),s}catch(s){if(aj(s)&&(s.customData.serverCode===401||s.customData.serverCode===404))await mj(e.appConfig);else{const a={...t,authToken:{requestStatus:0}};await Xd(e.appConfig,a)}throw s}}function yj(e){return e!==void 0&&e.registrationStatus===2}function FO(e){return e.requestStatus===2&&!HO(e)}function HO(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+gO}function UO(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function qO(e){return e.requestStatus===1&&e.requestTime+nj<Date.now()}async function YO(e){const t=e,{installationEntry:s,registrationPromise:a}=await Yg(t);return a?a.catch(console.error):Gg(t).catch(console.error),s.fid}async function GO(e,t=!1){const s=e;return await $O(s),(await Gg(s,t)).token}async function $O(e){const{registrationPromise:t}=await Yg(e);t&&await t}function KO(e){if(!e||!e.options)throw lm("App Configuration");if(!e.name)throw lm("App Name");const t=["projectId","apiKey","appId"];for(const s of t)if(!e.options[s])throw lm(s);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function lm(e){return Ar.create("missing-app-config-values",{valueName:e})}const xj="installations",QO="installations-internal",XO=e=>{const t=e.getProvider("app").getImmediate(),s=KO(t),a=Vg(t,"heartbeat");return{app:t,appConfig:s,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},ZO=e=>{const t=e.getProvider("app").getImmediate(),s=Vg(t,xj).getImmediate();return{getId:()=>YO(s),getToken:l=>GO(s,l)}};function JO(){Gd(new $d(xj,XO,"PUBLIC")),Gd(new $d(QO,ZO,"PRIVATE"))}JO();Yd(tj,Ug);Yd(tj,Ug,"esm2020");const eR="/firebase-messaging-sw.js",tR="/firebase-cloud-messaging-push-scope",bj="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",nR="https://fcmregistrations.googleapis.com/v1",vj="google.c.a.c_id",sR="google.c.a.c_l",iR="google.c.a.ts",aR="google.c.a.e",HS=1e4;var US;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(US||(US={}));var Ac;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Ac||(Ac={}));function qi(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function rR(e){const t="=".repeat((4-e.length%4)%4),s=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),a=atob(s),l=new Uint8Array(a.length);for(let u=0;u<a.length;++u)l[u]=a.charCodeAt(u);return l}const cm="fcm_token_details_db",oR=5,qS="fcm_token_object_Store";async function lR(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(u=>u.name).includes(cm))return null;let t=null;return(await Fg(cm,oR,{upgrade:async(a,l,u,d)=>{if(l<2||!a.objectStoreNames.contains(qS))return;const h=d.objectStore(qS),p=await h.index("fcmSenderId").get(e);if(await h.clear(),!!p){if(l===2){const g=p;if(!g.auth||!g.p256dh||!g.endpoint)return;t={token:g.fcmToken,createTime:g.createTime??Date.now(),subscriptionOptions:{auth:g.auth,p256dh:g.p256dh,endpoint:g.endpoint,swScope:g.swScope,vapidKey:typeof g.vapidKey=="string"?g.vapidKey:qi(g.vapidKey)}}}else if(l===3){const g=p;t={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:qi(g.auth),p256dh:qi(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:qi(g.vapidKey)}}}else if(l===4){const g=p;t={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:qi(g.auth),p256dh:qi(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:qi(g.vapidKey)}}}}}})).close(),await sm(cm),await sm("fcm_vapid_details_db"),await sm("undefined"),cR(t)?t:null}function cR(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}const uR="firebase-messaging-database",dR=1,Pc="firebase-messaging-store";let um=null;function Sj(){return um||(um=Fg(uR,dR,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Pc)}}})),um}async function hR(e){const t=wj(e),a=await(await Sj()).transaction(Pc).objectStore(Pc).get(t);if(a)return a;{const l=await lR(e.appConfig.senderId);if(l)return await $g(e,l),l}}async function $g(e,t){const s=wj(e),l=(await Sj()).transaction(Pc,"readwrite");return await l.objectStore(Pc).put(t,s),await l.done,t}function wj({appConfig:e}){return e.appId}const fR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},rs=new KC("messaging","Messaging",fR);async function pR(e,t){const s=await Qg(e),a=Cj(t),l={method:"POST",headers:s,body:JSON.stringify(a)};let u;try{u=await(await fetch(Kg(e.appConfig),l)).json()}catch(d){throw rs.create("token-subscribe-failed",{errorInfo:d?.toString()})}if(u.error){const d=u.error.message;throw rs.create("token-subscribe-failed",{errorInfo:d})}if(!u.token)throw rs.create("token-subscribe-no-token");return u.token}async function mR(e,t){const s=await Qg(e),a=Cj(t.subscriptionOptions),l={method:"PATCH",headers:s,body:JSON.stringify(a)};let u;try{u=await(await fetch(`${Kg(e.appConfig)}/${t.token}`,l)).json()}catch(d){throw rs.create("token-update-failed",{errorInfo:d?.toString()})}if(u.error){const d=u.error.message;throw rs.create("token-update-failed",{errorInfo:d})}if(!u.token)throw rs.create("token-update-no-token");return u.token}async function gR(e,t){const a={method:"DELETE",headers:await Qg(e)};try{const u=await(await fetch(`${Kg(e.appConfig)}/${t}`,a)).json();if(u.error){const d=u.error.message;throw rs.create("token-unsubscribe-failed",{errorInfo:d})}}catch(l){throw rs.create("token-unsubscribe-failed",{errorInfo:l?.toString()})}}function Kg({projectId:e}){return`${nR}/projects/${e}/registrations`}async function Qg({appConfig:e,installations:t}){const s=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${s}`})}function Cj({p256dh:e,auth:t,endpoint:s,vapidKey:a}){const l={web:{endpoint:s,auth:t,p256dh:e}};return a!==bj&&(l.web.applicationPubKey=a),l}const yR=10080*60*1e3;async function xR(e){const t=await vR(e.swRegistration,e.vapidKey),s={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:qi(t.getKey("auth")),p256dh:qi(t.getKey("p256dh"))},a=await hR(e.firebaseDependencies);if(a){if(SR(a.subscriptionOptions,s))return Date.now()>=a.createTime+yR?bR(e,{token:a.token,createTime:Date.now(),subscriptionOptions:s}):a.token;try{await gR(e.firebaseDependencies,a.token)}catch(l){console.warn(l)}return YS(e.firebaseDependencies,s)}else return YS(e.firebaseDependencies,s)}async function bR(e,t){try{const s=await mR(e.firebaseDependencies,t),a={...t,token:s,createTime:Date.now()};return await $g(e.firebaseDependencies,a),s}catch(s){throw s}}async function YS(e,t){const a={token:await pR(e,t),createTime:Date.now(),subscriptionOptions:t};return await $g(e,a),a.token}async function vR(e,t){const s=await e.pushManager.getSubscription();return s||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:rR(t)})}function SR(e,t){const s=t.vapidKey===e.vapidKey,a=t.endpoint===e.endpoint,l=t.auth===e.auth,u=t.p256dh===e.p256dh;return s&&a&&l&&u}function GS(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return wR(t,e),CR(t,e),jR(t,e),t}function wR(e,t){if(!t.notification)return;e.notification={};const s=t.notification.title;s&&(e.notification.title=s);const a=t.notification.body;a&&(e.notification.body=a);const l=t.notification.image;l&&(e.notification.image=l);const u=t.notification.icon;u&&(e.notification.icon=u)}function CR(e,t){t.data&&(e.data=t.data)}function jR(e,t){if(!t.fcmOptions&&!t.notification?.click_action)return;e.fcmOptions={};const s=t.fcmOptions?.link??t.notification?.click_action;s&&(e.fcmOptions.link=s);const a=t.fcmOptions?.analytics_label;a&&(e.fcmOptions.analyticsLabel=a)}function kR(e){return typeof e=="object"&&!!e&&vj in e}function TR(e){if(!e||!e.options)throw dm("App Configuration Object");if(!e.name)throw dm("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:s}=e;for(const a of t)if(!s[a])throw dm(a);return{appName:e.name,projectId:s.projectId,apiKey:s.apiKey,appId:s.appId,senderId:s.messagingSenderId}}function dm(e){return rs.create("missing-app-config-values",{valueName:e})}class DR{constructor(t,s,a){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const l=TR(t);this.firebaseDependencies={app:t,appConfig:l,installations:s,analyticsProvider:a}}_delete(){return Promise.resolve()}}async function ER(e){try{e.swRegistration=await navigator.serviceWorker.register(eR,{scope:tR}),e.swRegistration.update().catch(()=>{}),await MR(e.swRegistration)}catch(t){throw rs.create("failed-service-worker-registration",{browserErrorMessage:t?.message})}}async function MR(e){return new Promise((t,s)=>{const a=setTimeout(()=>s(new Error(`Service worker not registered after ${HS} ms`)),HS),l=e.installing||e.waiting;e.active?(clearTimeout(a),t()):l?l.onstatechange=u=>{u.target?.state==="activated"&&(l.onstatechange=null,clearTimeout(a),t())}:(clearTimeout(a),s(new Error("No incoming service worker found.")))})}async function AR(e,t){if(!t&&!e.swRegistration&&await ER(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw rs.create("invalid-sw-registration");e.swRegistration=t}}async function PR(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=bj)}async function jj(e,t){if(!navigator)throw rs.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw rs.create("permission-blocked");return await PR(e,t?.vapidKey),await AR(e,t?.serviceWorkerRegistration),xR(e)}async function OR(e,t,s){const a=RR(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(a,{message_id:s[vj],message_name:s[sR],message_time:s[iR],message_device_time:Math.floor(Date.now()/1e3)})}function RR(e){switch(e){case Ac.NOTIFICATION_CLICKED:return"notification_open";case Ac.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function _R(e,t){const s=t.data;if(!s.isFirebaseMessaging)return;e.onMessageHandler&&s.messageType===Ac.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(GS(s)):e.onMessageHandler.next(GS(s)));const a=s.data;kR(a)&&a[aR]==="1"&&await OR(e,s.messageType,a)}const $S="@firebase/messaging",KS="0.12.23";const IR=e=>{const t=new DR(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",s=>_R(t,s)),t},WR=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:a=>jj(t,a)}};function NR(){Gd(new $d("messaging",IR,"PUBLIC")),Gd(new $d("messaging-internal",WR,"PRIVATE")),Yd($S,KS),Yd($S,KS,"esm2020")}async function kj(){try{await MP()}catch{return!1}return typeof window<"u"&&AP()&&PP()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function LR(e=EP()){return kj().then(t=>{if(!t)throw rs.create("unsupported-browser")},t=>{throw rs.create("indexed-db-unsupported")}),Vg(QC(e),"messaging").getImmediate()}async function zR(e,t){return e=QC(e),jj(e,t)}NR();const BR={apiKey:"AIzaSyCxgAj6zUGeScwae1Slw-JqX-ZAEcEhAcI",authDomain:"goodlift-7760a.firebaseapp.com",projectId:"goodlift-7760a",storageBucket:"goodlift-7760a.firebasestorage.app",messagingSenderId:"444306542177",appId:"1:444306542177:web:ea09005a6d4cf46d6f6420",measurementId:"G-YR73MY2CH6"},wh=OP(BR),Tj=RP(wh),wd=_P(wh);IP(wh);let Zd=null;kj().then(e=>{e&&(Zd=LR(wh))}).catch(e=>{console.warn("Firebase Messaging not supported:",e)});const VR="modulepreload",FR=function(e){return"/goodlift/"+e},QS={},HR=function(t,s,a){let l=Promise.resolve();if(s&&s.length>0){let p=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=d?.nonce||d?.getAttribute("nonce");l=p(s.map(g=>{if(g=FR(g),g in QS)return;QS[g]=!0;const y=g.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const v=document.createElement("link");if(v.rel=y?"stylesheet":VR,y||(v.as="script"),v.crossOrigin="",v.href=g,h&&v.setAttribute("nonce",h),document.head.appendChild(v),y)return new Promise((S,T)=>{v.addEventListener("load",S),v.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return l.then(d=>{for(const h of d||[])h.status==="rejected"&&u(h.reason);return t().catch(u)})},Fm=e=>{if(e==null)return null;if(Array.isArray(e))return e.map(t=>Fm(t));if(typeof e=="object"){const t={};for(const[s,a]of Object.entries(e))a!==void 0&&(t[s]=Fm(a));return t}return e},Tn=async(e,t)=>{if(!e){console.error("Cannot save data: No user ID provided");return}try{const s=XC(Tj,"users",e,"data","userData"),a=Fm({...t,lastUpdated:new Date().toISOString()});await WP(s,a,{merge:!0})}catch(s){throw console.error("Error saving data to Firebase:",s),s}},Xs=async e=>{if(!e)return console.error("Cannot load data: No user ID provided"),null;try{const t=XC(Tj,"users",e,"data","userData"),s=await NP(t);return s.exists()?s.data():null}catch(t){throw console.error("Error loading data from Firebase:",t),t}},Kc=async(e,t)=>{if(e)try{await Tn(e,{workoutHistory:t})}catch(s){console.error("Error saving workout history to Firebase:",s)}},Ch=async(e,t)=>{if(e)try{await Tn(e,{userStats:t})}catch(s){console.error("Error saving user stats to Firebase:",s)}},Xg=async(e,t)=>{if(e)try{await Tn(e,{exerciseWeights:t})}catch(s){console.error("Error saving exercise weights to Firebase:",s)}},Zg=async(e,t)=>{if(e)try{await Tn(e,{exerciseTargetReps:t})}catch(s){console.error("Error saving exercise target reps to Firebase:",s)}},UR=async(e,t)=>{if(e)try{await Tn(e,{hiitSessions:t})}catch(s){console.error("Error saving HIIT sessions to Firebase:",s)}},qR=async(e,t)=>{if(e)try{await Tn(e,{cardioSessions:t})}catch(s){console.error("Error saving cardio sessions to Firebase:",s)}},Dj=async(e,t)=>{if(e)try{await Tn(e,{stretchSessions:t})}catch(s){console.error("Error saving stretch sessions to Firebase:",s)}},YR=async(e,t)=>{if(e)try{await Tn(e,{workoutPlans:t})}catch(s){console.error("Error saving workout plans to Firebase:",s)}},GR=async(e,t)=>{if(e)try{await Tn(e,{activePlanId:t})}catch(s){console.error("Error saving active plan to Firebase:",s)}},Jg=async(e,t)=>{if(e)try{await Tn(e,{favoriteWorkouts:t})}catch(s){console.error("Error saving favorite workouts to Firebase:",s)}},Ej=async(e,t)=>{if(e)try{await Tn(e,{hiitPresets:t})}catch(s){console.error("Error saving HIIT presets to Firebase:",s)}},Mj=async(e,t)=>{if(e)try{await Tn(e,{yogaPresets:t})}catch(s){console.error("Error saving Yoga presets to Firebase:",s)}},ey="goodlift_guest_mode",Hm=1,al={WORKOUT_HISTORY:"goodlift_guest_workout_history",USER_STATS:"goodlift_guest_user_stats",EXERCISE_WEIGHTS:"goodlift_guest_exercise_weights",EXERCISE_TARGET_REPS:"goodlift_guest_exercise_target_reps",HIIT_SESSIONS:"goodlift_guest_hiit_sessions",STRETCH_SESSIONS:"goodlift_guest_stretch_sessions",CARDIO_SESSIONS:"goodlift_guest_cardio_sessions",FAVORITE_WORKOUTS:"goodlift_guest_favorite_workouts",FAVORITE_EXERCISES:"goodlift_guest_favorite_exercises",PINNED_EXERCISES:"goodlift_guest_pinned_exercises",WORKOUT_PLANS:"goodlift_guest_workout_plans",SNACKBAR_DISMISSED:"goodlift_guest_snackbar_dismissed",UNLOCKED_ACHIEVEMENTS:"goodlift_guest_unlocked_achievements",TOTAL_PRS:"goodlift_guest_total_prs",TOTAL_VOLUME:"goodlift_guest_total_volume",ACTIVE_PLAN:"goodlift_guest_active_plan",PLANS:"goodlift_guest_plans",PLAN_DAYS:"goodlift_guest_plan_days",PLAN_EXERCISES:"goodlift_guest_plan_exercises",YOGA_PRESETS:"goodlift_guest_yoga_presets",HIIT_PRESETS:"goodlift_guest_hiit_presets"},tt=()=>{try{return localStorage.getItem(ey)==="true"}catch(e){return console.error("Error checking guest mode:",e),!1}},$R=()=>{try{localStorage.setItem(ey,"true")}catch(e){console.error("Error enabling guest mode:",e),ty(e)}},Jd=()=>{try{localStorage.removeItem(ey)}catch(e){console.error("Error disabling guest mode:",e)}},At=e=>{const t=al[e.toUpperCase()];if(!t)return console.error(`Invalid category: ${e}`),null;try{const s=localStorage.getItem(t);if(!s)return null;const a=JSON.parse(s);return a.version&&a.version!==Hm&&console.warn(`Data version mismatch for ${e}: ${a.version} vs ${Hm}`),a.data!==void 0?a.data:a}catch(s){return console.error(`Error reading guest data for ${e}:`,s),null}},Ct=(e,t)=>{const s=al[e.toUpperCase()];if(!s){console.error(`Invalid category: ${e}`);return}try{const a={version:Hm,data:t,lastUpdated:new Date().toISOString()};localStorage.setItem(s,JSON.stringify(a))}catch(a){console.error(`Error saving guest data for ${e}:`,a),ty(a)}},XS=()=>{try{Object.values(al).forEach(e=>{localStorage.removeItem(e)}),Jd()}catch(e){console.error("Error clearing guest data:",e)}},Aj=()=>{const e={};try{Object.entries(al).forEach(([t,s])=>{if(t==="SNACKBAR_DISMISSED")return;const a=localStorage.getItem(s);if(a)try{const l=JSON.parse(a);e[t.toLowerCase()]=l.data!==void 0?l.data:l}catch(l){console.error(`Error parsing guest data for ${t}:`,l)}})}catch(t){console.error("Error getting all guest data:",t)}return e},KR=()=>{try{const e=localStorage.getItem(al.SNACKBAR_DISMISSED);if(!e)return!0;const t=parseInt(e,10),s=Date.now(),a=1440*60*1e3;return s-t>a}catch(e){return console.error("Error checking snackbar status:",e),!0}},QR=()=>{try{localStorage.setItem(al.SNACKBAR_DISMISSED,Date.now().toString())}catch(e){console.error("Error dismissing snackbar:",e),ty(e)}},ty=e=>{(e.name==="QuotaExceededError"||e.code===22)&&console.error("localStorage quota exceeded. Some data may not be saved.")},Ze={WORKOUT_HISTORY:"goodlift_workout_history",USER_STATS:"goodlift_user_stats",EXERCISE_WEIGHTS:"goodlift_exercise_weights",EXERCISE_TARGET_REPS:"goodlift_exercise_target_reps",HIIT_SESSIONS:"goodlift_hiit_sessions",STRETCH_SESSIONS:"goodlift_stretch_sessions",CARDIO_SESSIONS:"goodlift_cardio_sessions",FAVORITE_WORKOUTS:"goodlift_favorite_workouts",FAVORITE_EXERCISES:"goodlift_favorite_exercises",PINNED_EXERCISES:"goodlift_pinned_exercises",WORKOUT_PLANS:"goodlift_workout_plans",ACTIVE_PLAN:"goodlift_active_plan",UNLOCKED_ACHIEVEMENTS:"goodlift_unlocked_achievements",TOTAL_PRS:"goodlift_total_prs",TOTAL_VOLUME:"goodlift_total_volume",YOGA_PRESETS:"goodlift_yoga_presets",HIIT_PRESETS:"goodlift_hiit_presets"};let pt=null;const Pj=e=>{pt=e},Qc=()=>pt,ci=async()=>{try{if(tt())return At("workout_history")||[];if(pt)try{const t=await Xs(pt);if(t?.workoutHistory)return localStorage.setItem(Ze.WORKOUT_HISTORY,JSON.stringify(t.workoutHistory)),t.workoutHistory}catch(t){console.error("Firebase fetch failed, using localStorage:",t)}const e=localStorage.getItem(Ze.WORKOUT_HISTORY);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading workout history:",e),[]}},ny=async e=>{try{if(!e)throw new Error("Workout data is required");const t=await ci();t.unshift(e),tt()?Ct("workout_history",t):(localStorage.setItem(Ze.WORKOUT_HISTORY,JSON.stringify(t)),pt&&await Kc(pt,t))}catch(t){throw console.error("Error saving workout:",t),t}},XR=async e=>{try{const t=await ci();if(e<0||e>=t.length)throw new Error("Invalid workout index");t.splice(e,1),tt()?Ct("workout_history",t):(localStorage.setItem(Ze.WORKOUT_HISTORY,JSON.stringify(t)),pt&&await Kc(pt,t))}catch(t){throw console.error("Error deleting workout:",t),t}},ZR=async(e,t)=>{try{const s=await ci();if(e<0||e>=s.length)throw new Error("Invalid workout index");s[e]={...s[e],...t},tt()?Ct("workout_history",s):(localStorage.setItem(Ze.WORKOUT_HISTORY,JSON.stringify(s)),pt&&await Kc(pt,s))}catch(s){throw console.error("Error updating workout:",s),s}},Xc=async()=>{try{const e=await ci(),{calculateStreak:t}=await HR(async()=>{const{calculateStreak:T}=await Promise.resolve().then(()=>p7);return{calculateStreak:T}},void 0),s=t(e),a=e.length,l=e.reduce((T,k)=>T+(k.duration||0),0),d=Rj().reduce((T,k)=>T+(k.duration||0),0),p=_j().reduce((T,k)=>T+(k.duration||0),0),y=jh().reduce((T,k)=>T+(k.duration||0),0),b=await Nj(),v=await Lj(),S={totalWorkouts:a,totalTime:l,totalHiitTime:d,totalCardioTime:p,totalStretchTime:y,currentStreak:s.currentStreak,longestStreak:s.longestStreak,totalPRs:b,totalVolume:v};return tt()?Ct("user_stats",S):(localStorage.setItem(Ze.USER_STATS,JSON.stringify(S)),pt&&await Ch(pt,S)),S}catch(e){return console.error("Error calculating user stats:",e),{totalWorkouts:0,totalTime:0,totalHiitTime:0,totalCardioTime:0,totalStretchTime:0,currentStreak:0,longestStreak:0,totalPRs:0,totalVolume:0}}},sy=async e=>{try{if(!e)throw new Error("Stats object is required");tt()?Ct("user_stats",e):(localStorage.setItem(Ze.USER_STATS,JSON.stringify(e)),pt&&await Ch(pt,e))}catch(t){throw console.error("Error saving user stats:",t),t}},La=async e=>{try{if(tt()){const u=At("exercise_weights")?.[e];return u!==void 0?u:null}if(pt)try{const l=await Xs(pt);if(l?.exerciseWeights){localStorage.setItem(Ze.EXERCISE_WEIGHTS,JSON.stringify(l.exerciseWeights));const u=l.exerciseWeights[e];return u!==void 0?u:null}}catch(l){console.error("Firebase fetch failed, using localStorage:",l)}const t=localStorage.getItem(Ze.EXERCISE_WEIGHTS),a=(t?JSON.parse(t):{})[e];return a!==void 0?a:null}catch(t){return console.error("Error reading exercise weight:",t),null}},JR=async()=>{try{if(tt())return At("exercise_weights")||{};if(pt)try{const t=await Xs(pt);if(t?.exerciseWeights)return localStorage.setItem(Ze.EXERCISE_WEIGHTS,JSON.stringify(t.exerciseWeights)),t.exerciseWeights}catch(t){console.error("Firebase fetch failed, using localStorage:",t)}const e=localStorage.getItem(Ze.EXERCISE_WEIGHTS);return e?JSON.parse(e):{}}catch(e){return console.error("Error reading exercise weights:",e),{}}},Gi=async(e,t)=>{try{if(!e)throw new Error("Exercise name is required");if(t!=null&&(typeof t!="number"||t<0))throw new Error("Weight must be a positive number or null");const s=await JR();s[e]=t??null,tt()?Ct("exercise_weights",s):(localStorage.setItem(Ze.EXERCISE_WEIGHTS,JSON.stringify(s)),pt&&await Xg(pt,s))}catch(s){throw console.error("Error saving exercise weight:",s),s}},Ki=async e=>{try{if(tt()){const u=At("exercise_target_reps")?.[e];return u!==void 0?u:null}if(pt)try{const l=await Xs(pt);if(l?.exerciseTargetReps){localStorage.setItem(Ze.EXERCISE_TARGET_REPS,JSON.stringify(l.exerciseTargetReps));const u=l.exerciseTargetReps[e];return u!==void 0?u:null}}catch(l){console.error("Firebase fetch failed, using localStorage:",l)}const t=localStorage.getItem(Ze.EXERCISE_TARGET_REPS),a=(t?JSON.parse(t):{})[e];return a!==void 0?a:null}catch(t){return console.error("Error reading exercise target reps:",t),null}},eh=async(e,t)=>{try{if(!e)throw new Error("Exercise name is required");if(t!=null&&(typeof t!="number"||t<1))throw new Error("Reps must be a positive number or null");let s={};if(tt())s=At("exercise_target_reps")||{};else{const a=localStorage.getItem(Ze.EXERCISE_TARGET_REPS);s=a?JSON.parse(a):{}}s[e]=t??null,tt()?Ct("exercise_target_reps",s):(localStorage.setItem(Ze.EXERCISE_TARGET_REPS,JSON.stringify(s)),pt&&await Zg(pt,s))}catch(s){throw console.error("Error saving exercise target reps:",s),s}},Oj=async e=>{if(!e){console.error("Cannot load data: No user ID provided");return}try{Pj(e);const t=await Xs(e);if(t)t.workoutHistory&&localStorage.setItem(Ze.WORKOUT_HISTORY,JSON.stringify(t.workoutHistory)),t.userStats&&localStorage.setItem(Ze.USER_STATS,JSON.stringify(t.userStats)),t.exerciseWeights&&localStorage.setItem(Ze.EXERCISE_WEIGHTS,JSON.stringify(t.exerciseWeights)),t.exerciseTargetReps&&localStorage.setItem(Ze.EXERCISE_TARGET_REPS,JSON.stringify(t.exerciseTargetReps)),t.hiitSessions&&localStorage.setItem(Ze.HIIT_SESSIONS,JSON.stringify(t.hiitSessions)),t.cardioSessions&&localStorage.setItem(Ze.CARDIO_SESSIONS,JSON.stringify(t.cardioSessions)),t.stretchSessions&&localStorage.setItem(Ze.STRETCH_SESSIONS,JSON.stringify(t.stretchSessions)),t.workoutPlans&&localStorage.setItem(Ze.WORKOUT_PLANS,JSON.stringify(t.workoutPlans)),t.activePlanId&&localStorage.setItem(Ze.ACTIVE_PLAN,t.activePlanId);else{const s=await ci(),a=await Xc(),l=localStorage.getItem(Ze.EXERCISE_WEIGHTS),u=l?JSON.parse(l):{},d=localStorage.getItem(Ze.EXERCISE_TARGET_REPS),h=d?JSON.parse(d):{},p=Rj(),g=_j(),y=jh(),b=localStorage.getItem(Ze.WORKOUT_PLANS),v=b?JSON.parse(b):[],S=localStorage.getItem(Ze.ACTIVE_PLAN);(s.length>0||a?.totalWorkouts>0||Object.keys(u).length>0||Object.keys(h).length>0||p.length>0||g.length>0||y.length>0||v.length>0||S)&&await Promise.all([Kc(e,s),Ch(e,a),Xg(e,u),Zg(e,h),UR(e,p),qR(e,g),Dj(e,y),YR(e,v),GR(e,S)])}}catch(t){console.error("Error loading user data from cloud:",t)}},Rj=()=>{try{if(tt())return At("hiit_sessions")||[];const e=localStorage.getItem(Ze.HIIT_SESSIONS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading HIIT sessions:",e),[]}},_j=()=>{try{if(tt())return At("cardio_sessions")||[];const e=localStorage.getItem(Ze.CARDIO_SESSIONS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading cardio sessions:",e),[]}},Qi=async()=>{try{if(tt())return At("favorite_workouts")||[];if(pt)try{const t=await Xs(pt);if(t?.favoriteWorkouts)return localStorage.setItem(Ze.FAVORITE_WORKOUTS,JSON.stringify(t.favoriteWorkouts)),t.favoriteWorkouts}catch(t){console.error("Firebase fetch failed for favorite workouts, using localStorage:",t)}const e=localStorage.getItem(Ze.FAVORITE_WORKOUTS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading favorite workouts:",e),[]}},iy=async e=>{try{if(!e)throw new Error("Workout data is required");const t=await Qi(),s={id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:e.name||`${e.type} Workout`,type:e.type,equipment:e.equipment||"all",exercises:e.exercises,savedAt:new Date().toISOString()};t.unshift(s),tt()?Ct("favorite_workouts",t):(localStorage.setItem(Ze.FAVORITE_WORKOUTS,JSON.stringify(t)),pt&&await Jg(pt,t))}catch(t){throw console.error("Error saving favorite workout:",t),t}},Ij=async e=>{try{const s=(await Qi()).filter(a=>a.id!==e);tt()?Ct("favorite_workouts",s):(localStorage.setItem(Ze.FAVORITE_WORKOUTS,JSON.stringify(s)),pt&&await Jg(pt,s))}catch(t){throw console.error("Error deleting favorite workout:",t),t}},e_=async(e,t)=>{try{if(!e||!t)throw new Error("Workout ID and new name are required");const a=(await Qi()).map(l=>l.id===e?{...l,name:t}:l);tt()?Ct("favorite_workouts",a):(localStorage.setItem(Ze.FAVORITE_WORKOUTS,JSON.stringify(a)),pt&&await Jg(pt,a))}catch(s){throw console.error("Error updating favorite workout name:",s),s}},jh=()=>{try{if(tt())return At("stretch_sessions")||[];const e=localStorage.getItem(Ze.STRETCH_SESSIONS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading stretch sessions:",e),[]}},t_=async e=>{try{if(!e)throw new Error("Session data is required");const t=jh();t.unshift(e),tt()?Ct("stretch_sessions",t):(localStorage.setItem(Ze.STRETCH_SESSIONS,JSON.stringify(t)),pt&&await Dj(pt,t))}catch(t){throw console.error("Error saving stretch session:",t),t}},ay=()=>{try{if(tt()){const t=At("favorite_exercises")||[];return new Set(t)}const e=localStorage.getItem(Ze.FAVORITE_EXERCISES);return new Set(e?JSON.parse(e):[])}catch(e){return console.error("Error reading favorite exercises:",e),new Set}},n_=e=>{try{if(!e)throw new Error("Exercise name is required");const t=ay();let s;t.has(e)?(t.delete(e),s=!1):(t.add(e),s=!0);const a=Array.from(t);return tt()?Ct("favorite_exercises",a):localStorage.setItem(Ze.FAVORITE_EXERCISES,JSON.stringify(a)),s}catch(t){throw console.error("Error toggling favorite exercise:",t),t}},s_=e=>ay().has(e),i_=()=>{try{if(tt())return At("pinned_exercises")||[];const e=localStorage.getItem(Ze.PINNED_EXERCISES);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading pinned exercises:",e),[]}},a_=e=>{try{if(!Array.isArray(e))throw new Error("Pinned exercises must be an array");const t=e.slice(0,10);tt()?Ct("pinned_exercises",t):localStorage.setItem(Ze.PINNED_EXERCISES,JSON.stringify(t))}catch(t){throw console.error("Error saving pinned exercises:",t),t}},Wj=async()=>{try{if(tt())return At("unlocked_achievements")||[];const e=localStorage.getItem(Ze.UNLOCKED_ACHIEVEMENTS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading unlocked achievements:",e),[]}},r_=async e=>{try{tt()?Ct("unlocked_achievements",e):localStorage.setItem(Ze.UNLOCKED_ACHIEVEMENTS,JSON.stringify(e))}catch(t){console.error("Error saving unlocked achievements:",t)}},o_=async e=>{try{const t=await Wj();t.includes(e)||(t.push(e),await r_(t))}catch(t){console.error("Error adding unlocked achievement:",t)}},Nj=async()=>{try{if(tt())return At("total_prs")||0;const e=localStorage.getItem(Ze.TOTAL_PRS);return e?parseInt(e,10):0}catch(e){return console.error("Error reading total PRs:",e),0}},l_=async()=>{try{const t=await Nj()+1;return tt()?Ct("total_prs",t):localStorage.setItem(Ze.TOTAL_PRS,t.toString()),t}catch(e){console.error("Error incrementing total PRs:",e)}},Lj=async()=>{try{if(tt())return At("total_volume")||0;const e=localStorage.getItem(Ze.TOTAL_VOLUME);return e?parseFloat(e):0}catch(e){return console.error("Error reading total volume:",e),0}},c_=async e=>{try{const s=await Lj()+e;return tt()?Ct("total_volume",s):localStorage.setItem(Ze.TOTAL_VOLUME,s.toString()),s}catch(t){console.error("Error adding to total volume:",t)}},gc=async()=>{try{if(tt())return At("yoga_presets")||[];if(pt)try{const t=await Xs(pt);if(t?.yogaPresets)return localStorage.setItem(Ze.YOGA_PRESETS,JSON.stringify(t.yogaPresets)),t.yogaPresets}catch(t){console.error("Firebase fetch failed for yoga presets, using localStorage:",t)}const e=localStorage.getItem(Ze.YOGA_PRESETS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading yoga presets:",e),[]}},u_=async e=>{try{if(!e||!e.name)throw new Error("Preset must have a name");const t=await gc(),s=t.findIndex(a=>a.id===e.id);return s>=0?t[s]={...e,updatedAt:Date.now()}:t.push({...e,id:e.id||`yoga_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:Date.now(),updatedAt:Date.now()}),tt()?Ct("yoga_presets",t):(localStorage.setItem(Ze.YOGA_PRESETS,JSON.stringify(t)),pt&&await Mj(pt,t)),t}catch(t){throw console.error("Error saving yoga preset:",t),t}},d_=async e=>{try{const s=(await gc()).filter(a=>a.id!==e);return tt()?Ct("yoga_presets",s):(localStorage.setItem(Ze.YOGA_PRESETS,JSON.stringify(s)),pt&&await Mj(pt,s)),s}catch(t){throw console.error("Error deleting yoga preset:",t),t}},yc=async()=>{try{if(tt())return At("hiit_presets")||[];if(pt)try{const t=await Xs(pt);if(t?.hiitPresets)return localStorage.setItem(Ze.HIIT_PRESETS,JSON.stringify(t.hiitPresets)),t.hiitPresets}catch(t){console.error("Firebase fetch failed for HIIT presets, using localStorage:",t)}const e=localStorage.getItem(Ze.HIIT_PRESETS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading HIIT presets:",e),[]}},h_=async e=>{try{if(!e||!e.name)throw new Error("Preset must have a name");const t=await yc(),s=t.findIndex(a=>a.id===e.id);return s>=0?t[s]={...e,updatedAt:Date.now()}:t.push({...e,id:e.id||`hiit_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:Date.now(),updatedAt:Date.now()}),tt()?Ct("hiit_presets",t):(localStorage.setItem(Ze.HIIT_PRESETS,JSON.stringify(t)),pt&&await Ej(pt,t)),t}catch(t){throw console.error("Error saving HIIT preset:",t),t}},f_=async e=>{try{const s=(await yc()).filter(a=>a.id!==e);return tt()?Ct("hiit_presets",s):(localStorage.setItem(Ze.HIIT_PRESETS,JSON.stringify(s)),pt&&await Ej(pt,s)),s}catch(t){throw console.error("Error deleting HIIT preset:",t),t}},zj=x.createContext({}),Ir=()=>x.useContext(zj),Bj=({children:e})=>{const[t,s]=x.useState(null),[a,l]=x.useState(!0),[u,d]=x.useState(!1),[h,p]=x.useState(!1),g=()=>{if(tt()){const w=Aj(),j=Object.keys(w).length>0;return p(j),j}return p(!1),!1},y=(w,j)=>VP(wd,w,j),b=(w,j)=>BP(wd,w,j),v=()=>u?(d(!1),Jd(),s(null),Promise.resolve()):zP(wd),S=()=>{$R(),d(!0),s({uid:"guest",email:null,isGuest:!0})},T=async(w,j)=>{if(d(!1),j||Jd(),s(w),!j)try{await Oj(w.uid)}catch(E){console.error("Error loading user data:",E)}};x.useEffect(()=>(tt()&&(d(!0),s({uid:"guest",email:null,isGuest:!0}),g(),l(!1)),LP(wd,async j=>{if(j){const E=g();await T(j,E)}else tt()||(d(!1),p(!1),s(null),Pj(null));l(!1)})),[]);const k={currentUser:t,isGuest:u,hasGuestData:h,signup:y,login:b,logout:v,continueAsGuest:S,checkGuestData:g};return r.jsx(zj.Provider,{value:k,children:!a&&e})};Bj.propTypes={children:D.node.isRequired};const Vj=6048e5,p_=864e5,Fj=6e4,Hj=36e5,m_=1e3,ZS=Symbol.for("constructDateFrom");function on(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&ZS in e?e[ZS](t):e instanceof Date?new e.constructor(t):new Date(t)}function at(e,t){return on(t||e,e)}function Zc(e,t,s){const a=at(e,s?.in);return isNaN(t)?on(s?.in||e,NaN):(t&&a.setDate(a.getDate()+t),a)}function kh(e,t,s){const a=at(e,s?.in);if(isNaN(t))return on(e,NaN);if(!t)return a;const l=a.getDate(),u=on(e,a.getTime());u.setMonth(a.getMonth()+t+1,0);const d=u.getDate();return l>=d?u:(a.setFullYear(u.getFullYear(),u.getMonth(),l),a)}function Uj(e,t,s){return on(e,+at(e)+t)}function g_(e,t,s){return Uj(e,t*Hj)}let y_={};function Wr(){return y_}function oi(e,t){const s=Wr(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,l=at(e,t?.in),u=l.getDay(),d=(u<a?7:0)+u-a;return l.setDate(l.getDate()-d),l.setHours(0,0,0,0),l}function Jo(e,t){return oi(e,{...t,weekStartsOn:1})}function qj(e,t){const s=at(e,t?.in),a=s.getFullYear(),l=on(s,0);l.setFullYear(a+1,0,4),l.setHours(0,0,0,0);const u=Jo(l),d=on(s,0);d.setFullYear(a,0,4),d.setHours(0,0,0,0);const h=Jo(d);return s.getTime()>=u.getTime()?a+1:s.getTime()>=h.getTime()?a:a-1}function th(e){const t=at(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function Jc(e,...t){const s=on.bind(null,t.find(a=>typeof a=="object"));return t.map(s)}function Oc(e,t){const s=at(e,t?.in);return s.setHours(0,0,0,0),s}function x_(e,t,s){const[a,l]=Jc(s?.in,e,t),u=Oc(a),d=Oc(l),h=+u-th(u),p=+d-th(d);return Math.round((h-p)/p_)}function b_(e,t){const s=qj(e,t),a=on(e,0);return a.setFullYear(s,0,4),a.setHours(0,0,0,0),Jo(a)}function v_(e,t,s){const a=at(e,s?.in);return a.setTime(a.getTime()+t*Fj),a}function S_(e,t,s){return Uj(e,t*1e3)}function w_(e,t,s){return Zc(e,t*7,s)}function C_(e,t,s){return kh(e,t*12,s)}function Um(e,t,s){const[a,l]=Jc(s?.in,e,t);return+Oc(a)==+Oc(l)}function j_(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Yj(e){return!(!j_(e)&&typeof e!="number"||isNaN(+at(e)))}function JS(e,t){const s=at(e,t?.in);return s.setHours(23,59,59,999),s}function Gj(e,t){const s=at(e,t?.in),a=s.getMonth();return s.setFullYear(s.getFullYear(),a+1,0),s.setHours(23,59,59,999),s}function $j(e,t){const s=at(e,t?.in);return s.setDate(1),s.setHours(0,0,0,0),s}function ew(e,t){const s=at(e,t?.in),a=s.getFullYear();return s.setFullYear(a+1,0,0),s.setHours(23,59,59,999),s}function Kj(e,t){const s=at(e,t?.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}function Qj(e,t){const s=Wr(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,l=at(e,t?.in),u=l.getDay(),d=(u<a?-7:0)+6-(u-a);return l.setDate(l.getDate()+d),l.setHours(23,59,59,999),l}const k_={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},T_=(e,t,s)=>{let a;const l=k_[e];return typeof l=="string"?a=l:t===1?a=l.one:a=l.other.replace("{{count}}",t.toString()),s?.addSuffix?s.comparison&&s.comparison>0?"in "+a:a+" ago":a};function hm(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const D_={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},E_={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},M_={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},A_={date:hm({formats:D_,defaultWidth:"full"}),time:hm({formats:E_,defaultWidth:"full"}),dateTime:hm({formats:M_,defaultWidth:"full"})},P_={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},O_=(e,t,s,a)=>P_[e];function nc(e){return(t,s)=>{const a=s?.context?String(s.context):"standalone";let l;if(a==="formatting"&&e.formattingValues){const d=e.defaultFormattingWidth||e.defaultWidth,h=s?.width?String(s.width):d;l=e.formattingValues[h]||e.formattingValues[d]}else{const d=e.defaultWidth,h=s?.width?String(s.width):e.defaultWidth;l=e.values[h]||e.values[d]}const u=e.argumentCallback?e.argumentCallback(t):t;return l[u]}}const R_={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},__={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},I_={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},W_={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},N_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},L_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},z_=(e,t)=>{const s=Number(e),a=s%100;if(a>20||a<10)switch(a%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},B_={ordinalNumber:z_,era:nc({values:R_,defaultWidth:"wide"}),quarter:nc({values:__,defaultWidth:"wide",argumentCallback:e=>e-1}),month:nc({values:I_,defaultWidth:"wide"}),day:nc({values:W_,defaultWidth:"wide"}),dayPeriod:nc({values:N_,defaultWidth:"wide",formattingValues:L_,defaultFormattingWidth:"wide"})};function sc(e){return(t,s={})=>{const a=s.width,l=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],u=t.match(l);if(!u)return null;const d=u[0],h=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],p=Array.isArray(h)?F_(h,b=>b.test(d)):V_(h,b=>b.test(d));let g;g=e.valueCallback?e.valueCallback(p):p,g=s.valueCallback?s.valueCallback(g):g;const y=t.slice(d.length);return{value:g,rest:y}}}function V_(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function F_(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function H_(e){return(t,s={})=>{const a=t.match(e.matchPattern);if(!a)return null;const l=a[0],u=t.match(e.parsePattern);if(!u)return null;let d=e.valueCallback?e.valueCallback(u[0]):u[0];d=s.valueCallback?s.valueCallback(d):d;const h=t.slice(l.length);return{value:d,rest:h}}}const U_=/^(\d+)(th|st|nd|rd)?/i,q_=/\d+/i,Y_={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},G_={any:[/^b/i,/^(a|c)/i]},$_={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},K_={any:[/1/i,/2/i,/3/i,/4/i]},Q_={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},X_={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Z_={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},J_={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},e5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},t5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},n5={ordinalNumber:H_({matchPattern:U_,parsePattern:q_,valueCallback:e=>parseInt(e,10)}),era:sc({matchPatterns:Y_,defaultMatchWidth:"wide",parsePatterns:G_,defaultParseWidth:"any"}),quarter:sc({matchPatterns:$_,defaultMatchWidth:"wide",parsePatterns:K_,defaultParseWidth:"any",valueCallback:e=>e+1}),month:sc({matchPatterns:Q_,defaultMatchWidth:"wide",parsePatterns:X_,defaultParseWidth:"any"}),day:sc({matchPatterns:Z_,defaultMatchWidth:"wide",parsePatterns:J_,defaultParseWidth:"any"}),dayPeriod:sc({matchPatterns:e5,defaultMatchWidth:"any",parsePatterns:t5,defaultParseWidth:"any"})},ry={code:"en-US",formatDistance:T_,formatLong:A_,formatRelative:O_,localize:B_,match:n5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function s5(e,t){const s=at(e,t?.in);return x_(s,Kj(s))+1}function Xj(e,t){const s=at(e,t?.in),a=+Jo(s)-+b_(s);return Math.round(a/Vj)+1}function oy(e,t){const s=at(e,t?.in),a=s.getFullYear(),l=Wr(),u=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,d=on(t?.in||e,0);d.setFullYear(a+1,0,u),d.setHours(0,0,0,0);const h=oi(d,t),p=on(t?.in||e,0);p.setFullYear(a,0,u),p.setHours(0,0,0,0);const g=oi(p,t);return+s>=+h?a+1:+s>=+g?a:a-1}function i5(e,t){const s=Wr(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,l=oy(e,t),u=on(t?.in||e,0);return u.setFullYear(l,0,a),u.setHours(0,0,0,0),oi(u,t)}function ly(e,t){const s=at(e,t?.in),a=+oi(s,t)-+i5(s,t);return Math.round(a/Vj)+1}function Bt(e,t){const s=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return s+a}const Aa={y(e,t){const s=e.getFullYear(),a=s>0?s:1-s;return Bt(t==="yy"?a%100:a,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):Bt(s+1,2)},d(e,t){return Bt(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,t){return Bt(e.getHours()%12||12,t.length)},H(e,t){return Bt(e.getHours(),t.length)},m(e,t){return Bt(e.getMinutes(),t.length)},s(e,t){return Bt(e.getSeconds(),t.length)},S(e,t){const s=t.length,a=e.getMilliseconds(),l=Math.trunc(a*Math.pow(10,s-3));return Bt(l,t.length)}},ko={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},tw={G:function(e,t,s){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(a,{width:"abbreviated"});case"GGGGG":return s.era(a,{width:"narrow"});case"GGGG":default:return s.era(a,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const a=e.getFullYear(),l=a>0?a:1-a;return s.ordinalNumber(l,{unit:"year"})}return Aa.y(e,t)},Y:function(e,t,s,a){const l=oy(e,a),u=l>0?l:1-l;if(t==="YY"){const d=u%100;return Bt(d,2)}return t==="Yo"?s.ordinalNumber(u,{unit:"year"}):Bt(u,t.length)},R:function(e,t){const s=qj(e);return Bt(s,t.length)},u:function(e,t){const s=e.getFullYear();return Bt(s,t.length)},Q:function(e,t,s){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return Bt(a,2);case"Qo":return s.ordinalNumber(a,{unit:"quarter"});case"QQQ":return s.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,s){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return Bt(a,2);case"qo":return s.ordinalNumber(a,{unit:"quarter"});case"qqq":return s.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,s){const a=e.getMonth();switch(t){case"M":case"MM":return Aa.M(e,t);case"Mo":return s.ordinalNumber(a+1,{unit:"month"});case"MMM":return s.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,s){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return Bt(a+1,2);case"Lo":return s.ordinalNumber(a+1,{unit:"month"});case"LLL":return s.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,s,a){const l=ly(e,a);return t==="wo"?s.ordinalNumber(l,{unit:"week"}):Bt(l,t.length)},I:function(e,t,s){const a=Xj(e);return t==="Io"?s.ordinalNumber(a,{unit:"week"}):Bt(a,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):Aa.d(e,t)},D:function(e,t,s){const a=s5(e);return t==="Do"?s.ordinalNumber(a,{unit:"dayOfYear"}):Bt(a,t.length)},E:function(e,t,s){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(a,{width:"short",context:"formatting"});case"EEEE":default:return s.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,s,a){const l=e.getDay(),u=(l-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(u);case"ee":return Bt(u,2);case"eo":return s.ordinalNumber(u,{unit:"day"});case"eee":return s.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(l,{width:"short",context:"formatting"});case"eeee":default:return s.day(l,{width:"wide",context:"formatting"})}},c:function(e,t,s,a){const l=e.getDay(),u=(l-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(u);case"cc":return Bt(u,t.length);case"co":return s.ordinalNumber(u,{unit:"day"});case"ccc":return s.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(l,{width:"narrow",context:"standalone"});case"cccccc":return s.day(l,{width:"short",context:"standalone"});case"cccc":default:return s.day(l,{width:"wide",context:"standalone"})}},i:function(e,t,s){const a=e.getDay(),l=a===0?7:a;switch(t){case"i":return String(l);case"ii":return Bt(l,t.length);case"io":return s.ordinalNumber(l,{unit:"day"});case"iii":return s.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(a,{width:"short",context:"formatting"});case"iiii":default:return s.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,s){const l=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(e,t,s){const a=e.getHours();let l;switch(a===12?l=ko.noon:a===0?l=ko.midnight:l=a/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(e,t,s){const a=e.getHours();let l;switch(a>=17?l=ko.evening:a>=12?l=ko.afternoon:a>=4?l=ko.morning:l=ko.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),s.ordinalNumber(a,{unit:"hour"})}return Aa.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):Aa.H(e,t)},K:function(e,t,s){const a=e.getHours()%12;return t==="Ko"?s.ordinalNumber(a,{unit:"hour"}):Bt(a,t.length)},k:function(e,t,s){let a=e.getHours();return a===0&&(a=24),t==="ko"?s.ordinalNumber(a,{unit:"hour"}):Bt(a,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):Aa.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):Aa.s(e,t)},S:function(e,t){return Aa.S(e,t)},X:function(e,t,s){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return sw(a);case"XXXX":case"XX":return xr(a);case"XXXXX":case"XXX":default:return xr(a,":")}},x:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"x":return sw(a);case"xxxx":case"xx":return xr(a);case"xxxxx":case"xxx":default:return xr(a,":")}},O:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+nw(a,":");case"OOOO":default:return"GMT"+xr(a,":")}},z:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+nw(a,":");case"zzzz":default:return"GMT"+xr(a,":")}},t:function(e,t,s){const a=Math.trunc(+e/1e3);return Bt(a,t.length)},T:function(e,t,s){return Bt(+e,t.length)}};function nw(e,t=""){const s=e>0?"-":"+",a=Math.abs(e),l=Math.trunc(a/60),u=a%60;return u===0?s+String(l):s+String(l)+t+Bt(u,2)}function sw(e,t){return e%60===0?(e>0?"-":"+")+Bt(Math.abs(e)/60,2):xr(e,t)}function xr(e,t=""){const s=e>0?"-":"+",a=Math.abs(e),l=Bt(Math.trunc(a/60),2),u=Bt(a%60,2);return s+l+t+u}const iw=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Zj=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},a5=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],a=s[1],l=s[2];if(!l)return iw(e,t);let u;switch(a){case"P":u=t.dateTime({width:"short"});break;case"PP":u=t.dateTime({width:"medium"});break;case"PPP":u=t.dateTime({width:"long"});break;case"PPPP":default:u=t.dateTime({width:"full"});break}return u.replace("{{date}}",iw(a,t)).replace("{{time}}",Zj(l,t))},nh={p:Zj,P:a5},r5=/^D+$/,o5=/^Y+$/,l5=["D","DD","YY","YYYY"];function Jj(e){return r5.test(e)}function ek(e){return o5.test(e)}function qm(e,t,s){const a=c5(e,t,s);if(console.warn(a),l5.includes(e))throw new RangeError(a)}function c5(e,t,s){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const u5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,d5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,h5=/^'([^]*?)'?$/,f5=/''/g,p5=/[a-zA-Z]/;function Ym(e,t,s){const a=Wr(),l=s?.locale??a.locale??ry,u=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,d=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,h=at(e,s?.in);if(!Yj(h))throw new RangeError("Invalid time value");let p=t.match(d5).map(y=>{const b=y[0];if(b==="p"||b==="P"){const v=nh[b];return v(y,l.formatLong)}return y}).join("").match(u5).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:m5(y)};if(tw[b])return{isToken:!0,value:y};if(b.match(p5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});l.localize.preprocessor&&(p=l.localize.preprocessor(h,p));const g={firstWeekContainsDate:u,weekStartsOn:d,locale:l};return p.map(y=>{if(!y.isToken)return y.value;const b=y.value;(!s?.useAdditionalWeekYearTokens&&ek(b)||!s?.useAdditionalDayOfYearTokens&&Jj(b))&&qm(b,t,String(e));const v=tw[b[0]];return v(h,b,l.localize,g)}).join("")}function m5(e){const t=e.match(h5);return t?t[1].replace(f5,"'"):e}function g5(e,t){return at(e,t?.in).getDate()}function tk(e,t){const s=at(e,t?.in),a=s.getFullYear(),l=s.getMonth(),u=on(s,0);return u.setFullYear(a,l+1,0),u.setHours(0,0,0,0),u.getDate()}function y5(){return Object.assign({},Wr())}function x5(e,t){return at(e,t?.in).getHours()}function b5(e,t){const s=at(e,t?.in).getDay();return s===0?7:s}function v5(e){return at(e).getMilliseconds()}function S5(e,t){return at(e,t?.in).getMinutes()}function w5(e,t){return at(e,t?.in).getMonth()}function C5(e){return at(e).getSeconds()}function j5(e,t){return at(e,t?.in).getFullYear()}function Ld(e,t){return+at(e)>+at(t)}function fm(e,t){return+at(e)<+at(t)}function k5(e,t){return+at(e)==+at(t)}function T5(e,t){const s=D5(t)?new t(0):on(t,0);return s.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),s.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),s}function D5(e){return typeof e=="function"&&e.prototype?.constructor===e}const E5=10;class nk{subPriority=0;validate(t,s){return!0}}class M5 extends nk{constructor(t,s,a,l,u){super(),this.value=t,this.validateValue=s,this.setValue=a,this.priority=l,u&&(this.subPriority=u)}validate(t,s){return this.validateValue(t,this.value,s)}set(t,s,a){return this.setValue(t,s,this.value,a)}}class A5 extends nk{priority=E5;subPriority=-1;constructor(t,s){super(),this.context=t||(a=>on(s,a))}set(t,s){return s.timestampIsSet?t:on(t,T5(t,this.context))}}class _t{run(t,s,a,l){const u=this.parse(t,s,a,l);return u?{setter:new M5(u.value,this.validate,this.set,this.priority,this.subPriority),rest:u.rest}:null}validate(t,s,a){return!0}}class P5 extends _t{priority=140;parse(t,s,a){switch(s){case"G":case"GG":case"GGG":return a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"});case"GGGGG":return a.era(t,{width:"narrow"});case"GGGG":default:return a.era(t,{width:"wide"})||a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"})}}set(t,s,a){return s.era=a,t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const jn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},gi={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function kn(e,t){return e&&{value:t(e.value),rest:e.rest}}function un(e,t){const s=t.match(e);return s?{value:parseInt(s[0],10),rest:t.slice(s[0].length)}:null}function yi(e,t){const s=t.match(e);if(!s)return null;if(s[0]==="Z")return{value:0,rest:t.slice(1)};const a=s[1]==="+"?1:-1,l=s[2]?parseInt(s[2],10):0,u=s[3]?parseInt(s[3],10):0,d=s[5]?parseInt(s[5],10):0;return{value:a*(l*Hj+u*Fj+d*m_),rest:t.slice(s[0].length)}}function sk(e){return un(jn.anyDigitsSigned,e)}function yn(e,t){switch(e){case 1:return un(jn.singleDigit,t);case 2:return un(jn.twoDigits,t);case 3:return un(jn.threeDigits,t);case 4:return un(jn.fourDigits,t);default:return un(new RegExp("^\\d{1,"+e+"}"),t)}}function sh(e,t){switch(e){case 1:return un(jn.singleDigitSigned,t);case 2:return un(jn.twoDigitsSigned,t);case 3:return un(jn.threeDigitsSigned,t);case 4:return un(jn.fourDigitsSigned,t);default:return un(new RegExp("^-?\\d{1,"+e+"}"),t)}}function cy(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function ik(e,t){const s=t>0,a=s?t:1-t;let l;if(a<=50)l=e||100;else{const u=a+50,d=Math.trunc(u/100)*100,h=e>=u%100;l=e+d-(h?100:0)}return s?l:1-l}function ak(e){return e%400===0||e%4===0&&e%100!==0}class O5 extends _t{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,s,a){const l=u=>({year:u,isTwoDigitYear:s==="yy"});switch(s){case"y":return kn(yn(4,t),l);case"yo":return kn(a.ordinalNumber(t,{unit:"year"}),l);default:return kn(yn(s.length,t),l)}}validate(t,s){return s.isTwoDigitYear||s.year>0}set(t,s,a){const l=t.getFullYear();if(a.isTwoDigitYear){const d=ik(a.year,l);return t.setFullYear(d,0,1),t.setHours(0,0,0,0),t}const u=!("era"in s)||s.era===1?a.year:1-a.year;return t.setFullYear(u,0,1),t.setHours(0,0,0,0),t}}class R5 extends _t{priority=130;parse(t,s,a){const l=u=>({year:u,isTwoDigitYear:s==="YY"});switch(s){case"Y":return kn(yn(4,t),l);case"Yo":return kn(a.ordinalNumber(t,{unit:"year"}),l);default:return kn(yn(s.length,t),l)}}validate(t,s){return s.isTwoDigitYear||s.year>0}set(t,s,a,l){const u=oy(t,l);if(a.isTwoDigitYear){const h=ik(a.year,u);return t.setFullYear(h,0,l.firstWeekContainsDate),t.setHours(0,0,0,0),oi(t,l)}const d=!("era"in s)||s.era===1?a.year:1-a.year;return t.setFullYear(d,0,l.firstWeekContainsDate),t.setHours(0,0,0,0),oi(t,l)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class _5 extends _t{priority=130;parse(t,s){return sh(s==="R"?4:s.length,t)}set(t,s,a){const l=on(t,0);return l.setFullYear(a,0,4),l.setHours(0,0,0,0),Jo(l)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class I5 extends _t{priority=130;parse(t,s){return sh(s==="u"?4:s.length,t)}set(t,s,a){return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class W5 extends _t{priority=120;parse(t,s,a){switch(s){case"Q":case"QQ":return yn(s.length,t);case"Qo":return a.ordinalNumber(t,{unit:"quarter"});case"QQQ":return a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(t,{width:"wide",context:"formatting"})||a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,s){return s>=1&&s<=4}set(t,s,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class N5 extends _t{priority=120;parse(t,s,a){switch(s){case"q":case"qq":return yn(s.length,t);case"qo":return a.ordinalNumber(t,{unit:"quarter"});case"qqq":return a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(t,{width:"wide",context:"standalone"})||a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,s){return s>=1&&s<=4}set(t,s,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class L5 extends _t{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,s,a){const l=u=>u-1;switch(s){case"M":return kn(un(jn.month,t),l);case"MM":return kn(yn(2,t),l);case"Mo":return kn(a.ordinalNumber(t,{unit:"month"}),l);case"MMM":return a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(t,{width:"wide",context:"formatting"})||a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"})}}validate(t,s){return s>=0&&s<=11}set(t,s,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}}class z5 extends _t{priority=110;parse(t,s,a){const l=u=>u-1;switch(s){case"L":return kn(un(jn.month,t),l);case"LL":return kn(yn(2,t),l);case"Lo":return kn(a.ordinalNumber(t,{unit:"month"}),l);case"LLL":return a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(t,{width:"wide",context:"standalone"})||a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"})}}validate(t,s){return s>=0&&s<=11}set(t,s,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function B5(e,t,s){const a=at(e,s?.in),l=ly(a,s)-t;return a.setDate(a.getDate()-l*7),at(a,s?.in)}class V5 extends _t{priority=100;parse(t,s,a){switch(s){case"w":return un(jn.week,t);case"wo":return a.ordinalNumber(t,{unit:"week"});default:return yn(s.length,t)}}validate(t,s){return s>=1&&s<=53}set(t,s,a,l){return oi(B5(t,a,l),l)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function F5(e,t,s){const a=at(e,s?.in),l=Xj(a,s)-t;return a.setDate(a.getDate()-l*7),a}class H5 extends _t{priority=100;parse(t,s,a){switch(s){case"I":return un(jn.week,t);case"Io":return a.ordinalNumber(t,{unit:"week"});default:return yn(s.length,t)}}validate(t,s){return s>=1&&s<=53}set(t,s,a){return Jo(F5(t,a))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const U5=[31,28,31,30,31,30,31,31,30,31,30,31],q5=[31,29,31,30,31,30,31,31,30,31,30,31];class Y5 extends _t{priority=90;subPriority=1;parse(t,s,a){switch(s){case"d":return un(jn.date,t);case"do":return a.ordinalNumber(t,{unit:"date"});default:return yn(s.length,t)}}validate(t,s){const a=t.getFullYear(),l=ak(a),u=t.getMonth();return l?s>=1&&s<=q5[u]:s>=1&&s<=U5[u]}set(t,s,a){return t.setDate(a),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class G5 extends _t{priority=90;subpriority=1;parse(t,s,a){switch(s){case"D":case"DD":return un(jn.dayOfYear,t);case"Do":return a.ordinalNumber(t,{unit:"date"});default:return yn(s.length,t)}}validate(t,s){const a=t.getFullYear();return ak(a)?s>=1&&s<=366:s>=1&&s<=365}set(t,s,a){return t.setMonth(0,a),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function uy(e,t,s){const a=Wr(),l=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,u=at(e,s?.in),d=u.getDay(),p=(t%7+7)%7,g=7-l,y=t<0||t>6?t-(d+g)%7:(p+g)%7-(d+g)%7;return Zc(u,y,s)}class $5 extends _t{priority=90;parse(t,s,a){switch(s){case"E":case"EE":case"EEE":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,s){return s>=0&&s<=6}set(t,s,a,l){return t=uy(t,a,l),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class K5 extends _t{priority=90;parse(t,s,a,l){const u=d=>{const h=Math.floor((d-1)/7)*7;return(d+l.weekStartsOn+6)%7+h};switch(s){case"e":case"ee":return kn(yn(s.length,t),u);case"eo":return kn(a.ordinalNumber(t,{unit:"day"}),u);case"eee":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeeee":return a.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,s){return s>=0&&s<=6}set(t,s,a,l){return t=uy(t,a,l),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class Q5 extends _t{priority=90;parse(t,s,a,l){const u=d=>{const h=Math.floor((d-1)/7)*7;return(d+l.weekStartsOn+6)%7+h};switch(s){case"c":case"cc":return kn(yn(s.length,t),u);case"co":return kn(a.ordinalNumber(t,{unit:"day"}),u);case"ccc":return a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"ccccc":return a.day(t,{width:"narrow",context:"standalone"});case"cccccc":return a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(t,{width:"wide",context:"standalone"})||a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"})}}validate(t,s){return s>=0&&s<=6}set(t,s,a,l){return t=uy(t,a,l),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function X5(e,t,s){const a=at(e,s?.in),l=b5(a,s),u=t-l;return Zc(a,u,s)}class Z5 extends _t{priority=90;parse(t,s,a){const l=u=>u===0?7:u;switch(s){case"i":case"ii":return yn(s.length,t);case"io":return a.ordinalNumber(t,{unit:"day"});case"iii":return kn(a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),l);case"iiiii":return kn(a.day(t,{width:"narrow",context:"formatting"}),l);case"iiiiii":return kn(a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),l);case"iiii":default:return kn(a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),l)}}validate(t,s){return s>=1&&s<=7}set(t,s,a){return t=X5(t,a),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class J5 extends _t{priority=80;parse(t,s,a){switch(s){case"a":case"aa":case"aaa":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,s,a){return t.setHours(cy(a),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class eI extends _t{priority=80;parse(t,s,a){switch(s){case"b":case"bb":case"bbb":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,s,a){return t.setHours(cy(a),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class tI extends _t{priority=80;parse(t,s,a){switch(s){case"B":case"BB":case"BBB":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,s,a){return t.setHours(cy(a),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class nI extends _t{priority=70;parse(t,s,a){switch(s){case"h":return un(jn.hour12h,t);case"ho":return a.ordinalNumber(t,{unit:"hour"});default:return yn(s.length,t)}}validate(t,s){return s>=1&&s<=12}set(t,s,a){const l=t.getHours()>=12;return l&&a<12?t.setHours(a+12,0,0,0):!l&&a===12?t.setHours(0,0,0,0):t.setHours(a,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class sI extends _t{priority=70;parse(t,s,a){switch(s){case"H":return un(jn.hour23h,t);case"Ho":return a.ordinalNumber(t,{unit:"hour"});default:return yn(s.length,t)}}validate(t,s){return s>=0&&s<=23}set(t,s,a){return t.setHours(a,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class iI extends _t{priority=70;parse(t,s,a){switch(s){case"K":return un(jn.hour11h,t);case"Ko":return a.ordinalNumber(t,{unit:"hour"});default:return yn(s.length,t)}}validate(t,s){return s>=0&&s<=11}set(t,s,a){return t.getHours()>=12&&a<12?t.setHours(a+12,0,0,0):t.setHours(a,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class aI extends _t{priority=70;parse(t,s,a){switch(s){case"k":return un(jn.hour24h,t);case"ko":return a.ordinalNumber(t,{unit:"hour"});default:return yn(s.length,t)}}validate(t,s){return s>=1&&s<=24}set(t,s,a){const l=a<=24?a%24:a;return t.setHours(l,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class rI extends _t{priority=60;parse(t,s,a){switch(s){case"m":return un(jn.minute,t);case"mo":return a.ordinalNumber(t,{unit:"minute"});default:return yn(s.length,t)}}validate(t,s){return s>=0&&s<=59}set(t,s,a){return t.setMinutes(a,0,0),t}incompatibleTokens=["t","T"]}class oI extends _t{priority=50;parse(t,s,a){switch(s){case"s":return un(jn.second,t);case"so":return a.ordinalNumber(t,{unit:"second"});default:return yn(s.length,t)}}validate(t,s){return s>=0&&s<=59}set(t,s,a){return t.setSeconds(a,0),t}incompatibleTokens=["t","T"]}class lI extends _t{priority=30;parse(t,s){const a=l=>Math.trunc(l*Math.pow(10,-s.length+3));return kn(yn(s.length,t),a)}set(t,s,a){return t.setMilliseconds(a),t}incompatibleTokens=["t","T"]}class cI extends _t{priority=10;parse(t,s){switch(s){case"X":return yi(gi.basicOptionalMinutes,t);case"XX":return yi(gi.basic,t);case"XXXX":return yi(gi.basicOptionalSeconds,t);case"XXXXX":return yi(gi.extendedOptionalSeconds,t);case"XXX":default:return yi(gi.extended,t)}}set(t,s,a){return s.timestampIsSet?t:on(t,t.getTime()-th(t)-a)}incompatibleTokens=["t","T","x"]}class uI extends _t{priority=10;parse(t,s){switch(s){case"x":return yi(gi.basicOptionalMinutes,t);case"xx":return yi(gi.basic,t);case"xxxx":return yi(gi.basicOptionalSeconds,t);case"xxxxx":return yi(gi.extendedOptionalSeconds,t);case"xxx":default:return yi(gi.extended,t)}}set(t,s,a){return s.timestampIsSet?t:on(t,t.getTime()-th(t)-a)}incompatibleTokens=["t","T","X"]}class dI extends _t{priority=40;parse(t){return sk(t)}set(t,s,a){return[on(t,a*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class hI extends _t{priority=20;parse(t){return sk(t)}set(t,s,a){return[on(t,a),{timestampIsSet:!0}]}incompatibleTokens="*"}const fI={G:new P5,y:new O5,Y:new R5,R:new _5,u:new I5,Q:new W5,q:new N5,M:new L5,L:new z5,w:new V5,I:new H5,d:new Y5,D:new G5,E:new $5,e:new K5,c:new Q5,i:new Z5,a:new J5,b:new eI,B:new tI,h:new nI,H:new sI,K:new iI,k:new aI,m:new rI,s:new oI,S:new lI,X:new cI,x:new uI,t:new dI,T:new hI},pI=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,mI=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,gI=/^'([^]*?)'?$/,yI=/''/g,xI=/\S/,bI=/[a-zA-Z]/;function vI(e,t,s,a){const l=()=>on(a?.in||s,NaN),u=y5(),d=a?.locale??u.locale??ry,h=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??u.firstWeekContainsDate??u.locale?.options?.firstWeekContainsDate??1,p=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??u.weekStartsOn??u.locale?.options?.weekStartsOn??0;if(!t)return e?l():at(s,a?.in);const g={firstWeekContainsDate:h,weekStartsOn:p,locale:d},y=[new A5(a?.in,s)],b=t.match(mI).map(w=>{const j=w[0];if(j in nh){const E=nh[j];return E(w,d.formatLong)}return w}).join("").match(pI),v=[];for(let w of b){!a?.useAdditionalWeekYearTokens&&ek(w)&&qm(w,t,e),!a?.useAdditionalDayOfYearTokens&&Jj(w)&&qm(w,t,e);const j=w[0],E=fI[j];if(E){const{incompatibleTokens:M}=E;if(Array.isArray(M)){const O=v.find(R=>M.includes(R.token)||R.token===j);if(O)throw new RangeError(`The format string mustn't contain \`${O.fullToken}\` and \`${w}\` at the same time`)}else if(E.incompatibleTokens==="*"&&v.length>0)throw new RangeError(`The format string mustn't contain \`${w}\` and any other token at the same time`);v.push({token:j,fullToken:w});const W=E.run(e,w,d.match,g);if(!W)return l();y.push(W.setter),e=W.rest}else{if(j.match(bI))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");if(w==="''"?w="'":j==="'"&&(w=SI(w)),e.indexOf(w)===0)e=e.slice(w.length);else return l()}}if(e.length>0&&xI.test(e))return l();const S=y.map(w=>w.priority).sort((w,j)=>j-w).filter((w,j,E)=>E.indexOf(w)===j).map(w=>y.filter(j=>j.priority===w).sort((j,E)=>E.subPriority-j.subPriority)).map(w=>w[0]);let T=at(s,a?.in);if(isNaN(+T))return l();const k={};for(const w of S){if(!w.validate(T,g))return l();const j=w.set(T,k,g);Array.isArray(j)?(T=j[0],Object.assign(k,j[1])):T=j}return T}function SI(e){return e.match(gI)[1].replace(yI,"'")}function aw(e,t){const s=at(e,t?.in);return s.setMinutes(0,0,0),s}function wI(e,t,s){const[a,l]=Jc(s?.in,e,t);return+aw(a)==+aw(l)}function rk(e,t,s){const[a,l]=Jc(s?.in,e,t);return a.getFullYear()===l.getFullYear()&&a.getMonth()===l.getMonth()}function CI(e,t,s){const[a,l]=Jc(s?.in,e,t);return a.getFullYear()===l.getFullYear()}function jI(e,t,s){const a=+at(e,s?.in),[l,u]=[+at(t.start,s?.in),+at(t.end,s?.in)].sort((d,h)=>d-h);return a>=l&&a<=u}function kI(e,t,s){const a=at(e,s?.in),l=a.getFullYear(),u=a.getDate(),d=on(e,0);d.setFullYear(l,t,15),d.setHours(0,0,0,0);const h=tk(d);return a.setMonth(t,Math.min(u,h)),a}function TI(e,t,s){const a=at(e,s?.in);return a.setDate(t),a}function DI(e,t,s){const a=at(e,s?.in);return a.setHours(t),a}function EI(e,t,s){const a=at(e,s?.in);return a.setMilliseconds(t),a}function MI(e,t,s){const a=at(e,s?.in);return a.setMinutes(t),a}function AI(e,t,s){const a=at(e,s?.in);return a.setSeconds(t),a}function PI(e,t,s){const a=at(e,s?.in);return isNaN(+a)?on(e,NaN):(a.setFullYear(t),a)}function OI(e,t,s){return kh(e,-1,s)}const ok=x.createContext({}),Ha=()=>x.useContext(ok),ic={currentWeek:1,cycleStartDate:null,deloadWeekActive:!1,weeklySchedule:{Monday:null,Tuesday:null,Wednesday:null,Thursday:null,Friday:null,Saturday:null,Sunday:null},favorites:[]},lk=({children:e})=>{const{currentUser:t,isGuest:s}=Ir(),[a,l]=x.useState(ic),[u,d]=x.useState(!0),h=x.useCallback(()=>{const W=oi(new Date,{weekStartsOn:0});return W.setHours(0,0,0,0),W.toISOString()},[]),p=x.useCallback(M=>{if(!M)return 1;const W=new Date(M),O=new Date(h());return Math.floor((O-W)/(10080*60*1e3))+1},[h]),g=x.useCallback(async M=>{const W=h();if(M.cycleStartDate&&Ld(new Date(W),new Date(M.cycleStartDate))){const O=p(M.cycleStartDate);if(O!==M.currentWeek){const R=M.deloadWeekActive,_={...M,currentWeek:O,deloadWeekActive:!1};return l(_),await y(_),{updated:!0,wasDeloadActive:R}}}return{updated:!1,wasDeloadActive:!1}},[h,p]);x.useEffect(()=>{t!==void 0&&(async()=>{d(!0);try{let W=null;if(t&&!s)W=(await Xs(t.uid))?.weekScheduling;else{const O=localStorage.getItem("goodlift_week_scheduling");O&&(W=JSON.parse(O))}if(W){const O={...ic,...W,weeklySchedule:{...ic.weeklySchedule,...W.weeklySchedule||{}}};l(O),await g(O)}else{const O={...ic,cycleStartDate:h()};l(O),await y(O)}}catch(W){console.error("Error loading week state:",W);const O={...ic,cycleStartDate:h()};l(O)}finally{d(!1)}})()},[t,s,h,g]);const y=async M=>{try{t&&!s?await Tn(t.uid,{weekScheduling:M}):localStorage.setItem("goodlift_week_scheduling",JSON.stringify(M))}catch(W){throw console.error("Error saving week state:",W),W}},b=x.useCallback(async()=>{const M={...a,currentWeek:1,cycleStartDate:h(),deloadWeekActive:!1};return l(M),await y(M),M},[a,h]),v=x.useCallback(async()=>{if(a.currentWeek<4)throw new Error("Deload week only available from week 4 onwards");const M={...a,deloadWeekActive:!0,weeklySchedule:{Monday:null,Tuesday:null,Wednesday:null,Thursday:null,Friday:null,Saturday:null,Sunday:null}};return l(M),await y(M),M},[a]),S=x.useCallback(()=>a.currentWeek===1,[a.currentWeek]),T=x.useCallback(async(M,W)=>{const O={...a.weeklySchedule,[M]:W},R={...a,weeklySchedule:O};return l(R),await y(R),R},[a]),k=x.useCallback(async M=>{const W={...M,id:`fav_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,addedAt:new Date().toISOString()},O=[...a.favorites,W],R={...a,favorites:O};return l(R),await y(R),W},[a]),w=x.useCallback(async M=>{const W=a.favorites.filter(R=>R.id!==M),O={...a,favorites:W};return l(O),await y(O),O},[a]),j=x.useCallback((M,W=[])=>{if(!W||W.length===0)return null;const O=new Date;O.setDate(O.getDate()-7);const _={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6}[M],L=W.filter(I=>{const F=new Date(I.date);return F.getDay()===_&&F>=new Date(O.getTime()-10080*60*1e3)&&F<O});return L.length>0?L[L.length-1]:null},[]),E={weekState:a,loading:u,currentWeek:a.currentWeek,cycleStartDate:a.cycleStartDate,deloadWeekActive:a.deloadWeekActive,weeklySchedule:a.weeklySchedule,favorites:a.favorites,resetWeekCycle:b,triggerDeloadWeek:v,isAutoAssignWeek:S,assignWorkoutToDay:T,addToFavorites:k,removeFromFavorites:w,getWorkoutSuggestion:j,checkAndIncrementWeek:()=>g(a)};return r.jsx(ok.Provider,{value:E,children:e})};lk.propTypes={children:D.node.isRequired};const ck=({onNavigate:e})=>{const t=il(),{currentWeek:s,deloadWeekActive:a,triggerDeloadWeek:l}=Ha(),[u,d]=x.useState(Vt.isMutedState()),[h,p]=x.useState(Sr.isActive()),[g]=x.useState(Sr.isWakeLockSupported()),[y,b]=x.useState(!1);x.useEffect(()=>{const j=Sr.reacquireOnVisibilityChange();return()=>{j&&j.then(E=>E&&E())}},[]);const v=()=>{const j=Vt.toggleMute();d(j)},S=async()=>{if(h)await Sr.releaseWakeLock(),p(!1);else{const j=await Sr.requestWakeLock();p(j)}},T=()=>{b(!0)},k=async()=>{try{await l(),b(!1)}catch(j){console.error("Error triggering deload week:",j)}},w=()=>{b(!1)};return r.jsxs(N,{component:"header",sx:{position:"fixed",top:0,left:0,right:0,height:"60px",display:"flex",alignItems:"center",justifyContent:"flex-start",padding:"0 1rem",background:t.palette.background.paper,backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",boxShadow:t.palette.mode==="dark"?"0 2px 8px rgba(0, 0, 0, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.1)",zIndex:100,borderBottom:`1px solid ${t.palette.mode==="dark"?"rgba(29, 181, 132, 0.2)":"rgba(0, 0, 0, 0.12)"}`},children:[r.jsx(N,{onClick:()=>e&&e("progress"),sx:{display:"flex",alignItems:"center",cursor:e?"pointer":"default",transition:"transform 0.2s ease","&:hover":e?{transform:"scale(1.05)"}:{},"&:active":e?{transform:"scale(0.98)"}:{}},"aria-label":e?"Go to Progress screen":void 0,role:e?"button":void 0,tabIndex:e?0:void 0,onKeyDown:e?j=>{(j.key==="Enter"||j.key===" ")&&(j.preventDefault(),e("progress"))}:void 0,children:r.jsx("img",{src:"/goodlift/goodlift-favicon.svg",alt:"GoodLift",style:{height:"40px",width:"40px",display:"block"}})}),r.jsx(N,{sx:{position:"absolute",left:"50%",transform:"translateX(-50%)",display:"flex",alignItems:"center"},children:r.jsx(Hg,{currentWeek:s,deloadWeekActive:a,onDeloadTrigger:T,clickable:!0})}),r.jsxs(N,{sx:{position:"absolute",right:"1rem",display:"flex",alignItems:"center",gap:.5},children:[r.jsx(Zn,{title:u?"Unmute sounds":"Mute sounds",children:r.jsx(Be,{onClick:v,sx:{color:u?"grey.500":"primary.main",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{backgroundColor:t.palette.mode==="dark"?"rgba(29, 181, 132, 0.15)":"rgba(24, 160, 113, 0.1)"}},"aria-label":u?"Unmute sounds":"Mute sounds",children:u?r.jsx(MC,{}):r.jsx(_g,{})})}),g&&r.jsx(Zn,{title:h?"Screen kept awake":"Allow screen sleep",children:r.jsx(Be,{onClick:S,sx:{color:h?"secondary.main":"grey.500",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{backgroundColor:t.palette.mode==="dark"?"rgba(255, 140, 0, 0.15)":"rgba(255, 140, 0, 0.1)"}},"aria-label":h?"Release wake lock":"Keep screen awake",children:h?r.jsx(hO,{size:24}):r.jsx(dO,{size:24})})})]}),r.jsxs(In,{open:y,onClose:w,maxWidth:"sm",fullWidth:!0,children:[r.jsx(Kn,{children:"Trigger Deload Week?"}),r.jsx(Wn,{children:r.jsx(P,{children:"This will activate deload week, replacing your scheduled workouts with recovery-focused sessions. The week counter will continue normally, and deload mode will end after this week completes."})}),r.jsxs(Nn,{children:[r.jsx(Ae,{onClick:w,color:"inherit",children:"Cancel"}),r.jsx(Ae,{onClick:k,variant:"contained",color:"warning",children:"Activate Deload"})]})]})]})};ck.propTypes={onNavigate:D.func};const dy=x.createContext({});function hy(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const fy=typeof window<"u",uk=fy?x.useLayoutEffect:x.useEffect,Th=x.createContext(null);function py(e,t){e.indexOf(t)===-1&&e.push(t)}function my(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const na=(e,t,s)=>s>t?t:s<e?e:s;let gy=()=>{};const sa={},dk=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function hk(e){return typeof e=="object"&&e!==null}const fk=e=>/^0[^.\s]+$/u.test(e);function yy(e){let t;return()=>(t===void 0&&(t=e()),t)}const $s=e=>e,RI=(e,t)=>s=>t(e(s)),eu=(...e)=>e.reduce(RI),Rc=(e,t,s)=>{const a=t-e;return a===0?1:(s-e)/a};class xy{constructor(){this.subscriptions=[]}add(t){return py(this.subscriptions,t),()=>my(this.subscriptions,t)}notify(t,s,a){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](t,s,a);else for(let u=0;u<l;u++){const d=this.subscriptions[u];d&&d(t,s,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const bi=e=>e*1e3,Gs=e=>e/1e3;function pk(e,t){return t?e*(1e3/t):0}const mk=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,_I=1e-7,II=12;function WI(e,t,s,a,l){let u,d,h=0;do d=t+(s-t)/2,u=mk(d,a,l)-e,u>0?s=d:t=d;while(Math.abs(u)>_I&&++h<II);return d}function tu(e,t,s,a){if(e===t&&s===a)return $s;const l=u=>WI(u,0,1,e,s);return u=>u===0||u===1?u:mk(l(u),t,a)}const gk=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,yk=e=>t=>1-e(1-t),xk=tu(.33,1.53,.69,.99),by=yk(xk),bk=gk(by),vk=e=>(e*=2)<1?.5*by(e):.5*(2-Math.pow(2,-10*(e-1))),vy=e=>1-Math.sin(Math.acos(e)),Sk=yk(vy),wk=gk(vy),NI=tu(.42,0,1,1),LI=tu(0,0,.58,1),Ck=tu(.42,0,.58,1),zI=e=>Array.isArray(e)&&typeof e[0]!="number",jk=e=>Array.isArray(e)&&typeof e[0]=="number",BI={linear:$s,easeIn:NI,easeInOut:Ck,easeOut:LI,circIn:vy,circInOut:wk,circOut:Sk,backIn:by,backInOut:bk,backOut:xk,anticipate:vk},VI=e=>typeof e=="string",rw=e=>{if(jk(e)){gy(e.length===4);const[t,s,a,l]=e;return tu(t,s,a,l)}else if(VI(e))return BI[e];return e},Cd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function FI(e,t){let s=new Set,a=new Set,l=!1,u=!1;const d=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function p(y){d.has(y)&&(g.schedule(y),e()),y(h)}const g={schedule:(y,b=!1,v=!1)=>{const T=v&&l?s:a;return b&&d.add(y),T.has(y)||T.add(y),y},cancel:y=>{a.delete(y),d.delete(y)},process:y=>{if(h=y,l){u=!0;return}l=!0,[s,a]=[a,s],s.forEach(p),s.clear(),l=!1,u&&(u=!1,g.process(y))}};return g}const HI=40;function kk(e,t){let s=!1,a=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=()=>s=!0,d=Cd.reduce((M,W)=>(M[W]=FI(u),M),{}),{setup:h,read:p,resolveKeyframes:g,preUpdate:y,update:b,preRender:v,render:S,postRender:T}=d,k=()=>{const M=sa.useManualTiming?l.timestamp:performance.now();s=!1,sa.useManualTiming||(l.delta=a?1e3/60:Math.max(Math.min(M-l.timestamp,HI),1)),l.timestamp=M,l.isProcessing=!0,h.process(l),p.process(l),g.process(l),y.process(l),b.process(l),v.process(l),S.process(l),T.process(l),l.isProcessing=!1,s&&t&&(a=!1,e(k))},w=()=>{s=!0,a=!0,l.isProcessing||e(k)};return{schedule:Cd.reduce((M,W)=>{const O=d[W];return M[W]=(R,_=!1,L=!1)=>(s||w(),O.schedule(R,_,L)),M},{}),cancel:M=>{for(let W=0;W<Cd.length;W++)d[Cd[W]].cancel(M)},state:l,steps:d}}const{schedule:rn,cancel:za,state:Gn,steps:pm}=kk(typeof requestAnimationFrame<"u"?requestAnimationFrame:$s,!0);let zd;function UI(){zd=void 0}const ys={now:()=>(zd===void 0&&ys.set(Gn.isProcessing||sa.useManualTiming?Gn.timestamp:performance.now()),zd),set:e=>{zd=e,queueMicrotask(UI)}},Tk=e=>t=>typeof t=="string"&&t.startsWith(e),Sy=Tk("--"),qI=Tk("var(--"),wy=e=>qI(e)?YI.test(e.split("/*")[0].trim()):!1,YI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,rl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},_c={...rl,transform:e=>na(0,1,e)},jd={...rl,default:1},xc=e=>Math.round(e*1e5)/1e5,Cy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function GI(e){return e==null}const $I=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jy=(e,t)=>s=>!!(typeof s=="string"&&$I.test(s)&&s.startsWith(e)||t&&!GI(s)&&Object.prototype.hasOwnProperty.call(s,t)),Dk=(e,t,s)=>a=>{if(typeof a!="string")return a;const[l,u,d,h]=a.match(Cy);return{[e]:parseFloat(l),[t]:parseFloat(u),[s]:parseFloat(d),alpha:h!==void 0?parseFloat(h):1}},KI=e=>na(0,255,e),mm={...rl,transform:e=>Math.round(KI(e))},Cr={test:jy("rgb","red"),parse:Dk("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:a=1})=>"rgba("+mm.transform(e)+", "+mm.transform(t)+", "+mm.transform(s)+", "+xc(_c.transform(a))+")"};function QI(e){let t="",s="",a="",l="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),a=e.substring(5,7),l=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),a=e.substring(3,4),l=e.substring(4,5),t+=t,s+=s,a+=a,l+=l),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(a,16),alpha:l?parseInt(l,16)/255:1}}const Gm={test:jy("#"),parse:QI,transform:Cr.transform},nu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ra=nu("deg"),vi=nu("%"),ct=nu("px"),XI=nu("vh"),ZI=nu("vw"),ow={...vi,parse:e=>vi.parse(e)/100,transform:e=>vi.transform(e*100)},Ro={test:jy("hsl","hue"),parse:Dk("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:a=1})=>"hsla("+Math.round(e)+", "+vi.transform(xc(t))+", "+vi.transform(xc(s))+", "+xc(_c.transform(a))+")"},On={test:e=>Cr.test(e)||Gm.test(e)||Ro.test(e),parse:e=>Cr.test(e)?Cr.parse(e):Ro.test(e)?Ro.parse(e):Gm.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Cr.transform(e):Ro.transform(e),getAnimatableNone:e=>{const t=On.parse(e);return t.alpha=0,On.transform(t)}},JI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function eW(e){return isNaN(e)&&typeof e=="string"&&(e.match(Cy)?.length||0)+(e.match(JI)?.length||0)>0}const Ek="number",Mk="color",tW="var",nW="var(",lw="${}",sW=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ic(e){const t=e.toString(),s=[],a={color:[],number:[],var:[]},l=[];let u=0;const h=t.replace(sW,p=>(On.test(p)?(a.color.push(u),l.push(Mk),s.push(On.parse(p))):p.startsWith(nW)?(a.var.push(u),l.push(tW),s.push(p)):(a.number.push(u),l.push(Ek),s.push(parseFloat(p))),++u,lw)).split(lw);return{values:s,split:h,indexes:a,types:l}}function Ak(e){return Ic(e).values}function Pk(e){const{split:t,types:s}=Ic(e),a=t.length;return l=>{let u="";for(let d=0;d<a;d++)if(u+=t[d],l[d]!==void 0){const h=s[d];h===Ek?u+=xc(l[d]):h===Mk?u+=On.transform(l[d]):u+=l[d]}return u}}const iW=e=>typeof e=="number"?0:On.test(e)?On.getAnimatableNone(e):e;function aW(e){const t=Ak(e);return Pk(e)(t.map(iW))}const Ba={test:eW,parse:Ak,createTransformer:Pk,getAnimatableNone:aW};function gm(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function rW({hue:e,saturation:t,lightness:s,alpha:a}){e/=360,t/=100,s/=100;let l=0,u=0,d=0;if(!t)l=u=d=s;else{const h=s<.5?s*(1+t):s+t-s*t,p=2*s-h;l=gm(p,h,e+1/3),u=gm(p,h,e),d=gm(p,h,e-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(d*255),alpha:a}}function ih(e,t){return s=>s>0?t:e}const dn=(e,t,s)=>e+(t-e)*s,ym=(e,t,s)=>{const a=e*e,l=s*(t*t-a)+a;return l<0?0:Math.sqrt(l)},oW=[Gm,Cr,Ro],lW=e=>oW.find(t=>t.test(e));function cw(e){const t=lW(e);if(!t)return!1;let s=t.parse(e);return t===Ro&&(s=rW(s)),s}const uw=(e,t)=>{const s=cw(e),a=cw(t);if(!s||!a)return ih(e,t);const l={...s};return u=>(l.red=ym(s.red,a.red,u),l.green=ym(s.green,a.green,u),l.blue=ym(s.blue,a.blue,u),l.alpha=dn(s.alpha,a.alpha,u),Cr.transform(l))},$m=new Set(["none","hidden"]);function cW(e,t){return $m.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function uW(e,t){return s=>dn(e,t,s)}function ky(e){return typeof e=="number"?uW:typeof e=="string"?wy(e)?ih:On.test(e)?uw:fW:Array.isArray(e)?Ok:typeof e=="object"?On.test(e)?uw:dW:ih}function Ok(e,t){const s=[...e],a=s.length,l=e.map((u,d)=>ky(u)(u,t[d]));return u=>{for(let d=0;d<a;d++)s[d]=l[d](u);return s}}function dW(e,t){const s={...e,...t},a={};for(const l in s)e[l]!==void 0&&t[l]!==void 0&&(a[l]=ky(e[l])(e[l],t[l]));return l=>{for(const u in a)s[u]=a[u](l);return s}}function hW(e,t){const s=[],a={color:0,var:0,number:0};for(let l=0;l<t.values.length;l++){const u=t.types[l],d=e.indexes[u][a[u]],h=e.values[d]??0;s[l]=h,a[u]++}return s}const fW=(e,t)=>{const s=Ba.createTransformer(t),a=Ic(e),l=Ic(t);return a.indexes.var.length===l.indexes.var.length&&a.indexes.color.length===l.indexes.color.length&&a.indexes.number.length>=l.indexes.number.length?$m.has(e)&&!l.values.length||$m.has(t)&&!a.values.length?cW(e,t):eu(Ok(hW(a,l),l.values),s):ih(e,t)};function Rk(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?dn(e,t,s):ky(e)(e,t)}const pW=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>rn.update(t,s),stop:()=>za(t),now:()=>Gn.isProcessing?Gn.timestamp:ys.now()}},_k=(e,t,s=10)=>{let a="";const l=Math.max(Math.round(t/s),2);for(let u=0;u<l;u++)a+=Math.round(e(u/(l-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},ah=2e4;function Ty(e){let t=0;const s=50;let a=e.next(t);for(;!a.done&&t<ah;)t+=s,a=e.next(t);return t>=ah?1/0:t}function mW(e,t=100,s){const a=s({...e,keyframes:[0,t]}),l=Math.min(Ty(a),ah);return{type:"keyframes",ease:u=>a.next(l*u).value/t,duration:Gs(l)}}const gW=5;function Ik(e,t,s){const a=Math.max(t-gW,0);return pk(s-e(a),t-a)}const mn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xm=.001;function yW({duration:e=mn.duration,bounce:t=mn.bounce,velocity:s=mn.velocity,mass:a=mn.mass}){let l,u,d=1-t;d=na(mn.minDamping,mn.maxDamping,d),e=na(mn.minDuration,mn.maxDuration,Gs(e)),d<1?(l=g=>{const y=g*d,b=y*e,v=y-s,S=Km(g,d),T=Math.exp(-b);return xm-v/S*T},u=g=>{const b=g*d*e,v=b*s+s,S=Math.pow(d,2)*Math.pow(g,2)*e,T=Math.exp(-b),k=Km(Math.pow(g,2),d);return(-l(g)+xm>0?-1:1)*((v-S)*T)/k}):(l=g=>{const y=Math.exp(-g*e),b=(g-s)*e+1;return-xm+y*b},u=g=>{const y=Math.exp(-g*e),b=(s-g)*(e*e);return y*b});const h=5/e,p=bW(l,u,h);if(e=bi(e),isNaN(p))return{stiffness:mn.stiffness,damping:mn.damping,duration:e};{const g=Math.pow(p,2)*a;return{stiffness:g,damping:d*2*Math.sqrt(a*g),duration:e}}}const xW=12;function bW(e,t,s){let a=s;for(let l=1;l<xW;l++)a=a-e(a)/t(a);return a}function Km(e,t){return e*Math.sqrt(1-t*t)}const vW=["duration","bounce"],SW=["stiffness","damping","mass"];function dw(e,t){return t.some(s=>e[s]!==void 0)}function wW(e){let t={velocity:mn.velocity,stiffness:mn.stiffness,damping:mn.damping,mass:mn.mass,isResolvedFromDuration:!1,...e};if(!dw(e,SW)&&dw(e,vW))if(e.visualDuration){const s=e.visualDuration,a=2*Math.PI/(s*1.2),l=a*a,u=2*na(.05,1,1-(e.bounce||0))*Math.sqrt(l);t={...t,mass:mn.mass,stiffness:l,damping:u}}else{const s=yW(e);t={...t,...s,mass:mn.mass},t.isResolvedFromDuration=!0}return t}function rh(e=mn.visualDuration,t=mn.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:a,restDelta:l}=s;const u=s.keyframes[0],d=s.keyframes[s.keyframes.length-1],h={done:!1,value:u},{stiffness:p,damping:g,mass:y,duration:b,velocity:v,isResolvedFromDuration:S}=wW({...s,velocity:-Gs(s.velocity||0)}),T=v||0,k=g/(2*Math.sqrt(p*y)),w=d-u,j=Gs(Math.sqrt(p/y)),E=Math.abs(w)<5;a||(a=E?mn.restSpeed.granular:mn.restSpeed.default),l||(l=E?mn.restDelta.granular:mn.restDelta.default);let M;if(k<1){const O=Km(j,k);M=R=>{const _=Math.exp(-k*j*R);return d-_*((T+k*j*w)/O*Math.sin(O*R)+w*Math.cos(O*R))}}else if(k===1)M=O=>d-Math.exp(-j*O)*(w+(T+j*w)*O);else{const O=j*Math.sqrt(k*k-1);M=R=>{const _=Math.exp(-k*j*R),L=Math.min(O*R,300);return d-_*((T+k*j*w)*Math.sinh(L)+O*w*Math.cosh(L))/O}}const W={calculatedDuration:S&&b||null,next:O=>{const R=M(O);if(S)h.done=O>=b;else{let _=O===0?T:0;k<1&&(_=O===0?bi(T):Ik(M,O,R));const L=Math.abs(_)<=a,I=Math.abs(d-R)<=l;h.done=L&&I}return h.value=h.done?d:R,h},toString:()=>{const O=Math.min(Ty(W),ah),R=_k(_=>W.next(O*_).value,O,30);return O+"ms "+R},toTransition:()=>{}};return W}rh.applyToOptions=e=>{const t=mW(e,100,rh);return e.ease=t.ease,e.duration=bi(t.duration),e.type="keyframes",e};function Qm({keyframes:e,velocity:t=0,power:s=.8,timeConstant:a=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:d,min:h,max:p,restDelta:g=.5,restSpeed:y}){const b=e[0],v={done:!1,value:b},S=L=>h!==void 0&&L<h||p!==void 0&&L>p,T=L=>h===void 0?p:p===void 0||Math.abs(h-L)<Math.abs(p-L)?h:p;let k=s*t;const w=b+k,j=d===void 0?w:d(w);j!==w&&(k=j-b);const E=L=>-k*Math.exp(-L/a),M=L=>j+E(L),W=L=>{const I=E(L),F=M(L);v.done=Math.abs(I)<=g,v.value=v.done?j:F};let O,R;const _=L=>{S(v.value)&&(O=L,R=rh({keyframes:[v.value,T(v.value)],velocity:Ik(M,L,v.value),damping:l,stiffness:u,restDelta:g,restSpeed:y}))};return _(0),{calculatedDuration:null,next:L=>{let I=!1;return!R&&O===void 0&&(I=!0,W(L),_(L)),O!==void 0&&L>=O?R.next(L-O):(!I&&W(L),v)}}}function CW(e,t,s){const a=[],l=s||sa.mix||Rk,u=e.length-1;for(let d=0;d<u;d++){let h=l(e[d],e[d+1]);if(t){const p=Array.isArray(t)?t[d]||$s:t;h=eu(p,h)}a.push(h)}return a}function jW(e,t,{clamp:s=!0,ease:a,mixer:l}={}){const u=e.length;if(gy(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const d=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const h=CW(t,a,l),p=h.length,g=y=>{if(d&&y<e[0])return t[0];let b=0;if(p>1)for(;b<e.length-2&&!(y<e[b+1]);b++);const v=Rc(e[b],e[b+1],y);return h[b](v)};return s?y=>g(na(e[0],e[u-1],y)):g}function kW(e,t){const s=e[e.length-1];for(let a=1;a<=t;a++){const l=Rc(0,t,a);e.push(dn(s,1,l))}}function TW(e){const t=[0];return kW(t,e.length-1),t}function DW(e,t){return e.map(s=>s*t)}function EW(e,t){return e.map(()=>t||Ck).splice(0,e.length-1)}function bc({duration:e=300,keyframes:t,times:s,ease:a="easeInOut"}){const l=zI(a)?a.map(rw):rw(a),u={done:!1,value:t[0]},d=DW(s&&s.length===t.length?s:TW(t),e),h=jW(d,t,{ease:Array.isArray(l)?l:EW(t,l)});return{calculatedDuration:e,next:p=>(u.value=h(p),u.done=p>=e,u)}}const MW=e=>e!==null;function Dy(e,{repeat:t,repeatType:s="loop"},a,l=1){const u=e.filter(MW),h=l<0||t&&s!=="loop"&&t%2===1?0:u.length-1;return!h||a===void 0?u[h]:a}const AW={decay:Qm,inertia:Qm,tween:bc,keyframes:bc,spring:rh};function Wk(e){typeof e.type=="string"&&(e.type=AW[e.type])}class Ey{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const PW=e=>e/100;class My extends Ey{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==ys.now()&&this.tick(ys.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Wk(t);const{type:s=bc,repeat:a=0,repeatDelay:l=0,repeatType:u,velocity:d=0}=t;let{keyframes:h}=t;const p=s||bc;p!==bc&&typeof h[0]!="number"&&(this.mixKeyframes=eu(PW,Rk(h[0],h[1])),h=[0,100]);const g=p({...t,keyframes:h});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...h].reverse(),velocity:-d})),g.calculatedDuration===null&&(g.calculatedDuration=Ty(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+l,this.totalDuration=this.resolvedDuration*(a+1)-l,this.generator=g}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:a,totalDuration:l,mixKeyframes:u,mirroredGenerator:d,resolvedDuration:h,calculatedDuration:p}=this;if(this.startTime===null)return a.next(0);const{delay:g=0,keyframes:y,repeat:b,repeatType:v,repeatDelay:S,type:T,onUpdate:k,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-l/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const j=this.currentTime-g*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?j<0:j>l;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let M=this.currentTime,W=a;if(b){const L=Math.min(this.currentTime,l)/h;let I=Math.floor(L),F=L%1;!F&&L>=1&&(F=1),F===1&&I--,I=Math.min(I,b+1),!!(I%2)&&(v==="reverse"?(F=1-F,S&&(F-=S/h)):v==="mirror"&&(W=d)),M=na(0,1,F)*h}const O=E?{done:!1,value:y[0]}:W.next(M);u&&(O.value=u(O.value));let{done:R}=O;!E&&p!==null&&(R=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return _&&T!==Qm&&(O.value=Dy(y,this.options,w,this.speed)),k&&k(O.value),_&&this.finish(),O}then(t,s){return this.finished.then(t,s)}get duration(){return Gs(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Gs(t)}get time(){return Gs(this.currentTime)}set time(t){t=bi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ys.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=Gs(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=pW,startTime:s}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),this.options.onPlay?.();const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=s??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ys.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function OW(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const jr=e=>e*180/Math.PI,Xm=e=>{const t=jr(Math.atan2(e[1],e[0]));return Zm(t)},RW={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Xm,rotateZ:Xm,skewX:e=>jr(Math.atan(e[1])),skewY:e=>jr(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Zm=e=>(e=e%360,e<0&&(e+=360),e),hw=Xm,fw=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),pw=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),_W={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:fw,scaleY:pw,scale:e=>(fw(e)+pw(e))/2,rotateX:e=>Zm(jr(Math.atan2(e[6],e[5]))),rotateY:e=>Zm(jr(Math.atan2(-e[2],e[0]))),rotateZ:hw,rotate:hw,skewX:e=>jr(Math.atan(e[4])),skewY:e=>jr(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Jm(e){return e.includes("scale")?1:0}function eg(e,t){if(!e||e==="none")return Jm(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,l;if(s)a=_W,l=s;else{const h=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=RW,l=h}if(!l)return Jm(t);const u=a[t],d=l[1].split(",").map(WW);return typeof u=="function"?u(d):d[u]}const IW=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return eg(s,t)};function WW(e){return parseFloat(e.trim())}const ol=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ll=new Set(ol),mw=e=>e===rl||e===ct,NW=new Set(["x","y","z"]),LW=ol.filter(e=>!NW.has(e));function zW(e){const t=[];return LW.forEach(s=>{const a=e.getValue(s);a!==void 0&&(t.push([s,a.get()]),a.set(s.startsWith("scale")?1:0))}),t}const kr={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>eg(t,"x"),y:(e,{transform:t})=>eg(t,"y")};kr.translateX=kr.x;kr.translateY=kr.y;const Tr=new Set;let tg=!1,ng=!1,sg=!1;function Nk(){if(ng){const e=Array.from(Tr).filter(a=>a.needsMeasurement),t=new Set(e.map(a=>a.element)),s=new Map;t.forEach(a=>{const l=zW(a);l.length&&(s.set(a,l),a.render())}),e.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const l=s.get(a);l&&l.forEach(([u,d])=>{a.getValue(u)?.set(d)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}ng=!1,tg=!1,Tr.forEach(e=>e.complete(sg)),Tr.clear()}function Lk(){Tr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ng=!0)})}function BW(){sg=!0,Lk(),Nk(),sg=!1}class Ay{constructor(t,s,a,l,u,d=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=a,this.motionValue=l,this.element=u,this.isAsync=d}scheduleResolve(){this.state="scheduled",this.isAsync?(Tr.add(this),tg||(tg=!0,rn.read(Lk),rn.resolveKeyframes(Nk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:a,motionValue:l}=this;if(t[0]===null){const u=l?.get(),d=t[t.length-1];if(u!==void 0)t[0]=u;else if(a&&s){const h=a.readValue(s,d);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=d),l&&u===void 0&&l.set(t[0])}OW(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Tr.delete(this)}cancel(){this.state==="scheduled"&&(Tr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const VW=e=>e.startsWith("--");function FW(e,t,s){VW(t)?e.style.setProperty(t,s):e.style[t]=s}const HW=yy(()=>window.ScrollTimeline!==void 0),UW={};function qW(e,t){const s=yy(e);return()=>UW[t]??s()}const zk=qW(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),hc=([e,t,s,a])=>`cubic-bezier(${e}, ${t}, ${s}, ${a})`,gw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hc([0,.65,.55,1]),circOut:hc([.55,0,1,.45]),backIn:hc([.31,.01,.66,-.59]),backOut:hc([.33,1.53,.69,.99])};function Bk(e,t){if(e)return typeof e=="function"?zk()?_k(e,t):"ease-out":jk(e)?hc(e):Array.isArray(e)?e.map(s=>Bk(s,t)||gw.easeOut):gw[e]}function YW(e,t,s,{delay:a=0,duration:l=300,repeat:u=0,repeatType:d="loop",ease:h="easeOut",times:p}={},g=void 0){const y={[t]:s};p&&(y.offset=p);const b=Bk(h,l);Array.isArray(b)&&(y.easing=b);const v={delay:a,duration:l,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:u+1,direction:d==="reverse"?"alternate":"normal"};return g&&(v.pseudoElement=g),e.animate(y,v)}function Vk(e){return typeof e=="function"&&"applyToOptions"in e}function GW({type:e,...t}){return Vk(e)&&zk()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class $W extends Ey{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:a,keyframes:l,pseudoElement:u,allowFlatten:d=!1,finalKeyframe:h,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=d,this.options=t,gy(typeof t.type!="string");const g=GW(t);this.animation=YW(s,a,l,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const y=Dy(l,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):FW(s,a,y),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Gs(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Gs(t)}get time(){return Gs(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=bi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&HW()?(this.animation.timeline=t,$s):s(this)}}const Fk={anticipate:vk,backInOut:bk,circInOut:wk};function KW(e){return e in Fk}function QW(e){typeof e.ease=="string"&&KW(e.ease)&&(e.ease=Fk[e.ease])}const yw=10;class XW extends $W{constructor(t){QW(t),Wk(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:a,onComplete:l,element:u,...d}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const h=new My({...d,autoplay:!1}),p=bi(this.finishedTime??this.time);s.setWithVelocity(h.sample(p-yw).value,h.sample(p).value,yw),h.stop()}}const xw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ba.test(e)||e==="0")&&!e.startsWith("url("));function ZW(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function JW(e,t,s,a){const l=e[0];if(l===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],d=xw(l,t),h=xw(u,t);return!d||!h?!1:ZW(e)||(s==="spring"||Vk(s))&&a}function ig(e){e.duration=0,e.type="keyframes"}const e3=new Set(["opacity","clipPath","filter","transform"]),t3=yy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function n3(e){const{motionValue:t,name:s,repeatDelay:a,repeatType:l,damping:u,type:d}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return t3()&&s&&e3.has(s)&&(s!=="transform"||!g)&&!p&&!a&&l!=="mirror"&&u!==0&&d!=="inertia"}const s3=40;class i3 extends Ey{constructor({autoplay:t=!0,delay:s=0,type:a="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:d="loop",keyframes:h,name:p,motionValue:g,element:y,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ys.now();const v={autoplay:t,delay:s,type:a,repeat:l,repeatDelay:u,repeatType:d,name:p,motionValue:g,element:y,...b},S=y?.KeyframeResolver||Ay;this.keyframeResolver=new S(h,(T,k,w)=>this.onKeyframesResolved(T,k,v,!w),p,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,s,a,l){this.keyframeResolver=void 0;const{name:u,type:d,velocity:h,delay:p,isHandoff:g,onUpdate:y}=a;this.resolvedAt=ys.now(),JW(t,u,d,h)||((sa.instantAnimations||!p)&&y?.(Dy(t,a,s)),t[0]=t[t.length-1],ig(a),a.repeat=0);const v={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>s3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...a,keyframes:t},S=!g&&n3(v)?new XW({...v,element:v.motionValue.owner.current}):new My(v);S.finished.then(()=>this.notifyFinished()).catch($s),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),BW()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const a3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function r3(e){const t=a3.exec(e);if(!t)return[,];const[,s,a,l]=t;return[`--${s??a}`,l]}function Hk(e,t,s=1){const[a,l]=r3(e);if(!a)return;const u=window.getComputedStyle(t).getPropertyValue(a);if(u){const d=u.trim();return dk(d)?parseFloat(d):d}return wy(l)?Hk(l,t,s+1):l}function Py(e,t){return e?.[t]??e?.default??e}const Uk=new Set(["width","height","top","left","right","bottom",...ol]),o3={test:e=>e==="auto",parse:e=>e},qk=e=>t=>t.test(e),Yk=[rl,ct,vi,Ra,ZI,XI,o3],bw=e=>Yk.find(qk(e));function l3(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||fk(e):!0}const c3=new Set(["brightness","contrast","saturate","opacity"]);function u3(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=s.match(Cy)||[];if(!a)return e;const l=s.replace(a,"");let u=c3.has(t)?1:0;return a!==s&&(u*=100),t+"("+u+l+")"}const d3=/\b([a-z-]*)\(.*?\)/gu,ag={...Ba,getAnimatableNone:e=>{const t=e.match(d3);return t?t.map(u3).join(" "):e}},vw={...rl,transform:Math.round},h3={rotate:Ra,rotateX:Ra,rotateY:Ra,rotateZ:Ra,scale:jd,scaleX:jd,scaleY:jd,scaleZ:jd,skew:Ra,skewX:Ra,skewY:Ra,distance:ct,translateX:ct,translateY:ct,translateZ:ct,x:ct,y:ct,z:ct,perspective:ct,transformPerspective:ct,opacity:_c,originX:ow,originY:ow,originZ:ct},Oy={borderWidth:ct,borderTopWidth:ct,borderRightWidth:ct,borderBottomWidth:ct,borderLeftWidth:ct,borderRadius:ct,radius:ct,borderTopLeftRadius:ct,borderTopRightRadius:ct,borderBottomRightRadius:ct,borderBottomLeftRadius:ct,width:ct,maxWidth:ct,height:ct,maxHeight:ct,top:ct,right:ct,bottom:ct,left:ct,padding:ct,paddingTop:ct,paddingRight:ct,paddingBottom:ct,paddingLeft:ct,margin:ct,marginTop:ct,marginRight:ct,marginBottom:ct,marginLeft:ct,backgroundPositionX:ct,backgroundPositionY:ct,...h3,zIndex:vw,fillOpacity:_c,strokeOpacity:_c,numOctaves:vw},f3={...Oy,color:On,backgroundColor:On,outlineColor:On,fill:On,stroke:On,borderColor:On,borderTopColor:On,borderRightColor:On,borderBottomColor:On,borderLeftColor:On,filter:ag,WebkitFilter:ag},Gk=e=>f3[e];function $k(e,t){let s=Gk(e);return s!==ag&&(s=Ba),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const p3=new Set(["auto","none","0"]);function m3(e,t,s){let a=0,l;for(;a<e.length&&!l;){const u=e[a];typeof u=="string"&&!p3.has(u)&&Ic(u).values.length&&(l=e[a]),a++}if(l&&s)for(const u of t)e[u]=$k(s,l)}class g3 extends Ay{constructor(t,s,a,l,u){super(t,s,a,l,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:a}=this;if(!s||!s.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),wy(g))){const y=Hk(g,s.current);y!==void 0&&(t[p]=y),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Uk.has(a)||t.length!==2)return;const[l,u]=t,d=bw(l),h=bw(u);if(d!==h)if(mw(d)&&mw(h))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else kr[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,a=[];for(let l=0;l<t.length;l++)(t[l]===null||l3(t[l]))&&a.push(l);a.length&&m3(t,a,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=kr[a](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const l=s[s.length-1];l!==void 0&&t.getValue(a,l).jump(l,!1)}measureEndState(){const{element:t,name:s,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const l=t.getValue(s);l&&l.jump(this.measuredOrigin,!1);const u=a.length-1,d=a[u];a[u]=kr[s](t.measureViewportBox(),window.getComputedStyle(t.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,p])=>{t.getValue(h).set(p)}),this.resolveNoneKeyframes()}}function y3(e,t,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let a=document;const l=s?.[e]??a.querySelectorAll(e);return l?Array.from(l):[]}return Array.from(e)}const Kk=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Qk(e){return hk(e)&&"offsetHeight"in e}const Sw=30,x3=e=>!isNaN(parseFloat(e));class b3{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{const l=ys.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=ys.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=x3(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new xy);const a=this.events[t].add(s);return t==="change"?()=>{a(),rn.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,s,a){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ys.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Sw)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Sw);return pk(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function el(e,t){return new b3(e,t)}const{schedule:Ry}=kk(queueMicrotask,!1),si={x:!1,y:!1};function Xk(){return si.x||si.y}function v3(e){return e==="x"||e==="y"?si[e]?null:(si[e]=!0,()=>{si[e]=!1}):si.x||si.y?null:(si.x=si.y=!0,()=>{si.x=si.y=!1})}function Zk(e,t){const s=y3(e),a=new AbortController,l={passive:!0,...t,signal:a.signal};return[s,l,()=>a.abort()]}function ww(e){return!(e.pointerType==="touch"||Xk())}function S3(e,t,s={}){const[a,l,u]=Zk(e,s),d=h=>{if(!ww(h))return;const{target:p}=h,g=t(p,h);if(typeof g!="function"||!p)return;const y=b=>{ww(b)&&(g(b),p.removeEventListener("pointerleave",y))};p.addEventListener("pointerleave",y,l)};return a.forEach(h=>{h.addEventListener("pointerenter",d,l)}),u}const Jk=(e,t)=>t?e===t?!0:Jk(e,t.parentElement):!1,_y=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,w3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function C3(e){return w3.has(e.tagName)||e.tabIndex!==-1}const Bd=new WeakSet;function Cw(e){return t=>{t.key==="Enter"&&e(t)}}function bm(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const j3=(e,t)=>{const s=e.currentTarget;if(!s)return;const a=Cw(()=>{if(Bd.has(s))return;bm(s,"down");const l=Cw(()=>{bm(s,"up")}),u=()=>bm(s,"cancel");s.addEventListener("keyup",l,t),s.addEventListener("blur",u,t)});s.addEventListener("keydown",a,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",a),t)};function jw(e){return _y(e)&&!Xk()}function k3(e,t,s={}){const[a,l,u]=Zk(e,s),d=h=>{const p=h.currentTarget;if(!jw(h))return;Bd.add(p);const g=t(p,h),y=(S,T)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",v),Bd.has(p)&&Bd.delete(p),jw(S)&&typeof g=="function"&&g(S,{success:T})},b=S=>{y(S,p===window||p===document||s.useGlobalTarget||Jk(p,S.target))},v=S=>{y(S,!1)};window.addEventListener("pointerup",b,l),window.addEventListener("pointercancel",v,l)};return a.forEach(h=>{(s.useGlobalTarget?window:h).addEventListener("pointerdown",d,l),Qk(h)&&(h.addEventListener("focus",g=>j3(g,l)),!C3(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),u}function eT(e){return hk(e)&&"ownerSVGElement"in e}function T3(e){return eT(e)&&e.tagName==="svg"}const Jn=e=>!!(e&&e.getVelocity),D3=[...Yk,On,Ba],E3=e=>D3.find(qk(e)),Iy=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function kw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function M3(...e){return t=>{let s=!1;const a=e.map(l=>{const u=kw(l,t);return!s&&typeof u=="function"&&(s=!0),u});if(s)return()=>{for(let l=0;l<a.length;l++){const u=a[l];typeof u=="function"?u():kw(e[l],null)}}}}function A3(...e){return x.useCallback(M3(...e),e)}class P3 extends x.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const a=s.offsetParent,l=Qk(a)&&a.offsetWidth||0,u=this.props.sizeRef.current;u.height=s.offsetHeight||0,u.width=s.offsetWidth||0,u.top=s.offsetTop,u.left=s.offsetLeft,u.right=l-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function O3({children:e,isPresent:t,anchorX:s,root:a}){const l=x.useId(),u=x.useRef(null),d=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=x.useContext(Iy),p=A3(u,e?.ref);return x.useInsertionEffect(()=>{const{width:g,height:y,top:b,left:v,right:S}=d.current;if(t||!u.current||!g||!y)return;const T=s==="left"?`left: ${v}`:`right: ${S}`;u.current.dataset.motionPopId=l;const k=document.createElement("style");h&&(k.nonce=h);const w=a??document.head;return w.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${T}px !important;
            top: ${b}px !important;
          }
        `),()=>{w.contains(k)&&w.removeChild(k)}},[t]),r.jsx(P3,{isPresent:t,childRef:u,sizeRef:d,children:x.cloneElement(e,{ref:p})})}const R3=({children:e,initial:t,isPresent:s,onExitComplete:a,custom:l,presenceAffectsLayout:u,mode:d,anchorX:h,root:p})=>{const g=hy(_3),y=x.useId();let b=!0,v=x.useMemo(()=>(b=!1,{id:y,initial:t,isPresent:s,custom:l,onExitComplete:S=>{g.set(S,!0);for(const T of g.values())if(!T)return;a&&a()},register:S=>(g.set(S,!1),()=>g.delete(S))}),[s,g,a]);return u&&b&&(v={...v}),x.useMemo(()=>{g.forEach((S,T)=>g.set(T,!1))},[s]),x.useEffect(()=>{!s&&!g.size&&a&&a()},[s]),d==="popLayout"&&(e=r.jsx(O3,{isPresent:s,anchorX:h,root:p,children:e})),r.jsx(Th.Provider,{value:v,children:e})};function _3(){return new Map}function tT(e=!0){const t=x.useContext(Th);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:a,register:l}=t,u=x.useId();x.useEffect(()=>{if(e)return l(u)},[e]);const d=x.useCallback(()=>e&&a&&a(u),[u,a,e]);return!s&&a?[!1,d]:[!0]}const kd=e=>e.key||"";function Tw(e){const t=[];return x.Children.forEach(e,s=>{x.isValidElement(s)&&t.push(s)}),t}const tl=({children:e,custom:t,initial:s=!0,onExitComplete:a,presenceAffectsLayout:l=!0,mode:u="sync",propagate:d=!1,anchorX:h="left",root:p})=>{const[g,y]=tT(d),b=x.useMemo(()=>Tw(e),[e]),v=d&&!g?[]:b.map(kd),S=x.useRef(!0),T=x.useRef(b),k=hy(()=>new Map),[w,j]=x.useState(b),[E,M]=x.useState(b);uk(()=>{S.current=!1,T.current=b;for(let R=0;R<E.length;R++){const _=kd(E[R]);v.includes(_)?k.delete(_):k.get(_)!==!0&&k.set(_,!1)}},[E,v.length,v.join("-")]);const W=[];if(b!==w){let R=[...b];for(let _=0;_<E.length;_++){const L=E[_],I=kd(L);v.includes(I)||(R.splice(_,0,L),W.push(L))}return u==="wait"&&W.length&&(R=W),M(Tw(R)),j(b),null}const{forceRender:O}=x.useContext(dy);return r.jsx(r.Fragment,{children:E.map(R=>{const _=kd(R),L=d&&!g?!1:b===E||v.includes(_),I=()=>{if(k.has(_))k.set(_,!0);else return;let F=!0;k.forEach(B=>{B||(F=!1)}),F&&(O?.(),M(T.current),d&&y?.(),a&&a())};return r.jsx(R3,{isPresent:L,initial:!S.current||s?void 0:!1,custom:t,presenceAffectsLayout:l,mode:u,root:p,onExitComplete:L?void 0:I,anchorX:h,children:R},_)})})},nT=x.createContext({strict:!1}),Dw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},nl={};for(const e in Dw)nl[e]={isEnabled:t=>Dw[e].some(s=>!!t[s])};function I3(e){for(const t in e)nl[t]={...nl[t],...e[t]}}const W3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function oh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||W3.has(e)}let sT=e=>!oh(e);function N3(e){typeof e=="function"&&(sT=t=>t.startsWith("on")?!oh(t):e(t))}try{N3(require("@emotion/is-prop-valid").default)}catch{}function L3(e,t,s){const a={};for(const l in e)l==="values"&&typeof e.values=="object"||(sT(l)||s===!0&&oh(l)||!t&&!oh(l)||e.draggable&&l.startsWith("onDrag"))&&(a[l]=e[l]);return a}const Dh=x.createContext({});function Eh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Wc(e){return typeof e=="string"||Array.isArray(e)}const Wy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ny=["initial",...Wy];function Mh(e){return Eh(e.animate)||Ny.some(t=>Wc(e[t]))}function iT(e){return!!(Mh(e)||e.variants)}function z3(e,t){if(Mh(e)){const{initial:s,animate:a}=e;return{initial:s===!1||Wc(s)?s:void 0,animate:Wc(a)?a:void 0}}return e.inherit!==!1?t:{}}function B3(e){const{initial:t,animate:s}=z3(e,x.useContext(Dh));return x.useMemo(()=>({initial:t,animate:s}),[Ew(t),Ew(s)])}function Ew(e){return Array.isArray(e)?e.join(" "):e}const Nc={};function V3(e){for(const t in e)Nc[t]=e[t],Sy(t)&&(Nc[t].isCSSVariable=!0)}function aT(e,{layout:t,layoutId:s}){return ll.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!Nc[e]||e==="opacity")}const F3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},H3=ol.length;function U3(e,t,s){let a="",l=!0;for(let u=0;u<H3;u++){const d=ol[u],h=e[d];if(h===void 0)continue;let p=!0;if(typeof h=="number"?p=h===(d.startsWith("scale")?1:0):p=parseFloat(h)===0,!p||s){const g=Kk(h,Oy[d]);if(!p){l=!1;const y=F3[d]||d;a+=`${y}(${g}) `}s&&(t[d]=g)}}return a=a.trim(),s?a=s(t,l?"":a):l&&(a="none"),a}function Ly(e,t,s){const{style:a,vars:l,transformOrigin:u}=e;let d=!1,h=!1;for(const p in t){const g=t[p];if(ll.has(p)){d=!0;continue}else if(Sy(p)){l[p]=g;continue}else{const y=Kk(g,Oy[p]);p.startsWith("origin")?(h=!0,u[p]=y):a[p]=y}}if(t.transform||(d||s?a.transform=U3(t,e.transform,s):a.transform&&(a.transform="none")),h){const{originX:p="50%",originY:g="50%",originZ:y=0}=u;a.transformOrigin=`${p} ${g} ${y}`}}const zy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rT(e,t,s){for(const a in t)!Jn(t[a])&&!aT(a,s)&&(e[a]=t[a])}function q3({transformTemplate:e},t){return x.useMemo(()=>{const s=zy();return Ly(s,t,e),Object.assign({},s.vars,s.style)},[t])}function Y3(e,t){const s=e.style||{},a={};return rT(a,s,e),Object.assign(a,q3(e,t)),a}function G3(e,t){const s={},a=Y3(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=a,s}const $3={offset:"stroke-dashoffset",array:"stroke-dasharray"},K3={offset:"strokeDashoffset",array:"strokeDasharray"};function Q3(e,t,s=1,a=0,l=!0){e.pathLength=1;const u=l?$3:K3;e[u.offset]=ct.transform(-a);const d=ct.transform(t),h=ct.transform(s);e[u.array]=`${d} ${h}`}function oT(e,{attrX:t,attrY:s,attrScale:a,pathLength:l,pathSpacing:u=1,pathOffset:d=0,...h},p,g,y){if(Ly(e,h,g),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:b,style:v}=e;b.transform&&(v.transform=b.transform,delete b.transform),(v.transform||b.transformOrigin)&&(v.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),v.transform&&(v.transformBox=y?.transformBox??"fill-box",delete b.transformBox),t!==void 0&&(b.x=t),s!==void 0&&(b.y=s),a!==void 0&&(b.scale=a),l!==void 0&&Q3(b,l,u,d,!1)}const lT=()=>({...zy(),attrs:{}}),cT=e=>typeof e=="string"&&e.toLowerCase()==="svg";function X3(e,t,s,a){const l=x.useMemo(()=>{const u=lT();return oT(u,t,cT(a),e.transformTemplate,e.style),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};rT(u,e.style,e),l.style={...u,...l.style}}return l}const Z3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function By(e){return typeof e!="string"||e.includes("-")?!1:!!(Z3.indexOf(e)>-1||/[A-Z]/u.test(e))}function J3(e,t,s,{latestValues:a},l,u=!1){const h=(By(e)?X3:G3)(t,a,l,e),p=L3(t,typeof e=="string",u),g=e!==x.Fragment?{...p,...h,ref:s}:{},{children:y}=t,b=x.useMemo(()=>Jn(y)?y.get():y,[y]);return x.createElement(e,{...g,children:b})}function Mw(e){const t=[{},{}];return e?.values.forEach((s,a)=>{t[0][a]=s.get(),t[1][a]=s.getVelocity()}),t}function Vy(e,t,s,a){if(typeof t=="function"){const[l,u]=Mw(a);t=t(s!==void 0?s:e.custom,l,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[l,u]=Mw(a);t=t(s!==void 0?s:e.custom,l,u)}return t}function Vd(e){return Jn(e)?e.get():e}function eN({scrapeMotionValuesFromProps:e,createRenderState:t},s,a,l){return{latestValues:tN(s,a,l,e),renderState:t()}}function tN(e,t,s,a){const l={},u=a(e,{});for(const v in u)l[v]=Vd(u[v]);let{initial:d,animate:h}=e;const p=Mh(e),g=iT(e);t&&g&&!p&&e.inherit!==!1&&(d===void 0&&(d=t.initial),h===void 0&&(h=t.animate));let y=s?s.initial===!1:!1;y=y||d===!1;const b=y?h:d;if(b&&typeof b!="boolean"&&!Eh(b)){const v=Array.isArray(b)?b:[b];for(let S=0;S<v.length;S++){const T=Vy(e,v[S]);if(T){const{transitionEnd:k,transition:w,...j}=T;for(const E in j){let M=j[E];if(Array.isArray(M)){const W=y?M.length-1:0;M=M[W]}M!==null&&(l[E]=M)}for(const E in k)l[E]=k[E]}}}return l}const uT=e=>(t,s)=>{const a=x.useContext(Dh),l=x.useContext(Th),u=()=>eN(e,t,a,l);return s?u():hy(u)};function Fy(e,t,s){const{style:a}=e,l={};for(const u in a)(Jn(a[u])||t.style&&Jn(t.style[u])||aT(u,e)||s?.getValue(u)?.liveStyle!==void 0)&&(l[u]=a[u]);return l}const nN=uT({scrapeMotionValuesFromProps:Fy,createRenderState:zy});function dT(e,t,s){const a=Fy(e,t,s);for(const l in e)if(Jn(e[l])||Jn(t[l])){const u=ol.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;a[u]=e[l]}return a}const sN=uT({scrapeMotionValuesFromProps:dT,createRenderState:lT}),iN=Symbol.for("motionComponentSymbol");function _o(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function aN(e,t,s){return x.useCallback(a=>{a&&e.onMount&&e.onMount(a),t&&(a?t.mount(a):t.unmount()),s&&(typeof s=="function"?s(a):_o(s)&&(s.current=a))},[t])}const Hy=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),rN="framerAppearId",hT="data-"+Hy(rN),fT=x.createContext({});function oN(e,t,s,a,l){const{visualElement:u}=x.useContext(Dh),d=x.useContext(nT),h=x.useContext(Th),p=x.useContext(Iy).reducedMotion,g=x.useRef(null);a=a||d.renderer,!g.current&&a&&(g.current=a(e,{visualState:t,parent:u,props:s,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p}));const y=g.current,b=x.useContext(fT);y&&!y.projection&&l&&(y.type==="html"||y.type==="svg")&&lN(g.current,s,l,b);const v=x.useRef(!1);x.useInsertionEffect(()=>{y&&v.current&&y.update(s,h)});const S=s[hT],T=x.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return uk(()=>{y&&(v.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),T.current&&y.animationState&&y.animationState.animateChanges())}),x.useEffect(()=>{y&&(!T.current&&y.animationState&&y.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),T.current=!1),y.enteringChildren=void 0)}),y}function lN(e,t,s,a){const{layoutId:l,layout:u,drag:d,dragConstraints:h,layoutScroll:p,layoutRoot:g,layoutCrossfade:y}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:pT(e.parent)),e.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||h&&_o(h),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,crossfade:y,layoutScroll:p,layoutRoot:g})}function pT(e){if(e)return e.options.allowProjection!==!1?e.projection:pT(e.parent)}function vm(e,{forwardMotionProps:t=!1}={},s,a){s&&I3(s);const l=By(e)?sN:nN;function u(h,p){let g;const y={...x.useContext(Iy),...h,layoutId:cN(h)},{isStatic:b}=y,v=B3(h),S=l(h,b);if(!b&&fy){uN();const T=dN(y);g=T.MeasureLayout,v.visualElement=oN(e,S,y,a,T.ProjectionNode)}return r.jsxs(Dh.Provider,{value:v,children:[g&&v.visualElement?r.jsx(g,{visualElement:v.visualElement,...y}):null,J3(e,h,aN(S,v.visualElement,p),S,b,t)]})}u.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const d=x.forwardRef(u);return d[iN]=e,d}function cN({layoutId:e}){const t=x.useContext(dy).id;return t&&e!==void 0?t+"-"+e:e}function uN(e,t){x.useContext(nT).strict}function dN(e){const{drag:t,layout:s}=nl;if(!t&&!s)return{};const a={...t,...s};return{MeasureLayout:t?.isEnabled(e)||s?.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function hN(e,t){if(typeof Proxy>"u")return vm;const s=new Map,a=(u,d)=>vm(u,d,e,t),l=(u,d)=>a(u,d);return new Proxy(l,{get:(u,d)=>d==="create"?a:(s.has(d)||s.set(d,vm(d,void 0,e,t)),s.get(d))})}function mT({top:e,left:t,right:s,bottom:a}){return{x:{min:t,max:s},y:{min:e,max:a}}}function fN({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function pN(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:a.y,right:a.x}}function Sm(e){return e===void 0||e===1}function rg({scale:e,scaleX:t,scaleY:s}){return!Sm(e)||!Sm(t)||!Sm(s)}function br(e){return rg(e)||gT(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function gT(e){return Aw(e.x)||Aw(e.y)}function Aw(e){return e&&e!=="0%"}function lh(e,t,s){const a=e-s,l=t*a;return s+l}function Pw(e,t,s,a,l){return l!==void 0&&(e=lh(e,l,a)),lh(e,s,a)+t}function og(e,t=0,s=1,a,l){e.min=Pw(e.min,t,s,a,l),e.max=Pw(e.max,t,s,a,l)}function yT(e,{x:t,y:s}){og(e.x,t.translate,t.scale,t.originPoint),og(e.y,s.translate,s.scale,s.originPoint)}const Ow=.999999999999,Rw=1.0000000000001;function mN(e,t,s,a=!1){const l=s.length;if(!l)return;t.x=t.y=1;let u,d;for(let h=0;h<l;h++){u=s[h],d=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Wo(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),d&&(t.x*=d.x.scale,t.y*=d.y.scale,yT(e,d)),a&&br(u.latestValues)&&Wo(e,u.latestValues))}t.x<Rw&&t.x>Ow&&(t.x=1),t.y<Rw&&t.y>Ow&&(t.y=1)}function Io(e,t){e.min=e.min+t,e.max=e.max+t}function _w(e,t,s,a,l=.5){const u=dn(e.min,e.max,l);og(e,t,s,u,a)}function Wo(e,t){_w(e.x,t.x,t.scaleX,t.scale,t.originX),_w(e.y,t.y,t.scaleY,t.scale,t.originY)}function xT(e,t){return mT(pN(e.getBoundingClientRect(),t))}function gN(e,t,s){const a=xT(e,s),{scroll:l}=t;return l&&(Io(a.x,l.offset.x),Io(a.y,l.offset.y)),a}const Iw=()=>({translate:0,scale:1,origin:0,originPoint:0}),No=()=>({x:Iw(),y:Iw()}),Ww=()=>({min:0,max:0}),wn=()=>({x:Ww(),y:Ww()}),lg={current:null},bT={current:!1};function yN(){if(bT.current=!0,!!fy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>lg.current=e.matches;e.addEventListener("change",t),t()}else lg.current=!1}const xN=new WeakMap;function bN(e,t,s){for(const a in t){const l=t[a],u=s[a];if(Jn(l))e.addValue(a,l);else if(Jn(u))e.addValue(a,el(l,{owner:e}));else if(u!==l)if(e.hasValue(a)){const d=e.getValue(a);d.liveStyle===!0?d.jump(l):d.hasAnimated||d.set(l)}else{const d=e.getStaticValue(a);e.addValue(a,el(d!==void 0?d:l,{owner:e}))}}for(const a in s)t[a]===void 0&&e.removeValue(a);return t}const Nw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class vN{scrapeMotionValuesFromProps(t,s,a){return{}}constructor({parent:t,props:s,presenceContext:a,reducedMotionConfig:l,blockInitialAnimation:u,visualState:d},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ay,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=ys.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,rn.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=d;this.latestValues=p,this.baseTarget={...p},this.initialValues=s.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=s,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=l,this.options=h,this.blockInitialAnimation=!!u,this.isControllingVariants=Mh(s),this.isVariantNode=iT(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...b}=this.scrapeMotionValuesFromProps(s,{},this);for(const v in b){const S=b[v];p[v]!==void 0&&Jn(S)&&S.set(p[v])}}mount(t){this.current=t,xN.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),bT.current||yN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:lg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),za(this.notifyUpdate),za(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=ll.has(t);a&&this.onBindTransform&&this.onBindTransform();const l=s.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&rn.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{l(),u&&u(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in nl){const s=nl[t];if(!s)continue;const{isEnabled:a,Feature:l}=s;if(!this.features[t]&&l&&a(this.props)&&(this.features[t]=new l(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):wn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let a=0;a<Nw.length;a++){const l=Nw[a];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u="on"+l,d=t[u];d&&(this.propEventSubscriptions[l]=this.on(l,d))}this.prevMotionValues=bN(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const a=this.values.get(t);s!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&s!==void 0&&(a=el(s===null?void 0:s,{owner:this}),this.addValue(t,a)),a}readValue(t,s){let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(dk(a)||fk(a))?a=parseFloat(a):!E3(a)&&Ba.test(s)&&(a=$k(t,s)),this.setBaseTarget(t,Jn(a)?a.get():a)),Jn(a)?a.get():a}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){const{initial:s}=this.props;let a;if(typeof s=="string"||typeof s=="object"){const u=Vy(this.props,s,this.presenceContext?.custom);u&&(a=u[t])}if(s&&a!==void 0)return a;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!Jn(l)?l:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new xy),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){Ry.render(this.render)}}class vT extends vN{constructor(){super(...arguments),this.KeyframeResolver=g3}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:a}){delete s[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Jn(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function ST(e,{style:t,vars:s},a,l){const u=e.style;let d;for(d in t)u[d]=t[d];l?.applyProjectionStyles(u,a);for(d in s)u.setProperty(d,s[d])}function SN(e){return window.getComputedStyle(e)}class wN extends vT{constructor(){super(...arguments),this.type="html",this.renderInstance=ST}readValueFromInstance(t,s){if(ll.has(s))return this.projection?.isProjecting?Jm(s):IW(t,s);{const a=SN(t),l=(Sy(s)?a.getPropertyValue(s):a[s])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:s}){return xT(t,s)}build(t,s,a){Ly(t,s,a.transformTemplate)}scrapeMotionValuesFromProps(t,s,a){return Fy(t,s,a)}}const wT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function CN(e,t,s,a){ST(e,t,void 0,a);for(const l in t.attrs)e.setAttribute(wT.has(l)?l:Hy(l),t.attrs[l])}class jN extends vT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=wn}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(ll.has(s)){const a=Gk(s);return a&&a.default||0}return s=wT.has(s)?s:Hy(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,a){return dT(t,s,a)}build(t,s,a){oT(t,s,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(t,s,a,l){CN(t,s,a,l)}mount(t){this.isSVGTag=cT(t.tagName),super.mount(t)}}const kN=(e,t)=>By(e)?new jN(t):new wN(t,{allowProjection:e!==x.Fragment});function Uo(e,t,s){const a=e.getProps();return Vy(a,t,s!==void 0?s:a.custom,e)}const cg=e=>Array.isArray(e);function TN(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,el(s))}function DN(e){return cg(e)?e[e.length-1]||0:e}function EN(e,t){const s=Uo(e,t);let{transitionEnd:a={},transition:l={},...u}=s||{};u={...u,...a};for(const d in u){const h=DN(u[d]);TN(e,d,h)}}function MN(e){return!!(Jn(e)&&e.add)}function ug(e,t){const s=e.getValue("willChange");if(MN(s))return s.add(t);if(!s&&sa.WillChange){const a=new sa.WillChange("auto");e.addValue("willChange",a),a.add(t)}}function CT(e){return e.props[hT]}const AN=e=>e!==null;function PN(e,{repeat:t,repeatType:s="loop"},a){const l=e.filter(AN),u=t&&s!=="loop"&&t%2===1?0:l.length-1;return l[u]}const ON={type:"spring",stiffness:500,damping:25,restSpeed:10},RN=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),_N={type:"keyframes",duration:.8},IN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},WN=(e,{keyframes:t})=>t.length>2?_N:ll.has(e)?e.startsWith("scale")?RN(t[1]):ON:IN;function NN({when:e,delay:t,delayChildren:s,staggerChildren:a,staggerDirection:l,repeat:u,repeatType:d,repeatDelay:h,from:p,elapsed:g,...y}){return!!Object.keys(y).length}const Uy=(e,t,s,a={},l,u)=>d=>{const h=Py(a,e)||{},p=h.delay||a.delay||0;let{elapsed:g=0}=a;g=g-bi(p);const y={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-g,onUpdate:v=>{t.set(v),h.onUpdate&&h.onUpdate(v)},onComplete:()=>{d(),h.onComplete&&h.onComplete()},name:e,motionValue:t,element:u?void 0:l};NN(h)||Object.assign(y,WN(e,y)),y.duration&&(y.duration=bi(y.duration)),y.repeatDelay&&(y.repeatDelay=bi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let b=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(ig(y),y.delay===0&&(b=!0)),(sa.instantAnimations||sa.skipAnimations)&&(b=!0,ig(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,b&&!u&&t.get()!==void 0){const v=PN(y.keyframes,h);if(v!==void 0){rn.update(()=>{y.onUpdate(v),y.onComplete()});return}}return h.isSync?new My(y):new i3(y)};function LN({protectedKeys:e,needsAnimating:t},s){const a=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,a}function jT(e,t,{delay:s=0,transitionOverride:a,type:l}={}){let{transition:u=e.getDefaultTransition(),transitionEnd:d,...h}=t;a&&(u=a);const p=[],g=l&&e.animationState&&e.animationState.getState()[l];for(const y in h){const b=e.getValue(y,e.latestValues[y]??null),v=h[y];if(v===void 0||g&&LN(g,y))continue;const S={delay:s,...Py(u||{},y)},T=b.get();if(T!==void 0&&!b.isAnimating&&!Array.isArray(v)&&v===T&&!S.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const j=CT(e);if(j){const E=window.MotionHandoffAnimation(j,y,rn);E!==null&&(S.startTime=E,k=!0)}}ug(e,y),b.start(Uy(y,b,v,e.shouldReduceMotion&&Uk.has(y)?{type:!1}:S,e,k));const w=b.animation;w&&p.push(w)}return d&&Promise.all(p).then(()=>{rn.update(()=>{d&&EN(e,d)})}),p}function kT(e,t,s,a=0,l=1){const u=Array.from(e).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),d=e.size,h=(d-1)*a;return typeof s=="function"?s(u,d):l===1?u*a:h-u*a}function dg(e,t,s={}){const a=Uo(e,t,s.type==="exit"?e.presenceContext?.custom:void 0);let{transition:l=e.getDefaultTransition()||{}}=a||{};s.transitionOverride&&(l=s.transitionOverride);const u=a?()=>Promise.all(jT(e,a,s)):()=>Promise.resolve(),d=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:b}=l;return zN(e,t,p,g,y,b,s)}:()=>Promise.resolve(),{when:h}=l;if(h){const[p,g]=h==="beforeChildren"?[u,d]:[d,u];return p().then(()=>g())}else return Promise.all([u(),d(s.delay)])}function zN(e,t,s=0,a=0,l=0,u=1,d){const h=[];for(const p of e.variantChildren)p.notify("AnimationStart",t),h.push(dg(p,t,{...d,delay:s+(typeof a=="function"?0:a)+kT(e.variantChildren,p,a,l,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(h)}function BN(e,t,s={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const l=t.map(u=>dg(e,u,s));a=Promise.all(l)}else if(typeof t=="string")a=dg(e,t,s);else{const l=typeof t=="function"?Uo(e,t,s.custom):t;a=Promise.all(jT(e,l,s))}return a.then(()=>{e.notify("AnimationComplete",t)})}function TT(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let a=0;a<s;a++)if(t[a]!==e[a])return!1;return!0}const VN=Ny.length;function DT(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?DT(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<VN;s++){const a=Ny[s],l=e.props[a];(Wc(l)||l===!1)&&(t[a]=l)}return t}const FN=[...Wy].reverse(),HN=Wy.length;function UN(e){return t=>Promise.all(t.map(({animation:s,options:a})=>BN(e,s,a)))}function qN(e){let t=UN(e),s=Lw(),a=!0;const l=p=>(g,y)=>{const b=Uo(e,y,p==="exit"?e.presenceContext?.custom:void 0);if(b){const{transition:v,transitionEnd:S,...T}=b;g={...g,...T,...S}}return g};function u(p){t=p(e)}function d(p){const{props:g}=e,y=DT(e.parent)||{},b=[],v=new Set;let S={},T=1/0;for(let w=0;w<HN;w++){const j=FN[w],E=s[j],M=g[j]!==void 0?g[j]:y[j],W=Wc(M),O=j===p?E.isActive:null;O===!1&&(T=w);let R=M===y[j]&&M!==g[j]&&W;if(R&&a&&e.manuallyAnimateOnMount&&(R=!1),E.protectedKeys={...S},!E.isActive&&O===null||!M&&!E.prevProp||Eh(M)||typeof M=="boolean")continue;const _=YN(E.prevProp,M);let L=_||j===p&&E.isActive&&!R&&W||w>T&&W,I=!1;const F=Array.isArray(M)?M:[M];let B=F.reduce(l(j),{});O===!1&&(B={});const{prevResolvedValues:z={}}=E,ce={...z,...B},U=q=>{L=!0,v.has(q)&&(I=!0,v.delete(q)),E.needsAnimating[q]=!0;const le=e.getValue(q);le&&(le.liveStyle=!1)};for(const q in ce){const le=B[q],pe=z[q];if(S.hasOwnProperty(q))continue;let ke=!1;cg(le)&&cg(pe)?ke=!TT(le,pe):ke=le!==pe,ke?le!=null?U(q):v.add(q):le!==void 0&&v.has(q)?U(q):E.protectedKeys[q]=!0}E.prevProp=M,E.prevResolvedValues=B,E.isActive&&(S={...S,...B}),a&&e.blockInitialAnimation&&(L=!1);const ie=R&&_;L&&(!ie||I)&&b.push(...F.map(q=>{const le={type:j};if(typeof q=="string"&&a&&!ie&&e.manuallyAnimateOnMount&&e.parent){const{parent:pe}=e,ke=Uo(pe,q);if(pe.enteringChildren&&ke){const{delayChildren:be}=ke.transition||{};le.delay=kT(pe.enteringChildren,e,be)}}return{animation:q,options:le}}))}if(v.size){const w={};if(typeof g.initial!="boolean"){const j=Uo(e,Array.isArray(g.initial)?g.initial[0]:g.initial);j&&j.transition&&(w.transition=j.transition)}v.forEach(j=>{const E=e.getBaseTarget(j),M=e.getValue(j);M&&(M.liveStyle=!0),w[j]=E??null}),b.push({animation:w})}let k=!!b.length;return a&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(k=!1),a=!1,k?t(b):Promise.resolve()}function h(p,g){if(s[p].isActive===g)return Promise.resolve();e.variantChildren?.forEach(b=>b.animationState?.setActive(p,g)),s[p].isActive=g;const y=d(p);for(const b in s)s[b].protectedKeys={};return y}return{animateChanges:d,setActive:h,setAnimateFunction:u,getState:()=>s,reset:()=>{s=Lw()}}}function YN(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!TT(t,e):!1}function hr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Lw(){return{animate:hr(!0),whileInView:hr(),whileHover:hr(),whileTap:hr(),whileDrag:hr(),whileFocus:hr(),exit:hr()}}class Ua{constructor(t){this.isMounted=!1,this.node=t}update(){}}class GN extends Ua{constructor(t){super(t),t.animationState||(t.animationState=qN(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Eh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let $N=0;class KN extends Ua{constructor(){super(...arguments),this.id=$N++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const l=this.node.animationState.setActive("exit",!t);s&&!t&&l.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const QN={animation:{Feature:GN},exit:{Feature:KN}};function Lc(e,t,s,a={passive:!0}){return e.addEventListener(t,s,a),()=>e.removeEventListener(t,s)}function su(e){return{point:{x:e.pageX,y:e.pageY}}}const XN=e=>t=>_y(t)&&e(t,su(t));function vc(e,t,s,a){return Lc(e,t,XN(s),a)}const ET=1e-4,ZN=1-ET,JN=1+ET,MT=.01,eL=0-MT,tL=0+MT;function as(e){return e.max-e.min}function nL(e,t,s){return Math.abs(e-t)<=s}function zw(e,t,s,a=.5){e.origin=a,e.originPoint=dn(t.min,t.max,e.origin),e.scale=as(s)/as(t),e.translate=dn(s.min,s.max,e.origin)-e.originPoint,(e.scale>=ZN&&e.scale<=JN||isNaN(e.scale))&&(e.scale=1),(e.translate>=eL&&e.translate<=tL||isNaN(e.translate))&&(e.translate=0)}function Sc(e,t,s,a){zw(e.x,t.x,s.x,a?a.originX:void 0),zw(e.y,t.y,s.y,a?a.originY:void 0)}function Bw(e,t,s){e.min=s.min+t.min,e.max=e.min+as(t)}function sL(e,t,s){Bw(e.x,t.x,s.x),Bw(e.y,t.y,s.y)}function Vw(e,t,s){e.min=t.min-s.min,e.max=e.min+as(t)}function wc(e,t,s){Vw(e.x,t.x,s.x),Vw(e.y,t.y,s.y)}function Ys(e){return[e("x"),e("y")]}const AT=({current:e})=>e?e.ownerDocument.defaultView:null,Fw=(e,t)=>Math.abs(e-t);function iL(e,t){const s=Fw(e.x,t.x),a=Fw(e.y,t.y);return Math.sqrt(s**2+a**2)}class PT{constructor(t,s,{transformPagePoint:a,contextWindow:l=window,dragSnapToOrigin:u=!1,distanceThreshold:d=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Cm(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,T=iL(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!T)return;const{point:k}=v,{timestamp:w}=Gn;this.history.push({...k,timestamp:w});const{onStart:j,onMove:E}=this.handlers;S||(j&&j(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,v)},this.handlePointerMove=(v,S)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=wm(S,this.transformPagePoint),rn.update(this.updatePoint,!0)},this.handlePointerUp=(v,S)=>{this.end();const{onEnd:T,onSessionEnd:k,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Cm(v.type==="pointercancel"?this.lastMoveEventInfo:wm(S,this.transformPagePoint),this.history);this.startEvent&&T&&T(v,j),k&&k(v,j)},!_y(t))return;this.dragSnapToOrigin=u,this.handlers=s,this.transformPagePoint=a,this.distanceThreshold=d,this.contextWindow=l||window;const h=su(t),p=wm(h,this.transformPagePoint),{point:g}=p,{timestamp:y}=Gn;this.history=[{...g,timestamp:y}];const{onSessionStart:b}=s;b&&b(t,Cm(p,this.history)),this.removeListeners=eu(vc(this.contextWindow,"pointermove",this.handlePointerMove),vc(this.contextWindow,"pointerup",this.handlePointerUp),vc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),za(this.updatePoint)}}function wm(e,t){return t?{point:t(e.point)}:e}function Hw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Cm({point:e},t){return{point:e,delta:Hw(e,OT(t)),offset:Hw(e,aL(t)),velocity:rL(t,.1)}}function aL(e){return e[0]}function OT(e){return e[e.length-1]}function rL(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,a=null;const l=OT(e);for(;s>=0&&(a=e[s],!(l.timestamp-a.timestamp>bi(t)));)s--;if(!a)return{x:0,y:0};const u=Gs(l.timestamp-a.timestamp);if(u===0)return{x:0,y:0};const d={x:(l.x-a.x)/u,y:(l.y-a.y)/u};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function oL(e,{min:t,max:s},a){return t!==void 0&&e<t?e=a?dn(t,e,a.min):Math.max(e,t):s!==void 0&&e>s&&(e=a?dn(s,e,a.max):Math.min(e,s)),e}function Uw(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function lL(e,{top:t,left:s,bottom:a,right:l}){return{x:Uw(e.x,s,l),y:Uw(e.y,t,a)}}function qw(e,t){let s=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,a]=[a,s]),{min:s,max:a}}function cL(e,t){return{x:qw(e.x,t.x),y:qw(e.y,t.y)}}function uL(e,t){let s=.5;const a=as(e),l=as(t);return l>a?s=Rc(t.min,t.max-a,e.min):a>l&&(s=Rc(e.min,e.max-l,t.min)),na(0,1,s)}function dL(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const hg=.35;function hL(e=hg){return e===!1?e=0:e===!0&&(e=hg),{x:Yw(e,"left","right"),y:Yw(e,"top","bottom")}}function Yw(e,t,s){return{min:Gw(e,t),max:Gw(e,s)}}function Gw(e,t){return typeof e=="number"?e:e[t]||0}const fL=new WeakMap;class pL{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=wn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:a}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const u=b=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(su(b).point)},d=(b,v)=>{const{drag:S,dragPropagation:T,onDragStart:k}=this.getProps();if(S&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=v3(S),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ys(j=>{let E=this.getAxisMotionValue(j).get()||0;if(vi.test(E)){const{projection:M}=this.visualElement;if(M&&M.layout){const W=M.layout.layoutBox[j];W&&(E=as(W)*(parseFloat(E)/100))}}this.originPoint[j]=E}),k&&rn.postRender(()=>k(b,v)),ug(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},h=(b,v)=>{this.latestPointerEvent=b,this.latestPanInfo=v;const{dragPropagation:S,dragDirectionLock:T,onDirectionLock:k,onDrag:w}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:j}=v;if(T&&this.currentDirection===null){this.currentDirection=mL(j),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",v.point,j),this.updateAxis("y",v.point,j),this.visualElement.render(),w&&w(b,v)},p=(b,v)=>{this.latestPointerEvent=b,this.latestPanInfo=v,this.stop(b,v),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Ys(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new PT(t,{onSessionStart:u,onStart:d,onMove:h,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:a,contextWindow:AT(this.visualElement)})}stop(t,s){const a=t||this.latestPointerEvent,l=s||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!l||!a)return;const{velocity:d}=l;this.startAnimation(d);const{onDragEnd:h}=this.getProps();h&&rn.postRender(()=>h(a,l))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,a){const{drag:l}=this.getProps();if(!a||!Td(t,l,this.currentDirection))return;const u=this.getAxisMotionValue(t);let d=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(d=oL(d,this.constraints[t],this.elastic[t])),u.set(d)}resolveConstraints(){const{dragConstraints:t,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,l=this.constraints;t&&_o(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=lL(a.layoutBox,t):this.constraints=!1,this.elastic=hL(s),l!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Ys(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=dL(a.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!_o(t))return!1;const a=t.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=gN(a,l.root,this.visualElement.getTransformPagePoint());let d=cL(l.layout.layoutBox,u);if(s){const h=s(fN(d));this.hasMutatedConstraints=!!h,h&&(d=mT(h))}return d}startAnimation(t){const{drag:s,dragMomentum:a,dragElastic:l,dragTransition:u,dragSnapToOrigin:d,onDragTransitionEnd:h}=this.getProps(),p=this.constraints||{},g=Ys(y=>{if(!Td(y,s,this.currentDirection))return;let b=p&&p[y]||{};d&&(b={min:0,max:0});const v=l?200:1e6,S=l?40:1e7,T={type:"inertia",velocity:a?t[y]:0,bounceStiffness:v,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...u,...b};return this.startAxisValueAnimation(y,T)});return Promise.all(g).then(h)}startAxisValueAnimation(t,s){const a=this.getAxisMotionValue(t);return ug(this.visualElement,t),a.start(Uy(t,a,0,s,this.visualElement,!1))}stopAnimation(){Ys(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ys(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),l=a[s];return l||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){Ys(s=>{const{drag:a}=this.getProps();if(!Td(s,a,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(s);if(l&&l.layout){const{min:d,max:h}=l.layout.layoutBox[s];u.set(t[s]-dn(d,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:a}=this.visualElement;if(!_o(s)||!a||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Ys(d=>{const h=this.getAxisMotionValue(d);if(h&&this.constraints!==!1){const p=h.get();l[d]=uL({min:p,max:p},this.constraints[d])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Ys(d=>{if(!Td(d,t,null))return;const h=this.getAxisMotionValue(d),{min:p,max:g}=this.constraints[d];h.set(dn(p,g,l[d]))})}addListeners(){if(!this.visualElement.current)return;fL.set(this.visualElement,this);const t=this.visualElement.current,s=vc(t,"pointerdown",p=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(p)}),a=()=>{const{dragConstraints:p}=this.getProps();_o(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),rn.read(a);const d=Lc(window,"resize",()=>this.scalePositionWithinConstraints()),h=l.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Ys(y=>{const b=this.getAxisMotionValue(y);b&&(this.originPoint[y]+=p[y].translate,b.set(b.get()+p[y].translate))}),this.visualElement.render())}));return()=>{d(),s(),u(),h&&h()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:a=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:d=hg,dragMomentum:h=!0}=t;return{...t,drag:s,dragDirectionLock:a,dragPropagation:l,dragConstraints:u,dragElastic:d,dragMomentum:h}}}function Td(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function mL(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class gL extends Ua{constructor(t){super(t),this.removeGroupControls=$s,this.removeListeners=$s,this.controls=new pL(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$s}unmount(){this.removeGroupControls(),this.removeListeners()}}const $w=e=>(t,s)=>{e&&rn.postRender(()=>e(t,s))};class yL extends Ua{constructor(){super(...arguments),this.removePointerDownListener=$s}onPointerDown(t){this.session=new PT(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:AT(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:a,onPanEnd:l}=this.node.getProps();return{onSessionStart:$w(t),onStart:$w(s),onMove:a,onEnd:(u,d)=>{delete this.session,l&&rn.postRender(()=>l(u,d))}}}mount(){this.removePointerDownListener=vc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Fd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Kw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ac={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ct.test(e))e=parseFloat(e);else return e;const s=Kw(e,t.target.x),a=Kw(e,t.target.y);return`${s}% ${a}%`}},xL={correct:(e,{treeScale:t,projectionDelta:s})=>{const a=e,l=Ba.parse(e);if(l.length>5)return a;const u=Ba.createTransformer(e),d=typeof l[0]!="number"?1:0,h=s.x.scale*t.x,p=s.y.scale*t.y;l[0+d]/=h,l[1+d]/=p;const g=dn(h,p,.5);return typeof l[2+d]=="number"&&(l[2+d]/=g),typeof l[3+d]=="number"&&(l[3+d]/=g),u(l)}};let jm=!1;class bL extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:a,layoutId:l}=this.props,{projection:u}=t;V3(vL),u&&(s.group&&s.group.add(u),a&&a.register&&l&&a.register(u),jm&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Fd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:a,drag:l,isPresent:u}=this.props,{projection:d}=a;return d&&(d.isPresent=u,jm=!0,l||t.layoutDependency!==s||s===void 0||t.isPresent!==u?d.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?d.promote():d.relegate()||rn.postRender(()=>{const h=d.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Ry.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:a}=this.props,{projection:l}=t;jm=!0,l&&(l.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(l),a&&a.deregister&&a.deregister(l))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function RT(e){const[t,s]=tT(),a=x.useContext(dy);return r.jsx(bL,{...e,layoutGroup:a,switchLayoutGroup:x.useContext(fT),isPresent:t,safeToRemove:s})}const vL={borderRadius:{...ac,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ac,borderTopRightRadius:ac,borderBottomLeftRadius:ac,borderBottomRightRadius:ac,boxShadow:xL};function SL(e,t,s){const a=Jn(e)?e:el(e);return a.start(Uy("",a,t,s)),a.animation}const wL=(e,t)=>e.depth-t.depth;class CL{constructor(){this.children=[],this.isDirty=!1}add(t){py(this.children,t),this.isDirty=!0}remove(t){my(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(wL),this.isDirty=!1,this.children.forEach(t)}}function jL(e,t){const s=ys.now(),a=({timestamp:l})=>{const u=l-s;u>=t&&(za(a),e(u-t))};return rn.setup(a,!0),()=>za(a)}const _T=["TopLeft","TopRight","BottomLeft","BottomRight"],kL=_T.length,Qw=e=>typeof e=="string"?parseFloat(e):e,Xw=e=>typeof e=="number"||ct.test(e);function TL(e,t,s,a,l,u){l?(e.opacity=dn(0,s.opacity??1,DL(a)),e.opacityExit=dn(t.opacity??1,0,EL(a))):u&&(e.opacity=dn(t.opacity??1,s.opacity??1,a));for(let d=0;d<kL;d++){const h=`border${_T[d]}Radius`;let p=Zw(t,h),g=Zw(s,h);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||Xw(p)===Xw(g)?(e[h]=Math.max(dn(Qw(p),Qw(g),a),0),(vi.test(g)||vi.test(p))&&(e[h]+="%")):e[h]=g}(t.rotate||s.rotate)&&(e.rotate=dn(t.rotate||0,s.rotate||0,a))}function Zw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const DL=IT(0,.5,Sk),EL=IT(.5,.95,$s);function IT(e,t,s){return a=>a<e?0:a>t?1:s(Rc(e,t,a))}function Jw(e,t){e.min=t.min,e.max=t.max}function Hs(e,t){Jw(e.x,t.x),Jw(e.y,t.y)}function e1(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function t1(e,t,s,a,l){return e-=t,e=lh(e,1/s,a),l!==void 0&&(e=lh(e,1/l,a)),e}function ML(e,t=0,s=1,a=.5,l,u=e,d=e){if(vi.test(t)&&(t=parseFloat(t),t=dn(d.min,d.max,t/100)-d.min),typeof t!="number")return;let h=dn(u.min,u.max,a);e===u&&(h-=t),e.min=t1(e.min,t,s,h,l),e.max=t1(e.max,t,s,h,l)}function n1(e,t,[s,a,l],u,d){ML(e,t[s],t[a],t[l],t.scale,u,d)}const AL=["x","scaleX","originX"],PL=["y","scaleY","originY"];function s1(e,t,s,a){n1(e.x,t,AL,s?s.x:void 0,a?a.x:void 0),n1(e.y,t,PL,s?s.y:void 0,a?a.y:void 0)}function i1(e){return e.translate===0&&e.scale===1}function WT(e){return i1(e.x)&&i1(e.y)}function a1(e,t){return e.min===t.min&&e.max===t.max}function OL(e,t){return a1(e.x,t.x)&&a1(e.y,t.y)}function r1(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function NT(e,t){return r1(e.x,t.x)&&r1(e.y,t.y)}function o1(e){return as(e.x)/as(e.y)}function l1(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class RL{constructor(){this.members=[]}add(t){py(this.members,t),t.scheduleRender()}remove(t){if(my(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(l=>t===l);if(s===0)return!1;let a;for(let l=s;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){a=u;break}}return a?(this.promote(a),!0):!1}promote(t,s){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,s&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:l}=t.options;l===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:a}=t;s.onExitComplete&&s.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _L(e,t,s){let a="";const l=e.x.translate/t.x,u=e.y.translate/t.y,d=s?.z||0;if((l||u||d)&&(a=`translate3d(${l}px, ${u}px, ${d}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:g,rotate:y,rotateX:b,rotateY:v,skewX:S,skewY:T}=s;g&&(a=`perspective(${g}px) ${a}`),y&&(a+=`rotate(${y}deg) `),b&&(a+=`rotateX(${b}deg) `),v&&(a+=`rotateY(${v}deg) `),S&&(a+=`skewX(${S}deg) `),T&&(a+=`skewY(${T}deg) `)}const h=e.x.scale*t.x,p=e.y.scale*t.y;return(h!==1||p!==1)&&(a+=`scale(${h}, ${p})`),a||"none"}const km=["","X","Y","Z"],IL=1e3;let WL=0;function Tm(e,t,s,a){const{latestValues:l}=t;l[e]&&(s[e]=l[e],t.setStaticValue(e,0),a&&(a[e]=0))}function LT(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=CT(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:l,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",rn,!(l||u))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&LT(a)}function zT({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:a,resetTransform:l}){return class{constructor(d={},h=t?.()){this.id=WL++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(zL),this.nodes.forEach(HL),this.nodes.forEach(UL),this.nodes.forEach(BL)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new CL)}addEventListener(d,h){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new xy),this.eventHandlers.get(d).add(h)}notifyListeners(d,...h){const p=this.eventHandlers.get(d);p&&p.notify(...h)}hasListeners(d){return this.eventHandlers.has(d)}mount(d){if(this.instance)return;this.isSVG=eT(d)&&!T3(d),this.instance=d;const{layoutId:h,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||h)&&(this.isLayoutDirty=!0),e){let y,b=0;const v=()=>this.root.updateBlockedByResize=!1;rn.read(()=>{b=window.innerWidth}),e(d,()=>{const S=window.innerWidth;S!==b&&(b=S,this.root.updateBlockedByResize=!0,y&&y(),y=jL(v,250),Fd.hasAnimatedSinceResize&&(Fd.hasAnimatedSinceResize=!1,this.nodes.forEach(d1)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:b,hasRelativeLayoutChanged:v,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||g.getDefaultTransition()||KL,{onLayoutAnimationStart:k,onLayoutAnimationComplete:w}=g.getProps(),j=!this.targetLayout||!NT(this.targetLayout,S),E=!b&&v;if(this.options.layoutRoot||this.resumeFrom||E||b&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const M={...Py(T,"layout"),onPlay:k,onComplete:w};(g.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M),this.setAnimationOrigin(y,E)}else b||d1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),za(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qL),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&LT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const b=this.path[y];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:h,layout:p}=this.options;if(h===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(c1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(u1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(FL),this.nodes.forEach(NL),this.nodes.forEach(LL)):this.nodes.forEach(u1),this.clearAllSnapshots();const h=ys.now();Gn.delta=na(0,1e3/60,h-Gn.timestamp),Gn.timestamp=h,Gn.isProcessing=!0,pm.update.process(Gn),pm.preRender.process(Gn),pm.render.process(Gn),Gn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ry.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(VL),this.sharedNodes.forEach(YL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!as(this.snapshot.measuredBox.x)&&!as(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=wn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(h=!1),h&&this.instance){const p=a(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:p,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!l)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!WT(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;d&&this.instance&&(h||br(this.latestValues)||y)&&(l(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const h=this.measurePageBox();let p=this.removeElementScroll(h);return d&&(p=this.removeTransform(p)),QL(p),{animationId:this.root.animationId,measuredBox:h,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:d}=this.options;if(!d)return wn();const h=d.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(XL))){const{scroll:g}=this.root;g&&(Io(h.x,g.offset.x),Io(h.y,g.offset.y))}return h}removeElementScroll(d){const h=wn();if(Hs(h,d),this.scroll?.wasRoot)return h;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:y,options:b}=g;g!==this.root&&y&&b.layoutScroll&&(y.wasRoot&&Hs(h,d),Io(h.x,y.offset.x),Io(h.y,y.offset.y))}return h}applyTransform(d,h=!1){const p=wn();Hs(p,d);for(let g=0;g<this.path.length;g++){const y=this.path[g];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Wo(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),br(y.latestValues)&&Wo(p,y.latestValues)}return br(this.latestValues)&&Wo(p,this.latestValues),p}removeTransform(d){const h=wn();Hs(h,d);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!br(g.latestValues))continue;rg(g.latestValues)&&g.updateSnapshot();const y=wn(),b=g.measurePageBox();Hs(y,b),s1(h,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return br(this.latestValues)&&s1(h,this.latestValues),h}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==h;if(!(d||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:b}=this.options;if(!(!this.layout||!(y||b))){if(this.resolvedRelativeTargetAt=Gn.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wn(),this.relativeTargetOrigin=wn(),wc(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Hs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=wn(),this.targetWithTransforms=wn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Hs(this.target,this.layout.layoutBox),yT(this.target,this.targetDelta)):Hs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wn(),this.relativeTargetOrigin=wn(),wc(this.relativeTargetOrigin,this.target,v.target),Hs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||rg(this.parent.latestValues)||gT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const d=this.getLead(),h=!!this.resumingFrom||this!==d;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Gn.timestamp&&(p=!1),p)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;Hs(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,v=this.treeScale.y;mN(this.layoutCorrected,this.treeScale,this.path,h),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=wn());const{target:S}=d;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(e1(this.prevProjectionDelta.x,this.projectionDelta.x),e1(this.prevProjectionDelta.y,this.projectionDelta.y)),Sc(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==v||!l1(this.projectionDelta.x,this.prevProjectionDelta.x)||!l1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){if(this.options.visualElement?.scheduleRender(),d){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=No(),this.projectionDelta=No(),this.projectionDeltaWithTransform=No()}setAnimationOrigin(d,h=!1){const p=this.snapshot,g=p?p.latestValues:{},y={...this.latestValues},b=No();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const v=wn(),S=p?p.source:void 0,T=this.layout?this.layout.source:void 0,k=S!==T,w=this.getStack(),j=!w||w.members.length<=1,E=!!(k&&!j&&this.options.crossfade===!0&&!this.path.some($L));this.animationProgress=0;let M;this.mixTargetDelta=W=>{const O=W/1e3;h1(b.x,d.x,O),h1(b.y,d.y,O),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(wc(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),GL(this.relativeTarget,this.relativeTargetOrigin,v,O),M&&OL(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=wn()),Hs(M,this.relativeTarget)),k&&(this.animationValues=y,TL(y,g,this.latestValues,O,E,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(za(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rn.update(()=>{Fd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=el(0)),this.currentAnimation=SL(this.motionValue,[0,1e3],{...d,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),d.onUpdate&&d.onUpdate(h)},onStop:()=>{},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(IL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:h,target:p,layout:g,latestValues:y}=d;if(!(!h||!p||!g)){if(this!==d&&this.layout&&g&&BT(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||wn();const b=as(this.layout.layoutBox.x);p.x.min=d.target.x.min,p.x.max=p.x.min+b;const v=as(this.layout.layoutBox.y);p.y.min=d.target.y.min,p.y.max=p.y.min+v}Hs(h,p),Wo(h,y),Sc(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(d,h){this.sharedNodes.has(d)||this.sharedNodes.set(d,new RL),this.sharedNodes.get(d).add(h);const g=h.options.initialPromotionConfig;h.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(h):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){const{layoutId:d}=this.options;return d?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:d}=this.options;return d?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:h,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),d&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let h=!1;const{latestValues:p}=d;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(h=!0),!h)return;const g={};p.z&&Tm("z",d,g,this.animationValues);for(let y=0;y<km.length;y++)Tm(`rotate${km[y]}`,d,g,this.animationValues),Tm(`skew${km[y]}`,d,g,this.animationValues);d.render();for(const y in g)d.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);d.scheduleRender()}applyProjectionStyles(d,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){d.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,d.visibility="",d.opacity="",d.pointerEvents=Vd(h?.pointerEvents)||"",d.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=Vd(h?.pointerEvents)||""),this.hasProjected&&!br(this.latestValues)&&(d.transform=p?p({},""):"none",this.hasProjected=!1);return}d.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let b=_L(this.projectionDeltaWithTransform,this.treeScale,y);p&&(b=p(y,b)),d.transform=b;const{x:v,y:S}=this.projectionDelta;d.transformOrigin=`${v.origin*100}% ${S.origin*100}% 0`,g.animationValues?d.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:d.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const T in Nc){if(y[T]===void 0)continue;const{correct:k,applyTo:w,isCSSVariable:j}=Nc[T],E=b==="none"?y[T]:k(y[T],g);if(w){const M=w.length;for(let W=0;W<M;W++)d[w[W]]=E}else j?this.options.visualElement.renderState.vars[T]=E:d[T]=E}this.options.layoutId&&(d.pointerEvents=g===this?Vd(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>d.currentAnimation?.stop()),this.root.nodes.forEach(c1),this.root.sharedNodes.clear()}}}function NL(e){e.updateLayout()}function LL(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=e.layout,{animationType:l}=e.options,u=t.source!==e.layout.source;l==="size"?Ys(y=>{const b=u?t.measuredBox[y]:t.layoutBox[y],v=as(b);b.min=s[y].min,b.max=b.min+v}):BT(l,t.layoutBox,s)&&Ys(y=>{const b=u?t.measuredBox[y]:t.layoutBox[y],v=as(s[y]);b.max=b.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+v)});const d=No();Sc(d,s,t.layoutBox);const h=No();u?Sc(h,e.applyTransform(a,!0),t.measuredBox):Sc(h,s,t.layoutBox);const p=!WT(d);let g=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:b,layout:v}=y;if(b&&v){const S=wn();wc(S,t.layoutBox,b.layoutBox);const T=wn();wc(T,s,v.layoutBox),NT(S,T)||(g=!0),y.options.layoutRoot&&(e.relativeTarget=T,e.relativeTargetOrigin=S,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:h,layoutDelta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function zL(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function BL(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function VL(e){e.clearSnapshot()}function c1(e){e.clearMeasurements()}function u1(e){e.isLayoutDirty=!1}function FL(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function d1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function HL(e){e.resolveTargetDelta()}function UL(e){e.calcProjection()}function qL(e){e.resetSkewAndRotation()}function YL(e){e.removeLeadSnapshot()}function h1(e,t,s){e.translate=dn(t.translate,0,s),e.scale=dn(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function f1(e,t,s,a){e.min=dn(t.min,s.min,a),e.max=dn(t.max,s.max,a)}function GL(e,t,s,a){f1(e.x,t.x,s.x,a),f1(e.y,t.y,s.y,a)}function $L(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const KL={duration:.45,ease:[.4,0,.1,1]},p1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),m1=p1("applewebkit/")&&!p1("chrome/")?Math.round:$s;function g1(e){e.min=m1(e.min),e.max=m1(e.max)}function QL(e){g1(e.x),g1(e.y)}function BT(e,t,s){return e==="position"||e==="preserve-aspect"&&!nL(o1(t),o1(s),.2)}function XL(e){return e!==e.root&&e.scroll?.wasRoot}const ZL=zT({attachResizeListener:(e,t)=>Lc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dm={current:void 0},VT=zT({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Dm.current){const e=new ZL({});e.mount(window),e.setOptions({layoutScroll:!0}),Dm.current=e}return Dm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),JL={pan:{Feature:yL},drag:{Feature:gL,ProjectionNode:VT,MeasureLayout:RT}};function y1(e,t,s){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",s==="Start");const l="onHover"+s,u=a[l];u&&rn.postRender(()=>u(t,su(t)))}class e6 extends Ua{mount(){const{current:t}=this.node;t&&(this.unmount=S3(t,(s,a)=>(y1(this.node,a,"Start"),l=>y1(this.node,l,"End"))))}unmount(){}}class t6 extends Ua{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=eu(Lc(this.node.current,"focus",()=>this.onFocus()),Lc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function x1(e,t,s){const{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",s==="Start");const l="onTap"+(s==="End"?"":s),u=a[l];u&&rn.postRender(()=>u(t,su(t)))}class n6 extends Ua{mount(){const{current:t}=this.node;t&&(this.unmount=k3(t,(s,a)=>(x1(this.node,a,"Start"),(l,{success:u})=>x1(this.node,l,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const fg=new WeakMap,Em=new WeakMap,s6=e=>{const t=fg.get(e.target);t&&t(e)},i6=e=>{e.forEach(s6)};function a6({root:e,...t}){const s=e||document;Em.has(s)||Em.set(s,{});const a=Em.get(s),l=JSON.stringify(t);return a[l]||(a[l]=new IntersectionObserver(i6,{root:e,...t})),a[l]}function r6(e,t,s){const a=a6(t);return fg.set(e,s),a.observe(e),()=>{fg.delete(e),a.unobserve(e)}}const o6={some:0,all:1};class l6 extends Ua{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:a,amount:l="some",once:u}=t,d={root:s?s.current:void 0,rootMargin:a,threshold:typeof l=="number"?l:o6[l]},h=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:b}=this.node.getProps(),v=g?y:b;v&&v(p)};return r6(this.node.current,d,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(c6(t,s))&&this.startObserver()}unmount(){}}function c6({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const u6={inView:{Feature:l6},tap:{Feature:n6},focus:{Feature:t6},hover:{Feature:e6}},d6={layout:{ProjectionNode:VT,MeasureLayout:RT}},h6={...QN,...u6,...JL,...d6},Ke=hN(h6,kN),ch={minimum:"44px",navigation:"56px"},f6={navigation:1e3},qy=x.memo(({currentScreen:e,onNavigate:t})=>{const s=il(),a=[{id:"home",label:"Work",iconActive:gn,iconInactive:DA,activeColor:"#1db584",screens:["home","selection","preview","workout","customize","custom-preview","completion","timer","cardio","hiit"]},{id:"progress",label:"Progress",iconActive:Zi,iconInactive:EA,activeColor:"#6b8a9d",screens:["progress"]},{id:"settings",label:"Settings",iconActive:AA,iconInactive:MA,activeColor:"#ff8c00",screens:["settings","log-activity","exercise-list","profile","stretch","mobility"]}],l=d=>{t(d)},u=d=>d.screens.includes(e);return r.jsx(Ke.nav,{initial:{y:100},animate:{y:0},transition:{type:"spring",stiffness:300,damping:30},style:{position:"fixed",bottom:0,left:0,right:0,height:`calc(${ch.navigation} + env(safe-area-inset-bottom))`,backgroundColor:s.palette.background.paper,borderTop:`1px solid ${s.palette.mode==="dark"?"rgba(29, 181, 132, 0.2)":"rgba(0, 0, 0, 0.12)"}`,boxShadow:s.palette.mode==="dark"?"0 -2px 10px rgba(0, 0, 0, 0.3)":"0 -2px 10px rgba(0, 0, 0, 0.1)",zIndex:f6.navigation,display:"flex",alignItems:"center",justifyContent:"space-around",paddingBottom:"env(safe-area-inset-bottom)",paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)"},children:a.map(d=>{const h=u(d),p=h?d.iconActive:d.iconInactive;return r.jsxs(Ke.button,{onClick:()=>l(d.id),whileTap:{scale:.9},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flex:1,height:"100%",minWidth:ch.minimum,background:"transparent",border:"none",cursor:"pointer",color:h?d.activeColor:s.palette.text.secondary,transition:"color 0.2s ease",padding:"8px 4px"},"aria-label":d.label,"aria-current":h?"page":void 0,children:[r.jsx("div",{style:{fontSize:"1.5rem",marginBottom:"2px",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(p,{sx:{fontSize:"1.5rem"}})}),r.jsx("span",{style:{fontSize:"0.625rem",fontWeight:h?600:400,textTransform:"uppercase",letterSpacing:"0.5px",lineHeight:1},children:d.label}),h&&r.jsx(Ke.div,{layoutId:"bottomNavIndicator",style:{position:"absolute",top:0,left:0,right:0,height:"2px",backgroundColor:d.activeColor,borderRadius:"0 0 2px 2px"},transition:{type:"spring",stiffness:300,damping:30}})]},d.id)})})});qy.displayName="BottomNav";qy.propTypes={currentScreen:D.string.isRequired,onNavigate:D.func.isRequired};const FT=({workoutHistory:e=[],onDayClick:t})=>{const s=il(),a=Ig(s.breakpoints.down("sm")),[l,u]=x.useState(new Date),d=()=>{const S=$j(l),T=Gj(l),k=oi(S),w=Qj(T),j=[];let E=k;for(;E<=w;)j.push(E),E=Zc(E,1);return j},h=S=>e.filter(T=>{const k=new Date(T.date);return Um(k,S)}),p=S=>{if(!S||S.length===0)return null;const T=S[0];return T.type?.toLowerCase()||T.workoutType?.toLowerCase()||"strength"},g=S=>S?S==="cardio"||S==="hiit"?"error.main":S==="stretch"||S==="active_recovery"||S==="yoga"||S==="mobility"?"secondary.main":S==="rest"?"action.disabled":"primary.main":"primary.main",y=d(),b=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],v=new Date;return r.jsx(it,{elevation:2,sx:{borderRadius:3,overflow:"hidden"},children:r.jsxs(ut,{sx:{p:{xs:2,sm:3},width:"100%",maxWidth:"100%",boxSizing:"border-box"},children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},children:[r.jsx(Be,{onClick:()=>u(OI(l)),size:a?"small":"medium",children:r.jsx(PA,{})}),r.jsx(P,{variant:"h6",sx:{fontWeight:600,fontSize:{xs:"1.1rem",sm:"1.25rem"}},children:Ym(l,"MMMM yyyy")}),r.jsx(Be,{onClick:()=>u(kh(l,1)),size:a?"small":"medium",children:r.jsx(yr,{})})]}),r.jsx(N,{sx:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:{xs:.25,sm:.5},mb:.5},children:b.map(S=>r.jsx(N,{sx:{textAlign:"center",py:{xs:.5,sm:1},fontWeight:700,color:"text.primary",fontSize:{xs:"0.7rem",sm:"0.875rem"},opacity:.8},children:a?S.charAt(0):S},S))}),r.jsx(N,{sx:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:{xs:.25,sm:.5}},children:y.map((S,T)=>{const k=rk(S,l),w=Um(S,v),j=h(S),E=j.length>0,M=p(j);return r.jsxs(N,{onClick:()=>E&&t?.(S,j[0]),sx:{aspectRatio:"1",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:1,cursor:E?"pointer":"default",bgcolor:w?"action.selected":"transparent",opacity:k?1:.3,border:w?2:1,borderColor:w?"primary.main":"transparent",transition:"all 0.2s ease",minHeight:{xs:40,sm:52},maxHeight:{xs:44,sm:60},position:"relative",padding:{xs:"3px 2px",sm:"6px 4px"},"&:hover":E?{bgcolor:"action.hover",transform:"scale(1.05)",boxShadow:1}:{}},children:[r.jsx(P,{variant:"body2",sx:{fontWeight:w?700:500,color:"text.primary",fontSize:{xs:"0.7rem",sm:"0.875rem"},position:"absolute",top:{xs:3,sm:6},left:"50%",transform:"translateX(-50%)"},children:Ym(S,"d")}),E&&r.jsx(P,{sx:{fontSize:{xs:"1.1rem",sm:"1.5rem"},fontWeight:900,color:g(M),lineHeight:1,textShadow:"0 1px 2px rgba(0,0,0,0.1)",marginTop:"auto",marginBottom:{xs:"1px",sm:"4px"}},children:""})]},T)})}),r.jsxs(N,{sx:{display:"flex",gap:{xs:1,sm:2},mt:3,flexWrap:"nowrap",justifyContent:"center",overflowX:"auto"},children:[r.jsx(yt,{label:"Strength",size:"small",sx:{bgcolor:"primary.light",fontSize:{xs:"0.7rem",sm:"0.8125rem"},height:{xs:24,sm:32}}}),r.jsx(yt,{label:"Yoga",size:"small",sx:{bgcolor:"secondary.light",fontSize:{xs:"0.7rem",sm:"0.8125rem"},height:{xs:24,sm:32}}}),r.jsx(yt,{label:"Cardio",size:"small",sx:{bgcolor:"error.light",fontSize:{xs:"0.7rem",sm:"0.8125rem"},height:{xs:24,sm:32}}}),r.jsx(yt,{label:"Rest",size:"small",sx:{bgcolor:"action.disabledBackground",fontSize:{xs:"0.7rem",sm:"0.8125rem"},height:{xs:24,sm:32}}})]})]})})};FT.propTypes={workoutHistory:D.array,onDayClick:D.func};const Yy=x.memo(({onStartWorkout:e})=>{const[t,s]=x.useState([]),[a,l]=x.useState(null),[u,d]=x.useState(null),{assignWorkoutToDay:h,weeklySchedule:p}=Ha(),g=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];x.useEffect(()=>{const w=async()=>{try{const E=await Qi();s(E)}catch(E){console.error("Error loading favorite workouts:",E)}};w();const j=()=>{w()};return window.addEventListener("storage",j),()=>{window.removeEventListener("storage",j)}},[]);const y=async w=>{try{for(const E of g){const M=p[E];M&&M.favoriteId===w&&await h(E,null)}await Ij(w);const j=await Qi();s(j)}catch(j){console.error("Error deleting favorite workout:",j)}},b=w=>{if(e&&w){const j=w.type||"full",E=w.equipment||"all",M=w.exercises||[];e(j,E,M)}},v=(w,j)=>{l(w.currentTarget),d(j)},S=()=>{l(null),d(null)},T=async w=>{if(u)try{const j={sessionType:u.type||"full",sessionName:u.name||`${u.type} Workout`,exercises:u.exercises||[],assignedDate:new Date().toISOString(),fromFavorite:!0,favoriteId:u.id};await h(w,j),S()}catch(j){console.error("Error assigning workout to day:",j)}},k=w=>{for(const j of g){const E=p[j];if(E&&E.favoriteId===w.id)return j}return null};return t.length===0?null:r.jsx(it,{elevation:2,sx:{mb:3,borderRadius:3},children:r.jsxs(ut,{sx:{p:{xs:2,sm:3}},children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center",mb:2},children:[r.jsx(Ji,{sx:{color:"warning.main",mr:1}}),r.jsx(P,{variant:"h6",sx:{fontWeight:600,color:"text.primary",flex:1},children:"Favourite Workouts"})]}),r.jsx(Ie,{spacing:1.5,children:t.map((w,j)=>r.jsxs(N,{sx:{p:1.5,bgcolor:"background.default",borderRadius:2,borderLeft:"4px solid",borderLeftColor:"warning.main",display:"flex",alignItems:"center",gap:1},children:[r.jsx(gn,{sx:{color:"text.secondary",fontSize:20}}),r.jsxs(N,{sx:{flex:1,minWidth:0},children:[r.jsx(P,{variant:"subtitle2",sx:{fontWeight:600,mb:.5,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:w.name||"Untitled Workout"}),r.jsxs(Ie,{direction:"row",spacing:.5,flexWrap:"wrap",children:[w.type&&r.jsx(yt,{label:w.type.charAt(0).toUpperCase()+w.type.slice(1),size:"small",sx:{fontSize:"0.65rem",height:20}}),w.exercises&&r.jsx(yt,{label:`${w.exercises.length} exercises`,size:"small",variant:"outlined",sx:{fontSize:"0.65rem",height:20}}),k(w)&&r.jsx(yt,{icon:r.jsx(Er,{sx:{fontSize:"0.75rem !important"}}),label:k(w),size:"small",color:"success",sx:{fontSize:"0.65rem",height:20}})]})]}),r.jsxs(Ie,{direction:"row",spacing:.5,children:[r.jsx(Zn,{title:"Assign to day",children:r.jsx(Be,{size:"small",onClick:E=>v(E,w),sx:{color:k(w)?"success.main":"text.secondary","&:hover":{backgroundColor:"rgba(46, 125, 50, 0.08)"}},"aria-label":`Assign ${w.name||"workout"} to day`,children:r.jsx(mh,{fontSize:"small"})})}),r.jsx(Zn,{title:"Start workout",children:r.jsx(Be,{size:"small",onClick:()=>b(w),sx:{color:"primary.main","&:hover":{backgroundColor:"rgba(19, 70, 134, 0.08)"}},"aria-label":`Start ${w.name||"workout"}`,children:r.jsx(ri,{fontSize:"small"})})}),r.jsx(Zn,{title:"Delete",children:r.jsx(Be,{size:"small",onClick:()=>y(w.id),sx:{color:"error.main","&:hover":{backgroundColor:"rgba(211, 47, 47, 0.08)"}},"aria-label":`Delete ${w.name||"workout"}`,children:r.jsx(Ko,{fontSize:"small"})})})]})]},j))}),r.jsxs(OA,{anchorEl:a,open:!!a,onClose:S,PaperProps:{sx:{maxHeight:300,width:200}},children:[r.jsx(Ne,{disabled:!0,sx:{opacity:1,fontWeight:600},children:r.jsx(Mt,{children:"Assign to Day"})}),g.map(w=>{const j=u&&p[w]?.favoriteId===u.id;return r.jsxs(Ne,{onClick:()=>T(w),selected:j,children:[r.jsx(Gt,{children:j&&r.jsx(Er,{fontSize:"small",color:"success"})}),r.jsx(Mt,{children:w})]},w)})]})]})})});Yy.displayName="FavouriteWorkoutsWidget";Yy.propTypes={onStartWorkout:D.func};const Gy=({onClose:e})=>{const t=[{text:"Take it easy! See a friend!",icon:r.jsx(RA,{sx:{fontSize:48}})},{text:"Rest up! Read a book!",icon:r.jsx(_A,{sx:{fontSize:48}})},{text:"Relax and recover! Try some gentle stretching!",icon:r.jsx(li,{sx:{fontSize:48}})},{text:"Your body needs rest! Enjoy your day off!",icon:r.jsx(gh,{sx:{fontSize:48}})}],s=t[Math.floor(Math.random()*t.length)];return r.jsx(N,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"rgba(0, 0, 0, 0.5)",zIndex:1300,p:2},onClick:e,children:r.jsx(Ke.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},transition:{type:"spring",stiffness:260,damping:20},children:r.jsxs(pc,{elevation:8,sx:{p:4,maxWidth:400,textAlign:"center",borderRadius:4,background:"linear-gradient(135deg, rgba(19, 70, 134, 0.1) 0%, rgba(237, 63, 39, 0.1) 100%)"},onClick:a=>a.stopPropagation(),children:[r.jsx(Ke.div,{animate:{y:[0,-10,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:r.jsx(N,{sx:{color:"primary.main",mb:2},children:s.icon})}),r.jsx(P,{variant:"h5",sx:{fontWeight:700,mb:2,color:"text.primary"},children:"It's a Rest Day! "}),r.jsx(P,{variant:"body1",sx:{color:"text.secondary",mb:3},children:s.text}),r.jsx(Ke.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:r.jsx(N,{sx:{display:"inline-block",px:3,py:1,borderRadius:2,bgcolor:"primary.main",color:"white",cursor:"pointer",fontWeight:600,"&:hover":{bgcolor:"primary.dark"}},onClick:e,children:"Got it!"})})]})})})};Gy.propTypes={onClose:D.func.isRequired};const HT=e=>{const t=Math.floor(e/3600),s=Math.floor(e%3600/60),a=e%60;return`${t.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`},p6=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),UT=e=>{const t=Math.floor(e/3600),s=Math.floor(e%3600/60);return t>0?`${t}h ${s}m`:`${s}m`},qo=e=>{if(typeof e=="string"){const t=e.toLowerCase();return t.includes("upper")?"upper":t.includes("lower")?"lower":"full"}if(e?.type)return qo(e.type);if(e?.["Primary Muscle"]){const t=e["Primary Muscle"].toLowerCase();if(t.includes("upper"))return"upper";if(t.includes("lower"))return"lower"}return"full"},$y=x.memo(({activities:e=[],onDelete:t,onEdit:s,maxVisible:a=10,showLoadMore:l=!0})=>{const[u,d]=x.useState(null),[h,p]=x.useState(a),g=k=>{d(u===k?null:k)},y=k=>({strength:r.jsx(gn,{fontSize:"small"}),cardio:r.jsx(Si,{fontSize:"small"}),hiit:r.jsx(Si,{fontSize:"small"}),stretch:r.jsx(li,{fontSize:"small"})})[k]||r.jsx(gn,{fontSize:"small"}),b=k=>({strength:"primary",cardio:"info",hiit:"error",stretch:"warning"})[k]||"default",v=k=>k.charAt(0).toUpperCase()+k.slice(1),S=k=>{if(k.exercises){if(Array.isArray(k.exercises))return k.exercises.length;if(typeof k.exercises=="object")return Object.keys(k.exercises).length}return 0},T=e.slice(0,h);return e.length===0?r.jsx(it,{sx:{width:"100%",borderRadius:3},children:r.jsx(ut,{children:r.jsx(P,{variant:"body2",color:"text.secondary",align:"center",children:"No activities yet. Start your first workout!"})})}):r.jsxs(N,{sx:{width:"100%"},children:[r.jsx(P,{variant:"overline",sx:{color:"primary.main",fontWeight:600,letterSpacing:1,mb:1,display:"block"},children:"ACTIVITY HISTORY"}),r.jsx(Xn,{sx:{p:0},children:T.map((k,w)=>{const j=u===w,E=S(k),M=k.type||"strength";return r.jsx(it,{sx:{mb:1,borderRadius:2,boxShadow:"0 2px 8px rgba(19, 70, 134, 0.06)",transition:"box-shadow 0.2s","&:hover":{boxShadow:"0 4px 16px rgba(19, 70, 134, 0.12)"}},children:r.jsxs(ht,{sx:{display:"flex",flexDirection:"column",alignItems:"stretch",p:1.5,cursor:"pointer"},onClick:()=>g(w),children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:1,flex:1},children:[r.jsx(N,{sx:{color:`${b(M)}.main`},children:y(M)}),r.jsxs(N,{sx:{flex:1},children:[r.jsxs(P,{variant:"body2",sx:{fontWeight:600,color:"text.primary"},children:[k.sessionName||v(M),k.isPartial&&r.jsx(yt,{label:"Partial",size:"small",sx:{ml:1,height:"18px",fontSize:"0.7rem"}})]}),k.sessionName&&r.jsx(P,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.65rem"},children:v(M)}),r.jsxs(Ie,{direction:"row",spacing:1,sx:{mt:.5},children:[r.jsx(P,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.7rem"},children:p6(k.date)}),r.jsx(P,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.7rem"},children:""}),r.jsx(P,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.7rem"},children:UT(k.duration)}),E>0&&r.jsxs(r.Fragment,{children:[r.jsx(P,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.7rem"},children:""}),r.jsxs(P,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.7rem"},children:[E," exercises"]})]})]})]})]}),r.jsx(Be,{size:"small",onClick:W=>{W.stopPropagation(),g(w)},children:j?r.jsx(AC,{}):r.jsx(Wa,{})})]}),r.jsx(Hd,{in:j,timeout:"auto",unmountOnExit:!0,children:r.jsxs(N,{sx:{mt:2,pt:2,borderTop:"1px solid",borderColor:"divider"},children:[k.exercises&&typeof k.exercises=="object"&&r.jsxs(N,{sx:{mb:2},children:[r.jsx(P,{variant:"caption",sx:{fontWeight:600,color:"text.secondary"},children:"Exercises:"}),r.jsx(Xn,{dense:!0,sx:{mt:.5},children:Object.entries(k.exercises).map(([W,O],R)=>r.jsxs(ht,{sx:{py:.5,px:1,flexDirection:"column",alignItems:"flex-start"},children:[r.jsxs(P,{variant:"caption",sx:{color:"text.primary"},children:[W,": ",O.sets?.length||0," sets"]}),O.formNotes&&r.jsxs(P,{variant:"caption",sx:{color:"text.secondary",fontStyle:"italic",mt:.5},children:["Form: ",O.formNotes]})]},R))})]}),k.notes&&r.jsxs(N,{sx:{mb:2,p:1.5,bgcolor:"action.hover",borderRadius:1},children:[r.jsx(P,{variant:"caption",sx:{fontWeight:600,color:"text.secondary",display:"block",mb:.5},children:"Notes:"}),r.jsx(P,{variant:"caption",sx:{color:"text.primary"},children:k.notes})]}),r.jsxs(Ie,{direction:"row",spacing:1,children:[s&&r.jsx(Ae,{size:"small",startIcon:r.jsx(Mr,{}),onClick:W=>{W.stopPropagation(),s(w)},variant:"outlined",children:"Edit"}),t&&r.jsx(Ae,{size:"small",startIcon:r.jsx(Ko,{}),onClick:W=>{W.stopPropagation(),t(w)},variant:"outlined",color:"error",children:"Delete"})]})]})})]})},w)})}),l&&h<e.length&&r.jsx(N,{sx:{display:"flex",justifyContent:"center",mt:2},children:r.jsxs(Ae,{variant:"outlined",onClick:()=>p(k=>k+a),children:["Load More (",e.length-h," remaining)"]})})]})});$y.displayName="ActivitiesList";$y.propTypes={activities:D.arrayOf(D.shape({date:D.string,type:D.string,duration:D.number,sessionName:D.string,exercises:D.oneOfType([D.array,D.object]),isPartial:D.bool})).isRequired,onDelete:D.func,onEdit:D.func,maxVisible:D.number,showLoadMore:D.bool};const rc=(e,t)=>e.length!==t.length?!1:t.every(s=>e.includes(s)),m6=({openTo:e,defaultOpenTo:t,views:s,defaultViews:a})=>{const l=s??a;let u;if(e!=null)u=e;else if(l.includes(t))u=t;else if(l.length>0)u=l[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:l,openTo:u}},uh=(e,t,s)=>{let a=t;return a=e.setHours(a,e.getHours(s)),a=e.setMinutes(a,e.getMinutes(s)),a=e.setSeconds(a,e.getSeconds(s)),a=e.setMilliseconds(a,e.getMilliseconds(s)),a},zc=({date:e,disableFuture:t,disablePast:s,maxDate:a,minDate:l,isDateDisabled:u,adapter:d,timezone:h})=>{const p=uh(d,d.date(void 0,h),e);s&&d.isBefore(l,p)&&(l=p),t&&d.isAfter(a,p)&&(a=p);let g=e,y=e;for(d.isBefore(e,l)&&(g=l,y=null),d.isAfter(e,a)&&(y&&(y=a),g=null);g||y;){if(g&&d.isAfter(g,a)&&(g=null),y&&d.isBefore(y,l)&&(y=null),g){if(!u(g))return g;g=d.addDays(g,1)}if(y){if(!u(y))return y;y=d.addDays(y,-1)}}return null},g6=(e,t)=>e.isValid(t)?t:null,b1=(e,t,s)=>t==null||!e.isValid(t)?s:t,y6=(e,t,s)=>!e.isValid(t)&&t!=null&&!e.isValid(s)&&s!=null?!0:e.isEqual(t,s),Ky=(e,t)=>{const a=[e.startOfYear(t)];for(;a.length<12;){const l=a[a.length-1];a.push(e.addMonths(l,1))}return a},qT=(e,t,s)=>s==="date"?e.startOfDay(e.date(void 0,t)):e.date(void 0,t),x6=["year","month","day"],v1=e=>x6.includes(e),Qy=(e,{format:t,views:s},a)=>{if(t!=null)return t;const l=e.formats;return rc(s,["year"])?l.year:rc(s,["month"])?l.month:rc(s,["day"])?l.dayOfMonth:rc(s,["month","year"])?`${l.month} ${l.year}`:rc(s,["day","month"])?`${l.month} ${l.dayOfMonth}`:a?/en/.test(e.getCurrentLocaleCode())?l.normalDateWithWeekday:l.normalDate:l.keyboardDate},b6=(e,t)=>{const s=e.startOfWeek(t);return[0,1,2,3,4,5,6].map(a=>e.addDays(s,a))},v6=["hours","minutes","seconds"],S6=e=>v6.includes(e),S1=(e,t)=>t.getHours(e)*3600+t.getMinutes(e)*60+t.getSeconds(e),w6=(e,t)=>(s,a)=>e?t.isAfter(s,a):S1(s,t)>S1(a,t),mi={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},C6=e=>Math.max(...e.map(t=>mi[t.type]??1)),oc=(e,t,s)=>{if(t===mi.year)return e.startOfYear(s);if(t===mi.month)return e.startOfMonth(s);if(t===mi.day)return e.startOfDay(s);let a=s;return t<mi.minutes&&(a=e.setMinutes(a,0)),t<mi.seconds&&(a=e.setSeconds(a,0)),t<mi.milliseconds&&(a=e.setMilliseconds(a,0)),a},j6=({props:e,adapter:t,granularity:s,timezone:a,getTodayDate:l})=>{let u=l?l():oc(t,s,qT(t,a));e.minDate!=null&&t.isAfterDay(e.minDate,u)&&(u=oc(t,s,e.minDate)),e.maxDate!=null&&t.isBeforeDay(e.maxDate,u)&&(u=oc(t,s,e.maxDate));const d=w6(e.disableIgnoringDatePartForTimeValidation??!1,t);return e.minTime!=null&&d(e.minTime,u)&&(u=oc(t,s,e.disableIgnoringDatePartForTimeValidation?e.minTime:uh(t,u,e.minTime))),e.maxTime!=null&&d(u,e.maxTime)&&(u=oc(t,s,e.disableIgnoringDatePartForTimeValidation?e.maxTime:uh(t,u,e.maxTime))),u},YT=(e,t)=>{const s=e.formatTokenMap[t];if(s==null)throw new Error([`MUI X: The token "${t}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof s=="string"?{type:s,contentType:s==="meridiem"?"letter":"digit",maxLength:void 0}:{type:s.sectionType,contentType:s.contentType,maxLength:s.maxLength}},Ah=(e,t)=>{const s=[],a=e.date(void 0,"default"),l=e.startOfWeek(a),u=e.endOfWeek(a);let d=l;for(;e.isBefore(d,u);)s.push(d),d=e.addDays(d,1);return s.map(h=>e.formatByString(h,t))},GT=(e,t,s,a)=>{switch(s){case"month":return Ky(e,e.date(void 0,t)).map(l=>e.formatByString(l,a));case"weekDay":return Ah(e,a);case"meridiem":{const l=e.date(void 0,t);return[e.startOfDay(l),e.endOfDay(l)].map(u=>e.formatByString(u,a))}default:return[]}},w1="s",k6=["0","1","2","3","4","5","6","7","8","9"],T6=e=>{const t=e.date(void 0);return e.formatByString(e.setSeconds(t,0),w1)==="0"?k6:Array.from({length:10}).map((a,l)=>e.formatByString(e.setSeconds(t,l),w1))},Or=(e,t)=>{if(t[0]==="0")return e;const s=[];let a="";for(let l=0;l<e.length;l+=1){a+=e[l];const u=t.indexOf(a);u>-1&&(s.push(u.toString()),a="")}return s.join("")},Xy=(e,t)=>t[0]==="0"?e:e.split("").map(s=>t[Number(s)]).join(""),C1=(e,t)=>{const s=Or(e,t);return s!==" "&&!Number.isNaN(Number(s))},Zy=(e,t)=>Number(e).toString().padStart(t,"0"),$T=(e,t,s,a,l)=>{if(l.type==="day"&&l.contentType==="digit-with-letter"){const d=e.setDate(s.longestMonth,t);return e.formatByString(d,l.format)}let u=t.toString();return l.hasLeadingZerosInInput&&(u=Zy(u,l.maxLength)),Xy(u,a)},Jy=(e,t,s)=>{let a=e.value||e.placeholder;const l=t==="non-input"?e.hasLeadingZerosInFormat:e.hasLeadingZerosInInput;return t==="non-input"&&e.hasLeadingZerosInInput&&!e.hasLeadingZerosInFormat&&(a=Number(Or(a,s)).toString()),["input-rtl","input-ltr"].includes(t)&&e.contentType==="digit"&&!l&&a.length===1&&(a=`${a}`),t==="input-rtl"&&(a=`${a}`),a},j1=(e,t,s,a)=>e.formatByString(e.parse(t,s),a),D6=(e,t)=>e.formatByString(e.date(void 0,"system"),t).length===4,KT=(e,t,s,a)=>{if(t!=="digit")return!1;const l=e.date(void 0,"default");switch(s){case"year":return e.lib==="dayjs"&&a==="YY"?!0:e.formatByString(e.setYear(l,1),a).startsWith("0");case"month":return e.formatByString(e.startOfYear(l),a).length>1;case"day":return e.formatByString(e.startOfMonth(l),a).length>1;case"weekDay":return e.formatByString(e.startOfWeek(l),a).length>1;case"hours":return e.formatByString(e.setHours(l,1),a).length>1;case"minutes":return e.formatByString(e.setMinutes(l,1),a).length>1;case"seconds":return e.formatByString(e.setSeconds(l,1),a).length>1;default:throw new Error("Invalid section type")}},E6=(e,t,s)=>{const a=t.some(p=>p.type==="day"),l=[],u=[];for(let p=0;p<t.length;p+=1){const g=t[p];a&&g.type==="weekDay"||(l.push(g.format),u.push(Jy(g,"non-input",s)))}const d=l.join(" "),h=u.join(" ");return e.parse(h,d)},M6=e=>e.map(t=>`${t.startSeparator}${t.value||t.placeholder}${t.endSeparator}`).join(""),A6=(e,t,s)=>{const l=e.map(u=>{const d=Jy(u,s?"input-rtl":"input-ltr",t);return`${u.startSeparator}${d}${u.endSeparator}`}).join("");return s?`${l}`:l},P6=(e,t,s)=>{const a=e.date(void 0,s),l=e.endOfYear(a),u=e.endOfDay(a),{maxDaysInMonth:d,longestMonth:h}=Ky(e,a).reduce((p,g)=>{const y=e.getDaysInMonth(g);return y>p.maxDaysInMonth?{maxDaysInMonth:y,longestMonth:g}:p},{maxDaysInMonth:0,longestMonth:null});return{year:({format:p})=>({minimum:0,maximum:D6(e,p)?9999:99}),month:()=>({minimum:1,maximum:e.getMonth(l)+1}),day:({currentDate:p})=>({minimum:1,maximum:e.isValid(p)?e.getDaysInMonth(p):d,longestMonth:h}),weekDay:({format:p,contentType:g})=>{if(g==="digit"){const y=Ah(e,p).map(Number);return{minimum:Math.min(...y),maximum:Math.max(...y)}}return{minimum:1,maximum:7}},hours:({format:p})=>{const g=e.getHours(u);return Or(e.formatByString(e.endOfDay(a),p),t)!==g.toString()?{minimum:1,maximum:Number(Or(e.formatByString(e.startOfDay(a),p),t))}:{minimum:0,maximum:g}},minutes:()=>({minimum:0,maximum:e.getMinutes(u)}),seconds:()=>({minimum:0,maximum:e.getSeconds(u)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}},O6=(e,t,s,a)=>{switch(t.type){case"year":return e.setYear(a,e.getYear(s));case"month":return e.setMonth(a,e.getMonth(s));case"weekDay":{let l=e.formatByString(s,t.format);t.hasLeadingZerosInInput&&(l=Zy(l,t.maxLength));const u=Ah(e,t.format),d=u.indexOf(l),p=u.indexOf(t.value)-d;return e.addDays(s,p)}case"day":return e.setDate(a,e.getDate(s));case"meridiem":{const l=e.getHours(s)<12,u=e.getHours(a);return l&&u>=12?e.addHours(a,-12):!l&&u<12?e.addHours(a,12):a}case"hours":return e.setHours(a,e.getHours(s));case"minutes":return e.setMinutes(a,e.getMinutes(s));case"seconds":return e.setSeconds(a,e.getSeconds(s));default:return a}},k1={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},T1=(e,t,s,a,l)=>[...s].sort((u,d)=>k1[u.type]-k1[d.type]).reduce((u,d)=>!l||d.modified?O6(e,d,t,u):u,a),R6=()=>navigator.userAgent.toLowerCase().includes("android"),_6=(e,t)=>{const s={};if(!t)return e.forEach((p,g)=>{const y=g===0?null:g-1,b=g===e.length-1?null:g+1;s[g]={leftIndex:y,rightIndex:b}}),{neighbors:s,startIndex:0,endIndex:e.length-1};const a={},l={};let u=0,d=0,h=e.length-1;for(;h>=0;){d=e.findIndex((p,g)=>g>=u&&p.endSeparator?.includes(" ")&&p.endSeparator!==" / "),d===-1&&(d=e.length-1);for(let p=d;p>=u;p-=1)l[p]=h,a[h]=p,h-=1;u=d+1}return e.forEach((p,g)=>{const y=l[g],b=y===0?null:a[y-1],v=y===e.length-1?null:a[y+1];s[g]={leftIndex:b,rightIndex:v}}),{neighbors:s,startIndex:a[0],endIndex:a[e.length-1]}},pg=(e,t)=>{if(e==null)return null;if(e==="all")return"all";if(typeof e=="string"){const s=t.findIndex(a=>a.type===e);return s===-1?null:s}return e},I6=["value","referenceDate"],Ci={emptyValue:null,getTodayValue:qT,getInitialReferenceValue:e=>{let{value:t,referenceDate:s}=e,a=ft(e,I6);return a.adapter.isValid(t)?t:s??j6(a)},cleanValue:g6,areValuesEqual:y6,isSameError:(e,t)=>e===t,hasError:e=>e!=null,defaultErrorState:null,getTimezone:(e,t)=>e.isValid(t)?e.getTimezone(t):null,setTimezone:(e,t,s)=>s==null?null:e.setTimezone(s,t)},W6={updateReferenceValue:(e,t,s)=>e.isValid(t)?t:s,getSectionsFromValue:(e,t)=>t(e),getV7HiddenInputValueFromSections:M6,getV6InputValueFromSections:A6,parseValueStr:(e,t,s)=>s(e.trim(),t),getDateFromSection:e=>e,getDateSectionsFromValue:e=>e,updateDateInValue:(e,t,s)=>s,clearDateSections:e=>e.map(t=>K({},t,{value:""}))};function N6(e){return Ln("MuiPickersToolbar",e)}zn("MuiPickersToolbar",["root","title","content"]);const L6=["localeText"],mg=x.createContext(null),Ph=function(t){const{localeText:s}=t,a=ft(t,L6),{adapter:l,localeText:u}=x.useContext(mg)??{adapter:void 0,localeText:void 0},d=hn({props:a,name:"MuiLocalizationProvider"}),{children:h,dateAdapter:p,dateFormats:g,dateLibInstance:y,adapterLocale:b,localeText:v}=d,S=x.useMemo(()=>K({},v,u,s),[v,u,s]),T=x.useMemo(()=>{if(!p)return l||null;const j=new p({locale:b,formats:g,instance:y});if(!j.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/quickstart/#installation"].join(`
`));return j},[p,b,g,y,l]),k=x.useMemo(()=>T?{minDate:T.date("1900-01-01T00:00:00.000"),maxDate:T.date("2099-12-31T00:00:00.000")}:null,[T]),w=x.useMemo(()=>({utils:T,adapter:T,defaultDates:k,localeText:S}),[k,T,S]);return r.jsx(mg.Provider,{value:w,children:h})},QT=x.createContext(()=>!0);function z6(){return x.useContext(QT)}const XT=x.createContext(null);function ZT(){return x.useContext(XT)}const ex=x.createContext(null),cl=()=>{const e=x.useContext(ex);if(e==null)throw new Error("MUI X: The `usePickerContext` hook can only be called inside the context of a Picker component");return e},JT=x.createContext(null),eD=x.createContext({ownerState:{isPickerDisabled:!1,isPickerReadOnly:!1,isPickerValueEmpty:!1,isPickerOpen:!1,pickerVariant:"desktop",pickerOrientation:"portrait"},rootRefObject:{current:null},labelId:void 0,dismissViews:()=>{},hasUIView:!0,getCurrentViewMode:()=>"UI",triggerElement:null,viewContainerRole:null,defaultActionBarActions:[],onPopperExited:void 0});function tD(e){const{contextValue:t,actionsContextValue:s,privateContextValue:a,fieldPrivateContextValue:l,isValidContextValue:u,localeText:d,children:h}=e;return r.jsx(ex.Provider,{value:t,children:r.jsx(JT.Provider,{value:s,children:r.jsx(eD.Provider,{value:a,children:r.jsx(XT.Provider,{value:l,children:r.jsx(QT.Provider,{value:u,children:r.jsx(Ph,{localeText:d,children:h})})})})})})}const Qn=()=>x.useContext(eD);function nD(){const{ownerState:e}=Qn(),t=ia();return x.useMemo(()=>K({},e,{toolbarDirection:t?"rtl":"ltr"}),[e,t])}const B6=["children","className","classes","toolbarTitle","hidden","titleId","classes","landscapeDirection"],V6=e=>xn({root:["root"],title:["title"],content:["content"]},N6,e),F6=$e("div",{name:"MuiPickersToolbar",slot:"Root"})(({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:e.spacing(2,3),variants:[{props:{pickerOrientation:"landscape"},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),H6=$e("div",{name:"MuiPickersToolbar",slot:"Content",shouldForwardProp:e=>_r(e)&&e!=="landscapeDirection"})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{pickerOrientation:"landscape"},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{pickerOrientation:"landscape",landscapeDirection:"row"},style:{flexDirection:"row"}}]}),U6=x.forwardRef(function(t,s){const a=hn({props:t,name:"MuiPickersToolbar"}),{children:l,className:u,classes:d,toolbarTitle:h,hidden:p,titleId:g,landscapeDirection:y}=a,b=ft(a,B6),v=nD(),S=V6(d);return p?null:r.jsxs(F6,K({ref:s,className:$n(S.root,u),ownerState:v},b,{children:[r.jsx(P,{color:"text.secondary",variant:"overline",id:g,className:S.title,children:h}),r.jsx(H6,{className:S.content,ownerState:v,landscapeDirection:y,children:l})]}))}),q6=e=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:K({},e)}}}}),sD={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:e=>e==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",nextStepButtonLabel:"Next",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",timeRangePickerToolbarTitle:"Select time range",clockLabelText:(e,t)=>`Select ${e}. ${t?`Selected time is ${t}`:"No time selected"}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:e=>e?`Choose date, selected date is ${e}`:"Choose date",openTimePickerDialogue:e=>e?`Choose time, selected time is ${e}`:"Choose time",openRangePickerDialogue:e=>e?`Choose range, selected range is ${e}`:"Choose range",fieldClearLabel:"Clear",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>e.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>e.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},Y6=sD;q6(sD);const tx=()=>{const e=x.useContext(mg);if(e===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(e.adapter===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const t=x.useMemo(()=>K({},Y6,e.localeText),[e.localeText]);return x.useMemo(()=>K({},e,{localeText:t}),[e,t])},Kt=()=>tx().adapter,qa=()=>tx().localeText,gg=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],yg=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],iD=["minDateTime","maxDateTime"],G6=[...gg,...yg,...iD],aD=e=>G6.reduce((t,s)=>(e.hasOwnProperty(s)&&(t[s]=e[s]),t),{}),$6=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","unstableStartFieldRef","unstableEndFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator","autoFocus","focused"],rD=(e,t)=>x.useMemo(()=>{const s=K({},e),a={},l=u=>{s.hasOwnProperty(u)&&(a[u]=s[u],delete s[u])};return $6.forEach(l),t==="date"?gg.forEach(l):t==="time"?yg.forEach(l):t==="date-time"&&(gg.forEach(l),yg.forEach(l),iD.forEach(l)),{forwardedProps:s,internalProps:a}},[e,t]),K6=({adapter:e,format:t})=>{let s=10,a=t,l=e.expandFormat(t);for(;l!==a;)if(a=l,l=e.expandFormat(a),s-=1,s<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the component.");return l},Q6=({adapter:e,expandedFormat:t})=>{const s=[],{start:a,end:l}=e.escapedCharacters,u=new RegExp(`(\\${a}[^\\${l}]*\\${l})+`,"g");let d=null;for(;d=u.exec(t);)s.push({start:d.index,end:u.lastIndex-1});return s},X6=(e,t,s,a)=>{switch(s.type){case"year":return t.fieldYearPlaceholder({digitAmount:e.formatByString(e.date(void 0,"default"),a).length,format:a});case"month":return t.fieldMonthPlaceholder({contentType:s.contentType,format:a});case"day":return t.fieldDayPlaceholder({format:a});case"weekDay":return t.fieldWeekDayPlaceholder({contentType:s.contentType,format:a});case"hours":return t.fieldHoursPlaceholder({format:a});case"minutes":return t.fieldMinutesPlaceholder({format:a});case"seconds":return t.fieldSecondsPlaceholder({format:a});case"meridiem":return t.fieldMeridiemPlaceholder({format:a});default:return a}},Z6=({adapter:e,date:t,shouldRespectLeadingZeros:s,localeText:a,localizedDigits:l,now:u,token:d,startSeparator:h})=>{if(d==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const p=YT(e,d),g=KT(e,p.contentType,p.type,d),y=s?g:p.contentType==="digit",b=e.isValid(t);let v=b?e.formatByString(t,d):"",S=null;if(y)if(g)S=v===""?e.formatByString(u,d).length:v.length;else{if(p.maxLength==null)throw new Error(`MUI X: The token ${d} should have a 'maxLength' property on it's adapter`);S=p.maxLength,b&&(v=Xy(Zy(Or(v,l),S),l))}return K({},p,{format:d,maxLength:S,value:v,placeholder:X6(e,a,p,d),hasLeadingZerosInFormat:g,hasLeadingZerosInInput:y,startSeparator:h,endSeparator:"",modified:!1})},J6=e=>{const{adapter:t,expandedFormat:s,escapedParts:a}=e,l=t.date(void 0),u=[];let d="";const h=Object.keys(t.formatTokenMap).sort((S,T)=>T.length-S.length),p=/^([a-zA-Z]+)/,g=new RegExp(`^(${h.join("|")})*$`),y=new RegExp(`^(${h.join("|")})`),b=S=>a.find(T=>T.start<=S&&T.end>=S);let v=0;for(;v<s.length;){const S=b(v),T=S!=null,k=p.exec(s.slice(v))?.[1];if(!T&&k!=null&&g.test(k)){let w=k;for(;w.length>0;){const j=y.exec(w)[1];w=w.slice(j.length),u.push(Z6(K({},e,{now:l,token:j,startSeparator:d}))),d=""}v+=k.length}else{const w=s[v];T&&S?.start===v||S?.end===v||(u.length===0?d+=w:(u[u.length-1].endSeparator+=w,u[u.length-1].isEndFormatSeparator=!0)),v+=1}}return u.length===0&&d.length>0&&u.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:d,endSeparator:"",modified:!1}),u},ez=({isRtl:e,formatDensity:t,sections:s})=>s.map(a=>{const l=u=>{let d=u;return e&&d!==null&&d.includes(" ")&&(d=`${d}`),t==="spacious"&&["/",".","-"].includes(d)&&(d=` ${d} `),d};return a.startSeparator=l(a.startSeparator),a.endSeparator=l(a.endSeparator),a}),D1=e=>{let t=K6(e);e.isRtl&&e.enableAccessibleFieldDOMStructure&&(t=t.split(" ").reverse().join(" "));const s=Q6(K({},e,{expandedFormat:t})),a=J6(K({},e,{expandedFormat:t,escapedParts:s}));return ez(K({},e,{sections:a}))},nx=()=>x.useContext(ex),tz=()=>{const e=x.useContext(JT);if(e==null)throw new Error(["MUI X: The `usePickerActionsContext` can only be called in fields that are used as a slot of a Picker component"].join(`
`));return e};function nz(e){return Ln("MuiDatePickerToolbar",e)}zn("MuiDatePickerToolbar",["root","title"]);const sz=["toolbarFormat","toolbarPlaceholder","className","classes"],iz=e=>xn({root:["root"],title:["title"]},nz,e),az=$e(U6,{name:"MuiDatePickerToolbar",slot:"Root"})({}),rz=$e(P,{name:"MuiDatePickerToolbar",slot:"Title"})({variants:[{props:{pickerOrientation:"landscape"},style:{margin:"auto 16px auto auto"}}]}),oz=x.forwardRef(function(t,s){const a=hn({props:t,name:"MuiDatePickerToolbar"}),{toolbarFormat:l,toolbarPlaceholder:u="",className:d,classes:h}=a,p=ft(a,sz),g=Kt(),{value:y,views:b,orientation:v}=cl(),S=qa(),T=nD(),k=iz(h),w=x.useMemo(()=>{if(!g.isValid(y))return u;const j=Qy(g,{format:l,views:b},!0);return g.formatByString(y,j)},[y,l,u,g,b]);return r.jsx(az,K({ref:s,toolbarTitle:S.datePickerToolbarTitle,className:$n(k.root,d)},p,{children:r.jsx(rz,{variant:"h4",align:v==="landscape"?"left":"center",ownerState:T,className:k.title,children:w})}))}),iu=({props:e,value:t,timezone:s,adapter:a})=>{if(t===null)return null;const{shouldDisableDate:l,shouldDisableMonth:u,shouldDisableYear:d,disablePast:h,disableFuture:p,minDate:g,maxDate:y}=e,b=a.date(void 0,s);switch(!0){case!a.isValid(t):return"invalidDate";case!!(l&&l(t)):return"shouldDisableDate";case!!(u&&u(t)):return"shouldDisableMonth";case!!(d&&d(t)):return"shouldDisableYear";case!!(p&&a.isAfterDay(t,b)):return"disableFuture";case!!(h&&a.isBeforeDay(t,b)):return"disablePast";case!!(g&&a.isBeforeDay(t,g)):return"minDate";case!!(y&&a.isAfterDay(t,y)):return"maxDate";default:return null}};iu.valueManager=Ci;function oD(e){const{props:t,validator:s,value:a,timezone:l,onError:u}=e,d=Kt(),h=x.useRef(s.valueManager.defaultErrorState),p=s({adapter:d,value:a,timezone:l,props:t}),g=s.valueManager.hasError(p);x.useEffect(()=>{u&&!s.valueManager.isSameError(p,h.current)&&u(p,a),h.current=p},[s,u,p,a]);const y=Ve(b=>s({adapter:d,value:b,timezone:l,props:t}));return{validationError:p,hasValidationError:g,getValidationErrorForNewValue:y}}const lz=()=>tx().defaultDates,Oh=e=>{const t=Kt(),s=x.useRef(void 0);return s.current===void 0&&(s.current=t.date(void 0,e)),s.current};function cz(e={}){const{enableAccessibleFieldDOMStructure:t=!0}=e;return x.useMemo(()=>({valueType:"date",validator:iu,internal_valueManager:Ci,internal_fieldValueManager:W6,internal_enableAccessibleFieldDOMStructure:t,internal_useApplyDefaultValuesToFieldInternalProps:dz,internal_useOpenPickerButtonAriaLabel:uz}),[t])}function uz(e){const t=Kt(),s=qa();return x.useMemo(()=>{const a=t.isValid(e)?t.format(e,"fullDate"):null;return s.openDatePickerDialogue(a)},[e,s,t])}function dz(e){const t=Kt(),s=au(e);return x.useMemo(()=>K({},e,s,{format:e.format??t.formats.keyboardDate}),[e,s,t])}function au(e){const t=Kt(),s=lz();return x.useMemo(()=>({disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,minDate:b1(t,e.minDate,s.minDate),maxDate:b1(t,e.maxDate,s.maxDate)}),[e.minDate,e.maxDate,e.disableFuture,e.disablePast,t,s])}function lD(e,t){const s=hn({props:e,name:t}),a=au(s),l=x.useMemo(()=>s.localeText?.toolbarTitle==null?s.localeText:K({},s.localeText,{datePickerToolbarTitle:s.localeText.toolbarTitle}),[s.localeText]);return K({},s,a,{localeText:l},m6({views:s.views,openTo:s.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{slots:K({toolbar:oz},s.slots)})}function hz(e){return Ln("MuiPickerPopper",e)}zn("MuiPickerPopper",["root","paper"]);function fz(e,t){return Array.isArray(t)?t.every(s=>e.indexOf(s)!==-1):e.indexOf(t)!==-1}const pz=e=>{setTimeout(e,0)},cD=(e=document)=>{const t=e.activeElement;return t?t.shadowRoot?cD(t.shadowRoot):t:null},ss=e=>cD(mc(e)),mz="@media (pointer: fine)",gz=["PaperComponent","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],yz=e=>xn({root:["root"],paper:["paper"]},hz,e),xz=$e(NA,{name:"MuiPickerPopper",slot:"Root"})(({theme:e})=>({zIndex:e.zIndex.modal})),bz=$e(pc,{name:"MuiPickerPopper",slot:"Paper"})({outline:0,transformOrigin:"top center",variants:[{props:({popperPlacement:e})=>new Set(["top","top-start","top-end"]).has(e),style:{transformOrigin:"bottom center"}}]});function vz(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function Sz(e,t){const s=x.useRef(!1),a=x.useRef(!1),l=x.useRef(null),u=x.useRef(!1);x.useEffect(()=>{if(!e)return;function p(){u.current=!0}return document.addEventListener("mousedown",p,!0),document.addEventListener("touchstart",p,!0),()=>{document.removeEventListener("mousedown",p,!0),document.removeEventListener("touchstart",p,!0),u.current=!1}},[e]);const d=Ve(p=>{if(!u.current)return;const g=a.current;a.current=!1;const y=mc(l.current);if(!l.current||"clientX"in p&&vz(p,y))return;if(s.current){s.current=!1;return}let b;p.composedPath?b=p.composedPath().indexOf(l.current)>-1:b=!y.documentElement.contains(p.target)||l.current.contains(p.target),!b&&!g&&t(p)}),h=p=>{p.defaultMuiPrevented||(a.current=!0)};return x.useEffect(()=>{if(e){const p=mc(l.current),g=()=>{s.current=!0};return p.addEventListener("touchstart",d),p.addEventListener("touchmove",g),()=>{p.removeEventListener("touchstart",d),p.removeEventListener("touchmove",g)}}},[e,d]),x.useEffect(()=>{if(e){const p=mc(l.current);return p.addEventListener("click",d),()=>{p.removeEventListener("click",d),a.current=!1}}},[e,d]),[l,h,h]}const wz=x.forwardRef((e,t)=>{const{PaperComponent:s,ownerState:a,children:l,paperSlotProps:u,paperClasses:d,onPaperClick:h,onPaperTouchStart:p}=e,g=ft(e,gz),y=Wt({elementType:s,externalSlotProps:u,additionalProps:{tabIndex:-1,elevation:8,ref:t},className:d,ownerState:a});return r.jsx(s,K({},g,y,{onClick:b=>{h(b),y.onClick?.(b)},onTouchStart:b=>{p(b),y.onTouchStart?.(b)},ownerState:a,children:l}))});function Cz(e){const t=hn({props:e,name:"MuiPickerPopper"}),{children:s,placement:a="bottom-start",slots:l,slotProps:u,classes:d}=t,{open:h,popupRef:p,reduceAnimations:g}=cl(),{ownerState:y,rootRefObject:b}=Qn(),{dismissViews:v,getCurrentViewMode:S,onPopperExited:T,triggerElement:k,viewContainerRole:w}=Qn();x.useEffect(()=>{function q(le){h&&le.key==="Escape"&&v()}return document.addEventListener("keydown",q),()=>{document.removeEventListener("keydown",q)}},[v,h]);const j=x.useRef(null);x.useEffect(()=>{w==="tooltip"||S()==="field"||(h?j.current=ss(b.current):j.current&&j.current instanceof HTMLElement&&setTimeout(()=>{j.current instanceof HTMLElement&&j.current.focus()}))},[h,w,S,b]);const E=yz(d),M=Ve(()=>{w==="tooltip"?pz(()=>{b.current?.contains(ss(b.current))||p.current?.contains(ss(p.current))||v()}):v()}),[W,O,R]=Sz(h,M),_=x.useRef(null),L=xs(_,p),I=xs(L,W),F=q=>{q.key==="Escape"&&(q.stopPropagation(),v())},B=l?.desktopTransition??g?yh:IA,z=l?.desktopTrapFocus??WA,ce=l?.desktopPaper??bz,U=l?.popper??xz,ie=Wt({elementType:U,externalSlotProps:u?.popper,additionalProps:{transition:!0,role:w??void 0,open:h,placement:a,anchorEl:k,onKeyDown:F},className:E.root,ownerState:y}),V=x.useMemo(()=>K({},y,{popperPlacement:ie.placement}),[y,ie.placement]);return r.jsx(U,K({},ie,{children:({TransitionProps:q})=>r.jsx(z,K({open:h,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:w==="tooltip",isEnabled:()=>!0},u?.desktopTrapFocus,{children:r.jsx(B,K({},q,u?.desktopTransition,{onExited:le=>{T?.(),u?.desktopTransition?.onExited?.(le),q?.onExited?.()},children:r.jsx(wz,{PaperComponent:ce,ownerState:V,ref:I,onPaperClick:O,onPaperTouchStart:R,paperClasses:E.paper,paperSlotProps:u?.desktopPaper,children:s})}))}))}))}const jz="@media (prefers-reduced-motion: reduce)",Yo=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),E1=Yo&&Yo[1]?parseInt(Yo[1],10):null,M1=Yo&&Yo[2]?parseInt(Yo[2],10):null,kz=E1&&E1<10||M1&&M1<13||!1;function uD(e){const t=Ig(jz,{defaultMatches:!1});return e??(t||kz)}const dD={hasNextStep:!1,hasSeveralSteps:!1,goToNextStep:()=>{},areViewsInSameStep:()=>!0};function Tz(e){const{steps:t,isViewMatchingStep:s,onStepChange:a}=e;return l=>{if(t==null)return dD;const u=t.findIndex(h=>s(l.view,h)),d=u===-1||u===t.length-1?null:t[u+1];return{hasNextStep:d!=null,hasSeveralSteps:t.length>1,goToNextStep:()=>{d!=null&&a(K({},l,{step:d}))},areViewsInSameStep:(h,p)=>{const g=t.find(b=>s(h,b)),y=t.find(b=>s(p,b));return g===y}}}}function hD({onChange:e,onViewChange:t,openTo:s,view:a,views:l,autoFocus:u,focusedView:d,onFocusedViewChange:h,getStepNavigation:p}){const g=x.useRef(s),y=x.useRef(l),b=x.useRef(l.includes(s)?s:l[0]),[v,S]=Qo({name:"useViews",state:"view",controlled:a,default:b.current}),T=x.useRef(u?v:null),[k,w]=Qo({name:"useViews",state:"focusedView",controlled:d,default:T.current}),j=p?p({setView:S,view:v,defaultView:b.current,views:l}):dD;x.useEffect(()=>{(g.current&&g.current!==s||y.current&&y.current.some(I=>!l.includes(I)))&&(S(l.includes(s)?s:l[0]),y.current=l,g.current=s)},[s,S,v,l]);const E=l.indexOf(v),M=l[E-1]??null,W=l[E+1]??null,O=Ve((I,F)=>{w(F?I:B=>I===B?null:B),h?.(I,F)}),R=Ve(I=>{O(I,!0),I!==v&&(S(I),t&&t(I))}),_=Ve(()=>{W&&R(W)}),L=Ve((I,F,B)=>{const z=F==="finish",ce=B?l.indexOf(B)<l.length-1:!!W;e(I,z&&ce?"partial":F,B);let ie=null;if(B!=null&&B!==v?ie=B:z&&(ie=v),ie==null)return;const V=l[l.indexOf(ie)+1];V==null||!j.areViewsInSameStep(ie,V)||R(V)});return K({},j,{view:v,setView:R,focusedView:k,setFocusedView:O,nextView:W,previousView:M,defaultView:l.includes(s)?s:l[0],goToNextView:_,setValueAndGoToNextView:L})}function A1(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}function Dz(e,t){const[s,a]=x.useState(A1);return ea(()=>{const l=()=>{a(A1())};return window.addEventListener("orientationchange",l),()=>{window.removeEventListener("orientationchange",l)}},[]),fz(e,["hours","minutes","seconds"])?"portrait":t??s}const ru=({name:e,timezone:t,value:s,defaultValue:a,referenceDate:l,onChange:u,valueManager:d})=>{const h=Kt(),[p,g]=Qo({name:e,state:"value",controlled:s,default:a??d.emptyValue}),y=x.useMemo(()=>d.getTimezone(h,p),[h,d,p]),b=Ve(k=>y==null?k:d.setTimezone(h,y,k)),v=x.useMemo(()=>t||y||(l?h.getTimezone(Array.isArray(l)?l[0]:l):"default"),[t,y,l,h]),S=x.useMemo(()=>d.setTimezone(h,v,p),[d,h,v,p]),T=Ve((k,...w)=>{const j=b(k);g(j),u?.(j,...w)});return{value:S,handleValueChange:T,timezone:v}};function Ez(e){const{props:t,valueManager:s,validator:a}=e,{value:l,defaultValue:u,onChange:d,referenceDate:h,timezone:p,onAccept:g,closeOnSelect:y,open:b,onOpen:v,onClose:S}=t,{current:T}=x.useRef(u),{current:k}=x.useRef(l!==void 0),{current:w}=x.useRef(b!==void 0),j=Kt(),{timezone:E,value:M,handleValueChange:W}=ru({name:"a picker component",timezone:p,value:l,defaultValue:T,referenceDate:h,onChange:d,valueManager:s}),[O,R]=x.useState(()=>({open:!1,lastExternalValue:M,clockShallowValue:void 0,lastCommittedValue:M,hasBeenModifiedSinceMount:!1})),{getValidationErrorForNewValue:_}=oD({props:t,validator:a,timezone:E,value:M,onError:t.onError}),L=Ve(z=>{const ce=typeof z=="function"?z(O.open):z;w||R(U=>K({},U,{open:ce})),ce&&v&&v(),ce||S?.()}),I=Ve((z,ce)=>{const{changeImportance:U="accept",skipPublicationIfPristine:ie=!1,validationError:V,shortcut:q,shouldClose:le=U==="accept"}=ce??{};let pe,ke;!ie&&!k&&!O.hasBeenModifiedSinceMount?(pe=!0,ke=U==="accept"):(pe=!s.areValuesEqual(j,z,M),ke=U==="accept"&&!s.areValuesEqual(j,z,O.lastCommittedValue)),R(ee=>K({},ee,{clockShallowValue:pe?void 0:ee.clockShallowValue,lastCommittedValue:ke?z:ee.lastCommittedValue,hasBeenModifiedSinceMount:!0}));let be=null;const Q=()=>(be||(be={validationError:V??_(z)},q&&(be.shortcut=q)),be);pe&&W(z,Q()),ke&&g&&g(z,Q()),le&&L(!1)});M!==O.lastExternalValue&&R(z=>K({},z,{lastExternalValue:M,clockShallowValue:void 0,hasBeenModifiedSinceMount:!0}));const F=Ve((z,ce="partial")=>{if(ce==="shallow"){R(U=>K({},U,{clockShallowValue:z,hasBeenModifiedSinceMount:!0}));return}I(z,{changeImportance:ce==="finish"&&y?"accept":"set"})});x.useEffect(()=>{if(w){if(b===void 0)throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");R(z=>K({},z,{open:b}))}},[w,b]);const B=x.useMemo(()=>s.cleanValue(j,O.clockShallowValue===void 0?M:O.clockShallowValue),[j,s,O.clockShallowValue,M]);return{timezone:E,state:O,setValue:I,setValueFromView:F,setOpen:L,value:M,viewValue:B}}const Mz=["className","sx"],fD=({ref:e,props:t,valueManager:s,valueType:a,variant:l,validator:u,onPopperExited:d,autoFocusView:h,rendererInterceptor:p,localeText:g,viewContainerRole:y,getStepNavigation:b})=>{const{views:v,view:S,openTo:T,onViewChange:k,viewRenderers:w,reduceAnimations:j,orientation:E,disableOpenPicker:M,closeOnSelect:W,disabled:O,readOnly:R,formatDensity:_,enableAccessibleFieldDOMStructure:L,selectedSections:I,onSelectedSectionsChange:F,format:B,label:z,autoFocus:ce,name:U}=t,{className:ie,sx:V}=t,q=ft(t,Mz),le=Wg(),pe=Kt(),ke=uD(j),be=Dz(v,E),{current:Q}=x.useRef(T??null),[ee,ue]=x.useState(null),me=x.useRef(null),ge=x.useRef(null),ae=x.useRef(null),Y=xs(e,ae),{timezone:oe,state:G,setOpen:he,setValue:ve,setValueFromView:Oe,value:fe,viewValue:te}=Ez({props:t,valueManager:s,validator:u}),{view:J,setView:Re,defaultView:Fe,focusedView:Ee,setFocusedView:we,setValueAndGoToNextView:We,goToNextStep:X,hasNextStep:Te,hasSeveralSteps:De}=hD({view:S,views:v,openTo:T,onChange:Oe,onViewChange:k,autoFocus:h,getStepNavigation:b}),Me=Ve(()=>ve(s.emptyValue)),Le=Ve(()=>ve(s.getTodayValue(pe,oe,a))),qe=Ve(()=>ve(fe)),xt=Ve(()=>ve(G.lastCommittedValue,{skipPublicationIfPristine:!0})),He=Ve(()=>{ve(fe,{skipPublicationIfPristine:!0})}),{hasUIView:Qe,viewModeLookup:rt,timeViewsCount:dt}=x.useMemo(()=>v.reduce((nt,Dn)=>{const ln=w[Dn]==null?"field":"UI";return nt.viewModeLookup[Dn]=ln,ln==="UI"&&(nt.hasUIView=!0,S6(Dn)&&(nt.timeViewsCount+=1)),nt},{hasUIView:!1,viewModeLookup:{},timeViewsCount:0}),[w,v]),bt=rt[J],Ye=Ve(()=>bt),[mt,Pe]=x.useState(bt==="UI"?J:null);mt!==J&&rt[J]==="UI"&&Pe(J),ea(()=>{bt==="field"&&G.open&&(he(!1),setTimeout(()=>{ge?.current?.setSelectedSections(J),ge?.current?.focusField(J)}))},[J]),ea(()=>{if(!G.open)return;let nt=J;bt==="field"&&mt!=null&&(nt=mt),nt!==Fe&&rt[nt]==="UI"&&rt[Fe]==="UI"&&(nt=Fe),nt!==J&&Re(nt),we(nt,!0)},[G.open]);const _e=x.useMemo(()=>({isPickerValueEmpty:s.areValuesEqual(pe,fe,s.emptyValue),isPickerOpen:G.open,isPickerDisabled:t.disabled??!1,isPickerReadOnly:t.readOnly??!1,pickerOrientation:be,pickerVariant:l}),[pe,s,fe,G.open,be,l,t.disabled,t.readOnly]),Je=x.useMemo(()=>M||!Qe?"hidden":O||R?"disabled":"enabled",[M,Qe,O,R]),Xe=Ve(X),lt=x.useMemo(()=>W&&!De?[]:["cancel","nextOrAccept"],[W,De]),It=x.useMemo(()=>({setValue:ve,setOpen:he,clearValue:Me,setValueToToday:Le,acceptValueChanges:qe,cancelValueChanges:xt,setView:Re,goToNextStep:Xe}),[ve,he,Me,Le,qe,xt,Re,Xe]),Nt=x.useMemo(()=>K({},It,{value:fe,timezone:oe,open:G.open,views:v,view:mt,initialView:Q,disabled:O??!1,readOnly:R??!1,autoFocus:ce??!1,variant:l,orientation:be,popupRef:me,reduceAnimations:ke,triggerRef:ue,triggerStatus:Je,hasNextStep:Te,fieldFormat:B??"",name:U,label:z,rootSx:V,rootRef:Y,rootClassName:ie}),[It,fe,Y,l,be,ke,O,R,B,ie,U,z,V,Je,Te,oe,G.open,mt,v,Q,ce]),Qt=x.useMemo(()=>({dismissViews:He,ownerState:_e,hasUIView:Qe,getCurrentViewMode:Ye,rootRefObject:ae,labelId:le,triggerElement:ee,viewContainerRole:y,defaultActionBarActions:lt,onPopperExited:d}),[He,_e,Qe,Ye,le,ee,y,lt,d]),Fn=x.useMemo(()=>({formatDensity:_,enableAccessibleFieldDOMStructure:L,selectedSections:I,onSelectedSectionsChange:F,fieldRef:ge}),[_,L,I,F,ge]);return{providerProps:{localeText:g,contextValue:Nt,privateContextValue:Qt,actionsContextValue:It,fieldPrivateContextValue:Fn,isValidContextValue:nt=>{const Dn=u({adapter:pe,value:nt,timezone:oe,props:t});return!s.hasError(Dn)}},renderCurrentView:()=>{if(mt==null)return null;const nt=w[mt];if(nt==null)return null;const Dn=K({},q,{views:v,timezone:oe,value:te,onChange:We,view:mt,onViewChange:Re,showViewSwitcher:dt>1,timeViewsCount:dt},y==="tooltip"?{focusedView:null,onFocusedViewChange:()=>{}}:{focusedView:Ee,onFocusedViewChange:we});return p?r.jsx(p,{viewRenderers:w,popperView:mt,rendererProps:Dn}):nt(Dn)},ownerState:_e}};function pD(e){return Ln("MuiPickersLayout",e)}const fr=zn("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),Az=["actions"],Pz=$e(Nn,{name:"MuiPickersLayout",slot:"ActionBar"})({});function Oz(e){const{actions:t}=e,s=ft(e,Az),a=qa(),{clearValue:l,setValueToToday:u,acceptValueChanges:d,cancelValueChanges:h,goToNextStep:p,hasNextStep:g}=cl();if(t==null||t.length===0)return null;const y=t?.map(b=>{switch(b){case"clear":return r.jsx(Ae,{onClick:l,children:a.clearButtonLabel},b);case"cancel":return r.jsx(Ae,{onClick:h,children:a.cancelButtonLabel},b);case"accept":return r.jsx(Ae,{onClick:d,children:a.okButtonLabel},b);case"today":return r.jsx(Ae,{onClick:u,children:a.todayButtonLabel},b);case"next":return r.jsx(Ae,{onClick:p,children:a.nextStepButtonLabel},b);case"nextOrAccept":return g?r.jsx(Ae,{onClick:p,children:a.nextStepButtonLabel},b):r.jsx(Ae,{onClick:d,children:a.okButtonLabel},b);default:return null}});return r.jsx(Pz,K({},s,{children:y}))}const Rz=x.memo(Oz),Bc=36,Rh=2,_h=320,_z=280,sx=336,Iz=["items","changeImportance"],Wz=["getValue"],Nz=$e(Xn,{name:"MuiPickersLayout",slot:"Shortcuts"})({});function Lz(e){const{items:t,changeImportance:s="accept"}=e,a=ft(e,Iz),{setValue:l}=tz(),u=z6();if(t==null||t.length===0)return null;const d=t.map(h=>{let{getValue:p}=h,g=ft(h,Wz);const y=p({isValid:u});return K({},g,{label:g.label,onClick:()=>{l(y,{changeImportance:s,shortcut:g})},disabled:!u(y)})});return r.jsx(Nz,K({dense:!0,sx:[{maxHeight:sx,maxWidth:200,overflow:"auto"},...Array.isArray(a.sx)?a.sx:[a.sx]]},a,{children:d.map(h=>r.jsx(ht,{children:r.jsx(yt,K({},h))},h.id??h.label))}))}const zz=["ownerState"];function Bz(e){return e.view!==null}const Vz=(e,t)=>{const{pickerOrientation:s}=t;return xn({root:["root",s==="landscape"&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},pD,e)},Fz=e=>{const{ownerState:t,defaultActionBarActions:s}=Qn(),{view:a}=cl(),l=ia(),{children:u,slots:d,slotProps:h,classes:p}=e,g=x.useMemo(()=>K({},t,{layoutDirection:l?"rtl":"ltr",hasShortcuts:!1}),[t,l]),y=Vz(p,g),b=d?.actionBar??Rz,v=Wt({elementType:b,externalSlotProps:h?.actionBar,additionalProps:{actions:s},className:y.actionBar,ownerState:g}),S=ft(v,zz),T=r.jsx(b,K({},S)),k=d?.toolbar,w=Wt({elementType:k,externalSlotProps:h?.toolbar,className:y.toolbar,ownerState:g}),j=Bz(w)&&k?r.jsx(k,K({},w)):null,E=u,M=d?.tabs,W=a&&M?r.jsx(M,K({className:y.tabs},h?.tabs)):null,O=d?.shortcuts??Lz,R=Wt({elementType:O,externalSlotProps:h?.shortcuts,className:y.shortcuts,ownerState:g}),_=Array.isArray(R?.items)&&R.items.length>0,L=a&&O?r.jsx(O,K({},R)):null;return{toolbar:j,content:E,tabs:W,actionBar:T,shortcuts:L,ownerState:K({},g,{hasShortcuts:_})}},Hz=(e,t)=>{const{pickerOrientation:s}=t;return xn({root:["root",s==="landscape"&&"landscape"],contentWrapper:["contentWrapper"]},pD,e)},Uz=$e("div",{name:"MuiPickersLayout",slot:"Root"})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${fr.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{pickerOrientation:"landscape",hasShortcuts:!1},style:{[`& .${fr.toolbar}`]:{gridColumn:1,gridRow:"1 / 3"}}},{props:{pickerOrientation:"landscape",hasShortcuts:!0},style:{[`& .${fr.toolbar}`]:{gridColumn:"2 / 4",gridRow:1,maxWidth:"max-content"},[`& .${fr.shortcuts}`]:{gridColumn:1,gridRow:2}}},{props:{pickerOrientation:"portrait"},style:{[`& .${fr.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${fr.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{hasShortcuts:!0,layoutDirection:"rtl"},style:{[`& .${fr.shortcuts}`]:{gridColumn:4}}}]}),qz=$e("div",{name:"MuiPickersLayout",slot:"ContentWrapper"})({gridColumn:"2 / 4",gridRow:2,display:"flex",flexDirection:"column"}),mD=x.forwardRef(function(t,s){const a=hn({props:t,name:"MuiPickersLayout"}),{toolbar:l,content:u,tabs:d,actionBar:h,shortcuts:p,ownerState:g}=Fz(a),{orientation:y,variant:b}=cl(),{sx:v,className:S,classes:T}=a,k=Hz(T,g);return r.jsxs(Uz,{ref:s,sx:v,className:$n(k.root,S),ownerState:g,children:[y==="landscape"?p:l,y==="landscape"?l:p,r.jsx(qz,{className:k.contentWrapper,ownerState:g,children:b==="desktop"?r.jsxs(x.Fragment,{children:[u,d]}):r.jsxs(x.Fragment,{children:[d,u]})}),h]})});function gD(e){const{steps:t}=e;return Tz({steps:t,isViewMatchingStep:(s,a)=>a.views==null||a.views.includes(s),onStepChange:({step:s,defaultView:a,setView:l,view:u,views:d})=>{const h=s.views==null?a:s.views.find(p=>d.includes(p));h!==u&&l(h)}})}const Yz=["props","steps"],Gz=["ownerState"],$z=e=>{let{props:t,steps:s}=e,a=ft(e,Yz);const{slots:l,slotProps:u,label:d,inputRef:h,localeText:p}=t,g=gD({steps:s}),{providerProps:y,renderCurrentView:b,ownerState:v}=fD(K({},a,{props:t,localeText:p,autoFocusView:!0,viewContainerRole:"dialog",variant:"desktop",getStepNavigation:g})),S=y.privateContextValue.labelId,T=u?.toolbar?.hidden??!1,k=l.field,w=Wt({elementType:k,externalSlotProps:u?.field,additionalProps:K({},T&&{id:S}),ownerState:v}),j=ft(w,Gz),E=l.layout??mD;let M=S;T&&(d?M=`${S}-label`:M=void 0);const W=K({},u,{toolbar:K({},u?.toolbar,{titleId:S}),popper:K({"aria-labelledby":M},u?.popper)});return{renderPicker:()=>r.jsxs(tD,K({},y,{children:[r.jsx(k,K({},j,{slots:l,slotProps:W,inputRef:h})),r.jsx(Cz,{slots:l,slotProps:W,children:r.jsx(E,K({},W?.layout,{slots:l,slotProps:W,children:b()}))})]}))}},To=e=>e.saveQuery!=null,yD=({stateResponse:{localizedDigits:e,sectionsValueBoundaries:t,state:s,timezone:a,setCharacterQuery:l,setTempAndroidValueStr:u,updateSectionValue:d}})=>{const h=Kt(),p=({keyPressed:b,sectionIndex:v},S,T)=>{const k=b.toLowerCase(),w=s.sections[v];if(s.characterQuery!=null&&(!T||T(s.characterQuery.value))&&s.characterQuery.sectionIndex===v){const E=`${s.characterQuery.value}${k}`,M=S(E,w);if(!To(M))return l({sectionIndex:v,value:E,sectionType:w.type}),M}const j=S(k,w);return To(j)&&!j.saveQuery?(l(null),null):(l({sectionIndex:v,value:k,sectionType:w.type}),To(j)?null:j)},g=b=>{const v=(k,w,j)=>{const E=w.filter(M=>M.toLowerCase().startsWith(j));return E.length===0?{saveQuery:!1}:{sectionValue:E[0],shouldGoToNextSection:E.length===1}},S=(k,w,j,E)=>{const M=W=>GT(h,a,w.type,W);if(w.contentType==="letter")return v(w.format,M(w.format),k);if(j&&E!=null&&YT(h,j).contentType==="letter"){const W=M(j),O=v(j,W,k);return To(O)?{saveQuery:!1}:K({},O,{sectionValue:E(O.sectionValue,W)})}return{saveQuery:!1}};return p(b,(k,w)=>{switch(w.type){case"month":{const j=E=>j1(h,E,h.formats.month,w.format);return S(k,w,h.formats.month,j)}case"weekDay":{const j=(E,M)=>M.indexOf(E).toString();return S(k,w,h.formats.weekday,j)}case"meridiem":return S(k,w);default:return{saveQuery:!1}}})},y=b=>{const v=({queryValue:T,skipIfBelowMinimum:k,section:w})=>{const j=Or(T,e),E=Number(j),M=t[w.type]({currentDate:null,format:w.format,contentType:w.contentType});if(E>M.maximum)return{saveQuery:!1};if(k&&E<M.minimum)return{saveQuery:!0};const W=E*10>M.maximum||j.length===M.maximum.toString().length;return{sectionValue:$T(h,E,M,e,w),shouldGoToNextSection:W}};return p(b,(T,k)=>{if(k.contentType==="digit"||k.contentType==="digit-with-letter")return v({queryValue:T,skipIfBelowMinimum:!1,section:k});if(k.type==="month"){KT(h,"digit","month","MM");const w=v({queryValue:T,skipIfBelowMinimum:!0,section:{type:k.type,format:"MM",hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2}});if(To(w))return w;const j=j1(h,w.sectionValue,"MM",k.format);return K({},w,{sectionValue:j})}if(k.type==="weekDay"){const w=v({queryValue:T,skipIfBelowMinimum:!0,section:k});if(To(w))return w;const j=Ah(h,k.format)[Number(w.sectionValue)-1];return K({},w,{sectionValue:j})}return{saveQuery:!1}},T=>C1(T,e))};return Ve(b=>{const v=s.sections[b.sectionIndex],T=C1(b.keyPressed,e)?y(K({},b,{keyPressed:Xy(b.keyPressed,e)})):g(b);if(T==null){u(null);return}d({section:v,newSectionValue:T.sectionValue,shouldGoToNextSection:T.shouldGoToNextSection})})},Kz=5e3,xD=e=>{const t=Kt(),s=qa(),a=ia(),{manager:{validator:l,valueType:u,internal_valueManager:d,internal_fieldValueManager:h},internalPropsWithDefaults:p,internalPropsWithDefaults:{value:g,defaultValue:y,referenceDate:b,onChange:v,format:S,formatDensity:T="dense",selectedSections:k,onSelectedSectionsChange:w,shouldRespectLeadingZeros:j=!1,timezone:E,enableAccessibleFieldDOMStructure:M=!0},forwardedProps:{error:W}}=e,{value:O,handleValueChange:R,timezone:_}=ru({name:"a field component",timezone:E,value:g,defaultValue:y,referenceDate:b,onChange:v,valueManager:d}),L=x.useRef(O);x.useEffect(()=>{L.current=O},[O]);const{hasValidationError:I}=oD({props:p,validator:l,timezone:_,value:O,onError:p.onError}),F=x.useMemo(()=>W!==void 0?W:I,[I,W]),B=x.useMemo(()=>T6(t),[t]),z=x.useMemo(()=>P6(t,B,_),[t,B,_]),ce=x.useCallback(J=>h.getSectionsFromValue(J,Re=>D1({adapter:t,localeText:s,localizedDigits:B,format:S,date:Re,formatDensity:T,shouldRespectLeadingZeros:j,enableAccessibleFieldDOMStructure:M,isRtl:a})),[h,S,s,B,a,j,t,T,M]),[U,ie]=x.useState(()=>{const J=ce(O),Re={sections:J,lastExternalValue:O,lastSectionsDependencies:{format:S,isRtl:a,locale:t.locale},tempValueStrAndroid:null,characterQuery:null},Fe=C6(J),Ee=d.getInitialReferenceValue({referenceDate:b,value:O,adapter:t,props:p,granularity:Fe,timezone:_});return K({},Re,{referenceValue:Ee})}),[V,q]=Qo({controlled:k,default:null,name:"useField",state:"selectedSections"}),le=J=>{q(J),w?.(J)},pe=x.useMemo(()=>pg(V,U.sections),[V,U.sections]),ke=pe==="all"?0:pe,be=x.useMemo(()=>_6(U.sections,a&&!M),[U.sections,a,M]),Q=x.useMemo(()=>U.sections.every(J=>J.value===""),[U.sections]),ee=J=>{const Re={validationError:l({adapter:t,value:J,timezone:_,props:p})};R(J,Re)},ue=(J,Re)=>{const Fe=[...U.sections];return Fe[J]=K({},Fe[J],{value:Re,modified:!0}),Fe},me=x.useRef(null),ge=Bo(),ae=J=>{ke!=null&&(me.current={sectionIndex:ke,value:J},ge.start(0,()=>{me.current=null}))},Y=()=>{d.areValuesEqual(t,O,d.emptyValue)?ie(J=>K({},J,{sections:J.sections.map(Re=>K({},Re,{value:""})),tempValueStrAndroid:null,characterQuery:null})):(ie(J=>K({},J,{characterQuery:null})),ee(d.emptyValue))},oe=()=>{if(ke==null)return;const J=U.sections[ke];J.value!==""&&(ae(""),h.getDateFromSection(O,J)===null?ie(Re=>K({},Re,{sections:ue(ke,""),tempValueStrAndroid:null,characterQuery:null})):(ie(Re=>K({},Re,{characterQuery:null})),ee(h.updateDateInValue(O,J,null))))},G=J=>{const Re=(Ee,we)=>{const We=t.parse(Ee,S);if(!t.isValid(We))return null;const X=D1({adapter:t,localeText:s,localizedDigits:B,format:S,date:We,formatDensity:T,shouldRespectLeadingZeros:j,enableAccessibleFieldDOMStructure:M,isRtl:a});return T1(t,We,X,we,!1)},Fe=h.parseValueStr(J,U.referenceValue,Re);ee(Fe)},he=Bo(),ve=({section:J,newSectionValue:Re,shouldGoToNextSection:Fe})=>{ge.clear(),he.clear();const Ee=h.getDateFromSection(O,J);Fe&&ke<U.sections.length-1&&le(ke+1);const we=ue(ke,Re),We=h.getDateSectionsFromValue(we,J),X=E6(t,We,B);if(t.isValid(X)){const Te=T1(t,X,We,h.getDateFromSection(U.referenceValue,J),!0);return Ee==null&&he.start(0,()=>{L.current===O&&ie(De=>K({},De,{sections:h.clearDateSections(U.sections,J),tempValueStrAndroid:null}))}),ee(h.updateDateInValue(O,J,Te))}return We.every(Te=>Te.value!=="")&&(Ee==null||t.isValid(Ee))?(ae(Re),ee(h.updateDateInValue(O,J,X))):Ee!=null?(ae(Re),ee(h.updateDateInValue(O,J,null))):ie(Te=>K({},Te,{sections:we,tempValueStrAndroid:null}))},Oe=J=>ie(Re=>K({},Re,{tempValueStrAndroid:J})),fe=Ve(J=>{ie(Re=>K({},Re,{characterQuery:J}))});if(O!==U.lastExternalValue){const J=me.current!=null&&!t.isValid(h.getDateFromSection(O,U.sections[me.current.sectionIndex]));let Re;J?Re=ue(me.current.sectionIndex,me.current.value):Re=ce(O),ie(Fe=>K({},Fe,{lastExternalValue:O,sections:Re,sectionsDependencies:{format:S,isRtl:a,locale:t.locale},referenceValue:J?Fe.referenceValue:h.updateReferenceValue(t,O,Fe.referenceValue),tempValueStrAndroid:null}))}if(a!==U.lastSectionsDependencies.isRtl||S!==U.lastSectionsDependencies.format||t.locale!==U.lastSectionsDependencies.locale){const J=ce(O);ie(Re=>K({},Re,{lastSectionsDependencies:{format:S,isRtl:a,locale:t.locale},sections:J,tempValueStrAndroid:null,characterQuery:null}))}U.characterQuery!=null&&!F&&ke==null&&fe(null),U.characterQuery!=null&&U.sections[U.characterQuery.sectionIndex]?.type!==U.characterQuery.sectionType&&fe(null),x.useEffect(()=>{me.current!=null&&(me.current=null)});const te=Bo();return x.useEffect(()=>(U.characterQuery!=null&&te.start(Kz,()=>fe(null)),()=>{}),[U.characterQuery,fe,te]),x.useEffect(()=>{U.tempValueStrAndroid!=null&&ke!=null&&oe()},[U.sections]),{activeSectionIndex:ke,areAllSectionsEmpty:Q,error:F,localizedDigits:B,parsedSelectedSections:pe,sectionOrder:be,sectionsValueBoundaries:z,state:U,timezone:_,value:O,clearValue:Y,clearActiveSection:oe,setCharacterQuery:fe,setSelectedSections:le,setTempAndroidValueStr:Oe,updateSectionValue:ve,updateValueFromValueStr:G,getSectionsFromValue:ce}};function bD(e){const{manager:{internal_useApplyDefaultValuesToFieldInternalProps:t},internalProps:s,skipContextFieldRefAssignment:a}=e,l=nx(),u=ZT(),d=xs(s.unstableFieldRef,a?null:u?.fieldRef),h=l?.setValue,p=x.useCallback((y,b)=>h?.(y,{validationError:b.validationError,shouldClose:!1}),[h]),g=x.useMemo(()=>u!=null&&l!=null?K({value:l.value,onChange:p,timezone:l.timezone,disabled:l.disabled,readOnly:l.readOnly,autoFocus:l.autoFocus&&!l.open,focused:l.open?!0:void 0,format:l.fieldFormat,formatDensity:u.formatDensity,enableAccessibleFieldDOMStructure:u.enableAccessibleFieldDOMStructure,selectedSections:u.selectedSections,onSelectedSectionsChange:u.onSelectedSectionsChange,unstableFieldRef:d},s):s,[l,u,s,p,d]);return t(g)}function ix(e){const{focused:t,domGetters:s,stateResponse:{parsedSelectedSections:a,state:l}}=e;if(!s.isReady())return;const u=mc(s.getRoot()).getSelection();if(!u)return;if(a==null){u.rangeCount>0&&u.getRangeAt(0).startContainer instanceof Node&&s.getRoot().contains(u.getRangeAt(0).startContainer)&&u.removeAllRanges(),t&&s.getRoot().blur();return}if(!s.getRoot().contains(ss(s.getRoot())))return;const d=new window.Range;let h;a==="all"?h=s.getRoot():l.sections[a].type==="empty"?h=s.getSectionContainer(a):h=s.getSectionContent(a),d.selectNodeContents(h),h.focus(),u.removeAllRanges(),u.addRange(d)}function vD(e){const t=Kt(),{manager:{internal_fieldValueManager:s},internalPropsWithDefaults:{minutesStep:a,disabled:l,readOnly:u},stateResponse:{state:d,value:h,activeSectionIndex:p,parsedSelectedSections:g,sectionsValueBoundaries:y,localizedDigits:b,timezone:v,sectionOrder:S,clearValue:T,clearActiveSection:k,setSelectedSections:w,updateSectionValue:j}}=e;return Ve(E=>{if(!l)switch(!0){case((E.ctrlKey||E.metaKey)&&String.fromCharCode(E.keyCode)==="A"&&!E.shiftKey&&!E.altKey):{E.preventDefault(),w("all");break}case E.key==="ArrowRight":{if(E.preventDefault(),g==null)w(S.startIndex);else if(g==="all")w(S.endIndex);else{const M=S.neighbors[g].rightIndex;M!==null&&w(M)}break}case E.key==="ArrowLeft":{if(E.preventDefault(),g==null)w(S.endIndex);else if(g==="all")w(S.startIndex);else{const M=S.neighbors[g].leftIndex;M!==null&&w(M)}break}case E.key==="Delete":{if(E.preventDefault(),u)break;g==null||g==="all"?T():k();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(E.key):{if(E.preventDefault(),u||p==null)break;g==="all"&&w(p);const M=d.sections[p],W=Xz(t,v,M,E.key,y,b,s.getDateFromSection(h,M),{minutesStep:a});j({section:M,newSectionValue:W,shouldGoToNextSection:!1});break}}})}function Qz(e){switch(e){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}}function Xz(e,t,s,a,l,u,d,h){const p=Qz(a),g=a==="Home",y=a==="End",b=s.value===""||g||y,v=()=>{const T=l[s.type]({currentDate:d,format:s.format,contentType:s.contentType}),k=E=>$T(e,E,T,u,s),w=s.type==="minutes"&&h?.minutesStep?h.minutesStep:1;let j;if(b){if(s.type==="year"&&!y&&!g)return e.formatByString(e.date(void 0,t),s.format);p>0||g?j=T.minimum:j=T.maximum}else j=parseInt(Or(s.value,u),10)+p*w;return j%w!==0&&((p<0||g)&&(j+=w-(w+j)%w),(p>0||y)&&(j-=j%w)),j>T.maximum?k(T.minimum+(j-T.maximum-1)%(T.maximum-T.minimum+1)):j<T.minimum?k(T.maximum-(T.minimum-j-1)%(T.maximum-T.minimum+1)):k(j)},S=()=>{const T=GT(e,t,s.type,s.format);if(T.length===0)return s.value;if(b)return p>0||g?T[0]:T[T.length-1];const j=((T.indexOf(s.value)+p)%T.length+T.length)%T.length;return T[j]};return s.contentType==="digit"||s.contentType==="digit-with-letter"?v():S()}function Zz(e){const{manager:t,focused:s,setFocused:a,domGetters:l,stateResponse:u,applyCharacterEditing:d,internalPropsWithDefaults:h,stateResponse:{parsedSelectedSections:p,sectionOrder:g,state:y,clearValue:b,setCharacterQuery:v,setSelectedSections:S,updateValueFromValueStr:T},internalPropsWithDefaults:{disabled:k=!1,readOnly:w=!1}}=e,j=vD({manager:t,internalPropsWithDefaults:h,stateResponse:u}),E=Bo(),M=Ve(L=>{k||!l.isReady()||(a(!0),p==="all"?E.start(0,()=>{const I=document.getSelection().getRangeAt(0).startOffset;if(I===0){S(g.startIndex);return}let F=0,B=0;for(;B<I&&F<y.sections.length;){const z=y.sections[F];F+=1,B+=`${z.startSeparator}${z.value||z.placeholder}${z.endSeparator}`.length}S(F-1)}):s?l.getRoot().contains(L.target)||S(g.startIndex):(a(!0),S(g.startIndex)))}),W=Ve(L=>{if(!l.isReady()||p!=="all")return;const F=L.target.textContent??"";l.getRoot().innerHTML=y.sections.map(B=>`${B.startSeparator}${B.value||B.placeholder}${B.endSeparator}`).join(""),ix({focused:s,domGetters:l,stateResponse:u}),F.length===0||F.charCodeAt(0)===10?(b(),S("all")):F.length>1?T(F):(p==="all"&&S(0),d({keyPressed:F,sectionIndex:0}))}),O=Ve(L=>{if(w||p!=="all"){L.preventDefault();return}const I=L.clipboardData.getData("text");L.preventDefault(),v(null),T(I)}),R=Ve(()=>{if(s||k||!l.isReady())return;const L=ss(l.getRoot());a(!0),l.getSectionIndexFromDOMElement(L)!=null||S(g.startIndex)}),_=Ve(()=>{setTimeout(()=>{if(!l.isReady())return;const L=ss(l.getRoot());!l.getRoot().contains(L)&&(a(!1),S(null))})});return{onKeyDown:j,onBlur:_,onFocus:R,onClick:M,onPaste:O,onInput:W,contentEditable:p==="all",tabIndex:h.disabled||p===0?-1:0}}function Jz(e){const{manager:{internal_fieldValueManager:t},stateResponse:{areAllSectionsEmpty:s,state:a,updateValueFromValueStr:l}}=e,u=Ve(h=>{l(h.target.value)});return{value:x.useMemo(()=>s?"":t.getV7HiddenInputValueFromSections(a.sections),[s,a.sections,t]),onChange:u}}function eB(e){const{stateResponse:{setSelectedSections:t},internalPropsWithDefaults:{disabled:s=!1}}=e,a=x.useCallback(l=>u=>{s||u.isDefaultPrevented()||t(l)},[s,t]);return x.useCallback(l=>({"data-sectionindex":l,onClick:a(l)}),[a])}function tB(e){const t=Kt(),s=qa(),{focused:a,domGetters:l,stateResponse:u,applyCharacterEditing:d,manager:{internal_fieldValueManager:h},stateResponse:{parsedSelectedSections:p,sectionsValueBoundaries:g,state:y,value:b,clearActiveSection:v,setCharacterQuery:S,setSelectedSections:T,updateSectionValue:k,updateValueFromValueStr:w},internalPropsWithDefaults:{disabled:j=!1,readOnly:E=!1}}=e,M=p==="all",W=!M&&!j&&!E,O=Ve(B=>{if(!l.isReady())return;const z=y.sections[B];l.getSectionContent(B).innerHTML=z.value||z.placeholder,ix({focused:a,domGetters:l,stateResponse:u})}),R=Ve(B=>{if(!l.isReady())return;const z=B.target,ce=z.textContent??"",U=l.getSectionIndexFromDOMElement(z),ie=y.sections[U];if(E){O(U);return}if(ce.length===0){if(ie.value===""){O(U);return}const V=B.nativeEvent.inputType;if(V==="insertParagraph"||V==="insertLineBreak"){O(U);return}O(U),v();return}d({keyPressed:ce,sectionIndex:U}),O(U)}),_=Ve(B=>{B.preventDefault()}),L=Ve(B=>{if(B.preventDefault(),E||j||typeof p!="number")return;const z=y.sections[p],ce=B.clipboardData.getData("text"),U=/^[a-zA-Z]+$/.test(ce),ie=/^[0-9]+$/.test(ce),V=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(ce);z.contentType==="letter"&&U||z.contentType==="digit"&&ie||z.contentType==="digit-with-letter"&&V?(S(null),k({section:z,newSectionValue:ce,shouldGoToNextSection:!0})):!U&&!ie&&(S(null),w(ce))}),I=Ve(B=>{B.preventDefault(),B.dataTransfer.dropEffect="none"}),F=x.useCallback(B=>()=>{j||T(B)},[j,T]);return x.useCallback((B,z)=>{const ce=g[B.type]({currentDate:h.getDateFromSection(b,B),contentType:B.contentType,format:B.format});return{onInput:R,onPaste:L,onMouseUp:_,onDragOver:I,onFocus:F(z),"aria-readonly":E,"aria-valuenow":sB(B,t),"aria-valuemin":ce.minimum,"aria-valuemax":ce.maximum,"aria-valuetext":B.value?nB(B,t):s.empty,"aria-label":s[B.type],"aria-disabled":j,tabIndex:!W||M||z>0?-1:0,contentEditable:!M&&!j&&!E,role:"spinbutton","data-range-position":B.dateName||void 0,spellCheck:W?!1:void 0,autoCapitalize:W?"none":void 0,autoCorrect:W?"off":void 0,children:B.value||B.placeholder,inputMode:B.contentType==="letter"?"text":"numeric"}},[g,M,j,E,W,s,t,R,L,_,I,F,h,b])}function nB(e,t){if(e.value)switch(e.type){case"month":{if(e.contentType==="digit"){const a=t.setMonth(t.date(),Number(e.value)-1);return t.isValid(a)?t.format(a,"month"):""}const s=t.parse(e.value,e.format);return s&&t.isValid(s)?t.format(s,"month"):void 0}case"day":if(e.contentType==="digit"){const s=t.setDate(t.startOfYear(t.date()),Number(e.value));return t.isValid(s)?t.format(s,"dayOfMonthFull"):""}return e.value;case"weekDay":return;default:return}}function sB(e,t){if(e.value)switch(e.type){case"weekDay":return e.contentType==="letter"?void 0:Number(e.value);case"meridiem":{const s=t.parse(`01:00 ${e.value}`,`${t.formats.hours12h}:${t.formats.minutes} ${e.format}`);return s?t.getHours(s)>=12?1:0:void 0}case"day":return e.contentType==="digit-with-letter"?parseInt(e.value,10):Number(e.value);case"month":{if(e.contentType==="digit")return Number(e.value);const s=t.parse(e.value,e.format);return s?t.getMonth(s)+1:void 0}default:return e.contentType!=="letter"?Number(e.value):void 0}}const iB=e=>{const{props:t,manager:s,skipContextFieldRefAssignment:a,manager:{valueType:l,internal_useOpenPickerButtonAriaLabel:u}}=e,{internalProps:d,forwardedProps:h}=rD(t,l),p=bD({manager:s,internalProps:d,skipContextFieldRefAssignment:a}),{sectionListRef:g,onBlur:y,onClick:b,onFocus:v,onInput:S,onPaste:T,onKeyDown:k,onClear:w,clearable:j}=h,{disabled:E=!1,readOnly:M=!1,autoFocus:W=!1,focused:O,unstableFieldRef:R}=p,_=x.useRef(null),L=xs(g,_),I=x.useMemo(()=>({isReady:()=>_.current!=null,getRoot:()=>_.current.getRoot(),getSectionContainer:J=>_.current.getSectionContainer(J),getSectionContent:J=>_.current.getSectionContent(J),getSectionIndexFromDOMElement:J=>_.current.getSectionIndexFromDOMElement(J)}),[_]),F=xD({manager:s,internalPropsWithDefaults:p,forwardedProps:h}),{areAllSectionsEmpty:B,error:z,parsedSelectedSections:ce,sectionOrder:U,state:ie,value:V,clearValue:q,setSelectedSections:le}=F,pe=yD({stateResponse:F}),ke=u(V),[be,Q]=x.useState(!1);function ee(J=0){if(E||!_.current||P1(_)!=null)return;const Re=pg(J,ie.sections);Q(!0),_.current.getSectionContent(Re).focus()}const ue=Zz({manager:s,internalPropsWithDefaults:p,stateResponse:F,applyCharacterEditing:pe,focused:be,setFocused:Q,domGetters:I}),me=Jz({manager:s,stateResponse:F}),ge=eB({stateResponse:F,internalPropsWithDefaults:p}),ae=tB({manager:s,stateResponse:F,applyCharacterEditing:pe,internalPropsWithDefaults:p,domGetters:I,focused:be}),Y=Ve(J=>{k?.(J),ue.onKeyDown(J)}),oe=Ve(J=>{y?.(J),ue.onBlur(J)}),G=Ve(J=>{v?.(J),ue.onFocus(J)}),he=Ve(J=>{J.isDefaultPrevented()||(b?.(J),ue.onClick(J))}),ve=Ve(J=>{T?.(J),ue.onPaste(J)}),Oe=Ve(J=>{S?.(J),ue.onInput(J)}),fe=Ve((J,...Re)=>{J.preventDefault(),w?.(J,...Re),q(),O1(_)?le(U.startIndex):ee(0)}),te=x.useMemo(()=>ie.sections.map((J,Re)=>{const Fe=ae(J,Re);return{container:ge(Re),content:ae(J,Re),before:{children:J.startSeparator},after:{children:J.endSeparator,"data-range-position":J.isEndFormatSeparator?Fe["data-range-position"]:void 0}}}),[ie.sections,ge,ae]);return x.useEffect(()=>{if(_.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please add the `enableAccessibleFieldDOMStructure={false}` prop to your Picker or Field component:","","<DatePicker enableAccessibleFieldDOMStructure={false} slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));W&&!E&&_.current&&_.current.getSectionContent(U.startIndex).focus()},[]),ea(()=>{if(!(!be||!_.current)){if(ce==="all")_.current.getRoot().focus();else if(typeof ce=="number"){const J=_.current.getSectionContent(ce);J&&J.focus()}}},[ce,be]),ea(()=>{ix({focused:be,domGetters:I,stateResponse:F})}),x.useImperativeHandle(R,()=>({getSections:()=>ie.sections,getActiveSectionIndex:()=>P1(_),setSelectedSections:J=>{if(E||!_.current)return;const Re=pg(J,ie.sections);Q((Re==="all"?0:Re)!==null),le(J)},focusField:ee,isFieldFocused:()=>O1(_)})),K({},h,ue,{onBlur:oe,onClick:he,onFocus:G,onInput:Oe,onPaste:ve,onKeyDown:Y,onClear:fe},me,{error:z,clearable:!!(j&&!B&&!M&&!E),focused:O??be,sectionListRef:L,enableAccessibleFieldDOMStructure:!0,elements:te,areAllSectionsEmpty:B,disabled:E,readOnly:M,autoFocus:W,openPickerAriaLabel:ke})};function P1(e){const t=ss(e.current?.getRoot());return!t||!e.current||!e.current.getRoot().contains(t)?null:e.current.getSectionIndexFromDOMElement(t)}function O1(e){const t=ss(e.current?.getRoot());return!!e.current&&e.current.getRoot().contains(t)}const Lo=e=>e.replace(/[\u2066\u2067\u2068\u2069]/g,""),aB=(e,t,s)=>{let a=0,l=s?1:0;const u=[];for(let d=0;d<e.length;d+=1){const h=e[d],p=Jy(h,s?"input-rtl":"input-ltr",t),g=`${h.startSeparator}${p}${h.endSeparator}`,y=Lo(g).length,b=g.length,v=Lo(p),S=l+(v===""?0:p.indexOf(v[0]))+h.startSeparator.length,T=S+v.length;u.push(K({},h,{start:a,end:a+y,startInInput:S,endInInput:T})),a+=y,l+=b}return u},rB=e=>{const t=ia(),s=Bo(),a=Bo(),{props:l,manager:u,skipContextFieldRefAssignment:d,manager:{valueType:h,internal_valueManager:p,internal_fieldValueManager:g,internal_useOpenPickerButtonAriaLabel:y}}=e,{internalProps:b,forwardedProps:v}=rD(l,h),S=bD({manager:u,internalProps:b,skipContextFieldRefAssignment:d}),{onFocus:T,onClick:k,onPaste:w,onBlur:j,onKeyDown:E,onClear:M,clearable:W,inputRef:O,placeholder:R}=v,{readOnly:_=!1,disabled:L=!1,autoFocus:I=!1,focused:F,unstableFieldRef:B}=S,z=x.useRef(null),ce=xs(O,z),U=xD({manager:u,internalPropsWithDefaults:S,forwardedProps:v}),{activeSectionIndex:ie,areAllSectionsEmpty:V,error:q,localizedDigits:le,parsedSelectedSections:pe,sectionOrder:ke,state:be,value:Q,clearValue:ee,clearActiveSection:ue,setCharacterQuery:me,setSelectedSections:ge,setTempAndroidValueStr:ae,updateSectionValue:Y,updateValueFromValueStr:oe,getSectionsFromValue:G}=U,he=yD({stateResponse:U}),ve=y(Q),Oe=x.useMemo(()=>aB(be.sections,le,t),[be.sections,le,t]);function fe(){const He=z.current.selectionStart??0;let Qe;He<=Oe[0].startInInput||He>=Oe[Oe.length-1].endInInput?Qe=1:Qe=Oe.findIndex(dt=>dt.startInInput-dt.startSeparator.length>He);const rt=Qe===-1?Oe.length-1:Qe-1;ge(rt)}function te(He=0){ss(z.current)!==z.current&&(z.current?.focus(),ge(He))}const J=Ve(He=>{T?.(He);const Qe=z.current;s.start(0,()=>{!Qe||Qe!==z.current||ie==null&&(Qe.value.length&&Number(Qe.selectionEnd)-Number(Qe.selectionStart)===Qe.value.length?ge("all"):fe())})}),Re=Ve((He,...Qe)=>{He.isDefaultPrevented()||(k?.(He,...Qe),fe())}),Fe=Ve(He=>{if(w?.(He),He.preventDefault(),_||L)return;const Qe=He.clipboardData.getData("text");if(typeof pe=="number"){const rt=be.sections[pe],dt=/^[a-zA-Z]+$/.test(Qe),bt=/^[0-9]+$/.test(Qe),Ye=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(Qe);if(rt.contentType==="letter"&&dt||rt.contentType==="digit"&&bt||rt.contentType==="digit-with-letter"&&Ye){me(null),Y({section:rt,newSectionValue:Qe,shouldGoToNextSection:!0});return}if(dt||bt)return}me(null),oe(Qe)}),Ee=Ve(He=>{j?.(He),ge(null)}),we=Ve(He=>{if(_)return;const Qe=He.target.value;if(Qe===""){ee();return}const rt=He.nativeEvent.data,dt=rt&&rt.length>1,bt=dt?rt:Qe,Ye=Lo(bt);if(pe==="all"&&ge(ie),ie==null||dt){oe(dt?rt:Ye);return}let mt;if(pe==="all"&&Ye.length===1)mt=Ye;else{const Pe=Lo(g.getV6InputValueFromSections(Oe,le,t));let _e=-1,Je=-1;for(let Nt=0;Nt<Pe.length;Nt+=1)_e===-1&&Pe[Nt]!==Ye[Nt]&&(_e=Nt),Je===-1&&Pe[Pe.length-Nt-1]!==Ye[Ye.length-Nt-1]&&(Je=Nt);const Xe=Oe[ie];if(_e<Xe.start||Pe.length-Je-1>Xe.end)return;const It=Ye.length-Pe.length+Xe.end-Lo(Xe.endSeparator||"").length;mt=Ye.slice(Xe.start+Lo(Xe.startSeparator||"").length,It)}if(mt.length===0){R6()&&ae(bt),ue();return}he({keyPressed:mt,sectionIndex:ie})}),We=Ve((He,...Qe)=>{He.preventDefault(),M?.(He,...Qe),ee(),R1(z)?ge(ke.startIndex):te(0)}),X=vD({manager:u,internalPropsWithDefaults:S,stateResponse:U}),Te=Ve(He=>{E?.(He),X(He)}),De=x.useMemo(()=>R!==void 0?R:g.getV6InputValueFromSections(G(p.emptyValue),le,t),[R,g,G,p.emptyValue,le,t]),Me=x.useMemo(()=>be.tempValueStrAndroid??g.getV6InputValueFromSections(be.sections,le,t),[be.sections,g,be.tempValueStrAndroid,le,t]);x.useEffect(()=>{z.current&&z.current===ss(z.current)&&ge("all")},[]),ea(()=>{function He(){if(!z.current)return;if(pe==null){z.current.scrollLeft&&(z.current.scrollLeft=0);return}if(z.current!==ss(z.current))return;const Qe=z.current.scrollTop;if(pe==="all")z.current.select();else{const rt=Oe[pe],dt=rt.type==="empty"?rt.startInInput-rt.startSeparator.length:rt.startInInput,bt=rt.type==="empty"?rt.endInInput+rt.endSeparator.length:rt.endInInput;(dt!==z.current.selectionStart||bt!==z.current.selectionEnd)&&z.current===ss(z.current)&&z.current.setSelectionRange(dt,bt),a.start(0,()=>{z.current&&z.current===ss(z.current)&&z.current.selectionStart===z.current.selectionEnd&&(z.current.selectionStart!==dt||z.current.selectionEnd!==bt)&&He()})}z.current.scrollTop=Qe}He()});const Le=x.useMemo(()=>ie==null||be.sections[ie].contentType==="letter"?"text":"numeric",[ie,be.sections]),xt=!(z.current&&z.current===ss(z.current))&&V;return x.useImperativeHandle(B,()=>({getSections:()=>be.sections,getActiveSectionIndex:()=>{const He=z.current.selectionStart??0,Qe=z.current.selectionEnd??0;if(He===0&&Qe===0)return null;const rt=He<=Oe[0].startInInput?1:Oe.findIndex(dt=>dt.startInInput-dt.startSeparator.length>He);return rt===-1?Oe.length-1:rt-1},setSelectedSections:He=>ge(He),focusField:te,isFieldFocused:()=>R1(z)})),K({},v,{error:q,clearable:!!(W&&!V&&!_&&!L),onBlur:Ee,onClick:Re,onFocus:J,onPaste:Fe,onKeyDown:Te,onClear:We,inputRef:ce,enableAccessibleFieldDOMStructure:!1,placeholder:De,inputMode:Le,autoComplete:"off",value:xt?"":Me,onChange:we,focused:F,disabled:L,readOnly:_,autoFocus:I,openPickerAriaLabel:ve})};function R1(e){return e.current===ss(e.current)}const oB=e=>{const t=ZT();return(e.props.enableAccessibleFieldDOMStructure??t?.enableAccessibleFieldDOMStructure??!0?iB:rB)(e)},lB=e=>{const t=cz(e);return oB({manager:t,props:e})};function ax(e){const{ownerState:t}=Qn(),s=ia();return x.useMemo(()=>K({},t,{isFieldDisabled:e.disabled??!1,isFieldReadOnly:e.readOnly??!1,isFieldRequired:e.required??!1,fieldDirection:s?"rtl":"ltr"}),[t,e.disabled,e.readOnly,e.required,s])}const cB=Fa(r.jsx("path",{d:"M7 10l5 5 5-5z"})),uB=Fa(r.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"})),dB=Fa(r.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})),hB=Fa(r.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}));Fa(r.jsxs(x.Fragment,{children:[r.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),r.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}));Fa(r.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}));Fa(r.jsxs(x.Fragment,{children:[r.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),r.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}));const fB=Fa(r.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));function pB(e){return Ln("MuiPickersTextField",e)}zn("MuiPickersTextField",["root","focused","disabled","error","required"]);function mB(e){return Ln("MuiPickersInputBase",e)}const Go=zn("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input","inputSizeSmall","activeBar"]);function gB(e){return Ln("MuiPickersSectionList",e)}const Ao=zn("MuiPickersSectionList",["root","section","sectionContent"]),yB=["slots","slotProps","elements","sectionListRef","classes"],SD=$e("div",{name:"MuiPickersSectionList",slot:"Root"})({direction:"ltr /*! @noflip */",outline:"none"}),wD=$e("span",{name:"MuiPickersSectionList",slot:"Section"})({}),CD=$e("span",{name:"MuiPickersSectionList",slot:"SectionSeparator"})({whiteSpace:"pre"}),jD=$e("span",{name:"MuiPickersSectionList",slot:"SectionContent"})({outline:"none"}),xB=e=>xn({root:["root"],section:["section"],sectionContent:["sectionContent"]},gB,e);function bB(e){const{slots:t,slotProps:s,element:a,classes:l}=e,{ownerState:u}=Qn(),d=t?.section??wD,h=Wt({elementType:d,externalSlotProps:s?.section,externalForwardedProps:a.container,className:l.section,ownerState:u}),p=t?.sectionContent??jD,g=Wt({elementType:p,externalSlotProps:s?.sectionContent,externalForwardedProps:a.content,additionalProps:{suppressContentEditableWarning:!0},className:l.sectionContent,ownerState:u}),y=t?.sectionSeparator??CD,b=Wt({elementType:y,externalSlotProps:s?.sectionSeparator,externalForwardedProps:a.before,ownerState:K({},u,{separatorPosition:"before"})}),v=Wt({elementType:y,externalSlotProps:s?.sectionSeparator,externalForwardedProps:a.after,ownerState:K({},u,{separatorPosition:"after"})}),S=x.useRef(null),T=xs(g.ref,S),k=w=>{const j=w.relatedTarget,E=w.currentTarget.closest(`.${Ao.root}`);if(E&&j instanceof Node&&E.contains(j)){w.stopPropagation();return}};return r.jsxs(d,K({},h,{children:[r.jsx(y,K({},b)),r.jsx(p,K({},g,{ref:T,onBlur:k})),r.jsx(y,K({},v))]}))}const vB=x.forwardRef(function(t,s){const a=hn({props:t,name:"MuiPickersSectionList"}),{slots:l,slotProps:u,elements:d,sectionListRef:h,classes:p}=a,g=ft(a,yB),y=xB(p),{ownerState:b}=Qn(),v=x.useRef(null),S=xs(s,v),T=j=>{if(!v.current)throw new Error(`MUI X: Cannot call sectionListRef.${j} before the mount of the component.`);return v.current};x.useImperativeHandle(h,()=>({getRoot(){return T("getRoot")},getSectionContainer(j){return T("getSectionContainer").querySelector(`.${Ao.section}[data-sectionindex="${j}"]`)},getSectionContent(j){return T("getSectionContent").querySelector(`.${Ao.section}[data-sectionindex="${j}"] .${Ao.sectionContent}`)},getSectionIndexFromDOMElement(j){const E=T("getSectionIndexFromDOMElement");if(j==null||!E.contains(j))return null;let M=null;return j.classList.contains(Ao.section)?M=j:j.classList.contains(Ao.sectionContent)&&(M=j.parentElement),M==null?null:Number(M.dataset.sectionindex)}}));const k=l?.root??SD,w=Wt({elementType:k,externalSlotProps:u?.root,externalForwardedProps:g,additionalProps:{ref:S,suppressContentEditableWarning:!0},className:y.root,ownerState:b});return r.jsx(k,K({},w,{children:w.contentEditable?d.map(({content:j,before:E,after:M})=>`${E.children}${j.children}${M.children}`).join(""):r.jsx(x.Fragment,{children:d.map((j,E)=>r.jsx(bB,{slots:l,slotProps:u,element:j,classes:y},E))})}))}),kD=x.createContext(null),Ih=()=>{const e=x.useContext(kD);if(e==null)throw new Error(["MUI X: The `usePickerTextFieldOwnerState` can only be called in components that are used inside a PickerTextField component"].join(`
`));return e},SB=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef","onFocus","onBlur","classes","ownerState"],wB=e=>Math.round(e*1e5)/1e5,Wh=$e("div",{name:"MuiPickersInputBase",slot:"Root"})(({theme:e})=>K({},e.typography.body1,{color:(e.vars||e).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${wB(.15/16)}em`,variants:[{props:{isInputInFullWidth:!0},style:{width:"100%"}}]})),rx=$e(SD,{name:"MuiPickersInputBase",slot:"SectionsContainer"})(({theme:e})=>({padding:"4px 0 5px",fontFamily:e.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{fieldDirection:"rtl"},style:{justifyContent:"end"}},{props:{inputSize:"small"},style:{paddingTop:1}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0},style:{color:"currentColor",opacity:0}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0,inputHasLabel:!1},style:e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:e.palette.mode==="light"?.42:.5}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0,inputHasLabel:!0,isLabelShrunk:!0},style:e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:e.palette.mode==="light"?.42:.5}}]})),CB=$e(wD,{name:"MuiPickersInputBase",slot:"Section"})(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"inline-block",whiteSpace:"nowrap"})),jB=$e(jD,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(e,t)=>t.content})(({theme:e})=>({fontFamily:e.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),kB=$e(CD,{name:"MuiPickersInputBase",slot:"Separator"})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),TB=$e("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(e,t)=>t.hiddenInput})(K({},zA)),DB=$e("div",{name:"MuiPickersInputBase",slot:"ActiveBar"})(({theme:e,ownerState:t})=>({display:"none",position:"absolute",height:2,bottom:2,borderTopLeftRadius:2,borderTopRightRadius:2,transition:e.transitions.create(["width","left"],{duration:e.transitions.duration.shortest}),backgroundColor:(e.vars||e).palette.primary.main,'[data-active-range-position="start"] &, [data-active-range-position="end"] &':{display:"block"},'[data-active-range-position="start"] &':{left:t.sectionOffsets[0]},'[data-active-range-position="end"] &':{left:t.sectionOffsets[1]}})),EB=(e,t)=>{const{isFieldFocused:s,isFieldDisabled:a,isFieldReadOnly:l,hasFieldError:u,inputSize:d,isInputInFullWidth:h,inputColor:p,hasStartAdornment:g,hasEndAdornment:y}=t,b={root:["root",s&&!a&&"focused",a&&"disabled",l&&"readOnly",u&&"error",h&&"fullWidth",`color${LA(p)}`,d==="small"&&"inputSizeSmall",g&&"adornedStart",y&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"],activeBar:["activeBar"]};return xn(b,mB,e)};function _1(e,t,s,a){if(e.content.id){const l=t.current?.querySelectorAll(`[data-sectionindex="${s}"] [data-range-position="${a}"]`);if(l)return Array.from(l).reduce((u,d)=>u+d.offsetWidth,0)}return 0}function MB(e,t){let s=0;if(t.current?.getAttribute("data-active-range-position")==="end")for(let l=e.length-1;l>=e.length/2;l-=1)s+=_1(e[l],t,l,"end");else for(let l=0;l<e.length/2;l+=1)s+=_1(e[l],t,l,"start");return{activeBarWidth:s,sectionOffsets:[t.current?.querySelector('[data-sectionindex="0"]')?.offsetLeft||0,t.current?.querySelector(`[data-sectionindex="${e.length/2}"]`)?.offsetLeft||0]}}const ox=x.forwardRef(function(t,s){const a=hn({props:t,name:"MuiPickersInputBase"}),{elements:l,areAllSectionsEmpty:u,value:d,onChange:h,id:p,endAdornment:g,startAdornment:y,renderSuffix:b,slots:v,slotProps:S,contentEditable:T,tabIndex:k,onInput:w,onPaste:j,onKeyDown:E,name:M,readOnly:W,inputProps:O,inputRef:R,sectionListRef:_,onFocus:L,onBlur:I,classes:F,ownerState:B}=a,z=ft(a,SB),ce=Ih(),U=x.useRef(null),ie=x.useRef(null),V=x.useRef([]),q=xs(s,U),le=xs(O?.ref,R),pe=PC();if(!pe)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const ke=B??ce,be=G=>{pe.onFocus?.(G),L?.(G)},Q=G=>{be(G)},ee=G=>{if(E?.(G),G.key==="Enter"&&!G.defaultMuiPrevented){if(U.current?.dataset.multiInput)return;const he=U.current?.closest("form"),ve=he?.querySelector('[type="submit"]');if(!he||!ve)return;G.preventDefault(),he.requestSubmit(ve)}},ue=G=>{pe.onBlur?.(G),I?.(G)};x.useEffect(()=>{pe&&pe.setAdornedStart(!!y)},[pe,y]),x.useEffect(()=>{pe&&(u?pe.onEmpty():pe.onFilled())},[pe,u]);const me=EB(F,ke),ge=v?.root||Wh,ae=Wt({elementType:ge,externalSlotProps:S?.root,externalForwardedProps:z,additionalProps:{"aria-invalid":pe.error,ref:q},className:me.root,ownerState:ke}),Y=v?.input||rx,oe=l.some(G=>G.content["data-range-position"]!==void 0);return x.useEffect(()=>{if(!oe||!ke.isPickerOpen)return;const{activeBarWidth:G,sectionOffsets:he}=MB(l,U);V.current=[he[0],he[1]],ie.current&&(ie.current.style.width=`${G}px`)},[l,oe,ke.isPickerOpen]),r.jsxs(ge,K({},ae,{children:[y,r.jsx(vB,{sectionListRef:_,elements:l,contentEditable:T,tabIndex:k,className:me.sectionsContainer,onFocus:be,onBlur:ue,onInput:w,onPaste:j,onKeyDown:ee,slots:{root:Y,section:CB,sectionContent:jB,sectionSeparator:kB},slotProps:{root:K({},S?.input,{ownerState:ke}),sectionContent:{className:Go.sectionContent},sectionSeparator:({separatorPosition:G})=>({className:G==="before"?Go.sectionBefore:Go.sectionAfter})}}),g,b?b(K({},pe)):null,r.jsx(TB,K({name:M,className:me.input,value:d,onChange:h,id:p,"aria-hidden":"true",tabIndex:-1,readOnly:W,required:pe.required,disabled:pe.disabled,onFocus:Q},O,{ref:le})),oe&&r.jsx(DB,{className:me.activeBar,ref:ie,ownerState:{sectionOffsets:V.current}})]}))});function AB(e){return Ln("MuiPickersOutlinedInput",e)}const ti=K({},Go,zn("MuiPickersOutlinedInput",["root","notchedOutline","input"])),PB=["children","className","label","notched","shrink"],OB=$e("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline"})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),I1=$e("span")(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit"})),RB=$e("legend",{shouldForwardProp:e=>_r(e)&&e!=="notched"})(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{inputHasLabel:!1},style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:{inputHasLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{inputHasLabel:!0,notched:!0},style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]}));function _B(e){const{className:t,label:s,notched:a}=e,l=ft(e,PB),u=Ih();return r.jsx(OB,K({"aria-hidden":!0,className:t},l,{ownerState:u,children:r.jsx(RB,{ownerState:u,notched:a,children:s?r.jsx(I1,{children:s}):r.jsx(I1,{className:"notranslate",children:""})})}))}const IB=["label","autoFocus","ownerState","classes","notched"],WB=$e(Wh,{name:"MuiPickersOutlinedInput",slot:"Root"})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${ti.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${ti.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${ti.focused} .${ti.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${ti.disabled}`]:{[`& .${ti.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled},"*":{color:(e.vars||e).palette.action.disabled}},[`&.${ti.error} .${ti.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},variants:Object.keys((e.vars??e).palette).filter(s=>(e.vars??e).palette[s]?.main??!1).map(s=>({props:{inputColor:s},style:{[`&.${ti.focused}:not(.${ti.error}) .${ti.notchedOutline}`]:{borderColor:(e.vars||e).palette[s].main}}}))}}),NB=$e(rx,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer"})({padding:"16.5px 0",variants:[{props:{inputSize:"small"},style:{padding:"8.5px 0"}}]}),LB=e=>{const s=xn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},AB,e);return K({},e,s)},TD=x.forwardRef(function(t,s){const a=hn({props:t,name:"MuiPickersOutlinedInput"}),{label:l,classes:u,notched:d}=a,h=ft(a,IB),p=PC(),g=LB(u);return r.jsx(ox,K({slots:{root:WB,input:NB},renderSuffix:y=>r.jsx(_B,{shrink:!!(d||y.adornedStart||y.focused||y.filled),notched:!!(d||y.adornedStart||y.focused||y.filled),className:g.notchedOutline,label:l!=null&&l!==""&&p?.required?r.jsxs(x.Fragment,{children:[l,"","*"]}):l})},h,{label:l,classes:g,ref:s}))});TD.muiName="Input";function zB(e){return Ln("MuiPickersFilledInput",e)}const pr=K({},Go,zn("MuiPickersFilledInput",["root","underline","input"])),BB=["label","autoFocus","disableUnderline","hiddenLabel","classes"],VB=$e(Wh,{name:"MuiPickersFilledInput",slot:"Root",shouldForwardProp:e=>_r(e)&&e!=="disableUnderline"})(({theme:e})=>{const t=e.palette.mode==="light",s=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",l=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",u=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:l,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a}},[`&.${pr.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a},[`&.${pr.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:u},variants:[...Object.keys((e.vars??e).palette).filter(d=>(e.vars??e).palette[d].main).map(d=>({props:{inputColor:d,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[d]?.main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${pr.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${pr.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${pr.disabled}, .${pr.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${pr.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:{hasStartAdornment:!0},style:{paddingLeft:12}},{props:{hasEndAdornment:!0},style:{paddingRight:12}}]}}),FB=$e(rx,{name:"MuiPickersFilledInput",slot:"sectionsContainer",shouldForwardProp:e=>_r(e)&&e!=="hiddenLabel"})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{inputSize:"small"},style:{paddingTop:21,paddingBottom:4}},{props:{hasStartAdornment:!0},style:{paddingLeft:0}},{props:{hasEndAdornment:!0},style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,inputSize:"small"},style:{paddingTop:8,paddingBottom:9}}]}),HB=(e,t)=>{const{inputHasUnderline:s}=t,l=xn({root:["root",s&&"underline"],input:["input"]},zB,e);return K({},e,l)},DD=x.forwardRef(function(t,s){const a=hn({props:t,name:"MuiPickersFilledInput"}),{label:l,disableUnderline:u=!1,hiddenLabel:d=!1,classes:h}=a,p=ft(a,BB),g=Ih(),y=K({},g,{inputHasUnderline:!u}),b=HB(h,y);return r.jsx(ox,K({slots:{root:VB,input:FB},slotProps:{root:{disableUnderline:u},input:{hiddenLabel:d}}},p,{label:l,classes:b,ref:s,ownerState:y}))});DD.muiName="Input";function UB(e){return Ln("MuiPickersFilledInput",e)}const lc=K({},Go,zn("MuiPickersInput",["root","underline","input"])),qB=["label","autoFocus","disableUnderline","ownerState","classes"],YB=$e(Wh,{name:"MuiPickersInput",slot:"Root",shouldForwardProp:e=>_r(e)&&e!=="disableUnderline"})(({theme:e})=>{let s=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(s=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((e.vars??e).palette).filter(a=>(e.vars??e).palette[a].main).map(a=>({props:{inputColor:a,inputHasUnderline:!0},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[a].main}`}}})),{props:{inputHasUnderline:!0},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${lc.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${lc.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${lc.disabled}, .${lc.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${s}`}},[`&.${lc.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),GB=(e,t)=>{const{inputHasUnderline:s}=t,l=xn({root:["root",!s&&"underline"],input:["input"]},UB,e);return K({},e,l)},ED=x.forwardRef(function(t,s){const a=hn({props:t,name:"MuiPickersInput"}),{label:l,disableUnderline:u=!1,classes:d}=a,h=ft(a,qB),p=Ih(),g=K({},p,{inputHasUnderline:!u}),y=GB(d,g);return r.jsx(ox,K({slots:{root:YB},slotProps:{root:{disableUnderline:u}}},h,{ownerState:g,label:l,classes:y,ref:s}))});ED.muiName="Input";const $B=["onFocus","onBlur","className","classes","color","disabled","error","variant","required","hiddenLabel","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps","data-active-range-position"],KB={standard:ED,filled:DD,outlined:TD},QB=$e($t,{name:"MuiPickersTextField",slot:"Root"})({maxWidth:"100%"}),XB=(e,t)=>{const{isFieldFocused:s,isFieldDisabled:a,isFieldRequired:l}=t;return xn({root:["root",s&&!a&&"focused",a&&"disabled",l&&"required"]},pB,e)},MD=x.forwardRef(function(t,s){const a=hn({props:t,name:"MuiPickersTextField"}),{onFocus:l,onBlur:u,className:d,classes:h,color:p="primary",disabled:g=!1,error:y=!1,variant:b="outlined",required:v=!1,hiddenLabel:S=!1,InputProps:T,inputProps:k,inputRef:w,sectionListRef:j,elements:E,areAllSectionsEmpty:M,onClick:W,onKeyDown:O,onKeyUp:R,onPaste:_,onInput:L,endAdornment:I,startAdornment:F,tabIndex:B,contentEditable:z,focused:ce,value:U,onChange:ie,fullWidth:V,id:q,name:le,helperText:pe,FormHelperTextProps:ke,label:be,InputLabelProps:Q,"data-active-range-position":ee}=a,ue=ft(a,$B),me=x.useRef(null),ge=xs(s,me),ae=Wg(q),Y=pe&&ae?`${ae}-helper-text`:void 0,oe=be&&ae?`${ae}-label`:void 0,G=ax({disabled:a.disabled,required:a.required,readOnly:T?.readOnly}),he=x.useMemo(()=>K({},G,{isFieldValueEmpty:M,isFieldFocused:ce??!1,hasFieldError:y??!1,inputSize:a.size??"medium",inputColor:p??"primary",isInputInFullWidth:V??!1,hasStartAdornment:!!(F??T?.startAdornment),hasEndAdornment:!!(I??T?.endAdornment),inputHasLabel:!!be,isLabelShrunk:!!Q?.shrink}),[G,M,ce,y,a.size,p,V,F,I,T?.startAdornment,T?.endAdornment,be,Q?.shrink]),ve=XB(h,he),Oe=KB[b],fe={};return b==="outlined"?(Q&&typeof Q.shrink<"u"&&(fe.notched=Q.shrink),fe.label=be):b==="filled"&&(fe.hiddenLabel=S),r.jsx(kD.Provider,{value:he,children:r.jsxs(QB,K({className:$n(ve.root,d),ref:ge,focused:ce,disabled:g,variant:b,error:y,color:p,fullWidth:V,required:v,ownerState:he},ue,{children:[be!=null&&be!==""&&r.jsx(_n,K({htmlFor:ae,id:oe},Q,{children:be})),r.jsx(Oe,K({elements:E,areAllSectionsEmpty:M,onClick:W,onKeyDown:O,onKeyUp:R,onInput:L,onPaste:_,onFocus:l,onBlur:u,endAdornment:I,startAdornment:F,tabIndex:B,contentEditable:z,value:U,onChange:ie,id:ae,fullWidth:V,inputProps:k,inputRef:w,sectionListRef:j,label:be,name:le,role:"group","aria-labelledby":oe,"aria-describedby":Y,"aria-live":Y?"polite":void 0,"data-active-range-position":ee},fe,T)),pe&&r.jsx(BA,K({id:Y},ke,{children:pe}))]}))})}),ZB=["enableAccessibleFieldDOMStructure"],JB=["InputProps","readOnly","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],e4=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],t4=["ownerState"],n4=["ownerState"],s4=["ownerState"],i4=["ownerState"],a4=["InputProps","inputProps"],Mm=()=>{},r4=e=>{let{enableAccessibleFieldDOMStructure:t}=e,s=ft(e,ZB);if(t){const{InputProps:E,readOnly:M,onClear:W,clearable:O,clearButtonPosition:R,openPickerButtonPosition:_,openPickerAriaLabel:L}=s,I=ft(s,JB),F=_a>=6&&I?.slotProps?.input?Cc(I?.slotProps?.input,E):Mm;return{clearable:O,onClear:W,clearButtonPosition:R,openPickerButtonPosition:_,openPickerAriaLabel:L,textFieldProps:K({},I,_a>=6&&I?.slotProps?.input?{slotProps:K({},I?.slotProps,{input:B=>K({},xi(F,B),{readOnly:M})})}:{InputProps:K({},E??{},{readOnly:M})})}}const{onPaste:a,onKeyDown:l,inputMode:u,readOnly:d,InputProps:h,inputProps:p,inputRef:g,onClear:y,clearable:b,clearButtonPosition:v,openPickerButtonPosition:S,openPickerAriaLabel:T}=s,k=ft(s,e4),w=_a>=6&&k?.slotProps?.input?Cc(k?.slotProps?.input,h):Mm,j=_a>=6&&k?.slotProps?.htmlInput?Cc(k?.slotProps?.htmlInput,p):Mm;return{clearable:b,onClear:y,clearButtonPosition:v,openPickerButtonPosition:S,openPickerAriaLabel:T,textFieldProps:K({},k,_a>=6&&(k?.slotProps?.input||k?.slotProps?.htmlInput)?{slotProps:K({},k?.slotProps,{input:E=>K({},xi(w,E),{readOnly:d}),htmlInput:E=>K({},xi(j,E),{inputMode:u,onPaste:a,onKeyDown:l,ref:g})})}:{InputProps:K({},h??{},{readOnly:d}),inputProps:K({},p??{},{inputMode:u,onPaste:a,onKeyDown:l,ref:g})})}},lx=x.createContext({slots:{},slotProps:{},inputRef:void 0});function o4(e){const{fieldResponse:t,defaultOpenPickerIcon:s}=e,a=qa(),l=nx(),u=x.useContext(lx),{textFieldProps:d,onClear:h,clearable:p,openPickerAriaLabel:g,clearButtonPosition:y="end",openPickerButtonPosition:b="end"}=r4(t),v=ax(d),S=Ve(ke=>{ke.preventDefault(),l?.setOpen(be=>!be)}),T=l?l.triggerStatus:"hidden",k=p?y:null,w=T!=="hidden"?b:null,j=u.slots.textField??(t.enableAccessibleFieldDOMStructure===!1?gt:MD),E=u.slots.inputAdornment??Nm,M=Wt({elementType:E,externalSlotProps:u.slotProps.inputAdornment,additionalProps:{position:"start"},ownerState:K({},v,{position:"start"})}),W=ft(M,t4),O=Wt({elementType:E,externalSlotProps:u.slotProps.inputAdornment,additionalProps:{position:"end"},ownerState:K({},v,{position:"end"})}),R=ft(O,n4),_=u.slots.openPickerButton??Be,L=Wt({elementType:_,externalSlotProps:u.slotProps.openPickerButton,additionalProps:{disabled:T==="disabled",onClick:S,"aria-label":g,edge:d.variant!=="standard"?w:!1},ownerState:v}),I=ft(L,s4),F=u.slots.openPickerIcon??s,B=Wt({elementType:F,externalSlotProps:u.slotProps.openPickerIcon,ownerState:v}),z=u.slots.clearButton??Be,ce=Wt({elementType:z,externalSlotProps:u.slotProps.clearButton,className:"clearButton",additionalProps:{title:a.fieldClearLabel,tabIndex:-1,onClick:h,disabled:t.disabled||t.readOnly,edge:d.variant!=="standard"&&k!==w?k:!1},ownerState:v}),U=ft(ce,i4),ie=u.slots.clearIcon??fB,V=Wt({elementType:ie,externalSlotProps:u.slotProps.clearIcon,additionalProps:{fontSize:"small"},ownerState:v});d.ref=xs(d.ref,l?.rootRef);const q={},le=xi((_a>=6&&d?.slotProps?.input)??d.InputProps,v);l&&(q.ref=l.triggerRef),!le?.startAdornment&&(k==="start"||w==="start")&&(q.startAdornment=r.jsxs(E,K({},W,{children:[w==="start"&&r.jsx(_,K({},I,{children:r.jsx(F,K({},B))})),k==="start"&&r.jsx(z,K({},U,{children:r.jsx(ie,K({},V))}))]}))),!le?.endAdornment&&(k==="end"||w==="end")&&(q.endAdornment=r.jsxs(E,K({},R,{children:[k==="end"&&r.jsx(z,K({},U,{children:r.jsx(ie,K({},V))})),w==="end"&&r.jsx(_,K({},I,{children:r.jsx(F,K({},B))}))]}))),!q?.endAdornment&&!q?.startAdornment&&u.slots.inputAdornment&&(q.endAdornment=r.jsx(E,K({},R))),k!=null&&(d.sx=[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(d.sx)?d.sx:[d.sx]]);const pe=_a>=6&&d?.slotProps?.input?xi(Cc(le,q),v):K({},le,q);return d.inputProps=_a>=6&&d?.slotProps?.htmlInput?xi(d.slotProps.htmlInput,v):d.inputProps,delete d?.slotProps?.input,t.enableAccessibleFieldDOMStructure&&delete d?.slotProps,r.jsx(j,K({},d,{InputProps:pe}))}function Cc(e,t){return e?t?s=>K({},xi(t,s),xi(e,s)):e:t}function l4(e){const{ref:t,externalForwardedProps:s,slotProps:a}=e,l=x.useContext(lx),u=nx(),d=ax(s),{InputProps:h,inputProps:p}=s,g=ft(s,a4),y=Wt({elementType:MD,externalSlotProps:Cc(l.slotProps.textField,a?.textField),externalForwardedProps:g,additionalProps:{ref:t,sx:u?.rootSx,label:u?.label,name:u?.name,className:u?.rootClassName,inputRef:l.inputRef},ownerState:d});return y.inputProps=K({},p,y.inputProps),y.InputProps=K({},h,y.InputProps),y}function c4(e){const{slots:t={},slotProps:s={},inputRef:a,children:l}=e,u=x.useMemo(()=>({inputRef:a,slots:{openPickerButton:t.openPickerButton,openPickerIcon:t.openPickerIcon,textField:t.textField,inputAdornment:t.inputAdornment,clearIcon:t.clearIcon,clearButton:t.clearButton},slotProps:{openPickerButton:s.openPickerButton,openPickerIcon:s.openPickerIcon,textField:s.textField,inputAdornment:s.inputAdornment,clearIcon:s.clearIcon,clearButton:s.clearButton}}),[a,t.openPickerButton,t.openPickerIcon,t.textField,t.inputAdornment,t.clearIcon,t.clearButton,s.openPickerButton,s.openPickerIcon,s.textField,s.inputAdornment,s.clearIcon,s.clearButton]);return r.jsx(lx.Provider,{value:u,children:l})}const u4=["slots","slotProps"],AD=x.forwardRef(function(t,s){const a=hn({props:t,name:"MuiDateField"}),{slots:l,slotProps:u}=a,d=ft(a,u4),h=l4({slotProps:u,ref:s,externalForwardedProps:d}),p=lB(h);return r.jsx(c4,{slots:l,slotProps:u,inputRef:d.inputRef,children:r.jsx(o4,{fieldResponse:p,defaultOpenPickerIcon:hB})})}),PD=({shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:s,minDate:a,maxDate:l,disableFuture:u,disablePast:d,timezone:h})=>{const p=Kt();return x.useCallback(g=>iu({adapter:p,value:g,timezone:h,props:{shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:s,minDate:a,maxDate:l,disableFuture:u,disablePast:d}})!==null,[p,e,t,s,a,l,u,d,h])},d4=(e,t)=>(s,a)=>{switch(a.type){case"setVisibleDate":return K({},s,{slideDirection:a.direction,currentMonth:a.month,isMonthSwitchingAnimating:!t.isSameMonth(a.month,s.currentMonth)&&!e&&!a.skipAnimation,focusedDay:a.focusedDay});case"changeMonthTimezone":{const l=a.newTimezone;if(t.getTimezone(s.currentMonth)===l)return s;let u=t.setTimezone(s.currentMonth,l);return t.getMonth(u)!==t.getMonth(s.currentMonth)&&(u=t.setMonth(u,t.getMonth(s.currentMonth))),K({},s,{currentMonth:u})}case"finishMonthSwitchingAnimation":return K({},s,{isMonthSwitchingAnimating:!1});default:throw new Error("missing support")}},h4=e=>{const{value:t,referenceDate:s,disableFuture:a,disablePast:l,maxDate:u,minDate:d,onMonthChange:h,onYearChange:p,reduceAnimations:g,shouldDisableDate:y,timezone:b,getCurrentMonthFromVisibleDate:v}=e,S=Kt(),T=x.useRef(d4(!!g,S)).current,k=x.useMemo(()=>Ci.getInitialReferenceValue({value:t,adapter:S,timezone:b,props:e,referenceDate:s,granularity:mi.day}),[s,b]),[w,j]=x.useReducer(T,{isMonthSwitchingAnimating:!1,focusedDay:k,currentMonth:S.startOfMonth(k),slideDirection:"left"}),E=PD({shouldDisableDate:y,minDate:d,maxDate:u,disableFuture:a,disablePast:l,timezone:b});x.useEffect(()=>{j({type:"changeMonthTimezone",newTimezone:S.getTimezone(k)})},[k,S]);const M=Ve(({target:O,reason:R})=>{if(R==="cell-interaction"&&w.focusedDay!=null&&S.isSameDay(O,w.focusedDay))return;const _=R==="cell-interaction";let L,I;if(R==="cell-interaction")L=v(O,w.currentMonth),I=O;else if(L=S.isSameMonth(O,w.currentMonth)?w.currentMonth:S.startOfMonth(O),I=O,E(I)){const z=S.startOfMonth(O),ce=S.endOfMonth(O);I=zc({adapter:S,date:I,minDate:S.isBefore(d,z)?z:d,maxDate:S.isAfter(u,ce)?ce:u,disablePast:l,disableFuture:a,isDateDisabled:E,timezone:b})}const F=!S.isSameMonth(w.currentMonth,L),B=!S.isSameYear(w.currentMonth,L);F&&h?.(L),B&&p?.(S.startOfYear(L)),j({type:"setVisibleDate",month:L,direction:S.isAfterDay(L,w.currentMonth)?"left":"right",focusedDay:w.focusedDay!=null&&I!=null&&S.isSameDay(I,w.focusedDay)?w.focusedDay:I,skipAnimation:_})}),W=x.useCallback(()=>{j({type:"finishMonthSwitchingAnimation"})},[]);return{referenceDate:k,calendarState:w,setVisibleDate:M,isDateDisabled:E,onMonthSwitchingAnimationEnd:W}},f4=e=>Ln("MuiPickersFadeTransitionGroup",e);zn("MuiPickersFadeTransitionGroup",["root"]);const p4=["children"],m4=e=>xn({root:["root"]},f4,e),g4=$e(OC,{name:"MuiPickersFadeTransitionGroup",slot:"Root"})({display:"block",position:"relative"});function OD(e){const t=hn({props:e,name:"MuiPickersFadeTransitionGroup"}),{className:s,reduceAnimations:a,transKey:l,classes:u}=t,{children:d}=t,h=ft(t,p4),p=m4(u),g=il();return a?d:r.jsx(g4,{className:$n(p.root,s),ownerState:h,children:r.jsx(yh,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:g.transitions.duration.enteringScreen,enter:g.transitions.duration.enteringScreen,exit:0},children:d},l)})}function y4(e){return Ln("MuiPickersDay",e)}const mr=zn("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]);function RD(e){const{disabled:t,selected:s,today:a,outsideCurrentMonth:l,day:u,disableMargin:d,disableHighlightToday:h,showDaysOutsideCurrentMonth:p}=e,g=Kt(),{ownerState:y}=Qn();return x.useMemo(()=>K({},y,{day:u,isDaySelected:s??!1,isDayDisabled:t??!1,isDayCurrent:a??!1,isDayOutsideMonth:l??!1,isDayStartOfWeek:g.isSameDay(u,g.startOfWeek(u)),isDayEndOfWeek:g.isSameDay(u,g.endOfWeek(u)),disableMargin:d??!1,disableHighlightToday:h??!1,showDaysOutsideCurrentMonth:p??!1}),[g,y,u,s,t,a,l,d,h,p])}const x4=["autoFocus","className","classes","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","children","isFirstVisibleCell","isLastVisibleCell","day","selected","disabled","today","outsideCurrentMonth","disableMargin","disableHighlightToday","showDaysOutsideCurrentMonth"],b4=(e,t)=>{const{isDaySelected:s,isDayDisabled:a,isDayCurrent:l,isDayOutsideMonth:u,disableMargin:d,disableHighlightToday:h,showDaysOutsideCurrentMonth:p}=t,g=u&&!p;return xn({root:["root",s&&!g&&"selected",a&&"disabled",!d&&"dayWithMargin",!h&&l&&"today",u&&p&&"dayOutsideMonth",g&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},y4,e)},_D=({theme:e})=>K({},e.typography.caption,{width:Bc,height:Bc,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Xo(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:Xo(e.palette.primary.main,e.palette.action.focusOpacity),[`&.${mr.selected}`]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${mr.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${mr.disabled}:not(.${mr.selected})`]:{color:(e.vars||e).palette.text.disabled},[`&.${mr.disabled}&.${mr.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${Rh}px`}},{props:{isDayOutsideMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(e.vars||e).palette.text.secondary}},{props:{disableHighlightToday:!1,isDayCurrent:!0},style:{[`&:not(.${mr.selected})`]:{border:`1px solid ${(e.vars||e).palette.text.secondary}`}}}]}),ID=(e,t)=>{const{ownerState:s}=e;return[t.root,!s.disableMargin&&t.dayWithMargin,!s.disableHighlightToday&&s.isDayCurrent&&t.today,!s.isDayOutsideMonth&&s.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,s.isDayOutsideMonth&&!s.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},v4=$e(VA,{name:"MuiPickersDay",slot:"Root",overridesResolver:ID})(_D),S4=$e("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:ID})(({theme:e})=>K({},_D({theme:e}),{opacity:0,pointerEvents:"none"})),cc=()=>{},w4=x.forwardRef(function(t,s){const a=hn({props:t,name:"MuiPickersDay"}),{autoFocus:l=!1,className:u,classes:d,isAnimating:h,onClick:p,onDaySelect:g,onFocus:y=cc,onBlur:b=cc,onKeyDown:v=cc,onMouseDown:S=cc,onMouseEnter:T=cc,children:k,day:w,selected:j,disabled:E,today:M,outsideCurrentMonth:W,disableMargin:O,disableHighlightToday:R,showDaysOutsideCurrentMonth:_}=a,L=ft(a,x4),I=RD({day:w,selected:j,disabled:E,today:M,outsideCurrentMonth:W,disableMargin:O,disableHighlightToday:R,showDaysOutsideCurrentMonth:_}),F=b4(d,I),B=Kt(),z=x.useRef(null),ce=xs(z,s);ea(()=>{l&&!E&&!h&&!W&&z.current.focus()},[l,E,h,W]);const U=V=>{S(V),W&&V.preventDefault()},ie=V=>{V.defaultMuiPrevented=!0,E||g(w),W&&V.currentTarget.focus(),p&&p(V)};return W&&!_?r.jsx(S4,{className:$n(F.root,F.hiddenDaySpacingFiller,u),ownerState:I,role:L.role}):r.jsx(v4,K({className:$n(F.root,u),ref:ce,centerRipple:!0,disabled:E,tabIndex:j?0:-1,onKeyDown:V=>v(V,w),onFocus:V=>y(V,w),onBlur:V=>b(V,w),onMouseEnter:V=>T(V,w),onClick:ie,onMouseDown:U},L,{ownerState:I,children:k??B.format(w,"dayOfMonth")}))}),C4=x.memo(w4),j4=e=>Ln("MuiPickersSlideTransition",e),Us=zn("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),k4=["children","className","reduceAnimations","slideDirection","transKey","classes"],T4=(e,t)=>{const{slideDirection:s}=t,a={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${s}`],exitActive:[`slideExitActiveLeft-${s}`]};return xn(a,j4,e)},D4=$e(OC,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`.${Us["slideEnter-left"]}`]:t["slideEnter-left"]},{[`.${Us["slideEnter-right"]}`]:t["slideEnter-right"]},{[`.${Us.slideEnterActive}`]:t.slideEnterActive},{[`.${Us.slideExit}`]:t.slideExit},{[`.${Us["slideExitActiveLeft-left"]}`]:t["slideExitActiveLeft-left"]},{[`.${Us["slideExitActiveLeft-right"]}`]:t["slideExitActiveLeft-right"]}]})(({theme:e})=>{const t=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Us["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Us["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Us.slideEnterActive}`]:{transform:"translate(0%)",transition:t},[`& .${Us.slideExit}`]:{transform:"translate(0%)"},[`& .${Us["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:t,zIndex:0},[`& .${Us["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:t,zIndex:0}}});function E4(e){const t=hn({props:e,name:"MuiPickersSlideTransition"}),{children:s,className:a,reduceAnimations:l,slideDirection:u,transKey:d,classes:h}=t,p=ft(t,k4),{ownerState:g}=Qn(),y=K({},g,{slideDirection:u}),b=T4(h,y),v=il();if(l)return r.jsx("div",{className:$n(b.root,a),children:s});const S={exit:b.exit,enterActive:b.enterActive,enter:b.enter,exitActive:b.exitActive};return r.jsx(D4,{className:$n(b.root,a),childFactory:T=>x.cloneElement(T,{classNames:S}),role:"presentation",ownerState:y,children:r.jsx(FA,K({mountOnEnter:!0,unmountOnExit:!0,timeout:v.transitions.duration.complex,classNames:S},p,{children:s}),d)})}const M4=e=>Ln("MuiDayCalendar",e);zn("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const A4=["parentProps","day","focusedDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],P4=["ownerState"],O4=e=>xn({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},M4,e),WD=(Bc+Rh*2)*6,R4=$e("div",{name:"MuiDayCalendar",slot:"Root"})({}),_4=$e("div",{name:"MuiDayCalendar",slot:"Header"})({display:"flex",justifyContent:"center",alignItems:"center"}),I4=$e(P,{name:"MuiDayCalendar",slot:"WeekDayLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),W4=$e(P,{name:"MuiDayCalendar",slot:"WeekNumberLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.disabled})),N4=$e(P,{name:"MuiDayCalendar",slot:"WeekNumber"})(({theme:e})=>K({},e.typography.caption,{width:Bc,height:Bc,padding:0,margin:`0 ${Rh}px`,color:(e.vars||e).palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),L4=$e("div",{name:"MuiDayCalendar",slot:"LoadingContainer"})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:WD}),z4=$e(E4,{name:"MuiDayCalendar",slot:"SlideTransition"})({minHeight:WD}),B4=$e("div",{name:"MuiDayCalendar",slot:"MonthContainer"})({overflow:"hidden"}),V4=$e("div",{name:"MuiDayCalendar",slot:"WeekContainer"})({margin:`${Rh}px 0`,display:"flex",justifyContent:"center"});function F4(e){let{parentProps:t,day:s,focusedDay:a,selectedDays:l,isDateDisabled:u,currentMonthNumber:d,isViewFocused:h}=e,p=ft(e,A4);const{disabled:g,disableHighlightToday:y,isMonthSwitchingAnimating:b,showDaysOutsideCurrentMonth:v,slots:S,slotProps:T,timezone:k}=t,w=Kt(),j=Oh(k),E=a!=null&&w.isSameDay(s,a),M=h&&E,W=l.some(U=>w.isSameDay(U,s)),O=w.isSameDay(s,j),R=x.useMemo(()=>g||u(s),[g,u,s]),_=x.useMemo(()=>w.getMonth(s)!==d,[w,s,d]),L=RD({day:s,selected:W,disabled:R,today:O,outsideCurrentMonth:_,disableMargin:void 0,disableHighlightToday:y,showDaysOutsideCurrentMonth:v}),I=S?.day??C4,F=Wt({elementType:I,externalSlotProps:T?.day,additionalProps:K({disableHighlightToday:y,showDaysOutsideCurrentMonth:v,role:"gridcell",isAnimating:b,"data-timestamp":w.toJsDate(s).valueOf()},p),ownerState:K({},L,{day:s,isDayDisabled:R,isDaySelected:W})}),B=ft(F,P4),z=x.useMemo(()=>{const U=w.startOfMonth(w.setMonth(s,d));return v?w.isSameDay(s,w.startOfWeek(U)):w.isSameDay(s,U)},[d,s,v,w]),ce=x.useMemo(()=>{const U=w.endOfMonth(w.setMonth(s,d));return v?w.isSameDay(s,w.endOfWeek(U)):w.isSameDay(s,U)},[d,s,v,w]);return r.jsx(I,K({},B,{day:s,disabled:R,autoFocus:!_&&M,today:O,outsideCurrentMonth:_,isFirstVisibleCell:z,isLastVisibleCell:ce,selected:W,tabIndex:E?0:-1,"aria-selected":W,"aria-current":O?"date":void 0}))}function H4(e){const t=hn({props:e,name:"MuiDayCalendar"}),s=Kt(),{onFocusedDayChange:a,className:l,classes:u,currentMonth:d,selectedDays:h,focusedDay:p,loading:g,onSelectedDaysChange:y,onMonthSwitchingAnimationEnd:b,readOnly:v,reduceAnimations:S,renderLoading:T=()=>r.jsx("span",{children:"..."}),slideDirection:k,TransitionProps:w,disablePast:j,disableFuture:E,minDate:M,maxDate:W,shouldDisableDate:O,shouldDisableMonth:R,shouldDisableYear:_,dayOfWeekFormatter:L=he=>s.format(he,"weekdayShort").charAt(0).toUpperCase(),hasFocus:I,onFocusedViewChange:F,gridLabelId:B,displayWeekNumber:z,fixedWeekNumber:ce,timezone:U}=t,ie=Oh(U),V=O4(u),q=ia(),le=PD({shouldDisableDate:O,shouldDisableMonth:R,shouldDisableYear:_,minDate:M,maxDate:W,disablePast:j,disableFuture:E,timezone:U}),pe=qa(),ke=Ve(he=>{v||y(he)}),be=he=>{le(he)||(a(he),F?.(!0))},Q=Ve((he,ve)=>{switch(he.key){case"ArrowUp":be(s.addDays(ve,-7)),he.preventDefault();break;case"ArrowDown":be(s.addDays(ve,7)),he.preventDefault();break;case"ArrowLeft":{const Oe=s.addDays(ve,q?1:-1),fe=s.addMonths(ve,q?1:-1),te=zc({adapter:s,date:Oe,minDate:q?Oe:s.startOfMonth(fe),maxDate:q?s.endOfMonth(fe):Oe,isDateDisabled:le,timezone:U});be(te||Oe),he.preventDefault();break}case"ArrowRight":{const Oe=s.addDays(ve,q?-1:1),fe=s.addMonths(ve,q?-1:1),te=zc({adapter:s,date:Oe,minDate:q?s.startOfMonth(fe):Oe,maxDate:q?Oe:s.endOfMonth(fe),isDateDisabled:le,timezone:U});be(te||Oe),he.preventDefault();break}case"Home":be(s.startOfWeek(ve)),he.preventDefault();break;case"End":be(s.endOfWeek(ve)),he.preventDefault();break;case"PageUp":be(s.addMonths(ve,1)),he.preventDefault();break;case"PageDown":be(s.addMonths(ve,-1)),he.preventDefault();break}}),ee=Ve((he,ve)=>be(ve)),ue=Ve((he,ve)=>{p!=null&&s.isSameDay(p,ve)&&F?.(!1)}),me=s.getMonth(d),ge=s.getYear(d),ae=x.useMemo(()=>h.filter(he=>!!he).map(he=>s.startOfDay(he)),[s,h]),Y=`${ge}-${me}`,oe=x.useMemo(()=>x.createRef(),[Y]),G=x.useMemo(()=>{const he=s.getWeekArray(d);let ve=s.addMonths(d,1);for(;ce&&he.length<ce;){const Oe=s.getWeekArray(ve),fe=s.isSameDay(he[he.length-1][0],Oe[0][0]);Oe.slice(fe?1:0).forEach(te=>{he.length<ce&&he.push(te)}),ve=s.addMonths(ve,1)}return he},[d,ce,s]);return r.jsxs(R4,{role:"grid","aria-labelledby":B,className:V.root,children:[r.jsxs(_4,{role:"row",className:V.header,children:[z&&r.jsx(W4,{variant:"caption",role:"columnheader","aria-label":pe.calendarWeekNumberHeaderLabel,className:V.weekNumberLabel,children:pe.calendarWeekNumberHeaderText}),b6(s,ie).map((he,ve)=>r.jsx(I4,{variant:"caption",role:"columnheader","aria-label":s.format(he,"weekday"),className:V.weekDayLabel,children:L(he)},ve.toString()))]}),g?r.jsx(L4,{className:V.loadingContainer,children:T()}):r.jsx(z4,K({transKey:Y,onExited:b,reduceAnimations:S,slideDirection:k,className:$n(l,V.slideTransition)},w,{nodeRef:oe,children:r.jsx(B4,{ref:oe,role:"rowgroup",className:V.monthContainer,children:G.map((he,ve)=>r.jsxs(V4,{role:"row",className:V.weekContainer,"aria-rowindex":ve+1,children:[z&&r.jsx(N4,{className:V.weekNumber,role:"rowheader","aria-label":pe.calendarWeekNumberAriaLabelText(s.getWeekNumber(he[0])),children:pe.calendarWeekNumberText(s.getWeekNumber(he[0]))}),he.map((Oe,fe)=>r.jsx(F4,{parentProps:t,day:Oe,selectedDays:ae,isViewFocused:I,focusedDay:p,onKeyDown:Q,onFocus:ee,onBlur:ue,onDaySelect:ke,isDateDisabled:le,currentMonthNumber:me,"aria-colindex":fe+1},Oe.toString()))]},`week-${he[0]}`))})}))]})}function ND(e){return Ln("MuiMonthCalendar",e)}const Dd=zn("MuiMonthCalendar",["root","button","disabled","selected"]),U4=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],q4=(e,t)=>{const s={button:["button",t.isMonthDisabled&&"disabled",t.isMonthSelected&&"selected"]};return xn(s,ND,e)},Y4=$e("button",{name:"MuiMonthCalendar",slot:"Button",overridesResolver:(e,t)=>[t.button,{[`&.${Dd.disabled}`]:t.disabled},{[`&.${Dd.selected}`]:t.selected}]})(({theme:e})=>K({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Xo(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Xo(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Dd.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${Dd.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),G4=x.memo(function(t){const{autoFocus:s,classes:a,disabled:l,selected:u,value:d,onClick:h,onKeyDown:p,onFocus:g,onBlur:y,slots:b,slotProps:v}=t,S=ft(t,U4),T=x.useRef(null),{ownerState:k}=Qn(),w=K({},k,{isMonthDisabled:l,isMonthSelected:u}),j=q4(a,w);ea(()=>{s&&T.current?.focus()},[s]);const E=b?.monthButton??Y4,M=Wt({elementType:E,externalSlotProps:v?.monthButton,externalForwardedProps:S,additionalProps:{disabled:l,ref:T,type:"button",role:"radio","aria-checked":u,onClick:W=>h(W,d),onKeyDown:W=>p(W,d),onFocus:W=>g(W,d),onBlur:W=>y(W,d)},ownerState:w,className:j.button});return r.jsx(E,K({},M))}),$4=["autoFocus","className","currentMonth","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],K4=e=>xn({root:["root"]},ND,e);function Q4(e,t){const s=hn({props:e,name:t}),a=au(s);return K({},s,a,{monthsPerRow:s.monthsPerRow??3})}const W1=(e,t,s,a,l)=>!!(e===t&&a&&l.isSameYear(s,a)),X4=$e("div",{name:"MuiMonthCalendar",slot:"Root",shouldForwardProp:e=>_r(e)&&e!=="monthsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:16,padding:"8px 0",width:_h,boxSizing:"border-box",variants:[{props:{monthsPerRow:3},style:{columnGap:24}},{props:{monthsPerRow:4},style:{columnGap:0}}]}),Z4=x.forwardRef(function(t,s){const a=Q4(t,"MuiMonthCalendar"),{autoFocus:l,className:u,currentMonth:d,classes:h,value:p,defaultValue:g,referenceDate:y,disabled:b,disableFuture:v,disablePast:S,maxDate:T,minDate:k,onChange:w,shouldDisableMonth:j,readOnly:E,onMonthFocus:M,hasFocus:W,onFocusedViewChange:O,monthsPerRow:R,timezone:_,gridLabelId:L,slots:I,slotProps:F}=a,B=ft(a,$4),{value:z,handleValueChange:ce,timezone:U}=ru({name:"MonthCalendar",timezone:_,value:p,defaultValue:g,referenceDate:y,onChange:w,valueManager:Ci}),ie=Oh(U),V=ia(),q=Kt(),{ownerState:le}=Qn(),pe=x.useMemo(()=>Ci.getInitialReferenceValue({value:z,adapter:q,props:a,timezone:U,referenceDate:y,granularity:mi.month}),[]),ke=K4(h),be=x.useMemo(()=>q.getMonth(ie),[q,ie]),Q=x.useMemo(()=>z!=null?q.getMonth(z):null,[z,q]),[ee,ue]=x.useState(()=>Q||q.getMonth(pe)),[me,ge]=Qo({name:"MonthCalendar",state:"hasFocus",controlled:W,default:l??!1}),ae=Ve(fe=>{ge(fe),O&&O(fe)}),Y=x.useCallback(fe=>{const te=q.startOfMonth(S&&q.isAfter(ie,k)?ie:k),J=q.startOfMonth(v&&q.isBefore(ie,T)?ie:T),Re=q.startOfMonth(fe);return q.isBefore(Re,te)||q.isAfter(Re,J)?!0:j?j(Re):!1},[v,S,T,k,ie,j,q]),oe=Ve((fe,te)=>{if(E)return;const J=z&&d&&!q.isSameYear(z,d)?q.setYear(z,q.getYear(d)):z,Re=q.setMonth(J??pe,te);ce(Re)}),G=Ve(fe=>{Y(q.setMonth(z??d??pe,fe))||(ue(fe),ae(!0),M&&M(fe))});x.useEffect(()=>{ue(fe=>Q!==null&&fe!==Q?Q:fe)},[Q]);const he=Ve((fe,te)=>{switch(fe.key){case"ArrowUp":G((12+te-3)%12),fe.preventDefault();break;case"ArrowDown":G((12+te+3)%12),fe.preventDefault();break;case"ArrowLeft":G((12+te+(V?1:-1))%12),fe.preventDefault();break;case"ArrowRight":G((12+te+(V?-1:1))%12),fe.preventDefault();break}}),ve=Ve((fe,te)=>{G(te)}),Oe=Ve((fe,te)=>{ee===te&&ae(!1)});return r.jsx(X4,K({ref:s,className:$n(ke.root,u),ownerState:le,role:"radiogroup","aria-labelledby":L,monthsPerRow:R},B,{children:Ky(q,d??z??pe).map(fe=>{const te=q.getMonth(fe),J=q.format(fe,"monthShort"),Re=q.format(fe,"month"),Fe=W1(te,Q,fe,z,q),Ee=b||Y(fe);return r.jsx(G4,{selected:Fe,value:te,onClick:oe,onKeyDown:he,autoFocus:me&&te===ee,disabled:Ee,tabIndex:te===ee&&!Ee?0:-1,onFocus:ve,onBlur:Oe,"aria-current":W1(te,be,fe,ie,q)?"date":void 0,"aria-label":Re,slots:I,slotProps:F,classes:h,children:J},J)})}))});function LD(e){return Ln("MuiYearCalendar",e)}const Ed=zn("MuiYearCalendar",["root","button","disabled","selected"]),J4=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],eV=(e,t)=>{const s={button:["button",t.isYearDisabled&&"disabled",t.isYearSelected&&"selected"]};return xn(s,LD,e)},tV=$e("button",{name:"MuiYearCalendar",slot:"Button",overridesResolver:(e,t)=>[t.button,{[`&.${Ed.disabled}`]:t.disabled},{[`&.${Ed.selected}`]:t.selected}]})(({theme:e})=>K({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.focusOpacity})`:Xo(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Xo(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Ed.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${Ed.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),nV=x.memo(function(t){const{autoFocus:s,classes:a,disabled:l,selected:u,value:d,onClick:h,onKeyDown:p,onFocus:g,onBlur:y,slots:b,slotProps:v}=t,S=ft(t,J4),T=x.useRef(null),{ownerState:k}=Qn(),w=K({},k,{isYearDisabled:l,isYearSelected:u}),j=eV(a,w);ea(()=>{s&&T.current?.focus()},[s]);const E=b?.yearButton??tV,M=Wt({elementType:E,externalSlotProps:v?.yearButton,externalForwardedProps:S,additionalProps:{disabled:l,ref:T,type:"button",role:"radio","aria-checked":u,onClick:W=>h(W,d),onKeyDown:W=>p(W,d),onFocus:W=>g(W,d),onBlur:W=>y(W,d)},ownerState:w,className:j.button});return r.jsx(E,K({},M))}),sV=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsOrder","yearsPerRow","timezone","gridLabelId","slots","slotProps"],iV=e=>xn({root:["root"]},LD,e);function aV(e,t){const s=hn({props:e,name:t}),a=au(s);return K({},s,a,{yearsPerRow:s.yearsPerRow??3,yearsOrder:s.yearsOrder??"asc"})}const rV=$e("div",{name:"MuiYearCalendar",slot:"Root",shouldForwardProp:e=>_r(e)&&e!=="yearsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:12,padding:"6px 0",overflowY:"auto",height:"100%",width:_h,maxHeight:_z,boxSizing:"border-box",position:"relative",variants:[{props:{yearsPerRow:3},style:{columnGap:24}},{props:{yearsPerRow:4},style:{columnGap:0,padding:"0 2px"}}]}),oV=$e("div",{name:"MuiYearCalendar",slot:"ButtonFiller"})({height:36,width:72}),lV=x.forwardRef(function(t,s){const a=aV(t,"MuiYearCalendar"),{autoFocus:l,className:u,classes:d,value:h,defaultValue:p,referenceDate:g,disabled:y,disableFuture:b,disablePast:v,maxDate:S,minDate:T,onChange:k,readOnly:w,shouldDisableYear:j,onYearFocus:E,hasFocus:M,onFocusedViewChange:W,yearsOrder:O,yearsPerRow:R,timezone:_,gridLabelId:L,slots:I,slotProps:F}=a,B=ft(a,sV),{value:z,handleValueChange:ce,timezone:U}=ru({name:"YearCalendar",timezone:_,value:h,defaultValue:p,referenceDate:g,onChange:k,valueManager:Ci}),ie=Oh(U),V=ia(),q=Kt(),{ownerState:le}=Qn(),pe=x.useMemo(()=>Ci.getInitialReferenceValue({value:z,adapter:q,props:a,timezone:U,referenceDate:g,granularity:mi.year}),[]),ke=iV(d),be=x.useMemo(()=>q.getYear(ie),[q,ie]),Q=x.useMemo(()=>z!=null?q.getYear(z):null,[z,q]),[ee,ue]=x.useState(()=>Q||q.getYear(pe)),[me,ge]=Qo({name:"YearCalendar",state:"hasFocus",controlled:M,default:l??!1}),ae=Ve(we=>{ge(we),W&&W(we)}),Y=x.useCallback(we=>{if(v&&q.isBeforeYear(we,ie)||b&&q.isAfterYear(we,ie)||T&&q.isBeforeYear(we,T)||S&&q.isAfterYear(we,S))return!0;if(!j)return!1;const We=q.startOfYear(we);return j(We)},[b,v,S,T,ie,j,q]),oe=Ve((we,We)=>{if(w)return;const X=q.setYear(z??pe,We);ce(X)}),G=Ve(we=>{Y(q.setYear(z??pe,we))||(ue(we),ae(!0),E?.(we))});x.useEffect(()=>{ue(we=>Q!==null&&we!==Q?Q:we)},[Q]);const he=O!=="desc"?R*1:R*-1,ve=V&&O==="asc"||!V&&O==="desc"?-1:1,Oe=Ve((we,We)=>{switch(we.key){case"ArrowUp":G(We-he),we.preventDefault();break;case"ArrowDown":G(We+he),we.preventDefault();break;case"ArrowLeft":G(We-ve),we.preventDefault();break;case"ArrowRight":G(We+ve),we.preventDefault();break}}),fe=Ve((we,We)=>{G(We)}),te=Ve((we,We)=>{ee===We&&ae(!1)}),J=x.useRef(null),Re=xs(s,J);x.useEffect(()=>{if(l||J.current===null)return;const we=J.current.querySelector('[tabindex="0"]');if(!we)return;const We=we.offsetHeight,X=we.offsetTop,Te=J.current.clientHeight,De=J.current.scrollTop,Me=X+We;We>Te||X<De||(J.current.scrollTop=Me-Te/2-We/2)},[l]);const Fe=q.getYearRange([T,S]);O==="desc"&&Fe.reverse();let Ee=R-Fe.length%R;return Ee===R&&(Ee=0),r.jsxs(rV,K({ref:Re,className:$n(ke.root,u),ownerState:le,role:"radiogroup","aria-labelledby":L,yearsPerRow:R},B,{children:[Fe.map(we=>{const We=q.getYear(we),X=We===Q,Te=y||Y(we);return r.jsx(nV,{selected:X,value:We,onClick:oe,onKeyDown:Oe,autoFocus:me&&We===ee,disabled:Te,tabIndex:We===ee&&!Te?0:-1,onFocus:fe,onBlur:te,"aria-current":be===We?"date":void 0,slots:I,slotProps:F,classes:d,children:q.format(we,"year")},q.format(we,"year"))}),Array.from({length:Ee},(we,We)=>r.jsx(oV,{},We))]}))}),cV=e=>Ln("MuiPickersCalendarHeader",e),uV=zn("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]);function dV(e){return Ln("MuiPickersArrowSwitcher",e)}zn("MuiPickersArrowSwitcher",["root","spacer","button","previousIconButton","nextIconButton","leftArrowIcon","rightArrowIcon"]);const hV=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId","classes"],fV=["ownerState"],pV=["ownerState"],mV=$e("div",{name:"MuiPickersArrowSwitcher",slot:"Root"})({display:"flex"}),gV=$e("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer"})(({theme:e})=>({width:e.spacing(3)})),N1=$e(Be,{name:"MuiPickersArrowSwitcher",slot:"Button"})({variants:[{props:{isButtonHidden:!0},style:{visibility:"hidden"}}]}),yV=e=>xn({root:["root"],spacer:["spacer"],button:["button"],previousIconButton:["previousIconButton"],nextIconButton:["nextIconButton"],leftArrowIcon:["leftArrowIcon"],rightArrowIcon:["rightArrowIcon"]},dV,e),xV=x.forwardRef(function(t,s){const a=ia(),l=hn({props:t,name:"MuiPickersArrowSwitcher"}),{children:u,className:d,slots:h,slotProps:p,isNextDisabled:g,isNextHidden:y,onGoToNext:b,nextLabel:v,isPreviousDisabled:S,isPreviousHidden:T,onGoToPrevious:k,previousLabel:w,labelId:j,classes:E}=l,M=ft(l,hV),{ownerState:W}=Qn(),O=yV(E),R={isDisabled:g,isHidden:y,goTo:b,label:v},_={isDisabled:S,isHidden:T,goTo:k,label:w},L=h?.previousIconButton??N1,I=Wt({elementType:L,externalSlotProps:p?.previousIconButton,additionalProps:{size:"medium",title:_.label,"aria-label":_.label,disabled:_.isDisabled,edge:"end",onClick:_.goTo},ownerState:K({},W,{isButtonHidden:_.isHidden??!1}),className:$n(O.button,O.previousIconButton)}),F=h?.nextIconButton??N1,B=Wt({elementType:F,externalSlotProps:p?.nextIconButton,additionalProps:{size:"medium",title:R.label,"aria-label":R.label,disabled:R.isDisabled,edge:"start",onClick:R.goTo},ownerState:K({},W,{isButtonHidden:R.isHidden??!1}),className:$n(O.button,O.nextIconButton)}),z=h?.leftArrowIcon??uB,ce=Wt({elementType:z,externalSlotProps:p?.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:W,className:O.leftArrowIcon}),U=ft(ce,fV),ie=h?.rightArrowIcon??dB,V=Wt({elementType:ie,externalSlotProps:p?.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:W,className:O.rightArrowIcon}),q=ft(V,pV);return r.jsxs(mV,K({ref:s,className:$n(O.root,d),ownerState:W},M,{children:[r.jsx(L,K({},I,{children:a?r.jsx(ie,K({},q)):r.jsx(z,K({},U))})),u?r.jsx(P,{variant:"subtitle1",component:"span",id:j,children:u}):r.jsx(gV,{className:O.spacer,ownerState:W}),r.jsx(F,K({},B,{children:a?r.jsx(z,K({},U)):r.jsx(ie,K({},q))}))]}))});function bV(e,{disableFuture:t,maxDate:s,timezone:a}){const l=Kt();return x.useMemo(()=>{const u=l.date(void 0,a),d=l.startOfMonth(t&&l.isBefore(u,s)?u:s);return!l.isAfter(d,e)},[t,s,e,l,a])}function vV(e,{disablePast:t,minDate:s,timezone:a}){const l=Kt();return x.useMemo(()=>{const u=l.date(void 0,a),d=l.startOfMonth(t&&l.isAfter(u,s)?u:s);return!l.isBefore(d,e)},[t,s,e,l,a])}const SV=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","classes","timezone","format"],wV=["ownerState"],CV=e=>xn({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},cV,e),jV=$e("div",{name:"MuiPickersCalendarHeader",slot:"Root"})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),kV=$e("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer"})(({theme:e})=>K({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),TV=$e("div",{name:"MuiPickersCalendarHeader",slot:"Label"})({marginRight:6}),DV=$e(Be,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton"})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${uV.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),EV=$e(cB,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon"})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"})),MV=x.forwardRef(function(t,s){const a=qa(),l=Kt(),u=hn({props:t,name:"MuiPickersCalendarHeader"}),{slots:d,slotProps:h,currentMonth:p,disabled:g,disableFuture:y,disablePast:b,maxDate:v,minDate:S,onMonthChange:T,onViewChange:k,view:w,reduceAnimations:j,views:E,labelId:M,className:W,classes:O,timezone:R,format:_=`${l.formats.month} ${l.formats.year}`}=u,L=ft(u,SV),{ownerState:I}=Qn(),F=CV(O),B=d?.switchViewButton??DV,z=Wt({elementType:B,externalSlotProps:h?.switchViewButton,additionalProps:{size:"small","aria-label":a.calendarViewSwitchingButtonAriaLabel(w)},ownerState:K({},I,{view:w}),className:F.switchViewButton}),ce=d?.switchViewIcon??EV,U=Wt({elementType:ce,externalSlotProps:h?.switchViewIcon,ownerState:I,className:F.switchViewIcon}),ie=ft(U,wV),V=()=>T(l.addMonths(p,1)),q=()=>T(l.addMonths(p,-1)),le=bV(p,{disableFuture:y,maxDate:v,timezone:R}),pe=vV(p,{disablePast:b,minDate:S,timezone:R}),ke=()=>{if(!(E.length===1||!k||g))if(E.length===2)k(E.find(Q=>Q!==w)||E[0]);else{const Q=E.indexOf(w)!==0?0:1;k(E[Q])}};if(E.length===1&&E[0]==="year")return null;const be=l.formatByString(p,_);return r.jsxs(jV,K({},L,{ownerState:I,className:$n(F.root,W),ref:s,children:[r.jsxs(kV,{role:"presentation",onClick:ke,ownerState:I,"aria-live":"polite",className:F.labelContainer,children:[r.jsx(OD,{reduceAnimations:j,transKey:be,children:r.jsx(TV,{id:M,ownerState:I,className:F.label,children:be})}),E.length>1&&!g&&r.jsx(B,K({},z,{children:r.jsx(ce,K({},ie))}))]}),r.jsx(yh,{in:w==="day",appear:!j,enter:!j,children:r.jsx(xV,{slots:d,slotProps:h,onGoToPrevious:q,isPreviousDisabled:pe,previousLabel:a.previousMonth,onGoToNext:V,isNextDisabled:le,nextLabel:a.nextMonth})})]}))}),AV=$e("div")({overflow:"hidden",width:_h,maxHeight:sx,display:"flex",flexDirection:"column",margin:"0 auto"}),PV=e=>Ln("MuiDateCalendar",e);zn("MuiDateCalendar",["root","viewTransitionContainer"]);const OV=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","classes","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsOrder","yearsPerRow","monthsPerRow","timezone"],RV=e=>xn({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},PV,e);function _V(e,t){const s=hn({props:e,name:t}),a=uD(s.reduceAnimations),l=au(s);return K({},s,l,{loading:s.loading??!1,openTo:s.openTo??"day",views:s.views??["year","day"],reduceAnimations:a,renderLoading:s.renderLoading??(()=>r.jsx("span",{children:"..."}))})}const IV=$e(AV,{name:"MuiDateCalendar",slot:"Root"})({display:"flex",flexDirection:"column",height:sx}),WV=$e(OD,{name:"MuiDateCalendar",slot:"ViewTransitionContainer"})({}),NV=x.forwardRef(function(t,s){const a=Kt(),{ownerState:l}=Qn(),u=Wg(),d=_V(t,"MuiDateCalendar"),{autoFocus:h,onViewChange:p,value:g,defaultValue:y,referenceDate:b,disableFuture:v,disablePast:S,onChange:T,onMonthChange:k,reduceAnimations:w,shouldDisableDate:j,shouldDisableMonth:E,shouldDisableYear:M,view:W,views:O,openTo:R,className:_,classes:L,disabled:I,readOnly:F,minDate:B,maxDate:z,disableHighlightToday:ce,focusedView:U,onFocusedViewChange:ie,showDaysOutsideCurrentMonth:V,fixedWeekNumber:q,dayOfWeekFormatter:le,slots:pe,slotProps:ke,loading:be,renderLoading:Q,displayWeekNumber:ee,yearsOrder:ue,yearsPerRow:me,monthsPerRow:ge,timezone:ae}=d,Y=ft(d,OV),{value:oe,handleValueChange:G,timezone:he}=ru({name:"DateCalendar",timezone:ae,value:g,defaultValue:y,referenceDate:b,onChange:T,valueManager:Ci}),{view:ve,setView:Oe,focusedView:fe,setFocusedView:te,goToNextView:J,setValueAndGoToNextView:Re}=hD({view:W,views:O,openTo:R,onChange:G,onViewChange:p,autoFocus:h,focusedView:U,onFocusedViewChange:ie}),{referenceDate:Fe,calendarState:Ee,setVisibleDate:we,isDateDisabled:We,onMonthSwitchingAnimationEnd:X}=h4({value:oe,referenceDate:b,reduceAnimations:w,onMonthChange:k,minDate:B,maxDate:z,shouldDisableDate:j,disablePast:S,disableFuture:v,timezone:he,getCurrentMonthFromVisibleDate:(_e,Je)=>a.isSameMonth(_e,Je)?Je:a.startOfMonth(_e)}),Te=I&&oe||B,De=I&&oe||z,Me=`${u}-grid-label`,Le=fe!==null,qe=pe?.calendarHeader??MV,xt=Wt({elementType:qe,externalSlotProps:ke?.calendarHeader,additionalProps:{views:O,view:ve,currentMonth:Ee.currentMonth,onViewChange:Oe,onMonthChange:_e=>we({target:_e,reason:"header-navigation"}),minDate:Te,maxDate:De,disabled:I,disablePast:S,disableFuture:v,reduceAnimations:w,timezone:he,labelId:Me},ownerState:l}),He=Ve(_e=>{const Je=a.startOfMonth(_e),Xe=a.endOfMonth(_e),lt=We(_e)?zc({adapter:a,date:_e,minDate:a.isBefore(B,Je)?Je:B,maxDate:a.isAfter(z,Xe)?Xe:z,disablePast:S,disableFuture:v,isDateDisabled:We,timezone:he}):_e;lt?(Re(lt,"finish"),we({target:lt,reason:"cell-interaction"})):(J(),we({target:Je,reason:"cell-interaction"}))}),Qe=Ve(_e=>{const Je=a.startOfYear(_e),Xe=a.endOfYear(_e),lt=We(_e)?zc({adapter:a,date:_e,minDate:a.isBefore(B,Je)?Je:B,maxDate:a.isAfter(z,Xe)?Xe:z,disablePast:S,disableFuture:v,isDateDisabled:We,timezone:he}):_e;lt?(Re(lt,"finish"),we({target:lt,reason:"cell-interaction"})):(J(),we({target:Je,reason:"cell-interaction"}))}),rt=Ve(_e=>G(_e&&uh(a,_e,oe??Fe),"finish",ve));x.useEffect(()=>{a.isValid(oe)&&we({target:oe,reason:"controlled-value-change"})},[oe]);const dt=RV(L),bt={disablePast:S,disableFuture:v,maxDate:z,minDate:B},Ye={disableHighlightToday:ce,readOnly:F,disabled:I,timezone:he,gridLabelId:Me,slots:pe,slotProps:ke},mt=x.useRef(ve);x.useEffect(()=>{mt.current!==ve&&(fe===mt.current&&te(ve,!0),mt.current=ve)},[fe,te,ve]);const Pe=x.useMemo(()=>[oe],[oe]);return r.jsxs(IV,K({ref:s,className:$n(dt.root,_),ownerState:l},Y,{children:[r.jsx(qe,K({},xt,{slots:pe,slotProps:ke})),r.jsx(WV,{reduceAnimations:w,className:dt.viewTransitionContainer,transKey:ve,ownerState:l,children:r.jsxs("div",{children:[ve==="year"&&r.jsx(lV,K({},bt,Ye,{value:oe,onChange:Qe,shouldDisableYear:M,hasFocus:Le,onFocusedViewChange:_e=>te("year",_e),yearsOrder:ue,yearsPerRow:me,referenceDate:Fe})),ve==="month"&&r.jsx(Z4,K({},bt,Ye,{currentMonth:Ee.currentMonth,hasFocus:Le,className:_,value:oe,onChange:He,shouldDisableMonth:E,onFocusedViewChange:_e=>te("month",_e),monthsPerRow:ge,referenceDate:Fe})),ve==="day"&&r.jsx(H4,K({},Ee,bt,Ye,{onMonthSwitchingAnimationEnd:X,hasFocus:Le,onFocusedDayChange:_e=>we({target:_e,reason:"cell-interaction"}),reduceAnimations:w,selectedDays:Pe,onSelectedDaysChange:rt,shouldDisableDate:j,shouldDisableMonth:E,shouldDisableYear:M,onFocusedViewChange:_e=>te("day",_e),showDaysOutsideCurrentMonth:V,fixedWeekNumber:q,dayOfWeekFormatter:le,displayWeekNumber:ee,loading:be,renderLoading:Q}))]})})]}))}),$o=({view:e,onViewChange:t,views:s,focusedView:a,onFocusedViewChange:l,value:u,defaultValue:d,referenceDate:h,onChange:p,className:g,classes:y,disableFuture:b,disablePast:v,minDate:S,maxDate:T,shouldDisableDate:k,shouldDisableMonth:w,shouldDisableYear:j,reduceAnimations:E,onMonthChange:M,monthsPerRow:W,onYearChange:O,yearsOrder:R,yearsPerRow:_,slots:L,slotProps:I,loading:F,renderLoading:B,disableHighlightToday:z,readOnly:ce,disabled:U,showDaysOutsideCurrentMonth:ie,dayOfWeekFormatter:V,sx:q,autoFocus:le,fixedWeekNumber:pe,displayWeekNumber:ke,timezone:be})=>r.jsx(NV,{view:e,onViewChange:t,views:s.filter(v1),focusedView:a&&v1(a)?a:null,onFocusedViewChange:l,value:u,defaultValue:d,referenceDate:h,onChange:p,className:g,classes:y,disableFuture:b,disablePast:v,minDate:S,maxDate:T,shouldDisableDate:k,shouldDisableMonth:w,shouldDisableYear:j,reduceAnimations:E,onMonthChange:M,monthsPerRow:W,onYearChange:O,yearsOrder:R,yearsPerRow:_,slots:L,slotProps:I,loading:F,renderLoading:B,disableHighlightToday:z,readOnly:ce,disabled:U,showDaysOutsideCurrentMonth:ie,dayOfWeekFormatter:V,sx:q,autoFocus:le,fixedWeekNumber:pe,displayWeekNumber:ke,timezone:be}),zD=x.forwardRef(function(t,s){const a=Kt(),l=lD(t,"MuiDesktopDatePicker"),u=K({day:$o,month:$o,year:$o},l.viewRenderers),d=K({},l,{closeOnSelect:l.closeOnSelect??!0,viewRenderers:u,format:Qy(a,l,!1),yearsPerRow:l.yearsPerRow??4,slots:K({field:AD},l.slots),slotProps:K({},l.slotProps,{field:p=>K({},xi(l.slotProps?.field,p),aD(l)),toolbar:K({hidden:!0},l.slotProps?.toolbar)})}),{renderPicker:h}=$z({ref:s,props:d,valueManager:Ci,valueType:"date",validator:iu,steps:null});return h()});zD.propTypes={autoFocus:D.bool,className:D.string,closeOnSelect:D.bool,dayOfWeekFormatter:D.func,defaultValue:D.object,disabled:D.bool,disableFuture:D.bool,disableHighlightToday:D.bool,disableOpenPicker:D.bool,disablePast:D.bool,displayWeekNumber:D.bool,enableAccessibleFieldDOMStructure:D.any,fixedWeekNumber:D.number,format:D.string,formatDensity:D.oneOf(["dense","spacious"]),inputRef:RC,label:D.node,loading:D.bool,localeText:D.object,maxDate:D.object,minDate:D.object,monthsPerRow:D.oneOf([3,4]),name:D.string,onAccept:D.func,onChange:D.func,onClose:D.func,onError:D.func,onMonthChange:D.func,onOpen:D.func,onSelectedSectionsChange:D.func,onViewChange:D.func,onYearChange:D.func,open:D.bool,openTo:D.oneOf(["day","month","year"]),orientation:D.oneOf(["landscape","portrait"]),readOnly:D.bool,reduceAnimations:D.bool,referenceDate:D.object,renderLoading:D.func,selectedSections:D.oneOfType([D.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),D.number]),shouldDisableDate:D.func,shouldDisableMonth:D.func,shouldDisableYear:D.func,showDaysOutsideCurrentMonth:D.bool,slotProps:D.object,slots:D.object,sx:D.oneOfType([D.arrayOf(D.oneOfType([D.func,D.object,D.bool])),D.func,D.object]),timezone:D.string,value:D.object,view:D.oneOf(["day","month","year"]),viewRenderers:D.shape({day:D.func,month:D.func,year:D.func}),views:D.arrayOf(D.oneOf(["day","month","year"]).isRequired),yearsOrder:D.oneOf(["asc","desc"]),yearsPerRow:D.oneOf([3,4])};const LV=$e(In)({[`& .${TS.container}`]:{outline:0},[`& .${TS.paper}`]:{outline:0,minWidth:_h}}),zV=$e(Wn)({"&:first-of-type":{padding:0}});function BV(e){const{children:t,slots:s,slotProps:a}=e,{open:l}=cl(),{dismissViews:u,onPopperExited:d}=Qn(),h=s?.dialog??LV,p=s?.mobileTransition??yh;return r.jsx(h,K({open:l,onClose:()=>{u(),d?.()}},a?.dialog,{TransitionComponent:p,TransitionProps:a?.mobileTransition,PaperComponent:s?.mobilePaper,PaperProps:a?.mobilePaper,children:r.jsx(zV,{children:t})}))}const VV=["props","steps"],FV=["ownerState"],HV=e=>{let{props:t,steps:s}=e,a=ft(e,VV);const{slots:l,slotProps:u,label:d,inputRef:h,localeText:p}=t,g=gD({steps:s}),{providerProps:y,renderCurrentView:b,ownerState:v}=fD(K({},a,{props:t,localeText:p,autoFocusView:!0,viewContainerRole:"dialog",variant:"mobile",getStepNavigation:g})),S=y.privateContextValue.labelId,T=u?.toolbar?.hidden??!1,k=l.field,w=Wt({elementType:k,externalSlotProps:u?.field,additionalProps:K({},T&&{id:S}),ownerState:v}),j=ft(w,FV),E=l.layout??mD;let M=S;T&&(d?M=`${S}-label`:M=void 0);const W=K({},u,{toolbar:K({},u?.toolbar,{titleId:S}),mobilePaper:K({"aria-labelledby":M},u?.mobilePaper)});return{renderPicker:()=>r.jsxs(tD,K({},y,{children:[r.jsx(k,K({},j,{slots:l,slotProps:W,inputRef:h})),r.jsx(BV,{slots:l,slotProps:W,children:r.jsx(E,K({},W?.layout,{slots:l,slotProps:W,children:b()}))})]}))}},BD=x.forwardRef(function(t,s){const a=Kt(),l=lD(t,"MuiMobileDatePicker"),u=K({day:$o,month:$o,year:$o},l.viewRenderers),d=K({},l,{viewRenderers:u,format:Qy(a,l,!1),slots:K({field:AD},l.slots),slotProps:K({},l.slotProps,{field:p=>K({},xi(l.slotProps?.field,p),aD(l)),toolbar:K({hidden:!1},l.slotProps?.toolbar)})}),{renderPicker:h}=HV({ref:s,props:d,valueManager:Ci,valueType:"date",validator:iu,steps:null});return h()});BD.propTypes={autoFocus:D.bool,className:D.string,closeOnSelect:D.bool,dayOfWeekFormatter:D.func,defaultValue:D.object,disabled:D.bool,disableFuture:D.bool,disableHighlightToday:D.bool,disableOpenPicker:D.bool,disablePast:D.bool,displayWeekNumber:D.bool,enableAccessibleFieldDOMStructure:D.any,fixedWeekNumber:D.number,format:D.string,formatDensity:D.oneOf(["dense","spacious"]),inputRef:RC,label:D.node,loading:D.bool,localeText:D.object,maxDate:D.object,minDate:D.object,monthsPerRow:D.oneOf([3,4]),name:D.string,onAccept:D.func,onChange:D.func,onClose:D.func,onError:D.func,onMonthChange:D.func,onOpen:D.func,onSelectedSectionsChange:D.func,onViewChange:D.func,onYearChange:D.func,open:D.bool,openTo:D.oneOf(["day","month","year"]),orientation:D.oneOf(["landscape","portrait"]),readOnly:D.bool,reduceAnimations:D.bool,referenceDate:D.object,renderLoading:D.func,selectedSections:D.oneOfType([D.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),D.number]),shouldDisableDate:D.func,shouldDisableMonth:D.func,shouldDisableYear:D.func,showDaysOutsideCurrentMonth:D.bool,slotProps:D.object,slots:D.object,sx:D.oneOfType([D.arrayOf(D.oneOfType([D.func,D.object,D.bool])),D.func,D.object]),timezone:D.string,value:D.object,view:D.oneOf(["day","month","year"]),viewRenderers:D.shape({day:D.func,month:D.func,year:D.func}),views:D.arrayOf(D.oneOf(["day","month","year"]).isRequired),yearsOrder:D.oneOf(["asc","desc"]),yearsPerRow:D.oneOf([3,4])};const UV=["desktopModeMediaQuery"],dh=x.forwardRef(function(t,s){const a=hn({props:t,name:"MuiDatePicker"}),{desktopModeMediaQuery:l=mz}=a,u=ft(a,UV);return Ig(l,{defaultMatches:!0})?r.jsx(zD,K({ref:s},u)):r.jsx(BD,K({ref:s},u))}),qV={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},YV={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",dayOfMonthFull:"do",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class GV{isMUIAdapter=!0;isTimezoneCompatible=!1;formatTokenMap=qV;escapedCharacters={start:"'",end:"'"};constructor(t){const{locale:s,formats:a,longFormatters:l,lib:u}=t;this.locale=s,this.formats=K({},YV,a),this.longFormatters=l,this.lib=u||"date-fns"}date=t=>typeof t>"u"?new Date:t===null?null:new Date(t);getInvalidDate=()=>new Date("Invalid Date");getTimezone=()=>"default";setTimezone=t=>t;toJsDate=t=>t;getCurrentLocaleCode=()=>this.locale.code;is12HourCycleInCurrentLocale=()=>/a/.test(this.locale.formatLong.time({width:"short"}));expandFormat=t=>{const s=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return t.match(s).map(a=>{const l=a[0];if(l==="p"||l==="P"){const u=this.longFormatters[l];return u(a,this.locale.formatLong)}return a}).join("")};formatNumber=t=>t;getDayOfWeek=t=>t.getDay()+1}class cx extends GV{constructor({locale:t,formats:s}={}){super({locale:t??ry,formats:s,longFormatters:nh})}parse=(t,s)=>t===""?null:vI(t,s,new Date,{locale:this.locale});isValid=t=>t==null?!1:Yj(t);format=(t,s)=>this.formatByString(t,this.formats[s]);formatByString=(t,s)=>Ym(t,s,{locale:this.locale});isEqual=(t,s)=>t===null&&s===null?!0:t===null||s===null?!1:k5(t,s);isSameYear=(t,s)=>CI(t,s);isSameMonth=(t,s)=>rk(t,s);isSameDay=(t,s)=>Um(t,s);isSameHour=(t,s)=>wI(t,s);isAfter=(t,s)=>Ld(t,s);isAfterYear=(t,s)=>Ld(t,ew(s));isAfterDay=(t,s)=>Ld(t,JS(s));isBefore=(t,s)=>fm(t,s);isBeforeYear=(t,s)=>fm(t,this.startOfYear(s));isBeforeDay=(t,s)=>fm(t,this.startOfDay(s));isWithinRange=(t,[s,a])=>jI(t,{start:s,end:a});startOfYear=t=>Kj(t);startOfMonth=t=>$j(t);startOfWeek=t=>oi(t,{locale:this.locale});startOfDay=t=>Oc(t);endOfYear=t=>ew(t);endOfMonth=t=>Gj(t);endOfWeek=t=>Qj(t,{locale:this.locale});endOfDay=t=>JS(t);addYears=(t,s)=>C_(t,s);addMonths=(t,s)=>kh(t,s);addWeeks=(t,s)=>w_(t,s);addDays=(t,s)=>Zc(t,s);addHours=(t,s)=>g_(t,s);addMinutes=(t,s)=>v_(t,s);addSeconds=(t,s)=>S_(t,s);getYear=t=>j5(t);getMonth=t=>w5(t);getDate=t=>g5(t);getHours=t=>x5(t);getMinutes=t=>S5(t);getSeconds=t=>C5(t);getMilliseconds=t=>v5(t);setYear=(t,s)=>PI(t,s);setMonth=(t,s)=>kI(t,s);setDate=(t,s)=>TI(t,s);setHours=(t,s)=>DI(t,s);setMinutes=(t,s)=>MI(t,s);setSeconds=(t,s)=>AI(t,s);setMilliseconds=(t,s)=>EI(t,s);getDaysInMonth=t=>tk(t);getWeekArray=t=>{const s=this.startOfWeek(this.startOfMonth(t)),a=this.endOfWeek(this.endOfMonth(t));let l=0,u=s;const d=[];for(;this.isBefore(u,a);){const h=Math.floor(l/7);d[h]=d[h]||[],d[h].push(u),u=this.addDays(u,1),l+=1}return d};getWeekNumber=t=>ly(t,{locale:this.locale});getYearRange=([t,s])=>{const a=this.startOfYear(t),l=this.endOfYear(s),u=[];let d=a;for(;this.isBefore(d,l);)u.push(d),d=this.addYears(d,1);return u}}const ps={STRENGTH:"strength",CARDIO:"cardio",YOGA:"yoga",REST:"rest"},Pa={FULL:"full",UPPER:"upper",PUSH:"push",PULL:"pull",LEGS:"legs",CORE:"core"},VD=({open:e,onClose:t,activity:s,onSave:a})=>{const[l,u]=x.useState({date:new Date,duration:"",notes:"",sessionName:"",sessionType:ps.STRENGTH,workoutType:Pa.FULL,numExercises:"",setsPerExercise:""});x.useEffect(()=>{if(s&&e){const g=s.duration?Math.round(s.duration/60):"";u({date:new Date(s.date),duration:g,notes:s.notes||"",sessionName:s.sessionName||"",sessionType:s.sessionType||ps.STRENGTH,workoutType:s.type||Pa.FULL,numExercises:s.numExercises||"",setsPerExercise:s.setsPerExercise||""})}},[s,e]);const d=(g,y)=>{u(b=>({...b,[g]:y}))},h=()=>{const g=l.duration?parseFloat(l.duration)*60:0,y={...s,date:l.date.getTime(),duration:g,notes:l.notes.trim(),sessionName:l.sessionName.trim(),sessionType:l.sessionType,type:l.sessionType===ps.STRENGTH?l.workoutType:l.sessionType,numExercises:l.sessionType===ps.STRENGTH&&parseInt(l.numExercises)||void 0,setsPerExercise:l.sessionType===ps.STRENGTH&&parseInt(l.setsPerExercise)||void 0};a(y),t()},p=()=>!(!l.date||l.sessionType!==ps.REST&&(!l.duration||parseFloat(l.duration)<=0)||l.sessionType===ps.STRENGTH&&(!l.numExercises||parseInt(l.numExercises)<=0||!l.setsPerExercise||parseInt(l.setsPerExercise)<=0));return r.jsx(Ph,{dateAdapter:cx,children:r.jsxs(In,{open:e,onClose:t,maxWidth:"sm",fullWidth:!0,children:[r.jsx(Kn,{children:"Edit Activity"}),r.jsx(Wn,{children:r.jsxs(Ie,{spacing:2,sx:{mt:1},children:[r.jsx(dh,{label:"Date",value:l.date,onChange:g=>d("date",g),slotProps:{textField:{fullWidth:!0}}}),r.jsxs($t,{fullWidth:!0,children:[r.jsx(_n,{children:"Session Type"}),r.jsxs(Zt,{value:l.sessionType,label:"Session Type",onChange:g=>d("sessionType",g.target.value),children:[r.jsx(Ne,{value:ps.STRENGTH,children:"Strength"}),r.jsx(Ne,{value:ps.CARDIO,children:"Cardio"}),r.jsx(Ne,{value:ps.YOGA,children:"Yoga"}),r.jsx(Ne,{value:ps.REST,children:"Rest Day"})]})]}),l.sessionType===ps.STRENGTH&&r.jsxs($t,{fullWidth:!0,children:[r.jsx(_n,{children:"Workout Type"}),r.jsxs(Zt,{value:l.workoutType,label:"Workout Type",onChange:g=>d("workoutType",g.target.value),children:[r.jsx(Ne,{value:Pa.FULL,children:"Full Body"}),r.jsx(Ne,{value:Pa.UPPER,children:"Upper Body"}),r.jsx(Ne,{value:Pa.PUSH,children:"Push"}),r.jsx(Ne,{value:Pa.PULL,children:"Pull"}),r.jsx(Ne,{value:Pa.LEGS,children:"Legs"}),r.jsx(Ne,{value:Pa.CORE,children:"Core"})]})]}),l.sessionType!==ps.REST&&r.jsx(gt,{fullWidth:!0,type:"number",label:"Duration (minutes)",placeholder:"e.g., 45",value:l.duration,onChange:g=>d("duration",g.target.value),variant:"outlined",inputProps:{min:0,step:1}}),l.sessionType===ps.STRENGTH&&r.jsxs(r.Fragment,{children:[r.jsx(gt,{fullWidth:!0,type:"number",label:"Number of Exercises",placeholder:"e.g., 6",value:l.numExercises,onChange:g=>d("numExercises",g.target.value),variant:"outlined",inputProps:{min:1,step:1}}),r.jsx(gt,{fullWidth:!0,type:"number",label:"Sets per Exercise",placeholder:"e.g., 3",value:l.setsPerExercise,onChange:g=>d("setsPerExercise",g.target.value),variant:"outlined",inputProps:{min:1,step:1}})]}),r.jsx(gt,{fullWidth:!0,label:"Session Name (optional)",placeholder:"e.g., Morning workout, Leg day, etc.",value:l.sessionName,onChange:g=>d("sessionName",g.target.value),variant:"outlined"}),r.jsx(gt,{fullWidth:!0,multiline:!0,rows:4,label:"Notes (optional)",placeholder:"Add any notes about your session...",value:l.notes,onChange:g=>d("notes",g.target.value),variant:"outlined"})]})}),r.jsxs(Nn,{children:[r.jsx(Ae,{onClick:t,children:"Cancel"}),r.jsx(Ae,{onClick:h,variant:"contained",disabled:!p(),children:"Save"})]})]})})};VD.propTypes={open:D.bool.isRequired,onClose:D.func.isRequired,activity:D.object,onSave:D.func.isRequired};const ux=x.memo(({onNavigate:e,loading:t=!1,workoutType:s,selectedEquipment:a,equipmentOptions:l,onWorkoutTypeChange:u,onEquipmentChange:d,onStartWorkout:h,onCustomize:p,onTabChange:g})=>{const[y,b]=x.useState(""),[v,S]=x.useState([]),[T,k]=x.useState([]),[w,j]=x.useState(!1),{weeklySchedule:E}=Ha(),[M,W]=x.useState([2,2,2,2]),[O,R]=x.useState(!1),[_,L]=x.useState(!1),[I,F]=x.useState(null),[B,z]=x.useState({open:!1,message:"",severity:"success"});x.useEffect(()=>{const Y={weekday:"short",month:"short",day:"numeric"};b(new Date().toLocaleDateString("en-US",Y))},[]);const U=(()=>{const oe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date().getDay()];return E[oe]})(),ie=async()=>{try{const Y=await ci();k(Y),S(Y.slice(0,5))}catch(Y){console.error("Error loading recent workouts:",Y)}};x.useEffect(()=>{ie()},[]);const V=Y=>{F(Y),R(!0)},q=Y=>{F(Y),L(!0)},le=async()=>{try{await XR(I),z({open:!0,message:"Activity deleted successfully",severity:"success"}),L(!1),F(null),await ie()}catch(Y){console.error("Error deleting activity:",Y),z({open:!0,message:"Failed to delete activity",severity:"error"})}},pe=async Y=>{try{await ZR(I,Y),z({open:!0,message:"Activity updated successfully",severity:"success"}),R(!1),F(null),await ie()}catch(oe){console.error("Error updating activity:",oe),z({open:!0,message:"Failed to update activity",severity:"error"})}},ke=Y=>{const oe=new Set(a);Y==="all"?(oe.clear(),oe.add("all")):(oe.has("all")&&oe.delete("all"),oe.has(Y)?oe.delete(Y):oe.add(Y),oe.size===0&&oe.add("all")),d(oe)},be=()=>{if(a.has("all"))return"All Equipment";const Y=Array.from(a);return Y.length===0?"All Equipment":Y.length===1?l.find(G=>G.toLowerCase()===Y[0])||Y[0]:`${Y.length} selected`},Q=()=>{W([...M,2])},ee=Y=>{if(M.length>1){const oe=M.filter((G,he)=>he!==Y);W(oe)}},ue=(Y,oe)=>{const G=[...M],he=Math.max(1,Math.min(6,G[Y]+oe));G[Y]=he,W(G)},me=()=>{if(s&&h){const Y=a.has("all")?"all":Array.from(a);h(s,Y,null,M)}},ge=()=>{if(s&&p){const Y=a.has("all")?"all":Array.from(a);p(s,Y,M)}},ae=()=>{if(!U)return;const Y=(U.sessionType||"").toLowerCase();if(Y.includes("rest")){j(!0);return}if(Y.includes("cardio")||Y.includes("hiit")||Y.includes("yoga")||Y.includes("mobility")||Y.includes("stretch")){g&&g(1);return}if(["full","upper","lower","push","pull","legs","core"].includes(Y)){u(Y);const G=a.has("all")?"all":Array.from(a);U.exercises&&U.exercises.length>0?h(Y,G,U.exercises,M):h(Y,G,null,M)}};return r.jsxs(N,{children:[w&&r.jsx(Gy,{onClose:()=>j(!1)}),r.jsx(N,{sx:{mb:4,textAlign:"center"},children:r.jsxs(P,{variant:"h5",sx:{fontWeight:600,color:"text.secondary",fontSize:{xs:"1rem",sm:"1.25rem"},display:"flex",alignItems:"center",justifyContent:"center",gap:1,flexWrap:"wrap"},children:[r.jsx("span",{children:y}),U&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),r.jsx(yt,{label:`Suggested Session: ${U.sessionName||U.sessionType}`,color:"primary",variant:"outlined",size:"small",onClick:ae,sx:{fontWeight:600,fontSize:{xs:"0.75rem",sm:"0.875rem"},cursor:"pointer","&:hover":{backgroundColor:"rgba(19, 70, 134, 0.08)"}}})]})]})}),r.jsx(it,{elevation:2,sx:{mb:3,borderRadius:3,background:"linear-gradient(135deg, rgba(237, 63, 39, 0.05) 0%, rgba(19, 70, 134, 0.05) 100%)"},children:r.jsxs(ut,{sx:{p:{xs:2,sm:3}},children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center",mb:2},children:[r.jsx(gn,{sx:{color:"secondary.main",mr:1}}),r.jsx(P,{variant:"h6",sx:{color:"text.primary",fontWeight:600},children:"Start a Workout"})]}),r.jsxs(Ie,{spacing:2,sx:{mb:3},children:[r.jsxs($t,{fullWidth:!0,size:"medium",children:[r.jsx(_n,{id:"workout-type-label",children:"Workout Type"}),r.jsxs(Zt,{labelId:"workout-type-label",value:s||"full",label:"Workout Type",onChange:Y=>u(Y.target.value),children:[r.jsx(Ne,{value:"full",children:"Full Body"}),r.jsx(Ne,{value:"upper",children:"Upper Body"}),r.jsx(Ne,{value:"lower",children:"Lower Body"}),r.jsx(Ne,{value:"push",children:"Push"}),r.jsx(Ne,{value:"pull",children:"Pull"}),r.jsx(Ne,{value:"legs",children:"Legs"}),r.jsx(Ne,{value:"core",children:"Core"})]})]}),r.jsxs(Vo,{sx:{boxShadow:"none",border:"1px solid rgba(0, 0, 0, 0.23)",borderRadius:"4px !important","&:before":{display:"none"},"&.Mui-expanded":{margin:0}},children:[r.jsx(Fo,{expandIcon:r.jsx(Wa,{}),sx:{minHeight:"48px","&.Mui-expanded":{minHeight:"48px"},"& .MuiAccordionSummary-content":{margin:"12px 0","&.Mui-expanded":{margin:"12px 0"}}},children:r.jsxs(N,{sx:{display:"flex",flexDirection:"column",width:"100%"},children:[r.jsx(P,{variant:"caption",sx:{color:"text.primary",fontSize:"0.75rem",lineHeight:1,mb:.5},children:"Equipment"}),r.jsx(P,{sx:{color:"text.primary",fontSize:"1rem"},children:be()})]})}),r.jsx(Ho,{sx:{pt:0,pb:2},children:r.jsxs(Ie,{spacing:1,children:[r.jsx(yt,{label:"All Equipment",onClick:()=>ke("all"),color:a.has("all")?"primary":"default",variant:a.has("all")?"filled":"outlined",sx:{justifyContent:"flex-start"}}),l.map(Y=>r.jsx(yt,{label:Y,onClick:()=>ke(Y.toLowerCase()),color:a.has(Y.toLowerCase())?"primary":"default",variant:a.has(Y.toLowerCase())?"filled":"outlined",sx:{justifyContent:"flex-start"}},Y))]})})]})]}),r.jsxs(Vo,{sx:{boxShadow:"none",border:"1px solid rgba(0, 0, 0, 0.12)",borderRadius:"4px !important","&:before":{display:"none"},mb:2},children:[r.jsx(Fo,{expandIcon:r.jsx(Wa,{}),children:r.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(HA,{sx:{fontSize:20}}),r.jsxs(P,{variant:"body2",sx:{fontWeight:600},children:["Superset Configuration (",M.length," supersets)"]})]})}),r.jsx(Ho,{children:r.jsxs(Ie,{spacing:2,children:[M.map((Y,oe)=>r.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:1,p:1.5,bgcolor:"action.hover",borderRadius:1},children:[r.jsxs(P,{variant:"body2",sx:{minWidth:"80px",fontWeight:500},children:["Superset ",oe+1]}),r.jsxs(Ie,{direction:"row",spacing:1,alignItems:"center",sx:{flex:1},children:[r.jsx(Be,{size:"small",onClick:()=>ue(oe,-1),disabled:Y<=1,children:r.jsx(wi,{fontSize:"small"})}),r.jsxs(P,{sx:{minWidth:"90px",textAlign:"center"},children:[Y," exercises"]}),r.jsx(Be,{size:"small",onClick:()=>ue(oe,1),disabled:Y>=6,children:r.jsx(Ks,{fontSize:"small"})})]}),r.jsx(Zn,{title:"Remove superset",children:r.jsx(Be,{size:"small",onClick:()=>ee(oe),disabled:M.length<=1,color:"error",children:r.jsx(wi,{fontSize:"small"})})})]},oe)),r.jsx(Ae,{variant:"outlined",size:"small",startIcon:r.jsx(Ks,{}),onClick:Q,sx:{alignSelf:"flex-start"},children:"Add Superset"})]})})]}),r.jsx(Cn,{sx:{my:2}}),r.jsxs(Ie,{direction:"row",spacing:2,children:[r.jsx(Ae,{variant:"outlined",size:"large",fullWidth:!0,disabled:!s||t,onClick:ge,startIcon:r.jsx(Mr,{}),sx:{minHeight:ch.navigation,fontSize:{xs:"0.95rem",sm:"1rem"},fontWeight:600,borderWidth:2,"&:hover":{borderWidth:2}},children:"Customize"}),r.jsx(Ae,{variant:"contained",size:"large",fullWidth:!0,disabled:!s||t,onClick:me,startIcon:r.jsx(ri,{}),sx:{minHeight:ch.navigation,fontSize:{xs:"0.95rem",sm:"1rem"},fontWeight:600,backgroundColor:"primary.main","&:hover":{backgroundColor:"primary.dark"}},children:"Generate"})]})]})}),r.jsx(Yy,{onStartWorkout:h}),r.jsx(N,{sx:{mb:3},children:r.jsx(FT,{workoutHistory:T})}),v.length>0&&r.jsxs(N,{sx:{mb:3},children:[r.jsxs(Ie,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[r.jsxs(P,{variant:"h6",sx:{fontWeight:600,color:"text.primary",display:"flex",alignItems:"center",gap:1},children:[r.jsx(Zi,{})," Recent Activity"]}),r.jsx(Ae,{size:"small",onClick:()=>e("progress"),sx:{color:"primary.main"},children:"View All"})]}),r.jsx($y,{activities:v,onEdit:V,onDelete:q,maxVisible:5,showLoadMore:!1})]}),r.jsx(VD,{open:O,onClose:()=>{R(!1),F(null)},activity:I!==null?v[I]:null,onSave:pe}),r.jsxs(In,{open:_,onClose:()=>{L(!1),F(null)},children:[r.jsx(Kn,{children:"Delete Activity?"}),r.jsx(Wn,{children:r.jsx(Ng,{children:"Are you sure you want to delete this activity? This action cannot be undone."})}),r.jsxs(Nn,{children:[r.jsx(Ae,{onClick:()=>{L(!1),F(null)},children:"Cancel"}),r.jsx(Ae,{onClick:le,color:"error",variant:"contained",children:"Delete"})]})]}),r.jsx(Qs,{open:B.open,autoHideDuration:6e3,onClose:()=>z({...B,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(qt,{onClose:()=>z({...B,open:!1}),severity:B.severity,sx:{width:"100%"},children:B.message})})]})});ux.displayName="WorkoutTab";ux.propTypes={onNavigate:D.func,loading:D.bool,workoutType:D.string,selectedEquipment:D.instanceOf(Set),equipmentOptions:D.array,onWorkoutTypeChange:D.func,onEquipmentChange:D.func,onStartWorkout:D.func,onCustomize:D.func,onTabChange:D.func};const L1=3,$V=8,Nh="/goodlift/data/exercises.json",KV="/goodlift/data/hiit-exercises.json",Md={UPPER_BODY:["Chest","Upper Chest","Lower Chest","Inner Chest","Back","Lats","Upper Back","Lower Back","Delts","Front Delts","Rear Delts","Side Delts","Biceps","Triceps","Forearms","Traps"],LOWER_BODY:["Quads","Hamstrings","Glutes","Calves","Hip Flexors"]},Oa={UPPER_BODY:{DUMBBELL:2.5,BARBELL:5},LOWER_BODY:{DUMBBELL:10,BARBELL:5}},QV={MILLISECONDS_PER_DAY:864e5},FD=({value:e,onChange:t,availableExercises:s,label:a="Exercise",placeholder:l="Type to search exercises...",size:u="small",fullWidth:d=!0,disabled:h=!1,sx:p={}})=>{const g=y=>{if(!y)return s;const b=y.toLowerCase().split(" ").filter(v=>v.length>0);return s.filter(v=>{const S=[v.name,v.muscleGroup].join(" ").toLowerCase();return b.every(T=>S.includes(T))})};return r.jsx(_C,{fullWidth:d,size:u,options:s,value:e,onChange:t,disabled:h,getOptionLabel:y=>typeof y=="string"?y:y?.name||"",filterOptions:(y,b)=>g(b.inputValue),isOptionEqualToValue:(y,b)=>typeof y=="string"&&typeof b=="string"?y===b:y?.name===b?.name,freeSolo:!0,renderInput:y=>r.jsx(gt,{...y,label:a,placeholder:l}),renderOption:(y,b)=>{const{key:v,...S}=y;return r.jsx("li",{...S,children:r.jsxs(N,{children:[r.jsx(P,{variant:"body2",children:b.name}),r.jsx(P,{variant:"caption",color:"text.secondary",children:b.muscleGroup})]})},v)},noOptionsText:"No exercises found. Try different search terms.",sx:p})};FD.propTypes={value:D.oneOfType([D.object,D.string]),onChange:D.func.isRequired,availableExercises:D.array.isRequired,label:D.string,placeholder:D.string,size:D.string,fullWidth:D.bool,disabled:D.bool,sx:D.object};const st={HIIT:"hiit",FLOW:"flow",CARDIO:"cardio"},z1=[{name:"Mountain Pose (Tadasana)",defaultDuration:30},{name:"Downward Dog (Adho Mukha Svanasana)",defaultDuration:60},{name:"Warrior I (Virabhadrasana I)",defaultDuration:45},{name:"Warrior II (Virabhadrasana II)",defaultDuration:45},{name:"Triangle Pose (Trikonasana)",defaultDuration:45},{name:"Tree Pose (Vrksasana)",defaultDuration:30},{name:"Child's Pose (Balasana)",defaultDuration:60},{name:"Cat-Cow Pose",defaultDuration:60},{name:"Seated Forward Bend (Paschimottanasana)",defaultDuration:60},{name:"Cobra Pose (Bhujangasana)",defaultDuration:30},{name:"Plank Pose",defaultDuration:30},{name:"Bridge Pose (Setu Bandhasana)",defaultDuration:45}],dx=({onNavigate:e,hideBackButton:t=!1})=>{const[s,a]=x.useState(st.CARDIO),[l,u]=x.useState(!0),[d,h]=x.useState(!1),[p,g]=x.useState(!1),[y,b]=x.useState(1200),[v,S]=x.useState(1200),[T,k]=x.useState(30),[w,j]=x.useState(15),[E,M]=x.useState(8),[W,O]=x.useState(1),[R,_]=x.useState(1),[L,I]=x.useState(1),[F,B]=x.useState(!0),[z,ce]=x.useState(10),[U,ie]=x.useState(0),[V,q]=x.useState(""),[le,pe]=x.useState([]),[ke,be]=x.useState({prep:"Get Ready",recovery:"Set Break"}),[Q,ee]=x.useState(!1),[ue,me]=x.useState(!1),[ge,ae]=x.useState([]),[Y,oe]=x.useState(0),[G,he]=x.useState(45),[ve,Oe]=x.useState(20),[fe,te]=x.useState([]),[J,Re]=x.useState([]),[Fe,Ee]=x.useState(!1),[we,We]=x.useState(""),[X,Te]=x.useState(null),[De,Me]=x.useState(!1),[Le,qe]=x.useState([]),[xt,He]=x.useState(!1),[Qe,rt]=x.useState(5),[dt,bt]=x.useState(""),Ye=x.useRef(null),mt=x.useRef(!1);x.useEffect(()=>{(async()=>{try{const Se=await gc(),ze=await yc();te(Se),Re(ze)}catch(Se){console.error("Error loading presets:",Se)}})()},[]),x.useEffect(()=>{(async()=>{try{const ze=await(await fetch(KV)).json();qe(ze)}catch(Se){console.error("Error loading HIIT exercises:",Se),qe([])}})()},[]),x.useEffect(()=>()=>{Ye.current&&clearInterval(Ye.current)},[]);const Pe=x.useCallback(()=>{h(!1),clearInterval(Ye.current),Vt.playCompletionFanfare(),He(!0)},[]);x.useEffect(()=>(d&&!p?Ye.current=setInterval(()=>{b(ye=>(ye===3||ye===2?(Vt.playBeep(800,150),mt.current=!0):ye===1&&Vt.playBeep(600,300),ye<=1?s===st.HIIT?Q?(ee(!1),B(!0),Vt.playHighBeep(),mt.current=!1,T):ue?(me(!1),_(R+1),I(1),B(!0),Vt.playHighBeep(),mt.current=!1,T):F?(B(!1),Vt.playLowBeep(),mt.current=!1,w):L<E?(I(L+1),B(!0),Vt.playHighBeep(),mt.current=!1,T):R<W?U>0?(me(!0),Vt.playTransitionBeep(),mt.current=!1,U):(_(R+1),I(1),B(!0),Vt.playHighBeep(),mt.current=!1,T):(Pe(),0):s===st.FLOW&&Y<ge.length-1?(oe(Y+1),Vt.playTransitionBeep(),mt.current=!1,ge[Y+1].duration):(Pe(),0):ye-1))},1e3):Ye.current&&clearInterval(Ye.current),()=>{Ye.current&&clearInterval(Ye.current)}),[d,p,s,F,Q,ue,L,R,E,W,Y,ge,T,w,U,Pe]);const _e=()=>{if(l){if(s===st.HIIT){const ye=E*(T+w),Se=W>1&&U>0?(W-1)*U:0;S(z+W*ye+Se),z>0?(b(z),ee(!0),B(!1)):(b(T),ee(!1),B(!0)),_(1),I(1),me(!1)}else if(s===st.FLOW){const ye=ge.reduce((Se,ze)=>Se+ze.duration,0);S(ye),b(ge[0]?.duration||45),oe(0)}else{const ye=ve*60;S(ye),b(ye)}u(!1)}h(!0),g(!1),mt.current=!1},Je=()=>{g(!p)},Xe=()=>{h(!1),g(!1),u(!0),mt.current=!1},lt=()=>{Xe(),_(1),I(1),B(!0),ee(!1),me(!1),oe(0)},It=(ye,Se)=>{Se!==null&&(a(Se),lt())},Nt=ye=>{ae([...ge,{...ye,duration:G}])},Qt=ye=>{ae(ge.filter((Se,ze)=>ze!==ye))},Fn=()=>{s===st.HIIT?(Q?(ee(!1),B(!0),b(T)):F?(B(!1),b(w)):ue?(me(!1),_(R+1),I(1),B(!0),b(T)):L<E?(I(L+1),B(!0),b(T)):R<W&&(U>0?(me(!0),b(U)):(_(R+1),I(1),B(!0),b(T))),Vt.playTransitionBeep()):s===st.FLOW&&Y<ge.length-1&&(oe(Y+1),b(ge[Y+1].duration),Vt.playTransitionBeep())},es=()=>{s===st.HIIT?(F&&L>1?(B(!1),I(L-1),b(w)):F&&L===1&&R>1?U>0?(me(!0),_(R-1),I(E),b(U)):(_(R-1),I(E),B(!1),b(w)):!F&&!Q&&!ue?(B(!0),b(T)):ue&&(me(!1),B(!1),b(w)),Vt.playTransitionBeep()):s===st.FLOW&&Y>0&&(oe(Y-1),b(ge[Y-1].duration),Vt.playTransitionBeep())},bs=async()=>{try{if(!we.trim()){alert("Please enter a preset name");return}if(s===st.FLOW){const ye={id:X?.id,name:we,poses:ge,defaultDuration:G};await u_(ye);const Se=await gc();te(Se)}else if(s===st.HIIT){const ye={id:X?.id,name:we,workInterval:T,restInterval:w,roundsPerSet:E,numberOfSets:W,preparationInterval:z,recoveryBetweenSets:U,sessionName:V,workIntervalNames:le,intervalNames:ke};await h_(ye);const Se=await yc();Re(Se)}Ee(!1),We(""),Te(null)}catch(ye){console.error("Error saving preset:",ye),alert("Failed to save preset")}},nt=ye=>{s===st.FLOW?(ae(ye.poses||[]),he(ye.defaultDuration||45)):s===st.HIIT&&(k(ye.workInterval||30),j(ye.restInterval||15),ye.rounds!==void 0&&ye.roundsPerSet===void 0?(M(ye.rounds),O(1)):(M(ye.roundsPerSet||8),O(ye.numberOfSets||1)),ce(ye.preparationInterval||10),ye.recoveryInterval!==void 0&&ye.recoveryBetweenSets===void 0?ie(ye.recoveryInterval||0):ie(ye.recoveryBetweenSets||0),q(ye.sessionName||""),pe(ye.workIntervalNames||[]),be(ye.intervalNames||{prep:"Get Ready",recovery:"Set Break"}))},Dn=async ye=>{try{if(s===st.FLOW){await d_(ye);const Se=await gc();te(Se)}else if(s===st.HIIT){await f_(ye);const Se=await yc();Re(Se)}}catch(Se){console.error("Error deleting preset:",Se),alert("Failed to delete preset")}},ln=async()=>{try{const ye={date:Date.now(),type:s===st.HIIT?"hiit":s===st.FLOW?"yoga":"cardio",duration:Math.floor(v/60),perceivedEffort:Qe,notes:dt,exercises:{}};await ny(ye);const Se=await Xc();Se.totalWorkouts+=1,Se.totalTime+=v,await sy(Se),He(!1),lt(),e&&setTimeout(()=>e("selection"),500)}catch(ye){console.error("Error saving session:",ye)}},dl=ye=>{const Se=Math.floor(ye/60),ze=ye%60;return`${Se}:${ze.toString().padStart(2,"0")}`},ra=(()=>{if(s===st.HIIT){const ye=W*E,ze=((R-1)*E+(L-1))/ye*100,wt=F?(T-y)/T:(w-y)/w;return ze+wt*(100/ye)}else return(v-y)/v*100})(),ki=120,ts=2*Math.PI*ki,vs=ts-ra/100*ts;return r.jsx(N,{sx:{width:"100%",minHeight:"100vh",p:3,bgcolor:"background.default"},children:r.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},style:{maxWidth:"800px",margin:"0 auto"},children:[!t&&r.jsx(N,{sx:{mb:2},children:r.jsx(Ae,{startIcon:r.jsx(xh,{}),onClick:()=>e("home"),sx:{color:"text.secondary"},children:"Back to Work Home"})}),l&&r.jsx(it,{sx:{borderRadius:3,mb:3},children:r.jsxs(ut,{children:[r.jsx(P,{variant:"h6",sx:{mb:2,textAlign:"center"},children:"Select Mode"}),r.jsxs(Ud,{value:s,exclusive:!0,onChange:It,fullWidth:!0,sx:{mb:3},children:[r.jsx(ai,{value:st.HIIT,sx:{py:2},children:r.jsxs(Ie,{alignItems:"center",spacing:1,children:[r.jsx(gn,{}),r.jsx(P,{variant:"body2",children:"HIIT"})]})}),r.jsx(ai,{value:st.FLOW,sx:{py:2},children:r.jsxs(Ie,{alignItems:"center",spacing:1,children:[r.jsx(li,{}),r.jsx(P,{variant:"body2",children:"Yoga"})]})}),r.jsx(ai,{value:st.CARDIO,sx:{py:2},children:r.jsxs(Ie,{alignItems:"center",spacing:1,children:[r.jsx(Si,{}),r.jsx(P,{variant:"body2",children:"Cardio"})]})})]}),s===st.HIIT&&r.jsxs(Ie,{spacing:3,children:[r.jsxs(Ie,{direction:"row",spacing:2,alignItems:"center",children:[r.jsx(P,{variant:"subtitle1",sx:{fontWeight:600,flex:1},children:"HIIT Configuration"}),r.jsx(Ae,{size:"small",startIcon:r.jsx(Ia,{}),onClick:()=>{We(""),Te(null),Ee(!0)},children:"Save Preset"})]}),J.length>0&&r.jsxs(N,{children:[r.jsxs(Ie,{direction:"row",spacing:1,alignItems:"center",sx:{mb:1},children:[r.jsx(P,{variant:"subtitle2",sx:{flex:1},children:"Saved Presets"}),r.jsx(Ae,{size:"small",startIcon:De?r.jsx(Ia,{}):r.jsx(Mr,{}),onClick:()=>Me(!De),children:De?"Done":"Manage"})]}),r.jsx(Ie,{direction:"row",spacing:1,flexWrap:"wrap",useFlexGap:!0,children:J.map(ye=>r.jsxs(N,{sx:{position:"relative",display:"inline-block"},children:[r.jsx(yt,{label:ye.name,onClick:()=>!De&&nt(ye),color:"primary",variant:"outlined",sx:{mb:1,cursor:De?"default":"pointer",opacity:De?.7:1}}),De&&r.jsx(Be,{size:"small",onClick:()=>Dn(ye.id),sx:{position:"absolute",top:-8,right:-8,bgcolor:"error.main",color:"white",width:20,height:20,"&:hover":{bgcolor:"error.dark"}},children:r.jsx(Ko,{sx:{fontSize:14}})})]},ye.id))})]}),r.jsx(gt,{label:"Session Name (optional)",value:V,onChange:ye=>q(ye.target.value),fullWidth:!0,placeholder:"e.g., Morning HIIT, Tabata Workout"}),r.jsx(gt,{label:"Preparation Interval (seconds)",type:"number",value:z??"",onChange:ye=>{const Se=ye.target.value;if(Se===""||Se===null)ce("");else{const ze=parseInt(Se);ce(isNaN(ze)?"":ze)}},onBlur:ye=>{const Se=ye.target.value;if(Se===""||Se===null)ce(10);else{const ze=parseInt(Se);ce(Math.max(0,Math.min(60,isNaN(ze)?10:ze)))}},inputProps:{min:0,max:60,inputMode:"numeric"},fullWidth:!0,helperText:"Time to get ready before the workout starts"}),r.jsx(gt,{label:"Work Interval (seconds)",type:"number",value:T??"",onChange:ye=>{const Se=ye.target.value;if(Se===""||Se===null)k("");else{const ze=parseInt(Se);k(isNaN(ze)?"":ze)}},onBlur:ye=>{const Se=ye.target.value;if(Se===""||Se===null)k(30);else{const ze=parseInt(Se);k(Math.max(5,Math.min(300,isNaN(ze)?30:ze)))}},inputProps:{min:5,max:300,inputMode:"numeric"},fullWidth:!0}),r.jsx(gt,{label:"Rest Interval (seconds)",type:"number",value:w??"",onChange:ye=>{const Se=ye.target.value;if(Se===""||Se===null)j("");else{const ze=parseInt(Se);j(isNaN(ze)?"":ze)}},onBlur:ye=>{const Se=ye.target.value;if(Se===""||Se===null)j(15);else{const ze=parseInt(Se);j(Math.max(5,Math.min(300,isNaN(ze)?15:ze)))}},inputProps:{min:5,max:300,inputMode:"numeric"},fullWidth:!0}),r.jsx(gt,{label:"Rounds per Set",type:"number",value:E??"",onChange:ye=>{const Se=ye.target.value;if(Se===""||Se===null)M("");else{const ze=parseInt(Se),wt=isNaN(ze)?"":ze;M(wt),wt!==""&&wt>0&&pe(cn=>{const os=[...cn];for(;os.length<wt;)os.push("");return os.slice(0,wt)})}},onBlur:ye=>{const Se=ye.target.value;if(Se===""||Se===null)M(8),pe(ze=>{const wt=[...ze];for(;wt.length<8;)wt.push("");return wt.slice(0,8)});else{const ze=parseInt(Se),wt=Math.max(1,Math.min(50,isNaN(ze)?8:ze));M(wt),pe(cn=>{const os=[...cn];for(;os.length<wt;)os.push("");return os.slice(0,wt)})}},inputProps:{min:1,max:50,inputMode:"numeric"},fullWidth:!0,helperText:"Number of work/rest cycles in each set"}),r.jsx(gt,{label:"Number of Sets",type:"number",value:W??"",onChange:ye=>{const Se=ye.target.value;if(Se===""||Se===null)O("");else{const ze=parseInt(Se);O(isNaN(ze)?"":ze)}},onBlur:ye=>{const Se=ye.target.value;if(Se===""||Se===null)O(1);else{const ze=parseInt(Se);O(Math.max(1,Math.min(10,isNaN(ze)?1:ze)))}},inputProps:{min:1,max:10,inputMode:"numeric"},fullWidth:!0,helperText:"Number of sets to perform (exercises repeat for each set)"}),r.jsxs(N,{children:[r.jsx(P,{variant:"subtitle2",gutterBottom:!0,children:"Exercise Names per Round (optional)"}),r.jsx(P,{variant:"body2",color:"text.secondary",sx:{mb:2},children:`Name each round's exercise. These will repeat for all sets. Leave blank to use "work" as default.`}),r.jsx(Ie,{spacing:1.5,children:Array.from({length:E||0}).map((ye,Se)=>r.jsx(FD,{label:`Round ${Se+1} Exercise`,value:le[Se]||"",onChange:(ze,wt)=>{const cn=[...le];typeof wt=="string"?cn[Se]=wt:wt&&wt.name?cn[Se]=wt.name:cn[Se]="",pe(cn)},availableExercises:Le,placeholder:"e.g., push-ups, burpees, jumping jacks",size:"small",fullWidth:!0},Se))})]}),W>1&&r.jsx(gt,{label:"Set Break Duration (seconds, 0 to disable)",type:"number",value:U??"",onChange:ye=>{const Se=ye.target.value;if(Se===""||Se===null)ie("");else{const ze=parseInt(Se);ie(isNaN(ze)?"":ze)}},onBlur:ye=>{const Se=ye.target.value;if(Se===""||Se===null)ie(0);else{const ze=parseInt(Se);ie(Math.max(0,Math.min(300,isNaN(ze)?0:ze)))}},inputProps:{min:0,max:300,inputMode:"numeric"},fullWidth:!0,helperText:"Rest period between sets"}),r.jsxs(P,{variant:"body2",color:"text.secondary",children:["Total Duration: ",Math.floor((z+W*E*(T+w)+(W>1&&U>0?(W-1)*U:0))/60)," minutes"]})]}),s===st.FLOW&&r.jsxs(Ie,{spacing:3,children:[r.jsxs(Ie,{direction:"row",spacing:2,alignItems:"center",children:[r.jsx(P,{variant:"subtitle1",sx:{fontWeight:600,flex:1},children:"Yoga Configuration"}),r.jsx(Ae,{size:"small",startIcon:r.jsx(Ia,{}),onClick:()=>{We(""),Te(null),Ee(!0)},disabled:ge.length===0,children:"Save Preset"})]}),fe.length>0&&r.jsxs(N,{children:[r.jsxs(Ie,{direction:"row",spacing:1,alignItems:"center",sx:{mb:1},children:[r.jsx(P,{variant:"subtitle2",sx:{flex:1},children:"Saved Presets"}),r.jsx(Ae,{size:"small",startIcon:De?r.jsx(Ia,{}):r.jsx(Mr,{}),onClick:()=>Me(!De),children:De?"Done":"Manage"})]}),r.jsx(Ie,{direction:"row",spacing:1,flexWrap:"wrap",useFlexGap:!0,children:fe.map(ye=>r.jsxs(N,{sx:{position:"relative",display:"inline-block"},children:[r.jsx(yt,{label:ye.name,onClick:()=>!De&&nt(ye),color:"primary",variant:"outlined",icon:r.jsx(UA,{}),sx:{mb:1,cursor:De?"default":"pointer",opacity:De?.7:1}}),De&&r.jsx(Be,{size:"small",onClick:()=>Dn(ye.id),sx:{position:"absolute",top:-8,right:-8,bgcolor:"error.main",color:"white",width:20,height:20,"&:hover":{bgcolor:"error.dark"}},children:r.jsx(Ko,{sx:{fontSize:14}})})]},ye.id))})]}),r.jsx(gt,{label:"Hold Duration per Pose (seconds)",type:"number",value:G??"",onChange:ye=>{const Se=ye.target.value;if(Se===""||Se===null)he("");else{const ze=parseInt(Se);he(isNaN(ze)?"":ze)}},onBlur:ye=>{const Se=ye.target.value;if(Se===""||Se===null)he(45);else{const ze=parseInt(Se);he(Math.max(15,Math.min(300,isNaN(ze)?45:ze)))}},inputProps:{min:15,max:300,inputMode:"numeric"},fullWidth:!0}),r.jsxs(P,{variant:"subtitle2",children:["Selected Poses (",ge.length,")"]}),ge.length>0&&r.jsx(Ie,{spacing:1,children:ge.map((ye,Se)=>r.jsxs(N,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:1.5,bgcolor:"background.paper",borderRadius:1},children:[r.jsx(P,{variant:"body2",children:ye.name}),r.jsxs(Ie,{direction:"row",spacing:1,alignItems:"center",children:[r.jsxs(P,{variant:"caption",color:"text.secondary",children:[ye.duration,"s"]}),r.jsx(Be,{size:"small",onClick:()=>Qt(Se),sx:{color:"error.main"},children:r.jsx(wi,{fontSize:"small"})})]})]},Se))}),r.jsxs($t,{fullWidth:!0,children:[r.jsx(_n,{children:"Add Pose"}),r.jsx(Zt,{value:"",label:"Add Pose",onChange:ye=>{const Se=z1.find(ze=>ze.name===ye.target.value);Se&&Nt(Se)},children:z1.map(ye=>r.jsx(Ne,{value:ye.name,children:ye.name},ye.name))})]}),ge.length>0&&r.jsxs(P,{variant:"body2",color:"text.secondary",children:["Total Duration: ",Math.floor(ge.reduce((ye,Se)=>ye+Se.duration,0)/60)," minutes ",ge.reduce((ye,Se)=>ye+Se.duration,0)%60," seconds"]})]}),s===st.CARDIO&&r.jsxs(Ie,{spacing:3,children:[r.jsx(P,{variant:"subtitle1",sx:{fontWeight:600},children:"Cardio Configuration"}),r.jsx(gt,{label:"Duration (minutes)",type:"number",value:ve??"",onChange:ye=>{const Se=ye.target.value;if(Se===""||Se===null)Oe("");else{const ze=parseInt(Se);Oe(isNaN(ze)?"":ze)}},onBlur:ye=>{const Se=ye.target.value;if(Se===""||Se===null)Oe(20);else{const ze=parseInt(Se);Oe(Math.max(1,Math.min(240,isNaN(ze)?20:ze)))}},inputProps:{min:1,max:240,inputMode:"numeric"},fullWidth:!0})]})]})}),!l&&r.jsx(it,{sx:{borderRadius:3,mb:3},children:r.jsxs(ut,{sx:{p:4},children:[r.jsx(Ie,{direction:"row",justifyContent:"center",sx:{mb:3},children:r.jsx(yt,{label:s===st.HIIT?"HIIT":s===st.FLOW?"Yoga":"Cardio",color:"primary",size:"medium"})}),r.jsxs(N,{sx:{textAlign:"center",mb:3,position:"relative",display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},children:[s!==st.HIIT&&r.jsxs("svg",{width:"280",height:"280",style:{transform:"rotate(-90deg)"},children:[r.jsx("circle",{cx:"140",cy:"140",r:ki,stroke:"#e0e0e0",strokeWidth:"12",fill:"none"}),r.jsx("circle",{cx:"140",cy:"140",r:ki,stroke:"#1976d2",strokeWidth:"12",fill:"none",strokeDasharray:ts,strokeDashoffset:vs,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0.5s ease"}})]}),r.jsxs(N,{sx:{position:s!==st.HIIT?"absolute":"relative",top:s!==st.HIIT?"50%":"auto",left:s!==st.HIIT?"50%":"auto",transform:s!==st.HIIT?"translate(-50%, -50%)":"none",textAlign:"center",width:"100%"},children:[r.jsx(P,{variant:"h1",sx:{fontSize:s===st.HIIT?{xs:"clamp(3rem, 15vw, 8rem)",sm:"clamp(5rem, 20vw, 10rem)",md:"12rem"}:"4rem",fontWeight:700,color:s===st.HIIT&&F?"success.main":s===st.HIIT&&(Q||ue)?"warning.main":s===st.HIIT&&!F?"error.main":"primary.main",fontFamily:"monospace",lineHeight:1},children:dl(y)}),s===st.HIIT&&r.jsxs(r.Fragment,{children:[r.jsx(P,{variant:"h6",sx:{mt:2,fontWeight:600,fontSize:{xs:"1.5rem",sm:"2rem",md:"2.5rem"}},children:Q?ke.prep:ue?ke.recovery:F?le[L-1]||"work":"rest"}),Q&&r.jsxs(P,{variant:"body2",color:"text.secondary",sx:{mt:1,fontSize:{xs:"1rem",sm:"1.2rem"}},children:["Up Next: ",le[0]||"work"]}),ue&&r.jsxs(P,{variant:"body2",color:"text.secondary",sx:{mt:1,fontSize:{xs:"1rem",sm:"1.2rem"}},children:["Up Next (Set ",R+1,"): ",le[0]||"work"]}),!Q&&!ue&&!F&&L<E&&r.jsxs(P,{variant:"body2",color:"text.secondary",sx:{mt:1,fontSize:{xs:"1rem",sm:"1.2rem"}},children:["Up Next: ",le[L]||"work"]}),!Q&&!ue&&r.jsxs(r.Fragment,{children:[r.jsxs(P,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"1rem",sm:"1.2rem"}},children:["Round ",L," / ",E]}),W>1&&r.jsxs(P,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"1rem",sm:"1.2rem"}},children:["Set ",R," / ",W]})]}),V&&r.jsx(P,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:1,fontSize:{xs:"0.9rem",sm:"1rem"}},children:V})]}),s===st.FLOW&&ge[Y]&&r.jsx(P,{variant:"h6",sx:{mt:1,fontWeight:600,maxWidth:"200px"},children:ge[Y].name})]})]}),s===st.FLOW&&ge[Y]&&r.jsx(N,{sx:{mb:3,textAlign:"center"},children:r.jsxs(P,{variant:"body2",color:"text.secondary",children:["Pose ",Y+1," of ",ge.length]})}),r.jsx(Ie,{direction:"row",spacing:2,justifyContent:"center",flexWrap:"wrap",children:d?r.jsxs(r.Fragment,{children:[(s===st.HIIT||s===st.FLOW)&&r.jsx(Be,{size:"large",onClick:es,color:"primary",sx:{width:56,height:56},disabled:s===st.HIIT&&Q||s===st.FLOW&&Y===0,children:r.jsx(IC,{sx:{fontSize:36}})}),r.jsx(Be,{size:"large",onClick:Je,color:p?"success":"warning",sx:{width:64,height:64},children:p?r.jsx(ri,{sx:{fontSize:40}}):r.jsx(Lg,{sx:{fontSize:40}})}),r.jsx(Be,{size:"large",onClick:Xe,color:"error",sx:{width:64,height:64},children:r.jsx(WC,{sx:{fontSize:40}})}),r.jsx(Be,{size:"large",onClick:lt,color:"primary",sx:{width:64,height:64},children:r.jsx(qA,{sx:{fontSize:40}})}),(s===st.HIIT||s===st.FLOW)&&r.jsx(Be,{size:"large",onClick:Fn,color:"primary",sx:{width:56,height:56},disabled:s===st.HIIT&&!Q&&!ue&&!F&&L>=E&&R>=W||s===st.FLOW&&Y>=ge.length-1,children:r.jsx(Yc,{sx:{fontSize:36}})})]}):r.jsx(Ae,{variant:"contained",size:"large",startIcon:r.jsx(ri,{}),onClick:_e,sx:{px:4,py:1.5},disabled:s===st.FLOW&&ge.length===0,children:"Start"})})]})}),l&&r.jsx(Ae,{variant:"contained",size:"large",fullWidth:!0,onClick:_e,disabled:s===st.FLOW&&ge.length===0,sx:{mb:2,py:2},children:s===st.FLOW&&ge.length===0?"Add at least one pose to start":"Start Session"}),e&&!t&&r.jsx(Ae,{variant:"outlined",fullWidth:!0,onClick:()=>e("selection"),sx:{mt:2},children:"Back to Home"}),r.jsxs(In,{open:xt,onClose:()=>He(!1),maxWidth:"sm",fullWidth:!0,children:[r.jsx(Kn,{children:"Session Complete! "}),r.jsx(Wn,{children:r.jsxs(Ie,{spacing:3,sx:{mt:2},children:[r.jsx(P,{variant:"body1",children:"Great work! How would you rate this session?"}),r.jsxs(N,{children:[r.jsx(P,{variant:"subtitle2",gutterBottom:!0,children:"Perceived Effort (1-10)"}),r.jsx(NC,{value:Qe,onChange:(ye,Se)=>rt(Se),min:1,max:10,marks:!0,valueLabelDisplay:"on",sx:{mt:2}})]}),r.jsx(gt,{label:"Notes (optional)",multiline:!0,rows:3,value:dt,onChange:ye=>bt(ye.target.value),fullWidth:!0}),r.jsxs(N,{sx:{p:2,bgcolor:"background.default",borderRadius:1},children:[r.jsxs(P,{variant:"body2",color:"text.secondary",children:["Type: ",s===st.HIIT?"HIIT":s===st.FLOW?"Yoga":"Cardio"]}),r.jsxs(P,{variant:"body2",color:"text.secondary",children:["Duration: ",Math.floor(v/60)," minutes"]})]})]})}),r.jsxs(Nn,{children:[r.jsx(Ae,{onClick:()=>He(!1),children:"Skip"}),r.jsx(Ae,{variant:"contained",onClick:ln,children:"Save & Sync"})]})]}),r.jsxs(In,{open:Fe,onClose:()=>{Ee(!1),We(""),Te(null)},maxWidth:"sm",fullWidth:!0,children:[r.jsxs(Kn,{children:["Save ",s===st.FLOW?"Yoga":"HIIT"," Preset"]}),r.jsx(Wn,{children:r.jsxs(Ie,{spacing:2,sx:{mt:2},children:[r.jsx(gt,{label:"Preset Name",value:we,onChange:ye=>We(ye.target.value),fullWidth:!0,autoFocus:!0,placeholder:s===st.FLOW?"e.g., Morning Flow, Evening Stretch":"e.g., Tabata, Circuit Training"}),r.jsx(P,{variant:"body2",color:"text.secondary",children:s===st.FLOW?`This will save your current pose sequence (${ge.length} poses)`:"This will save your current interval configuration"})]})}),r.jsxs(Nn,{children:[r.jsx(Ae,{onClick:()=>{Ee(!1),We(""),Te(null)},children:"Cancel"}),r.jsx(Ae,{variant:"contained",onClick:bs,disabled:!we.trim(),children:"Save Preset"})]})]})]})})};dx.propTypes={onNavigate:D.func,hideBackButton:D.bool};const HD=({onNavigate:e})=>r.jsx(N,{children:r.jsx(dx,{onNavigate:e,hideBackButton:!0})});HD.propTypes={onNavigate:D.func};var XV=function(t){return ZV(t)&&!JV(t)};function ZV(e){return!!e&&typeof e=="object"}function JV(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||nF(e)}var eF=typeof Symbol=="function"&&Symbol.for,tF=eF?Symbol.for("react.element"):60103;function nF(e){return e.$$typeof===tF}function sF(e){return Array.isArray(e)?[]:{}}function hh(e,t){return t.clone!==!1&&t.isMergeableObject(e)?Vc(sF(e),e,t):e}function iF(e,t,s){return e.concat(t).map(function(a){return hh(a,s)})}function aF(e,t,s){var a={};return s.isMergeableObject(e)&&Object.keys(e).forEach(function(l){a[l]=hh(e[l],s)}),Object.keys(t).forEach(function(l){!s.isMergeableObject(t[l])||!e[l]?a[l]=hh(t[l],s):a[l]=Vc(e[l],t[l],s)}),a}function Vc(e,t,s){s=s||{},s.arrayMerge=s.arrayMerge||iF,s.isMergeableObject=s.isMergeableObject||XV;var a=Array.isArray(t),l=Array.isArray(e),u=a===l;return u?a?s.arrayMerge(e,t,s):aF(e,t,s):hh(t,s)}Vc.all=function(t,s){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(a,l){return Vc(a,l,s)},{})};var xg=Vc,UD=typeof global=="object"&&global&&global.Object===Object&&global,rF=typeof self=="object"&&self&&self.Object===Object&&self,ji=UD||rF||Function("return this")(),Va=ji.Symbol,qD=Object.prototype,oF=qD.hasOwnProperty,lF=qD.toString,uc=Va?Va.toStringTag:void 0;function cF(e){var t=oF.call(e,uc),s=e[uc];try{e[uc]=void 0;var a=!0}catch{}var l=lF.call(e);return a&&(t?e[uc]=s:delete e[uc]),l}var uF=Object.prototype,dF=uF.toString;function hF(e){return dF.call(e)}var fF="[object Null]",pF="[object Undefined]",B1=Va?Va.toStringTag:void 0;function Nr(e){return e==null?e===void 0?pF:fF:B1&&B1 in Object(e)?cF(e):hF(e)}function YD(e,t){return function(s){return e(t(s))}}var hx=YD(Object.getPrototypeOf,Object);function Lr(e){return e!=null&&typeof e=="object"}var mF="[object Object]",gF=Function.prototype,yF=Object.prototype,GD=gF.toString,xF=yF.hasOwnProperty,bF=GD.call(Object);function V1(e){if(!Lr(e)||Nr(e)!=mF)return!1;var t=hx(e);if(t===null)return!0;var s=xF.call(t,"constructor")&&t.constructor;return typeof s=="function"&&s instanceof s&&GD.call(s)==bF}function vF(){this.__data__=[],this.size=0}function $D(e,t){return e===t||e!==e&&t!==t}function Lh(e,t){for(var s=e.length;s--;)if($D(e[s][0],t))return s;return-1}var SF=Array.prototype,wF=SF.splice;function CF(e){var t=this.__data__,s=Lh(t,e);if(s<0)return!1;var a=t.length-1;return s==a?t.pop():wF.call(t,s,1),--this.size,!0}function jF(e){var t=this.__data__,s=Lh(t,e);return s<0?void 0:t[s][1]}function kF(e){return Lh(this.__data__,e)>-1}function TF(e,t){var s=this.__data__,a=Lh(s,e);return a<0?(++this.size,s.push([e,t])):s[a][1]=t,this}function aa(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}aa.prototype.clear=vF;aa.prototype.delete=CF;aa.prototype.get=jF;aa.prototype.has=kF;aa.prototype.set=TF;function DF(){this.__data__=new aa,this.size=0}function EF(e){var t=this.__data__,s=t.delete(e);return this.size=t.size,s}function MF(e){return this.__data__.get(e)}function AF(e){return this.__data__.has(e)}function ou(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var PF="[object AsyncFunction]",OF="[object Function]",RF="[object GeneratorFunction]",_F="[object Proxy]";function KD(e){if(!ou(e))return!1;var t=Nr(e);return t==OF||t==RF||t==PF||t==_F}var Am=ji["__core-js_shared__"],F1=(function(){var e=/[^.]+$/.exec(Am&&Am.keys&&Am.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function IF(e){return!!F1&&F1 in e}var WF=Function.prototype,NF=WF.toString;function zr(e){if(e!=null){try{return NF.call(e)}catch{}try{return e+""}catch{}}return""}var LF=/[\\^$.*+?()[\]{}|]/g,zF=/^\[object .+?Constructor\]$/,BF=Function.prototype,VF=Object.prototype,FF=BF.toString,HF=VF.hasOwnProperty,UF=RegExp("^"+FF.call(HF).replace(LF,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function qF(e){if(!ou(e)||IF(e))return!1;var t=KD(e)?UF:zF;return t.test(zr(e))}function YF(e,t){return e?.[t]}function Br(e,t){var s=YF(e,t);return qF(s)?s:void 0}var Fc=Br(ji,"Map"),Hc=Br(Object,"create");function GF(){this.__data__=Hc?Hc(null):{},this.size=0}function $F(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var KF="__lodash_hash_undefined__",QF=Object.prototype,XF=QF.hasOwnProperty;function ZF(e){var t=this.__data__;if(Hc){var s=t[e];return s===KF?void 0:s}return XF.call(t,e)?t[e]:void 0}var JF=Object.prototype,eH=JF.hasOwnProperty;function tH(e){var t=this.__data__;return Hc?t[e]!==void 0:eH.call(t,e)}var nH="__lodash_hash_undefined__";function sH(e,t){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=Hc&&t===void 0?nH:t,this}function Rr(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}Rr.prototype.clear=GF;Rr.prototype.delete=$F;Rr.prototype.get=ZF;Rr.prototype.has=tH;Rr.prototype.set=sH;function iH(){this.size=0,this.__data__={hash:new Rr,map:new(Fc||aa),string:new Rr}}function aH(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function zh(e,t){var s=e.__data__;return aH(t)?s[typeof t=="string"?"string":"hash"]:s.map}function rH(e){var t=zh(this,e).delete(e);return this.size-=t?1:0,t}function oH(e){return zh(this,e).get(e)}function lH(e){return zh(this,e).has(e)}function cH(e,t){var s=zh(this,e),a=s.size;return s.set(e,t),this.size+=s.size==a?0:1,this}function Ya(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}Ya.prototype.clear=iH;Ya.prototype.delete=rH;Ya.prototype.get=oH;Ya.prototype.has=lH;Ya.prototype.set=cH;var uH=200;function dH(e,t){var s=this.__data__;if(s instanceof aa){var a=s.__data__;if(!Fc||a.length<uH-1)return a.push([e,t]),this.size=++s.size,this;s=this.__data__=new Ya(a)}return s.set(e,t),this.size=s.size,this}function ul(e){var t=this.__data__=new aa(e);this.size=t.size}ul.prototype.clear=DF;ul.prototype.delete=EF;ul.prototype.get=MF;ul.prototype.has=AF;ul.prototype.set=dH;function hH(e,t){for(var s=-1,a=e==null?0:e.length;++s<a&&t(e[s],s,e)!==!1;);return e}var H1=(function(){try{var e=Br(Object,"defineProperty");return e({},"",{}),e}catch{}})();function QD(e,t,s){t=="__proto__"&&H1?H1(e,t,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[t]=s}var fH=Object.prototype,pH=fH.hasOwnProperty;function XD(e,t,s){var a=e[t];(!(pH.call(e,t)&&$D(a,s))||s===void 0&&!(t in e))&&QD(e,t,s)}function Bh(e,t,s,a){var l=!s;s||(s={});for(var u=-1,d=t.length;++u<d;){var h=t[u],p=void 0;p===void 0&&(p=e[h]),l?QD(s,h,p):XD(s,h,p)}return s}function mH(e,t){for(var s=-1,a=Array(e);++s<e;)a[s]=t(s);return a}var gH="[object Arguments]";function U1(e){return Lr(e)&&Nr(e)==gH}var ZD=Object.prototype,yH=ZD.hasOwnProperty,xH=ZD.propertyIsEnumerable,bH=U1((function(){return arguments})())?U1:function(e){return Lr(e)&&yH.call(e,"callee")&&!xH.call(e,"callee")},lu=Array.isArray;function vH(){return!1}var JD=typeof As=="object"&&As&&!As.nodeType&&As,q1=JD&&typeof Ps=="object"&&Ps&&!Ps.nodeType&&Ps,SH=q1&&q1.exports===JD,Y1=SH?ji.Buffer:void 0,wH=Y1?Y1.isBuffer:void 0,eE=wH||vH,CH=9007199254740991,jH=/^(?:0|[1-9]\d*)$/;function kH(e,t){var s=typeof e;return t=t??CH,!!t&&(s=="number"||s!="symbol"&&jH.test(e))&&e>-1&&e%1==0&&e<t}var TH=9007199254740991;function tE(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=TH}var DH="[object Arguments]",EH="[object Array]",MH="[object Boolean]",AH="[object Date]",PH="[object Error]",OH="[object Function]",RH="[object Map]",_H="[object Number]",IH="[object Object]",WH="[object RegExp]",NH="[object Set]",LH="[object String]",zH="[object WeakMap]",BH="[object ArrayBuffer]",VH="[object DataView]",FH="[object Float32Array]",HH="[object Float64Array]",UH="[object Int8Array]",qH="[object Int16Array]",YH="[object Int32Array]",GH="[object Uint8Array]",$H="[object Uint8ClampedArray]",KH="[object Uint16Array]",QH="[object Uint32Array]",tn={};tn[FH]=tn[HH]=tn[UH]=tn[qH]=tn[YH]=tn[GH]=tn[$H]=tn[KH]=tn[QH]=!0;tn[DH]=tn[EH]=tn[BH]=tn[MH]=tn[VH]=tn[AH]=tn[PH]=tn[OH]=tn[RH]=tn[_H]=tn[IH]=tn[WH]=tn[NH]=tn[LH]=tn[zH]=!1;function XH(e){return Lr(e)&&tE(e.length)&&!!tn[Nr(e)]}function fx(e){return function(t){return e(t)}}var nE=typeof As=="object"&&As&&!As.nodeType&&As,jc=nE&&typeof Ps=="object"&&Ps&&!Ps.nodeType&&Ps,ZH=jc&&jc.exports===nE,Pm=ZH&&UD.process,sl=(function(){try{var e=jc&&jc.require&&jc.require("util").types;return e||Pm&&Pm.binding&&Pm.binding("util")}catch{}})(),G1=sl&&sl.isTypedArray,JH=G1?fx(G1):XH,e8=Object.prototype,t8=e8.hasOwnProperty;function sE(e,t){var s=lu(e),a=!s&&bH(e),l=!s&&!a&&eE(e),u=!s&&!a&&!l&&JH(e),d=s||a||l||u,h=d?mH(e.length,String):[],p=h.length;for(var g in e)(t||t8.call(e,g))&&!(d&&(g=="length"||l&&(g=="offset"||g=="parent")||u&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||kH(g,p)))&&h.push(g);return h}var n8=Object.prototype;function px(e){var t=e&&e.constructor,s=typeof t=="function"&&t.prototype||n8;return e===s}var s8=YD(Object.keys,Object),i8=Object.prototype,a8=i8.hasOwnProperty;function r8(e){if(!px(e))return s8(e);var t=[];for(var s in Object(e))a8.call(e,s)&&s!="constructor"&&t.push(s);return t}function iE(e){return e!=null&&tE(e.length)&&!KD(e)}function mx(e){return iE(e)?sE(e):r8(e)}function o8(e,t){return e&&Bh(t,mx(t),e)}function l8(e){var t=[];if(e!=null)for(var s in Object(e))t.push(s);return t}var c8=Object.prototype,u8=c8.hasOwnProperty;function d8(e){if(!ou(e))return l8(e);var t=px(e),s=[];for(var a in e)a=="constructor"&&(t||!u8.call(e,a))||s.push(a);return s}function gx(e){return iE(e)?sE(e,!0):d8(e)}function h8(e,t){return e&&Bh(t,gx(t),e)}var aE=typeof As=="object"&&As&&!As.nodeType&&As,$1=aE&&typeof Ps=="object"&&Ps&&!Ps.nodeType&&Ps,f8=$1&&$1.exports===aE,K1=f8?ji.Buffer:void 0,Q1=K1?K1.allocUnsafe:void 0;function p8(e,t){if(t)return e.slice();var s=e.length,a=Q1?Q1(s):new e.constructor(s);return e.copy(a),a}function rE(e,t){var s=-1,a=e.length;for(t||(t=Array(a));++s<a;)t[s]=e[s];return t}function m8(e,t){for(var s=-1,a=e==null?0:e.length,l=0,u=[];++s<a;){var d=e[s];t(d,s,e)&&(u[l++]=d)}return u}function oE(){return[]}var g8=Object.prototype,y8=g8.propertyIsEnumerable,X1=Object.getOwnPropertySymbols,yx=X1?function(e){return e==null?[]:(e=Object(e),m8(X1(e),function(t){return y8.call(e,t)}))}:oE;function x8(e,t){return Bh(e,yx(e),t)}function lE(e,t){for(var s=-1,a=t.length,l=e.length;++s<a;)e[l+s]=t[s];return e}var b8=Object.getOwnPropertySymbols,cE=b8?function(e){for(var t=[];e;)lE(t,yx(e)),e=hx(e);return t}:oE;function v8(e,t){return Bh(e,cE(e),t)}function uE(e,t,s){var a=t(e);return lu(e)?a:lE(a,s(e))}function S8(e){return uE(e,mx,yx)}function w8(e){return uE(e,gx,cE)}var bg=Br(ji,"DataView"),vg=Br(ji,"Promise"),Sg=Br(ji,"Set"),wg=Br(ji,"WeakMap"),Z1="[object Map]",C8="[object Object]",J1="[object Promise]",eC="[object Set]",tC="[object WeakMap]",nC="[object DataView]",j8=zr(bg),k8=zr(Fc),T8=zr(vg),D8=zr(Sg),E8=zr(wg),Yi=Nr;(bg&&Yi(new bg(new ArrayBuffer(1)))!=nC||Fc&&Yi(new Fc)!=Z1||vg&&Yi(vg.resolve())!=J1||Sg&&Yi(new Sg)!=eC||wg&&Yi(new wg)!=tC)&&(Yi=function(e){var t=Nr(e),s=t==C8?e.constructor:void 0,a=s?zr(s):"";if(a)switch(a){case j8:return nC;case k8:return Z1;case T8:return J1;case D8:return eC;case E8:return tC}return t});var M8=Object.prototype,A8=M8.hasOwnProperty;function P8(e){var t=e.length,s=new e.constructor(t);return t&&typeof e[0]=="string"&&A8.call(e,"index")&&(s.index=e.index,s.input=e.input),s}var sC=ji.Uint8Array;function xx(e){var t=new e.constructor(e.byteLength);return new sC(t).set(new sC(e)),t}function O8(e,t){var s=t?xx(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.byteLength)}var R8=/\w*$/;function _8(e){var t=new e.constructor(e.source,R8.exec(e));return t.lastIndex=e.lastIndex,t}var iC=Va?Va.prototype:void 0,aC=iC?iC.valueOf:void 0;function I8(e){return aC?Object(aC.call(e)):{}}function W8(e,t){var s=t?xx(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.length)}var N8="[object Boolean]",L8="[object Date]",z8="[object Map]",B8="[object Number]",V8="[object RegExp]",F8="[object Set]",H8="[object String]",U8="[object Symbol]",q8="[object ArrayBuffer]",Y8="[object DataView]",G8="[object Float32Array]",$8="[object Float64Array]",K8="[object Int8Array]",Q8="[object Int16Array]",X8="[object Int32Array]",Z8="[object Uint8Array]",J8="[object Uint8ClampedArray]",eU="[object Uint16Array]",tU="[object Uint32Array]";function nU(e,t,s){var a=e.constructor;switch(t){case q8:return xx(e);case N8:case L8:return new a(+e);case Y8:return O8(e,s);case G8:case $8:case K8:case Q8:case X8:case Z8:case J8:case eU:case tU:return W8(e,s);case z8:return new a;case B8:case H8:return new a(e);case V8:return _8(e);case F8:return new a;case U8:return I8(e)}}var rC=Object.create,sU=(function(){function e(){}return function(t){if(!ou(t))return{};if(rC)return rC(t);e.prototype=t;var s=new e;return e.prototype=void 0,s}})();function iU(e){return typeof e.constructor=="function"&&!px(e)?sU(hx(e)):{}}var aU="[object Map]";function rU(e){return Lr(e)&&Yi(e)==aU}var oC=sl&&sl.isMap,oU=oC?fx(oC):rU,lU="[object Set]";function cU(e){return Lr(e)&&Yi(e)==lU}var lC=sl&&sl.isSet,uU=lC?fx(lC):cU,dU=1,hU=2,fU=4,dE="[object Arguments]",pU="[object Array]",mU="[object Boolean]",gU="[object Date]",yU="[object Error]",hE="[object Function]",xU="[object GeneratorFunction]",bU="[object Map]",vU="[object Number]",fE="[object Object]",SU="[object RegExp]",wU="[object Set]",CU="[object String]",jU="[object Symbol]",kU="[object WeakMap]",TU="[object ArrayBuffer]",DU="[object DataView]",EU="[object Float32Array]",MU="[object Float64Array]",AU="[object Int8Array]",PU="[object Int16Array]",OU="[object Int32Array]",RU="[object Uint8Array]",_U="[object Uint8ClampedArray]",IU="[object Uint16Array]",WU="[object Uint32Array]",Xt={};Xt[dE]=Xt[pU]=Xt[TU]=Xt[DU]=Xt[mU]=Xt[gU]=Xt[EU]=Xt[MU]=Xt[AU]=Xt[PU]=Xt[OU]=Xt[bU]=Xt[vU]=Xt[fE]=Xt[SU]=Xt[wU]=Xt[CU]=Xt[jU]=Xt[RU]=Xt[_U]=Xt[IU]=Xt[WU]=!0;Xt[yU]=Xt[hE]=Xt[kU]=!1;function kc(e,t,s,a,l,u){var d,h=t&dU,p=t&hU,g=t&fU;if(d!==void 0)return d;if(!ou(e))return e;var y=lu(e);if(y){if(d=P8(e),!h)return rE(e,d)}else{var b=Yi(e),v=b==hE||b==xU;if(eE(e))return p8(e,h);if(b==fE||b==dE||v&&!l){if(d=p||v?{}:iU(e),!h)return p?v8(e,h8(d,e)):x8(e,o8(d,e))}else{if(!Xt[b])return l?e:{};d=nU(e,b,h)}}u||(u=new ul);var S=u.get(e);if(S)return S;u.set(e,d),uU(e)?e.forEach(function(w){d.add(kc(w,t,s,w,e,u))}):oU(e)&&e.forEach(function(w,j){d.set(j,kc(w,t,s,j,e,u))});var T=g?p?w8:S8:p?gx:mx,k=y?void 0:T(e);return hH(k||e,function(w,j){k&&(j=w,w=e[j]),XD(d,j,kc(w,t,s,j,e,u))}),d}var NU=1,LU=4;function Ad(e){return kc(e,NU|LU)}var Om,cC;function zU(){if(cC)return Om;cC=1;var e=Array.isArray,t=Object.keys,s=Object.prototype.hasOwnProperty,a=typeof Element<"u";function l(u,d){if(u===d)return!0;if(u&&d&&typeof u=="object"&&typeof d=="object"){var h=e(u),p=e(d),g,y,b;if(h&&p){if(y=u.length,y!=d.length)return!1;for(g=y;g--!==0;)if(!l(u[g],d[g]))return!1;return!0}if(h!=p)return!1;var v=u instanceof Date,S=d instanceof Date;if(v!=S)return!1;if(v&&S)return u.getTime()==d.getTime();var T=u instanceof RegExp,k=d instanceof RegExp;if(T!=k)return!1;if(T&&k)return u.toString()==d.toString();var w=t(u);if(y=w.length,y!==t(d).length)return!1;for(g=y;g--!==0;)if(!s.call(d,w[g]))return!1;if(a&&u instanceof Element&&d instanceof Element)return u===d;for(g=y;g--!==0;)if(b=w[g],!(b==="_owner"&&u.$$typeof)&&!l(u[b],d[b]))return!1;return!0}return u!==u&&d!==d}return Om=function(d,h){try{return l(d,h)}catch(p){if(p.message&&p.message.match(/stack|recursion/i)||p.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",p.name,p.message),!1;throw p}},Om}var BU=zU();const vr=$C(BU);var VU=4;function uC(e){return kc(e,VU)}function pE(e,t){for(var s=-1,a=e==null?0:e.length,l=Array(a);++s<a;)l[s]=t(e[s],s,e);return l}var FU="[object Symbol]";function bx(e){return typeof e=="symbol"||Lr(e)&&Nr(e)==FU}var HU="Expected a function";function vx(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(HU);var s=function(){var a=arguments,l=t?t.apply(this,a):a[0],u=s.cache;if(u.has(l))return u.get(l);var d=e.apply(this,a);return s.cache=u.set(l,d)||u,d};return s.cache=new(vx.Cache||Ya),s}vx.Cache=Ya;var UU=500;function qU(e){var t=vx(e,function(a){return s.size===UU&&s.clear(),a}),s=t.cache;return t}var YU=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,GU=/\\(\\)?/g,$U=qU(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(YU,function(s,a,l,u){t.push(l?u.replace(GU,"$1"):a||s)}),t});function KU(e){if(typeof e=="string"||bx(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var dC=Va?Va.prototype:void 0,hC=dC?dC.toString:void 0;function mE(e){if(typeof e=="string")return e;if(lu(e))return pE(e,mE)+"";if(bx(e))return hC?hC.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function QU(e){return e==null?"":mE(e)}function gE(e){return lu(e)?pE(e,KU):bx(e)?[e]:rE($U(QU(e)))}function nn(){return nn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},nn.apply(this,arguments)}function zo(e,t){if(e==null)return{};var s={},a=Object.keys(e),l,u;for(u=0;u<a.length;u++)l=a[u],!(t.indexOf(l)>=0)&&(s[l]=e[l]);return s}var Vh=x.createContext(void 0);Vh.displayName="FormikContext";var XU=Vh.Provider;Vh.Consumer;function yE(){var e=x.useContext(Vh);return e}var gs=function(t){return typeof t=="function"},Fh=function(t){return t!==null&&typeof t=="object"},ZU=function(t){return String(Math.floor(Number(t)))===t},Rm=function(t){return Object.prototype.toString.call(t)==="[object String]"},JU=function(t){return x.Children.count(t)===0},_m=function(t){return Fh(t)&&gs(t.then)};function ms(e,t,s,a){a===void 0&&(a=0);for(var l=gE(t);e&&a<l.length;)e=e[l[a++]];return a!==l.length&&!e||e===void 0?s:e}function Dr(e,t,s){for(var a=uC(e),l=a,u=0,d=gE(t);u<d.length-1;u++){var h=d[u],p=ms(e,d.slice(0,u+1));if(p&&(Fh(p)||Array.isArray(p)))l=l[h]=uC(p);else{var g=d[u+1];l=l[h]=ZU(g)&&Number(g)>=0?[]:{}}}return(u===0?e:l)[d[u]]===s?e:(s===void 0?delete l[d[u]]:l[d[u]]=s,u===0&&s===void 0&&delete a[d[u]],a)}function xE(e,t,s,a){s===void 0&&(s=new WeakMap),a===void 0&&(a={});for(var l=0,u=Object.keys(e);l<u.length;l++){var d=u[l],h=e[d];Fh(h)?s.get(h)||(s.set(h,!0),a[d]=Array.isArray(h)?[]:{},xE(h,t,s,a[d])):a[d]=t}return a}function e7(e,t){switch(t.type){case"SET_VALUES":return nn({},e,{values:t.payload});case"SET_TOUCHED":return nn({},e,{touched:t.payload});case"SET_ERRORS":return vr(e.errors,t.payload)?e:nn({},e,{errors:t.payload});case"SET_STATUS":return nn({},e,{status:t.payload});case"SET_ISSUBMITTING":return nn({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return nn({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return nn({},e,{values:Dr(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return nn({},e,{touched:Dr(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return nn({},e,{errors:Dr(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return nn({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return nn({},e,{touched:xE(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":return nn({},e,{isSubmitting:!1});case"SUBMIT_SUCCESS":return nn({},e,{isSubmitting:!1});default:return e}}var gr={},Pd={};function t7(e){var t=e.validateOnChange,s=t===void 0?!0:t,a=e.validateOnBlur,l=a===void 0?!0:a,u=e.validateOnMount,d=u===void 0?!1:u,h=e.isInitialValid,p=e.enableReinitialize,g=p===void 0?!1:p,y=e.onSubmit,b=zo(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),v=nn({validateOnChange:s,validateOnBlur:l,validateOnMount:d,onSubmit:y},b),S=x.useRef(v.initialValues),T=x.useRef(v.initialErrors||gr),k=x.useRef(v.initialTouched||Pd),w=x.useRef(v.initialStatus),j=x.useRef(!1),E=x.useRef({});x.useEffect(function(){return j.current=!0,function(){j.current=!1}},[]);var M=x.useState(0),W=M[1],O=x.useRef({values:Ad(v.initialValues),errors:Ad(v.initialErrors)||gr,touched:Ad(v.initialTouched)||Pd,status:Ad(v.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),R=O.current,_=x.useCallback(function(X){var Te=O.current;O.current=e7(Te,X),Te!==O.current&&W(function(De){return De+1})},[]),L=x.useCallback(function(X,Te){return new Promise(function(De,Me){var Le=v.validate(X,Te);Le==null?De(gr):_m(Le)?Le.then(function(qe){De(qe||gr)},function(qe){Me(qe)}):De(Le)})},[v.validate]),I=x.useCallback(function(X,Te){var De=v.validationSchema,Me=gs(De)?De(Te):De,Le=Te&&Me.validateAt?Me.validateAt(Te,X):i7(X,Me);return new Promise(function(qe,xt){Le.then(function(){qe(gr)},function(He){He.name==="ValidationError"?qe(s7(He)):xt(He)})})},[v.validationSchema]),F=x.useCallback(function(X,Te){return new Promise(function(De){return De(E.current[X].validate(Te))})},[]),B=x.useCallback(function(X){var Te=Object.keys(E.current).filter(function(Me){return gs(E.current[Me].validate)}),De=Te.length>0?Te.map(function(Me){return F(Me,ms(X,Me))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(De).then(function(Me){return Me.reduce(function(Le,qe,xt){return qe==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||qe&&(Le=Dr(Le,Te[xt],qe)),Le},{})})},[F]),z=x.useCallback(function(X){return Promise.all([B(X),v.validationSchema?I(X):{},v.validate?L(X):{}]).then(function(Te){var De=Te[0],Me=Te[1],Le=Te[2],qe=xg.all([De,Me,Le],{arrayMerge:a7});return qe})},[v.validate,v.validationSchema,B,L,I]),ce=qs(function(X){return X===void 0&&(X=R.values),_({type:"SET_ISVALIDATING",payload:!0}),z(X).then(function(Te){return j.current&&(_({type:"SET_ISVALIDATING",payload:!1}),_({type:"SET_ERRORS",payload:Te})),Te})});x.useEffect(function(){d&&j.current===!0&&vr(S.current,v.initialValues)&&ce(S.current)},[d,ce]);var U=x.useCallback(function(X){var Te=X&&X.values?X.values:S.current,De=X&&X.errors?X.errors:T.current?T.current:v.initialErrors||{},Me=X&&X.touched?X.touched:k.current?k.current:v.initialTouched||{},Le=X&&X.status?X.status:w.current?w.current:v.initialStatus;S.current=Te,T.current=De,k.current=Me,w.current=Le;var qe=function(){_({type:"RESET_FORM",payload:{isSubmitting:!!X&&!!X.isSubmitting,errors:De,touched:Me,status:Le,values:Te,isValidating:!!X&&!!X.isValidating,submitCount:X&&X.submitCount&&typeof X.submitCount=="number"?X.submitCount:0}})};if(v.onReset){var xt=v.onReset(R.values,Oe);_m(xt)?xt.then(qe):qe()}else qe()},[v.initialErrors,v.initialStatus,v.initialTouched,v.onReset]);x.useEffect(function(){j.current===!0&&!vr(S.current,v.initialValues)&&g&&(S.current=v.initialValues,U(),d&&ce(S.current))},[g,v.initialValues,U,d,ce]),x.useEffect(function(){g&&j.current===!0&&!vr(T.current,v.initialErrors)&&(T.current=v.initialErrors||gr,_({type:"SET_ERRORS",payload:v.initialErrors||gr}))},[g,v.initialErrors]),x.useEffect(function(){g&&j.current===!0&&!vr(k.current,v.initialTouched)&&(k.current=v.initialTouched||Pd,_({type:"SET_TOUCHED",payload:v.initialTouched||Pd}))},[g,v.initialTouched]),x.useEffect(function(){g&&j.current===!0&&!vr(w.current,v.initialStatus)&&(w.current=v.initialStatus,_({type:"SET_STATUS",payload:v.initialStatus}))},[g,v.initialStatus,v.initialTouched]);var ie=qs(function(X){if(E.current[X]&&gs(E.current[X].validate)){var Te=ms(R.values,X),De=E.current[X].validate(Te);return _m(De)?(_({type:"SET_ISVALIDATING",payload:!0}),De.then(function(Me){return Me}).then(function(Me){_({type:"SET_FIELD_ERROR",payload:{field:X,value:Me}}),_({type:"SET_ISVALIDATING",payload:!1})})):(_({type:"SET_FIELD_ERROR",payload:{field:X,value:De}}),Promise.resolve(De))}else if(v.validationSchema)return _({type:"SET_ISVALIDATING",payload:!0}),I(R.values,X).then(function(Me){return Me}).then(function(Me){_({type:"SET_FIELD_ERROR",payload:{field:X,value:ms(Me,X)}}),_({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),V=x.useCallback(function(X,Te){var De=Te.validate;E.current[X]={validate:De}},[]),q=x.useCallback(function(X){delete E.current[X]},[]),le=qs(function(X,Te){_({type:"SET_TOUCHED",payload:X});var De=Te===void 0?l:Te;return De?ce(R.values):Promise.resolve()}),pe=x.useCallback(function(X){_({type:"SET_ERRORS",payload:X})},[]),ke=qs(function(X,Te){var De=gs(X)?X(R.values):X;_({type:"SET_VALUES",payload:De});var Me=Te===void 0?s:Te;return Me?ce(De):Promise.resolve()}),be=x.useCallback(function(X,Te){_({type:"SET_FIELD_ERROR",payload:{field:X,value:Te}})},[]),Q=qs(function(X,Te,De){var Me=gs(Te)?Te(ms(R.values,X)):Te;_({type:"SET_FIELD_VALUE",payload:{field:X,value:Me}});var Le=De===void 0?s:De;return Le?ce(Dr(R.values,X,Me)):Promise.resolve()}),ee=x.useCallback(function(X,Te){var De=Te,Me=X,Le;if(!Rm(X)){X.persist&&X.persist();var qe=X.target?X.target:X.currentTarget,xt=qe.type,He=qe.name,Qe=qe.id,rt=qe.value,dt=qe.checked;qe.outerHTML;var bt=qe.options,Ye=qe.multiple;De=Te||He||Qe,Me=/number|range/.test(xt)?(Le=parseFloat(rt),isNaN(Le)?"":Le):/checkbox/.test(xt)?o7(ms(R.values,De),dt,rt):bt&&Ye?r7(bt):rt}De&&Q(De,Me)},[Q,R.values]),ue=qs(function(X){if(Rm(X))return function(Te){return ee(Te,X)};ee(X)}),me=qs(function(X,Te,De){Te===void 0&&(Te=!0),_({type:"SET_FIELD_TOUCHED",payload:{field:X,value:Te}});var Me=De===void 0?l:De;return Me?ce(R.values):Promise.resolve()}),ge=x.useCallback(function(X,Te){X.persist&&X.persist();var De=X.target,Me=De.name,Le=De.id;De.outerHTML;var qe=Te||Me||Le;me(qe,!0)},[me]),ae=qs(function(X){if(Rm(X))return function(Te){return ge(Te,X)};ge(X)}),Y=x.useCallback(function(X){gs(X)?_({type:"SET_FORMIK_STATE",payload:X}):_({type:"SET_FORMIK_STATE",payload:function(){return X}})},[]),oe=x.useCallback(function(X){_({type:"SET_STATUS",payload:X})},[]),G=x.useCallback(function(X){_({type:"SET_ISSUBMITTING",payload:X})},[]),he=qs(function(){return _({type:"SUBMIT_ATTEMPT"}),ce().then(function(X){var Te=X instanceof Error,De=!Te&&Object.keys(X).length===0;if(De){var Me;try{if(Me=fe(),Me===void 0)return}catch(Le){throw Le}return Promise.resolve(Me).then(function(Le){return j.current&&_({type:"SUBMIT_SUCCESS"}),Le}).catch(function(Le){if(j.current)throw _({type:"SUBMIT_FAILURE"}),Le})}else if(j.current&&(_({type:"SUBMIT_FAILURE"}),Te))throw X})}),ve=qs(function(X){X&&X.preventDefault&&gs(X.preventDefault)&&X.preventDefault(),X&&X.stopPropagation&&gs(X.stopPropagation)&&X.stopPropagation(),he().catch(function(Te){console.warn("Warning: An unhandled error was caught from submitForm()",Te)})}),Oe={resetForm:U,validateForm:ce,validateField:ie,setErrors:pe,setFieldError:be,setFieldTouched:me,setFieldValue:Q,setStatus:oe,setSubmitting:G,setTouched:le,setValues:ke,setFormikState:Y,submitForm:he},fe=qs(function(){return y(R.values,Oe)}),te=qs(function(X){X&&X.preventDefault&&gs(X.preventDefault)&&X.preventDefault(),X&&X.stopPropagation&&gs(X.stopPropagation)&&X.stopPropagation(),U()}),J=x.useCallback(function(X){return{value:ms(R.values,X),error:ms(R.errors,X),touched:!!ms(R.touched,X),initialValue:ms(S.current,X),initialTouched:!!ms(k.current,X),initialError:ms(T.current,X)}},[R.errors,R.touched,R.values]),Re=x.useCallback(function(X){return{setValue:function(De,Me){return Q(X,De,Me)},setTouched:function(De,Me){return me(X,De,Me)},setError:function(De){return be(X,De)}}},[Q,me,be]),Fe=x.useCallback(function(X){var Te=Fh(X),De=Te?X.name:X,Me=ms(R.values,De),Le={name:De,value:Me,onChange:ue,onBlur:ae};if(Te){var qe=X.type,xt=X.value,He=X.as,Qe=X.multiple;qe==="checkbox"?xt===void 0?Le.checked=!!Me:(Le.checked=!!(Array.isArray(Me)&&~Me.indexOf(xt)),Le.value=xt):qe==="radio"?(Le.checked=Me===xt,Le.value=xt):He==="select"&&Qe&&(Le.value=Le.value||[],Le.multiple=!0)}return Le},[ae,ue,R.values]),Ee=x.useMemo(function(){return!vr(S.current,R.values)},[S.current,R.values]),we=x.useMemo(function(){return typeof h<"u"?Ee?R.errors&&Object.keys(R.errors).length===0:h!==!1&&gs(h)?h(v):h:R.errors&&Object.keys(R.errors).length===0},[h,Ee,R.errors,v]),We=nn({},R,{initialValues:S.current,initialErrors:T.current,initialTouched:k.current,initialStatus:w.current,handleBlur:ae,handleChange:ue,handleReset:te,handleSubmit:ve,resetForm:U,setErrors:pe,setFormikState:Y,setFieldTouched:me,setFieldValue:Q,setFieldError:be,setStatus:oe,setSubmitting:G,setTouched:le,setValues:ke,submitForm:he,validateForm:ce,validateField:ie,isValid:we,dirty:Ee,unregisterField:q,registerField:V,getFieldProps:Fe,getFieldMeta:J,getFieldHelpers:Re,validateOnBlur:l,validateOnChange:s,validateOnMount:d});return We}function n7(e){var t=t7(e),s=e.component,a=e.children,l=e.render,u=e.innerRef;return x.useImperativeHandle(u,function(){return t}),x.createElement(XU,{value:t},s?x.createElement(s,t):l?l(t):a?gs(a)?a(t):JU(a)?null:x.Children.only(a):null)}function s7(e){var t={};if(e.inner){if(e.inner.length===0)return Dr(t,e.path,e.message);for(var l=e.inner,s=Array.isArray(l),a=0,l=s?l:l[Symbol.iterator]();;){var u;if(s){if(a>=l.length)break;u=l[a++]}else{if(a=l.next(),a.done)break;u=a.value}var d=u;ms(t,d.path)||(t=Dr(t,d.path,d.message))}}return t}function i7(e,t,s,a){s===void 0&&(s=!1);var l=Cg(e);return t[s?"validateSync":"validate"](l,{abortEarly:!1,context:l})}function Cg(e){var t=Array.isArray(e)?[]:{};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var a=String(s);Array.isArray(e[a])===!0?t[a]=e[a].map(function(l){return Array.isArray(l)===!0||V1(l)?Cg(l):l!==""?l:void 0}):V1(e[a])?t[a]=Cg(e[a]):t[a]=e[a]!==""?e[a]:void 0}return t}function a7(e,t,s){var a=e.slice();return t.forEach(function(u,d){if(typeof a[d]>"u"){var h=s.clone!==!1,p=h&&s.isMergeableObject(u);a[d]=p?xg(Array.isArray(u)?[]:{},u,s):u}else s.isMergeableObject(u)?a[d]=xg(e[d],u,s):e.indexOf(u)===-1&&a.push(u)}),a}function r7(e){return Array.from(e).filter(function(t){return t.selected}).map(function(t){return t.value})}function o7(e,t,s){if(typeof e=="boolean")return!!t;var a=[],l=!1,u=-1;if(Array.isArray(e))a=e,u=e.indexOf(s),l=u>=0;else if(!s||s=="true"||s=="false")return!!t;return t&&s&&!l?a.concat(s):l?a.slice(0,u).concat(a.slice(u+1)):a}var l7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?x.useLayoutEffect:x.useEffect;function qs(e){var t=x.useRef(e);return l7(function(){t.current=e}),x.useCallback(function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return t.current.apply(void 0,a)},[])}function Do(e){var t=e.validate,s=e.name,a=e.render,l=e.children,u=e.as,d=e.component,h=e.className,p=zo(e,["validate","name","render","children","as","component","className"]),g=yE(),y=zo(g,["validate","validationSchema"]),b=y.registerField,v=y.unregisterField;x.useEffect(function(){return b(s,{validate:t}),function(){v(s)}},[b,v,s,t]);var S=y.getFieldProps(nn({name:s},p)),T=y.getFieldMeta(s),k={field:S,form:y};if(a)return a(nn({},k,{meta:T}));if(gs(l))return l(nn({},k,{meta:T}));if(d){if(typeof d=="string"){var w=p.innerRef,j=zo(p,["innerRef"]);return x.createElement(d,nn({ref:w},S,j,{className:h}),l)}return x.createElement(d,nn({field:S,form:y},p,{className:h}),l)}var E=u||"input";if(typeof E=="string"){var M=p.innerRef,W=zo(p,["innerRef"]);return x.createElement(E,nn({ref:M},S,W,{className:h}),l)}return x.createElement(E,nn({},S,p,{className:h}),l)}var bE=x.forwardRef(function(e,t){var s=e.action,a=zo(e,["action"]),l=s??"#",u=yE(),d=u.handleReset,h=u.handleSubmit;return x.createElement("form",nn({onSubmit:h,ref:t,onReset:d,action:l},a))});bE.displayName="Form";const Sx=({open:e,onClose:t,onAssign:s,workoutData:a,currentSchedule:l})=>{const[u,d]=x.useState(null),h=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],p=S=>{d(S)},g=()=>{u&&s&&(s(u,a),y())},y=()=>{d(null),t()},b=S=>l&&l[S]!==null&&l[S]!==void 0,v=S=>S?{upper:"Upper Body",lower:"Lower Body",full:"Full Body",push:"Push",pull:"Pull",legs:"Legs",cardio:"Cardio",hiit:"HIIT",yoga:"Yoga",mobility:"Mobility",stretch:"Stretching",rest:"Rest"}[S.toLowerCase()]||S:"";return r.jsxs(In,{open:e,onClose:y,maxWidth:"sm",fullWidth:!0,children:[r.jsx(Kn,{children:r.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(Mc,{color:"primary"}),r.jsx(P,{variant:"h6",children:"Assign to Day of Week"})]})}),r.jsxs(Wn,{children:[r.jsx(P,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Select which day of the week to assign this workout to. It will be suggested when you visit that day next week."}),r.jsx(Xn,{sx:{pt:0},children:h.map(S=>{const T=b(S),k=u===S,w=l?.[S];return r.jsx(ht,{disablePadding:!0,sx:{mb:1},children:r.jsx(Ui,{onClick:()=>p(S),selected:k,sx:{borderRadius:2,border:k?2:1,borderColor:k?"primary.main":"divider","&.Mui-selected":{backgroundColor:"primary.light","&:hover":{backgroundColor:"primary.light"}}},children:r.jsx(Mt,{primary:r.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(P,{variant:"body1",fontWeight:500,children:S}),k&&r.jsx(Er,{color:"primary",fontSize:"small"})]}),secondary:T&&w?r.jsx(yt,{label:`Currently: ${v(w.sessionType)}`,size:"small",sx:{mt:.5},color:"info",variant:"outlined"}):"Not assigned"})})},S)})})]}),r.jsxs(Nn,{children:[r.jsx(Ae,{onClick:y,color:"inherit",children:"Cancel"}),r.jsxs(Ae,{onClick:g,variant:"contained",disabled:!u,children:["Assign to ",u]})]})]})};Sx.propTypes={open:D.bool.isRequired,onClose:D.func.isRequired,onAssign:D.func.isRequired,workoutData:D.object,currentSchedule:D.object};const c7=60,u7=1500,Sn={STRENGTH:"strength",CARDIO:"cardio",YOGA:"yoga",REST:"rest"},Es={FULL:"full",UPPER:"upper",PUSH:"push",PULL:"pull",LEGS:"legs",CORE:"core"},ni={GENERAL:"general",RUNNING:"running",CYCLING:"cycling",SWIMMING:"swimming",HIIT:"hiit"},wx=({onNavigate:e})=>{const[t,s]=x.useState({show:!1,message:"",severity:"success"}),[a,l]=x.useState(!1),[u,d]=x.useState(null),[h,p]=x.useState(!1),[g,y]=x.useState(""),{isAutoAssignWeek:b,assignWorkoutToDay:v,weeklySchedule:S}=Ha(),T={date:new Date,duration:"",notes:"",sessionName:"",sessionType:Sn.STRENGTH,workoutType:Es.FULL,cardioType:ni.GENERAL,numExercises:"",setsPerExercise:""},k=_=>{const L={};return _.date||(L.date="Date is required"),_.sessionType!==Sn.REST&&(_.duration?(isNaN(_.duration)||parseFloat(_.duration)<=0)&&(L.duration="Duration must be a positive number"):L.duration="Duration is required"),_.sessionType===Sn.STRENGTH&&(_.numExercises?(isNaN(_.numExercises)||parseInt(_.numExercises)<=0)&&(L.numExercises="Must be a positive number"):L.numExercises="Number of exercises is required",_.setsPerExercise?(isNaN(_.setsPerExercise)||parseInt(_.setsPerExercise)<=0)&&(L.setsPerExercise="Must be a positive number"):L.setsPerExercise="Sets per exercise is required"),L},w=async(_,{setSubmitting:L,resetForm:I})=>{try{const F=_.date.getTime(),B=_.sessionType===Sn.REST&&!_.duration?0:parseFloat(_.duration)*c7,z={date:F,duration:B,type:_.sessionType===Sn.STRENGTH?_.workoutType:_.sessionType===Sn.CARDIO?_.cardioType:_.sessionType,exercises:{},notes:_.notes.trim(),sessionName:_.sessionName.trim(),isManualLog:!0,sessionType:_.sessionType};if(_.sessionType===Sn.STRENGTH&&(z.numExercises=parseInt(_.numExercises),z.setsPerExercise=parseInt(_.setsPerExercise)),await ny(z),_.sessionType!==Sn.REST){const ce=await Xc();ce.totalWorkouts+=1,ce.totalTime+=z.duration,await sy(ce)}if(b()&&_.sessionType!==Sn.REST){const ce=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(F).getDay()],U={sessionType:_.sessionType,sessionName:j(_.sessionType,_.workoutType,_.cardioType),date:new Date(F).toISOString()};await v(ce,U),s({show:!0,message:`Activity logged and assigned to ${ce}!`,severity:"success"})}else d({sessionType:_.sessionType,sessionName:j(_.sessionType,_.workoutType,_.cardioType),date:new Date(F).toISOString()}),s({show:!0,message:"Activity logged successfully!",severity:"success"});I(),setTimeout(()=>{e&&e("progress")},u7)}catch(F){console.error("Error saving activity:",F),s({show:!0,message:"Failed to save activity. Please try again.",severity:"error"})}finally{L(!1)}},j=(_,L,I)=>_===Sn.STRENGTH?{[Es.FULL]:"Full Body",[Es.UPPER]:"Upper Body",[Es.PUSH]:"Push",[Es.PULL]:"Pull",[Es.LEGS]:"Legs",[Es.CORE]:"Core"}[L]||"Strength":_===Sn.CARDIO?{[ni.GENERAL]:"Cardio",[ni.RUNNING]:"Running",[ni.CYCLING]:"Cycling",[ni.SWIMMING]:"Swimming",[ni.HIIT]:"HIIT"}[I]||"Cardio":{[Sn.YOGA]:"Yoga",[Sn.REST]:"Rest"}[_]||_,E=async _=>{if(u)try{await v(_,u),y(`Session assigned to ${_}`),p(!0),d(null)}catch(L){console.error("Error assigning session:",L),y("Failed to assign session"),p(!0)}},M=()=>r.jsx(gn,{sx:{fontSize:48,color:"primary.main"}}),W=()=>"primary.main",O=()=>"rgba(19, 70, 134, 0.1)",R=()=>"Log Activity";return r.jsx(Ph,{dateAdapter:cx,children:r.jsxs(N,{sx:{width:"100%",maxWidth:"700px",margin:"0 auto",padding:{xs:"1rem 0.75rem",sm:"1.5rem 1rem",md:"2rem 1rem"},boxSizing:"border-box"},children:[r.jsxs(Ke.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[r.jsxs(N,{sx:{mb:3,textAlign:"center"},children:[r.jsx(N,{sx:{display:"flex",justifyContent:"center",mb:2},children:r.jsx(N,{sx:{p:{xs:1.5,sm:2},borderRadius:"50%",bgcolor:O(),display:"flex",alignItems:"center",justifyContent:"center"},children:M()})}),r.jsx(P,{variant:"h3",sx:{fontWeight:700,color:W(),mb:1,fontSize:{xs:"1.5rem",sm:"2rem",md:"2.5rem"}},children:R()}),r.jsx(P,{variant:"body1",sx:{color:"text.secondary",mb:2,fontSize:{xs:"0.875rem",sm:"1rem"},px:{xs:1,sm:0}},children:"Manually log your completed activities"})]}),t.show&&r.jsx(Ke.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:r.jsx(qt,{severity:t.severity,sx:{mb:3},onClose:()=>s({...t,show:!1}),children:t.message})}),r.jsx(it,{sx:{borderRadius:3,width:"100%",boxSizing:"border-box"},children:r.jsx(ut,{sx:{p:{xs:2,sm:3},"&:last-child":{pb:{xs:2,sm:3}}},children:r.jsx(n7,{initialValues:T,validate:k,onSubmit:w,children:({errors:_,touched:L,isSubmitting:I,isValid:F,dirty:B,values:z,setFieldValue:ce})=>r.jsx(bE,{children:r.jsxs(Ie,{spacing:2,children:[r.jsx(Do,{name:"date",children:()=>r.jsx(dh,{label:"Date",value:z.date,onChange:U=>ce("date",U),slotProps:{textField:{fullWidth:!0,error:L.date&&!!_.date,helperText:L.date&&_.date,sx:{width:"100%"}}},sx:{width:"100%"}})}),r.jsxs($t,{fullWidth:!0,children:[r.jsx(_n,{children:"Session Type"}),r.jsxs(Zt,{value:z.sessionType,label:"Session Type",onChange:U=>ce("sessionType",U.target.value),children:[r.jsx(Ne,{value:Sn.STRENGTH,children:"Strength"}),r.jsx(Ne,{value:Sn.CARDIO,children:"Cardio"}),r.jsx(Ne,{value:Sn.YOGA,children:"Yoga"}),r.jsx(Ne,{value:Sn.REST,children:"Rest Day"})]})]}),z.sessionType===Sn.STRENGTH&&r.jsxs($t,{fullWidth:!0,children:[r.jsx(_n,{children:"Workout Type"}),r.jsxs(Zt,{value:z.workoutType,label:"Workout Type",onChange:U=>ce("workoutType",U.target.value),children:[r.jsx(Ne,{value:Es.FULL,children:"Full Body"}),r.jsx(Ne,{value:Es.UPPER,children:"Upper Body"}),r.jsx(Ne,{value:Es.PUSH,children:"Push"}),r.jsx(Ne,{value:Es.PULL,children:"Pull"}),r.jsx(Ne,{value:Es.LEGS,children:"Legs"}),r.jsx(Ne,{value:Es.CORE,children:"Core"})]})]}),z.sessionType===Sn.CARDIO&&r.jsxs($t,{fullWidth:!0,children:[r.jsx(_n,{children:"Cardio Type"}),r.jsxs(Zt,{value:z.cardioType,label:"Cardio Type",onChange:U=>ce("cardioType",U.target.value),children:[r.jsx(Ne,{value:ni.GENERAL,children:"General Cardio"}),r.jsx(Ne,{value:ni.RUNNING,children:"Running"}),r.jsx(Ne,{value:ni.CYCLING,children:"Cycling"}),r.jsx(Ne,{value:ni.SWIMMING,children:"Swimming"}),r.jsx(Ne,{value:ni.HIIT,children:"HIIT"})]})]}),z.sessionType!==Sn.REST&&r.jsx(Do,{name:"duration",children:({field:U})=>r.jsx(gt,{...U,fullWidth:!0,type:"number",label:"Duration (minutes)",placeholder:"e.g., 45",error:L.duration&&!!_.duration,helperText:L.duration&&_.duration,variant:"outlined",inputProps:{min:0,step:1}})}),z.sessionType===Sn.STRENGTH&&r.jsxs(r.Fragment,{children:[r.jsx(Do,{name:"numExercises",children:({field:U})=>r.jsx(gt,{...U,fullWidth:!0,type:"number",label:"Number of Exercises",placeholder:"e.g., 6",error:L.numExercises&&!!_.numExercises,helperText:L.numExercises&&_.numExercises,variant:"outlined",inputProps:{min:1,step:1}})}),r.jsx(Do,{name:"setsPerExercise",children:({field:U})=>r.jsx(gt,{...U,fullWidth:!0,type:"number",label:"Sets per Exercise",placeholder:"e.g., 3",error:L.setsPerExercise&&!!_.setsPerExercise,helperText:L.setsPerExercise&&_.setsPerExercise,variant:"outlined",inputProps:{min:1,step:1}})})]}),r.jsx(Do,{name:"sessionName",children:({field:U})=>r.jsx(gt,{...U,fullWidth:!0,label:"Session Name (optional)",placeholder:"e.g., Morning workout, Leg day, etc.",variant:"outlined"})}),r.jsx(Do,{name:"notes",children:({field:U})=>r.jsx(gt,{...U,fullWidth:!0,multiline:!0,rows:4,label:"Notes (optional)",placeholder:"Add any notes about your session...",variant:"outlined"})}),r.jsx(Ae,{type:"submit",variant:"contained",fullWidth:!0,disabled:I||!F||!B,sx:{bgcolor:W(),"&:hover":{bgcolor:W(),filter:"brightness(0.9)"},py:1.5,fontWeight:600,mt:2},children:I?"Logging...":`Log ${R().replace("Log ","")}`}),!b()&&u&&r.jsx(Ae,{variant:"outlined",fullWidth:!0,startIcon:r.jsx(Mc,{}),onClick:()=>l(!0),sx:{mt:1,py:1.5,fontWeight:600},children:"Assign to Day of Week"})]})})})})})]}),r.jsx(Qs,{open:h,autoHideDuration:3e3,onClose:()=>p(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(qt,{severity:"success",onClose:()=>p(!1),children:g})}),r.jsx(Sx,{open:a,onClose:()=>l(!1),onAssign:E,workoutData:u,currentSchedule:S})]})})};wx.propTypes={onNavigate:D.func};const vE=({onNavigate:e})=>r.jsx(N,{children:r.jsx(wx,{onNavigate:e,hideBackButton:!0})});vE.propTypes={onNavigate:D.func};const SE=({onNavigate:e,loading:t=!1,workoutType:s,selectedEquipment:a,equipmentOptions:l,onWorkoutTypeChange:u,onEquipmentChange:d,onStartWorkout:h,onCustomize:p})=>{const[g,y]=x.useState(0),b=(S,T)=>{y(T)},v=S=>{y(S)};return r.jsxs(N,{sx:{padding:{xs:2,sm:2,md:3},maxWidth:"1200px",margin:"0 auto",minHeight:"calc(100vh - 60px)",paddingBottom:{xs:"80px",md:"2rem"}},children:[r.jsx(N,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:r.jsxs(Gc,{value:g,onChange:b,variant:"fullWidth",sx:{"& .MuiTab-root":{minHeight:64,fontSize:{xs:"0.875rem",sm:"1rem"},fontWeight:600}},children:[r.jsx($i,{icon:r.jsx(gn,{}),label:"Workout",iconPosition:"start"}),r.jsx($i,{icon:r.jsx(Si,{}),label:"Cardio & Yoga",iconPosition:"start"}),r.jsx($i,{icon:r.jsx(YA,{}),label:"Activity",iconPosition:"start"})]})}),r.jsxs(N,{sx:{mt:2},children:[g===0&&r.jsx(ux,{onNavigate:e,loading:t,workoutType:s,selectedEquipment:a,equipmentOptions:l,onWorkoutTypeChange:u,onEquipmentChange:d,onStartWorkout:h,onCustomize:p,onTabChange:v}),g===1&&r.jsx(HD,{onNavigate:e}),g===2&&r.jsx(vE,{onNavigate:e})]})]})};SE.propTypes={onNavigate:D.func,loading:D.bool,workoutType:D.string,selectedEquipment:D.instanceOf(Set),equipmentOptions:D.array,onWorkoutTypeChange:D.func,onEquipmentChange:D.func,onStartWorkout:D.func,onCustomize:D.func};const fC=e=>({push:"Push",pull:"Pull",legs:"Legs",upper:"Upper Body",lower:"Lower Body",full:"Full Body",stretch:"Stretch",hiit:"HIIT",rest:"Rest",cardio:"Cardio",strength:"Strength",hypertrophy:"Hypertrophy",active_recovery:"Active Recovery"})[e]||e.charAt(0).toUpperCase()+e.slice(1),wE=({onStartWorkout:e,onNavigate:t})=>{const{weeklySchedule:s,currentWeek:a,deloadWeekActive:l,getWorkoutSuggestion:u}=Ha(),[d,h]=x.useState(null),[p,g]=x.useState([]),[y,b]=x.useState(!1);x.useEffect(()=>{(async()=>{const R=await ci();g(R)})()},[]);const v=[{name:"Sunday",abbrev:"SUN"},{name:"Monday",abbrev:"MON"},{name:"Tuesday",abbrev:"TUE"},{name:"Wednesday",abbrev:"WED"},{name:"Thursday",abbrev:"THU"},{name:"Friday",abbrev:"FRI"},{name:"Saturday",abbrev:"SAT"}],S=O=>{if(!O)return r.jsx(gn,{});const R=O.toLowerCase();return R.includes("cardio")||R.includes("hiit")?r.jsx(Si,{}):R.includes("yoga")||R.includes("mobility")||R.includes("stretch")?r.jsx(li,{}):R.includes("rest")?r.jsx(gh,{}):r.jsx(gn,{})},T=O=>{if(!O)return"primary";const R=O.toLowerCase();return R.includes("cardio")||R.includes("hiit")?"error":R.includes("yoga")||R.includes("mobility")||R.includes("stretch")?"secondary":R.includes("rest")?"default":"primary"},k=O=>O?{upper:"Upper Body",lower:"Lower Body",full:"Full Body",push:"Push",pull:"Pull",legs:"Legs",cardio:"Cardio",hiit:"HIIT",yoga:"Yoga",mobility:"Mobility",stretch:"Stretching",rest:"Rest"}[O.toLowerCase()]||O:"Not assigned",w=O=>{h(O)},j=()=>{h(null)},E=()=>{if(d&&s[d]){const O=s[d],R=(O.sessionType||"").toLowerCase();if(R.includes("rest")){j(),b(!0);return}if(R.includes("cardio")||R.includes("hiit")||R.includes("yoga")||R.includes("mobility")||R.includes("stretch")){j(),t&&t("timer");return}e&&e(O)}j()},W=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date().getDay()];return r.jsxs(N,{sx:{width:"100%",maxWidth:800,mx:"auto",p:2},children:[y&&r.jsx(Gy,{onClose:()=>b(!1)}),r.jsxs(N,{sx:{mb:3,textAlign:"center"},children:[r.jsxs(P,{variant:"h5",fontWeight:700,gutterBottom:!0,children:["Week ",a," Schedule"]}),l&&r.jsx(yt,{label:"Deload Week - Recovery Focus",color:"warning",icon:r.jsx(GA,{}),sx:{mt:1}})]}),r.jsx(Ie,{spacing:2,children:v.map((O,R)=>{const _=s[O.name],L=O.name===W,I=_?null:u(O.name,p);return r.jsx(Ke.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:R*.05},children:r.jsx(it,{sx:{borderRadius:2,border:L?2:1,borderColor:L?"primary.main":"divider",boxShadow:L?3:1,cursor:_?"pointer":"default",transition:"all 0.2s ease","&:hover":_?{transform:"translateY(-2px)",boxShadow:4}:{}},onClick:()=>_&&w(O.name),children:r.jsx(ut,{children:r.jsxs(N,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:2,flex:1},children:[r.jsxs(N,{sx:{minWidth:60,textAlign:"center"},children:[r.jsx(P,{variant:"overline",fontWeight:700,color:L?"primary.main":"text.secondary",children:O.abbrev}),L&&r.jsx(P,{variant:"caption",display:"block",color:"primary.main",children:"Today"})]}),r.jsx(N,{sx:{flex:1},children:_?r.jsxs(r.Fragment,{children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[S(_.sessionType),r.jsx(P,{variant:"body1",fontWeight:600,children:_.sessionName||k(_.sessionType)})]}),_.exercises&&_.exercises.length>0&&r.jsxs(P,{variant:"caption",color:"text.secondary",children:[_.exercises.length," exercises"]})]}):r.jsxs(N,{children:[r.jsx(P,{variant:"body2",color:"text.secondary",children:"No workout assigned"}),I&&r.jsxs(P,{variant:"caption",color:"info.main",children:["Suggestion: ",k(I.type||I.workoutType)]})]})}),_&&r.jsx(yt,{label:k(_.sessionType),color:T(_.sessionType),size:"small",variant:"outlined"})]}),_&&r.jsx(Be,{color:"primary",sx:{ml:1},onClick:F=>{F.stopPropagation(),w(O.name)},children:r.jsx(ri,{})})]})})})},O.name)})}),r.jsx(In,{open:!!d,onClose:j,maxWidth:"sm",fullWidth:!0,children:d&&s[d]&&r.jsxs(r.Fragment,{children:[r.jsx(Kn,{children:r.jsxs(N,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[r.jsxs(P,{variant:"h6",children:[d," - ",s[d].sessionName||k(s[d].sessionType)]}),r.jsx(Be,{onClick:j,size:"small",children:r.jsx(bh,{})})]})}),r.jsx(Wn,{children:s[d].exercises&&s[d].exercises.length>0?r.jsxs(r.Fragment,{children:[r.jsx(P,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Exercises in this workout:"}),r.jsx(Xn,{dense:!0,children:s[d].exercises.map((O,R)=>r.jsxs(N,{children:[r.jsx(ht,{children:r.jsx(Mt,{primary:O.name||O.exerciseName,secondary:O.muscleGroup||O.category||""})}),R<s[d].exercises.length-1&&r.jsx(Cn,{})]},R))})]}):r.jsxs(P,{variant:"body2",color:"text.secondary",children:["This is a ",k(s[d].sessionType)," session.",(s[d].sessionType.toLowerCase().includes("cardio")||s[d].sessionType.toLowerCase().includes("yoga"))&&" Choose your specific workout when ready to start."]})}),r.jsxs(Nn,{children:[r.jsx(Ae,{onClick:j,color:"inherit",children:"Close"}),r.jsx(Ae,{onClick:E,variant:"contained",startIcon:r.jsx(ri,{}),children:"Start Workout"})]})]})})]})};wE.propTypes={onStartWorkout:D.func,onNavigate:D.func};const CE=x.memo(({todaysWorkout:e,nextWorkouts:t=[],lastWorkout:s,onQuickStart:a,onNavigate:l,loading:u=!1})=>{const[d,h]=x.useState("");x.useEffect(()=>{const v={weekday:"long",year:"numeric",month:"long",day:"numeric"};h(new Date().toLocaleDateString("en-US",v))},[]);const p=s&&s.date,y=(()=>{if(!p)return null;const v=new Date(s.date),T=Math.abs(new Date-v);return Math.ceil(T/QV.MILLISECONDS_PER_DAY)})(),b=[{title:"Workouts",icon:r.jsx(gn,{fontSize:"large"}),description:"Start a workout",color:"primary",action:()=>l("selection")},{title:"Plans",icon:r.jsx(Mc,{fontSize:"large"}),description:"View weekly plan",color:"info",action:()=>l("plans")},{title:"HIIT",icon:r.jsx($c,{fontSize:"large"}),description:"High intensity training",color:"error",action:()=>l("hiit")},{title:"Stretching",icon:r.jsx(li,{fontSize:"large"}),description:"Mobility & stretching",color:"secondary",action:()=>l("stretch")},{title:"Cardio",icon:r.jsx(Si,{fontSize:"large"}),description:"Track cardio activity",color:"warning",action:()=>l("cardio")}];return r.jsxs(N,{sx:{padding:{xs:"1rem",sm:"2rem",md:"3rem"},maxWidth:"1200px",margin:"0 auto",minHeight:"calc(100vh - 60px)"},children:[r.jsx(N,{sx:{mb:4,textAlign:"center"},children:r.jsx(P,{variant:"h5",sx:{fontWeight:600,color:"text.secondary",fontSize:{xs:"1rem",sm:"1.25rem"}},children:d})}),e&&r.jsx(it,{sx:{mb:4,borderRadius:3,boxShadow:"0 4px 16px rgba(19, 70, 134, 0.12)",background:"linear-gradient(135deg, rgba(19, 70, 134, 0.05) 0%, rgba(237, 63, 39, 0.05) 100%)"},children:r.jsxs(ut,{sx:{p:3},children:[r.jsxs(N,{sx:{display:"flex",justifyContent:"space-between",alignItems:"start",mb:2},children:[r.jsxs(N,{children:[r.jsx(P,{variant:"overline",sx:{color:"primary.main",fontWeight:600,letterSpacing:1},children:"TODAY'S WORKOUT"}),r.jsxs(P,{variant:"h4",sx:{fontWeight:700,color:"text.primary",mt:1},children:[e.type!=="rest"?fC(e.type):"Rest Day",e.focus&&e.type!=="rest"&&r.jsx(yt,{label:e.focus,size:"small",sx:{ml:1,textTransform:"capitalize"}})]})]}),y!==null&&r.jsx(yt,{label:y===0?"Today":`${y}d ago`,size:"small",color:"primary",variant:"outlined"})]}),e.type!=="rest"?r.jsxs(r.Fragment,{children:[p&&r.jsxs(P,{variant:"body1",sx:{color:"text.secondary",mb:1},children:["Last session: ",UT(s.duration||0),s.exercises&&`  ${s.exercises.length} exercises`]}),e.estimatedDuration&&r.jsxs(P,{variant:"body1",sx:{color:"text.secondary",mb:2},children:["Estimated: ~",e.estimatedDuration," min"]}),r.jsx(Ae,{variant:"contained",size:"large",startIcon:r.jsx(ri,{}),onClick:a,disabled:u,sx:{mt:1},children:"START WORKOUT"})]}):r.jsx(P,{variant:"body1",sx:{color:"text.secondary"},children:"Recovery is key to growth. Take it easy today!"}),t.length>0&&r.jsxs(N,{sx:{mt:3,pt:3,borderTop:"1px solid",borderColor:"divider"},children:[r.jsx(P,{variant:"caption",sx:{color:"text.secondary",fontWeight:600,textTransform:"uppercase",letterSpacing:.5},children:"Coming Up:"}),r.jsx(Ie,{spacing:.5,sx:{mt:1},children:t.slice(0,2).map((v,S)=>v.type!=="rest"&&r.jsx(N,{sx:{display:"flex",alignItems:"center",pl:1,borderLeft:"2px solid",borderColor:"primary.main"},children:r.jsxs(P,{variant:"body2",sx:{color:"text.primary"},children:[r.jsxs("strong",{children:[v.day,":"]})," ",fC(v.type)]})},S))})]})]})}),r.jsx(N,{sx:{mb:4},children:r.jsxs(Vo,{defaultExpanded:!1,sx:{borderRadius:2,"&:before":{display:"none"},boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[r.jsxs(Fo,{expandIcon:r.jsx(Wa,{}),sx:{"& .MuiAccordionSummary-content":{alignItems:"center",gap:1}},children:[r.jsx(Mc,{color:"primary"}),r.jsx(P,{variant:"h6",fontWeight:600,children:"Weekly Schedule"})]}),r.jsx(Ho,{children:r.jsx(wE,{onStartWorkout:v=>{if(console.log("Start workout from schedule:",v),a){const S=(v.sessionType||"full").toLowerCase();a(S)}},onNavigate:l})})]})}),r.jsxs(N,{children:[r.jsx(P,{variant:"h5",sx:{fontWeight:700,color:"text.primary",mb:3},children:"Quick Access"}),r.jsx(sn,{container:!0,spacing:2,children:b.map((v,S)=>r.jsx(sn,{item:!0,xs:6,sm:4,md:2.4,children:r.jsx(it,{sx:{height:"100%",cursor:"pointer",transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)"}},onClick:v.action,children:r.jsxs(ut,{sx:{textAlign:"center",p:3,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"150px"},children:[r.jsx(N,{sx:{color:`${v.color}.main`,mb:1.5},children:v.icon}),r.jsx(P,{variant:"h6",sx:{fontWeight:600,mb:.5,fontSize:{xs:"1rem",sm:"1.25rem"}},children:v.title}),r.jsx(P,{variant:"caption",sx:{color:"text.secondary",fontSize:{xs:"0.7rem",sm:"0.75rem"}},children:v.description})]})})},S))})]})]})});CE.displayName="TodayView";CE.propTypes={todaysWorkout:D.shape({day:D.string,type:D.string,focus:D.string,estimatedDuration:D.number,description:D.string}),nextWorkouts:D.arrayOf(D.shape({day:D.string,type:D.string,description:D.string})),lastWorkout:D.shape({date:D.string,duration:D.number,exercises:D.array}),onQuickStart:D.func.isRequired,onNavigate:D.func.isRequired,loading:D.bool};const Hh=({title:e,subtitle:t,icon:s,action:a})=>r.jsxs(N,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",py:1,px:2,borderBottom:"1px solid",borderColor:"divider",mb:2},children:[r.jsxs(N,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:1},children:[s&&r.jsx("span",{style:{fontSize:"1.2rem"},children:s}),r.jsx(P,{variant:"h6",sx:{fontSize:"1.1rem",fontWeight:700},children:e})]}),t&&r.jsx(P,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.875rem"},children:t})]}),a&&a]});Hh.propTypes={title:D.string.isRequired,subtitle:D.string,icon:D.node,action:D.node};const Cx=x.memo(({workoutType:e,selectedEquipment:t,equipmentOptions:s,onWorkoutTypeChange:a,onEquipmentChange:l,onStartWorkout:u,onCustomize:d,loading:h})=>{const[p,g]=x.useState([]),[y,b]=x.useState(!1),[v,S]=x.useState(null),[T,k]=x.useState(""),[w,j]=x.useState(null);x.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),Qi().then(g)},[]);const E=()=>{if(e){const B=t.has("all")?"all":Array.from(t);u(e,B)}},M=()=>{if(e&&d){const B=t.has("all")?"all":Array.from(t);d(e,B)}},W=async B=>{await Ij(B);const z=await Qi();g(z)},O=B=>{S(B),k(B.name),b(!0)},R=async()=>{if(v&&T.trim()){await e_(v.id,T.trim());const B=await Qi();g(B),b(!1),S(null),k("")}},_=()=>{b(!1),S(null),k("")},L=B=>{a(B.type),l(B.equipment||"all");const z=B.equipment==="all"?"all":[B.equipment];u(B.type,z,B.exercises)},I=B=>{const z=new Set(t);B==="all"?(z.clear(),z.add("all")):(z.has("all")&&z.delete("all"),z.has(B)?z.delete(B):z.add(B),z.size===0&&z.add("all")),l(z)},F=()=>{if(t.has("all"))return"All Equipment";const B=Array.from(t);return B.length===0?"All Equipment":B.length===1?s.find(ce=>ce.toLowerCase()===B[0])||B[0]:`${B.length} selected`};return r.jsxs(N,{sx:{width:"100%",minHeight:"100vh"},children:[r.jsx(Hh,{title:"Workouts",icon:""}),r.jsxs(Ke.div,{className:"screen selection-screen",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"calc(100vh - 4rem)",padding:"1rem",paddingBottom:"max(2rem, calc(env(safe-area-inset-bottom) + 1rem))",overflow:"auto"},children:[h?r.jsx(N,{sx:{textAlign:"center"},children:r.jsx(P,{variant:"h5",sx:{mb:2},children:"Generating workout..."})}):r.jsx(N,{sx:{width:"100%",maxWidth:800},children:r.jsx(it,{sx:{maxWidth:800,width:"100%",borderRadius:3,boxShadow:"0 8px 32px rgba(19, 70, 134, 0.12)"},children:r.jsxs(ut,{sx:{p:{xs:2,sm:4}},children:[r.jsx(N,{sx:{mb:3},children:r.jsxs(Ie,{direction:{xs:"column",sm:"row"},spacing:2,sx:{width:"100%"},children:[r.jsxs($t,{fullWidth:!0,children:[r.jsx(_n,{id:"workout-type-label",children:"Workout Type"}),r.jsxs(Zt,{labelId:"workout-type-label",id:"workout-type-select",value:e||"full",label:"Workout Type",onChange:B=>a(B.target.value),children:[r.jsx(Ne,{value:"full",children:"Full Body"}),r.jsx(Ne,{value:"upper",children:"Upper Body"}),r.jsx(Ne,{value:"lower",children:"Lower Body"}),r.jsx(Ne,{value:"push",children:"Push"}),r.jsx(Ne,{value:"pull",children:"Pull"}),r.jsx(Ne,{value:"legs",children:"Legs"})]})]}),r.jsx(N,{sx:{width:"100%"},children:r.jsxs(Vo,{sx:{boxShadow:"none",border:"1px solid rgba(0, 0, 0, 0.23)",borderRadius:"4px","&:before":{display:"none"},"&.Mui-expanded":{margin:0}},children:[r.jsx(Fo,{expandIcon:r.jsx(Wa,{}),sx:{minHeight:"56px","&.Mui-expanded":{minHeight:"56px"},"& .MuiAccordionSummary-content":{margin:"16px 0","&.Mui-expanded":{margin:"16px 0"}}},children:r.jsxs(N,{sx:{display:"flex",flexDirection:"column",width:"100%"},children:[r.jsx(P,{variant:"caption",sx:{color:"rgba(0, 0, 0, 0.6)",fontSize:"0.75rem",lineHeight:1,mb:.5},children:"Equipment"}),r.jsx(P,{sx:{color:"rgba(0, 0, 0, 0.87)",fontSize:"1rem"},children:F()})]})}),r.jsx(Ho,{sx:{pt:0,pb:2},children:r.jsxs(N,{component:"div",role:"group","aria-label":"Equipment selection",children:[r.jsx(qd,{control:r.jsx(DS,{checked:t.has("all"),onChange:()=>I("all")}),label:"All Equipment",sx:{mb:1,display:"flex"}}),s.map(B=>r.jsx(qd,{control:r.jsx(DS,{checked:t.has(B.toLowerCase()),onChange:()=>I(B.toLowerCase())}),label:B,sx:{mb:1,display:"flex"}},B))]})})]})})]})}),p.length>0&&r.jsx(N,{sx:{mb:3},children:r.jsxs(Vo,{sx:{boxShadow:"none","&:before":{display:"none"}},children:[r.jsx(Fo,{expandIcon:r.jsx(Wa,{}),children:r.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(Ji,{sx:{color:"warning.main"}}),r.jsxs(P,{variant:"h6",sx:{fontWeight:600,color:"text.primary",fontSize:{xs:"1rem",sm:"1.25rem"}},children:["Favorite Workouts (",p.length,")"]})]})}),r.jsx(Ho,{children:r.jsx(Ie,{spacing:1.5,children:p.map(B=>r.jsx(it,{sx:{border:"1px solid",borderColor:"divider",boxShadow:"none","&:hover":{boxShadow:"0 2px 8px rgba(19, 70, 134, 0.1)"}},children:r.jsxs(ut,{sx:{p:2,"&:last-child":{pb:2}},children:[r.jsxs(N,{sx:{display:"flex",justifyContent:"space-between",alignItems:"start",mb:1},children:[r.jsxs(N,{sx:{flex:1},children:[r.jsx(P,{variant:"body1",sx:{fontWeight:600,mb:.5},children:B.name}),r.jsxs(Ie,{direction:"row",spacing:1,sx:{mb:1},children:[r.jsx(yt,{label:B.type.charAt(0).toUpperCase()+B.type.slice(1),size:"small",sx:{fontSize:"0.7rem"}}),r.jsx(yt,{label:`${B.exercises.length} exercises`,size:"small",variant:"outlined",sx:{fontSize:"0.7rem"}})]})]}),r.jsxs(N,{sx:{display:"flex",gap:.5},children:[r.jsx(Be,{size:"small",onClick:()=>O(B),sx:{color:"primary.main"},children:r.jsx(Mr,{fontSize:"small"})}),r.jsx(Be,{size:"small",onClick:()=>W(B.id),sx:{color:"error.main"},children:r.jsx(Ko,{fontSize:"small"})})]})]}),r.jsxs(Vo,{expanded:w===B.id,onChange:()=>j(w===B.id?null:B.id),sx:{boxShadow:"none","&:before":{display:"none"},bgcolor:"transparent"},children:[r.jsx(Fo,{expandIcon:r.jsx(Wa,{}),sx:{minHeight:"auto","& .MuiAccordionSummary-content":{margin:"8px 0"}},children:r.jsx(P,{variant:"caption",sx:{fontWeight:600,color:"primary.main"},children:"View Exercises"})}),r.jsx(Ho,{sx:{pt:0},children:r.jsx(Xn,{dense:!0,sx:{py:0},children:B.exercises.map((z,ce)=>r.jsx(ht,{sx:{px:0},children:r.jsx(Mt,{primary:z["Exercise Name"]||z.name||"Unknown Exercise",secondary:`${z.Equipment||z.equipment||"N/A"}  ${z["Primary Muscle"]||z.primaryMuscle||"N/A"}`,primaryTypographyProps:{variant:"body2",fontWeight:500},secondaryTypographyProps:{variant:"caption"}})},ce))})})]}),r.jsx(Ae,{size:"small",variant:"contained",onClick:()=>L(B),sx:{fontSize:"0.8rem",textTransform:"none",mt:1},fullWidth:!0,children:"Load Workout"})]})},B.id))})})]})}),r.jsxs(Ie,{direction:"row",spacing:2,sx:{width:"100%"},children:[r.jsx(Ae,{variant:"outlined",size:"large",fullWidth:!0,disabled:!e,onClick:M,sx:{py:2,fontSize:"1.1rem",fontWeight:600,borderRadius:2,textTransform:"none",borderWidth:2,"&:hover":{borderWidth:2}},children:"Customize"}),r.jsx(Ae,{variant:"contained",size:"large",fullWidth:!0,disabled:!e,onClick:E,sx:{py:2,fontSize:"1.1rem",fontWeight:600,borderRadius:2,textTransform:"none"},children:"Generate"})]})]})})}),r.jsxs(In,{open:y,onClose:_,maxWidth:"sm",fullWidth:!0,children:[r.jsx(Kn,{children:"Edit Workout Name"}),r.jsx(Wn,{children:r.jsx(gt,{autoFocus:!0,margin:"dense",label:"Workout Name",type:"text",fullWidth:!0,variant:"outlined",value:T,onChange:B=>k(B.target.value),onKeyPress:B=>{B.key==="Enter"&&R()}})}),r.jsxs(Nn,{children:[r.jsx(Ae,{onClick:_,color:"inherit",children:"Cancel"}),r.jsx(Ae,{onClick:R,variant:"contained",disabled:!T.trim(),children:"Save"})]})]})]})]})});Cx.displayName="SelectionScreen";Cx.propTypes={workoutType:D.string.isRequired,selectedEquipment:D.instanceOf(Set).isRequired,equipmentOptions:D.array.isRequired,onWorkoutTypeChange:D.func.isRequired,onEquipmentChange:D.func.isRequired,onStartWorkout:D.func.isRequired,onCustomize:D.func,onNavigate:D.func,loading:D.bool.isRequired};const jg=({type:e,workoutType:t,defaultDuration:s=5,onComplete:a,onSkip:l})=>{const[u,d]=x.useState("ready"),[h,p]=x.useState(s),[g,y]=x.useState(s*60),b=x.useRef(null),v=x.useRef(null),S=x.useRef(null);x.useEffect(()=>()=>{b.current&&clearInterval(b.current)},[]);const k=(()=>{if(e==="warmup"){const _="Recommended: 5-10 minutes of dynamic stretching",L={upper:"Focus on shoulder circles, arm swings, chest openers, and back rotations",lower:"Focus on leg swings, hip circles, knee lifts, and ankle rotations",full:"Focus on full body movement - jumping jacks, arm circles, leg swings, and torso twists"};return{main:_,specific:L[t]||L.full}}else{const _="Recommended: 5-10 minutes of static stretching",L={upper:"Hold stretches for 20-30 seconds - focus on shoulders, chest, back, and triceps",lower:"Hold stretches for 20-30 seconds - focus on quads, hamstrings, glutes, and calves",full:"Hold stretches for 20-30 seconds - focus on all major muscle groups you trained"};return{main:_,specific:L[t]||L.full}}})(),w=()=>{if(u==="ready"||u==="completed"){const _=h*60;y(_),d("running"),v.current=Date.now(),b.current=setInterval(()=>{const L=Math.floor((Date.now()-v.current)/1e3),I=_-L;I<=0?(clearInterval(b.current),y(0),d("completed"),Vt.playBeep(880,300),setTimeout(()=>Vt.playBeep(1046,300),350)):y(I)},1e3)}else if(u==="paused"){d("running");const _=Date.now()-S.current;v.current=v.current+_;const L=h*60;b.current=setInterval(()=>{const I=Math.floor((Date.now()-v.current)/1e3),F=L-I;F<=0?(clearInterval(b.current),y(0),d("completed"),Vt.playBeep(880,300),setTimeout(()=>Vt.playBeep(1046,300),350)):y(F)},1e3)}},j=()=>{u==="running"&&(d("paused"),S.current=Date.now(),b.current&&clearInterval(b.current))},E=()=>{b.current&&clearInterval(b.current),d("ready"),y(h*60)},M=()=>{b.current&&clearInterval(b.current),a()},W=()=>{b.current&&clearInterval(b.current),l()},O=_=>{const L=Math.floor(_/60),I=_%60;return`${L}:${I.toString().padStart(2,"0")}`},R=(h*60-g)/(h*60)*100;return r.jsx(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},style:{width:"100%",maxWidth:"600px",margin:"0 auto",padding:"0.5rem"},children:r.jsx(it,{sx:{borderRadius:2,boxShadow:3,bgcolor:"background.paper"},children:r.jsxs(ut,{sx:{p:3},children:[r.jsxs(N,{sx:{textAlign:"center",mb:3},children:[r.jsx(N,{sx:{display:"flex",justifyContent:"center",mb:2},children:e==="warmup"?r.jsx(gn,{sx:{fontSize:48,color:"warning.main"}}):r.jsx(li,{sx:{fontSize:48,color:"info.main"}})}),r.jsx(P,{variant:"h5",sx:{fontWeight:600,mb:1},children:e==="warmup"?"Warm-Up Time":"Cool-Down Time"}),r.jsx(P,{variant:"body2",color:"text.secondary",sx:{mb:1},children:k.main}),r.jsx(P,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:k.specific})]}),u==="ready"&&r.jsxs(N,{sx:{mb:3},children:[r.jsx(P,{variant:"body2",color:"text.secondary",sx:{mb:1,textAlign:"center"},children:"Select Duration"}),r.jsx(Ie,{direction:"row",spacing:1,justifyContent:"center",children:[5,7,10].map(_=>r.jsx(yt,{label:`${_} min`,onClick:()=>{p(_),y(_*60)},color:h===_?"primary":"default",variant:h===_?"filled":"outlined",sx:{minWidth:70,cursor:"pointer"}},_))})]}),r.jsxs(N,{sx:{textAlign:"center",mb:3},children:[r.jsx(P,{variant:"h1",sx:{fontWeight:700,fontSize:{xs:"3rem",sm:"4rem"},color:u==="completed"?"success.main":"text.primary"},children:O(g)}),u==="completed"&&r.jsx(P,{variant:"body1",color:"success.main",sx:{mt:1,fontWeight:600},children:" Time Complete!"})]}),(u==="running"||u==="paused"||u==="completed")&&r.jsxs(N,{sx:{mb:3},children:[r.jsx(ta,{variant:"determinate",value:R,sx:{height:10,borderRadius:5,bgcolor:"rgba(0, 0, 0, 0.1)","& .MuiLinearProgress-bar":{bgcolor:e==="warmup"?"warning.main":"info.main",borderRadius:5}}}),r.jsxs(P,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.5,textAlign:"center"},children:[Math.round(R),"% complete"]})]}),r.jsxs(Ie,{direction:"row",spacing:1,justifyContent:"center",sx:{mb:2},children:[(u==="ready"||u==="paused")&&r.jsx(Ae,{variant:"contained",size:"large",startIcon:r.jsx(ri,{}),onClick:w,sx:{minWidth:140},children:u==="paused"?"Resume":"Start Timer"}),u==="running"&&r.jsx(Ae,{variant:"contained",size:"large",startIcon:r.jsx(Lg,{}),onClick:j,sx:{minWidth:140},children:"Pause"}),(u==="running"||u==="paused")&&r.jsx(Be,{onClick:E,color:"primary",size:"large",sx:{border:"1px solid",borderColor:"primary.main"},children:r.jsx($A,{})})]}),r.jsxs(Ie,{direction:"row",spacing:2,sx:{mt:3},children:[r.jsxs(Ae,{variant:"outlined",fullWidth:!0,onClick:W,startIcon:r.jsx(Yc,{}),children:["Skip ",e==="warmup"?"Warm-Up":"Cool-Down"]}),(u==="completed"||u==="running"||u==="paused")&&r.jsx(Ae,{variant:"contained",fullWidth:!0,onClick:M,color:"success",children:"Mark Complete"})]})]})})})};jg.propTypes={type:D.oneOf(["warmup","cooldown"]).isRequired,workoutType:D.oneOf(["upper","lower","full"]).isRequired,defaultDuration:D.number,onComplete:D.func.isRequired,onSkip:D.func.isRequired};const d7=(e,t,s)=>{if(!e||!t||!s)return null;const a=t-s;if(a===0){const l=e+5;return{message:`Great job! Try ${l}lbs next set`,suggestedWeight:l,type:"success"}}if(a>=2){const l=e+10;return{message:`Excellent! You exceeded target by ${a} reps. Try ${l}lbs next set`,suggestedWeight:l,type:"excellent"}}if(a===1){const l=e+5;return{message:`Nice! Try ${l}lbs next set`,suggestedWeight:l,type:"good"}}return t<s?{message:`Keep going! Try ${e}lbs again to hit ${s} reps`,suggestedWeight:e,type:"maintain"}:null},h7=(e,t,s=3)=>{if(!e||!Array.isArray(e)||e.length<s||!t||t<=0)return!1;const a=t*e.length,l=e.reduce((d,h)=>d+(h.reps||0),0),u=a*.8;return l<=u},jE=({workoutPlan:e,onComplete:t,onExit:s,supersetConfig:a=[2,2,2,2],setsPerSuperset:l=3})=>{const[u,d]=x.useState(0),[h,p]=x.useState([]),[g,y]=x.useState(0),[b,v]=x.useState(null),[S,T]=x.useState(null),[k,w]=x.useState(!1),[j,E]=x.useState(!1),[M,W]=x.useState({}),[O,R]=x.useState(null),[_,L]=x.useState(!1),[I,F]=x.useState(""),[B,z]=x.useState(""),[ce,U]=x.useState(new Set),[ie,V]=x.useState({}),q=x.useRef(null),le=x.useRef(null),pe=x.useRef(null),[ke,be]=x.useState("3rem"),[Q,ee]=x.useState(null),[ue,me]=x.useState("warmup"),[ge,ae]=x.useState(!1),[Y,oe]=x.useState(!1),[G,he]=x.useState(!1),[ve,Oe]=x.useState(!1),[fe,te]=x.useState("full"),J=x.useMemo(()=>{const Pe=[];let _e=0;for(const Je of a){const Xe=[];for(let lt=0;lt<Je&&_e<e.length;lt++)e[_e]&&Xe.push(e[_e]),_e++;if(Xe.length!==0)for(let lt=1;lt<=l;lt++)for(const It of Xe)Pe.push({exercise:It,setNumber:lt})}return Pe},[e,a,l]);x.useEffect(()=>{const Pe=qo(e[0]);te(Pe);const _e=localStorage.getItem("goodlift_stretch_prefs");(_e?JSON.parse(_e):{showWarmup:!0}).showWarmup||(oe(!0),me("exercise"))},[e]),x.useEffect(()=>(q.current=Date.now(),le.current=setInterval(()=>{const _e=Math.floor((Date.now()-q.current)/1e3);y(_e)},1e3),(async()=>{const _e={},Je=[...new Set(e.map(Xe=>Xe["Exercise Name"]))];await Promise.all(Je.map(async Xe=>{const[lt,It]=await Promise.all([La(Xe),Ki(Xe)]);_e[Xe]={weight:lt??null,reps:It??null}})),W(_e)})(),()=>{le.current&&clearInterval(le.current)}),[e]),x.useEffect(()=>{const Pe=J[u];if(Pe?.exercise?.["Exercise Name"]){const _e=Pe.exercise["Exercise Name"],Je=M[_e],Xe=ie[_e]??Je?.weight??null;v(Xe),T(Je?.reps??null),F(Xe??""),z(Je?.reps??""),R(null),L(!1)}window.scrollTo({top:0,behavior:"smooth"})},[u,M,J,ie]);const Re=J[u],Fe=Re?.exercise?.["Exercise Name"],Ee=Re?.exercise?.Equipment?.toLowerCase()==="bodyweight";x.useEffect(()=>{const Pe=()=>{const Xe=pe.current;if(!Xe||!Fe)return;const lt=Xe.parentElement;if(!lt)return;const It=lt.clientWidth,Nt=window.innerWidth<600?8:16,Qt=It-Nt*2;if(Qt<=0)return;const Fn=800,es=40,bs=Fe.split(" ");let nt=Fe,Dn=!1;if(bs.length>1){let ts=1/0;for(let vs=1;vs<bs.length;vs++){const ye=bs.slice(0,vs).join(" "),Se=bs.slice(vs).join(" "),ze=Math.abs(ye.length-Se.length);ze<ts&&(ts=ze,nt=`${ye}
${Se}`)}Dn=!0}ee(Dn?nt.split(`
`):[Fe]);const ln=document.createElement("div");ln.style.visibility="hidden",ln.style.position="absolute",ln.style.fontFamily=getComputedStyle(Xe).fontFamily,ln.style.fontWeight="700",ln.style.lineHeight="1.2",ln.style.whiteSpace="nowrap",ln.style.textAlign="center",document.body.appendChild(ln);const dl=Dn?nt.split(`
`):[Fe];let Ga=es,ra=Fn,ki=es;for(;Ga<=ra;){const ts=Math.floor((Ga+ra)/2);ln.style.fontSize=ts+"px";let vs=!0;for(const ye of dl)if(ln.textContent=ye,ln.offsetWidth>Qt){vs=!1;break}vs?(ki=ts,Ga=ts+1):ra=ts-1}document.body.removeChild(ln),be(`${ki}px`)};Pe();const _e=()=>Pe();window.addEventListener("resize",_e);const Je=setTimeout(Pe,100);return()=>{window.removeEventListener("resize",_e),clearTimeout(Je)}},[Fe]);const we=async Pe=>{const _e={};Pe.forEach(({exerciseName:Je,setNumber:Xe,weight:lt,reps:It})=>{_e[Je]||(_e[Je]=[]),_e[Je].push({setNumber:Xe,weight:lt,reps:It})});for(const[Je,Xe]of Object.entries(_e)){const lt=M[Je]||{weight:null,reps:null},It=lt.reps??0,Nt=lt.weight,Qt=Xe.map(nt=>nt.reps).filter(nt=>typeof nt=="number"&&!isNaN(nt));if(Qt.length===0)continue;const Fn=Math.min(...Qt),es=Qt.every(nt=>nt>=It);if(Qt.every(nt=>nt>It)&&Fn>0&&await eh(Je,Fn),es){const nt=Xe[Xe.length-1].weight;typeof nt=="number"&&!isNaN(nt)&&nt>=0&&nt!==Nt&&await Gi(Je,nt)}}},We=()=>{ae(!0),me("exercise")},X=()=>{oe(!0),me("exercise")},Te=()=>{he(!0),me("complete")},De=()=>{Oe(!0),me("complete")},Me=()=>{const Pe=Math.floor((Date.now()-q.current)/1e3);le.current&&clearInterval(le.current);const _e={date:new Date().toISOString(),type:e[0]?.["Primary Muscle"]||"unknown",duration:Pe,exercises:{},warmupCompleted:ge,warmupSkipped:Y,cooldownCompleted:G,cooldownSkipped:ve,totalDuration:Pe};h.forEach(Je=>{const{exerciseName:Xe,setNumber:lt,weight:It,reps:Nt}=Je;_e.exercises[Xe]||(_e.exercises[Xe]={sets:[]}),_e.exercises[Xe].sets.push({set:lt,weight:It,reps:Nt})}),t(_e)},Le=async Pe=>{Pe.preventDefault();const _e=Pe.target.closest("form")||document.querySelector("form"),Je=_e?.querySelector("#weight-select"),Xe=_e?.querySelector("#reps-select");if(!Je||!Xe){console.error("Form inputs not found");return}const lt=Math.max(0,parseFloat(Je.value)||0),It=parseInt(Xe.value,10),Nt=It>0?It:0,Qt=Re.exercise["Exercise Name"],Fn=ie[Qt]??M[Qt]?.weight;lt!==Fn&&Fn!==null&&Fn!==void 0&&(U(nt=>new Set(nt).add(Qt)),V(nt=>({...nt,[Qt]:lt})));const es={exerciseName:Qt,setNumber:Re.setNumber,weight:lt,reps:Nt},bs=[...h,es];if(p(bs),S&&Nt>0&&!ce.has(Qt)){const nt=d7(lt,Nt,S);nt&&(R(nt),L(!0),setTimeout(()=>L(!1),5e3))}if(u+1>=J.length){await we(bs);const nt=localStorage.getItem("goodlift_stretch_prefs");(nt?JSON.parse(nt):{showCooldown:!0}).showCooldown?me("cooldown"):(Oe(!0),me("complete"))}else d(nt=>nt+1)},qe=()=>{u>0&&(d(Pe=>Pe-1),p(Pe=>Pe.slice(0,-1)))},xt=async()=>{if(window.confirm("Save this workout as partially complete? Your current progress will be saved.")){await we(h);const Pe=Math.floor((Date.now()-q.current)/1e3);le.current&&clearInterval(le.current);const _e={date:new Date().toISOString(),type:e[0]?.["Primary Muscle"]||"unknown",duration:Pe,exercises:{},isPartial:!0};h.forEach(Je=>{const{exerciseName:Xe,setNumber:lt,weight:It,reps:Nt}=Je;_e.exercises[Xe]||(_e.exercises[Xe]={sets:[]}),_e.exercises[Xe].sets.push({set:lt,weight:It,reps:Nt})}),t(_e)}},He=()=>{window.confirm("Are you sure you want to exit? Your progress will not be saved.")&&(le.current&&clearInterval(le.current),s())},Qe=()=>{try{const Pe=qo(e[0]);iy({name:`${Pe.charAt(0).toUpperCase()+Pe.slice(1)} Body Workout`,type:Pe,equipment:"all",exercises:e}),w(!0),E(!0)}catch(Pe){console.error("Error saving to favorites:",Pe),alert("Failed to save workout to favorites")}},rt=Pe=>{const _e=parseFloat(I)||0,Je=Math.max(0,_e+Pe);F(Je.toFixed(1))},dt=Pe=>{const _e=parseInt(B,10)||0,Je=Math.max(0,_e+Pe);z(Je.toString())},bt=()=>{O?.suggestedWeight&&(F(O.suggestedWeight.toString()),L(!1))},Ye=()=>{if(window.confirm("Skip all remaining sets of this exercise?")){let Pe=u+1;const _e=Re.exercise["Exercise Name"];for(;Pe<J.length&&J[Pe].exercise["Exercise Name"]===_e;)Pe++;Pe>=J.length?me("cooldown"):d(Pe)}},mt=()=>{alert("Exercise swap feature coming soon! For now, you can skip this exercise and manually add a different one later.")};if(!Re&&ue==="exercise")return null;if(ue==="warmup"){const Pe=localStorage.getItem("goodlift_stretch_prefs"),_e=Pe?JSON.parse(Pe):{defaultWarmupDuration:5};return r.jsxs("div",{className:"screen",style:{paddingBottom:"100px",padding:"0.5rem",maxWidth:"100vw",boxSizing:"border-box"},children:[r.jsx(N,{sx:{mb:1.5,px:{xs:.5,sm:0}},children:r.jsx(P,{variant:"h6",sx:{fontWeight:600,textAlign:"center",mb:1},children:"Warm-Up Phase"})}),r.jsx(jg,{type:"warmup",workoutType:fe,defaultDuration:_e.defaultWarmupDuration||5,onComplete:We,onSkip:X})]})}if(ue==="cooldown"){const Pe=localStorage.getItem("goodlift_stretch_prefs"),_e=Pe?JSON.parse(Pe):{defaultCooldownDuration:5};return r.jsxs("div",{className:"screen",style:{paddingBottom:"100px",padding:"0.5rem",maxWidth:"100vw",boxSizing:"border-box"},children:[r.jsx(N,{sx:{mb:1.5,px:{xs:.5,sm:0}},children:r.jsx(P,{variant:"h6",sx:{fontWeight:600,textAlign:"center",mb:1},children:"Cool-Down Phase"})}),r.jsx(jg,{type:"cooldown",workoutType:fe,defaultDuration:_e.defaultCooldownDuration||5,onComplete:Te,onSkip:De})]})}return ue==="complete"?r.jsx("div",{className:"screen",style:{paddingBottom:"100px",padding:"2rem",maxWidth:"100vw",boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"60vh"},children:r.jsxs(Ke.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},style:{textAlign:"center"},children:[r.jsx(KA,{sx:{fontSize:80,color:"primary.main",mb:2}}),r.jsx(P,{variant:"h4",sx:{fontWeight:600,mb:2},children:"Workout Complete! "}),r.jsxs(P,{variant:"body1",color:"text.secondary",sx:{mb:3},children:["Great job! You've completed your workout",!Y&&!ve?" including warmup and cooldown phases":Y?ve?"":" including cooldown phase":" including warmup phase","."]}),r.jsx(Ae,{variant:"contained",size:"large",onClick:Me,sx:{mt:2},children:"Finish Workout"})]})}):r.jsxs("div",{className:"screen",style:{padding:"0.5rem",maxWidth:"100vw",boxSizing:"border-box"},children:[r.jsxs(N,{sx:{mb:1.5,px:{xs:.5,sm:0}},children:[r.jsxs(N,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:.5,gap:1},children:[r.jsx(P,{variant:"body1",sx:{fontWeight:600,fontSize:{xs:"0.9rem",sm:"1.25rem"}},children:HT(g)}),r.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:{xs:.5,sm:1}},children:[r.jsx(yt,{label:`Set ${Re.setNumber} of ${l}`,color:"primary",size:"small",sx:{fontWeight:600,fontSize:{xs:"0.7rem",sm:"0.8rem"}}}),r.jsxs(P,{variant:"body1",sx:{fontWeight:600,fontSize:{xs:"0.9rem",sm:"1.25rem"}},children:[u+1,"/",J.length]}),r.jsx(Be,{onClick:Qe,disabled:k,size:"small",sx:{color:k?"warning.main":"action.active","&:hover":{color:"warning.main"},p:{xs:.5,sm:1}},"aria-label":"Save to favorites",children:k?r.jsx(Ji,{sx:{fontSize:{xs:20,sm:24}}}):r.jsx(zg,{sx:{fontSize:{xs:20,sm:24}}})})]})]}),r.jsx(ta,{variant:"determinate",value:u/J.length*100,sx:{height:{xs:6,sm:8},borderRadius:4,bgcolor:"rgba(138, 190, 185, 0.2)","& .MuiLinearProgress-bar":{bgcolor:"primary.main",borderRadius:4}}})]}),r.jsx("div",{className:"exercise-card-container",children:r.jsx(tl,{mode:"wait",children:r.jsx(Ke.form,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},onSubmit:Le,children:r.jsxs(Ke.div,{className:"exercise-card",initial:{scale:.95},animate:{scale:1},transition:{duration:.3},style:{display:"flex",flexDirection:"column",minHeight:"calc(100vh - 200px)"},children:[r.jsxs(N,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:1,mb:2},children:[r.jsxs(N,{sx:{display:"flex",gap:1},children:[r.jsx(Be,{component:"a",href:`https://www.google.com/search?q=${encodeURIComponent(Fe+" form")}`,target:"_blank",rel:"noopener noreferrer",sx:{minWidth:{xs:"36px",sm:"44px"},minHeight:{xs:"36px",sm:"44px"},color:"primary.main",border:"2px solid",borderColor:"primary.main",borderRadius:"8px","&:hover":{backgroundColor:"rgba(19, 70, 134, 0.08)"}},"aria-label":`Search for ${Fe} form guide`,children:r.jsx(LC,{sx:{fontSize:{xs:20,sm:24}}})}),r.jsx(Be,{onClick:Ye,sx:{minWidth:{xs:"36px",sm:"44px"},minHeight:{xs:"36px",sm:"44px"},color:"primary.main",border:"2px solid",borderColor:"primary.main",borderRadius:"8px","&:hover":{backgroundColor:"rgba(19, 70, 134, 0.08)"}},"aria-label":"Skip exercise",children:r.jsx(Yc,{sx:{fontSize:{xs:20,sm:24}}})}),r.jsx(Be,{onClick:mt,sx:{minWidth:{xs:"36px",sm:"44px"},minHeight:{xs:"36px",sm:"44px"},color:"primary.main",border:"2px solid",borderColor:"primary.main",borderRadius:"8px","&:hover":{backgroundColor:"rgba(19, 70, 134, 0.08)"}},"aria-label":"Swap exercise",children:r.jsx(zC,{sx:{fontSize:{xs:20,sm:24}}})})]}),r.jsxs(N,{sx:{display:"flex",gap:1},children:[h.length>0&&r.jsx(Be,{onClick:xt,sx:{minWidth:{xs:"36px",sm:"44px"},minHeight:{xs:"36px",sm:"44px"},color:"rgb(254, 178, 26)",border:"2px solid rgb(254, 178, 26)",borderRadius:"8px","&:hover":{backgroundColor:"rgba(254, 178, 26, 0.08)"}},"aria-label":"End and save workout",children:r.jsx(Ia,{sx:{fontSize:{xs:20,sm:24}}})}),r.jsx(Be,{onClick:He,sx:{minWidth:{xs:"36px",sm:"44px"},minHeight:{xs:"36px",sm:"44px"},color:"rgb(237, 63, 39)",border:"2px solid rgb(237, 63, 39)",borderRadius:"8px","&:hover":{backgroundColor:"rgba(237, 63, 39, 0.08)"}},"aria-label":"End workout without saving",children:r.jsx(BC,{sx:{fontSize:{xs:20,sm:24}}})})]})]}),r.jsx(N,{sx:{mb:2},children:r.jsx(P,{ref:pe,variant:"h3",component:"h2",sx:{fontWeight:700,fontSize:ke,color:"primary.main",textAlign:"center",lineHeight:"1.2 !important",px:{xs:2,sm:4},wordBreak:"break-word",overflowWrap:"break-word",whiteSpace:"pre-wrap",mb:{xs:1,sm:1.5}},children:Q?Q.join(`
`):Fe})}),(b!==null||S!==null)&&r.jsxs(Ke.p,{className:"prev-weight",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.2},children:["Target: ",b??""," lbs  ",S??""," reps"]}),r.jsx(tl,{children:_&&O&&r.jsx(Ke.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:r.jsx(qt,{severity:O.type==="excellent"?"success":"info",icon:r.jsx(Zi,{}),action:O.suggestedWeight!==parseFloat(I)&&r.jsx(Ae,{color:"inherit",size:"small",onClick:bt,sx:{minHeight:"44px"},children:"Apply"}),sx:{mb:2,minHeight:"44px"},children:O.message})})}),r.jsx(N,{sx:{flex:1,minHeight:{xs:"20px",sm:"40px"}}}),r.jsxs("div",{className:"input-row",children:[r.jsxs("div",{className:"input-group",children:[r.jsxs("label",{htmlFor:"weight-select",children:["Weight (lbs)",Ee&&" (N/A)"]}),r.jsxs(N,{sx:{display:"flex",gap:{xs:.5,sm:1},alignItems:"center"},children:[r.jsx(Be,{onClick:()=>rt(-2.5),disabled:Ee,size:"small",sx:{bgcolor:Ee?"action.disabledBackground":"action.hover",minWidth:{xs:"36px",sm:"40px"},minHeight:{xs:"36px",sm:"40px"},p:{xs:.5,sm:1},"&:hover":{bgcolor:Ee?"action.disabledBackground":"action.selected"}},children:r.jsx(wi,{sx:{fontSize:{xs:18,sm:20}}})}),r.jsx("input",{id:"weight-select",type:"tel",inputMode:"decimal",pattern:"[0-9]*([.,][0-9]+)?",step:"2.5",min:"0",max:"500",className:"exercise-input",value:I,onChange:Pe=>F(Pe.target.value),placeholder:"",disabled:Ee,"aria-label":"Weight in pounds",onFocus:Pe=>{Pe.target.select();const Je=Pe.target.getBoundingClientRect().bottom,lt=window.innerHeight*.55;Je>lt&&setTimeout(()=>{Pe.target.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{window.scrollBy({top:-80,behavior:"smooth"})},100)},300)},style:{width:"100%",minWidth:"80px",padding:"12px",minHeight:"44px",borderRadius:"8px",border:"2px solid var(--color-border)",fontSize:"1.1rem",fontFamily:"var(--font-body)",backgroundColor:Ee?"var(--color-disabled)":"var(--color-surface)",color:Ee?"var(--color-text-disabled)":"var(--color-text)",cursor:Ee?"not-allowed":"text",opacity:Ee?.6:1}}),r.jsx(Be,{onClick:()=>rt(2.5),disabled:Ee,size:"small",sx:{bgcolor:Ee?"action.disabledBackground":"action.hover",minWidth:{xs:"36px",sm:"40px"},minHeight:{xs:"36px",sm:"40px"},p:{xs:.5,sm:1},"&:hover":{bgcolor:Ee?"action.disabledBackground":"action.selected"}},children:r.jsx(Ks,{sx:{fontSize:{xs:18,sm:20}}})})]})]}),r.jsxs("div",{className:"input-group",children:[r.jsx("label",{htmlFor:"reps-select",children:"Reps"}),r.jsxs(N,{sx:{display:"flex",gap:{xs:.5,sm:1},alignItems:"center"},children:[r.jsx(Be,{onClick:()=>dt(-1),size:"small",sx:{bgcolor:"action.hover",minWidth:{xs:"36px",sm:"40px"},minHeight:{xs:"36px",sm:"40px"},p:{xs:.5,sm:1},"&:hover":{bgcolor:"action.selected"}},children:r.jsx(wi,{sx:{fontSize:{xs:18,sm:20}}})}),r.jsx("input",{id:"reps-select",type:"number",inputMode:"numeric",step:"1",min:"1",max:"20",className:"exercise-input",value:B,onChange:Pe=>z(Pe.target.value),placeholder:"","aria-label":"Repetitions",onFocus:Pe=>{Pe.target.select();const Je=Pe.target.getBoundingClientRect().bottom,lt=window.innerHeight*.55;Je>lt&&setTimeout(()=>{Pe.target.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{window.scrollBy({top:-80,behavior:"smooth"})},100)},300)},style:{width:"100%",minWidth:"80px",padding:"12px",minHeight:"44px",borderRadius:"8px",border:"2px solid var(--color-border)",fontSize:"1.1rem",fontFamily:"var(--font-body)",backgroundColor:"var(--color-surface)",color:"var(--color-text)"}}),r.jsx(Be,{onClick:()=>dt(1),size:"small",sx:{bgcolor:"action.hover",minWidth:{xs:"36px",sm:"40px"},minHeight:{xs:"36px",sm:"40px"},p:{xs:.5,sm:1},"&:hover":{bgcolor:"action.selected"}},children:r.jsx(Ks,{sx:{fontSize:{xs:18,sm:20}}})})]})]})]}),r.jsxs("div",{className:"workout-nav-buttons",children:[u>0&&r.jsxs(Ke.button,{type:"button",className:"back-btn",onClick:qe,whileHover:{scale:1.02},whileTap:{scale:.98},style:{minHeight:"44px"},children:[r.jsx(xh,{sx:{fontSize:18,mr:.5}})," Back"]}),r.jsxs(Ke.button,{type:"submit",className:"next-btn",whileHover:{scale:1.02},whileTap:{scale:.98},style:{minHeight:"44px"},children:["Next ",r.jsx(VC,{sx:{fontSize:18,ml:.5}})]})]})]})},u)})}),r.jsx(Qs,{open:j,autoHideDuration:3e3,onClose:()=>E(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(qt,{severity:"success",onClose:()=>E(!1),children:"Workout saved to favorites!"})})]})};jE.propTypes={workoutPlan:D.array.isRequired,onComplete:D.func.isRequired,onExit:D.func.isRequired,supersetConfig:D.arrayOf(D.number),setsPerSuperset:D.number};const jx=({value:e,onChange:t,availableExercises:s,label:a="Exercise",placeholder:l="Type to search and swap exercise...",size:u="small",fullWidth:d=!0,disabled:h=!1,sx:p={}})=>{const g=y=>{if(!y)return s;const b=y.toLowerCase().split(" ").filter(v=>v.length>0);return s.filter(v=>{const S=[v["Exercise Name"],v["Primary Muscle"],v["Secondary Muscles"],v.Equipment,v["Movement Pattern"],v.Difficulty,v["Workout Type"]].join(" ").toLowerCase();return b.every(T=>S.includes(T))})};return r.jsx(_C,{fullWidth:d,size:u,options:s,value:e,onChange:t,disabled:h,getOptionLabel:y=>y["Exercise Name"]||y.name||"",filterOptions:(y,b)=>g(b.inputValue),isOptionEqualToValue:(y,b)=>(y["Exercise Name"]||y.name)===(b["Exercise Name"]||b.name),renderInput:y=>r.jsx(gt,{...y,label:a,placeholder:l}),renderOption:(y,b)=>{const{key:v,...S}=y;return r.jsx("li",{...S,children:r.jsxs(N,{children:[r.jsx(P,{variant:"body2",children:b["Exercise Name"]}),r.jsxs(P,{variant:"caption",color:"text.secondary",children:[b["Primary Muscle"],"  ",b.Equipment]})]})},v)},noOptionsText:"No exercises found. Try different search terms.",sx:p})};jx.propTypes={value:D.object,onChange:D.func.isRequired,availableExercises:D.array.isRequired,label:D.string,placeholder:D.string,size:D.string,fullWidth:D.bool,disabled:D.bool,sx:D.object};const kx=x.memo(({workout:e,workoutType:t,onStart:s,onCancel:a,onRandomizeExercise:l,isCustomizeMode:u=!1,supersetConfig:d=[2,2,2,2],setsPerSuperset:h=3})=>{const[p,g]=x.useState({}),[y,b]=x.useState(!0),[v,S]=x.useState(!1),[T,k]=x.useState(!1),[w,j]=x.useState(!1),[E,M]=x.useState({}),[W,O]=x.useState({open:!1,message:"",severity:"info"}),[R,_]=x.useState([]),[L,I]=x.useState(e),[F,B]=x.useState(h);x.useEffect(()=>{(async()=>{try{const ue=await(await fetch(Nh)).json();_(ue)}catch(ee){console.error("Error loading exercises:",ee),_([])}})()},[]),x.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),(async()=>{const ee={};if(u){I(e),g({}),b(!1);return}const ue=e.filter(me=>me!==null);for(const me of ue){const ge=me["Exercise Name"],[ae,Y]=await Promise.all([La(ge),Ki(ge)]);ee[ge]={weight:ae??"",targetReps:Y??""}}g(ee),I(e),b(!1)})()},[e,u,d]),x.useEffect(()=>{const Q=async()=>{const ee=Object.keys(p),me=e.filter(ge=>ge!==null).filter(ge=>!ee.includes(ge["Exercise Name"]));if(me.length>0){const ge={...p};for(const ae of me){const Y=ae["Exercise Name"];if(!E[Y]){const[oe,G]=await Promise.all([La(Y),Ki(Y)]);ge[Y]={weight:oe??"",targetReps:G??""}}}g(ge)}};!y&&Object.keys(p).length>0&&Q()},[e,y]);const z=(Q,ee)=>{if(ee===""||/^\d*\.?\d*$/.test(ee)){const ue=ee===""?"":parseFloat(ee);g(me=>({...me,[Q]:{...me[Q],weight:ue}})),M(me=>({...me,[Q]:{...me[Q],weightCustomized:!0}}))}},ce=(Q,ee)=>{if(ee===""||ee===null||ee===void 0)return;const ue=parseFloat(ee);if(!isNaN(ue)&&ue>0){const me=Math.round(ue/2.5)*2.5;me!==ue&&(g(ge=>({...ge,[Q]:{...ge[Q],weight:me}})),O({open:!0,message:`Weight adjusted to ${me} lbs (nearest 2.5 lb increment)`,severity:"info"}))}},U=(Q,ee)=>{if(ee===""||/^\d+$/.test(ee)){const ue=ee===""?"":parseInt(ee,10);g(me=>({...me,[Q]:{...me[Q],targetReps:ue}})),M(me=>({...me,[Q]:{...me[Q],repsCustomized:!0}}))}},ie=(Q,ee)=>{if(ee===""||ee===null||ee===void 0)return;const ue=parseInt(ee,10);(isNaN(ue)||ue<1)&&g(me=>({...me,[Q]:{...me[Q],targetReps:""}}))},V=x.useCallback((Q,ee)=>{l&&l(Q,ee)},[l]),q=x.useCallback((Q,ee)=>{if(!ee)return;I(me=>{const ge=[...me];return ge[Q]=ee,ge});const ue=ee["Exercise Name"];E[ue]||La(ue).then(me=>{Ki(ue).then(ge=>{g(ae=>({...ae,[ue]:{weight:me??"",targetReps:ge??""}}))})})},[E]),le=async()=>{if(!v){S(!0);try{if(u&&L.some(ee=>ee===null)){O({open:!0,message:"Please select exercises for all slots before starting",severity:"warning"}),S(!1);return}for(const[Q,ee]of Object.entries(p)){const ue=ee.weight===""?null:ee.weight,me=ee.targetReps===""?null:ee.targetReps;await Gi(Q,ue),await eh(Q,me)}s(L,d,F)}catch(Q){console.error("Error starting workout:",Q),S(!1)}}},pe=()=>{try{const Q=L.filter(ee=>ee!==null);iy({name:`${t.charAt(0).toUpperCase()+t.slice(1)} Body Workout`,type:t,exercises:Q}),k(!0),j(!0)}catch(Q){console.error("Error saving to favorites:",Q)}},ke=[];let be=0;for(const Q of d){const ee=[];for(let ue=0;ue<Q&&be<L.length;ue++)ee.push(L[be]),be++;ee.length>0&&ke.push(ee)}return y?r.jsx(N,{sx:{textAlign:"center",py:8,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:r.jsx(Ke.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:r.jsxs(P,{variant:"h5",sx:{color:"text.secondary",fontWeight:500},children:["Loading",r.jsx(Ke.span,{initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:"..."})]})})}):r.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"screen",style:{maxWidth:"900px",margin:"0 auto",padding:"1rem",width:"100%",boxSizing:"border-box",overflowX:"hidden"},children:[r.jsxs(N,{sx:{mb:{xs:2,sm:4},textAlign:"center",position:"relative",px:{xs:.5,sm:0}},children:[r.jsx(Be,{onClick:pe,disabled:T,size:"small",sx:{position:"absolute",top:0,right:{xs:0,sm:0},color:T?"warning.main":"action.active",minWidth:"44px",minHeight:"44px","&:hover":{color:"warning.main"},p:{xs:.5,sm:1}},"aria-label":"Save to favorites",children:T?r.jsx(Ji,{sx:{fontSize:{xs:24,sm:32}}}):r.jsx(ES,{sx:{fontSize:{xs:24,sm:32}}})}),r.jsx(Ke.div,{initial:{scale:.8},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},children:r.jsx(gn,{sx:{fontSize:{xs:48,sm:60},color:"primary.main",mb:{xs:1,sm:2}}})}),r.jsx(P,{variant:"h3",component:"h1",gutterBottom:!0,sx:{fontWeight:700,color:"primary.main",fontSize:{xs:"1.5rem",sm:"3rem"}},children:u?"Customize Your Workout":`Your ${t.charAt(0).toUpperCase()+t.slice(1)} Body Workout`}),r.jsxs(P,{variant:"subtitle1",color:"text.secondary",sx:{mb:1,fontSize:{xs:"0.875rem",sm:"1rem"}},children:[ke.length," Supersets  ",L.filter(Q=>Q!==null).length," Exercises  ",F," Sets Each"]}),r.jsxs(N,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1,mb:1},children:[r.jsx(P,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Sets per superset:"}),r.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:.5},children:[r.jsx(Be,{size:"small",onClick:()=>B(Q=>Math.max(1,Q-1)),disabled:F<=1,sx:{minWidth:"32px",minHeight:"32px",bgcolor:"action.hover","&:hover":{bgcolor:"action.selected"}},children:r.jsx(wi,{fontSize:"small"})}),r.jsx(P,{variant:"h6",sx:{fontWeight:700,color:"primary.main",minWidth:"32px",textAlign:"center",fontSize:{xs:"1rem",sm:"1.25rem"}},children:F}),r.jsx(Be,{size:"small",onClick:()=>B(Q=>Math.min(10,Q+1)),disabled:F>=10,sx:{minWidth:"32px",minHeight:"32px",bgcolor:"action.hover","&:hover":{bgcolor:"action.selected"}},children:r.jsx(Ks,{fontSize:"small"})})]})]}),r.jsx(P,{variant:"body2",color:"primary.main",sx:{fontWeight:600,fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:u?"Select exercises and set your target weight and reps for each":"Set your starting target weight and target reps for each exercise"})]}),r.jsx(Ie,{spacing:{xs:2,sm:3},sx:{px:{xs:.5,sm:0}},children:ke.map((Q,ee)=>r.jsx(Ke.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*ee,duration:.4},children:r.jsx(it,{sx:{background:"linear-gradient(135deg, rgba(138, 190, 185, 0.1), rgba(193, 120, 90, 0.1))",border:"2px solid",borderColor:"primary.main",borderRadius:3,transition:"all 0.3s ease",maxWidth:"100%",boxSizing:"border-box","&:hover":{transform:"translateY(-4px)",boxShadow:"0 12px 24px rgba(48, 86, 105, 0.2)"}},children:r.jsxs(ut,{sx:{p:{xs:1.5,sm:2},"&:last-child":{pb:{xs:1.5,sm:2}}},children:[r.jsx(P,{variant:"h6",gutterBottom:!0,sx:{color:"secondary.main",fontWeight:600,mb:1.5,display:"flex",alignItems:"center",gap:1},children:r.jsx(yt,{label:`Superset ${ee+1}`,size:"small",sx:{bgcolor:"secondary.main",color:"white",fontWeight:600}})}),r.jsx(Ie,{spacing:{xs:1,sm:1.5},children:Q.map((ue,me)=>{const ge=ue?ue["Exercise Name"]:null,ae=ge?p[ge]||{weight:"",targetReps:""}:{weight:"",targetReps:""},Y=ke.slice(0,ee).reduce((G,he)=>G+he.length,0)+me,oe=String.fromCharCode(65+me);return r.jsxs(N,{sx:{p:{xs:1,sm:1.5},bgcolor:"background.paper",borderRadius:2,transition:"all 0.2s ease"},children:[r.jsxs(N,{sx:{display:"flex",alignItems:"flex-start",gap:{xs:1,sm:1.5},mb:{xs:1,sm:1.5}},children:[r.jsx(P,{sx:{fontSize:{xs:"1.25rem",sm:"1.75rem"},color:"primary.main",fontWeight:700,width:{xs:"28px",sm:"36px"},textAlign:"center",flexShrink:0},children:oe}),r.jsx(N,{sx:{flex:1,minWidth:0},children:r.jsx(N,{sx:{mb:.5},children:r.jsx(jx,{value:ue,onChange:(G,he)=>{he&&q(Y,he)},availableExercises:R,label:"Exercise",placeholder:u?"Type to search and select...":"Type to search and swap...",disabled:R.length===0})})})]}),ue&&r.jsxs(r.Fragment,{children:[r.jsxs(Ie,{direction:"row",spacing:{xs:1,sm:1.5},sx:{pl:{xs:3.5,sm:5.5},flexWrap:{xs:"wrap",sm:"nowrap"},mb:{xs:1,sm:1.5}},children:[r.jsx(gt,{type:"tel",inputMode:"decimal",value:ae.weight===""?"":ae.weight,onChange:G=>z(ge,G.target.value),onBlur:G=>ce(ge,G.target.value),onFocus:G=>G.target.select(),placeholder:ue.Equipment?.toLowerCase()==="bodyweight"?"N/A":"Weight (lbs)",size:"small",disabled:ue.Equipment?.toLowerCase()==="bodyweight",inputProps:{min:0,max:500,step:2.5,pattern:"[0-9]*([.,][0-9]+)?","aria-label":`Target weight in pounds for ${ge}`},sx:{minWidth:{xs:100,sm:120},flex:{xs:"1 1 45%",sm:"none"},"& .MuiInputBase-input.Mui-disabled":{WebkitTextFillColor:"rgba(0, 0, 0, 0.38)",backgroundColor:"rgba(0, 0, 0, 0.04)"}}}),r.jsx(gt,{type:"tel",inputMode:"numeric",value:ae.targetReps===""?"":ae.targetReps,onChange:G=>U(ge,G.target.value),onBlur:G=>ie(ge,G.target.value),onFocus:G=>G.target.select(),placeholder:"Reps",size:"small",inputProps:{min:1,max:20,step:1,pattern:"\\d*","aria-label":`Target repetitions for ${ge}`},sx:{minWidth:{xs:100,sm:120},flex:{xs:"1 1 45%",sm:"none"}}})]}),r.jsxs(N,{sx:{pl:{xs:3.5,sm:5.5},display:"flex",alignItems:"center",gap:1,flexWrap:"wrap"},children:[r.jsx(yt,{label:ue["Primary Muscle"],size:"small",variant:"outlined",sx:{borderColor:"primary.main",color:"primary.main",fontSize:{xs:"0.65rem",sm:"0.75rem"}}}),r.jsx(yt,{label:ue.Equipment,size:"small",variant:"outlined",sx:{borderColor:"text.secondary",color:"text.secondary",fontSize:{xs:"0.65rem",sm:"0.75rem"}}}),l&&!u&&r.jsx(Be,{size:"small",onClick:G=>{G.stopPropagation(),V(ue,Y)},sx:{color:"primary.main",minWidth:"36px",minHeight:"36px","&:hover":{backgroundColor:"rgba(19, 70, 134, 0.08)"}},"aria-label":`Randomize ${ge}`,children:r.jsx(QA,{fontSize:"small"})})]})]})]},me)})})]})})},ee))}),r.jsx(Ke.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:r.jsxs(Ie,{direction:"row",spacing:2,sx:{mt:{xs:3,sm:4},px:{xs:.5,sm:0}},justifyContent:"center",children:[r.jsx(Ae,{variant:"contained",size:"large",onClick:a,sx:{borderRadius:2,minWidth:{xs:"60px",sm:"80px"},px:{xs:1,sm:2},py:1.5,fontSize:{xs:"1.2rem",sm:"1.5rem"},fontWeight:600,bgcolor:"rgb(237, 63, 39)",color:"white","&:hover":{bgcolor:"rgb(200, 50, 30)"}},children:""}),r.jsx(Ae,{variant:"contained",size:"large",startIcon:T?r.jsx(Ji,{}):r.jsx(ES,{}),onClick:pe,disabled:T,sx:{borderRadius:2,flex:1,maxWidth:{xs:"130px",sm:"150px"},px:{xs:2,sm:3},py:1.5,fontSize:{xs:"0.9rem",sm:"1.1rem"},fontWeight:600,bgcolor:T?"rgb(76, 175, 80)":"rgb(254, 178, 26)",color:"white","&:hover":{bgcolor:T?"rgb(56, 142, 60)":"rgb(245, 158, 11)"},"&:disabled":{bgcolor:"rgb(76, 175, 80)",color:"white",opacity:.8}},children:T?"Saved!":"Save"}),r.jsx(Ae,{variant:"contained",size:"large",startIcon:r.jsx(ri,{}),onClick:le,disabled:v,sx:{borderRadius:2,flex:1,maxWidth:{xs:"130px",sm:"150px"},px:{xs:2,sm:3},py:1.5,fontSize:{xs:"0.9rem",sm:"1.1rem"},fontWeight:600,bgcolor:"rgb(19, 70, 134)",color:"white","&:hover":{bgcolor:"rgb(15, 56, 107)",transform:"translateY(-2px)",boxShadow:"0 8px 16px rgba(19, 70, 134, 0.3)"},"&:disabled":{bgcolor:"rgb(19, 70, 134)",color:"white",opacity:.6},transition:"all 0.3s ease"},children:v?"Starting...":"Begin"})]})}),r.jsx(Qs,{open:w,autoHideDuration:3e3,onClose:()=>j(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(qt,{severity:"success",onClose:()=>j(!1),children:"Workout saved to favorites!"})}),r.jsx(Qs,{open:W.open,autoHideDuration:4e3,onClose:()=>O({...W,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(qt,{severity:W.severity,onClose:()=>O({...W,open:!1}),children:W.message})})]})});kx.displayName="WorkoutPreview";kx.propTypes={workout:D.array.isRequired,workoutType:D.string.isRequired,onStart:D.func.isRequired,onCancel:D.func.isRequired,onRandomizeExercise:D.func,equipmentFilter:D.oneOfType([D.string,D.array]),isCustomizeMode:D.bool,supersetConfig:D.arrayOf(D.number),setsPerSuperset:D.number};const f7=(e=[])=>{if(!e||e.length===0)return{currentStreak:0,longestStreak:0};const t=[...e].sort((p,g)=>new Date(g.date)-new Date(p.date)),s=[...new Set(t.map(p=>{const g=new Date(p.date);return`${g.getFullYear()}-${String(g.getMonth()+1).padStart(2,"0")}-${String(g.getDate()).padStart(2,"0")}`}))],a=new Date;a.setHours(0,0,0,0);let l=0,u=0,d=0,h=new Date(a);for(let p=0;p<90;p++){const g=`${h.getFullYear()}-${String(h.getMonth()+1).padStart(2,"0")}-${String(h.getDate()).padStart(2,"0")}`;if(s.includes(g)){if(d++,l===0){const y=new Date(t[0].date);y.setHours(0,0,0,0),Math.floor((a-y)/(1e3*60*60*24))<=2&&(l=d)}u=Math.max(u,d)}else if(p>0&&d>0){const y=new Date(h);y.setDate(y.getDate()-1);const b=`${y.getFullYear()}-${String(y.getMonth()+1).padStart(2,"0")}-${String(y.getDate()).padStart(2,"0")}`;if(!s.includes(b)){if(l===0)break;d=0}}h.setDate(h.getDate()-1)}return{currentStreak:l,longestStreak:u}},kE=(e=[])=>{const t={};return e.forEach(s=>{s.exercises&&Object.entries(s.exercises).forEach(([a,l])=>{!l.sets||l.sets.length===0||l.sets.forEach(u=>{const d=u.weight||0,h=u.reps||0;if(d===0&&h===0)return;const p=d>0&&h>0?d*(1+h/30):0;(!t[a]||d>(t[a].maxWeight||0))&&(t[a]||(t[a]={}),d>(t[a].maxWeight||0)&&(t[a].maxWeight=d,t[a].maxWeightDate=s.date,t[a].maxWeightReps=h)),(!t[a]||h>(t[a].maxReps||0))&&(t[a]||(t[a]={}),h>(t[a].maxReps||0)&&(t[a].maxReps=h,t[a].maxRepsDate=s.date,t[a].maxRepsWeight=d)),(!t[a]||p>(t[a].estimatedOneRepMax||0))&&(t[a]||(t[a]={}),p>(t[a].estimatedOneRepMax||0)&&(t[a].estimatedOneRepMax=Math.round(p*10)/10,t[a].oneRepMaxDate=s.date))})})}),t},TE=(e,t={})=>{const s=[];if(!e||!e.exercises)return s;Object.entries(e.exercises).forEach(([l,u])=>{if(!u.sets||u.sets.length===0)return;const d=t[l]||{};u.sets.forEach(h=>{const p=h.weight||0,g=h.reps||0;if(p===0&&g===0)return;p>0&&p>(d.maxWeight||0)&&s.push({exerciseName:l,type:"weight",value:p,previousValue:d.maxWeight||0,reps:g}),g>0&&g>(d.maxReps||0)&&s.push({exerciseName:l,type:"reps",value:g,previousValue:d.maxReps||0,weight:p});const y=p>0&&g>0?p*(1+g/30):0;y>(d.estimatedOneRepMax||0)&&s.push({exerciseName:l,type:"oneRepMax",value:Math.round(y*10)/10,previousValue:d.estimatedOneRepMax||0})})});const a={};return s.forEach(l=>{const u=`${l.exerciseName}-${l.type}`;(!a[u]||l.value>a[u].value)&&(a[u]=l)}),Object.values(a)},DE=e=>[{days:7,badge:" Week Warrior",description:"7 day streak!"},{days:30,badge:" Monthly Master",description:"30 day streak!"},{days:90,badge:" Quarter Champion",description:"90 day streak!"},{days:180,badge:" Half Year Hero",description:"180 day streak!"},{days:365,badge:" Year Legend",description:"365 day streak!"}].filter(s=>e>=s.days),p7=Object.freeze(Object.defineProperty({__proto__:null,calculateStreak:f7,detectNewPRs:TE,getPersonalRecords:kE,getStreakMilestones:DE},Symbol.toStringTag,{value:"Module"})),EE=({open:e,onClose:t,prData:s})=>{if(!s)return null;const a=()=>{const{exerciseName:l,type:u,value:d,previousValue:h}=s;return u==="weight"?`New ${l} PR!  ${d} lbs (previous: ${h} lbs)`:u==="reps"?`New ${l} Rep PR!  ${d} reps (previous: ${h} reps)`:u==="oneRepMax"?`New ${l} 1RM!  ${d} lbs (previous: ${h} lbs)`:`New ${l} PR! `};return r.jsx(Qs,{open:e,autoHideDuration:4e3,onClose:t,anchorOrigin:{vertical:"top",horizontal:"center"},TransitionComponent:FC,children:r.jsx(qt,{onClose:t,severity:"success",variant:"filled",sx:{width:"100%",fontSize:"1rem","& .MuiAlert-icon":{fontSize:"2rem"}},icon:r.jsx(Zo,{}),children:a()})})};EE.propTypes={open:D.bool.isRequired,onClose:D.func.isRequired,prData:D.shape({exerciseName:D.string.isRequired,type:D.string.isRequired,value:D.number.isRequired,previousValue:D.number})};D.bool.isRequired,D.func.isRequired,D.shape({days:D.number.isRequired,badge:D.string.isRequired,description:D.string.isRequired});D.bool.isRequired,D.func.isRequired,D.shape({workoutsCompleted:D.number,totalVolume:D.number,totalTime:D.number,prsAchieved:D.number,topExercises:D.arrayOf(D.shape({name:D.string,count:D.number})),adherence:D.number});D.array,D.array,D.object,D.func,D.func,D.func;const Tx=x.memo(({workoutData:e,workoutPlan:t,onFinish:s,onExportCSV:a})=>{const[l,u]=x.useState(!1),[d,h]=x.useState(!1),[p,g]=x.useState([]),[y,b]=x.useState(0),[v,S]=x.useState(!1),[T,k]=x.useState(!1),[w,j]=x.useState(""),{isAutoAssignWeek:E,assignWorkoutToDay:M,weeklySchedule:W}=Ha();x.useEffect(()=>{(async()=>{try{const I=await ci(),F=kE(I.slice(1)),B=TE(e,F);B.length>0&&g(B)}catch(I){console.error("Error checking for PRs:",I)}})()},[e]),x.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),x.useEffect(()=>{(async()=>{if(E()&&e&&t)try{const I=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date().getDay()],F=qo(e),B={sessionType:F,sessionName:`${F.charAt(0).toUpperCase()+F.slice(1)} Body Workout`,exercises:t,date:new Date().toISOString()};await M(I,B),j(`Automatically assigned to ${I}`),k(!0)}catch(I){console.error("Error auto-assigning workout:",I)}})()},[E,e,t,M]);const O=()=>{try{if(!t||t.length===0){alert("Cannot save workout: No exercise data available");return}const L=qo(e);iy({name:`${L.charAt(0).toUpperCase()+L.slice(1)} Body Workout`,type:L,equipment:"all",exercises:t}),u(!0),h(!0)}catch(L){console.error("Error saving to favorites:",L),alert("Failed to save workout to favorites")}},R=()=>{S(!0)},_=async(L,I)=>{try{const F=qo(e),B={sessionType:F,sessionName:`${F.charAt(0).toUpperCase()+F.slice(1)} Body Workout`,exercises:t,date:new Date().toISOString()};await M(L,B),j(`Workout assigned to ${L}`),k(!0)}catch(F){console.error("Error assigning workout:",F),j("Failed to assign workout"),k(!0)}};return r.jsxs(Ke.div,{className:"screen completion-screen",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{padding:"1rem",maxWidth:"900px",margin:"0 auto"},children:[r.jsxs(Ke.div,{className:"completion-header",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,type:"spring",stiffness:200},children:[r.jsx(N,{sx:{position:"relative"},children:r.jsx(Be,{onClick:O,disabled:l,sx:{position:"absolute",top:0,right:0,color:l?"warning.main":"white","&:hover":{color:"warning.main"}},"aria-label":"Save to favorites",children:l?r.jsx(Ji,{sx:{fontSize:32}}):r.jsx(zg,{sx:{fontSize:32}})})}),r.jsx(Ke.div,{initial:{y:-20},animate:{y:[0,-10,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut"},children:r.jsx("img",{src:"/goodlift/dancing-icon.svg",alt:"Celebration",style:{width:"120px",height:"120px",marginBottom:"1rem"}})}),r.jsx("h1",{children:"Workout Complete!"}),r.jsxs("p",{className:"completion-time",children:["Total Time: ",r.jsx("strong",{children:HT(e.duration)})]})]}),r.jsxs("div",{className:"workout-summary-container",children:[r.jsx(P,{variant:"h4",component:"h2",sx:{fontWeight:700,mb:3,textAlign:"center",color:"text.primary"},children:"Workout Summary"}),r.jsx(Ie,{spacing:2,children:Object.entries(e.exercises).map(([L,I],F)=>r.jsx(Ke.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3+F*.1},children:r.jsx(it,{sx:{borderRadius:3,transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 24px rgba(48, 86, 105, 0.15)"}},children:r.jsxs(ut,{children:[r.jsx(P,{variant:"h6",component:"h3",sx:{color:"primary.main",fontWeight:600,mb:2,pb:1,borderBottom:"2px solid",borderColor:"rgba(138, 190, 185, 0.2)"},children:L}),r.jsx(Ie,{spacing:1,children:I.sets.map((B,z)=>r.jsxs(N,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:1.5,bgcolor:"rgba(183, 229, 205, 0.3)",borderRadius:2,transition:"all 0.2s ease","&:hover":{bgcolor:"primary.main",color:"white","& .MuiChip-root":{bgcolor:"white",color:"primary.main"}}},children:[r.jsx(yt,{label:`Set ${B.set}`,size:"small",sx:{fontWeight:600,minWidth:60}}),r.jsxs(P,{sx:{fontWeight:600,fontSize:"1rem"},children:[B.weight," lbs  ",B.reps," reps"]})]},z))})]})})},L))})]}),r.jsx(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:r.jsxs(Ie,{direction:{xs:"column",sm:"row"},spacing:2,sx:{mt:4},children:[!E()&&r.jsx(Ae,{variant:"outlined",size:"large",startIcon:r.jsx(Mc,{}),onClick:R,sx:{flex:1,borderRadius:2,py:1.5,fontSize:"1rem",fontWeight:600,borderColor:"info.main",color:"info.main","&:hover":{borderColor:"info.dark",bgcolor:"rgba(33, 150, 243, 0.1)"}},children:"Assign to Day"}),r.jsx(Ae,{variant:"outlined",size:"large",startIcon:r.jsx(HC,{}),onClick:a,sx:{flex:1,borderRadius:2,py:1.5,fontSize:"1rem",fontWeight:600,borderColor:"secondary.main",color:"secondary.main","&:hover":{borderColor:"secondary.dark",bgcolor:"rgba(193, 120, 90, 0.1)"}},children:"Download CSV"}),r.jsx(Ae,{variant:"contained",size:"large",startIcon:r.jsx(XA,{}),onClick:s,sx:{flex:1,borderRadius:2,py:1.5,fontSize:"1rem",fontWeight:600,bgcolor:"primary.main","&:hover":{bgcolor:"primary.dark"}},children:"Finish"})]})}),r.jsx(Qs,{open:d,autoHideDuration:3e3,onClose:()=>h(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(qt,{severity:"success",onClose:()=>h(!1),children:"Workout saved to favorites!"})}),r.jsx(Qs,{open:T,autoHideDuration:3e3,onClose:()=>k(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(qt,{severity:"success",onClose:()=>k(!1),children:w})}),r.jsx(Sx,{open:v,onClose:()=>S(!1),onAssign:_,workoutData:e,currentSchedule:W}),p.length>0&&y<p.length&&r.jsx(EE,{open:!0,onClose:()=>b(L=>L+1),prData:p[y]})]})});Tx.displayName="CompletionScreen";Tx.propTypes={workoutData:D.object.isRequired,workoutPlan:D.array,onFinish:D.func.isRequired,onExportCSV:D.func.isRequired};const pi=[{id:"first-workout",name:"First Steps",description:"Complete your first workout",icon:"",tier:"bronze",condition:{type:"workoutCount",value:1}},{id:"dedicated-5",name:"Getting Started",description:"Complete 5 workouts",icon:"",tier:"bronze",condition:{type:"workoutCount",value:5}},{id:"dedicated-10",name:"Committed",description:"Complete 10 workouts",icon:"",tier:"silver",condition:{type:"workoutCount",value:10}},{id:"dedicated-25",name:"Athlete",description:"Complete 25 workouts",icon:"",tier:"silver",condition:{type:"workoutCount",value:25}},{id:"dedicated-50",name:"Beast Mode",description:"Complete 50 workouts",icon:"",tier:"gold",condition:{type:"workoutCount",value:50}},{id:"dedicated-100",name:"Centurion",description:"Complete 100 workouts",icon:"",tier:"gold",condition:{type:"workoutCount",value:100}},{id:"dedicated-150",name:"Elite Athlete",description:"Complete 150 workouts",icon:"",tier:"gold",condition:{type:"workoutCount",value:150}},{id:"dedicated-200",name:"Relentless",description:"Complete 200 workouts",icon:"",tier:"platinum",condition:{type:"workoutCount",value:200}},{id:"dedicated-250",name:"Iron Legend",description:"Complete 250 workouts",icon:"",tier:"platinum",condition:{type:"workoutCount",value:250}},{id:"dedicated-500",name:"Hall of Fame",description:"Complete 500 workouts",icon:"",tier:"platinum",condition:{type:"workoutCount",value:500}},{id:"streak-3",name:"Consistency",description:"Maintain a 3-day workout streak",icon:"",tier:"bronze",condition:{type:"streak",value:3}},{id:"streak-7",name:"Week Warrior",description:"Maintain a 7-day workout streak",icon:"",tier:"silver",condition:{type:"streak",value:7}},{id:"streak-14",name:"Fortnight Fighter",description:"Maintain a 14-day workout streak",icon:"",tier:"silver",condition:{type:"streak",value:14}},{id:"streak-30",name:"Monthly Master",description:"Maintain a 30-day workout streak",icon:"",tier:"gold",condition:{type:"streak",value:30}},{id:"streak-60",name:"Unbreakable",description:"Maintain a 60-day workout streak",icon:"",tier:"gold",condition:{type:"streak",value:60}},{id:"streak-100",name:"Iron Will",description:"Maintain a 100-day workout streak",icon:"",tier:"platinum",condition:{type:"streak",value:100}},{id:"first-pr",name:"New Heights",description:"Achieve your first personal record",icon:"",tier:"bronze",condition:{type:"prCount",value:1}},{id:"pr-5",name:"Record Breaker",description:"Achieve 5 personal records",icon:"",tier:"silver",condition:{type:"prCount",value:5}},{id:"pr-10",name:"Powerhouse",description:"Achieve 10 personal records",icon:"",tier:"gold",condition:{type:"prCount",value:10}},{id:"pr-25",name:"Peak Performance",description:"Achieve 25 personal records",icon:"",tier:"platinum",condition:{type:"prCount",value:25}},{id:"volume-10k",name:"Moving Iron",description:"Lift 10,000 lbs total volume",icon:"",tier:"bronze",condition:{type:"totalVolume",value:1e4}},{id:"volume-50k",name:"Heavy Lifter",description:"Lift 50,000 lbs total volume",icon:"",tier:"silver",condition:{type:"totalVolume",value:5e4}},{id:"volume-100k",name:"Tonnage Master",description:"Lift 100,000 lbs total volume",icon:"",tier:"gold",condition:{type:"totalVolume",value:1e5}},{id:"volume-250k",name:"Moving Mountains",description:"Lift 250,000 lbs total volume",icon:"",tier:"platinum",condition:{type:"totalVolume",value:25e4}},{id:"time-1h",name:"First Hour",description:"Complete 1 hour of total workout time",icon:"",tier:"bronze",condition:{type:"totalTime",value:3600}},{id:"time-10h",name:"Time Investment",description:"Complete 10 hours of total workout time",icon:"",tier:"silver",condition:{type:"totalTime",value:36e3}},{id:"time-50h",name:"Dedicated",description:"Complete 50 hours of total workout time",icon:"",tier:"gold",condition:{type:"totalTime",value:18e4}},{id:"time-100h",name:"Time Master",description:"Complete 100 hours of total workout time",icon:"",tier:"platinum",condition:{type:"totalTime",value:36e4}},{id:"early-bird",name:"Early Bird",description:"Complete a workout before 7 AM",icon:"",tier:"bronze",condition:{type:"special",value:"earlyMorning"}},{id:"morning-person",name:"Morning Person",description:"Complete 10 workouts in the morning (7 AM - 12 PM)",icon:"",tier:"silver",condition:{type:"special",value:"morningWorkouts",count:10}},{id:"afternoon-warrior",name:"Afternoon Warrior",description:"Complete 10 workouts in the afternoon (12 PM - 5 PM)",icon:"",tier:"silver",condition:{type:"special",value:"afternoonWorkouts",count:10}},{id:"evening-grinder",name:"Evening Grinder",description:"Complete 10 workouts in the evening (5 PM - 10 PM)",icon:"",tier:"silver",condition:{type:"special",value:"eveningWorkouts",count:10}},{id:"night-owl",name:"Night Owl",description:"Complete a workout after 10 PM",icon:"",tier:"bronze",condition:{type:"special",value:"lateNight"}},{id:"consecutive-3",name:"Back to Back",description:"Complete 3 consecutive workouts within an hour of each other",icon:"",tier:"bronze",condition:{type:"special",value:"consecutiveWorkouts",count:3}},{id:"consecutive-5",name:"Chain Reaction",description:"Complete 5 consecutive workouts within an hour of each other",icon:"",tier:"silver",condition:{type:"special",value:"consecutiveWorkouts",count:5}},{id:"consecutive-10",name:"Unstoppable",description:"Complete 10 consecutive workouts within an hour of each other",icon:"",tier:"gold",condition:{type:"special",value:"consecutiveWorkouts",count:10}},{id:"weekend-warrior",name:"Weekend Warrior",description:"Complete 10 weekend workouts",icon:"",tier:"silver",condition:{type:"special",value:"weekendWorkouts",count:10}},{id:"variety-seeker",name:"Variety Seeker",description:"Complete all workout types (Full Body, Upper, Lower, Push, Pull, Legs)",icon:"",tier:"gold",condition:{type:"special",value:"allWorkoutTypes"}},{id:"wellness-first",name:"Wellness Beginner",description:"Complete your first wellness task",icon:"",tier:"bronze",condition:{type:"wellnessTaskCount",value:1}},{id:"wellness-10",name:"Wellness Explorer",description:"Complete 10 wellness tasks",icon:"",tier:"bronze",condition:{type:"wellnessTaskCount",value:10}},{id:"wellness-25",name:"Wellness Enthusiast",description:"Complete 25 wellness tasks",icon:"",tier:"silver",condition:{type:"wellnessTaskCount",value:25}},{id:"wellness-50",name:"Wellness Champion",description:"Complete 50 wellness tasks",icon:"",tier:"gold",condition:{type:"wellnessTaskCount",value:50}},{id:"wellness-100",name:"Wellness Master",description:"Complete 100 wellness tasks",icon:"",tier:"platinum",condition:{type:"wellnessTaskCount",value:100}}],Uh={bronze:{color:"#CD7F32",gradient:"linear-gradient(135deg, #CD7F32 0%, #B87333 100%)",textColor:"#fff"},silver:{color:"#C0C0C0",gradient:"linear-gradient(135deg, #C0C0C0 0%, #A8A8A8 100%)",textColor:"#333"},gold:{color:"#FFD700",gradient:"linear-gradient(135deg, #FFD700 0%, #FFA500 100%)",textColor:"#333"},platinum:{color:"#E5E4E2",gradient:"linear-gradient(135deg, #E5E4E2 0%, #B0B0B0 100%)",textColor:"#333"}},Tc=(e,t,s=[])=>{const{condition:a}=e;switch(a.type){case"workoutCount":return(t.totalWorkouts||0)>=a.value;case"streak":return(t.currentStreak||0)>=a.value;case"prCount":return(t.totalPRs||0)>=a.value;case"totalVolume":return(t.totalVolume||0)>=a.value;case"totalTime":return(t.totalTime||0)>=a.value;case"wellnessTaskCount":return(t.completedWellnessTasks||0)>=a.value;case"special":return m7(a,t,s);default:return!1}},m7=(e,t,s)=>{switch(e.value){case"earlyMorning":return s.some(a=>new Date(a.date).getHours()<7);case"morningWorkouts":return s.filter(l=>{const u=new Date(l.date).getHours();return u>=7&&u<12}).length>=(e.count||10);case"afternoonWorkouts":return s.filter(l=>{const u=new Date(l.date).getHours();return u>=12&&u<17}).length>=(e.count||10);case"eveningWorkouts":return s.filter(l=>{const u=new Date(l.date).getHours();return u>=17&&u<22}).length>=(e.count||10);case"lateNight":return s.some(a=>new Date(a.date).getHours()>=22);case"consecutiveWorkouts":{const a=[...s].sort((d,h)=>new Date(d.date)-new Date(h.date));let l=0,u=1;for(let d=1;d<a.length;d++){const h=new Date(a[d-1].date);(new Date(a[d].date)-h)/(1e3*60*60)<=1?(u++,l=Math.max(l,u)):u=1}return l>=(e.count||3)}case"weekendWorkouts":return s.filter(l=>{const u=new Date(l.date).getDay();return u===0||u===6}).length>=(e.count||10);case"allWorkoutTypes":{const a=["full","upper","lower","push","pull","legs"],l=new Set(s.map(u=>u.type?.toLowerCase()).filter(Boolean));return a.every(u=>l.has(u))}default:return!1}},Od=(e,t,s=[])=>{const l=[...e].sort((p,g)=>p.condition.value-g.condition.value).find(p=>!Tc(p,t,s));if(!l)return null;const{condition:u}=l;let d=0;switch(u.type){case"workoutCount":d=t.totalWorkouts||0;break;case"streak":d=t.currentStreak||0;break;case"prCount":d=t.totalPRs||0;break;case"totalVolume":d=t.totalVolume||0;break;case"totalTime":d=t.totalTime||0;break;default:d=0}const h=Math.min(d/u.value*100,100);return{achievement:l,current:d,target:u.value,progress:h}},g7=(e,t=[])=>pi.filter(s=>Tc(s,e,t)),y7=(e,t,s=[])=>g7(e,t).filter(l=>!s.includes(l.id)),x7=e=>{const t={bronze:10,silver:25,gold:50,platinum:100};return e.reduce((s,a)=>s+(t[a.tier]||0),0)},b7=e=>{const s=Math.floor(e/100)+1,a=e%100,l=100-a;return{level:s,currentPoints:a,pointsToNext:l,totalPoints:e}},ME=({achievement:e,unlocked:t,onClick:s})=>{const a=Uh[e.tier];return r.jsx(Ke.div,{whileHover:{scale:t?1.05:1.02},whileTap:{scale:.98},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:r.jsx(it,{onClick:s,sx:{height:"100%",cursor:"pointer",position:"relative",background:t?a.gradient:"linear-gradient(135deg, #424242 0%, #303030 100%)",color:t?a.textColor:"#888",transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:t?6:2}},children:r.jsxs(ut,{sx:{textAlign:"center",p:2},children:[!t&&r.jsx(N,{sx:{position:"absolute",top:8,right:8,color:"rgba(255, 255, 255, 0.5)"},children:r.jsx(qC,{fontSize:"small"})}),r.jsx(P,{variant:"h2",sx:{fontSize:"3rem",mb:1,filter:t?"none":"grayscale(100%)",opacity:t?1:.4},children:e.icon}),r.jsx(P,{variant:"subtitle1",sx:{fontWeight:700,mb:.5,fontSize:"0.95rem"},children:e.name}),r.jsx(yt,{label:e.tier.toUpperCase(),size:"small",sx:{fontSize:"0.65rem",height:20,fontWeight:600,bgcolor:t?"rgba(255, 255, 255, 0.3)":"rgba(255, 255, 255, 0.1)"}})]})})})};ME.propTypes={achievement:D.object.isRequired,unlocked:D.bool.isRequired,onClick:D.func.isRequired};const AE=({achievement:e,unlocked:t,onClose:s,onShare:a})=>{if(!e)return null;const l=Uh[e.tier];return r.jsxs(In,{open:!!e,onClose:s,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:3}},children:[r.jsx(Kn,{sx:{textAlign:"center",pb:1},children:r.jsx(Be,{onClick:s,sx:{position:"absolute",right:8,top:8},children:r.jsx(bh,{})})}),r.jsxs(Wn,{sx:{textAlign:"center",pt:0},children:[r.jsx(N,{sx:{width:120,height:120,borderRadius:"50%",background:t?l.gradient:"linear-gradient(135deg, #424242 0%, #303030 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",filter:t?"none":"grayscale(100%)",opacity:t?1:.6},children:r.jsx(P,{variant:"h1",sx:{fontSize:"4rem"},children:e.icon})}),!t&&r.jsx(yt,{icon:r.jsx(qC,{}),label:"LOCKED",color:"default",sx:{mb:2}}),t&&r.jsx(yt,{icon:r.jsx(Zo,{}),label:"UNLOCKED",color:"success",sx:{mb:2}}),r.jsx(P,{variant:"h5",sx:{fontWeight:700,mb:1},children:e.name}),r.jsx(yt,{label:e.tier.toUpperCase(),size:"small",sx:{mb:2,fontWeight:600,background:l.gradient,color:l.textColor}}),r.jsx(P,{variant:"body1",color:"text.secondary",sx:{mb:2},children:e.description}),r.jsx(N,{sx:{p:2,borderRadius:2,bgcolor:"action.hover"},children:r.jsx(P,{variant:"body2",color:"text.secondary",children:v7(e.condition)})})]}),r.jsxs(Nn,{sx:{justifyContent:"center",pb:3,px:3},children:[t&&a&&r.jsx(Ae,{variant:"contained",startIcon:r.jsx(YC,{}),onClick:()=>a(e),fullWidth:!0,children:"Share Achievement"}),!t&&r.jsx(Ae,{variant:"outlined",onClick:s,fullWidth:!0,children:"Close"})]})]})};AE.propTypes={achievement:D.object,unlocked:D.bool,onClose:D.func.isRequired,onShare:D.func};const fc=({title:e,icon:t,progressInfo:s})=>{if(!s)return r.jsx(it,{sx:{height:"100%"},children:r.jsx(ut,{children:r.jsxs(Ie,{spacing:1,children:[r.jsxs(Ie,{direction:"row",alignItems:"center",spacing:1,children:[t,r.jsx(P,{variant:"h6",sx:{fontWeight:600,fontSize:"1rem"},children:e})]}),r.jsx(P,{variant:"body2",color:"text.secondary",children:"All achievements unlocked! "})]})})});const{achievement:a,current:l,target:u,progress:d}=s;return r.jsx(it,{sx:{height:"100%"},children:r.jsx(ut,{children:r.jsxs(Ie,{spacing:2,children:[r.jsxs(Ie,{direction:"row",alignItems:"center",spacing:1,children:[t,r.jsx(P,{variant:"h6",sx:{fontWeight:600,fontSize:"1rem"},children:e})]}),r.jsxs(N,{children:[r.jsxs(Ie,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:1},children:[r.jsx(P,{variant:"body2",sx:{fontWeight:600},children:a.name}),r.jsxs(P,{variant:"body2",color:"text.secondary",children:[pC(l,a.condition.type)," / ",pC(u,a.condition.type)]})]}),r.jsx(ta,{variant:"determinate",value:d,sx:{height:8,borderRadius:4,bgcolor:"action.hover","& .MuiLinearProgress-bar":{background:Uh[a.tier].gradient,borderRadius:4}}}),r.jsxs(P,{variant:"caption",color:"text.secondary",sx:{mt:.5,display:"block"},children:[Math.round(d),"% complete"]})]})]})})})};fc.propTypes={title:D.string.isRequired,icon:D.element.isRequired,progressInfo:D.object};const PE=({userStats:e,workoutHistory:t=[]})=>{const[s,a]=x.useState(null),[l,u]=x.useState(!1),[d,h]=x.useState(0),p=pi.filter(R=>Tc(R,e,t)),g=x7(p),y=b7(g),b={workout:pi.filter(R=>R.condition.type==="workoutCount"),streak:pi.filter(R=>R.condition.type==="streak"),pr:pi.filter(R=>R.condition.type==="prCount"),volume:pi.filter(R=>R.condition.type==="totalVolume"),time:pi.filter(R=>R.condition.type==="totalTime"),special:pi.filter(R=>R.condition.type==="special")},v=[{label:"All",key:"all"},{label:"Workouts",key:"workout"},{label:"Streaks",key:"streak"},{label:"PRs",key:"pr"},{label:"Volume",key:"volume"},{label:"Time",key:"time"},{label:"Special",key:"special"}],S=v[d].key,T=S==="all"?pi:b[S],k=Od(b.workout,e,t),w=Od(b.streak,e,t),j=Od(b.pr,e,t),E=Od(b.volume,e,t),M=R=>{a(R),u(Tc(R,e,t))},W=async R=>{const _=`I just unlocked the "${R.name}" achievement in GoodLift! ${R.icon}

${R.description}`;if(navigator.share)try{await navigator.share({title:"GoodLift Achievement",text:_})}catch(L){L.name!=="AbortError"&&(console.error("Error sharing:",L),O(_))}else O(_)},O=R=>{navigator.clipboard.writeText(R).then(()=>{alert("Achievement text copied to clipboard!")})};return r.jsxs(N,{sx:{p:{xs:1,sm:2,md:3}},children:[r.jsxs(N,{sx:{mb:4,textAlign:"center"},children:[r.jsx(P,{variant:"h4",sx:{fontWeight:700,mb:1},children:"Achievements"}),r.jsxs(Ie,{direction:"row",spacing:2,justifyContent:"center",alignItems:"center",sx:{mb:2},children:[r.jsx(yt,{icon:r.jsx(Zo,{}),label:`Level ${y.level}`,color:"primary",sx:{fontSize:"1rem",fontWeight:600,height:36}}),r.jsx(yt,{label:`${p.length} / ${pi.length} Unlocked`,variant:"outlined",sx:{fontSize:"0.9rem",height:36}})]}),r.jsxs(N,{sx:{maxWidth:400,margin:"0 auto"},children:[r.jsxs(Ie,{direction:"row",justifyContent:"space-between",sx:{mb:1},children:[r.jsxs(P,{variant:"caption",color:"text.secondary",children:[y.currentPoints," / 100 points"]}),r.jsxs(P,{variant:"caption",color:"text.secondary",children:[y.pointsToNext," to Level ",y.level+1]})]}),r.jsx(ta,{variant:"determinate",value:y.currentPoints/100*100,sx:{height:10,borderRadius:5,bgcolor:"action.hover","& .MuiLinearProgress-bar":{borderRadius:5}}})]})]}),r.jsxs(sn,{container:!0,spacing:{xs:1,sm:2},sx:{mb:4},children:[r.jsx(sn,{item:!0,xs:6,sm:6,md:3,children:r.jsx(fc,{title:"Workouts",icon:r.jsx(gn,{color:"primary"}),progressInfo:k})}),r.jsx(sn,{item:!0,xs:6,sm:6,md:3,children:r.jsx(fc,{title:"Streak",icon:r.jsx(UC,{sx:{color:"#FF6B35"}}),progressInfo:w})}),r.jsx(sn,{item:!0,xs:6,sm:6,md:3,children:r.jsx(fc,{title:"Personal Records",icon:r.jsx(Zi,{color:"success"}),progressInfo:j})}),r.jsx(sn,{item:!0,xs:6,sm:6,md:3,children:r.jsx(fc,{title:"Volume",icon:r.jsx(Zo,{sx:{color:"#FFD700"}}),progressInfo:E})})]}),r.jsx(N,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:r.jsx(Gc,{value:d,onChange:(R,_)=>h(_),variant:"scrollable",scrollButtons:"auto",children:v.map(R=>r.jsx($i,{label:R.label},R.key))})}),r.jsx(sn,{container:!0,spacing:{xs:1,sm:2},children:T.map(R=>{const _=Tc(R,e,t);return r.jsx(sn,{item:!0,xs:6,sm:4,md:3,lg:2,children:r.jsx(ME,{achievement:R,unlocked:_,onClick:()=>M(R)})},R.id)})}),r.jsx(AE,{achievement:s,unlocked:l,onClose:()=>a(null),onShare:W})]})};PE.propTypes={userStats:D.shape({totalWorkouts:D.number,currentStreak:D.number,totalPRs:D.number,totalVolume:D.number,totalTime:D.number}).isRequired,workoutHistory:D.array};const v7=e=>{switch(e.type){case"workoutCount":return`Complete ${e.value} workout${e.value!==1?"s":""}`;case"streak":return`Maintain a ${e.value}-day workout streak`;case"prCount":return`Achieve ${e.value} personal record${e.value!==1?"s":""}`;case"totalVolume":return`Lift ${e.value.toLocaleString()} lbs total volume`;case"totalTime":{const t=Math.floor(e.value/3600);return`Complete ${t} hour${t!==1?"s":""} of total workout time`}case"special":return e.value;default:return""}},pC=(e,t)=>{switch(t){case"totalVolume":return`${e.toLocaleString()} lbs`;case"totalTime":{const s=Math.floor(e/3600),a=Math.floor(e%3600/60);return s>0?`${s}h ${a}m`:`${a}m`}default:return e}},Dx=(e,t,s)=>!e||t===s?e:t==="lbs"&&s==="kg"?Math.round(e*.453592*10)/10:t==="kg"&&s==="lbs"?Math.round(e*2.20462*10)/10:e,OE=(e,t=30)=>{if(!e||e.length===0)return[];const s=new Date;return s.setDate(s.getDate()-t),e.filter(a=>new Date(a.date)>=s).sort((a,l)=>new Date(a.date)-new Date(l.date))},S7=(e,t=30)=>{if(!e||e.length<2)return{change:0,percentage:0,direction:"stable"};const s=OE(e,t);if(s.length<2)return{change:0,percentage:0,direction:"stable"};const a=s[0],l=s[s.length-1],u=Dx(a.weight,a.unit,l.unit),h=l.weight-u,p=u!==0?h/u*100:0;let g="stable";return Math.abs(h)>.5&&(g=h>0?"up":"down"),{change:Math.round(h*10)/10,percentage:Math.round(p*10)/10,direction:g}},Rd=(e,t="lbs")=>e?`${Math.round(e*10)/10} ${t}`:`0 ${t}`,w7=(e,t="lbs")=>{if(!e||isNaN(e))return{valid:!1,error:"Please enter a valid weight"};const s=parseFloat(e);if(s<=0)return{valid:!1,error:"Weight must be greater than 0"};const a=t==="lbs"?50:20,l=t==="lbs"?1e3:450;return s<a||s>l?{valid:!1,error:`Weight must be between ${a} and ${l} ${t}`}:{valid:!0}},C7=(e,t=30,s="lbs")=>{const a=OE(e,t);if(a.length===0)return{labels:[],data:[]};const l=a.map(d=>new Date(d.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})),u=a.map(d=>Dx(d.weight,d.unit,s));return{labels:l,data:u}},j7=(e,t="lbs")=>{if(!e||e.length===0)return{min:0,max:0,average:0,current:0,entries:0};const s=e.map(p=>Dx(p.weight,p.unit,t)),a=Math.min(...s),l=Math.max(...s),d=s.reduce((p,g)=>p+g,0)/s.length,h=s[s.length-1];return{min:Math.round(a*10)/10,max:Math.round(l*10)/10,average:Math.round(d*10)/10,current:Math.round(h*10)/10,entries:s.length}};FP.register(HP,UP,qP,YP,GP,$P,KP,QP);const RE=({weightHistory:e,currentWeight:t,currentUnit:s,targetWeight:a,onAddWeight:l})=>{const[u,d]=x.useState(""),[h,p]=x.useState(s||"lbs"),[g,y]=x.useState(null),[b,v]=x.useState(!1);x.useEffect(()=>{p(s||"lbs")},[s]);const S=()=>{y(null);const O=w7(u,h);if(!O.valid){y(O.error);return}l(parseFloat(u),h),d(""),v(!1)},T=S7(e,30),k=j7(e,h),w=C7(e,30,h);let j;if(a&&w.data.length>0){const O=Math.min(...w.data);j=Math.min(a,O)-5}const E={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:O=>`${O.parsed.y} ${h}`}}},scales:{y:{beginAtZero:!1,min:j,ticks:{callback:O=>`${O} ${h}`}}}},M={labels:w.labels,datasets:[{label:"Weight",data:w.data,borderColor:"rgb(25, 118, 210)",backgroundColor:"rgba(25, 118, 210, 0.1)",fill:!0,tension:.4}]},W=()=>T.direction==="up"?r.jsx(Zi,{color:"warning"}):T.direction==="down"?r.jsx(Rg,{color:"success"}):r.jsx(ZA,{color:"info"});return r.jsx(it,{sx:{borderRadius:2},children:r.jsxs(ut,{children:[r.jsxs(N,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[r.jsx(P,{variant:"h6",fontWeight:600,children:"Weight Tracking"}),r.jsx(Be,{color:"primary",onClick:()=>v(!b),size:"small",children:r.jsx(Ks,{})})]}),t&&r.jsxs(N,{sx:{mb:3},children:[r.jsx(P,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Current Weight"}),r.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:2},children:[r.jsx(P,{variant:"h4",fontWeight:700,children:Rd(t,h)}),T.direction!=="stable"&&r.jsx(yt,{icon:W(),label:`${T.change>0?"+":""}${T.change} ${h}`,size:"small",color:T.direction==="up"?"warning":"success"})]}),r.jsx(P,{variant:"caption",color:"text.secondary",children:T.direction!=="stable"?`${Math.abs(T.percentage)}% ${T.direction==="up"?"increase":"decrease"} in last 30 days`:"No significant change in last 30 days"})]}),b&&r.jsxs(N,{sx:{mb:3,p:2,bgcolor:"action.hover",borderRadius:2},children:[r.jsx(P,{variant:"body2",fontWeight:600,gutterBottom:!0,children:"Add Weight Entry"}),g&&r.jsx(qt,{severity:"error",sx:{mb:2},children:g}),r.jsxs(Ie,{direction:"row",spacing:2,alignItems:"flex-start",children:[r.jsx(gt,{label:"Weight",type:"number",value:u,onChange:O=>{d(O.target.value),y(null)},size:"small",sx:{flex:1},inputProps:{step:.1,min:0}}),r.jsxs($t,{size:"small",sx:{minWidth:80},children:[r.jsx(_n,{children:"Unit"}),r.jsxs(Zt,{value:h,onChange:O=>p(O.target.value),label:"Unit",children:[r.jsx(Ne,{value:"lbs",children:"lbs"}),r.jsx(Ne,{value:"kg",children:"kg"})]})]}),r.jsx(Ae,{variant:"contained",onClick:S,disabled:!u,size:"small",sx:{minWidth:80},children:"Add"})]})]}),w.data.length>0?r.jsxs(N,{sx:{height:250,mb:2},children:[r.jsx(P,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Last 30 Days"}),r.jsx(XP,{data:M,options:E})]}):r.jsx(qt,{severity:"info",sx:{mb:2},children:"No weight history yet. Add your first weight entry to start tracking!"}),k.entries>0&&r.jsxs(N,{sx:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:2,pt:2,borderTop:1,borderColor:"divider"},children:[r.jsxs(N,{children:[r.jsx(P,{variant:"caption",color:"text.secondary",children:"Minimum"}),r.jsx(P,{variant:"body2",fontWeight:600,children:Rd(k.min,h)})]}),r.jsxs(N,{children:[r.jsx(P,{variant:"caption",color:"text.secondary",children:"Average"}),r.jsx(P,{variant:"body2",fontWeight:600,children:Rd(k.average,h)})]}),r.jsxs(N,{children:[r.jsx(P,{variant:"caption",color:"text.secondary",children:"Maximum"}),r.jsx(P,{variant:"body2",fontWeight:600,children:Rd(k.max,h)})]})]})]})})};RE.propTypes={weightHistory:D.arrayOf(D.shape({weight:D.number.isRequired,unit:D.string.isRequired,date:D.string.isRequired})).isRequired,currentWeight:D.number,currentUnit:D.string,targetWeight:D.number,onAddWeight:D.func.isRequired};class k7{constructor(){this.maxPinnedExercises=10}getExerciseProgression(t,s,a="weight"){if(!t||!Array.isArray(t))return[];const l=[];return t.forEach(u=>{if(!u.exercises||!u.exercises[s])return;const h=u.exercises[s].sets||[];if(h.length===0)return;let p;a==="weight"?p=Math.max(...h.map(g=>g.weight||0)):a==="reps"&&(p=Math.max(...h.map(g=>g.reps||0))),p>0&&l.push({date:new Date(u.date),value:p,workout:u})}),l.sort((u,d)=>u.date-d.date),l}getUniqueExercises(t){if(!t||!Array.isArray(t))return[];const s=new Set;return t.forEach(a=>{a.exercises&&Object.keys(a.exercises).forEach(l=>{s.add(l)})}),Array.from(s).sort()}formatProgressionForChart(t,s,a="weight"){if(!t||t.length===0)return{labels:[],datasets:[{label:s,data:[],fill:!0,backgroundColor:"rgba(19, 70, 134, 0.2)",borderColor:"rgb(19, 70, 134)",tension:.4,pointBackgroundColor:"rgb(19, 70, 134)",pointBorderColor:"#fff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}],minValue:0};const l=t.slice(-10),u=l.map((p,g)=>`Session ${g+1}`),d=l.map(p=>p.value);let h=0;if(a==="weight"&&d.length>0){const p=Math.min(...d);h=Math.max(0,p-5)}return{labels:u,datasets:[{label:s,data:d,fill:!0,backgroundColor:"rgba(19, 70, 134, 0.2)",borderColor:"rgb(19, 70, 134)",tension:.4,pointBackgroundColor:"rgb(19, 70, 134)",pointBorderColor:"#fff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}],minValue:h}}getPinnedExercises(){return i_()}setPinnedExercises(t){if(!Array.isArray(t))throw new Error("Pinned exercises must be an array");const s=t.slice(0,this.maxPinnedExercises);a_(s)}addPinnedExercise(t,s="weight"){try{const a=this.getPinnedExercises();return a.some(l=>l.exerciseName===t)||a.length>=this.maxPinnedExercises?!1:(a.push({exerciseName:t,trackingMode:s}),this.setPinnedExercises(a),!0)}catch(a){return console.error("Error adding pinned exercise:",a),!1}}removePinnedExercise(t){try{const a=this.getPinnedExercises().filter(l=>l.exerciseName!==t);this.setPinnedExercises(a)}catch(s){throw console.error("Error removing pinned exercise:",s),s}}updatePinnedExerciseMode(t,s){try{const l=this.getPinnedExercises().map(u=>u.exerciseName===t?{...u,trackingMode:s}:u);this.setPinnedExercises(l)}catch(a){throw console.error("Error updating pinned exercise mode:",a),a}}isExercisePinned(t){return this.getPinnedExercises().some(a=>a.exerciseName===t)}getAvailableExercisesForPinning(t){const s=this.getUniqueExercises(t),a=this.getPinnedExercises(),l=new Set(a.map(u=>u.exerciseName));return s.filter(u=>!l.has(u))}calculateStats(t,s="all"){if(!t||!Array.isArray(t))return{workoutsThisWeek:0,totalVolume:0,currentStreak:0,avgDuration:0};const a=new Date,l=t.filter(b=>{const v=new Date(b.date);if(s==="week"){const S=new Date(a.getTime()-6048e5);return v>=S}else if(s==="month"){const S=new Date(a.getTime()-2592e6);return v>=S}return!0}),u=new Date(a.getTime()-10080*60*1e3),d=t.filter(b=>new Date(b.date)>=u).length;let h=0;l.forEach(b=>{b.exercises&&Object.values(b.exercises).forEach(v=>{v.sets&&Array.isArray(v.sets)&&v.sets.forEach(S=>{h+=(S.weight||0)*(S.reps||0)})})});const p=this.calculateStreak(t),g=l.reduce((b,v)=>b+(v.duration||0),0),y=l.length>0?Math.round(g/l.length/60):0;return{workoutsThisWeek:d,totalVolume:h,currentStreak:p,avgDuration:y}}calculateStreak(t){if(!t||t.length===0)return 0;const s=[...t].sort((u,d)=>new Date(d.date)-new Date(u.date));let a=0,l=new Date;l.setHours(0,0,0,0);for(const u of s){const d=new Date(u.date);d.setHours(0,0,0,0);const h=Math.floor((l-d)/(1e3*60*60*24));if(h===a)a++;else if(h>a)break}return a}getProgressionSummary(t,s,a="weight"){const l=this.getExerciseProgression(t,s,a);if(l.length===0)return{current:0,best:0,trend:"none",improvement:0};const u=l.map(y=>y.value),d=u[u.length-1],h=Math.max(...u);let p="stable";if(u.length>=4){const y=u.slice(-4,-1).reduce((b,v)=>b+v,0)/3;d>y*1.05?p="up":d<y*.95&&(p="down")}const g=u.length>=2?(d-u[0])/u[0]*100:0;return{current:d,best:h,trend:p,improvement:Math.round(g)}}}const Po=new k7,_E=x.memo(({currentStreak:e=0,longestStreak:t=0})=>{const s=DE(e),a=s.length>0?s[s.length-1]:null;return r.jsx(it,{sx:{borderRadius:3,boxShadow:"0 4px 16px rgba(19, 70, 134, 0.08)",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white"},children:r.jsx(ut,{sx:{p:2.5},children:r.jsxs(Ie,{spacing:2,children:[r.jsxs(N,{sx:{textAlign:"center"},children:[r.jsx(N,{sx:{fontSize:"3rem",mb:1},children:""}),r.jsx(P,{variant:"h3",sx:{fontWeight:700,mb:.5},children:e}),r.jsx(P,{variant:"body2",sx:{opacity:.9},children:"Day Streak"})]}),s.length>0&&r.jsxs(N,{children:[r.jsx(P,{variant:"caption",sx:{opacity:.8,display:"block",textAlign:"center",mb:1},children:"Milestones Achieved"}),r.jsx(Ie,{direction:"row",spacing:1,sx:{justifyContent:"center",flexWrap:"wrap",gap:1},children:s.map((l,u)=>r.jsx(Zn,{title:l.description,children:r.jsx(yt,{label:`${l.days} days`,size:"small",sx:{bgcolor:"rgba(255, 255, 255, 0.2)",color:"white",fontWeight:600,"&:hover":{bgcolor:"rgba(255, 255, 255, 0.3)"}},icon:r.jsx(N,{component:"span",sx:{fontSize:"1rem",ml:.5},children:l.badge.split(" ")[0]})})},u))})]}),a&&r.jsx(N,{sx:{p:1.5,borderRadius:2,bgcolor:"rgba(255, 255, 255, 0.15)",textAlign:"center"},children:r.jsx(P,{variant:"body2",sx:{opacity:.9},children:a.badge})}),t>e&&r.jsx(N,{sx:{textAlign:"center",pt:1,borderTop:"1px solid rgba(255, 255, 255, 0.2)"},children:r.jsxs(P,{variant:"caption",sx:{opacity:.8},children:["Personal Best: ",t," days"]})})]})})})});_E.displayName="StreakDisplay";_E.propTypes={currentStreak:D.number,longestStreak:D.number};const IE=x.memo(({adherence:e=0,completedWorkouts:t=0,plannedWorkouts:s=0})=>{const a=()=>e>=80?"success.main":e>=60?"warning.main":"error.main",l=()=>e>=80?"Excellent! ":e>=60?"Good progress! ":"Keep going! ";return r.jsx(it,{sx:{borderRadius:3,boxShadow:"0 4px 16px rgba(19, 70, 134, 0.08)"},children:r.jsx(ut,{sx:{p:2.5},children:r.jsxs(Ie,{spacing:2,children:[r.jsxs(Ie,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(Er,{sx:{color:a()}}),r.jsx(P,{variant:"h6",sx:{fontWeight:600},children:"Adherence"})]}),r.jsxs(P,{variant:"h4",sx:{fontWeight:700,color:a()},children:[e,"%"]})]}),r.jsx(N,{children:r.jsx(ta,{variant:"determinate",value:e,sx:{height:12,borderRadius:6,bgcolor:"action.hover","& .MuiLinearProgress-bar":{bgcolor:a(),borderRadius:6}}})}),r.jsxs(Ie,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[r.jsxs(P,{variant:"body2",color:"text.secondary",children:[t," of ",s," workouts completed"]}),r.jsx(P,{variant:"body2",sx:{fontWeight:600,color:a()},children:l()})]})]})})})});IE.displayName="AdherenceDisplay";IE.propTypes={adherence:D.number,completedWorkouts:D.number,plannedWorkouts:D.number};const WE=x.memo(({totalVolume:e=0,volumeChange:t=0})=>{const s=t>=0;return r.jsx(it,{sx:{borderRadius:3,boxShadow:"0 4px 16px rgba(19, 70, 134, 0.08)"},children:r.jsx(ut,{sx:{p:2.5},children:r.jsxs(Ie,{spacing:2,children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(Zi,{sx:{color:"primary.main"}}),r.jsx(P,{variant:"h6",sx:{fontWeight:600},children:"Total Volume"})]}),r.jsxs(N,{children:[r.jsx(P,{variant:"h3",sx:{fontWeight:700,color:"primary.main"},children:e.toLocaleString()}),r.jsx(P,{variant:"body2",color:"text.secondary",children:"lbs lifted (last 30 days)"})]}),t!==0&&r.jsxs(N,{sx:{p:1.5,borderRadius:2,bgcolor:s?"success.light":"error.light",display:"flex",alignItems:"center",justifyContent:"center",gap:.5},children:[r.jsxs(P,{variant:"body2",sx:{fontWeight:600,color:s?"success.dark":"error.dark"},children:[s?"":""," ",Math.abs(t),"%"]}),r.jsx(P,{variant:"caption",sx:{color:s?"success.dark":"error.dark"},children:"vs. previous 30 days"})]})]})})})});WE.displayName="VolumeTrendDisplay";WE.propTypes={totalVolume:D.number,volumeChange:D.number};const NE=x.createContext({}),Ex=()=>x.useContext(NE),Eo={displayName:"",email:"",avatar:null,currentWeight:null,targetWeight:null,weightHistory:[],bio:"",goals:"",memberSince:null,weightUnit:"lbs"},LE=({children:e})=>{const{currentUser:t,isGuest:s}=Ir(),[a,l]=x.useState(Eo),[u,d]=x.useState({totalWorkouts:0,currentStreak:0,longestStreak:0,favoriteExercise:"",totalVolume:0,totalPRs:0,completedWellnessTasks:0}),[h,p]=x.useState(!0),g=x.useCallback(async()=>{try{const j=await ci(),E=j.length,M=Po.calculateStreak(j);let W=0,O=0;const R=[...j].sort((U,ie)=>new Date(U.date)-new Date(ie.date));for(let U=0;U<R.length;U++)if(U===0)O=1;else{const ie=new Date(R[U-1].date),V=new Date(R[U].date);Math.floor((V-ie)/(1e3*60*60*24))===1?O++:(W=Math.max(W,O),O=1)}W=Math.max(W,O);const _={};j.forEach(U=>{U.exercises?.forEach(ie=>{const V=ie.name||ie.exerciseName;V&&(_[V]=(_[V]||0)+1)})});const L=Object.entries(_).sort((U,ie)=>ie[1]-U[1])[0]?.[0]||"";let I=0;j.forEach(U=>{U.exercises?.forEach(ie=>{ie.sets?.forEach(V=>{V.weight&&V.reps&&(I+=V.weight*V.reps)})})});const F=localStorage.getItem("goodlift_total_prs")?parseInt(localStorage.getItem("goodlift_total_prs")):0,B=t?.uid?`wellness_completed_${t.uid}`:"wellness_completed_guest",z=localStorage.getItem(B),ce=z?JSON.parse(z).length:0;return{totalWorkouts:E,currentStreak:M,longestStreak:W,favoriteExercise:L,totalVolume:I,totalPRs:F,completedWellnessTasks:ce}}catch(j){return console.error("Error calculating stats:",j),{totalWorkouts:0,currentStreak:0,longestStreak:0,favoriteExercise:"",totalVolume:0,totalPRs:0,completedWellnessTasks:0}}},[t]);x.useEffect(()=>{t!==void 0&&(async()=>{p(!0);try{if(t&&!s){const E=await Xs(t.uid);if(E?.profile)l({...Eo,...E.profile,email:t.email});else{const M={...Eo,displayName:t.displayName||"",email:t.email,memberSince:new Date().toISOString()};l(M),await Tn(t.uid,{profile:M})}if(E?.stats)d(E.stats);else{const M=await g();d(M)}}else{const E=localStorage.getItem("goodlift_user_profile");l(E?{...Eo,...JSON.parse(E)}:{...Eo,displayName:"Guest User",memberSince:new Date().toISOString()});const M=await g();d(M)}}catch(E){console.error("Error loading profile:",E),l(Eo)}finally{p(!1)}})()},[t,s,g]);const y=x.useCallback(async j=>{try{l(j),t&&!s?await Tn(t.uid,{profile:j}):localStorage.setItem("goodlift_user_profile",JSON.stringify(j))}catch(E){throw console.error("Error saving profile:",E),E}},[t,s]),b=x.useCallback((j,E)=>{const M={...a,[j]:E};return y(M)},[a,y]),v=x.useCallback(async(j,E="lbs")=>{const M={weight:j,unit:E,date:new Date().toISOString()},W=[...a.weightHistory,M],O={...a,currentWeight:j,weightUnit:E,weightHistory:W};await y(O)},[a,y]),S=x.useCallback(()=>{if(!a.displayName)return"?";const j=a.displayName.trim().split(" ");return j.length===1?j[0].charAt(0).toUpperCase():(j[0].charAt(0)+j[j.length-1].charAt(0)).toUpperCase()},[a.displayName]),T=x.useCallback(()=>{let j=0,E=7;return a.displayName&&j++,a.avatar&&j++,a.currentWeight&&j++,a.bio&&j++,a.goals&&j++,a.weightHistory.length>0&&j++,a.email&&j++,Math.round(j/E*100)},[a]),k=x.useCallback(async()=>{const j=await g();d(j),t&&!s&&await Tn(t.uid,{stats:j})},[g,t,s]),w={profile:a,stats:u,loading:h,saveProfile:y,updateProfile:b,addWeightEntry:v,getInitials:S,getProfileCompletion:T,refreshStats:k};return r.jsx(NE.Provider,{value:w,children:e})};LE.propTypes={children:D.node.isRequired};const T7=(e=[])=>{if(!e||e.length===0)return{currentStreak:0,longestStreak:0};const t=[...e].sort((g,y)=>new Date(y.date)-new Date(g.date)),s=new Set(t.map(g=>{const y=new Date(g.date);return y.setHours(0,0,0,0),y.getTime()})),a=new Date;a.setHours(0,0,0,0);let l=0,u=0,d=0,h=new Date(a),p=0;for(let g=0;g<365;g++){const y=h.getTime();if(Math.floor((a.getTime()-h.getTime())/(1e3*60*60*24))%7===0&&g>0&&(p=0),s.has(y))d++,l===0&&g<2&&(l=d),u=Math.max(u,d);else if(p++,p>1){const v=new Date(h);if(v.setDate(v.getDate()-1),!s.has(v.getTime())&&g>0){if(l===0&&d>0)break;d=0,p=0}}h.setDate(h.getDate()-1)}return{currentStreak:l,longestStreak:u}},D7=(e=[],t=30)=>{const s=new Date;s.setDate(s.getDate()-t),s.setHours(0,0,0,0);const l=e.filter(p=>{const g=new Date(p.date);return g.setHours(0,0,0,0),g>=s}).length,u=t/7,d=Math.ceil(u*6);return d===0?0:Math.min(100,Math.round(l/d*100))},zE=()=>{const[e,t]=x.useState(!0),[s,a]=x.useState([]),[l,u]=x.useState([]),[d,h]=x.useState([]),[p,g]=x.useState(!1),[y,b]=x.useState(""),[v,S]=x.useState(0),[T,k]=x.useState(!1),[w,j]=x.useState("all"),[E,M]=x.useState(null),[W,O]=x.useState(null),{profile:R,addWeightEntry:_}=Ex(),[L,I]=x.useState({currentStreak:0,longestStreak:0}),[F,B]=x.useState(0),[z,ce]=x.useState({}),[U,ie]=x.useState({personalRecords:0,totalWorkouts:0,averageDuration:0,strengthSessions:0,cardioSessions:0,yogaSessions:0}),V=()=>{switch(w){case"7days":return 7;case"30days":return 30;case"3months":return 90;case"year":return 365;case"custom":return null;case"all":return null;default:return null}},q=()=>{const Q=V();if(w==="custom"&&E&&W){const ue=new Date(E);ue.setHours(0,0,0,0);const me=new Date(W);return me.setHours(23,59,59,999),s.filter(ge=>{const ae=new Date(ge.date);return ae>=ue&&ae<=me})}if(!Q)return s;const ee=new Date;return ee.setDate(ee.getDate()-Q),ee.setHours(0,0,0,0),s.filter(ue=>{const me=new Date(ue.date);return me.setHours(0,0,0,0),me>=ee})},le=Q=>{let ee=0,ue=0,me=0,ge=0;const ae={};Q.forEach(G=>{G.type==="cardio"||G.type==="hiit"||G.cardioType?ue++:G.type==="yoga"||G.type==="stretch"||G.type==="mobility"||G.yogaType?me++:(G.type==="strength"||G.type==="full"||G.type==="upper"||G.type==="lower"||G.type==="push"||G.type==="pull"||G.type==="legs"||G.exercises&&Object.keys(G.exercises).length>0)&&ee++;const he=G.duration||0;ge+=he,G.exercises&&Object.entries(G.exercises).forEach(([ve,Oe])=>{!Oe.sets||Oe.sets.length===0||Oe.sets.forEach(fe=>{const te=fe.weight||0,J=fe.reps||0;te===0&&J===0||(!ae[ve]||te>ae[ve].weight)&&(ae[ve]={weight:te,reps:J,date:G.date})})})});const Y=Q.length,oe=Y>0?Math.round(ge/Y):0;return{personalRecords:Object.keys(ae).length,totalWorkouts:Y,averageDuration:oe,strengthSessions:ee,cardioSessions:ue,yogaSessions:me}},pe=async()=>{t(!0);try{const[Q,,ee]=await Promise.all([ci(),jh(),Xc()]);a(Q),ce(ee);const ue=T7(Q);I(ue);const me=D7(Q,30);B(me);const ge=Po.getPinnedExercises();u(ge);try{const oe=(await(await fetch(Nh)).json()).map(G=>G["Exercise Name"]).sort();h(oe)}catch(ae){console.error("Error loading exercises:",ae);const Y=Po.getUniqueExercises(Q);h(Y)}}catch(Q){console.error("Error loading progress data:",Q)}finally{t(!1)}};x.useEffect(()=>{pe()},[]),x.useEffect(()=>{if(s.length>0||w||E||W){const Q=q(),ee=le(Q);ie(ee)}},[s,w,E,W]);const ke=Q=>{Po.removePinnedExercise(Q),u(l.filter(ee=>ee.exerciseName!==Q))},be=Q=>{Po.addPinnedExercise(Q,"weight")&&(u([...l,{exerciseName:Q,trackingMode:"weight"}]),g(!1),b(""))};return e?r.jsx(N,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:r.jsxs(P,{variant:"h5",color:"text.secondary",children:["Loading",r.jsx(Ke.span,{initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:"..."})]})}):r.jsxs(N,{sx:{width:"100%",minHeight:"100vh",overflowX:"hidden"},children:[r.jsx(Hh,{title:"Progress",subtitle:"Track your fitness journey"}),r.jsxs(N,{sx:{maxWidth:"1400px",margin:"0 auto",p:{xs:1,sm:2,md:3},pb:{xs:"80px",md:3},width:"100%",boxSizing:"border-box"},children:[r.jsx(N,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:r.jsxs(Gc,{value:v,onChange:(Q,ee)=>S(ee),variant:"fullWidth",sx:{maxWidth:{xs:"100%",sm:600},margin:"0 auto"},children:[r.jsx($i,{icon:r.jsx(MS,{}),iconPosition:"start",label:"Statistics",sx:{minHeight:48}}),r.jsx($i,{icon:r.jsx(Zo,{}),iconPosition:"start",label:"Achievements",sx:{minHeight:48}})]})}),v===0&&r.jsxs(Ie,{spacing:3,children:[r.jsx(N,{sx:{display:"flex",justifyContent:"flex-end"},children:r.jsx(Ae,{startIcon:r.jsx(Lm,{}),onClick:()=>k(!0),variant:"outlined",size:"small",sx:{textTransform:"none",borderRadius:2},children:w==="all"?"All Time":w==="7days"?"7 Days":w==="30days"?"30 Days":w==="3months"?"3 Months":w==="year"?"Year":w==="custom"?"Custom":"Filter"})}),r.jsx(it,{sx:{bgcolor:"background.paper",boxShadow:3,border:"2px solid #FF6B35"},children:r.jsx(ut,{sx:{p:2.5},children:r.jsxs(Ie,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:2},children:[r.jsx(UC,{sx:{fontSize:48,color:"#FF6B35"}}),r.jsxs(N,{children:[r.jsx(P,{variant:"h2",sx:{fontWeight:700,color:"#FF6B35",lineHeight:1},children:L.currentStreak}),r.jsx(P,{variant:"body1",color:"text.secondary",sx:{fontWeight:600},children:"Day Streak"})]})]}),r.jsxs(N,{sx:{textAlign:"right"},children:[r.jsx(P,{variant:"caption",color:"text.secondary",children:"Longest"}),r.jsx(P,{variant:"h5",sx:{fontWeight:700,color:"primary.main"},children:L.longestStreak})]})]})})}),r.jsx(it,{sx:{bgcolor:"background.paper"},children:r.jsx(ut,{sx:{p:2},children:r.jsxs(Ie,{spacing:1.5,children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(MS,{sx:{color:"secondary.main"}}),r.jsx(P,{variant:"body1",sx:{fontWeight:600},children:"Adherence"})]}),r.jsxs(P,{variant:"h4",sx:{fontWeight:700,color:"secondary.main"},children:[F,"%"]})]}),r.jsx(ta,{variant:"determinate",value:F,sx:{height:12,borderRadius:6,bgcolor:"action.hover","& .MuiLinearProgress-bar":{borderRadius:6,background:"linear-gradient(90deg, #4CAF50 0%, #8BC34A 100%)"}}}),r.jsx(P,{variant:"caption",color:"text.secondary",children:"Last 30 days  6 workouts/week target"})]})})}),s.length>0&&r.jsx(it,{sx:{bgcolor:"background.paper"},children:r.jsxs(ut,{children:[r.jsxs(Ie,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[r.jsxs(P,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(Zi,{})," Progressive Overload"]}),l.length<10&&r.jsx(Ae,{size:"small",startIcon:r.jsx(Ks,{}),onClick:()=>g(!0),sx:{color:"secondary.main"},children:"Track Exercise"})]}),l.length===0?r.jsxs(N,{sx:{textAlign:"center",py:4},children:[r.jsx(P,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Track your favorite exercises to see your progress over time"}),r.jsx(Ae,{variant:"contained",startIcon:r.jsx(Ks,{}),onClick:()=>g(!0),children:"Add Exercise"})]}):r.jsx(Ie,{spacing:2,children:l.map(Q=>{const ee=Po.getExerciseProgression(s,Q.exerciseName,"weight"),ue=ee.length>0?ee[0].value:0,me=ee.length>0?ee[ee.length-1].value:0,ge=me>ue?"up":me<ue?"down":"same";return r.jsxs(N,{sx:{p:2,borderRadius:2,border:"1px solid",borderColor:"divider",bgcolor:"background.default"},children:[r.jsxs(Ie,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",sx:{mb:1.5},children:[r.jsx(P,{variant:"body1",sx:{fontWeight:600,flex:1},children:Q.exerciseName}),r.jsx(Be,{onClick:()=>ke(Q.exerciseName),size:"small",sx:{color:"text.secondary"},children:r.jsx(bh,{sx:{fontSize:18}})})]}),ee.length>0?r.jsxs(Ie,{direction:"row",alignItems:"center",spacing:2,sx:{justifyContent:"center",py:1},children:[r.jsxs(N,{sx:{textAlign:"center"},children:[r.jsx(P,{variant:"caption",color:"text.secondary",children:"Starting"}),r.jsxs(P,{variant:"h5",sx:{fontWeight:700,color:"primary.main"},children:[ue," lbs"]})]}),r.jsxs(N,{sx:{display:"flex",alignItems:"center",px:2},children:[ge==="up"&&r.jsx(Zi,{sx:{fontSize:40,color:"success.main"}}),ge==="down"&&r.jsx(Rg,{sx:{fontSize:40,color:"error.main"}}),ge==="same"&&r.jsx(wi,{sx:{fontSize:40,color:"text.secondary"}})]}),r.jsxs(N,{sx:{textAlign:"center"},children:[r.jsx(P,{variant:"caption",color:"text.secondary",children:"Current"}),r.jsxs(P,{variant:"h5",sx:{fontWeight:700,color:"secondary.main"},children:[me," lbs"]})]})]}):r.jsx(P,{variant:"caption",color:"text.secondary",sx:{display:"block",textAlign:"center",py:2},children:"No data available"})]},Q.exerciseName)})})]})}),r.jsx(it,{sx:{bgcolor:"background.paper"},children:r.jsxs(ut,{sx:{p:3},children:[r.jsx(P,{variant:"h6",sx:{mb:3,fontWeight:600},children:"Workout Summary"}),r.jsxs(Ie,{spacing:2.5,children:[r.jsxs(N,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[r.jsx(gn,{sx:{fontSize:28,color:"primary.main"}}),r.jsx(P,{variant:"body1",sx:{fontWeight:500},children:"Total Workouts"})]}),r.jsx(P,{variant:"h5",sx:{fontWeight:700,color:"primary.main"},children:U.totalWorkouts})]}),r.jsx(Cn,{}),r.jsxs(N,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[r.jsx(gn,{sx:{fontSize:28,color:"error.main"}}),r.jsx(P,{variant:"body1",sx:{fontWeight:500},children:"Total Strength"})]}),r.jsx(P,{variant:"h5",sx:{fontWeight:700,color:"error.main"},children:U.strengthSessions})]}),r.jsx(Cn,{}),r.jsxs(N,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[r.jsx(Si,{sx:{fontSize:28,color:"success.main"}}),r.jsx(P,{variant:"body1",sx:{fontWeight:500},children:"Total Cardio"})]}),r.jsx(P,{variant:"h5",sx:{fontWeight:700,color:"success.main"},children:U.cardioSessions})]}),r.jsx(Cn,{}),r.jsxs(N,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[r.jsx(li,{sx:{fontSize:28,color:"secondary.main"}}),r.jsx(P,{variant:"body1",sx:{fontWeight:500},children:"Total Yoga"})]}),r.jsx(P,{variant:"h5",sx:{fontWeight:700,color:"secondary.main"},children:U.yogaSessions})]})]})]})}),r.jsx(RE,{weightHistory:R.weightHistory||[],currentWeight:R.currentWeight,currentUnit:R.weightUnit||"lbs",targetWeight:R.targetWeight,onAddWeight:_})]}),v===1&&r.jsx(PE,{userStats:z,workoutHistory:s}),r.jsxs(In,{open:p,onClose:()=>{g(!1),b("")},maxWidth:"xs",fullWidth:!0,children:[r.jsx(Kn,{children:"Add Exercise to Track"}),r.jsxs(Wn,{children:[r.jsx(gt,{fullWidth:!0,placeholder:"Search exercises...",value:y,onChange:Q=>b(Q.target.value),variant:"outlined",size:"small",sx:{mb:2,mt:1}}),r.jsx(Xn,{sx:{maxHeight:400,overflow:"auto"},children:d.filter(Q=>!l.some(ee=>ee.exerciseName===Q)).filter(Q=>Q.toLowerCase().includes(y.toLowerCase())).map(Q=>r.jsx(ht,{disablePadding:!0,children:r.jsx(Ui,{onClick:()=>be(Q),children:r.jsx(Mt,{primary:Q})})},Q))})]}),r.jsx(Nn,{children:r.jsx(Ae,{onClick:()=>{g(!1),b("")},children:"Cancel"})})]}),r.jsxs(In,{open:T,onClose:()=>k(!1),maxWidth:"xs",fullWidth:!0,children:[r.jsx(Kn,{children:"Time Frame Filter"}),r.jsx(Wn,{children:r.jsxs(Ie,{spacing:2,sx:{mt:1},children:[r.jsxs(Ud,{value:w,exclusive:!0,onChange:(Q,ee)=>{ee!==null&&j(ee)},orientation:"vertical",fullWidth:!0,children:[r.jsx(ai,{value:"all",children:"All Time"}),r.jsx(ai,{value:"7days",children:"Last 7 Days"}),r.jsx(ai,{value:"30days",children:"Last 30 Days"}),r.jsx(ai,{value:"3months",children:"Last 3 Months"}),r.jsx(ai,{value:"year",children:"Last Year"}),r.jsx(ai,{value:"custom",children:"Custom Range"})]}),w==="custom"&&r.jsx(Ph,{dateAdapter:cx,children:r.jsxs(Ie,{spacing:2,children:[r.jsx(dh,{label:"Start Date",value:E,onChange:Q=>M(Q),slotProps:{textField:{fullWidth:!0}}}),r.jsx(dh,{label:"End Date",value:W,onChange:Q=>O(Q),slotProps:{textField:{fullWidth:!0}}})]})})]})}),r.jsxs(Nn,{children:[r.jsx(Ae,{onClick:()=>{j("all"),M(null),O(null)},children:"Clear Filters"}),r.jsx(Ae,{onClick:()=>k(!1),variant:"contained",children:"Apply"})]})]})]})]})};zE.propTypes={};const E7=()=>{const[e,t]=x.useState(!0),[s,a]=x.useState(""),[l,u]=x.useState(""),[d,h]=x.useState(""),[p,g]=x.useState(!1),{login:y,signup:b}=Ir();return{isLogin:e,email:s,setEmail:a,password:l,setPassword:u,error:d,loading:p,handleSubmit:async T=>{if(T.preventDefault(),!s||!l){h("Please fill in all fields");return}if(l.length<6){h("Password must be at least 6 characters");return}try{h(""),g(!0),e?await y(s,l):await b(s,l)}catch(k){console.error("Auth error:",k.code||"Unknown error"),k.code==="auth/user-not-found"||k.code==="auth/wrong-password"?h("Invalid email or password"):k.code==="auth/email-already-in-use"?h("Email already in use"):k.code==="auth/invalid-email"?h("Invalid email address"):k.code==="auth/weak-password"?h("Password is too weak"):h(`Failed to ${e?"log in":"sign up"}. Please try again.`)}finally{g(!1)}},toggleMode:()=>{t(!e),h(""),a(""),u("")}}},M7=()=>{const{isLogin:e,email:t,setEmail:s,password:a,setPassword:l,error:u,loading:d,handleSubmit:h,toggleMode:p}=E7(),{continueAsGuest:g}=Ir();return r.jsx(N,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:y=>y.palette.background.default,p:2},children:r.jsx(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:r.jsx(it,{sx:{maxWidth:440,width:"100%",borderRadius:4,boxShadow:"0 8px 32px rgba(19, 70, 134, 0.2)"},children:r.jsxs(ut,{sx:{p:4},children:[r.jsxs(N,{sx:{textAlign:"center",mb:4},children:[r.jsx(Ke.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},style:{marginBottom:"1rem"},children:r.jsx("img",{src:"/goodlift/goodlift-logo.svg",alt:"GoodLift",style:{height:"80px",width:"auto"}})}),r.jsx(tl,{mode:"wait",children:r.jsxs(Ke.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.3},children:[r.jsx(P,{variant:"h5",sx:{fontWeight:600,mb:1},children:e?"Welcome Back":"Create Account"}),r.jsx(P,{variant:"body2",color:"text.secondary",children:e?"Log in to continue your fitness journey":"Sign up to start tracking your workouts"})]},e?"login":"signup")})]}),r.jsx(tl,{mode:"wait",children:u&&r.jsx(Ke.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:r.jsx(qt,{severity:"error",sx:{mb:3},children:u})})}),r.jsxs(N,{component:"form",onSubmit:h,children:[r.jsx(gt,{fullWidth:!0,label:"Email",type:"email",value:t,onChange:y=>s(y.target.value),disabled:d,required:!0,sx:{mb:2}}),r.jsx(gt,{fullWidth:!0,label:"Password",type:"password",value:a,onChange:y=>l(y.target.value),disabled:d,required:!0,sx:{mb:3}}),r.jsx(Ke.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:r.jsx(Ae,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:d,sx:{py:1.5,fontSize:"1.1rem",fontWeight:600,bgcolor:"primary.main","&:hover":{bgcolor:"primary.dark"}},children:d?"Please wait...":e?"Log In":"Sign Up"})}),r.jsx(Cn,{sx:{my:2},children:"OR"}),r.jsx(Ke.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:r.jsx(Ae,{fullWidth:!0,variant:"outlined",size:"large",disabled:d,onClick:g,sx:{py:1.5,fontSize:"1.1rem",fontWeight:600,borderColor:"secondary.main",color:"secondary.main","&:hover":{borderColor:"secondary.dark",bgcolor:"rgba(237, 63, 39, 0.05)"}},children:"Continue as Guest"})}),r.jsx(N,{sx:{mt:3,pt:3,borderTop:"1px solid",borderColor:"divider",textAlign:"center"},children:r.jsxs(P,{variant:"body2",color:"text.secondary",children:[e?"Don't have an account? ":"Already have an account? ",r.jsx(Ae,{onClick:p,disabled:d,sx:{color:"primary.main",fontWeight:600,textDecoration:"underline","&:hover":{bgcolor:"transparent",textDecoration:"underline"}},children:e?"Sign Up":"Log In"})]})})]})]})})})})},Dc=[{name:"Neck Side Stretch",primaryMuscles:"Neck",secondaryMuscles:"Upper Back, Traps",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=v5I0J_6w6jw"},{name:"Neck Rotation",primaryMuscles:"Neck",secondaryMuscles:"Traps",type:"Dynamic",duration:60,youtubeLink:"https://www.youtube.com/watch?v=xfGKhRo5bpI"},{name:"Shoulder Cross-Body Stretch",primaryMuscles:"Delts, Rear Delts",secondaryMuscles:"Upper Back",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=b6H9SHC0H9Y"},{name:"Overhead Triceps Stretch",primaryMuscles:"Triceps",secondaryMuscles:"Delts, Lats",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=EQO_8NRkljo"},{name:"Arm Circles",primaryMuscles:"Delts",secondaryMuscles:"Upper Back, Chest",type:"Dynamic",duration:60,youtubeLink:"https://www.youtube.com/watch?v=Ue_PRcVBdm8"},{name:"Doorway Chest Stretch",primaryMuscles:"Chest",secondaryMuscles:"Front Delts",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=qGJABe9R2zQ"},{name:"Standing Chest Expansion",primaryMuscles:"Chest",secondaryMuscles:"Front Delts, Biceps",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=mvh5zHB-xkc"},{name:"Child's Pose",primaryMuscles:"Lower Back",secondaryMuscles:"Lats, Glutes",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=2MTIlxJ82vY",difficulty:"Beginner"},{name:"Cat-Cow Stretch",primaryMuscles:"Back, Core",secondaryMuscles:"Abs",type:"Dynamic",duration:60,youtubeLink:"https://www.youtube.com/watch?v=kqnua4rHVVA",difficulty:"Beginner"},{name:"Seated Spinal Twist",primaryMuscles:"Back, Obliques",secondaryMuscles:"Lower Back, Glutes",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=DGd7kJyPZjU",difficulty:"Beginner"},{name:"Hip Flexor Stretch (Lunge)",primaryMuscles:"Hip Flexors",secondaryMuscles:"Quads",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=hdW4IXXCzKE"},{name:"Pigeon Pose",primaryMuscles:"Glutes, Hip Flexors",secondaryMuscles:"Lower Back",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=0_zDd6kQ",difficulty:"Intermediate"},{name:"Figure 4 Stretch",primaryMuscles:"Glutes",secondaryMuscles:"Lower Back, Hip Flexors",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=JbyjNymZP8M"},{name:"Butterfly Stretch",primaryMuscles:"Inner Thighs, Groin",secondaryMuscles:"Hip Flexors",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=mJiSzM1X7m0"},{name:"Standing Quad Stretch",primaryMuscles:"Quads",secondaryMuscles:"Hip Flexors",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=kRHQDSuhYKE"},{name:"Lying Quad Stretch",primaryMuscles:"Quads",secondaryMuscles:"Hip Flexors",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=5Mn5g6W-BZk"},{name:"Standing Hamstring Stretch",primaryMuscles:"Hamstrings",secondaryMuscles:"Lower Back, Calves",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=BPmv-3EQk2c"},{name:"Seated Forward Fold",primaryMuscles:"Hamstrings, Lower Back",secondaryMuscles:"Calves",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=U21floGmwDs",difficulty:"Beginner"},{name:"Downward Dog",primaryMuscles:"Hamstrings, Calves",secondaryMuscles:"Back, Delts",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=gZJWYonQKxY",difficulty:"Beginner"},{name:"Wall Calf Stretch",primaryMuscles:"Calves",secondaryMuscles:"Hamstrings",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=hjCRc2jYKyY"},{name:"Standing Calf Raise Stretch",primaryMuscles:"Calves",secondaryMuscles:"",type:"Dynamic",duration:60,youtubeLink:"https://www.youtube.com/watch?v=V3E_fFrLZmE"},{name:"Cobra Stretch",primaryMuscles:"Abs",secondaryMuscles:"Hip Flexors, Chest",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=JDcdhTuycOI",difficulty:"Beginner"},{name:"Side Bend Stretch",primaryMuscles:"Obliques",secondaryMuscles:"Lats, Side Delts",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=y1bKLSIvR1A"},{name:"World's Greatest Stretch",primaryMuscles:"Hip Flexors, Hamstrings",secondaryMuscles:"Glutes, Back, Chest",type:"Dynamic",duration:60,youtubeLink:"https://www.youtube.com/watch?v=a25W3YHBXP4",difficulty:"Intermediate"},{name:"Thread the Needle",primaryMuscles:"Upper Back, Delts",secondaryMuscles:"Obliques, Lower Back",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=lVGgLfg3wQ8",difficulty:"Beginner"},{name:"Warrior I Pose",primaryMuscles:"Hip Flexors, Quads",secondaryMuscles:"Glutes, Core",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=VC4s_PmJBkA",difficulty:"Beginner"},{name:"Triangle Pose",primaryMuscles:"Hamstrings, Obliques",secondaryMuscles:"Inner Thighs, Back",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=2S-ozXfUL9g",difficulty:"Intermediate"},{name:"Happy Baby Pose",primaryMuscles:"Hip Flexors, Glutes",secondaryMuscles:"Lower Back, Inner Thighs",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=p28vdRmDuLg",difficulty:"Beginner"},{name:"Supine Spinal Twist",primaryMuscles:"Lower Back, Obliques",secondaryMuscles:"Glutes, Chest",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=DQBT3u-x7TE",difficulty:"Beginner"}],mC=e=>e.split(",").map(t=>t.trim()).filter(t=>t.length>0),Ec=e=>{const t=mC(e.primaryMuscles),s=mC(e.secondaryMuscles||"");return[...t,...s]},Im={NECK:["Neck","Traps"],SHOULDERS:["Delts","Front Delts","Rear Delts","Side Delts"],CHEST:["Chest","Upper Chest","Lower Chest"],BACK:["Back","Upper Back","Lower Back","Lats"],CORE:["Core","Abs","Obliques"],ARMS:["Biceps","Triceps","Forearms"],HIPS:["Hip Flexors","Glutes","Groin","Inner Thighs"],LEGS_UPPER:["Quads","Hamstrings"],LEGS_LOWER:["Calves"]},gC=(e,t)=>Ec(e).some(a=>t.some(l=>a.includes(l)||l.includes(a))),kg=(e=10)=>{const t=[],s=new Set,a=Object.keys(Im);for(const l of a){if(t.length>=e)break;const u=Im[l],d=Dc.filter(h=>gC(h,u)&&!t.includes(h));if(d.length>0){const h=Math.floor(Math.random()*d.length);t.push(d[h]),s.add(l)}}for(;t.length<e;){const l=a.filter(u=>!s.has(u));if(l.length>0){const u=l[Math.floor(Math.random()*l.length)],d=Im[u],h=Dc.filter(p=>gC(p,d)&&!t.includes(p));if(h.length>0){const p=Math.floor(Math.random()*h.length);t.push(h[p]),s.add(u)}else s.add(u)}else{const u=Dc.filter(h=>!t.includes(h));if(u.length===0)break;const d=Math.floor(Math.random()*u.length);t.push(u[d])}}return Tg(t)},A7=(e,t=10)=>{if(!e||e.length===0)return kg(t);const s=Dc.filter(u=>{const d=Ec(u);return e.some(h=>d.some(p=>p.includes(h)||h.includes(p)))});if(s.length===0)return console.warn("No stretches found for specified muscles, using full body selection"),kg(t);if(s.length<=t)return Tg(s);const a=[],l=new Set;for(const u of e){if(a.length>=t)break;const d=s.filter(h=>a.includes(h)?!1:Ec(h).some(g=>g.includes(u)||u.includes(g)));if(d.length>0){const h=Math.floor(Math.random()*d.length);a.push(d[h]),Ec(d[h]).forEach(p=>l.add(p))}}for(;a.length<t;){const u=s.filter(h=>!a.includes(h));if(u.length===0)break;const d=Math.floor(Math.random()*u.length);a.push(u[d])}return Tg(a)},Tg=e=>{const t=[...e];for(let s=t.length-1;s>0;s--){const a=Math.floor(Math.random()*(s+1));[t[s],t[a]]=[t[a],t[s]]}return t},P7=()=>{const e=new Set;return Dc.forEach(t=>{Ec(t).forEach(s=>e.add(s))}),Array.from(e).sort()},BE=({onStartStretchSession:e})=>{const[t,s]=x.useState(null),[a,l]=x.useState([]),u=P7(),d=()=>{s("full")},h=()=>{s("custom")},p=v=>{l(S=>S.includes(v)?S.filter(T=>T!==v):[...S,v])},g=()=>{t==="full"?e("full",[]):t==="custom"&&e("custom",a)},y=()=>{s(null),l([])},b=t==="custom"&&a.length===0;return r.jsx(N,{sx:{padding:{xs:"2rem 1rem",sm:"2rem",md:"3rem"},maxWidth:"1200px",margin:"0 auto",minHeight:"calc(100vh - 60px)"},children:r.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsx(P,{variant:"h3",sx:{fontFamily:"'Montserrat', sans-serif",fontWeight:800,color:"primary.main",marginBottom:"0.5rem",textAlign:"center"},children:"Stretching"}),r.jsx(P,{variant:"body1",sx:{color:"text.secondary",marginBottom:"2rem",textAlign:"center"},children:"Improve flexibility and recovery with guided stretches"}),!t&&r.jsx(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:r.jsxs(sn,{container:!0,spacing:3,sx:{marginTop:2},children:[r.jsx(sn,{item:!0,xs:12,md:6,children:r.jsx(Ke.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:r.jsx(it,{onClick:d,sx:{cursor:"pointer",height:"100%",transition:"all 0.3s ease","&:hover":{boxShadow:6,borderColor:"primary.main"},border:"2px solid",borderColor:"divider"},children:r.jsxs(ut,{sx:{padding:4},children:[r.jsx(N,{sx:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:2},children:r.jsx(gn,{sx:{fontSize:60,color:"primary.main"}})}),r.jsx(P,{variant:"h5",sx:{fontWeight:700,textAlign:"center",marginBottom:2,color:"primary.main"},children:"Full Body Stretch"}),r.jsx(P,{variant:"body2",sx:{textAlign:"center",marginBottom:2,color:"text.secondary"},children:"A balanced routine covering all major muscle groups for complete flexibility and recovery."}),r.jsxs(N,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1,marginTop:2},children:[r.jsx(zm,{sx:{color:"secondary.main"}}),r.jsx(P,{variant:"h6",sx:{fontWeight:600,color:"secondary.main"},children:"~10 minutes"})]})]})})})}),r.jsx(sn,{item:!0,xs:12,md:6,children:r.jsx(Ke.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:r.jsx(it,{onClick:h,sx:{cursor:"pointer",height:"100%",transition:"all 0.3s ease","&:hover":{boxShadow:6,borderColor:"info.main"},border:"2px solid",borderColor:"divider"},children:r.jsxs(ut,{sx:{padding:4},children:[r.jsx(N,{sx:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:2},children:r.jsx(gn,{sx:{fontSize:60,color:"info.main"}})}),r.jsx(P,{variant:"h5",sx:{fontWeight:700,textAlign:"center",marginBottom:2,color:"info.main"},children:"Custom Stretch"}),r.jsx(P,{variant:"body2",sx:{textAlign:"center",marginBottom:2,color:"text.secondary"},children:"Target specific muscle groups that need attention."}),r.jsxs(N,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1,marginTop:2},children:[r.jsx(zm,{sx:{color:"secondary.main"}}),r.jsx(P,{variant:"h6",sx:{fontWeight:600,color:"secondary.main"},children:"~10 minutes"})]})]})})})})]})}),t==="custom"&&r.jsx(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:r.jsxs(it,{sx:{marginTop:3,padding:3},children:[r.jsx(P,{variant:"h5",sx:{fontWeight:700,marginBottom:2,textAlign:"center",color:"primary.main"},children:"Select Muscle Groups"}),r.jsx(P,{variant:"body2",sx:{marginBottom:3,textAlign:"center",color:"text.secondary"},children:"Choose one or more muscle groups to focus on"}),r.jsx(JA,{children:r.jsx(sn,{container:!0,spacing:2,children:u.map(v=>r.jsx(sn,{item:!0,xs:6,sm:4,md:3,children:r.jsx(qd,{control:r.jsx(eP,{checked:a.includes(v),onChange:()=>p(v),color:"primary"}),label:v})},v))})})]})}),t==="full"&&r.jsx(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:r.jsxs(it,{sx:{marginTop:3,padding:3},children:[r.jsx(P,{variant:"h5",sx:{fontWeight:700,marginBottom:2,textAlign:"center",color:"primary.main"},children:"Full Body Stretch Session"}),r.jsxs(Ie,{spacing:1,sx:{marginTop:2},children:[r.jsxs(P,{variant:"body1",children:[r.jsx("strong",{children:"Duration:"})," ~10 minutes"]}),r.jsxs(P,{variant:"body1",children:[r.jsx("strong",{children:"Focus:"})," All major muscle groups"]}),r.jsxs(P,{variant:"body1",children:[r.jsx("strong",{children:"Stretches:"})," 10 carefully selected stretches"]})]})]})}),t&&r.jsxs(N,{sx:{marginTop:4,display:"flex",justifyContent:"center",gap:2},children:[r.jsx(Ae,{variant:"outlined",size:"large",onClick:y,sx:{minWidth:"150px",padding:"12px 32px",fontSize:"1.1rem"},children:"Back"}),r.jsx(Ae,{variant:"contained",size:"large",startIcon:r.jsx(ri,{}),onClick:g,disabled:b,sx:{minWidth:"200px",padding:"12px 32px",fontSize:"1.1rem",fontWeight:600},children:"Start Session"})]})]})})};BE.propTypes={onStartStretchSession:D.func.isRequired};class O7{constructor(){this.isSupported="speechSynthesis"in window,this.isEnabled=this.loadTTSPreference(),this.currentUtterance=null}isTTSSupported(){return this.isSupported}loadTTSPreference(){try{const t=localStorage.getItem("ttsEnabled");return t===null?!0:t==="true"}catch{return!0}}saveTTSPreference(){try{localStorage.setItem("ttsEnabled",this.isEnabled.toString())}catch(t){console.warn("Could not save TTS preference",t)}}toggleTTS(){return this.isEnabled=!this.isEnabled,this.saveTTSPreference(),!this.isEnabled&&this.isSupported&&window.speechSynthesis.cancel(),this.isEnabled}setEnabled(t){this.isEnabled=t,this.saveTTSPreference(),!t&&this.isSupported&&window.speechSynthesis.cancel()}isEnabledState(){return this.isEnabled}speak(t,s={}){return new Promise((a,l)=>{if(!this.isSupported){console.warn("Speech Synthesis not supported in this browser"),l(new Error("Speech Synthesis not supported"));return}if(!this.isEnabled){a();return}window.speechSynthesis.cancel();const u=new SpeechSynthesisUtterance(t);u.rate=s.rate||1,u.pitch=s.pitch||1,u.volume=s.volume||1,u.lang=s.lang||"en-US";const d=window.speechSynthesis.getVoices();if(d.length>0){let h=d.find(p=>p.lang.startsWith("en")&&(p.name.toLowerCase().includes("female")||p.name.toLowerCase().includes("natural")||p.name.toLowerCase().includes("premium")||p.name.toLowerCase().includes("neural")));h||(h=d.find(p=>p.lang.startsWith("en")&&p.localService===!1)),h||(h=d.find(p=>p.lang.startsWith("en"))),h&&(u.voice=h)}u.onend=()=>{this.currentUtterance=null,a()},u.onerror=h=>{console.error("Speech synthesis error:",h),this.currentUtterance=null,l(h)},this.currentUtterance=u,window.speechSynthesis.speak(u)})}async announceExercise(t){try{await this.speak(t,{rate:.85,pitch:.95})}catch(s){console.warn("Could not announce exercise:",s)}}async announceMessage(t){try{await this.speak(t,{rate:1})}catch(s){console.warn("Could not announce message:",s)}}stop(){this.isSupported&&(window.speechSynthesis.cancel(),this.currentUtterance=null)}pause(){this.isSupported&&window.speechSynthesis.speaking&&window.speechSynthesis.pause()}resume(){this.isSupported&&window.speechSynthesis.paused&&window.speechSynthesis.resume()}isSpeaking(){return this.isSupported&&window.speechSynthesis.speaking}}const dc=new O7,VE=({stretches:e,onComplete:t,onExit:s})=>{const[a,l]=x.useState(0),[u,d]=x.useState(60),[h,p]=x.useState(!1),[g,y]=x.useState(dc.isEnabledState()),b=x.useRef(null),v=x.useRef(!1),S=e[a],T=(60-u)/60*100,k=(a*60+(60-u))/(e.length*60)*100;x.useEffect(()=>(Sr.requestWakeLock(),()=>{Sr.releaseWakeLock(),dc.stop()}),[]),x.useEffect(()=>{!v.current&&g&&(dc.announceExercise(S.name),v.current=!0)},[a,S.name,g]),x.useEffect(()=>(h?b.current&&clearInterval(b.current):b.current=setInterval(()=>{d(R=>R<=1?a<e.length-1?(l(_=>_+1),v.current=!1,Vt.playTransitionBeep(),60):(clearInterval(b.current),Vt.playCompletionFanfare(),setTimeout(()=>{t()},500),0):R-1)},1e3),()=>{b.current&&clearInterval(b.current)}),[h,a,e.length,t]);const w=()=>{p(R=>!R)},j=x.useCallback(()=>{a<e.length-1&&(l(R=>R+1),d(60),v.current=!1,Vt.playTransitionBeep())},[a,e.length]),E=x.useCallback(()=>{a>0&&(l(R=>R-1),d(60),v.current=!1,Vt.playTransitionBeep())},[a]),M=()=>{const R=dc.toggleTTS();y(R)},W=()=>{b.current&&clearInterval(b.current),dc.stop(),s()},O=R=>{const _=Math.floor(R/60),L=R%60;return`${_}:${L.toString().padStart(2,"0")}`};return r.jsxs(N,{sx:{padding:{xs:"0.5rem",sm:"1rem",md:"2rem"},maxWidth:"900px",margin:"0 auto",minHeight:"calc(100vh - 60px)",width:"100%",boxSizing:"border-box"},children:[r.jsxs(N,{sx:{marginBottom:3},children:[r.jsxs(N,{sx:{display:"flex",justifyContent:"space-between",marginBottom:1},children:[r.jsxs(P,{variant:"body2",sx:{fontWeight:600},children:["Stretch ",a+1," of ",e.length]}),r.jsxs(P,{variant:"body2",sx:{fontWeight:600},children:[Math.round(k),"% Complete"]})]}),r.jsx(ta,{variant:"determinate",value:k,sx:{height:8,borderRadius:4,backgroundColor:"rgba(19, 70, 134, 0.1)","& .MuiLinearProgress-bar":{backgroundColor:"primary.main"}}})]}),r.jsx(tl,{mode:"wait",children:r.jsx(Ke.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},children:r.jsx(it,{sx:{background:"linear-gradient(135deg, rgba(19, 70, 134, 0.05) 0%, rgba(237, 63, 39, 0.05) 100%)",boxShadow:4},children:r.jsxs(ut,{sx:{padding:{xs:2,sm:3},width:"100%",boxSizing:"border-box"},children:[r.jsx(P,{variant:"h4",sx:{fontFamily:"'Montserrat', sans-serif",fontWeight:800,color:"primary.main",marginBottom:{xs:1,sm:2},textAlign:"center",fontSize:{xs:"1.5rem",sm:"2rem"}},children:S.name}),r.jsxs(N,{sx:{marginBottom:{xs:2,sm:3},textAlign:"center"},children:[r.jsx(P,{variant:"h1",sx:{fontFamily:"'Montserrat', sans-serif",fontWeight:800,color:h?"grey.500":"secondary.main",fontSize:{xs:"3rem",sm:"4rem",md:"5rem"},marginBottom:1,lineHeight:1},children:O(u)}),r.jsx(ta,{variant:"determinate",value:T,sx:{height:{xs:8,sm:12},borderRadius:6,backgroundColor:"rgba(237, 63, 39, 0.1)","& .MuiLinearProgress-bar":{backgroundColor:"secondary.main"}}})]}),r.jsxs(N,{sx:{marginBottom:{xs:2,sm:3}},children:[r.jsx(P,{variant:"subtitle2",sx:{fontWeight:600,marginBottom:.5,color:"primary.main",fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Primary Muscles:"}),r.jsx(N,{sx:{display:"flex",flexWrap:"wrap",gap:.5,marginBottom:{xs:1,sm:2}},children:S.primaryMuscles.split(",").map((R,_)=>r.jsx(yt,{label:R.trim(),color:"primary",size:"medium"},_))}),S.secondaryMuscles&&r.jsxs(r.Fragment,{children:[r.jsx(P,{variant:"subtitle2",sx:{fontWeight:600,marginBottom:.5,color:"text.secondary",fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Secondary Muscles:"}),r.jsx(N,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:S.secondaryMuscles.split(",").map((R,_)=>{const L=R.trim();return L?r.jsx(yt,{label:L,variant:"outlined",size:"small"},_):null})})]})]}),S.youtubeLink&&r.jsx(Ae,{variant:"outlined",startIcon:r.jsx(tP,{}),onClick:()=>window.open(S.youtubeLink,"_blank"),fullWidth:!0,sx:{marginBottom:{xs:2,sm:3},fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Watch Demonstration"}),r.jsxs(N,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:{xs:1,sm:2},marginBottom:{xs:1,sm:2},flexWrap:"wrap"},children:[r.jsx(Zn,{title:"Previous stretch",children:r.jsx("span",{children:r.jsx(Be,{onClick:E,disabled:a===0,sx:{backgroundColor:"primary.main",color:"white","&:hover":{backgroundColor:"primary.dark"},"&:disabled":{backgroundColor:"grey.300",color:"grey.500"}},children:r.jsx(IC,{})})})}),r.jsx(Zn,{title:h?"Resume":"Pause",children:r.jsx(Be,{onClick:w,sx:{backgroundColor:"secondary.main",color:"white",width:{xs:56,sm:64},height:{xs:56,sm:64},"&:hover":{backgroundColor:"secondary.dark"}},children:h?r.jsx(ri,{sx:{fontSize:{xs:32,sm:40}}}):r.jsx(Lg,{sx:{fontSize:{xs:32,sm:40}}})})}),r.jsx(Zn,{title:"Next stretch",children:r.jsx("span",{children:r.jsx(Be,{onClick:j,disabled:a===e.length-1,sx:{backgroundColor:"primary.main",color:"white","&:hover":{backgroundColor:"primary.dark"},"&:disabled":{backgroundColor:"grey.300",color:"grey.500"}},children:r.jsx(Yc,{})})})})]}),r.jsxs(N,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:2},children:[r.jsx(Zn,{title:g?"Voice announcements on":"Voice announcements off",children:r.jsx(Be,{onClick:M,color:g?"primary":"default",children:g?r.jsx(_g,{}):r.jsx(MC,{})})}),r.jsx(Ae,{variant:"outlined",color:"error",startIcon:r.jsx(WC,{}),onClick:W,sx:{minWidth:"120px"},children:"End Session"})]})]})})},a)})]})};VE.propTypes={stretches:D.arrayOf(D.shape({name:D.string.isRequired,primaryMuscles:D.string.isRequired,secondaryMuscles:D.string,youtubeLink:D.string})).isRequired,onComplete:D.func.isRequired,onExit:D.func.isRequired};const R7=()=>{const[e,t]=x.useState("selection"),[s,a]=x.useState([]),[l,u]=x.useState(""),[d,h]=x.useState(null),p=(v,S)=>{let T;v==="full"?T=kg(10):T=A7(S,10),a(T),u(v),t("stretch-session")},g=async()=>{try{const v={id:`stretch_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,date:new Date().toISOString(),type:l,stretchesCompleted:s.length,stretches:s.map(S=>S.name),duration:s.length*60};await t_(v)}catch(v){console.error("Failed to save stretch session:",v)}h("stretch"),t("complete")},y=()=>{t("selection"),a([])},b=()=>{t("selection"),a([]),h(null)};return r.jsxs(r.Fragment,{children:[e==="selection"&&r.jsx(BE,{onStartStretchSession:p}),e==="stretch-session"&&s.length>0&&r.jsx(VE,{stretches:s,onComplete:g,onExit:y}),e==="complete"&&r.jsx(N,{sx:{padding:{xs:"2rem 1rem",sm:"2rem",md:"3rem"},maxWidth:"700px",margin:"0 auto",minHeight:"calc(100vh - 60px)",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(Ke.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},style:{width:"100%"},children:r.jsx(it,{sx:{background:d==="stretch"?"linear-gradient(135deg, rgba(19, 70, 134, 0.05) 0%, rgba(76, 175, 80, 0.05) 100%)":"linear-gradient(135deg, rgba(19, 70, 134, 0.05) 0%, rgba(156, 39, 176, 0.05) 100%)",boxShadow:6},children:r.jsxs(ut,{sx:{padding:{xs:3,sm:5},textAlign:"center"},children:[r.jsx(Ke.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},children:r.jsx(Er,{sx:{fontSize:100,color:d==="stretch"?"success.main":"#9c27b0",marginBottom:2}})}),r.jsx(P,{variant:"h3",sx:{fontFamily:"'Montserrat', sans-serif",fontWeight:800,color:"primary.main",marginBottom:2},children:"Session Complete!"}),r.jsx(P,{variant:"h6",sx:{color:"text.secondary",marginBottom:3},children:d==="stretch"?"Great job! You've completed your stretch session.":"Great job! You've completed your mobility session."}),d==="stretch"&&r.jsxs(r.Fragment,{children:[r.jsxs(P,{variant:"body1",sx:{marginBottom:1},children:[s.length," stretches completed"]}),r.jsxs(P,{variant:"body1",sx:{marginBottom:4},children:["~",s.length," minutes of stretching"]})]}),r.jsx(Ae,{variant:"contained",size:"large",onClick:b,sx:{minWidth:"200px",padding:"12px 32px",fontSize:"1.1rem",fontWeight:600},children:"Done"})]})})})})]})},_7={Chest:"Lats",Lats:"Chest",Quads:"Hamstrings",Hamstrings:"Quads",Biceps:"Triceps",Triceps:"Biceps",Shoulders:"Lats"},FE=()=>{const[e,t]=x.useState({}),[s,a]=x.useState([]),[l,u]=x.useState(!0),[d,h]=x.useState(null);x.useEffect(()=>{(async()=>{try{u(!0);const S=await fetch(Nh);if(!S.ok)throw new Error(`Failed to load exercises: ${S.status}`);const T=await S.json();a(T);const k=T.reduce((w,j)=>{const E=j["Primary Muscle"].split("(")[0].trim();return w[E]||(w[E]=[]),w[E].push(j),w},{});t(k),u(!1)}catch(S){console.error("Failed to load exercise data:",S),h(S.message),u(!1)}})()},[]);const p=x.useCallback((v,S,T=[],k="all")=>{let w=(e[v]||[]).filter(E=>!T.some(M=>M["Exercise Name"]===E["Exercise Name"]));if(k!=="all"){const E=Array.isArray(k)?k:[k];w=w.filter(M=>{const W=M.Equipment.toLowerCase();return E.some(O=>{const R=O.toLowerCase();return R==="cable machine"?W.includes("cable"):R==="dumbbells"?W.includes("dumbbell"):W.includes(R)})})}if(w.length<S)return console.warn(`Insufficient exercises for ${v}. Available: ${w.length}, Requested: ${S}`),w;const j=[...w];for(let E=j.length-1;E>0;E--){const M=Math.floor(Math.random()*(E+1));[j[E],j[M]]=[j[M],j[E]]}return j.slice(0,S)},[e]),g=x.useCallback((v,S="all",T=$V)=>{let k=[];switch(v){case"upper":{const w=Math.ceil(T*.375),j=Math.ceil(T*.375),E=Math.floor(T*.125),M=T-w-j-E;k.push(...p("Chest",w,k,S)),k.push(...p("Lats",j,k,S)),k.push(...p("Biceps",E,k,S)),k.push(...p("Triceps",M,k,S));break}case"lower":{const w=.375+Math.random()*.125,j=Math.ceil(T*w),E=Math.floor(T*.25)+Math.floor(Math.random()*2),M=T-j-E;k.push(...p("Quads",j,k,S)),k.push(...p("Hamstrings",E,k,S)),M>0&&k.push(...p("Core",M,k,S));break}case"full":{const w=Math.ceil(T*.25),j=Math.ceil(T*.25),E=Math.ceil(T*.25),M=Math.floor(T*.125)+Math.floor(Math.random()*2),W=T-w-j-E-M;k.push(...p("Chest",w,k,S)),k.push(...p("Lats",j,k,S)),k.push(...p("Quads",E,k,S)),k.push(...p("Hamstrings",M,k,S)),W>0&&k.push(...p("Core",W,k,S));break}case"push":{const w=Math.ceil(T*.375),j=Math.ceil(T*.375),E=T-w-j;k.push(...p("Chest",w,k,S)),k.push(...p("Delts",j,k,S)),k.push(...p("Triceps",E,k,S));break}case"pull":{const w=Math.ceil(T*.5),j=Math.ceil(T*.25),E=T-w-j;k.push(...p("Lats",w,k,S)),k.push(...p("Rear Delts",j,k,S)),k.push(...p("Biceps",E,k,S));break}case"legs":{const w=.375+Math.random()*.125,j=Math.ceil(T*w),E=Math.floor(T*.25)+Math.floor(Math.random()*2),M=T-j-E;k.push(...p("Quads",j,k,S)),k.push(...p("Hamstrings",E,k,S)),M>0&&k.push(...p("Core",M,k,S));break}case"core":k.push(...p("Core",T,k,S));break;default:console.warn(`Unknown workout type: ${v}`);break}for(;k.length<T&&k.length>0;){const w=Object.keys(e);if(w.length===0)break;const j=w[Math.floor(Math.random()*w.length)],E=p(j,1,k,S);if(E.length>0)k.push(E[0]);else break}return k.slice(0,T)},[e,p]),y=x.useCallback((v,S=[2,2,2,2])=>{const T=[],k=[...v];for(const w of S){if(k.length===0)break;const j=[];if(k.length>0){const E=k.shift();j.push(E);const M=E["Primary Muscle"].split("(")[0].trim(),W=_7[M];for(let O=1;O<w&&k.length>0;O++){let R=-1;O===1&&W&&(R=k.findIndex(L=>L["Primary Muscle"].includes(W))),R===-1&&(R=k.findIndex(L=>!j.some(I=>I["Primary Muscle"].includes(L["Primary Muscle"].split("(")[0].trim())))),R===-1&&(R=0);const _=k.splice(R,1)[0];j.push(_)}}T.push(...j)}return k.length>0&&T.push(...k),T},[]);return{generateWorkout:x.useCallback((v,S="all",T=[2,2,2,2])=>{if(Object.keys(e).length===0)return console.error("Exercise database is empty. Cannot generate workout."),[];const k=T.reduce((E,M)=>E+M,0),w=g(v,S,k);return y(w,T)},[e,g,y]),allExercises:s,exerciseDB:e,loading:l,error:d}},I7=()=>{const{allExercises:e,loading:t}=FE(),[s,a]=x.useState(""),[l,u]=x.useState("all"),[d,h]=x.useState("all"),[p,g]=x.useState("all"),[y,b]=x.useState(new Set),[v,S]=x.useState({}),[T,k]=x.useState({}),[w,j]=x.useState(!1);x.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),(async()=>{const F=new Set,B={},z={};await Promise.all(e.map(async ce=>{const U=ce["Exercise Name"];s_(U)&&F.add(U);const[ie,V]=await Promise.all([La(U),Ki(U)]);B[U]=ie??"",z[U]=V??""})),b(F),S(B),k(z)})()},[e]);const E=x.useMemo(()=>{const I=new Set;return e.forEach(F=>{const B=F["Primary Muscle"].split("(")[0].trim();I.add(B)}),["all",...Array.from(I).sort()]},[e]),M=x.useMemo(()=>{const I=new Set;return e.forEach(F=>{I.add(F.Equipment)}),["all",...Array.from(I).sort()]},[e]),W=x.useMemo(()=>{const I=new Set;return e.forEach(F=>{I.add(F["Exercise Type"])}),["all",...Array.from(I).sort()]},[e]),O=x.useMemo(()=>e.filter(I=>{const F=s===""||I["Exercise Name"].toLowerCase().includes(s.toLowerCase())||I["Primary Muscle"].toLowerCase().includes(s.toLowerCase())||I.Equipment.toLowerCase().includes(s.toLowerCase()),B=I["Primary Muscle"].split("(")[0].trim(),z=l==="all"||B===l,ce=d==="all"||I.Equipment===d,U=p==="all"||I["Exercise Type"]===p;return F&&z&&ce&&U}),[e,s,l,d,p]),R=I=>{const F=n_(I);b(B=>{const z=new Set(B);return F?z.add(I):z.delete(I),z})},_=async(I,F)=>{if(F==="")S(B=>({...B,[I]:""})),await Gi(I,null);else{const B=Math.max(0,Number(F));S(z=>({...z,[I]:B})),await Gi(I,B)}},L=async(I,F)=>{if(F==="")k(B=>({...B,[I]:""})),await eh(I,null);else{const B=Math.max(1,Number(F));k(z=>({...z,[I]:B})),await eh(I,B)}};return t?r.jsx(N,{sx:{p:4,textAlign:"center"},children:r.jsx(P,{variant:"h5",color:"text.secondary",children:"Loading exercises..."})}):r.jsxs(N,{sx:{width:"100%",minHeight:"100vh"},children:[r.jsx(Hh,{title:"Exercise Database"}),r.jsx(Ke.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{padding:"1rem",maxWidth:"1400px",margin:"0 auto"},children:O.length>0||s||l!=="all"||d!=="all"||p!=="all"?r.jsxs(N,{children:[r.jsxs(pc,{sx:{position:"sticky",top:0,zIndex:10,borderRadius:"8px 8px 0 0",boxShadow:"0 2px 8px rgba(19, 70, 134, 0.08)"},children:[r.jsx(N,{sx:{p:1.5,borderBottom:"1px solid",borderColor:"divider",bgcolor:"background.paper"},children:r.jsxs(Ie,{direction:"row",spacing:1,alignItems:"center",children:[r.jsx(gt,{size:"small",placeholder:"Search exercises...",value:s,onChange:I=>a(I.target.value),InputProps:{startAdornment:r.jsx(Nm,{position:"start",children:r.jsx(AS,{fontSize:"small"})})},sx:{flex:1,"& .MuiOutlinedInput-root":{borderRadius:1,bgcolor:"background.default"},"& .MuiInputBase-input":{fontSize:"0.875rem"}}}),r.jsx(Zn,{title:w?"Hide filters":"Show filters",children:r.jsx(Be,{onClick:()=>j(!w),sx:{bgcolor:w?"primary.main":"background.default",color:w?"white":"text.primary","&:hover":{bgcolor:w?"primary.dark":"action.hover"}},children:r.jsx(Lm,{})})}),r.jsxs(P,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem",whiteSpace:"nowrap",minWidth:"fit-content"},children:[O.length," of ",e.length]})]})}),r.jsx(Hd,{in:w,children:r.jsx(N,{sx:{p:1.5,pt:1,bgcolor:"background.paper"},children:r.jsxs(Ie,{direction:{xs:"column",sm:"row"},spacing:1,children:[r.jsxs($t,{size:"small",sx:{minWidth:{xs:"100%",sm:150}},children:[r.jsx(_n,{children:"Muscle Group"}),r.jsxs(Zt,{value:l,onChange:I=>u(I.target.value),label:"Muscle Group",sx:{fontSize:"0.875rem",bgcolor:"background.default"},children:[r.jsx(Ne,{value:"all",children:"All Muscles"}),E.filter(I=>I!=="all").map(I=>r.jsx(Ne,{value:I,children:I},I))]})]}),r.jsxs($t,{size:"small",sx:{minWidth:{xs:"100%",sm:150}},children:[r.jsx(_n,{children:"Equipment"}),r.jsxs(Zt,{value:d,onChange:I=>h(I.target.value),label:"Equipment",sx:{fontSize:"0.875rem",bgcolor:"background.default"},children:[r.jsx(Ne,{value:"all",children:"All Equipment"}),M.filter(I=>I!=="all").map(I=>r.jsx(Ne,{value:I,children:I},I))]})]}),r.jsxs($t,{size:"small",sx:{minWidth:{xs:"100%",sm:150}},children:[r.jsx(_n,{children:"Exercise Type"}),r.jsxs(Zt,{value:p,onChange:I=>g(I.target.value),label:"Exercise Type",sx:{fontSize:"0.875rem",bgcolor:"background.default"},children:[r.jsx(Ne,{value:"all",children:"All Types"}),W.filter(I=>I!=="all").map(I=>r.jsx(Ne,{value:I,children:I},I))]})]})]})})})]}),r.jsx(nP,{component:pc,sx:{borderRadius:"0 0 8px 8px",boxShadow:"0 2px 8px rgba(19, 70, 134, 0.08)",maxHeight:"calc(100vh - 250px)",overflow:"auto"},children:r.jsxs(sP,{stickyHeader:!0,size:"small",sx:{minWidth:{xs:300,sm:650}},children:[r.jsx(iP,{children:r.jsxs(PS,{children:[r.jsx(Fs,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5},children:r.jsx(N,{sx:{display:"flex",alignItems:"center",gap:.5},children:r.jsx("span",{children:""})})}),r.jsx(Fs,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5},children:"Exercise Name"}),r.jsx(Fs,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5,display:{xs:"none",sm:"table-cell"}},children:"Type"}),r.jsx(Fs,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5,display:{xs:"none",md:"table-cell"}},children:"Equipment"}),r.jsx(Fs,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5,textAlign:"center"},children:"Target Weight (lbs)"}),r.jsx(Fs,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5,textAlign:"center"},children:"Target Reps"})]})}),r.jsx(aP,{children:O.map((I,F)=>{const B=y.has(I["Exercise Name"]),z=I["Exercise Name"],ce=v[z],U=T[z];return r.jsxs(PS,{sx:{"&:hover":{bgcolor:"rgba(138, 190, 185, 0.05)"},bgcolor:F%2===0?"background.paper":"rgba(0, 0, 0, 0.02)"},children:[r.jsx(Fs,{sx:{py:1},children:r.jsx(Zn,{title:B?"Remove from favorites":"Add to favorites",children:r.jsx(Be,{size:"small",onClick:()=>R(z),sx:{color:B?"rgb(237, 63, 39)":"action.disabled",p:.5},children:B?r.jsx(rP,{fontSize:"small"}):r.jsx(oP,{fontSize:"small"})})})}),r.jsx(Fs,{sx:{py:1},children:r.jsxs(N,{children:[r.jsx(P,{variant:"body2",sx:{fontWeight:600,fontSize:{xs:"0.75rem",sm:"0.875rem"},color:"primary.main"},children:z}),r.jsxs(P,{variant:"caption",color:"text.secondary",sx:{fontSize:{xs:"0.65rem",sm:"0.75rem"},display:{xs:"block",sm:"none"}},children:[I["Exercise Type"],"  ",I.Equipment]})]})}),r.jsx(Fs,{sx:{py:1,display:{xs:"none",sm:"table-cell"}},children:r.jsx(yt,{label:I["Exercise Type"],size:"small",variant:"outlined",sx:{fontSize:"0.7rem",height:22,borderColor:I["Exercise Type"]==="Compound"?"primary.main":"text.secondary",color:I["Exercise Type"]==="Compound"?"primary.main":"text.secondary"}})}),r.jsx(Fs,{sx:{py:1,display:{xs:"none",md:"table-cell"}},children:r.jsx(P,{variant:"body2",sx:{fontSize:"0.8rem"},children:I.Equipment})}),r.jsx(Fs,{sx:{py:1},children:r.jsx(gt,{type:"tel",inputMode:"decimal",size:"small",value:ce===""?"":ce,onChange:ie=>_(z,ie.target.value),onFocus:ie=>ie.target.select(),placeholder:"",inputProps:{min:0,step:5,pattern:"[0-9]*([.,][0-9]+)?","aria-label":`Target weight in pounds for ${z}`,style:{textAlign:"center",fontSize:"0.875rem",padding:"4px 8px"}},sx:{width:{xs:60,sm:70},"& .MuiOutlinedInput-root":{"& input":{textAlign:"center"}}}})}),r.jsx(Fs,{sx:{py:1},children:r.jsx(gt,{type:"tel",inputMode:"numeric",size:"small",value:U===""?"":U,onChange:ie=>L(z,ie.target.value),onFocus:ie=>ie.target.select(),placeholder:"",inputProps:{min:1,step:1,pattern:"\\d*","aria-label":`Target repetitions for ${z}`,style:{textAlign:"center",fontSize:"0.875rem",padding:"4px 8px"}},sx:{width:{xs:60,sm:70},"& .MuiOutlinedInput-root":{"& input":{textAlign:"center"}}}})})]},z)})})]})})]}):r.jsxs(pc,{sx:{borderRadius:2,boxShadow:"0 2px 8px rgba(19, 70, 134, 0.08)"},children:[r.jsxs(N,{sx:{p:2,borderBottom:"1px solid",borderColor:"divider"},children:[r.jsxs(Ie,{direction:"row",spacing:1,alignItems:"center",sx:{mb:w?2:0},children:[r.jsx(gt,{size:"small",placeholder:"Search exercises...",value:s,onChange:I=>a(I.target.value),InputProps:{startAdornment:r.jsx(Nm,{position:"start",children:r.jsx(AS,{fontSize:"small"})})},sx:{flex:1,"& .MuiOutlinedInput-root":{borderRadius:1,bgcolor:"background.default"},"& .MuiInputBase-input":{fontSize:"0.875rem"}}}),r.jsx(Zn,{title:w?"Hide filters":"Show filters",children:r.jsx(Be,{onClick:()=>j(!w),sx:{bgcolor:w?"primary.main":"background.default",color:w?"white":"text.primary","&:hover":{bgcolor:w?"primary.dark":"action.hover"}},children:r.jsx(Lm,{})})}),r.jsxs(P,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem",whiteSpace:"nowrap"},children:["0 of ",e.length]})]}),r.jsx(Hd,{in:w,children:r.jsxs(Ie,{direction:{xs:"column",sm:"row"},spacing:1,children:[r.jsxs($t,{size:"small",sx:{minWidth:{xs:"100%",sm:150}},children:[r.jsx(_n,{children:"Muscle Group"}),r.jsxs(Zt,{value:l,onChange:I=>u(I.target.value),label:"Muscle Group",sx:{fontSize:"0.875rem",bgcolor:"background.default"},children:[r.jsx(Ne,{value:"all",children:"All Muscles"}),E.filter(I=>I!=="all").map(I=>r.jsx(Ne,{value:I,children:I},I))]})]}),r.jsxs($t,{size:"small",sx:{minWidth:{xs:"100%",sm:150}},children:[r.jsx(_n,{children:"Equipment"}),r.jsxs(Zt,{value:d,onChange:I=>h(I.target.value),label:"Equipment",sx:{fontSize:"0.875rem",bgcolor:"background.default"},children:[r.jsx(Ne,{value:"all",children:"All Equipment"}),M.filter(I=>I!=="all").map(I=>r.jsx(Ne,{value:I,children:I},I))]})]}),r.jsxs($t,{size:"small",sx:{minWidth:{xs:"100%",sm:150}},children:[r.jsx(_n,{children:"Exercise Type"}),r.jsxs(Zt,{value:p,onChange:I=>g(I.target.value),label:"Exercise Type",sx:{fontSize:"0.875rem",bgcolor:"background.default"},children:[r.jsx(Ne,{value:"all",children:"All Types"}),W.filter(I=>I!=="all").map(I=>r.jsx(Ne,{value:I,children:I},I))]})]})]})})]}),r.jsxs(N,{sx:{textAlign:"center",py:8},children:[r.jsx(P,{variant:"h6",color:"text.secondary",children:"No exercises found"}),r.jsx(P,{variant:"body2",color:"text.secondary",children:"Try adjusting your search or filters"})]})]})})]})},HE=x.createContext(),UE=()=>{const e=x.useContext(HE);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e},qE=({children:e})=>{const[t,s]=x.useState(()=>{try{return localStorage.getItem("themeMode")==="light"?"light":"dark"}catch{return"dark"}});x.useEffect(()=>{try{localStorage.setItem("themeMode",t)}catch(d){console.warn("Could not save theme preference",d)}},[t]);const a=()=>{s(d=>d==="dark"?"light":"dark")},l=x.useMemo(()=>lP({palette:t==="dark"?{mode:"dark",primary:{main:"#1db584",light:"#2dd099",dark:"#18a071"},secondary:{main:"#ff8c00",light:"#ffa333",dark:"#cc7000"},background:{default:"#1e2939",paper:"#2a3647"},text:{primary:"#ffffff",secondary:"#a0a8b3"},success:{main:"#1db584"},warning:{main:"#ff8c00"},error:{main:"#ef5350"},info:{main:"#6b8a9d"}}:{mode:"light",primary:{main:"#18a071",light:"#1db584",dark:"#0f7a55"},secondary:{main:"#ff8c00",light:"#ffa333",dark:"#cc7000"},background:{default:"#f5f5f5",paper:"#ffffff"},text:{primary:"#1e2939",secondary:"#4a5568"},success:{main:"#18a071"},warning:{main:"#ff8c00"},error:{main:"#ef5350"},info:{main:"#6b8a9d"}},typography:{fontFamily:"'Poppins', sans-serif",h1:{fontFamily:"'Montserrat', sans-serif",fontWeight:800},h2:{fontFamily:"'Montserrat', sans-serif",fontWeight:800},h3:{fontFamily:"'Montserrat', sans-serif",fontWeight:700},h4:{fontFamily:"'Montserrat', sans-serif",fontWeight:700},h5:{fontFamily:"'Montserrat', sans-serif",fontWeight:700},h6:{fontFamily:"'Montserrat', sans-serif",fontWeight:700}},components:{MuiCard:{styleOverrides:{root:{backgroundImage:"none"}}},MuiPaper:{styleOverrides:{root:{backgroundImage:"none"}}},MuiButton:{styleOverrides:{containedPrimary:t==="dark"?{backgroundColor:"#1db584","&:hover":{backgroundColor:"#18a071"}}:{backgroundColor:"#18a071",color:"#ffffff","&:hover":{backgroundColor:"#0f7a55"}},containedSecondary:t==="dark"?{backgroundColor:"#ff8c00","&:hover":{backgroundColor:"#cc7000"}}:{backgroundColor:"#ff8c00",color:"#ffffff","&:hover":{backgroundColor:"#cc7000"}}}}}}),[t]),u={mode:t,toggleTheme:a,theme:l};return r.jsx(HE.Provider,{value:u,children:e})};qE.propTypes={children:D.node.isRequired};const YE=x.createContext({}),W7=()=>x.useContext(YE),Mo={units:"imperial",theme:"dark",notifications:!0,sounds:!0,warmupDuration:5,cooldownDuration:5,restTimerDefault:90,autoProgressionEnabled:!0,language:"en",pushNotificationsEnabled:!1,dailyWellnessTasksEnabled:!1,wellnessCategories:[],relationshipStatus:"All",morningNotificationTime:{hour:8,minute:0},followupNotificationTime:{hour:21,minute:0},enableFollowupNotifications:!0},GE=({children:e})=>{const{currentUser:t,isGuest:s}=Ir(),[a,l]=x.useState(Mo),[u,d]=x.useState(!0);x.useEffect(()=>{(async()=>{d(!0);try{if(t&&!s){const S=await Xs(t.uid);S?.preferences?l({...Mo,...S.preferences}):l(Mo)}else{const S=localStorage.getItem("goodlift_preferences");l(S?{...Mo,...JSON.parse(S)}:Mo)}}catch(S){console.error("Error loading preferences:",S),l(Mo)}finally{d(!1)}})()},[t,s]);const h=x.useCallback(async v=>{try{l(v),t&&!s?await Tn(t.uid,{preferences:v}):localStorage.setItem("goodlift_preferences",JSON.stringify(v))}catch(S){console.error("Error saving preferences:",S)}},[t,s]),p=x.useCallback((v,S)=>{const T={...a,[v]:S};h(T)},[a,h]),g=x.useCallback((v,S)=>{if(!v)return 0;const T=a.units==="imperial"?"lbs":"kg";return S===T?v:S==="lbs"&&T==="kg"?Math.round(v*.453592*10)/10:S==="kg"&&T==="lbs"?Math.round(v*2.20462*10)/10:v},[a.units]),y=x.useCallback(()=>a.units==="imperial"?"lbs":"kg",[a.units]),b={preferences:a,loading:u,updatePreference:p,savePreferences:h,convertWeight:g,getDisplayUnit:y};return r.jsx(YE.Provider,{value:b,children:e})};GE.propTypes={children:D.node.isRequired};const N7=e=>!e||e.trim().length===0?{valid:!1,error:"Display name is required"}:e.trim().length<2?{valid:!1,error:"Display name must be at least 2 characters"}:e.trim().length>50?{valid:!1,error:"Display name must be less than 50 characters"}:/^[a-zA-Z0-9\s\-']+$/.test(e)?{valid:!0}:{valid:!1,error:"Display name contains invalid characters"},yC=(e,t=500)=>e?e.length>t?{valid:!1,error:`Text must be less than ${t} characters`}:{valid:!0}:{valid:!0},Wm=e=>e?e.replace(/<[^>]*>/g,"").trim().replace(/\s+/g," "):"",L7=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Unknown",z7=(e,t)=>{const s={profile:e,stats:t,exportedAt:new Date().toISOString()};return JSON.stringify(s,null,2)},B7=(e,t)=>{const s=z7(e,t),a=new Blob([s],{type:"application/json"}),l=URL.createObjectURL(a),u=document.createElement("a");u.href=l,u.download=`goodlift-profile-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(l)},$E=({open:e,onClose:t,onConfirm:s,resetInfo:a})=>{const[l,u]=x.useState(""),[d,h]=x.useState(!1),[p,g]=x.useState(null),y=l.toLowerCase()==="reset",b=async()=>{h(!0),g(null);try{await s(),u(""),t()}catch(S){g(S.message||"Failed to reset data. Please try again.")}finally{h(!1)}},v=()=>{d||(u(""),g(null),t())};return r.jsxs(In,{open:e,onClose:v,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:2}},children:[r.jsx(Kn,{sx:{pb:1},children:r.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(cP,{color:"warning"}),r.jsx(P,{variant:"h6",component:"span",children:"Reset Personal Data"})]})}),r.jsxs(Wn,{children:[r.jsxs(qt,{severity:"warning",sx:{mb:2},children:["This action will delete your workout data and statistics. You will have"," ",r.jsx("strong",{children:"30 days"})," to recover your data if you change your mind."]}),r.jsxs(P,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,sx:{mt:2},children:[r.jsx(GC,{color:"error",sx:{verticalAlign:"middle",mr:.5}}),"The following will be deleted:"]}),r.jsxs(Xn,{dense:!0,sx:{bgcolor:"background.paper",borderRadius:1,mb:2},children:[a.totalWorkouts>0&&r.jsxs(ht,{children:[r.jsx(Gt,{sx:{minWidth:40},children:r.jsx(gn,{fontSize:"small"})}),r.jsx(Mt,{primary:`${a.totalWorkouts} workout${a.totalWorkouts!==1?"s":""}`,secondary:"Complete workout history"})]}),a.totalHiitSessions>0&&r.jsxs(ht,{children:[r.jsx(Gt,{sx:{minWidth:40},children:r.jsx($c,{fontSize:"small"})}),r.jsx(Mt,{primary:`${a.totalHiitSessions} HIIT session${a.totalHiitSessions!==1?"s":""}`})]}),a.totalCardioSessions>0&&r.jsxs(ht,{children:[r.jsx(Gt,{sx:{minWidth:40},children:r.jsx(Si,{fontSize:"small"})}),r.jsx(Mt,{primary:`${a.totalCardioSessions} cardio session${a.totalCardioSessions!==1?"s":""}`})]}),a.totalStretchSessions>0&&r.jsxs(ht,{children:[r.jsx(Gt,{sx:{minWidth:40},children:r.jsx(li,{fontSize:"small"})}),r.jsx(Mt,{primary:`${a.totalStretchSessions} stretch session${a.totalStretchSessions!==1?"s":""}`})]}),a.totalPlans>0&&r.jsxs(ht,{children:[r.jsx(Gt,{sx:{minWidth:40},children:r.jsx(mh,{fontSize:"small"})}),r.jsx(Mt,{primary:`${a.totalPlans} workout plan${a.totalPlans!==1?"s":""}`})]}),a.totalFavoriteWorkouts>0&&r.jsxs(ht,{children:[r.jsx(Gt,{sx:{minWidth:40},children:r.jsx(Ji,{fontSize:"small"})}),r.jsx(Mt,{primary:`${a.totalFavoriteWorkouts} favorite workout${a.totalFavoriteWorkouts!==1?"s":""}`})]}),a.totalPinnedExercises>0&&r.jsxs(ht,{children:[r.jsx(Gt,{sx:{minWidth:40},children:r.jsx(uP,{fontSize:"small"})}),r.jsx(Mt,{primary:`${a.totalPinnedExercises} pinned exercise${a.totalPinnedExercises!==1?"s":""}`})]}),r.jsx(ht,{children:r.jsx(Mt,{primary:"All statistics and achievements",secondary:"Streaks, PRs, total volume, etc."})}),r.jsx(ht,{children:r.jsx(Mt,{primary:"Exercise weights and target reps",secondary:"Saved progress tracking data"})})]}),r.jsx(Cn,{sx:{my:2}}),r.jsxs(P,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,children:[r.jsx(Er,{color:"success",sx:{verticalAlign:"middle",mr:.5}}),"The following will be preserved:"]}),r.jsxs(Xn,{dense:!0,sx:{bgcolor:"background.paper",borderRadius:1,mb:2},children:[r.jsx(ht,{children:r.jsx(Mt,{primary:"Login credentials and authentication"})}),r.jsx(ht,{children:r.jsx(Mt,{primary:"Profile information (name, email, avatar)"})}),r.jsx(ht,{children:r.jsx(Mt,{primary:"App preferences and settings"})})]}),r.jsx(qt,{severity:"info",sx:{mb:2},children:'Your data will be backed up for 30 days. Use the "Recover Data" option to restore it within this period.'}),p&&r.jsx(qt,{severity:"error",sx:{mb:2},children:p}),r.jsxs(N,{sx:{mt:2},children:[r.jsxs(P,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["To confirm, type ",r.jsx("strong",{children:"RESET"})," below:"]}),r.jsx(gt,{fullWidth:!0,size:"small",value:l,onChange:S=>u(S.target.value),placeholder:"Type RESET to confirm",disabled:d,autoComplete:"off",sx:{mt:1}})]})]}),r.jsxs(Nn,{sx:{px:3,pb:2},children:[r.jsx(Ae,{onClick:v,disabled:d,children:"Cancel"}),r.jsx(Ae,{variant:"contained",color:"error",onClick:b,disabled:!y||d,startIcon:d?r.jsx(Bg,{size:20}):null,children:d?"Resetting...":"Reset Data"})]})]})};$E.propTypes={open:D.bool.isRequired,onClose:D.func.isRequired,onConfirm:D.func.isRequired,resetInfo:D.shape({totalWorkouts:D.number.isRequired,totalHiitSessions:D.number.isRequired,totalCardioSessions:D.number.isRequired,totalStretchSessions:D.number.isRequired,totalPlans:D.number.isRequired,totalFavoriteWorkouts:D.number.isRequired,totalFavoriteExercises:D.number.isRequired,totalPinnedExercises:D.number.isRequired,hasData:D.bool.isRequired}).isRequired};const KE=({open:e,onClose:t,onRecover:s,backup:a})=>{const[l,u]=x.useState(!1),[d,h]=x.useState(null);if(!a)return null;const p=new Date(a.timestamp),g=new Date(a.expiresAt),y=Math.ceil((a.expiresAt-Date.now())/(1e3*60*60*24)),b=y<=7,v=(a.data.workoutHistory||[]).length,S=(a.data.hiitSessions||[]).length,T=(a.data.cardioSessions||[]).length,k=(a.data.stretchSessions||[]).length,w=(a.data.workoutPlans||[]).length,j=(a.data.favoriteWorkouts||[]).length,E=async()=>{u(!0),h(null);try{await s(),t()}catch(W){h(W.message||"Failed to recover data. Please try again.")}finally{u(!1)}},M=()=>{l||(h(null),t())};return r.jsxs(In,{open:e,onClose:M,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:2}},children:[r.jsx(Kn,{sx:{pb:1},children:r.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(Bm,{color:"primary"}),r.jsx(P,{variant:"h6",component:"span",children:"Recover Your Data"})]})}),r.jsxs(Wn,{children:[r.jsxs(qt,{severity:b?"warning":"info",sx:{mb:2},icon:r.jsx(dP,{}),children:[r.jsxs(P,{variant:"body2",children:[r.jsx("strong",{children:"Backup created:"})," ",p.toLocaleString()]}),r.jsxs(P,{variant:"body2",children:[r.jsx("strong",{children:"Expires:"})," ",g.toLocaleDateString()," ",r.jsx(yt,{label:`${y} day${y!==1?"s":""} remaining`,size:"small",color:b?"warning":"default",sx:{ml:1}})]})]}),r.jsx(P,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,children:"Your backup contains:"}),r.jsxs(Xn,{dense:!0,sx:{bgcolor:"background.paper",borderRadius:1,mb:2},children:[v>0&&r.jsxs(ht,{children:[r.jsx(gn,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),r.jsx(Mt,{primary:`${v} workout${v!==1?"s":""}`})]}),S>0&&r.jsxs(ht,{children:[r.jsx($c,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),r.jsx(Mt,{primary:`${S} HIIT session${S!==1?"s":""}`})]}),T>0&&r.jsxs(ht,{children:[r.jsx(Si,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),r.jsx(Mt,{primary:`${T} cardio session${T!==1?"s":""}`})]}),k>0&&r.jsxs(ht,{children:[r.jsx(li,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),r.jsx(Mt,{primary:`${k} stretch session${k!==1?"s":""}`})]}),w>0&&r.jsxs(ht,{children:[r.jsx(mh,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),r.jsx(Mt,{primary:`${w} workout plan${w!==1?"s":""}`})]}),j>0&&r.jsxs(ht,{children:[r.jsx(Ji,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),r.jsx(Mt,{primary:`${j} favorite workout${j!==1?"s":""}`})]}),r.jsx(ht,{children:r.jsx(Mt,{primary:"All statistics and achievements",secondary:"Including streaks, PRs, and total volume"})}),r.jsx(ht,{children:r.jsx(Mt,{primary:"Exercise weights and target reps",secondary:"Your saved progress tracking data"})})]}),r.jsx(qt,{severity:"warning",sx:{mb:2},children:r.jsxs(P,{variant:"body2",children:[r.jsx("strong",{children:"Warning:"})," Recovering this backup will replace your current data. Any workouts or progress you've logged since the reset will be lost."]})}),d&&r.jsx(qt,{severity:"error",sx:{mb:2},children:d})]}),r.jsxs(Nn,{sx:{px:3,pb:2},children:[r.jsx(Ae,{onClick:M,disabled:l,children:"Cancel"}),r.jsx(Ae,{variant:"contained",color:"primary",onClick:E,disabled:l,startIcon:l?r.jsx(Bg,{size:20}):r.jsx(Bm,{}),children:l?"Recovering...":"Recover Data"})]})]})};KE.propTypes={open:D.bool.isRequired,onClose:D.func.isRequired,onRecover:D.func.isRequired,backup:D.shape({timestamp:D.number.isRequired,expiresAt:D.number.isRequired,data:D.object.isRequired})};const V7=["Communication","Mental Health","Learning","Volunteering","New Experiences","Physical","Nature","Personal Growth","Creativity","Seeking Connection","Media","Maintenance"],F7=JSON.parse(`{"daily":[{"id":"wellness_1","task":"Call or text a friend or family member","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_2","task":"Send a thoughtful message to someone you appreciate","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_3","task":"Compliment a friend, family member, or coworker","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_4","task":"Ask a close friend or family member how they're really doing","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_5","task":"Invite someone for coffee, lunch, or a casual hangout","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_6","task":"Check in with a neighbor or acquaintance","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_7","task":"Send an encouraging text to someone going through a challenge","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_8","task":"Reach out to someone you haven't talked to in a while","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_9","task":"Express appreciation to a family member or friend","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_10","task":"Join a group chat or online community around shared interests","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_11","task":"Smile and greet five people with genuine warmth","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_12","task":"Listen actively to someone without planning your response","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Mental Health"]},{"id":"wellness_13","task":"Share a personal update or story with someone you trust","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Mental Health"]},{"id":"wellness_14","task":"Invite family to a meal together","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_15","task":"Organize a group activity or outing via text or message","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_16","task":"Say hello to a coworker you don't usually interact with","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_17","task":"Text three people you care about just to say hello","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_35","task":"Update or refresh your online dating profile","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_36","task":"Browse dating apps with intention and genuine interest","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_37","task":"Send a thoughtful message to someone new on a dating app","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_38","task":"Write a genuine response to a match or connection","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Communication","Seeking Connection"]},{"id":"wellness_39","task":"Reflect on qualities you want in a partner and community","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_40","task":"Attend a social event where you might meet people","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Communication","Seeking Connection"]},{"id":"wellness_41","task":"Compliment or show interest in someone you're attracted to","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_42","task":"Work on your confidence and self-presentation","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Mental Health","Seeking Connection"]},{"id":"wellness_43","task":"Practice vulnerability in conversations with new people","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Mental Health","Seeking Connection"]},{"id":"wellness_53","task":"Send your partner a loving or appreciative message","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_54","task":"Give your partner a genuine compliment","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_55","task":"Ask your partner about their day and listen deeply","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Communication","Maintenance"]},{"id":"wellness_56","task":"Show physical affection (hug, kiss, hand-hold)","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_57","task":"Express gratitude for something your partner did","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_58","task":"Do a small act of kindness for your partner","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_59","task":"Make eye contact and be fully present with your partner","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Communication","Maintenance"]},{"id":"wellness_60","task":"Say 'I love you' or reaffirm your connection","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_61","task":"Cook a meal together or for your partner","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Communication","Maintenance"]},{"id":"wellness_62","task":"Share a laugh or funny moment together","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Communication","Maintenance"]},{"id":"wellness_73","task":"Practice gratitude - write down 3 things you're grateful for","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_74","task":"Meditate or practice mindfulness for 5-10 minutes","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_75","task":"Practice deep breathing exercises","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_76","task":"Write in your journal about your thoughts and feelings","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_77","task":"Practice positive affirmations or self-talk","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_78","task":"Give yourself permission to rest without guilt","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_79","task":"Practice self-compassion when facing a setback","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_80","task":"Identify one personal strength you possess","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_81","task":"Spend 5 minutes in quiet reflection or stillness","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_82","task":"Say something kind to yourself out loud","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_83","task":"Light a candle and create a calm environment","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_84","task":"Practice progressive muscle relaxation","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_85","task":"Set a meaningful intention for the day","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_86","task":"Acknowledge and accept your emotions without judgment","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_87","task":"Take a mental health check-in with yourself","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_88","task":"Limit news or negative content intake","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_89","task":"Practice forgiveness toward yourself","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_90","task":"Write down one thing that went well today","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_91","task":"Ground yourself using the 5 senses technique","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_92","task":"Take a warm shower or bath for comfort","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_103","task":"Read a chapter or section of a book","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_104","task":"Learn one new thing or skill","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning","Personal Growth"]},{"id":"wellness_105","task":"Listen to an educational podcast or audiobook","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning","Personal Growth"]},{"id":"wellness_106","task":"Practice a skill you're actively developing","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_107","task":"Reflect on a lesson or growth moment from today","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_108","task":"Work on a personal project or goal","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_109","task":"Practice a language for 15 minutes","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning","Personal Growth"]},{"id":"wellness_110","task":"Identify an area where you want to improve","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_111","task":"Set a small daily goal and work toward it","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_112","task":"Practice positive thinking about a challenge","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Personal Growth"]},{"id":"wellness_123","task":"Do 10 minutes of stretching or yoga","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_124","task":"Drink 8 glasses of water throughout the day","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_125","task":"Take a 10-minute walk","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_126","task":"Do light cardio or movement","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_127","task":"Practice good posture throughout the day","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_128","task":"Eat a nutritious meal or snack","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_129","task":"Get 7-9 hours of quality sleep","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_130","task":"Do 10 push-ups or bodyweight exercises","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_131","task":"Stretch your neck and shoulders","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_132","task":"Practice proper breathing techniques","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_143","task":"Take a 10-minute walk outside","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_144","task":"Notice and appreciate something in nature","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_145","task":"Open your window and breathe fresh air","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_146","task":"Water your plants or tend your garden","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_147","task":"Watch the sunrise or sunset","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_148","task":"Take a barefoot walk in grass or soil","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_149","task":"Listen to birds singing or nature sounds","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_150","task":"Take a photo of something beautiful in nature","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_151","task":"Identify a tree, flower, or plant near you","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_152","task":"Eat a meal outside if possible","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_163","task":"Draw, doodle, or sketch something","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_164","task":"Write poetry, lyrics, or creative writing","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_165","task":"Play a musical instrument","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_166","task":"Take creative or artistic photos","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_167","task":"Make or edit a short video","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_168","task":"Craft or make something by hand","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_169","task":"Paint or color something","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_170","task":"Create digital art or graphic design","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_171","task":"Write in a creative or expressive way","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_172","task":"Work on a creative side project","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_183","task":"Read an article on a topic of interest","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_184","task":"Watch an educational video","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_185","task":"Study a subject you're interested in","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_186","task":"Research something that fascinates you","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_187","task":"Take notes on something you learned","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_188","task":"Watch a documentary","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_189","task":"Read the news and stay informed","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_190","task":"Teach someone something you know","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Learning"]},{"id":"wellness_191","task":"Explore a new topic through research","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_192","task":"Listen to an educational podcast","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_203","task":"Help a friend or neighbor with a task","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_204","task":"Perform a random act of kindness","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_205","task":"Donate items to charity","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_206","task":"Offer emotional support to someone","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_207","task":"Give genuine compliments freely","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_208","task":"Help with household chores for someone","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_209","task":"Send a care package or thoughtful gift","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_210","task":"Offer your time or skills to someone","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_211","task":"Donate money to a cause you believe in","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_212","task":"Mentor or guide someone","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_223","task":"Try a new food or cuisine","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_224","task":"Take a different route to work or home","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_225","task":"Listen to a new genre of music","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_226","task":"Try a new recipe or cooking method","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_227","task":"Wear something you wouldn't normally wear","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_228","task":"Visit a new store or caf","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_229","task":"Try a new exercise or movement practice","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences","Physical"]},{"id":"wellness_230","task":"Try a new hairstyle or look","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_231","task":"Use a new app or technology tool","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_232","task":"Try a new hobby or craft","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences","Creativity"]},{"id":"wellness_243","task":"Turn off notifications for social media","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_244","task":"Take a one-hour social media break","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_245","task":"Leave your phone in another room for 30 minutes","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_246","task":"Avoid checking email first thing in the morning","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_247","task":"Practice presence during meals without devices","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_248","task":"Limit screen time after 8 PM","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_249","task":"Read a physical book instead of scrolling","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Media"]},{"id":"wellness_250","task":"Unfollow accounts that trigger negative feelings","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_251","task":"Have a conversation without checking your phone","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Media"]},{"id":"wellness_252","task":"Watch a sunset without recording it","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Media"]},{"id":"wellness_265","task":"Share gratitude and appreciation with family for Thanksgiving","timing":"Daily","relationshipStatus":"All","holiday":"Thanksgiving (2nd Monday October)","categories":["Communication","Mental Health"]}],"weekly":[{"id":"wellness_18","task":"Host a dinner, potluck, or casual meal gathering","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_19","task":"Organize a game night or board game gathering with friends","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_20","task":"Attend a local community event, meetup, or group gathering","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_21","task":"Host a book club, discussion, or movie watch party","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_22","task":"Plan a group outing (hike, picnic, movie, restaurant)","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_23","task":"Attend or volunteer at a community event or festival","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_24","task":"Visit a friend or family member in person","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_25","task":"Start or join a hobby club or group activity","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_26","task":"Participate in a group fitness class or sports activity","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Physical"]},{"id":"wellness_27","task":"Attend a cultural or social gathering","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_28","task":"Organize a skill-share or knowledge-sharing session with friends","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Learning"]},{"id":"wellness_29","task":"Host a phone or video call with distant friends or family","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_30","task":"Invite a friend to try a new restaurant or caf","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","New Experiences"]},{"id":"wellness_31","task":"Join a professional networking group or meetup","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_32","task":"Attend a workshop, class, or event with friends or family","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Learning"]},{"id":"wellness_33","task":"Create a community chat group or event planning forum","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_34","task":"Have a meaningful one-on-one conversation over coffee or meal","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_44","task":"Schedule or go on a first date","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_45","task":"Plan a follow-up date with someone you like","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_46","task":"Attend a speed dating, singles event, or mixer","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Communication","Seeking Connection"]},{"id":"wellness_47","task":"Join a social or hobby group where you can meet people","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Communication","Seeking Connection"]},{"id":"wellness_48","task":"Volunteer or attend a community event to expand your social circle","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Communication","Volunteering","Seeking Connection"]},{"id":"wellness_49","task":"Get feedback on your dating profile from a trusted friend","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Communication","Seeking Connection"]},{"id":"wellness_50","task":"Attend a party or social gathering with friends","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Communication","Seeking Connection"]},{"id":"wellness_51","task":"Go out to a venue where you might meet people naturally","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_52","task":"Join a group activity or class to meet people with similar interests","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Communication","Seeking Connection"]},{"id":"wellness_63","task":"Schedule a dedicated date night with your partner","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_64","task":"Have a deep conversation about feelings and goals","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Communication","Maintenance"]},{"id":"wellness_65","task":"Try a new experience or activity together","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["New Experiences","Maintenance"]},{"id":"wellness_66","task":"Plan a weekend getaway or day trip","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_67","task":"Give each other a massage or quality physical time","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_68","task":"Celebrate each other's wins and accomplishments","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Communication","Maintenance"]},{"id":"wellness_69","task":"Watch a movie or show you both enjoy together","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_70","task":"Share a meal without distractions and connect","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Communication","Maintenance"]},{"id":"wellness_71","task":"Create a shared bucket list or future plans together","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_72","task":"Write a love letter or heartfelt note to your partner","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_93","task":"Attend therapy or counseling session","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_94","task":"Practice yoga or tai chi","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Physical"]},{"id":"wellness_95","task":"Take a relaxing bath with essential oils or music","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_96","task":"Get a massage or practice self-massage","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_97","task":"Create an at-home spa day","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_98","task":"Organize and declutter your personal space","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_99","task":"Declutter a significant area of your home","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_100","task":"Reflect on the week and journal lessons learned","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_101","task":"Write letters to process difficult emotions","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_102","task":"Set healthy boundaries with demanding people","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_113","task":"Take an online course or class","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning","Personal Growth"]},{"id":"wellness_114","task":"Read a challenging or thought-provoking book","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning","Personal Growth"]},{"id":"wellness_115","task":"Attend a workshop, seminar, or webinar","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning","Personal Growth"]},{"id":"wellness_116","task":"Start learning a new skill or hobby","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning","New Experiences","Personal Growth"]},{"id":"wellness_117","task":"Create a vision board for your goals","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_118","task":"Review your goals and track progress","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_119","task":"Seek mentorship or advice from someone you admire","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Personal Growth"]},{"id":"wellness_120","task":"Practice public speaking or presentation skills","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_121","task":"Join a professional or personal development group","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Personal Growth"]},{"id":"wellness_122","task":"Mentor someone or teach a skill to others","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Personal Growth"]},{"id":"wellness_133","task":"Do a HIIT or cardio workout","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_134","task":"Go for a run, bike ride, or swim","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_135","task":"Do a strength training session","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_136","task":"Attend a fitness class or gym session","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_137","task":"Meal prep for the week","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_138","task":"Practice a sport or recreational activity","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_139","task":"Do a flexibility or mobility workout","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_140","task":"Schedule a health checkup or dental visit","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_141","task":"Try a new wellness practice","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences","Physical"]},{"id":"wellness_142","task":"Do a longer nature walk or outdoor activity","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical","Nature"]},{"id":"wellness_153","task":"Go on a nature hike","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_154","task":"Visit a park or green space","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_155","task":"Go to a botanical garden or arboretum","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_156","task":"Volunteer for environmental conservation","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Volunteering","Nature"]},{"id":"wellness_157","task":"Spend time gardening or planting","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_158","task":"Go camping or spend the night outdoors","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_159","task":"Take a nature photography walk","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_160","task":"Go fishing, kayaking, or canoeing","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_161","task":"Explore a local nature trail or forest","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_162","task":"Join a naturalist or outdoor club","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Nature"]},{"id":"wellness_173","task":"Attend an art class or creative workshop","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning","Creativity"]},{"id":"wellness_174","task":"Visit an art gallery or museum","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_175","task":"Create a mixed media project","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_176","task":"Share your creative work with others","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Creativity"]},{"id":"wellness_177","task":"Collaborate on a creative project with someone","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Creativity"]},{"id":"wellness_178","task":"Attend a poetry reading or open mic night","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Creativity"]},{"id":"wellness_179","task":"Create handmade gifts for others","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_180","task":"Join a creative community or group","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Creativity"]},{"id":"wellness_181","task":"Explore a new creative medium","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences","Creativity"]},{"id":"wellness_182","task":"Attend a performance or show","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_193","task":"Enroll in an online course","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_194","task":"Attend a lecture or webinar","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_195","task":"Join a discussion group or book club","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Learning"]},{"id":"wellness_196","task":"Visit the library and research","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_197","task":"Read multiple books or articles","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_198","task":"Create study notes or flashcards","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_199","task":"Interview an expert in a field","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Learning"]},{"id":"wellness_200","task":"Join a learning community online","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Learning"]},{"id":"wellness_201","task":"Complete a certification or training","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_202","task":"Attend a workshop in your field","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_213","task":"Volunteer at a local organization","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_214","task":"Volunteer at a food bank or soup kitchen","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_215","task":"Volunteer for environmental conservation","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Volunteering","Nature"]},{"id":"wellness_216","task":"Mentor a young person or colleague","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_217","task":"Volunteer at an animal rescue or shelter","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_218","task":"Participate in community cleanup","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_219","task":"Volunteer for a cause you care about","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_220","task":"Help organize a fundraiser or event","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_221","task":"Volunteer with vulnerable or senior populations","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_222","task":"Join a volunteer board or committee","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_233","task":"Take a class in something you've never done","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning","New Experiences"]},{"id":"wellness_234","task":"Try a new restaurant or food truck","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_235","task":"Explore a new neighborhood or area","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_236","task":"Attend an event in an unfamiliar genre","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_237","task":"Try a new sport or physical activity","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences","Physical"]},{"id":"wellness_238","task":"Visit a museum or gallery you've never been to","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_239","task":"Try a new form of art or creative expression","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences","Creativity"]},{"id":"wellness_240","task":"Go to an event or venue in a different part of town","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","New Experiences"]},{"id":"wellness_241","task":"Try something on your bucket list","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_242","task":"Volunteer for a new type of cause","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Volunteering","New Experiences"]},{"id":"wellness_253","task":"Disable social media and streaming apps for a full day","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_254","task":"Have a phone-free meal with friends or family","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Media"]},{"id":"wellness_255","task":"Take a full digital detox day","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_256","task":"Create a 'no screens' bedroom policy this week","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_257","task":"Replace scrolling time with a meaningful hobby","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Creativity","Media"]},{"id":"wellness_258","task":"Organize a phone-free game night","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Media"]},{"id":"wellness_259","task":"Stop using your phone while commuting","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_260","task":"Remove social media apps you don't need","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_261","task":"Create a designated screen-free evening time","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Media"]},{"id":"wellness_262","task":"Attend or host a Canada Day community celebration","timing":"Weekly","relationshipStatus":"All","holiday":"Canada Day (July 1)","categories":["Communication"]},{"id":"wellness_263","task":"Participate in Canada Day festivities with friends or family","timing":"Weekly","relationshipStatus":"All","holiday":"Canada Day (July 1)","categories":["Communication"]},{"id":"wellness_264","task":"Host or attend a Thanksgiving dinner gathering","timing":"Weekly","relationshipStatus":"All","holiday":"Thanksgiving (2nd Monday October)","categories":["Communication"]},{"id":"wellness_266","task":"Attend a Halloween social event or party with friends","timing":"Weekly","relationshipStatus":"All","holiday":"Halloween (October 31)","categories":["Communication","Seeking Connection"]},{"id":"wellness_267","task":"Send holiday cards to friends and family","timing":"Weekly","relationshipStatus":"All","holiday":"Christmas (December 25)","categories":["Communication"]},{"id":"wellness_268","task":"Volunteer at a shelter or food bank during Christmas","timing":"Weekly","relationshipStatus":"All","holiday":"Christmas (December 25)","categories":["Communication","Volunteering"]},{"id":"wellness_269","task":"Attend a New Year's Eve celebration with friends","timing":"Weekly","relationshipStatus":"All","holiday":"New Year's Eve (December 31)","categories":["Communication","Seeking Connection"]},{"id":"wellness_270","task":"Reflect on the past year and set new community goals","timing":"Weekly","relationshipStatus":"All","holiday":"New Year's Eve (December 31)","categories":["Communication","Personal Growth"]}],"holiday":[{"id":"wellness_262","task":"Attend or host a Canada Day community celebration","timing":"Weekly","relationshipStatus":"All","holiday":"Canada Day (July 1)","categories":["Communication"]},{"id":"wellness_263","task":"Participate in Canada Day festivities with friends or family","timing":"Weekly","relationshipStatus":"All","holiday":"Canada Day (July 1)","categories":["Communication"]},{"id":"wellness_264","task":"Host or attend a Thanksgiving dinner gathering","timing":"Weekly","relationshipStatus":"All","holiday":"Thanksgiving (2nd Monday October)","categories":["Communication"]},{"id":"wellness_265","task":"Share gratitude and appreciation with family for Thanksgiving","timing":"Daily","relationshipStatus":"All","holiday":"Thanksgiving (2nd Monday October)","categories":["Communication","Mental Health"]},{"id":"wellness_266","task":"Attend a Halloween social event or party with friends","timing":"Weekly","relationshipStatus":"All","holiday":"Halloween (October 31)","categories":["Communication","Seeking Connection"]},{"id":"wellness_267","task":"Send holiday cards to friends and family","timing":"Weekly","relationshipStatus":"All","holiday":"Christmas (December 25)","categories":["Communication"]},{"id":"wellness_268","task":"Volunteer at a shelter or food bank during Christmas","timing":"Weekly","relationshipStatus":"All","holiday":"Christmas (December 25)","categories":["Communication","Volunteering"]},{"id":"wellness_269","task":"Attend a New Year's Eve celebration with friends","timing":"Weekly","relationshipStatus":"All","holiday":"New Year's Eve (December 31)","categories":["Communication","Seeking Connection"]},{"id":"wellness_270","task":"Reflect on the past year and set new community goals","timing":"Weekly","relationshipStatus":"All","holiday":"New Year's Eve (December 31)","categories":["Communication","Personal Growth"]}]}`),QE={categories:V7,tasksByTiming:F7},H7=()=>QE.categories,U7=(e={})=>{const{enabledCategories:t=[],relationshipStatus:s="All"}=e,l=new Date().toISOString().split("T")[0].split("-").reduce((h,p)=>h+parseInt(p,10),0);let u=QE.tasksByTiming.daily.filter(h=>!(h.relationshipStatus!=="All"&&h.relationshipStatus!==s||t.length>0&&!h.categories.some(g=>t.includes(g))));if(u.length===0)return null;const d=l%u.length;return u[d]},q7="BE0ZQSJHIlmXfeA5ddjITNrqrS0TmGfGGQjBufmOlUKxRUtEwja2qHmTZ0pXHepJzGV2qcwH0gJ_D6ot6cWGB6w",Y7=async()=>{try{return"Notification"in window?Zd?await Notification.requestPermission()==="granted":(console.warn("Firebase Messaging not supported in this browser"),!1):(console.warn("This browser does not support notifications"),!1)}catch(e){return console.error("Error requesting notification permission:",e),!1}},G7=async()=>{try{if(!Zd)return console.warn("[FCM] Firebase Messaging not available"),null;if(await Notification.requestPermission()!=="granted")return console.warn("[FCM] Notification permission not granted"),null;console.log("[FCM] Requesting FCM token with VAPID key...");const t=await zR(Zd,{vapidKey:q7});return t?(console.log("[FCM]  FCM token obtained successfully"),console.log("[FCM]  FCM Token:",t),console.log("[FCM]  Send this token to your backend to enable Firebase push notifications"),t):(console.warn("[FCM] No FCM token available. User may need to grant permission."),null)}catch(e){return console.error("[FCM] Error getting FCM token:",e),null}},$7=e=>{const{title:t,body:s,icon:a=`${window.location.origin}/goodlift-logo.svg`,tag:l="goodlift-notification",requireInteraction:u=!1}=e;if(!("Notification"in window)){console.warn("Notifications not supported");return}if(Notification.permission==="granted")try{new Notification(t,{body:s,icon:a,tag:l,requireInteraction:u})}catch(d){console.error("Error showing notification:",d)}},K7=(e,t=null)=>{let s=` Today's session: ${e}`;return t&&(s+=`
 Today's wellness task: ${t.task}`),{title:"Good Morning! ",body:s}},Q7=e=>{const t=U7(e.wellness||{}),s=K7("Full Body Strength",t);$7({title:s.title,body:s.body})},Mx="goodlift_data_backup",Ax="goodlift_guest_data_backup",X7=30,Z7=X7*24*60*60*1e3,XE=()=>{const e={};return tt()?(e.workoutHistory=At("workout_history")||[],e.userStats=At("user_stats")||null,e.exerciseWeights=At("exercise_weights")||{},e.exerciseTargetReps=At("exercise_target_reps")||{},e.hiitSessions=At("hiit_sessions")||[],e.cardioSessions=At("cardio_sessions")||[],e.stretchSessions=At("stretch_sessions")||[],e.workoutPlans=At("workout_plans")||[],e.activePlan=At("active_plan")||null,e.favoriteWorkouts=At("favorite_workouts")||[],e.favoriteExercises=At("favorite_exercises")||[],e.pinnedExercises=At("pinned_exercises")||[],e.unlockedAchievements=At("unlocked_achievements")||[],e.totalPRs=At("total_prs")||0,e.totalVolume=At("total_volume")||0):Object.entries({workoutHistory:"goodlift_workout_history",userStats:"goodlift_user_stats",exerciseWeights:"goodlift_exercise_weights",exerciseTargetReps:"goodlift_exercise_target_reps",hiitSessions:"goodlift_hiit_sessions",cardioSessions:"goodlift_cardio_sessions",stretchSessions:"goodlift_stretch_sessions",workoutPlans:"goodlift_workout_plans",activePlan:"goodlift_active_plan",favoriteWorkouts:"goodlift_favorite_workouts",favoriteExercises:"goodlift_favorite_exercises",pinnedExercises:"goodlift_pinned_exercises",unlockedAchievements:"goodlift_unlocked_achievements",totalPRs:"goodlift_total_prs",totalVolume:"goodlift_total_volume"}).forEach(([s,a])=>{try{const l=localStorage.getItem(a);l?e[s]=JSON.parse(l):e[s]=null}catch(l){console.error(`Error reading ${a}:`,l),e[s]=null}}),e},J7=()=>{tt()?(Ct("workout_history",[]),Ct("user_stats",{totalWorkouts:0,totalTime:0,totalHiitTime:0,totalCardioTime:0,totalStretchTime:0,currentStreak:0,longestStreak:0,totalPRs:0,totalVolume:0}),Ct("exercise_weights",{}),Ct("exercise_target_reps",{}),Ct("hiit_sessions",[]),Ct("cardio_sessions",[]),Ct("stretch_sessions",[]),Ct("workout_plans",[]),Ct("active_plan",null),Ct("favorite_workouts",[]),Ct("favorite_exercises",[]),Ct("pinned_exercises",[]),Ct("unlocked_achievements",[]),Ct("total_prs",0),Ct("total_volume",0)):["goodlift_workout_history","goodlift_user_stats","goodlift_exercise_weights","goodlift_exercise_target_reps","goodlift_hiit_sessions","goodlift_cardio_sessions","goodlift_stretch_sessions","goodlift_workout_plans","goodlift_active_plan","goodlift_favorite_workouts","goodlift_favorite_exercises","goodlift_pinned_exercises","goodlift_unlocked_achievements","goodlift_total_prs","goodlift_total_volume"].forEach(t=>{try{t==="goodlift_user_stats"?localStorage.setItem(t,JSON.stringify({totalWorkouts:0,totalTime:0,totalHiitTime:0,totalCardioTime:0,totalStretchTime:0,currentStreak:0,longestStreak:0,totalPRs:0,totalVolume:0})):t==="goodlift_exercise_weights"||t==="goodlift_exercise_target_reps"?localStorage.setItem(t,JSON.stringify({})):t==="goodlift_active_plan"?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify([]))}catch(s){console.error(`Error clearing ${t}:`,s)}})},e9=e=>{if(!e||!e.data)throw new Error("Invalid backup data");const{data:t}=e;if(tt())Object.entries(t).forEach(([s,a])=>{a!=null&&Ct(s.replace(/([A-Z])/g,"_$1").toLowerCase(),a)});else{const s={workoutHistory:"goodlift_workout_history",userStats:"goodlift_user_stats",exerciseWeights:"goodlift_exercise_weights",exerciseTargetReps:"goodlift_exercise_target_reps",hiitSessions:"goodlift_hiit_sessions",cardioSessions:"goodlift_cardio_sessions",stretchSessions:"goodlift_stretch_sessions",workoutPlans:"goodlift_workout_plans",activePlan:"goodlift_active_plan",favoriteWorkouts:"goodlift_favorite_workouts",favoriteExercises:"goodlift_favorite_exercises",pinnedExercises:"goodlift_pinned_exercises",unlockedAchievements:"goodlift_unlocked_achievements",totalPRs:"goodlift_total_prs",totalVolume:"goodlift_total_volume"};Object.entries(t).forEach(([a,l])=>{const u=s[a];if(u&&l!==null&&l!==void 0)try{localStorage.setItem(u,JSON.stringify(l))}catch(d){console.error(`Error restoring ${u}:`,d)}})}},t9=async()=>{try{const t={data:XE(),timestamp:Date.now(),expiresAt:Date.now()+Z7,version:1},s=tt()?Ax:Mx;localStorage.setItem(s,JSON.stringify(t));const a=Qc();if(a&&!tt())try{await Tn(a,{dataBackup:t})}catch(l){console.error("Error saving backup to Firebase:",l)}return t}catch(e){throw console.error("Error creating backup:",e),e}},fh=async()=>{try{const e=Qc();if(e&&!tt())try{const l=await Xs(e);if(l?.dataBackup)return l.dataBackup.expiresAt>Date.now()?l.dataBackup:(await Dg(),null)}catch(l){console.error("Error loading backup from Firebase:",l)}const t=tt()?Ax:Mx,s=localStorage.getItem(t);if(!s)return null;const a=JSON.parse(s);return a.expiresAt<=Date.now()?(await Dg(),null):a}catch(e){return console.error("Error getting backup:",e),null}},Dg=async()=>{try{const e=tt()?Ax:Mx;localStorage.removeItem(e);const t=Qc();if(t&&!tt())try{await Tn(t,{dataBackup:null})}catch(s){console.error("Error deleting backup from Firebase:",s)}}catch(e){throw console.error("Error deleting backup:",e),e}},n9=async()=>{try{const e=await t9();J7();const t=Qc();if(t&&!tt())try{await Tn(t,{workoutHistory:[],userStats:{totalWorkouts:0,totalTime:0,totalHiitTime:0,totalCardioTime:0,totalStretchTime:0,currentStreak:0,longestStreak:0,totalPRs:0,totalVolume:0},exerciseWeights:{},exerciseTargetReps:{},hiitSessions:[],cardioSessions:[],stretchSessions:[],workoutPlans:[],activePlanId:null})}catch(s){console.error("Error syncing reset to Firebase:",s)}return{success:!0,backup:e,message:"Data reset successfully. You have 30 days to recover your data."}}catch(e){return console.error("Error resetting user data:",e),{success:!1,message:"Failed to reset data. Please try again.",error:e}}},s9=async()=>{try{const e=await fh();if(!e)return{success:!1,message:"No backup found or backup has expired."};e9(e);const t=Qc();if(t&&!tt())try{await Tn(t,e.data)}catch(s){console.error("Error syncing recovered data to Firebase:",s)}return await Dg(),{success:!0,message:"Data recovered successfully!"}}catch(e){return console.error("Error recovering user data:",e),{success:!1,message:"Failed to recover data. Please try again.",error:e}}},ZE=async()=>{try{return await fh()===null}catch(e){return console.error("Error cleaning up expired backups:",e),!1}},_d=()=>{const e=XE(),t=(e.workoutHistory||[]).length,s=(e.hiitSessions||[]).length,a=(e.cardioSessions||[]).length,l=(e.stretchSessions||[]).length,u=(e.workoutPlans||[]).length,d=(e.favoriteWorkouts||[]).length,h=(e.favoriteExercises||[]).length,p=(e.pinnedExercises||[]).length;return{totalWorkouts:t,totalHiitSessions:s,totalCardioSessions:a,totalStretchSessions:l,totalPlans:u,totalFavoriteWorkouts:d,totalFavoriteExercises:h,totalPinnedExercises:p,hasData:t>0||s>0||a>0||l>0||u>0||d>0}},JE=({onNavigate:e})=>{const{mode:t,toggleTheme:s}=UE(),{preferences:a,updatePreference:l}=W7(),{profile:u,stats:d}=Ex(),{isGuest:h}=Ir(),{resetWeekCycle:p}=Ha(),[g,y]=x.useState(()=>{try{const te=localStorage.getItem("audioVolume");return te?parseFloat(te):.3}catch{return .3}}),[b,v]=x.useState(Vt.isMutedState()),[S,T]=x.useState(!1),[k,w]=x.useState(!1),[j,E]=x.useState(!1),[M,W]=x.useState(null),[O,R]=x.useState(null),[_,L]=x.useState(!1),[I,F]=x.useState(""),[B,z]=x.useState("success"),[ce]=x.useState(()=>H7()),[U,ie]=x.useState(()=>{try{const te=localStorage.getItem("goodlift_stretch_prefs");return te?JSON.parse(te):{showWarmup:!0,showCooldown:!0,defaultWarmupDuration:5,defaultCooldownDuration:5}}catch{return{showWarmup:!0,showCooldown:!0,defaultWarmupDuration:5,defaultCooldownDuration:5}}});x.useEffect(()=>{try{localStorage.setItem("audioVolume",g.toString())}catch(te){console.warn("Could not save volume preference",te)}},[g]),x.useEffect(()=>{try{localStorage.setItem("goodlift_stretch_prefs",JSON.stringify(U))}catch(te){console.warn("Could not save stretch preferences",te)}},[U]),x.useEffect(()=>{(async()=>{await ZE();const J=await fh();W(J),R(_d())})()},[]);const V=(te,J)=>{y(J),J>0&&b&&(Vt.setMuted(!1),v(!1)),J===0&&!b&&(Vt.setMuted(!0),v(!0))},q=()=>{s(),b||Vt.playTransitionBeep()},le=()=>{g>0&&!b&&Vt.playBeep(800,200,g)},pe=(te,J)=>{ie(Re=>({...Re,[te]:J}))},ke=()=>{B7(u,d)},be=()=>{R(_d()),T(!0)},Q=()=>{T(!1)},ee=async()=>{const te=await n9();te.success?(W(te.backup),R(_d()),F(te.message),z("success"),L(!0),setTimeout(()=>{window.location.reload()},2e3)):(F(te.message),z("error"),L(!0))},ue=async()=>{const te=await fh();W(te),w(!0)},me=()=>{w(!1)},ge=async()=>{const te=await s9();te.success?(W(null),R(_d()),F(te.message),z("success"),L(!0),setTimeout(()=>{window.location.reload()},2e3)):(F(te.message),z("error"),L(!0))},ae=()=>{L(!1)},Y=te=>{e&&e(te)},oe=()=>{E(!0)},G=()=>{E(!1)},he=async()=>{E(!1);try{await p(),F("Week cycle reset to Week 1. Automatic workout assignment re-enabled."),z("success"),L(!0)}catch(te){console.error("Error resetting week cycle:",te),F("Failed to reset week cycle"),z("error"),L(!0)}},ve=async te=>{te?await Y7()?(l("pushNotificationsEnabled",!0),F("Push notifications enabled!"),z("success"),L(!0)):(F("Permission denied. Please enable notifications in your browser settings."),z("error"),L(!0)):(l("pushNotificationsEnabled",!1),F("Push notifications disabled"),z("info"),L(!0))},Oe=te=>{const J=a.wellnessCategories||[],Re=J.includes(te)?J.filter(Fe=>Fe!==te):[...J,te];l("wellnessCategories",Re)},fe=()=>{Q7(a),F("Test notification sent!"),z("success"),L(!0)};return r.jsxs(N,{sx:{minHeight:"100vh",padding:{xs:1,sm:2,md:3,lg:4},paddingBottom:{xs:"80px",sm:3,md:4},background:te=>te.palette.background.default,overflowX:"hidden",width:"100%",boxSizing:"border-box"},children:[r.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsx(N,{sx:{display:"flex",justifyContent:"center",mb:2},children:r.jsx("img",{src:"/goodlift/goodlift-logo.svg",alt:"GoodLift",style:{height:"50px",width:"auto"}})}),r.jsx(P,{variant:"h4",sx:{mb:2,fontWeight:700,color:"text.primary"},children:"Settings"}),r.jsxs(Ie,{spacing:2,sx:{maxWidth:600},children:[r.jsx(it,{sx:{borderRadius:2,boxShadow:3},children:r.jsxs(ut,{sx:{p:0},children:[r.jsx(P,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"User Profile"}),r.jsx(Xn,{sx:{py:0},children:r.jsx(ht,{disablePadding:!0,children:r.jsxs(Ui,{onClick:()=>Y("profile"),sx:{py:1},children:[r.jsx(Gt,{sx:{minWidth:40},children:r.jsx(hP,{sx:{color:"primary.main"}})}),r.jsx(Mt,{primary:"Profile Information",primaryTypographyProps:{fontWeight:500}}),r.jsx(yr,{sx:{color:"text.secondary"}})]})})})]})}),r.jsx(it,{sx:{borderRadius:2,boxShadow:3},children:r.jsxs(ut,{sx:{p:0},children:[r.jsx(P,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"Exercise Database"}),r.jsx(Xn,{sx:{py:0},children:r.jsx(ht,{disablePadding:!0,children:r.jsxs(Ui,{onClick:()=>Y("exercise-list"),sx:{py:1},children:[r.jsx(Gt,{sx:{minWidth:40},children:r.jsx(fP,{sx:{color:"primary.main"}})}),r.jsx(Mt,{primary:"Browse Exercises",primaryTypographyProps:{fontWeight:500}}),r.jsx(yr,{sx:{color:"text.secondary"}})]})})})]})}),r.jsx(it,{sx:{borderRadius:2,boxShadow:3},children:r.jsxs(ut,{sx:{p:0},children:[r.jsx(P,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"Workout Scheduling"}),r.jsxs(Xn,{sx:{py:0},children:[r.jsx(ht,{disablePadding:!0,children:r.jsxs(Ui,{onClick:()=>Y("edit-weekly-schedule"),sx:{py:1},children:[r.jsx(Gt,{sx:{minWidth:40},children:r.jsx(Mr,{sx:{color:"primary.main"}})}),r.jsx(Mt,{primary:"Edit Weekly Schedule",primaryTypographyProps:{fontWeight:500}}),r.jsx(yr,{sx:{color:"text.secondary"}})]})}),r.jsx(Cn,{component:"li"}),r.jsx(ht,{disablePadding:!0,children:r.jsxs(Ui,{onClick:oe,sx:{py:1},children:[r.jsx(Gt,{sx:{minWidth:40},children:r.jsx(mh,{sx:{color:"primary.main"}})}),r.jsx(Mt,{primary:"Reset Week Counter",primaryTypographyProps:{fontWeight:500}}),r.jsx(yr,{sx:{color:"text.secondary"}})]})})]})]})}),r.jsx(it,{sx:{borderRadius:2,boxShadow:3},children:r.jsxs(ut,{sx:{p:0},children:[r.jsx(P,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"App Preferences"}),r.jsxs(Xn,{sx:{py:0},children:[r.jsxs(ht,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center",width:"100%",mb:.5},children:[r.jsx(Gt,{sx:{minWidth:40},children:r.jsx(pP,{sx:{color:"primary.main"}})}),r.jsx(P,{variant:"body2",fontWeight:500,children:"Unit System"})]}),r.jsx($t,{size:"small",sx:{ml:5,minWidth:160},children:r.jsxs(Zt,{value:a.units,onChange:te=>l("units",te.target.value),children:[r.jsx(Ne,{value:"imperial",children:"Imperial (lbs, in)"}),r.jsx(Ne,{value:"metric",children:"Metric (kg, cm)"})]})})]}),r.jsx(Cn,{component:"li"}),r.jsxs(ht,{sx:{py:1},children:[r.jsx(Gt,{sx:{minWidth:40},children:t==="dark"?r.jsx(mP,{sx:{color:"primary.main"}}):r.jsx(gP,{sx:{color:"primary.main"}})}),r.jsx(Mt,{primary:"Theme",primaryTypographyProps:{fontWeight:500}}),r.jsx(dr,{checked:t==="light",onChange:q,color:"primary"})]}),r.jsx(Cn,{component:"li"}),r.jsxs(ht,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center",width:"100%",mb:.5},children:[r.jsx(Gt,{sx:{minWidth:40},children:r.jsx(_g,{sx:{color:"primary.main"}})}),r.jsx(P,{variant:"body2",fontWeight:500,children:"Sound Effects"})]}),r.jsx(N,{sx:{ml:5,width:"calc(100% - 40px)"},children:r.jsx(NC,{value:g,onChange:V,onChangeCommitted:le,min:0,max:1,step:.1,valueLabelDisplay:"auto",valueLabelFormat:te=>`${Math.round(te*100)}%`,sx:{width:180,"& .MuiSlider-thumb":{width:16,height:16},"& .MuiSlider-track":{height:4},"& .MuiSlider-rail":{height:4}}})})]}),r.jsx(Cn,{component:"li"}),r.jsxs(ht,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"},children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(Gt,{sx:{minWidth:40},children:r.jsx(li,{sx:{color:"primary.main"}})}),r.jsx(P,{variant:"body2",fontWeight:500,children:"Warmup Reminders"})]}),r.jsx(dr,{checked:U.showWarmup,onChange:te=>pe("showWarmup",te.target.checked),color:"primary"})]}),U.showWarmup&&r.jsx($t,{size:"small",sx:{ml:5,mt:.5,minWidth:160},children:r.jsxs(Zt,{value:U.defaultWarmupDuration,onChange:te=>pe("defaultWarmupDuration",te.target.value),children:[r.jsx(Ne,{value:5,children:"5 minutes"}),r.jsx(Ne,{value:7,children:"7 minutes"}),r.jsx(Ne,{value:10,children:"10 minutes"})]})})]}),r.jsx(Cn,{component:"li"}),r.jsxs(ht,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"},children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(Gt,{sx:{minWidth:40},children:r.jsx(gn,{sx:{color:"primary.main"}})}),r.jsx(P,{variant:"body2",fontWeight:500,children:"Cooldown Reminders"})]}),r.jsx(dr,{checked:U.showCooldown,onChange:te=>pe("showCooldown",te.target.checked),color:"primary"})]}),U.showCooldown&&r.jsx($t,{size:"small",sx:{ml:5,mt:.5,minWidth:160},children:r.jsxs(Zt,{value:U.defaultCooldownDuration,onChange:te=>pe("defaultCooldownDuration",te.target.value),children:[r.jsx(Ne,{value:5,children:"5 minutes"}),r.jsx(Ne,{value:7,children:"7 minutes"}),r.jsx(Ne,{value:10,children:"10 minutes"})]})})]})]})]})}),r.jsx(it,{sx:{borderRadius:2,boxShadow:3},children:r.jsxs(ut,{sx:{p:0},children:[r.jsx(P,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"Wellness & Notifications"}),r.jsxs(Xn,{sx:{py:0},children:[r.jsxs(ht,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"},children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(Gt,{sx:{minWidth:40},children:r.jsx(yP,{sx:{color:"primary.main"}})}),r.jsx(P,{variant:"body2",fontWeight:500,children:"Push Notifications"})]}),r.jsx(dr,{checked:a.pushNotificationsEnabled||!1,onChange:te=>ve(te.target.checked),color:"primary"})]}),a.pushNotificationsEnabled&&r.jsx(N,{sx:{ml:5,mt:1,width:"calc(100% - 40px)"},children:r.jsx(Ae,{size:"small",variant:"outlined",onClick:fe,sx:{fontSize:"0.75rem"},children:"Send Test Notification"})})]}),r.jsx(Cn,{component:"li"}),r.jsx(ht,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:r.jsxs(N,{sx:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"},children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(Gt,{sx:{minWidth:40},children:r.jsx(xP,{sx:{color:"primary.main"}})}),r.jsx(P,{variant:"body2",fontWeight:500,children:"Daily Wellness Tasks"})]}),r.jsx(dr,{checked:a.dailyWellnessTasksEnabled||!1,onChange:te=>l("dailyWellnessTasksEnabled",te.target.checked),color:"primary",disabled:!a.pushNotificationsEnabled})]})}),r.jsx(Cn,{component:"li"}),a.dailyWellnessTasksEnabled&&r.jsxs(r.Fragment,{children:[r.jsxs(ht,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center",width:"100%",mb:.5},children:[r.jsx(Gt,{sx:{minWidth:40},children:r.jsx(bP,{sx:{color:"primary.main"}})}),r.jsx(P,{variant:"body2",fontWeight:500,children:"Relationship Status"})]}),r.jsx($t,{size:"small",sx:{ml:5,minWidth:160},children:r.jsxs(Zt,{value:a.relationshipStatus||"All",onChange:te=>l("relationshipStatus",te.target.value),children:[r.jsx(Ne,{value:"All",children:"All"}),r.jsx(Ne,{value:"Single",children:"Single"}),r.jsx(Ne,{value:"In Relationship",children:"In Relationship"})]})})]}),r.jsx(Cn,{component:"li"}),r.jsxs(ht,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center",width:"100%",mb:1},children:[r.jsx(Gt,{sx:{minWidth:40},children:r.jsx(vP,{sx:{color:"primary.main"}})}),r.jsx(P,{variant:"body2",fontWeight:500,children:"Wellness Categories"})]}),r.jsxs(N,{sx:{ml:5,width:"calc(100% - 40px)"},children:[r.jsx(P,{variant:"caption",color:"text.secondary",sx:{mb:1,display:"block"},children:"Select categories for personalized wellness tasks"}),r.jsx(Ie,{spacing:.5,children:ce.map(te=>r.jsx(qd,{control:r.jsx(dr,{size:"small",checked:(a.wellnessCategories||[]).includes(te),onChange:()=>Oe(te),color:"primary"}),label:r.jsx(P,{variant:"caption",children:te}),sx:{m:0}},te))})]})]}),r.jsx(Cn,{component:"li"})]}),a.pushNotificationsEnabled&&r.jsxs(r.Fragment,{children:[r.jsxs(ht,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center",width:"100%",mb:.5},children:[r.jsx(Gt,{sx:{minWidth:40},children:r.jsx(zm,{sx:{color:"primary.main"}})}),r.jsx(P,{variant:"body2",fontWeight:500,children:"Morning Notification Time"})]}),r.jsxs(N,{sx:{ml:5,display:"flex",gap:1},children:[r.jsx($t,{size:"small",sx:{minWidth:80},children:r.jsx(Zt,{value:a.morningNotificationTime?.hour||8,onChange:te=>l("morningNotificationTime",{...a.morningNotificationTime,hour:te.target.value}),children:Array.from({length:24},(te,J)=>r.jsx(Ne,{value:J,children:J.toString().padStart(2,"0")},J))})}),r.jsx(P,{variant:"body2",sx:{alignSelf:"center"},children:":"}),r.jsx($t,{size:"small",sx:{minWidth:80},children:r.jsx(Zt,{value:a.morningNotificationTime?.minute||0,onChange:te=>l("morningNotificationTime",{...a.morningNotificationTime,minute:te.target.value}),children:[0,15,30,45].map(te=>r.jsx(Ne,{value:te,children:te.toString().padStart(2,"0")},te))})})]})]}),r.jsx(Cn,{component:"li"}),r.jsxs(ht,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between",mb:1},children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(Gt,{sx:{minWidth:40},children:r.jsx($c,{sx:{color:"primary.main"}})}),r.jsx(P,{variant:"body2",fontWeight:500,children:"Follow-up Notifications"})]}),r.jsx(dr,{checked:a.enableFollowupNotifications??!0,onChange:te=>l("enableFollowupNotifications",te.target.checked),color:"primary"})]}),a.enableFollowupNotifications&&r.jsxs(r.Fragment,{children:[r.jsx(P,{variant:"caption",color:"text.secondary",sx:{ml:5,mb:.5,display:"block"},children:"Daily tasks: 9 PM | Weekly tasks: Saturday morning"}),r.jsxs(N,{sx:{ml:5,display:"flex",gap:1,alignItems:"center"},children:[r.jsx(P,{variant:"caption",children:"Follow-up time:"}),r.jsx($t,{size:"small",sx:{minWidth:80},children:r.jsx(Zt,{value:a.followupNotificationTime?.hour||21,onChange:te=>l("followupNotificationTime",{...a.followupNotificationTime,hour:te.target.value}),children:Array.from({length:24},(te,J)=>r.jsx(Ne,{value:J,children:J.toString().padStart(2,"0")},J))})}),r.jsx(P,{variant:"body2",children:":"}),r.jsx($t,{size:"small",sx:{minWidth:80},children:r.jsx(Zt,{value:a.followupNotificationTime?.minute||0,onChange:te=>l("followupNotificationTime",{...a.followupNotificationTime,minute:te.target.value}),children:[0,15,30,45].map(te=>r.jsx(Ne,{value:te,children:te.toString().padStart(2,"0")},te))})})]})]})]})]})]})]})}),r.jsx(it,{sx:{borderRadius:2,boxShadow:3},children:r.jsxs(ut,{sx:{p:0},children:[r.jsx(P,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"Data & Privacy"}),r.jsxs(Xn,{sx:{py:0},children:[r.jsx(ht,{disablePadding:!0,children:r.jsxs(Ui,{onClick:ke,sx:{py:1},children:[r.jsx(Gt,{sx:{minWidth:40},children:r.jsx(HC,{sx:{color:"primary.main"}})}),r.jsx(Mt,{primary:"Export Data",primaryTypographyProps:{fontWeight:500}})]})}),r.jsx(Cn,{component:"li"}),M&&r.jsxs(r.Fragment,{children:[r.jsx(ht,{disablePadding:!0,children:r.jsxs(Ui,{onClick:ue,sx:{py:1},children:[r.jsx(Gt,{sx:{minWidth:40},children:r.jsx(Bm,{sx:{color:"success.main"}})}),r.jsx(Mt,{primary:"Recover Data",primaryTypographyProps:{fontWeight:500}}),r.jsx(yr,{sx:{color:"text.secondary"}})]})}),r.jsx(Cn,{component:"li"})]}),r.jsx(ht,{disablePadding:!0,children:r.jsxs(Ui,{onClick:be,disabled:!O?.hasData,sx:{py:1},children:[r.jsx(Gt,{sx:{minWidth:40},children:r.jsx(SP,{sx:{color:O?.hasData?"error.main":"text.disabled"}})}),r.jsx(Mt,{primary:"Reset Personal Data",primaryTypographyProps:{fontWeight:500}}),r.jsx(yr,{sx:{color:"text.secondary"}})]})}),r.jsx(Cn,{component:"li"}),r.jsxs(ht,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center",width:"100%",mb:.5},children:[r.jsx(Gt,{sx:{minWidth:40},children:r.jsx(wP,{sx:{color:"primary.main"}})}),r.jsx(P,{variant:"body2",fontWeight:500,children:"Privacy"})]}),r.jsx(N,{sx:{ml:5,width:"calc(100% - 40px)"},children:h?r.jsx(qt,{severity:"info",sx:{py:.5,fontSize:"0.8rem"},children:"Create an account to access cloud sync and data privacy features"}):r.jsx(qt,{severity:"success",sx:{py:.5,fontSize:"0.8rem"},children:"Your data is securely stored in Firebase and synced across your devices"})})]})]})]})}),r.jsx(N,{sx:{mt:2},children:r.jsx(P,{variant:"body2",color:"text.secondary",sx:{textAlign:"center"},children:"Your preferences are saved automatically"})})]})]}),O&&r.jsx($E,{open:S,onClose:Q,onConfirm:ee,resetInfo:O}),M&&r.jsx(KE,{open:k,onClose:me,onRecover:ge,backup:M}),r.jsxs(In,{open:j,onClose:G,maxWidth:"xs",fullWidth:!0,children:[r.jsx(Kn,{children:"Reset Week Counter?"}),r.jsx(Wn,{children:r.jsx(Ng,{children:"Are you sure you want to reset the week counter back to Week 1? This will re-enable automatic workout assignment."})}),r.jsxs(Nn,{children:[r.jsx(Ae,{onClick:G,color:"primary",children:"Cancel"}),r.jsx(Ae,{onClick:he,color:"primary",variant:"contained",children:"Continue"})]})]}),r.jsx(Qs,{open:_,autoHideDuration:6e3,onClose:ae,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(qt,{onClose:ae,severity:B,sx:{width:"100%"},children:I})})]})};JE.propTypes={onNavigate:D.func};const e2=[{id:"preset-1",color:"#1db584",label:"Primary Teal"},{id:"preset-2",color:"#18a071",label:"Dark Teal"},{id:"preset-3",color:"#2dd099",label:"Light Teal"},{id:"preset-4",color:"#ff8c00",label:"Orange"},{id:"preset-5",color:"#ffa333",label:"Light Orange"},{id:"preset-6",color:"#cc7000",label:"Dark Orange"},{id:"preset-7",color:"#ef5350",label:"Red"},{id:"preset-8",color:"#6b8a9d",label:"Blue Grey"}],Id=()=>"/goodlift/",t2=[{id:"doggo-1",url:`${Id()}avatars/doggo-1.jpeg`,label:"Percy"},{id:"doggo-2",url:`${Id()}avatars/doggo-2.jpeg`,label:"Leo"},{id:"doggo-3",url:`${Id()}avatars/doggo-3.jpeg`,label:"Monty"},{id:"doggo-4",url:`${Id()}avatars/doggo-4.jpeg`,label:"Whiskey"}],i9=e=>e?e.startsWith("preset-")||e.startsWith("doggo-"):!1,a9=e=>e?e.startsWith("doggo-"):!1,r9=e=>{const t=e2.find(s=>s.id===e);return t?t.color:null},o9=e=>{const t=t2.find(s=>s.id===e);return t?t.url:null},xC=(e,t="#ff8c00")=>({display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",backgroundColor:t,color:"#ffffff",fontWeight:700,fontSize:"2rem",textTransform:"uppercase"}),n2=({open:e,onClose:t,onSelect:s,currentAvatar:a,initials:l})=>{const[u,d]=x.useState(a),[h,p]=x.useState(0),g=(w,j)=>{p(j)},y=w=>{d(w)},b=w=>{d(w)},v=()=>{u&&(s(u),t())},S=()=>{d(a),t()},T=w=>{const j=u===w.id;return r.jsx(sn,{item:!0,xs:4,sm:3,children:r.jsxs(N,{onClick:()=>y(w.id),sx:{cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:1,p:1,borderRadius:2,border:2,borderColor:j?"primary.main":"transparent",bgcolor:j?"action.selected":"transparent",transition:"all 0.2s","&:hover":{bgcolor:"action.hover"}},children:[r.jsx(Oo,{sx:{width:60,height:60,bgcolor:w.color,fontSize:"1.5rem",fontWeight:700},children:l}),r.jsx(P,{variant:"caption",color:"text.secondary",children:w.label})]})},w.id)},k=w=>{const j=u===w.id;return r.jsx(sn,{item:!0,xs:6,sm:3,children:r.jsxs(N,{onClick:()=>b(w.id),sx:{cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:1,p:1,borderRadius:2,border:2,borderColor:j?"primary.main":"transparent",bgcolor:j?"action.selected":"transparent",transition:"all 0.2s","&:hover":{bgcolor:"action.hover"}},children:[r.jsx(Oo,{src:w.url,sx:{width:80,height:80}}),r.jsx(P,{variant:"caption",color:"text.secondary",children:w.label})]})},w.id)};return r.jsxs(In,{open:e,onClose:S,maxWidth:"sm",fullWidth:!0,children:[r.jsx(Kn,{children:r.jsxs(N,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[r.jsx(P,{variant:"h6",children:"Choose Avatar"}),r.jsx(Be,{onClick:S,size:"small",children:r.jsx(bh,{})})]})}),r.jsxs(Wn,{children:[r.jsxs(Gc,{value:h,onChange:g,sx:{mb:2},children:[r.jsx($i,{label:"Preset Avatars"}),r.jsx($i,{label:"Doggos"})]}),h===0&&r.jsx(N,{sx:{mt:2},children:r.jsx(sn,{container:!0,spacing:2,children:e2.map(w=>T(w))})}),h===1&&r.jsxs(N,{sx:{mt:2},children:[r.jsx(P,{variant:"body2",color:"text.secondary",gutterBottom:!0,sx:{mb:2},children:"Select a doggo as your avatar"}),r.jsx(sn,{container:!0,spacing:2,children:t2.map(w=>k(w))})]})]}),r.jsxs(Nn,{sx:{p:2,pt:0},children:[r.jsx(Ae,{onClick:S,color:"inherit",children:"Cancel"}),r.jsx(Ae,{onClick:v,variant:"contained",disabled:!u,children:"Save"})]})]})};n2.propTypes={open:D.bool.isRequired,onClose:D.func.isRequired,onSelect:D.func.isRequired,currentAvatar:D.string,initials:D.string.isRequired};const l9=()=>{const{profile:e,stats:t,loading:s,saveProfile:a,updateProfile:l,getInitials:u,getProfileCompletion:d}=Ex(),[h,p]=x.useState(!1),[g,y]=x.useState(!1),[b,v]=x.useState(e),[S,T]=x.useState({}),[k,w]=x.useState(null);x.useEffect(()=>{v(e)},[e]);const j=()=>{p(!0),T({}),w(null)},E=()=>{p(!1),v(e),T({}),w(null)},M=async()=>{const L={},I=N7(b.displayName);I.valid||(L.displayName=I.error);const F=yC(b.bio,500);F.valid||(L.bio=F.error);const B=yC(b.goals,500);if(B.valid||(L.goals=B.error),Object.keys(L).length>0){T(L);return}try{const z={...b,displayName:Wm(b.displayName),bio:Wm(b.bio),goals:Wm(b.goals)};await a(z),p(!1),w(null)}catch(z){console.error("Error saving profile:",z),w("Failed to save profile. Please try again.")}},W=(L,I)=>{v({...b,[L]:I}),S[L]&&T({...S,[L]:null})},O=async L=>{try{await l("avatar",L),v({...b,avatar:L})}catch(I){console.error("Error updating avatar:",I),w("Failed to update avatar. Please try again.")}},R=()=>{const L=u(),I=100;if(e.avatar)if(a9(e.avatar)){const F=o9(e.avatar);return r.jsx(Oo,{src:F,sx:{width:I,height:I}})}else if(i9(e.avatar)){const F=r9(e.avatar);return r.jsx(Oo,{sx:{width:I,height:I,...xC(L,F),fontSize:"2.5rem"},children:L})}else return r.jsx(Oo,{src:e.avatar,sx:{width:I,height:I}});return r.jsx(Oo,{sx:{width:I,height:I,...xC(),fontSize:"2.5rem"},children:L})},_=d();return s?r.jsx(N,{sx:{p:3},children:r.jsxs(P,{color:"text.secondary",children:["Loading profile",r.jsx(Ke.span,{initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:"..."})]})}):r.jsxs(N,{sx:{minHeight:"100vh",padding:{xs:2,sm:3,md:4},paddingBottom:{xs:"80px",sm:3,md:4},background:L=>L.palette.background.default},children:[r.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsx(P,{variant:"h4",sx:{mb:3,fontWeight:700,color:"text.primary"},children:"Profile"}),r.jsx(it,{sx:{mb:3,borderRadius:2},children:r.jsxs(ut,{sx:{p:3},children:[r.jsxs(N,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:3,mb:3},children:[r.jsxs(N,{sx:{position:"relative",alignSelf:{xs:"center",sm:"flex-start"}},children:[r.jsx(N,{sx:{borderRadius:"50%",overflow:"hidden",width:100,height:100,border:"2px solid",borderColor:"divider"},children:R()}),r.jsx(Be,{onClick:()=>y(!0),size:"small",sx:{position:"absolute",bottom:-4,right:-4,bgcolor:"primary.main",color:"white",boxShadow:2,"&:hover":{bgcolor:"primary.dark",boxShadow:4}},children:r.jsx(CP,{fontSize:"small"})})]}),r.jsxs(N,{sx:{flex:1},children:[h?r.jsx(gt,{fullWidth:!0,label:"Display Name",value:b.displayName,onChange:L=>W("displayName",L.target.value),error:!!S.displayName,helperText:S.displayName,sx:{mb:2}}):r.jsx(P,{variant:"h5",fontWeight:700,gutterBottom:!0,children:e.displayName||"Unknown User"}),r.jsx(P,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:e.email}),r.jsxs(P,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Member since ",L7(e.memberSince)]}),r.jsxs(N,{sx:{mt:2},children:[r.jsxs(N,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[r.jsx(P,{variant:"body2",fontWeight:600,children:"Profile Completion"}),r.jsxs(P,{variant:"body2",fontWeight:600,children:[_,"%"]})]}),r.jsx(ta,{variant:"determinate",value:_,sx:{height:8,borderRadius:4}})]})]}),r.jsx(N,{children:h?r.jsxs(Ie,{direction:"row",spacing:1,children:[r.jsx(Be,{color:"primary",onClick:M,children:r.jsx(Ia,{})}),r.jsx(Be,{onClick:E,children:r.jsx(GC,{})})]}):r.jsx(Be,{color:"primary",onClick:j,children:r.jsx(Mr,{})})})]}),k&&r.jsx(qt,{severity:"error",sx:{mb:2},children:k}),r.jsxs(N,{sx:{mb:2},children:[r.jsx(P,{variant:"subtitle2",fontWeight:600,gutterBottom:!0,children:"Bio"}),h?r.jsx(gt,{fullWidth:!0,multiline:!0,rows:3,value:b.bio,onChange:L=>W("bio",L.target.value),error:!!S.bio,helperText:S.bio||`${b.bio.length}/500`,placeholder:"Tell us about yourself..."}):r.jsx(P,{variant:"body2",color:"text.secondary",children:e.bio||"No bio yet"})]}),r.jsxs(N,{children:[r.jsx(P,{variant:"subtitle2",fontWeight:600,gutterBottom:!0,children:"Fitness Goals"}),h?r.jsx(gt,{fullWidth:!0,multiline:!0,rows:3,value:b.goals,onChange:L=>W("goals",L.target.value),error:!!S.goals,helperText:S.goals||`${b.goals.length}/500`,placeholder:"What are your fitness goals?"}):r.jsx(P,{variant:"body2",color:"text.secondary",children:e.goals||"No goals set yet"})]}),r.jsxs(N,{sx:{mt:2},children:[r.jsx(P,{variant:"subtitle2",fontWeight:600,gutterBottom:!0,children:"Target Weight"}),h?r.jsxs(Ie,{direction:"row",spacing:2,alignItems:"flex-start",children:[r.jsx(gt,{type:"number",label:"Target Weight",value:b.targetWeight||"",onChange:L=>W("targetWeight",L.target.value?parseFloat(L.target.value):null),inputProps:{step:.1,min:0},sx:{flex:1,maxWidth:200}}),r.jsxs($t,{size:"small",sx:{minWidth:80},children:[r.jsx(_n,{children:"Unit"}),r.jsxs(Zt,{value:b.weightUnit||"lbs",onChange:L=>W("weightUnit",L.target.value),label:"Unit",children:[r.jsx(Ne,{value:"lbs",children:"lbs"}),r.jsx(Ne,{value:"kg",children:"kg"})]})]})]}):r.jsx(P,{variant:"body2",color:"text.secondary",children:e.targetWeight?`${e.targetWeight} ${e.weightUnit||"lbs"}`:"No target weight set"})]})]})}),r.jsxs(sn,{container:!0,spacing:3,sx:{mb:3},children:[r.jsx(sn,{item:!0,xs:6,sm:4,children:r.jsx(it,{children:r.jsxs(ut,{children:[r.jsx(P,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Total Workouts"}),r.jsx(P,{variant:"h4",fontWeight:700,children:t.totalWorkouts})]})})}),r.jsx(sn,{item:!0,xs:6,sm:4,children:r.jsx(it,{children:r.jsxs(ut,{children:[r.jsx(P,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Current Streak"}),r.jsx(P,{variant:"h4",fontWeight:700,color:"warning.main",children:t.currentStreak}),r.jsx(P,{variant:"caption",color:"text.secondary",children:"days"})]})})}),r.jsx(sn,{item:!0,xs:6,sm:4,children:r.jsx(it,{children:r.jsxs(ut,{children:[r.jsx(P,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Longest Streak"}),r.jsx(P,{variant:"h4",fontWeight:700,children:t.longestStreak}),r.jsx(P,{variant:"caption",color:"text.secondary",children:"days"})]})})}),r.jsx(sn,{item:!0,xs:6,sm:4,children:r.jsx(it,{children:r.jsxs(ut,{children:[r.jsx(P,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Total PRs"}),r.jsx(P,{variant:"h4",fontWeight:700,color:"success.main",children:t.totalPRs})]})})}),r.jsx(sn,{item:!0,xs:6,sm:4,children:r.jsx(it,{children:r.jsxs(ut,{children:[r.jsx(P,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Wellness Tasks"}),r.jsx(P,{variant:"h4",fontWeight:700,color:"secondary.main",children:t.completedWellnessTasks||0}),r.jsx(P,{variant:"caption",color:"text.secondary",children:"completed"})]})})}),r.jsx(sn,{item:!0,xs:12,sm:8,children:r.jsx(it,{children:r.jsxs(ut,{children:[r.jsx(P,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Favorite Exercise"}),r.jsx(yt,{label:t.favoriteExercise||"No data yet",color:"primary",sx:{mt:1}})]})})})]})]}),r.jsx(n2,{open:g,onClose:()=>y(!1),onSelect:O,currentAvatar:e.avatar,initials:u()})]})},Eg=({currentType:e,onChange:t,compact:s=!1})=>{const[a,l]=x.useState(!1),u={strength:[{value:"full",label:"Full Body",shortLabel:"Full"},{value:"upper",label:"Upper Body",shortLabel:"Upper"},{value:"lower",label:"Lower Body",shortLabel:"Lower"},{value:"push",label:"Push",shortLabel:"Push"},{value:"pull",label:"Pull",shortLabel:"Pull"},{value:"legs",label:"Legs",shortLabel:"Legs"},{value:"core",label:"Core",shortLabel:"Core"}],cardio:[{value:"cardio",label:"Cardio",shortLabel:"Cardio"},{value:"hiit",label:"HIIT",shortLabel:"HIIT"}],flexibility:[{value:"yoga",label:"Yoga",shortLabel:"Yoga"},{value:"mobility",label:"Mobility",shortLabel:"Mobility"},{value:"stretch",label:"Stretching",shortLabel:"Stretch"}],rest:[{value:"rest",label:"Rest Day",shortLabel:"Rest"}]},d=y=>({strength:r.jsx(gn,{fontSize:"small"}),cardio:r.jsx(Si,{fontSize:"small"}),flexibility:r.jsx(li,{fontSize:"small"}),rest:r.jsx(gh,{fontSize:"small"})})[y],p=(()=>{for(const[y,b]of Object.entries(u))if(b.some(v=>v.value===e))return y;return"strength"})(),g=(y,b)=>{b!==null&&b!==e&&t(b)};return s?r.jsxs(N,{children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",p:1.5,borderRadius:1,bgcolor:"background.paper",border:1,borderColor:"divider","&:hover":{bgcolor:"action.hover"}},onClick:()=>l(!a),children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:1},children:[d(p),r.jsx(P,{variant:"body2",fontWeight:600,children:"Session Type:"}),r.jsx(yt,{label:u[p].find(y=>y.value===e)?.label||e,size:"small",color:"primary"})]}),a?r.jsx(AC,{}):r.jsx(Wa,{})]}),r.jsx(Hd,{in:a,children:r.jsx(N,{sx:{pt:2},children:Object.entries(u).map(([y,b])=>r.jsxs(N,{sx:{mb:2},children:[r.jsxs(P,{variant:"caption",color:"text.secondary",sx:{display:"flex",alignItems:"center",gap:.5,mb:1},children:[d(y),y.charAt(0).toUpperCase()+y.slice(1)]}),r.jsx(Ud,{value:e,exclusive:!0,onChange:g,size:"small",fullWidth:!0,sx:{display:"flex",flexWrap:"wrap",gap:.5,"& .MuiToggleButton-root":{flex:"1 1 auto",minWidth:"fit-content"}},children:b.map(v=>r.jsx(ai,{value:v.value,children:v.shortLabel},v.value))})]},y))})})]}):r.jsxs(N,{children:[r.jsx(P,{variant:"subtitle2",sx:{mb:2,fontWeight:600},children:"Quick Toggle Session Type"}),r.jsx(Ie,{spacing:2,children:Object.entries(u).map(([y,b])=>r.jsxs(N,{children:[r.jsxs(P,{variant:"caption",color:"text.secondary",sx:{display:"flex",alignItems:"center",gap:.5,mb:1},children:[d(y),y.charAt(0).toUpperCase()+y.slice(1)]}),r.jsx(Ud,{value:e,exclusive:!0,onChange:g,size:"small",fullWidth:!0,sx:{display:"flex",flexWrap:"wrap",gap:.5,"& .MuiToggleButton-root":{flex:{xs:"1 1 45%",sm:"1 1 auto"},minWidth:"fit-content"}},children:b.map(v=>r.jsx(Zn,{title:v.label,arrow:!0,children:r.jsx(ai,{value:v.value,children:v.shortLabel})},v.value))})]},y))})]})};Eg.propTypes={currentType:D.string.isRequired,onChange:D.func.isRequired,compact:D.bool};const bC=e=>{const t=e.toLowerCase();return["full","upper","lower","push","pull","legs","core"].includes(t)?{sessionType:t,sessionName:vC(t),exercises:[],supersetConfig:[2,2,2,2],assignedDate:new Date().toISOString(),instructions:"Complete all exercises in each superset before moving to the next. Rest 60-90 seconds between supersets."}:["cardio","hiit","yoga","mobility","stretch"].includes(t)?{sessionType:t,sessionName:vC(t),timerConfig:{duration:c9(t),intensity:"moderate",notes:""},assignedDate:new Date().toISOString(),instructions:u9(t)}:t==="rest"?{sessionType:"rest",sessionName:"Rest Day",assignedDate:new Date().toISOString(),instructions:"Take a break and recover. Your body needs rest to grow stronger!"}:{sessionType:t,sessionName:t.charAt(0).toUpperCase()+t.slice(1),assignedDate:new Date().toISOString()}},vC=e=>({full:"Full Body",upper:"Upper Body",lower:"Lower Body",push:"Push",pull:"Pull",legs:"Legs",core:"Core",cardio:"Cardio",hiit:"HIIT",yoga:"Yoga",mobility:"Mobility",stretch:"Stretching",rest:"Rest Day"})[e]||e.charAt(0).toUpperCase()+e.slice(1),c9=e=>({cardio:30,hiit:20,yoga:45,mobility:20,stretch:15})[e]||30,u9=e=>({cardio:"Maintain a steady pace throughout the session. Focus on breathing and form.",hiit:"Alternate between high-intensity intervals and rest periods. Push yourself during work intervals.",yoga:"Flow through poses with controlled breathing. Focus on alignment and balance.",mobility:"Move through your full range of motion. Hold stretches for 30-60 seconds.",stretch:"Gently stretch each muscle group. Hold each stretch for 20-30 seconds without bouncing."})[e]||"Follow your workout plan and listen to your body.",Wd=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s2=({onNavigate:e})=>{const{weeklySchedule:t,assignWorkoutToDay:s,loading:a}=Ha(),[l,u]=x.useState("Sunday"),[d,h]=x.useState({}),[p,g]=x.useState({}),[y,b]=x.useState([]),[v,S]=x.useState({open:!1,message:"",severity:"info"}),[T,k]=x.useState(!1),[w,j]=x.useState(null);x.useEffect(()=>{(async()=>{try{const oe=await(await fetch(Nh)).json();b(oe)}catch(Y){console.error("Error loading exercises:",Y),b([])}})()},[]);const E=x.useCallback(async(ae,Y=[2,2,2,2])=>{if(!ae||ae.length===0)return[];const oe=[];let G=0,he=0;for(const ve of Y){for(let Oe=0;Oe<ve&&G<ae.length;Oe++){const fe=ae[G];if(fe.id&&fe.supersetGroup!==void 0&&fe.sets){oe.push(fe),G++;continue}const te=fe["Exercise Name"]||fe.exerciseName||fe.name,[J,Re]=await Promise.all([La(te),Ki(te)]),Fe={id:fe.id||`ex_${Date.now()}_${G}_${Math.random().toString(36).substring(2,9)}`,name:te,exerciseName:te,supersetGroup:he,muscleGroup:fe["Primary Muscle"]||fe.muscleGroup||fe.category,equipment:fe.Equipment||fe.equipment,category:fe["Primary Muscle"]||fe.muscleGroup||fe.category,sets:fe.sets||[{weight:J||0,reps:Re||10},{weight:J||0,reps:Re||10},{weight:J||0,reps:Re||10}]};oe.push(Fe),G++}he++}for(;G<ae.length;){const ve=ae[G];if(ve.id&&ve.supersetGroup!==void 0&&ve.sets){oe.push(ve),G++;continue}const Oe=ve["Exercise Name"]||ve.exerciseName||ve.name,[fe,te]=await Promise.all([La(Oe),Ki(Oe)]),J={id:ve.id||`ex_${Date.now()}_${G}_${Math.random().toString(36).substring(2,9)}`,name:Oe,exerciseName:Oe,supersetGroup:he,muscleGroup:ve["Primary Muscle"]||ve.muscleGroup||ve.category,equipment:ve.Equipment||ve.equipment,category:ve["Primary Muscle"]||ve.muscleGroup||ve.category,sets:ve.sets||[{weight:fe||0,reps:te||10},{weight:fe||0,reps:te||10},{weight:fe||0,reps:te||10}]};oe.push(J),G++,he++}return oe},[]);x.useEffect(()=>{if(a)return;(async()=>{const Y={};for(const oe of Wd)if(t[oe]){const G=JSON.parse(JSON.stringify(t[oe]));if(G.exercises&&Array.isArray(G.exercises)&&G.exercises.length>0){const he=G.supersetConfig||[2,2,2,2];G.exercises=await E(G.exercises,he)}Y[oe]=G}else Y[oe]=null;h(Y)})()},[t,a,E]);const M=ae=>ae?ae.sessionType?.toLowerCase():null,W=ae=>ae?["full","upper","lower","push","pull","legs","core"].includes(ae):!1,O=ae=>ae?["cardio","hiit","yoga","mobility","stretch"].includes(ae):!1,R=ae=>ae==="rest",_=(ae,Y)=>{p[l]?(j(Y),k(!0)):u(Y)},L=()=>{k(!1),w&&(u(w),j(null))},I=()=>{k(!1),j(null)},F=()=>{const ae=d[l];if(!ae||!W(M(ae)))return;const Y=ae.exercises||[],oe=Y.length>0?Math.max(...Y.map(he=>he.supersetGroup||0)):-1,G=[...Y,{id:`ex_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,name:null,exerciseName:null,supersetGroup:oe+1,sets:[{weight:0,reps:10},{weight:0,reps:10},{weight:0,reps:10}]},{id:`ex_${Date.now()+1}_${Math.random().toString(36).substring(2,9)}`,name:null,exerciseName:null,supersetGroup:oe+1,sets:[{weight:0,reps:10},{weight:0,reps:10},{weight:0,reps:10}]}];h(he=>({...he,[l]:{...ae,exercises:G}})),g(he=>({...he,[l]:!0}))},B=ae=>{const Y=d[l];if(!Y)return;const oe=Y.exercises.filter(G=>G.supersetGroup!==ae);h(G=>({...G,[l]:{...Y,exercises:oe}})),g(G=>({...G,[l]:!0}))},z=ae=>{const Y=d[l];if(!Y)return;const oe={id:`ex_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,name:null,exerciseName:null,supersetGroup:ae,sets:[{weight:0,reps:10},{weight:0,reps:10},{weight:0,reps:10}]};h(G=>({...G,[l]:{...Y,exercises:[...Y.exercises,oe]}})),g(G=>({...G,[l]:!0}))},ce=ae=>{const Y=d[l];if(!Y)return;const oe=Y.exercises.filter(G=>G.id!==ae);h(G=>({...G,[l]:{...Y,exercises:oe}})),g(G=>({...G,[l]:!0}))},U=x.useCallback(async(ae,Y)=>{const oe=d[l];if(!oe||!Y)return;const G=oe.exercises.map(te=>te.id===ae?{...te,name:Y["Exercise Name"],exerciseName:Y["Exercise Name"],muscleGroup:Y["Primary Muscle"]||Y["Muscle Group"],equipment:Y.Equipment,category:Y["Primary Muscle"]||Y["Muscle Group"]}:te),he=Y["Exercise Name"],[ve,Oe]=await Promise.all([La(he),Ki(he)]),fe=G.map(te=>te.id===ae?{...te,sets:te.sets.map(J=>({weight:ve??J.weight,reps:Oe??J.reps}))}:te);h(te=>({...te,[l]:{...oe,exercises:fe}})),g(te=>({...te,[l]:!0}))},[d,l]),ie=(ae,Y,oe,G)=>{const he=d[l];if(!he)return;const ve=he.exercises.map(Oe=>{if(Oe.id===ae){const fe=[...Oe.sets];return fe[Y]={...fe[Y],[oe]:parseFloat(G)||0},{...Oe,sets:fe}}return Oe});h(Oe=>({...Oe,[l]:{...he,exercises:ve}})),g(Oe=>({...Oe,[l]:!0}))},V=(ae,Y)=>{const oe=d[l];oe&&(h(G=>({...G,[l]:{...oe,timerConfig:{...oe.timerConfig,[ae]:Y}}})),g(G=>({...G,[l]:!0})))},q=ae=>{if(!d[l]){const G=bC(ae);h(he=>({...he,[l]:G})),g(he=>({...he,[l]:!0})),S({open:!0,message:`Session type changed to ${G.sessionName}`,severity:"success"});return}const oe=bC(ae);h(G=>({...G,[l]:oe})),g(G=>({...G,[l]:!0})),S({open:!0,message:`Session type changed to ${oe.sessionName}. Previous data has been replaced.`,severity:"info"})},le=async()=>{try{for(const ae of Wd)if(p[ae]){const Y=d[ae];if(Y&&Y.exercises&&Array.isArray(Y.exercises)){const oe={};Y.exercises.forEach(he=>{const ve=he.supersetGroup??0;oe[ve]=(oe[ve]||0)+1});const G=Object.keys(oe).sort((he,ve)=>parseInt(he)-parseInt(ve)).map(he=>oe[he]);Y.supersetConfig=G.length>0?G:[2,2,2,2]}await s(ae,Y)}g({}),S({open:!0,message:"All changes saved successfully!",severity:"success"})}catch(ae){console.error("Error saving changes:",ae),S({open:!0,message:"Failed to save changes. Please try again.",severity:"error"})}},pe=()=>{const ae={};Wd.forEach(Y=>{t[Y]?ae[Y]=JSON.parse(JSON.stringify(t[Y])):ae[Y]=null}),h(ae),g({}),S({open:!0,message:"All changes discarded",severity:"info"})},ke=ae=>{if(!ae||ae.length===0)return[];const Y={};return ae.forEach(oe=>{const G=oe.supersetGroup??0;Y[G]||(Y[G]=[]),Y[G].push(oe)}),Object.entries(Y).sort(([oe],[G])=>parseInt(oe)-parseInt(G))},be=d[l],Q=M(be),ee=W(Q),ue=O(Q),me=R(Q),ge=Object.values(p).some(ae=>ae);return a?r.jsx(N,{sx:{minHeight:"100vh",padding:{xs:2,sm:3},display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(P,{variant:"h6",color:"text.secondary",children:"Loading schedule..."})}):r.jsxs(N,{sx:{minHeight:"100vh",padding:{xs:2,sm:3},paddingBottom:{xs:"80px",sm:3},background:ae=>ae.palette.background.default},children:[r.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsxs(N,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[r.jsx(Be,{onClick:()=>e?.("settings"),sx:{color:"primary.main"},children:r.jsx(xh,{})}),r.jsxs(N,{sx:{flex:1},children:[r.jsx(P,{variant:"h4",sx:{fontWeight:700,color:"text.primary"},children:"Edit Weekly Schedule"}),r.jsx(P,{variant:"body2",color:"text.secondary",children:"Customize your workouts for each day of the week"})]}),ge&&r.jsx(yt,{label:"Unsaved Changes",color:"warning",size:"small",sx:{display:{xs:"none",sm:"flex"}}})]}),r.jsx(it,{sx:{mb:3},children:r.jsx(Gc,{value:l,onChange:_,variant:"scrollable",scrollButtons:"auto",sx:{borderBottom:1,borderColor:"divider","& .MuiTab-root":{minWidth:{xs:80,sm:100}}},children:Wd.map(ae=>r.jsx($i,{value:ae,label:r.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:.5},children:[ae.substring(0,3),p[ae]&&r.jsx(N,{sx:{width:6,height:6,borderRadius:"50%",bgcolor:"warning.main"}})]})},ae))})}),r.jsxs(N,{sx:{maxWidth:900,mx:"auto"},children:[be&&r.jsx(it,{sx:{mb:3},children:r.jsx(ut,{children:r.jsx(Eg,{currentType:Q||"full",onChange:q,compact:!0})})}),!be&&r.jsxs(it,{sx:{p:4,textAlign:"center"},children:[r.jsxs(P,{variant:"h6",color:"text.secondary",children:["No workout assigned for ",l]}),r.jsx(P,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Use the quick toggle below to assign a workout type"}),r.jsx(N,{sx:{mt:3,maxWidth:600,mx:"auto"},children:r.jsx(Eg,{currentType:"full",onChange:q,compact:!1})})]}),me&&r.jsxs(it,{sx:{p:6,textAlign:"center"},children:[r.jsx(gh,{sx:{fontSize:80,color:"text.secondary",mb:2}}),r.jsx(P,{variant:"h4",sx:{fontWeight:700,color:"text.primary"},children:"Rest Day"}),r.jsx(P,{variant:"body1",color:"text.secondary",sx:{mt:2},children:"Take a break and recover. Your body needs rest to grow stronger!"})]}),ue&&r.jsx(it,{children:r.jsxs(ut,{children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[r.jsx($c,{sx:{fontSize:40,color:"primary.main"}}),r.jsxs(N,{children:[r.jsx(P,{variant:"h5",sx:{fontWeight:700},children:"Timer Configuration"}),r.jsxs(P,{variant:"body2",color:"text.secondary",children:["Set duration for your ",be.sessionName||Q," session"]})]})]}),r.jsxs(Ie,{spacing:3,children:[r.jsxs($t,{fullWidth:!0,children:[r.jsx(_n,{children:"Duration (minutes)"}),r.jsxs(Zt,{value:be.timerConfig?.duration||30,label:"Duration (minutes)",onChange:ae=>V("duration",ae.target.value),children:[r.jsx(Ne,{value:15,children:"15 minutes"}),r.jsx(Ne,{value:20,children:"20 minutes"}),r.jsx(Ne,{value:30,children:"30 minutes"}),r.jsx(Ne,{value:45,children:"45 minutes"}),r.jsx(Ne,{value:60,children:"60 minutes"})]})]}),r.jsxs($t,{fullWidth:!0,children:[r.jsx(_n,{children:"Intensity"}),r.jsxs(Zt,{value:be.timerConfig?.intensity||"moderate",label:"Intensity",onChange:ae=>V("intensity",ae.target.value),children:[r.jsx(Ne,{value:"light",children:"Light"}),r.jsx(Ne,{value:"moderate",children:"Moderate"}),r.jsx(Ne,{value:"vigorous",children:"Vigorous"})]})]}),r.jsx(gt,{label:"Notes (optional)",multiline:!0,rows:3,value:be.timerConfig?.notes||"",onChange:ae=>V("notes",ae.target.value),placeholder:"Add any notes or goals for this session..."})]})]})}),ee&&r.jsxs(Ie,{spacing:3,children:[r.jsxs(N,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx(P,{variant:"h6",sx:{fontWeight:600},children:"Supersets"}),r.jsx(Ae,{variant:"outlined",startIcon:r.jsx(Ks,{}),onClick:F,size:"small",children:"Add Superset"})]}),ke(be.exercises).map(([ae,Y],oe)=>r.jsx(it,{sx:{borderLeft:3,borderColor:"primary.main"},children:r.jsxs(ut,{children:[r.jsxs(N,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[r.jsx(yt,{label:`Superset ${oe+1}`,color:"primary",size:"small"}),r.jsxs(N,{sx:{display:"flex",gap:1},children:[r.jsx(Be,{size:"small",color:"primary",onClick:()=>z(parseInt(ae)),title:"Add exercise to this superset",children:r.jsx(Ks,{fontSize:"small"})}),r.jsx(Be,{size:"small",color:"error",onClick:()=>B(parseInt(ae)),title:"Remove this superset",children:r.jsx(Ko,{fontSize:"small"})})]})]}),r.jsx(Ie,{spacing:2,children:Y.map((G,he)=>r.jsxs(N,{children:[he>0&&r.jsx(Cn,{sx:{my:1}}),r.jsxs(N,{children:[r.jsxs(N,{sx:{display:"flex",alignItems:"flex-start",gap:2,mb:2},children:[r.jsx(P,{sx:{fontSize:"1.5rem",color:"primary.main",fontWeight:700,width:"32px",textAlign:"center",flexShrink:0},children:String.fromCharCode(65+he)}),r.jsx(N,{sx:{flex:1},children:r.jsx(jx,{value:G.name?y.find(ve=>ve["Exercise Name"]===G.name):null,onChange:(ve,Oe)=>U(G.id,Oe),availableExercises:y,label:"Exercise",placeholder:"Select exercise...",disabled:y.length===0})}),r.jsx(Be,{size:"small",color:"error",onClick:()=>ce(G.id),sx:{mt:.5},children:r.jsx(wi,{fontSize:"small"})})]}),G.name&&r.jsxs(N,{sx:{pl:5},children:[r.jsx(P,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"Sets"}),r.jsx(Ie,{spacing:1,children:G.sets?.map((ve,Oe)=>r.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsxs(P,{variant:"body2",sx:{minWidth:50,fontWeight:500},children:["Set ",Oe+1]}),r.jsx(gt,{type:"number",label:"Weight (lbs)",value:ve.weight,onChange:fe=>ie(G.id,Oe,"weight",fe.target.value),size:"small",sx:{width:120},disabled:G.equipment?.toLowerCase()==="bodyweight"}),r.jsx(gt,{type:"number",label:"Reps",value:ve.reps,onChange:fe=>ie(G.id,Oe,"reps",fe.target.value),size:"small",sx:{width:100}})]},Oe))})]})]})]},G.id))})]})},ae)),(!be.exercises||be.exercises.length===0)&&r.jsx(it,{sx:{p:4,textAlign:"center"},children:r.jsx(P,{variant:"body1",color:"text.secondary",children:'No exercises in this workout. Click "Add Superset" to get started.'})})]}),be&&!me&&r.jsxs(N,{sx:{mt:4,display:"flex",gap:2,justifyContent:"center"},children:[r.jsx(Ae,{variant:"outlined",onClick:pe,disabled:!ge,children:"Discard Changes"}),r.jsx(Ae,{variant:"contained",startIcon:r.jsx(Ia,{}),onClick:le,disabled:!ge,children:"Save All Changes"})]})]})]}),r.jsxs(In,{open:T,onClose:I,children:[r.jsx(Kn,{children:"Unsaved Changes"}),r.jsx(Wn,{children:r.jsxs(Ng,{children:["You have unsaved changes for ",l,`. These changes will be kept when you switch days, but they won't be saved until you click "Save All Changes".`]})}),r.jsxs(Nn,{children:[r.jsx(Ae,{onClick:I,children:"Cancel"}),r.jsx(Ae,{onClick:L,variant:"contained",children:"Continue"})]})]}),r.jsx(Qs,{open:v.open,autoHideDuration:6e3,onClose:()=>S({...v,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(qt,{onClose:()=>S({...v,open:!1}),severity:v.severity,sx:{width:"100%"},children:v.message})})]})};s2.propTypes={onNavigate:D.func};const Px=x.memo(x.forwardRef(({weight:e="",reps:t="",lastWeight:s=null,lastReps:a=null,onWeightChange:l,onRepsChange:u,weightIncrement:d=2.5,repsIncrement:h=1,disabled:p=!1},g)=>{const y=T=>{const k=parseFloat(e)||0,w=Math.max(0,k+T);l(w)},b=T=>{const k=parseInt(t)||0,w=Math.max(0,k+T);u(w)},S=(()=>{if(s===null||a===null)return null;const T=parseFloat(e)||0,k=parseInt(t)||0;return T>s?"weight":T===s&&k>a?"reps":null})();return r.jsxs(N,{sx:{width:"100%"},children:[r.jsxs(Ie,{direction:"row",spacing:2,sx:{mb:1},children:[r.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:.5,flex:1},children:[r.jsx(P,{variant:"caption",sx:{minWidth:"50px",fontWeight:600,color:"text.secondary"},children:"Weight:"}),r.jsx(Be,{size:"small",onClick:()=>y(-d),disabled:p,sx:{border:"1px solid",borderColor:"divider",width:"32px",height:"32px"},children:r.jsx(wi,{fontSize:"small"})}),r.jsx(gt,{type:"number",value:e,onChange:T=>l(T.target.value),disabled:p,inputMode:"decimal",inputRef:g,size:"small",sx:{width:"70px","& input":{textAlign:"center",padding:"8px 4px",fontSize:"1rem",fontWeight:600}}}),r.jsx(Be,{size:"small",onClick:()=>y(d),disabled:p,sx:{border:"1px solid",borderColor:"divider",width:"32px",height:"32px"},children:r.jsx(Ks,{fontSize:"small"})}),r.jsx(P,{variant:"caption",sx:{color:"text.secondary"},children:"lbs"})]}),r.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:.5,flex:1},children:[r.jsx(P,{variant:"caption",sx:{minWidth:"40px",fontWeight:600,color:"text.secondary"},children:"Reps:"}),r.jsx(Be,{size:"small",onClick:()=>b(-h),disabled:p,sx:{border:"1px solid",borderColor:"divider",width:"32px",height:"32px"},children:r.jsx(wi,{fontSize:"small"})}),r.jsx(gt,{type:"number",value:t,onChange:T=>u(T.target.value),disabled:p,inputMode:"numeric",size:"small",sx:{width:"60px","& input":{textAlign:"center",padding:"8px 4px",fontSize:"1rem",fontWeight:600}}}),r.jsx(Be,{size:"small",onClick:()=>b(h),disabled:p,sx:{border:"1px solid",borderColor:"divider",width:"32px",height:"32px"},children:r.jsx(Ks,{fontSize:"small"})})]})]}),(s!==null||a!==null)&&r.jsxs(P,{variant:"caption",sx:{color:"text.secondary",display:"flex",alignItems:"center",gap:.5},children:["Last: ",s??"","  ",a??"",S==="weight"&&r.jsx("span",{style:{color:"green",fontWeight:600},children:" Weight"}),S==="reps"&&r.jsx("span",{style:{color:"green",fontWeight:600},children:" Reps"})]})]})}));Px.displayName="ExerciseInputs";Px.propTypes={weight:D.oneOfType([D.string,D.number]),reps:D.oneOfType([D.string,D.number]),lastWeight:D.number,lastReps:D.number,onWeightChange:D.func.isRequired,onRepsChange:D.func.isRequired,weightIncrement:D.number,repsIncrement:D.number,disabled:D.bool};const Ox=x.memo(({exerciseName:e,setNumber:t,totalSets:s,videoUrl:a,lastWeight:l=null,lastReps:u=null,onSubmit:d,onBack:h,showBack:p=!1,suggestedWeight:g=null,suggestedReps:y=null,showSuggestions:b=!0,elapsedTime:v=null,currentStep:S=1,totalSteps:T=1,isFavorite:k=!1,onToggleFavorite:w=null,onSkip:j=null,onSwap:E=null,onPartialComplete:M=null,onExit:W=null,showPartialComplete:O=!1})=>{const[R,_]=x.useState(l||""),[L,I]=x.useState(u||""),[F,B]=x.useState(!1),[z,ce]=x.useState(!1),U=x.useRef(null),[ie,V]=x.useState("3rem"),q=be=>{be.preventDefault(),B(!0),setTimeout(()=>{d({weight:parseFloat(R)||0,reps:parseInt(L)||0}),B(!1),ce(!1)},800)},le=()=>{g!==null&&_(g),y!==null&&I(y),ce(!0)};x.useEffect(()=>{const be=()=>{const ue=U.current;if(!ue||!e)return;const me=ue.parentElement;if(!me)return;const ge=me.clientWidth,ae=window.innerWidth<600?32:64,Y=ge-ae*2;if(Y<=0)return;const oe=150,G=32,he=2,ve=e.split(" ");let Oe=e;if(ve.length>1){let Fe=1/0;for(let Ee=1;Ee<ve.length;Ee++){const we=ve.slice(0,Ee).join(" "),We=ve.slice(Ee).join(" "),X=Math.abs(we.length-We.length);X<Fe&&(Fe=X,Oe=`${we}
${We}`)}}const fe=document.createElement("div");fe.style.visibility="hidden",fe.style.position="absolute",fe.style.width=Y+"px",fe.style.fontFamily=getComputedStyle(ue).fontFamily,fe.style.fontWeight="700",fe.style.lineHeight="1.2",fe.style.whiteSpace="pre-wrap",fe.style.textAlign="center",fe.textContent=Oe,document.body.appendChild(fe);let te=G,J=oe,Re=G;for(;te<=J;){const Fe=Math.floor((te+J)/2);fe.style.fontSize=Fe+"px";const Ee=Fe*1.2,we=fe.offsetHeight;Math.ceil(we/Ee)<=he?(Re=Fe,te=Fe+1):J=Fe-1}document.body.removeChild(fe),V(`${Re}px`)};be();const Q=()=>be();window.addEventListener("resize",Q);const ee=setTimeout(be,100);return()=>{window.removeEventListener("resize",Q),clearTimeout(ee)}},[e]);const pe=()=>b&&!F&&!z&&(g!==null||y!==null),ke=be=>{const Q=Math.floor(be/60),ee=be%60;return`${Q}:${ee.toString().padStart(2,"0")}`};return r.jsxs(N,{className:"exercise-card",sx:{display:"flex",flexDirection:"column",height:"100%",minHeight:{xs:"calc(100vh - 140px)",sm:"calc(100vh - 160px)"},p:{xs:2,sm:3}},children:[r.jsxs(N,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1.5,flexShrink:0},children:[v!==null&&r.jsx(P,{variant:"body1",sx:{fontWeight:600,fontSize:{xs:"0.9rem",sm:"1.25rem"}},children:ke(v)}),r.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(yt,{label:`Set ${t} of ${s}`,color:"primary",size:"small",sx:{fontWeight:600,fontSize:{xs:"0.7rem",sm:"0.85rem"}}}),r.jsxs(P,{variant:"body1",sx:{fontWeight:600,fontSize:{xs:"0.9rem",sm:"1.25rem"}},children:[S,"/",T]}),w&&r.jsx(Be,{onClick:w,size:"small",sx:{color:k?"warning.main":"action.active","&:hover":{color:"warning.main"},p:{xs:.5,sm:1}},"aria-label":"Toggle favorite",children:k?r.jsx(Ji,{sx:{fontSize:{xs:20,sm:24}}}):r.jsx(zg,{sx:{fontSize:{xs:20,sm:24}}})})]})]}),r.jsxs(N,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:1,mb:2,flexShrink:0},children:[r.jsxs(N,{sx:{display:"flex",gap:1},children:[r.jsx(Be,{component:"a",href:`https://www.google.com/search?q=${encodeURIComponent(e+" form")}`,target:"_blank",rel:"noopener noreferrer",sx:{minWidth:{xs:"36px",sm:"44px"},minHeight:{xs:"36px",sm:"44px"},color:"primary.main",border:"2px solid",borderColor:"primary.main",borderRadius:"8px","&:hover":{backgroundColor:"rgba(19, 70, 134, 0.08)"}},"aria-label":`Search for ${e} form guide`,children:r.jsx(LC,{sx:{fontSize:{xs:20,sm:24}}})}),j&&r.jsx(Be,{onClick:j,sx:{minWidth:{xs:"36px",sm:"44px"},minHeight:{xs:"36px",sm:"44px"},color:"primary.main",border:"2px solid",borderColor:"primary.main",borderRadius:"8px","&:hover":{backgroundColor:"rgba(19, 70, 134, 0.08)"}},"aria-label":"Skip exercise",children:r.jsx(Yc,{sx:{fontSize:{xs:20,sm:24}}})}),E&&r.jsx(Be,{onClick:E,sx:{minWidth:{xs:"36px",sm:"44px"},minHeight:{xs:"36px",sm:"44px"},color:"primary.main",border:"2px solid",borderColor:"primary.main",borderRadius:"8px","&:hover":{backgroundColor:"rgba(19, 70, 134, 0.08)"}},"aria-label":"Swap exercise",children:r.jsx(zC,{sx:{fontSize:{xs:20,sm:24}}})})]}),r.jsxs(N,{sx:{display:"flex",gap:1},children:[O&&M&&r.jsx(Be,{onClick:M,sx:{minWidth:{xs:"36px",sm:"44px"},minHeight:{xs:"36px",sm:"44px"},color:"rgb(254, 178, 26)",border:"2px solid rgb(254, 178, 26)",borderRadius:"8px","&:hover":{backgroundColor:"rgba(254, 178, 26, 0.08)"}},"aria-label":"End and save workout",children:r.jsx(Ia,{sx:{fontSize:{xs:20,sm:24}}})}),W&&r.jsx(Be,{onClick:W,sx:{minWidth:{xs:"36px",sm:"44px"},minHeight:{xs:"36px",sm:"44px"},color:"rgb(237, 63, 39)",border:"2px solid rgb(237, 63, 39)",borderRadius:"8px","&:hover":{backgroundColor:"rgba(237, 63, 39, 0.08)"}},"aria-label":"End workout without saving",children:r.jsx(BC,{sx:{fontSize:{xs:20,sm:24}}})})]})]}),r.jsx(N,{sx:{mb:2,flexShrink:0},children:r.jsx(P,{ref:U,variant:"h3",component:"h2",sx:{fontWeight:700,fontSize:ie,color:"primary.main",textAlign:"center",lineHeight:"1.2 !important",px:{xs:2,sm:4},wordBreak:"break-word",overflowWrap:"break-word",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e})}),a&&r.jsx(N,{sx:{position:"relative",paddingBottom:"56.25%",height:0,overflow:"hidden",borderRadius:2,mb:2,flexShrink:0},children:r.jsx("iframe",{src:a,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",border:"none",borderRadius:"8px"},frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),F&&r.jsx(qt,{icon:r.jsx(Er,{}),severity:"success",sx:{mb:2,flexShrink:0},children:"Set logged! Moving to next..."}),pe()&&r.jsx(qt,{icon:r.jsx(Zi,{}),severity:"info",sx:{mb:2,flexShrink:0,"& .MuiAlert-message":{width:"100%"}},children:r.jsxs(N,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[r.jsxs(P,{variant:"body2",children:[" Try: ",g," lbs  ",y," reps",l&&g>l&&" ( weight)",l&&g===l&&y>u&&" ( reps)"]}),r.jsxs(N,{sx:{display:"flex",gap:1},children:[r.jsx(Ae,{size:"small",onClick:le,variant:"contained",children:"Accept"}),r.jsx(Ae,{size:"small",onClick:()=>ce(!0),variant:"outlined",children:"Skip"})]})]})}),r.jsx(N,{sx:{flex:1,minHeight:{xs:"20px",sm:"40px"}}}),r.jsxs(N,{component:"form",onSubmit:q,sx:{flexShrink:0},children:[r.jsx(N,{sx:{mb:3},children:r.jsx(Px,{weight:R,reps:L,lastWeight:l,lastReps:u,onWeightChange:_,onRepsChange:I,disabled:F})}),r.jsxs(Ie,{direction:"row",spacing:2,children:[p&&r.jsx(Ae,{type:"button",variant:"outlined",onClick:h,disabled:F,startIcon:r.jsx(xh,{}),sx:{minHeight:"44px"},children:"Back"}),r.jsx(Ae,{type:"submit",variant:"contained",fullWidth:!p,disabled:F,endIcon:r.jsx(VC,{}),sx:{minHeight:"44px"},children:F?"Logging...":"Next"})]})]})]})});Ox.displayName="ExerciseCard";Ox.propTypes={exerciseName:D.string.isRequired,setNumber:D.number.isRequired,totalSets:D.number.isRequired,videoUrl:D.string,lastWeight:D.number,lastReps:D.number,onSubmit:D.func.isRequired,onBack:D.func,showBack:D.bool,suggestedWeight:D.number,suggestedReps:D.number,showSuggestions:D.bool,elapsedTime:D.number,currentStep:D.number,totalSteps:D.number,isFavorite:D.bool,onToggleFavorite:D.func,onSkip:D.func,onSwap:D.func,onPartialComplete:D.func,onExit:D.func,showPartialComplete:D.bool};const d9=()=>{const[e,t]=x.useState(0),[s,a]=x.useState(!1);x.useState(()=>{const y=setInterval(()=>{t(b=>b+1)},1e3);return()=>clearInterval(y)},[]);const l=y=>{console.log("Set logged:",y),alert(`Set logged: ${y.weight} lbs  ${y.reps} reps`)},u=()=>{alert("Skip exercise clicked")},d=()=>{alert("Swap exercise clicked")},h=()=>{alert("Partial complete clicked")},p=()=>{alert("Exit clicked")},g=()=>{a(!s)};return r.jsx(jP,{maxWidth:!1,disableGutters:!0,sx:{height:"100vh",overflow:"hidden"},children:r.jsxs(N,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[r.jsx(N,{sx:{position:"fixed",bottom:0,left:0,right:0,height:"60px",bgcolor:"primary.main",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:600},children:"Bottom Navigation (60px)"}),r.jsx(N,{sx:{flex:1,overflow:"auto",pb:"60px"},children:r.jsx(Ox,{exerciseName:"Dumbbell Incline Bench Press",setNumber:2,totalSets:3,lastWeight:65,lastReps:8,suggestedWeight:67.5,suggestedReps:8,showSuggestions:!0,onSubmit:l,showBack:!0,elapsedTime:e,currentStep:5,totalSteps:24,isFavorite:s,onToggleFavorite:g,onSkip:u,onSwap:d,onPartialComplete:h,onExit:p,showPartialComplete:!0})})]})})},i2=({open:e,onClose:t,userId:s})=>{const[a,l]=x.useState(!1),[u,d]=x.useState(null),h=async()=>{if(!s){d("No user ID provided");return}l(!0),d(null);try{const g=Aj(),y=[];g.workout_history&&g.workout_history.length>0&&y.push(Kc(s,g.workout_history)),g.user_stats&&y.push(Ch(s,g.user_stats)),g.exercise_weights&&Object.keys(g.exercise_weights).length>0&&y.push(Xg(s,g.exercise_weights)),g.exercise_target_reps&&Object.keys(g.exercise_target_reps).length>0&&y.push(Zg(s,g.exercise_target_reps)),await Promise.all(y),XS(),l(!1),t(!0)}catch(g){console.error("Error migrating guest data:",g),d("Failed to migrate data. Please try again."),l(!1)}},p=()=>{XS(),t(!1)};return r.jsxs(In,{open:e,onClose:a?void 0:()=>t(!1),maxWidth:"sm",fullWidth:!0,disableEscapeKeyDown:a,PaperProps:{sx:{borderRadius:2}},children:[r.jsx(Kn,{sx:{pb:1},children:r.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(OS,{sx:{color:"primary.main",fontSize:28}}),r.jsx(P,{variant:"h6",component:"span",sx:{fontWeight:600},children:"Save Your Guest Data?"})]})}),r.jsxs(Wn,{children:[r.jsx(P,{variant:"body1",sx:{mb:2},children:"You have workout data from your guest session. Would you like to transfer it to your new account?"}),r.jsx(P,{variant:"body2",sx:{color:"text.secondary"},children:"This will save your workout history, progress, and settings to the cloud."}),u&&r.jsx(P,{variant:"body2",sx:{color:"error.main",mt:2},children:u})]}),r.jsxs(Nn,{sx:{p:2,pt:0},children:[r.jsx(Ae,{onClick:p,disabled:a,variant:"text",sx:{color:"text.secondary"},children:"Skip"}),r.jsx(Ae,{onClick:h,disabled:a,variant:"contained",startIcon:a?r.jsx(Bg,{size:20,color:"inherit"}):r.jsx(OS,{}),sx:{fontWeight:600},children:a?"Migrating...":"Save My Data"})]})]})};i2.propTypes={open:D.bool.isRequired,onClose:D.func.isRequired,userId:D.string};const a2=({color:e,delay:t,startX:s})=>{const a=["#FF6B6B","#4ECDC4","#FFD93D","#6BCB77","#4D96FF","#FF9F9F"],l=e||a[Math.floor(Math.random()*a.length)];return r.jsx(Ke.div,{initial:{top:-20,left:`${s}%`,rotate:0,scale:1},animate:{top:"110vh",left:`${s+(Math.random()*20-10)}%`,rotate:Math.random()*720-360,scale:[1,1.2,.8]},transition:{duration:3+Math.random()*2,delay:t,ease:"easeOut"},style:{position:"fixed",width:Math.random()*10+5+"px",height:Math.random()*10+5+"px",backgroundColor:l,borderRadius:Math.random()>.5?"50%":"0%",zIndex:9999,pointerEvents:"none"}})};a2.propTypes={color:D.string,delay:D.number,startX:D.number};const r2=({active:e=!1,duration:t=3e3,intensity:s=50})=>{const[a,l]=x.useState([]);return x.useEffect(()=>{if(e){const u=Array.from({length:s},(h,p)=>({id:`confetti-${Date.now()}-${p}`,startX:Math.random()*100,delay:Math.random()*.5}));l(u);const d=setTimeout(()=>{l([])},t);return()=>clearTimeout(d)}},[e,t,s]),r.jsx(N,{sx:{position:"fixed",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:9999},children:r.jsx(tl,{children:a.map(u=>r.jsx(a2,{startX:u.startX,delay:u.delay},u.id))})})};r2.propTypes={active:D.bool,duration:D.number,intensity:D.number};const o2=({open:e,onClose:t,achievement:s,onShare:a})=>{const[l,u]=x.useState(!1);if(x.useEffect(()=>{if(e&&s){u(!0);const g=setTimeout(()=>{u(!1)},3e3);return()=>clearTimeout(g)}},[e,s]),!s)return null;const d=Uh[s.tier],h=async()=>{const g=`I just unlocked the "${s.name}" achievement in GoodLift! ${s.icon}

${s.description}`;if(navigator.share)try{await navigator.share({title:"GoodLift Achievement",text:g})}catch(y){y.name!=="AbortError"&&(console.error("Error sharing:",y),p(g))}else p(g);a&&a(s)},p=g=>{navigator.clipboard.writeText(g).then(()=>{alert("Achievement text copied to clipboard!")})};return r.jsxs(r.Fragment,{children:[r.jsx(r2,{active:l}),r.jsxs(In,{open:e,onClose:t,maxWidth:"sm",fullWidth:!0,TransitionComponent:FC,TransitionProps:{direction:"up"},PaperProps:{sx:{borderRadius:3,background:d.gradient,color:d.textColor,overflow:"visible"}},children:[r.jsxs(Wn,{sx:{textAlign:"center",py:4},children:[r.jsx(Ke.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:260,damping:20,delay:.1},children:r.jsx(N,{sx:{width:100,height:100,borderRadius:"50%",bgcolor:"rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px",border:"4px solid rgba(255, 255, 255, 0.3)"},children:r.jsx(Zo,{sx:{fontSize:"4rem",color:"rgba(255, 255, 255, 0.9)"}})})}),r.jsx(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:r.jsx(P,{variant:"h6",sx:{fontWeight:600,mb:2,opacity:.9,letterSpacing:"0.1em",textTransform:"uppercase"},children:"Achievement Unlocked!"})}),r.jsx(Ke.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15,delay:.5},children:r.jsx(P,{variant:"h1",sx:{fontSize:"5rem",mb:2},children:s.icon})}),r.jsx(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:r.jsx(P,{variant:"h4",sx:{fontWeight:700,mb:1},children:s.name})}),r.jsx(Ke.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.9},children:r.jsx(N,{sx:{display:"inline-block",px:2,py:.5,borderRadius:2,bgcolor:"rgba(255, 255, 255, 0.2)",mb:2},children:r.jsx(P,{variant:"caption",sx:{fontWeight:700,letterSpacing:"0.1em",textTransform:"uppercase"},children:s.tier})})}),r.jsx(Ke.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.1},children:r.jsx(P,{variant:"body1",sx:{opacity:.9,maxWidth:"80%",margin:"0 auto"},children:s.description})})]}),r.jsx(Nn,{sx:{justifyContent:"center",pb:3,px:3},children:r.jsxs(Ie,{direction:{xs:"column",sm:"row"},spacing:2,sx:{width:"100%"},children:[r.jsx(Ae,{variant:"contained",onClick:t,fullWidth:!0,sx:{bgcolor:"rgba(255, 255, 255, 0.9)",color:"primary.main","&:hover":{bgcolor:"rgba(255, 255, 255, 1)"}},children:"Awesome!"}),r.jsx(Ae,{variant:"outlined",startIcon:r.jsx(YC,{}),onClick:h,fullWidth:!0,sx:{borderColor:"rgba(255, 255, 255, 0.5)",color:"rgba(255, 255, 255, 0.9)","&:hover":{borderColor:"rgba(255, 255, 255, 0.8)",bgcolor:"rgba(255, 255, 255, 0.1)"}},children:"Share"})]})})]})]})};o2.propTypes={open:D.bool.isRequired,onClose:D.func.isRequired,achievement:D.shape({id:D.string.isRequired,name:D.string.isRequired,description:D.string.isRequired,icon:D.string.isRequired,tier:D.string.isRequired}),onShare:D.func};const h9=()=>{const[e,t]=x.useState(new Set);return x.useEffect(()=>{const s=async()=>{const l=ay(),u=await Qi(),d=new Set;u.forEach(p=>{p.exercises&&Array.isArray(p.exercises)&&p.exercises.forEach(g=>{g&&g["Exercise Name"]&&d.add(g["Exercise Name"])})});const h=new Set([...l,...d]);t(h)};s();const a=setInterval(s,3e4);return()=>clearInterval(a)},[]),e},Xi="v1.0.0-simplify-data-structure",l2="goodlift_migration_version",f9=()=>{try{return tt()?At("migration_version")===Xi:localStorage.getItem(l2)===Xi}catch(e){return console.error("Error checking migration status:",e),!1}},p9=()=>{try{tt()?Ct("migration_version",Xi):localStorage.setItem(l2,Xi),console.log(`Migration ${Xi} completed successfully`)}catch(e){console.error("Error marking migration as completed:",e)}},Ms=e=>{try{if(tt())return At(e);{const t=localStorage.getItem(`goodlift_${e}`);return t?JSON.parse(t):null}}catch(t){return console.error(`Error getting data for ${e}:`,t),null}},cu=(e,t)=>{try{tt()?Ct(e,t):localStorage.setItem(`goodlift_${e}`,JSON.stringify(t))}catch(s){console.error(`Error setting data for ${e}:`,s)}},Rx=e=>{try{tt()?Ct(e,null):localStorage.removeItem(`goodlift_${e}`)}catch(t){console.error(`Error removing data for ${e}:`,t)}},m9=()=>{console.log("Step 1: Migrating workout history...");const e=Ms("workout_history");if(!e||!Array.isArray(e)||e.length===0){console.log("No workout history to migrate");return}let t=0;const s=e.map(a=>{let l=!1;const u={...a};if(u.date&&typeof u.date=="number")u.date=new Date(u.date).toISOString(),l=!0;else if(u.date&&typeof u.date=="string")try{const d=new Date(u.date);isNaN(d.getTime())||(u.date=d.toISOString(),l=!0)}catch{console.warn("Invalid date in workout:",u.date)}return(u.duration===void 0||u.duration===null)&&(u.duration=0,l=!0),!u.type&&u.exercises?.length>0&&(u.type="Workout",l=!0),l&&t++,u});t>0?(cu("workout_history",s),console.log(`Migrated ${t} workout entries`)):console.log("All workout entries already in correct format")},g9=()=>{console.log("Step 2: Archiving yoga sessions...");const e=Ms("yoga_sessions");if(!e||Array.isArray(e)&&e.length===0){console.log("No yoga sessions to archive");return}const t={data:e,archivedAt:new Date().toISOString(),reason:"Yoga feature removed, replaced with stretching/mobility sessions"};cu("archived_yoga_sessions",t),Rx("yoga_sessions"),console.log(`Archived ${Array.isArray(e)?e.length:1} yoga session(s)`)},y9=()=>{console.log("Step 3: Archiving favorite workouts...");const e=Ms("favorite_workouts");if(!e||Array.isArray(e)&&e.length===0){console.log("No favorite workouts to archive");return}const t={data:e,archivedAt:new Date().toISOString(),reason:"Favorite workouts replaced by workout plans feature"};cu("archived_favorite_workouts",t),Rx("favorite_workouts"),console.log(`Archived ${e.length} favorite workout(s)`)},x9=()=>{console.log("Step 4: Cleaning up user stats...");const e=Ms("user_stats");if(!e){console.log("No user stats to clean up");return}let t=!1;"totalYogaTime"in e&&(delete e.totalYogaTime,t=!0,console.log("Removed totalYogaTime from user stats")),Object.entries({totalWorkouts:0,totalTime:0,totalHiitTime:0,totalCardioTime:0,totalStretchTime:0}).forEach(([a,l])=>{a in e||(e[a]=l,t=!0)}),t?(cu("user_stats",e),console.log("Updated user stats structure")):console.log("User stats already clean")},b9=()=>{console.log("Step 5: Validating session data..."),["hiit_sessions","cardio_sessions","stretch_sessions"].forEach(t=>{const s=Ms(t);if(!s||!Array.isArray(s)||s.length===0){console.log(`No ${t} to validate`);return}let a=0;const l=s.map(u=>{let d=!1;const h={...u};return h.id||(h.id=`${Date.now()}-${Math.random().toString(36).substring(2,11)}`,d=!0),h.date||(h.date=Date.now(),d=!0),typeof h.date=="number"&&(h.date=new Date(h.date).toISOString(),d=!0),(h.duration===void 0||h.duration===null)&&(h.duration=0,d=!0),d&&a++,h});a>0&&(cu(t,l),console.log(`Validated ${a} ${t} entries`))})},v9=()=>{console.log("Step 6: Removing orphaned references...");const e=["yoga_settings","yoga_preferences","legacy_favorites"];let t=0;e.forEach(s=>{Ms(s)!==null&&(Rx(s),t++,console.log(`Removed orphaned key: ${s}`))}),console.log(t===0?"No orphaned references found":`Removed ${t} orphaned reference(s)`)},S9=()=>{const e={version:Xi,timestamp:new Date().toISOString(),summary:{workoutHistory:Ms("workout_history")?.length||0,hiitSessions:Ms("hiit_sessions")?.length||0,cardioSessions:Ms("cardio_sessions")?.length||0,stretchSessions:Ms("stretch_sessions")?.length||0,workoutPlans:Ms("workout_plans")?.length||0,archivedYoga:Ms("archived_yoga_sessions")?.data?.length||0,archivedFavoriteWorkouts:Ms("archived_favorite_workouts")?.data?.length||0}};return console.log("Migration Report:",e),e},w9=()=>{if(console.log("=== Starting Data Structure Simplification Migration ==="),console.log(`Version: ${Xi}`),f9())return console.log("Migration already completed, skipping..."),{status:"skipped",reason:"Migration already completed",version:Xi};try{m9(),g9(),y9(),x9(),b9(),v9(),p9();const e=S9();return console.log("=== Migration Completed Successfully ==="),{status:"success",...e}}catch(e){return console.error("Migration failed:",e),{status:"failed",error:e.message,version:Xi}}};function C9(){const[e,t]=x.useState("home"),[s,a]=x.useState([]),[l,u]=x.useState("full"),[d,h]=x.useState(new Set(["all"])),[p,g]=x.useState([]),[y,b]=x.useState(null),[v]=x.useState(!1),[S,T]=x.useState(!1),[k,w]=x.useState({open:!1,message:"",severity:"info"}),[j,E]=x.useState(!1),[M,W]=x.useState(!1),[O,R]=x.useState(null),[_,L]=x.useState(!1),[I,F]=x.useState(!1),[B,z]=x.useState([2,2,2,2]),[ce,U]=x.useState(3),{currentUser:ie,isGuest:V,hasGuestData:q}=Ir(),{generateWorkout:le,allExercises:pe,exerciseDB:ke}=FE(),be=h9();x.useEffect(()=>{(async()=>{try{console.log("Running data structure migration...");const we=w9();we.status==="success"?console.log("Migration completed:",we):we.status==="skipped"?console.log("Migration skipped:",we.reason):console.error("Migration failed:",we)}catch(we){console.error("Error running migration:",we)}})()},[]),x.useEffect(()=>{(async()=>{try{await ZE()}catch(we){console.error("Error cleaning up expired backups:",we)}})()},[]),x.useEffect(()=>{E(V?KR():!1)},[V]),x.useEffect(()=>{ie&&!V&&q&&W(!0)},[ie,V,q]);const Q=async Ee=>{if(W(!1),Ee||Jd(),ie&&ie.uid)try{await Oj(ie.uid)}catch(we){console.error("Error loading user data after migration:",we)}},ee=()=>{QR(),E(!1)};x.useEffect(()=>{const Ee=()=>{if(window.visualViewport){const We=window.visualViewport;document.documentElement.style.setProperty("--viewport-height",`${We.height}px`)}},we=()=>{setTimeout(()=>{window.scrollTo(0,0),Ee()},100)};return window.addEventListener("resize",Ee),window.addEventListener("orientationchange",we),window.visualViewport&&window.visualViewport.addEventListener("resize",Ee),Ee(),()=>{window.removeEventListener("resize",Ee),window.removeEventListener("orientationchange",we),window.visualViewport&&window.visualViewport.removeEventListener("resize",Ee)}},[]),x.useEffect(()=>{if(pe.length>0){const Ee=new Set;pe.forEach(we=>{const We=we.Equipment;We.includes("Cable")?Ee.add("Cable Machine"):We.includes("Dumbbell")?Ee.add("Dumbbells"):Ee.add(We)}),g(Array.from(Ee).sort())}},[pe]);const ue=Ee=>{t(Ee)},me=Ee=>{u(Ee)},ge=Ee=>{if(Ee instanceof Set)h(Ee);else{const we=new Set;we.add(Ee),h(we)}},ae=(Ee,we,We=null,X=[2,2,2,2])=>{z(X);const Te=We||le(Ee,we,X);a(Te),u(Ee),F(!1),T(!0),t("preview")},Y=(Ee,we,We=[2,2,2,2])=>{u(Ee),z(We);const X=We.reduce((De,Me)=>De+Me,0),Te=Array(X).fill(null);a(Te),F(!0),T(!0),t("preview")},oe=(Ee,we,We)=>{Ee&&a(Ee),we&&z(we),We!==void 0&&U(We),T(!1),F(!1),t("workout")},G=()=>{T(!1),F(!1),t("home")},he=x.useCallback((Ee,we)=>{if(!ke||Object.keys(ke).length===0){console.error("Exercise database not available"),w({open:!0,message:"Exercise database not loaded",severity:"error"});return}const We=Ee["Primary Muscle"],X=Ee["Exercise Type"],Te=Ee["Exercise Name"],De=ke[We]||[];let Me=0;const Le=3;let qe=null;for(;Me<Le&&!qe;){Me++;let He=De;const Qe=Array.from(d);Qe.includes("all")||(He=De.filter(Ye=>{const mt=Ye.Equipment;return Qe.some(Pe=>Pe==="Cable Machine"?mt.includes("Cable"):Pe==="Dumbbells"?mt.includes("Dumbbell"):mt.includes(Pe))})),He=He.filter(Ye=>Ye["Exercise Type"]===X);const rt=s.map(Ye=>Ye["Exercise Name"]);let dt=He.filter(Ye=>Ye["Exercise Name"]!==Te&&!rt.includes(Ye["Exercise Name"]));if(dt.length===0&&(dt=He.filter(Ye=>Ye["Exercise Name"]!==Te)),dt.length===0)continue;const bt=[...dt];dt.forEach(Ye=>{be.has(Ye["Exercise Name"])&&bt.push(Ye)}),qe=bt[Math.floor(Math.random()*bt.length)]}if(!qe){w({open:!0,message:"No alternative exercises available",severity:"warning"});return}const xt=[...s];xt[we]=qe,a(xt)},[ke,s,d,be]),ve=x.useCallback((Ee,we)=>{if(we?.toLowerCase().includes("bodyweight")||we?.toLowerCase().includes("body weight"))return 0;const We=we.includes("Dumbbell")||we.includes("Kettlebell"),X=we?.toLowerCase().includes("barbell");return Md.UPPER_BODY.includes(Ee)?X?Oa.UPPER_BODY.BARBELL:Oa.UPPER_BODY.DUMBBELL:Md.LOWER_BODY.includes(Ee)?X?Oa.LOWER_BODY.BARBELL:We?Oa.LOWER_BODY.DUMBBELL:5:2.5},[]),Oe=x.useCallback((Ee,we)=>{if(we?.toLowerCase().includes("bodyweight")||we?.toLowerCase().includes("body weight"))return 0;const We=we.includes("Dumbbell")||we.includes("Kettlebell"),X=we?.toLowerCase().includes("barbell");return Md.UPPER_BODY.includes(Ee)?X?Oa.UPPER_BODY.BARBELL:Oa.UPPER_BODY.DUMBBELL:Md.LOWER_BODY.includes(Ee)?X?Oa.LOWER_BODY.BARBELL:We?Oa.LOWER_BODY.DUMBBELL:5:2.5},[]),fe=x.useCallback(async Ee=>{const we=[],We=[];let X=0;for(const[Me,Le]of Object.entries(Ee.exercises)){const qe=Le.sets[Le.sets.length-1];for(const xt of Le.sets)xt.weight>0&&xt.reps>0&&(X+=xt.weight*xt.reps);if(qe?.weight>0){const xt=await Ki(Me);if(Le.sets.every(Qe=>Qe.reps>=xt)&&Le.sets.length>=L1){const Qe=s.find(rt=>rt["Exercise Name"]===Me);if(Qe){const rt=Qe["Primary Muscle"].split("(")[0].trim(),dt=ve(rt,Qe.Equipment);if(dt>0){const bt=qe.weight+dt;await Gi(Me,bt),we.push({exercise:Me,oldWeight:qe.weight,newWeight:bt,increase:dt}),await l_()}}}else if(h7(Le.sets,xt,L1)){const rt=s.find(dt=>dt["Exercise Name"]===Me);if(rt){const dt=rt["Primary Muscle"].split("(")[0].trim(),bt=Oe(dt,rt.Equipment);if(bt>0&&qe.weight>bt){const Ye=qe.weight-bt;await Gi(Me,Ye),We.push({exercise:Me,oldWeight:qe.weight,newWeight:Ye,decrease:bt})}else await Gi(Me,qe.weight)}else await Gi(Me,qe.weight)}else await Gi(Me,qe.weight)}}if(X>0&&await c_(X),we.length>0){const Me=we.map(Le=>`${Le.exercise}: ${Le.oldWeight}  ${Le.newWeight} lbs (+${Le.increase} lbs)`);w({open:!0,message:` Progressive Overload! You hit your target reps!

${Me.join(`
`)}`,severity:"success"})}else if(We.length>0){const Me=We.map(Le=>`${Le.exercise}: ${Le.oldWeight}  ${Le.newWeight} lbs (-${Le.decrease} lbs)`);w({open:!0,message:` Weight adjusted for next session. Keep pushing!

${Me.join(`
`)}`,severity:"info"})}const Te={...Ee,type:l};await ny(Te);const De=await Xc();De.totalWorkouts+=1,De.totalTime+=Ee.duration,await sy(De);try{const Me=await Wj(),Le=await ci(),qe=y7(De,Le,Me);if(qe.length>0){for(const xt of qe)await o_(xt.id);R(qe[0]),L(!0)}}catch(Me){console.error("Error checking achievements:",Me)}b(Te),t("completion")},[l,s,ve,Oe]),te=()=>{t("home")},J=()=>{t("home")},Re=()=>{if(!y)return;let we="data:text/csv;charset=utf-8,"+["Date","WorkoutType","Duration","Exercise","Set","Weight","Reps"].join(",")+`
`;for(const Te in y.exercises)y.exercises[Te].sets.forEach(Me=>{const Le=[new Date(y.date).toLocaleString(),y.type,y.duration,Te,Me.set,Me.weight,Me.reps];we+=Le.join(",")+`
`});const We=encodeURI(we),X=document.createElement("a");X.setAttribute("href",We),X.setAttribute("download",`GoodLift_Workout_${new Date(y.date).toISOString().split("T")[0]}.csv`),document.body.appendChild(X),X.click(),document.body.removeChild(X)},{theme:Fe}=UE();return ie?r.jsxs(RS,{theme:Fe,children:[r.jsx(_S,{}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[r.jsx(ck,{onNavigate:ue}),r.jsxs("div",{id:"app",style:{flex:1,marginTop:"60px",paddingBottom:"80px"},children:[e==="home"&&r.jsx(SE,{onNavigate:ue,loading:v,workoutType:l,selectedEquipment:d,equipmentOptions:p,onWorkoutTypeChange:me,onEquipmentChange:ge,onStartWorkout:ae,onCustomize:Y}),e==="selection"&&r.jsx(Cx,{workoutType:l,selectedEquipment:d,equipmentOptions:p,onWorkoutTypeChange:me,onEquipmentChange:ge,onStartWorkout:ae,onCustomize:Y,loading:v}),e==="preview"&&S&&r.jsx(kx,{workout:s,workoutType:l,onStart:oe,onCancel:G,onRandomizeExercise:he,equipmentFilter:Array.from(d),isCustomizeMode:I,supersetConfig:B,setsPerSuperset:ce}),e==="workout"&&s.length>0&&r.jsx(jE,{workoutPlan:s,onComplete:fe,onExit:te,supersetConfig:B,setsPerSuperset:ce}),e==="completion"&&y&&r.jsx(Tx,{workoutData:y,workoutPlan:s,onFinish:J,onExportCSV:Re}),e==="progress"&&r.jsx(zE,{onNavigate:ue,onStartWorkout:ae}),(e==="cardio"||e==="hiit"||e==="timer")&&r.jsx(dx,{onNavigate:ue}),e==="log-activity"&&r.jsx(wx,{onNavigate:ue}),(e==="stretch"||e==="mobility")&&r.jsx(R7,{}),e==="exercise-list"&&r.jsx(I7,{}),e==="settings"&&r.jsx(JE,{onNavigate:ue}),e==="profile"&&r.jsx(l9,{}),e==="edit-weekly-schedule"&&r.jsx(s2,{onNavigate:ue}),e==="exercise-card-demo"&&r.jsx(d9,{})]}),r.jsx(qy,{currentScreen:e,onNavigate:ue}),r.jsx(i2,{open:M,onClose:Q,userId:ie?.uid}),r.jsx(o2,{open:_,onClose:()=>{L(!1),R(null)},achievement:O}),r.jsx(Qs,{open:j,anchorOrigin:{vertical:"bottom",horizontal:"center"},sx:{bottom:{xs:80,sm:24}},children:r.jsx(qt,{severity:"info",onClose:ee,action:r.jsx(Ae,{color:"inherit",size:"small",onClick:()=>t("progress"),sx:{fontWeight:600},children:"Sign Up"}),sx:{width:"100%",maxWidth:"600px","& .MuiAlert-message":{fontSize:"0.95rem",fontWeight:500}},children:"You're in guest mode. Sign up to save your data permanently!"})}),r.jsx(Qs,{open:k.open,autoHideDuration:8e3,onClose:()=>w({...k,open:!1}),anchorOrigin:{vertical:"top",horizontal:"center"},children:r.jsx(qt,{onClose:()=>w({...k,open:!1}),severity:k.severity,sx:{whiteSpace:"pre-line","& .MuiAlert-message":{fontSize:"1rem",fontWeight:500}},children:k.message})})]})]}):r.jsxs(RS,{theme:Fe,children:[r.jsx(_S,{}),r.jsx(M7,{})]})}function j9(){return r.jsx(qE,{children:r.jsx(C9,{})})}var qh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},k9={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},T9=class{#e=k9;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},Mg=new T9;function D9(e){setTimeout(e,0)}var Yh=typeof window>"u"||"Deno"in globalThis;function ii(){}function E9(e,t){return typeof e=="function"?e(t):e}function M9(e){return typeof e=="number"&&e>=0&&e!==1/0}function A9(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ag(e,t){return typeof e=="function"?e(t):e}function P9(e,t){return typeof e=="function"?e(t):e}function SC(e,t){const{type:s="all",exact:a,fetchStatus:l,predicate:u,queryKey:d,stale:h}=e;if(d){if(a){if(t.queryHash!==_x(d,t.options))return!1}else if(!qc(t.queryKey,d))return!1}if(s!=="all"){const p=t.isActive();if(s==="active"&&!p||s==="inactive"&&p)return!1}return!(typeof h=="boolean"&&t.isStale()!==h||l&&l!==t.state.fetchStatus||u&&!u(t))}function wC(e,t){const{exact:s,status:a,predicate:l,mutationKey:u}=e;if(u){if(!t.options.mutationKey)return!1;if(s){if(Uc(t.options.mutationKey)!==Uc(u))return!1}else if(!qc(t.options.mutationKey,u))return!1}return!(a&&t.state.status!==a||l&&!l(t))}function _x(e,t){return(t?.queryKeyHashFn||Uc)(e)}function Uc(e){return JSON.stringify(e,(t,s)=>Pg(s)?Object.keys(s).sort().reduce((a,l)=>(a[l]=s[l],a),{}):s)}function qc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>qc(e[s],t[s])):!1}var O9=Object.prototype.hasOwnProperty;function c2(e,t){if(e===t)return e;const s=CC(e)&&CC(t);if(!s&&!(Pg(e)&&Pg(t)))return t;const l=(s?e:Object.keys(e)).length,u=s?t:Object.keys(t),d=u.length,h=s?new Array(d):{};let p=0;for(let g=0;g<d;g++){const y=s?g:u[g],b=e[y],v=t[y];if(b===v){h[y]=b,(s?g<l:O9.call(e,y))&&p++;continue}if(b===null||v===null||typeof b!="object"||typeof v!="object"){h[y]=v;continue}const S=c2(b,v);h[y]=S,S===b&&p++}return l===d&&p===l?e:h}function CC(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Pg(e){if(!jC(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!jC(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function jC(e){return Object.prototype.toString.call(e)==="[object Object]"}function R9(e){return new Promise(t=>{Mg.setTimeout(t,e)})}function _9(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?c2(e,t):t}function I9(e,t,s=0){const a=[...e,t];return s&&a.length>s?a.slice(1):a}function W9(e,t,s=0){const a=[t,...e];return s&&a.length>s?a.slice(0,-1):a}var Ix=Symbol();function u2(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Ix?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var N9=class extends qh{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Yh&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},d2=new N9;function L9(){let e,t;const s=new Promise((l,u)=>{e=l,t=u});s.status="pending",s.catch(()=>{});function a(l){Object.assign(s,l),delete s.resolve,delete s.reject}return s.resolve=l=>{a({status:"fulfilled",value:l}),e(l)},s.reject=l=>{a({status:"rejected",reason:l}),t(l)},s}var z9=D9;function B9(){let e=[],t=0,s=h=>{h()},a=h=>{h()},l=z9;const u=h=>{t?e.push(h):l(()=>{s(h)})},d=()=>{const h=e;e=[],h.length&&l(()=>{a(()=>{h.forEach(p=>{s(p)})})})};return{batch:h=>{let p;t++;try{p=h()}finally{t--,t||d()}return p},batchCalls:h=>(...p)=>{u(()=>{h(...p)})},schedule:u,setNotifyFunction:h=>{s=h},setBatchNotifyFunction:h=>{a=h},setScheduler:h=>{l=h}}}var is=B9(),V9=class extends qh{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Yh&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},ph=new V9;function F9(e){return Math.min(1e3*2**e,3e4)}function h2(e){return(e??"online")==="online"?ph.isOnline():!0}var Og=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function f2(e){let t=!1,s=0,a;const l=L9(),u=()=>l.status!=="pending",d=k=>{if(!u()){const w=new Og(k);v(w),e.onCancel?.(w)}},h=()=>{t=!0},p=()=>{t=!1},g=()=>d2.isFocused()&&(e.networkMode==="always"||ph.isOnline())&&e.canRun(),y=()=>h2(e.networkMode)&&e.canRun(),b=k=>{u()||(a?.(),l.resolve(k))},v=k=>{u()||(a?.(),l.reject(k))},S=()=>new Promise(k=>{a=w=>{(u()||g())&&k(w)},e.onPause?.()}).then(()=>{a=void 0,u()||e.onContinue?.()}),T=()=>{if(u())return;let k;const w=s===0?e.initialPromise:void 0;try{k=w??e.fn()}catch(j){k=Promise.reject(j)}Promise.resolve(k).then(b).catch(j=>{if(u())return;const E=e.retry??(Yh?0:3),M=e.retryDelay??F9,W=typeof M=="function"?M(s,j):M,O=E===!0||typeof E=="number"&&s<E||typeof E=="function"&&E(s,j);if(t||!O){v(j);return}s++,e.onFail?.(s,j),R9(W).then(()=>g()?void 0:S()).then(()=>{t?v(j):T()})})};return{promise:l,status:()=>l.status,cancel:d,continue:()=>(a?.(),l),cancelRetry:h,continueRetry:p,canStart:y,start:()=>(y()?T():S().then(T),l)}}var p2=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),M9(this.gcTime)&&(this.#e=Mg.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Yh?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Mg.clearTimeout(this.#e),this.#e=void 0)}},H9=class extends p2{#e;#t;#n;#i;#s;#r;#o;constructor(e){super(),this.#o=!1,this.#r=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=TC(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){if(this.options={...this.#r,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=TC(this.options);t.data!==void 0&&(this.setState(kC(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const s=_9(this.state.data,e,this.options);return this.#a({data:s,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),s}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#s?.promise;return this.#s?.cancel(e),t?t.then(ii).catch(ii):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>P9(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ix||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ag(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!A9(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#o=!0,s.signal)})},l=()=>{const h=u2(this.options,t),g=(()=>{const y={client:this.#i,queryKey:this.queryKey,meta:this.meta};return a(y),y})();return this.#o=!1,this.options.persister?this.options.persister(h,g,this):h(g)},d=(()=>{const h={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:l};return a(h),h})();this.options.behavior?.onFetch(d,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#a({type:"fetch",meta:d.fetchOptions?.meta}),this.#s=f2({initialPromise:t?.initialPromise,fn:d.fetchFn,onCancel:h=>{h instanceof Og&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(h,p)=>{this.#a({type:"failed",failureCount:h,error:p})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0});try{const h=await this.#s.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof Og){if(h.silent)return this.#s.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#a({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#a(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...U9(s.data,this.options),fetchMeta:e.meta??null};case"success":const a={...s,...kC(e.data,e.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?a:void 0,a;case"error":const l=e.error;return{...s,error:l,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),is.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function U9(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:h2(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function kC(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function TC(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,a=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}function DC(e){return{onFetch:(t,s)=>{const a=t.options,l=t.fetchOptions?.meta?.fetchMore?.direction,u=t.state.data?.pages||[],d=t.state.data?.pageParams||[];let h={pages:[],pageParams:[]},p=0;const g=async()=>{let y=!1;const b=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},v=u2(t.options,t.fetchOptions),S=async(T,k,w)=>{if(y)return Promise.reject();if(k==null&&T.pages.length)return Promise.resolve(T);const E=(()=>{const R={client:t.client,queryKey:t.queryKey,pageParam:k,direction:w?"backward":"forward",meta:t.options.meta};return b(R),R})(),M=await v(E),{maxPages:W}=t.options,O=w?W9:I9;return{pages:O(T.pages,M,W),pageParams:O(T.pageParams,k,W)}};if(l&&u.length){const T=l==="backward",k=T?q9:EC,w={pages:u,pageParams:d},j=k(a,w);h=await S(w,j,T)}else{const T=e??u.length;do{const k=p===0?d[0]??a.initialPageParam:EC(a,h);if(p>0&&k==null)break;h=await S(h,k),p++}while(p<T)}return h};t.options.persister?t.fetchFn=()=>t.options.persister?.(g,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s):t.fetchFn=g}}}function EC(e,{pages:t,pageParams:s}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,s[a],s):void 0}function q9(e,{pages:t,pageParams:s}){return t.length>0?e.getPreviousPageParam?.(t[0],t,s[0],s):void 0}var Y9=class extends p2{#e;#t;#n;#i;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||G9(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#s({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=f2({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(u,d)=>{this.#s({type:"failed",failureCount:u,error:d})},onPause:()=>{this.#s({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const a=this.state.status==="pending",l=!this.#i.canStart();try{if(a)t();else{this.#s({type:"pending",variables:e,isPaused:l}),await this.#n.config.onMutate?.(e,this,s);const d=await this.options.onMutate?.(e,s);d!==this.state.context&&this.#s({type:"pending",context:d,variables:e,isPaused:l})}const u=await this.#i.start();return await this.#n.config.onSuccess?.(u,e,this.state.context,this,s),await this.options.onSuccess?.(u,e,this.state.context,s),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(u,null,e,this.state.context,s),this.#s({type:"success",data:u}),u}catch(u){try{throw await this.#n.config.onError?.(u,e,this.state.context,this,s),await this.options.onError?.(u,e,this.state.context,s),await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(void 0,u,e,this.state.context,s),u}finally{this.#s({type:"error",error:u})}}finally{this.#n.runNext(this)}}#s(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),is.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function G9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $9=class extends qh{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,s){const a=new Y9({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:s});return this.add(a),a}add(e){this.#e.add(e);const t=Nd(e);if(typeof t=="string"){const s=this.#t.get(t);s?s.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Nd(e);if(typeof t=="string"){const s=this.#t.get(t);if(s)if(s.length>1){const a=s.indexOf(e);a!==-1&&s.splice(a,1)}else s[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Nd(e);if(typeof t=="string"){const a=this.#t.get(t)?.find(l=>l.state.status==="pending");return!a||a===e}else return!0}runNext(e){const t=Nd(e);return typeof t=="string"?this.#t.get(t)?.find(a=>a!==e&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){is.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(s=>wC(t,s))}findAll(e={}){return this.getAll().filter(t=>wC(e,t))}notify(e){is.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return is.batch(()=>Promise.all(e.map(t=>t.continue().catch(ii))))}};function Nd(e){return e.options.scope?.id}var K9=class extends qh{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,s){const a=t.queryKey,l=t.queryHash??_x(a,t);let u=this.get(l);return u||(u=new H9({client:e,queryKey:a,queryHash:l,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(a)}),this.add(u)),u}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){is.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>SC(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>SC(e,s)):t}notify(e){is.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){is.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){is.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Q9=class{#e;#t;#n;#i;#s;#r;#o;#a;constructor(e={}){this.#e=e.queryCache||new K9,this.#t=e.mutationCache||new $9,this.#n=e.defaultOptions||{},this.#i=new Map,this.#s=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#o=d2.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=ph.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=this.#e.build(this,t),a=s.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Ag(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:s})=>{const a=s.data;return[t,a]})}setQueryData(e,t,s){const a=this.defaultQueryOptions({queryKey:e}),u=this.#e.get(a.queryHash)?.state.data,d=E9(t,u);if(d!==void 0)return this.#e.build(this,a).setData(d,{...s,manual:!0})}setQueriesData(e,t,s){return is.batch(()=>this.#e.findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,s)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;is.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=this.#e;return is.batch(()=>(s.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},a=is.batch(()=>this.#e.findAll(e).map(l=>l.cancel(s)));return Promise.all(a).then(ii).catch(ii)}invalidateQueries(e,t={}){return is.batch(()=>(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},a=is.batch(()=>this.#e.findAll(e).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let u=l.fetch(void 0,s);return s.throwOnError||(u=u.catch(ii)),l.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(a).then(ii)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=this.#e.build(this,t);return s.isStaleByTime(Ag(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ii).catch(ii)}fetchInfiniteQuery(e){return e.behavior=DC(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ii).catch(ii)}ensureInfiniteQueryData(e){return e.behavior=DC(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ph.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#i.set(Uc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#i.values()],s={};return t.forEach(a=>{qc(e,a.queryKey)&&Object.assign(s,a.defaultOptions)}),s}setMutationDefaults(e,t){this.#s.set(Uc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#s.values()],s={};return t.forEach(a=>{qc(e,a.mutationKey)&&Object.assign(s,a.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=_x(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ix&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},X9=x.createContext(void 0),Z9=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(X9.Provider,{value:e,children:t}));function J9(e){const t="=".repeat((4-e.length%4)%4),s=(e+t).replace(/-/g,"+").replace(/_/g,"/"),a=window.atob(s),l=new Uint8Array(a.length);for(let u=0;u<a.length;++u)l[u]=a.charCodeAt(u);return l}async function eq(e){try{if(!("serviceWorker"in navigator))return console.warn("[Push Notifications] Service workers are not supported in this browser"),null;if(!("PushManager"in window))return console.warn("[Push Notifications] Push notifications are not supported in this browser"),null;if(console.log("[Push Notifications] Requesting notification permission..."),await Notification.requestPermission()!=="granted")return console.warn("[Push Notifications] Notification permission denied by user"),null;console.log("[Push Notifications] Notification permission granted"),console.log("[Push Notifications] Waiting for service worker to be ready...");const s=await navigator.serviceWorker.ready;console.log("[Push Notifications] Service worker is ready");const a=J9(e);console.log("[Push Notifications] Subscribing to push notifications...");const l=await s.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:a});return console.log("[Push Notifications]  Successfully subscribed to push notifications!"),console.log("[Push Notifications]  Subscription object:"),console.log(JSON.stringify(l,null,2)),console.log(`
[Push Notifications]  To enable push notifications:`),console.log("1. Send this subscription object to your backend server"),console.log("2. Store it in your database associated with this user"),console.log("3. Use it to send push notifications via web-push library or similar"),console.log(`
Example backend code (Node.js with web-push):`),console.log('const webpush = require("web-push");'),console.log('webpush.sendNotification(subscription, "Your notification message");'),l}catch(t){return console.error("[Push Notifications]  Error subscribing to push notifications:",t),console.error("[Push Notifications] Error details:",t.message),null}}async function tq(){try{return!("serviceWorker"in navigator)||!("PushManager"in window)?null:await(await navigator.serviceWorker.ready).pushManager.getSubscription()}catch(e){return console.error("[Push Notifications] Error checking existing subscription:",e),null}}const nq="BE0ZQSJHIlmXfeA5ddjITNrqrS0TmGfGGQjBufmOlUKxRUtEwja2qHmTZ0pXHepJzGV2qcwH0gJ_D6ot6cWGB6w";async function sq(){try{console.log("[Push Init] Initializing push notification subscription..."),console.log("[Push Init] Setting up both Firebase Cloud Messaging and native Web Push API"),console.log("[Push Init] Step 1: Getting Firebase Cloud Messaging token..."),await G7()?(console.log("[Push Init]  Firebase Cloud Messaging initialized"),console.log("[Push Init] You can use this FCM token to send notifications via Firebase Admin SDK")):console.log("[Push Init]  Firebase Cloud Messaging not available (may not be supported in this browser)"),console.log("[Push Init] Step 2: Setting up native Web Push API subscription...");const t=await tq();if(t)console.log("[Push Init]  Native Web Push: Already subscribed"),console.log("[Push Init] Existing subscription:",JSON.stringify(t,null,2));else{console.log("[Push Init] Native Web Push: No existing subscription, creating new subscription...");const s=await eq(nq);console.log(s?"[Push Init]  Native Web Push: Subscription created successfully":"[Push Init]  Native Web Push: Subscription not created (user may have denied permission)")}console.log(`
[Push Init] `),console.log("[Push Init]  Push notification setup complete!"),console.log("[Push Init] "),console.log("[Push Init] You now have two ways to send push notifications:"),console.log("[Push Init] 1  Firebase Cloud Messaging (FCM):"),console.log("[Push Init]     - Use the FCM token logged above"),console.log("[Push Init]     - Send via Firebase Admin SDK or FCM REST API"),console.log("[Push Init]     - Background messages handled by firebase-messaging-sw.js"),console.log("[Push Init] 2  Native Web Push API:"),console.log("[Push Init]     - Use the subscription object logged above"),console.log("[Push Init]     - Send via web-push library or any Web Push service"),console.log("[Push Init]     - Push events handled by service-worker.js"),console.log(`[Push Init] 
`)}catch(e){console.error("[Push Init] Error initializing push notifications:",e)}}const iq=new Q9;"serviceWorker"in navigator&&"PushManager"in window&&window.addEventListener("load",()=>{sq()});sO.createRoot(document.getElementById("root")).render(r.jsx(Na.StrictMode,{children:r.jsx(Z9,{client:iq,children:r.jsx(Bj,{children:r.jsx(GE,{children:r.jsx(LE,{children:r.jsx(lk,{children:r.jsx(j9,{})})})})})})}))});export default aq();
