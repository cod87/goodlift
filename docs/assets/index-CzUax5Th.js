var GM=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import{P as Y,j as a,B as q,T as Jn,I as ut,V as A1,a as sg,D as ns,b as ys,W as $M,c as I,d as ss,e as rs,f as xe,C as Je,g as uc,h as jd,A as QM,F as yn,S as O1,i as Ee,k as _l,l as Ie,m as Le,n as Po,o as Fn,L as KM,p as Ys,q as XM,r as Dr,s as bt,t as vt,u as St,M as be,E as rg,G as $e,v as Fo,w as nr,x as ra,y as et,z as ZM,H as yi,J as Nn,K as Er,N as Ws,O as Wd,Q as JM,R as ek,U as tk,X as Ot,Y as hi,Z as nk,_ as R1,$ as sk,a0 as rk,a1 as Mr,a2 as I1,a3 as B1,a4 as ik,a5 as Yd,a6 as Mc,a7 as ak,a8 as Ao,a9 as L1,aa as ok,ab as lk,ac as ck,ad as xi,ae as Dd,af as uk,ag as dk,ah as am,ai as ig,aj as N1,ak as ag,al as fk,am as hk,an as F1,ao as H1,ap as _1,aq as po,ar as Qt,as as z1,at as pk,au as mk,av as gk,aw as Ho,ax as yk,ay as og,az as lg,aA as kc,aB as om,aC as xk,aD as kp,aE as V1,aF as sd,aG as bk,aH as bd,aI as vk,aJ as Z,aK as tt,aL as Jt,aM as Sn,aN as wn,aO as Br,aP as He,aQ as Rn,aR as rn,aS as pa,aT as Ae,aU as Zl,aV as ts,aW as Ud,aX as Sk,aY as wk,aZ as Et,a_ as Tk,a$ as W1,b0 as Oo,b1 as kr,b2 as cg,b3 as Co,b4 as Si,b5 as Y1,b6 as Ck,b7 as jk,b8 as Js,b9 as fi,ba as U1,bb as q1,bc as Dk,bd as Ro,be as Ek,bf as G1,bg as Hv,bh as Mk,bi as rd,bj as kk,bk as Pk,bl as Ak,bm as Ok,bn as Rk,bo as Ik,bp as Bk,bq as _v,br as zv,bs as Vv}from"./mui-Dv6ek2pv.js";import{d as Lk,e as Nk,g as $1,a as pi,r as x}from"./vendor-CsU6LQgQ.js";import{i as Fk,g as Hk,a as _k,d as ia,s as qd,b as ug,o as zk,c as Vk,e as Wk,f as Yk}from"./firebase-Oo_YHxoL.js";var yY=GM((ms,gs)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function s(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=s(l);fetch(l.href,u)}})();var Pp={exports:{}},zl={},Ap={exports:{}},Op={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function Uk(){return Wv||(Wv=1,(function(e){function t(B,O){var Q=B.length;B.push(O);e:for(;0<Q;){var ee=Q-1>>>1,ye=B[ee];if(0<l(ye,O))B[ee]=O,B[Q]=ye,Q=ee;else break e}}function s(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var O=B[0],Q=B.pop();if(Q!==O){B[0]=Q;e:for(var ee=0,ye=B.length,ue=ye>>>1;ee<ue;){var de=2*(ee+1)-1,we=B[de],De=de+1,Me=B[De];if(0>l(we,Q))De<ye&&0>l(Me,we)?(B[ee]=Me,B[De]=Q,ee=De):(B[ee]=we,B[de]=Q,ee=de);else if(De<ye&&0>l(Me,Q))B[ee]=Me,B[De]=Q,ee=De;else break e}}return O}function l(B,O){var Q=B.sortIndex-O.sortIndex;return Q!==0?Q:B.id-O.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var d=Date,f=d.now();e.unstable_now=function(){return d.now()-f}}var p=[],g=[],y=1,v=null,b=3,S=!1,T=!1,D=!1,j=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function A(B){for(var O=s(g);O!==null;){if(O.callback===null)i(g);else if(O.startTime<=B)i(g),O.sortIndex=O.expirationTime,t(p,O);else break;O=s(g)}}function N(B){if(D=!1,A(B),!T)if(s(p)!==null)T=!0,z||(z=!0,M());else{var O=s(g);O!==null&&_(N,O.startTime-B)}}var z=!1,P=-1,F=5,H=-1;function L(){return j?!0:!(e.unstable_now()-H<F)}function W(){if(j=!1,z){var B=e.unstable_now();H=B;var O=!0;try{e:{T=!1,D&&(D=!1,E(P),P=-1),S=!0;var Q=b;try{t:{for(A(B),v=s(p);v!==null&&!(v.expirationTime>B&&L());){var ee=v.callback;if(typeof ee=="function"){v.callback=null,b=v.priorityLevel;var ye=ee(v.expirationTime<=B);if(B=e.unstable_now(),typeof ye=="function"){v.callback=ye,A(B),O=!0;break t}v===s(p)&&i(p),A(B)}else i(p);v=s(p)}if(v!==null)O=!0;else{var ue=s(g);ue!==null&&_(N,ue.startTime-B),O=!1}}break e}finally{v=null,b=Q,S=!1}O=void 0}}finally{O?M():z=!1}}}var M;if(typeof k=="function")M=function(){k(W)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,V=U.port2;U.port1.onmessage=W,M=function(){V.postMessage(null)}}else M=function(){C(W,0)};function _(B,O){P=C(function(){B(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(B){switch(b){case 1:case 2:case 3:var O=3;break;default:O=b}var Q=b;b=O;try{return B()}finally{b=Q}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(B,O){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Q=b;b=B;try{return O()}finally{b=Q}},e.unstable_scheduleCallback=function(B,O,Q){var ee=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ee+Q:ee):Q=ee,B){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=Q+ye,B={id:y++,callback:O,priorityLevel:B,startTime:Q,expirationTime:ye,sortIndex:-1},Q>ee?(B.sortIndex=Q,t(g,B),s(p)===null&&B===s(g)&&(D?(E(P),P=-1):D=!0,_(N,Q-ee))):(B.sortIndex=ye,t(p,B),T||S||(T=!0,z||(z=!0,M()))),B},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(B){var O=b;return function(){var Q=b;b=O;try{return B.apply(this,arguments)}finally{b=Q}}}})(Op)),Op}var Yv;function qk(){return Yv||(Yv=1,Ap.exports=Uk()),Ap.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function Gk(){if(Uv)return zl;Uv=1;var e=qk(),t=Lk(),s=Nk();function i(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function d(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function f(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function p(n){if(u(n)!==n)throw Error(i(188))}function g(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(i(188));return r!==n?null:n}for(var o=n,c=r;;){var h=o.return;if(h===null)break;var m=h.alternate;if(m===null){if(c=h.return,c!==null){o=c;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===o)return p(h),n;if(m===c)return p(h),r;m=m.sibling}throw Error(i(188))}if(o.return!==c.return)o=h,c=m;else{for(var w=!1,R=h.child;R;){if(R===o){w=!0,o=h,c=m;break}if(R===c){w=!0,c=h,o=m;break}R=R.sibling}if(!w){for(R=m.child;R;){if(R===o){w=!0,o=m,c=h;break}if(R===c){w=!0,c=m,o=h;break}R=R.sibling}if(!w)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?n:r}function y(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=y(n),r!==null)return r;n=n.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),k=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function M(n){return n===null||typeof n!="object"?null:(n=W&&n[W]||n["@@iterator"],typeof n=="function"?n:null)}var U=Symbol.for("react.client.reference");function V(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===U?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case D:return"Fragment";case C:return"Profiler";case j:return"StrictMode";case N:return"Suspense";case z:return"SuspenseList";case H:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case T:return"Portal";case k:return n.displayName||"Context";case E:return(n._context.displayName||"Context")+".Consumer";case A:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case P:return r=n.displayName||null,r!==null?r:V(n.type)||"Memo";case F:r=n._payload,n=n._init;try{return V(n(r))}catch{}}return null}var _=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},ee=[],ye=-1;function ue(n){return{current:n}}function de(n){0>ye||(n.current=ee[ye],ee[ye]=null,ye--)}function we(n,r){ye++,ee[ye]=n.current,n.current=r}var De=ue(null),Me=ue(null),We=ue(null),Ue=ue(null);function st(n,r){switch(we(We,r),we(Me,n),we(De,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?lv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=lv(r),n=cv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}de(De),we(De,n)}function _e(){de(De),de(Me),de(We)}function ke(n){n.memoizedState!==null&&we(Ue,n);var r=De.current,o=cv(r,n.type);r!==o&&(we(Me,n),we(De,o))}function Te(n){Me.current===n&&(de(De),de(Me)),Ue.current===n&&(de(Ue),Ll._currentValue=Q)}var je,Ne;function le(n){if(je===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);je=r&&r[1]||"",Ne=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+je+n+Ne}var Ce=!1;function te(n,r){if(!n||Ce)return"";Ce=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(ae){var ie=ae}Reflect.construct(n,[],pe)}else{try{pe.call()}catch(ae){ie=ae}n.call(pe.prototype)}}else{try{throw Error()}catch(ae){ie=ae}(pe=n())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(ae){if(ae&&ie&&typeof ae.stack=="string")return[ae.stack,ie.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),w=m[0],R=m[1];if(w&&R){var G=w.split(`
`),re=R.split(`
`);for(h=c=0;c<G.length&&!G[c].includes("DetermineComponentFrameRoot");)c++;for(;h<re.length&&!re[h].includes("DetermineComponentFrameRoot");)h++;if(c===G.length||h===re.length)for(c=G.length-1,h=re.length-1;1<=c&&0<=h&&G[c]!==re[h];)h--;for(;1<=c&&0<=h;c--,h--)if(G[c]!==re[h]){if(c!==1||h!==1)do if(c--,h--,0>h||G[c]!==re[h]){var ce=`
`+G[c].replace(" at new "," at ");return n.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",n.displayName)),ce}while(1<=c&&0<=h);break}}}finally{Ce=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?le(o):""}function ve(n,r){switch(n.tag){case 26:case 27:case 5:return le(n.type);case 16:return le("Lazy");case 13:return n.child!==r&&r!==null?le("Suspense Fallback"):le("Suspense");case 19:return le("SuspenseList");case 0:case 15:return te(n.type,!1);case 11:return te(n.type.render,!1);case 1:return te(n.type,!0);case 31:return le("Activity");default:return""}}function ne(n){try{var r="",o=null;do r+=ve(n,o),o=n,n=n.return;while(n);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var oe=Object.prototype.hasOwnProperty,$=e.unstable_scheduleCallback,ge=e.unstable_cancelCallback,K=e.unstable_shouldYield,fe=e.unstable_requestPaint,me=e.unstable_now,Se=e.unstable_getCurrentPriorityLevel,Oe=e.unstable_ImmediatePriority,Qe=e.unstable_UserBlockingPriority,ot=e.unstable_NormalPriority,Be=e.unstable_LowPriority,qe=e.unstable_IdlePriority,Xe=e.log,yt=e.unstable_setDisableYieldValue,rt=null,it=null;function dt(n){if(typeof Xe=="function"&&yt(n),it&&typeof it.setStrictMode=="function")try{it.setStrictMode(rt,n)}catch{}}var qt=Math.clz32?Math.clz32:jn,ft=Math.log,xn=Math.LN2;function jn(n){return n>>>=0,n===0?32:31-(ft(n)/xn|0)|0}var Ln=256,Us=262144,Hn=4194304;function ar(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function wa(n,r,o){var c=n.pendingLanes;if(c===0)return 0;var h=0,m=n.suspendedLanes,w=n.pingedLanes;n=n.warmLanes;var R=c&134217727;return R!==0?(c=R&~m,c!==0?h=ar(c):(w&=R,w!==0?h=ar(w):o||(o=R&~n,o!==0&&(h=ar(o))))):(R=c&~m,R!==0?h=ar(R):w!==0?h=ar(w):o||(o=c&~n,o!==0&&(h=ar(o)))),h===0?0:r!==0&&r!==h&&(r&m)===0&&(m=h&-h,o=r&-r,m>=o||m===32&&(o&4194048)!==0)?r:h}function Ta(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Wy(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dn(){var n=Hn;return Hn<<=1,(Hn&62914560)===0&&(Hn=4194304),n}function xs(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function Nr(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function BE(n,r,o,c,h,m){var w=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var R=n.entanglements,G=n.expirationTimes,re=n.hiddenUpdates;for(o=w&~o;0<o;){var ce=31-qt(o),pe=1<<ce;R[ce]=0,G[ce]=-1;var ie=re[ce];if(ie!==null)for(re[ce]=null,ce=0;ce<ie.length;ce++){var ae=ie[ce];ae!==null&&(ae.lane&=-536870913)}o&=~pe}c!==0&&Yy(n,c,0),m!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=m&~(w&~r))}function Yy(n,r,o){n.pendingLanes|=r,n.suspendedLanes&=~r;var c=31-qt(r);n.entangledLanes|=r,n.entanglements[c]=n.entanglements[c]|1073741824|o&261930}function Uy(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var c=31-qt(o),h=1<<c;h&r|n[c]&r&&(n[c]|=r),o&=~h}}function qy(n,r){var o=r&-r;return o=(o&42)!==0?1:xf(o),(o&(n.suspendedLanes|r))!==0?0:o}function xf(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function bf(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Gy(){var n=O.p;return n!==0?n:(n=window.event,n===void 0?32:Ov(n.type))}function $y(n,r){var o=O.p;try{return O.p=n,r()}finally{O.p=o}}var Fr=Math.random().toString(36).slice(2),Dn="__reactFiber$"+Fr,qn="__reactProps$"+Fr,Ca="__reactContainer$"+Fr,vf="__reactEvents$"+Fr,LE="__reactListeners$"+Fr,NE="__reactHandles$"+Fr,Qy="__reactResources$"+Fr,Xo="__reactMarker$"+Fr;function Sf(n){delete n[Dn],delete n[qn],delete n[vf],delete n[LE],delete n[NE]}function ja(n){var r=n[Dn];if(r)return r;for(var o=n.parentNode;o;){if(r=o[Ca]||o[Dn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(n=gv(n);n!==null;){if(o=n[Dn])return o;n=gv(n)}return r}n=o,o=n.parentNode}return null}function Da(n){if(n=n[Dn]||n[Ca]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function Zo(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(i(33))}function Ea(n){var r=n[Qy];return r||(r=n[Qy]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Tn(n){n[Xo]=!0}var Ky=new Set,Xy={};function Ei(n,r){Ma(n,r),Ma(n+"Capture",r)}function Ma(n,r){for(Xy[n]=r,n=0;n<r.length;n++)Ky.add(r[n])}var FE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zy={},Jy={};function HE(n){return oe.call(Jy,n)?!0:oe.call(Zy,n)?!1:FE.test(n)?Jy[n]=!0:(Zy[n]=!0,!1)}function Uc(n,r,o){if(HE(r))if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+o)}}function qc(n,r,o){if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+o)}}function or(n,r,o,c){if(c===null)n.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(r,o,""+c)}}function bs(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ex(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function _E(n,r,o){var c=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var h=c.get,m=c.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return h.call(this)},set:function(w){o=""+w,m.call(this,w)}}),Object.defineProperty(n,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function wf(n){if(!n._valueTracker){var r=ex(n)?"checked":"value";n._valueTracker=_E(n,r,""+n[r])}}function tx(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return n&&(c=ex(n)?n.checked?"true":"false":n.value),n=c,n!==o?(r.setValue(n),!0):!1}function Gc(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var zE=/[\n"\\]/g;function vs(n){return n.replace(zE,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Tf(n,r,o,c,h,m,w,R){n.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.type=w:n.removeAttribute("type"),r!=null?w==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+bs(r)):n.value!==""+bs(r)&&(n.value=""+bs(r)):w!=="submit"&&w!=="reset"||n.removeAttribute("value"),r!=null?Cf(n,w,bs(r)):o!=null?Cf(n,w,bs(o)):c!=null&&n.removeAttribute("value"),h==null&&m!=null&&(n.defaultChecked=!!m),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?n.name=""+bs(R):n.removeAttribute("name")}function nx(n,r,o,c,h,m,w,R){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),r!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){wf(n);return}o=o!=null?""+bs(o):"",r=r!=null?""+bs(r):o,R||r===n.value||(n.value=r),n.defaultValue=r}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=R?n.checked:!!c,n.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.name=w),wf(n)}function Cf(n,r,o){r==="number"&&Gc(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function ka(n,r,o,c){if(n=n.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<n.length;o++)h=r.hasOwnProperty("$"+n[o].value),n[o].selected!==h&&(n[o].selected=h),h&&c&&(n[o].defaultSelected=!0)}else{for(o=""+bs(o),r=null,h=0;h<n.length;h++){if(n[h].value===o){n[h].selected=!0,c&&(n[h].defaultSelected=!0);return}r!==null||n[h].disabled||(r=n[h])}r!==null&&(r.selected=!0)}}function sx(n,r,o){if(r!=null&&(r=""+bs(r),r!==n.value&&(n.value=r),o==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=o!=null?""+bs(o):""}function rx(n,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(i(92));if(_(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=bs(r),n.defaultValue=o,c=n.textContent,c===o&&c!==""&&c!==null&&(n.value=c),wf(n)}function Pa(n,r){if(r){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=r;return}}n.textContent=r}var VE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ix(n,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":c?n.setProperty(r,o):typeof o!="number"||o===0||VE.has(r)?r==="float"?n.cssFloat=o:n[r]=(""+o).trim():n[r]=o+"px"}function ax(n,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(n=n.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var h in r)c=r[h],r.hasOwnProperty(h)&&o[h]!==c&&ix(n,h,c)}else for(var m in r)r.hasOwnProperty(m)&&ix(n,m,r[m])}function jf(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var WE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),YE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $c(n){return YE.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function lr(){}var Df=null;function Ef(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Aa=null,Oa=null;function ox(n){var r=Da(n);if(r&&(n=r.stateNode)){var o=n[qn]||null;e:switch(n=r.stateNode,r.type){case"input":if(Tf(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+vs(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==n&&c.form===n.form){var h=c[qn]||null;if(!h)throw Error(i(90));Tf(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===n.form&&tx(c)}break e;case"textarea":sx(n,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&ka(n,!!o.multiple,r,!1)}}}var Mf=!1;function lx(n,r,o){if(Mf)return n(r,o);Mf=!0;try{var c=n(r);return c}finally{if(Mf=!1,(Aa!==null||Oa!==null)&&(Bu(),Aa&&(r=Aa,n=Oa,Oa=Aa=null,ox(r),n)))for(r=0;r<n.length;r++)ox(n[r])}}function Jo(n,r){var o=n.stateNode;if(o===null)return null;var c=o[qn]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kf=!1;if(cr)try{var el={};Object.defineProperty(el,"passive",{get:function(){kf=!0}}),window.addEventListener("test",el,el),window.removeEventListener("test",el,el)}catch{kf=!1}var Hr=null,Pf=null,Qc=null;function cx(){if(Qc)return Qc;var n,r=Pf,o=r.length,c,h="value"in Hr?Hr.value:Hr.textContent,m=h.length;for(n=0;n<o&&r[n]===h[n];n++);var w=o-n;for(c=1;c<=w&&r[o-c]===h[m-c];c++);return Qc=h.slice(n,1<c?1-c:void 0)}function Kc(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Xc(){return!0}function ux(){return!1}function Gn(n){function r(o,c,h,m,w){this._reactName=o,this._targetInst=h,this.type=c,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var R in n)n.hasOwnProperty(R)&&(o=n[R],this[R]=o?o(m):m[R]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Xc:ux,this.isPropagationStopped=ux,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Xc)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Xc)},persist:function(){},isPersistent:Xc}),r}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zc=Gn(Mi),tl=v({},Mi,{view:0,detail:0}),UE=Gn(tl),Af,Of,nl,Jc=v({},tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:If,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==nl&&(nl&&n.type==="mousemove"?(Af=n.screenX-nl.screenX,Of=n.screenY-nl.screenY):Of=Af=0,nl=n),Af)},movementY:function(n){return"movementY"in n?n.movementY:Of}}),dx=Gn(Jc),qE=v({},Jc,{dataTransfer:0}),GE=Gn(qE),$E=v({},tl,{relatedTarget:0}),Rf=Gn($E),QE=v({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),KE=Gn(QE),XE=v({},Mi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ZE=Gn(XE),JE=v({},Mi,{data:0}),fx=Gn(JE),e2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},n2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s2(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=n2[n])?!!r[n]:!1}function If(){return s2}var r2=v({},tl,{key:function(n){if(n.key){var r=e2[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Kc(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?t2[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:If,charCode:function(n){return n.type==="keypress"?Kc(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Kc(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),i2=Gn(r2),a2=v({},Jc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hx=Gn(a2),o2=v({},tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:If}),l2=Gn(o2),c2=v({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),u2=Gn(c2),d2=v({},Jc,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),f2=Gn(d2),h2=v({},Mi,{newState:0,oldState:0}),p2=Gn(h2),m2=[9,13,27,32],Bf=cr&&"CompositionEvent"in window,sl=null;cr&&"documentMode"in document&&(sl=document.documentMode);var g2=cr&&"TextEvent"in window&&!sl,px=cr&&(!Bf||sl&&8<sl&&11>=sl),mx=" ",gx=!1;function yx(n,r){switch(n){case"keyup":return m2.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xx(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ra=!1;function y2(n,r){switch(n){case"compositionend":return xx(r);case"keypress":return r.which!==32?null:(gx=!0,mx);case"textInput":return n=r.data,n===mx&&gx?null:n;default:return null}}function x2(n,r){if(Ra)return n==="compositionend"||!Bf&&yx(n,r)?(n=cx(),Qc=Pf=Hr=null,Ra=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return px&&r.locale!=="ko"?null:r.data;default:return null}}var b2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bx(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!b2[n.type]:r==="textarea"}function vx(n,r,o,c){Aa?Oa?Oa.push(c):Oa=[c]:Aa=c,r=Vu(r,"onChange"),0<r.length&&(o=new Zc("onChange","change",null,o,c),n.push({event:o,listeners:r}))}var rl=null,il=null;function v2(n){nv(n,0)}function eu(n){var r=Zo(n);if(tx(r))return n}function Sx(n,r){if(n==="change")return r}var wx=!1;if(cr){var Lf;if(cr){var Nf="oninput"in document;if(!Nf){var Tx=document.createElement("div");Tx.setAttribute("oninput","return;"),Nf=typeof Tx.oninput=="function"}Lf=Nf}else Lf=!1;wx=Lf&&(!document.documentMode||9<document.documentMode)}function Cx(){rl&&(rl.detachEvent("onpropertychange",jx),il=rl=null)}function jx(n){if(n.propertyName==="value"&&eu(il)){var r=[];vx(r,il,n,Ef(n)),lx(v2,r)}}function S2(n,r,o){n==="focusin"?(Cx(),rl=r,il=o,rl.attachEvent("onpropertychange",jx)):n==="focusout"&&Cx()}function w2(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return eu(il)}function T2(n,r){if(n==="click")return eu(r)}function C2(n,r){if(n==="input"||n==="change")return eu(r)}function j2(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var is=typeof Object.is=="function"?Object.is:j2;function al(n,r){if(is(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var h=o[c];if(!oe.call(r,h)||!is(n[h],r[h]))return!1}return!0}function Dx(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ex(n,r){var o=Dx(n);n=0;for(var c;o;){if(o.nodeType===3){if(c=n+o.textContent.length,n<=r&&c>=r)return{node:o,offset:r-n};n=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Dx(o)}}function Mx(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Mx(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function kx(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Gc(n.document);r instanceof n.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)n=r.contentWindow;else break;r=Gc(n.document)}return r}function Ff(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var D2=cr&&"documentMode"in document&&11>=document.documentMode,Ia=null,Hf=null,ol=null,_f=!1;function Px(n,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;_f||Ia==null||Ia!==Gc(c)||(c=Ia,"selectionStart"in c&&Ff(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ol&&al(ol,c)||(ol=c,c=Vu(Hf,"onSelect"),0<c.length&&(r=new Zc("onSelect","select",null,r,o),n.push({event:r,listeners:c}),r.target=Ia)))}function ki(n,r){var o={};return o[n.toLowerCase()]=r.toLowerCase(),o["Webkit"+n]="webkit"+r,o["Moz"+n]="moz"+r,o}var Ba={animationend:ki("Animation","AnimationEnd"),animationiteration:ki("Animation","AnimationIteration"),animationstart:ki("Animation","AnimationStart"),transitionrun:ki("Transition","TransitionRun"),transitionstart:ki("Transition","TransitionStart"),transitioncancel:ki("Transition","TransitionCancel"),transitionend:ki("Transition","TransitionEnd")},zf={},Ax={};cr&&(Ax=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function Pi(n){if(zf[n])return zf[n];if(!Ba[n])return n;var r=Ba[n],o;for(o in r)if(r.hasOwnProperty(o)&&o in Ax)return zf[n]=r[o];return n}var Ox=Pi("animationend"),Rx=Pi("animationiteration"),Ix=Pi("animationstart"),E2=Pi("transitionrun"),M2=Pi("transitionstart"),k2=Pi("transitioncancel"),Bx=Pi("transitionend"),Lx=new Map,Vf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vf.push("scrollEnd");function Ns(n,r){Lx.set(n,r),Ei(r,[n])}var tu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Ss=[],La=0,Wf=0;function nu(){for(var n=La,r=Wf=La=0;r<n;){var o=Ss[r];Ss[r++]=null;var c=Ss[r];Ss[r++]=null;var h=Ss[r];Ss[r++]=null;var m=Ss[r];if(Ss[r++]=null,c!==null&&h!==null){var w=c.pending;w===null?h.next=h:(h.next=w.next,w.next=h),c.pending=h}m!==0&&Nx(o,h,m)}}function su(n,r,o,c){Ss[La++]=n,Ss[La++]=r,Ss[La++]=o,Ss[La++]=c,Wf|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function Yf(n,r,o,c){return su(n,r,o,c),ru(n)}function Ai(n,r){return su(n,null,null,r),ru(n)}function Nx(n,r,o){n.lanes|=o;var c=n.alternate;c!==null&&(c.lanes|=o);for(var h=!1,m=n.return;m!==null;)m.childLanes|=o,c=m.alternate,c!==null&&(c.childLanes|=o),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(h=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,h&&r!==null&&(h=31-qt(o),n=m.hiddenUpdates,c=n[h],c===null?n[h]=[r]:c.push(r),r.lane=o|536870912),m):null}function ru(n){if(50<kl)throw kl=0,Jh=null,Error(i(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Na={};function P2(n,r,o,c){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function as(n,r,o,c){return new P2(n,r,o,c)}function Uf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ur(n,r){var o=n.alternate;return o===null?(o=as(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Fx(n,r){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,r=o.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function iu(n,r,o,c,h,m){var w=0;if(c=n,typeof n=="function")Uf(n)&&(w=1);else if(typeof n=="string")w=BM(n,o,De.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case H:return n=as(31,o,r,h),n.elementType=H,n.lanes=m,n;case D:return Oi(o.children,h,m,r);case j:w=8,h|=24;break;case C:return n=as(12,o,r,h|2),n.elementType=C,n.lanes=m,n;case N:return n=as(13,o,r,h),n.elementType=N,n.lanes=m,n;case z:return n=as(19,o,r,h),n.elementType=z,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case k:w=10;break e;case E:w=9;break e;case A:w=11;break e;case P:w=14;break e;case F:w=16,c=null;break e}w=29,o=Error(i(130,n===null?"null":typeof n,"")),c=null}return r=as(w,o,r,h),r.elementType=n,r.type=c,r.lanes=m,r}function Oi(n,r,o,c){return n=as(7,n,c,r),n.lanes=o,n}function qf(n,r,o){return n=as(6,n,null,r),n.lanes=o,n}function Hx(n){var r=as(18,null,null,0);return r.stateNode=n,r}function Gf(n,r,o){return r=as(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var _x=new WeakMap;function ws(n,r){if(typeof n=="object"&&n!==null){var o=_x.get(n);return o!==void 0?o:(r={value:n,source:r,stack:ne(r)},_x.set(n,r),r)}return{value:n,source:r,stack:ne(r)}}var Fa=[],Ha=0,au=null,ll=0,Ts=[],Cs=0,_r=null,qs=1,Gs="";function dr(n,r){Fa[Ha++]=ll,Fa[Ha++]=au,au=n,ll=r}function zx(n,r,o){Ts[Cs++]=qs,Ts[Cs++]=Gs,Ts[Cs++]=_r,_r=n;var c=qs;n=Gs;var h=32-qt(c)-1;c&=~(1<<h),o+=1;var m=32-qt(r)+h;if(30<m){var w=h-h%5;m=(c&(1<<w)-1).toString(32),c>>=w,h-=w,qs=1<<32-qt(r)+h|o<<h|c,Gs=m+n}else qs=1<<m|o<<h|c,Gs=n}function $f(n){n.return!==null&&(dr(n,1),zx(n,1,0))}function Qf(n){for(;n===au;)au=Fa[--Ha],Fa[Ha]=null,ll=Fa[--Ha],Fa[Ha]=null;for(;n===_r;)_r=Ts[--Cs],Ts[Cs]=null,Gs=Ts[--Cs],Ts[Cs]=null,qs=Ts[--Cs],Ts[Cs]=null}function Vx(n,r){Ts[Cs++]=qs,Ts[Cs++]=Gs,Ts[Cs++]=_r,qs=r.id,Gs=r.overflow,_r=n}var En=null,zt=null,xt=!1,zr=null,js=!1,Kf=Error(i(519));function Vr(n){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cl(ws(r,n)),Kf}function Wx(n){var r=n.stateNode,o=n.type,c=n.memoizedProps;switch(r[Dn]=n,r[qn]=c,o){case"dialog":pt("cancel",r),pt("close",r);break;case"iframe":case"object":case"embed":pt("load",r);break;case"video":case"audio":for(o=0;o<Al.length;o++)pt(Al[o],r);break;case"source":pt("error",r);break;case"img":case"image":case"link":pt("error",r),pt("load",r);break;case"details":pt("toggle",r);break;case"input":pt("invalid",r),nx(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":pt("invalid",r);break;case"textarea":pt("invalid",r),rx(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||av(r.textContent,o)?(c.popover!=null&&(pt("beforetoggle",r),pt("toggle",r)),c.onScroll!=null&&pt("scroll",r),c.onScrollEnd!=null&&pt("scrollend",r),c.onClick!=null&&(r.onclick=lr),r=!0):r=!1,r||Vr(n,!0)}function Yx(n){for(En=n.return;En;)switch(En.tag){case 5:case 31:case 13:js=!1;return;case 27:case 3:js=!0;return;default:En=En.return}}function _a(n){if(n!==En)return!1;if(!xt)return Yx(n),xt=!0,!1;var r=n.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||pp(n.type,n.memoizedProps)),o=!o),o&&zt&&Vr(n),Yx(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));zt=mv(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));zt=mv(n)}else r===27?(r=zt,ni(n.type)?(n=bp,bp=null,zt=n):zt=r):zt=En?Es(n.stateNode.nextSibling):null;return!0}function Ri(){zt=En=null,xt=!1}function Xf(){var n=zr;return n!==null&&(Xn===null?Xn=n:Xn.push.apply(Xn,n),zr=null),n}function cl(n){zr===null?zr=[n]:zr.push(n)}var Zf=ue(null),Ii=null,fr=null;function Wr(n,r,o){we(Zf,r._currentValue),r._currentValue=o}function hr(n){n._currentValue=Zf.current,de(Zf)}function Jf(n,r,o){for(;n!==null;){var c=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),n===o)break;n=n.return}}function eh(n,r,o,c){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var m=h.dependencies;if(m!==null){var w=h.child;m=m.firstContext;e:for(;m!==null;){var R=m;m=h;for(var G=0;G<r.length;G++)if(R.context===r[G]){m.lanes|=o,R=m.alternate,R!==null&&(R.lanes|=o),Jf(m.return,o,n),c||(w=null);break e}m=R.next}}else if(h.tag===18){if(w=h.return,w===null)throw Error(i(341));w.lanes|=o,m=w.alternate,m!==null&&(m.lanes|=o),Jf(w,o,n),w=null}else w=h.child;if(w!==null)w.return=h;else for(w=h;w!==null;){if(w===n){w=null;break}if(h=w.sibling,h!==null){h.return=w.return,w=h;break}w=w.return}h=w}}function za(n,r,o,c){n=null;for(var h=r,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var w=h.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var R=h.type;is(h.pendingProps.value,w.value)||(n!==null?n.push(R):n=[R])}}else if(h===Ue.current){if(w=h.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(Ll):n=[Ll])}h=h.return}n!==null&&eh(r,n,o,c),r.flags|=262144}function ou(n){for(n=n.firstContext;n!==null;){if(!is(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Bi(n){Ii=n,fr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Mn(n){return Ux(Ii,n)}function lu(n,r){return Ii===null&&Bi(n),Ux(n,r)}function Ux(n,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},fr===null){if(n===null)throw Error(i(308));fr=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else fr=fr.next=r;return o}var A2=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(o,c){n.push(c)}};this.abort=function(){r.aborted=!0,n.forEach(function(o){return o()})}},O2=e.unstable_scheduleCallback,R2=e.unstable_NormalPriority,fn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function th(){return{controller:new A2,data:new Map,refCount:0}}function ul(n){n.refCount--,n.refCount===0&&O2(R2,function(){n.controller.abort()})}var dl=null,nh=0,Va=0,Wa=null;function I2(n,r){if(dl===null){var o=dl=[];nh=0,Va=ip(),Wa={status:"pending",value:void 0,then:function(c){o.push(c)}}}return nh++,r.then(qx,qx),r}function qx(){if(--nh===0&&dl!==null){Wa!==null&&(Wa.status="fulfilled");var n=dl;dl=null,Va=0,Wa=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function B2(n,r){var o=[],c={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return n.then(function(){c.status="fulfilled",c.value=r;for(var h=0;h<o.length;h++)(0,o[h])(r)},function(h){for(c.status="rejected",c.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),c}var Gx=B.S;B.S=function(n,r){Pb=me(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&I2(n,r),Gx!==null&&Gx(n,r)};var Li=ue(null);function sh(){var n=Li.current;return n!==null?n:Nt.pooledCache}function cu(n,r){r===null?we(Li,Li.current):we(Li,r.pool)}function $x(){var n=sh();return n===null?null:{parent:fn._currentValue,pool:n}}var Ya=Error(i(460)),rh=Error(i(474)),uu=Error(i(542)),du={then:function(){}};function Qx(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Kx(n,r,o){switch(o=n[o],o===void 0?n.push(r):o!==r&&(r.then(lr,lr),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Zx(n),n;default:if(typeof r.status=="string")r.then(lr,lr);else{if(n=Nt,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=r,n.status="pending",n.then(function(c){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=c}},function(c){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Zx(n),n}throw Fi=r,Ya}}function Ni(n){try{var r=n._init;return r(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Fi=o,Ya):o}}var Fi=null;function Xx(){if(Fi===null)throw Error(i(459));var n=Fi;return Fi=null,n}function Zx(n){if(n===Ya||n===uu)throw Error(i(483))}var Ua=null,fl=0;function fu(n){var r=fl;return fl+=1,Ua===null&&(Ua=[]),Kx(Ua,n,r)}function hl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function hu(n,r){throw r.$$typeof===b?Error(i(525)):(n=Object.prototype.toString.call(r),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Jx(n){function r(J,X){if(n){var se=J.deletions;se===null?(J.deletions=[X],J.flags|=16):se.push(X)}}function o(J,X){if(!n)return null;for(;X!==null;)r(J,X),X=X.sibling;return null}function c(J){for(var X=new Map;J!==null;)J.key!==null?X.set(J.key,J):X.set(J.index,J),J=J.sibling;return X}function h(J,X){return J=ur(J,X),J.index=0,J.sibling=null,J}function m(J,X,se){return J.index=se,n?(se=J.alternate,se!==null?(se=se.index,se<X?(J.flags|=67108866,X):se):(J.flags|=67108866,X)):(J.flags|=1048576,X)}function w(J){return n&&J.alternate===null&&(J.flags|=67108866),J}function R(J,X,se,he){return X===null||X.tag!==6?(X=qf(se,J.mode,he),X.return=J,X):(X=h(X,se),X.return=J,X)}function G(J,X,se,he){var Ye=se.type;return Ye===D?ce(J,X,se.props.children,he,se.key):X!==null&&(X.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===F&&Ni(Ye)===X.type)?(X=h(X,se.props),hl(X,se),X.return=J,X):(X=iu(se.type,se.key,se.props,null,J.mode,he),hl(X,se),X.return=J,X)}function re(J,X,se,he){return X===null||X.tag!==4||X.stateNode.containerInfo!==se.containerInfo||X.stateNode.implementation!==se.implementation?(X=Gf(se,J.mode,he),X.return=J,X):(X=h(X,se.children||[]),X.return=J,X)}function ce(J,X,se,he,Ye){return X===null||X.tag!==7?(X=Oi(se,J.mode,he,Ye),X.return=J,X):(X=h(X,se),X.return=J,X)}function pe(J,X,se){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=qf(""+X,J.mode,se),X.return=J,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case S:return se=iu(X.type,X.key,X.props,null,J.mode,se),hl(se,X),se.return=J,se;case T:return X=Gf(X,J.mode,se),X.return=J,X;case F:return X=Ni(X),pe(J,X,se)}if(_(X)||M(X))return X=Oi(X,J.mode,se,null),X.return=J,X;if(typeof X.then=="function")return pe(J,fu(X),se);if(X.$$typeof===k)return pe(J,lu(J,X),se);hu(J,X)}return null}function ie(J,X,se,he){var Ye=X!==null?X.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Ye!==null?null:R(J,X,""+se,he);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case S:return se.key===Ye?G(J,X,se,he):null;case T:return se.key===Ye?re(J,X,se,he):null;case F:return se=Ni(se),ie(J,X,se,he)}if(_(se)||M(se))return Ye!==null?null:ce(J,X,se,he,null);if(typeof se.then=="function")return ie(J,X,fu(se),he);if(se.$$typeof===k)return ie(J,X,lu(J,se),he);hu(J,se)}return null}function ae(J,X,se,he,Ye){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return J=J.get(se)||null,R(X,J,""+he,Ye);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case S:return J=J.get(he.key===null?se:he.key)||null,G(X,J,he,Ye);case T:return J=J.get(he.key===null?se:he.key)||null,re(X,J,he,Ye);case F:return he=Ni(he),ae(J,X,se,he,Ye)}if(_(he)||M(he))return J=J.get(se)||null,ce(X,J,he,Ye,null);if(typeof he.then=="function")return ae(J,X,se,fu(he),Ye);if(he.$$typeof===k)return ae(J,X,se,lu(X,he),Ye);hu(X,he)}return null}function Re(J,X,se,he){for(var Ye=null,wt=null,Fe=X,lt=X=0,gt=null;Fe!==null&&lt<se.length;lt++){Fe.index>lt?(gt=Fe,Fe=null):gt=Fe.sibling;var Tt=ie(J,Fe,se[lt],he);if(Tt===null){Fe===null&&(Fe=gt);break}n&&Fe&&Tt.alternate===null&&r(J,Fe),X=m(Tt,X,lt),wt===null?Ye=Tt:wt.sibling=Tt,wt=Tt,Fe=gt}if(lt===se.length)return o(J,Fe),xt&&dr(J,lt),Ye;if(Fe===null){for(;lt<se.length;lt++)Fe=pe(J,se[lt],he),Fe!==null&&(X=m(Fe,X,lt),wt===null?Ye=Fe:wt.sibling=Fe,wt=Fe);return xt&&dr(J,lt),Ye}for(Fe=c(Fe);lt<se.length;lt++)gt=ae(Fe,J,lt,se[lt],he),gt!==null&&(n&&gt.alternate!==null&&Fe.delete(gt.key===null?lt:gt.key),X=m(gt,X,lt),wt===null?Ye=gt:wt.sibling=gt,wt=gt);return n&&Fe.forEach(function(oi){return r(J,oi)}),xt&&dr(J,lt),Ye}function Ke(J,X,se,he){if(se==null)throw Error(i(151));for(var Ye=null,wt=null,Fe=X,lt=X=0,gt=null,Tt=se.next();Fe!==null&&!Tt.done;lt++,Tt=se.next()){Fe.index>lt?(gt=Fe,Fe=null):gt=Fe.sibling;var oi=ie(J,Fe,Tt.value,he);if(oi===null){Fe===null&&(Fe=gt);break}n&&Fe&&oi.alternate===null&&r(J,Fe),X=m(oi,X,lt),wt===null?Ye=oi:wt.sibling=oi,wt=oi,Fe=gt}if(Tt.done)return o(J,Fe),xt&&dr(J,lt),Ye;if(Fe===null){for(;!Tt.done;lt++,Tt=se.next())Tt=pe(J,Tt.value,he),Tt!==null&&(X=m(Tt,X,lt),wt===null?Ye=Tt:wt.sibling=Tt,wt=Tt);return xt&&dr(J,lt),Ye}for(Fe=c(Fe);!Tt.done;lt++,Tt=se.next())Tt=ae(Fe,J,lt,Tt.value,he),Tt!==null&&(n&&Tt.alternate!==null&&Fe.delete(Tt.key===null?lt:Tt.key),X=m(Tt,X,lt),wt===null?Ye=Tt:wt.sibling=Tt,wt=Tt);return n&&Fe.forEach(function(qM){return r(J,qM)}),xt&&dr(J,lt),Ye}function Bt(J,X,se,he){if(typeof se=="object"&&se!==null&&se.type===D&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case S:e:{for(var Ye=se.key;X!==null;){if(X.key===Ye){if(Ye=se.type,Ye===D){if(X.tag===7){o(J,X.sibling),he=h(X,se.props.children),he.return=J,J=he;break e}}else if(X.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===F&&Ni(Ye)===X.type){o(J,X.sibling),he=h(X,se.props),hl(he,se),he.return=J,J=he;break e}o(J,X);break}else r(J,X);X=X.sibling}se.type===D?(he=Oi(se.props.children,J.mode,he,se.key),he.return=J,J=he):(he=iu(se.type,se.key,se.props,null,J.mode,he),hl(he,se),he.return=J,J=he)}return w(J);case T:e:{for(Ye=se.key;X!==null;){if(X.key===Ye)if(X.tag===4&&X.stateNode.containerInfo===se.containerInfo&&X.stateNode.implementation===se.implementation){o(J,X.sibling),he=h(X,se.children||[]),he.return=J,J=he;break e}else{o(J,X);break}else r(J,X);X=X.sibling}he=Gf(se,J.mode,he),he.return=J,J=he}return w(J);case F:return se=Ni(se),Bt(J,X,se,he)}if(_(se))return Re(J,X,se,he);if(M(se)){if(Ye=M(se),typeof Ye!="function")throw Error(i(150));return se=Ye.call(se),Ke(J,X,se,he)}if(typeof se.then=="function")return Bt(J,X,fu(se),he);if(se.$$typeof===k)return Bt(J,X,lu(J,se),he);hu(J,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,X!==null&&X.tag===6?(o(J,X.sibling),he=h(X,se),he.return=J,J=he):(o(J,X),he=qf(se,J.mode,he),he.return=J,J=he),w(J)):o(J,X)}return function(J,X,se,he){try{fl=0;var Ye=Bt(J,X,se,he);return Ua=null,Ye}catch(Fe){if(Fe===Ya||Fe===uu)throw Fe;var wt=as(29,Fe,null,J.mode);return wt.lanes=he,wt.return=J,wt}finally{}}}var Hi=Jx(!0),e0=Jx(!1),Yr=!1;function ih(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ah(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ur(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function qr(n,r,o){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(jt&2)!==0){var h=c.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),c.pending=r,r=ru(n),Nx(n,null,o),r}return su(n,c,r,o),ru(n)}function pl(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=n.pendingLanes,o|=c,r.lanes=o,Uy(n,o)}}function oh(n,r){var o=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var h=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?h=m=w:m=m.next=w,o=o.next}while(o!==null);m===null?h=m=r:m=m.next=r}else h=m=r;o={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}var lh=!1;function ml(){if(lh){var n=Wa;if(n!==null)throw n}}function gl(n,r,o,c){lh=!1;var h=n.updateQueue;Yr=!1;var m=h.firstBaseUpdate,w=h.lastBaseUpdate,R=h.shared.pending;if(R!==null){h.shared.pending=null;var G=R,re=G.next;G.next=null,w===null?m=re:w.next=re,w=G;var ce=n.alternate;ce!==null&&(ce=ce.updateQueue,R=ce.lastBaseUpdate,R!==w&&(R===null?ce.firstBaseUpdate=re:R.next=re,ce.lastBaseUpdate=G))}if(m!==null){var pe=h.baseState;w=0,ce=re=G=null,R=m;do{var ie=R.lane&-536870913,ae=ie!==R.lane;if(ae?(mt&ie)===ie:(c&ie)===ie){ie!==0&&ie===Va&&(lh=!0),ce!==null&&(ce=ce.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Re=n,Ke=R;ie=r;var Bt=o;switch(Ke.tag){case 1:if(Re=Ke.payload,typeof Re=="function"){pe=Re.call(Bt,pe,ie);break e}pe=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Ke.payload,ie=typeof Re=="function"?Re.call(Bt,pe,ie):Re,ie==null)break e;pe=v({},pe,ie);break e;case 2:Yr=!0}}ie=R.callback,ie!==null&&(n.flags|=64,ae&&(n.flags|=8192),ae=h.callbacks,ae===null?h.callbacks=[ie]:ae.push(ie))}else ae={lane:ie,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ce===null?(re=ce=ae,G=pe):ce=ce.next=ae,w|=ie;if(R=R.next,R===null){if(R=h.shared.pending,R===null)break;ae=R,R=ae.next,ae.next=null,h.lastBaseUpdate=ae,h.shared.pending=null}}while(!0);ce===null&&(G=pe),h.baseState=G,h.firstBaseUpdate=re,h.lastBaseUpdate=ce,m===null&&(h.shared.lanes=0),Xr|=w,n.lanes=w,n.memoizedState=pe}}function t0(n,r){if(typeof n!="function")throw Error(i(191,n));n.call(r)}function n0(n,r){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)t0(o[n],r)}var qa=ue(null),pu=ue(0);function s0(n,r){n=wr,we(pu,n),we(qa,r),wr=n|r.baseLanes}function ch(){we(pu,wr),we(qa,qa.current)}function uh(){wr=pu.current,de(qa),de(pu)}var os=ue(null),Ds=null;function Gr(n){var r=n.alternate;we(an,an.current&1),we(os,n),Ds===null&&(r===null||qa.current!==null||r.memoizedState!==null)&&(Ds=n)}function dh(n){we(an,an.current),we(os,n),Ds===null&&(Ds=n)}function r0(n){n.tag===22?(we(an,an.current),we(os,n),Ds===null&&(Ds=n)):$r()}function $r(){we(an,an.current),we(os,os.current)}function ls(n){de(os),Ds===n&&(Ds=null),de(an)}var an=ue(0);function mu(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||yp(o)||xp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var pr=0,at=null,Rt=null,hn=null,gu=!1,Ga=!1,_i=!1,yu=0,yl=0,$a=null,L2=0;function en(){throw Error(i(321))}function fh(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!is(n[o],r[o]))return!1;return!0}function hh(n,r,o,c,h,m){return pr=m,at=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,B.H=n===null||n.memoizedState===null?z0:Mh,_i=!1,m=o(c,h),_i=!1,Ga&&(m=a0(r,o,c,h)),i0(n),m}function i0(n){B.H=vl;var r=Rt!==null&&Rt.next!==null;if(pr=0,hn=Rt=at=null,gu=!1,yl=0,$a=null,r)throw Error(i(300));n===null||pn||(n=n.dependencies,n!==null&&ou(n)&&(pn=!0))}function a0(n,r,o,c){at=n;var h=0;do{if(Ga&&($a=null),yl=0,Ga=!1,25<=h)throw Error(i(301));if(h+=1,hn=Rt=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}B.H=V0,m=r(o,c)}while(Ga);return m}function N2(){var n=B.H,r=n.useState()[0];return r=typeof r.then=="function"?xl(r):r,n=n.useState()[0],(Rt!==null?Rt.memoizedState:null)!==n&&(at.flags|=1024),r}function ph(){var n=yu!==0;return yu=0,n}function mh(n,r,o){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~o}function gh(n){if(gu){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}gu=!1}pr=0,hn=Rt=at=null,Ga=!1,yl=yu=0,$a=null}function _n(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?at.memoizedState=hn=n:hn=hn.next=n,hn}function on(){if(Rt===null){var n=at.alternate;n=n!==null?n.memoizedState:null}else n=Rt.next;var r=hn===null?at.memoizedState:hn.next;if(r!==null)hn=r,Rt=n;else{if(n===null)throw at.alternate===null?Error(i(467)):Error(i(310));Rt=n,n={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},hn===null?at.memoizedState=hn=n:hn=hn.next=n}return hn}function xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xl(n){var r=yl;return yl+=1,$a===null&&($a=[]),n=Kx($a,n,r),r=at,(hn===null?r.memoizedState:hn.next)===null&&(r=r.alternate,B.H=r===null||r.memoizedState===null?z0:Mh),n}function bu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return xl(n);if(n.$$typeof===k)return Mn(n)}throw Error(i(438,String(n)))}function yh(n){var r=null,o=at.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=at.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=xu(),at.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(n),c=0;c<n;c++)o[c]=L;return r.index++,o}function mr(n,r){return typeof r=="function"?r(n):r}function vu(n){var r=on();return xh(r,Rt,n)}function xh(n,r,o){var c=n.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var h=n.baseQueue,m=c.pending;if(m!==null){if(h!==null){var w=h.next;h.next=m.next,m.next=w}r.baseQueue=h=m,c.pending=null}if(m=n.baseState,h===null)n.memoizedState=m;else{r=h.next;var R=w=null,G=null,re=r,ce=!1;do{var pe=re.lane&-536870913;if(pe!==re.lane?(mt&pe)===pe:(pr&pe)===pe){var ie=re.revertLane;if(ie===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),pe===Va&&(ce=!0);else if((pr&ie)===ie){re=re.next,ie===Va&&(ce=!0);continue}else pe={lane:0,revertLane:re.revertLane,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},G===null?(R=G=pe,w=m):G=G.next=pe,at.lanes|=ie,Xr|=ie;pe=re.action,_i&&o(m,pe),m=re.hasEagerState?re.eagerState:o(m,pe)}else ie={lane:pe,revertLane:re.revertLane,gesture:re.gesture,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},G===null?(R=G=ie,w=m):G=G.next=ie,at.lanes|=pe,Xr|=pe;re=re.next}while(re!==null&&re!==r);if(G===null?w=m:G.next=R,!is(m,n.memoizedState)&&(pn=!0,ce&&(o=Wa,o!==null)))throw o;n.memoizedState=m,n.baseState=w,n.baseQueue=G,c.lastRenderedState=m}return h===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function bh(n){var r=on(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=n;var c=o.dispatch,h=o.pending,m=r.memoizedState;if(h!==null){o.pending=null;var w=h=h.next;do m=n(m,w.action),w=w.next;while(w!==h);is(m,r.memoizedState)||(pn=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),o.lastRenderedState=m}return[m,c]}function o0(n,r,o){var c=at,h=on(),m=xt;if(m){if(o===void 0)throw Error(i(407));o=o()}else o=r();var w=!is((Rt||h).memoizedState,o);if(w&&(h.memoizedState=o,pn=!0),h=h.queue,wh(u0.bind(null,c,h,n),[n]),h.getSnapshot!==r||w||hn!==null&&hn.memoizedState.tag&1){if(c.flags|=2048,Qa(9,{destroy:void 0},c0.bind(null,c,h,o,r),null),Nt===null)throw Error(i(349));m||(pr&127)!==0||l0(c,r,o)}return o}function l0(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=at.updateQueue,r===null?(r=xu(),at.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function c0(n,r,o,c){r.value=o,r.getSnapshot=c,d0(r)&&f0(n)}function u0(n,r,o){return o(function(){d0(r)&&f0(n)})}function d0(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!is(n,o)}catch{return!0}}function f0(n){var r=Ai(n,2);r!==null&&Zn(r,n,2)}function vh(n){var r=_n();if(typeof n=="function"){var o=n;if(n=o(),_i){dt(!0);try{o()}finally{dt(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mr,lastRenderedState:n},r}function h0(n,r,o,c){return n.baseState=o,xh(n,Rt,typeof c=="function"?c:mr)}function F2(n,r,o,c,h){if(Tu(n))throw Error(i(485));if(n=r.action,n!==null){var m={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){m.listeners.push(w)}};B.T!==null?o(!0):m.isTransition=!1,c(m),o=r.pending,o===null?(m.next=r.pending=m,p0(r,m)):(m.next=o.next,r.pending=o.next=m)}}function p0(n,r){var o=r.action,c=r.payload,h=n.state;if(r.isTransition){var m=B.T,w={};B.T=w;try{var R=o(h,c),G=B.S;G!==null&&G(w,R),m0(n,r,R)}catch(re){Sh(n,r,re)}finally{m!==null&&w.types!==null&&(m.types=w.types),B.T=m}}else try{m=o(h,c),m0(n,r,m)}catch(re){Sh(n,r,re)}}function m0(n,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){g0(n,r,c)},function(c){return Sh(n,r,c)}):g0(n,r,o)}function g0(n,r,o){r.status="fulfilled",r.value=o,y0(r),n.state=o,r=n.pending,r!==null&&(o=r.next,o===r?n.pending=null:(o=o.next,r.next=o,p0(n,o)))}function Sh(n,r,o){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,y0(r),r=r.next;while(r!==c)}n.action=null}function y0(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function x0(n,r){return r}function b0(n,r){if(xt){var o=Nt.formState;if(o!==null){e:{var c=at;if(xt){if(zt){t:{for(var h=zt,m=js;h.nodeType!==8;){if(!m){h=null;break t}if(h=Es(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){zt=Es(h.nextSibling),c=h.data==="F!";break e}}Vr(c)}c=!1}c&&(r=o[0])}}return o=_n(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:x0,lastRenderedState:r},o.queue=c,o=F0.bind(null,at,c),c.dispatch=o,c=vh(!1),m=Eh.bind(null,at,!1,c.queue),c=_n(),h={state:r,dispatch:null,action:n,pending:null},c.queue=h,o=F2.bind(null,at,h,m,o),h.dispatch=o,c.memoizedState=n,[r,o,!1]}function v0(n){var r=on();return S0(r,Rt,n)}function S0(n,r,o){if(r=xh(n,r,x0)[0],n=vu(mr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=xl(r)}catch(w){throw w===Ya?uu:w}else c=r;r=on();var h=r.queue,m=h.dispatch;return o!==r.memoizedState&&(at.flags|=2048,Qa(9,{destroy:void 0},H2.bind(null,h,o),null)),[c,m,n]}function H2(n,r){n.action=r}function w0(n){var r=on(),o=Rt;if(o!==null)return S0(r,o,n);on(),r=r.memoizedState,o=on();var c=o.queue.dispatch;return o.memoizedState=n,[r,c,!1]}function Qa(n,r,o,c){return n={tag:n,create:o,deps:c,inst:r,next:null},r=at.updateQueue,r===null&&(r=xu(),at.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=n.next=n:(c=o.next,o.next=n,n.next=c,r.lastEffect=n),n}function T0(){return on().memoizedState}function Su(n,r,o,c){var h=_n();at.flags|=n,h.memoizedState=Qa(1|r,{destroy:void 0},o,c===void 0?null:c)}function wu(n,r,o,c){var h=on();c=c===void 0?null:c;var m=h.memoizedState.inst;Rt!==null&&c!==null&&fh(c,Rt.memoizedState.deps)?h.memoizedState=Qa(r,m,o,c):(at.flags|=n,h.memoizedState=Qa(1|r,m,o,c))}function C0(n,r){Su(8390656,8,n,r)}function wh(n,r){wu(2048,8,n,r)}function _2(n){at.flags|=4;var r=at.updateQueue;if(r===null)r=xu(),at.updateQueue=r,r.events=[n];else{var o=r.events;o===null?r.events=[n]:o.push(n)}}function j0(n){var r=on().memoizedState;return _2({ref:r,nextImpl:n}),function(){if((jt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function D0(n,r){return wu(4,2,n,r)}function E0(n,r){return wu(4,4,n,r)}function M0(n,r){if(typeof r=="function"){n=n();var o=r(n);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function k0(n,r,o){o=o!=null?o.concat([n]):null,wu(4,4,M0.bind(null,r,n),o)}function Th(){}function P0(n,r){var o=on();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&fh(r,c[1])?c[0]:(o.memoizedState=[n,r],n)}function A0(n,r){var o=on();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&fh(r,c[1]))return c[0];if(c=n(),_i){dt(!0);try{n()}finally{dt(!1)}}return o.memoizedState=[c,r],c}function Ch(n,r,o){return o===void 0||(pr&1073741824)!==0&&(mt&261930)===0?n.memoizedState=r:(n.memoizedState=o,n=Ob(),at.lanes|=n,Xr|=n,o)}function O0(n,r,o,c){return is(o,r)?o:qa.current!==null?(n=Ch(n,o,c),is(n,r)||(pn=!0),n):(pr&42)===0||(pr&1073741824)!==0&&(mt&261930)===0?(pn=!0,n.memoizedState=o):(n=Ob(),at.lanes|=n,Xr|=n,r)}function R0(n,r,o,c,h){var m=O.p;O.p=m!==0&&8>m?m:8;var w=B.T,R={};B.T=R,Eh(n,!1,r,o);try{var G=h(),re=B.S;if(re!==null&&re(R,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var ce=B2(G,c);bl(n,r,ce,ds(n))}else bl(n,r,c,ds(n))}catch(pe){bl(n,r,{then:function(){},status:"rejected",reason:pe},ds())}finally{O.p=m,w!==null&&R.types!==null&&(w.types=R.types),B.T=w}}function z2(){}function jh(n,r,o,c){if(n.tag!==5)throw Error(i(476));var h=I0(n).queue;R0(n,h,r,Q,o===null?z2:function(){return B0(n),o(c)})}function I0(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mr,lastRenderedState:Q},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mr,lastRenderedState:o},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function B0(n){var r=I0(n);r.next===null&&(r=n.alternate.memoizedState),bl(n,r.next.queue,{},ds())}function Dh(){return Mn(Ll)}function L0(){return on().memoizedState}function N0(){return on().memoizedState}function V2(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var o=ds();n=Ur(o);var c=qr(r,n,o);c!==null&&(Zn(c,r,o),pl(c,r,o)),r={cache:th()},n.payload=r;return}r=r.return}}function W2(n,r,o){var c=ds();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Tu(n)?H0(r,o):(o=Yf(n,r,o,c),o!==null&&(Zn(o,n,c),_0(o,r,c)))}function F0(n,r,o){var c=ds();bl(n,r,o,c)}function bl(n,r,o,c){var h={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Tu(n))H0(r,h);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var w=r.lastRenderedState,R=m(w,o);if(h.hasEagerState=!0,h.eagerState=R,is(R,w))return su(n,r,h,0),Nt===null&&nu(),!1}catch{}finally{}if(o=Yf(n,r,h,c),o!==null)return Zn(o,n,c),_0(o,r,c),!0}return!1}function Eh(n,r,o,c){if(c={lane:2,revertLane:ip(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Tu(n)){if(r)throw Error(i(479))}else r=Yf(n,o,c,2),r!==null&&Zn(r,n,2)}function Tu(n){var r=n.alternate;return n===at||r!==null&&r===at}function H0(n,r){Ga=gu=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function _0(n,r,o){if((o&4194048)!==0){var c=r.lanes;c&=n.pendingLanes,o|=c,r.lanes=o,Uy(n,o)}}var vl={readContext:Mn,use:bu,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useInsertionEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useSyncExternalStore:en,useId:en,useHostTransitionStatus:en,useFormState:en,useActionState:en,useOptimistic:en,useMemoCache:en,useCacheRefresh:en};vl.useEffectEvent=en;var z0={readContext:Mn,use:bu,useCallback:function(n,r){return _n().memoizedState=[n,r===void 0?null:r],n},useContext:Mn,useEffect:C0,useImperativeHandle:function(n,r,o){o=o!=null?o.concat([n]):null,Su(4194308,4,M0.bind(null,r,n),o)},useLayoutEffect:function(n,r){return Su(4194308,4,n,r)},useInsertionEffect:function(n,r){Su(4,2,n,r)},useMemo:function(n,r){var o=_n();r=r===void 0?null:r;var c=n();if(_i){dt(!0);try{n()}finally{dt(!1)}}return o.memoizedState=[c,r],c},useReducer:function(n,r,o){var c=_n();if(o!==void 0){var h=o(r);if(_i){dt(!0);try{o(r)}finally{dt(!1)}}}else h=r;return c.memoizedState=c.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},c.queue=n,n=n.dispatch=W2.bind(null,at,n),[c.memoizedState,n]},useRef:function(n){var r=_n();return n={current:n},r.memoizedState=n},useState:function(n){n=vh(n);var r=n.queue,o=F0.bind(null,at,r);return r.dispatch=o,[n.memoizedState,o]},useDebugValue:Th,useDeferredValue:function(n,r){var o=_n();return Ch(o,n,r)},useTransition:function(){var n=vh(!1);return n=R0.bind(null,at,n.queue,!0,!1),_n().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,o){var c=at,h=_n();if(xt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),Nt===null)throw Error(i(349));(mt&127)!==0||l0(c,r,o)}h.memoizedState=o;var m={value:o,getSnapshot:r};return h.queue=m,C0(u0.bind(null,c,m,n),[n]),c.flags|=2048,Qa(9,{destroy:void 0},c0.bind(null,c,m,o,r),null),o},useId:function(){var n=_n(),r=Nt.identifierPrefix;if(xt){var o=Gs,c=qs;o=(c&~(1<<32-qt(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=yu++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=L2++,r="_"+r+"r_"+o.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:Dh,useFormState:b0,useActionState:b0,useOptimistic:function(n){var r=_n();r.memoizedState=r.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Eh.bind(null,at,!0,o),o.dispatch=r,[n,r]},useMemoCache:yh,useCacheRefresh:function(){return _n().memoizedState=V2.bind(null,at)},useEffectEvent:function(n){var r=_n(),o={impl:n};return r.memoizedState=o,function(){if((jt&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Mh={readContext:Mn,use:bu,useCallback:P0,useContext:Mn,useEffect:wh,useImperativeHandle:k0,useInsertionEffect:D0,useLayoutEffect:E0,useMemo:A0,useReducer:vu,useRef:T0,useState:function(){return vu(mr)},useDebugValue:Th,useDeferredValue:function(n,r){var o=on();return O0(o,Rt.memoizedState,n,r)},useTransition:function(){var n=vu(mr)[0],r=on().memoizedState;return[typeof n=="boolean"?n:xl(n),r]},useSyncExternalStore:o0,useId:L0,useHostTransitionStatus:Dh,useFormState:v0,useActionState:v0,useOptimistic:function(n,r){var o=on();return h0(o,Rt,n,r)},useMemoCache:yh,useCacheRefresh:N0};Mh.useEffectEvent=j0;var V0={readContext:Mn,use:bu,useCallback:P0,useContext:Mn,useEffect:wh,useImperativeHandle:k0,useInsertionEffect:D0,useLayoutEffect:E0,useMemo:A0,useReducer:bh,useRef:T0,useState:function(){return bh(mr)},useDebugValue:Th,useDeferredValue:function(n,r){var o=on();return Rt===null?Ch(o,n,r):O0(o,Rt.memoizedState,n,r)},useTransition:function(){var n=bh(mr)[0],r=on().memoizedState;return[typeof n=="boolean"?n:xl(n),r]},useSyncExternalStore:o0,useId:L0,useHostTransitionStatus:Dh,useFormState:w0,useActionState:w0,useOptimistic:function(n,r){var o=on();return Rt!==null?h0(o,Rt,n,r):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:yh,useCacheRefresh:N0};V0.useEffectEvent=j0;function kh(n,r,o,c){r=n.memoizedState,o=o(c,r),o=o==null?r:v({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Ph={enqueueSetState:function(n,r,o){n=n._reactInternals;var c=ds(),h=Ur(c);h.payload=r,o!=null&&(h.callback=o),r=qr(n,h,c),r!==null&&(Zn(r,n,c),pl(r,n,c))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var c=ds(),h=Ur(c);h.tag=1,h.payload=r,o!=null&&(h.callback=o),r=qr(n,h,c),r!==null&&(Zn(r,n,c),pl(r,n,c))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=ds(),c=Ur(o);c.tag=2,r!=null&&(c.callback=r),r=qr(n,c,o),r!==null&&(Zn(r,n,o),pl(r,n,o))}};function W0(n,r,o,c,h,m,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,w):r.prototype&&r.prototype.isPureReactComponent?!al(o,c)||!al(h,m):!0}function Y0(n,r,o,c){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==n&&Ph.enqueueReplaceState(r,r.state,null)}function zi(n,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(n=n.defaultProps){o===r&&(o=v({},o));for(var h in n)o[h]===void 0&&(o[h]=n[h])}return o}function U0(n){tu(n)}function q0(n){console.error(n)}function G0(n){tu(n)}function Cu(n,r){try{var o=n.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function $0(n,r,o){try{var c=n.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ah(n,r,o){return o=Ur(o),o.tag=3,o.payload={element:null},o.callback=function(){Cu(n,r)},o}function Q0(n){return n=Ur(n),n.tag=3,n}function K0(n,r,o,c){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var m=c.value;n.payload=function(){return h(m)},n.callback=function(){$0(r,o,c)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(n.callback=function(){$0(r,o,c),typeof h!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var R=c.stack;this.componentDidCatch(c.value,{componentStack:R!==null?R:""})})}function Y2(n,r,o,c,h){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&za(r,o,h,!0),o=os.current,o!==null){switch(o.tag){case 31:case 13:return Ds===null?Lu():o.alternate===null&&tn===0&&(tn=3),o.flags&=-257,o.flags|=65536,o.lanes=h,c===du?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),np(n,c,h)),!1;case 22:return o.flags|=65536,c===du?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),np(n,c,h)),!1}throw Error(i(435,o.tag))}return np(n,c,h),Lu(),!1}if(xt)return r=os.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,c!==Kf&&(n=Error(i(422),{cause:c}),cl(ws(n,o)))):(c!==Kf&&(r=Error(i(423),{cause:c}),cl(ws(r,o))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,c=ws(c,o),h=Ah(n.stateNode,c,h),oh(n,h),tn!==4&&(tn=2)),!1;var m=Error(i(520),{cause:c});if(m=ws(m,o),Ml===null?Ml=[m]:Ml.push(m),tn!==4&&(tn=2),r===null)return!0;c=ws(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,n=h&-h,o.lanes|=n,n=Ah(o.stateNode,c,n),oh(o,n),!1;case 1:if(r=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Zr===null||!Zr.has(m))))return o.flags|=65536,h&=-h,o.lanes|=h,h=Q0(h),K0(h,n,o,c),oh(o,h),!1}o=o.return}while(o!==null);return!1}var Oh=Error(i(461)),pn=!1;function kn(n,r,o,c){r.child=n===null?e0(r,null,o,c):Hi(r,n.child,o,c)}function X0(n,r,o,c,h){o=o.render;var m=r.ref;if("ref"in c){var w={};for(var R in c)R!=="ref"&&(w[R]=c[R])}else w=c;return Bi(r),c=hh(n,r,o,w,m,h),R=ph(),n!==null&&!pn?(mh(n,r,h),gr(n,r,h)):(xt&&R&&$f(r),r.flags|=1,kn(n,r,c,h),r.child)}function Z0(n,r,o,c,h){if(n===null){var m=o.type;return typeof m=="function"&&!Uf(m)&&m.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=m,J0(n,r,m,c,h)):(n=iu(o.type,null,c,r,r.mode,h),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,!_h(n,h)){var w=m.memoizedProps;if(o=o.compare,o=o!==null?o:al,o(w,c)&&n.ref===r.ref)return gr(n,r,h)}return r.flags|=1,n=ur(m,c),n.ref=r.ref,n.return=r,r.child=n}function J0(n,r,o,c,h){if(n!==null){var m=n.memoizedProps;if(al(m,c)&&n.ref===r.ref)if(pn=!1,r.pendingProps=c=m,_h(n,h))(n.flags&131072)!==0&&(pn=!0);else return r.lanes=n.lanes,gr(n,r,h)}return Rh(n,r,o,c,h)}function eb(n,r,o,c){var h=c.children,m=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,n!==null){for(c=r.child=n.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;c=h&~m}else c=0,r.child=null;return tb(n,r,m,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&cu(r,m!==null?m.cachePool:null),m!==null?s0(r,m):ch(),r0(r);else return c=r.lanes=536870912,tb(n,r,m!==null?m.baseLanes|o:o,o,c)}else m!==null?(cu(r,m.cachePool),s0(r,m),$r(),r.memoizedState=null):(n!==null&&cu(r,null),ch(),$r());return kn(n,r,h,o),r.child}function Sl(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function tb(n,r,o,c,h){var m=sh();return m=m===null?null:{parent:fn._currentValue,pool:m},r.memoizedState={baseLanes:o,cachePool:m},n!==null&&cu(r,null),ch(),r0(r),n!==null&&za(n,r,c,!0),r.childLanes=h,null}function ju(n,r){return r=Eu({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function nb(n,r,o){return Hi(r,n.child,null,o),n=ju(r,r.pendingProps),n.flags|=2,ls(r),r.memoizedState=null,n}function U2(n,r,o){var c=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(xt){if(c.mode==="hidden")return n=ju(r,c),r.lanes=536870912,Sl(null,n);if(dh(r),(n=zt)?(n=pv(n,js),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:_r!==null?{id:qs,overflow:Gs}:null,retryLane:536870912,hydrationErrors:null},o=Hx(n),o.return=r,r.child=o,En=r,zt=null)):n=null,n===null)throw Vr(r);return r.lanes=536870912,null}return ju(r,c)}var m=n.memoizedState;if(m!==null){var w=m.dehydrated;if(dh(r),h)if(r.flags&256)r.flags&=-257,r=nb(n,r,o);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(i(558));else if(pn||za(n,r,o,!1),h=(o&n.childLanes)!==0,pn||h){if(c=Nt,c!==null&&(w=qy(c,o),w!==0&&w!==m.retryLane))throw m.retryLane=w,Ai(n,w),Zn(c,n,w),Oh;Lu(),r=nb(n,r,o)}else n=m.treeContext,zt=Es(w.nextSibling),En=r,xt=!0,zr=null,js=!1,n!==null&&Vx(r,n),r=ju(r,c),r.flags|=4096;return r}return n=ur(n.child,{mode:c.mode,children:c.children}),n.ref=r.ref,r.child=n,n.return=r,n}function Du(n,r){var o=r.ref;if(o===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(n===null||n.ref!==o)&&(r.flags|=4194816)}}function Rh(n,r,o,c,h){return Bi(r),o=hh(n,r,o,c,void 0,h),c=ph(),n!==null&&!pn?(mh(n,r,h),gr(n,r,h)):(xt&&c&&$f(r),r.flags|=1,kn(n,r,o,h),r.child)}function sb(n,r,o,c,h,m){return Bi(r),r.updateQueue=null,o=a0(r,c,o,h),i0(n),c=ph(),n!==null&&!pn?(mh(n,r,m),gr(n,r,m)):(xt&&c&&$f(r),r.flags|=1,kn(n,r,o,m),r.child)}function rb(n,r,o,c,h){if(Bi(r),r.stateNode===null){var m=Na,w=o.contextType;typeof w=="object"&&w!==null&&(m=Mn(w)),m=new o(c,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Ph,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=c,m.state=r.memoizedState,m.refs={},ih(r),w=o.contextType,m.context=typeof w=="object"&&w!==null?Mn(w):Na,m.state=r.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(kh(r,o,w,c),m.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(w=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),w!==m.state&&Ph.enqueueReplaceState(m,m.state,null),gl(r,c,m,h),ml(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(n===null){m=r.stateNode;var R=r.memoizedProps,G=zi(o,R);m.props=G;var re=m.context,ce=o.contextType;w=Na,typeof ce=="object"&&ce!==null&&(w=Mn(ce));var pe=o.getDerivedStateFromProps;ce=typeof pe=="function"||typeof m.getSnapshotBeforeUpdate=="function",R=r.pendingProps!==R,ce||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(R||re!==w)&&Y0(r,m,c,w),Yr=!1;var ie=r.memoizedState;m.state=ie,gl(r,c,m,h),ml(),re=r.memoizedState,R||ie!==re||Yr?(typeof pe=="function"&&(kh(r,o,pe,c),re=r.memoizedState),(G=Yr||W0(r,o,G,c,ie,re,w))?(ce||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=re),m.props=c,m.state=re,m.context=w,c=G):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{m=r.stateNode,ah(n,r),w=r.memoizedProps,ce=zi(o,w),m.props=ce,pe=r.pendingProps,ie=m.context,re=o.contextType,G=Na,typeof re=="object"&&re!==null&&(G=Mn(re)),R=o.getDerivedStateFromProps,(re=typeof R=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==pe||ie!==G)&&Y0(r,m,c,G),Yr=!1,ie=r.memoizedState,m.state=ie,gl(r,c,m,h),ml();var ae=r.memoizedState;w!==pe||ie!==ae||Yr||n!==null&&n.dependencies!==null&&ou(n.dependencies)?(typeof R=="function"&&(kh(r,o,R,c),ae=r.memoizedState),(ce=Yr||W0(r,o,ce,c,ie,ae,G)||n!==null&&n.dependencies!==null&&ou(n.dependencies))?(re||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,ae,G),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,ae,G)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||w===n.memoizedProps&&ie===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&ie===n.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=ae),m.props=c,m.state=ae,m.context=G,c=ce):(typeof m.componentDidUpdate!="function"||w===n.memoizedProps&&ie===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&ie===n.memoizedState||(r.flags|=1024),c=!1)}return m=c,Du(n,r),c=(r.flags&128)!==0,m||c?(m=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,n!==null&&c?(r.child=Hi(r,n.child,null,h),r.child=Hi(r,null,o,h)):kn(n,r,o,h),r.memoizedState=m.state,n=r.child):n=gr(n,r,h),n}function ib(n,r,o,c){return Ri(),r.flags|=256,kn(n,r,o,c),r.child}var Ih={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bh(n){return{baseLanes:n,cachePool:$x()}}function Lh(n,r,o){return n=n!==null?n.childLanes&~o:0,r&&(n|=us),n}function ab(n,r,o){var c=r.pendingProps,h=!1,m=(r.flags&128)!==0,w;if((w=m)||(w=n!==null&&n.memoizedState===null?!1:(an.current&2)!==0),w&&(h=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,n===null){if(xt){if(h?Gr(r):$r(),(n=zt)?(n=pv(n,js),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:_r!==null?{id:qs,overflow:Gs}:null,retryLane:536870912,hydrationErrors:null},o=Hx(n),o.return=r,r.child=o,En=r,zt=null)):n=null,n===null)throw Vr(r);return xp(n)?r.lanes=32:r.lanes=536870912,null}var R=c.children;return c=c.fallback,h?($r(),h=r.mode,R=Eu({mode:"hidden",children:R},h),c=Oi(c,h,o,null),R.return=r,c.return=r,R.sibling=c,r.child=R,c=r.child,c.memoizedState=Bh(o),c.childLanes=Lh(n,w,o),r.memoizedState=Ih,Sl(null,c)):(Gr(r),Nh(r,R))}var G=n.memoizedState;if(G!==null&&(R=G.dehydrated,R!==null)){if(m)r.flags&256?(Gr(r),r.flags&=-257,r=Fh(n,r,o)):r.memoizedState!==null?($r(),r.child=n.child,r.flags|=128,r=null):($r(),R=c.fallback,h=r.mode,c=Eu({mode:"visible",children:c.children},h),R=Oi(R,h,o,null),R.flags|=2,c.return=r,R.return=r,c.sibling=R,r.child=c,Hi(r,n.child,null,o),c=r.child,c.memoizedState=Bh(o),c.childLanes=Lh(n,w,o),r.memoizedState=Ih,r=Sl(null,c));else if(Gr(r),xp(R)){if(w=R.nextSibling&&R.nextSibling.dataset,w)var re=w.dgst;w=re,c=Error(i(419)),c.stack="",c.digest=w,cl({value:c,source:null,stack:null}),r=Fh(n,r,o)}else if(pn||za(n,r,o,!1),w=(o&n.childLanes)!==0,pn||w){if(w=Nt,w!==null&&(c=qy(w,o),c!==0&&c!==G.retryLane))throw G.retryLane=c,Ai(n,c),Zn(w,n,c),Oh;yp(R)||Lu(),r=Fh(n,r,o)}else yp(R)?(r.flags|=192,r.child=n.child,r=null):(n=G.treeContext,zt=Es(R.nextSibling),En=r,xt=!0,zr=null,js=!1,n!==null&&Vx(r,n),r=Nh(r,c.children),r.flags|=4096);return r}return h?($r(),R=c.fallback,h=r.mode,G=n.child,re=G.sibling,c=ur(G,{mode:"hidden",children:c.children}),c.subtreeFlags=G.subtreeFlags&65011712,re!==null?R=ur(re,R):(R=Oi(R,h,o,null),R.flags|=2),R.return=r,c.return=r,c.sibling=R,r.child=c,Sl(null,c),c=r.child,R=n.child.memoizedState,R===null?R=Bh(o):(h=R.cachePool,h!==null?(G=fn._currentValue,h=h.parent!==G?{parent:G,pool:G}:h):h=$x(),R={baseLanes:R.baseLanes|o,cachePool:h}),c.memoizedState=R,c.childLanes=Lh(n,w,o),r.memoizedState=Ih,Sl(n.child,c)):(Gr(r),o=n.child,n=o.sibling,o=ur(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,n!==null&&(w=r.deletions,w===null?(r.deletions=[n],r.flags|=16):w.push(n)),r.child=o,r.memoizedState=null,o)}function Nh(n,r){return r=Eu({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Eu(n,r){return n=as(22,n,null,r),n.lanes=0,n}function Fh(n,r,o){return Hi(r,n.child,null,o),n=Nh(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function ob(n,r,o){n.lanes|=r;var c=n.alternate;c!==null&&(c.lanes|=r),Jf(n.return,r,o)}function Hh(n,r,o,c,h,m){var w=n.memoizedState;w===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:h,treeForkCount:m}:(w.isBackwards=r,w.rendering=null,w.renderingStartTime=0,w.last=c,w.tail=o,w.tailMode=h,w.treeForkCount=m)}function lb(n,r,o){var c=r.pendingProps,h=c.revealOrder,m=c.tail;c=c.children;var w=an.current,R=(w&2)!==0;if(R?(w=w&1|2,r.flags|=128):w&=1,we(an,w),kn(n,r,c,o),c=xt?ll:0,!R&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ob(n,o,r);else if(n.tag===19)ob(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(h){case"forwards":for(o=r.child,h=null;o!==null;)n=o.alternate,n!==null&&mu(n)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),Hh(r,!1,h,o,m,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(n=h.alternate,n!==null&&mu(n)===null){r.child=h;break}n=h.sibling,h.sibling=o,o=h,h=n}Hh(r,!0,o,null,m,c);break;case"together":Hh(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function gr(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),Xr|=r.lanes,(o&r.childLanes)===0)if(n!==null){if(za(n,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(i(153));if(r.child!==null){for(n=r.child,o=ur(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=ur(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function _h(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&ou(n)))}function q2(n,r,o){switch(r.tag){case 3:st(r,r.stateNode.containerInfo),Wr(r,fn,n.memoizedState.cache),Ri();break;case 27:case 5:ke(r);break;case 4:st(r,r.stateNode.containerInfo);break;case 10:Wr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,dh(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Gr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?ab(n,r,o):(Gr(r),n=gr(n,r,o),n!==null?n.sibling:null);Gr(r);break;case 19:var h=(n.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(za(n,r,o,!1),c=(o&r.childLanes)!==0),h){if(c)return lb(n,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),we(an,an.current),c)break;return null;case 22:return r.lanes=0,eb(n,r,o,r.pendingProps);case 24:Wr(r,fn,n.memoizedState.cache)}return gr(n,r,o)}function cb(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps)pn=!0;else{if(!_h(n,o)&&(r.flags&128)===0)return pn=!1,q2(n,r,o);pn=(n.flags&131072)!==0}else pn=!1,xt&&(r.flags&1048576)!==0&&zx(r,ll,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(n=Ni(r.elementType),r.type=n,typeof n=="function")Uf(n)?(c=zi(n,c),r.tag=1,r=rb(null,r,n,c,o)):(r.tag=0,r=Rh(null,r,n,c,o));else{if(n!=null){var h=n.$$typeof;if(h===A){r.tag=11,r=X0(null,r,n,c,o);break e}else if(h===P){r.tag=14,r=Z0(null,r,n,c,o);break e}}throw r=V(n)||n,Error(i(306,r,""))}}return r;case 0:return Rh(n,r,r.type,r.pendingProps,o);case 1:return c=r.type,h=zi(c,r.pendingProps),rb(n,r,c,h,o);case 3:e:{if(st(r,r.stateNode.containerInfo),n===null)throw Error(i(387));c=r.pendingProps;var m=r.memoizedState;h=m.element,ah(n,r),gl(r,c,null,o);var w=r.memoizedState;if(c=w.cache,Wr(r,fn,c),c!==m.cache&&eh(r,[fn],o,!0),ml(),c=w.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=ib(n,r,c,o);break e}else if(c!==h){h=ws(Error(i(424)),r),cl(h),r=ib(n,r,c,o);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(zt=Es(n.firstChild),En=r,xt=!0,zr=null,js=!0,o=e0(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ri(),c===h){r=gr(n,r,o);break e}kn(n,r,c,o)}r=r.child}return r;case 26:return Du(n,r),n===null?(o=vv(r.type,null,r.pendingProps,null))?r.memoizedState=o:xt||(o=r.type,n=r.pendingProps,c=Wu(We.current).createElement(o),c[Dn]=r,c[qn]=n,Pn(c,o,n),Tn(c),r.stateNode=c):r.memoizedState=vv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return ke(r),n===null&&xt&&(c=r.stateNode=yv(r.type,r.pendingProps,We.current),En=r,js=!0,h=zt,ni(r.type)?(bp=h,zt=Es(c.firstChild)):zt=h),kn(n,r,r.pendingProps.children,o),Du(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&xt&&((h=c=zt)&&(c=wM(c,r.type,r.pendingProps,js),c!==null?(r.stateNode=c,En=r,zt=Es(c.firstChild),js=!1,h=!0):h=!1),h||Vr(r)),ke(r),h=r.type,m=r.pendingProps,w=n!==null?n.memoizedProps:null,c=m.children,pp(h,m)?c=null:w!==null&&pp(h,w)&&(r.flags|=32),r.memoizedState!==null&&(h=hh(n,r,N2,null,null,o),Ll._currentValue=h),Du(n,r),kn(n,r,c,o),r.child;case 6:return n===null&&xt&&((n=o=zt)&&(o=TM(o,r.pendingProps,js),o!==null?(r.stateNode=o,En=r,zt=null,n=!0):n=!1),n||Vr(r)),null;case 13:return ab(n,r,o);case 4:return st(r,r.stateNode.containerInfo),c=r.pendingProps,n===null?r.child=Hi(r,null,c,o):kn(n,r,c,o),r.child;case 11:return X0(n,r,r.type,r.pendingProps,o);case 7:return kn(n,r,r.pendingProps,o),r.child;case 8:return kn(n,r,r.pendingProps.children,o),r.child;case 12:return kn(n,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,Wr(r,r.type,c.value),kn(n,r,c.children,o),r.child;case 9:return h=r.type._context,c=r.pendingProps.children,Bi(r),h=Mn(h),c=c(h),r.flags|=1,kn(n,r,c,o),r.child;case 14:return Z0(n,r,r.type,r.pendingProps,o);case 15:return J0(n,r,r.type,r.pendingProps,o);case 19:return lb(n,r,o);case 31:return U2(n,r,o);case 22:return eb(n,r,o,r.pendingProps);case 24:return Bi(r),c=Mn(fn),n===null?(h=sh(),h===null&&(h=Nt,m=th(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=o),h=m),r.memoizedState={parent:c,cache:h},ih(r),Wr(r,fn,h)):((n.lanes&o)!==0&&(ah(n,r),gl(r,null,null,o),ml()),h=n.memoizedState,m=r.memoizedState,h.parent!==c?(h={parent:c,cache:c},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Wr(r,fn,c)):(c=m.cache,Wr(r,fn,c),c!==h.cache&&eh(r,[fn],o,!0))),kn(n,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function yr(n){n.flags|=4}function zh(n,r,o,c,h){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(h&335544128)===h)if(n.stateNode.complete)n.flags|=8192;else if(Lb())n.flags|=8192;else throw Fi=du,rh}else n.flags&=-16777217}function ub(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!jv(r))if(Lb())n.flags|=8192;else throw Fi=du,rh}function Mu(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?dn():536870912,n.lanes|=r,Ja|=r)}function wl(n,r){if(!xt)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Vt(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,c=0;if(r)for(var h=n.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags&65011712,c|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=c,n.childLanes=o,r}function G2(n,r,o){var c=r.pendingProps;switch(Qf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(r),null;case 1:return Vt(r),null;case 3:return o=r.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),hr(fn),_e(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(_a(r)?yr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Xf())),Vt(r),null;case 26:var h=r.type,m=r.memoizedState;return n===null?(yr(r),m!==null?(Vt(r),ub(r,m)):(Vt(r),zh(r,h,null,c,o))):m?m!==n.memoizedState?(yr(r),Vt(r),ub(r,m)):(Vt(r),r.flags&=-16777217):(n=n.memoizedProps,n!==c&&yr(r),Vt(r),zh(r,h,n,c,o)),null;case 27:if(Te(r),o=We.current,h=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==c&&yr(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return Vt(r),null}n=De.current,_a(r)?Wx(r):(n=yv(h,c,o),r.stateNode=n,yr(r))}return Vt(r),null;case 5:if(Te(r),h=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==c&&yr(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return Vt(r),null}if(m=De.current,_a(r))Wx(r);else{var w=Wu(We.current);switch(m){case 1:m=w.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=w.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=w.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=w.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=w.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?w.createElement("select",{is:c.is}):w.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?w.createElement(h,{is:c.is}):w.createElement(h)}}m[Dn]=r,m[qn]=c;e:for(w=r.child;w!==null;){if(w.tag===5||w.tag===6)m.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===r)break e;for(;w.sibling===null;){if(w.return===null||w.return===r)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}r.stateNode=m;e:switch(Pn(m,h,c),h){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&yr(r)}}return Vt(r),zh(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,o),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==c&&yr(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(i(166));if(n=We.current,_a(r)){if(n=r.stateNode,o=r.memoizedProps,c=null,h=En,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}n[Dn]=r,n=!!(n.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||av(n.nodeValue,o)),n||Vr(r,!0)}else n=Wu(n).createTextNode(c),n[Dn]=r,r.stateNode=n}return Vt(r),null;case 31:if(o=r.memoizedState,n===null||n.memoizedState!==null){if(c=_a(r),o!==null){if(n===null){if(!c)throw Error(i(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[Dn]=r}else Ri(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Vt(r),n=!1}else o=Xf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return r.flags&256?(ls(r),r):(ls(r),null);if((r.flags&128)!==0)throw Error(i(558))}return Vt(r),null;case 13:if(c=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=_a(r),c!==null&&c.dehydrated!==null){if(n===null){if(!h)throw Error(i(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Dn]=r}else Ri(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Vt(r),h=!1}else h=Xf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(ls(r),r):(ls(r),null)}return ls(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,n=n!==null&&n.memoizedState!==null,o&&(c=r.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==h&&(c.flags|=2048)),o!==n&&o&&(r.child.flags|=8192),Mu(r,r.updateQueue),Vt(r),null);case 4:return _e(),n===null&&cp(r.stateNode.containerInfo),Vt(r),null;case 10:return hr(r.type),Vt(r),null;case 19:if(de(an),c=r.memoizedState,c===null)return Vt(r),null;if(h=(r.flags&128)!==0,m=c.rendering,m===null)if(h)wl(c,!1);else{if(tn!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(m=mu(n),m!==null){for(r.flags|=128,wl(c,!1),n=m.updateQueue,r.updateQueue=n,Mu(r,n),r.subtreeFlags=0,n=o,o=r.child;o!==null;)Fx(o,n),o=o.sibling;return we(an,an.current&1|2),xt&&dr(r,c.treeForkCount),r.child}n=n.sibling}c.tail!==null&&me()>Ru&&(r.flags|=128,h=!0,wl(c,!1),r.lanes=4194304)}else{if(!h)if(n=mu(m),n!==null){if(r.flags|=128,h=!0,n=n.updateQueue,r.updateQueue=n,Mu(r,n),wl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!xt)return Vt(r),null}else 2*me()-c.renderingStartTime>Ru&&o!==536870912&&(r.flags|=128,h=!0,wl(c,!1),r.lanes=4194304);c.isBackwards?(m.sibling=r.child,r.child=m):(n=c.last,n!==null?n.sibling=m:r.child=m,c.last=m)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=me(),n.sibling=null,o=an.current,we(an,h?o&1|2:o&1),xt&&dr(r,c.treeForkCount),n):(Vt(r),null);case 22:case 23:return ls(r),uh(),c=r.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(Vt(r),r.subtreeFlags&6&&(r.flags|=8192)):Vt(r),o=r.updateQueue,o!==null&&Mu(r,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),n!==null&&de(Li),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),hr(fn),Vt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function $2(n,r){switch(Qf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return hr(fn),_e(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Te(r),null;case 31:if(r.memoizedState!==null){if(ls(r),r.alternate===null)throw Error(i(340));Ri()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(ls(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Ri()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return de(an),null;case 4:return _e(),null;case 10:return hr(r.type),null;case 22:case 23:return ls(r),uh(),n!==null&&de(Li),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return hr(fn),null;case 25:return null;default:return null}}function db(n,r){switch(Qf(r),r.tag){case 3:hr(fn),_e();break;case 26:case 27:case 5:Te(r);break;case 4:_e();break;case 31:r.memoizedState!==null&&ls(r);break;case 13:ls(r);break;case 19:de(an);break;case 10:hr(r.type);break;case 22:case 23:ls(r),uh(),n!==null&&de(Li);break;case 24:hr(fn)}}function Tl(n,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var h=c.next;o=h;do{if((o.tag&n)===n){c=void 0;var m=o.create,w=o.inst;c=m(),w.destroy=c}o=o.next}while(o!==h)}}catch(R){kt(r,r.return,R)}}function Qr(n,r,o){try{var c=r.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var m=h.next;c=m;do{if((c.tag&n)===n){var w=c.inst,R=w.destroy;if(R!==void 0){w.destroy=void 0,h=r;var G=o,re=R;try{re()}catch(ce){kt(h,G,ce)}}}c=c.next}while(c!==m)}}catch(ce){kt(r,r.return,ce)}}function fb(n){var r=n.updateQueue;if(r!==null){var o=n.stateNode;try{n0(r,o)}catch(c){kt(n,n.return,c)}}}function hb(n,r,o){o.props=zi(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(c){kt(n,r,c)}}function Cl(n,r){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof o=="function"?n.refCleanup=o(c):o.current=c}}catch(h){kt(n,r,h)}}function $s(n,r){var o=n.ref,c=n.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(h){kt(n,r,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){kt(n,r,h)}else o.current=null}function pb(n){var r=n.type,o=n.memoizedProps,c=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(h){kt(n,n.return,h)}}function Vh(n,r,o){try{var c=n.stateNode;gM(c,n.type,o,r),c[qn]=r}catch(h){kt(n,n.return,h)}}function mb(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ni(n.type)||n.tag===4}function Wh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||mb(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ni(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Yh(n,r,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(n),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=lr));else if(c!==4&&(c===27&&ni(n.type)&&(o=n.stateNode,r=null),n=n.child,n!==null))for(Yh(n,r,o),n=n.sibling;n!==null;)Yh(n,r,o),n=n.sibling}function ku(n,r,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?o.insertBefore(n,r):o.appendChild(n);else if(c!==4&&(c===27&&ni(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(ku(n,r,o),n=n.sibling;n!==null;)ku(n,r,o),n=n.sibling}function gb(n){var r=n.stateNode,o=n.memoizedProps;try{for(var c=n.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Pn(r,c,o),r[Dn]=n,r[qn]=o}catch(m){kt(n,n.return,m)}}var xr=!1,mn=!1,Uh=!1,yb=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function Q2(n,r){if(n=n.containerInfo,fp=Ku,n=kx(n),Ff(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var h=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var w=0,R=-1,G=-1,re=0,ce=0,pe=n,ie=null;t:for(;;){for(var ae;pe!==o||h!==0&&pe.nodeType!==3||(R=w+h),pe!==m||c!==0&&pe.nodeType!==3||(G=w+c),pe.nodeType===3&&(w+=pe.nodeValue.length),(ae=pe.firstChild)!==null;)ie=pe,pe=ae;for(;;){if(pe===n)break t;if(ie===o&&++re===h&&(R=w),ie===m&&++ce===c&&(G=w),(ae=pe.nextSibling)!==null)break;pe=ie,ie=pe.parentNode}pe=ae}o=R===-1||G===-1?null:{start:R,end:G}}else o=null}o=o||{start:0,end:0}}else o=null;for(hp={focusedElem:n,selectionRange:o},Ku=!1,Cn=r;Cn!==null;)if(r=Cn,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Cn=n;else for(;Cn!==null;){switch(r=Cn,m=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)h=n[o],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,o=r,h=m.memoizedProps,m=m.memoizedState,c=o.stateNode;try{var Re=zi(o.type,h);n=c.getSnapshotBeforeUpdate(Re,m),c.__reactInternalSnapshotBeforeUpdate=n}catch(Ke){kt(o,o.return,Ke)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,o=n.nodeType,o===9)gp(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":gp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=r.sibling,n!==null){n.return=r.return,Cn=n;break}Cn=r.return}}function xb(n,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:vr(n,o),c&4&&Tl(5,o);break;case 1:if(vr(n,o),c&4)if(n=o.stateNode,r===null)try{n.componentDidMount()}catch(w){kt(o,o.return,w)}else{var h=zi(o.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(h,r,n.__reactInternalSnapshotBeforeUpdate)}catch(w){kt(o,o.return,w)}}c&64&&fb(o),c&512&&Cl(o,o.return);break;case 3:if(vr(n,o),c&64&&(n=o.updateQueue,n!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{n0(n,r)}catch(w){kt(o,o.return,w)}}break;case 27:r===null&&c&4&&gb(o);case 26:case 5:vr(n,o),r===null&&c&4&&pb(o),c&512&&Cl(o,o.return);break;case 12:vr(n,o);break;case 31:vr(n,o),c&4&&Sb(n,o);break;case 13:vr(n,o),c&4&&wb(n,o),c&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=rM.bind(null,o),CM(n,o))));break;case 22:if(c=o.memoizedState!==null||xr,!c){r=r!==null&&r.memoizedState!==null||mn,h=xr;var m=mn;xr=c,(mn=r)&&!m?Sr(n,o,(o.subtreeFlags&8772)!==0):vr(n,o),xr=h,mn=m}break;case 30:break;default:vr(n,o)}}function bb(n){var r=n.alternate;r!==null&&(n.alternate=null,bb(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Sf(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Gt=null,$n=!1;function br(n,r,o){for(o=o.child;o!==null;)vb(n,r,o),o=o.sibling}function vb(n,r,o){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(rt,o)}catch{}switch(o.tag){case 26:mn||$s(o,r),br(n,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:mn||$s(o,r);var c=Gt,h=$n;ni(o.type)&&(Gt=o.stateNode,$n=!1),br(n,r,o),Rl(o.stateNode),Gt=c,$n=h;break;case 5:mn||$s(o,r);case 6:if(c=Gt,h=$n,Gt=null,br(n,r,o),Gt=c,$n=h,Gt!==null)if($n)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(o.stateNode)}catch(m){kt(o,r,m)}else try{Gt.removeChild(o.stateNode)}catch(m){kt(o,r,m)}break;case 18:Gt!==null&&($n?(n=Gt,fv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),oo(n)):fv(Gt,o.stateNode));break;case 4:c=Gt,h=$n,Gt=o.stateNode.containerInfo,$n=!0,br(n,r,o),Gt=c,$n=h;break;case 0:case 11:case 14:case 15:Qr(2,o,r),mn||Qr(4,o,r),br(n,r,o);break;case 1:mn||($s(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&hb(o,r,c)),br(n,r,o);break;case 21:br(n,r,o);break;case 22:mn=(c=mn)||o.memoizedState!==null,br(n,r,o),mn=c;break;default:br(n,r,o)}}function Sb(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{oo(n)}catch(o){kt(r,r.return,o)}}}function wb(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{oo(n)}catch(o){kt(r,r.return,o)}}function K2(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new yb),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new yb),r;default:throw Error(i(435,n.tag))}}function Pu(n,r){var o=K2(n);r.forEach(function(c){if(!o.has(c)){o.add(c);var h=iM.bind(null,n,c);c.then(h,h)}})}function Qn(n,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var h=o[c],m=n,w=r,R=w;e:for(;R!==null;){switch(R.tag){case 27:if(ni(R.type)){Gt=R.stateNode,$n=!1;break e}break;case 5:Gt=R.stateNode,$n=!1;break e;case 3:case 4:Gt=R.stateNode.containerInfo,$n=!0;break e}R=R.return}if(Gt===null)throw Error(i(160));vb(m,w,h),Gt=null,$n=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Tb(r,n),r=r.sibling}var Fs=null;function Tb(n,r){var o=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Qn(r,n),Kn(n),c&4&&(Qr(3,n,n.return),Tl(3,n),Qr(5,n,n.return));break;case 1:Qn(r,n),Kn(n),c&512&&(mn||o===null||$s(o,o.return)),c&64&&xr&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var h=Fs;if(Qn(r,n),Kn(n),c&512&&(mn||o===null||$s(o,o.return)),c&4){var m=o!==null?o.memoizedState:null;if(c=n.memoizedState,o===null)if(c===null)if(n.stateNode===null){e:{c=n.type,o=n.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Xo]||m[Dn]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(c),h.head.insertBefore(m,h.querySelector("head > title"))),Pn(m,c,o),m[Dn]=n,Tn(m),c=m;break e;case"link":var w=Tv("link","href",h).get(c+(o.href||""));if(w){for(var R=0;R<w.length;R++)if(m=w[R],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(R,1);break t}}m=h.createElement(c),Pn(m,c,o),h.head.appendChild(m);break;case"meta":if(w=Tv("meta","content",h).get(c+(o.content||""))){for(R=0;R<w.length;R++)if(m=w[R],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(R,1);break t}}m=h.createElement(c),Pn(m,c,o),h.head.appendChild(m);break;default:throw Error(i(468,c))}m[Dn]=n,Tn(m),c=m}n.stateNode=c}else Cv(h,n.type,n.stateNode);else n.stateNode=wv(h,c,n.memoizedProps);else m!==c?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,c===null?Cv(h,n.type,n.stateNode):wv(h,c,n.memoizedProps)):c===null&&n.stateNode!==null&&Vh(n,n.memoizedProps,o.memoizedProps)}break;case 27:Qn(r,n),Kn(n),c&512&&(mn||o===null||$s(o,o.return)),o!==null&&c&4&&Vh(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Qn(r,n),Kn(n),c&512&&(mn||o===null||$s(o,o.return)),n.flags&32){h=n.stateNode;try{Pa(h,"")}catch(Re){kt(n,n.return,Re)}}c&4&&n.stateNode!=null&&(h=n.memoizedProps,Vh(n,h,o!==null?o.memoizedProps:h)),c&1024&&(Uh=!0);break;case 6:if(Qn(r,n),Kn(n),c&4){if(n.stateNode===null)throw Error(i(162));c=n.memoizedProps,o=n.stateNode;try{o.nodeValue=c}catch(Re){kt(n,n.return,Re)}}break;case 3:if(qu=null,h=Fs,Fs=Yu(r.containerInfo),Qn(r,n),Fs=h,Kn(n),c&4&&o!==null&&o.memoizedState.isDehydrated)try{oo(r.containerInfo)}catch(Re){kt(n,n.return,Re)}Uh&&(Uh=!1,Cb(n));break;case 4:c=Fs,Fs=Yu(n.stateNode.containerInfo),Qn(r,n),Kn(n),Fs=c;break;case 12:Qn(r,n),Kn(n);break;case 31:Qn(r,n),Kn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Pu(n,c)));break;case 13:Qn(r,n),Kn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ou=me()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Pu(n,c)));break;case 22:h=n.memoizedState!==null;var G=o!==null&&o.memoizedState!==null,re=xr,ce=mn;if(xr=re||h,mn=ce||G,Qn(r,n),mn=ce,xr=re,Kn(n),c&8192)e:for(r=n.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(o===null||G||xr||mn||Vi(n)),o=null,r=n;;){if(r.tag===5||r.tag===26){if(o===null){G=o=r;try{if(m=G.stateNode,h)w=m.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{R=G.stateNode;var pe=G.memoizedProps.style,ie=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;R.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(Re){kt(G,G.return,Re)}}}else if(r.tag===6){if(o===null){G=r;try{G.stateNode.nodeValue=h?"":G.memoizedProps}catch(Re){kt(G,G.return,Re)}}}else if(r.tag===18){if(o===null){G=r;try{var ae=G.stateNode;h?hv(ae,!0):hv(G.stateNode,!1)}catch(Re){kt(G,G.return,Re)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=n.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Pu(n,o))));break;case 19:Qn(r,n),Kn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Pu(n,c)));break;case 30:break;case 21:break;default:Qn(r,n),Kn(n)}}function Kn(n){var r=n.flags;if(r&2){try{for(var o,c=n.return;c!==null;){if(mb(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var h=o.stateNode,m=Wh(n);ku(n,m,h);break;case 5:var w=o.stateNode;o.flags&32&&(Pa(w,""),o.flags&=-33);var R=Wh(n);ku(n,R,w);break;case 3:case 4:var G=o.stateNode.containerInfo,re=Wh(n);Yh(n,re,G);break;default:throw Error(i(161))}}catch(ce){kt(n,n.return,ce)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Cb(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Cb(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function vr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)xb(n,r.alternate,r),r=r.sibling}function Vi(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Qr(4,r,r.return),Vi(r);break;case 1:$s(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&hb(r,r.return,o),Vi(r);break;case 27:Rl(r.stateNode);case 26:case 5:$s(r,r.return),Vi(r);break;case 22:r.memoizedState===null&&Vi(r);break;case 30:Vi(r);break;default:Vi(r)}n=n.sibling}}function Sr(n,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,h=n,m=r,w=m.flags;switch(m.tag){case 0:case 11:case 15:Sr(h,m,o),Tl(4,m);break;case 1:if(Sr(h,m,o),c=m,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(re){kt(c,c.return,re)}if(c=m,h=c.updateQueue,h!==null){var R=c.stateNode;try{var G=h.shared.hiddenCallbacks;if(G!==null)for(h.shared.hiddenCallbacks=null,h=0;h<G.length;h++)t0(G[h],R)}catch(re){kt(c,c.return,re)}}o&&w&64&&fb(m),Cl(m,m.return);break;case 27:gb(m);case 26:case 5:Sr(h,m,o),o&&c===null&&w&4&&pb(m),Cl(m,m.return);break;case 12:Sr(h,m,o);break;case 31:Sr(h,m,o),o&&w&4&&Sb(h,m);break;case 13:Sr(h,m,o),o&&w&4&&wb(h,m);break;case 22:m.memoizedState===null&&Sr(h,m,o),Cl(m,m.return);break;case 30:break;default:Sr(h,m,o)}r=r.sibling}}function qh(n,r){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&ul(o))}function Gh(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ul(n))}function Hs(n,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)jb(n,r,o,c),r=r.sibling}function jb(n,r,o,c){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Hs(n,r,o,c),h&2048&&Tl(9,r);break;case 1:Hs(n,r,o,c);break;case 3:Hs(n,r,o,c),h&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ul(n)));break;case 12:if(h&2048){Hs(n,r,o,c),n=r.stateNode;try{var m=r.memoizedProps,w=m.id,R=m.onPostCommit;typeof R=="function"&&R(w,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(G){kt(r,r.return,G)}}else Hs(n,r,o,c);break;case 31:Hs(n,r,o,c);break;case 13:Hs(n,r,o,c);break;case 23:break;case 22:m=r.stateNode,w=r.alternate,r.memoizedState!==null?m._visibility&2?Hs(n,r,o,c):jl(n,r):m._visibility&2?Hs(n,r,o,c):(m._visibility|=2,Ka(n,r,o,c,(r.subtreeFlags&10256)!==0||!1)),h&2048&&qh(w,r);break;case 24:Hs(n,r,o,c),h&2048&&Gh(r.alternate,r);break;default:Hs(n,r,o,c)}}function Ka(n,r,o,c,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=n,w=r,R=o,G=c,re=w.flags;switch(w.tag){case 0:case 11:case 15:Ka(m,w,R,G,h),Tl(8,w);break;case 23:break;case 22:var ce=w.stateNode;w.memoizedState!==null?ce._visibility&2?Ka(m,w,R,G,h):jl(m,w):(ce._visibility|=2,Ka(m,w,R,G,h)),h&&re&2048&&qh(w.alternate,w);break;case 24:Ka(m,w,R,G,h),h&&re&2048&&Gh(w.alternate,w);break;default:Ka(m,w,R,G,h)}r=r.sibling}}function jl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=n,c=r,h=c.flags;switch(c.tag){case 22:jl(o,c),h&2048&&qh(c.alternate,c);break;case 24:jl(o,c),h&2048&&Gh(c.alternate,c);break;default:jl(o,c)}r=r.sibling}}var Dl=8192;function Xa(n,r,o){if(n.subtreeFlags&Dl)for(n=n.child;n!==null;)Db(n,r,o),n=n.sibling}function Db(n,r,o){switch(n.tag){case 26:Xa(n,r,o),n.flags&Dl&&n.memoizedState!==null&&LM(o,Fs,n.memoizedState,n.memoizedProps);break;case 5:Xa(n,r,o);break;case 3:case 4:var c=Fs;Fs=Yu(n.stateNode.containerInfo),Xa(n,r,o),Fs=c;break;case 22:n.memoizedState===null&&(c=n.alternate,c!==null&&c.memoizedState!==null?(c=Dl,Dl=16777216,Xa(n,r,o),Dl=c):Xa(n,r,o));break;default:Xa(n,r,o)}}function Eb(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function El(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Cn=c,kb(c,n)}Eb(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Mb(n),n=n.sibling}function Mb(n){switch(n.tag){case 0:case 11:case 15:El(n),n.flags&2048&&Qr(9,n,n.return);break;case 3:El(n);break;case 12:El(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Au(n)):El(n);break;default:El(n)}}function Au(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Cn=c,kb(c,n)}Eb(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Qr(8,r,r.return),Au(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Au(r));break;default:Au(r)}n=n.sibling}}function kb(n,r){for(;Cn!==null;){var o=Cn;switch(o.tag){case 0:case 11:case 15:Qr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ul(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Cn=c;else e:for(o=n;Cn!==null;){c=Cn;var h=c.sibling,m=c.return;if(bb(c),c===o){Cn=null;break e}if(h!==null){h.return=m,Cn=h;break e}Cn=m}}}var X2={getCacheForType:function(n){var r=Mn(fn),o=r.data.get(n);return o===void 0&&(o=n(),r.data.set(n,o)),o},cacheSignal:function(){return Mn(fn).controller.signal}},Z2=typeof WeakMap=="function"?WeakMap:Map,jt=0,Nt=null,ht=null,mt=0,Mt=0,cs=null,Kr=!1,Za=!1,$h=!1,wr=0,tn=0,Xr=0,Wi=0,Qh=0,us=0,Ja=0,Ml=null,Xn=null,Kh=!1,Ou=0,Pb=0,Ru=1/0,Iu=null,Zr=null,bn=0,Jr=null,eo=null,Tr=0,Xh=0,Zh=null,Ab=null,kl=0,Jh=null;function ds(){return(jt&2)!==0&&mt!==0?mt&-mt:B.T!==null?ip():Gy()}function Ob(){if(us===0)if((mt&536870912)===0||xt){var n=Us;Us<<=1,(Us&3932160)===0&&(Us=262144),us=n}else us=536870912;return n=os.current,n!==null&&(n.flags|=32),us}function Zn(n,r,o){(n===Nt&&(Mt===2||Mt===9)||n.cancelPendingCommit!==null)&&(to(n,0),ei(n,mt,us,!1)),Nr(n,o),((jt&2)===0||n!==Nt)&&(n===Nt&&((jt&2)===0&&(Wi|=o),tn===4&&ei(n,mt,us,!1)),Qs(n))}function Rb(n,r,o){if((jt&6)!==0)throw Error(i(327));var c=!o&&(r&127)===0&&(r&n.expiredLanes)===0||Ta(n,r),h=c?tM(n,r):tp(n,r,!0),m=c;do{if(h===0){Za&&!c&&ei(n,r,0,!1);break}else{if(o=n.current.alternate,m&&!J2(o)){h=tp(n,r,!1),m=!1;continue}if(h===2){if(m=r,n.errorRecoveryDisabledLanes&m)var w=0;else w=n.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;e:{var R=n;h=Ml;var G=R.current.memoizedState.isDehydrated;if(G&&(to(R,w).flags|=256),w=tp(R,w,!1),w!==2){if($h&&!G){R.errorRecoveryDisabledLanes|=m,Wi|=m,h=4;break e}m=Xn,Xn=h,m!==null&&(Xn===null?Xn=m:Xn.push.apply(Xn,m))}h=w}if(m=!1,h!==2)continue}}if(h===1){to(n,0),ei(n,r,0,!0);break}e:{switch(c=n,m=h,m){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:ei(c,r,us,!Kr);break e;case 2:Xn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(h=Ou+300-me(),10<h)){if(ei(c,r,us,!Kr),wa(c,0,!0)!==0)break e;Tr=r,c.timeoutHandle=uv(Ib.bind(null,c,o,Xn,Iu,Kh,r,us,Wi,Ja,Kr,m,"Throttled",-0,0),h);break e}Ib(c,o,Xn,Iu,Kh,r,us,Wi,Ja,Kr,m,null,-0,0)}}break}while(!0);Qs(n)}function Ib(n,r,o,c,h,m,w,R,G,re,ce,pe,ie,ae){if(n.timeoutHandle=-1,pe=r.subtreeFlags,pe&8192||(pe&16785408)===16785408){pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:lr},Db(r,m,pe);var Re=(m&62914560)===m?Ou-me():(m&4194048)===m?Pb-me():0;if(Re=NM(pe,Re),Re!==null){Tr=m,n.cancelPendingCommit=Re(Vb.bind(null,n,r,m,o,c,h,w,R,G,ce,pe,null,ie,ae)),ei(n,m,w,!re);return}}Vb(n,r,m,o,c,h,w,R,G)}function J2(n){for(var r=n;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var h=o[c],m=h.getSnapshot;h=h.value;try{if(!is(m(),h))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ei(n,r,o,c){r&=~Qh,r&=~Wi,n.suspendedLanes|=r,n.pingedLanes&=~r,c&&(n.warmLanes|=r),c=n.expirationTimes;for(var h=r;0<h;){var m=31-qt(h),w=1<<m;c[m]=-1,h&=~w}o!==0&&Yy(n,o,r)}function Bu(){return(jt&6)===0?(Pl(0),!1):!0}function ep(){if(ht!==null){if(Mt===0)var n=ht.return;else n=ht,fr=Ii=null,gh(n),Ua=null,fl=0,n=ht;for(;n!==null;)db(n.alternate,n),n=n.return;ht=null}}function to(n,r){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,bM(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Tr=0,ep(),Nt=n,ht=o=ur(n.current,null),mt=r,Mt=0,cs=null,Kr=!1,Za=Ta(n,r),$h=!1,Ja=us=Qh=Wi=Xr=tn=0,Xn=Ml=null,Kh=!1,(r&8)!==0&&(r|=r&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=r;0<c;){var h=31-qt(c),m=1<<h;r|=n[h],c&=~m}return wr=r,nu(),o}function Bb(n,r){at=null,B.H=vl,r===Ya||r===uu?(r=Xx(),Mt=3):r===rh?(r=Xx(),Mt=4):Mt=r===Oh?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,cs=r,ht===null&&(tn=1,Cu(n,ws(r,n.current)))}function Lb(){var n=os.current;return n===null?!0:(mt&4194048)===mt?Ds===null:(mt&62914560)===mt||(mt&536870912)!==0?n===Ds:!1}function Nb(){var n=B.H;return B.H=vl,n===null?vl:n}function Fb(){var n=B.A;return B.A=X2,n}function Lu(){tn=4,Kr||(mt&4194048)!==mt&&os.current!==null||(Za=!0),(Xr&134217727)===0&&(Wi&134217727)===0||Nt===null||ei(Nt,mt,us,!1)}function tp(n,r,o){var c=jt;jt|=2;var h=Nb(),m=Fb();(Nt!==n||mt!==r)&&(Iu=null,to(n,r)),r=!1;var w=tn;e:do try{if(Mt!==0&&ht!==null){var R=ht,G=cs;switch(Mt){case 8:ep(),w=6;break e;case 3:case 2:case 9:case 6:os.current===null&&(r=!0);var re=Mt;if(Mt=0,cs=null,no(n,R,G,re),o&&Za){w=0;break e}break;default:re=Mt,Mt=0,cs=null,no(n,R,G,re)}}eM(),w=tn;break}catch(ce){Bb(n,ce)}while(!0);return r&&n.shellSuspendCounter++,fr=Ii=null,jt=c,B.H=h,B.A=m,ht===null&&(Nt=null,mt=0,nu()),w}function eM(){for(;ht!==null;)Hb(ht)}function tM(n,r){var o=jt;jt|=2;var c=Nb(),h=Fb();Nt!==n||mt!==r?(Iu=null,Ru=me()+500,to(n,r)):Za=Ta(n,r);e:do try{if(Mt!==0&&ht!==null){r=ht;var m=cs;t:switch(Mt){case 1:Mt=0,cs=null,no(n,r,m,1);break;case 2:case 9:if(Qx(m)){Mt=0,cs=null,_b(r);break}r=function(){Mt!==2&&Mt!==9||Nt!==n||(Mt=7),Qs(n)},m.then(r,r);break e;case 3:Mt=7;break e;case 4:Mt=5;break e;case 7:Qx(m)?(Mt=0,cs=null,_b(r)):(Mt=0,cs=null,no(n,r,m,7));break;case 5:var w=null;switch(ht.tag){case 26:w=ht.memoizedState;case 5:case 27:var R=ht;if(w?jv(w):R.stateNode.complete){Mt=0,cs=null;var G=R.sibling;if(G!==null)ht=G;else{var re=R.return;re!==null?(ht=re,Nu(re)):ht=null}break t}}Mt=0,cs=null,no(n,r,m,5);break;case 6:Mt=0,cs=null,no(n,r,m,6);break;case 8:ep(),tn=6;break e;default:throw Error(i(462))}}nM();break}catch(ce){Bb(n,ce)}while(!0);return fr=Ii=null,B.H=c,B.A=h,jt=o,ht!==null?0:(Nt=null,mt=0,nu(),tn)}function nM(){for(;ht!==null&&!K();)Hb(ht)}function Hb(n){var r=cb(n.alternate,n,wr);n.memoizedProps=n.pendingProps,r===null?Nu(n):ht=r}function _b(n){var r=n,o=r.alternate;switch(r.tag){case 15:case 0:r=sb(o,r,r.pendingProps,r.type,void 0,mt);break;case 11:r=sb(o,r,r.pendingProps,r.type.render,r.ref,mt);break;case 5:gh(r);default:db(o,r),r=ht=Fx(r,wr),r=cb(o,r,wr)}n.memoizedProps=n.pendingProps,r===null?Nu(n):ht=r}function no(n,r,o,c){fr=Ii=null,gh(r),Ua=null,fl=0;var h=r.return;try{if(Y2(n,h,r,o,mt)){tn=1,Cu(n,ws(o,n.current)),ht=null;return}}catch(m){if(h!==null)throw ht=h,m;tn=1,Cu(n,ws(o,n.current)),ht=null;return}r.flags&32768?(xt||c===1?n=!0:Za||(mt&536870912)!==0?n=!1:(Kr=n=!0,(c===2||c===9||c===3||c===6)&&(c=os.current,c!==null&&c.tag===13&&(c.flags|=16384))),zb(r,n)):Nu(r)}function Nu(n){var r=n;do{if((r.flags&32768)!==0){zb(r,Kr);return}n=r.return;var o=G2(r.alternate,r,wr);if(o!==null){ht=o;return}if(r=r.sibling,r!==null){ht=r;return}ht=r=n}while(r!==null);tn===0&&(tn=5)}function zb(n,r){do{var o=$2(n.alternate,n);if(o!==null){o.flags&=32767,ht=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(n=n.sibling,n!==null)){ht=n;return}ht=n=o}while(n!==null);tn=6,ht=null}function Vb(n,r,o,c,h,m,w,R,G){n.cancelPendingCommit=null;do Fu();while(bn!==0);if((jt&6)!==0)throw Error(i(327));if(r!==null){if(r===n.current)throw Error(i(177));if(m=r.lanes|r.childLanes,m|=Wf,BE(n,o,m,w,R,G),n===Nt&&(ht=Nt=null,mt=0),eo=r,Jr=n,Tr=o,Xh=m,Zh=h,Ab=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,aM(ot,function(){return Gb(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=B.T,B.T=null,h=O.p,O.p=2,w=jt,jt|=4;try{Q2(n,r,o)}finally{jt=w,O.p=h,B.T=c}}bn=1,Wb(),Yb(),Ub()}}function Wb(){if(bn===1){bn=0;var n=Jr,r=eo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=B.T,B.T=null;var c=O.p;O.p=2;var h=jt;jt|=4;try{Tb(r,n);var m=hp,w=kx(n.containerInfo),R=m.focusedElem,G=m.selectionRange;if(w!==R&&R&&R.ownerDocument&&Mx(R.ownerDocument.documentElement,R)){if(G!==null&&Ff(R)){var re=G.start,ce=G.end;if(ce===void 0&&(ce=re),"selectionStart"in R)R.selectionStart=re,R.selectionEnd=Math.min(ce,R.value.length);else{var pe=R.ownerDocument||document,ie=pe&&pe.defaultView||window;if(ie.getSelection){var ae=ie.getSelection(),Re=R.textContent.length,Ke=Math.min(G.start,Re),Bt=G.end===void 0?Ke:Math.min(G.end,Re);!ae.extend&&Ke>Bt&&(w=Bt,Bt=Ke,Ke=w);var J=Ex(R,Ke),X=Ex(R,Bt);if(J&&X&&(ae.rangeCount!==1||ae.anchorNode!==J.node||ae.anchorOffset!==J.offset||ae.focusNode!==X.node||ae.focusOffset!==X.offset)){var se=pe.createRange();se.setStart(J.node,J.offset),ae.removeAllRanges(),Ke>Bt?(ae.addRange(se),ae.extend(X.node,X.offset)):(se.setEnd(X.node,X.offset),ae.addRange(se))}}}}for(pe=[],ae=R;ae=ae.parentNode;)ae.nodeType===1&&pe.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<pe.length;R++){var he=pe[R];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}Ku=!!fp,hp=fp=null}finally{jt=h,O.p=c,B.T=o}}n.current=r,bn=2}}function Yb(){if(bn===2){bn=0;var n=Jr,r=eo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=B.T,B.T=null;var c=O.p;O.p=2;var h=jt;jt|=4;try{xb(n,r.alternate,r)}finally{jt=h,O.p=c,B.T=o}}bn=3}}function Ub(){if(bn===4||bn===3){bn=0,fe();var n=Jr,r=eo,o=Tr,c=Ab;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?bn=5:(bn=0,eo=Jr=null,qb(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(Zr=null),bf(o),r=r.stateNode,it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(rt,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=B.T,h=O.p,O.p=2,B.T=null;try{for(var m=n.onRecoverableError,w=0;w<c.length;w++){var R=c[w];m(R.value,{componentStack:R.stack})}}finally{B.T=r,O.p=h}}(Tr&3)!==0&&Fu(),Qs(n),h=n.pendingLanes,(o&261930)!==0&&(h&42)!==0?n===Jh?kl++:(kl=0,Jh=n):kl=0,Pl(0)}}function qb(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,ul(r)))}function Fu(){return Wb(),Yb(),Ub(),Gb()}function Gb(){if(bn!==5)return!1;var n=Jr,r=Xh;Xh=0;var o=bf(Tr),c=B.T,h=O.p;try{O.p=32>o?32:o,B.T=null,o=Zh,Zh=null;var m=Jr,w=Tr;if(bn=0,eo=Jr=null,Tr=0,(jt&6)!==0)throw Error(i(331));var R=jt;if(jt|=4,Mb(m.current),jb(m,m.current,w,o),jt=R,Pl(0,!1),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(rt,m)}catch{}return!0}finally{O.p=h,B.T=c,qb(n,r)}}function $b(n,r,o){r=ws(o,r),r=Ah(n.stateNode,r,2),n=qr(n,r,2),n!==null&&(Nr(n,2),Qs(n))}function kt(n,r,o){if(n.tag===3)$b(n,n,o);else for(;r!==null;){if(r.tag===3){$b(r,n,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Zr===null||!Zr.has(c))){n=ws(o,n),o=Q0(2),c=qr(r,o,2),c!==null&&(K0(o,c,r,n),Nr(c,2),Qs(c));break}}r=r.return}}function np(n,r,o){var c=n.pingCache;if(c===null){c=n.pingCache=new Z2;var h=new Set;c.set(r,h)}else h=c.get(r),h===void 0&&(h=new Set,c.set(r,h));h.has(o)||($h=!0,h.add(o),n=sM.bind(null,n,r,o),r.then(n,n))}function sM(n,r,o){var c=n.pingCache;c!==null&&c.delete(r),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Nt===n&&(mt&o)===o&&(tn===4||tn===3&&(mt&62914560)===mt&&300>me()-Ou?(jt&2)===0&&to(n,0):Qh|=o,Ja===mt&&(Ja=0)),Qs(n)}function Qb(n,r){r===0&&(r=dn()),n=Ai(n,r),n!==null&&(Nr(n,r),Qs(n))}function rM(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),Qb(n,o)}function iM(n,r){var o=0;switch(n.tag){case 31:case 13:var c=n.stateNode,h=n.memoizedState;h!==null&&(o=h.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(r),Qb(n,o)}function aM(n,r){return $(n,r)}var Hu=null,so=null,sp=!1,_u=!1,rp=!1,ti=0;function Qs(n){n!==so&&n.next===null&&(so===null?Hu=so=n:so=so.next=n),_u=!0,sp||(sp=!0,lM())}function Pl(n,r){if(!rp&&_u){rp=!0;do for(var o=!1,c=Hu;c!==null;){if(n!==0){var h=c.pendingLanes;if(h===0)var m=0;else{var w=c.suspendedLanes,R=c.pingedLanes;m=(1<<31-qt(42|n)+1)-1,m&=h&~(w&~R),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,Jb(c,m))}else m=mt,m=wa(c,c===Nt?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||Ta(c,m)||(o=!0,Jb(c,m));c=c.next}while(o);rp=!1}}function oM(){Kb()}function Kb(){_u=sp=!1;var n=0;ti!==0&&xM()&&(n=ti);for(var r=me(),o=null,c=Hu;c!==null;){var h=c.next,m=Xb(c,r);m===0?(c.next=null,o===null?Hu=h:o.next=h,h===null&&(so=o)):(o=c,(n!==0||(m&3)!==0)&&(_u=!0)),c=h}bn!==0&&bn!==5||Pl(n),ti!==0&&(ti=0)}function Xb(n,r){for(var o=n.suspendedLanes,c=n.pingedLanes,h=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var w=31-qt(m),R=1<<w,G=h[w];G===-1?((R&o)===0||(R&c)!==0)&&(h[w]=Wy(R,r)):G<=r&&(n.expiredLanes|=R),m&=~R}if(r=Nt,o=mt,o=wa(n,n===r?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,o===0||n===r&&(Mt===2||Mt===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&ge(c),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Ta(n,o)){if(r=o&-o,r===n.callbackPriority)return r;switch(c!==null&&ge(c),bf(o)){case 2:case 8:o=Qe;break;case 32:o=ot;break;case 268435456:o=qe;break;default:o=ot}return c=Zb.bind(null,n),o=$(o,c),n.callbackPriority=r,n.callbackNode=o,r}return c!==null&&c!==null&&ge(c),n.callbackPriority=2,n.callbackNode=null,2}function Zb(n,r){if(bn!==0&&bn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Fu()&&n.callbackNode!==o)return null;var c=mt;return c=wa(n,n===Nt?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(Rb(n,c,r),Xb(n,me()),n.callbackNode!=null&&n.callbackNode===o?Zb.bind(null,n):null)}function Jb(n,r){if(Fu())return null;Rb(n,r,!0)}function lM(){vM(function(){(jt&6)!==0?$(Oe,oM):Kb()})}function ip(){if(ti===0){var n=Va;n===0&&(n=Ln,Ln<<=1,(Ln&261888)===0&&(Ln=256)),ti=n}return ti}function ev(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:$c(""+n)}function tv(n,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,n.id&&o.setAttribute("form",n.id),r.parentNode.insertBefore(o,r),n=new FormData(n),o.parentNode.removeChild(o),n}function cM(n,r,o,c,h){if(r==="submit"&&o&&o.stateNode===h){var m=ev((h[qn]||null).action),w=c.submitter;w&&(r=(r=w[qn]||null)?ev(r.formAction):w.getAttribute("formAction"),r!==null&&(m=r,w=null));var R=new Zc("action","action",null,c,h);n.push({event:R,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ti!==0){var G=w?tv(h,w):new FormData(h);jh(o,{pending:!0,data:G,method:h.method,action:m},null,G)}}else typeof m=="function"&&(R.preventDefault(),G=w?tv(h,w):new FormData(h),jh(o,{pending:!0,data:G,method:h.method,action:m},m,G))},currentTarget:h}]})}}for(var ap=0;ap<Vf.length;ap++){var op=Vf[ap],uM=op.toLowerCase(),dM=op[0].toUpperCase()+op.slice(1);Ns(uM,"on"+dM)}Ns(Ox,"onAnimationEnd"),Ns(Rx,"onAnimationIteration"),Ns(Ix,"onAnimationStart"),Ns("dblclick","onDoubleClick"),Ns("focusin","onFocus"),Ns("focusout","onBlur"),Ns(E2,"onTransitionRun"),Ns(M2,"onTransitionStart"),Ns(k2,"onTransitionCancel"),Ns(Bx,"onTransitionEnd"),Ma("onMouseEnter",["mouseout","mouseover"]),Ma("onMouseLeave",["mouseout","mouseover"]),Ma("onPointerEnter",["pointerout","pointerover"]),Ma("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function nv(n,r){r=(r&4)!==0;for(var o=0;o<n.length;o++){var c=n[o],h=c.event;c=c.listeners;e:{var m=void 0;if(r)for(var w=c.length-1;0<=w;w--){var R=c[w],G=R.instance,re=R.currentTarget;if(R=R.listener,G!==m&&h.isPropagationStopped())break e;m=R,h.currentTarget=re;try{m(h)}catch(ce){tu(ce)}h.currentTarget=null,m=G}else for(w=0;w<c.length;w++){if(R=c[w],G=R.instance,re=R.currentTarget,R=R.listener,G!==m&&h.isPropagationStopped())break e;m=R,h.currentTarget=re;try{m(h)}catch(ce){tu(ce)}h.currentTarget=null,m=G}}}}function pt(n,r){var o=r[vf];o===void 0&&(o=r[vf]=new Set);var c=n+"__bubble";o.has(c)||(sv(r,n,2,!1),o.add(c))}function lp(n,r,o){var c=0;r&&(c|=4),sv(o,n,c,r)}var zu="_reactListening"+Math.random().toString(36).slice(2);function cp(n){if(!n[zu]){n[zu]=!0,Ky.forEach(function(o){o!=="selectionchange"&&(fM.has(o)||lp(o,!1,n),lp(o,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[zu]||(r[zu]=!0,lp("selectionchange",!1,r))}}function sv(n,r,o,c){switch(Ov(r)){case 2:var h=_M;break;case 8:h=zM;break;default:h=Cp}o=h.bind(null,r,o,n),h=void 0,!kf||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),c?h!==void 0?n.addEventListener(r,o,{capture:!0,passive:h}):n.addEventListener(r,o,!0):h!==void 0?n.addEventListener(r,o,{passive:h}):n.addEventListener(r,o,!1)}function up(n,r,o,c,h){var m=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var R=c.stateNode.containerInfo;if(R===h)break;if(w===4)for(w=c.return;w!==null;){var G=w.tag;if((G===3||G===4)&&w.stateNode.containerInfo===h)return;w=w.return}for(;R!==null;){if(w=ja(R),w===null)return;if(G=w.tag,G===5||G===6||G===26||G===27){c=m=w;continue e}R=R.parentNode}}c=c.return}lx(function(){var re=m,ce=Ef(o),pe=[];e:{var ie=Lx.get(n);if(ie!==void 0){var ae=Zc,Re=n;switch(n){case"keypress":if(Kc(o)===0)break e;case"keydown":case"keyup":ae=i2;break;case"focusin":Re="focus",ae=Rf;break;case"focusout":Re="blur",ae=Rf;break;case"beforeblur":case"afterblur":ae=Rf;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=dx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=GE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=l2;break;case Ox:case Rx:case Ix:ae=KE;break;case Bx:ae=u2;break;case"scroll":case"scrollend":ae=UE;break;case"wheel":ae=f2;break;case"copy":case"cut":case"paste":ae=ZE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=hx;break;case"toggle":case"beforetoggle":ae=p2}var Ke=(r&4)!==0,Bt=!Ke&&(n==="scroll"||n==="scrollend"),J=Ke?ie!==null?ie+"Capture":null:ie;Ke=[];for(var X=re,se;X!==null;){var he=X;if(se=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||se===null||J===null||(he=Jo(X,J),he!=null&&Ke.push(Ol(X,he,se))),Bt)break;X=X.return}0<Ke.length&&(ie=new ae(ie,Re,null,o,ce),pe.push({event:ie,listeners:Ke}))}}if((r&7)===0){e:{if(ie=n==="mouseover"||n==="pointerover",ae=n==="mouseout"||n==="pointerout",ie&&o!==Df&&(Re=o.relatedTarget||o.fromElement)&&(ja(Re)||Re[Ca]))break e;if((ae||ie)&&(ie=ce.window===ce?ce:(ie=ce.ownerDocument)?ie.defaultView||ie.parentWindow:window,ae?(Re=o.relatedTarget||o.toElement,ae=re,Re=Re?ja(Re):null,Re!==null&&(Bt=u(Re),Ke=Re.tag,Re!==Bt||Ke!==5&&Ke!==27&&Ke!==6)&&(Re=null)):(ae=null,Re=re),ae!==Re)){if(Ke=dx,he="onMouseLeave",J="onMouseEnter",X="mouse",(n==="pointerout"||n==="pointerover")&&(Ke=hx,he="onPointerLeave",J="onPointerEnter",X="pointer"),Bt=ae==null?ie:Zo(ae),se=Re==null?ie:Zo(Re),ie=new Ke(he,X+"leave",ae,o,ce),ie.target=Bt,ie.relatedTarget=se,he=null,ja(ce)===re&&(Ke=new Ke(J,X+"enter",Re,o,ce),Ke.target=se,Ke.relatedTarget=Bt,he=Ke),Bt=he,ae&&Re)t:{for(Ke=hM,J=ae,X=Re,se=0,he=J;he;he=Ke(he))se++;he=0;for(var Ye=X;Ye;Ye=Ke(Ye))he++;for(;0<se-he;)J=Ke(J),se--;for(;0<he-se;)X=Ke(X),he--;for(;se--;){if(J===X||X!==null&&J===X.alternate){Ke=J;break t}J=Ke(J),X=Ke(X)}Ke=null}else Ke=null;ae!==null&&rv(pe,ie,ae,Ke,!1),Re!==null&&Bt!==null&&rv(pe,Bt,Re,Ke,!0)}}e:{if(ie=re?Zo(re):window,ae=ie.nodeName&&ie.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ie.type==="file")var wt=Sx;else if(bx(ie))if(wx)wt=C2;else{wt=w2;var Fe=S2}else ae=ie.nodeName,!ae||ae.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?re&&jf(re.elementType)&&(wt=Sx):wt=T2;if(wt&&(wt=wt(n,re))){vx(pe,wt,o,ce);break e}Fe&&Fe(n,ie,re),n==="focusout"&&re&&ie.type==="number"&&re.memoizedProps.value!=null&&Cf(ie,"number",ie.value)}switch(Fe=re?Zo(re):window,n){case"focusin":(bx(Fe)||Fe.contentEditable==="true")&&(Ia=Fe,Hf=re,ol=null);break;case"focusout":ol=Hf=Ia=null;break;case"mousedown":_f=!0;break;case"contextmenu":case"mouseup":case"dragend":_f=!1,Px(pe,o,ce);break;case"selectionchange":if(D2)break;case"keydown":case"keyup":Px(pe,o,ce)}var lt;if(Bf)e:{switch(n){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else Ra?yx(n,o)&&(gt="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(gt="onCompositionStart");gt&&(px&&o.locale!=="ko"&&(Ra||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Ra&&(lt=cx()):(Hr=ce,Pf="value"in Hr?Hr.value:Hr.textContent,Ra=!0)),Fe=Vu(re,gt),0<Fe.length&&(gt=new fx(gt,n,null,o,ce),pe.push({event:gt,listeners:Fe}),lt?gt.data=lt:(lt=xx(o),lt!==null&&(gt.data=lt)))),(lt=g2?y2(n,o):x2(n,o))&&(gt=Vu(re,"onBeforeInput"),0<gt.length&&(Fe=new fx("onBeforeInput","beforeinput",null,o,ce),pe.push({event:Fe,listeners:gt}),Fe.data=lt)),cM(pe,n,re,o,ce)}nv(pe,r)})}function Ol(n,r,o){return{instance:n,listener:r,currentTarget:o}}function Vu(n,r){for(var o=r+"Capture",c=[];n!==null;){var h=n,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Jo(n,o),h!=null&&c.unshift(Ol(n,h,m)),h=Jo(n,r),h!=null&&c.push(Ol(n,h,m))),n.tag===3)return c;n=n.return}return[]}function hM(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function rv(n,r,o,c,h){for(var m=r._reactName,w=[];o!==null&&o!==c;){var R=o,G=R.alternate,re=R.stateNode;if(R=R.tag,G!==null&&G===c)break;R!==5&&R!==26&&R!==27||re===null||(G=re,h?(re=Jo(o,m),re!=null&&w.unshift(Ol(o,re,G))):h||(re=Jo(o,m),re!=null&&w.push(Ol(o,re,G)))),o=o.return}w.length!==0&&n.push({event:r,listeners:w})}var pM=/\r\n?/g,mM=/\u0000|\uFFFD/g;function iv(n){return(typeof n=="string"?n:""+n).replace(pM,`
`).replace(mM,"")}function av(n,r){return r=iv(r),iv(n)===r}function It(n,r,o,c,h,m){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Pa(n,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Pa(n,""+c);break;case"className":qc(n,"class",c);break;case"tabIndex":qc(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":qc(n,o,c);break;case"style":ax(n,c,m);break;case"data":if(r!=="object"){qc(n,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){n.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=$c(""+c),n.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(r!=="input"&&It(n,r,"name",h.name,h,null),It(n,r,"formEncType",h.formEncType,h,null),It(n,r,"formMethod",h.formMethod,h,null),It(n,r,"formTarget",h.formTarget,h,null)):(It(n,r,"encType",h.encType,h,null),It(n,r,"method",h.method,h,null),It(n,r,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=$c(""+c),n.setAttribute(o,c);break;case"onClick":c!=null&&(n.onclick=lr);break;case"onScroll":c!=null&&pt("scroll",n);break;case"onScrollEnd":c!=null&&pt("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}o=$c(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""+c):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":c===!0?n.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,c):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(o,c):n.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(o):n.setAttribute(o,c);break;case"popover":pt("beforetoggle",n),pt("toggle",n),Uc(n,"popover",c);break;case"xlinkActuate":or(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":or(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":or(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":or(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":or(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":or(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":or(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":or(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":or(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Uc(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=WE.get(o)||o,Uc(n,o,c))}}function dp(n,r,o,c,h,m){switch(o){case"style":ax(n,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"children":typeof c=="string"?Pa(n,c):(typeof c=="number"||typeof c=="bigint")&&Pa(n,""+c);break;case"onScroll":c!=null&&pt("scroll",n);break;case"onScrollEnd":c!=null&&pt("scrollend",n);break;case"onClick":c!=null&&(n.onclick=lr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xy.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),r=o.slice(2,h?o.length-7:void 0),m=n[qn]||null,m=m!=null?m[o]:null,typeof m=="function"&&n.removeEventListener(r,m,h),typeof c=="function")){typeof m!="function"&&m!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(r,c,h);break e}o in n?n[o]=c:c===!0?n.setAttribute(o,""):Uc(n,o,c)}}}function Pn(n,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pt("error",n),pt("load",n);var c=!1,h=!1,m;for(m in o)if(o.hasOwnProperty(m)){var w=o[m];if(w!=null)switch(m){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:It(n,r,m,w,o,null)}}h&&It(n,r,"srcSet",o.srcSet,o,null),c&&It(n,r,"src",o.src,o,null);return;case"input":pt("invalid",n);var R=m=w=h=null,G=null,re=null;for(c in o)if(o.hasOwnProperty(c)){var ce=o[c];if(ce!=null)switch(c){case"name":h=ce;break;case"type":w=ce;break;case"checked":G=ce;break;case"defaultChecked":re=ce;break;case"value":m=ce;break;case"defaultValue":R=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(i(137,r));break;default:It(n,r,c,ce,o,null)}}nx(n,m,R,G,re,w,h,!1);return;case"select":pt("invalid",n),c=w=m=null;for(h in o)if(o.hasOwnProperty(h)&&(R=o[h],R!=null))switch(h){case"value":m=R;break;case"defaultValue":w=R;break;case"multiple":c=R;default:It(n,r,h,R,o,null)}r=m,o=w,n.multiple=!!c,r!=null?ka(n,!!c,r,!1):o!=null&&ka(n,!!c,o,!0);return;case"textarea":pt("invalid",n),m=h=c=null;for(w in o)if(o.hasOwnProperty(w)&&(R=o[w],R!=null))switch(w){case"value":c=R;break;case"defaultValue":h=R;break;case"children":m=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:It(n,r,w,R,o,null)}rx(n,c,h,m);return;case"option":for(G in o)if(o.hasOwnProperty(G)&&(c=o[G],c!=null))switch(G){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:It(n,r,G,c,o,null)}return;case"dialog":pt("beforetoggle",n),pt("toggle",n),pt("cancel",n),pt("close",n);break;case"iframe":case"object":pt("load",n);break;case"video":case"audio":for(c=0;c<Al.length;c++)pt(Al[c],n);break;case"image":pt("error",n),pt("load",n);break;case"details":pt("toggle",n);break;case"embed":case"source":case"link":pt("error",n),pt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in o)if(o.hasOwnProperty(re)&&(c=o[re],c!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:It(n,r,re,c,o,null)}return;default:if(jf(r)){for(ce in o)o.hasOwnProperty(ce)&&(c=o[ce],c!==void 0&&dp(n,r,ce,c,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(c=o[R],c!=null&&It(n,r,R,c,o,null))}function gM(n,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,w=null,R=null,G=null,re=null,ce=null;for(ae in o){var pe=o[ae];if(o.hasOwnProperty(ae)&&pe!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":G=pe;default:c.hasOwnProperty(ae)||It(n,r,ae,null,c,pe)}}for(var ie in c){var ae=c[ie];if(pe=o[ie],c.hasOwnProperty(ie)&&(ae!=null||pe!=null))switch(ie){case"type":m=ae;break;case"name":h=ae;break;case"checked":re=ae;break;case"defaultChecked":ce=ae;break;case"value":w=ae;break;case"defaultValue":R=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,r));break;default:ae!==pe&&It(n,r,ie,ae,c,pe)}}Tf(n,w,R,G,re,ce,m,h);return;case"select":ae=w=R=ie=null;for(m in o)if(G=o[m],o.hasOwnProperty(m)&&G!=null)switch(m){case"value":break;case"multiple":ae=G;default:c.hasOwnProperty(m)||It(n,r,m,null,c,G)}for(h in c)if(m=c[h],G=o[h],c.hasOwnProperty(h)&&(m!=null||G!=null))switch(h){case"value":ie=m;break;case"defaultValue":R=m;break;case"multiple":w=m;default:m!==G&&It(n,r,h,m,c,G)}r=R,o=w,c=ae,ie!=null?ka(n,!!o,ie,!1):!!c!=!!o&&(r!=null?ka(n,!!o,r,!0):ka(n,!!o,o?[]:"",!1));return;case"textarea":ae=ie=null;for(R in o)if(h=o[R],o.hasOwnProperty(R)&&h!=null&&!c.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:It(n,r,R,null,c,h)}for(w in c)if(h=c[w],m=o[w],c.hasOwnProperty(w)&&(h!=null||m!=null))switch(w){case"value":ie=h;break;case"defaultValue":ae=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==m&&It(n,r,w,h,c,m)}sx(n,ie,ae);return;case"option":for(var Re in o)if(ie=o[Re],o.hasOwnProperty(Re)&&ie!=null&&!c.hasOwnProperty(Re))switch(Re){case"selected":n.selected=!1;break;default:It(n,r,Re,null,c,ie)}for(G in c)if(ie=c[G],ae=o[G],c.hasOwnProperty(G)&&ie!==ae&&(ie!=null||ae!=null))switch(G){case"selected":n.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:It(n,r,G,ie,c,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ke in o)ie=o[Ke],o.hasOwnProperty(Ke)&&ie!=null&&!c.hasOwnProperty(Ke)&&It(n,r,Ke,null,c,ie);for(re in c)if(ie=c[re],ae=o[re],c.hasOwnProperty(re)&&ie!==ae&&(ie!=null||ae!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,r));break;default:It(n,r,re,ie,c,ae)}return;default:if(jf(r)){for(var Bt in o)ie=o[Bt],o.hasOwnProperty(Bt)&&ie!==void 0&&!c.hasOwnProperty(Bt)&&dp(n,r,Bt,void 0,c,ie);for(ce in c)ie=c[ce],ae=o[ce],!c.hasOwnProperty(ce)||ie===ae||ie===void 0&&ae===void 0||dp(n,r,ce,ie,c,ae);return}}for(var J in o)ie=o[J],o.hasOwnProperty(J)&&ie!=null&&!c.hasOwnProperty(J)&&It(n,r,J,null,c,ie);for(pe in c)ie=c[pe],ae=o[pe],!c.hasOwnProperty(pe)||ie===ae||ie==null&&ae==null||It(n,r,pe,ie,c,ae)}function ov(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yM(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var h=o[c],m=h.transferSize,w=h.initiatorType,R=h.duration;if(m&&R&&ov(w)){for(w=0,R=h.responseEnd,c+=1;c<o.length;c++){var G=o[c],re=G.startTime;if(re>R)break;var ce=G.transferSize,pe=G.initiatorType;ce&&ov(pe)&&(G=G.responseEnd,w+=ce*(G<R?1:(R-re)/(G-re)))}if(--c,r+=8*(m+w)/(h.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var fp=null,hp=null;function Wu(n){return n.nodeType===9?n:n.ownerDocument}function lv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function pp(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var mp=null;function xM(){var n=window.event;return n&&n.type==="popstate"?n===mp?!1:(mp=n,!0):(mp=null,!1)}var uv=typeof setTimeout=="function"?setTimeout:void 0,bM=typeof clearTimeout=="function"?clearTimeout:void 0,dv=typeof Promise=="function"?Promise:void 0,vM=typeof queueMicrotask=="function"?queueMicrotask:typeof dv<"u"?function(n){return dv.resolve(null).then(n).catch(SM)}:uv;function SM(n){setTimeout(function(){throw n})}function ni(n){return n==="head"}function fv(n,r){var o=r,c=0;do{var h=o.nextSibling;if(n.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"||o==="/&"){if(c===0){n.removeChild(h),oo(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Rl(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,Rl(o);for(var m=o.firstChild;m;){var w=m.nextSibling,R=m.nodeName;m[Xo]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=w}}else o==="body"&&Rl(n.ownerDocument.body);o=h}while(o);oo(r)}function hv(n,r){var o=n;n=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=c}while(o)}function gp(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":gp(o),Sf(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function wM(n,r,o,c){for(;n.nodeType===1;){var h=o;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[Xo])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Es(n.nextSibling),n===null)break}return null}function TM(n,r,o){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Es(n.nextSibling),n===null))return null;return n}function pv(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=Es(n.nextSibling),n===null))return null;return n}function yp(n){return n.data==="$?"||n.data==="$~"}function xp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function CM(n,r){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function Es(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var bp=null;function mv(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(r===0)return Es(n.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}n=n.nextSibling}return null}function gv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return n;r--}else o!=="/$"&&o!=="/&"||r++}n=n.previousSibling}return null}function yv(n,r,o){switch(r=Wu(o),n){case"html":if(n=r.documentElement,!n)throw Error(i(452));return n;case"head":if(n=r.head,!n)throw Error(i(453));return n;case"body":if(n=r.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function Rl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Sf(n)}var Ms=new Map,xv=new Set;function Yu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Cr=O.d;O.d={f:jM,r:DM,D:EM,C:MM,L:kM,m:PM,X:OM,S:AM,M:RM};function jM(){var n=Cr.f(),r=Bu();return n||r}function DM(n){var r=Da(n);r!==null&&r.tag===5&&r.type==="form"?B0(r):Cr.r(n)}var ro=typeof document>"u"?null:document;function bv(n,r,o){var c=ro;if(c&&typeof r=="string"&&r){var h=vs(r);h='link[rel="'+n+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),xv.has(h)||(xv.add(h),n={rel:n,crossOrigin:o,href:r},c.querySelector(h)===null&&(r=c.createElement("link"),Pn(r,"link",n),Tn(r),c.head.appendChild(r)))}}function EM(n){Cr.D(n),bv("dns-prefetch",n,null)}function MM(n,r){Cr.C(n,r),bv("preconnect",n,r)}function kM(n,r,o){Cr.L(n,r,o);var c=ro;if(c&&n&&r){var h='link[rel="preload"][as="'+vs(r)+'"]';r==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+vs(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+vs(o.imageSizes)+'"]')):h+='[href="'+vs(n)+'"]';var m=h;switch(r){case"style":m=io(n);break;case"script":m=ao(n)}Ms.has(m)||(n=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:n,as:r},o),Ms.set(m,n),c.querySelector(h)!==null||r==="style"&&c.querySelector(Il(m))||r==="script"&&c.querySelector(Bl(m))||(r=c.createElement("link"),Pn(r,"link",n),Tn(r),c.head.appendChild(r)))}}function PM(n,r){Cr.m(n,r);var o=ro;if(o&&n){var c=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+vs(c)+'"][href="'+vs(n)+'"]',m=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ao(n)}if(!Ms.has(m)&&(n=v({rel:"modulepreload",href:n},r),Ms.set(m,n),o.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Bl(m)))return}c=o.createElement("link"),Pn(c,"link",n),Tn(c),o.head.appendChild(c)}}}function AM(n,r,o){Cr.S(n,r,o);var c=ro;if(c&&n){var h=Ea(c).hoistableStyles,m=io(n);r=r||"default";var w=h.get(m);if(!w){var R={loading:0,preload:null};if(w=c.querySelector(Il(m)))R.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":r},o),(o=Ms.get(m))&&vp(n,o);var G=w=c.createElement("link");Tn(G),Pn(G,"link",n),G._p=new Promise(function(re,ce){G.onload=re,G.onerror=ce}),G.addEventListener("load",function(){R.loading|=1}),G.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Uu(w,r,c)}w={type:"stylesheet",instance:w,count:1,state:R},h.set(m,w)}}}function OM(n,r){Cr.X(n,r);var o=ro;if(o&&n){var c=Ea(o).hoistableScripts,h=ao(n),m=c.get(h);m||(m=o.querySelector(Bl(h)),m||(n=v({src:n,async:!0},r),(r=Ms.get(h))&&Sp(n,r),m=o.createElement("script"),Tn(m),Pn(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(h,m))}}function RM(n,r){Cr.M(n,r);var o=ro;if(o&&n){var c=Ea(o).hoistableScripts,h=ao(n),m=c.get(h);m||(m=o.querySelector(Bl(h)),m||(n=v({src:n,async:!0,type:"module"},r),(r=Ms.get(h))&&Sp(n,r),m=o.createElement("script"),Tn(m),Pn(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(h,m))}}function vv(n,r,o,c){var h=(h=We.current)?Yu(h):null;if(!h)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=io(o.href),o=Ea(h).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=io(o.href);var m=Ea(h).hoistableStyles,w=m.get(n);if(w||(h=h.ownerDocument||h,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,w),(m=h.querySelector(Il(n)))&&!m._p&&(w.instance=m,w.state.loading=5),Ms.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Ms.set(n,o),m||IM(h,n,o,w.state))),r&&c===null)throw Error(i(528,""));return w}if(r&&c!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ao(o),o=Ea(h).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function io(n){return'href="'+vs(n)+'"'}function Il(n){return'link[rel="stylesheet"]['+n+"]"}function Sv(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function IM(n,r,o,c){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=n.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),Pn(r,"link",o),Tn(r),n.head.appendChild(r))}function ao(n){return'[src="'+vs(n)+'"]'}function Bl(n){return"script[async]"+n}function wv(n,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=n.querySelector('style[data-href~="'+vs(o.href)+'"]');if(c)return r.instance=c,Tn(c),c;var h=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Tn(c),Pn(c,"style",h),Uu(c,o.precedence,n),r.instance=c;case"stylesheet":h=io(o.href);var m=n.querySelector(Il(h));if(m)return r.state.loading|=4,r.instance=m,Tn(m),m;c=Sv(o),(h=Ms.get(h))&&vp(c,h),m=(n.ownerDocument||n).createElement("link"),Tn(m);var w=m;return w._p=new Promise(function(R,G){w.onload=R,w.onerror=G}),Pn(m,"link",c),r.state.loading|=4,Uu(m,o.precedence,n),r.instance=m;case"script":return m=ao(o.src),(h=n.querySelector(Bl(m)))?(r.instance=h,Tn(h),h):(c=o,(h=Ms.get(m))&&(c=v({},o),Sp(c,h)),n=n.ownerDocument||n,h=n.createElement("script"),Tn(h),Pn(h,"link",c),n.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Uu(c,o.precedence,n));return r.instance}function Uu(n,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,m=h,w=0;w<c.length;w++){var R=c[w];if(R.dataset.precedence===r)m=R;else if(m!==h)break}m?m.parentNode.insertBefore(n,m.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(n,r.firstChild))}function vp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Sp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var qu=null;function Tv(n,r,o){if(qu===null){var c=new Map,h=qu=new Map;h.set(o,c)}else h=qu,c=h.get(o),c||(c=new Map,h.set(o,c));if(c.has(n))return c;for(c.set(n,null),o=o.getElementsByTagName(n),h=0;h<o.length;h++){var m=o[h];if(!(m[Xo]||m[Dn]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var w=m.getAttribute(r)||"";w=n+w;var R=c.get(w);R?R.push(m):c.set(w,[m])}}return c}function Cv(n,r,o){n=n.ownerDocument||n,n.head.insertBefore(o,r==="title"?n.querySelector("head > title"):null)}function BM(n,r,o){if(o===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function jv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function LM(n,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var h=io(c.href),m=r.querySelector(Il(h));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=Gu.bind(n),r.then(n,n)),o.state.loading|=4,o.instance=m,Tn(m);return}m=r.ownerDocument||r,c=Sv(c),(h=Ms.get(h))&&vp(c,h),m=m.createElement("link"),Tn(m);var w=m;w._p=new Promise(function(R,G){w.onload=R,w.onerror=G}),Pn(m,"link",c),o.instance=m}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=Gu.bind(n),r.addEventListener("load",o),r.addEventListener("error",o))}}var wp=0;function NM(n,r){return n.stylesheets&&n.count===0&&Qu(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var c=setTimeout(function(){if(n.stylesheets&&Qu(n,n.stylesheets),n.unsuspend){var m=n.unsuspend;n.unsuspend=null,m()}},6e4+r);0<n.imgBytes&&wp===0&&(wp=62500*yM());var h=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Qu(n,n.stylesheets),n.unsuspend)){var m=n.unsuspend;n.unsuspend=null,m()}},(n.imgBytes>wp?50:800)+r);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(c),clearTimeout(h)}}:null}function Gu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qu(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var $u=null;function Qu(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,$u=new Map,r.forEach(FM,n),$u=null,Gu.call(n))}function FM(n,r){if(!(r.state.loading&4)){var o=$u.get(n);if(o)var c=o.get(null);else{o=new Map,$u.set(n,o);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var w=h[m];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),c=w)}c&&o.set(null,c)}h=r.instance,w=h.getAttribute("data-precedence"),m=o.get(w)||c,m===c&&o.set(null,h),o.set(w,h),this.count++,c=Gu.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),m?m.parentNode.insertBefore(h,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),r.state.loading|=4}}var Ll={$$typeof:k,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function HM(n,r,o,c,h,m,w,R,G){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xs(0),this.hiddenUpdates=xs(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function Dv(n,r,o,c,h,m,w,R,G,re,ce,pe){return n=new HM(n,r,o,w,G,re,ce,pe,R),r=1,m===!0&&(r|=24),m=as(3,null,null,r),n.current=m,m.stateNode=n,r=th(),r.refCount++,n.pooledCache=r,r.refCount++,m.memoizedState={element:c,isDehydrated:o,cache:r},ih(m),n}function Ev(n){return n?(n=Na,n):Na}function Mv(n,r,o,c,h,m){h=Ev(h),c.context===null?c.context=h:c.pendingContext=h,c=Ur(r),c.payload={element:o},m=m===void 0?null:m,m!==null&&(c.callback=m),o=qr(n,c,r),o!==null&&(Zn(o,n,r),pl(o,n,r))}function kv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function Tp(n,r){kv(n,r),(n=n.alternate)&&kv(n,r)}function Pv(n){if(n.tag===13||n.tag===31){var r=Ai(n,67108864);r!==null&&Zn(r,n,67108864),Tp(n,67108864)}}function Av(n){if(n.tag===13||n.tag===31){var r=ds();r=xf(r);var o=Ai(n,r);o!==null&&Zn(o,n,r),Tp(n,r)}}var Ku=!0;function _M(n,r,o,c){var h=B.T;B.T=null;var m=O.p;try{O.p=2,Cp(n,r,o,c)}finally{O.p=m,B.T=h}}function zM(n,r,o,c){var h=B.T;B.T=null;var m=O.p;try{O.p=8,Cp(n,r,o,c)}finally{O.p=m,B.T=h}}function Cp(n,r,o,c){if(Ku){var h=jp(c);if(h===null)up(n,r,c,Xu,o),Rv(n,c);else if(WM(h,n,r,o,c))c.stopPropagation();else if(Rv(n,c),r&4&&-1<VM.indexOf(n)){for(;h!==null;){var m=Da(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var w=ar(m.pendingLanes);if(w!==0){var R=m;for(R.pendingLanes|=2,R.entangledLanes|=2;w;){var G=1<<31-qt(w);R.entanglements[1]|=G,w&=~G}Qs(m),(jt&6)===0&&(Ru=me()+500,Pl(0))}}break;case 31:case 13:R=Ai(m,2),R!==null&&Zn(R,m,2),Bu(),Tp(m,2)}if(m=jp(c),m===null&&up(n,r,c,Xu,o),m===h)break;h=m}h!==null&&c.stopPropagation()}else up(n,r,c,null,o)}}function jp(n){return n=Ef(n),Dp(n)}var Xu=null;function Dp(n){if(Xu=null,n=ja(n),n!==null){var r=u(n);if(r===null)n=null;else{var o=r.tag;if(o===13){if(n=d(r),n!==null)return n;n=null}else if(o===31){if(n=f(r),n!==null)return n;n=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Xu=n,null}function Ov(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Se()){case Oe:return 2;case Qe:return 8;case ot:case Be:return 32;case qe:return 268435456;default:return 32}default:return 32}}var Ep=!1,si=null,ri=null,ii=null,Nl=new Map,Fl=new Map,ai=[],VM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rv(n,r){switch(n){case"focusin":case"focusout":si=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":Nl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(r.pointerId)}}function Hl(n,r,o,c,h,m){return n===null||n.nativeEvent!==m?(n={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:m,targetContainers:[h]},r!==null&&(r=Da(r),r!==null&&Pv(r)),n):(n.eventSystemFlags|=c,r=n.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),n)}function WM(n,r,o,c,h){switch(r){case"focusin":return si=Hl(si,n,r,o,c,h),!0;case"dragenter":return ri=Hl(ri,n,r,o,c,h),!0;case"mouseover":return ii=Hl(ii,n,r,o,c,h),!0;case"pointerover":var m=h.pointerId;return Nl.set(m,Hl(Nl.get(m)||null,n,r,o,c,h)),!0;case"gotpointercapture":return m=h.pointerId,Fl.set(m,Hl(Fl.get(m)||null,n,r,o,c,h)),!0}return!1}function Iv(n){var r=ja(n.target);if(r!==null){var o=u(r);if(o!==null){if(r=o.tag,r===13){if(r=d(o),r!==null){n.blockedOn=r,$y(n.priority,function(){Av(o)});return}}else if(r===31){if(r=f(o),r!==null){n.blockedOn=r,$y(n.priority,function(){Av(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Zu(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var o=jp(n.nativeEvent);if(o===null){o=n.nativeEvent;var c=new o.constructor(o.type,o);Df=c,o.target.dispatchEvent(c),Df=null}else return r=Da(o),r!==null&&Pv(r),n.blockedOn=o,!1;r.shift()}return!0}function Bv(n,r,o){Zu(n)&&o.delete(r)}function YM(){Ep=!1,si!==null&&Zu(si)&&(si=null),ri!==null&&Zu(ri)&&(ri=null),ii!==null&&Zu(ii)&&(ii=null),Nl.forEach(Bv),Fl.forEach(Bv)}function Ju(n,r){n.blockedOn===r&&(n.blockedOn=null,Ep||(Ep=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,YM)))}var ed=null;function Lv(n){ed!==n&&(ed=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ed===n&&(ed=null);for(var r=0;r<n.length;r+=3){var o=n[r],c=n[r+1],h=n[r+2];if(typeof c!="function"){if(Dp(c||o)===null)continue;break}var m=Da(o);m!==null&&(n.splice(r,3),r-=3,jh(m,{pending:!0,data:h,method:o.method,action:c},c,h))}}))}function oo(n){function r(G){return Ju(G,n)}si!==null&&Ju(si,n),ri!==null&&Ju(ri,n),ii!==null&&Ju(ii,n),Nl.forEach(r),Fl.forEach(r);for(var o=0;o<ai.length;o++){var c=ai[o];c.blockedOn===n&&(c.blockedOn=null)}for(;0<ai.length&&(o=ai[0],o.blockedOn===null);)Iv(o),o.blockedOn===null&&ai.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var h=o[c],m=o[c+1],w=h[qn]||null;if(typeof m=="function")w||Lv(o);else if(w){var R=null;if(m&&m.hasAttribute("formAction")){if(h=m,w=m[qn]||null)R=w.formAction;else if(Dp(h)!==null)continue}else R=w.action;typeof R=="function"?o[c+1]=R:(o.splice(c,3),c-=3),Lv(o)}}}function Nv(){function n(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(w){return h=w})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,h=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function Mp(n){this._internalRoot=n}td.prototype.render=Mp.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,c=ds();Mv(o,c,n,r,null,null)},td.prototype.unmount=Mp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Mv(n.current,2,null,n,null,null),Bu(),r[Ca]=null}};function td(n){this._internalRoot=n}td.prototype.unstable_scheduleHydration=function(n){if(n){var r=Gy();n={blockedOn:null,target:n,priority:r};for(var o=0;o<ai.length&&r!==0&&r<ai[o].priority;o++);ai.splice(o,0,n),o===0&&Iv(n)}};var Fv=t.version;if(Fv!=="19.2.0")throw Error(i(527,Fv,"19.2.0"));O.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=g(r),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var UM={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{rt=nd.inject(UM),it=nd}catch{}}return zl.createRoot=function(n,r){if(!l(n))throw Error(i(299));var o=!1,c="",h=U0,m=q0,w=G0;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError)),r=Dv(n,1,!1,null,null,o,c,null,h,m,w,Nv),n[Ca]=r.current,cp(n),new Mp(r)},zl.hydrateRoot=function(n,r,o){if(!l(n))throw Error(i(299));var c=!1,h="",m=U0,w=q0,R=G0,G=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.formState!==void 0&&(G=o.formState)),r=Dv(n,1,!0,r,o??null,c,h,G,m,w,R,Nv),r.context=Ev(null),o=r.current,c=ds(),c=xf(c),h=Ur(c),h.callback=null,qr(o,h,c),o=c,r.current.lanes=o,Nr(r,o),Qs(r),n[Ca]=r.current,cp(n),new td(r)},zl.version="19.2.0",zl}var qv;function $k(){if(qv)return Pp.exports;qv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Pp.exports=Gk(),Pp.exports}var Qk=$k();const Kk=$1(Qk);var Q1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Gv=pi.createContext&&pi.createContext(Q1),Xk=["attr","size","title"];function Zk(e,t){if(e==null)return{};var s=Jk(e,t),i,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)i=u[l],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(s[i]=e[i])}return s}function Jk(e,t){if(e==null)return{};var s={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;s[i]=e[i]}return s}function Ed(){return Ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},Ed.apply(this,arguments)}function $v(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),s.push.apply(s,i)}return s}function Md(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?$v(Object(s),!0).forEach(function(i){eP(e,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$v(Object(s)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(s,i))})}return e}function eP(e,t,s){return t=tP(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function tP(e){var t=nP(e,"string");return typeof t=="symbol"?t:t+""}function nP(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var i=s.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K1(e){return e&&e.map((t,s)=>pi.createElement(t.tag,Md({key:s},t.attr),K1(t.child)))}function _o(e){return t=>pi.createElement(sP,Ed({attr:Md({},e.attr)},t),K1(e.child))}function sP(e){var t=s=>{var{attr:i,size:l,title:u}=e,d=Zk(e,Xk),f=l||s.size||"1em",p;return s.className&&(p=s.className),e.className&&(p=(p?p+" ":"")+e.className),pi.createElement("svg",Ed({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,i,d,{className:p,style:Md(Md({color:e.color||s.color},s.style),e.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),u&&pi.createElement("title",null,u),e.children)};return Gv!==void 0?pi.createElement(Gv.Consumer,null,s=>t(s)):t(Q1)}function rP(e){return _o({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 16h4c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1v-1a2 2 0 1 0-4 0v1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1zm.8-6c0-.66.54-1.2 1.2-1.2.66 0 1.2.54 1.2 1.2v1h-2.4v-1zM17 1H7c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 18H7V5h10v14z"},child:[]}]})(e)}function iP(e){return _o({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m23.25 12.77-2.57-2.57-1.41 1.41 2.22 2.22-5.66 5.66L4.51 8.17l5.66-5.66 2.1 2.1 1.41-1.41L11.23.75a1.49 1.49 0 0 0-2.12 0L2.75 7.11a1.49 1.49 0 0 0 0 2.12l12.02 12.02c.59.59 1.54.59 2.12 0l6.36-6.36c.59-.59.59-1.54 0-2.12zM8.47 20.48A10.487 10.487 0 0 1 2.5 12H1c.51 6.16 5.66 11 11.95 11l.66-.03-3.81-3.82-1.33 1.33zM16 9h5c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1v-.5a2.5 2.5 0 0 0-5 0V3c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1zm.8-6.5c0-.94.76-1.7 1.7-1.7s1.7.76 1.7 1.7V3h-3.4v-.5z"},child:[]}]})(e)}class aP{constructor(){this.audioContext=null,this.isMuted=this.loadMutePreference(),this.volume=this.loadVolumePreference(),this.sounds={},this.initAudioContext()}initAudioContext(){if(!this.audioContext&&typeof window<"u")try{this.audioContext=new(window.AudioContext||window.webkitAudioContext)}catch(t){console.warn("Web Audio API not supported",t)}}loadMutePreference(){try{return localStorage.getItem("audioMuted")==="true"}catch{return!1}}loadVolumePreference(){try{const t=localStorage.getItem("audioVolume");return t?parseFloat(t):.3}catch{return .3}}saveMutePreference(){try{localStorage.setItem("audioMuted",this.isMuted.toString())}catch(t){console.warn("Could not save mute preference",t)}}toggleMute(){return this.isMuted=!this.isMuted,this.saveMutePreference(),this.isMuted}setMuted(t){this.isMuted=t,this.saveMutePreference()}isMutedState(){return this.isMuted}playBeep(t=800,s=200,i=null){if(this.isMuted)return;const l=i!==null?i:this.loadVolumePreference();if(!(!this.audioContext&&(this.initAudioContext(),!this.audioContext)))try{this.audioContext.state==="suspended"&&this.audioContext.resume();const u=this.audioContext.createOscillator(),d=this.audioContext.createGain();u.connect(d),d.connect(this.audioContext.destination),u.frequency.value=t,u.type="sine",d.gain.setValueAtTime(l,this.audioContext.currentTime),d.gain.exponentialRampToValueAtTime(.01,this.audioContext.currentTime+s/1e3),u.start(this.audioContext.currentTime),u.stop(this.audioContext.currentTime+s/1e3)}catch(u){console.warn("Could not play beep",u)}}playHighBeep(){this.playBeep(1e3,300)}playLowBeep(){this.playBeep(400,300)}playChime(){if(!this.isMuted&&!(!this.audioContext&&(this.initAudioContext(),!this.audioContext)))try{this.audioContext.state==="suspended"&&this.audioContext.resume(),this.playBeep(800,200),setTimeout(()=>{this.playBeep(1e3,400)},150)}catch(t){console.warn("Could not play chime",t)}}playCountdownBeep(){this.isMuted||(this.playBeep(600,150),setTimeout(()=>this.playBeep(600,150),200),setTimeout(()=>this.playBeep(600,150),400))}playCompletionFanfare(){if(!this.isMuted&&!(!this.audioContext&&(this.initAudioContext(),!this.audioContext)))try{this.audioContext.state==="suspended"&&this.audioContext.resume(),[523,659,784,1047].forEach((s,i)=>{setTimeout(()=>{this.playBeep(s,300)},i*150)})}catch(t){console.warn("Could not play completion fanfare",t)}}playTransitionBeep(){this.isMuted||this.playBeep(700,200)}}const Ct=new aP;class oP{constructor(){this.wakeLock=null,this.isSupported="wakeLock"in navigator}isWakeLockSupported(){return this.isSupported}async requestWakeLock(){if(!this.isSupported)return console.warn("Wake Lock API is not supported in this browser"),!1;try{return this.wakeLock=await navigator.wakeLock.request("screen"),console.log("Wake Lock acquired"),this.wakeLock.addEventListener("release",()=>{console.log("Wake Lock released")}),!0}catch(t){return console.error(`Failed to acquire wake lock: ${t.name}, ${t.message}`),!1}}async releaseWakeLock(){if(this.wakeLock!==null)try{await this.wakeLock.release(),this.wakeLock=null,console.log("Wake Lock manually released")}catch(t){console.error(`Failed to release wake lock: ${t.message}`)}}isActive(){return this.wakeLock!==null&&!this.wakeLock.released}async reacquireOnVisibilityChange(){if(!this.isSupported)return;const t=async()=>{document.visibilityState==="visible"&&this.wakeLock!==null&&this.wakeLock.released&&await this.requestWakeLock()};return document.addEventListener("visibilitychange",t),()=>{document.removeEventListener("visibilitychange",t)}}}const Yn=new oP,X1=({onNavigate:e})=>{const[t,s]=x.useState(Ct.isMutedState()),[i,l]=x.useState(Yn.isActive()),[u]=x.useState(Yn.isWakeLockSupported());x.useEffect(()=>{const p=Yn.reacquireOnVisibilityChange();return()=>{p&&p.then(g=>g&&g())}},[]);const d=()=>{const p=Ct.toggleMute();s(p)},f=async()=>{if(i)await Yn.releaseWakeLock(),l(!1);else{const p=await Yn.requestWakeLock();l(p)}};return a.jsxs(q,{component:"header",sx:{position:"fixed",top:0,left:0,right:0,height:"60px",display:"flex",alignItems:"center",justifyContent:"center",padding:"0 1rem",background:"#2a3647",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)",zIndex:100,transition:"left 0.3s ease",borderBottom:"1px solid rgba(29, 181, 132, 0.2)"},children:[a.jsx(q,{onClick:()=>e&&e("progress"),sx:{display:"flex",alignItems:"center",justifyContent:"center",cursor:e?"pointer":"default",transition:"transform 0.2s ease","&:hover":e?{transform:"scale(1.05)"}:{},"&:active":e?{transform:"scale(0.98)"}:{}},"aria-label":e?"Go to Progress screen":void 0,role:e?"button":void 0,tabIndex:e?0:void 0,onKeyDown:e?p=>{(p.key==="Enter"||p.key===" ")&&(p.preventDefault(),e("progress"))}:void 0,children:a.jsx("img",{src:"/goodlift/goodlift-favicon.svg",alt:"GoodLift",style:{height:"40px",width:"40px",display:"block"}})}),a.jsxs(q,{sx:{position:"absolute",right:"1rem",display:"flex",alignItems:"center",gap:.5},children:[a.jsx(Jn,{title:t?"Unmute sounds":"Mute sounds",children:a.jsx(ut,{onClick:d,sx:{color:t?"grey.500":"primary.main",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{backgroundColor:"rgba(29, 181, 132, 0.15)"}},"aria-label":t?"Unmute sounds":"Mute sounds",children:t?a.jsx(A1,{}):a.jsx(sg,{})})}),u&&a.jsx(Jn,{title:i?"Screen kept awake":"Allow screen sleep",children:a.jsx(ut,{onClick:f,sx:{color:i?"secondary.main":"grey.500",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{backgroundColor:"rgba(255, 140, 0, 0.15)"}},"aria-label":i?"Release wake lock":"Keep screen awake",children:i?a.jsx(iP,{size:24}):a.jsx(rP,{size:24})})})]})]})};X1.propTypes={onNavigate:Y.func};const dg=x.createContext({});function ma(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const fg=typeof window<"u",hg=fg?x.useLayoutEffect:x.useEffect,Gd=x.createContext(null);function pg(e,t){e.indexOf(t)===-1&&e.push(t)}function mg(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}function lP([...e],t,s){const i=t<0?e.length+t:t;if(i>=0&&i<e.length){const l=s<0?e.length+s:s,[u]=e.splice(t,1);e.splice(l,0,u)}return e}const Pr=(e,t,s)=>s>t?t:s<e?e:s;let gg=()=>{};const Ar={},Z1=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function J1(e){return typeof e=="object"&&e!==null}const eT=e=>/^0[^.\s]+$/u.test(e);function yg(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ls=e=>e,cP=(e,t)=>s=>t(e(s)),Pc=(...e)=>e.reduce(cP),dc=(e,t,s)=>{const i=t-e;return i===0?1:(s-e)/i};class xg{constructor(){this.subscriptions=[]}add(t){return pg(this.subscriptions,t),()=>mg(this.subscriptions,t)}notify(t,s,i){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](t,s,i);else for(let u=0;u<l;u++){const d=this.subscriptions[u];d&&d(t,s,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const er=e=>e*1e3,Is=e=>e/1e3;function tT(e,t){return t?e*(1e3/t):0}const nT=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,uP=1e-7,dP=12;function fP(e,t,s,i,l){let u,d,f=0;do d=t+(s-t)/2,u=nT(d,i,l)-e,u>0?s=d:t=d;while(Math.abs(u)>uP&&++f<dP);return d}function Ac(e,t,s,i){if(e===t&&s===i)return Ls;const l=u=>fP(u,0,1,e,s);return u=>u===0||u===1?u:nT(l(u),t,i)}const sT=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,rT=e=>t=>1-e(1-t),iT=Ac(.33,1.53,.69,.99),bg=rT(iT),aT=sT(bg),oT=e=>(e*=2)<1?.5*bg(e):.5*(2-Math.pow(2,-10*(e-1))),vg=e=>1-Math.sin(Math.acos(e)),lT=rT(vg),cT=sT(vg),hP=Ac(.42,0,1,1),pP=Ac(0,0,.58,1),uT=Ac(.42,0,.58,1),mP=e=>Array.isArray(e)&&typeof e[0]!="number",dT=e=>Array.isArray(e)&&typeof e[0]=="number",gP={linear:Ls,easeIn:hP,easeInOut:uT,easeOut:pP,circIn:vg,circInOut:cT,circOut:lT,backIn:bg,backInOut:aT,backOut:iT,anticipate:oT},yP=e=>typeof e=="string",Qv=e=>{if(dT(e)){gg(e.length===4);const[t,s,i,l]=e;return Ac(t,s,i,l)}else if(yP(e))return gP[e];return e},id=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function xP(e,t){let s=new Set,i=new Set,l=!1,u=!1;const d=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function p(y){d.has(y)&&(g.schedule(y),e()),y(f)}const g={schedule:(y,v=!1,b=!1)=>{const T=b&&l?s:i;return v&&d.add(y),T.has(y)||T.add(y),y},cancel:y=>{i.delete(y),d.delete(y)},process:y=>{if(f=y,l){u=!0;return}l=!0,[s,i]=[i,s],s.forEach(p),s.clear(),l=!1,u&&(u=!1,g.process(y))}};return g}const bP=40;function fT(e,t){let s=!1,i=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=()=>s=!0,d=id.reduce((k,A)=>(k[A]=xP(u),k),{}),{setup:f,read:p,resolveKeyframes:g,preUpdate:y,update:v,preRender:b,render:S,postRender:T}=d,D=()=>{const k=Ar.useManualTiming?l.timestamp:performance.now();s=!1,Ar.useManualTiming||(l.delta=i?1e3/60:Math.max(Math.min(k-l.timestamp,bP),1)),l.timestamp=k,l.isProcessing=!0,f.process(l),p.process(l),g.process(l),y.process(l),v.process(l),b.process(l),S.process(l),T.process(l),l.isProcessing=!1,s&&t&&(i=!1,e(D))},j=()=>{s=!0,i=!0,l.isProcessing||e(D)};return{schedule:id.reduce((k,A)=>{const N=d[A];return k[A]=(z,P=!1,F=!1)=>(s||j(),N.schedule(z,P,F)),k},{}),cancel:k=>{for(let A=0;A<id.length;A++)d[id[A]].cancel(k)},state:l,steps:d}}const{schedule:Ut,cancel:Or,state:An,steps:Rp}=fT(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ls,!0);let vd;function vP(){vd=void 0}const es={now:()=>(vd===void 0&&es.set(An.isProcessing||Ar.useManualTiming?An.timestamp:performance.now()),vd),set:e=>{vd=e,queueMicrotask(vP)}},hT=e=>t=>typeof t=="string"&&t.startsWith(e),Sg=hT("--"),SP=hT("var(--"),wg=e=>SP(e)?wP.test(e.split("/*")[0].trim()):!1,wP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,zo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},fc={...zo,transform:e=>Pr(0,1,e)},ad={...zo,default:1},Jl=e=>Math.round(e*1e5)/1e5,Tg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function TP(e){return e==null}const CP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Cg=(e,t)=>s=>!!(typeof s=="string"&&CP.test(s)&&s.startsWith(e)||t&&!TP(s)&&Object.prototype.hasOwnProperty.call(s,t)),pT=(e,t,s)=>i=>{if(typeof i!="string")return i;const[l,u,d,f]=i.match(Tg);return{[e]:parseFloat(l),[t]:parseFloat(u),[s]:parseFloat(d),alpha:f!==void 0?parseFloat(f):1}},jP=e=>Pr(0,255,e),Ip={...zo,transform:e=>Math.round(jP(e))},Zi={test:Cg("rgb","red"),parse:pT("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:i=1})=>"rgba("+Ip.transform(e)+", "+Ip.transform(t)+", "+Ip.transform(s)+", "+Jl(fc.transform(i))+")"};function DP(e){let t="",s="",i="",l="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),i=e.substring(5,7),l=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),i=e.substring(3,4),l=e.substring(4,5),t+=t,s+=s,i+=i,l+=l),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(i,16),alpha:l?parseInt(l,16)/255:1}}const lm={test:Cg("#"),parse:DP,transform:Zi.transform},Oc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ui=Oc("deg"),tr=Oc("%"),Ze=Oc("px"),EP=Oc("vh"),MP=Oc("vw"),Kv={...tr,parse:e=>tr.parse(e)/100,transform:e=>tr.transform(e*100)},mo={test:Cg("hsl","hue"),parse:pT("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:i=1})=>"hsla("+Math.round(e)+", "+tr.transform(Jl(t))+", "+tr.transform(Jl(s))+", "+Jl(fc.transform(i))+")"},gn={test:e=>Zi.test(e)||lm.test(e)||mo.test(e),parse:e=>Zi.test(e)?Zi.parse(e):mo.test(e)?mo.parse(e):lm.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Zi.transform(e):mo.transform(e),getAnimatableNone:e=>{const t=gn.parse(e);return t.alpha=0,gn.transform(t)}},kP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function PP(e){return isNaN(e)&&typeof e=="string"&&(e.match(Tg)?.length||0)+(e.match(kP)?.length||0)>0}const mT="number",gT="color",AP="var",OP="var(",Xv="${}",RP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hc(e){const t=e.toString(),s=[],i={color:[],number:[],var:[]},l=[];let u=0;const f=t.replace(RP,p=>(gn.test(p)?(i.color.push(u),l.push(gT),s.push(gn.parse(p))):p.startsWith(OP)?(i.var.push(u),l.push(AP),s.push(p)):(i.number.push(u),l.push(mT),s.push(parseFloat(p))),++u,Xv)).split(Xv);return{values:s,split:f,indexes:i,types:l}}function yT(e){return hc(e).values}function xT(e){const{split:t,types:s}=hc(e),i=t.length;return l=>{let u="";for(let d=0;d<i;d++)if(u+=t[d],l[d]!==void 0){const f=s[d];f===mT?u+=Jl(l[d]):f===gT?u+=gn.transform(l[d]):u+=l[d]}return u}}const IP=e=>typeof e=="number"?0:gn.test(e)?gn.getAnimatableNone(e):e;function BP(e){const t=yT(e);return xT(e)(t.map(IP))}const bi={test:PP,parse:yT,createTransformer:xT,getAnimatableNone:BP};function Bp(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function LP({hue:e,saturation:t,lightness:s,alpha:i}){e/=360,t/=100,s/=100;let l=0,u=0,d=0;if(!t)l=u=d=s;else{const f=s<.5?s*(1+t):s+t-s*t,p=2*s-f;l=Bp(p,f,e+1/3),u=Bp(p,f,e),d=Bp(p,f,e-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(d*255),alpha:i}}function kd(e,t){return s=>s>0?t:e}const Kt=(e,t,s)=>e+(t-e)*s,Lp=(e,t,s)=>{const i=e*e,l=s*(t*t-i)+i;return l<0?0:Math.sqrt(l)},NP=[lm,Zi,mo],FP=e=>NP.find(t=>t.test(e));function Zv(e){const t=FP(e);if(!t)return!1;let s=t.parse(e);return t===mo&&(s=LP(s)),s}const Jv=(e,t)=>{const s=Zv(e),i=Zv(t);if(!s||!i)return kd(e,t);const l={...s};return u=>(l.red=Lp(s.red,i.red,u),l.green=Lp(s.green,i.green,u),l.blue=Lp(s.blue,i.blue,u),l.alpha=Kt(s.alpha,i.alpha,u),Zi.transform(l))},cm=new Set(["none","hidden"]);function HP(e,t){return cm.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function _P(e,t){return s=>Kt(e,t,s)}function jg(e){return typeof e=="number"?_P:typeof e=="string"?wg(e)?kd:gn.test(e)?Jv:WP:Array.isArray(e)?bT:typeof e=="object"?gn.test(e)?Jv:zP:kd}function bT(e,t){const s=[...e],i=s.length,l=e.map((u,d)=>jg(u)(u,t[d]));return u=>{for(let d=0;d<i;d++)s[d]=l[d](u);return s}}function zP(e,t){const s={...e,...t},i={};for(const l in s)e[l]!==void 0&&t[l]!==void 0&&(i[l]=jg(e[l])(e[l],t[l]));return l=>{for(const u in i)s[u]=i[u](l);return s}}function VP(e,t){const s=[],i={color:0,var:0,number:0};for(let l=0;l<t.values.length;l++){const u=t.types[l],d=e.indexes[u][i[u]],f=e.values[d]??0;s[l]=f,i[u]++}return s}const WP=(e,t)=>{const s=bi.createTransformer(t),i=hc(e),l=hc(t);return i.indexes.var.length===l.indexes.var.length&&i.indexes.color.length===l.indexes.color.length&&i.indexes.number.length>=l.indexes.number.length?cm.has(e)&&!l.values.length||cm.has(t)&&!i.values.length?HP(e,t):Pc(bT(VP(i,l),l.values),s):kd(e,t)};function vT(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?Kt(e,t,s):jg(e)(e,t)}const YP=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>Ut.update(t,s),stop:()=>Or(t),now:()=>An.isProcessing?An.timestamp:es.now()}},ST=(e,t,s=10)=>{let i="";const l=Math.max(Math.round(t/s),2);for(let u=0;u<l;u++)i+=Math.round(e(u/(l-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Pd=2e4;function Dg(e){let t=0;const s=50;let i=e.next(t);for(;!i.done&&t<Pd;)t+=s,i=e.next(t);return t>=Pd?1/0:t}function UP(e,t=100,s){const i=s({...e,keyframes:[0,t]}),l=Math.min(Dg(i),Pd);return{type:"keyframes",ease:u=>i.next(l*u).value/t,duration:Is(l)}}const qP=5;function wT(e,t,s){const i=Math.max(t-qP,0);return tT(s-e(i),t-i)}const nn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Np=.001;function GP({duration:e=nn.duration,bounce:t=nn.bounce,velocity:s=nn.velocity,mass:i=nn.mass}){let l,u,d=1-t;d=Pr(nn.minDamping,nn.maxDamping,d),e=Pr(nn.minDuration,nn.maxDuration,Is(e)),d<1?(l=g=>{const y=g*d,v=y*e,b=y-s,S=um(g,d),T=Math.exp(-v);return Np-b/S*T},u=g=>{const v=g*d*e,b=v*s+s,S=Math.pow(d,2)*Math.pow(g,2)*e,T=Math.exp(-v),D=um(Math.pow(g,2),d);return(-l(g)+Np>0?-1:1)*((b-S)*T)/D}):(l=g=>{const y=Math.exp(-g*e),v=(g-s)*e+1;return-Np+y*v},u=g=>{const y=Math.exp(-g*e),v=(s-g)*(e*e);return y*v});const f=5/e,p=QP(l,u,f);if(e=er(e),isNaN(p))return{stiffness:nn.stiffness,damping:nn.damping,duration:e};{const g=Math.pow(p,2)*i;return{stiffness:g,damping:d*2*Math.sqrt(i*g),duration:e}}}const $P=12;function QP(e,t,s){let i=s;for(let l=1;l<$P;l++)i=i-e(i)/t(i);return i}function um(e,t){return e*Math.sqrt(1-t*t)}const KP=["duration","bounce"],XP=["stiffness","damping","mass"];function eS(e,t){return t.some(s=>e[s]!==void 0)}function ZP(e){let t={velocity:nn.velocity,stiffness:nn.stiffness,damping:nn.damping,mass:nn.mass,isResolvedFromDuration:!1,...e};if(!eS(e,XP)&&eS(e,KP))if(e.visualDuration){const s=e.visualDuration,i=2*Math.PI/(s*1.2),l=i*i,u=2*Pr(.05,1,1-(e.bounce||0))*Math.sqrt(l);t={...t,mass:nn.mass,stiffness:l,damping:u}}else{const s=GP(e);t={...t,...s,mass:nn.mass},t.isResolvedFromDuration=!0}return t}function Ad(e=nn.visualDuration,t=nn.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:l}=s;const u=s.keyframes[0],d=s.keyframes[s.keyframes.length-1],f={done:!1,value:u},{stiffness:p,damping:g,mass:y,duration:v,velocity:b,isResolvedFromDuration:S}=ZP({...s,velocity:-Is(s.velocity||0)}),T=b||0,D=g/(2*Math.sqrt(p*y)),j=d-u,C=Is(Math.sqrt(p/y)),E=Math.abs(j)<5;i||(i=E?nn.restSpeed.granular:nn.restSpeed.default),l||(l=E?nn.restDelta.granular:nn.restDelta.default);let k;if(D<1){const N=um(C,D);k=z=>{const P=Math.exp(-D*C*z);return d-P*((T+D*C*j)/N*Math.sin(N*z)+j*Math.cos(N*z))}}else if(D===1)k=N=>d-Math.exp(-C*N)*(j+(T+C*j)*N);else{const N=C*Math.sqrt(D*D-1);k=z=>{const P=Math.exp(-D*C*z),F=Math.min(N*z,300);return d-P*((T+D*C*j)*Math.sinh(F)+N*j*Math.cosh(F))/N}}const A={calculatedDuration:S&&v||null,next:N=>{const z=k(N);if(S)f.done=N>=v;else{let P=N===0?T:0;D<1&&(P=N===0?er(T):wT(k,N,z));const F=Math.abs(P)<=i,H=Math.abs(d-z)<=l;f.done=F&&H}return f.value=f.done?d:z,f},toString:()=>{const N=Math.min(Dg(A),Pd),z=ST(P=>A.next(N*P).value,N,30);return N+"ms "+z},toTransition:()=>{}};return A}Ad.applyToOptions=e=>{const t=UP(e,100,Ad);return e.ease=t.ease,e.duration=er(t.duration),e.type="keyframes",e};function dm({keyframes:e,velocity:t=0,power:s=.8,timeConstant:i=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:d,min:f,max:p,restDelta:g=.5,restSpeed:y}){const v=e[0],b={done:!1,value:v},S=F=>f!==void 0&&F<f||p!==void 0&&F>p,T=F=>f===void 0?p:p===void 0||Math.abs(f-F)<Math.abs(p-F)?f:p;let D=s*t;const j=v+D,C=d===void 0?j:d(j);C!==j&&(D=C-v);const E=F=>-D*Math.exp(-F/i),k=F=>C+E(F),A=F=>{const H=E(F),L=k(F);b.done=Math.abs(H)<=g,b.value=b.done?C:L};let N,z;const P=F=>{S(b.value)&&(N=F,z=Ad({keyframes:[b.value,T(b.value)],velocity:wT(k,F,b.value),damping:l,stiffness:u,restDelta:g,restSpeed:y}))};return P(0),{calculatedDuration:null,next:F=>{let H=!1;return!z&&N===void 0&&(H=!0,A(F),P(F)),N!==void 0&&F>=N?z.next(F-N):(!H&&A(F),b)}}}function JP(e,t,s){const i=[],l=s||Ar.mix||vT,u=e.length-1;for(let d=0;d<u;d++){let f=l(e[d],e[d+1]);if(t){const p=Array.isArray(t)?t[d]||Ls:t;f=Pc(p,f)}i.push(f)}return i}function TT(e,t,{clamp:s=!0,ease:i,mixer:l}={}){const u=e.length;if(gg(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const d=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=JP(t,i,l),p=f.length,g=y=>{if(d&&y<e[0])return t[0];let v=0;if(p>1)for(;v<e.length-2&&!(y<e[v+1]);v++);const b=dc(e[v],e[v+1],y);return f[v](b)};return s?y=>g(Pr(e[0],e[u-1],y)):g}function eA(e,t){const s=e[e.length-1];for(let i=1;i<=t;i++){const l=dc(0,t,i);e.push(Kt(s,1,l))}}function tA(e){const t=[0];return eA(t,e.length-1),t}function nA(e,t){return e.map(s=>s*t)}function sA(e,t){return e.map(()=>t||uT).splice(0,e.length-1)}function ec({duration:e=300,keyframes:t,times:s,ease:i="easeInOut"}){const l=mP(i)?i.map(Qv):Qv(i),u={done:!1,value:t[0]},d=nA(s&&s.length===t.length?s:tA(t),e),f=TT(d,t,{ease:Array.isArray(l)?l:sA(t,l)});return{calculatedDuration:e,next:p=>(u.value=f(p),u.done=p>=e,u)}}const rA=e=>e!==null;function Eg(e,{repeat:t,repeatType:s="loop"},i,l=1){const u=e.filter(rA),f=l<0||t&&s!=="loop"&&t%2===1?0:u.length-1;return!f||i===void 0?u[f]:i}const iA={decay:dm,inertia:dm,tween:ec,keyframes:ec,spring:Ad};function CT(e){typeof e.type=="string"&&(e.type=iA[e.type])}class Mg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const aA=e=>e/100;class kg extends Mg{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==es.now()&&this.tick(es.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;CT(t);const{type:s=ec,repeat:i=0,repeatDelay:l=0,repeatType:u,velocity:d=0}=t;let{keyframes:f}=t;const p=s||ec;p!==ec&&typeof f[0]!="number"&&(this.mixKeyframes=Pc(aA,vT(f[0],f[1])),f=[0,100]);const g=p({...t,keyframes:f});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...f].reverse(),velocity:-d})),g.calculatedDuration===null&&(g.calculatedDuration=Dg(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+l,this.totalDuration=this.resolvedDuration*(i+1)-l,this.generator=g}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:i,totalDuration:l,mixKeyframes:u,mirroredGenerator:d,resolvedDuration:f,calculatedDuration:p}=this;if(this.startTime===null)return i.next(0);const{delay:g=0,keyframes:y,repeat:v,repeatType:b,repeatDelay:S,type:T,onUpdate:D,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-l/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const C=this.currentTime-g*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?C<0:C>l;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let k=this.currentTime,A=i;if(v){const F=Math.min(this.currentTime,l)/f;let H=Math.floor(F),L=F%1;!L&&F>=1&&(L=1),L===1&&H--,H=Math.min(H,v+1),!!(H%2)&&(b==="reverse"?(L=1-L,S&&(L-=S/f)):b==="mirror"&&(A=d)),k=Pr(0,1,L)*f}const N=E?{done:!1,value:y[0]}:A.next(k);u&&(N.value=u(N.value));let{done:z}=N;!E&&p!==null&&(z=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return P&&T!==dm&&(N.value=Eg(y,this.options,j,this.speed)),D&&D(N.value),P&&this.finish(),N}then(t,s){return this.finished.then(t,s)}get duration(){return Is(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Is(t)}get time(){return Is(this.currentTime)}set time(t){t=er(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(es.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=Is(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=YP,startTime:s}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=s??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(es.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function oA(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ji=e=>e*180/Math.PI,fm=e=>{const t=Ji(Math.atan2(e[1],e[0]));return hm(t)},lA={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:fm,rotateZ:fm,skewX:e=>Ji(Math.atan(e[1])),skewY:e=>Ji(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},hm=e=>(e=e%360,e<0&&(e+=360),e),tS=fm,nS=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),sS=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),cA={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:nS,scaleY:sS,scale:e=>(nS(e)+sS(e))/2,rotateX:e=>hm(Ji(Math.atan2(e[6],e[5]))),rotateY:e=>hm(Ji(Math.atan2(-e[2],e[0]))),rotateZ:tS,rotate:tS,skewX:e=>Ji(Math.atan(e[4])),skewY:e=>Ji(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function pm(e){return e.includes("scale")?1:0}function mm(e,t){if(!e||e==="none")return pm(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,l;if(s)i=cA,l=s;else{const f=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=lA,l=f}if(!l)return pm(t);const u=i[t],d=l[1].split(",").map(dA);return typeof u=="function"?u(d):d[u]}const uA=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return mm(s,t)};function dA(e){return parseFloat(e.trim())}const Vo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wo=new Set(Vo),rS=e=>e===zo||e===Ze,fA=new Set(["x","y","z"]),hA=Vo.filter(e=>!fA.has(e));function pA(e){const t=[];return hA.forEach(s=>{const i=e.getValue(s);i!==void 0&&(t.push([s,i.get()]),i.set(s.startsWith("scale")?1:0))}),t}const ta={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>mm(t,"x"),y:(e,{transform:t})=>mm(t,"y")};ta.translateX=ta.x;ta.translateY=ta.y;const na=new Set;let gm=!1,ym=!1,xm=!1;function jT(){if(ym){const e=Array.from(na).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),s=new Map;t.forEach(i=>{const l=pA(i);l.length&&(s.set(i,l),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const l=s.get(i);l&&l.forEach(([u,d])=>{i.getValue(u)?.set(d)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}ym=!1,gm=!1,na.forEach(e=>e.complete(xm)),na.clear()}function DT(){na.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ym=!0)})}function mA(){xm=!0,DT(),jT(),xm=!1}class Pg{constructor(t,s,i,l,u,d=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=i,this.motionValue=l,this.element=u,this.isAsync=d}scheduleResolve(){this.state="scheduled",this.isAsync?(na.add(this),gm||(gm=!0,Ut.read(DT),Ut.resolveKeyframes(jT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:i,motionValue:l}=this;if(t[0]===null){const u=l?.get(),d=t[t.length-1];if(u!==void 0)t[0]=u;else if(i&&s){const f=i.readValue(s,d);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=d),l&&u===void 0&&l.set(t[0])}oA(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),na.delete(this)}cancel(){this.state==="scheduled"&&(na.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const gA=e=>e.startsWith("--");function yA(e,t,s){gA(t)?e.style.setProperty(t,s):e.style[t]=s}const xA=yg(()=>window.ScrollTimeline!==void 0),bA={};function vA(e,t){const s=yg(e);return()=>bA[t]??s()}const ET=vA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Xl=([e,t,s,i])=>`cubic-bezier(${e}, ${t}, ${s}, ${i})`,iS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xl([0,.65,.55,1]),circOut:Xl([.55,0,1,.45]),backIn:Xl([.31,.01,.66,-.59]),backOut:Xl([.33,1.53,.69,.99])};function MT(e,t){if(e)return typeof e=="function"?ET()?ST(e,t):"ease-out":dT(e)?Xl(e):Array.isArray(e)?e.map(s=>MT(s,t)||iS.easeOut):iS[e]}function SA(e,t,s,{delay:i=0,duration:l=300,repeat:u=0,repeatType:d="loop",ease:f="easeOut",times:p}={},g=void 0){const y={[t]:s};p&&(y.offset=p);const v=MT(f,l);Array.isArray(v)&&(y.easing=v);const b={delay:i,duration:l,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:u+1,direction:d==="reverse"?"alternate":"normal"};return g&&(b.pseudoElement=g),e.animate(y,b)}function kT(e){return typeof e=="function"&&"applyToOptions"in e}function wA({type:e,...t}){return kT(e)&&ET()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class TA extends Mg{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:i,keyframes:l,pseudoElement:u,allowFlatten:d=!1,finalKeyframe:f,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=d,this.options=t,gg(typeof t.type!="string");const g=wA(t);this.animation=SA(s,i,l,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const y=Eg(l,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):yA(s,i,y),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Is(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Is(t)}get time(){return Is(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=er(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&xA()?(this.animation.timeline=t,Ls):s(this)}}const PT={anticipate:oT,backInOut:aT,circInOut:cT};function CA(e){return e in PT}function jA(e){typeof e.ease=="string"&&CA(e.ease)&&(e.ease=PT[e.ease])}const aS=10;class DA extends TA{constructor(t){jA(t),CT(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:i,onComplete:l,element:u,...d}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const f=new kg({...d,autoplay:!1}),p=er(this.finishedTime??this.time);s.setWithVelocity(f.sample(p-aS).value,f.sample(p).value,aS),f.stop()}}const oS=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(bi.test(e)||e==="0")&&!e.startsWith("url("));function EA(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function MA(e,t,s,i){const l=e[0];if(l===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],d=oS(l,t),f=oS(u,t);return!d||!f?!1:EA(e)||(s==="spring"||kT(s))&&i}function bm(e){e.duration=0,e.type="keyframes"}const kA=new Set(["opacity","clipPath","filter","transform"]),PA=yg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function AA(e){const{motionValue:t,name:s,repeatDelay:i,repeatType:l,damping:u,type:d}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return PA()&&s&&kA.has(s)&&(s!=="transform"||!g)&&!p&&!i&&l!=="mirror"&&u!==0&&d!=="inertia"}const OA=40;class RA extends Mg{constructor({autoplay:t=!0,delay:s=0,type:i="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:d="loop",keyframes:f,name:p,motionValue:g,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=es.now();const b={autoplay:t,delay:s,type:i,repeat:l,repeatDelay:u,repeatType:d,name:p,motionValue:g,element:y,...v},S=y?.KeyframeResolver||Pg;this.keyframeResolver=new S(f,(T,D,j)=>this.onKeyframesResolved(T,D,b,!j),p,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,s,i,l){this.keyframeResolver=void 0;const{name:u,type:d,velocity:f,delay:p,isHandoff:g,onUpdate:y}=i;this.resolvedAt=es.now(),MA(t,u,d,f)||((Ar.instantAnimations||!p)&&y?.(Eg(t,i,s)),t[0]=t[t.length-1],bm(i),i.repeat=0);const b={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>OA?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...i,keyframes:t},S=!g&&AA(b)?new DA({...b,element:b.motionValue.owner.current}):new kg(b);S.finished.then(()=>this.notifyFinished()).catch(Ls),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),mA()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const IA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function BA(e){const t=IA.exec(e);if(!t)return[,];const[,s,i,l]=t;return[`--${s??i}`,l]}function AT(e,t,s=1){const[i,l]=BA(e);if(!i)return;const u=window.getComputedStyle(t).getPropertyValue(i);if(u){const d=u.trim();return Z1(d)?parseFloat(d):d}return wg(l)?AT(l,t,s+1):l}function Ag(e,t){return e?.[t]??e?.default??e}const OT=new Set(["width","height","top","left","right","bottom",...Vo]),LA={test:e=>e==="auto",parse:e=>e},RT=e=>t=>t.test(e),IT=[zo,Ze,tr,ui,MP,EP,LA],lS=e=>IT.find(RT(e));function NA(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||eT(e):!0}const FA=new Set(["brightness","contrast","saturate","opacity"]);function HA(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=s.match(Tg)||[];if(!i)return e;const l=s.replace(i,"");let u=FA.has(t)?1:0;return i!==s&&(u*=100),t+"("+u+l+")"}const _A=/\b([a-z-]*)\(.*?\)/gu,vm={...bi,getAnimatableNone:e=>{const t=e.match(_A);return t?t.map(HA).join(" "):e}},cS={...zo,transform:Math.round},zA={rotate:ui,rotateX:ui,rotateY:ui,rotateZ:ui,scale:ad,scaleX:ad,scaleY:ad,scaleZ:ad,skew:ui,skewX:ui,skewY:ui,distance:Ze,translateX:Ze,translateY:Ze,translateZ:Ze,x:Ze,y:Ze,z:Ze,perspective:Ze,transformPerspective:Ze,opacity:fc,originX:Kv,originY:Kv,originZ:Ze},Og={borderWidth:Ze,borderTopWidth:Ze,borderRightWidth:Ze,borderBottomWidth:Ze,borderLeftWidth:Ze,borderRadius:Ze,radius:Ze,borderTopLeftRadius:Ze,borderTopRightRadius:Ze,borderBottomRightRadius:Ze,borderBottomLeftRadius:Ze,width:Ze,maxWidth:Ze,height:Ze,maxHeight:Ze,top:Ze,right:Ze,bottom:Ze,left:Ze,padding:Ze,paddingTop:Ze,paddingRight:Ze,paddingBottom:Ze,paddingLeft:Ze,margin:Ze,marginTop:Ze,marginRight:Ze,marginBottom:Ze,marginLeft:Ze,backgroundPositionX:Ze,backgroundPositionY:Ze,...zA,zIndex:cS,fillOpacity:fc,strokeOpacity:fc,numOctaves:cS},VA={...Og,color:gn,backgroundColor:gn,outlineColor:gn,fill:gn,stroke:gn,borderColor:gn,borderTopColor:gn,borderRightColor:gn,borderBottomColor:gn,borderLeftColor:gn,filter:vm,WebkitFilter:vm},BT=e=>VA[e];function LT(e,t){let s=BT(e);return s!==vm&&(s=bi),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const WA=new Set(["auto","none","0"]);function YA(e,t,s){let i=0,l;for(;i<e.length&&!l;){const u=e[i];typeof u=="string"&&!WA.has(u)&&hc(u).values.length&&(l=e[i]),i++}if(l&&s)for(const u of t)e[u]=LT(s,l)}class UA extends Pg{constructor(t,s,i,l,u){super(t,s,i,l,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:i}=this;if(!s||!s.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),wg(g))){const y=AT(g,s.current);y!==void 0&&(t[p]=y),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!OT.has(i)||t.length!==2)return;const[l,u]=t,d=lS(l),f=lS(u);if(d!==f)if(rS(d)&&rS(f))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else ta[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,i=[];for(let l=0;l<t.length;l++)(t[l]===null||NA(t[l]))&&i.push(l);i.length&&YA(t,i,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ta[i](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const l=s[s.length-1];l!==void 0&&t.getValue(i,l).jump(l,!1)}measureEndState(){const{element:t,name:s,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const l=t.getValue(s);l&&l.jump(this.measuredOrigin,!1);const u=i.length-1,d=i[u];i[u]=ta[s](t.measureViewportBox(),window.getComputedStyle(t.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,p])=>{t.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function qA(e,t,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const l=s?.[e]??i.querySelectorAll(e);return l?Array.from(l):[]}return Array.from(e)}const NT=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function FT(e){return J1(e)&&"offsetHeight"in e}const uS=30,GA=e=>!isNaN(parseFloat(e)),tc={current:void 0};class $A{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const l=es.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=es.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=GA(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new xg);const i=this.events[t].add(s);return t==="change"?()=>{i(),Ut.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,s,i){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return tc.current&&tc.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=es.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>uS)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,uS);return tT(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function aa(e,t){return new $A(e,t)}const{schedule:Rg}=fT(queueMicrotask,!1),Vs={x:!1,y:!1};function HT(){return Vs.x||Vs.y}function QA(e){return e==="x"||e==="y"?Vs[e]?null:(Vs[e]=!0,()=>{Vs[e]=!1}):Vs.x||Vs.y?null:(Vs.x=Vs.y=!0,()=>{Vs.x=Vs.y=!1})}function _T(e,t){const s=qA(e),i=new AbortController,l={passive:!0,...t,signal:i.signal};return[s,l,()=>i.abort()]}function dS(e){return!(e.pointerType==="touch"||HT())}function KA(e,t,s={}){const[i,l,u]=_T(e,s),d=f=>{if(!dS(f))return;const{target:p}=f,g=t(p,f);if(typeof g!="function"||!p)return;const y=v=>{dS(v)&&(g(v),p.removeEventListener("pointerleave",y))};p.addEventListener("pointerleave",y,l)};return i.forEach(f=>{f.addEventListener("pointerenter",d,l)}),u}const zT=(e,t)=>t?e===t?!0:zT(e,t.parentElement):!1,Ig=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,XA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ZA(e){return XA.has(e.tagName)||e.tabIndex!==-1}const Sd=new WeakSet;function fS(e){return t=>{t.key==="Enter"&&e(t)}}function Fp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const JA=(e,t)=>{const s=e.currentTarget;if(!s)return;const i=fS(()=>{if(Sd.has(s))return;Fp(s,"down");const l=fS(()=>{Fp(s,"up")}),u=()=>Fp(s,"cancel");s.addEventListener("keyup",l,t),s.addEventListener("blur",u,t)});s.addEventListener("keydown",i,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",i),t)};function hS(e){return Ig(e)&&!HT()}function eO(e,t,s={}){const[i,l,u]=_T(e,s),d=f=>{const p=f.currentTarget;if(!hS(f))return;Sd.add(p);const g=t(p,f),y=(S,T)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),Sd.has(p)&&Sd.delete(p),hS(S)&&typeof g=="function"&&g(S,{success:T})},v=S=>{y(S,p===window||p===document||s.useGlobalTarget||zT(p,S.target))},b=S=>{y(S,!1)};window.addEventListener("pointerup",v,l),window.addEventListener("pointercancel",b,l)};return i.forEach(f=>{(s.useGlobalTarget?window:f).addEventListener("pointerdown",d,l),FT(f)&&(f.addEventListener("focus",g=>JA(g,l)),!ZA(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),u}function VT(e){return J1(e)&&"ownerSVGElement"in e}function tO(e){return VT(e)&&e.tagName==="svg"}function nO(...e){const t=!Array.isArray(e[0]),s=t?0:-1,i=e[0+s],l=e[1+s],u=e[2+s],d=e[3+s],f=TT(l,u,d);return t?f(i):f}const On=e=>!!(e&&e.getVelocity),sO=[...IT,gn,bi],rO=e=>sO.find(RT(e)),$d=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function pS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function iO(...e){return t=>{let s=!1;const i=e.map(l=>{const u=pS(l,t);return!s&&typeof u=="function"&&(s=!0),u});if(s)return()=>{for(let l=0;l<i.length;l++){const u=i[l];typeof u=="function"?u():pS(e[l],null)}}}}function aO(...e){return x.useCallback(iO(...e),e)}class oO extends x.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const i=s.offsetParent,l=FT(i)&&i.offsetWidth||0,u=this.props.sizeRef.current;u.height=s.offsetHeight||0,u.width=s.offsetWidth||0,u.top=s.offsetTop,u.left=s.offsetLeft,u.right=l-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function lO({children:e,isPresent:t,anchorX:s,root:i}){const l=x.useId(),u=x.useRef(null),d=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=x.useContext($d),p=aO(u,e?.ref);return x.useInsertionEffect(()=>{const{width:g,height:y,top:v,left:b,right:S}=d.current;if(t||!u.current||!g||!y)return;const T=s==="left"?`left: ${b}`:`right: ${S}`;u.current.dataset.motionPopId=l;const D=document.createElement("style");f&&(D.nonce=f);const j=i??document.head;return j.appendChild(D),D.sheet&&D.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${T}px !important;
            top: ${v}px !important;
          }
        `),()=>{j.contains(D)&&j.removeChild(D)}},[t]),a.jsx(oO,{isPresent:t,childRef:u,sizeRef:d,children:x.cloneElement(e,{ref:p})})}const cO=({children:e,initial:t,isPresent:s,onExitComplete:i,custom:l,presenceAffectsLayout:u,mode:d,anchorX:f,root:p})=>{const g=ma(uO),y=x.useId();let v=!0,b=x.useMemo(()=>(v=!1,{id:y,initial:t,isPresent:s,custom:l,onExitComplete:S=>{g.set(S,!0);for(const T of g.values())if(!T)return;i&&i()},register:S=>(g.set(S,!1),()=>g.delete(S))}),[s,g,i]);return u&&v&&(b={...b}),x.useMemo(()=>{g.forEach((S,T)=>g.set(T,!1))},[s]),x.useEffect(()=>{!s&&!g.size&&i&&i()},[s]),d==="popLayout"&&(e=a.jsx(lO,{isPresent:s,anchorX:f,root:p,children:e})),a.jsx(Gd.Provider,{value:b,children:e})};function uO(){return new Map}function WT(e=!0){const t=x.useContext(Gd);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:i,register:l}=t,u=x.useId();x.useEffect(()=>{if(e)return l(u)},[e]);const d=x.useCallback(()=>e&&i&&i(u),[u,i,e]);return!s&&i?[!1,d]:[!0]}const od=e=>e.key||"";function mS(e){const t=[];return x.Children.forEach(e,s=>{x.isValidElement(s)&&t.push(s)}),t}const pc=({children:e,custom:t,initial:s=!0,onExitComplete:i,presenceAffectsLayout:l=!0,mode:u="sync",propagate:d=!1,anchorX:f="left",root:p})=>{const[g,y]=WT(d),v=x.useMemo(()=>mS(e),[e]),b=d&&!g?[]:v.map(od),S=x.useRef(!0),T=x.useRef(v),D=ma(()=>new Map),[j,C]=x.useState(v),[E,k]=x.useState(v);hg(()=>{S.current=!1,T.current=v;for(let z=0;z<E.length;z++){const P=od(E[z]);b.includes(P)?D.delete(P):D.get(P)!==!0&&D.set(P,!1)}},[E,b.length,b.join("-")]);const A=[];if(v!==j){let z=[...v];for(let P=0;P<E.length;P++){const F=E[P],H=od(F);b.includes(H)||(z.splice(P,0,F),A.push(F))}return u==="wait"&&A.length&&(z=A),k(mS(z)),C(v),null}const{forceRender:N}=x.useContext(dg);return a.jsx(a.Fragment,{children:E.map(z=>{const P=od(z),F=d&&!g?!1:v===E||b.includes(P),H=()=>{if(D.has(P))D.set(P,!0);else return;let L=!0;D.forEach(W=>{W||(L=!1)}),L&&(N?.(),k(T.current),d&&y?.(),i&&i())};return a.jsx(cO,{isPresent:F,initial:!S.current||s?void 0:!1,custom:t,presenceAffectsLayout:l,mode:u,root:p,onExitComplete:F?void 0:H,anchorX:f,children:z},P)})})},YT=x.createContext({strict:!1}),gS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Io={};for(const e in gS)Io[e]={isEnabled:t=>gS[e].some(s=>!!t[s])};function dO(e){for(const t in e)Io[t]={...Io[t],...e[t]}}const fO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Od(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||fO.has(e)}let UT=e=>!Od(e);function hO(e){typeof e=="function"&&(UT=t=>t.startsWith("on")?!Od(t):e(t))}try{hO(require("@emotion/is-prop-valid").default)}catch{}function pO(e,t,s){const i={};for(const l in e)l==="values"&&typeof e.values=="object"||(UT(l)||s===!0&&Od(l)||!t&&!Od(l)||e.draggable&&l.startsWith("onDrag"))&&(i[l]=e[l]);return i}const Qd=x.createContext({});function Kd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function mc(e){return typeof e=="string"||Array.isArray(e)}const Bg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Lg=["initial",...Bg];function Xd(e){return Kd(e.animate)||Lg.some(t=>mc(e[t]))}function qT(e){return!!(Xd(e)||e.variants)}function mO(e,t){if(Xd(e)){const{initial:s,animate:i}=e;return{initial:s===!1||mc(s)?s:void 0,animate:mc(i)?i:void 0}}return e.inherit!==!1?t:{}}function gO(e){const{initial:t,animate:s}=mO(e,x.useContext(Qd));return x.useMemo(()=>({initial:t,animate:s}),[yS(t),yS(s)])}function yS(e){return Array.isArray(e)?e.join(" "):e}const gc={};function yO(e){for(const t in e)gc[t]=e[t],Sg(t)&&(gc[t].isCSSVariable=!0)}function GT(e,{layout:t,layoutId:s}){return Wo.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!gc[e]||e==="opacity")}const xO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bO=Vo.length;function vO(e,t,s){let i="",l=!0;for(let u=0;u<bO;u++){const d=Vo[u],f=e[d];if(f===void 0)continue;let p=!0;if(typeof f=="number"?p=f===(d.startsWith("scale")?1:0):p=parseFloat(f)===0,!p||s){const g=NT(f,Og[d]);if(!p){l=!1;const y=xO[d]||d;i+=`${y}(${g}) `}s&&(t[d]=g)}}return i=i.trim(),s?i=s(t,l?"":i):l&&(i="none"),i}function Ng(e,t,s){const{style:i,vars:l,transformOrigin:u}=e;let d=!1,f=!1;for(const p in t){const g=t[p];if(Wo.has(p)){d=!0;continue}else if(Sg(p)){l[p]=g;continue}else{const y=NT(g,Og[p]);p.startsWith("origin")?(f=!0,u[p]=y):i[p]=y}}if(t.transform||(d||s?i.transform=vO(t,e.transform,s):i.transform&&(i.transform="none")),f){const{originX:p="50%",originY:g="50%",originZ:y=0}=u;i.transformOrigin=`${p} ${g} ${y}`}}const Fg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function $T(e,t,s){for(const i in t)!On(t[i])&&!GT(i,s)&&(e[i]=t[i])}function SO({transformTemplate:e},t){return x.useMemo(()=>{const s=Fg();return Ng(s,t,e),Object.assign({},s.vars,s.style)},[t])}function wO(e,t){const s=e.style||{},i={};return $T(i,s,e),Object.assign(i,SO(e,t)),i}function TO(e,t){const s={},i=wO(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=i,s}const CO={offset:"stroke-dashoffset",array:"stroke-dasharray"},jO={offset:"strokeDashoffset",array:"strokeDasharray"};function DO(e,t,s=1,i=0,l=!0){e.pathLength=1;const u=l?CO:jO;e[u.offset]=Ze.transform(-i);const d=Ze.transform(t),f=Ze.transform(s);e[u.array]=`${d} ${f}`}function QT(e,{attrX:t,attrY:s,attrScale:i,pathLength:l,pathSpacing:u=1,pathOffset:d=0,...f},p,g,y){if(Ng(e,f,g),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:b}=e;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=y?.transformBox??"fill-box",delete v.transformBox),t!==void 0&&(v.x=t),s!==void 0&&(v.y=s),i!==void 0&&(v.scale=i),l!==void 0&&DO(v,l,u,d,!1)}const KT=()=>({...Fg(),attrs:{}}),XT=e=>typeof e=="string"&&e.toLowerCase()==="svg";function EO(e,t,s,i){const l=x.useMemo(()=>{const u=KT();return QT(u,t,XT(i),e.transformTemplate,e.style),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};$T(u,e.style,e),l.style={...u,...l.style}}return l}const MO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Hg(e){return typeof e!="string"||e.includes("-")?!1:!!(MO.indexOf(e)>-1||/[A-Z]/u.test(e))}function kO(e,t,s,{latestValues:i},l,u=!1){const f=(Hg(e)?EO:TO)(t,i,l,e),p=pO(t,typeof e=="string",u),g=e!==x.Fragment?{...p,...f,ref:s}:{},{children:y}=t,v=x.useMemo(()=>On(y)?y.get():y,[y]);return x.createElement(e,{...g,children:v})}function xS(e){const t=[{},{}];return e?.values.forEach((s,i)=>{t[0][i]=s.get(),t[1][i]=s.getVelocity()}),t}function _g(e,t,s,i){if(typeof t=="function"){const[l,u]=xS(i);t=t(s!==void 0?s:e.custom,l,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[l,u]=xS(i);t=t(s!==void 0?s:e.custom,l,u)}return t}function wd(e){return On(e)?e.get():e}function PO({scrapeMotionValuesFromProps:e,createRenderState:t},s,i,l){return{latestValues:AO(s,i,l,e),renderState:t()}}function AO(e,t,s,i){const l={},u=i(e,{});for(const b in u)l[b]=wd(u[b]);let{initial:d,animate:f}=e;const p=Xd(e),g=qT(e);t&&g&&!p&&e.inherit!==!1&&(d===void 0&&(d=t.initial),f===void 0&&(f=t.animate));let y=s?s.initial===!1:!1;y=y||d===!1;const v=y?f:d;if(v&&typeof v!="boolean"&&!Kd(v)){const b=Array.isArray(v)?v:[v];for(let S=0;S<b.length;S++){const T=_g(e,b[S]);if(T){const{transitionEnd:D,transition:j,...C}=T;for(const E in C){let k=C[E];if(Array.isArray(k)){const A=y?k.length-1:0;k=k[A]}k!==null&&(l[E]=k)}for(const E in D)l[E]=D[E]}}}return l}const ZT=e=>(t,s)=>{const i=x.useContext(Qd),l=x.useContext(Gd),u=()=>PO(e,t,i,l);return s?u():ma(u)};function zg(e,t,s){const{style:i}=e,l={};for(const u in i)(On(i[u])||t.style&&On(t.style[u])||GT(u,e)||s?.getValue(u)?.liveStyle!==void 0)&&(l[u]=i[u]);return l}const OO=ZT({scrapeMotionValuesFromProps:zg,createRenderState:Fg});function JT(e,t,s){const i=zg(e,t,s);for(const l in e)if(On(e[l])||On(t[l])){const u=Vo.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;i[u]=e[l]}return i}const RO=ZT({scrapeMotionValuesFromProps:JT,createRenderState:KT}),IO=Symbol.for("motionComponentSymbol");function go(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function BO(e,t,s){return x.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),s&&(typeof s=="function"?s(i):go(s)&&(s.current=i))},[t])}const Vg=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),LO="framerAppearId",eC="data-"+Vg(LO),tC=x.createContext({});function NO(e,t,s,i,l){const{visualElement:u}=x.useContext(Qd),d=x.useContext(YT),f=x.useContext(Gd),p=x.useContext($d).reducedMotion,g=x.useRef(null);i=i||d.renderer,!g.current&&i&&(g.current=i(e,{visualState:t,parent:u,props:s,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:p}));const y=g.current,v=x.useContext(tC);y&&!y.projection&&l&&(y.type==="html"||y.type==="svg")&&FO(g.current,s,l,v);const b=x.useRef(!1);x.useInsertionEffect(()=>{y&&b.current&&y.update(s,f)});const S=s[eC],T=x.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return hg(()=>{y&&(b.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),T.current&&y.animationState&&y.animationState.animateChanges())}),x.useEffect(()=>{y&&(!T.current&&y.animationState&&y.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),T.current=!1),y.enteringChildren=void 0)}),y}function FO(e,t,s,i){const{layoutId:l,layout:u,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:g,layoutCrossfade:y}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:nC(e.parent)),e.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||f&&go(f),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:p,layoutRoot:g})}function nC(e){if(e)return e.options.allowProjection!==!1?e.projection:nC(e.parent)}function Hp(e,{forwardMotionProps:t=!1}={},s,i){s&&dO(s);const l=Hg(e)?RO:OO;function u(f,p){let g;const y={...x.useContext($d),...f,layoutId:HO(f)},{isStatic:v}=y,b=gO(f),S=l(f,v);if(!v&&fg){_O();const T=zO(y);g=T.MeasureLayout,b.visualElement=NO(e,S,y,i,T.ProjectionNode)}return a.jsxs(Qd.Provider,{value:b,children:[g&&b.visualElement?a.jsx(g,{visualElement:b.visualElement,...y}):null,kO(e,f,BO(S,b.visualElement,p),S,v,t)]})}u.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const d=x.forwardRef(u);return d[IO]=e,d}function HO({layoutId:e}){const t=x.useContext(dg).id;return t&&e!==void 0?t+"-"+e:e}function _O(e,t){x.useContext(YT).strict}function zO(e){const{drag:t,layout:s}=Io;if(!t&&!s)return{};const i={...t,...s};return{MeasureLayout:t?.isEnabled(e)||s?.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function VO(e,t){if(typeof Proxy>"u")return Hp;const s=new Map,i=(u,d)=>Hp(u,d,e,t),l=(u,d)=>i(u,d);return new Proxy(l,{get:(u,d)=>d==="create"?i:(s.has(d)||s.set(d,Hp(d,void 0,e,t)),s.get(d))})}function sC({top:e,left:t,right:s,bottom:i}){return{x:{min:t,max:s},y:{min:e,max:i}}}function WO({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function YO(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:i.y,right:i.x}}function _p(e){return e===void 0||e===1}function Sm({scale:e,scaleX:t,scaleY:s}){return!_p(e)||!_p(t)||!_p(s)}function Qi(e){return Sm(e)||rC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function rC(e){return bS(e.x)||bS(e.y)}function bS(e){return e&&e!=="0%"}function Rd(e,t,s){const i=e-s,l=t*i;return s+l}function vS(e,t,s,i,l){return l!==void 0&&(e=Rd(e,l,i)),Rd(e,s,i)+t}function wm(e,t=0,s=1,i,l){e.min=vS(e.min,t,s,i,l),e.max=vS(e.max,t,s,i,l)}function iC(e,{x:t,y:s}){wm(e.x,t.translate,t.scale,t.originPoint),wm(e.y,s.translate,s.scale,s.originPoint)}const SS=.999999999999,wS=1.0000000000001;function UO(e,t,s,i=!1){const l=s.length;if(!l)return;t.x=t.y=1;let u,d;for(let f=0;f<l;f++){u=s[f],d=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(i&&u.options.layoutScroll&&u.scroll&&u!==u.root&&xo(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),d&&(t.x*=d.x.scale,t.y*=d.y.scale,iC(e,d)),i&&Qi(u.latestValues)&&xo(e,u.latestValues))}t.x<wS&&t.x>SS&&(t.x=1),t.y<wS&&t.y>SS&&(t.y=1)}function yo(e,t){e.min=e.min+t,e.max=e.max+t}function TS(e,t,s,i,l=.5){const u=Kt(e.min,e.max,l);wm(e,t,s,u,i)}function xo(e,t){TS(e.x,t.x,t.scaleX,t.scale,t.originX),TS(e.y,t.y,t.scaleY,t.scale,t.originY)}function aC(e,t){return sC(YO(e.getBoundingClientRect(),t))}function qO(e,t,s){const i=aC(e,s),{scroll:l}=t;return l&&(yo(i.x,l.offset.x),yo(i.y,l.offset.y)),i}const CS=()=>({translate:0,scale:1,origin:0,originPoint:0}),bo=()=>({x:CS(),y:CS()}),jS=()=>({min:0,max:0}),ln=()=>({x:jS(),y:jS()}),Tm={current:null},oC={current:!1};function GO(){if(oC.current=!0,!!fg)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Tm.current=e.matches;e.addEventListener("change",t),t()}else Tm.current=!1}const $O=new WeakMap;function QO(e,t,s){for(const i in t){const l=t[i],u=s[i];if(On(l))e.addValue(i,l);else if(On(u))e.addValue(i,aa(l,{owner:e}));else if(u!==l)if(e.hasValue(i)){const d=e.getValue(i);d.liveStyle===!0?d.jump(l):d.hasAnimated||d.set(l)}else{const d=e.getStaticValue(i);e.addValue(i,aa(d!==void 0?d:l,{owner:e}))}}for(const i in s)t[i]===void 0&&e.removeValue(i);return t}const DS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class KO{scrapeMotionValuesFromProps(t,s,i){return{}}constructor({parent:t,props:s,presenceContext:i,reducedMotionConfig:l,blockInitialAnimation:u,visualState:d},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Pg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=es.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Ut.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=d;this.latestValues=p,this.baseTarget={...p},this.initialValues=s.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=s,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=l,this.options=f,this.blockInitialAnimation=!!u,this.isControllingVariants=Xd(s),this.isVariantNode=qT(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(s,{},this);for(const b in v){const S=v[b];p[b]!==void 0&&On(S)&&S.set(p[b])}}mount(t){this.current=t,$O.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,i)=>this.bindToMotionValue(i,s)),oC.current||GO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Tm.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Or(this.notifyUpdate),Or(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Wo.has(t);i&&this.onBindTransform&&this.onBindTransform();const l=s.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&Ut.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{l(),u&&u(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Io){const s=Io[t];if(!s)continue;const{isEnabled:i,Feature:l}=s;if(!this.features[t]&&l&&i(this.props)&&(this.features[t]=new l(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ln()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let i=0;i<DS.length;i++){const l=DS[i];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u="on"+l,d=t[u];d&&(this.propEventSubscriptions[l]=this.on(l,d))}this.prevMotionValues=QO(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const i=this.values.get(t);s!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&s!==void 0&&(i=aa(s===null?void 0:s,{owner:this}),this.addValue(t,i)),i}readValue(t,s){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(Z1(i)||eT(i))?i=parseFloat(i):!rO(i)&&bi.test(s)&&(i=LT(t,s)),this.setBaseTarget(t,On(i)?i.get():i)),On(i)?i.get():i}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){const{initial:s}=this.props;let i;if(typeof s=="string"||typeof s=="object"){const u=_g(this.props,s,this.presenceContext?.custom);u&&(i=u[t])}if(s&&i!==void 0)return i;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!On(l)?l:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new xg),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){Rg.render(this.render)}}class lC extends KO{constructor(){super(...arguments),this.KeyframeResolver=UA}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:i}){delete s[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;On(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function cC(e,{style:t,vars:s},i,l){const u=e.style;let d;for(d in t)u[d]=t[d];l?.applyProjectionStyles(u,i);for(d in s)u.setProperty(d,s[d])}function XO(e){return window.getComputedStyle(e)}class ZO extends lC{constructor(){super(...arguments),this.type="html",this.renderInstance=cC}readValueFromInstance(t,s){if(Wo.has(s))return this.projection?.isProjecting?pm(s):uA(t,s);{const i=XO(t),l=(Sg(s)?i.getPropertyValue(s):i[s])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:s}){return aC(t,s)}build(t,s,i){Ng(t,s,i.transformTemplate)}scrapeMotionValuesFromProps(t,s,i){return zg(t,s,i)}}const uC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function JO(e,t,s,i){cC(e,t,void 0,i);for(const l in t.attrs)e.setAttribute(uC.has(l)?l:Vg(l),t.attrs[l])}class eR extends lC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ln}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(Wo.has(s)){const i=BT(s);return i&&i.default||0}return s=uC.has(s)?s:Vg(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,i){return JT(t,s,i)}build(t,s,i){QT(t,s,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,s,i,l){JO(t,s,i,l)}mount(t){this.isSVGTag=XT(t.tagName),super.mount(t)}}const tR=(e,t)=>Hg(e)?new eR(t):new ZO(t,{allowProjection:e!==x.Fragment});function jo(e,t,s){const i=e.getProps();return _g(i,t,s!==void 0?s:i.custom,e)}const Cm=e=>Array.isArray(e);function nR(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,aa(s))}function sR(e){return Cm(e)?e[e.length-1]||0:e}function rR(e,t){const s=jo(e,t);let{transitionEnd:i={},transition:l={},...u}=s||{};u={...u,...i};for(const d in u){const f=sR(u[d]);nR(e,d,f)}}function iR(e){return!!(On(e)&&e.add)}function jm(e,t){const s=e.getValue("willChange");if(iR(s))return s.add(t);if(!s&&Ar.WillChange){const i=new Ar.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function dC(e){return e.props[eC]}const aR=e=>e!==null;function oR(e,{repeat:t,repeatType:s="loop"},i){const l=e.filter(aR),u=t&&s!=="loop"&&t%2===1?0:l.length-1;return l[u]}const lR={type:"spring",stiffness:500,damping:25,restSpeed:10},cR=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),uR={type:"keyframes",duration:.8},dR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fR=(e,{keyframes:t})=>t.length>2?uR:Wo.has(e)?e.startsWith("scale")?cR(t[1]):lR:dR;function hR({when:e,delay:t,delayChildren:s,staggerChildren:i,staggerDirection:l,repeat:u,repeatType:d,repeatDelay:f,from:p,elapsed:g,...y}){return!!Object.keys(y).length}const Wg=(e,t,s,i={},l,u)=>d=>{const f=Ag(i,e)||{},p=f.delay||i.delay||0;let{elapsed:g=0}=i;g=g-er(p);const y={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-g,onUpdate:b=>{t.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{d(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:u?void 0:l};hR(f)||Object.assign(y,fR(e,y)),y.duration&&(y.duration=er(y.duration)),y.repeatDelay&&(y.repeatDelay=er(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(bm(y),y.delay===0&&(v=!0)),(Ar.instantAnimations||Ar.skipAnimations)&&(v=!0,bm(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,v&&!u&&t.get()!==void 0){const b=oR(y.keyframes,f);if(b!==void 0){Ut.update(()=>{y.onUpdate(b),y.onComplete()});return}}return f.isSync?new kg(y):new RA(y)};function pR({protectedKeys:e,needsAnimating:t},s){const i=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,i}function fC(e,t,{delay:s=0,transitionOverride:i,type:l}={}){let{transition:u=e.getDefaultTransition(),transitionEnd:d,...f}=t;i&&(u=i);const p=[],g=l&&e.animationState&&e.animationState.getState()[l];for(const y in f){const v=e.getValue(y,e.latestValues[y]??null),b=f[y];if(b===void 0||g&&pR(g,y))continue;const S={delay:s,...Ag(u||{},y)},T=v.get();if(T!==void 0&&!v.isAnimating&&!Array.isArray(b)&&b===T&&!S.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const C=dC(e);if(C){const E=window.MotionHandoffAnimation(C,y,Ut);E!==null&&(S.startTime=E,D=!0)}}jm(e,y),v.start(Wg(y,v,b,e.shouldReduceMotion&&OT.has(y)?{type:!1}:S,e,D));const j=v.animation;j&&p.push(j)}return d&&Promise.all(p).then(()=>{Ut.update(()=>{d&&rR(e,d)})}),p}function hC(e,t,s,i=0,l=1){const u=Array.from(e).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),d=e.size,f=(d-1)*i;return typeof s=="function"?s(u,d):l===1?u*i:f-u*i}function Dm(e,t,s={}){const i=jo(e,t,s.type==="exit"?e.presenceContext?.custom:void 0);let{transition:l=e.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(l=s.transitionOverride);const u=i?()=>Promise.all(fC(e,i,s)):()=>Promise.resolve(),d=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:v}=l;return mR(e,t,p,g,y,v,s)}:()=>Promise.resolve(),{when:f}=l;if(f){const[p,g]=f==="beforeChildren"?[u,d]:[d,u];return p().then(()=>g())}else return Promise.all([u(),d(s.delay)])}function mR(e,t,s=0,i=0,l=0,u=1,d){const f=[];for(const p of e.variantChildren)p.notify("AnimationStart",t),f.push(Dm(p,t,{...d,delay:s+(typeof i=="function"?0:i)+hC(e.variantChildren,p,i,l,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(f)}function gR(e,t,s={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const l=t.map(u=>Dm(e,u,s));i=Promise.all(l)}else if(typeof t=="string")i=Dm(e,t,s);else{const l=typeof t=="function"?jo(e,t,s.custom):t;i=Promise.all(fC(e,l,s))}return i.then(()=>{e.notify("AnimationComplete",t)})}function pC(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let i=0;i<s;i++)if(t[i]!==e[i])return!1;return!0}const yR=Lg.length;function mC(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?mC(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<yR;s++){const i=Lg[s],l=e.props[i];(mc(l)||l===!1)&&(t[i]=l)}return t}const xR=[...Bg].reverse(),bR=Bg.length;function vR(e){return t=>Promise.all(t.map(({animation:s,options:i})=>gR(e,s,i)))}function SR(e){let t=vR(e),s=ES(),i=!0;const l=p=>(g,y)=>{const v=jo(e,y,p==="exit"?e.presenceContext?.custom:void 0);if(v){const{transition:b,transitionEnd:S,...T}=v;g={...g,...T,...S}}return g};function u(p){t=p(e)}function d(p){const{props:g}=e,y=mC(e.parent)||{},v=[],b=new Set;let S={},T=1/0;for(let j=0;j<bR;j++){const C=xR[j],E=s[C],k=g[C]!==void 0?g[C]:y[C],A=mc(k),N=C===p?E.isActive:null;N===!1&&(T=j);let z=k===y[C]&&k!==g[C]&&A;if(z&&i&&e.manuallyAnimateOnMount&&(z=!1),E.protectedKeys={...S},!E.isActive&&N===null||!k&&!E.prevProp||Kd(k)||typeof k=="boolean")continue;const P=wR(E.prevProp,k);let F=P||C===p&&E.isActive&&!z&&A||j>T&&A,H=!1;const L=Array.isArray(k)?k:[k];let W=L.reduce(l(C),{});N===!1&&(W={});const{prevResolvedValues:M={}}=E,U={...M,...W},V=O=>{F=!0,b.has(O)&&(H=!0,b.delete(O)),E.needsAnimating[O]=!0;const Q=e.getValue(O);Q&&(Q.liveStyle=!1)};for(const O in U){const Q=W[O],ee=M[O];if(S.hasOwnProperty(O))continue;let ye=!1;Cm(Q)&&Cm(ee)?ye=!pC(Q,ee):ye=Q!==ee,ye?Q!=null?V(O):b.add(O):Q!==void 0&&b.has(O)?V(O):E.protectedKeys[O]=!0}E.prevProp=k,E.prevResolvedValues=W,E.isActive&&(S={...S,...W}),i&&e.blockInitialAnimation&&(F=!1);const _=z&&P;F&&(!_||H)&&v.push(...L.map(O=>{const Q={type:C};if(typeof O=="string"&&i&&!_&&e.manuallyAnimateOnMount&&e.parent){const{parent:ee}=e,ye=jo(ee,O);if(ee.enteringChildren&&ye){const{delayChildren:ue}=ye.transition||{};Q.delay=hC(ee.enteringChildren,e,ue)}}return{animation:O,options:Q}}))}if(b.size){const j={};if(typeof g.initial!="boolean"){const C=jo(e,Array.isArray(g.initial)?g.initial[0]:g.initial);C&&C.transition&&(j.transition=C.transition)}b.forEach(C=>{const E=e.getBaseTarget(C),k=e.getValue(C);k&&(k.liveStyle=!0),j[C]=E??null}),v.push({animation:j})}let D=!!v.length;return i&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(D=!1),i=!1,D?t(v):Promise.resolve()}function f(p,g){if(s[p].isActive===g)return Promise.resolve();e.variantChildren?.forEach(v=>v.animationState?.setActive(p,g)),s[p].isActive=g;const y=d(p);for(const v in s)s[v].protectedKeys={};return y}return{animateChanges:d,setActive:f,setAnimateFunction:u,getState:()=>s,reset:()=>{s=ES()}}}function wR(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!pC(t,e):!1}function Yi(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ES(){return{animate:Yi(!0),whileInView:Yi(),whileHover:Yi(),whileTap:Yi(),whileDrag:Yi(),whileFocus:Yi(),exit:Yi()}}class wi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class TR extends wi{constructor(t){super(t),t.animationState||(t.animationState=SR(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Kd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let CR=0;class jR extends wi{constructor(){super(...arguments),this.id=CR++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const l=this.node.animationState.setActive("exit",!t);s&&!t&&l.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const DR={animation:{Feature:TR},exit:{Feature:jR}};function yc(e,t,s,i={passive:!0}){return e.addEventListener(t,s,i),()=>e.removeEventListener(t,s)}function Rc(e){return{point:{x:e.pageX,y:e.pageY}}}const ER=e=>t=>Ig(t)&&e(t,Rc(t));function nc(e,t,s,i){return yc(e,t,ER(s),i)}const gC=1e-4,MR=1-gC,kR=1+gC,yC=.01,PR=0-yC,AR=0+yC;function Un(e){return e.max-e.min}function OR(e,t,s){return Math.abs(e-t)<=s}function MS(e,t,s,i=.5){e.origin=i,e.originPoint=Kt(t.min,t.max,e.origin),e.scale=Un(s)/Un(t),e.translate=Kt(s.min,s.max,e.origin)-e.originPoint,(e.scale>=MR&&e.scale<=kR||isNaN(e.scale))&&(e.scale=1),(e.translate>=PR&&e.translate<=AR||isNaN(e.translate))&&(e.translate=0)}function sc(e,t,s,i){MS(e.x,t.x,s.x,i?i.originX:void 0),MS(e.y,t.y,s.y,i?i.originY:void 0)}function kS(e,t,s){e.min=s.min+t.min,e.max=e.min+Un(t)}function RR(e,t,s){kS(e.x,t.x,s.x),kS(e.y,t.y,s.y)}function PS(e,t,s){e.min=t.min-s.min,e.max=e.min+Un(t)}function rc(e,t,s){PS(e.x,t.x,s.x),PS(e.y,t.y,s.y)}function Os(e){return[e("x"),e("y")]}const xC=({current:e})=>e?e.ownerDocument.defaultView:null,AS=(e,t)=>Math.abs(e-t);function IR(e,t){const s=AS(e.x,t.x),i=AS(e.y,t.y);return Math.sqrt(s**2+i**2)}class bC{constructor(t,s,{transformPagePoint:i,contextWindow:l=window,dragSnapToOrigin:u=!1,distanceThreshold:d=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Vp(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,T=IR(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!T)return;const{point:D}=b,{timestamp:j}=An;this.history.push({...D,timestamp:j});const{onStart:C,onMove:E}=this.handlers;S||(C&&C(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,b)},this.handlePointerMove=(b,S)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=zp(S,this.transformPagePoint),Ut.update(this.updatePoint,!0)},this.handlePointerUp=(b,S)=>{this.end();const{onEnd:T,onSessionEnd:D,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Vp(b.type==="pointercancel"?this.lastMoveEventInfo:zp(S,this.transformPagePoint),this.history);this.startEvent&&T&&T(b,C),D&&D(b,C)},!Ig(t))return;this.dragSnapToOrigin=u,this.handlers=s,this.transformPagePoint=i,this.distanceThreshold=d,this.contextWindow=l||window;const f=Rc(t),p=zp(f,this.transformPagePoint),{point:g}=p,{timestamp:y}=An;this.history=[{...g,timestamp:y}];const{onSessionStart:v}=s;v&&v(t,Vp(p,this.history)),this.removeListeners=Pc(nc(this.contextWindow,"pointermove",this.handlePointerMove),nc(this.contextWindow,"pointerup",this.handlePointerUp),nc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Or(this.updatePoint)}}function zp(e,t){return t?{point:t(e.point)}:e}function OS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Vp({point:e},t){return{point:e,delta:OS(e,vC(t)),offset:OS(e,BR(t)),velocity:LR(t,.1)}}function BR(e){return e[0]}function vC(e){return e[e.length-1]}function LR(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,i=null;const l=vC(e);for(;s>=0&&(i=e[s],!(l.timestamp-i.timestamp>er(t)));)s--;if(!i)return{x:0,y:0};const u=Is(l.timestamp-i.timestamp);if(u===0)return{x:0,y:0};const d={x:(l.x-i.x)/u,y:(l.y-i.y)/u};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function NR(e,{min:t,max:s},i){return t!==void 0&&e<t?e=i?Kt(t,e,i.min):Math.max(e,t):s!==void 0&&e>s&&(e=i?Kt(s,e,i.max):Math.min(e,s)),e}function RS(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function FR(e,{top:t,left:s,bottom:i,right:l}){return{x:RS(e.x,s,l),y:RS(e.y,t,i)}}function IS(e,t){let s=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,i]=[i,s]),{min:s,max:i}}function HR(e,t){return{x:IS(e.x,t.x),y:IS(e.y,t.y)}}function _R(e,t){let s=.5;const i=Un(e),l=Un(t);return l>i?s=dc(t.min,t.max-i,e.min):i>l&&(s=dc(e.min,e.max-l,t.min)),Pr(0,1,s)}function zR(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const Em=.35;function VR(e=Em){return e===!1?e=0:e===!0&&(e=Em),{x:BS(e,"left","right"),y:BS(e,"top","bottom")}}function BS(e,t,s){return{min:LS(e,t),max:LS(e,s)}}function LS(e,t){return typeof e=="number"?e:e[t]||0}const WR=new WeakMap;class YR{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ln(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:i}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const u=v=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Rc(v).point)},d=(v,b)=>{const{drag:S,dragPropagation:T,onDragStart:D}=this.getProps();if(S&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=QA(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Os(C=>{let E=this.getAxisMotionValue(C).get()||0;if(tr.test(E)){const{projection:k}=this.visualElement;if(k&&k.layout){const A=k.layout.layoutBox[C];A&&(E=Un(A)*(parseFloat(E)/100))}}this.originPoint[C]=E}),D&&Ut.postRender(()=>D(v,b)),jm(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},f=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b;const{dragPropagation:S,dragDirectionLock:T,onDirectionLock:D,onDrag:j}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:C}=b;if(T&&this.currentDirection===null){this.currentDirection=UR(C),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",b.point,C),this.updateAxis("y",b.point,C),this.visualElement.render(),j&&j(v,b)},p=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b,this.stop(v,b),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Os(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new bC(t,{onSessionStart:u,onStart:d,onMove:f,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:xC(this.visualElement)})}stop(t,s){const i=t||this.latestPointerEvent,l=s||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!l||!i)return;const{velocity:d}=l;this.startAnimation(d);const{onDragEnd:f}=this.getProps();f&&Ut.postRender(()=>f(i,l))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,i){const{drag:l}=this.getProps();if(!i||!ld(t,l,this.currentDirection))return;const u=this.getAxisMotionValue(t);let d=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(d=NR(d,this.constraints[t],this.elastic[t])),u.set(d)}resolveConstraints(){const{dragConstraints:t,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,l=this.constraints;t&&go(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=FR(i.layoutBox,t):this.constraints=!1,this.elastic=VR(s),l!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Os(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=zR(i.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!go(t))return!1;const i=t.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=qO(i,l.root,this.visualElement.getTransformPagePoint());let d=HR(l.layout.layoutBox,u);if(s){const f=s(WO(d));this.hasMutatedConstraints=!!f,f&&(d=sC(f))}return d}startAnimation(t){const{drag:s,dragMomentum:i,dragElastic:l,dragTransition:u,dragSnapToOrigin:d,onDragTransitionEnd:f}=this.getProps(),p=this.constraints||{},g=Os(y=>{if(!ld(y,s,this.currentDirection))return;let v=p&&p[y]||{};d&&(v={min:0,max:0});const b=l?200:1e6,S=l?40:1e7,T={type:"inertia",velocity:i?t[y]:0,bounceStiffness:b,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...u,...v};return this.startAxisValueAnimation(y,T)});return Promise.all(g).then(f)}startAxisValueAnimation(t,s){const i=this.getAxisMotionValue(t);return jm(this.visualElement,t),i.start(Wg(t,i,0,s,this.visualElement,!1))}stopAnimation(){Os(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Os(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),l=i[s];return l||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Os(s=>{const{drag:i}=this.getProps();if(!ld(s,i,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(s);if(l&&l.layout){const{min:d,max:f}=l.layout.layoutBox[s];u.set(t[s]-Kt(d,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:i}=this.visualElement;if(!go(s)||!i||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Os(d=>{const f=this.getAxisMotionValue(d);if(f&&this.constraints!==!1){const p=f.get();l[d]=_R({min:p,max:p},this.constraints[d])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Os(d=>{if(!ld(d,t,null))return;const f=this.getAxisMotionValue(d),{min:p,max:g}=this.constraints[d];f.set(Kt(p,g,l[d]))})}addListeners(){if(!this.visualElement.current)return;WR.set(this.visualElement,this);const t=this.visualElement.current,s=nc(t,"pointerdown",p=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(p)}),i=()=>{const{dragConstraints:p}=this.getProps();go(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",i);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),Ut.read(i);const d=yc(window,"resize",()=>this.scalePositionWithinConstraints()),f=l.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Os(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=p[y].translate,v.set(v.get()+p[y].translate))}),this.visualElement.render())}));return()=>{d(),s(),u(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:i=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:d=Em,dragMomentum:f=!0}=t;return{...t,drag:s,dragDirectionLock:i,dragPropagation:l,dragConstraints:u,dragElastic:d,dragMomentum:f}}}function ld(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function UR(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class qR extends wi{constructor(t){super(t),this.removeGroupControls=Ls,this.removeListeners=Ls,this.controls=new YR(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ls}unmount(){this.removeGroupControls(),this.removeListeners()}}const NS=e=>(t,s)=>{e&&Ut.postRender(()=>e(t,s))};class GR extends wi{constructor(){super(...arguments),this.removePointerDownListener=Ls}onPointerDown(t){this.session=new bC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:i,onPanEnd:l}=this.node.getProps();return{onSessionStart:NS(t),onStart:NS(s),onMove:i,onEnd:(u,d)=>{delete this.session,l&&Ut.postRender(()=>l(u,d))}}}mount(){this.removePointerDownListener=nc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Td={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function FS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Vl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ze.test(e))e=parseFloat(e);else return e;const s=FS(e,t.target.x),i=FS(e,t.target.y);return`${s}% ${i}%`}},$R={correct:(e,{treeScale:t,projectionDelta:s})=>{const i=e,l=bi.parse(e);if(l.length>5)return i;const u=bi.createTransformer(e),d=typeof l[0]!="number"?1:0,f=s.x.scale*t.x,p=s.y.scale*t.y;l[0+d]/=f,l[1+d]/=p;const g=Kt(f,p,.5);return typeof l[2+d]=="number"&&(l[2+d]/=g),typeof l[3+d]=="number"&&(l[3+d]/=g),u(l)}};let Wp=!1;class QR extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:i,layoutId:l}=this.props,{projection:u}=t;yO(KR),u&&(s.group&&s.group.add(u),i&&i.register&&l&&i.register(u),Wp&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Td.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:i,drag:l,isPresent:u}=this.props,{projection:d}=i;return d&&(d.isPresent=u,Wp=!0,l||t.layoutDependency!==s||s===void 0||t.isPresent!==u?d.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?d.promote():d.relegate()||Ut.postRender(()=>{const f=d.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Rg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:i}=this.props,{projection:l}=t;Wp=!0,l&&(l.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(l),i&&i.deregister&&i.deregister(l))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function SC(e){const[t,s]=WT(),i=x.useContext(dg);return a.jsx(QR,{...e,layoutGroup:i,switchLayoutGroup:x.useContext(tC),isPresent:t,safeToRemove:s})}const KR={borderRadius:{...Vl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vl,borderTopRightRadius:Vl,borderBottomLeftRadius:Vl,borderBottomRightRadius:Vl,boxShadow:$R};function XR(e,t,s){const i=On(e)?e:aa(e);return i.start(Wg("",i,t,s)),i.animation}const ZR=(e,t)=>e.depth-t.depth;class JR{constructor(){this.children=[],this.isDirty=!1}add(t){pg(this.children,t),this.isDirty=!0}remove(t){mg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(ZR),this.isDirty=!1,this.children.forEach(t)}}function eI(e,t){const s=es.now(),i=({timestamp:l})=>{const u=l-s;u>=t&&(Or(i),e(u-t))};return Ut.setup(i,!0),()=>Or(i)}const wC=["TopLeft","TopRight","BottomLeft","BottomRight"],tI=wC.length,HS=e=>typeof e=="string"?parseFloat(e):e,_S=e=>typeof e=="number"||Ze.test(e);function nI(e,t,s,i,l,u){l?(e.opacity=Kt(0,s.opacity??1,sI(i)),e.opacityExit=Kt(t.opacity??1,0,rI(i))):u&&(e.opacity=Kt(t.opacity??1,s.opacity??1,i));for(let d=0;d<tI;d++){const f=`border${wC[d]}Radius`;let p=zS(t,f),g=zS(s,f);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||_S(p)===_S(g)?(e[f]=Math.max(Kt(HS(p),HS(g),i),0),(tr.test(g)||tr.test(p))&&(e[f]+="%")):e[f]=g}(t.rotate||s.rotate)&&(e.rotate=Kt(t.rotate||0,s.rotate||0,i))}function zS(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const sI=TC(0,.5,lT),rI=TC(.5,.95,Ls);function TC(e,t,s){return i=>i<e?0:i>t?1:s(dc(e,t,i))}function VS(e,t){e.min=t.min,e.max=t.max}function ks(e,t){VS(e.x,t.x),VS(e.y,t.y)}function WS(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function YS(e,t,s,i,l){return e-=t,e=Rd(e,1/s,i),l!==void 0&&(e=Rd(e,1/l,i)),e}function iI(e,t=0,s=1,i=.5,l,u=e,d=e){if(tr.test(t)&&(t=parseFloat(t),t=Kt(d.min,d.max,t/100)-d.min),typeof t!="number")return;let f=Kt(u.min,u.max,i);e===u&&(f-=t),e.min=YS(e.min,t,s,f,l),e.max=YS(e.max,t,s,f,l)}function US(e,t,[s,i,l],u,d){iI(e,t[s],t[i],t[l],t.scale,u,d)}const aI=["x","scaleX","originX"],oI=["y","scaleY","originY"];function qS(e,t,s,i){US(e.x,t,aI,s?s.x:void 0,i?i.x:void 0),US(e.y,t,oI,s?s.y:void 0,i?i.y:void 0)}function GS(e){return e.translate===0&&e.scale===1}function CC(e){return GS(e.x)&&GS(e.y)}function $S(e,t){return e.min===t.min&&e.max===t.max}function lI(e,t){return $S(e.x,t.x)&&$S(e.y,t.y)}function QS(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function jC(e,t){return QS(e.x,t.x)&&QS(e.y,t.y)}function KS(e){return Un(e.x)/Un(e.y)}function XS(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class cI{constructor(){this.members=[]}add(t){pg(this.members,t),t.scheduleRender()}remove(t){if(mg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(l=>t===l);if(s===0)return!1;let i;for(let l=s;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){i=u;break}}return i?(this.promote(i),!0):!1}promote(t,s){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,s&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:l}=t.options;l===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:i}=t;s.onExitComplete&&s.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function uI(e,t,s){let i="";const l=e.x.translate/t.x,u=e.y.translate/t.y,d=s?.z||0;if((l||u||d)&&(i=`translate3d(${l}px, ${u}px, ${d}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:g,rotate:y,rotateX:v,rotateY:b,skewX:S,skewY:T}=s;g&&(i=`perspective(${g}px) ${i}`),y&&(i+=`rotate(${y}deg) `),v&&(i+=`rotateX(${v}deg) `),b&&(i+=`rotateY(${b}deg) `),S&&(i+=`skewX(${S}deg) `),T&&(i+=`skewY(${T}deg) `)}const f=e.x.scale*t.x,p=e.y.scale*t.y;return(f!==1||p!==1)&&(i+=`scale(${f}, ${p})`),i||"none"}const Yp=["","X","Y","Z"],dI=1e3;let fI=0;function Up(e,t,s,i){const{latestValues:l}=t;l[e]&&(s[e]=l[e],t.setStaticValue(e,0),i&&(i[e]=0))}function DC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=dC(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:l,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",Ut,!(l||u))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&DC(i)}function EC({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:i,resetTransform:l}){return class{constructor(d={},f=t?.()){this.id=fI++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(mI),this.nodes.forEach(bI),this.nodes.forEach(vI),this.nodes.forEach(gI)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new JR)}addEventListener(d,f){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new xg),this.eventHandlers.get(d).add(f)}notifyListeners(d,...f){const p=this.eventHandlers.get(d);p&&p.notify(...f)}hasListeners(d){return this.eventHandlers.has(d)}mount(d){if(this.instance)return;this.isSVG=VT(d)&&!tO(d),this.instance=d;const{layoutId:f,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||f)&&(this.isLayoutDirty=!0),e){let y,v=0;const b=()=>this.root.updateBlockedByResize=!1;Ut.read(()=>{v=window.innerWidth}),e(d,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,y&&y(),y=eI(b,250),Td.hasAnimatedSinceResize&&(Td.hasAnimatedSinceResize=!1,this.nodes.forEach(ew)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||g.getDefaultTransition()||jI,{onLayoutAnimationStart:D,onLayoutAnimationComplete:j}=g.getProps(),C=!this.targetLayout||!jC(this.targetLayout,S),E=!v&&b;if(this.options.layoutRoot||this.resumeFrom||E||v&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...Ag(T,"layout"),onPlay:D,onComplete:j};(g.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(y,E)}else v||ew(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Or(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(SI),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&DC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:f,layout:p}=this.options;if(f===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ZS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(JS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(xI),this.nodes.forEach(hI),this.nodes.forEach(pI)):this.nodes.forEach(JS),this.clearAllSnapshots();const f=es.now();An.delta=Pr(0,1e3/60,f-An.timestamp),An.timestamp=f,An.isProcessing=!0,Rp.update.process(An),Rp.preRender.process(An),Rp.render.process(An),An.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Rg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yI),this.sharedNodes.forEach(wI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Un(this.snapshot.measuredBox.x)&&!Un(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ln(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(f=!1),f&&this.instance){const p=i(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:p,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!l)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!CC(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;d&&this.instance&&(f||Qi(this.latestValues)||y)&&(l(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const f=this.measurePageBox();let p=this.removeElementScroll(f);return d&&(p=this.removeTransform(p)),DI(p),{animationId:this.root.animationId,measuredBox:f,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:d}=this.options;if(!d)return ln();const f=d.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(EI))){const{scroll:g}=this.root;g&&(yo(f.x,g.offset.x),yo(f.y,g.offset.y))}return f}removeElementScroll(d){const f=ln();if(ks(f,d),this.scroll?.wasRoot)return f;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:y,options:v}=g;g!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&ks(f,d),yo(f.x,y.offset.x),yo(f.y,y.offset.y))}return f}applyTransform(d,f=!1){const p=ln();ks(p,d);for(let g=0;g<this.path.length;g++){const y=this.path[g];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&xo(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Qi(y.latestValues)&&xo(p,y.latestValues)}return Qi(this.latestValues)&&xo(p,this.latestValues),p}removeTransform(d){const f=ln();ks(f,d);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!Qi(g.latestValues))continue;Sm(g.latestValues)&&g.updateSnapshot();const y=ln(),v=g.measurePageBox();ks(y,v),qS(f,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return Qi(this.latestValues)&&qS(f,this.latestValues),f}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==An.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(d||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!(!this.layout||!(y||v))){if(this.resolvedRelativeTargetAt=An.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ln(),this.relativeTargetOrigin=ln(),rc(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),ks(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ln(),this.targetWithTransforms=ln()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),RR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ks(this.target,this.layout.layoutBox),iC(this.target,this.targetDelta)):ks(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ln(),this.relativeTargetOrigin=ln(),rc(this.relativeTargetOrigin,this.target,b.target),ks(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Sm(this.parent.latestValues)||rC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const d=this.getLead(),f=!!this.resumingFrom||this!==d;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===An.timestamp&&(p=!1),p)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;ks(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;UO(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=ln());const{target:S}=d;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(WS(this.prevProjectionDelta.x,this.projectionDelta.x),WS(this.prevProjectionDelta.y,this.projectionDelta.y)),sc(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!XS(this.projectionDelta.x,this.prevProjectionDelta.x)||!XS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){if(this.options.visualElement?.scheduleRender(),d){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bo(),this.projectionDelta=bo(),this.projectionDeltaWithTransform=bo()}setAnimationOrigin(d,f=!1){const p=this.snapshot,g=p?p.latestValues:{},y={...this.latestValues},v=bo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=ln(),S=p?p.source:void 0,T=this.layout?this.layout.source:void 0,D=S!==T,j=this.getStack(),C=!j||j.members.length<=1,E=!!(D&&!C&&this.options.crossfade===!0&&!this.path.some(CI));this.animationProgress=0;let k;this.mixTargetDelta=A=>{const N=A/1e3;tw(v.x,d.x,N),tw(v.y,d.y,N),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(rc(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),TI(this.relativeTarget,this.relativeTargetOrigin,b,N),k&&lI(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=ln()),ks(k,this.relativeTarget)),D&&(this.animationValues=y,nI(y,g,this.latestValues,N,E,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Or(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ut.update(()=>{Td.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=aa(0)),this.currentAnimation=XR(this.motionValue,[0,1e3],{...d,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),d.onUpdate&&d.onUpdate(f)},onStop:()=>{},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:f,target:p,layout:g,latestValues:y}=d;if(!(!f||!p||!g)){if(this!==d&&this.layout&&g&&MC(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||ln();const v=Un(this.layout.layoutBox.x);p.x.min=d.target.x.min,p.x.max=p.x.min+v;const b=Un(this.layout.layoutBox.y);p.y.min=d.target.y.min,p.y.max=p.y.min+b}ks(f,p),xo(f,y),sc(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(d,f){this.sharedNodes.has(d)||this.sharedNodes.set(d,new cI),this.sharedNodes.get(d).add(f);const g=f.options.initialPromotionConfig;f.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(f):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){const{layoutId:d}=this.options;return d?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:d}=this.options;return d?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:f,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),d&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let f=!1;const{latestValues:p}=d;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(f=!0),!f)return;const g={};p.z&&Up("z",d,g,this.animationValues);for(let y=0;y<Yp.length;y++)Up(`rotate${Yp[y]}`,d,g,this.animationValues),Up(`skew${Yp[y]}`,d,g,this.animationValues);d.render();for(const y in g)d.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);d.scheduleRender()}applyProjectionStyles(d,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){d.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,d.visibility="",d.opacity="",d.pointerEvents=wd(f?.pointerEvents)||"",d.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=wd(f?.pointerEvents)||""),this.hasProjected&&!Qi(this.latestValues)&&(d.transform=p?p({},""):"none",this.hasProjected=!1);return}d.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let v=uI(this.projectionDeltaWithTransform,this.treeScale,y);p&&(v=p(y,v)),d.transform=v;const{x:b,y:S}=this.projectionDelta;d.transformOrigin=`${b.origin*100}% ${S.origin*100}% 0`,g.animationValues?d.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:d.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const T in gc){if(y[T]===void 0)continue;const{correct:D,applyTo:j,isCSSVariable:C}=gc[T],E=v==="none"?y[T]:D(y[T],g);if(j){const k=j.length;for(let A=0;A<k;A++)d[j[A]]=E}else C?this.options.visualElement.renderState.vars[T]=E:d[T]=E}this.options.layoutId&&(d.pointerEvents=g===this?wd(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>d.currentAnimation?.stop()),this.root.nodes.forEach(ZS),this.root.sharedNodes.clear()}}}function hI(e){e.updateLayout()}function pI(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=e.layout,{animationType:l}=e.options,u=t.source!==e.layout.source;l==="size"?Os(y=>{const v=u?t.measuredBox[y]:t.layoutBox[y],b=Un(v);v.min=s[y].min,v.max=v.min+b}):MC(l,t.layoutBox,s)&&Os(y=>{const v=u?t.measuredBox[y]:t.layoutBox[y],b=Un(s[y]);v.max=v.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+b)});const d=bo();sc(d,s,t.layoutBox);const f=bo();u?sc(f,e.applyTransform(i,!0),t.measuredBox):sc(f,s,t.layoutBox);const p=!CC(d);let g=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:b}=y;if(v&&b){const S=ln();rc(S,t.layoutBox,v.layoutBox);const T=ln();rc(T,s,b.layoutBox),jC(S,T)||(g=!0),y.options.layoutRoot&&(e.relativeTarget=T,e.relativeTargetOrigin=S,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:f,layoutDelta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function mI(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function gI(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function yI(e){e.clearSnapshot()}function ZS(e){e.clearMeasurements()}function JS(e){e.isLayoutDirty=!1}function xI(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ew(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function bI(e){e.resolveTargetDelta()}function vI(e){e.calcProjection()}function SI(e){e.resetSkewAndRotation()}function wI(e){e.removeLeadSnapshot()}function tw(e,t,s){e.translate=Kt(t.translate,0,s),e.scale=Kt(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function nw(e,t,s,i){e.min=Kt(t.min,s.min,i),e.max=Kt(t.max,s.max,i)}function TI(e,t,s,i){nw(e.x,t.x,s.x,i),nw(e.y,t.y,s.y,i)}function CI(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const jI={duration:.45,ease:[.4,0,.1,1]},sw=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),rw=sw("applewebkit/")&&!sw("chrome/")?Math.round:Ls;function iw(e){e.min=rw(e.min),e.max=rw(e.max)}function DI(e){iw(e.x),iw(e.y)}function MC(e,t,s){return e==="position"||e==="preserve-aspect"&&!OR(KS(t),KS(s),.2)}function EI(e){return e!==e.root&&e.scroll?.wasRoot}const MI=EC({attachResizeListener:(e,t)=>yc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qp={current:void 0},kC=EC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!qp.current){const e=new MI({});e.mount(window),e.setOptions({layoutScroll:!0}),qp.current=e}return qp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),kI={pan:{Feature:GR},drag:{Feature:qR,ProjectionNode:kC,MeasureLayout:SC}};function aw(e,t,s){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",s==="Start");const l="onHover"+s,u=i[l];u&&Ut.postRender(()=>u(t,Rc(t)))}class PI extends wi{mount(){const{current:t}=this.node;t&&(this.unmount=KA(t,(s,i)=>(aw(this.node,i,"Start"),l=>aw(this.node,l,"End"))))}unmount(){}}class AI extends wi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pc(yc(this.node.current,"focus",()=>this.onFocus()),yc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ow(e,t,s){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",s==="Start");const l="onTap"+(s==="End"?"":s),u=i[l];u&&Ut.postRender(()=>u(t,Rc(t)))}class OI extends wi{mount(){const{current:t}=this.node;t&&(this.unmount=eO(t,(s,i)=>(ow(this.node,i,"Start"),(l,{success:u})=>ow(this.node,l,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Mm=new WeakMap,Gp=new WeakMap,RI=e=>{const t=Mm.get(e.target);t&&t(e)},II=e=>{e.forEach(RI)};function BI({root:e,...t}){const s=e||document;Gp.has(s)||Gp.set(s,{});const i=Gp.get(s),l=JSON.stringify(t);return i[l]||(i[l]=new IntersectionObserver(II,{root:e,...t})),i[l]}function LI(e,t,s){const i=BI(t);return Mm.set(e,s),i.observe(e),()=>{Mm.delete(e),i.unobserve(e)}}const NI={some:0,all:1};class FI extends wi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:i,amount:l="some",once:u}=t,d={root:s?s.current:void 0,rootMargin:i,threshold:typeof l=="number"?l:NI[l]},f=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),b=g?y:v;b&&b(p)};return LI(this.node.current,d,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(HI(t,s))&&this.startObserver()}unmount(){}}function HI({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const _I={inView:{Feature:FI},tap:{Feature:OI},focus:{Feature:AI},hover:{Feature:PI}},zI={layout:{ProjectionNode:kC,MeasureLayout:SC}},VI={...DR,..._I,...kI,...zI},Pe=VO(VI,tR);function PC(e){const t=ma(()=>aa(e)),{isStatic:s}=x.useContext($d);if(s){const[,i]=x.useState(e);x.useEffect(()=>t.on("change",i),[])}return t}function AC(e,t){const s=PC(t()),i=()=>s.set(t());return i(),hg(()=>{const l=()=>Ut.preRender(i,!1,!0),u=e.map(d=>d.on("change",l));return()=>{u.forEach(d=>d()),Or(i)}}),s}function WI(e){tc.current=[],e();const t=AC(tc.current,e);return tc.current=void 0,t}function YI(e,t,s,i){if(typeof e=="function")return WI(e);const l=typeof t=="function"?t:nO(t,s,i);return Array.isArray(e)?lw(e,l):lw([e],([u])=>l(u))}function lw(e,t){const s=ma(()=>[]);return AC(e,()=>{s.length=0;const i=e.length;for(let l=0;l<i;l++)s[l]=e[l].get();return t(s)})}const OC=x.createContext(null);function UI(e,t,s,i){if(!i)return e;const l=e.findIndex(y=>y.value===t);if(l===-1)return e;const u=i>0?1:-1,d=e[l+u];if(!d)return e;const f=e[l],p=d.layout,g=Kt(p.min,p.max,.5);return u===1&&f.layout.max+s>g||u===-1&&f.layout.min+s<g?lP(e,l,l+u):e}function qI({children:e,as:t="ul",axis:s="y",onReorder:i,values:l,...u},d){const f=ma(()=>Pe[t]),p=[],g=x.useRef(!1),y={axis:s,registerItem:(v,b)=>{const S=p.findIndex(T=>v===T.value);S!==-1?p[S].layout=b[s]:p.push({value:v,layout:b[s]}),p.sort($I)},updateOrder:(v,b,S)=>{if(g.current)return;const T=UI(p,v,b,S);p!==T&&(g.current=!0,i(T.map(GI).filter(D=>l.indexOf(D)!==-1)))}};return x.useEffect(()=>{g.current=!1}),a.jsx(f,{...u,ref:d,ignoreStrict:!0,children:a.jsx(OC.Provider,{value:y,children:e})})}const RC=x.forwardRef(qI);function GI(e){return e.value}function $I(e,t){return e.layout.min-t.layout.min}function cw(e,t=0){return On(e)?e:PC(t)}function QI({children:e,style:t={},value:s,as:i="li",onDrag:l,layout:u=!0,...d},f){const p=ma(()=>Pe[i]),g=x.useContext(OC),y={x:cw(t.x),y:cw(t.y)},v=YI([y.x,y.y],([D,j])=>D||j?1:"unset"),{axis:b,registerItem:S,updateOrder:T}=g;return a.jsx(p,{drag:b,...d,dragSnapToOrigin:!0,style:{...t,x:y.x,y:y.y,zIndex:v},layout:u,onDrag:(D,j)=>{const{velocity:C}=j;C[b]&&T(s,y[b].get(),C[b]),l&&l(D,j)},onLayoutMeasure:D=>S(s,D),ref:f,ignoreStrict:!0,children:e})}const IC=x.forwardRef(QI);function KI(e){return _o({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function XI(e){return _o({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M104 96H56c-13.3 0-24 10.7-24 24v104H8c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h24v104c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24zm528 128h-24V120c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v272c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h24c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM456 32h-48c-13.3 0-24 10.7-24 24v168H256V56c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v400c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h128v168c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24z"},child:[]}]})(e)}function ZI(e){return _o({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function JI(e){return _o({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}const e3={apiKey:"AIzaSyCxgAj6zUGeScwae1Slw-JqX-ZAEcEhAcI",authDomain:"goodlift-7760a.firebaseapp.com",projectId:"goodlift-7760a",storageBucket:"goodlift-7760a.firebasestorage.app",messagingSenderId:"444306542177",appId:"1:444306542177:web:ea09005a6d4cf46d6f6420",measurementId:"G-YR73MY2CH6"},BC=Fk(e3),oa=Hk(BC),cd=_k(BC),km=e=>{if(e==null)return null;if(Array.isArray(e))return e.map(t=>km(t));if(typeof e=="object"){const t={};for(const[s,i]of Object.entries(e))i!==void 0&&(t[s]=km(i));return t}return e},rr=async(e,t)=>{if(!e){console.error("Cannot save data: No user ID provided");return}try{const s=ia(oa,"users",e,"data","userData"),i=km({...t,lastUpdated:new Date().toISOString()});await qd(s,i,{merge:!0})}catch(s){throw console.error("Error saving data to Firebase:",s),s}},ga=async e=>{if(!e)return console.error("Cannot load data: No user ID provided"),null;try{const t=ia(oa,"users",e,"data","userData"),s=await ug(t);return s.exists()?s.data():null}catch(t){throw console.error("Error loading data from Firebase:",t),t}},Ic=async(e,t)=>{if(e)try{await rr(e,{workoutHistory:t})}catch(s){console.error("Error saving workout history to Firebase:",s)}},Zd=async(e,t)=>{if(e)try{await rr(e,{userStats:t})}catch(s){console.error("Error saving user stats to Firebase:",s)}},Yg=async(e,t)=>{if(e)try{await rr(e,{exerciseWeights:t})}catch(s){console.error("Error saving exercise weights to Firebase:",s)}},Ug=async(e,t)=>{if(e)try{await rr(e,{exerciseTargetReps:t})}catch(s){console.error("Error saving exercise target reps to Firebase:",s)}},Jd=async(e,t)=>{if(e)try{await rr(e,{hiitSessions:t})}catch(s){console.error("Error saving HIIT sessions to Firebase:",s)}},ef=async(e,t)=>{if(e)try{await rr(e,{cardioSessions:t})}catch(s){console.error("Error saving cardio sessions to Firebase:",s)}},qg=async(e,t)=>{if(e)try{await rr(e,{stretchSessions:t})}catch(s){console.error("Error saving stretch sessions to Firebase:",s)}},tf=async(e,t)=>{if(e)try{await rr(e,{yogaSessions:t})}catch(s){console.error("Error saving yoga sessions to Firebase:",s)}},Gg=async(e,t)=>{if(e)try{await rr(e,{workoutPlans:t})}catch(s){console.error("Error saving workout plans to Firebase:",s)}},Pm=async(e,t)=>{if(e)try{await rr(e,{activePlanId:t})}catch(s){console.error("Error saving active plan to Firebase:",s)}},$g="goodlift_guest_mode",Am=1,Yo={WORKOUT_HISTORY:"goodlift_guest_workout_history",USER_STATS:"goodlift_guest_user_stats",EXERCISE_WEIGHTS:"goodlift_guest_exercise_weights",EXERCISE_TARGET_REPS:"goodlift_guest_exercise_target_reps",HIIT_SESSIONS:"goodlift_guest_hiit_sessions",STRETCH_SESSIONS:"goodlift_guest_stretch_sessions",YOGA_SESSIONS:"goodlift_guest_yoga_sessions",CARDIO_SESSIONS:"goodlift_guest_cardio_sessions",FAVORITE_WORKOUTS:"goodlift_guest_favorite_workouts",FAVORITE_EXERCISES:"goodlift_guest_favorite_exercises",PINNED_EXERCISES:"goodlift_guest_pinned_exercises",SNACKBAR_DISMISSED:"goodlift_guest_snackbar_dismissed",YOGA_CONFIG:"goodlift_guest_yoga_config",YOGA_TTS_ENABLED:"goodlift_guest_yoga_tts_enabled"},nt=()=>{try{return localStorage.getItem($g)==="true"}catch(e){return console.error("Error checking guest mode:",e),!1}},t3=()=>{try{localStorage.setItem($g,"true")}catch(e){console.error("Error enabling guest mode:",e),Qg(e)}},Id=()=>{try{localStorage.removeItem($g)}catch(e){console.error("Error disabling guest mode:",e)}},Bn=e=>{const t=Yo[e.toUpperCase()];if(!t)return console.error(`Invalid category: ${e}`),null;try{const s=localStorage.getItem(t);if(!s)return null;const i=JSON.parse(s);return i.version&&i.version!==Am&&console.warn(`Data version mismatch for ${e}: ${i.version} vs ${Am}`),i.data!==void 0?i.data:i}catch(s){return console.error(`Error reading guest data for ${e}:`,s),null}},Lt=(e,t)=>{const s=Yo[e.toUpperCase()];if(!s){console.error(`Invalid category: ${e}`);return}try{const i={version:Am,data:t,lastUpdated:new Date().toISOString()};localStorage.setItem(s,JSON.stringify(i))}catch(i){console.error(`Error saving guest data for ${e}:`,i),Qg(i)}},Om=()=>{try{Object.values(Yo).forEach(e=>{localStorage.removeItem(e)}),Id()}catch(e){console.error("Error clearing guest data:",e)}},LC=()=>{const e={};try{Object.entries(Yo).forEach(([t,s])=>{if(t==="SNACKBAR_DISMISSED")return;const i=localStorage.getItem(s);if(i)try{const l=JSON.parse(i);e[t.toLowerCase()]=l.data!==void 0?l.data:l}catch(l){console.error(`Error parsing guest data for ${t}:`,l)}})}catch(t){console.error("Error getting all guest data:",t)}return e},n3=()=>{try{const e=localStorage.getItem(Yo.SNACKBAR_DISMISSED);if(!e)return!0;const t=parseInt(e,10),s=Date.now(),i=1440*60*1e3;return s-t>i}catch(e){return console.error("Error checking snackbar status:",e),!0}},s3=()=>{try{localStorage.setItem(Yo.SNACKBAR_DISMISSED,Date.now().toString())}catch(e){console.error("Error dismissing snackbar:",e),Qg(e)}},Qg=e=>{(e.name==="QuotaExceededError"||e.code===22)&&console.error("localStorage quota exceeded. Some data may not be saved.")},ze={WORKOUT_HISTORY:"goodlift_workout_history",USER_STATS:"goodlift_user_stats",EXERCISE_WEIGHTS:"goodlift_exercise_weights",EXERCISE_TARGET_REPS:"goodlift_exercise_target_reps",HIIT_SESSIONS:"goodlift_hiit_sessions",STRETCH_SESSIONS:"goodlift_stretch_sessions",YOGA_SESSIONS:"goodlift_yoga_sessions",CARDIO_SESSIONS:"goodlift_cardio_sessions",FAVORITE_WORKOUTS:"goodlift_favorite_workouts",FAVORITE_EXERCISES:"goodlift_favorite_exercises",PINNED_EXERCISES:"goodlift_pinned_exercises",WORKOUT_PLANS:"goodlift_workout_plans",ACTIVE_PLAN:"goodlift_active_plan"};let Ve=null;const NC=e=>{Ve=e},xc=()=>Ve,Ti=async()=>{try{if(nt())return Bn("workout_history")||[];if(Ve)try{const t=await ga(Ve);if(t?.workoutHistory)return localStorage.setItem(ze.WORKOUT_HISTORY,JSON.stringify(t.workoutHistory)),t.workoutHistory}catch(t){console.error("Firebase fetch failed, using localStorage:",t)}const e=localStorage.getItem(ze.WORKOUT_HISTORY);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading workout history:",e),[]}},Kg=async e=>{try{if(!e)throw new Error("Workout data is required");const t=await Ti();t.unshift(e),nt()?Lt("workout_history",t):(localStorage.setItem(ze.WORKOUT_HISTORY,JSON.stringify(t)),Ve&&await Ic(Ve,t))}catch(t){throw console.error("Error saving workout:",t),t}},r3=async e=>{try{const t=await Ti();if(e<0||e>=t.length)throw new Error("Invalid workout index");t.splice(e,1),nt()?Lt("workout_history",t):(localStorage.setItem(ze.WORKOUT_HISTORY,JSON.stringify(t)),Ve&&await Ic(Ve,t))}catch(t){throw console.error("Error deleting workout:",t),t}},i3=async(e,t)=>{try{const s=await Ti();if(e<0||e>=s.length)throw new Error("Invalid workout index");s[e]={...s[e],...t},nt()?Lt("workout_history",s):(localStorage.setItem(ze.WORKOUT_HISTORY,JSON.stringify(s)),Ve&&await Ic(Ve,s))}catch(s){throw console.error("Error updating workout:",s),s}},Xg=async()=>{try{const e=await Ti(),t=e.length,s=e.reduce((b,S)=>b+(S.duration||0),0),l=Uo().reduce((b,S)=>b+(S.duration||0),0),d=qo().reduce((b,S)=>b+(S.duration||0),0),p=Bc().reduce((b,S)=>b+(S.duration||0),0),y=Go().reduce((b,S)=>b+(S.duration||0),0),v={totalWorkouts:t,totalTime:s,totalHiitTime:l,totalCardioTime:d,totalStretchTime:p,totalYogaTime:y};return nt()?Lt("user_stats",v):(localStorage.setItem(ze.USER_STATS,JSON.stringify(v)),Ve&&await Zd(Ve,v)),v}catch(e){return console.error("Error calculating user stats:",e),{totalWorkouts:0,totalTime:0,totalHiitTime:0,totalCardioTime:0,totalStretchTime:0,totalYogaTime:0}}},FC=async e=>{try{if(!e)throw new Error("Stats object is required");nt()?Lt("user_stats",e):(localStorage.setItem(ze.USER_STATS,JSON.stringify(e)),Ve&&await Zd(Ve,e))}catch(t){throw console.error("Error saving user stats:",t),t}},bc=async e=>{try{if(nt()){const u=Bn("exercise_weights")?.[e];return u!==void 0?u:null}if(Ve)try{const l=await ga(Ve);if(l?.exerciseWeights){localStorage.setItem(ze.EXERCISE_WEIGHTS,JSON.stringify(l.exerciseWeights));const u=l.exerciseWeights[e];return u!==void 0?u:null}}catch(l){console.error("Firebase fetch failed, using localStorage:",l)}const t=localStorage.getItem(ze.EXERCISE_WEIGHTS),i=(t?JSON.parse(t):{})[e];return i!==void 0?i:null}catch(t){return console.error("Error reading exercise weight:",t),null}},a3=async()=>{try{if(nt())return Bn("exercise_weights")||{};if(Ve)try{const t=await ga(Ve);if(t?.exerciseWeights)return localStorage.setItem(ze.EXERCISE_WEIGHTS,JSON.stringify(t.exerciseWeights)),t.exerciseWeights}catch(t){console.error("Firebase fetch failed, using localStorage:",t)}const e=localStorage.getItem(ze.EXERCISE_WEIGHTS);return e?JSON.parse(e):{}}catch(e){return console.error("Error reading exercise weights:",e),{}}},la=async(e,t)=>{try{if(!e)throw new Error("Exercise name is required");if(t!=null&&(typeof t!="number"||t<0))throw new Error("Weight must be a positive number or null");const s=await a3();s[e]=t??null,nt()?Lt("exercise_weights",s):(localStorage.setItem(ze.EXERCISE_WEIGHTS,JSON.stringify(s)),Ve&&await Yg(Ve,s))}catch(s){throw console.error("Error saving exercise weight:",s),s}},Bo=async e=>{try{if(nt()){const u=Bn("exercise_target_reps")?.[e];return u!==void 0?u:null}if(Ve)try{const l=await ga(Ve);if(l?.exerciseTargetReps){localStorage.setItem(ze.EXERCISE_TARGET_REPS,JSON.stringify(l.exerciseTargetReps));const u=l.exerciseTargetReps[e];return u!==void 0?u:null}}catch(l){console.error("Firebase fetch failed, using localStorage:",l)}const t=localStorage.getItem(ze.EXERCISE_TARGET_REPS),i=(t?JSON.parse(t):{})[e];return i!==void 0?i:null}catch(t){return console.error("Error reading exercise target reps:",t),null}},vc=async(e,t)=>{try{if(!e)throw new Error("Exercise name is required");if(t!=null&&(typeof t!="number"||t<1))throw new Error("Reps must be a positive number or null");let s={};if(nt())s=Bn("exercise_target_reps")||{};else{const i=localStorage.getItem(ze.EXERCISE_TARGET_REPS);s=i?JSON.parse(i):{}}s[e]=t??null,nt()?Lt("exercise_target_reps",s):(localStorage.setItem(ze.EXERCISE_TARGET_REPS,JSON.stringify(s)),Ve&&await Ug(Ve,s))}catch(s){throw console.error("Error saving exercise target reps:",s),s}},HC=async e=>{if(!e){console.error("Cannot load data: No user ID provided");return}try{NC(e);const t=await ga(e);if(t)t.workoutHistory&&localStorage.setItem(ze.WORKOUT_HISTORY,JSON.stringify(t.workoutHistory)),t.userStats&&localStorage.setItem(ze.USER_STATS,JSON.stringify(t.userStats)),t.exerciseWeights&&localStorage.setItem(ze.EXERCISE_WEIGHTS,JSON.stringify(t.exerciseWeights)),t.exerciseTargetReps&&localStorage.setItem(ze.EXERCISE_TARGET_REPS,JSON.stringify(t.exerciseTargetReps)),t.hiitSessions&&localStorage.setItem(ze.HIIT_SESSIONS,JSON.stringify(t.hiitSessions)),t.cardioSessions&&localStorage.setItem(ze.CARDIO_SESSIONS,JSON.stringify(t.cardioSessions)),t.stretchSessions&&localStorage.setItem(ze.STRETCH_SESSIONS,JSON.stringify(t.stretchSessions)),t.yogaSessions&&localStorage.setItem(ze.YOGA_SESSIONS,JSON.stringify(t.yogaSessions)),t.workoutPlans&&localStorage.setItem(ze.WORKOUT_PLANS,JSON.stringify(t.workoutPlans)),t.activePlanId&&localStorage.setItem(ze.ACTIVE_PLAN,t.activePlanId);else{const s=await Ti(),i=await Xg(),l=localStorage.getItem(ze.EXERCISE_WEIGHTS),u=l?JSON.parse(l):{},d=localStorage.getItem(ze.EXERCISE_TARGET_REPS),f=d?JSON.parse(d):{},p=Uo(),g=qo(),y=Bc(),v=Go(),b=localStorage.getItem(ze.WORKOUT_PLANS),S=b?JSON.parse(b):[],T=localStorage.getItem(ze.ACTIVE_PLAN);(s.length>0||i?.totalWorkouts>0||Object.keys(u).length>0||Object.keys(f).length>0||p.length>0||g.length>0||y.length>0||v.length>0||S.length>0||T)&&await Promise.all([Ic(e,s),Zd(e,i),Yg(e,u),Ug(e,f),Jd(e,p),ef(e,g),qg(e,y),tf(e,v),Gg(e,S),Pm(e,T)])}}catch(t){console.error("Error loading user data from cloud:",t)}},Uo=()=>{try{if(nt())return Bn("hiit_sessions")||[];const e=localStorage.getItem(ze.HIIT_SESSIONS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading HIIT sessions:",e),[]}},Zg=async e=>{try{if(!e)throw new Error("Session data is required");const t=Uo();t.unshift(e),nt()?Lt("hiit_sessions",t):(localStorage.setItem(ze.HIIT_SESSIONS,JSON.stringify(t)),Ve&&await Jd(Ve,t))}catch(t){throw console.error("Error saving HIIT session:",t),t}},qo=()=>{try{if(nt())return Bn("cardio_sessions")||[];const e=localStorage.getItem(ze.CARDIO_SESSIONS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading cardio sessions:",e),[]}},o3=async e=>{try{if(!e)throw new Error("Session data is required");const t=qo(),s={id:`${Date.now()}-${Math.random().toString(36).substring(2,11)}`,cardioType:e.cardioType,duration:e.duration,date:e.date||Date.now(),notes:e.notes||""};t.unshift(s),nt()?Lt("cardio_sessions",t):(localStorage.setItem(ze.CARDIO_SESSIONS,JSON.stringify(t)),Ve&&await ef(Ve,t))}catch(t){throw console.error("Error saving cardio session:",t),t}},l3=async e=>{try{const t=qo();if(!t.find(l=>l.id===e))throw new Error("Session not found");const i=t.filter(l=>l.id!==e);nt()?Lt("cardio_sessions",i):(localStorage.setItem(ze.CARDIO_SESSIONS,JSON.stringify(i)),Ve&&await ef(Ve,i))}catch(t){throw console.error("Error deleting cardio session:",t),t}},c3=async(e,t)=>{try{const s=qo(),i=s.findIndex(l=>l.id===e);if(i===-1)throw new Error("Session not found");s[i]={...s[i],...t},nt()?Lt("cardio_sessions",s):(localStorage.setItem(ze.CARDIO_SESSIONS,JSON.stringify(s)),Ve&&await ef(Ve,s))}catch(s){throw console.error("Error updating cardio session:",s),s}},_C=()=>{try{if(nt())return Bn("favorite_workouts")||[];const e=localStorage.getItem(ze.FAVORITE_WORKOUTS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading favorite workouts:",e),[]}},nf=e=>{try{if(!e)throw new Error("Workout data is required");const t=_C(),s={id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:e.name||`${e.type} Workout`,type:e.type,equipment:e.equipment||"all",exercises:e.exercises,savedAt:new Date().toISOString()};t.unshift(s),nt()?Lt("favorite_workouts",t):localStorage.setItem(ze.FAVORITE_WORKOUTS,JSON.stringify(t))}catch(t){throw console.error("Error saving favorite workout:",t),t}},Bc=()=>{try{if(nt())return Bn("stretch_sessions")||[];const e=localStorage.getItem(ze.STRETCH_SESSIONS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading stretch sessions:",e),[]}},u3=async e=>{try{if(!e)throw new Error("Session data is required");const t=Bc();t.unshift(e),nt()?Lt("stretch_sessions",t):(localStorage.setItem(ze.STRETCH_SESSIONS,JSON.stringify(t)),Ve&&await qg(Ve,t))}catch(t){throw console.error("Error saving stretch session:",t),t}},d3=async e=>{try{const s=Bc().filter(i=>i.id!==e);nt()?Lt("stretch_sessions",s):(localStorage.setItem(ze.STRETCH_SESSIONS,JSON.stringify(s)),Ve&&await qg(Ve,s))}catch(t){throw console.error("Error deleting stretch session:",t),t}},Go=()=>{try{if(nt())return Bn("yoga_sessions")||[];const e=localStorage.getItem(ze.YOGA_SESSIONS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading yoga sessions:",e),[]}},Jg=async e=>{try{if(!e)throw new Error("Session data is required");const t=Go();t.unshift(e),nt()?Lt("yoga_sessions",t):(localStorage.setItem(ze.YOGA_SESSIONS,JSON.stringify(t)),Ve&&await tf(Ve,t))}catch(t){throw console.error("Error saving yoga session:",t),t}},f3=async(e,t)=>{try{const s=Go(),i=s.findIndex(l=>l.id===e);if(i===-1)throw new Error("Session not found");s[i]={...s[i],...t},nt()?Lt("yoga_sessions",s):(localStorage.setItem(ze.YOGA_SESSIONS,JSON.stringify(s)),Ve&&await tf(Ve,s))}catch(s){throw console.error("Error updating yoga session:",s),s}},h3=async e=>{try{const s=Go().filter(i=>i.id!==e);nt()?Lt("yoga_sessions",s):(localStorage.setItem(ze.YOGA_SESSIONS,JSON.stringify(s)),Ve&&await tf(Ve,s))}catch(t){throw console.error("Error deleting yoga session:",t),t}},p3=async e=>{try{const s=Uo().filter(i=>i.id!==e);nt()?Lt("hiit_sessions",s):(localStorage.setItem(ze.HIIT_SESSIONS,JSON.stringify(s)),Ve&&await Jd(Ve,s))}catch(t){throw console.error("Error deleting HIIT session:",t),t}},m3=async(e,t)=>{try{const s=Uo(),i=s.findIndex(l=>l.id===e);if(i===-1)throw new Error("Session not found");s[i]={...s[i],...t},nt()?Lt("hiit_sessions",s):(localStorage.setItem(ze.HIIT_SESSIONS,JSON.stringify(s)),Ve&&await Jd(Ve,s))}catch(s){throw console.error("Error updating HIIT session:",s),s}},ey=()=>{try{if(nt()){const t=Bn("favorite_exercises")||[];return new Set(t)}const e=localStorage.getItem(ze.FAVORITE_EXERCISES);return new Set(e?JSON.parse(e):[])}catch(e){return console.error("Error reading favorite exercises:",e),new Set}},g3=e=>{try{if(!e)throw new Error("Exercise name is required");const t=ey();let s;t.has(e)?(t.delete(e),s=!1):(t.add(e),s=!0);const i=Array.from(t);return nt()?Lt("favorite_exercises",i):localStorage.setItem(ze.FAVORITE_EXERCISES,JSON.stringify(i)),s}catch(t){throw console.error("Error toggling favorite exercise:",t),t}},y3=e=>ey().has(e),ty=()=>{try{if(nt())return Bn("pinned_exercises")||[];const e=localStorage.getItem(ze.PINNED_EXERCISES);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading pinned exercises:",e),[]}},zC=e=>{try{if(!Array.isArray(e))throw new Error("Pinned exercises must be an array");const t=e.slice(0,10);nt()?Lt("pinned_exercises",t):localStorage.setItem(ze.PINNED_EXERCISES,JSON.stringify(t))}catch(t){throw console.error("Error saving pinned exercises:",t),t}},x3=(e,t="weight")=>{try{const s=ty();return s.some(i=>i.exerciseName===e)||s.length>=10?!1:(s.push({exerciseName:e,trackingMode:t}),zC(s),!0)}catch(s){return console.error("Error adding pinned exercise:",s),!1}},b3=e=>{try{const s=ty().filter(i=>i.exerciseName!==e);zC(s)}catch(t){throw console.error("Error removing pinned exercise:",t),t}},ca=async()=>{try{if(nt())return Bn("workout_plans")||[];if(Ve)try{const t=await ga(Ve);if(t?.workoutPlans)return localStorage.setItem(ze.WORKOUT_PLANS,JSON.stringify(t.workoutPlans)),t.workoutPlans}catch(t){console.error("Firebase fetch failed, using localStorage:",t)}const e=localStorage.getItem(ze.WORKOUT_PLANS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading workout plans:",e),[]}},Rm=async e=>{try{const t=await ca(),s=t.findIndex(i=>i.id===e.id);s>=0?t[s]=e:t.push(e),nt()?Lt("workout_plans",t):(localStorage.setItem(ze.WORKOUT_PLANS,JSON.stringify(t)),Ve&&(console.log("Syncing to Firebase for user:",Ve),await Gg(Ve,t),console.log("Firebase sync complete")))}catch(t){throw console.error("Error saving workout plan:",t),t}},VC=async e=>{try{const s=(await ca()).filter(l=>l.id!==e);nt()?Lt("workout_plans",s):(localStorage.setItem(ze.WORKOUT_PLANS,JSON.stringify(s)),Ve&&await Gg(Ve,s));const i=await Lc();i&&i.id===e&&await mi(null)}catch(t){throw console.error("Error deleting workout plan:",t),t}},Lc=async()=>{try{if(nt())return Bn("active_plan")||null;if(Ve)try{const s=await ga(Ve);if(s?.activePlanId)return localStorage.setItem(ze.ACTIVE_PLAN,s.activePlanId),(await ca()).find(l=>l.id===s.activePlanId)||null}catch(s){console.error("Firebase fetch failed, using localStorage:",s)}const e=localStorage.getItem(ze.ACTIVE_PLAN);return e&&(await ca()).find(s=>s.id===e)||null}catch(e){return console.error("Error reading active plan:",e),null}},mi=async e=>{try{if(nt())if(e){const s=(await ca()).find(i=>i.id===e);Lt("active_plan",s)}else Lt("active_plan",null);else e?(localStorage.setItem(ze.ACTIVE_PLAN,e),Ve&&await Pm(Ve,e)):(localStorage.removeItem(ze.ACTIVE_PLAN),Ve&&await Pm(Ve,null))}catch(t){throw console.error("Error setting active plan:",t),t}},WC=x.createContext({}),Nc=()=>x.useContext(WC),YC=({children:e})=>{const[t,s]=x.useState(null),[i,l]=x.useState(!0),[u,d]=x.useState(!1),[f,p]=x.useState(!1),g=()=>{if(nt()){const j=LC(),C=Object.keys(j).length>0;return p(C),C}return p(!1),!1},y=(j,C)=>Yk(cd,j,C),v=(j,C)=>Wk(cd,j,C),b=()=>u?(d(!1),Id(),s(null),Promise.resolve()):Vk(cd),S=()=>{t3(),d(!0),s({uid:"guest",email:null,isGuest:!0})},T=async(j,C)=>{if(d(!1),C||Id(),s(j),!C)try{await HC(j.uid)}catch(E){console.error("Error loading user data:",E)}};x.useEffect(()=>(nt()&&(d(!0),s({uid:"guest",email:null,isGuest:!0}),g(),l(!1)),zk(cd,async C=>{if(C){const E=g();await T(C,E)}else nt()||(d(!1),p(!1),s(null),NC(null));l(!1)})),[]);const D={currentUser:t,isGuest:u,hasGuestData:f,signup:y,login:v,logout:b,continueAsGuest:S,checkGuestData:g};return a.jsx(WC.Provider,{value:D,children:!i&&e})};YC.propTypes={children:Y.node.isRequired};const UC=({open:e,onClose:t,onConfirm:s})=>a.jsxs(ns,{open:e,onClose:t,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:2}},children:[a.jsx(ys,{sx:{pb:1},children:a.jsxs(q,{sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsx($M,{sx:{color:"warning.main",fontSize:28}}),a.jsx(I,{variant:"h6",component:"span",sx:{fontWeight:600},children:"Sign Out as Guest?"})]})}),a.jsxs(ss,{children:[a.jsx(I,{variant:"body1",sx:{mb:2},children:"All your workout data, progress, and settings will be permanently deleted if you sign out."}),a.jsx(I,{variant:"body1",sx:{fontWeight:600,color:"primary.main"},children:"Want to keep your data? Sign up first to save everything to the cloud!"})]}),a.jsxs(rs,{sx:{p:2,pt:0},children:[a.jsx(xe,{onClick:t,variant:"outlined",sx:{borderColor:"primary.main",color:"primary.main"},children:"Cancel"}),a.jsx(xe,{onClick:s,variant:"contained",color:"error",sx:{fontWeight:600},children:"Sign Out & Delete Data"})]})]});UC.propTypes={open:Y.bool.isRequired,onClose:Y.func.isRequired,onConfirm:Y.func.isRequired};const qC=({currentScreen:e,onNavigate:t,isOpen:s,onToggle:i})=>{const{currentUser:l,isGuest:u,logout:d}=Nc(),[f,p]=x.useState(!1),[g,y]=x.useState(!1);x.useEffect(()=>{const D=()=>{p(window.innerWidth<=768)};return D(),window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]);const v=async()=>{if(u){y(!0);return}try{await d()}catch(D){console.error("Failed to log out:",D),alert("Failed to log out. Please try again.")}},b=async()=>{try{Om(),await d(),y(!1)}catch(D){console.error("Failed to log out:",D),alert("Failed to log out. Please try again.")}},S=D=>{t(D),f&&i()},T=!f||s;return a.jsxs(a.Fragment,{children:[f&&!s&&a.jsx(Pe.button,{className:"hamburger-menu",onClick:i,initial:{opacity:0},animate:{opacity:1},whileHover:{scale:1.1},whileTap:{scale:.9},style:{position:"fixed",top:"max(1rem, env(safe-area-inset-top))",left:"max(1rem, env(safe-area-inset-left))",zIndex:1001,background:"transparent",color:"#1db584",border:"none",borderRadius:"0",padding:"8px",cursor:"pointer",boxShadow:"none"},children:a.jsx(KI,{size:24})}),f&&s&&a.jsx(Pe.div,{className:"sidebar-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:i,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:999}}),a.jsx(pc,{children:T&&a.jsxs(Pe.aside,{initial:f?{x:-320}:!1,animate:{x:0},exit:f?{x:-320}:{},transition:{type:"spring",stiffness:300,damping:30},className:"navigation-sidebar",style:{position:"fixed",top:0,left:0,width:"280px",height:"100vh",background:"#2a3647",backdropFilter:"blur(10px)",boxShadow:"4px 0 20px rgba(0, 0, 0, 0.5)",zIndex:1e3,overflow:"hidden",display:"flex",flexDirection:"column"},children:[a.jsxs("div",{style:{padding:"1.5rem 1.5rem 1rem",borderBottom:"2px solid rgba(29, 181, 132, 0.2)"},children:[a.jsx(Pe.button,{whileHover:{scale:1.05},whileTap:{scale:.98},onClick:()=>S("home"),style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem",background:"transparent",border:"none",cursor:"pointer",padding:0,width:"100%"},"aria-label":"Go to Home screen",children:a.jsx("img",{src:"/goodlift/goodlift-logo.svg",alt:"GoodLift",style:{height:"48px",width:"auto"}})}),u&&a.jsx(Pe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},style:{display:"flex",justifyContent:"center",marginTop:"0.5rem"},children:a.jsx(Jn,{title:"You're in guest mode. Sign up to save your data permanently!",arrow:!0,children:a.jsx(Je,{label:"Guest Mode",size:"small",sx:{bgcolor:"warning.main",color:"white",fontWeight:600,fontSize:"0.75rem"}})})})]}),a.jsxs("nav",{style:{padding:"1rem 0",flex:1,overflowY:"auto",overflowX:"hidden"},children:[a.jsx(di,{icon:a.jsx(ZI,{}),label:"Home",isActive:e==="home",onClick:()=>S("home")}),a.jsx(di,{icon:a.jsx(XI,{}),label:"Training Hub",isActive:e==="selection"||e==="preview",onClick:()=>S("selection")}),a.jsx(di,{icon:a.jsx(uc,{}),label:"Timer Hub",isActive:e==="timer",onClick:()=>S("timer")}),a.jsx(di,{icon:a.jsx(jd,{}),label:"Progress",isActive:e==="progress",onClick:()=>S("progress")}),a.jsx(di,{icon:a.jsx(QM,{}),label:"Log Activity",isActive:e==="log-activity",onClick:()=>S("log-activity")}),a.jsx(di,{icon:a.jsx(yn,{}),label:"Exercise List",isActive:e==="exercise-list",onClick:()=>S("exercise-list")}),a.jsx(di,{icon:a.jsx(O1,{}),label:"Settings",isActive:e==="settings",onClick:()=>S("settings")})]}),l&&a.jsx("div",{style:{padding:"1rem 1.5rem",paddingBottom:"max(1rem, env(safe-area-inset-bottom))",borderTop:"2px solid rgba(29, 181, 132, 0.2)",flexShrink:0},children:a.jsxs(Pe.button,{onClick:v,whileHover:{scale:1.02},whileTap:{scale:.98},style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"10px 20px",fontSize:"0.95rem",fontWeight:600,background:"#ff8c00",color:"white",border:"none",borderRadius:"8px",cursor:"pointer"},children:[a.jsx(JI,{})," Logout"]})})]})}),a.jsx(UC,{open:g,onClose:()=>y(!1),onConfirm:b})]})},di=({icon:e,label:t,isActive:s,onClick:i})=>a.jsxs(Pe.button,{onClick:i,whileHover:{x:5,backgroundColor:"rgba(29, 181, 132, 0.1)"},whileTap:{scale:.98},style:{display:"flex",alignItems:"center",gap:"0.75rem",width:"100%",padding:"12px 1.5rem",fontSize:"1rem",fontWeight:600,background:s?"rgba(29, 181, 132, 0.2)":"transparent",color:s?"#1db584":"#a0a8b3",border:"none",borderLeft:s?"4px solid #1db584":"4px solid transparent",textAlign:"left",cursor:"pointer",transition:"all 0.2s ease"},children:[e,a.jsx("span",{children:t})]});di.propTypes={icon:Y.node.isRequired,label:Y.string.isRequired,isActive:Y.bool.isRequired,onClick:Y.func.isRequired};Y.node.isRequired,Y.string.isRequired,Y.bool.isRequired,Y.func.isRequired;qC.propTypes={currentScreen:Y.string.isRequired,onNavigate:Y.func.isRequired,isOpen:Y.bool.isRequired,onToggle:Y.func.isRequired};const v3=({planStyle:e="ppl",startDate:t=new Date().toISOString(),customDays:s=null})=>{const i=new Date(t);return i.setDate(i.getDate()+6),{planId:`plan_${t.split("T")[0].replace(/-/g,"_")}`,planStyle:e,startDate:t,endDate:i.toISOString(),createdAt:new Date().toISOString(),days:s||S3(e,t)}},S3=(e,t)=>{const s=[],i=new Date(t);for(let l=0;l<7;l++){const u=new Date(i);u.setDate(i.getDate()+l),s.push(w3({dayIndex:l,date:u.toISOString(),planStyle:e}))}return s},w3=({dayIndex:e,date:t,planStyle:s,type:i=null,subtype:l=null,focus:u="strength",includes:d=["strength"],estimatedDuration:f=60})=>{if(!i||!l){const p=T3(s,e);i=i||p.type,l=l||p.subtype}return{dayIndex:e,date:t,type:i,subtype:l,focus:u,includes:d,estimatedDuration:f,generatedWorkout:null,completedSessions:[]}},T3=(e,t)=>({ppl:[{type:"strength",subtype:"push"},{type:"strength",subtype:"pull"},{type:"strength",subtype:"legs"},{type:"yoga",subtype:"flexibility"},{type:"strength",subtype:"push"},{type:"hiit",subtype:"full"},{type:"rest",subtype:"rest"}],upper_lower:[{type:"strength",subtype:"upper"},{type:"strength",subtype:"lower"},{type:"rest",subtype:"rest"},{type:"strength",subtype:"upper"},{type:"strength",subtype:"lower"},{type:"hiit",subtype:"full"},{type:"rest",subtype:"rest"}],full_body:[{type:"strength",subtype:"full"},{type:"yoga",subtype:"flexibility"},{type:"strength",subtype:"full"},{type:"hiit",subtype:"full"},{type:"strength",subtype:"full"},{type:"rest",subtype:"rest"},{type:"rest",subtype:"rest"}]})[e]?.[t]||{type:"rest",subtype:"rest"},C3=(e,t,s)=>({...e,planId:t,planDay:s}),j3=(e,t,s)=>e.filter(i=>i.planId===t&&i.planDay===s),GC=()=>{const[e,t]=x.useState(null),[s,i]=x.useState(null),[l,u]=x.useState(!0);x.useEffect(()=>{(async()=>{u(!0);try{const E=await Lc();if(E)t(E);else{const k=v3({planStyle:"ppl",startDate:new Date().toISOString()});await mi(k),t(k)}}catch(E){console.error("Error loading plan:",E)}finally{u(!1)}})()},[]);const d=x.useCallback(()=>{if(!e)return null;const C=new Date;if(C.setHours(0,0,0,0),e.sessions&&Array.isArray(e.sessions))return e.sessions.find(A=>{const N=new Date(A.date);return N.setHours(0,0,0,0),N.getTime()===C.getTime()})||null;const E=C.getDay();return e.days?.[E]||null},[e]),f=x.useCallback(C=>!e||!e.days?null:e.days[C]||null,[e]),p=x.useCallback((C=3)=>{if(!e)return[];const E=new Date;E.setHours(0,0,0,0);const k=[];if(e.sessions&&Array.isArray(e.sessions))return e.sessions.filter(z=>{const P=new Date(z.date);return P.setHours(0,0,0,0),P>E&&z.type!=="rest"}).sort((z,P)=>new Date(z.date)-new Date(P.date)).slice(0,C).map(z=>{const P=new Date(z.date);return{...z,day:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][P.getDay()]}});if(!e.days)return[];const A=E.getDay();for(let N=1;N<=7&&k.length<C;N++){const z=(A+N)%7,P=e.days[z];P&&P.type!=="rest"&&k.push(P)}return k},[e]),g=x.useCallback(async C=>{try{await mi(C),t(C)}catch(E){console.error("Error updating plan:",E)}},[]),y=x.useCallback(C=>{const E=f(C);return i(E),E},[f]),v=x.useCallback(()=>{i(null)},[]),b=x.useCallback((C,E=null)=>{if(!e)return null;const k=e.days[C];return k?{fromPlan:!0,planId:e.planId,planDay:C,dayData:k,workoutData:E||k.generatedWorkout,workoutType:k.subtype,estimatedDuration:k.estimatedDuration}:null},[e]),S=x.useCallback((C,E=null)=>{if(!e)return C;const k=E!==null?E:s?.dayIndex;return k==null?C:C3(C,e.planId,k)},[e,s]),T=x.useCallback((C,E)=>e?j3(C,e.planId,E):[],[e]),D=x.useCallback((C,E)=>T(C,E).length>0,[T]),j=x.useCallback(()=>({planId:e?.planId||null,planDay:s?.dayIndex??null,hasPlan:!!e,hasSelectedDay:!!s}),[e,s]);return{currentPlan:e,selectedPlanDay:s,loading:l,getTodaysWorkout:d,getPlanDay:f,getUpcomingWorkouts:p,updatePlan:g,selectDay:y,clearSelectedDay:v,createWorkoutNavState:b,linkSession:S,getSessionsForDay:T,hasDayCompleted:D,getPlanContext:j}},uw=e=>({push:"Push",pull:"Pull",legs:"Legs",upper:"Upper Body",lower:"Lower Body",full:"Full Body",yoga:"Yoga",hiit:"HIIT",rest:"Rest",cardio:"Cardio"})[e]||e.charAt(0).toUpperCase()+e.slice(1),ps=({title:e,subtitle:t,icon:s,action:i})=>a.jsxs(q,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",py:1,px:2,borderBottom:"1px solid",borderColor:"divider",mb:2},children:[a.jsxs(q,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[a.jsxs(q,{sx:{display:"flex",alignItems:"center",gap:1},children:[s&&a.jsx("span",{style:{fontSize:"1.2rem"},children:s}),a.jsx(I,{variant:"h6",sx:{fontSize:"1.1rem",fontWeight:700},children:e})]}),t&&a.jsx(I,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.875rem"},children:t})]}),i&&i]});ps.propTypes={title:Y.string.isRequired,subtitle:Y.string,icon:Y.node,action:Y.node};const $C=({onNavigate:e,onStartWorkout:t})=>{const{currentUser:s}=Nc(),{currentPlan:i,getTodaysWorkout:l,createWorkoutNavState:u,loading:d}=GC(),[f,p]=x.useState(!0),[g,y]=x.useState(null),[v,b]=x.useState(null),[S,T]=x.useState(!1),[D,j]=x.useState(null);x.useEffect(()=>{d||(async()=>{p(!0),j(null);try{const U=await Ti(),V=C(U,i);y(V)}catch(U){console.error("Error loading home screen data:",U),j("Failed to load data. Please try again.")}finally{p(!1)}})()},[d,i]);const C=(M,U)=>{const V=new Date;V.setHours(0,0,0,0);let _=0;const B=[...M].sort((de,we)=>new Date(we.date)-new Date(de.date));let O=new Date(V);for(const de of B){const we=new Date(de.date);if(we.setHours(0,0,0,0),we.getTime()===O.getTime())_++,O.setDate(O.getDate()-1);else if(we<O)break}let Q=0;if(U&&U.sessions){const de=U.sessions.filter(De=>{const Me=new Date(De.date);return Me.setHours(0,0,0,0),Me>V?!1:M.some(We=>{const Ue=new Date(We.date);return Ue.setHours(0,0,0,0),Ue.getTime()===Me.getTime()})}),we=U.sessions.filter(De=>{const Me=new Date(De.date);return Me.setHours(0,0,0,0),Me<=V});we.length>0&&(Q=Math.round(de.length/we.length*100))}const ee=new Date(V);ee.setDate(V.getDate()-V.getDay()),ee.setHours(0,0,0,0);const ye=M.filter(de=>{const we=new Date(de.date);return we>=ee&&we<=V}).length,ue=U?.daysPerWeek||3;return{streak:_,completionPercentage:Q,workoutsThisWeek:ye,weeklyGoal:ue}},E=x.useMemo(()=>l(),[l]),k=x.useMemo(()=>{if(!i)return[];const M=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],U=new Date;U.setHours(0,0,0,0);const V=[];if(i.sessions&&Array.isArray(i.sessions))for(let _=0;_<7;_++){const B=new Date(U);B.setDate(U.getDate()+_),B.setHours(0,0,0,0);const O=i.sessions.find(Q=>{const ee=new Date(Q.date);return ee.setHours(0,0,0,0),ee.getTime()===B.getTime()});V.push({date:B,day:M[B.getDay()],dayNum:B.getDate(),type:O?.type||"rest",focus:O?.focus,estimatedDuration:O?.estimatedDuration,isToday:B.getTime()===U.getTime()})}else if(i.days)for(let _=0;_<7;_++){const B=new Date(U);B.setDate(U.getDate()+_);const O=B.getDay(),Q=i.days[O];V.push({date:B,day:M[O],dayNum:B.getDate(),type:Q?.type||"rest",focus:Q?.focus,estimatedDuration:Q?.estimatedDuration,isToday:B.getTime()===U.getTime()})}return V},[i]),A=()=>{if(!E||E.type==="rest")return;const M=u(E);t(E.type,new Set(["all"]),null,M)},N=M=>{M.type!=="rest"&&(b(M),T(!0))},z=()=>{if(!v)return;const M=u(v);T(!1),t(v.type,new Set(["all"]),null,M)},P=()=>{T(!1),e("workout-plan")},F=()=>{T(!1),b(null)},H=()=>{e("workout-plan")},L=()=>{e("workout-plan")};if(f||d)return a.jsxs(q,{sx:{px:2,py:3,maxWidth:1200,mx:"auto"},children:[a.jsx(ps,{title:"Home"}),a.jsxs(Ee,{spacing:2,children:[a.jsx(_l,{variant:"rectangular",height:200,sx:{borderRadius:3}}),a.jsxs(q,{sx:{display:"flex",gap:2,overflowX:"auto"},children:[a.jsx(_l,{variant:"rectangular",width:150,height:120,sx:{borderRadius:2,flexShrink:0}}),a.jsx(_l,{variant:"rectangular",width:150,height:120,sx:{borderRadius:2,flexShrink:0}}),a.jsx(_l,{variant:"rectangular",width:150,height:120,sx:{borderRadius:2,flexShrink:0}})]}),a.jsx(_l,{variant:"rectangular",height:250,sx:{borderRadius:3}})]})]});if(D)return a.jsxs(q,{sx:{px:2,py:3,maxWidth:1200,mx:"auto"},children:[a.jsx(ps,{title:"Home"}),a.jsxs(Ie,{sx:{p:3,textAlign:"center",borderRadius:3},children:[a.jsx(I,{color:"error",gutterBottom:!0,children:D}),a.jsx(xe,{onClick:()=>window.location.reload(),children:"Retry"})]})]});if(!i)return a.jsxs(q,{sx:{px:2,py:3,maxWidth:1200,mx:"auto"},children:[a.jsx(ps,{title:"Home"}),a.jsxs(Ie,{sx:{p:4,textAlign:"center",borderRadius:3},children:[a.jsx(yn,{sx:{fontSize:64,color:"primary.main",mb:2}}),a.jsx(I,{variant:"h5",gutterBottom:!0,fontWeight:600,children:"Welcome to GoodLift!"}),a.jsx(I,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Get started by creating your personalized workout plan."}),a.jsx(xe,{variant:"contained",size:"large",onClick:L,sx:{px:4},children:"Create Your Plan"})]})]});const W=!E||E.type==="rest";return a.jsxs(q,{sx:{px:2,py:3,maxWidth:1200,mx:"auto",pb:10},children:[a.jsx(ps,{title:"Home"}),a.jsxs(Ee,{spacing:3,children:[a.jsx(Ie,{sx:{borderRadius:3,boxShadow:"0 4px 20px rgba(19, 70, 134, 0.1)",background:W?"linear-gradient(135deg, rgba(237, 63, 39, 0.05) 0%, rgba(19, 70, 134, 0.05) 100%)":"linear-gradient(135deg, rgba(19, 70, 134, 0.05) 0%, rgba(237, 63, 39, 0.05) 100%)"},children:a.jsxs(Le,{sx:{p:3},children:[a.jsx(I,{variant:"overline",sx:{color:"primary.main",fontWeight:700,letterSpacing:1.2,display:"block",mb:1},children:"TODAY'S WORKOUT"}),W?a.jsxs(q,{children:[a.jsx(I,{variant:"h4",fontWeight:700,sx:{mb:1},children:"Rest Day"}),a.jsx(I,{variant:"body1",color:"text.secondary",sx:{mb:2},children:"Recovery is key to growth. Take it easy today!"}),a.jsx(xe,{variant:"outlined",startIcon:a.jsx(Po,{}),onClick:H,fullWidth:!0,sx:{py:1.5},children:"View Plan"})]}):a.jsxs(q,{children:[a.jsxs(q,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[a.jsx(I,{variant:"h4",fontWeight:700,children:uw(E.type)}),E.focus&&a.jsx(Je,{label:E.focus,size:"small",color:"primary",sx:{textTransform:"capitalize",fontWeight:600}})]}),E.estimatedDuration&&a.jsxs(I,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["Estimated: ~",E.estimatedDuration," min"]}),a.jsx(xe,{variant:"contained",startIcon:a.jsx(Fn,{}),onClick:A,fullWidth:!0,size:"large",sx:{py:2,fontSize:"1.1rem",fontWeight:700,borderRadius:2,boxShadow:"0 4px 12px rgba(19, 70, 134, 0.3)"},children:"Start Workout"})]})]})}),a.jsxs(q,{sx:{display:"flex",gap:2,overflowX:"auto",pb:1,"&::-webkit-scrollbar":{height:6},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:"rgba(0, 0, 0, 0.2)",borderRadius:3}},children:[a.jsx(Ie,{sx:{minWidth:150,flexShrink:0,borderRadius:2,cursor:"pointer",transition:"transform 0.2s","&:hover":{transform:"translateY(-4px)"}},onClick:()=>e("progress"),children:a.jsxs(Le,{sx:{textAlign:"center",py:2},children:[a.jsx(KM,{sx:{fontSize:40,color:"error.main",mb:1}}),a.jsx(I,{variant:"h4",fontWeight:700,children:g?.streak||0}),a.jsx(I,{variant:"caption",color:"text.secondary",sx:{textTransform:"uppercase"},children:"Day Streak"})]})}),a.jsx(Ie,{sx:{minWidth:150,flexShrink:0,borderRadius:2,cursor:"pointer",transition:"transform 0.2s","&:hover":{transform:"translateY(-4px)"}},onClick:()=>e("progress"),children:a.jsxs(Le,{sx:{textAlign:"center",py:2},children:[a.jsx(Ys,{sx:{fontSize:40,color:"success.main",mb:1}}),a.jsxs(I,{variant:"h4",fontWeight:700,children:[g?.completionPercentage||0,"%"]}),a.jsx(I,{variant:"caption",color:"text.secondary",sx:{textTransform:"uppercase"},children:"Plan Complete"})]})}),a.jsx(Ie,{sx:{minWidth:150,flexShrink:0,borderRadius:2,cursor:"pointer",transition:"transform 0.2s","&:hover":{transform:"translateY(-4px)"}},onClick:()=>e("progress"),children:a.jsxs(Le,{sx:{textAlign:"center",py:2},children:[a.jsx(yn,{sx:{fontSize:40,color:"primary.main",mb:1}}),a.jsxs(I,{variant:"h4",fontWeight:700,children:[g?.workoutsThisWeek||0,"/",g?.weeklyGoal||3]}),a.jsx(I,{variant:"caption",color:"text.secondary",sx:{textTransform:"uppercase"},children:"This Week"})]})})]}),a.jsx(Ie,{sx:{borderRadius:3,boxShadow:"0 4px 20px rgba(19, 70, 134, 0.1)"},children:a.jsxs(Le,{sx:{p:2},children:[a.jsx(I,{variant:"overline",sx:{color:"primary.main",fontWeight:700,letterSpacing:1.2,display:"block",mb:2},children:"THIS WEEK"}),a.jsx(q,{sx:{display:"flex",gap:1,overflowX:"auto",pb:1},children:k.map((M,U)=>{const V=M.type==="rest";return a.jsxs(q,{onClick:()=>N(M),sx:{minWidth:80,flexShrink:0,p:1.5,borderRadius:2,textAlign:"center",cursor:V?"default":"pointer",bgcolor:M.isToday?"primary.main":V?"action.hover":"background.paper",border:"1px solid",borderColor:M.isToday?"primary.main":"divider",transition:"all 0.2s","&:hover":!V&&{transform:"translateY(-2px)",boxShadow:2}},children:[a.jsx(I,{variant:"caption",sx:{color:M.isToday?"primary.contrastText":"text.secondary",fontWeight:600,display:"block",mb:.5},children:M.day}),a.jsx(I,{variant:"h6",sx:{color:M.isToday?"primary.contrastText":"text.primary",fontWeight:700,mb:.5},children:M.dayNum}),a.jsx(I,{variant:"caption",sx:{color:M.isToday?"primary.contrastText":V?"text.disabled":"text.primary",fontWeight:500,fontSize:"0.65rem",textTransform:"capitalize"},children:V?"Rest":M.type})]},U)})})]})}),a.jsx(xe,{variant:"outlined",startIcon:a.jsx(O1,{}),onClick:H,fullWidth:!0,sx:{py:1.5,borderRadius:2,fontWeight:600},children:"Edit This Week"})]}),a.jsxs(ns,{open:S,onClose:F,maxWidth:"xs",fullWidth:!0,children:[a.jsx(ys,{children:v&&a.jsxs(q,{children:[a.jsxs(I,{variant:"h6",fontWeight:700,children:[v.day,", ",v.dayNum]}),a.jsxs(I,{variant:"body2",color:"text.secondary",children:[uw(v.type),v.focus&&` - ${v.focus}`]})]})}),a.jsx(ss,{children:a.jsxs(Ee,{spacing:2,children:[v?.estimatedDuration&&a.jsxs(I,{variant:"body2",color:"text.secondary",children:["Estimated duration: ~",v.estimatedDuration," min"]}),a.jsx(xe,{variant:"contained",startIcon:a.jsx(Fn,{}),onClick:z,fullWidth:!0,size:"large",children:"Start"}),a.jsx(xe,{variant:"outlined",startIcon:a.jsx(XM,{}),onClick:P,fullWidth:!0,children:"Preview"})]})}),a.jsx(rs,{children:a.jsx(xe,{onClick:F,children:"Close"})})]})]})};$C.propTypes={onNavigate:Y.func.isRequired,onStartWorkout:Y.func.isRequired};const D3="modulepreload",E3=function(e){return"/goodlift/"+e},dw={},fw=function(t,s,i){let l=Promise.resolve();if(s&&s.length>0){let p=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=d?.nonce||d?.getAttribute("nonce");l=p(s.map(g=>{if(g=E3(g),g in dw)return;dw[g]=!0;const y=g.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const b=document.createElement("link");if(b.rel=y?"stylesheet":D3,y||(b.as="script"),b.crossOrigin="",b.href=g,f&&b.setAttribute("nonce",f),document.head.appendChild(b),y)return new Promise((S,T)=>{b.addEventListener("load",S),b.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return l.then(d=>{for(const f of d||[])f.status==="rejected"&&u(f.reason);return t().catch(u)})},Im=3,vo=8,sf="/goodlift/data/exercises.json",So={UPPER_BODY:["Chest","Upper Chest","Lower Chest","Inner Chest","Back","Lats","Upper Back","Lower Back","Delts","Front Delts","Rear Delts","Side Delts","Biceps","Triceps","Forearms","Traps"],LOWER_BODY:["Quads","Hamstrings","Glutes","Calves","Hip Flexors"]},ud={UPPER_BODY:{DUMBBELL:5,BARBELL:2.5},LOWER_BODY:{DUMBBELL:10,BARBELL:5}},M3=(e,t="intermediate")=>({beginner:{full:6,upper:6,lower:6,push:7,pull:7,legs:7},intermediate:{full:8,upper:8,lower:8,push:8,pull:8,legs:8},advanced:{full:9,upper:10,lower:10,push:10,pull:10,legs:10}})[t]?.[e]||vo,k3={Chest:"Lats",Lats:"Chest",Quads:"Hamstrings",Hamstrings:"Quads",Biceps:"Triceps",Triceps:"Biceps",Shoulders:"Lats"},$t=(e,t,s,i=[],l="all")=>{let u=(e[t]||[]).filter(f=>!i.some(p=>p["Exercise Name"]===f["Exercise Name"]));if(l!=="all"){const f=Array.isArray(l)?l:[l];u=u.filter(p=>{const g=p.Equipment.toLowerCase();return f.some(y=>{const v=y.toLowerCase();return v==="cable machine"?g.includes("cable"):v==="dumbbells"?g.includes("dumbbell"):g.includes(v)})})}if(u.length<s)return console.warn(`Insufficient exercises for ${t}. Available: ${u.length}, Requested: ${s}`),u;const d=[...u];for(let f=d.length-1;f>0;f--){const p=Math.floor(Math.random()*(f+1));[d[f],d[p]]=[d[p],d[f]]}return d.slice(0,s)},P3=e=>{const t=[],s=[...e];let i=1;for(;s.length>=2;){const l=s.shift(),u=l["Primary Muscle"].split("(")[0].trim(),d=k3[u];let f=-1;d&&(f=s.findIndex(g=>g["Primary Muscle"].includes(d))),f===-1&&(f=s.findIndex(g=>!g["Primary Muscle"].includes(u))),f===-1&&(f=0);const p=s.splice(f,1)[0];t.push({...l,supersetGroup:i}),t.push({...p,supersetGroup:i}),i++}return s.length>0&&t.push(...s.map(l=>({...l,supersetGroup:null}))),t},A3=(e,t,s="all",i="intermediate")=>{const l=e.reduce((f,p)=>{const g=p["Primary Muscle"].split("(")[0].trim();return f[g]||(f[g]=[]),f[g].push(p),f},{});let u=[];const d=M3(t,i);switch(t){case"push":u.push(...$t(l,"Chest",3,u,s)),u.push(...$t(l,"Delts",2,u,s)),u.push(...$t(l,"Triceps",3,u,s));break;case"pull":u.push(...$t(l,"Lats",4,u,s)),u.push(...$t(l,"Biceps",3,u,s)),u.push(...$t(l,"Traps",1,u,s));break;case"legs":u.push(...$t(l,"Quads",3,u,s)),u.push(...$t(l,"Hamstrings",3,u,s)),u.push(...$t(l,"Glutes",1,u,s)),u.push(...$t(l,"Calves",1,u,s));break;case"upper":u.push(...$t(l,"Chest",3,u,s)),u.push(...$t(l,"Lats",3,u,s)),u.push(...$t(l,"Biceps",1,u,s)),u.push(...$t(l,"Triceps",1,u,s));break;case"lower":{const f=Math.min(4,Math.floor(d*.4)),p=Math.min(3,Math.floor(d*.3)),g=Math.max(1,d-f-p-1);u.push(...$t(l,"Quads",f,u,s)),u.push(...$t(l,"Hamstrings",p,u,s)),u.push(...$t(l,"Glutes",1,u,s)),g>0&&u.push(...$t(l,"Core",g,u,s));break}case"full":{const f=Math.floor(d/4),p=d-f*4;u.push(...$t(l,"Chest",f,u,s)),u.push(...$t(l,"Lats",f,u,s)),u.push(...$t(l,"Quads",f,u,s)),u.push(...$t(l,"Hamstrings",f,u,s)),p>0&&u.push(...$t(l,"Core",p,u,s));break}default:console.warn(`Unknown workout type: ${t}`);break}if(u.length>d)u=u.slice(0,d);else if(u.length<d){const f=Object.keys(l);for(;u.length<d&&f.length>0;){const p=f[Math.floor(Math.random()*f.length)],g=$t(l,p,1,u,s);if(g.length>0)u.push(g[0]);else break}}return u},O3=(e,t,s="all",i="intermediate")=>{if(!e||e.length===0)return console.error("Exercise database is empty. Cannot generate workout."),[];const l=A3(e,t,s,i);return P3(l)},R3=e=>{const t=[];e.id||t.push("Session missing id"),e.date||t.push("Session missing date"),e.type||t.push("Session missing type"),e.status||t.push("Session missing status"),e.populationError&&t.push(e.populationError);const s=["upper","lower","full","push","pull","legs"].includes(e.type),i=e.type==="hiit",l=e.type==="yoga"||e.type==="stretch";return s?(!e.exercises||!Array.isArray(e.exercises)||e.exercises.length===0)&&t.push(`Standard workout session (${e.type}) missing exercises array`):i?e.sessionData?(!e.sessionData.mainWorkout||!e.sessionData.mainWorkout.exercises)&&t.push("HIIT session missing mainWorkout exercises"):t.push("HIIT session missing sessionData"):l&&(e.sessionData?(!e.sessionData.mainPractice||!e.sessionData.mainPractice.sequences)&&t.push("Yoga session missing mainPractice sequences"):t.push("Yoga session missing sessionData")),{isValid:t.length===0,errors:t}},QC=async e=>{const{goal:t="general_fitness",experienceLevel:s="intermediate",daysPerWeek:i=3,duration:l=30,startDate:u=new Date,sessionTypes:d=["full"],equipmentAvailable:f=["all"],preferredDays:p=null,planName:g="My Workout Plan"}=e;if(i<2||i>7)throw new Error("Days per week must be between 2 and 7");if(l<1||l>90)throw new Error("Duration must be between 1 and 90 days");const y=I3(i,s),v=B3({startDate:u,duration:l,daysPerWeek:i,splitType:y,sessionTypes:d,preferredDays:p,experienceLevel:s}),b=_3(l),S={},T=[];for(let C=0;C<v.length;C++){const E=v[C],k=Math.floor(C/i)+1,A=b.includes(k),N=b.filter(P=>P<k).length+1,z=`${E.type}_block${N}`;if(S[z])T.push({...E,exercises:E.type!=="hiit"&&E.type!=="yoga"&&E.type!=="stretch"?S[z]:null,sessionData:E.type==="hiit"||E.type==="yoga"||E.type==="stretch"?S[z]:null,isDeloadWeek:A});else{const P=await z3(E,s,k,f);S[z]=P.exercises||P.sessionData,T.push(P)}}const D=[];return T.forEach((C,E)=>{const k=R3(C);k.isValid||D.push(`Session ${E+1} (${C.type}): ${k.errors.join(", ")}`)}),D.length>0&&console.warn("Some sessions failed validation:",D),{id:F3(),name:g,startDate:u.getTime(),endDate:new Date(u.getTime()+l*24*60*60*1e3).getTime(),duration:l,goal:t,experienceLevel:s,daysPerWeek:i,splitType:y,sessionTypes:d,equipmentAvailable:f,sessions:T,deloadWeeks:b,periodization:{type:l>=56?"undulating":"linear",deloadFrequency:4,volumeProgression:"10% weekly increase"},created:Date.now(),modified:Date.now(),active:!0,validationWarnings:D.length>0?D:[]}},I3=(e,t)=>e<=3||t==="beginner"?"full_body":e===4||e===5?"upper_lower":"ppl",B3=e=>{const{startDate:t,duration:s,daysPerWeek:i,splitType:l,sessionTypes:u,preferredDays:d,experienceLevel:f}=e,p=[],g=new Date(t);g.setHours(0,0,0,0);const y=L3(i,d),v=N3(l,u,f);let b=0,S=new Date(g);for(;S.getTime()<g.getTime()+s*24*60*60*1e3;){const T=S.getDay();if(y.includes(T)){const D=v[b%v.length];p.push({id:H3(),date:S.getTime(),type:D,status:"planned",exercises:null,sessionData:null,completedAt:null,notes:""}),b++}S=new Date(S.getTime()+1440*60*1e3)}return p},L3=(e,t)=>{if(t&&t.length===e)return t;const s={2:[1,4],3:[1,3,5],4:[1,2,4,5],5:[1,2,3,4,5],6:[1,2,3,4,5,6],7:[0,1,2,3,4,5,6]};return s[e]||s[3]},N3=(e,t,s)=>{const i=t.some(p=>["full","upper","lower","push","pull","legs"].includes(p)),l=t.includes("hiit"),u=t.includes("cardio"),d=t.includes("yoga")||t.includes("stretch");let f=[];return i&&(e==="full_body"?f=["full","full","full"]:e==="upper_lower"?f=["upper","lower","upper","lower"]:e==="ppl"&&(f=["push","pull","legs","push","pull","legs"])),f.length>0?(s!=="beginner"&&(l||u)&&(f.length>=4&&l?f.splice(3,0,"hiit"):f.length>=3&&u&&f.push("cardio")),d&&f.length>=3&&f.push("yoga")):(l&&f.push("hiit"),u&&f.push("cardio"),d&&f.push("yoga")),f.length===0&&(f=["full","full","full"]),f},F3=()=>`plan_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,H3=()=>`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,_3=e=>{const t=Math.floor(e/7),s=[];for(let i=4;i<=t;i+=4)s.push(i);return s},Cd=e=>{const t=Date.now(),s=e.sessions.length,i=e.sessions.filter(f=>f.status==="completed").length,l=e.sessions.filter(f=>f.status==="skipped").length,u=e.sessions.filter(f=>f.status==="planned"&&f.date<t).length,d=e.sessions.filter(f=>f.status==="planned"&&f.date>=t).length;return{totalSessions:s,completedSessions:i,skippedSessions:l,missedSessions:u,upcomingSessions:d,completionRate:s>0?i/s*100:0}},z3=async(e,t,s,i=["all"])=>{if(["upper","lower","full","push","pull","legs"].includes(e.type))try{const l=await fetch("/goodlift/data/exercises.json"),u=l.ok?await l.json():[];let d=u;e.type==="upper"?d=u.filter(g=>g["Workout Type"]&&(g["Workout Type"].includes("Upper Body")||g["Workout Type"].includes("Full Body")||g["Workout Type"].includes("Push/Pull/Legs"))):e.type==="lower"?d=u.filter(g=>g["Workout Type"]&&(g["Workout Type"].includes("Lower Body")||g["Workout Type"].includes("Full Body")||g["Workout Type"].includes("Push/Pull/Legs"))):e.type==="full"?d=u.filter(g=>g["Workout Type"]&&g["Workout Type"].includes("Full Body")):["push","pull","legs"].includes(e.type)&&(d=u.filter(g=>g["Workout Type"]&&g["Workout Type"].includes("Push/Pull/Legs")));const f=i.includes("all")?"all":i,p=O3(d,e.type,f,t);return{...e,exercises:p,sessionData:null}}catch(l){return console.error("Error generating standard workout session:",l),{...e,exercises:[],populationError:`Failed to generate exercises: ${l.message}`}}if(e.type==="hiit")try{const{generateHIITSession:l,HIIT_PROTOCOLS:u}=await fw(async()=>{const{generateHIITSession:y,HIIT_PROTOCOLS:v}=await Promise.resolve().then(()=>RB);return{generateHIITSession:y,HIIT_PROTOCOLS:v}},void 0),d=await fetch("/goodlift/data/exercises.json"),f=d.ok?await d.json():[];let p="BALANCED";t==="beginner"?p="MAX_POWER":t==="advanced"&&s>=4&&(p="METABOLIC");const g=l({modality:"bodyweight",level:t,protocol:p,exercises:f,lowerImpact:t==="beginner",goal:"cardiovascular"});return{...e,sessionData:g,exercises:null}}catch(l){return console.error("Error generating HIIT session:",l),{...e,exercises:null,sessionData:null,populationError:`Failed to generate HIIT session: ${l.message}`}}if(e.type==="yoga"||e.type==="stretch")try{const{generateYogaSession:l}=await fw(async()=>{const{generateYogaSession:g}=await Promise.resolve().then(()=>IB);return{generateYogaSession:g}},void 0),u=await fetch("/goodlift/data/yoga-poses.json"),d=u.ok?await u.json():[];let f="power";s%2===0?f="restorative":s>=8&&(f=s%3===0?"yin":"flexibility");const p=l({mode:f,level:t,poses:d,goal:f==="restorative"||f==="yin"?"recovery":"balance"});return{...e,sessionData:p,exercises:null}}catch(l){return console.error("Error generating Yoga session:",l),{...e,exercises:null,sessionData:null,populationError:`Failed to generate Yoga session: ${l.message}`}}return{...e,exercises:e.exercises||null,sessionData:e.sessionData||null}},KC=({workoutType:e,selectedEquipment:t,onWorkoutTypeChange:s,onStartWorkout:i,onCustomize:l,onNavigate:u,loading:d})=>{const[f,p]=x.useState([]),[g,y]=x.useState(null),[v,b]=x.useState(!1),[S,T]=x.useState(!1),[D,j]=x.useState([]),[C,E]=x.useState({name:"",goal:"general_fitness",experienceLevel:"intermediate",daysPerWeek:3,duration:30,sessionTypes:["full","upper","lower","hiit","cardio","yoga"]}),{getTodaysWorkout:k,createWorkoutNavState:A}=GC();x.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),N(),z()},[]);const N=async()=>{const _=await ca();p(_);const B=await Lc();y(B)},z=async()=>{const _=await Ti();j(_.slice(0,3))},P=k(),H=(()=>{if(!g||!g.sessions||!Array.isArray(g.sessions))return[];const _=new Date;_.setHours(0,0,0,0);const B=[];for(let O=1;O<=3;O++){const Q=new Date(_);Q.setDate(Q.getDate()+O),Q.setHours(0,0,0,0);const ee=g.sessions.find(ye=>{const ue=new Date(ye.date);return ue.setHours(0,0,0,0),ue.getTime()===Q.getTime()});B.push({date:Q,session:ee||{type:"rest"}})}return B})(),L=()=>{if(P&&P.type!=="rest"){const _=P.subtype||P.type;s(_);const B=t.has("all")?"all":Array.from(t),O=new Date().getDay(),Q=A(O);i(_,B,null,Q)}else{const _=t.has("all")?"all":Array.from(t);i(e||"full",_)}},W=async()=>{try{T(!0);const _=await QC({...C,planName:C.name||"My Workout Plan",startDate:new Date,equipmentAvailable:["all"]});await Rm(_),_.name==="This Week"&&await mi(_.id),await N(),b(!1),E({name:"",goal:"general_fitness",experienceLevel:"intermediate",daysPerWeek:3,duration:30,sessionTypes:["full","upper","lower","hiit","cardio","yoga"]})}catch(_){console.error("Error generating plan:",_),alert(`Failed to generate plan: ${_.message}`)}finally{T(!1)}},M=async _=>{try{await mi(_),await N()}catch(B){console.error("Error setting active plan:",B)}},U=async _=>{if(window.confirm("Are you sure you want to delete this plan?"))try{await VC(_),await N()}catch(B){console.error("Error deleting plan:",B)}},V=_=>{const B=Math.floor(_/60),O=_%60;return B>0?`${B}h ${O}m`:`${O}m`};return a.jsxs(q,{sx:{maxWidth:"1400px",margin:"0 auto",p:{xs:2,md:3},minHeight:"100vh"},children:[a.jsx(ps,{title:"Training Hub",subtitle:"Workouts, plans, cardio, mobility & yoga in one place"}),a.jsxs(Ee,{spacing:2,children:[a.jsx(Ie,{sx:{bgcolor:"background.paper"},children:a.jsx(Le,{children:a.jsxs(Ee,{spacing:2,children:[a.jsxs(Ee,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[a.jsxs(I,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsx(Po,{})," Active Plan"]}),a.jsx(xe,{size:"small",startIcon:a.jsx(Dr,{}),onClick:()=>b(!0),sx:{color:"secondary.main"},children:"New Plan"})]}),g?a.jsxs(q,{children:[a.jsx(I,{variant:"h5",sx:{color:"primary.main",mb:1},children:g.name}),a.jsxs(Ee,{spacing:1,children:[a.jsxs(I,{variant:"body2",color:"text.secondary",children:["Goal: ",g.goal?.replace("_"," ")||"General Fitness"]}),a.jsxs(I,{variant:"body2",color:"text.secondary",children:[g.sessions?.length||0," sessions planned"]}),P&&P.type!=="rest"&&a.jsx(xe,{variant:"contained",color:"primary",startIcon:a.jsx(Fn,{}),onClick:L,fullWidth:!0,sx:{mt:2},children:"Start Today's Workout"}),P&&P.type==="rest"&&a.jsx(Je,{label:"Rest Day",color:"info",sx:{mt:2}})]})]}):a.jsxs(q,{sx:{textAlign:"center",py:3},children:[a.jsx(I,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"No active plan. Create one to stay on track!"}),a.jsx(xe,{variant:"contained",color:"secondary",startIcon:a.jsx(Dr,{}),onClick:()=>b(!0),children:"Create Plan"})]})]})})}),a.jsx(Ie,{sx:{bgcolor:"background.paper"},children:a.jsx(Le,{children:a.jsxs(Ee,{spacing:2,children:[a.jsxs(I,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsx(yn,{})," Quick Start"]}),a.jsxs(bt,{fullWidth:!0,size:"small",children:[a.jsx(vt,{children:"Workout Type"}),a.jsxs(St,{value:e||"full",onChange:_=>s(_.target.value),label:"Workout Type",children:[a.jsx(be,{value:"full",children:"Full Body"}),a.jsx(be,{value:"upper",children:"Upper Body"}),a.jsx(be,{value:"lower",children:"Lower Body"}),a.jsx(be,{value:"push",children:"Push"}),a.jsx(be,{value:"pull",children:"Pull"}),a.jsx(be,{value:"legs",children:"Legs"})]})]}),a.jsx(xe,{variant:"contained",color:"secondary",startIcon:a.jsx(Fn,{}),onClick:L,fullWidth:!0,disabled:d,size:"large",children:d?"Generating...":"Generate Workout"}),l&&a.jsx(xe,{variant:"outlined",color:"secondary",startIcon:a.jsx(rg,{}),onClick:()=>l(e||"full"),fullWidth:!0,children:"Customize Exercises"})]})})}),H.length>0&&a.jsx(Ie,{sx:{bgcolor:"background.paper"},children:a.jsxs(Le,{children:[a.jsxs(I,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[a.jsx(Po,{})," Next 3 Days"]}),a.jsx($e,{container:!0,spacing:2,children:H.map((_,B)=>{const O=_.session.type==="rest";return a.jsx($e,{item:!0,xs:12,sm:4,children:a.jsx(Ie,{sx:{bgcolor:"background.default",border:"1px solid",borderColor:O?"divider":"primary.main",opacity:O?.7:1},children:a.jsxs(Le,{sx:{py:2},children:[a.jsx(I,{variant:"subtitle2",color:"text.secondary",children:_.date.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),O?a.jsx(I,{variant:"h6",sx:{color:"text.secondary",my:1},children:"Rest Day"}):a.jsxs(a.Fragment,{children:[a.jsx(I,{variant:"h6",sx:{color:"primary.main",my:1},children:_.session.type.charAt(0).toUpperCase()+_.session.type.slice(1)}),_.session.focus&&a.jsx(I,{variant:"body2",color:"text.secondary",children:_.session.focus})]})]})})},B)})})]})}),f.length>0&&a.jsx(Ie,{sx:{bgcolor:"background.paper"},children:a.jsxs(Le,{children:[a.jsx(I,{variant:"h6",sx:{mb:2},children:"My Plans"}),a.jsx($e,{container:!0,spacing:2,children:f.map(_=>{const B=Cd(_),O=g?.id===_.id;return a.jsx($e,{item:!0,xs:12,sm:6,md:4,children:a.jsx(Ie,{sx:{bgcolor:"background.default",border:"2px solid",borderColor:O?"primary.main":"transparent",position:"relative"},children:a.jsxs(Le,{children:[O&&a.jsx(Je,{label:"Active",color:"primary",size:"small",sx:{position:"absolute",top:8,right:8}}),a.jsx(I,{variant:"h6",sx:{mb:1,pr:O?8:0},children:_.name}),a.jsxs(I,{variant:"body2",color:"text.secondary",sx:{mb:1},children:[B.totalSessions," sessions  ",_.daysPerWeek," days/week"]}),a.jsxs(Ee,{direction:"row",spacing:1,sx:{mt:2},children:[!O&&a.jsx(xe,{size:"small",onClick:()=>M(_.id),variant:"outlined",color:"primary",children:"Activate"}),a.jsx(ut,{size:"small",onClick:()=>U(_.id),sx:{color:"error.main"},children:a.jsx(Fo,{fontSize:"small"})})]})]})})},_.id)})})]})}),D.length>0&&a.jsx(Ie,{sx:{bgcolor:"background.paper"},children:a.jsxs(Le,{children:[a.jsxs(Ee,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[a.jsxs(I,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsx(jd,{})," Recent Activity"]}),a.jsx(xe,{size:"small",onClick:()=>u("progress"),sx:{color:"primary.main"},children:"View All"})]}),a.jsx(Ee,{spacing:1,children:D.map((_,B)=>a.jsx(q,{sx:{p:2,bgcolor:"background.default",borderRadius:1,borderLeft:"4px solid",borderLeftColor:"primary.main"},children:a.jsxs(Ee,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[a.jsxs(q,{children:[a.jsx(I,{variant:"subtitle2",children:_.type?.charAt(0).toUpperCase()+_.type?.slice(1)||"Workout"}),a.jsx(I,{variant:"caption",color:"text.secondary",children:new Date(_.date).toLocaleDateString()})]}),a.jsx(I,{variant:"body2",color:"text.secondary",children:V(_.duration||0)})]})},B))})]})}),a.jsx(Ie,{sx:{bgcolor:"background.paper"},children:a.jsxs(Le,{sx:{py:2},children:[a.jsxs(I,{variant:"h6",sx:{mb:1.5,display:"flex",alignItems:"center",gap:1},children:[a.jsx(nr,{})," Mobility & Yoga"]}),a.jsxs(Ee,{direction:"row",spacing:1,children:[a.jsx(xe,{variant:"outlined",size:"small",onClick:()=>u("yoga-selection"),sx:{flex:1,py:1,fontSize:"0.85rem"},children:"Yoga"}),a.jsx(xe,{variant:"outlined",size:"small",onClick:()=>u("mobility"),sx:{flex:1,py:1,fontSize:"0.85rem"},children:"Stretching"})]})]})}),a.jsx(Ie,{sx:{bgcolor:"background.paper"},children:a.jsxs(Le,{sx:{py:2},children:[a.jsxs(I,{variant:"h6",sx:{mb:1.5,display:"flex",alignItems:"center",gap:1},children:[a.jsx(ra,{})," Cardio"]}),a.jsxs($e,{container:!0,spacing:1,children:[a.jsx($e,{item:!0,xs:6,children:a.jsx(xe,{variant:"outlined",size:"small",onClick:()=>u("hiit-selection"),fullWidth:!0,sx:{py:1,fontSize:"0.85rem"},children:"HIIT"})}),a.jsx($e,{item:!0,xs:6,children:a.jsx(xe,{variant:"outlined",size:"small",onClick:()=>u("hiit"),fullWidth:!0,sx:{py:1,fontSize:"0.85rem"},children:"Timer"})}),a.jsx($e,{item:!0,xs:6,children:a.jsx(xe,{variant:"outlined",size:"small",onClick:()=>u("log-cardio"),fullWidth:!0,sx:{py:1,fontSize:"0.85rem"},children:"Log Cardio"})})]})]})})]}),a.jsxs(ns,{open:v,onClose:()=>b(!1),maxWidth:"sm",fullWidth:!0,children:[a.jsx(ys,{children:"Create New Workout Plan"}),a.jsx(ss,{children:a.jsxs(Ee,{spacing:2,sx:{mt:1},children:[a.jsx(et,{label:"Plan Name",fullWidth:!0,value:C.name,onChange:_=>E({...C,name:_.target.value}),placeholder:"e.g., Summer Cut, Strength Building"}),a.jsxs(bt,{fullWidth:!0,children:[a.jsx(vt,{children:"Goal"}),a.jsxs(St,{value:C.goal,onChange:_=>E({...C,goal:_.target.value}),label:"Goal",children:[a.jsx(be,{value:"general_fitness",children:"General Fitness"}),a.jsx(be,{value:"muscle_building",children:"Muscle Building"}),a.jsx(be,{value:"strength",children:"Strength"}),a.jsx(be,{value:"fat_loss",children:"Fat Loss"})]})]}),a.jsxs(bt,{fullWidth:!0,children:[a.jsx(vt,{children:"Experience Level"}),a.jsxs(St,{value:C.experienceLevel,onChange:_=>E({...C,experienceLevel:_.target.value}),label:"Experience Level",children:[a.jsx(be,{value:"beginner",children:"Beginner"}),a.jsx(be,{value:"intermediate",children:"Intermediate"}),a.jsx(be,{value:"advanced",children:"Advanced"})]})]}),a.jsxs(bt,{fullWidth:!0,children:[a.jsx(vt,{children:"Days Per Week"}),a.jsx(St,{value:C.daysPerWeek,onChange:_=>E({...C,daysPerWeek:_.target.value}),label:"Days Per Week",children:[3,4,5,6,7].map(_=>a.jsxs(be,{value:_,children:[_," days"]},_))})]}),a.jsxs(bt,{fullWidth:!0,children:[a.jsx(vt,{children:"Plan Duration (days)"}),a.jsxs(St,{value:C.duration,onChange:_=>E({...C,duration:_.target.value}),label:"Plan Duration (days)",children:[a.jsx(be,{value:7,children:"1 week"}),a.jsx(be,{value:14,children:"2 weeks"}),a.jsx(be,{value:30,children:"1 month"}),a.jsx(be,{value:60,children:"2 months"}),a.jsx(be,{value:90,children:"3 months"})]})]})]})}),a.jsxs(rs,{children:[a.jsx(xe,{onClick:()=>b(!1),children:"Cancel"}),a.jsx(xe,{onClick:W,variant:"contained",color:"primary",disabled:S||!C.name,children:S?"Generating...":"Create Plan"})]})]})]})};KC.propTypes={workoutType:Y.string,selectedEquipment:Y.instanceOf(Set).isRequired,onWorkoutTypeChange:Y.func.isRequired,onStartWorkout:Y.func.isRequired,onCustomize:Y.func,onNavigate:Y.func.isRequired,loading:Y.bool};var $o=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},V3={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},W3=class{#e=V3;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},ea=new W3;function Y3(e){setTimeout(e,0)}var ua=typeof window>"u"||"Deno"in globalThis;function Vn(){}function U3(e,t){return typeof e=="function"?e(t):e}function Bm(e){return typeof e=="number"&&e>=0&&e!==1/0}function XC(e,t){return Math.max(e+(t||0)-Date.now(),0)}function gi(e,t){return typeof e=="function"?e(t):e}function Rs(e,t){return typeof e=="function"?e(t):e}function hw(e,t){const{type:s="all",exact:i,fetchStatus:l,predicate:u,queryKey:d,stale:f}=e;if(d){if(i){if(t.queryHash!==ny(d,t.options))return!1}else if(!Sc(t.queryKey,d))return!1}if(s!=="all"){const p=t.isActive();if(s==="active"&&!p||s==="inactive"&&p)return!1}return!(typeof f=="boolean"&&t.isStale()!==f||l&&l!==t.state.fetchStatus||u&&!u(t))}function pw(e,t){const{exact:s,status:i,predicate:l,mutationKey:u}=e;if(u){if(!t.options.mutationKey)return!1;if(s){if(da(t.options.mutationKey)!==da(u))return!1}else if(!Sc(t.options.mutationKey,u))return!1}return!(i&&t.state.status!==i||l&&!l(t))}function ny(e,t){return(t?.queryKeyHashFn||da)(e)}function da(e){return JSON.stringify(e,(t,s)=>Lm(s)?Object.keys(s).sort().reduce((i,l)=>(i[l]=s[l],i),{}):s)}function Sc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>Sc(e[s],t[s])):!1}var q3=Object.prototype.hasOwnProperty;function ZC(e,t){if(e===t)return e;const s=mw(e)&&mw(t);if(!s&&!(Lm(e)&&Lm(t)))return t;const l=(s?e:Object.keys(e)).length,u=s?t:Object.keys(t),d=u.length,f=s?new Array(d):{};let p=0;for(let g=0;g<d;g++){const y=s?g:u[g],v=e[y],b=t[y];if(v===b){f[y]=v,(s?g<l:q3.call(e,y))&&p++;continue}if(v===null||b===null||typeof v!="object"||typeof b!="object"){f[y]=b;continue}const S=ZC(v,b);f[y]=S,S===v&&p++}return l===d&&p===l?e:f}function Bd(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function mw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Lm(e){if(!gw(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!gw(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function gw(e){return Object.prototype.toString.call(e)==="[object Object]"}function G3(e){return new Promise(t=>{ea.setTimeout(t,e)})}function Nm(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?ZC(e,t):t}function $3(e,t,s=0){const i=[...e,t];return s&&i.length>s?i.slice(1):i}function Q3(e,t,s=0){const i=[t,...e];return s&&i.length>s?i.slice(0,-1):i}var sy=Symbol();function JC(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===sy?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function ej(e,t){return typeof e=="function"?e(...t):!!e}var K3=class extends $o{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!ua&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},ry=new K3;function Fm(){let e,t;const s=new Promise((l,u)=>{e=l,t=u});s.status="pending",s.catch(()=>{});function i(l){Object.assign(s,l),delete s.resolve,delete s.reject}return s.resolve=l=>{i({status:"fulfilled",value:l}),e(l)},s.reject=l=>{i({status:"rejected",reason:l}),t(l)},s}var X3=Y3;function Z3(){let e=[],t=0,s=f=>{f()},i=f=>{f()},l=X3;const u=f=>{t?e.push(f):l(()=>{s(f)})},d=()=>{const f=e;e=[],f.length&&l(()=>{i(()=>{f.forEach(p=>{s(p)})})})};return{batch:f=>{let p;t++;try{p=f()}finally{t--,t||d()}return p},batchCalls:f=>(...p)=>{u(()=>{f(...p)})},schedule:u,setNotifyFunction:f=>{s=f},setBatchNotifyFunction:f=>{i=f},setScheduler:f=>{l=f}}}var vn=Z3(),J3=class extends $o{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!ua&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},Ld=new J3;function eB(e){return Math.min(1e3*2**e,3e4)}function tj(e){return(e??"online")==="online"?Ld.isOnline():!0}var Hm=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function nj(e){let t=!1,s=0,i;const l=Fm(),u=()=>l.status!=="pending",d=D=>{if(!u()){const j=new Hm(D);b(j),e.onCancel?.(j)}},f=()=>{t=!0},p=()=>{t=!1},g=()=>ry.isFocused()&&(e.networkMode==="always"||Ld.isOnline())&&e.canRun(),y=()=>tj(e.networkMode)&&e.canRun(),v=D=>{u()||(i?.(),l.resolve(D))},b=D=>{u()||(i?.(),l.reject(D))},S=()=>new Promise(D=>{i=j=>{(u()||g())&&D(j)},e.onPause?.()}).then(()=>{i=void 0,u()||e.onContinue?.()}),T=()=>{if(u())return;let D;const j=s===0?e.initialPromise:void 0;try{D=j??e.fn()}catch(C){D=Promise.reject(C)}Promise.resolve(D).then(v).catch(C=>{if(u())return;const E=e.retry??(ua?0:3),k=e.retryDelay??eB,A=typeof k=="function"?k(s,C):k,N=E===!0||typeof E=="number"&&s<E||typeof E=="function"&&E(s,C);if(t||!N){b(C);return}s++,e.onFail?.(s,C),G3(A).then(()=>g()?void 0:S()).then(()=>{t?b(C):T()})})};return{promise:l,status:()=>l.status,cancel:d,continue:()=>(i?.(),l),cancelRetry:f,continueRetry:p,canStart:y,start:()=>(y()?T():S().then(T),l)}}var sj=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Bm(this.gcTime)&&(this.#e=ea.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ua?1/0:300*1e3))}clearGcTimeout(){this.#e&&(ea.clearTimeout(this.#e),this.#e=void 0)}},tB=class extends sj{#e;#t;#n;#r;#s;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=xw(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=xw(this.options);t.data!==void 0&&(this.setState(yw(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const s=Nm(this.state.data,e,this.options);return this.#i({data:s,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),s}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#s?.promise;return this.#s?.cancel(e),t?t.then(Vn).catch(Vn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Rs(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===sy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>gi(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!XC(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#o=!0,s.signal)})},l=()=>{const f=JC(this.options,t),g=(()=>{const y={client:this.#r,queryKey:this.queryKey,meta:this.meta};return i(y),y})();return this.#o=!1,this.options.persister?this.options.persister(f,g,this):f(g)},d=(()=>{const f={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:l};return i(f),f})();this.options.behavior?.onFetch(d,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#i({type:"fetch",meta:d.fetchOptions?.meta}),this.#s=nj({initialPromise:t?.initialPromise,fn:d.fetchFn,onCancel:f=>{f instanceof Hm&&f.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(f,p)=>{this.#i({type:"failed",failureCount:f,error:p})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0});try{const f=await this.#s.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#n.config.onSuccess?.(f,this),this.#n.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof Hm){if(f.silent)return this.#s.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#i({type:"error",error:f}),this.#n.config.onError?.(f,this),this.#n.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#i(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...rj(s.data,this.options),fetchMeta:e.meta??null};case"success":const i={...s,...yw(e.data,e.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const l=e.error;return{...s,error:l,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),vn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function rj(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:tj(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function yw(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function xw(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,i=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var nB=class extends $o{constructor(e,t){super(),this.options=t,this.#e=e,this.#i=null,this.#o=Fm(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#r=void 0;#s;#a;#o;#i;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),bw(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return _m(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return _m(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#S(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Rs(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),t._defaulted&&!Bd(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&vw(this.#t,s,this.options,t)&&this.#d(),this.updateResult(),i&&(this.#t!==s||Rs(this.options.enabled,this.#t)!==Rs(t.enabled,this.#t)||gi(this.options.staleTime,this.#t)!==gi(t.staleTime,this.#t))&&this.#g();const l=this.#y();i&&(this.#t!==s||Rs(this.options.enabled,this.#t)!==Rs(t.enabled,this.#t)||l!==this.#l)&&this.#x(l)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),s=this.createResult(t,e);return rB(this,s)&&(this.#r=s,this.#a=this.options,this.#s=this.#t.state),s}getCurrentResult(){return this.#r}trackResult(e,t){return new Proxy(e,{get:(s,i)=>(this.trackProp(i),t?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,i))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(e){this.#w();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Vn)),t}#g(){this.#v();const e=gi(this.options.staleTime,this.#t);if(ua||this.#r.isStale||!Bm(e))return;const s=XC(this.#r.dataUpdatedAt,e)+1;this.#c=ea.setTimeout(()=>{this.#r.isStale||this.updateResult()},s)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#x(e){this.#S(),this.#l=e,!(ua||Rs(this.options.enabled,this.#t)===!1||!Bm(this.#l)||this.#l===0)&&(this.#u=ea.setInterval(()=>{(this.options.refetchIntervalInBackground||ry.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#x(this.#y())}#v(){this.#c&&(ea.clearTimeout(this.#c),this.#c=void 0)}#S(){this.#u&&(ea.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const s=this.#t,i=this.options,l=this.#r,u=this.#s,d=this.#a,p=e!==s?e.state:this.#n,{state:g}=e;let y={...g},v=!1,b;if(t._optimisticResults){const F=this.hasListeners(),H=!F&&bw(e,t),L=F&&vw(e,s,t,i);(H||L)&&(y={...y,...rj(g.data,e.options)}),t._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:S,errorUpdatedAt:T,status:D}=y;b=y.data;let j=!1;if(t.placeholderData!==void 0&&b===void 0&&D==="pending"){let F;l?.isPlaceholderData&&t.placeholderData===d?.placeholderData?(F=l.data,j=!0):F=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,F!==void 0&&(D="success",b=Nm(l?.data,F,t),v=!0)}if(t.select&&b!==void 0&&!j)if(l&&b===u?.data&&t.select===this.#m)b=this.#f;else try{this.#m=t.select,b=t.select(b),b=Nm(l?.data,b,t),this.#f=b,this.#i=null}catch(F){this.#i=F}this.#i&&(S=this.#i,b=this.#f,T=Date.now(),D="error");const C=y.fetchStatus==="fetching",E=D==="pending",k=D==="error",A=E&&C,N=b!==void 0,P={status:D,fetchStatus:y.fetchStatus,isPending:E,isSuccess:D==="success",isError:k,isInitialLoading:A,isLoading:A,data:b,dataUpdatedAt:y.dataUpdatedAt,error:S,errorUpdatedAt:T,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>p.dataUpdateCount||y.errorUpdateCount>p.errorUpdateCount,isFetching:C,isRefetching:C&&!E,isLoadingError:k&&!N,isPaused:y.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:k&&N,isStale:iy(e,t),refetch:this.refetch,promise:this.#o,isEnabled:Rs(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const F=W=>{P.status==="error"?W.reject(P.error):P.data!==void 0&&W.resolve(P.data)},H=()=>{const W=this.#o=P.promise=Fm();F(W)},L=this.#o;switch(L.status){case"pending":e.queryHash===s.queryHash&&F(L);break;case"fulfilled":(P.status==="error"||P.data!==L.value)&&H();break;case"rejected":(P.status!=="error"||P.error!==L.reason)&&H();break}}return P}updateResult(){const e=this.#r,t=this.createResult(this.#t,this.options);if(this.#s=this.#t.state,this.#a=this.options,this.#s.data!==void 0&&(this.#h=this.#t),Bd(t,e))return;this.#r=t;const s=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,l=typeof i=="function"?i():i;if(l==="all"||!l&&!this.#p.size)return!0;const u=new Set(l??this.#p);return this.options.throwOnError&&u.add("error"),Object.keys(this.#r).some(d=>{const f=d;return this.#r[f]!==e[f]&&u.has(f)})};this.#T({listeners:s()})}#w(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#T(e){vn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function sB(e,t){return Rs(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function bw(e,t){return sB(e,t)||e.state.data!==void 0&&_m(e,t,t.refetchOnMount)}function _m(e,t,s){if(Rs(t.enabled,e)!==!1&&gi(t.staleTime,e)!=="static"){const i=typeof s=="function"?s(e):s;return i==="always"||i!==!1&&iy(e,t)}return!1}function vw(e,t,s,i){return(e!==t||Rs(i.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&iy(e,s)}function iy(e,t){return Rs(t.enabled,e)!==!1&&e.isStaleByTime(gi(t.staleTime,e))}function rB(e,t){return!Bd(e.getCurrentResult(),t)}function Sw(e){return{onFetch:(t,s)=>{const i=t.options,l=t.fetchOptions?.meta?.fetchMore?.direction,u=t.state.data?.pages||[],d=t.state.data?.pageParams||[];let f={pages:[],pageParams:[]},p=0;const g=async()=>{let y=!1;const v=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},b=JC(t.options,t.fetchOptions),S=async(T,D,j)=>{if(y)return Promise.reject();if(D==null&&T.pages.length)return Promise.resolve(T);const E=(()=>{const z={client:t.client,queryKey:t.queryKey,pageParam:D,direction:j?"backward":"forward",meta:t.options.meta};return v(z),z})(),k=await b(E),{maxPages:A}=t.options,N=j?Q3:$3;return{pages:N(T.pages,k,A),pageParams:N(T.pageParams,D,A)}};if(l&&u.length){const T=l==="backward",D=T?iB:ww,j={pages:u,pageParams:d},C=D(i,j);f=await S(j,C,T)}else{const T=e??u.length;do{const D=p===0?d[0]??i.initialPageParam:ww(i,f);if(p>0&&D==null)break;f=await S(f,D),p++}while(p<T)}return f};t.options.persister?t.fetchFn=()=>t.options.persister?.(g,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s):t.fetchFn=g}}}function ww(e,{pages:t,pageParams:s}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,s[i],s):void 0}function iB(e,{pages:t,pageParams:s}){return t.length>0?e.getPreviousPageParam?.(t[0],t,s[0],s):void 0}var aB=class extends sj{#e;#t;#n;#r;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||ij(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#s({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=nj({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(u,d)=>{this.#s({type:"failed",failureCount:u,error:d})},onPause:()=>{this.#s({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",l=!this.#r.canStart();try{if(i)t();else{this.#s({type:"pending",variables:e,isPaused:l}),await this.#n.config.onMutate?.(e,this,s);const d=await this.options.onMutate?.(e,s);d!==this.state.context&&this.#s({type:"pending",context:d,variables:e,isPaused:l})}const u=await this.#r.start();return await this.#n.config.onSuccess?.(u,e,this.state.context,this,s),await this.options.onSuccess?.(u,e,this.state.context,s),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(u,null,e,this.state.context,s),this.#s({type:"success",data:u}),u}catch(u){try{throw await this.#n.config.onError?.(u,e,this.state.context,this,s),await this.options.onError?.(u,e,this.state.context,s),await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(void 0,u,e,this.state.context,s),u}finally{this.#s({type:"error",error:u})}}finally{this.#n.runNext(this)}}#s(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),vn.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function ij(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var oB=class extends $o{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,s){const i=new aB({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:s});return this.add(i),i}add(e){this.#e.add(e);const t=dd(e);if(typeof t=="string"){const s=this.#t.get(t);s?s.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=dd(e);if(typeof t=="string"){const s=this.#t.get(t);if(s)if(s.length>1){const i=s.indexOf(e);i!==-1&&s.splice(i,1)}else s[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=dd(e);if(typeof t=="string"){const i=this.#t.get(t)?.find(l=>l.state.status==="pending");return!i||i===e}else return!0}runNext(e){const t=dd(e);return typeof t=="string"?this.#t.get(t)?.find(i=>i!==e&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){vn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(s=>pw(t,s))}findAll(e={}){return this.getAll().filter(t=>pw(e,t))}notify(e){vn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return vn.batch(()=>Promise.all(e.map(t=>t.continue().catch(Vn))))}};function dd(e){return e.options.scope?.id}var lB=class extends $o{#e;#t=void 0;#n;#r;constructor(t,s){super(),this.#e=t,this.setOptions(s),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const s=this.options;this.options=this.#e.defaultMutationOptions(t),Bd(this.options,s)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),s?.mutationKey&&this.options.mutationKey&&da(s.mutationKey)!==da(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#s(),this.#a(t)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#s(),this.#a()}mutate(t,s){return this.#r=s,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(t)}#s(){const t=this.#n?.state??ij();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#a(t){vn.batch(()=>{if(this.#r&&this.hasListeners()){const s=this.#t.variables,i=this.#t.context,l={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#r.onSuccess?.(t.data,s,i,l),this.#r.onSettled?.(t.data,null,s,i,l)):t?.type==="error"&&(this.#r.onError?.(t.error,s,i,l),this.#r.onSettled?.(void 0,t.error,s,i,l))}this.listeners.forEach(s=>{s(this.#t)})})}},cB=class extends $o{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,s){const i=t.queryKey,l=t.queryHash??ny(i,t);let u=this.get(l);return u||(u=new tB({client:e,queryKey:i,queryHash:l,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(i)}),this.add(u)),u}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){vn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>hw(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>hw(e,s)):t}notify(e){vn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){vn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){vn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},uB=class{#e;#t;#n;#r;#s;#a;#o;#i;constructor(e={}){this.#e=e.queryCache||new cB,this.#t=e.mutationCache||new oB,this.#n=e.defaultOptions||{},this.#r=new Map,this.#s=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=ry.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Ld.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=this.#e.build(this,t),i=s.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(gi(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:s})=>{const i=s.data;return[t,i]})}setQueryData(e,t,s){const i=this.defaultQueryOptions({queryKey:e}),u=this.#e.get(i.queryHash)?.state.data,d=U3(t,u);if(d!==void 0)return this.#e.build(this,i).setData(d,{...s,manual:!0})}setQueriesData(e,t,s){return vn.batch(()=>this.#e.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,s)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;vn.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=this.#e;return vn.batch(()=>(s.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},i=vn.batch(()=>this.#e.findAll(e).map(l=>l.cancel(s)));return Promise.all(i).then(Vn).catch(Vn)}invalidateQueries(e,t={}){return vn.batch(()=>(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},i=vn.batch(()=>this.#e.findAll(e).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let u=l.fetch(void 0,s);return s.throwOnError||(u=u.catch(Vn)),l.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(i).then(Vn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=this.#e.build(this,t);return s.isStaleByTime(gi(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Vn).catch(Vn)}fetchInfiniteQuery(e){return e.behavior=Sw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Vn).catch(Vn)}ensureInfiniteQueryData(e){return e.behavior=Sw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ld.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#r.set(da(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#r.values()],s={};return t.forEach(i=>{Sc(e,i.queryKey)&&Object.assign(s,i.defaultOptions)}),s}setMutationDefaults(e,t){this.#s.set(da(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#s.values()],s={};return t.forEach(i=>{Sc(e,i.mutationKey)&&Object.assign(s,i.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ny(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===sy&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},aj=x.createContext(void 0),ay=e=>{const t=x.useContext(aj);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},dB=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(aj.Provider,{value:e,children:t})),oj=x.createContext(!1),fB=()=>x.useContext(oj);oj.Provider;function hB(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var pB=x.createContext(hB()),mB=()=>x.useContext(pB),gB=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},yB=e=>{x.useEffect(()=>{e.clearReset()},[e])},xB=({result:e,errorResetBoundary:t,throwOnError:s,query:i,suspense:l})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&(l&&e.data===void 0||ej(s,[e.error,i])),bB=e=>{if(e.suspense){const s=l=>l==="static"?l:Math.max(l??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...l)=>s(i(...l)):s(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},vB=(e,t)=>e.isLoading&&e.isFetching&&!t,SB=(e,t)=>e?.suspense&&t.isPending,Tw=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function wB(e,t,s){const i=fB(),l=mB(),u=ay(),d=u.defaultQueryOptions(e);u.getDefaultOptions().queries?._experimental_beforeQuery?.(d),d._optimisticResults=i?"isRestoring":"optimistic",bB(d),gB(d,l),yB(l);const f=!u.getQueryCache().get(d.queryHash),[p]=x.useState(()=>new t(u,d)),g=p.getOptimisticResult(d),y=!i&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(v=>{const b=y?p.subscribe(vn.batchCalls(v)):Vn;return p.updateResult(),b},[p,y]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),x.useEffect(()=>{p.setOptions(d)},[d,p]),SB(d,g))throw Tw(d,p,l);if(xB({result:g,errorResetBoundary:l,throwOnError:d.throwOnError,query:u.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw g.error;return u.getDefaultOptions().queries?._experimental_afterQuery?.(d,g),d.experimental_prefetchInRender&&!ua&&vB(g,i)&&(f?Tw(d,p,l):u.getQueryCache().get(d.queryHash)?.promise)?.catch(Vn).finally(()=>{p.updateResult()}),d.notifyOnChangeProps?g:p.trackResult(g)}function rf(e,t){return wB(e,nB)}function TB(e,t){const s=ay(),[i]=x.useState(()=>new lB(s,e));x.useEffect(()=>{i.setOptions(e)},[i,e]);const l=x.useSyncExternalStore(x.useCallback(d=>i.subscribe(vn.batchCalls(d)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),u=x.useCallback((d,f)=>{i.mutate(d,f).catch(Vn)},[i]);if(l.error&&ej(i.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:u,mutateAsync:l.mutate}}const Fc=({value:e,onChange:t,availableExercises:s,label:i="Exercise",placeholder:l="Type to search and swap exercise...",size:u="small",fullWidth:d=!0,disabled:f=!1,sx:p={}})=>{const g=y=>{if(!y)return s;const v=y.toLowerCase().split(" ").filter(b=>b.length>0);return s.filter(b=>{const S=[b["Exercise Name"],b["Primary Muscle"],b["Secondary Muscles"],b.Equipment,b["Movement Pattern"],b.Difficulty,b["Workout Type"]].join(" ").toLowerCase();return v.every(T=>S.includes(T))})};return a.jsx(ZM,{fullWidth:d,size:u,options:s,value:e,onChange:t,disabled:f,getOptionLabel:y=>y["Exercise Name"]||y.name||"",filterOptions:(y,v)=>g(v.inputValue),isOptionEqualToValue:(y,v)=>(y["Exercise Name"]||y.name)===(v["Exercise Name"]||v.name),renderInput:y=>a.jsx(et,{...y,label:i,placeholder:l}),renderOption:(y,v)=>{const{key:b,...S}=y;return a.jsx("li",{...S,children:a.jsxs(q,{children:[a.jsx(I,{variant:"body2",children:v["Exercise Name"]}),a.jsxs(I,{variant:"caption",color:"text.secondary",children:[v["Primary Muscle"],"  ",v.Equipment]})]})},b)},noOptionsText:"No exercises found. Try different search terms.",sx:p})};Fc.propTypes={value:Y.object,onChange:Y.func.isRequired,availableExercises:Y.array.isRequired,label:Y.string,placeholder:Y.string,size:Y.string,fullWidth:Y.bool,disabled:Y.bool,sx:Y.object};const lj=({open:e,onClose:t,onSave:s,initialSession:i=null,allExercises:l=[],sessionDate:u=null})=>{const[d,f]=x.useState("full"),[p,g]=x.useState([]),[y,v]=x.useState(null),[b,S]=x.useState([]);x.useEffect(()=>{i?(f(i.type||"full"),g(i.exercises||[])):(f("full"),g([]))},[i,e]),x.useEffect(()=>{if(!l||l.length===0)return;let k=l;d==="upper"?k=l.filter(A=>A["Workout Type"]&&(A["Workout Type"].includes("Upper Body")||A["Workout Type"].includes("Full Body")||A["Workout Type"].includes("Push/Pull/Legs"))):d==="lower"?k=l.filter(A=>A["Workout Type"]&&(A["Workout Type"].includes("Lower Body")||A["Workout Type"].includes("Full Body")||A["Workout Type"].includes("Push/Pull/Legs"))):d==="full"?k=l.filter(A=>A["Workout Type"]&&A["Workout Type"].includes("Full Body")):["push","pull","legs"].includes(d)&&(k=l.filter(A=>A["Workout Type"]&&A["Workout Type"].includes("Push/Pull/Legs"))),S(k)},[l,d]);const T=()=>{if(!y)return;const k={...y,name:y["Exercise Name"]||y.name,sets:3,reps:"10",weight:"",restSeconds:90,supersetGroup:null};g([...p,k]),v(null)},D=k=>{g(p.filter((A,N)=>N!==k))},j=(k,A,N)=>{g(p.map((z,P)=>P===k?{...z,[A]:N}:z))},C=()=>{if(p.length===0){alert("Please add at least one exercise to the session");return}const k={id:i?.id||`session_${Date.now()}`,date:u||i?.date||Date.now(),type:d,exercises:p,status:i?.status||"planned",notes:i?.notes||"",completedAt:null,sessionData:null};s(k),E()},E=()=>{g([]),v(null),t()};return a.jsxs(ns,{open:e,onClose:E,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{minHeight:"70vh"}},children:[a.jsx(ys,{children:a.jsxs(q,{sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsx(yn,{color:"primary"}),a.jsx(I,{variant:"h6",children:i?"Edit Session":"Build New Session"})]})}),a.jsx(ss,{children:a.jsxs(q,{sx:{display:"flex",flexDirection:"column",gap:2,pt:1},children:[a.jsxs(bt,{fullWidth:!0,children:[a.jsx(vt,{children:"Session Type"}),a.jsxs(St,{value:d,label:"Session Type",onChange:k=>f(k.target.value),children:[a.jsx(be,{value:"full",children:"Full Body"}),a.jsx(be,{value:"upper",children:"Upper Body"}),a.jsx(be,{value:"lower",children:"Lower Body"}),a.jsx(be,{value:"push",children:"Push"}),a.jsx(be,{value:"pull",children:"Pull"}),a.jsx(be,{value:"legs",children:"Legs"})]})]}),a.jsx(yi,{}),a.jsxs(q,{children:[a.jsx(I,{variant:"subtitle2",gutterBottom:!0,sx:{fontWeight:600},children:"Add Exercise"}),a.jsxs(q,{sx:{display:"flex",gap:1,alignItems:"flex-start"},children:[a.jsx(Fc,{value:y,onChange:(k,A)=>v(A),availableExercises:b,label:"Search exercises",placeholder:"Type to search by name, muscle, or equipment...",sx:{flex:1}}),a.jsx(xe,{variant:"contained",color:"primary",onClick:T,disabled:!y,startIcon:a.jsx(Dr,{}),sx:{mt:.5},children:"Add"})]})]}),a.jsxs(q,{children:[a.jsxs(q,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[a.jsxs(I,{variant:"subtitle2",sx:{fontWeight:600},children:["Exercises (",p.length,")"]}),p.length>0&&a.jsx(Je,{label:`${p.length} exercise${p.length!==1?"s":""}`,size:"small",color:"primary"})]}),p.length===0?a.jsx(Nn,{sx:{p:3,textAlign:"center",bgcolor:"background.default"},children:a.jsx(I,{variant:"body2",color:"text.secondary",children:"No exercises added yet. Use the search bar above to add exercises."})}):a.jsx(Er,{sx:{maxHeight:"400px",overflowY:"auto",p:0},children:p.map((k,A)=>a.jsx(Nn,{sx:{mb:1.5,border:"1px solid",borderColor:"divider"},children:a.jsxs(Ws,{sx:{flexDirection:"column",alignItems:"stretch",p:2},children:[a.jsxs(q,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1.5},children:[a.jsxs(q,{sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsx(Wd,{sx:{color:"text.disabled",cursor:"grab"}}),a.jsxs(q,{children:[a.jsxs(I,{variant:"subtitle2",sx:{fontWeight:600},children:[A+1,". ",k.name||k["Exercise Name"]]}),a.jsxs(I,{variant:"caption",color:"text.secondary",children:[k["Primary Muscle"],"  ",k.Equipment]})]})]}),a.jsx(ut,{size:"small",color:"error",onClick:()=>D(A),children:a.jsx(Fo,{})})]}),a.jsxs(q,{sx:{display:"flex",gap:1.5,flexWrap:"wrap"},children:[a.jsx(et,{size:"small",label:"Sets",type:"number",value:k.sets||3,onChange:N=>j(A,"sets",parseInt(N.target.value)||3),sx:{width:"80px"},inputProps:{min:1,max:10}}),a.jsx(et,{size:"small",label:"Reps",value:k.reps||"10",onChange:N=>j(A,"reps",N.target.value),sx:{width:"100px"},placeholder:"e.g., 10 or 8-12"}),a.jsx(et,{size:"small",label:"Rest (sec)",type:"number",value:k.restSeconds||90,onChange:N=>j(A,"restSeconds",parseInt(N.target.value)||90),sx:{width:"100px"},inputProps:{min:0,max:300}})]})]})},A))})]})]})}),a.jsxs(rs,{sx:{px:3,pb:2},children:[a.jsx(xe,{onClick:E,children:"Cancel"}),a.jsx(xe,{variant:"contained",color:"primary",onClick:C,disabled:p.length===0,children:"Save Session"})]})]})};lj.propTypes={open:Y.bool.isRequired,onClose:Y.func.isRequired,onSave:Y.func.isRequired,initialSession:Y.object,allExercises:Y.array,sessionDate:Y.number};const cj=({open:e,onClose:t,onSave:s})=>{const[i,l]=x.useState(0),[u,d]=x.useState(""),[f,p]=x.useState("general_fitness"),[g,y]=x.useState("intermediate"),[v,b]=x.useState([]),[S,T]=x.useState(!1),[D,j]=x.useState(null),[C,E]=x.useState(null),{data:k=[]}=rf({queryKey:["exercises"],queryFn:async()=>{const V=await fetch("/goodlift/data/exercises.json");if(!V.ok)throw new Error("Failed to load exercises");return V.json()},staleTime:1/0});x.useEffect(()=>{e&&(l(0),d(""),p("general_fitness"),y("intermediate"),b([]))},[e]);const A=["Plan Details","Add Sessions","Review & Save"],N=()=>{if(i===0&&!u.trim()){alert("Please enter a plan name");return}l(V=>V+1)},z=()=>{l(V=>V-1)},P=()=>{j(null),E(null),T(!0)},F=(V,_)=>{j(V),E(_),T(!0)},H=V=>{window.confirm("Are you sure you want to delete this session?")&&b(v.filter((_,B)=>B!==V))},L=V=>{b(C!==null?v.map((_,B)=>B===C?V:_):[...v,V]),T(!1),j(null),E(null)},W=()=>{if(v.length===0){alert("Please add at least one session to the plan");return}const V=[...v].sort((ue,de)=>ue.date-de.date),_=V[0].date,B=V[V.length-1].date,O=Math.ceil((B-_)/(1440*60*1e3))+1,Q=[...new Set(v.map(ue=>ue.type))],ee=Math.round(v.length/(O/7))||3,ye={id:`plan_${Date.now()}`,name:u,startDate:_,endDate:B,duration:O,goal:f,experienceLevel:g,daysPerWeek:Math.min(ee,7),splitType:"custom",sessionTypes:Q,equipmentAvailable:["all"],sessions:V,deloadWeeks:[],periodization:{type:"custom",deloadFrequency:null,volumeProgression:"manual"},created:Date.now(),modified:Date.now(),active:!1};s(ye),M()},M=()=>{l(0),d(""),p("general_fitness"),y("intermediate"),b([]),T(!1),j(null),E(null),t()},U=V=>({full:"Full Body",upper:"Upper Body",lower:"Lower Body",push:"Push",pull:"Pull",legs:"Legs"})[V]||V;return a.jsxs(a.Fragment,{children:[a.jsxs(ns,{open:e,onClose:M,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{minHeight:"70vh"}},children:[a.jsx(ys,{children:a.jsxs(q,{sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsx(Po,{color:"primary"}),a.jsx(I,{variant:"h6",children:"Build Custom Workout Plan"})]})}),a.jsx(ss,{children:a.jsxs(q,{sx:{pt:2},children:[a.jsx(JM,{activeStep:i,sx:{mb:4},children:A.map(V=>a.jsx(ek,{children:a.jsx(tk,{children:V})},V))}),i===0&&a.jsxs(q,{sx:{display:"flex",flexDirection:"column",gap:3},children:[a.jsx(Ot,{severity:"info",children:"Create a custom workout plan by building it session-by-session. Start by entering your plan details."}),a.jsx(et,{fullWidth:!0,label:"Plan Name",value:u,onChange:V=>d(V.target.value),placeholder:"e.g., My Custom 4-Week Plan",required:!0}),a.jsxs(bt,{fullWidth:!0,children:[a.jsx(vt,{children:"Goal"}),a.jsxs(St,{value:f,label:"Goal",onChange:V=>p(V.target.value),children:[a.jsx(be,{value:"strength",children:"Strength"}),a.jsx(be,{value:"hypertrophy",children:"Muscle Gain"}),a.jsx(be,{value:"fat_loss",children:"Fat Loss"}),a.jsx(be,{value:"general_fitness",children:"General Fitness"})]})]}),a.jsxs(bt,{fullWidth:!0,children:[a.jsx(vt,{children:"Experience Level"}),a.jsxs(St,{value:g,label:"Experience Level",onChange:V=>y(V.target.value),children:[a.jsx(be,{value:"beginner",children:"Beginner"}),a.jsx(be,{value:"intermediate",children:"Intermediate"}),a.jsx(be,{value:"advanced",children:"Advanced"})]})]})]}),i===1&&a.jsxs(q,{sx:{display:"flex",flexDirection:"column",gap:2},children:[a.jsx(Ot,{severity:"info",children:"Add workout sessions to your plan. Each session can be customized with specific exercises."}),a.jsxs(q,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs(I,{variant:"h6",children:["Sessions (",v.length,")"]}),a.jsx(xe,{variant:"contained",color:"primary",startIcon:a.jsx(Dr,{}),onClick:P,children:"Add Session"})]}),v.length===0?a.jsxs(Nn,{sx:{p:4,textAlign:"center",bgcolor:"background.default"},children:[a.jsx(yn,{sx:{fontSize:48,color:"text.disabled",mb:2}}),a.jsx(I,{variant:"body1",color:"text.secondary",gutterBottom:!0,children:"No sessions added yet"}),a.jsx(I,{variant:"body2",color:"text.secondary",sx:{mb:2},children:'Click "Add Session" to start building your workout plan'})]}):a.jsx(Er,{sx:{maxHeight:"400px",overflowY:"auto"},children:v.map((V,_)=>a.jsx(Nn,{sx:{mb:1.5,border:"1px solid",borderColor:"divider"},children:a.jsx(Ws,{secondaryAction:a.jsxs(q,{sx:{display:"flex",gap:.5},children:[a.jsx(ut,{size:"small",onClick:()=>F(V,_),children:a.jsx(rg,{})}),a.jsx(ut,{size:"small",color:"error",onClick:()=>H(_),children:a.jsx(Fo,{})})]}),children:a.jsx(hi,{primary:a.jsxs(q,{sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsxs(I,{variant:"subtitle2",sx:{fontWeight:600},children:["Session ",_+1]}),a.jsx(Je,{label:U(V.type),size:"small",color:"primary"})]}),secondary:a.jsxs(I,{variant:"body2",color:"text.secondary",children:[V.exercises?.length||0," exercise",V.exercises?.length!==1?"s":"",V.exercises?.length>0&&`  ${V.exercises.slice(0,2).map(B=>B.name||B["Exercise Name"]).join(", ")}${V.exercises.length>2?"...":""}`]})})})},_))})]}),i===2&&a.jsxs(q,{sx:{display:"flex",flexDirection:"column",gap:3},children:[a.jsx(Ot,{severity:"success",children:"Review your custom workout plan before saving."}),a.jsxs(Nn,{sx:{p:2,bgcolor:"background.default"},children:[a.jsx(I,{variant:"h6",gutterBottom:!0,children:"Plan Summary"}),a.jsx(yi,{sx:{my:1.5}}),a.jsxs(q,{sx:{display:"flex",flexDirection:"column",gap:1},children:[a.jsxs(q,{sx:{display:"flex",justifyContent:"space-between"},children:[a.jsx(I,{variant:"body2",color:"text.secondary",children:"Plan Name:"}),a.jsx(I,{variant:"body2",sx:{fontWeight:600},children:u})]}),a.jsxs(q,{sx:{display:"flex",justifyContent:"space-between"},children:[a.jsx(I,{variant:"body2",color:"text.secondary",children:"Goal:"}),a.jsx(I,{variant:"body2",sx:{fontWeight:600},children:f==="general_fitness"?"General Fitness":f==="hypertrophy"?"Muscle Gain":f==="fat_loss"?"Fat Loss":"Strength"})]}),a.jsxs(q,{sx:{display:"flex",justifyContent:"space-between"},children:[a.jsx(I,{variant:"body2",color:"text.secondary",children:"Experience Level:"}),a.jsx(I,{variant:"body2",sx:{fontWeight:600},children:g.charAt(0).toUpperCase()+g.slice(1)})]}),a.jsxs(q,{sx:{display:"flex",justifyContent:"space-between"},children:[a.jsx(I,{variant:"body2",color:"text.secondary",children:"Total Sessions:"}),a.jsx(I,{variant:"body2",sx:{fontWeight:600},children:v.length})]}),a.jsxs(q,{sx:{display:"flex",justifyContent:"space-between"},children:[a.jsx(I,{variant:"body2",color:"text.secondary",children:"Total Exercises:"}),a.jsx(I,{variant:"body2",sx:{fontWeight:600},children:v.reduce((V,_)=>V+(_.exercises?.length||0),0)})]})]})]}),a.jsxs(q,{children:[a.jsx(I,{variant:"subtitle2",gutterBottom:!0,sx:{fontWeight:600},children:"Session Details"}),a.jsx(Er,{sx:{maxHeight:"300px",overflowY:"auto"},children:v.map((V,_)=>a.jsxs(Nn,{sx:{mb:1,p:1.5,border:"1px solid",borderColor:"divider"},children:[a.jsxs(q,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[a.jsxs(I,{variant:"subtitle2",sx:{fontWeight:600},children:["Session ",_+1]}),a.jsx(Je,{label:U(V.type),size:"small"})]}),a.jsxs(I,{variant:"caption",color:"text.secondary",children:[V.exercises?.length||0," exercises"]})]},_))})]})]})]})}),a.jsxs(rs,{sx:{px:3,pb:2},children:[a.jsx(xe,{onClick:M,children:"Cancel"}),a.jsx(q,{sx:{flex:1}}),i>0&&a.jsx(xe,{onClick:z,children:"Back"}),i<A.length-1?a.jsx(xe,{variant:"contained",onClick:N,disabled:i===0&&!u.trim(),children:"Next"}):a.jsx(xe,{variant:"contained",color:"primary",onClick:W,disabled:v.length===0,children:"Save Plan"})]})]}),a.jsx(lj,{open:S,onClose:()=>{T(!1),j(null),E(null)},onSave:L,initialSession:D,allExercises:k,sessionDate:D?.date||(v.length>0?v[v.length-1].date+1440*60*1e3:Date.now())})]})};cj.propTypes={open:Y.bool.isRequired,onClose:Y.func.isRequired,onSave:Y.func.isRequired};const uj=({onNavigate:e})=>{const[t,s]=x.useState([]),[i,l]=x.useState(null),[u,d]=x.useState(!1),[f,p]=x.useState(!1),[g,y]=x.useState(null),[v,b]=x.useState(!1),[S,T]=x.useState(null),[D,j]=x.useState({name:"",goal:"general_fitness",experienceLevel:"intermediate",daysPerWeek:3,duration:30,sessionTypes:["full","upper","lower","hiit","cardio","yoga"]});x.useEffect(()=>{C()},[]);const C=async()=>{console.log("loadPlans called");const O=await ca();console.log("Loaded plans:",O.length,"plans"),console.log("Plan details:",O.map(ee=>({id:ee.id,name:ee.name,sessions:ee.sessions?.length}))),s(O);const Q=await Lc();console.log("Active plan:",Q?{id:Q.id,name:Q.name}:"none"),l(Q)},E=()=>{y(null),d(!0)},k=()=>{y(null),p(!0)},A=O=>{y(O.currentTarget)},N=()=>{y(null)},z=()=>{d(!1),j({name:"",goal:"general_fitness",experienceLevel:"intermediate",daysPerWeek:3,duration:30,sessionTypes:["full","upper","lower","hiit","cardio","yoga"]})},P=(O,Q)=>{j(ee=>({...ee,[O]:Q}))},F=O=>{j(Q=>{const ee=Q.sessionTypes;return ee.includes(O)?{...Q,sessionTypes:ee.filter(ye=>ye!==O)}:{...Q,sessionTypes:[...ee,O]}})},H=async()=>{try{b(!0),console.log("Starting plan generation with form:",D);const O=await QC({...D,planName:D.name||"My Workout Plan",startDate:new Date,equipmentAvailable:["all"]});console.log("Plan generated successfully:",{id:O.id,name:O.name,sessionCount:O.sessions.length,firstSessionHasExercises:O.sessions[0]?.exercises?.length>0,sampleSession:O.sessions[0]}),await Rm(O),console.log("Plan saved to storage"),O.name==="This Week"&&(await mi(O.id),console.log('Auto-activated "This Week" plan:',O.id)),await C(),console.log("Plans reloaded"),z()}catch(O){console.error("Error generating plan:",O),console.error("Error stack:",O.stack),alert(`Failed to generate plan: ${O.message}`)}finally{b(!1)}},L=async O=>{try{await Rm(O),await C(),p(!1)}catch(Q){console.error("Error saving built plan:",Q),alert(`Failed to save plan: ${Q.message}`)}},W=async O=>{try{await mi(O),await C()}catch(Q){console.error("Error setting active plan:",Q)}},M=async O=>{if(window.confirm("Are you sure you want to delete this plan?"))try{await VC(O),await C()}catch(Q){console.error("Error deleting plan:",Q)}},U=O=>{mi(O.id),e&&e("progress")},V=O=>{T(S===O?null:O)},_=O=>({strength:"Strength",hypertrophy:"Muscle Gain",fat_loss:"Fat Loss",general_fitness:"General Fitness"})[O]||O,B=O=>({beginner:"Beginner",intermediate:"Intermediate",advanced:"Advanced"})[O]||O;return a.jsxs(q,{sx:{width:"100%",minHeight:"100vh"},children:[a.jsx(ps,{title:"Workout Plans",icon:"",action:a.jsx(xe,{variant:"contained",color:"primary",size:"small",startIcon:a.jsx(Dr,{}),onClick:A,children:"Create Plan"})}),a.jsxs(nk,{anchorEl:g,open:!!g,onClose:N,children:[a.jsxs(be,{onClick:k,children:[a.jsx(R1,{sx:{mr:1}}),"Build Custom Plan"]}),a.jsxs(be,{onClick:E,children:[a.jsx(sk,{sx:{mr:1}}),"Auto-Generate Plan"]})]}),a.jsxs(rk,{maxWidth:"lg",sx:{py:2,px:{xs:2,sm:3}},children:[i&&a.jsxs(Nn,{sx:{p:2,mb:2,bgcolor:"primary.light",color:"white",borderRadius:2},children:[a.jsxs(q,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:1},children:[a.jsxs(q,{sx:{flex:1,minWidth:0},children:[a.jsx(I,{variant:"subtitle2",sx:{opacity:.9,textTransform:"uppercase",fontSize:"0.75rem"},children:"Active Plan"}),a.jsx(I,{variant:"h6",sx:{fontWeight:600,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:i.name})]}),a.jsx(Ys,{sx:{ml:1}})]}),a.jsxs(q,{sx:{display:"flex",gap:.5,mb:1.5,flexWrap:"wrap"},children:[a.jsx(Je,{label:_(i.goal),size:"small",sx:{bgcolor:"white",height:20,fontSize:"0.7rem"}}),a.jsx(Je,{label:`${i.daysPerWeek}x/week`,size:"small",sx:{bgcolor:"white",height:20,fontSize:"0.7rem"}}),a.jsx(Je,{label:B(i.experienceLevel),size:"small",sx:{bgcolor:"white",height:20,fontSize:"0.7rem"}})]}),a.jsxs(q,{sx:{mb:1},children:[a.jsx(I,{variant:"caption",sx:{opacity:.9},children:(()=>{const O=Cd(i);return`${O.completedSessions}/${O.totalSessions} sessions  ${Math.round(O.completionRate)}% complete`})()}),a.jsx(Mr,{variant:"determinate",value:Cd(i).completionRate,sx:{mt:.5,height:4,borderRadius:2,bgcolor:"rgba(255,255,255,0.3)","& .MuiLinearProgress-bar":{bgcolor:"white"}}})]}),a.jsx(xe,{variant:"contained",color:"secondary",size:"small",startIcon:a.jsx(Po,{}),onClick:()=>U(i),fullWidth:!0,children:"View Calendar"})]}),a.jsxs(Nn,{sx:{borderRadius:2,overflow:"hidden"},children:[a.jsx(q,{sx:{p:2,bgcolor:"background.default",borderBottom:"1px solid",borderColor:"divider"},children:a.jsxs(I,{variant:"h6",sx:{fontWeight:600},children:["All Plans (",t.length,")"]})}),t.length===0?a.jsxs(q,{sx:{p:4,textAlign:"center"},children:[a.jsx(I,{variant:"body1",color:"text.secondary",gutterBottom:!0,children:"No workout plans yet"}),a.jsx(I,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Create your first workout plan to get started"}),a.jsx(xe,{variant:"contained",color:"primary",startIcon:a.jsx(Dr,{}),onClick:E,children:"Create Plan"})]}):a.jsx(Er,{sx:{p:0},children:t.map((O,Q)=>{const ee=Cd(O),ye=i&&i.id===O.id,ue=S===O.id;return a.jsxs(q,{children:[a.jsx(Ws,{sx:{borderBottom:!ue&&Q<t.length-1?"1px solid":"none",borderColor:"divider",py:2,px:2,bgcolor:ye?"action.selected":"transparent",cursor:"pointer","&:hover":{bgcolor:ye?"action.selected":"action.hover"}},onClick:()=>V(O.id),secondaryAction:a.jsxs(q,{sx:{display:"flex",gap:.5,ml:1},children:[a.jsx(Jn,{title:"View Calendar",children:a.jsx(ut,{size:"medium",onClick:de=>{de.stopPropagation(),U(O)},children:a.jsx(Po,{})})}),!ye&&a.jsx(Jn,{title:"Set Active",children:a.jsx(ut,{size:"medium",onClick:de=>{de.stopPropagation(),W(O.id)},children:a.jsx(Fn,{})})}),a.jsx(Jn,{title:"Delete",children:a.jsx(ut,{size:"medium",onClick:de=>{de.stopPropagation(),M(O.id)},children:a.jsx(Fo,{})})}),a.jsx(ut,{size:"small",onClick:de=>de.stopPropagation(),children:ue?a.jsx(I1,{}):a.jsx(B1,{})})]}),children:a.jsx(hi,{sx:{pr:{xs:14,sm:12}},primary:a.jsx(q,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:a.jsx(I,{variant:"subtitle1",sx:{fontWeight:600},children:O.name})}),secondary:a.jsxs(q,{children:[a.jsxs(q,{sx:{display:"flex",gap:.5,mb:.5,flexWrap:"wrap",maxWidth:"100%"},children:[a.jsx(Je,{label:_(O.goal),size:"small",sx:{height:18,fontSize:"0.65rem"}}),a.jsx(Je,{label:`${O.daysPerWeek}x/week`,size:"small",sx:{height:18,fontSize:"0.65rem"}}),a.jsx(Je,{label:`${O.duration} days`,size:"small",sx:{height:18,fontSize:"0.65rem"}}),a.jsx(Je,{label:B(O.experienceLevel),size:"small",sx:{height:18,fontSize:"0.65rem"}})]}),a.jsxs(q,{sx:{display:"flex",alignItems:"center",gap:1,mt:1},children:[a.jsxs(I,{variant:"caption",color:"text.secondary",sx:{minWidth:"fit-content"},children:[ee.completedSessions,"/",ee.totalSessions,"  ",Math.round(ee.completionRate),"%"]}),a.jsx(Mr,{variant:"determinate",value:ee.completionRate,sx:{flex:1,height:4,borderRadius:2,maxWidth:150}})]})]})})}),a.jsx(ik,{in:ue,timeout:"auto",unmountOnExit:!0,children:a.jsxs(q,{sx:{px:2,pb:2,pt:1,bgcolor:"background.default",borderBottom:Q<t.length-1?"1px solid":"none",borderColor:"divider"},children:[a.jsx(I,{variant:"subtitle2",sx:{fontWeight:600,mb:1},children:"Workout Schedule"}),O.sessions&&O.sessions.length>0?a.jsx(q,{sx:{maxHeight:400,overflowY:"auto"},children:O.sessions.map((de,we)=>a.jsxs(q,{sx:{mb:1.5,p:1.5,bgcolor:"background.paper",borderRadius:1,border:"1px solid",borderColor:"divider"},children:[a.jsxs(q,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:.5},children:[a.jsx(I,{variant:"body2",sx:{fontWeight:600},children:new Date(de.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),a.jsx(Je,{label:de.type.toUpperCase(),size:"small",color:de.type==="rest"?"default":"primary",sx:{height:20,fontSize:"0.7rem"}})]}),de.exercises&&de.exercises.length>0&&a.jsxs(q,{sx:{mt:1},children:[a.jsxs(I,{variant:"caption",color:"text.secondary",sx:{fontWeight:600},children:["Exercises (",de.exercises.length,"):"]}),a.jsxs(q,{sx:{mt:.5},children:[de.exercises.slice(0,5).map((De,Me)=>a.jsxs(I,{variant:"caption",color:"text.secondary",sx:{display:"block",ml:1},children:[" ",De["Exercise Name"]||De.name||"Unknown Exercise"]},Me)),de.exercises.length>5&&a.jsxs(I,{variant:"caption",color:"text.secondary",sx:{display:"block",ml:1,fontStyle:"italic"},children:["... and ",de.exercises.length-5," more"]})]})]})]},de.id||we))}):a.jsx(I,{variant:"body2",color:"text.secondary",children:"No sessions available"})]})})]},O.id)})})]}),a.jsxs(ns,{open:u,onClose:z,maxWidth:"sm",fullWidth:!0,children:[a.jsx(ys,{children:"Create Workout Plan"}),a.jsx(ss,{children:a.jsxs(q,{sx:{pt:2,display:"flex",flexDirection:"column",gap:2},children:[a.jsx(et,{fullWidth:!0,label:"Plan Name",value:D.name,onChange:O=>P("name",O.target.value),placeholder:"e.g., Summer Strength Plan"}),a.jsxs(bt,{fullWidth:!0,children:[a.jsx(vt,{children:"Goal"}),a.jsxs(St,{value:D.goal,label:"Goal",onChange:O=>P("goal",O.target.value),children:[a.jsx(be,{value:"strength",children:"Strength"}),a.jsx(be,{value:"hypertrophy",children:"Muscle Gain"}),a.jsx(be,{value:"fat_loss",children:"Fat Loss"}),a.jsx(be,{value:"general_fitness",children:"General Fitness"})]})]}),a.jsxs(bt,{fullWidth:!0,children:[a.jsx(vt,{children:"Experience Level"}),a.jsxs(St,{value:D.experienceLevel,label:"Experience Level",onChange:O=>P("experienceLevel",O.target.value),children:[a.jsx(be,{value:"beginner",children:"Beginner"}),a.jsx(be,{value:"intermediate",children:"Intermediate"}),a.jsx(be,{value:"advanced",children:"Advanced"})]})]}),a.jsxs(bt,{fullWidth:!0,children:[a.jsx(vt,{children:"Days per Week"}),a.jsx(St,{value:D.daysPerWeek,label:"Days per Week",onChange:O=>P("daysPerWeek",O.target.value),children:[2,3,4,5,6,7].map(O=>a.jsxs(be,{value:O,children:[O," days"]},O))})]}),a.jsxs(bt,{fullWidth:!0,children:[a.jsx(vt,{children:"Duration (days)"}),a.jsxs(St,{value:D.duration,label:"Duration (days)",onChange:O=>P("duration",O.target.value),children:[a.jsx(be,{value:7,children:"1 week"}),a.jsx(be,{value:14,children:"2 weeks"}),a.jsx(be,{value:30,children:"30 days"}),a.jsx(be,{value:60,children:"60 days"}),a.jsx(be,{value:90,children:"90 days"})]})]}),a.jsxs(q,{children:[a.jsx(I,{variant:"subtitle2",gutterBottom:!0,children:"Session Types"}),a.jsx(q,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:[{value:"full",label:"Full Body"},{value:"upper",label:"Upper Body"},{value:"lower",label:"Lower Body"},{value:"hiit",label:"HIIT"},{value:"cardio",label:"Cardio"},{value:"yoga",label:"Yoga/Mobility"}].map(O=>a.jsx(Je,{label:O.label,onClick:()=>F(O.value),color:D.sessionTypes.includes(O.value)?"primary":"default",variant:D.sessionTypes.includes(O.value)?"filled":"outlined"},O.value))})]})]})}),a.jsxs(rs,{children:[a.jsx(xe,{onClick:z,disabled:v,children:"Cancel"}),a.jsx(xe,{onClick:H,variant:"contained",color:"primary",disabled:!D.name||D.sessionTypes.length===0||v,children:v?"Generating...":"Generate Plan"})]})]}),a.jsx(cj,{open:f,onClose:()=>p(!1),onSave:L})]})]})};uj.propTypes={onNavigate:Y.func};const dj=e=>{const t=Math.floor(e/3600),s=Math.floor(e%3600/60),i=e%60;return`${t.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`},fj=e=>{if(!e)return"";try{const t=new URL(e);let s=t.searchParams.get("v");if(!s){const i=t.pathname.split("/");s=i[i.length-1]}return s=s?.split("&")[0],s?`https://www.youtube.com/embed/${encodeURIComponent(s)}`:""}catch(t){return console.error("Invalid YouTube URL:",e,t),""}},CB=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),Do=e=>{const t=Math.floor(e/3600),s=Math.floor(e%3600/60);return t>0?`${t}h ${s}m`:`${s}m`},oy=e=>{if(typeof e=="string"){const t=e.toLowerCase();return t.includes("upper")?"upper":t.includes("lower")?"lower":"full"}if(e?.type)return oy(e.type);if(e?.["Primary Muscle"]){const t=e["Primary Muscle"].toLowerCase();if(t.includes("upper"))return"upper";if(t.includes("lower"))return"lower"}return"full"},Cw=()=>`${Date.now()}-${Math.random().toString(36).substring(2,11)}`,jw=e=>!e||typeof e!="string"?[]:e.split(",").map(t=>t.trim()).filter(t=>t.length>0),hj=e=>{const t=jw(e.primaryMuscles),s=jw(e.secondaryMuscles||"");return[...t,...s]},jB=(e,t)=>{const s=hj(e);let i=0;for(const l of t)for(const u of s)l.toLowerCase()===u.toLowerCase()?i+=10:(l.toLowerCase().includes(u.toLowerCase())||u.toLowerCase().includes(l.toLowerCase()))&&(i+=5);return i},DB=e=>hj(e).some(s=>s.toLowerCase().includes("full body")),fd=e=>{const t=[...e];for(let s=t.length-1;s>0;s--){const i=Math.floor(Math.random()*(s+1));[t[s],t[i]]=[t[i],t[s]]}return t},Dw=(e,t,s,i)=>{if(!i||i.length===0)return console.warn("No stretches available"),[];if(!e||e.length===0)return fd(i).slice(0,s);const l=i.map(g=>({stretch:g,score:jB(g,e),isFullBody:DB(g)})),u=l.filter(g=>g.score>0).sort((g,y)=>y.score-g.score),d=l.filter(g=>g.isFullBody&&g.score===0),f=[],p=new Set;for(const g of u){if(f.length>=s)break;const y=i.indexOf(g.stretch);p.has(y)||(f.push(g.stretch),p.add(y))}if(f.length<s){const g=fd(d.map(y=>y.stretch));for(const y of g){if(f.length>=s)break;const v=i.indexOf(y);p.has(v)||(f.push(y),p.add(v))}}if(f.length<s){const g=i.filter((v,b)=>!p.has(b)),y=fd(g);for(const v of y){if(f.length>=s)break;f.push(v)}}return fd(f).slice(0,s)},zm=({stretch:e,onNext:t,onSkipAll:s,currentIndex:i,totalCount:l,phaseType:u})=>{const[d,f]=x.useState(e.duration||30),p=x.useRef(null);x.useEffect(()=>(f(e.duration||30),p.current=setInterval(()=>{f(y=>y<=1?(clearInterval(p.current),setTimeout(()=>t(),500),0):y-1)},1e3),()=>{p.current&&clearInterval(p.current)}),[e,t]);const g=(e.duration-d)/e.duration*100;return a.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},style:{width:"100%",maxWidth:"600px",margin:"0 auto"},children:a.jsxs(q,{sx:{p:3,bgcolor:"background.paper",borderRadius:2,boxShadow:3},children:[a.jsxs(q,{sx:{mb:2,textAlign:"center"},children:[a.jsxs(I,{variant:"overline",color:"text.secondary",children:[u==="warmup"?"Warm-Up":"Cool-Down"," - Stretch ",i+1," of ",l]}),a.jsx(I,{variant:"h5",sx:{fontWeight:600,mt:1},children:e.name}),a.jsx(I,{variant:"body2",color:"text.secondary",sx:{mt:1},children:e.description})]}),a.jsxs(q,{sx:{display:"flex",flexDirection:"column",alignItems:"center",my:3},children:[a.jsxs(q,{sx:{position:"relative",display:"inline-flex"},children:[a.jsx(Yd,{variant:"determinate",value:g,size:120,thickness:4,sx:{color:u==="warmup"?"warning.main":"info.main"}}),a.jsx(q,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(I,{variant:"h3",component:"div",color:"text.primary",children:d})})]}),a.jsx(I,{variant:"caption",color:"text.secondary",sx:{mt:1},children:"seconds remaining"})]}),e.youtubeLink&&a.jsx(q,{sx:{mb:2},children:a.jsx("div",{style:{position:"relative",paddingBottom:"56.25%",height:0,overflow:"hidden"},children:a.jsx("iframe",{src:fj(e.youtubeLink),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"8px"}})})}),a.jsxs(q,{sx:{display:"flex",gap:2,mt:3,flexDirection:{xs:"column",sm:"row"}},children:[a.jsxs(xe,{variant:"outlined",onClick:s,fullWidth:!0,sx:{order:{xs:2,sm:1}},children:["Skip ",u==="warmup"?"Warm-Up":"Cool-Down"]}),a.jsx(xe,{variant:"contained",onClick:t,endIcon:a.jsx(Mc,{}),fullWidth:!0,sx:{order:{xs:1,sm:2}},children:"Next Stretch"})]})]})},e.name)};zm.propTypes={stretch:Y.shape({name:Y.string.isRequired,description:Y.string.isRequired,primaryMuscles:Y.string.isRequired,secondaryMuscles:Y.string,duration:Y.number.isRequired,youtubeLink:Y.string}).isRequired,onNext:Y.func.isRequired,onSkipAll:Y.func.isRequired,currentIndex:Y.number.isRequired,totalCount:Y.number.isRequired,phaseType:Y.oneOf(["warmup","cooldown"]).isRequired};const pj=({workoutPlan:e,onComplete:t,onExit:s})=>{const[i,l]=x.useState(0),[u,d]=x.useState([]),[f,p]=x.useState(0),[g,y]=x.useState(null),[v,b]=x.useState(null),[S,T]=x.useState(!1),[D,j]=x.useState(!1),[C,E]=x.useState({}),k=x.useRef(null),A=x.useRef(null),[N,z]=x.useState("warmup"),[P,F]=x.useState(0),[H,L]=x.useState([]),[W,M]=x.useState([]),[U,V]=x.useState(!1),[_,B]=x.useState(!1),[O,Q]=x.useState(!1),[ee,ye]=x.useState(!1),ue=x.useMemo(()=>{const le=[];for(let te=0;te<4;te++){const ve=e[te*2],ne=e[te*2+1];if(!(!ve||!ne))for(let oe=1;oe<=Im;oe++)le.push({exercise:ve,setNumber:oe}),le.push({exercise:ne,setNumber:oe})}return le},[e]);x.useEffect(()=>{(async()=>{try{const te=await(await fetch("/data/stretching-library.json")).json(),ve=[];e.forEach(K=>{if(K["Primary Muscle"]&&ve.push(K["Primary Muscle"]),K["Secondary Muscles"]){const fe=K["Secondary Muscles"].split(",").map(me=>me.trim()).filter(me=>me.length>0);ve.push(...fe)}});const ne=[...new Set(ve)],oe=localStorage.getItem("goodlift_stretching_prefs");if((oe?JSON.parse(oe):{}).alwaysSkipWarmup)B(!0),z("exercise");else{const K=Dw(ne,"dynamic",Math.floor(Math.random()*2)+5,te.dynamic);L(K)}const ge=Dw(ne,"static",Math.floor(Math.random()*2)+4,te.static);M(ge)}catch(Ce){console.error("Error loading stretching library:",Ce),B(!0),z("exercise")}})()},[e]),x.useEffect(()=>(k.current=Date.now(),A.current=setInterval(()=>{const Ce=Math.floor((Date.now()-k.current)/1e3);p(Ce)},1e3),(async()=>{const Ce={},te=[...new Set(e.map(ve=>ve["Exercise Name"]))];await Promise.all(te.map(async ve=>{const[ne,oe]=await Promise.all([bc(ve),Bo(ve)]);Ce[ve]={weight:ne??null,reps:oe??null}})),E(Ce)})(),()=>{A.current&&clearInterval(A.current)}),[e]),x.useEffect(()=>{const le=ue[i];if(le?.exercise?.["Exercise Name"]){const Ce=le.exercise["Exercise Name"],te=C[Ce];y(te?.weight??null),b(te?.reps??null)}window.scrollTo({top:0,behavior:"smooth"})},[i,C,ue]);const de=ue[i],we=de?.exercise?.["Exercise Name"],De=async le=>{const Ce={};le.forEach(({exerciseName:te,setNumber:ve,weight:ne,reps:oe})=>{Ce[te]||(Ce[te]=[]),Ce[te].push({setNumber:ve,weight:ne,reps:oe})});for(const[te,ve]of Object.entries(Ce)){const ne=C[te]||{weight:null,reps:null},oe=ne.reps??0,$=ne.weight,ge=ve.map(Se=>Se.reps).filter(Se=>typeof Se=="number"&&!isNaN(Se));if(ge.length===0)continue;const K=Math.min(...ge),fe=ge.every(Se=>Se>=oe);if(ge.every(Se=>Se>oe)&&K>0&&await vc(te,K),fe){const Se=ve[ve.length-1].weight;typeof Se=="number"&&!isNaN(Se)&&Se>=0&&Se!==$&&await la(te,Se)}}},Me=()=>{N==="warmup"?P+1>=H.length?(V(!0),z("exercise"),F(0)):F(le=>le+1):N==="cooldown"&&(P+1>=W.length?(Q(!0),z("complete")):F(le=>le+1))},We=()=>{B(!0),z("exercise");const le=localStorage.getItem("goodlift_stretching_prefs"),Ce=le?JSON.parse(le):{};localStorage.setItem("goodlift_stretching_prefs",JSON.stringify({...Ce,lastSkippedWarmup:new Date().toISOString()}))},Ue=()=>{ye(!0),z("complete");const le=localStorage.getItem("goodlift_stretching_prefs"),Ce=le?JSON.parse(le):{};localStorage.setItem("goodlift_stretching_prefs",JSON.stringify({...Ce,lastSkippedCooldown:new Date().toISOString()}))},st=()=>{const le=Math.floor((Date.now()-k.current)/1e3);A.current&&clearInterval(A.current);const Ce={date:new Date().toISOString(),type:e[0]?.["Primary Muscle"]||"unknown",duration:le,exercises:{},warmupCompleted:U,warmupSkipped:_,cooldownCompleted:O,cooldownSkipped:ee,totalDuration:le};u.forEach(te=>{const{exerciseName:ve,setNumber:ne,weight:oe,reps:$}=te;Ce.exercises[ve]||(Ce.exercises[ve]={sets:[]}),Ce.exercises[ve].sets.push({set:ne,weight:oe,reps:$})}),t(Ce)},_e=async le=>{le.preventDefault();const Ce=le.target.closest("form")||document.querySelector("form"),te=Ce?.querySelector("#weight-select"),ve=Ce?.querySelector("#reps-select");if(!te||!ve){console.error("Form inputs not found");return}const ne=Math.max(0,parseFloat(te.value)||0),oe=parseInt(ve.value,10),$=oe>0?oe:0,ge={exerciseName:de.exercise["Exercise Name"],setNumber:de.setNumber,weight:ne,reps:$},K=[...u,ge];d(K),i+1>=ue.length?(await De(K),z("cooldown"),F(0)):l(fe=>fe+1)},ke=()=>{i>0&&(l(le=>le-1),d(le=>le.slice(0,-1)))},Te=async()=>{if(window.confirm("Save this workout as partially complete? Your current progress will be saved.")){await De(u);const le=Math.floor((Date.now()-k.current)/1e3);A.current&&clearInterval(A.current);const Ce={date:new Date().toISOString(),type:e[0]?.["Primary Muscle"]||"unknown",duration:le,exercises:{},isPartial:!0};u.forEach(te=>{const{exerciseName:ve,setNumber:ne,weight:oe,reps:$}=te;Ce.exercises[ve]||(Ce.exercises[ve]={sets:[]}),Ce.exercises[ve].sets.push({set:ne,weight:oe,reps:$})}),t(Ce)}},je=()=>{window.confirm("Are you sure you want to exit? Your progress will not be saved.")&&(A.current&&clearInterval(A.current),s())},Ne=()=>{try{const le=oy(e[0]);nf({name:`${le.charAt(0).toUpperCase()+le.slice(1)} Body Workout`,type:le,equipment:"all",exercises:e}),T(!0),j(!0)}catch(le){console.error("Error saving to favorites:",le),alert("Failed to save workout to favorites")}};return!de&&N==="exercise"?null:N==="warmup"?H.length===0?a.jsx("div",{children:"Loading warmup..."}):a.jsxs("div",{className:"screen",style:{paddingBottom:"100px",padding:"0.5rem",maxWidth:"100vw",boxSizing:"border-box"},children:[a.jsx(q,{sx:{mb:1.5,px:{xs:.5,sm:0}},children:a.jsx(I,{variant:"h6",sx:{fontWeight:600,textAlign:"center",mb:1},children:"Warm-Up Phase"})}),a.jsx(zm,{stretch:H[P],onNext:Me,onSkipAll:We,currentIndex:P,totalCount:H.length,phaseType:"warmup"})]}):N==="cooldown"?W.length===0?(z("complete"),null):a.jsxs("div",{className:"screen",style:{paddingBottom:"100px",padding:"0.5rem",maxWidth:"100vw",boxSizing:"border-box"},children:[a.jsx(q,{sx:{mb:1.5,px:{xs:.5,sm:0}},children:a.jsx(I,{variant:"h6",sx:{fontWeight:600,textAlign:"center",mb:1},children:"Cool-Down Phase"})}),a.jsx(zm,{stretch:W[P],onNext:Me,onSkipAll:Ue,currentIndex:P,totalCount:W.length,phaseType:"cooldown"})]}):N==="complete"?a.jsx("div",{className:"screen",style:{paddingBottom:"100px",padding:"2rem",maxWidth:"100vw",boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"60vh"},children:a.jsxs(Pe.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},style:{textAlign:"center"},children:[a.jsx(ak,{sx:{fontSize:80,color:"primary.main",mb:2}}),a.jsx(I,{variant:"h4",sx:{fontWeight:600,mb:2},children:"Workout Complete! "}),a.jsxs(I,{variant:"body1",color:"text.secondary",sx:{mb:3},children:["Great job! You've completed your workout",!_&&!ee?" including warmup and cooldown phases":_?ee?"":" including cooldown phase":" including warmup phase","."]}),a.jsx(xe,{variant:"contained",size:"large",onClick:st,sx:{mt:2},children:"Finish Workout"})]})}):a.jsxs("div",{className:"screen",style:{paddingBottom:"100px",padding:"0.5rem",maxWidth:"100vw",boxSizing:"border-box"},children:[a.jsxs(q,{sx:{mb:1.5,px:{xs:.5,sm:0}},children:[a.jsxs(q,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:.5,gap:1},children:[a.jsx(I,{variant:"body1",sx:{fontWeight:600,fontSize:{xs:"0.9rem",sm:"1.25rem"}},children:dj(f)}),a.jsxs(q,{sx:{display:"flex",alignItems:"center",gap:{xs:.5,sm:1}},children:[a.jsx(ut,{onClick:Ne,disabled:S,size:"small",sx:{color:S?"warning.main":"action.active","&:hover":{color:"warning.main"},p:{xs:.5,sm:1}},"aria-label":"Save to favorites",children:S?a.jsx(Ao,{sx:{fontSize:{xs:20,sm:24}}}):a.jsx(L1,{sx:{fontSize:{xs:20,sm:24}}})}),a.jsxs(I,{variant:"body1",sx:{fontWeight:600,fontSize:{xs:"0.9rem",sm:"1.25rem"}},children:[i+1,"/",ue.length]})]})]}),a.jsx(Mr,{variant:"determinate",value:i/ue.length*100,sx:{height:{xs:6,sm:8},borderRadius:4,bgcolor:"rgba(138, 190, 185, 0.2)","& .MuiLinearProgress-bar":{bgcolor:"primary.main",borderRadius:4}}})]}),a.jsx("div",{className:"exercise-card-container",children:a.jsx(pc,{mode:"wait",children:a.jsx(Pe.form,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},onSubmit:_e,children:a.jsxs(Pe.div,{className:"exercise-card",initial:{scale:.95},animate:{scale:1},transition:{duration:.3},children:[a.jsx("h2",{children:we}),a.jsx("div",{className:"youtube-embed",children:a.jsx("iframe",{src:fj(de.exercise.YouTube_Demonstration_Link),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),a.jsxs("p",{className:"set-info",children:["Set ",de.setNumber," of ",Im]}),(g!==null||v!==null)&&a.jsxs(Pe.p,{className:"prev-weight",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.2},children:["Target: ",g??""," lbs  ",v??""," reps"]}),a.jsxs("div",{className:"input-row",children:[a.jsxs("div",{className:"input-group",children:[a.jsx("label",{htmlFor:"weight-select",children:"Weight (lbs)"}),a.jsx("input",{id:"weight-select",type:"tel",inputMode:"decimal",pattern:"[0-9]*([.,][0-9]+)?",step:"2.5",min:"0",max:"500",className:"exercise-input",defaultValue:g??"",placeholder:"","aria-label":"Weight in pounds",onFocus:le=>{le.target.select();const te=le.target.getBoundingClientRect().bottom,ne=window.innerHeight*.55;te>ne&&setTimeout(()=>{le.target.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{window.scrollBy({top:-80,behavior:"smooth"})},100)},300)},style:{width:"100%",padding:"12px",borderRadius:"8px",border:"2px solid var(--color-border)",fontSize:"1rem",fontFamily:"var(--font-body)",backgroundColor:"var(--color-surface)",color:"var(--color-text)"}})]}),a.jsxs("div",{className:"input-group",children:[a.jsx("label",{htmlFor:"reps-select",children:"Reps"}),a.jsx("input",{id:"reps-select",type:"number",inputMode:"numeric",step:"1",min:"1",max:"20",className:"exercise-input",defaultValue:v??"",placeholder:"","aria-label":"Repetitions",onFocus:le=>{le.target.select();const te=le.target.getBoundingClientRect().bottom,ne=window.innerHeight*.55;te>ne&&setTimeout(()=>{le.target.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{window.scrollBy({top:-80,behavior:"smooth"})},100)},300)},style:{width:"100%",padding:"12px",borderRadius:"8px",border:"2px solid var(--color-border)",fontSize:"1rem",fontFamily:"var(--font-body)",backgroundColor:"var(--color-surface)",color:"var(--color-text)"}})]})]}),a.jsxs("div",{className:"workout-nav-buttons",children:[i>0&&a.jsxs(Pe.button,{type:"button",className:"back-btn",onClick:ke,whileHover:{scale:1.02},whileTap:{scale:.98},children:[a.jsx(ok,{sx:{fontSize:18,mr:.5}})," Back"]}),a.jsxs(Pe.button,{type:"submit",className:"next-btn",whileHover:{scale:1.02},whileTap:{scale:.98},children:["Next ",a.jsx(lk,{sx:{fontSize:18,ml:.5}})]})]})]})},i)})}),a.jsxs("div",{className:"workout-controls",children:[a.jsxs(Pe.button,{className:"exit-workout-btn",onClick:je,whileHover:{scale:1.05},whileTap:{scale:.95},style:{background:"rgb(237, 63, 39)",marginBottom:"12px",color:"white"},children:[a.jsx(ck,{sx:{fontSize:18,mr:.5}})," End Workout"]}),u.length>0&&a.jsx(Pe.button,{className:"partial-complete-btn",onClick:Te,whileHover:{scale:1.05},whileTap:{scale:.95},style:{background:"rgb(254, 178, 26)",color:"rgb(19, 70, 134)"},children:"End and Save"})]}),a.jsx(xi,{open:D,autoHideDuration:3e3,onClose:()=>j(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:a.jsx(Ot,{severity:"success",onClose:()=>j(!1),children:"Workout saved to favorites!"})})]})};pj.propTypes={workoutPlan:Y.array.isRequired,onComplete:Y.func.isRequired,onExit:Y.func.isRequired};const ly=x.memo(({workout:e,workoutType:t,onStart:s,onCancel:i,onRandomizeExercise:l})=>{const[u,d]=x.useState({}),[f,p]=x.useState(!0),[g,y]=x.useState(!1),[v,b]=x.useState(!1),[S,T]=x.useState({}),[D,j]=x.useState({open:!1,message:"",severity:"info"}),[C,E]=x.useState([]);x.useEffect(()=>{(async()=>{try{const V=await(await fetch(sf)).json();let _=V;t==="upper"?_=V.filter(B=>B["Workout Type"]&&(B["Workout Type"].includes("Upper Body")||B["Workout Type"].includes("Full Body")||B["Workout Type"].includes("Push/Pull/Legs"))):t==="lower"?_=V.filter(B=>B["Workout Type"]&&(B["Workout Type"].includes("Lower Body")||B["Workout Type"].includes("Full Body")||B["Workout Type"].includes("Push/Pull/Legs"))):t==="full"&&(_=V.filter(B=>B["Workout Type"]&&B["Workout Type"].includes("Full Body"))),E(_)}catch(U){console.error("Error loading exercises:",U),E([])}})()},[t]),x.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),(async()=>{const U={};for(const V of e){const _=V["Exercise Name"],[B,O]=await Promise.all([bc(_),Bo(_)]);U[_]={weight:B??"",targetReps:O??""}}d(U),p(!1)})()},[e]),x.useEffect(()=>{const M=async()=>{const U=Object.keys(u),V=e.filter(_=>!U.includes(_["Exercise Name"]));if(V.length>0){const _={...u};for(const B of V){const O=B["Exercise Name"];if(!S[O]){const[Q,ee]=await Promise.all([bc(O),Bo(O)]);_[O]={weight:Q??"",targetReps:ee??""}}}d(_)}};!f&&Object.keys(u).length>0&&M()},[e,f]);const k=(M,U)=>{if(U===""||/^\d*\.?\d*$/.test(U)){const V=U===""?"":parseFloat(U);d(_=>({..._,[M]:{..._[M],weight:V}})),T(_=>({..._,[M]:{..._[M],weightCustomized:!0}}))}},A=(M,U)=>{if(U===""||U===null||U===void 0)return;const V=parseFloat(U);if(!isNaN(V)&&V>0){const _=Math.round(V/2.5)*2.5;_!==V&&(d(B=>({...B,[M]:{...B[M],weight:_}})),j({open:!0,message:`Weight adjusted to ${_} lbs (nearest 2.5 lb increment)`,severity:"info"}))}},N=(M,U)=>{if(U===""||/^\d+$/.test(U)){const V=U===""?"":parseInt(U,10);d(_=>({..._,[M]:{..._[M],targetReps:V}})),T(_=>({..._,[M]:{..._[M],repsCustomized:!0}}))}},z=(M,U)=>{if(U===""||U===null||U===void 0)return;const V=parseInt(U,10);(isNaN(V)||V<1)&&d(_=>({..._,[M]:{..._[M],targetReps:""}}))},P=x.useCallback((M,U)=>{l&&l(M,U)},[l]),F=x.useCallback((M,U)=>{!U||!l||l(U,M)},[l]),H=async()=>{for(const[M,U]of Object.entries(u)){const V=U.weight===""?null:U.weight,_=U.targetReps===""?null:U.targetReps;await la(M,V),await vc(M,_)}s()},L=()=>{try{nf({name:`${t.charAt(0).toUpperCase()+t.slice(1)} Body Workout`,type:t,exercises:e}),y(!0),b(!0)}catch(M){console.error("Error saving to favorites:",M)}},W=[];for(let M=0;M<e.length;M+=2)e[M]&&e[M+1]&&W.push([e[M],e[M+1]]);return f?a.jsx(q,{sx:{textAlign:"center",py:8,display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:a.jsx("img",{src:"/goodlift/dancing-icon.svg",alt:"Loading workout...",style:{width:"150px",height:"150px"}})}):a.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"screen",style:{maxWidth:"900px",margin:"0 auto",padding:"1rem",width:"100%",boxSizing:"border-box",overflowX:"hidden"},children:[a.jsxs(q,{sx:{mb:{xs:2,sm:4},textAlign:"center",position:"relative",px:{xs:.5,sm:0}},children:[a.jsx(ut,{onClick:L,disabled:g,size:"small",sx:{position:"absolute",top:0,right:{xs:0,sm:0},color:g?"warning.main":"action.active",minWidth:"44px",minHeight:"44px","&:hover":{color:"warning.main"},p:{xs:.5,sm:1}},"aria-label":"Save to favorites",children:g?a.jsx(Ao,{sx:{fontSize:{xs:24,sm:32}}}):a.jsx(Dd,{sx:{fontSize:{xs:24,sm:32}}})}),a.jsx(Pe.div,{initial:{scale:.8},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},children:a.jsx(yn,{sx:{fontSize:{xs:48,sm:60},color:"primary.main",mb:{xs:1,sm:2}}})}),a.jsxs(I,{variant:"h3",component:"h1",gutterBottom:!0,sx:{fontWeight:700,color:"primary.main",fontSize:{xs:"1.5rem",sm:"3rem"}},children:["Your ",t.charAt(0).toUpperCase()+t.slice(1)," Body Workout"]}),a.jsxs(I,{variant:"subtitle1",color:"text.secondary",sx:{mb:1,fontSize:{xs:"0.875rem",sm:"1rem"}},children:[W.length," Supersets  ",e.length," Exercises  3 Sets Each"]}),a.jsx(I,{variant:"body2",color:"primary.main",sx:{fontWeight:600,fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Set your starting target weight and target reps for each exercise"})]}),a.jsx(Ee,{spacing:{xs:2,sm:3},sx:{px:{xs:.5,sm:0}},children:W.map((M,U)=>a.jsx(Pe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*U,duration:.4},children:a.jsx(Ie,{sx:{background:"linear-gradient(135deg, rgba(138, 190, 185, 0.1), rgba(193, 120, 90, 0.1))",border:"2px solid",borderColor:"primary.main",borderRadius:3,transition:"all 0.3s ease",maxWidth:"100%",boxSizing:"border-box","&:hover":{transform:"translateY(-4px)",boxShadow:"0 12px 24px rgba(48, 86, 105, 0.2)"}},children:a.jsxs(Le,{sx:{p:{xs:1.5,sm:2}},children:[a.jsx(I,{variant:"h6",gutterBottom:!0,sx:{color:"secondary.main",fontWeight:600,mb:2,display:"flex",alignItems:"center",gap:1},children:a.jsx(Je,{label:`Superset ${U+1}`,size:"small",sx:{bgcolor:"secondary.main",color:"white",fontWeight:600}})}),a.jsx(Ee,{spacing:{xs:1.5,sm:2},children:M.map((V,_)=>{const B=V["Exercise Name"],O=u[B]||{weight:"",targetReps:""};return a.jsxs(q,{sx:{p:{xs:1.5,sm:2},bgcolor:"white",borderRadius:2,transition:"all 0.2s ease"},children:[a.jsxs(q,{sx:{display:"flex",alignItems:"flex-start",gap:{xs:1,sm:2},mb:{xs:1.5,sm:2}},children:[a.jsx(I,{sx:{fontSize:{xs:"1.5rem",sm:"2rem"},color:"primary.main",fontWeight:700,minWidth:{xs:"30px",sm:"40px"}},children:_===0?"A":"B"}),a.jsxs(q,{sx:{flex:1,minWidth:0},children:[a.jsxs(q,{sx:{display:"flex",alignItems:"flex-start",gap:1,mb:.5},children:[a.jsx(q,{sx:{flex:1},children:a.jsx(Fc,{value:V,onChange:(Q,ee)=>{if(ee){const ye=U*2+_;F(ye,ee)}},availableExercises:C,label:"Exercise",placeholder:"Type to search and swap...",disabled:C.length===0})}),l&&a.jsx(ut,{size:"small",onClick:Q=>{Q.stopPropagation();const ee=U*2+_;P(V,ee)},sx:{color:"primary.main",minWidth:"44px",minHeight:"44px",mt:.5,"&:hover":{backgroundColor:"rgba(19, 70, 134, 0.08)"}},"aria-label":`Randomize ${B}`,children:a.jsx(uk,{fontSize:"small"})})]}),a.jsxs(Ee,{direction:"row",spacing:1,flexWrap:"wrap",children:[a.jsx(Je,{label:V["Primary Muscle"],size:"small",variant:"outlined",sx:{borderColor:"primary.main",color:"primary.main",fontSize:{xs:"0.65rem",sm:"0.75rem"}}}),a.jsx(Je,{label:V.Equipment,size:"small",variant:"outlined",sx:{borderColor:"text.secondary",color:"text.secondary",fontSize:{xs:"0.65rem",sm:"0.75rem"}}})]})]})]}),a.jsxs(Ee,{direction:"row",spacing:{xs:1,sm:2},sx:{pl:{xs:4,sm:7},flexWrap:{xs:"wrap",sm:"nowrap"}},children:[a.jsx(et,{type:"tel",inputMode:"decimal",value:O.weight===""?"":O.weight,onChange:Q=>k(B,Q.target.value),onBlur:Q=>A(B,Q.target.value),onFocus:Q=>Q.target.select(),placeholder:"Weight (lbs)",size:"small",inputProps:{min:0,max:500,step:2.5,pattern:"[0-9]*([.,][0-9]+)?","aria-label":`Target weight in pounds for ${B}`},sx:{minWidth:{xs:100,sm:120},flex:{xs:"1 1 45%",sm:"none"}}}),a.jsx(et,{type:"tel",inputMode:"numeric",value:O.targetReps===""?"":O.targetReps,onChange:Q=>N(B,Q.target.value),onBlur:Q=>z(B,Q.target.value),onFocus:Q=>Q.target.select(),placeholder:"Reps",size:"small",inputProps:{min:1,max:20,step:1,pattern:"\\d*","aria-label":`Target repetitions for ${B}`},sx:{minWidth:{xs:100,sm:120},flex:{xs:"1 1 45%",sm:"none"}}})]})]},_)})})]})})},U))}),a.jsx(Pe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:a.jsxs(Ee,{direction:"row",spacing:2,sx:{mt:{xs:3,sm:4},px:{xs:.5,sm:0}},justifyContent:"center",children:[a.jsx(xe,{variant:"contained",size:"large",onClick:i,sx:{borderRadius:2,minWidth:{xs:"60px",sm:"80px"},px:{xs:1,sm:2},py:1.5,fontSize:{xs:"1.2rem",sm:"1.5rem"},fontWeight:600,bgcolor:"rgb(237, 63, 39)",color:"white","&:hover":{bgcolor:"rgb(200, 50, 30)"}},children:""}),a.jsx(xe,{variant:"contained",size:"large",startIcon:g?a.jsx(Ao,{}):a.jsx(Dd,{}),onClick:L,disabled:g,sx:{borderRadius:2,flex:1,maxWidth:{xs:"130px",sm:"150px"},px:{xs:2,sm:3},py:1.5,fontSize:{xs:"0.9rem",sm:"1.1rem"},fontWeight:600,bgcolor:g?"rgb(76, 175, 80)":"rgb(254, 178, 26)",color:"white","&:hover":{bgcolor:g?"rgb(56, 142, 60)":"rgb(245, 158, 11)"},"&:disabled":{bgcolor:"rgb(76, 175, 80)",color:"white",opacity:.8}},children:g?"Saved!":"Save"}),a.jsx(xe,{variant:"contained",size:"large",startIcon:a.jsx(Fn,{}),onClick:H,sx:{borderRadius:2,flex:1,maxWidth:{xs:"130px",sm:"150px"},px:{xs:2,sm:3},py:1.5,fontSize:{xs:"0.9rem",sm:"1.1rem"},fontWeight:600,bgcolor:"rgb(19, 70, 134)",color:"white","&:hover":{bgcolor:"rgb(15, 56, 107)",transform:"translateY(-2px)",boxShadow:"0 8px 16px rgba(19, 70, 134, 0.3)"},transition:"all 0.3s ease"},children:"Begin"})]})}),a.jsx(xi,{open:v,autoHideDuration:3e3,onClose:()=>b(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:a.jsx(Ot,{severity:"success",onClose:()=>b(!1),children:"Workout saved to favorites!"})}),a.jsx(xi,{open:D.open,autoHideDuration:4e3,onClose:()=>j({...D,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:a.jsx(Ot,{severity:D.severity,onClose:()=>j({...D,open:!1}),children:D.message})})]})});ly.displayName="WorkoutPreview";ly.propTypes={workout:Y.array.isRequired,workoutType:Y.string.isRequired,onStart:Y.func.isRequired,onCancel:Y.func.isRequired,onRandomizeExercise:Y.func,equipmentFilter:Y.oneOfType([Y.string,Y.array])};const hd=2,Ew=["Core","Abs","Obliques"],cy=x.memo(({workoutType:e,equipmentFilter:t,allExercises:s,onCancel:i,onContinue:l})=>{const[u,d]=x.useState([]),[f,p]=x.useState(""),[g,y]=x.useState("all"),[v,b]=x.useState("all"),[S,T]=x.useState("all"),D=vo,j=x.useMemo(()=>{let L=[...s];if(e==="upper"?L=L.filter(W=>{const M=W["Primary Muscle"].split("(")[0].trim();return So.UPPER_BODY.includes(M)}):e==="lower"&&(L=L.filter(W=>{const M=W["Primary Muscle"].split("(")[0].trim();return So.LOWER_BODY.includes(M)||Ew.includes(M)})),t!=="all"&&Array.isArray(t)&&t.length>0&&(L=L.filter(W=>{const M=W.Equipment.toLowerCase();return t.some(U=>{const V=U.toLowerCase();return V==="cable machine"?M.includes("cable"):V==="dumbbells"?M.includes("dumbbell"):M.includes(V)})})),f){const W=f.toLowerCase();L=L.filter(M=>M["Exercise Name"].toLowerCase().includes(W)||M["Primary Muscle"].toLowerCase().includes(W)||M["Secondary Muscles"]?.toLowerCase().includes(W)||M.Equipment.toLowerCase().includes(W))}return g!=="all"&&(L=L.filter(W=>W["Primary Muscle"].split("(")[0].trim()===g)),v!=="all"&&(L=L.filter(W=>{const M=W.Equipment.toLowerCase(),U=v.toLowerCase();return M.includes(U)})),S!=="all"&&(L=L.filter(W=>W["Exercise Type"]===S)),L},[s,e,t,f,g,v,S]),C=x.useMemo(()=>{let L=[...s];e==="upper"?L=L.filter(M=>{const U=M["Primary Muscle"].split("(")[0].trim();return So.UPPER_BODY.includes(U)}):e==="lower"&&(L=L.filter(M=>{const U=M["Primary Muscle"].split("(")[0].trim();return So.LOWER_BODY.includes(U)||Ew.includes(U)})),t!=="all"&&Array.isArray(t)&&t.length>0&&(L=L.filter(M=>{const U=M.Equipment.toLowerCase();return t.some(V=>{const _=V.toLowerCase();return _==="cable machine"?U.includes("cable"):_==="dumbbells"?U.includes("dumbbell"):U.includes(_)})}));const W=new Set;return L.forEach(M=>{const U=M["Primary Muscle"].split("(")[0].trim();W.add(U)}),["all",...Array.from(W).sort()]},[s,e,t]),E=x.useMemo(()=>{const L=new Set;return j.forEach(W=>{L.add(W.Equipment)}),["all",...Array.from(L).sort()]},[j]),k=x.useMemo(()=>{const L=new Set;return j.forEach(W=>{L.add(W["Exercise Type"])}),["all",...Array.from(L).sort()]},[j]),A=L=>{const W=L["Exercise Name"];u.some(U=>U["Exercise Name"]===W)?d(U=>U.filter(V=>V["Exercise Name"]!==W)):u.length<D&&d(U=>[...U,L])},N=L=>{d(W=>W.filter(M=>M["Exercise Name"]!==L))},z=L=>{d(L)},P=L=>u.some(W=>W["Exercise Name"]===L["Exercise Name"]),F=u.length<D,H=u.length===D;return a.jsxs(Pe.div,{className:"screen",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{display:"flex",flexDirection:"column",minHeight:"calc(100vh - 4rem)",padding:"1rem",paddingBottom:"max(2rem, calc(env(safe-area-inset-bottom) + 1rem))",overflow:"auto"},children:[a.jsxs(q,{sx:{maxWidth:1200,width:"100%",margin:"0 auto",mb:2},children:[a.jsxs(q,{sx:{textAlign:"center",mb:2},children:[a.jsx(I,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontWeight:700,color:"primary.main",fontSize:{xs:"1.5rem",sm:"2rem"}},children:"Customize Your Workout"}),a.jsxs(I,{variant:"subtitle1",color:"text.secondary",sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:["Select exactly ",D," exercises"]})]}),a.jsx(Ot,{severity:H?"success":"info",icon:H?a.jsx(Ys,{}):void 0,sx:{mb:2},children:a.jsxs(q,{sx:{display:"flex",alignItems:"center",gap:1,flexWrap:"wrap"},children:[a.jsxs(I,{variant:"body2",sx:{fontWeight:600},children:["Selected: ",u.length," / ",D]}),!H&&a.jsxs(I,{variant:"body2",color:"text.secondary",children:["(",D-u.length," more needed)"]})]})}),u.length>0&&a.jsxs(Nn,{elevation:3,sx:{p:2,mb:2,bgcolor:"rgba(19, 70, 134, 0.03)",borderRadius:2,border:"2px solid",borderColor:"primary.main"},role:"region","aria-label":"Selected exercises preview",children:[a.jsxs(I,{variant:"subtitle2",sx:{mb:1.5,fontWeight:600,color:"primary.main"},children:[a.jsx("span",{role:"img","aria-label":"clipboard",children:""})," Your Workout Order (drag to reorder)"]}),a.jsx(RC,{axis:"y",values:u,onReorder:z,style:{padding:0,margin:0,listStyle:"none"},children:a.jsx(Ee,{spacing:1,children:u.map((L,W)=>{const M=W%hd===0&&W<u.length-1,U=W%hd===1;return a.jsx(IC,{value:L,style:{listStyle:"none"},children:a.jsx(Pe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.2},children:a.jsxs(q,{sx:{display:"flex",alignItems:"center",gap:1,p:1,bgcolor:"white",borderRadius:1,border:"1px solid",borderColor:M||U?"warning.main":"divider",boxShadow:M||U?"0 2px 8px rgba(254, 178, 26, 0.2)":"none",cursor:"grab","&:active":{cursor:"grabbing"},position:"relative"},children:[(M||U)&&a.jsx(Jn,{title:"Superset pair - perform back-to-back",children:a.jsx(q,{sx:{position:"absolute",left:0,top:0,bottom:0,width:4,bgcolor:"warning.main",borderRadius:"4px 0 0 4px"}})}),a.jsx(Wd,{sx:{color:"action.active",fontSize:{xs:16,sm:20}}}),a.jsx(Je,{label:W+1,size:"small",sx:{minWidth:{xs:24,sm:28},height:{xs:24,sm:28},fontSize:{xs:"0.7rem",sm:"0.8rem"},fontWeight:700,bgcolor:"primary.main",color:"white"}}),a.jsx(q,{sx:{flex:1,minWidth:0},children:a.jsx(I,{variant:"body2",sx:{fontWeight:600,fontSize:{xs:"0.75rem",sm:"0.875rem"},overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:L["Exercise Name"]})}),(M||U)&&a.jsx(Je,{icon:a.jsx(dk,{sx:{fontSize:14}}),label:"Superset",size:"small",sx:{height:{xs:20,sm:24},fontSize:{xs:"0.6rem",sm:"0.7rem"},bgcolor:"warning.main",color:"white","& .MuiChip-icon":{color:"white",marginLeft:"4px"}}}),a.jsx(ut,{size:"small",onClick:()=>N(L["Exercise Name"]),sx:{color:"error.main",p:{xs:.25,sm:.5}},children:a.jsx(am,{sx:{fontSize:{xs:16,sm:20}}})})]})})},L["Exercise Name"])})})}),u.length>=hd&&u.length%hd===0&&a.jsx(Ot,{severity:"info",sx:{mt:2,py:.5},children:a.jsxs(I,{variant:"caption",children:[a.jsx("span",{role:"img","aria-label":"light bulb",children:""})," Exercises are grouped in pairs as supersets (perform back-to-back with minimal rest)"]})})]}),a.jsxs(Ee,{direction:"row",spacing:2,children:[a.jsx(xe,{variant:"outlined",onClick:i,fullWidth:!0,sx:{py:1.5,fontSize:{xs:"0.9rem",sm:"1rem"},fontWeight:600,borderRadius:2,textTransform:"none"},children:"Cancel"}),a.jsx(xe,{variant:"contained",onClick:()=>l(u),disabled:!H,fullWidth:!0,sx:{py:1.5,fontSize:{xs:"0.9rem",sm:"1rem"},fontWeight:600,borderRadius:2,textTransform:"none"},children:"Continue to Preview"})]})]}),a.jsx(q,{sx:{maxWidth:1200,width:"100%",margin:"0 auto",mb:2,position:"sticky",top:{xs:60,sm:70},bgcolor:"background.default",zIndex:5,pb:1},children:a.jsx(Nn,{elevation:2,sx:{p:2,borderRadius:2},children:a.jsxs(Ee,{spacing:2,children:[a.jsx(et,{fullWidth:!0,size:"small",placeholder:"Search exercises...",value:f,onChange:L=>p(L.target.value),InputProps:{startAdornment:a.jsx(ig,{position:"start",children:a.jsx(N1,{})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}}),a.jsxs(Ee,{direction:{xs:"column",sm:"row"},spacing:1.5,children:[a.jsxs(bt,{size:"small",sx:{minWidth:{xs:"100%",sm:140}},children:[a.jsx(vt,{children:"Body Part"}),a.jsx(St,{value:g,label:"Body Part",onChange:L=>y(L.target.value),children:C.map(L=>a.jsx(be,{value:L,children:L==="all"?"All Muscles":L},L))})]}),a.jsxs(bt,{size:"small",sx:{minWidth:{xs:"100%",sm:140}},children:[a.jsx(vt,{children:"Equipment"}),a.jsx(St,{value:v,label:"Equipment",onChange:L=>b(L.target.value),children:E.map(L=>a.jsx(be,{value:L,children:L==="all"?"All Equipment":L},L))})]}),a.jsxs(bt,{size:"small",sx:{minWidth:{xs:"100%",sm:140}},children:[a.jsx(vt,{children:"Type"}),a.jsx(St,{value:S,label:"Type",onChange:L=>T(L.target.value),children:k.map(L=>a.jsx(be,{value:L,children:L==="all"?"All Types":L},L))})]})]}),(f||g!=="all"||v!=="all"||S!=="all")&&a.jsxs(q,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:[f&&a.jsx(Je,{label:`Search: "${f}"`,size:"small",onDelete:()=>p("")}),g!=="all"&&a.jsx(Je,{label:`Body: ${g}`,size:"small",onDelete:()=>y("all")}),v!=="all"&&a.jsx(Je,{label:`Equip: ${v}`,size:"small",onDelete:()=>b("all")}),S!=="all"&&a.jsx(Je,{label:`Type: ${S}`,size:"small",onDelete:()=>T("all")})]})]})})}),a.jsxs(q,{sx:{maxWidth:1200,width:"100%",margin:"0 auto"},children:[a.jsxs(I,{variant:"body2",color:"text.secondary",sx:{mb:1,textAlign:"center"},children:[j.length," exercises available"]}),a.jsx(Ee,{spacing:1,children:j.map(L=>{const W=P(L),M=!F&&!W;return a.jsx(Ie,{sx:{border:"1px solid",borderColor:W?"primary.main":"divider",bgcolor:W?"rgba(19, 70, 134, 0.05)":"white",cursor:M?"not-allowed":"pointer",opacity:M?.5:1,transition:"all 0.2s ease","&:hover":M?{}:{borderColor:"primary.main",transform:"translateY(-1px)",boxShadow:"0 2px 8px rgba(19, 70, 134, 0.12)"}},onClick:()=>!M&&A(L),children:a.jsx(Le,{sx:{p:{xs:1,sm:1.5},"&:last-child":{pb:{xs:1,sm:1.5}}},children:a.jsxs(q,{sx:{display:"flex",alignItems:"center",gap:{xs:1,sm:1.5}},children:[a.jsx(ag,{checked:W,disabled:M,size:"small",sx:{p:0},onClick:U=>U.stopPropagation(),onChange:()=>A(L)}),a.jsxs(q,{sx:{flex:1,minWidth:0},children:[a.jsx(I,{variant:"body2",sx:{fontWeight:600,mb:.5,fontSize:{xs:"0.8rem",sm:"0.9rem"},lineHeight:1.3},children:L["Exercise Name"]}),a.jsxs(q,{sx:{display:"flex",flexWrap:"wrap",gap:.5,alignItems:"center"},children:[a.jsx(Je,{label:L["Primary Muscle"].split("(")[0].trim(),size:"small",sx:{fontSize:{xs:"0.6rem",sm:"0.65rem"},height:{xs:18,sm:20},bgcolor:"primary.main",color:"white","& .MuiChip-label":{px:{xs:.5,sm:.75},py:0}}}),a.jsx(Je,{label:L.Equipment,size:"small",variant:"outlined",sx:{fontSize:{xs:"0.6rem",sm:"0.65rem"},height:{xs:18,sm:20},"& .MuiChip-label":{px:{xs:.5,sm:.75},py:0}}}),a.jsx(Je,{label:L["Exercise Type"],size:"small",variant:"outlined",sx:{fontSize:{xs:"0.6rem",sm:"0.65rem"},height:{xs:18,sm:20},"& .MuiChip-label":{px:{xs:.5,sm:.75},py:0}}})]})]})]})})},L["Exercise Name"])})}),j.length===0&&a.jsx(Ot,{severity:"warning",sx:{mt:2},children:"No exercises found for the selected filters. Please adjust your search or filters."})]})]})});cy.displayName="CustomizeExerciseScreen";cy.propTypes={workoutType:Y.string.isRequired,equipmentFilter:Y.oneOfType([Y.string,Y.array]).isRequired,allExercises:Y.array.isRequired,onCancel:Y.func.isRequired,onContinue:Y.func.isRequired};const $p=2.5,uy=x.memo(({workout:e,workoutType:t,onStart:s,onCancel:i})=>{const[l,u]=x.useState(e),[d,f]=x.useState({}),[p,g]=x.useState(!0),[y,v]=x.useState(!1),[b,S]=x.useState(!1),[T,D]=x.useState({open:!1,message:"",severity:"info"}),[j,C]=x.useState([]);x.useEffect(()=>{(async()=>{try{const L=await(await fetch(sf)).json();let W=L;t==="upper"?W=L.filter(M=>M["Workout Type"]&&(M["Workout Type"].includes("Upper Body")||M["Workout Type"].includes("Full Body")||M["Workout Type"].includes("Push/Pull/Legs"))):t==="lower"?W=L.filter(M=>M["Workout Type"]&&(M["Workout Type"].includes("Lower Body")||M["Workout Type"].includes("Full Body")||M["Workout Type"].includes("Push/Pull/Legs"))):t==="full"&&(W=L.filter(M=>M["Workout Type"]&&M["Workout Type"].includes("Full Body"))),C(W)}catch(H){console.error("Error loading exercises:",H),C([])}})()},[t]),x.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),(async()=>{const H={};for(const L of l){const W=L["Exercise Name"],[M,U]=await Promise.all([bc(W),Bo(W)]);H[W]={weight:M??"",targetReps:U??""}}f(H),g(!1)})()},[l]);const E=(F,H)=>{if(H===""||/^\d*\.?\d*$/.test(H)){const L=H===""?"":parseFloat(H);f(W=>({...W,[F]:{...W[F],weight:L}}))}},k=(F,H)=>{if(H===""||H===null||H===void 0)return;const L=parseFloat(H);if(!isNaN(L)&&L>0){const W=Math.round(L/$p)*$p;W!==L&&(f(M=>({...M,[F]:{...M[F],weight:W}})),D({open:!0,message:`Weight adjusted to ${W} lbs (nearest ${$p} lb increment)`,severity:"info"}))}},A=(F,H)=>{if(H===""||/^\d+$/.test(H)){const L=H===""?"":parseInt(H,10);f(W=>({...W,[F]:{...W[F],targetReps:L}}))}},N=(F,H)=>{if(!H)return;const L=[...l];L[F]={...H,name:H["Exercise Name"]||H.name},u(L);const W=l[F]["Exercise Name"],M=H["Exercise Name"];W!==M&&f(U=>{const V=U[W]||{weight:"",targetReps:""},{[W]:_,...B}=U;return{...B,[M]:V}})},z=async()=>{for(const[F,H]of Object.entries(d)){const L=H.weight===""?null:H.weight,W=H.targetReps===""?null:H.targetReps;await la(F,L),await vc(F,W)}s(l)},P=()=>{try{nf({name:`Custom ${t.charAt(0).toUpperCase()+t.slice(1)} Body Workout`,type:t,exercises:l}),v(!0),S(!0)}catch(F){console.error("Error saving to favorites:",F)}};return p?a.jsx(q,{sx:{textAlign:"center",py:8,display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:a.jsx("img",{src:"/goodlift/dancing-icon.svg",alt:"Loading workout...",style:{width:"150px",height:"150px"}})}):a.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"screen",style:{maxWidth:"900px",margin:"0 auto",padding:"1rem",width:"100%",boxSizing:"border-box",overflowX:"hidden"},children:[a.jsxs(q,{sx:{mb:{xs:2,sm:4},textAlign:"center",position:"relative",px:{xs:.5,sm:0}},children:[a.jsx(ut,{onClick:P,disabled:y,size:"small",sx:{position:"absolute",top:0,right:{xs:0,sm:0},color:y?"warning.main":"action.active",minWidth:"44px",minHeight:"44px","&:hover":{color:"warning.main"},p:{xs:.5,sm:1}},"aria-label":"Save to favorites",children:y?a.jsx(Ao,{sx:{fontSize:{xs:24,sm:32}}}):a.jsx(Dd,{sx:{fontSize:{xs:24,sm:32}}})}),a.jsx(Pe.div,{initial:{scale:.8},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},children:a.jsx(yn,{sx:{fontSize:{xs:48,sm:60},color:"primary.main",mb:{xs:1,sm:2}}})}),a.jsx(I,{variant:"h3",component:"h1",gutterBottom:!0,sx:{fontWeight:700,color:"primary.main",fontSize:{xs:"1.5rem",sm:"3rem"}},children:"Your Custom Workout"}),a.jsxs(I,{variant:"subtitle1",color:"text.secondary",sx:{mb:1,fontSize:{xs:"0.875rem",sm:"1rem"}},children:[l.length," Exercises  3 Sets Each"]}),a.jsx(Ot,{severity:"info",sx:{mt:2,mb:2},children:a.jsx(I,{variant:"body2",sx:{fontWeight:600},children:"Drag and drop to reorder exercises"})})]}),a.jsx(RC,{axis:"y",values:l,onReorder:u,style:{padding:0,margin:0,listStyle:"none"},children:a.jsx(Ee,{spacing:{xs:2,sm:3},sx:{px:{xs:.5,sm:0}},children:l.map((F,H)=>{const L=F["Exercise Name"],W=d[L]||{weight:"",targetReps:""};return a.jsx(IC,{value:F,style:{listStyle:"none"},children:a.jsx(Pe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*H,duration:.3},children:a.jsx(Ie,{sx:{background:"linear-gradient(135deg, rgba(138, 190, 185, 0.1), rgba(193, 120, 90, 0.1))",border:"2px solid",borderColor:"primary.main",borderRadius:3,transition:"all 0.3s ease",maxWidth:"100%",boxSizing:"border-box",cursor:"grab","&:active":{cursor:"grabbing"},"&:hover":{transform:"translateY(-4px)",boxShadow:"0 12px 24px rgba(48, 86, 105, 0.2)"}},children:a.jsx(Le,{sx:{p:{xs:1.5,sm:2}},children:a.jsxs(q,{sx:{display:"flex",alignItems:"flex-start",gap:2},children:[a.jsx(q,{sx:{display:"flex",alignItems:"center",color:"text.secondary",cursor:"grab","&:active":{cursor:"grabbing"}},children:a.jsx(Wd,{})}),a.jsx(I,{sx:{fontSize:{xs:"1.5rem",sm:"2rem"},color:"primary.main",fontWeight:700,minWidth:{xs:"30px",sm:"40px"}},children:H+1}),a.jsxs(q,{sx:{flex:1,minWidth:0},children:[a.jsx(q,{sx:{mb:1},children:a.jsx(Fc,{value:F,onChange:(M,U)=>{U&&N(H,U)},availableExercises:j,label:"Exercise",placeholder:"Type to search and swap...",disabled:j.length===0})}),a.jsxs(Ee,{direction:"row",spacing:1,flexWrap:"wrap",sx:{mb:2},children:[a.jsx(Je,{label:F["Primary Muscle"],size:"small",variant:"outlined",sx:{borderColor:"primary.main",color:"primary.main",fontSize:{xs:"0.65rem",sm:"0.75rem"}}}),a.jsx(Je,{label:F.Equipment,size:"small",variant:"outlined",sx:{borderColor:"text.secondary",color:"text.secondary",fontSize:{xs:"0.65rem",sm:"0.75rem"}}})]}),a.jsxs(Ee,{direction:"row",spacing:{xs:1,sm:2},sx:{flexWrap:{xs:"wrap",sm:"nowrap"}},children:[a.jsx(et,{type:"tel",inputMode:"decimal",label:"Target Weight (lbs)",value:W.weight===""?"":W.weight,onChange:M=>E(L,M.target.value),onBlur:M=>k(L,M.target.value),onFocus:M=>M.target.select(),placeholder:"",size:"small",inputProps:{min:0,max:500,step:2.5,pattern:"[0-9]*([.,][0-9]+)?","aria-label":`Target weight in pounds for ${L}`},sx:{minWidth:{xs:100,sm:120},flex:{xs:"1 1 45%",sm:"none"}}}),a.jsx(et,{type:"tel",inputMode:"numeric",label:"Target Reps",value:W.targetReps===""?"":W.targetReps,onChange:M=>A(L,M.target.value),onFocus:M=>M.target.select(),placeholder:"",size:"small",inputProps:{min:1,max:20,step:1,pattern:"\\d*","aria-label":`Target repetitions for ${L}`},sx:{minWidth:{xs:100,sm:120},flex:{xs:"1 1 45%",sm:"none"}}})]})]})]})})})})},L)})})}),a.jsx(Pe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:a.jsxs(Ee,{direction:"row",spacing:2,sx:{mt:{xs:3,sm:4},px:{xs:.5,sm:0}},justifyContent:"center",children:[a.jsx(xe,{variant:"contained",size:"large",onClick:i,sx:{borderRadius:2,minWidth:{xs:"60px",sm:"80px"},px:{xs:1,sm:2},py:1.5,fontSize:{xs:"1.2rem",sm:"1.5rem"},fontWeight:600,bgcolor:"rgb(237, 63, 39)",color:"white","&:hover":{bgcolor:"rgb(200, 50, 30)"}},children:""}),a.jsx(xe,{variant:"contained",size:"large",startIcon:y?a.jsx(Ao,{}):a.jsx(Dd,{}),onClick:P,disabled:y,sx:{borderRadius:2,flex:1,maxWidth:{xs:"130px",sm:"150px"},px:{xs:2,sm:3},py:1.5,fontSize:{xs:"0.9rem",sm:"1.1rem"},fontWeight:600,bgcolor:y?"rgb(76, 175, 80)":"rgb(254, 178, 26)",color:"white","&:hover":{bgcolor:y?"rgb(56, 142, 60)":"rgb(245, 158, 11)"},"&:disabled":{bgcolor:"rgb(76, 175, 80)",color:"white",opacity:.8}},children:y?"Saved!":"Save"}),a.jsx(xe,{variant:"contained",size:"large",startIcon:a.jsx(Fn,{}),onClick:z,sx:{borderRadius:2,flex:1,maxWidth:{xs:"130px",sm:"150px"},px:{xs:2,sm:3},py:1.5,fontSize:{xs:"0.9rem",sm:"1.1rem"},fontWeight:600,bgcolor:"rgb(19, 70, 134)",color:"white","&:hover":{bgcolor:"rgb(15, 56, 107)",transform:"translateY(-2px)",boxShadow:"0 8px 16px rgba(19, 70, 134, 0.3)"},transition:"all 0.3s ease"},children:"Begin"})]})}),a.jsx(xi,{open:b,autoHideDuration:3e3,onClose:()=>S(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:a.jsx(Ot,{severity:"success",onClose:()=>S(!1),children:"Workout saved to favorites!"})}),a.jsx(xi,{open:T.open,autoHideDuration:4e3,onClose:()=>D({...T,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:a.jsx(Ot,{severity:T.severity,onClose:()=>D({...T,open:!1}),children:T.message})})]})});uy.displayName="CustomWorkoutPreview";uy.propTypes={workout:Y.array.isRequired,workoutType:Y.string.isRequired,onStart:Y.func.isRequired,onCancel:Y.func.isRequired};const dy=x.memo(({workoutData:e,workoutPlan:t,onFinish:s,onExportCSV:i})=>{const[l,u]=x.useState(!1),[d,f]=x.useState(!1);x.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const p=()=>{try{if(!t||t.length===0){alert("Cannot save workout: No exercise data available");return}const g=oy(e);nf({name:`${g.charAt(0).toUpperCase()+g.slice(1)} Body Workout`,type:g,equipment:"all",exercises:t}),u(!0),f(!0)}catch(g){console.error("Error saving to favorites:",g),alert("Failed to save workout to favorites")}};return a.jsxs(Pe.div,{className:"screen completion-screen",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{padding:"1rem",maxWidth:"900px",margin:"0 auto"},children:[a.jsxs(Pe.div,{className:"completion-header",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,type:"spring",stiffness:200},children:[a.jsx(q,{sx:{position:"relative"},children:a.jsx(ut,{onClick:p,disabled:l,sx:{position:"absolute",top:0,right:0,color:l?"warning.main":"white","&:hover":{color:"warning.main"}},"aria-label":"Save to favorites",children:l?a.jsx(Ao,{sx:{fontSize:32}}):a.jsx(L1,{sx:{fontSize:32}})})}),a.jsx(Pe.div,{initial:{y:-20},animate:{y:[0,-10,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut"},children:a.jsx("img",{src:"/goodlift/dancing-icon.svg",alt:"Celebration",style:{width:"120px",height:"120px",marginBottom:"1rem"}})}),a.jsx("h1",{children:"Workout Complete!"}),a.jsxs("p",{className:"completion-time",children:["Total Time: ",a.jsx("strong",{children:dj(e.duration)})]})]}),a.jsxs("div",{className:"workout-summary-container",children:[a.jsx(I,{variant:"h4",component:"h2",sx:{fontWeight:700,mb:3,textAlign:"center",color:"text.primary"},children:"Workout Summary"}),a.jsx(Ee,{spacing:2,children:Object.entries(e.exercises).map(([g,y],v)=>a.jsx(Pe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3+v*.1},children:a.jsx(Ie,{sx:{borderRadius:3,transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 24px rgba(48, 86, 105, 0.15)"}},children:a.jsxs(Le,{children:[a.jsx(I,{variant:"h6",component:"h3",sx:{color:"primary.main",fontWeight:600,mb:2,pb:1,borderBottom:"2px solid",borderColor:"rgba(138, 190, 185, 0.2)"},children:g}),a.jsx(Ee,{spacing:1,children:y.sets.map((b,S)=>a.jsxs(q,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:1.5,bgcolor:"rgba(183, 229, 205, 0.3)",borderRadius:2,transition:"all 0.2s ease","&:hover":{bgcolor:"primary.main",color:"white","& .MuiChip-root":{bgcolor:"white",color:"primary.main"}}},children:[a.jsx(Je,{label:`Set ${b.set}`,size:"small",sx:{fontWeight:600,minWidth:60}}),a.jsxs(I,{sx:{fontWeight:600,fontSize:"1rem"},children:[b.weight," lbs  ",b.reps," reps"]})]},S))})]})})},g))})]}),a.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:a.jsxs(Ee,{direction:{xs:"column",sm:"row"},spacing:2,sx:{mt:4},children:[a.jsx(xe,{variant:"outlined",size:"large",startIcon:a.jsx(fk,{}),onClick:i,sx:{flex:1,borderRadius:2,py:1.5,fontSize:"1rem",fontWeight:600,borderColor:"secondary.main",color:"secondary.main","&:hover":{borderColor:"secondary.dark",bgcolor:"rgba(193, 120, 90, 0.1)"}},children:"Download CSV"}),a.jsx(xe,{variant:"contained",size:"large",startIcon:a.jsx(hk,{}),onClick:s,sx:{flex:1,borderRadius:2,py:1.5,fontSize:"1rem",fontWeight:600,bgcolor:"primary.main","&:hover":{bgcolor:"primary.dark"}},children:"Finish"})]})}),a.jsx(xi,{open:d,autoHideDuration:3e3,onClose:()=>f(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:a.jsx(Ot,{severity:"success",onClose:()=>f(!1),children:"Workout saved to favorites!"})})]})});dy.displayName="CompletionScreen";dy.propTypes={workoutData:Y.object.isRequired,workoutPlan:Y.array,onFinish:Y.func.isRequired,onExportCSV:Y.func.isRequired};const mj=({workoutSessions:e=[],onDayClick:t,viewMode:s="weekly"})=>{const[i,l]=x.useState(new Date);x.useEffect(()=>{l(new Date)},[s]);const u=x.useMemo(()=>{const A=new Map;return e.forEach(N=>{const z=new Date(N.date),P=`${z.getFullYear()}-${String(z.getMonth()+1).padStart(2,"0")}-${String(z.getDate()).padStart(2,"0")}`;A.has(P)||A.set(P,{sessions:[],durations:{}});const F=A.get(P);F.sessions.push(N),F.durations[N.type]||(F.durations[N.type]=0),F.durations[N.type]+=N.duration||0}),A},[e]),d=A=>{const N=`${A.getFullYear()}-${String(A.getMonth()+1).padStart(2,"0")}-${String(A.getDate()).padStart(2,"0")}`;return u.get(N)||{sessions:[],durations:{}}},f=()=>{const A=i.getFullYear(),N=i.getMonth(),z=i.getDate(),P=new Date(A,N,z).getDay(),F=new Date(A,N,z-P),H=[];for(let L=0;L<7;L++){const W=new Date(F);W.setDate(F.getDate()+L),H.push(W)}return H},p=()=>{const A=i.getFullYear(),N=i.getMonth(),z=new Date(A,N,1),F=new Date(A,N+1,0).getDate(),H=z.getDay(),L=[];for(let W=0;W<H;W++)L.push(null);for(let W=1;W<=F;W++){const M=new Date(A,N,W);L.push(M)}return L},g=()=>{const A=new Date(i);s==="weekly"?A.setDate(i.getDate()-7):A.setMonth(i.getMonth()-1),l(A)},y=()=>{const A=new Date(i);s==="weekly"?A.setDate(i.getDate()+7):A.setMonth(i.getMonth()+1),l(A)},v=()=>{l(new Date)},b=()=>{if(s==="weekly"){const A=f(),N=A[0],z=A[6];return N.getMonth()===z.getMonth()?`${N.toLocaleDateString("en-US",{month:"long"})} ${N.getDate()}-${z.getDate()}, ${N.getFullYear()}`:`${N.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${z.toLocaleDateString("en-US",{month:"short",day:"numeric"})}, ${z.getFullYear()}`}return i.toLocaleDateString("en-US",{month:"long",year:"numeric"})},S=A=>{if(!A)return!1;const N=new Date;return A.getDate()===N.getDate()&&A.getMonth()===N.getMonth()&&A.getFullYear()===N.getFullYear()},T=A=>{const{sessions:N}=A;if(N.length===0)return{icon:null,bookmarks:[]};const z=N.find(H=>H.type==="upper"||H.type==="lower"||H.type==="full");if(z){const H=[];return N.some(L=>L.type==="cardio"||L.type==="hiit")&&H.push("cardio"),N.some(L=>L.type==="yoga"||L.type==="stretch")&&H.push("yoga"),{icon:z.type,bookmarks:H}}const P=N.some(H=>H.type==="cardio"||H.type==="hiit"),F=N.some(H=>H.type==="yoga"||H.type==="stretch");if(P&&F){const H=(A.durations.cardio||0)+(A.durations.hiit||0),L=(A.durations.yoga||0)+(A.durations.stretch||0);return H>=L?{icon:"cardio",bookmarks:["yoga"]}:{icon:"yoga",bookmarks:["cardio"]}}else{if(P)return{icon:"cardio",bookmarks:[]};if(F)return{icon:"yoga",bookmarks:[]}}return{icon:null,bookmarks:[]}},D=A=>{const N="/goodlift/icons/";switch(A){case"upper":return`${N}upperbody-calendaricon.svg`;case"lower":return`${N}lowerbody-calendaricon.svg`;case"full":return`${N}fullbody-calendaricon.svg`;case"cardio":return`${N}cardio-calendaricon.svg`;case"yoga":return`${N}yoga-calendaricon.svg`;default:return null}},j=A=>{switch(A){case"cardio":return"#2196f3";case"yoga":return"#9c27b0";default:return"#ccc"}},C=A=>{A&&t&&t(A)},E=(A,N)=>{(A.key==="Enter"||A.key===" ")&&N&&t&&(A.preventDefault(),t(N))},k=s==="weekly"?f():p();return a.jsxs(q,{sx:{width:"100%",bgcolor:"background.paper",borderRadius:2,p:2,boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},role:"region","aria-label":"Workout calendar",children:[a.jsxs("div",{className:"calendar-header",children:[a.jsxs("div",{className:"calendar-controls",children:[a.jsx("button",{onClick:g,className:"calendar-nav-btn","aria-label":s==="weekly"?"Previous week":"Previous month",children:""}),a.jsx("h3",{className:"calendar-period",id:"calendar-month-label",children:b()}),a.jsx("button",{onClick:y,className:"calendar-nav-btn","aria-label":s==="weekly"?"Next week":"Next month",children:""})]}),a.jsx("div",{className:"calendar-actions",children:a.jsx("button",{onClick:v,className:"calendar-today-btn","aria-label":"Go to today",children:"Today"})})]}),a.jsxs("div",{className:`calendar-grid ${s==="weekly"?"weekly":"monthly"}`,role:"grid","aria-labelledby":"calendar-month-label",children:[s==="weekly"?["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].map(A=>a.jsx("div",{className:"calendar-day-label",role:"columnheader",children:A},A)):["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(A=>a.jsx("div",{className:"calendar-day-label",role:"columnheader",children:A},A)),k.map((A,N)=>{const z=A?d(A):{sessions:[],durations:{}},P=z.sessions.length>0,F=P?T(z):{icon:null,bookmarks:[]};return a.jsx("div",{className:`calendar-day ${A?"":"empty"} ${S(A)?"today":""} ${P?"has-activity":""}`,onClick:()=>C(A),onKeyDown:H=>E(H,A),role:"gridcell",tabIndex:A&&P?0:-1,"aria-label":A?`${A.toLocaleDateString()}, ${P?`${z.sessions.length} workout${z.sessions.length>1?"s":""}`:"no workouts"}`:"",style:{cursor:A&&P?"pointer":"default"},children:A&&a.jsx(a.Fragment,{children:a.jsxs(q,{sx:{position:"relative",width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[a.jsx("span",{className:"day-number",children:A.getDate()}),F.icon&&a.jsx(q,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},children:a.jsx("img",{src:D(F.icon),alt:F.icon,style:{width:"40px",height:"40px",opacity:(()=>{const H=z.sessions.some(W=>W.status==="completed"),L=z.sessions.some(W=>W.status==="planned");return H?.8:L?.5:.8})(),filter:!z.sessions.some(L=>L.status==="completed")&&z.sessions.some(L=>L.status==="planned")?"grayscale(1)":"none"}})}),F.bookmarks.length>0&&a.jsx(q,{sx:{position:"absolute",top:"2px",right:"2px",display:"flex",flexDirection:"column",gap:"2px",zIndex:1},children:F.bookmarks.map((H,L)=>a.jsx(q,{sx:{width:"8px",height:"12px",backgroundColor:j(H),borderRadius:"0 0 2px 2px",clipPath:"polygon(0 0, 100% 0, 100% 80%, 50% 60%, 0 80%)"}},L))})]})})},N)})]}),a.jsxs("div",{className:"calendar-legend",children:[a.jsxs("div",{className:"legend-item",children:[a.jsx("img",{src:"/goodlift/icons/fullbody-calendaricon.svg",alt:"","aria-hidden":"true",style:{width:"16px",height:"16px"}}),a.jsx("span",{children:"Full Body"})]}),a.jsxs("div",{className:"legend-item",children:[a.jsx("img",{src:"/goodlift/icons/upperbody-calendaricon.svg",alt:"","aria-hidden":"true",style:{width:"16px",height:"16px"}}),a.jsx("span",{children:"Upper Body"})]}),a.jsxs("div",{className:"legend-item",children:[a.jsx("img",{src:"/goodlift/icons/lowerbody-calendaricon.svg",alt:"","aria-hidden":"true",style:{width:"16px",height:"16px"}}),a.jsx("span",{children:"Lower Body"})]}),a.jsxs("div",{className:"legend-item",children:[a.jsx("img",{src:"/goodlift/icons/cardio-calendaricon.svg",alt:"","aria-hidden":"true",style:{width:"16px",height:"16px"}}),a.jsx("span",{children:"Cardio"})]}),a.jsxs("div",{className:"legend-item",children:[a.jsx("img",{src:"/goodlift/icons/yoga-calendaricon.svg",alt:"","aria-hidden":"true",style:{width:"16px",height:"16px"}}),a.jsx("span",{children:"Mobility"})]}),a.jsxs("div",{className:"legend-item",children:[a.jsx(q,{sx:{width:"8px",height:"12px",backgroundColor:"#2196f3",borderRadius:"0 0 2px 2px",clipPath:"polygon(0 0, 100% 0, 100% 80%, 50% 60%, 0 80%)"},"aria-hidden":"true"}),a.jsx("span",{children:"Additional Sessions"})]})]})]})};mj.propTypes={workoutSessions:Y.arrayOf(Y.shape({date:Y.number.isRequired,type:Y.string.isRequired,duration:Y.number,status:Y.string})),onDayClick:Y.func,viewMode:Y.oneOf(["weekly","monthly"])};const EB=(e,t,s="weight")=>{if(!e||!Array.isArray(e))return[];const i=[];return[...e].reverse().forEach(u=>{if(!u.exercises||!u.exercises[t])return;const f=u.exercises[t].sets||[];if(f.length===0)return;let p;s==="weight"?p=Math.max(...f.map(g=>g.weight||0)):s==="reps"&&(p=Math.max(...f.map(g=>g.reps||0))),p>0&&i.push({date:new Date(u.date),value:p,workout:u})}),i},MB=e=>{if(!e||!Array.isArray(e))return[];const t=new Set;return e.forEach(s=>{s.exercises&&Object.keys(s.exercises).forEach(i=>{t.add(i)})}),Array.from(t).sort()},gj=()=>{const[e,t]=x.useState(!0),[s,i]=x.useState([]),[l,u]=x.useState([]),[d,f]=x.useState([]),[p,g]=x.useState([]),[y,v]=x.useState([]),[b,S]=x.useState(null),[T,D]=x.useState(null),[j,C]=x.useState([]),[E,k]=x.useState([]),[A,N]=x.useState("all"),[z,P]=x.useState(!1),[F,H]=x.useState(""),[L,W]=x.useState(!1),[M,U]=x.useState(null),[V,_]=x.useState(null),[B,O]=x.useState(!1),Q=async()=>{t(!0);try{const[$,ge,K,fe,me,Se]=await Promise.all([Ti(),Bc(),Go(),Uo(),qo(),Lc()]);i($),u(ge),f(K),g(fe),v(me),S(Se);const Oe=ty();C(Oe);try{const Be=(await(await fetch(sf)).json()).map(qe=>qe["Exercise Name"]).sort();k(Be)}catch(Qe){console.error("Error loading exercises:",Qe);const ot=MB($);k(ot)}}catch($){console.error("Error loading progress data:",$)}finally{t(!1)}};x.useEffect(()=>{Q()},[]);const ee=async $=>{window.confirm("Are you sure you want to delete this workout? This action cannot be undone.")&&(await r3($),await Q())},ye=async $=>{window.confirm("Are you sure you want to delete this stretch session? This action cannot be undone.")&&(await d3($),await Q())},ue=async $=>{window.confirm("Are you sure you want to delete this yoga session? This action cannot be undone.")&&(await h3($),await Q())},de=async $=>{window.confirm("Are you sure you want to delete this HIIT session? This action cannot be undone.")&&(await p3($),await Q())},we=async $=>{window.confirm("Are you sure you want to delete this cardio session? This action cannot be undone.")&&(await l3($),await Q())},De=($,ge)=>{U({...$,index:ge}),_("workout"),W(!0)},Me=$=>{U($),_("cardio"),W(!0)},We=$=>{U($),_("hiit"),W(!0)},Ue=$=>{U($),_("yoga"),W(!0)},st=async $=>{try{V==="workout"?await i3(M.index,$):V==="cardio"?await c3(M.id,$):V==="hiit"?await m3(M.id,$):V==="yoga"&&await f3(M.id,$),await Q(),W(!1),U(null),_(null)}catch(ge){console.error("Error saving edit:",ge),alert("Failed to save changes. Please try again.")}},_e=$=>{b3($),C(j.filter(ge=>ge.exerciseName!==$))},ke=$=>{x3($,"weight")&&(C([...j,{exerciseName:$,trackingMode:"weight"}]),P(!1),H(""))},Te=$=>{if(A==="all")return $;const ge=new Date;let K;return A==="month"?K=new Date(ge.getTime()-720*60*60*1e3):A==="2weeks"&&(K=new Date(ge.getTime()-336*60*60*1e3)),$.filter(fe=>new Date(fe.date)>=K)},Ne=(()=>{const $=Te(s),ge=Te(y),K=Te(p),fe=Te(d),me=$.length,Se=$.reduce((it,dt)=>it+(dt.duration||0),0),Oe=me>0?Math.round(Se/me/60):0,Qe=[...ge,...K],ot=Qe.length,Be=Qe.reduce((it,dt)=>it+(dt.duration||0),0),qe=ot>0?Math.round(Be/ot/60):0,Xe=fe.length,yt=fe.reduce((it,dt)=>it+(dt.duration||0),0),rt=Xe>0?Math.round(yt/Xe/60):0;return{totalWorkouts:me,avgWorkout:Oe,totalCardio:ot,avgCardio:qe,totalYoga:Xe,avgYoga:rt}})(),le=[...s.map($=>({date:$.date,type:$.type||"full",duration:$.duration||0,status:"completed"})),...p.map($=>({date:$.date,type:"hiit",duration:$.duration||0,status:"completed"})),...y.map($=>({date:$.date,type:"cardio",duration:$.duration||0,status:"completed"})),...l.map($=>({date:$.date,type:"stretch",duration:$.duration||0,status:"completed"})),...d.map($=>({date:$.date,type:"yoga",duration:$.duration||0,status:"completed"})),...(b?.sessions||[]).map($=>({date:$.date,type:$.type,duration:$.duration||60,status:$.status||"planned"}))],Ce=$=>{D($),setTimeout(()=>{const ge=document.querySelector(".activities-section");ge&&ge.scrollIntoView({behavior:"smooth",block:"start"})},100)},te=($,ge)=>{const K=new Date($),fe=new Date(ge);return K.getFullYear()===fe.getFullYear()&&K.getMonth()===fe.getMonth()&&K.getDate()===fe.getDate()},ne=T?{workouts:s.filter($=>te($.date,T)),hiit:p.filter($=>te($.date,T)),stretch:l.filter($=>te($.date,T)),yoga:d.filter($=>te($.date,T)),cardio:y.filter($=>te($.date,T))}:{workouts:s,hiit:p,stretch:l,yoga:d,cardio:y},oe=T&&(ne.workouts.length>0||ne.hiit.length>0||ne.stretch.length>0||ne.yoga.length>0||ne.cardio.length>0);return e?a.jsx(q,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:a.jsx(I,{variant:"h5",color:"text.secondary",children:"Loading..."})}):a.jsxs(q,{sx:{width:"100%",minHeight:"100vh"},children:[a.jsx(ps,{title:"Progress",subtitle:"Track your fitness journey"}),a.jsxs(q,{sx:{maxWidth:"1400px",margin:"0 auto",p:{xs:2,md:3}},children:[a.jsxs(Ee,{spacing:2,children:[a.jsx(Ie,{sx:{bgcolor:"background.paper"},children:a.jsxs(Le,{children:[a.jsxs(Ee,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[a.jsx(I,{variant:"h6",children:"Statistics"}),a.jsxs(bt,{size:"small",sx:{minWidth:120},children:[a.jsx(vt,{children:"Period"}),a.jsxs(St,{value:A,label:"Period",onChange:$=>N($.target.value),children:[a.jsx(be,{value:"all",children:"All Time"}),a.jsx(be,{value:"month",children:"Past Month"}),a.jsx(be,{value:"2weeks",children:"Past 2 Weeks"})]})]})]}),a.jsx(F1,{component:Nn,variant:"outlined",children:a.jsxs(H1,{size:"small",children:[a.jsx(_1,{children:a.jsxs(po,{children:[a.jsx(Qt,{sx:{fontWeight:700},children:"Category"}),a.jsx(Qt,{align:"right",sx:{fontWeight:700},children:"Sessions"}),a.jsx(Qt,{align:"right",sx:{fontWeight:700},children:"Avg Duration"})]})}),a.jsxs(z1,{children:[a.jsxs(po,{children:[a.jsx(Qt,{children:"Workouts"}),a.jsx(Qt,{align:"right",children:Ne.totalWorkouts}),a.jsxs(Qt,{align:"right",children:[Ne.avgWorkout,"m"]})]}),a.jsxs(po,{children:[a.jsx(Qt,{children:"Cardio & HIIT"}),a.jsx(Qt,{align:"right",children:Ne.totalCardio}),a.jsxs(Qt,{align:"right",children:[Ne.avgCardio,"m"]})]}),a.jsxs(po,{children:[a.jsx(Qt,{children:"Mobility & Yoga"}),a.jsx(Qt,{align:"right",children:Ne.totalYoga}),a.jsxs(Qt,{align:"right",children:[Ne.avgYoga,"m"]})]})]})]})})]})}),a.jsx(Ie,{sx:{bgcolor:"background.paper"},children:a.jsxs(Le,{children:[a.jsxs(Ee,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[a.jsx(I,{variant:"h6",children:"Calendar"}),a.jsx(xe,{size:"small",endIcon:B?a.jsx(I1,{}):a.jsx(B1,{}),onClick:()=>O(!B),children:B?"Monthly":"Weekly"})]}),a.jsx(mj,{workoutSessions:le,onDayClick:Ce,viewMode:B?"monthly":"weekly"}),T&&a.jsxs(q,{sx:{mt:2,p:2,bgcolor:"action.hover",borderRadius:2},children:[a.jsxs(Ee,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[a.jsx(I,{variant:"body2",sx:{fontWeight:600},children:T.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),a.jsx(ut,{size:"small",onClick:()=>D(null),children:a.jsx(am,{fontSize:"small"})})]}),oe&&a.jsxs(I,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:1},children:[ne.workouts.length+ne.hiit.length+ne.stretch.length+ne.yoga.length+ne.cardio.length," session(s) recorded"]})]})]})}),s.length>0&&a.jsx(Ie,{sx:{bgcolor:"background.paper"},children:a.jsxs(Le,{children:[a.jsxs(Ee,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[a.jsxs(I,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsx(jd,{})," Progressive Overload"]}),j.length<10&&a.jsx(xe,{size:"small",startIcon:a.jsx(Dr,{}),onClick:()=>P(!0),sx:{color:"secondary.main"},children:"Track Exercise"})]}),j.length===0?a.jsxs(q,{sx:{textAlign:"center",py:4},children:[a.jsx(I,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Track your favorite exercises to see your progress over time"}),a.jsx(xe,{variant:"contained",startIcon:a.jsx(Dr,{}),onClick:()=>P(!0),children:"Add Exercise"})]}):a.jsx(Ee,{spacing:2,children:j.map($=>{const ge=EB(s,$.exerciseName,"weight"),K=ge.length>0?ge[0].value:0,fe=ge.length>0?ge[ge.length-1].value:0,me=fe>K?"up":fe<K?"down":"same";return a.jsxs(q,{sx:{p:2,borderRadius:2,border:"1px solid",borderColor:"divider",bgcolor:"background.default"},children:[a.jsxs(Ee,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",sx:{mb:1.5},children:[a.jsx(I,{variant:"body1",sx:{fontWeight:600,flex:1},children:$.exerciseName}),a.jsx(ut,{onClick:()=>_e($.exerciseName),size:"small",sx:{color:"text.secondary"},children:a.jsx(am,{sx:{fontSize:18}})})]}),ge.length>0?a.jsxs(Ee,{direction:"row",alignItems:"center",spacing:2,sx:{justifyContent:"center",py:1},children:[a.jsxs(q,{sx:{textAlign:"center"},children:[a.jsx(I,{variant:"caption",color:"text.secondary",children:"Starting"}),a.jsxs(I,{variant:"h5",sx:{fontWeight:700,color:"primary.main"},children:[K," lbs"]})]}),a.jsxs(q,{sx:{display:"flex",alignItems:"center",px:2},children:[me==="up"&&a.jsx(jd,{sx:{fontSize:40,color:"success.main"}}),me==="down"&&a.jsx(pk,{sx:{fontSize:40,color:"error.main"}}),me==="same"&&a.jsx(mk,{sx:{fontSize:40,color:"text.secondary"}})]}),a.jsxs(q,{sx:{textAlign:"center"},children:[a.jsx(I,{variant:"caption",color:"text.secondary",children:"Current"}),a.jsxs(I,{variant:"h5",sx:{fontWeight:700,color:"secondary.main"},children:[fe," lbs"]})]})]}):a.jsx(I,{variant:"caption",color:"text.secondary",sx:{display:"block",textAlign:"center",py:2},children:"No data available"})]},$.exerciseName)})})]})}),a.jsx(Ie,{sx:{bgcolor:"background.paper"},className:"activities-section",children:a.jsxs(Le,{children:[a.jsxs(Ee,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[a.jsx(I,{variant:"h6",children:T?`Activities on ${T.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}`:"Recent Activities"}),T&&a.jsx(xe,{size:"small",onClick:()=>D(null),children:"Show All"})]}),a.jsx(Ee,{spacing:1,children:T&&!oe?a.jsx(I,{sx:{textAlign:"center",py:4,color:"text.secondary"},children:"No activities logged for this day."}):a.jsxs(a.Fragment,{children:[ne.workouts.map(($,ge)=>a.jsx(fo,{type:"workout",session:$,index:ge,onEdit:()=>De($,ge),onDelete:()=>ee(ge)},`workout-${ge}`)),ne.hiit.map($=>a.jsx(fo,{type:"hiit",session:$,onEdit:()=>We($),onDelete:()=>de($.id)},$.id)),ne.cardio.map($=>a.jsx(fo,{type:"cardio",session:$,onEdit:()=>Me($),onDelete:()=>we($.id)},$.id)),ne.yoga.map($=>a.jsx(fo,{type:"yoga",session:$,onEdit:()=>Ue($),onDelete:()=>ue($.id)},$.id)),ne.stretch.map($=>a.jsx(fo,{type:"stretch",session:$,onDelete:()=>ye($.id)},$.id)),!T&&s.length===0&&p.length===0&&l.length===0&&d.length===0&&y.length===0&&a.jsx(I,{sx:{textAlign:"center",py:4,color:"text.secondary"},children:"No activity history yet. Complete your first activity to see it here!"})]})})]})})]}),a.jsxs(ns,{open:z,onClose:()=>{P(!1),H("")},maxWidth:"xs",fullWidth:!0,children:[a.jsx(ys,{children:"Add Exercise to Track"}),a.jsxs(ss,{children:[a.jsx(et,{fullWidth:!0,placeholder:"Search exercises...",value:F,onChange:$=>H($.target.value),variant:"outlined",size:"small",sx:{mb:2,mt:1}}),a.jsx(Er,{sx:{maxHeight:400,overflow:"auto"},children:E.filter($=>!j.some(ge=>ge.exerciseName===$)).filter($=>$.toLowerCase().includes(F.toLowerCase())).map($=>a.jsx(Ws,{disablePadding:!0,children:a.jsx(gk,{onClick:()=>ke($),children:a.jsx(hi,{primary:$})})},$))})]}),a.jsx(rs,{children:a.jsx(xe,{onClick:()=>{P(!1),H("")},children:"Cancel"})})]}),M&&a.jsx(yj,{open:L,onClose:()=>{W(!1),U(null),_(null)},onSave:st,session:M,sessionType:V})]})]})},fo=({type:e,session:t,onEdit:s,onDelete:i})=>{const l=()=>a.jsx("span",{children:""}),u=()=>a.jsx("span",{children:""}),d=()=>a.jsx("span",{children:""}),f=()=>a.jsx("span",{children:""}),p=()=>{switch(e){case"hiit":return a.jsx(u,{});case"cardio":return a.jsx(d,{});case"yoga":return a.jsx(f,{});case"stretch":return a.jsx(d,{});default:return a.jsx(l,{})}},g=()=>{switch(e){case"hiit":return"HIIT Session";case"cardio":return t.cardioType||"Cardio";case"yoga":return"Yoga Session";case"stretch":return"Stretch Session";default:return t.type?`${t.type.charAt(0).toUpperCase()+t.type.slice(1)} Body`:"Workout"}},y=()=>{switch(e){case"hiit":return"secondary.main";case"cardio":return"#2196f3";case"yoga":return"#9c27b0";case"stretch":return"success.main";default:return"primary.main"}};return a.jsx(Ie,{sx:{borderLeft:"3px solid",borderLeftColor:y(),borderRadius:1,transition:"all 0.2s ease","&:hover":{transform:"translateX(2px)",boxShadow:"0 2px 8px rgba(48, 86, 105, 0.12)"}},children:a.jsx(Le,{sx:{p:1.5,"&:last-child":{pb:1.5}},children:a.jsxs(q,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs(q,{sx:{flex:1},children:[a.jsxs(Ee,{direction:"row",spacing:.75,alignItems:"center",sx:{mb:.25},children:[p(),a.jsx(I,{variant:"body2",sx:{fontWeight:600,fontSize:"0.875rem"},children:g()}),a.jsxs(I,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem"},children:[" ",CB(t.date)]}),t.isPartial&&a.jsx(Je,{label:"Partial",size:"small",sx:{height:18,fontSize:"0.65rem"},variant:"outlined"})]}),a.jsxs(Ee,{direction:"row",spacing:1,alignItems:"center",children:[a.jsx(I,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem"},children:Do(t.duration)}),t.exercises&&a.jsxs(a.Fragment,{children:[a.jsx(I,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem"},children:""}),a.jsxs(I,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem"},children:[Object.keys(t.exercises).length," exercises"]})]})]})]}),a.jsxs(q,{sx:{display:"flex",gap:.5},children:[s&&a.jsx(ut,{onClick:s,size:"small",sx:{color:"text.secondary"},children:a.jsx(rg,{sx:{fontSize:18}})}),i&&a.jsx(ut,{onClick:i,size:"small",sx:{color:"text.secondary"},children:a.jsx(Fo,{sx:{fontSize:18}})})]})]})})})};fo.propTypes={type:Y.string.isRequired,session:Y.object.isRequired,onEdit:Y.func,onDelete:Y.func};const yj=({open:e,onClose:t,onSave:s,session:i,sessionType:l})=>{const[u,d]=x.useState(i.duration?Math.round(i.duration/60):0),[f,p]=x.useState(i.notes||""),[g,y]=x.useState(i.type||"full"),[v,b]=x.useState(i.cardioType||""),S=()=>{const D={duration:u*60,notes:f.trim()};l==="workout"?D.type=g:l==="cardio"&&(D.cardioType=v.trim()),s(D)},T=()=>{switch(l){case"workout":return"Edit Workout";case"cardio":return"Edit Cardio Session";case"hiit":return"Edit HIIT Session";case"yoga":return"Edit Yoga Session";default:return"Edit Session"}};return a.jsxs(ns,{open:e,onClose:t,maxWidth:"sm",fullWidth:!0,children:[a.jsx(ys,{children:T()}),a.jsx(ss,{children:a.jsxs(Ee,{spacing:2,sx:{mt:1},children:[a.jsx(et,{fullWidth:!0,type:"number",label:"Duration (minutes)",value:u,onChange:D=>d(D.target.value),inputProps:{min:0,step:1}}),l==="workout"&&a.jsxs(bt,{fullWidth:!0,children:[a.jsx(vt,{children:"Workout Type"}),a.jsxs(St,{value:g,label:"Workout Type",onChange:D=>y(D.target.value),children:[a.jsx(be,{value:"upper",children:"Upper Body"}),a.jsx(be,{value:"lower",children:"Lower Body"}),a.jsx(be,{value:"full",children:"Full Body"})]})]}),l==="cardio"&&a.jsx(et,{fullWidth:!0,label:"Cardio Type",value:v,onChange:D=>b(D.target.value)}),a.jsx(et,{fullWidth:!0,multiline:!0,rows:4,label:"Notes (optional)",value:f,onChange:D=>p(D.target.value)})]})}),a.jsxs(rs,{children:[a.jsx(xe,{onClick:t,children:"Cancel"}),a.jsx(xe,{onClick:S,variant:"contained",children:"Save Changes"})]})]})};yj.propTypes={open:Y.bool.isRequired,onClose:Y.func.isRequired,onSave:Y.func.isRequired,session:Y.object.isRequired,sessionType:Y.string.isRequired};gj.propTypes={};const kB=()=>{const[e,t]=x.useState("30"),[s,i]=x.useState("15"),[l,u]=x.useState("8"),[d,f]=x.useState(0),[p,g]=x.useState(30),[y,v]=x.useState(!1),[b,S]=x.useState(!0),[T,D]=x.useState(!0),[j,C]=x.useState(0),E=x.useRef(null),k=x.useRef(null);x.useEffect(()=>(y&&!T?Yn.requestWakeLock():Yn.releaseWakeLock(),()=>{Yn.releaseWakeLock()}),[y,T]);const A=x.useCallback(async()=>{v(!1);const M=Date.now(),U=Math.floor((M-k.current)/1e3);Ct.playCompletionFanfare(),await Zg({id:`hiit_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,date:new Date().toISOString(),duration:U,workTime:parseInt(e),restTime:parseInt(s),rounds:parseInt(l)}),C(U)},[e,s,l]);x.useEffect(()=>(y?E.current=setInterval(()=>{g(M=>M<=1?b?(Ct.playLowBeep(),S(!1),parseInt(s)):(f(U=>U+1),d+1>=parseInt(l)?(A(),0):(Ct.playHighBeep(),S(!0),parseInt(e))):M-1)},1e3):E.current&&clearInterval(E.current),()=>{E.current&&clearInterval(E.current)}),[y,b,d,l,e,s,A]);const N=()=>{T&&(D(!1),f(0),g(parseInt(e)),S(!0),C(0),k.current=Date.now(),Ct.playHighBeep()),v(!0)},z=()=>{v(!1)},P=()=>{v(!1),D(!0),f(0),g(parseInt(e)),S(!0),C(0),k.current=null},F=M=>{const U=parseInt(M);return M!==""&&!isNaN(U)&&U>0},H=()=>F(e)&&F(s)&&F(l),L=()=>b?"rgb(237, 63, 39)":"rgb(19, 70, 134)",W=()=>d>=l?"Complete!":b?"WORK":"REST";return T?a.jsxs(Pe.div,{className:"screen",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[a.jsx(I,{variant:"h3",component:"h1",sx:{fontWeight:700,mb:4,textAlign:"center",color:"primary.main"},children:"HIIT Timer Setup"}),a.jsxs(q,{sx:{maxWidth:600,margin:"0 auto"},children:[a.jsx(Ie,{sx:{mb:3,borderRadius:3},children:a.jsxs(Le,{children:[a.jsxs($e,{container:!0,spacing:3,children:[a.jsx($e,{item:!0,xs:12,sm:4,children:a.jsx(et,{label:"Work Time (seconds)",type:"number",value:e,onChange:M=>t(M.target.value),fullWidth:!0,error:!F(e),helperText:F(e)?"":"Must be a positive number",InputProps:{inputProps:{min:1}}})}),a.jsx($e,{item:!0,xs:12,sm:4,children:a.jsx(et,{label:"Rest Time (seconds)",type:"number",value:s,onChange:M=>i(M.target.value),fullWidth:!0,error:!F(s),helperText:F(s)?"":"Must be a positive number",InputProps:{inputProps:{min:1}}})}),a.jsx($e,{item:!0,xs:12,sm:4,children:a.jsx(et,{label:"Rounds",type:"number",value:l,onChange:M=>u(M.target.value),fullWidth:!0,error:!F(l),helperText:F(l)?"":"Must be a positive number",InputProps:{inputProps:{min:1}}})})]}),a.jsx(q,{sx:{mt:3},children:a.jsxs(I,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["Total estimated time: ",H()?Do((parseInt(e)+parseInt(s))*parseInt(l)):"N/A"]})}),a.jsx(xe,{variant:"contained",color:"primary",size:"large",fullWidth:!0,onClick:N,startIcon:a.jsx(Fn,{}),sx:{mt:3},disabled:!H(),children:"Start Session"})]})}),a.jsx(Ie,{sx:{borderRadius:3,bgcolor:"background.paper"},children:a.jsxs(Le,{children:[a.jsx(I,{variant:"h6",sx:{mb:2,fontWeight:600},children:"About HIIT Training"}),a.jsx(I,{variant:"body2",color:"text.secondary",children:"High-Intensity Interval Training (HIIT) alternates between intense bursts of activity and fixed periods of less-intense activity or rest. It's an efficient way to improve cardiovascular fitness and burn calories."})]})})]})]}):a.jsx(Pe.div,{className:"screen",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{width:"100%",maxWidth:"100vw",boxSizing:"border-box"},children:a.jsxs(q,{sx:{maxWidth:600,margin:"0 auto",textAlign:"center",padding:{xs:"1rem",sm:"2rem"},width:"100%",boxSizing:"border-box"},children:[a.jsx(Ie,{sx:{borderRadius:3,p:{xs:2,sm:3,md:4},bgcolor:L(),color:"white",minHeight:"400px",display:"flex",flexDirection:"column",justifyContent:"center",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.3)"},children:a.jsxs(Le,{children:[a.jsx(I,{variant:"h2",sx:{fontWeight:700,mb:2,fontSize:{xs:"2rem",sm:"3rem"},textTransform:"uppercase",letterSpacing:2},children:W()}),a.jsx(I,{variant:"h1",sx:{fontWeight:700,fontSize:{xs:"5rem",sm:"6rem",md:"8rem"},mb:2,fontFamily:"monospace",lineHeight:1},children:p}),a.jsxs(I,{variant:"h5",sx:{mb:4,opacity:.9,fontSize:{xs:"1rem",sm:"1.25rem"}},children:["Round ",d+1," of ",parseInt(l)]}),a.jsxs(q,{sx:{display:"flex",gap:2,justifyContent:"center",flexWrap:"wrap"},children:[!y&&d<parseInt(l)?a.jsx(xe,{variant:"contained",size:"large",onClick:N,startIcon:a.jsx(Fn,{}),sx:{bgcolor:"white",color:L(),"&:hover":{bgcolor:"rgba(255, 255, 255, 0.9)"}},children:d===0?"Start":"Resume"}):y?a.jsx(xe,{variant:"contained",size:"large",onClick:z,startIcon:a.jsx(Ho,{}),sx:{bgcolor:"white",color:L(),"&:hover":{bgcolor:"rgba(255, 255, 255, 0.9)"}},children:"Pause"}):null,a.jsx(xe,{variant:"outlined",size:"large",onClick:P,startIcon:a.jsx(yk,{}),sx:{borderColor:"white",color:"white","&:hover":{borderColor:"white",bgcolor:"rgba(255, 255, 255, 0.1)"}},children:"Reset"})]}),d>=parseInt(l)&&a.jsxs(q,{sx:{mt:4,width:"100%"},children:[a.jsx(I,{variant:"h4",sx:{mb:2,fontSize:{xs:"1.5rem",sm:"2rem"}},children:" Workout Complete!"}),a.jsxs(I,{variant:"h6",sx:{fontSize:{xs:"1rem",sm:"1.25rem"}},children:["Total Time: ",Do(j)]})]})]})}),a.jsx(Ie,{sx:{mt:3,borderRadius:3},children:a.jsx(Le,{children:a.jsxs(q,{sx:{display:"flex",justifyContent:"space-around",flexWrap:"wrap",gap:2},children:[a.jsxs(q,{children:[a.jsx(I,{variant:"caption",color:"text.secondary",children:"Work Time"}),a.jsxs(I,{variant:"h6",color:"primary",children:[parseInt(e),"s"]})]}),a.jsxs(q,{children:[a.jsx(I,{variant:"caption",color:"text.secondary",children:"Rest Time"}),a.jsxs(I,{variant:"h6",color:"primary",children:[parseInt(s),"s"]})]}),a.jsxs(q,{children:[a.jsx(I,{variant:"caption",color:"text.secondary",children:"Total Rounds"}),a.jsx(I,{variant:"h6",color:"primary",children:parseInt(l)})]})]})})})]})})},Bs={MAX_POWER:{name:"Maximum Power (1:4)",workSeconds:20,restSeconds:80,description:"Maximum power development, allows full recovery, sustainable anaerobic training",guideSection:"1.2",difficulty:"beginner"},BALANCED:{name:"Balanced (1:2)",workSeconds:30,restSeconds:60,description:"Balanced anaerobic-aerobic stimulus, moderate cardiovascular demand",guideSection:"1.2",difficulty:"intermediate"},CONDITIONING:{name:"Conditioning (1:1)",workSeconds:45,restSeconds:45,description:"Aerobic-dominant stimulus, sustainable intensity, excellent for conditioning",guideSection:"1.2",difficulty:"intermediate"},METABOLIC:{name:"Metabolic (2:1)",workSeconds:40,restSeconds:20,description:"High intensity, significant metabolic demand, requires higher fitness base",guideSection:"1.2",difficulty:"advanced"},TABATA:{name:"Tabata",workSeconds:20,restSeconds:10,description:"Maximum intensity protocol, 8 rounds per exercise",guideSection:"1.2",difficulty:"advanced"},REHIT:{name:"REHIT",workSeconds:20,restSeconds:150,description:"Maximum intensity, minimal total time, advanced only",guideSection:"1.2",difficulty:"advanced"}},fy={BODYWEIGHT:{name:"Bodyweight HIIT",benefits:["Fat loss","Cardiovascular health","Full-body conditioning"],guideSection:"2"},PLYOMETRIC:{name:"Plyometric HIIT",benefits:["Power development","Explosive strength","Athletic performance"],guideSection:"3"},CYCLING:{name:"Cycling HIIT",benefits:["Low-impact","Cardiovascular fitness","Leg strength"],guideSection:"4"},ROWING:{name:"Rowing HIIT",benefits:["Full-body engagement","Low-impact","Cardiovascular health"],guideSection:"5"},ELLIPTICAL:{name:"Elliptical HIIT",benefits:["Very low-impact","Joint-friendly","Cardiovascular fitness"],guideSection:"6"},STEP:{name:"Step Platform HIIT",benefits:["Lower body power","Coordination","Metabolic conditioning"],guideSection:"7"}},Vm=e=>{const{level:t="intermediate",protocol:s="BALANCED",exercises:i=[],lowerImpact:l=!1}=e,u=Bs[s],d=i.filter(T=>{const D=T["HIIT Compatible"]==="Yes"||T["Workout Type"]&&T["Workout Type"].includes("HIIT"),j=T.Equipment==="Bodyweight";return D&&j}),f=l?d.filter(T=>T.Difficulty==="Beginner"||T.Difficulty==="Intermediate"):d;let p,g,y,v;switch(t){case"beginner":p=2,g=6,y=5,v=5;break;case"intermediate":p=2,g=8,y=5,v=5;break;case"advanced":p=s==="TABATA"?4:3,g=s==="TABATA"?4:8,y=3,v=3;break;default:p=2,g=8,y=5,v=5}const b=Nd(f,g);return{type:"bodyweight_hiit",level:t,protocol:u,warmup:{duration:y*60,exercises:PB(t)},mainWorkout:{rounds:p,exercises:b.map(T=>({name:T["Exercise Name"],primaryMuscle:T["Primary Muscle"],secondaryMuscles:T["Secondary Muscles"],workSeconds:u.workSeconds,restSeconds:u.restSeconds,difficulty:T.Difficulty,equipment:T.Equipment}))},cooldown:{duration:v*60,exercises:Tj()},totalDuration:OB(y,v,p,g,u),guideReference:"Sections 2.2-2.4"}},xj=e=>{const{level:t="intermediate",protocol:s="BALANCED",exercises:i=[],lowerImpact:l=!1}=e,u=Bs[s],f=i.filter(S=>{const T=S["HIIT Compatible"]==="Yes"||S["Workout Type"]&&S["Workout Type"].includes("HIIT"),D=S.Progression==="Power Development",j=S["Exercise Name"]&&S["Exercise Name"].toLowerCase().includes("jump");return T&&D||j}).filter(S=>!(l&&S.Difficulty==="Advanced"||t==="beginner"&&S.Difficulty==="Advanced")),p=4,g=5,y=4,v=4,b=[];for(let S=0;S<p;S++){const T=Nd(f,g);b.push({circuitNumber:S+1,exercises:T.map(D=>({name:D["Exercise Name"],primaryMuscle:D["Primary Muscle"],secondaryMuscles:D["Secondary Muscles"],workSeconds:40,restSeconds:20,difficulty:D.Difficulty,equipment:D.Equipment}))})}return{type:"plyometric_hiit",level:t,protocol:u,warmup:{duration:y*60,exercises:AB()},mainWorkout:{circuits:b},cooldown:{duration:v*60,exercises:Tj()},totalDuration:y*60+p*g*60+v*60,guideReference:"Section 3.2"}},bj=e=>{const{level:t="intermediate"}=e;let s;switch(t){case"beginner":s={type:"cycling_hiit",level:"beginner",protocol:Bs.BALANCED,name:"Steady State Intervals",warmup:{duration:300,description:"Easy pedaling, low resistance (RPE 5/10) for 3 min, gradually increase resistance (RPE 6/10) for 2 min"},mainWorkout:{rounds:10,intervals:[{type:"work",duration:30,intensity:"High resistance, 80-90 RPM, RPE 8-9/10 (sprint)"},{type:"rest",duration:60,intensity:"Low resistance, 90-100 RPM, RPE 5-6/10 (recovery)"}]},cooldown:{duration:300,description:"Easy pedaling, very low resistance (RPE 4-5/10) for 3 min, stretching and controlled breathing for 2 min"},totalDuration:1500,guideReference:"Section 4.2"};break;case"intermediate":s={type:"cycling_hiit",level:"intermediate",protocol:{name:"Pyramid Protocol"},name:"Pyramid Protocol",warmup:{duration:300,description:"Easy pedaling, gradually increasing resistance"},mainWorkout:{pyramid:[{work:30,rest:60,intensity:"RPE 9/10"},{work:60,rest:90,intensity:"RPE 8-9/10"},{work:90,rest:120,intensity:"RPE 8/10"},{work:120,rest:120,intensity:"RPE 7-8/10"},{work:90,rest:90,intensity:"RPE 8/10"},{work:60,rest:60,intensity:"RPE 9/10"},{work:30,rest:60,intensity:"RPE 10/10"}]},cooldown:{duration:300,description:"Very easy pedaling for 3 min, stretching for 2 min"},totalDuration:1800,guideReference:"Section 4.3"};break;case"advanced":s={type:"cycling_hiit",level:"advanced",protocol:Bs.REHIT,name:"REHIT Protocol",warmup:{duration:240,description:"Easy pedaling, gradually increasing resistance"},mainWorkout:{sprints:[{sprintNumber:1,duration:20,intensity:"RPE 9.5-10/10, cadence 100+ RPM",recovery:150},{sprintNumber:2,duration:20,intensity:"RPE 9.5-10/10",recovery:150},{sprintNumber:3,duration:20,intensity:"RPE 9.5-10/10 (optional)",recovery:150}]},cooldown:{duration:180,description:"Easy pedaling and breathing"},totalDuration:900,guideReference:"Section 4.4"};break}return s},vj=e=>{const{level:t="intermediate"}=e;return t==="beginner"?{type:"rowing_hiit",level:"beginner",protocol:Bs.BALANCED,name:"Distance Intervals",warmup:{duration:180,description:"Easy rowing, focusing on form (light resistance, steady 20-24 strokes/min)"},mainWorkout:{rounds:7,intervals:[{type:"work",duration:45,intensity:"Moderate-high intensity rowing (RPE 7-8/10)"},{type:"rest",duration:90,intensity:"Easy steady-state rowing (RPE 5/10)"}]},cooldown:{duration:180,description:"Easy light rowing for 2 min, breathing and stretching for 1 min"},totalDuration:1200,musclesWorked:"Glutes, quads, hamstrings, back, shoulders, core, arms",guideReference:"Section 5.2"}:{type:"rowing_hiit",level:"intermediate",protocol:{name:"Power and Endurance Mix"},name:"Power and Endurance Mix",warmup:{duration:240,description:"Easy rowing plus dynamic stretching"},mainWorkout:{blocks:[{name:"Power Focus",rounds:4,intervals:[{type:"work",duration:60,intensity:"High power output, explosive drive (RPE 8-9/10), faster stroke rate (30+ strokes/min)"},{type:"rest",duration:60,intensity:"Easy recovery rowing (RPE 5/10)"}]},{name:"Active Rest",duration:60,intensity:"Very light rowing"},{name:"Endurance Focus",rounds:3,intervals:[{type:"work",duration:120,intensity:"Steady moderate-hard intensity (RPE 7-8/10), controlled stroke rate"},{type:"rest",duration:60,intensity:"Easy recovery rowing (RPE 5/10)"}]}]},cooldown:{duration:240,description:"Very light rowing for 2 min, stretching (lower back, shoulders, hamstrings) for 2 min"},totalDuration:1500,guideReference:"Section 5.3"}},Sj=e=>{const{level:t="beginner"}=e;return{type:"elliptical_hiit",level:t,protocol:{name:"Progressive Intervals"},name:"Progressive Intervals",warmup:{duration:180,description:"Low resistance, moderate pace (RPE 5-6/10)"},mainWorkout:{rounds:[{name:"Round 1",duration:300,intervals:[{type:"work",duration:30,intensity:"Hard (RPE 8/10)"},{type:"rest",duration:30,intensity:"Easy (RPE 4/10)"}],repetitions:5},{name:"Recovery",duration:60,intensity:"Very light resistance"},{name:"Round 2",duration:360,intervals:[{type:"work",duration:40,intensity:"Hard (RPE 8/10)"},{type:"rest",duration:20,intensity:"Easy (RPE 4/10)"}],repetitions:6}]},cooldown:{duration:180,description:"Low resistance, easy pace"},totalDuration:1200,musclesWorked:"Quads, glutes, hamstrings, hip flexors, calves",guideReference:"Section 6.2"}},wj=e=>{const{exercises:t=[]}=e,s=t.filter(i=>{const l=i.Equipment&&i.Equipment.toLowerCase().includes("box"),u=i["Movement Pattern"]&&(i["Movement Pattern"].includes("Lower")||i["Movement Pattern"]==="Lower Leg"),d=i["HIIT Compatible"]==="Yes";return l||u&&d});return{type:"step_hiit",level:"intermediate",protocol:{name:"Upper and Lower Integration"},name:"Step Platform HIIT",equipment:"Adjustable step platform (height 4-8 inches)",warmup:{duration:240,exercises:["Marching on/off step (1 min)","Elevated toe taps (1 min)","Step-ups slow, controlled (1 min)","Arm circles and dynamic stretching (1 min)"]},mainWorkout:{rounds:[{name:"Round 1 - Lower Body Emphasis",duration:600,exercises:Nd(s,6).map(i=>({name:i["Exercise Name"],duration:40,rest:20})),repetitions:2},{name:"Round 2 - Total Body Integration",duration:600,exercises:Nd(s,5).map(i=>({name:i["Exercise Name"],duration:45,rest:15})),repetitions:2}]},cooldown:{duration:360,description:"Walking and breathing (2 min), lower body and hip stretching (3 min), calm breathing (1 min)"},totalDuration:1800,guideReference:"Section 7.1"}};function Nd(e,t){const s=[...e].sort(()=>Math.random()-.5);return s.slice(0,Math.min(t,s.length))}function PB(e){const t=["High Knees March (1 min)","Arm Circles + Hip Circles (1 min)","Cat-Cow Motion (1 min)","Bodyweight Squats slow (1 min)","Walking Lunges (1 min)"];return e==="advanced"?t.slice(0,3):t}function AB(){return["Light jog or high knees march (1 min)","Glute activation - glute bridges, clamshells (1 min)","Hip mobility - leg swings, circles (1 min)","Cat-Cow and arm circles (1 min)"]}function Tj(){return["Walking and deep breathing (2 min)","Standing Forward Fold (1 min)","Child's Pose (1 min)","Supine Twist Stretch (1 min)"]}function OB(e,t,s,i,l){const u=e*60,d=t*60,f=s*i*l.workSeconds,p=s*i*l.restSeconds;return u+f+p+d}const hy=e=>{const{modality:t="bodyweight",goal:s="cardiovascular"}=e;let i;switch(t){case"bodyweight":i=Vm(e);break;case"plyometric":i=xj(e);break;case"cycling":i=bj(e);break;case"rowing":i=vj(e);break;case"elliptical":i=Sj(e);break;case"step":i=wj(e);break;default:i=Vm(e)}return i.metadata={generatedAt:new Date().toISOString(),goal:s,healthBenefits:fy[t.toUpperCase()]?.benefits||[],guideSource:".github/HIIT-YOGA-GUIDE.md"},i},RB=Object.freeze(Object.defineProperty({__proto__:null,EXERCISE_CATEGORIES:fy,HIIT_PROTOCOLS:Bs,generateBodyweightSession:Vm,generateCyclingSession:bj,generateEllipticalSession:Sj,generateHIITSession:hy,generatePlyometricSession:xj,generateRowingSession:vj,generateStepSession:wj},Symbol.toStringTag,{value:"Module"})),Cj=({open:e,onClose:t,onSave:s,allExercises:i=[]})=>{const[l,u]=x.useState("plyometric"),[d,f]=x.useState("BALANCED"),[p,g]=x.useState([]),[y,v]=x.useState(null),[b,S]=x.useState([]),[T,D]=x.useState(3),[j,C]=x.useState(!1);x.useEffect(()=>{e&&(u("plyometric"),f("BALANCED"),g([]),v(null),D(3),C(!1))},[e]),x.useEffect(()=>{if(!i||i.length===0)return;let F=i;(l==="plyometric"||l==="bodyweight")&&(F=i.filter(H=>{const L=H.Equipment?.toLowerCase()||"",W=H["Workout Type"]?.toLowerCase()||"",M=H["Exercise Name"]?.toLowerCase()||"";return L.includes("bodyweight")||L.includes("none")||W.includes("hiit")||W.includes("cardio")||M.includes("jump")||M.includes("burpee")||M.includes("sprint")||M.includes("plyo")})),j&&F.length>0&&(F=F.filter(H=>{const L=H["Exercise Name"]?.toLowerCase()||"";return!(L.includes("jump")||L.includes("hop")||L.includes("bound")||L.includes("sprint"))})),S(F)},[i,l,j]);const E=()=>{if(!y)return;const F=Bs[d],H={...y,name:y["Exercise Name"]||y.name,workSeconds:F.workSeconds,restSeconds:F.restSeconds};g([...p,H]),v(null)},k=F=>{g(p.filter((H,L)=>L!==F))},A=(F,H,L)=>{g(p.map((W,M)=>M===F?{...W,[H]:L}:W))},N=()=>{if(p.length===0){alert("Please add at least one exercise to the HIIT session");return}const F=Bs[d],H=300,L=300,W=p.reduce((V,_)=>V+(_.workSeconds+_.restSeconds)*T,0),M=H+W+L,U={id:`hiit_session_${Date.now()}`,date:Date.now(),type:"hiit",exercises:null,status:"planned",notes:`Custom ${l} HIIT - ${F.name}`,completedAt:null,sessionData:{protocol:F,modality:l,warmup:{duration:H,exercises:["Dynamic stretching","Light cardio"]},mainWorkout:{exercises:p,rounds:T,workSeconds:F.workSeconds,restSeconds:F.restSeconds},cooldown:{duration:L,exercises:["Static stretching","Foam rolling"]},totalDuration:M,lowerImpact:j}};s(U),z()},z=()=>{g([]),v(null),t()},P=Bs[d];return a.jsxs(ns,{open:e,onClose:z,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{minHeight:"70vh"}},children:[a.jsx(ys,{children:a.jsxs(q,{sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsx(ra,{color:"primary"}),a.jsx(I,{variant:"h6",children:"Build Custom HIIT Session"})]})}),a.jsx(ss,{children:a.jsxs(q,{sx:{display:"flex",flexDirection:"column",gap:2,pt:1},children:[a.jsxs(Ot,{severity:"info",children:[a.jsx(I,{variant:"subtitle2",gutterBottom:!0,children:a.jsx("strong",{children:P.name})}),a.jsx(I,{variant:"body2",children:P.description}),a.jsxs(I,{variant:"caption",display:"block",sx:{mt:.5},children:["Work: ",P.workSeconds,"s | Rest: ",P.restSeconds,"s"]})]}),a.jsxs(q,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[a.jsxs(bt,{sx:{flex:1,minWidth:"200px"},children:[a.jsx(vt,{children:"Modality"}),a.jsxs(St,{value:l,label:"Modality",onChange:F=>u(F.target.value),children:[a.jsx(be,{value:"plyometric",children:"Plyometric HIIT"}),a.jsx(be,{value:"bodyweight",children:"Bodyweight HIIT"})]})]}),a.jsxs(bt,{sx:{flex:1,minWidth:"200px"},children:[a.jsx(vt,{children:"Protocol"}),a.jsx(St,{value:d,label:"Protocol",onChange:F=>f(F.target.value),children:Object.entries(Bs).map(([F,H])=>a.jsxs(be,{value:F,children:[H.name," (",H.workSeconds,":",H.restSeconds,"s)"]},F))})]}),a.jsx(et,{label:"Rounds",type:"number",value:T,onChange:F=>D(Math.max(1,Math.min(10,parseInt(F.target.value)||1))),sx:{width:"120px"},inputProps:{min:1,max:10}})]}),(l==="plyometric"||l==="bodyweight")&&a.jsx(og,{control:a.jsx(ag,{checked:j,onChange:F=>C(F.target.checked)}),label:"Lower Impact (exclude jumps and high-impact moves)"}),a.jsx(yi,{}),a.jsxs(q,{children:[a.jsx(I,{variant:"subtitle2",gutterBottom:!0,sx:{fontWeight:600},children:"Add Exercise"}),a.jsxs(q,{sx:{display:"flex",gap:1,alignItems:"flex-start"},children:[a.jsx(Fc,{value:y,onChange:(F,H)=>v(H),availableExercises:b,label:"Search exercises",placeholder:"Type to search plyometric/bodyweight exercises...",sx:{flex:1}}),a.jsx(xe,{variant:"contained",color:"primary",onClick:E,disabled:!y,startIcon:a.jsx(Dr,{}),sx:{mt:.5},children:"Add"})]}),a.jsxs(I,{variant:"caption",color:"text.secondary",sx:{mt:.5,display:"block"},children:["Available exercises: ",b.length]})]}),a.jsxs(q,{children:[a.jsxs(q,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[a.jsxs(I,{variant:"subtitle2",sx:{fontWeight:600},children:["Exercises (",p.length,")"]}),p.length>0&&a.jsx(Je,{label:`${T} rounds  ${p.length} exercises`,size:"small",color:"primary"})]}),p.length===0?a.jsx(Nn,{sx:{p:3,textAlign:"center",bgcolor:"background.default"},children:a.jsx(I,{variant:"body2",color:"text.secondary",children:"No exercises added yet. Use the search bar above to add exercises."})}):a.jsx(Er,{sx:{maxHeight:"350px",overflowY:"auto",p:0},children:p.map((F,H)=>a.jsx(Nn,{sx:{mb:1.5,border:"1px solid",borderColor:"divider"},children:a.jsxs(Ws,{sx:{flexDirection:"column",alignItems:"stretch",p:2},children:[a.jsxs(q,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1.5},children:[a.jsxs(q,{sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsx(Wd,{sx:{color:"text.disabled",cursor:"grab"}}),a.jsxs(q,{children:[a.jsxs(I,{variant:"subtitle2",sx:{fontWeight:600},children:[H+1,". ",F.name||F["Exercise Name"]]}),a.jsxs(I,{variant:"caption",color:"text.secondary",children:[F["Primary Muscle"],"  ",F.Equipment]})]})]}),a.jsx(ut,{size:"small",color:"error",onClick:()=>k(H),children:a.jsx(Fo,{})})]}),a.jsxs(q,{sx:{display:"flex",gap:1.5,flexWrap:"wrap"},children:[a.jsx(et,{size:"small",label:"Work (sec)",type:"number",value:F.workSeconds,onChange:L=>A(H,"workSeconds",parseInt(L.target.value)||P.workSeconds),sx:{width:"110px"},inputProps:{min:10,max:120}}),a.jsx(et,{size:"small",label:"Rest (sec)",type:"number",value:F.restSeconds,onChange:L=>A(H,"restSeconds",parseInt(L.target.value)||P.restSeconds),sx:{width:"110px"},inputProps:{min:0,max:180}}),a.jsx(q,{sx:{display:"flex",alignItems:"center",px:1},children:a.jsxs(I,{variant:"caption",color:"text.secondary",children:["Total per round: ",F.workSeconds+F.restSeconds,"s"]})})]})]})},H))})]}),p.length>0&&a.jsxs(Nn,{sx:{p:2,bgcolor:"background.default"},children:[a.jsx(I,{variant:"subtitle2",gutterBottom:!0,sx:{fontWeight:600},children:"Session Summary"}),a.jsxs(q,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[a.jsx(I,{variant:"caption",color:"text.secondary",children:"Warmup: 5 minutes"}),a.jsxs(I,{variant:"caption",color:"text.secondary",children:["Main workout: ",T," rounds  ",p.length," exercises = ",Math.round(p.reduce((F,H)=>F+(H.workSeconds+H.restSeconds)*T,0)/60)," minutes"]}),a.jsx(I,{variant:"caption",color:"text.secondary",children:"Cooldown: 5 minutes"}),a.jsx(yi,{sx:{my:.5}}),a.jsxs(I,{variant:"caption",sx:{fontWeight:600},children:["Total duration: ~",Math.round((600+p.reduce((F,H)=>F+(H.workSeconds+H.restSeconds)*T,0))/60)," minutes"]})]})]})]})}),a.jsxs(rs,{sx:{px:3,pb:2},children:[a.jsx(xe,{onClick:z,children:"Cancel"}),a.jsx(xe,{variant:"contained",color:"primary",onClick:N,disabled:p.length===0,children:"Save HIIT Session"})]})]})};Cj.propTypes={open:Y.bool.isRequired,onClose:Y.func.isRequired,onSave:Y.func.isRequired,allExercises:Y.array};const jj=({onNavigate:e})=>{const[t,s]=x.useState("bodyweight"),[i,l]=x.useState("intermediate"),[u,d]=x.useState("BALANCED"),[f,p]=x.useState(!1),[g,y]=x.useState("cardiovascular"),[v,b]=x.useState(!1),{data:S=[],isLoading:T}=rf({queryKey:["exercises"],queryFn:async()=>{const k=await fetch("/goodlift/data/exercises.json");if(!k.ok)throw new Error("Failed to load exercises");return k.json()},staleTime:1/0}),D=()=>{const k=hy({modality:t,level:i,protocol:u,exercises:S,lowerImpact:f,goal:g});localStorage.setItem("currentHiitSession",JSON.stringify(k)),e("hiit-session")},j=k=>{localStorage.setItem("currentHiitSession",JSON.stringify(k)),b(!1),e("hiit-session")};if(T)return a.jsx(q,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:a.jsx(Yd,{color:"secondary",size:60})});const C=Bs[u],E=fy[t.toUpperCase()];return a.jsxs(Pe.div,{className:"screen",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[a.jsxs(I,{variant:"h3",component:"h1",sx:{fontWeight:700,mb:2,textAlign:"center",color:"primary.main",display:"flex",alignItems:"center",justifyContent:"center",gap:2},children:[a.jsx(ra,{fontSize:"large"}),"HIIT Session Builder"]}),a.jsx(I,{variant:"subtitle1",sx:{textAlign:"center",mb:4,color:"text.secondary"},children:"Science-backed HIIT workouts based on .github/HIIT-YOGA-GUIDE.md"}),a.jsxs(q,{sx:{maxWidth:800,margin:"0 auto"},children:[a.jsxs(Ot,{severity:"info",sx:{mb:3},children:[a.jsxs(I,{variant:"subtitle2",gutterBottom:!0,children:[a.jsx("strong",{children:"Selected Protocol:"})," ",C.name]}),a.jsx(I,{variant:"body2",children:C.description}),a.jsxs(I,{variant:"caption",display:"block",sx:{mt:1},children:["Guide Reference: Section ",C.guideSection," | Difficulty: ",C.difficulty]})]}),a.jsxs($e,{container:!0,spacing:3,children:[a.jsx($e,{item:!0,xs:12,md:6,children:a.jsx(Ie,{children:a.jsxs(Le,{children:[a.jsxs(I,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsx(yn,{}),"Modality"]}),a.jsxs(bt,{fullWidth:!0,sx:{mt:2},children:[a.jsx(vt,{children:"HIIT Type"}),a.jsxs(St,{value:t,label:"HIIT Type",onChange:k=>s(k.target.value),children:[a.jsx(be,{value:"bodyweight",children:"Bodyweight HIIT"}),a.jsx(be,{value:"plyometric",children:"Plyometric HIIT"}),a.jsx(be,{value:"cycling",children:"Cycling HIIT"}),a.jsx(be,{value:"rowing",children:"Rowing HIIT"}),a.jsx(be,{value:"elliptical",children:"Elliptical HIIT"}),a.jsx(be,{value:"step",children:"Step Platform HIIT"})]})]}),E&&a.jsxs(q,{sx:{mt:2},children:[a.jsxs(I,{variant:"caption",color:"text.secondary",children:["Guide Section: ",E.guideSection]}),a.jsx(q,{sx:{mt:1,display:"flex",flexWrap:"wrap",gap:1},children:E.benefits.map((k,A)=>a.jsx(Je,{label:k,size:"small",color:"primary",variant:"outlined"},A))})]})]})})}),a.jsx($e,{item:!0,xs:12,md:6,children:a.jsx(Ie,{children:a.jsxs(Le,{children:[a.jsx(I,{variant:"h6",gutterBottom:!0,children:"Experience Level"}),a.jsxs(bt,{fullWidth:!0,sx:{mt:2},children:[a.jsx(vt,{children:"Level"}),a.jsxs(St,{value:i,label:"Level",onChange:k=>l(k.target.value),children:[a.jsx(be,{value:"beginner",children:"Beginner"}),a.jsx(be,{value:"intermediate",children:"Intermediate"}),a.jsx(be,{value:"advanced",children:"Advanced"})]})]}),a.jsxs(I,{variant:"body2",sx:{mt:2},color:"text.secondary",children:[i==="beginner"&&"Lower intensity, longer rest, focus on form",i==="intermediate"&&"Moderate intensity, balanced work-rest",i==="advanced"&&"High intensity, shorter rest, maximum effort"]})]})})}),a.jsx($e,{item:!0,xs:12,md:6,children:a.jsx(Ie,{children:a.jsxs(Le,{children:[a.jsx(I,{variant:"h6",gutterBottom:!0,children:"Work-to-Rest Ratio"}),a.jsxs(bt,{fullWidth:!0,sx:{mt:2},children:[a.jsx(vt,{children:"Protocol"}),a.jsx(St,{value:u,label:"Protocol",onChange:k=>d(k.target.value),children:Object.entries(Bs).map(([k,A])=>a.jsxs(be,{value:k,children:[A.name," (",A.workSeconds,":",A.restSeconds,"s)"]},k))})]})]})})}),a.jsx($e,{item:!0,xs:12,md:6,children:a.jsx(Ie,{children:a.jsxs(Le,{children:[a.jsx(I,{variant:"h6",gutterBottom:!0,children:"Health Goal"}),a.jsxs(bt,{fullWidth:!0,sx:{mt:2},children:[a.jsx(vt,{children:"Goal"}),a.jsxs(St,{value:g,label:"Goal",onChange:k=>y(k.target.value),children:[a.jsx(be,{value:"fat_loss",children:"Fat Loss"}),a.jsx(be,{value:"cardiovascular",children:"Cardiovascular Health"}),a.jsx(be,{value:"power",children:"Power Development"})]})]})]})})}),(t==="bodyweight"||t==="plyometric")&&a.jsx($e,{item:!0,xs:12,children:a.jsx(Ie,{children:a.jsxs(Le,{children:[a.jsx(I,{variant:"h6",gutterBottom:!0,children:"Options"}),a.jsxs(q,{sx:{mt:2},children:[a.jsxs(xe,{variant:f?"contained":"outlined",onClick:()=>p(!f),fullWidth:!0,children:[f?" ":"","Lower-Impact Modifications"]}),a.jsx(I,{variant:"caption",display:"block",sx:{mt:1},color:"text.secondary",children:"Use lower-impact alternatives to reduce joint stress (e.g., step instead of jump)"})]})]})})})]}),a.jsxs(q,{sx:{mt:4,textAlign:"center",display:"flex",flexDirection:"column",gap:2,alignItems:"center"},children:[a.jsx(xe,{variant:"contained",size:"large",onClick:D,sx:{minWidth:250,py:1.5,fontSize:"1.1rem"},children:"Generate HIIT Session"}),a.jsx(yi,{sx:{width:"100%",maxWidth:400},children:a.jsx(I,{variant:"caption",color:"text.secondary",children:"OR"})}),a.jsx(xe,{variant:"outlined",size:"large",startIcon:a.jsx(R1,{}),onClick:()=>b(!0),sx:{minWidth:250,py:1.5,fontSize:"1.1rem"},children:"Build Custom Session"}),a.jsx(I,{variant:"caption",color:"text.secondary",sx:{maxWidth:400,textAlign:"center"},children:"Build your own HIIT session exercise-by-exercise with custom work/rest intervals"})]}),a.jsx(Ot,{severity:"success",sx:{mt:3},children:a.jsx(I,{variant:"body2",children:"All HIIT protocols are based on evidence-based research from .github/HIIT-YOGA-GUIDE.md. Sessions include proper warm-up, main workout, and cool-down sequences with progressive overload support."})})]}),a.jsx(Cj,{open:v,onClose:()=>b(!1),onSave:j,allExercises:S})]})};jj.propTypes={onNavigate:Y.func.isRequired};const _s={IDLE:"idle",RUNNING:"running",PAUSED:"paused",COMPLETE:"complete"},zn={WARMUP:"warmup",WORK:"work",REST:"rest"},Dj=({exercises:e=[],rounds:t=1,workTime:s=30,restTime:i=15,onComplete:l=()=>{}}={})=>{const[u,d]=x.useState(_s.IDLE),[f,p]=x.useState(zn.WARMUP),[g,y]=x.useState(0),[v,b]=x.useState(0),[S,T]=x.useState(0),[D,j]=x.useState(0),C=x.useRef(null),E=x.useRef(null),k=x.useCallback(()=>!e||e.length===0?null:e[v],[e,v]),A=x.useCallback(()=>{if(!e||e.length===0)return 0;const M=e.length*t,U=g*e.length+v;return Math.min(100,U/M*100)},[e,t,g,v]),N=x.useCallback(()=>{d(_s.RUNNING),f===zn.WARMUP&&S===0&&(p(zn.WORK),T(s)),E.current=Date.now()},[f,S,s]),z=x.useCallback(()=>{d(_s.PAUSED)},[]),P=x.useCallback(()=>{d(_s.RUNNING),E.current=Date.now()},[]),F=x.useCallback(()=>{d(_s.IDLE),p(zn.WARMUP),y(0),b(0),T(0),j(0),C.current&&clearInterval(C.current)},[]),H=x.useCallback(()=>{v<e.length-1?(b(M=>M+1),p(zn.WORK),T(s)):g<t-1?(y(M=>M+1),b(0),p(zn.WORK),T(s)):(d(_s.COMPLETE),p(zn.COMPLETE),l())},[v,g,e.length,t,s,l]),L=x.useCallback(()=>{v>0?(b(M=>M-1),p(zn.WORK),T(s)):g>0&&(y(M=>M-1),b(e.length-1),p(zn.WORK),T(s))},[v,g,e.length,s]);x.useEffect(()=>{if(u===_s.RUNNING)return C.current=setInterval(()=>{T(M=>{if(M<=1){if(f===zn.WORK)return p(zn.REST),i;if(f===zn.REST)return v<e.length-1?(b(U=>U+1),p(zn.WORK),s):g<t-1?(y(U=>U+1),b(0),p(zn.WORK),s):(d(_s.COMPLETE),p(zn.COMPLETE),l(),0)}return M-1}),j(M=>M+1)},1e3),()=>{C.current&&clearInterval(C.current)}},[u,f,v,g,e.length,t,s,i,l]);const W=x.useCallback(M=>{const U=Math.floor(M/60),V=M%60;return`${U}:${V.toString().padStart(2,"0")}`},[]);return{timerState:u,currentPhase:f,currentRound:g,currentExerciseIndex:v,timeRemaining:S,totalElapsedTime:D,currentExercise:k(),progress:A(),isRunning:u===_s.RUNNING,isPaused:u===_s.PAUSED,isComplete:u===_s.COMPLETE,start:N,pause:z,resume:P,stop:F,skipToNext:H,skipToPrevious:L,formatTime:W}},Ej=({onNavigate:e})=>{const[t,s]=x.useState(null),[i,l]=x.useState(!1),[u,d]=x.useState(""),[f,p]=x.useState(5),g=x.useCallback(()=>{l(!0)},[]),y=Dj({exercises:t?.mainWorkout?.exercises||[],rounds:t?.mainWorkout?.rounds||1,workTime:t?.protocol?.workSeconds||30,restTime:t?.protocol?.restSeconds||15,onComplete:g}),{currentPhase:v,currentRound:b,timeRemaining:S,totalElapsedTime:T,currentExercise:D,progress:j,isRunning:C,isPaused:E,isComplete:k,start:A,pause:N,resume:z,stop:P,skipToNext:F,skipToPrevious:H,formatTime:L}=y;x.useEffect(()=>{const B=localStorage.getItem("currentHiitSession");if(B){const O=JSON.parse(B);s(O)}},[]),x.useEffect(()=>{k&&l(!0)},[k]);const W=()=>{C?N():E?z():A()},M=()=>{P(),l(!0)},U=async()=>{if(!t)return;const B=sessionStorage.getItem("currentWorkoutPlanContext"),O=B?JSON.parse(B):null,Q={type:t.type||"hiit",date:Date.now(),duration:T||t.totalDuration,level:t.level,protocol:t.protocol?.name,modality:t.type,perceivedExertion:f,notes:u,completed:!0,metadata:t.metadata,planId:O?.planId||null,planDay:O?.planDay??null};await Zg(Q),sessionStorage.removeItem("currentWorkoutPlanContext"),l(!1),e&&e("progress")},V=()=>{if(!t)return null;if(v==="warmup")return{title:"Warm-up",description:t.warmup?.exercises?.map(B=>B.name).join(", ")||"Prepare your body",icon:a.jsx(yn,{})};if(v==="work"||v==="rest"){const B=D;return B?{title:B.name||B["Exercise Name"]||"Exercise",description:`Round ${b+1} of ${t.mainWorkout?.rounds||1}`,muscles:`${B.primaryMuscle||B["Primary Muscle"]||""}${B.secondaryMuscles||B["Secondary Muscles"]?`  ${B.secondaryMuscles||B["Secondary Muscles"]}`:""}`,modification:B.modification||B.Modification,icon:a.jsx(yn,{})}:null}return v==="cooldown"?{title:"Cool-down",description:t.cooldown?.exercises?.map(B=>B.name).join(", ")||"Stretch and recover",icon:a.jsx(Ys,{})}:v==="complete"?{title:"Session Complete!",description:"Great work!",icon:a.jsx(Ys,{})}:null};if(!t)return a.jsxs(q,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"50vh",gap:2,p:3},children:[a.jsx(I,{variant:"h6",color:"text.secondary",children:"No session loaded"}),a.jsx(I,{variant:"body2",color:"text.secondary",sx:{textAlign:"center"},children:"Please select a HIIT session from the calendar or generate a new session."}),e&&a.jsx(xe,{variant:"contained",color:"primary",onClick:()=>e("hiit-selection"),children:"Generate HIIT Session"})]});if(!t.mainWorkout||!t.mainWorkout.exercises||t.mainWorkout.exercises.length===0)return a.jsxs(q,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"50vh",gap:2,p:3},children:[a.jsx(I,{variant:"h6",color:"error",children:"Invalid session data"}),a.jsx(I,{variant:"body2",color:"text.secondary",sx:{textAlign:"center"},children:"This session does not have exercises. Please regenerate the session or select a different one."}),e&&a.jsx(xe,{variant:"contained",color:"primary",onClick:()=>e("hiit-selection"),children:"Generate New Session"})]});const _=V();return a.jsxs(q,{sx:{width:"100%",minHeight:"100vh"},children:[a.jsx(ps,{title:t.protocol?.name||"HIIT Session",icon:"",action:a.jsx(Je,{label:`${t.level||"intermediate"} level`,color:"primary",size:"small"})}),a.jsxs(Pe.div,{className:"screen",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{padding:"1rem",maxWidth:"900px",margin:"0 auto"},children:[a.jsx(Ie,{sx:{mb:3},children:a.jsxs(Le,{children:[a.jsx(I,{variant:"subtitle2",gutterBottom:!0,id:"session-progress-label",children:"Session Progress"}),a.jsx(Mr,{variant:"determinate",value:j,sx:{height:8,borderRadius:4},"aria-labelledby":"session-progress-label","aria-valuenow":j,"aria-valuemin":0,"aria-valuemax":100})]})}),a.jsx(Ie,{sx:{mb:3,bgcolor:v==="work"?"rgba(237, 63, 39, 0.05)":"background.paper"},children:a.jsx(Le,{children:a.jsxs(Ee,{spacing:2,children:[a.jsxs(q,{sx:{display:"flex",alignItems:"center",gap:1},children:[_?.icon,a.jsxs(I,{variant:"overline",sx:{fontWeight:600},"aria-live":"polite",children:[v==="work"&&"WORK",v==="rest"&&"REST",v==="warmup"&&"WARMUP",v==="cooldown"&&"COOLDOWN",v==="complete"&&"COMPLETE"]})]}),a.jsx(I,{variant:"h3",sx:{fontWeight:700,color:"primary.main"},role:"heading","aria-level":1,children:_?.title}),a.jsx(I,{variant:"body1",color:"text.secondary",children:_?.description}),_?.muscles&&a.jsxs(I,{variant:"body2",color:"text.secondary",children:[a.jsx("strong",{children:"Muscles:"})," ",_.muscles]}),_?.modification&&a.jsxs(Ot,{severity:"info",sx:{mt:1},children:[a.jsx("strong",{children:"Lower-Impact Alternative:"})," ",_.modification]}),a.jsxs(q,{sx:{textAlign:"center",py:3,bgcolor:"rgba(19, 70, 134, 0.05)",borderRadius:2},children:[a.jsx(uc,{sx:{fontSize:48,color:"primary.main",mb:1},"aria-hidden":"true"}),a.jsx(I,{variant:"h2",sx:{fontWeight:800,color:"primary.main"},"aria-live":"polite","aria-atomic":"true",role:"timer",children:L(S)})]}),a.jsxs(Ee,{direction:"row",spacing:2,justifyContent:"center",children:[a.jsx(ut,{onClick:H,size:"large","aria-label":"Previous exercise",sx:{bgcolor:"secondary.main",color:"white","&:hover":{bgcolor:"secondary.dark"},minWidth:64,minHeight:64},children:a.jsx(lg,{})}),a.jsx(ut,{onClick:W,size:"large","aria-label":C?"Pause session":E?"Resume session":"Start session",sx:{bgcolor:"primary.main",color:"white","&:hover":{bgcolor:"primary.dark"},minWidth:64,minHeight:64},children:C?a.jsx(Ho,{}):a.jsx(Fn,{})}),a.jsx(ut,{onClick:F,size:"large","aria-label":"Skip to next exercise",sx:{bgcolor:"warning.main",color:"white","&:hover":{bgcolor:"warning.dark"},minWidth:64,minHeight:64},children:a.jsx(Mc,{})}),a.jsx(ut,{onClick:M,size:"large","aria-label":"Stop session",sx:{bgcolor:"error.main",color:"white","&:hover":{bgcolor:"error.dark"},minWidth:64,minHeight:64},children:a.jsx(kc,{})})]})]})})}),a.jsx(Ie,{children:a.jsxs(Le,{children:[a.jsx(I,{variant:"h6",gutterBottom:!0,children:"Session Details"}),a.jsxs(Ee,{spacing:1,children:[a.jsxs(I,{variant:"body2",children:[a.jsx("strong",{children:"Total Duration:"})," ",L(t.totalDuration||0)]}),a.jsxs(I,{variant:"body2",children:[a.jsx("strong",{children:"Work/Rest Ratio:"})," ",t.protocol?.workSeconds,":",t.protocol?.restSeconds,"s"]}),t.mainWorkout?.rounds&&a.jsxs(I,{variant:"body2",children:[a.jsx("strong",{children:"Rounds:"})," ",t.mainWorkout.rounds]}),a.jsxs(I,{variant:"caption",color:"text.secondary",children:["Guide Reference: ",t.guideReference||t.metadata?.guideSource||"HIIT-YOGA-GUIDE.md"]})]})]})}),a.jsxs(ns,{open:i,onClose:()=>l(!1),children:[a.jsx(ys,{children:a.jsxs(q,{sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsx(Ys,{color:"success"}),"Session Complete!"]})}),a.jsx(ss,{children:a.jsxs(Ee,{spacing:3,children:[a.jsx(I,{children:"Great work! How was your session?"}),a.jsx(et,{label:"Rate Your Exertion (1-10)",type:"number",value:f,onChange:B=>p(Math.min(10,Math.max(1,parseInt(B.target.value)||5))),inputProps:{min:1,max:10},fullWidth:!0,helperText:"1 = Very Easy, 10 = Maximum Effort"}),a.jsx(et,{label:"Session Notes (optional)",multiline:!0,rows:3,value:u,onChange:B=>d(B.target.value),fullWidth:!0,placeholder:"How did you feel? Any observations?"})]})}),a.jsxs(rs,{children:[a.jsx(xe,{onClick:()=>l(!1),children:"Cancel"}),a.jsx(xe,{onClick:U,variant:"contained",color:"primary",children:"Save Session"})]})]})]})]})};Ej.propTypes={onNavigate:Y.func.isRequired};const Ci={POWER:{name:"Power Yoga",description:"Build strength, flexibility, balance, and cardiovascular conditioning",duration:45,benefits:["Strength building","Cardiovascular fitness","Balance","Full-body workout"],guideSection:"8.2",sympatheticActivation:"high"},RESTORATIVE:{name:"Restorative Yoga",description:"Deep stretch, stress relief, parasympathetic nervous system activation",duration:45,benefits:["Stress relief","Deep relaxation","Recovery","Parasympathetic activation"],guideSection:"8.3",sympatheticActivation:"low"},YIN:{name:"Yin Yoga",description:"Deep tissue and fascia release, long-hold passive stretching",duration:55,benefits:["Fascia release","Deep flexibility","Meditation","Joint health"],guideSection:"8.4",sympatheticActivation:"low"},FLEXIBILITY:{name:"Flexibility Yoga",description:"Target hip and hamstring opening, address tightness from training and sitting",duration:45,benefits:["Hip flexibility","Hamstring flexibility","Lower back release","Mobility"],guideSection:"8.5",sympatheticActivation:"medium"},CORE:{name:"Core Strength Yoga",description:"Develop core strength and stability for athletic performance",duration:40,benefits:["Core strength","Stability","Athletic performance","Injury prevention"],guideSection:"8.6",sympatheticActivation:"high"}},Rr={UJJAYI:{name:"Ujjayi Breathing",description:"Ocean-like sound, throat constriction, calming",instruction:"Breathe through nose with slight throat constriction, creating ocean sound",benefits:["Calming","Focus","Heat generation"],useIn:["Power","Restorative","Yin"]},EXTENDED_EXHALE:{name:"Extended Exhale",description:"2:1 or 3:1 ratio - parasympathetic activation",instruction:"Inhale 4 counts, exhale 8 counts",benefits:["Parasympathetic activation","Stress relief","Sleep preparation"],useIn:["Restorative","Yin"]},ALTERNATE_NOSTRIL:{name:"Alternate Nostril Breathing (Nadi Shodhana)",description:"Balance nervous system",instruction:"Close right nostril, inhale left. Close left, exhale right. Continue alternating.",benefits:["Nervous system balance","Mental clarity","Stress reduction"],useIn:["Restorative","Flexibility"]},NATURAL:{name:"Natural Diaphragmatic Breathing",description:"Allow breath to happen naturally",instruction:"No forced breath control; focus on present moment awareness",benefits:["Relaxation","Natural flow","Meditation support"],useIn:["Yin","Restorative"]}},Wm=e=>{const{poses:t=[],level:s="intermediate"}=e,i=t.filter(d=>{const f=d.Type&&d.Type.includes("Power"),p=d.Category==="Standing"||d.Category==="Core",y=(d["Session Type"]||"").includes("Power Yoga");return f||p||y}),l=s==="beginner"?.8:s==="advanced"?1.2:1;return{type:"power_yoga",mode:Ci.POWER,level:s,warmup:{duration:300,sequence:[{pose:"Mountain Pose",duration:30,instruction:"5 deep breaths (body awareness)"},{pose:"Cat-Cow",duration:120,instruction:"10 rounds (spinal mobility)"},{pose:"Downward-Facing Dog",duration:30,instruction:"5 breaths (full body awakening)"}]},standingSequence:{duration:900,exercises:[{name:"Warrior I Flow",poses:li(i,["Warrior I"]),hold:Math.round(30*l),sides:2,rounds:3,focus:"Glutes, hip flexors, core, shoulders"},{name:"Warrior II to Extended Triangle",poses:li(i,["Warrior II","Extended Triangle"]),hold:Math.round(37*l),sides:2,rounds:2,focus:"Hip stability, hamstring flexibility, obliques"},{name:"Chair Pose Hold",poses:li(i,["Chair Pose"]),hold:Math.round(37*l),rounds:3,focus:"Glutes, quads, core"},{name:"Standing Forward Fold",poses:li(i,["Standing Forward Fold"]),hold:60,rounds:2,focus:"Hamstring flexibility, lower back release"},{name:"Tree Pose Balance Work",poses:li(i,["Tree Pose"]),hold:Math.round(37*l),sides:2,rounds:2,focus:"Balance, hip stability, focus"}]},coreSequence:{duration:900,exercises:[{name:"Plank Variations",duration:300,variations:[{pose:"Plank Pose",hold:Math.round(45*l),rounds:3},{pose:"Side Plank",hold:Math.round(30*l),sides:2,rounds:2},{pose:"Plank to Downward Dog Flow",rounds:10}]},{name:"Boat Pose",poses:li(i,["Boat Pose"]),hold:Math.round(25*l),rounds:4,rest:30},{name:"Bridge Pose Pulses",poses:li(i,["Bridge Pose"]),hold:30,rounds:3,focus:"Glutes, hamstrings, core"},{name:"Locust Pose Holds",poses:li(i,["Locust Pose"]),hold:20,rounds:3,rest:30,focus:"Posterior chain (erector spinae, glutes)"}]},cooldown:{duration:600,sequence:[{pose:"Pigeon Pose",duration:90,sides:2,benefit:"Deep hip opener"},{pose:"Seated Forward Fold",duration:90,benefit:"Hamstring and lower back release"},{pose:"Reclined Twist",duration:45,sides:2,benefit:"Spinal rotation, digestive aid"},{pose:"Legs-Up-the-Wall",duration:120,benefit:"Parasympathetic activation",optional:!0},{pose:"Savasana",duration:180,benefit:"Integration and calm"}]},breathing:Rr.UJJAYI,totalDuration:2700,musclesWorked:"Full body emphasis on glutes, core, shoulders; hamstring and hip flexibility",guideReference:"Section 8.2"}},Mj=e=>{const{poses:t=[]}=e,s=t.filter(i=>{const l=i.Type&&i.Type.includes("Restorative"),u=i.Category==="Restorative",f=(i["Session Type"]||"").includes("Restorative");return l||u||f});return{type:"restorative_yoga",mode:Ci.RESTORATIVE,level:"all",props:["Yoga blocks","Bolsters","Straps","Blankets"],opening:{duration:180,sequence:[{activity:"Seated cross-legged meditation with ujjayi breathing",duration:180,instruction:"Set intention for calm and recovery"}]},warmupFlow:{duration:300,sequence:[{pose:"Cat-Cow",duration:60,instruction:"5 rounds, slow and gentle"},{pose:"Child's Pose",duration:60,instruction:"Calming, forward fold"}]},restorativeSequence:{duration:2220,instruction:"Hold each pose for 3-6 minutes with props for support",poses:[{name:"Supine Butterfly",pose:Ft(s,"Supine Butterfly"),duration:300,props:"Bolster under spine, block under head",benefits:"Hip opening, chest opening, parasympathetic activation"},{name:"Supported Fish Pose",duration:180,props:"Bolster under mid-back",benefits:"Chest and hip flexor opening"},{name:"Legs-Up-the-Wall",pose:Ft(s,"Legs-Up-the-Wall"),duration:600,props:"Bolster under pelvis (optional)",benefits:"Circulation, stress relief, inversion benefits"},{name:"Half Lord of Fishes",pose:Ft(s,"Half Lord of Fishes"),duration:240,sides:2,props:"Block or pillow under knees for support",benefits:"Spinal rotation, digestive aid"},{name:"Supported Child's Pose",pose:Ft(s,"Child's Pose"),duration:300,props:"Bolster supporting torso, block under head",benefits:"Hamstring and hip opening, calming"},{name:"Reclined Twist",pose:Ft(s,"Reclined Twist"),duration:180,sides:2,benefits:"Spinal rotation, core release"}]},closing:{duration:300,sequence:[{pose:"Savasana",duration:300,instruction:"Fully supported with blankets and blocks. 5 minutes of complete relaxation."}]},breathing:{primary:Rr.UJJAYI,emphasis:"Longer exhales (6-8 count in, 8-10 count out)",secondary:Rr.EXTENDED_EXHALE},totalDuration:3e3,benefits:"Deep stretching and release; parasympathetic activation",guideReference:"Section 8.3"}},kj=e=>{const{poses:t=[]}=e,s=t.filter(i=>{const l=i.Type&&i.Type.includes("Yin"),u=i.Category==="Hip Opener"||i.Category==="Forward Fold",f=(i["Session Type"]||"").includes("Yin");return l||u||f});return{type:"yin_yoga",mode:Ci.YIN,level:"all",philosophy:"Hold poses 3-6 minutes each; go to edge of sensation (not pain)",props:["Yoga blocks","Bolsters","Straps","Blankets"],opening:{duration:300,sequence:[{activity:"Seated meditation with natural breathing",duration:180},{activity:"Gentle neck and shoulder rolls",duration:120}]},mainSequence:{duration:2880,poses:[{pose:"Cat-Cow",duration:120,instruction:"Gentle warm-up"},{name:"Supported Child's Pose",pose:Ft(s,"Child's Pose"),duration:300,props:"Bolster supporting torso",targetTissues:"Hamstrings, hip extensors, shoulders"},{name:"Pigeon Pose",pose:Ft(s,"Pigeon Pose"),duration:300,sides:2,totalDuration:600,props:"Blanket under hip if needed",targetTissues:"Hip external rotators (piriformis), glutes, hip flexors"},{name:"Wide-Legged Forward Fold",pose:Ft(s,"Wide-Legged Forward Fold"),duration:300,props:"Blocks under hands",targetTissues:"Hamstrings, hip adductors, erector spinae"},{name:"Dragon Pose/Low Lizard Lunge",pose:Ft(s,"Lizard Pose"),duration:300,sides:2,totalDuration:600,props:"Blocks under hands for support",targetTissues:"Hip flexors, psoas, hamstrings"},{name:"Seated Forward Fold",pose:Ft(s,"Seated Forward Fold"),duration:300,props:"Block under head if needed; blanket under sit bones",targetTissues:"Hamstrings, erector spinae, calf muscles"},{name:"Supine Butterfly",pose:Ft(s,"Supine Butterfly"),duration:240,props:"Bolster under spine, block under head",targetTissues:"Hip adductors, hip flexors, pelvic floor"},{name:"Reclining Spinal Twist",pose:Ft(s,"Reclined Twist"),duration:240,sides:2,totalDuration:480,props:"Pillow or block support",targetTissues:"IT band, glutes, spinal erectors, obliques"}]},closing:{duration:420,sequence:[{pose:"Savasana",duration:420,instruction:"Complete relaxation; allow body to integrate changes"}]},breathing:Rr.NATURAL,breathingInstruction:"Natural diaphragmatic breathing. No forced breath control; let breath happen naturally. Focus: Present moment awareness",totalDuration:3600,targetTissues:"Deep fascial and connective tissue release throughout entire body",guideReference:"Section 8.4"}},Pj=e=>{const{poses:t=[]}=e,s=t.filter(i=>{const l=i.Type&&i.Type.includes("Flexibility"),u=i.Category==="Hip Opener"||i.Category==="Forward Fold",f=(i["Session Type"]||"").includes("Flexibility");return l||u||f});return{type:"flexibility_yoga",mode:Ci.FLEXIBILITY,level:"all",objective:"Address lower body tightness (common from sitting and training)",warmup:{duration:300,sequence:[{pose:"Cat-Cow",duration:60,instruction:"8 rounds"},{pose:"Downward-Facing Dog",duration:60}]},standingSequence:{duration:720,poses:[{name:"Low Lunge with Hip Flexor Stretch",duration:45,sides:2,props:"Block under hands if needed",stretchTarget:"Hip flexors, quads"},{name:"Pyramid Pose",pose:Ft(s,"Pyramid Pose"),duration:60,sides:2,stretchTarget:"Hamstrings, hip adductors"},{name:"Half-Split",pose:Ft(s,"Half Split"),duration:60,sides:2,stretchTarget:"Hamstrings, hip adductors"},{name:"Wide-Legged Forward Fold",pose:Ft(s,"Wide-Legged Forward Fold"),duration:90,stretchTarget:"Hamstrings, hip adductors, inner thighs"}]},floorSequence:{duration:1200,poses:[{name:"Lizard Pose",pose:Ft(s,"Lizard Pose"),duration:90,sides:2,stretchTarget:"Hip flexors, hip abductors, hamstrings"},{name:"Pigeon Pose",pose:Ft(s,"Pigeon Pose"),duration:120,sides:2,stretchTarget:"Hip external rotators, glutes, hip flexors"},{name:"Low Lunge Variation",duration:60,sides:2,props:"Blanket under back knee if needed",stretchTarget:"Hip flexors, psoas, quads"},{name:"Cow Face Pose",pose:Ft(s,"Cow Face Pose"),duration:60,sides:2,instruction:"If hip flexibility allows",stretchTarget:"Hip abductors, glutes, hip flexors"},{name:"Seated Forward Fold",pose:Ft(s,"Seated Forward Fold"),duration:120,stretchTarget:"Hamstrings, erector spinae"},{name:"Reclined Pigeon",pose:Ft(s,"Reclined Pigeon"),duration:90,sides:2,stretchTarget:"Glutes, hip external rotators, lower back"}]},closing:{duration:480,sequence:[{pose:"Legs-Up-the-Wall",duration:300,instruction:"If available, or supine position"},{pose:"Reclined Twist",duration:60,sides:2},{pose:"Savasana",duration:180}]},breathing:Rr.ALTERNATE_NOSTRIL,totalDuration:2700,emphasis:"Deep lower body flexibility emphasis",guideReference:"Section 8.5"}},Aj=e=>{const{poses:t=[]}=e,s=t.filter(i=>{const l=i.Category==="Core",u=i.Type&&i.Type.includes("Power"),f=(i["Session Type"]||"").includes("Core");return l||u&&f});return{type:"core_yoga",mode:Ci.CORE,level:"intermediate",objective:"Develop core strength and stability for athletic performance and injury prevention",warmup:{duration:300,sequence:[{pose:"Cat-Cow",duration:60,instruction:"8 rounds"},{pose:"Downward-Facing Dog",duration:60,instruction:"60 sec hold"}]},coreActivation:{duration:1200,sections:[{name:"Plank Hold Series",duration:480,exercises:[{pose:"Plank Pose",hold:45,rounds:3,rest:30},{pose:"Plank with Shoulder Taps",hold:40,rounds:2},{pose:"Plank to Downward Dog Flow",rounds:10}]},{name:"Side Plank Series",duration:300,exercises:[{pose:"Side Plank",side:"right",hold:35,rounds:2,rest:30},{pose:"Side Plank",side:"left",hold:35,rounds:2,rest:30}]},{name:"Boat Pose Progression",duration:240,exercises:[{pose:"Half Boat",hold:30,rounds:2},{pose:"Boat Pose",hold:25,rounds:2}]},{name:"Dolphin Pose",pose:Ft(s,"Dolphin Pose"),hold:45,rounds:2,benefit:"Shoulder stabilization"}]},standingCore:{duration:600,exercises:[{name:"Chair Pose",pose:Ft(s,"Chair Pose"),hold:37,rounds:3},{name:"Warrior III",pose:Ft(s,"Warrior III"),hold:30,sides:2,rounds:2},{name:"Extended Triangle with Rotation",pose:Ft(s,"Extended Triangle"),hold:45,sides:2,rounds:2},{name:"Standing Crunch",duration:20,rounds:2,instruction:"Reach up and down"}]},coreHolds:{duration:300,exercises:[{name:"Bridge Pose Hold",pose:Ft(s,"Bridge Pose"),hold:60,rounds:2,rest:30},{name:"Locust Pose Hold",pose:Ft(s,"Locust Pose"),hold:30,rounds:3}]},cooldown:{duration:300,optional:!0,sequence:[{pose:"Child's Pose",duration:120},{pose:"Spinal Twist",duration:60,sides:2},{pose:"Final rest",duration:60}]},breathing:Rr.UJJAYI,totalDuration:2400,emphasis:"Deep and superficial core muscles; stabilizer muscles",guideReference:"Section 8.6"}};function Ft(e,t){return e.find(s=>s.Name===t||s.Sanskrit===t)}function li(e,t){return t.map(s=>Ft(e,s)).filter(s=>s)}const py=e=>{const{mode:t="power",goal:s="balance"}=e;let i;switch(t.toLowerCase()){case"power":i=Wm(e);break;case"restorative":i=Mj(e);break;case"yin":i=kj(e);break;case"flexibility":i=Pj(e);break;case"core":i=Aj(e);break;default:i=Wm(e)}return i.metadata={generatedAt:new Date().toISOString(),goal:s,guideSource:".github/HIIT-YOGA-GUIDE.md",parasympatheticBalance:Ci[t.toUpperCase()]?.sympatheticActivation==="low"},i},IB=Object.freeze(Object.defineProperty({__proto__:null,BREATHING_TECHNIQUES:Rr,YOGA_MODES:Ci,generateCoreYogaSession:Aj,generateFlexibilityYogaSession:Pj,generatePowerYogaSession:Wm,generateRestorativeYogaSession:Mj,generateYinYogaSession:kj,generateYogaSession:py},Symbol.toStringTag,{value:"Module"})),Oj=({onNavigate:e})=>{const[t,s]=x.useState("power"),[i,l]=x.useState("intermediate"),[u,d]=x.useState("balance"),{data:f=[],isLoading:p}=rf({queryKey:["yogaPoses"],queryFn:async()=>{const b=await fetch("/goodlift/data/yoga-poses.json");if(!b.ok)throw new Error("Failed to load yoga poses");return b.json()},staleTime:1/0}),g=()=>{const b=py({mode:t,level:i,poses:f,goal:u});localStorage.setItem("currentYogaSession",JSON.stringify(b)),e("yoga-session")};if(p)return a.jsx(q,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:a.jsx(Yd,{color:"secondary",size:60})});const y=Ci[t.toUpperCase()],v=y?.sympatheticActivation==="low"?Rr.UJJAYI:Rr.NATURAL;return a.jsxs(Pe.div,{className:"screen",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[a.jsxs(I,{variant:"h3",component:"h1",sx:{fontWeight:700,mb:2,textAlign:"center",color:"primary.main",display:"flex",alignItems:"center",justifyContent:"center",gap:2},children:[a.jsx(nr,{fontSize:"large"}),"Yoga Session Builder"]}),a.jsx(I,{variant:"subtitle1",sx:{textAlign:"center",mb:4,color:"text.secondary"},children:"Evidence-based yoga flows from .github/HIIT-YOGA-GUIDE.md"}),a.jsxs(q,{sx:{maxWidth:900,margin:"0 auto"},children:[y&&a.jsxs(Ot,{severity:y.sympatheticActivation==="low"?"success":"info",sx:{mb:3},icon:y.sympatheticActivation==="low"?a.jsx(om,{}):a.jsx(yn,{}),children:[a.jsxs(I,{variant:"subtitle2",gutterBottom:!0,children:[a.jsx("strong",{children:y.name})," - ",y.duration," minutes"]}),a.jsx(I,{variant:"body2",gutterBottom:!0,children:y.description}),a.jsx(q,{sx:{mt:1,display:"flex",flexWrap:"wrap",gap:1},children:y.benefits.map((b,S)=>a.jsx(Je,{label:b,size:"small",color:"primary",variant:"outlined"},S))}),a.jsxs(I,{variant:"caption",display:"block",sx:{mt:1},children:["Guide Reference: Section ",y.guideSection," | Nervous System: ",y.sympatheticActivation==="low"?"Parasympathetic (Calming)":"Balanced/Active"]})]}),a.jsxs($e,{container:!0,spacing:3,children:[a.jsx($e,{item:!0,xs:12,md:6,children:a.jsx(Ie,{children:a.jsxs(Le,{children:[a.jsxs(I,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsx(nr,{}),"Yoga Mode"]}),a.jsxs(bt,{fullWidth:!0,sx:{mt:2},children:[a.jsx(vt,{children:"Mode"}),a.jsxs(St,{value:t,label:"Mode",onChange:b=>s(b.target.value),children:[a.jsx(be,{value:"power",children:"Power Yoga"}),a.jsx(be,{value:"restorative",children:"Restorative Yoga"}),a.jsx(be,{value:"yin",children:"Yin Yoga"}),a.jsx(be,{value:"flexibility",children:"Flexibility Focus"}),a.jsx(be,{value:"core",children:"Core Strength"})]})]}),a.jsxs(I,{variant:"body2",sx:{mt:2},color:"text.secondary",children:[t==="power"&&"Dynamic flow focusing on strength, balance, and cardiovascular conditioning",t==="restorative"&&"Deep relaxation with props, parasympathetic activation for recovery",t==="yin"&&"Long passive holds (3-6 min) for deep tissue and fascia release",t==="flexibility"&&"Target hip and hamstring opening, address tightness",t==="core"&&"Build core strength and stability for athletic performance"]})]})})}),a.jsx($e,{item:!0,xs:12,md:6,children:a.jsx(Ie,{children:a.jsxs(Le,{children:[a.jsx(I,{variant:"h6",gutterBottom:!0,children:"Experience Level"}),a.jsxs(bt,{fullWidth:!0,sx:{mt:2},children:[a.jsx(vt,{children:"Level"}),a.jsxs(St,{value:i,label:"Level",onChange:b=>l(b.target.value),children:[a.jsx(be,{value:"beginner",children:"Beginner"}),a.jsx(be,{value:"intermediate",children:"Intermediate"}),a.jsx(be,{value:"advanced",children:"Advanced"})]})]}),a.jsxs(I,{variant:"body2",sx:{mt:2},color:"text.secondary",children:[i==="beginner"&&"Shorter holds, simpler poses, more guidance",i==="intermediate"&&"Standard holds, balanced challenge",i==="advanced"&&"Longer holds, complex variations, arm balances and inversions"]})]})})}),a.jsx($e,{item:!0,xs:12,md:6,children:a.jsx(Ie,{children:a.jsxs(Le,{children:[a.jsx(I,{variant:"h6",gutterBottom:!0,children:"Primary Goal"}),a.jsxs(bt,{fullWidth:!0,sx:{mt:2},children:[a.jsx(vt,{children:"Goal"}),a.jsxs(St,{value:u,label:"Goal",onChange:b=>d(b.target.value),children:[a.jsx(be,{value:"strength",children:"Strength Building"}),a.jsx(be,{value:"flexibility",children:"Flexibility Development"}),a.jsx(be,{value:"recovery",children:"Recovery & Rest"}),a.jsx(be,{value:"stress_relief",children:"Stress Relief"}),a.jsx(be,{value:"balance",children:"Balance & Stability"})]})]})]})})}),a.jsx($e,{item:!0,xs:12,md:6,children:a.jsx(Ie,{children:a.jsxs(Le,{children:[a.jsx(I,{variant:"h6",gutterBottom:!0,children:"Breathing Technique"}),a.jsx(I,{variant:"subtitle2",color:"primary",sx:{mt:2},children:v.name}),a.jsx(I,{variant:"body2",color:"text.secondary",sx:{mt:1},children:v.description}),a.jsxs(I,{variant:"caption",display:"block",sx:{mt:1},children:["Instruction: ",v.instruction]})]})})}),a.jsx($e,{item:!0,xs:12,children:a.jsx(Ie,{children:a.jsxs(Le,{children:[a.jsx(I,{variant:"h6",gutterBottom:!0,children:"What to Expect"}),a.jsxs(Er,{dense:!0,children:[a.jsx(Ws,{children:a.jsx(hi,{primary:"Warm-up Sequence",secondary:"Gentle movements to prepare body and mind"})}),a.jsx(Ws,{children:a.jsx(hi,{primary:"Main Practice",secondary:`${y?.duration-10||30}-minute focused sequence`})}),a.jsx(Ws,{children:a.jsx(hi,{primary:"Cool-down & Savasana",secondary:"Integration, relaxation, and final rest"})}),a.jsx(Ws,{children:a.jsx(hi,{primary:"Props Needed",secondary:t==="restorative"||t==="yin"?"Yoga blocks, bolsters, straps, blankets (optional but recommended)":"Yoga mat (optional: blocks for modifications)"})})]})]})})})]}),a.jsx(q,{sx:{mt:4,textAlign:"center"},children:a.jsx(xe,{variant:"contained",size:"large",onClick:g,sx:{minWidth:250,py:1.5,fontSize:"1.1rem"},children:"Generate Yoga Session"})}),a.jsxs(Ot,{severity:"success",sx:{mt:3},children:[a.jsx(I,{variant:"body2",children:"All yoga sequences follow evidence-based principles from .github/HIIT-YOGA-GUIDE.md with proper sequencing, hold timing, and breathwork integration for maximum health benefits."}),a.jsxs(I,{variant:"caption",display:"block",sx:{mt:1},children:[a.jsx("strong",{children:"Recovery Balance:"})," Restorative and Yin yoga support parasympathetic nervous system activation, essential for balancing high-intensity training (Guide Section 10.1)."]})]})]})]})};Oj.propTypes={onNavigate:Y.func.isRequired};const Rj=({onNavigate:e})=>{const[t,s]=x.useState(null),[i,l]=x.useState(!1),[u,d]=x.useState(""),[f,p]=x.useState(5),g=x.useCallback(()=>{if(!t)return[];const Q=[];return t.warmup?.poses&&Q.push(...t.warmup.poses),t.mainPractice?.sequences&&t.mainPractice.sequences.forEach(ee=>{ee.poses&&Q.push(...ee.poses)}),t.cooldown?.poses&&Q.push(...t.cooldown.poses),Q},[t]),y=x.useCallback(()=>{l(!0)},[]),v=x.useCallback(()=>{const Q=g();if(Q.length===0)return 30;const ee=Q.reduce((ye,ue)=>ye+(ue.holdDuration||30),0);return Math.round(ee/Q.length)},[g]),b=Dj({exercises:g(),rounds:1,workTime:v(),restTime:5,onComplete:y}),{currentPhase:S,currentExerciseIndex:T,timeRemaining:D,totalElapsedTime:j,currentExercise:C,progress:E,isRunning:k,isPaused:A,isComplete:N,start:z,pause:P,resume:F,stop:H,skipToNext:L,skipToPrevious:W,formatTime:M}=b;x.useEffect(()=>{const Q=localStorage.getItem("currentYogaSession");if(Q){const ee=JSON.parse(Q);s(ee)}},[]),x.useEffect(()=>{N&&l(!0)},[N]);const U=()=>{k?P():A?F():z()},V=()=>{H(),l(!0)},_=async()=>{if(!t)return;const Q=sessionStorage.getItem("currentWorkoutPlanContext"),ee=Q?JSON.parse(Q):null,ye={type:t.type||"yoga",date:Date.now(),duration:j||t.totalDuration,mode:t.mode,level:t.level,perceivedExertion:f,notes:u,completed:!0,metadata:t.metadata,planId:ee?.planId||null,planDay:ee?.planDay??null};await Jg(ye),sessionStorage.removeItem("currentWorkoutPlanContext"),l(!1),e&&e("progress")},B=()=>{if(!t||!C)return null;const Q=C,ee=t.warmup?.poses?.length||0,ye=t.mainPractice?.sequences?.reduce((de,we)=>de+(we.poses?.length||0),0)||0;let ue="PRACTICE";return T<ee?ue="WARMUP":T>=ee+ye&&(ue="COOLDOWN"),S==="work"?{title:Q.name||Q.Name||"Pose",description:Q.sanskritName||Q.Sanskrit||"",muscles:`${Q.primaryMuscles||Q["Primary Muscles"]||""}${Q.secondaryMuscles||Q["Secondary Muscles"]?`  ${Q.secondaryMuscles||Q["Secondary Muscles"]}`:""}`,benefits:Q.benefits||Q.Benefits,instruction:Q.instruction||Q.Instruction,icon:a.jsx(nr,{}),phaseLabel:ue}:S==="rest"?{title:"Transition",description:"Prepare for next pose",icon:a.jsx(om,{}),phaseLabel:"TRANSITION"}:S==="warmup"?{title:t.opening?.name||"Opening Meditation",description:t.opening?.description||"Set your intention",breathingTechnique:t.breathingTechnique,icon:a.jsx(om,{}),phaseLabel:"OPENING"}:S==="complete"?{title:"Namaste ",description:"Session complete",icon:a.jsx(Ys,{}),phaseLabel:"COMPLETE"}:null};if(!t)return a.jsxs(q,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"50vh",gap:2,p:3},children:[a.jsx(I,{variant:"h6",color:"text.secondary",children:"No session loaded"}),a.jsx(I,{variant:"body2",color:"text.secondary",sx:{textAlign:"center"},children:"Please select a yoga session from the calendar or generate a new session."}),e&&a.jsx(xe,{variant:"contained",color:"primary",onClick:()=>e("yoga-selection"),children:"Generate Yoga Session"})]});if(!t.mainPractice||!t.mainPractice.sequences||t.mainPractice.sequences.length===0)return a.jsxs(q,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"50vh",gap:2,p:3},children:[a.jsx(I,{variant:"h6",color:"error",children:"Invalid session data"}),a.jsx(I,{variant:"body2",color:"text.secondary",sx:{textAlign:"center"},children:"This session does not have poses. Please regenerate the session or select a different one."}),e&&a.jsx(xe,{variant:"contained",color:"primary",onClick:()=>e("yoga-selection"),children:"Generate New Session"})]});const O=B();return a.jsxs(q,{sx:{width:"100%",minHeight:"100vh"},children:[a.jsx(ps,{title:t.name||"Yoga Session",icon:"",action:a.jsxs(Ee,{direction:"row",spacing:1,children:[a.jsx(Je,{label:`${t.level||"intermediate"} level`,color:"primary",size:"small"}),a.jsx(Je,{label:t.mode||"yoga",color:"secondary",size:"small"})]})}),a.jsxs(Pe.div,{className:"screen",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{padding:"1rem",maxWidth:"900px",margin:"0 auto"},children:[a.jsx(Ie,{sx:{mb:3},children:a.jsxs(Le,{children:[a.jsx(I,{variant:"subtitle2",gutterBottom:!0,id:"yoga-session-progress-label",children:"Session Progress"}),a.jsx(Mr,{variant:"determinate",value:E,sx:{height:8,borderRadius:4},"aria-labelledby":"yoga-session-progress-label","aria-valuenow":E,"aria-valuemin":0,"aria-valuemax":100})]})}),a.jsx(Ie,{sx:{mb:3,bgcolor:"rgba(19, 70, 134, 0.02)"},children:a.jsx(Le,{children:a.jsxs(Ee,{spacing:2,children:[a.jsxs(q,{sx:{display:"flex",alignItems:"center",gap:1},children:[O?.icon,a.jsx(I,{variant:"overline",sx:{fontWeight:600},"aria-live":"polite",children:O?.phaseLabel||S.toUpperCase()})]}),a.jsx(I,{variant:"h3",sx:{fontWeight:700,color:"primary.main"},role:"heading","aria-level":1,children:O?.title}),O?.description&&a.jsx(I,{variant:"h6",color:"text.secondary",sx:{fontStyle:"italic"},children:O.description}),O?.muscles&&a.jsxs(I,{variant:"body2",color:"text.secondary",children:[a.jsx("strong",{children:"Muscles:"})," ",O.muscles]}),O?.instruction&&a.jsxs(Ot,{severity:"info",children:[a.jsx("strong",{children:"Instruction:"})," ",O.instruction]}),O?.benefits&&Array.isArray(O.benefits)&&a.jsxs(q,{children:[a.jsx(I,{variant:"subtitle2",gutterBottom:!0,children:"Benefits:"}),a.jsx(Er,{dense:!0,children:O.benefits.map((Q,ee)=>a.jsx(Ws,{sx:{py:0},children:a.jsx(hi,{primary:Q})},ee))})]}),O?.breathingTechnique&&a.jsxs(Ot,{severity:"success",children:[a.jsx(I,{variant:"subtitle2",gutterBottom:!0,children:a.jsx("strong",{children:O.breathingTechnique.name})}),a.jsx(I,{variant:"body2",children:O.breathingTechnique.instruction})]}),a.jsxs(q,{sx:{textAlign:"center",py:3,bgcolor:"rgba(19, 70, 134, 0.05)",borderRadius:2},children:[a.jsx(uc,{sx:{fontSize:48,color:"primary.main",mb:1},"aria-hidden":"true"}),a.jsx(I,{variant:"h2",sx:{fontWeight:800,color:"primary.main"},"aria-live":"polite","aria-atomic":"true",role:"timer",children:M(D)}),a.jsx(I,{variant:"caption",color:"text.secondary",children:"Hold Time"})]}),a.jsxs(Ee,{direction:"row",spacing:2,justifyContent:"center",children:[a.jsx(ut,{onClick:W,size:"large","aria-label":"Previous pose",sx:{bgcolor:"secondary.main",color:"white","&:hover":{bgcolor:"secondary.dark"},minWidth:64,minHeight:64},children:a.jsx(lg,{})}),a.jsx(ut,{onClick:U,size:"large","aria-label":k?"Pause session":A?"Resume session":"Start session",sx:{bgcolor:"primary.main",color:"white","&:hover":{bgcolor:"primary.dark"},minWidth:64,minHeight:64},children:k?a.jsx(Ho,{}):a.jsx(Fn,{})}),a.jsx(ut,{onClick:L,size:"large","aria-label":"Skip to next pose",sx:{bgcolor:"warning.main",color:"white","&:hover":{bgcolor:"warning.dark"},minWidth:64,minHeight:64},children:a.jsx(Mc,{})}),a.jsx(ut,{onClick:V,size:"large","aria-label":"Stop session",sx:{bgcolor:"error.main",color:"white","&:hover":{bgcolor:"error.dark"},minWidth:64,minHeight:64},children:a.jsx(kc,{})})]})]})})}),a.jsx(Ie,{children:a.jsxs(Le,{children:[a.jsx(I,{variant:"h6",gutterBottom:!0,children:"Session Details"}),a.jsxs(Ee,{spacing:1,children:[a.jsxs(I,{variant:"body2",children:[a.jsx("strong",{children:"Total Duration:"})," ",M(t.totalDuration||0)]}),a.jsxs(I,{variant:"body2",children:[a.jsx("strong",{children:"Mode:"})," ",t.name||t.mode]}),t.metadata?.parasympatheticBalance&&a.jsx(Je,{label:"Parasympathetic Activation - Recovery & Calm",size:"small",color:"success",sx:{mt:1}}),a.jsxs(I,{variant:"caption",color:"text.secondary",sx:{mt:1},children:["Guide Reference: ",t.guideReference||t.metadata?.guideSource||"HIIT-YOGA-GUIDE.md"]})]})]})}),a.jsxs(ns,{open:i,onClose:()=>l(!1),children:[a.jsx(ys,{children:a.jsxs(q,{sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsx(Ys,{color:"success"}),"Namaste "]})}),a.jsx(ss,{children:a.jsxs(Ee,{spacing:3,children:[a.jsx(I,{children:"Session complete. How was your practice?"}),a.jsx(et,{label:"Rate Your Experience (1-10)",type:"number",value:f,onChange:Q=>p(Math.min(10,Math.max(1,parseInt(Q.target.value)||5))),inputProps:{min:1,max:10},fullWidth:!0,helperText:"1 = Very Easy, 10 = Very Challenging"}),a.jsx(et,{label:"Session Notes (optional)",multiline:!0,rows:3,value:u,onChange:Q=>d(Q.target.value),fullWidth:!0,placeholder:"How did you feel? Any insights or improvements?"})]})}),a.jsxs(rs,{children:[a.jsx(xe,{onClick:()=>l(!1),children:"Cancel"}),a.jsx(xe,{onClick:_,variant:"contained",color:"primary",children:"Save Session"})]})]})]})]})};Rj.propTypes={onNavigate:Y.func.isRequired};const Ij=JSON.parse(`[{"Name":"Boat Pose","Sanskrit":"Navasana","Primary Muscles":"Rectus Abdominis, Hip Flexors, Quads","Secondary Muscles":"Core, Back, Shoulders","Type":"Power Yoga","Hold Duration":22,"Benefits":"Core strength, hip flexor strength, balance","Level":"Intermediate","Category":"Core","Session Type":"Power Yoga, Core Strength","Props Needed":"None"},{"Name":"Bow Pose","Sanskrit":"Dhanurasana","Primary Muscles":"Chest, Quads, Hip Flexors","Secondary Muscles":"Delts, Back","Type":"Power Yoga","Hold Duration":30,"Benefits":"Chest, hip, and quad opening, backbend","Level":"Intermediate","Category":"Backbend","Session Type":"Power Yoga, Full Body","Props Needed":"None"},{"Name":"Bridge Pose","Sanskrit":"Setu Bandha Sarvangasana","Primary Muscles":"Glutes, Hamstrings, Erector Spinae","Secondary Muscles":"Hip Flexors, Chest, Shoulders","Type":"Power Yoga","Hold Duration":45,"Benefits":"Glute activation, spinal extension, core","Level":"Beginner","Category":"Backbend","Session Type":"Power Yoga, Core Strength","Props Needed":"None"},{"Name":"Camel Pose","Sanskrit":"Ustrasana","Primary Muscles":"Chest, Hip Flexors, Quads","Secondary Muscles":"Delts, Back, Glutes","Type":"Power Yoga","Hold Duration":30,"Benefits":"Deep chest and hip flexor opening, spinal extension","Level":"Intermediate","Category":"Backbend","Session Type":"Power Yoga, Flexibility","Props Needed":"Block (optional)"},{"Name":"Cat-Cow","Sanskrit":"Marjaryasana-Bitilasana","Primary Muscles":"Erector Spinae, Rectus Abdominis","Secondary Muscles":"Shoulders, Hip Flexors","Type":"Flexibility Yoga","Hold Duration":5,"Benefits":"Spinal mobility, warm-up, core engagement","Level":"Beginner","Category":"Dynamic","Session Type":"Power Yoga, Warm-up","Props Needed":"None"},{"Name":"Chair Pose","Sanskrit":"Utkatasana","Primary Muscles":"Glutes, Quads, Hip Flexors","Secondary Muscles":"Core, Shoulders, Chest","Type":"Power Yoga","Hold Duration":32,"Benefits":"Lower body strength, core engagement","Level":"Beginner","Category":"Standing","Session Type":"Power Yoga, Full Body","Props Needed":"None"},{"Name":"Child's Pose","Sanskrit":"Balasana","Primary Muscles":"Hamstrings, Glutes, Erector Spinae","Secondary Muscles":"Hip Flexors, Shoulders, Back","Type":"Restorative Yoga","Hold Duration":120,"Benefits":"Recovery, hip flexibility, calming","Level":"Beginner","Category":"Restorative","Session Type":"Restorative Yoga, Yin Yoga","Props Needed":"Bolster (optional)"},{"Name":"Cobra Pose","Sanskrit":"Bhujangasana","Primary Muscles":"Chest, Shoulders, Erector Spinae","Secondary Muscles":"Core, Hip Flexors, Back","Type":"Power Yoga","Hold Duration":22,"Benefits":"Chest opening, core, spinal extension","Level":"Beginner","Category":"Backbend","Session Type":"Power Yoga, Flexibility","Props Needed":"None"},{"Name":"Cow Face Pose","Sanskrit":"Gomukhasana","Primary Muscles":"Shoulders, Chest","Secondary Muscles":"Hip Flexors, Lats, Back","Type":"Flexibility Yoga","Hold Duration":45,"Benefits":"Shoulder flexibility, chest opening","Level":"Intermediate","Category":"Shoulder Opener","Session Type":"Flexibility Yoga, Power Yoga","Props Needed":"Strap (optional)"},{"Name":"Crescent Lunge","Sanskrit":"Anjaneyasana","Primary Muscles":"Glutes, Quads, Hip Flexors","Secondary Muscles":"Core, Shoulders, Hamstrings","Type":"Power Yoga","Hold Duration":45,"Benefits":"Hip flexor opening, leg strength, balance","Level":"Beginner","Category":"Standing","Session Type":"Power Yoga, Flexibility","Props Needed":"None"},{"Name":"Dolphin Pose","Sanskrit":"Pincha Mayurasana prep","Primary Muscles":"Shoulders, Core, Hip Flexors","Secondary Muscles":"Chest, Triceps, Back","Type":"Power Yoga","Hold Duration":45,"Benefits":"Shoulder strength, core stability, inversion prep","Level":"Intermediate","Category":"Inversion Prep","Session Type":"Power Yoga, Core Strength","Props Needed":"None"},{"Name":"Downward-Facing Dog","Sanskrit":"Adho Mukha Svanasana","Primary Muscles":"Shoulders, Lats, Hamstrings","Secondary Muscles":"Core, Chest, Hip Flexors","Type":"Power Yoga","Hold Duration":45,"Benefits":"Full-body stretch, inversion, core engagement","Level":"Beginner","Category":"Standing","Session Type":"Power Yoga, Full Body","Props Needed":"None"},{"Name":"Dragon Pose","Sanskrit":"Utthan Pristhasana (Dragon)","Primary Muscles":"Hip Flexors, Quads","Secondary Muscles":"Glutes, Hamstrings","Type":"Yin Yoga","Hold Duration":90,"Benefits":"Hip flexor and quad opening","Level":"Intermediate","Category":"Hip Opener","Session Type":"Yin Yoga, Flexibility","Props Needed":"Block (optional)"},{"Name":"Eagle Pose","Sanskrit":"Garudasana","Primary Muscles":"Hip Abductors, Hip Adductors, Core","Secondary Muscles":"Quads, Glutes, Shoulders","Type":"Power Yoga","Hold Duration":25,"Benefits":"Hip opening, balance, focus, shoulder strength","Level":"Intermediate","Category":"Balance","Session Type":"Power Yoga, Balance","Props Needed":"None"},{"Name":"Extended Side Angle","Sanskrit":"Utthita Parsvakonasana","Primary Muscles":"Glutes, Quads, Hip Abductors","Secondary Muscles":"Obliques, Shoulders, Chest","Type":"Power Yoga","Hold Duration":37,"Benefits":"Hip opening, lateral core, shoulder mobility","Level":"Intermediate","Category":"Standing","Session Type":"Power Yoga, Flexibility","Props Needed":"Block (optional)"},{"Name":"Extended Triangle","Sanskrit":"Utthita Trikonasana","Primary Muscles":"Hamstrings, Hip Adductors","Secondary Muscles":"Glutes, Obliques, Shoulders","Type":"Power Yoga","Hold Duration":37,"Benefits":"Hamstring/hip flexibility, spinal rotation","Level":"Beginner","Category":"Standing","Session Type":"Power Yoga, Flexibility, Full Body","Props Needed":"Block (optional)"},{"Name":"Fish Pose (Full)","Sanskrit":"Matsyasana (Full)","Primary Muscles":"Chest, Hip Flexors","Secondary Muscles":"Delts, Back, Shoulders","Type":"Power Yoga","Hold Duration":45,"Benefits":"Deep chest and hip flexor opening, backbend","Level":"Intermediate","Category":"Backbend","Session Type":"Power Yoga, Flexibility","Props Needed":"None"},{"Name":"Forearm Plank","Sanskrit":"Pincha Mayurasana prep","Primary Muscles":"Shoulders, Core, Triceps","Secondary Muscles":"Chest, Back, Quads","Type":"Power Yoga","Hold Duration":45,"Benefits":"Shoulder stability, core strength","Level":"Intermediate","Category":"Core","Session Type":"Power Yoga, Core Strength","Props Needed":"None"},{"Name":"Formidable Face Pose","Sanskrit":"Gandha Bherundasana","Primary Muscles":"Core, Shoulders, Neck","Secondary Muscles":"Back, Chest","Type":"Power Yoga","Hold Duration":15,"Benefits":"Inversion, core strength","Level":"Advanced","Category":"Inversion","Session Type":"Power Yoga","Props Needed":"None"},{"Name":"Gate Pose","Sanskrit":"Parighasana","Primary Muscles":"Obliques, Hip Abductors","Secondary Muscles":"Lats, Hamstrings, Shoulders","Type":"Power Yoga","Hold Duration":45,"Benefits":"Side body stretch, hip opening, lateral core","Level":"Intermediate","Category":"Standing","Session Type":"Power Yoga, Flexibility","Props Needed":"Block (optional)"},{"Name":"Half Lord of Fishes","Sanskrit":"Ardha Matsyendrasana","Primary Muscles":"Obliques, Erector Spinae, Hip Flexors","Secondary Muscles":"Glutes, Shoulders, Core","Type":"Flexibility Yoga","Hold Duration":45,"Benefits":"Spinal rotation, hip flexibility, digestion aid","Level":"Intermediate","Category":"Twist","Session Type":"Flexibility Yoga, Yin Yoga","Props Needed":"None"},{"Name":"Half Split","Sanskrit":"Ardha Hanumanasana","Primary Muscles":"Hamstrings, Hip Adductors","Secondary Muscles":"Glutes, Calves, Hip Flexors","Type":"Flexibility Yoga","Hold Duration":60,"Benefits":"Hamstring flexibility, hip opening","Level":"Intermediate","Category":"Forward Fold","Session Type":"Flexibility Yoga, Yin Yoga","Props Needed":"Block (optional)"},{"Name":"Happy Baby","Sanskrit":"Ananda Balasana","Primary Muscles":"Hip Flexors, Hip Adductors","Secondary Muscles":"Lower Back, Glutes, Hamstrings","Type":"Restorative Yoga","Hold Duration":90,"Benefits":"Hip opening, lower back release, relaxation","Level":"Beginner","Category":"Restorative","Session Type":"Restorative Yoga, Yin Yoga","Props Needed":"None"},{"Name":"Headstand","Sanskrit":"Sirsasana","Primary Muscles":"Core, Shoulders, Hip Flexors","Secondary Muscles":"Neck, Back, Arms","Type":"Power Yoga","Hold Duration":45,"Benefits":"Full-body inversion, mental clarity, strength","Level":"Advanced","Category":"Inversion","Session Type":"Power Yoga, Full Body","Props Needed":"Blanket (optional)"},{"Name":"Humble Warrior","Sanskrit":"Bhairavasana","Primary Muscles":"Shoulders, Chest, Hip Flexors","Secondary Muscles":"Lats, Back, Glutes","Type":"Power Yoga","Hold Duration":45,"Benefits":"Shoulder and chest opening, hip flexibility","Level":"Intermediate","Category":"Standing","Session Type":"Power Yoga, Flexibility","Props Needed":"None"},{"Name":"Legs-Up-the-Wall","Sanskrit":"Viparita Karani","Primary Muscles":"Hip Flexors, Hamstrings, Core","Secondary Muscles":"Calves, Glutes, Lower Back","Type":"Restorative Yoga","Hold Duration":600,"Benefits":"Circulation, stress relief, parasympathetic activation","Level":"Beginner","Category":"Inversion","Session Type":"Restorative Yoga, Yin Yoga","Props Needed":"Bolster (optional)"},{"Name":"Lizard Pose","Sanskrit":"Utthan Pristhasana","Primary Muscles":"Hip Flexors, Hip Abductors","Secondary Muscles":"Hamstrings, Glutes, Inner Thighs","Type":"Yin Yoga","Hold Duration":75,"Benefits":"Hip and hamstring opening","Level":"Intermediate","Category":"Hip Opener","Session Type":"Yin Yoga, Flexibility","Props Needed":"Block (optional)"},{"Name":"Locust Pose","Sanskrit":"Salabhasana","Primary Muscles":"Erector Spinae, Glutes, Posterior Deltoids","Secondary Muscles":"Hamstrings, Hip Extensors, Back","Type":"Power Yoga","Hold Duration":22,"Benefits":"Posterior chain strength, spinal extension","Level":"Intermediate","Category":"Backbend","Session Type":"Power Yoga, Core Strength","Props Needed":"None"},{"Name":"Low Lunge","Sanskrit":"Anjaneyasana (low variation)","Primary Muscles":"Hip Flexors, Glutes, Quads","Secondary Muscles":"Hamstrings, Core","Type":"Flexibility Yoga","Hold Duration":60,"Benefits":"Hip flexor opening, leg strength","Level":"Beginner","Category":"Hip Opener","Session Type":"Flexibility Yoga, Power Yoga","Props Needed":"Block (optional)"},{"Name":"Mountain Pose","Sanskrit":"Tadasana","Primary Muscles":"Quads, Glutes, Core","Secondary Muscles":"All stabilizer muscles","Type":"Power Yoga","Hold Duration":45,"Benefits":"Body awareness, posture, balance","Level":"Beginner","Category":"Standing","Session Type":"Power Yoga, Balance","Props Needed":"None"},{"Name":"Peacock Pose","Sanskrit":"Pincha Mayurasana","Primary Muscles":"Core, Shoulders","Secondary Muscles":"Triceps, Back, Chest","Type":"Power Yoga","Hold Duration":30,"Benefits":"Shoulder strength, core stability, inversion","Level":"Advanced","Category":"Arm Balance","Session Type":"Power Yoga, Core Strength","Props Needed":"None"},{"Name":"Pigeon Pose","Sanskrit":"Eka Pada Rajakapotasana","Primary Muscles":"Hip External Rotators, Glutes","Secondary Muscles":"Hip Flexors, Hamstrings, Lower Back","Type":"Yin Yoga","Hold Duration":75,"Benefits":"Deep hip opening, lower back release","Level":"Intermediate","Category":"Hip Opener","Session Type":"Yin Yoga, Flexibility","Props Needed":"Block (optional)"},{"Name":"Plank Pose","Sanskrit":"Phalakasana","Primary Muscles":"Core, Shoulders, Triceps","Secondary Muscles":"Chest, Quads, Back","Type":"Power Yoga","Hold Duration":45,"Benefits":"Core strength, shoulder stability","Level":"Beginner","Category":"Core","Session Type":"Power Yoga, Core Strength, HIIT","Props Needed":"None"},{"Name":"Plow Pose","Sanskrit":"Halasana","Primary Muscles":"Neck, Shoulders, Hamstrings","Secondary Muscles":"Back, Chest","Type":"Power Yoga","Hold Duration":45,"Benefits":"Full inversion, shoulder and hamstring stretch","Level":"Advanced","Category":"Inversion","Session Type":"Power Yoga, Full Body","Props Needed":"Blanket (optional)"},{"Name":"Pyramid Pose","Sanskrit":"Parsvottanasana","Primary Muscles":"Hamstrings, Hip Adductors","Secondary Muscles":"Glutes, Calves, Shoulders","Type":"Flexibility Yoga","Hold Duration":67,"Benefits":"Hamstring flexibility, spinal rotation","Level":"Intermediate","Category":"Forward Fold","Session Type":"Flexibility Yoga, Power Yoga","Props Needed":"Block (optional)"},{"Name":"Reclined Pigeon","Sanskrit":"Supta Kapotasana","Primary Muscles":"Hip External Rotators, Glutes","Secondary Muscles":"Hip Flexors, Lower Back, Hamstrings","Type":"Restorative Yoga","Hold Duration":90,"Benefits":"Hip opening, glute stretch, relaxation","Level":"Beginner","Category":"Hip Opener","Session Type":"Restorative Yoga, Yin Yoga","Props Needed":"None"},{"Name":"Reclined Twist","Sanskrit":"Supta Matsyendrasana","Primary Muscles":"Obliques, Erector Spinae","Secondary Muscles":"Glutes, Hip Flexors, Shoulders","Type":"Restorative Yoga","Hold Duration":90,"Benefits":"Spinal rotation, digestive aid, relaxation","Level":"Beginner","Category":"Twist","Session Type":"Restorative Yoga, Yin Yoga","Props Needed":"None"},{"Name":"Reverse Warrior","Sanskrit":"Viparita Virabhadrasana","Primary Muscles":"Glutes, Quads, Obliques","Secondary Muscles":"Shoulders, Hip Flexors, Core","Type":"Power Yoga","Hold Duration":45,"Benefits":"Side body stretch, leg strength, hip opening","Level":"Beginner","Category":"Standing","Session Type":"Power Yoga, Flexibility, Full Body","Props Needed":"None"},{"Name":"Scorpion Pose","Sanskrit":"Vrschikasana","Primary Muscles":"Core, Delts, Chest","Secondary Muscles":"Quads, Hip Flexors","Type":"Power Yoga","Hold Duration":20,"Benefits":"Deep backbend, inversion, core strength","Level":"Advanced","Category":"Backbend","Session Type":"Power Yoga, Core Strength","Props Needed":"None"},{"Name":"Seal Pose","Sanskrit":"Bhujangasana (Seal variation)","Primary Muscles":"Chest, Hip Flexors","Secondary Muscles":"Delts, Back","Type":"Power Yoga","Hold Duration":30,"Benefits":"Chest and hip flexor opening, backbend","Level":"Intermediate","Category":"Backbend","Session Type":"Power Yoga, Flexibility","Props Needed":"None"},{"Name":"Seated Forward Fold","Sanskrit":"Paschimottanasana","Primary Muscles":"Hamstrings, Erector Spinae, Glutes","Secondary Muscles":"Hip Adductors, Calves, Shoulders","Type":"Yin Yoga","Hold Duration":75,"Benefits":"Hamstring/lower back flexibility, calming","Level":"Beginner","Category":"Forward Fold","Session Type":"Yin Yoga, Restorative Yoga, Flexibility","Props Needed":"Block (optional)"},{"Name":"Seated Spinal Twist","Sanskrit":"Ardha Matsyendrasana","Primary Muscles":"Obliques, Erector Spinae","Secondary Muscles":"Glutes, Shoulders","Type":"Flexibility Yoga","Hold Duration":60,"Benefits":"Spinal rotation, digestive aid","Level":"Beginner","Category":"Twist","Session Type":"Flexibility Yoga, Yin Yoga","Props Needed":"None"},{"Name":"Shoulder Stand","Sanskrit":"Salamba Sarvangasana","Primary Muscles":"Shoulders, Neck, Core","Secondary Muscles":"Triceps, Back, Hip Flexors","Type":"Power Yoga","Hold Duration":45,"Benefits":"Inversion benefits, shoulder strength, thyroid stimulation","Level":"Advanced","Category":"Inversion","Session Type":"Power Yoga, Full Body","Props Needed":"Block, Blanket (optional)"},{"Name":"Side Plank","Sanskrit":"Vasisthasana","Primary Muscles":"Obliques, Shoulders, Hip Abductors","Secondary Muscles":"Core, Quads, Lats","Type":"Power Yoga","Hold Duration":25,"Benefits":"Lateral core strength, shoulder stabilization","Level":"Intermediate","Category":"Core","Session Type":"Power Yoga, Core Strength","Props Needed":"None"},{"Name":"Sleeping Swan","Sanskrit":"Eka Pada Rajakapotasana (Sleeping)","Primary Muscles":"Hip External Rotators, Glutes","Secondary Muscles":"Hip Flexors, Lower Back, Hamstrings","Type":"Yin Yoga","Hold Duration":120,"Benefits":"Very deep hip opening","Level":"Intermediate","Category":"Hip Opener","Session Type":"Yin Yoga, Restorative Yoga","Props Needed":"Bolster (optional)"},{"Name":"Sphinx Pose","Sanskrit":"Salamba Bhujangasana","Primary Muscles":"Chest, Shoulders, Core","Secondary Muscles":"Erector Spinae, Hip Flexors","Type":"Restorative Yoga","Hold Duration":45,"Benefits":"Gentle spinal extension, chest opening","Level":"Beginner","Category":"Backbend","Session Type":"Restorative Yoga, Flexibility","Props Needed":"None"},{"Name":"Standing Forward Fold","Sanskrit":"Uttanasana","Primary Muscles":"Hamstrings, Glutes, Erector Spinae","Secondary Muscles":"Hip Adductors, Calves, Shoulders","Type":"Flexibility Yoga","Hold Duration":67,"Benefits":"Hamstring/lower back flexibility, calming","Level":"Beginner","Category":"Forward Fold","Session Type":"Flexibility Yoga, Restorative Yoga","Props Needed":"Block (optional)"},{"Name":"Supine Butterfly","Sanskrit":"Supta Baddha Konasana","Primary Muscles":"Hip Abductors, Hip Adductors, Hip Flexors","Secondary Muscles":"Pelvic floor, Lower Abdomen, Chest","Type":"Restorative Yoga","Hold Duration":240,"Benefits":"Deep hip opening, pelvic release, chest opening","Level":"Beginner","Category":"Restorative","Session Type":"Restorative Yoga, Yin Yoga","Props Needed":"Bolster, Block"},{"Name":"Supine Figure 4","Sanskrit":"Supta Agnisthasana","Primary Muscles":"Glutes, Hip External Rotators","Secondary Muscles":"Hip Flexors, Lower Back","Type":"Yin Yoga","Hold Duration":90,"Benefits":"Deep glute and hip opening","Level":"Beginner","Category":"Hip Opener","Session Type":"Yin Yoga, Restorative Yoga","Props Needed":"None"},{"Name":"Supported Fish Pose","Sanskrit":"Matsyasana (Supported)","Primary Muscles":"Chest, Hip Flexors","Secondary Muscles":"Delts, Back","Type":"Restorative Yoga","Hold Duration":180,"Benefits":"Chest and hip flexor opening, stress relief","Level":"Beginner","Category":"Backbend","Session Type":"Restorative Yoga","Props Needed":"Bolster, Block"},{"Name":"Tree Pose","Sanskrit":"Vrksasana","Primary Muscles":"Hip Abductors, Hip Stabilizers, Quads","Secondary Muscles":"Glutes, Core, Shoulders","Type":"Power Yoga","Hold Duration":45,"Benefits":"Balance, hip stability, focus","Level":"Beginner","Category":"Balance","Session Type":"Power Yoga, Balance","Props Needed":"None"},{"Name":"Twisted Lunge","Sanskrit":"Parivrtta Anjaneyasana","Primary Muscles":"Obliques, Hip Flexors, Glutes","Secondary Muscles":"Quads, Shoulders, Core","Type":"Power Yoga","Hold Duration":45,"Benefits":"Spinal rotation, hip opening, balance","Level":"Intermediate","Category":"Twist","Session Type":"Power Yoga, Flexibility","Props Needed":"None"},{"Name":"Upward-Facing Dog","Sanskrit":"Urdhva Mukha Svanasana","Primary Muscles":"Chest, Shoulders, Triceps","Secondary Muscles":"Abs, Hip Flexors, Back","Type":"Power Yoga","Hold Duration":22,"Benefits":"Chest opening, core engagement, backbend","Level":"Intermediate","Category":"Backbend","Session Type":"Power Yoga, Flexibility","Props Needed":"None"},{"Name":"Warrior I","Sanskrit":"Virabhadrasana I","Primary Muscles":"Glutes, Quads, Hip Flexors","Secondary Muscles":"Core, Shoulders, Chest","Type":"Power Yoga","Hold Duration":45,"Benefits":"Lower body strength, hip flexibility, core","Level":"Beginner","Category":"Standing","Session Type":"Power Yoga, Full Body","Props Needed":"None"},{"Name":"Warrior II","Sanskrit":"Virabhadrasana II","Primary Muscles":"Glutes, Quads, Hip Abductors","Secondary Muscles":"Core, Shoulders, Back","Type":"Power Yoga","Hold Duration":45,"Benefits":"Leg strength, hip opening, balance","Level":"Beginner","Category":"Standing","Session Type":"Power Yoga, Full Body","Props Needed":"None"},{"Name":"Warrior III","Sanskrit":"Virabhadrasana III","Primary Muscles":"Glutes, Back, Hip Extensors","Secondary Muscles":"Quads, Hamstrings, Core, Shoulders","Type":"Power Yoga","Hold Duration":25,"Benefits":"Balance, glute activation, core stability","Level":"Intermediate","Category":"Balance","Session Type":"Power Yoga, Balance","Props Needed":"None"},{"Name":"Wheel Pose","Sanskrit":"Urdhva Mukha Svanasana (full)","Primary Muscles":"Quads, Hip Flexors, Chest","Secondary Muscles":"Delts, Back, Core","Type":"Power Yoga","Hold Duration":30,"Benefits":"Deep backbend, full body opening","Level":"Advanced","Category":"Backbend","Session Type":"Power Yoga, Full Body","Props Needed":"None"},{"Name":"Wide-Legged Forward Fold","Sanskrit":"Prasarita Padottanasana","Primary Muscles":"Hamstrings, Hip Adductors, Erector Spinae","Secondary Muscles":"Glutes, Inner Thighs, Calves","Type":"Flexibility Yoga","Hold Duration":75,"Benefits":"Hamstring flexibility, hip adductor stretch","Level":"Beginner","Category":"Forward Fold","Session Type":"Flexibility Yoga, Power Yoga","Props Needed":"Block (optional)"}]`),ct={HIIT:"hiit",CARDIO:"cardio",YOGA:"yoga"},Qp=Ij.map(e=>e.Name),Mw="goodlift_timer_settings",BB=()=>{const[e,t]=x.useState(0),[s,i]=x.useState(30),[l,u]=x.useState(15),[d,f]=x.useState(8),[p,g]=x.useState(20),[y,v]=x.useState(5),[b,S]=x.useState(20),[T,D]=x.useState(2),[j,C]=x.useState(5),[E,k]=x.useState(!1),[A,N]=x.useState(!1),[z,P]=x.useState(!0),[F,H]=x.useState(0),[L,W]=x.useState(0),[M,U]=x.useState(0),[V,_]=x.useState(!0),[B,O]=x.useState(""),[Q,ee]=x.useState([]),[ye,ue]=x.useState(!1),[de,we]=x.useState(""),De=x.useRef(null),Me=x.useRef(null),We=x.useRef(0);x.useEffect(()=>{(()=>{try{const oe=localStorage.getItem(Mw);if(oe){const $=JSON.parse(oe);$.hiit&&(i($.hiit.workTime||30),u($.hiit.restTime||15),f($.hiit.rounds||8)),$.cardio&&(g($.cardio.duration||20),v($.cardio.intervalMinutes||5)),$.yoga&&(S($.yoga.flowDuration||20),D($.yoga.poseInterval||2),C($.yoga.cooldown||5)),$.lastTab!==void 0&&t($.lastTab)}}catch(oe){console.error("Error loading timer settings:",oe)}})()},[]),x.useEffect(()=>{(()=>{try{const oe={lastTab:e,hiit:{workTime:s,restTime:l,rounds:d},cardio:{duration:p,intervalMinutes:y},yoga:{flowDuration:b,poseInterval:T,cooldown:j}};localStorage.setItem(Mw,JSON.stringify(oe))}catch(oe){console.error("Error saving timer settings:",oe)}})()},[e,s,l,d,p,y,b,T,j]),x.useEffect(()=>(E&&!A?Yn.requestWakeLock():Yn.releaseWakeLock(),()=>{Yn.releaseWakeLock()}),[E,A]);const Ue=x.useCallback(()=>{const ne=Qp.filter(oe=>!Q.includes(oe));return ne.length===0?(ee([]),Qp[Math.floor(Math.random()*Qp.length)]):ne[Math.floor(Math.random()*ne.length)]},[Q]),st=x.useCallback(()=>{switch(e===0?ct.HIIT:e===1?ct.CARDIO:ct.YOGA){case ct.HIIT:return d*(s+l);case ct.CARDIO:return p*60;case ct.YOGA:return b*60;default:return 0}},[e,d,s,l,p,b]),_e=x.useCallback(async()=>{k(!1),N(!1);const ne=Date.now(),oe=Math.floor((ne-Me.current+We.current)/1e3);Ct.playCompletionFanfare(),W(oe),ue(!0)},[]);x.useEffect(()=>(E&&!A?De.current=setInterval(()=>{H(ne=>{if(ne<=1){const oe=e===0?ct.HIIT:e===1?ct.CARDIO:ct.YOGA;if(oe===ct.HIIT)return V?(Ct.playLowBeep(),_(!1),l):(U($=>$+1),M+1>=d?(_e(),0):(Ct.playHighBeep(),_(!0),s));if(oe===ct.CARDIO){const $=Math.floor((Date.now()-Me.current+We.current)/1e3),ge=p*60-$,K=y*60;return $>0&&$%K===0&&ge>0&&Ct.playChime(),ge<=1?(_e(),0):ge}if(oe===ct.YOGA){const $=Math.floor((Date.now()-Me.current+We.current)/1e3),ge=b*60,K=ge-$,fe=T*60;if($>0&&$%fe===0&&K>fe){const Se=Ue();O(Se),ee(Oe=>[...Oe,Se]),Ct.playChime()}const me=ge-j*60;return $>=me&&B!=="Cooldown - Corpse Pose (Savasana)"&&(O("Cooldown - Corpse Pose (Savasana)"),Ct.playTransitionBeep()),K<=1?(_e(),0):K}return ne}return ne-1})},1e3):De.current&&clearInterval(De.current),()=>{De.current&&clearInterval(De.current)}),[E,A,V,M,e,s,l,d,p,y,b,T,j,B,_e,Ue]);const ke=()=>{const ne=e===0?ct.HIIT:e===1?ct.CARDIO:ct.YOGA;if(P(!1),k(!0),N(!1),Me.current=Date.now(),We.current=0,ne===ct.HIIT){const oe=hy({modality:"bodyweight",level:"intermediate",protocol:"BALANCED",exercises:[]});console.log("HIIT session generated:",oe),H(s),U(0),_(!0),Ct.playHighBeep()}else if(ne===ct.CARDIO){const oe=p*60;H(oe),Ct.playHighBeep()}else if(ne===ct.YOGA){const oe=py({mode:"power",level:"intermediate",poses:Ij});console.log("Yoga session generated:",oe);const $=b*60;H($);const ge=Ue();O(ge),ee([ge]),Ct.playChime()}},Te=()=>{if(A){N(!1);const ne=Date.now()-je.current;Me.current+=ne,Ct.playTransitionBeep()}else N(!0),je.current=Date.now(),Ct.playLowBeep()},je=x.useRef(null),Ne=()=>{k(!1),N(!1),P(!0),H(0),U(0),O(""),ee([]),Ct.playLowBeep()},le=()=>{const ne=Ue();O(ne),ee(oe=>[...oe,ne]),Ct.playTransitionBeep()},Ce=async()=>{const ne=e===0?ct.HIIT:e===1?ct.CARDIO:ct.YOGA;try{const oe={id:`${ne}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,date:new Date().toISOString(),type:ne,duration:L,completed:!0,notes:de};ne===ct.HIIT?(oe.workTime=s,oe.restTime=l,oe.rounds=M,oe.targetRounds=d):ne===ct.CARDIO?(oe.targetDuration=p*60,oe.intervalMinutes=y):ne===ct.YOGA&&(oe.flowDuration=b,oe.poseInterval=T,oe.cooldown=j,oe.posesCompleted=Q.length),await Kg(oe),ue(!1),we(""),Ne()}catch(oe){console.error("Error saving session:",oe),alert("Failed to save session. Please try again.")}},te=()=>{const ne=e===0?ct.HIIT:e===1?ct.CARDIO:ct.YOGA;if(ne===ct.HIIT)return a.jsxs(Ee,{spacing:3,children:[a.jsx(I,{variant:"h6",sx:{fontWeight:700},children:" Configure HIIT Session"}),a.jsxs($e,{container:!0,spacing:2,children:[a.jsx($e,{item:!0,xs:12,sm:4,children:a.jsx(et,{fullWidth:!0,label:"Work Time (seconds)",type:"number",value:s,onChange:oe=>i(Math.max(1,parseInt(oe.target.value)||30)),inputProps:{min:1,max:300}})}),a.jsx($e,{item:!0,xs:12,sm:4,children:a.jsx(et,{fullWidth:!0,label:"Rest Time (seconds)",type:"number",value:l,onChange:oe=>u(Math.max(1,parseInt(oe.target.value)||15)),inputProps:{min:1,max:300}})}),a.jsx($e,{item:!0,xs:12,sm:4,children:a.jsx(et,{fullWidth:!0,label:"Rounds",type:"number",value:d,onChange:oe=>f(Math.max(1,parseInt(oe.target.value)||8)),inputProps:{min:1,max:50}})})]}),a.jsxs(Ot,{severity:"info",children:[a.jsx("strong",{children:"Total Duration:"})," ",Do(st())]})]});if(ne===ct.CARDIO)return a.jsxs(Ee,{spacing:3,children:[a.jsx(I,{variant:"h6",sx:{fontWeight:700},children:" Configure Cardio Session"}),a.jsxs($e,{container:!0,spacing:2,children:[a.jsx($e,{item:!0,xs:12,sm:6,children:a.jsx(et,{fullWidth:!0,label:"Duration (minutes)",type:"number",value:p,onChange:oe=>g(Math.max(1,parseInt(oe.target.value)||20)),inputProps:{min:1,max:120}})}),a.jsx($e,{item:!0,xs:12,sm:6,children:a.jsx(et,{fullWidth:!0,label:"Interval Alert (minutes)",type:"number",value:y,onChange:oe=>v(Math.max(1,parseInt(oe.target.value)||5)),inputProps:{min:1,max:60}})})]}),a.jsx(Ot,{severity:"info",children:a.jsxs("strong",{children:["Session will alert every ",y," minutes"]})})]});if(ne===ct.YOGA)return a.jsxs(Ee,{spacing:3,children:[a.jsx(I,{variant:"h6",sx:{fontWeight:700},children:" Configure Yoga Session"}),a.jsxs($e,{container:!0,spacing:2,children:[a.jsx($e,{item:!0,xs:12,sm:4,children:a.jsx(et,{fullWidth:!0,label:"Flow Duration (minutes)",type:"number",value:b,onChange:oe=>S(Math.max(1,parseInt(oe.target.value)||20)),inputProps:{min:1,max:120}})}),a.jsx($e,{item:!0,xs:12,sm:4,children:a.jsx(et,{fullWidth:!0,label:"Pose Interval (minutes)",type:"number",value:T,onChange:oe=>D(Math.max(1,parseInt(oe.target.value)||2)),inputProps:{min:1,max:30}})}),a.jsx($e,{item:!0,xs:12,sm:4,children:a.jsx(et,{fullWidth:!0,label:"Cooldown (minutes)",type:"number",value:j,onChange:oe=>C(Math.max(1,parseInt(oe.target.value)||5)),inputProps:{min:1,max:30}})})]}),a.jsxs(Ot,{severity:"info",children:["New poses will appear every ",T," minutes, with ",j," minutes of cooldown at the end"]})]})},ve=()=>{const ne=e===0?ct.HIIT:e===1?ct.CARDIO:ct.YOGA,oe=(st()-F)/st()*100;return a.jsxs(q,{sx:{textAlign:"center"},children:[a.jsx(Mr,{variant:"determinate",value:oe,sx:{height:10,borderRadius:5,mb:4,bgcolor:"rgba(255, 255, 255, 0.2)","& .MuiLinearProgress-bar":{bgcolor:ne===ct.HIIT?"warning.main":ne===ct.CARDIO?"secondary.main":"primary.main"}}}),a.jsx(Pe.div,{animate:{scale:A?1:[1,1.02,1]},transition:{duration:1,repeat:A?0:1/0},children:a.jsx(I,{variant:"h1",sx:{fontSize:{xs:"4rem",sm:"6rem",md:"8rem"},fontWeight:900,color:A?"text.secondary":ne===ct.HIIT&&!V?"info.main":ne===ct.HIIT?"warning.main":ne===ct.CARDIO?"secondary.main":"primary.main",textShadow:"0 4px 20px rgba(0,0,0,0.3)",mb:2},children:Do(F)})}),a.jsxs(Ee,{direction:"row",spacing:2,justifyContent:"center",sx:{mb:4},children:[ne===ct.HIIT&&a.jsxs(a.Fragment,{children:[a.jsx(Je,{label:V?"WORK":"REST",color:V?"warning":"info",sx:{fontSize:"1.2rem",fontWeight:700,px:3,py:2}}),a.jsx(Je,{label:`Round ${M+1}/${d}`,variant:"outlined",sx:{fontSize:"1.2rem",fontWeight:700,px:3,py:2}})]}),ne===ct.YOGA&&B&&a.jsx(Je,{label:B,color:"primary",icon:a.jsx(nr,{}),sx:{fontSize:"1.2rem",fontWeight:700,px:3,py:2}})]}),a.jsxs(Ee,{direction:"row",spacing:2,justifyContent:"center",children:[a.jsx(xe,{variant:"contained",size:"large",onClick:Te,startIcon:A?a.jsx(Fn,{}):a.jsx(Ho,{}),sx:{fontSize:"1.2rem",fontWeight:700,px:4,py:2,bgcolor:A?"success.main":"warning.main","&:hover":{bgcolor:A?"success.dark":"warning.dark"}},children:A?"Resume":"Pause"}),a.jsx(xe,{variant:"contained",size:"large",onClick:Ne,startIcon:a.jsx(kc,{}),sx:{fontSize:"1.2rem",fontWeight:700,px:4,py:2,bgcolor:"error.main","&:hover":{bgcolor:"error.dark"}},children:"Stop"}),ne===ct.YOGA&&a.jsx(xe,{variant:"outlined",size:"large",onClick:le,startIcon:a.jsx(Mc,{}),sx:{fontSize:"1.2rem",fontWeight:700,px:4,py:2},children:"Next Pose"})]})]})};return a.jsxs(q,{sx:{width:"100%",minHeight:"100vh"},children:[a.jsx(ps,{title:"Timer Hub",icon:""}),a.jsx(Pe.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{maxWidth:"1200px",margin:"0 auto",padding:"1rem"},children:a.jsx(Ie,{sx:{borderRadius:3,bgcolor:"background.paper"},children:a.jsxs(Le,{sx:{p:{xs:2,sm:4}},children:[a.jsxs(xk,{value:e,onChange:(ne,oe)=>!E&&t(oe),variant:"fullWidth",sx:{mb:4,"& .MuiTab-root":{fontSize:{xs:"0.9rem",sm:"1.1rem"},fontWeight:700,py:2}},children:[a.jsx(kp,{icon:a.jsx(V1,{}),label:"HIIT ",iconPosition:"start",disabled:E}),a.jsx(kp,{icon:a.jsx(ra,{}),label:"Cardio ",iconPosition:"start",disabled:E}),a.jsx(kp,{icon:a.jsx(nr,{}),label:"Yoga ",iconPosition:"start",disabled:E})]}),a.jsx(yi,{sx:{mb:4}}),z?a.jsxs(a.Fragment,{children:[te(),a.jsx(q,{sx:{mt:4,textAlign:"center"},children:a.jsx(xe,{variant:"contained",size:"large",onClick:ke,startIcon:a.jsx(Fn,{}),sx:{fontSize:"1.5rem",fontWeight:700,px:6,py:3,bgcolor:e===0?"warning.main":e===1?"secondary.main":"primary.main",color:e===0?"primary.main":"white","&:hover":{bgcolor:e===0?"warning.dark":e===1?"secondary.dark":"primary.dark"}},children:"Start Session"})})]}):ve()]})})}),a.jsxs(ns,{open:ye,onClose:()=>ue(!1),maxWidth:"sm",fullWidth:!0,children:[a.jsx(ys,{children:a.jsxs(Ee,{direction:"row",spacing:2,alignItems:"center",children:[a.jsx(Ys,{color:"success",sx:{fontSize:40}}),a.jsx(I,{variant:"h5",sx:{fontWeight:700},children:"Session Complete! "})]})}),a.jsx(ss,{children:a.jsxs(Ee,{spacing:3,sx:{mt:2},children:[a.jsxs(Ot,{severity:"success",children:[a.jsxs(I,{variant:"body1",children:[a.jsx("strong",{children:"Duration:"})," ",Do(L)]}),a.jsxs(I,{variant:"body1",children:[a.jsx("strong",{children:"Type:"})," ",e===0?"HIIT":e===1?"Cardio":"Yoga"]}),a.jsxs(I,{variant:"body1",children:[a.jsx("strong",{children:"Date:"})," ",new Date().toLocaleString()]})]}),a.jsx(et,{fullWidth:!0,label:"Session Notes (optional)",multiline:!0,rows:3,value:de,onChange:ne=>we(ne.target.value),placeholder:"How did you feel? Any observations?"})]})}),a.jsxs(rs,{sx:{p:3},children:[a.jsx(xe,{onClick:()=>ue(!1),children:"Cancel"}),a.jsx(xe,{variant:"contained",onClick:Ce,startIcon:a.jsx(Ys,{}),sx:{fontWeight:700},children:"Save Session"})]})]})]})},LB=()=>{const[e,t]=x.useState(!0),[s,i]=x.useState(""),[l,u]=x.useState(""),[d,f]=x.useState(""),[p,g]=x.useState(!1),{login:y,signup:v}=Nc();return{isLogin:e,email:s,setEmail:i,password:l,setPassword:u,error:d,loading:p,handleSubmit:async T=>{if(T.preventDefault(),!s||!l){f("Please fill in all fields");return}if(l.length<6){f("Password must be at least 6 characters");return}try{f(""),g(!0),e?await y(s,l):await v(s,l)}catch(D){console.error("Auth error:",D.code||"Unknown error"),D.code==="auth/user-not-found"||D.code==="auth/wrong-password"?f("Invalid email or password"):D.code==="auth/email-already-in-use"?f("Email already in use"):D.code==="auth/invalid-email"?f("Invalid email address"):D.code==="auth/weak-password"?f("Password is too weak"):f(`Failed to ${e?"log in":"sign up"}. Please try again.`)}finally{g(!1)}},toggleMode:()=>{t(!e),f(""),i(""),u("")}}},NB=()=>{const{isLogin:e,email:t,setEmail:s,password:i,setPassword:l,error:u,loading:d,handleSubmit:f,toggleMode:p}=LB(),{continueAsGuest:g}=Nc();return a.jsx(q,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:y=>y.palette.background.default,p:2},children:a.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsx(Ie,{sx:{maxWidth:440,width:"100%",borderRadius:4,boxShadow:"0 8px 32px rgba(19, 70, 134, 0.2)"},children:a.jsxs(Le,{sx:{p:4},children:[a.jsxs(q,{sx:{textAlign:"center",mb:4},children:[a.jsx(Pe.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},style:{marginBottom:"1rem"},children:a.jsx("img",{src:"/goodlift/goodlift-logo.svg",alt:"GoodLift",style:{height:"80px",width:"auto"}})}),a.jsx(pc,{mode:"wait",children:a.jsxs(Pe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.3},children:[a.jsx(I,{variant:"h5",sx:{fontWeight:600,mb:1},children:e?"Welcome Back":"Create Account"}),a.jsx(I,{variant:"body2",color:"text.secondary",children:e?"Log in to continue your fitness journey":"Sign up to start tracking your workouts"})]},e?"login":"signup")})]}),a.jsx(pc,{mode:"wait",children:u&&a.jsx(Pe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:a.jsx(Ot,{severity:"error",sx:{mb:3},children:u})})}),a.jsxs(q,{component:"form",onSubmit:f,children:[a.jsx(et,{fullWidth:!0,label:"Email",type:"email",value:t,onChange:y=>s(y.target.value),disabled:d,required:!0,sx:{mb:2}}),a.jsx(et,{fullWidth:!0,label:"Password",type:"password",value:i,onChange:y=>l(y.target.value),disabled:d,required:!0,sx:{mb:3}}),a.jsx(Pe.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:a.jsx(xe,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:d,sx:{py:1.5,fontSize:"1.1rem",fontWeight:600,bgcolor:"primary.main","&:hover":{bgcolor:"primary.dark"}},children:d?"Please wait...":e?"Log In":"Sign Up"})}),a.jsx(yi,{sx:{my:2},children:"OR"}),a.jsx(Pe.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:a.jsx(xe,{fullWidth:!0,variant:"outlined",size:"large",disabled:d,onClick:g,sx:{py:1.5,fontSize:"1.1rem",fontWeight:600,borderColor:"secondary.main",color:"secondary.main","&:hover":{borderColor:"secondary.dark",bgcolor:"rgba(237, 63, 39, 0.05)"}},children:"Continue as Guest"})}),a.jsx(q,{sx:{mt:3,pt:3,borderTop:"1px solid",borderColor:"divider",textAlign:"center"},children:a.jsxs(I,{variant:"body2",color:"text.secondary",children:[e?"Don't have an account? ":"Already have an account? ",a.jsx(xe,{onClick:p,disabled:d,sx:{color:"primary.main",fontWeight:600,textDecoration:"underline","&:hover":{bgcolor:"transparent",textDecoration:"underline"}},children:e?"Sign Up":"Log In"})]})})]})]})})})})},ic=[{name:"Neck Side Stretch",primaryMuscles:"Neck",secondaryMuscles:"Upper Back, Traps",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=v5I0J_6w6jw"},{name:"Neck Rotation",primaryMuscles:"Neck",secondaryMuscles:"Traps",type:"Dynamic",duration:60,youtubeLink:"https://www.youtube.com/watch?v=xfGKhRo5bpI"},{name:"Shoulder Cross-Body Stretch",primaryMuscles:"Delts, Rear Delts",secondaryMuscles:"Upper Back",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=b6H9SHC0H9Y"},{name:"Overhead Triceps Stretch",primaryMuscles:"Triceps",secondaryMuscles:"Delts, Lats",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=EQO_8NRkljo"},{name:"Arm Circles",primaryMuscles:"Delts",secondaryMuscles:"Upper Back, Chest",type:"Dynamic",duration:60,youtubeLink:"https://www.youtube.com/watch?v=Ue_PRcVBdm8"},{name:"Doorway Chest Stretch",primaryMuscles:"Chest",secondaryMuscles:"Front Delts",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=qGJABe9R2zQ"},{name:"Standing Chest Expansion",primaryMuscles:"Chest",secondaryMuscles:"Front Delts, Biceps",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=mvh5zHB-xkc"},{name:"Child's Pose",primaryMuscles:"Lower Back",secondaryMuscles:"Lats, Glutes",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=2MTIlxJ82vY",difficulty:"Beginner"},{name:"Cat-Cow Stretch",primaryMuscles:"Back, Core",secondaryMuscles:"Abs",type:"Dynamic",duration:60,youtubeLink:"https://www.youtube.com/watch?v=kqnua4rHVVA",difficulty:"Beginner"},{name:"Seated Spinal Twist",primaryMuscles:"Back, Obliques",secondaryMuscles:"Lower Back, Glutes",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=DGd7kJyPZjU",difficulty:"Beginner"},{name:"Hip Flexor Stretch (Lunge)",primaryMuscles:"Hip Flexors",secondaryMuscles:"Quads",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=hdW4IXXCzKE"},{name:"Pigeon Pose",primaryMuscles:"Glutes, Hip Flexors",secondaryMuscles:"Lower Back",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=0_zDd6kQ",difficulty:"Intermediate"},{name:"Figure 4 Stretch",primaryMuscles:"Glutes",secondaryMuscles:"Lower Back, Hip Flexors",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=JbyjNymZP8M"},{name:"Butterfly Stretch",primaryMuscles:"Inner Thighs, Groin",secondaryMuscles:"Hip Flexors",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=mJiSzM1X7m0"},{name:"Standing Quad Stretch",primaryMuscles:"Quads",secondaryMuscles:"Hip Flexors",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=kRHQDSuhYKE"},{name:"Lying Quad Stretch",primaryMuscles:"Quads",secondaryMuscles:"Hip Flexors",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=5Mn5g6W-BZk"},{name:"Standing Hamstring Stretch",primaryMuscles:"Hamstrings",secondaryMuscles:"Lower Back, Calves",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=BPmv-3EQk2c"},{name:"Seated Forward Fold",primaryMuscles:"Hamstrings, Lower Back",secondaryMuscles:"Calves",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=U21floGmwDs",difficulty:"Beginner"},{name:"Downward Dog",primaryMuscles:"Hamstrings, Calves",secondaryMuscles:"Back, Delts",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=gZJWYonQKxY",difficulty:"Beginner"},{name:"Wall Calf Stretch",primaryMuscles:"Calves",secondaryMuscles:"Hamstrings",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=hjCRc2jYKyY"},{name:"Standing Calf Raise Stretch",primaryMuscles:"Calves",secondaryMuscles:"",type:"Dynamic",duration:60,youtubeLink:"https://www.youtube.com/watch?v=V3E_fFrLZmE"},{name:"Cobra Stretch",primaryMuscles:"Abs",secondaryMuscles:"Hip Flexors, Chest",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=JDcdhTuycOI",difficulty:"Beginner"},{name:"Side Bend Stretch",primaryMuscles:"Obliques",secondaryMuscles:"Lats, Side Delts",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=y1bKLSIvR1A"},{name:"World's Greatest Stretch",primaryMuscles:"Hip Flexors, Hamstrings",secondaryMuscles:"Glutes, Back, Chest",type:"Dynamic",duration:60,youtubeLink:"https://www.youtube.com/watch?v=a25W3YHBXP4",difficulty:"Intermediate"},{name:"Thread the Needle",primaryMuscles:"Upper Back, Delts",secondaryMuscles:"Obliques, Lower Back",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=lVGgLfg3wQ8",difficulty:"Beginner"},{name:"Warrior I Pose",primaryMuscles:"Hip Flexors, Quads",secondaryMuscles:"Glutes, Core",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=VC4s_PmJBkA",difficulty:"Beginner"},{name:"Triangle Pose",primaryMuscles:"Hamstrings, Obliques",secondaryMuscles:"Inner Thighs, Back",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=2S-ozXfUL9g",difficulty:"Intermediate"},{name:"Happy Baby Pose",primaryMuscles:"Hip Flexors, Glutes",secondaryMuscles:"Lower Back, Inner Thighs",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=p28vdRmDuLg",difficulty:"Beginner"},{name:"Supine Spinal Twist",primaryMuscles:"Lower Back, Obliques",secondaryMuscles:"Glutes, Chest",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=DQBT3u-x7TE",difficulty:"Beginner"}],kw=e=>e.split(",").map(t=>t.trim()).filter(t=>t.length>0),ac=e=>{const t=kw(e.primaryMuscles),s=kw(e.secondaryMuscles||"");return[...t,...s]},Kp={NECK:["Neck","Traps"],SHOULDERS:["Delts","Front Delts","Rear Delts","Side Delts"],CHEST:["Chest","Upper Chest","Lower Chest"],BACK:["Back","Upper Back","Lower Back","Lats"],CORE:["Core","Abs","Obliques"],ARMS:["Biceps","Triceps","Forearms"],HIPS:["Hip Flexors","Glutes","Groin","Inner Thighs"],LEGS_UPPER:["Quads","Hamstrings"],LEGS_LOWER:["Calves"]},Pw=(e,t)=>ac(e).some(i=>t.some(l=>i.includes(l)||l.includes(i))),Ym=(e=10)=>{const t=[],s=new Set,i=Object.keys(Kp);for(const l of i){if(t.length>=e)break;const u=Kp[l],d=ic.filter(f=>Pw(f,u)&&!t.includes(f));if(d.length>0){const f=Math.floor(Math.random()*d.length);t.push(d[f]),s.add(l)}}for(;t.length<e;){const l=i.filter(u=>!s.has(u));if(l.length>0){const u=l[Math.floor(Math.random()*l.length)],d=Kp[u],f=ic.filter(p=>Pw(p,d)&&!t.includes(p));if(f.length>0){const p=Math.floor(Math.random()*f.length);t.push(f[p]),s.add(u)}else s.add(u)}else{const u=ic.filter(f=>!t.includes(f));if(u.length===0)break;const d=Math.floor(Math.random()*u.length);t.push(u[d])}}return Um(t)},FB=(e,t=10)=>{if(!e||e.length===0)return Ym(t);const s=ic.filter(u=>{const d=ac(u);return e.some(f=>d.some(p=>p.includes(f)||f.includes(p)))});if(s.length===0)return console.warn("No stretches found for specified muscles, using full body selection"),Ym(t);if(s.length<=t)return Um(s);const i=[],l=new Set;for(const u of e){if(i.length>=t)break;const d=s.filter(f=>i.includes(f)?!1:ac(f).some(g=>g.includes(u)||u.includes(g)));if(d.length>0){const f=Math.floor(Math.random()*d.length);i.push(d[f]),ac(d[f]).forEach(p=>l.add(p))}}for(;i.length<t;){const u=s.filter(f=>!i.includes(f));if(u.length===0)break;const d=Math.floor(Math.random()*u.length);i.push(u[d])}return Um(i)},Um=e=>{const t=[...e];for(let s=t.length-1;s>0;s--){const i=Math.floor(Math.random()*(s+1));[t[s],t[i]]=[t[i],t[s]]}return t},HB=()=>{const e=new Set;return ic.forEach(t=>{ac(t).forEach(s=>e.add(s))}),Array.from(e).sort()},_B=()=>{const[e,t]=x.useState({flowLength:10,coolDownLength:5,poseSuggestionFrequency:1}),[s,i]=x.useState(!0),l="goodlift_yoga_config";return x.useEffect(()=>{(async()=>{try{if(nt()){const g=Bn("yoga_config");g&&t(g),i(!1);return}const f=xc();if(f)try{const g=ia(oa,"users",f,"yoga","config"),y=await ug(g);if(y.exists()){const v=y.data();t(v),localStorage.setItem(l,JSON.stringify(v)),i(!1);return}}catch(g){console.error("Error loading yoga config from Firebase:",g)}const p=localStorage.getItem(l);p&&t(JSON.parse(p))}catch(f){console.error("Error loading yoga config:",f)}finally{i(!1)}})()},[]),{config:e,saveConfig:async d=>{try{if(t(d),nt())Lt("yoga_config",d);else{localStorage.setItem(l,JSON.stringify(d));const f=xc();if(f)try{const p=ia(oa,"users",f,"yoga","config");await qd(p,d,{merge:!0})}catch(p){console.error("Error saving yoga config to Firebase:",p)}}}catch(f){console.error("Error saving yoga config:",f)}},loading:s}},Bj=({onStartStretchSession:e,onStartYogaSession:t})=>{const[s,i]=x.useState(null),[l,u]=x.useState(null),[d,f]=x.useState([]),{config:p,saveConfig:g}=_B(),[y,v]=x.useState({flowLength:p?.flowLength||15,coolDownLength:p?.coolDownLength||5,poseSuggestionFrequency:p?.poseSuggestionFrequency||1}),b=HB(),S=()=>{i("stretch")},T=()=>{i("yoga")},D=()=>{u("full")},j=()=>{u("custom")},C=P=>{f(F=>F.includes(P)?F.filter(H=>H!==P):[...F,P])},E=()=>{l==="full"?e("full",[]):l==="custom"&&e("custom",d)},k=async()=>{await g(y),t(y)},A=()=>{l?(u(null),f([])):i(null)},N=l==="custom"&&d.length===0,z=y.poseSuggestionFrequency>y.flowLength;return a.jsx(q,{sx:{padding:{xs:"2rem 1rem",sm:"2rem",md:"3rem"},maxWidth:"1200px",margin:"0 auto",minHeight:"calc(100vh - 60px)"},children:a.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx(I,{variant:"h3",sx:{fontFamily:"'Montserrat', sans-serif",fontWeight:800,color:"primary.main",marginBottom:"0.5rem",textAlign:"center"},children:"Mobility"}),a.jsx(I,{variant:"body1",sx:{color:"text.secondary",marginBottom:"2rem",textAlign:"center"},children:"Choose your mobility session to improve flexibility, recovery, and mindfulness"}),!s&&a.jsxs($e,{container:!0,spacing:3,sx:{marginTop:2},children:[a.jsx($e,{item:!0,xs:12,md:6,children:a.jsx(Pe.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:a.jsx(Ie,{onClick:S,sx:{cursor:"pointer",height:"100%",transition:"all 0.3s ease","&:hover":{boxShadow:6,borderColor:"success.main"},border:"2px solid",borderColor:"divider"},children:a.jsxs(Le,{sx:{padding:4},children:[a.jsx(q,{sx:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:2},children:a.jsx(yn,{sx:{fontSize:60,color:"success.main"}})}),a.jsx(I,{variant:"h5",sx:{fontWeight:700,textAlign:"center",marginBottom:2,color:"success.main"},children:"Stretching"}),a.jsx(I,{variant:"body2",sx:{textAlign:"center",marginBottom:2,color:"text.secondary"},children:"Improve flexibility and recovery with guided stretches for all major muscle groups"}),a.jsxs(q,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1,marginTop:2},children:[a.jsx(sd,{sx:{color:"success.main"}}),a.jsx(I,{variant:"h6",sx:{fontWeight:600,color:"success.main"},children:"~10 minutes"})]})]})})})}),a.jsx($e,{item:!0,xs:12,md:6,children:a.jsx(Pe.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:a.jsx(Ie,{onClick:T,sx:{cursor:"pointer",height:"100%",transition:"all 0.3s ease","&:hover":{boxShadow:6,borderColor:"#9c27b0"},border:"2px solid",borderColor:"divider"},children:a.jsxs(Le,{sx:{padding:4},children:[a.jsx(q,{sx:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:2},children:a.jsx(nr,{sx:{fontSize:60,color:"#9c27b0"}})}),a.jsx(I,{variant:"h5",sx:{fontWeight:700,textAlign:"center",marginBottom:2,color:"#9c27b0"},children:"Yoga"}),a.jsx(I,{variant:"body2",sx:{textAlign:"center",marginBottom:2,color:"text.secondary"},children:"Flow through guided yoga poses with optional cool-down for mindfulness and flexibility"}),a.jsxs(q,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1,marginTop:2},children:[a.jsx(sd,{sx:{color:"#9c27b0"}}),a.jsx(I,{variant:"h6",sx:{fontWeight:600,color:"#9c27b0"},children:"15-30 minutes"})]})]})})})})]}),s==="stretch"&&!l&&a.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:a.jsxs($e,{container:!0,spacing:3,sx:{marginTop:2},children:[a.jsx($e,{item:!0,xs:12,md:6,children:a.jsx(Pe.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:a.jsx(Ie,{onClick:D,sx:{cursor:"pointer",height:"100%",transition:"all 0.3s ease","&:hover":{boxShadow:6,borderColor:"primary.main"},border:"2px solid",borderColor:"divider"},children:a.jsxs(Le,{sx:{padding:4},children:[a.jsx(q,{sx:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:2},children:a.jsx(yn,{sx:{fontSize:60,color:"primary.main"}})}),a.jsx(I,{variant:"h5",sx:{fontWeight:700,textAlign:"center",marginBottom:2,color:"primary.main"},children:"Full Body Stretch"}),a.jsx(I,{variant:"body2",sx:{textAlign:"center",marginBottom:2,color:"text.secondary"},children:"A balanced routine covering all major muscle groups for complete flexibility and recovery."}),a.jsxs(q,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1,marginTop:2},children:[a.jsx(sd,{sx:{color:"secondary.main"}}),a.jsx(I,{variant:"h6",sx:{fontWeight:600,color:"secondary.main"},children:"~10 minutes"})]})]})})})}),a.jsx($e,{item:!0,xs:12,md:6,children:a.jsx(Pe.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:a.jsx(Ie,{onClick:j,sx:{cursor:"pointer",height:"100%",transition:"all 0.3s ease","&:hover":{boxShadow:6,borderColor:"secondary.main"},border:"2px solid",borderColor:"divider"},children:a.jsxs(Le,{sx:{padding:4},children:[a.jsx(q,{sx:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:2},children:a.jsx(yn,{sx:{fontSize:60,color:"secondary.main"}})}),a.jsx(I,{variant:"h5",sx:{fontWeight:700,textAlign:"center",marginBottom:2,color:"secondary.main"},children:"Custom Stretch"}),a.jsx(I,{variant:"body2",sx:{textAlign:"center",marginBottom:2,color:"text.secondary"},children:"Choose specific muscle groups to focus on areas that need attention or recovery."}),a.jsxs(q,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1,marginTop:2},children:[a.jsx(sd,{sx:{color:"secondary.main"}}),a.jsx(I,{variant:"h6",sx:{fontWeight:600,color:"secondary.main"},children:"~10 minutes"})]})]})})})})]})}),s==="stretch"&&l==="custom"&&a.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:a.jsx(Ie,{sx:{marginTop:3},children:a.jsxs(Le,{sx:{padding:3},children:[a.jsx(I,{variant:"h5",sx:{fontWeight:700,marginBottom:2,color:"primary.main"},children:"Select Muscle Groups"}),a.jsx(I,{variant:"body2",sx:{marginBottom:3,color:"text.secondary"},children:"Choose the areas you want to focus on during your stretch session."}),a.jsx(bk,{children:a.jsx($e,{container:!0,spacing:1,children:b.map(P=>a.jsx($e,{item:!0,xs:6,sm:4,md:3,children:a.jsx(og,{control:a.jsx(ag,{checked:d.includes(P),onChange:()=>C(P),sx:{color:"primary.main","&.Mui-checked":{color:"primary.main"}}}),label:P,sx:{marginBottom:.5}})},P))})}),d.length>0&&a.jsxs(q,{sx:{marginTop:3},children:[a.jsxs(I,{variant:"subtitle2",sx:{marginBottom:1,fontWeight:600},children:["Selected (",d.length,"):"]}),a.jsx(q,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:d.map(P=>a.jsx(Je,{label:P,onDelete:()=>C(P),color:"primary"},P))})]})]})})}),s==="stretch"&&l==="full"&&a.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:a.jsx(Ie,{sx:{marginTop:3},children:a.jsxs(Le,{sx:{padding:4,textAlign:"center"},children:[a.jsx(yn,{sx:{fontSize:80,color:"primary.main",marginBottom:2}}),a.jsx(I,{variant:"h5",sx:{fontWeight:700,marginBottom:2,color:"primary.main"},children:"Full Body Stretch Session"}),a.jsx(I,{variant:"body1",sx:{marginBottom:1},children:"10 carefully selected stretches"}),a.jsx(I,{variant:"body1",sx:{marginBottom:1},children:"All major muscle groups covered"}),a.jsx(I,{variant:"body1",sx:{marginBottom:2},children:"1 minute per stretch"}),a.jsx(I,{variant:"h6",sx:{marginTop:2,fontWeight:600,color:"secondary.main"},children:"Total Duration: ~10 minutes"})]})})}),s==="yoga"&&a.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:a.jsx(Ie,{sx:{marginTop:3,maxWidth:"800px",margin:"1.5rem auto 0"},children:a.jsxs(Le,{sx:{padding:3},children:[a.jsx(I,{variant:"h5",sx:{fontWeight:700,marginBottom:3,color:"primary.main",textAlign:"center"},children:"Configure Your Yoga Session"}),a.jsxs($e,{container:!0,spacing:3,sx:{mb:3},children:[a.jsx($e,{item:!0,xs:12,sm:4,children:a.jsxs(bt,{fullWidth:!0,variant:"outlined",children:[a.jsx(vt,{id:"flow-duration-label",sx:{fontWeight:600,color:"primary.main"},children:"Flow Duration"}),a.jsxs(St,{labelId:"flow-duration-label",id:"flow-duration",value:y.flowLength,onChange:P=>v({...y,flowLength:P.target.value}),label:"Flow Duration",children:[a.jsx(be,{value:10,children:"10 minutes"}),a.jsx(be,{value:15,children:"15 minutes"}),a.jsx(be,{value:20,children:"20 minutes"})]}),a.jsx(bd,{children:"Length of active flow"})]})}),a.jsx($e,{item:!0,xs:12,sm:4,children:a.jsxs(bt,{fullWidth:!0,variant:"outlined",children:[a.jsx(vt,{id:"cooldown-duration-label",sx:{fontWeight:600,color:"primary.main"},children:"Cool Down"}),a.jsxs(St,{labelId:"cooldown-duration-label",id:"cooldown-duration",value:y.coolDownLength,onChange:P=>v({...y,coolDownLength:P.target.value}),label:"Cool Down",children:[a.jsx(be,{value:0,children:"No cool down"}),a.jsx(be,{value:5,children:"5 minutes"}),a.jsx(be,{value:10,children:"10 minutes"})]}),a.jsx(bd,{children:"Post-flow relaxation"})]})}),a.jsx($e,{item:!0,xs:12,sm:4,children:a.jsxs(bt,{fullWidth:!0,variant:"outlined",error:z,children:[a.jsx(vt,{id:"pose-interval-label",sx:{fontWeight:600,color:z?"error.main":"primary.main"},children:"Pose Interval"}),a.jsxs(St,{labelId:"pose-interval-label",id:"pose-interval",value:y.poseSuggestionFrequency,onChange:P=>v({...y,poseSuggestionFrequency:P.target.value}),label:"Pose Interval",children:[a.jsx(be,{value:1,children:"Every 1 min"}),a.jsx(be,{value:2,children:"Every 2 min"}),a.jsx(be,{value:3,children:"Every 3 min"}),a.jsx(be,{value:4,children:"Every 4 min"}),a.jsx(be,{value:5,children:"Every 5 min"})]}),a.jsx(bd,{children:z?"Pose suggestion interval cannot be greater than flow duration":"Suggestion frequency"})]})})]}),a.jsxs(q,{sx:{p:2,bgcolor:P=>`${P.palette.primary.main}1A`,borderRadius:2,border:P=>`1px solid ${P.palette.primary.main}33`,mb:2},children:[a.jsx(I,{variant:"body2",sx:{fontWeight:600,mb:1,color:"primary.main"},children:"Session Preview"}),a.jsxs(Ee,{spacing:.5,children:[a.jsxs(I,{variant:"body2",color:"text.secondary",children:[a.jsx("strong",{children:"Flow:"})," ",y.flowLength," min"]}),a.jsxs(I,{variant:"body2",color:"text.secondary",children:[a.jsx("strong",{children:"Cool Down:"})," ",y.coolDownLength===0?"None":`${y.coolDownLength} min`]}),a.jsxs(I,{variant:"body2",color:"text.secondary",children:[a.jsx("strong",{children:"Total Duration:"})," ",y.flowLength+y.coolDownLength," min"]}),a.jsxs(I,{variant:"body2",color:"text.secondary",children:[a.jsx("strong",{children:"Pose Suggestions:"})," Every ",y.poseSuggestionFrequency," min during flow"]})]})]})]})})}),(l||s==="yoga")&&a.jsxs(q,{sx:{marginTop:4,display:"flex",gap:2,justifyContent:"center",flexWrap:"wrap"},children:[a.jsx(xe,{variant:"outlined",size:"large",onClick:A,sx:{minWidth:"150px",padding:"12px 32px",fontSize:"1.1rem"},children:"Back"}),a.jsx(xe,{variant:"contained",size:"large",onClick:s==="yoga"?k:E,disabled:s==="stretch"?N:z,startIcon:a.jsx(Fn,{}),sx:{minWidth:"200px",padding:"12px 32px",fontSize:"1.1rem",fontWeight:600},children:"Start Session"})]}),s&&!l&&s!=="yoga"&&a.jsx(q,{sx:{marginTop:4,display:"flex",justifyContent:"center"},children:a.jsx(xe,{variant:"outlined",size:"large",onClick:A,sx:{minWidth:"150px",padding:"12px 32px",fontSize:"1.1rem"},children:"Back"})})]})})};Bj.propTypes={onStartStretchSession:Y.func.isRequired,onStartYogaSession:Y.func.isRequired};class zB{constructor(){this.isSupported="speechSynthesis"in window,this.isEnabled=this.loadTTSPreference(),this.currentUtterance=null}isTTSSupported(){return this.isSupported}loadTTSPreference(){try{const t=localStorage.getItem("ttsEnabled");return t===null?!0:t==="true"}catch{return!0}}saveTTSPreference(){try{localStorage.setItem("ttsEnabled",this.isEnabled.toString())}catch(t){console.warn("Could not save TTS preference",t)}}toggleTTS(){return this.isEnabled=!this.isEnabled,this.saveTTSPreference(),!this.isEnabled&&this.isSupported&&window.speechSynthesis.cancel(),this.isEnabled}setEnabled(t){this.isEnabled=t,this.saveTTSPreference(),!t&&this.isSupported&&window.speechSynthesis.cancel()}isEnabledState(){return this.isEnabled}speak(t,s={}){return new Promise((i,l)=>{if(!this.isSupported){console.warn("Speech Synthesis not supported in this browser"),l(new Error("Speech Synthesis not supported"));return}if(!this.isEnabled){i();return}window.speechSynthesis.cancel();const u=new SpeechSynthesisUtterance(t);u.rate=s.rate||1,u.pitch=s.pitch||1,u.volume=s.volume||1,u.lang=s.lang||"en-US";const d=window.speechSynthesis.getVoices();if(d.length>0){let f=d.find(p=>p.lang.startsWith("en")&&(p.name.toLowerCase().includes("female")||p.name.toLowerCase().includes("natural")||p.name.toLowerCase().includes("premium")||p.name.toLowerCase().includes("neural")));f||(f=d.find(p=>p.lang.startsWith("en")&&p.localService===!1)),f||(f=d.find(p=>p.lang.startsWith("en"))),f&&(u.voice=f)}u.onend=()=>{this.currentUtterance=null,i()},u.onerror=f=>{console.error("Speech synthesis error:",f),this.currentUtterance=null,l(f)},this.currentUtterance=u,window.speechSynthesis.speak(u)})}async announceExercise(t){try{await this.speak(t,{rate:.85,pitch:.95})}catch(s){console.warn("Could not announce exercise:",s)}}async announceMessage(t){try{await this.speak(t,{rate:1})}catch(s){console.warn("Could not announce message:",s)}}stop(){this.isSupported&&(window.speechSynthesis.cancel(),this.currentUtterance=null)}pause(){this.isSupported&&window.speechSynthesis.speaking&&window.speechSynthesis.pause()}resume(){this.isSupported&&window.speechSynthesis.paused&&window.speechSynthesis.resume()}isSpeaking(){return this.isSupported&&window.speechSynthesis.speaking}}const Wl=new zB,Lj=({stretches:e,onComplete:t,onExit:s})=>{const[i,l]=x.useState(0),[u,d]=x.useState(60),[f,p]=x.useState(!1),[g,y]=x.useState(Wl.isEnabledState()),v=x.useRef(null),b=x.useRef(!1),S=e[i],T=(60-u)/60*100,D=(i*60+(60-u))/(e.length*60)*100;x.useEffect(()=>(Yn.requestWakeLock(),()=>{Yn.releaseWakeLock(),Wl.stop()}),[]),x.useEffect(()=>{!b.current&&g&&(Wl.announceExercise(S.name),b.current=!0)},[i,S.name,g]),x.useEffect(()=>(f?v.current&&clearInterval(v.current):v.current=setInterval(()=>{d(z=>z<=1?i<e.length-1?(l(P=>P+1),b.current=!1,Ct.playTransitionBeep(),60):(clearInterval(v.current),Ct.playCompletionFanfare(),setTimeout(()=>{t()},500),0):z-1)},1e3),()=>{v.current&&clearInterval(v.current)}),[f,i,e.length,t]);const j=()=>{p(z=>!z)},C=x.useCallback(()=>{i<e.length-1&&(l(z=>z+1),d(60),b.current=!1,Ct.playTransitionBeep())},[i,e.length]),E=x.useCallback(()=>{i>0&&(l(z=>z-1),d(60),b.current=!1,Ct.playTransitionBeep())},[i]),k=()=>{const z=Wl.toggleTTS();y(z)},A=()=>{v.current&&clearInterval(v.current),Wl.stop(),s()},N=z=>{const P=Math.floor(z/60),F=z%60;return`${P}:${F.toString().padStart(2,"0")}`};return a.jsxs(q,{sx:{padding:{xs:"0.5rem",sm:"1rem",md:"2rem"},maxWidth:"900px",margin:"0 auto",minHeight:"calc(100vh - 60px)",width:"100%",boxSizing:"border-box"},children:[a.jsxs(q,{sx:{marginBottom:3},children:[a.jsxs(q,{sx:{display:"flex",justifyContent:"space-between",marginBottom:1},children:[a.jsxs(I,{variant:"body2",sx:{fontWeight:600},children:["Stretch ",i+1," of ",e.length]}),a.jsxs(I,{variant:"body2",sx:{fontWeight:600},children:[Math.round(D),"% Complete"]})]}),a.jsx(Mr,{variant:"determinate",value:D,sx:{height:8,borderRadius:4,backgroundColor:"rgba(19, 70, 134, 0.1)","& .MuiLinearProgress-bar":{backgroundColor:"primary.main"}}})]}),a.jsx(pc,{mode:"wait",children:a.jsx(Pe.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},children:a.jsx(Ie,{sx:{background:"linear-gradient(135deg, rgba(19, 70, 134, 0.05) 0%, rgba(237, 63, 39, 0.05) 100%)",boxShadow:4},children:a.jsxs(Le,{sx:{padding:{xs:2,sm:3},width:"100%",boxSizing:"border-box"},children:[a.jsx(I,{variant:"h4",sx:{fontFamily:"'Montserrat', sans-serif",fontWeight:800,color:"primary.main",marginBottom:{xs:1,sm:2},textAlign:"center",fontSize:{xs:"1.5rem",sm:"2rem"}},children:S.name}),a.jsxs(q,{sx:{marginBottom:{xs:2,sm:3},textAlign:"center"},children:[a.jsx(I,{variant:"h1",sx:{fontFamily:"'Montserrat', sans-serif",fontWeight:800,color:f?"grey.500":"secondary.main",fontSize:{xs:"3rem",sm:"4rem",md:"5rem"},marginBottom:1,lineHeight:1},children:N(u)}),a.jsx(Mr,{variant:"determinate",value:T,sx:{height:{xs:8,sm:12},borderRadius:6,backgroundColor:"rgba(237, 63, 39, 0.1)","& .MuiLinearProgress-bar":{backgroundColor:"secondary.main"}}})]}),a.jsxs(q,{sx:{marginBottom:{xs:2,sm:3}},children:[a.jsx(I,{variant:"subtitle2",sx:{fontWeight:600,marginBottom:.5,color:"primary.main",fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Primary Muscles:"}),a.jsx(q,{sx:{display:"flex",flexWrap:"wrap",gap:.5,marginBottom:{xs:1,sm:2}},children:S.primaryMuscles.split(",").map((z,P)=>a.jsx(Je,{label:z.trim(),color:"primary",size:"medium"},P))}),S.secondaryMuscles&&a.jsxs(a.Fragment,{children:[a.jsx(I,{variant:"subtitle2",sx:{fontWeight:600,marginBottom:.5,color:"text.secondary",fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Secondary Muscles:"}),a.jsx(q,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:S.secondaryMuscles.split(",").map((z,P)=>{const F=z.trim();return F?a.jsx(Je,{label:F,variant:"outlined",size:"small"},P):null})})]})]}),S.youtubeLink&&a.jsx(xe,{variant:"outlined",startIcon:a.jsx(vk,{}),onClick:()=>window.open(S.youtubeLink,"_blank"),fullWidth:!0,sx:{marginBottom:{xs:2,sm:3},fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Watch Demonstration"}),a.jsxs(q,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:{xs:1,sm:2},marginBottom:{xs:1,sm:2},flexWrap:"wrap"},children:[a.jsx(Jn,{title:"Previous stretch",children:a.jsx("span",{children:a.jsx(ut,{onClick:E,disabled:i===0,sx:{backgroundColor:"primary.main",color:"white","&:hover":{backgroundColor:"primary.dark"},"&:disabled":{backgroundColor:"grey.300",color:"grey.500"}},children:a.jsx(lg,{})})})}),a.jsx(Jn,{title:f?"Resume":"Pause",children:a.jsx(ut,{onClick:j,sx:{backgroundColor:"secondary.main",color:"white",width:{xs:56,sm:64},height:{xs:56,sm:64},"&:hover":{backgroundColor:"secondary.dark"}},children:f?a.jsx(Fn,{sx:{fontSize:{xs:32,sm:40}}}):a.jsx(Ho,{sx:{fontSize:{xs:32,sm:40}}})})}),a.jsx(Jn,{title:"Next stretch",children:a.jsx("span",{children:a.jsx(ut,{onClick:C,disabled:i===e.length-1,sx:{backgroundColor:"primary.main",color:"white","&:hover":{backgroundColor:"primary.dark"},"&:disabled":{backgroundColor:"grey.300",color:"grey.500"}},children:a.jsx(Mc,{})})})})]}),a.jsxs(q,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:2},children:[a.jsx(Jn,{title:g?"Voice announcements on":"Voice announcements off",children:a.jsx(ut,{onClick:k,color:g?"primary":"default",children:g?a.jsx(sg,{}):a.jsx(A1,{})})}),a.jsx(xe,{variant:"outlined",color:"error",startIcon:a.jsx(kc,{}),onClick:A,sx:{minWidth:"120px"},children:"End Session"})]})]})})},i)})]})};Lj.propTypes={stretches:Y.arrayOf(Y.shape({name:Y.string.isRequired,primaryMuscles:Y.string.isRequired,secondaryMuscles:Y.string,youtubeLink:Y.string})).isRequired,onComplete:Y.func.isRequired,onExit:Y.func.isRequired};const VB=()=>{const e=ay();return TB({mutationFn:async t=>{const{date:s,flow:i,cooldown:l,interval:u,poseCount:d,duration:f,cooldownDisabled:p=l===0}=t,g={id:`yoga_${Date.now()}_${Math.random().toString(36).substring(2,11)}`,date:s||new Date().toISOString(),flowLength:i,coolDownLength:l,poseSuggestionFrequency:u,poseCount:d||0,duration:f||(i+l)*60,cooldownDisabled:p,timestamp:Date.now()};if(nt()){const y=Bn("yoga_sessions")||[];y.unshift(g),Lt("yoga_sessions",y)}else{const y="goodlift_yoga_sessions",v=JSON.parse(localStorage.getItem(y)||"[]");v.unshift(g),localStorage.setItem(y,JSON.stringify(v));const b=xc();if(b)try{const S=ia(oa,"users",b,"yoga_sessions",g.id);await qd(S,g)}catch(S){console.error("Error saving yoga session to Firestore:",S)}}return g},onSuccess:t=>{e.invalidateQueries({queryKey:["yogaSessions"]}),e.setQueryData(["yogaSessions"],s=>s?[t,...s]:[t])},onError:t=>{console.error("Error saving yoga session:",t)}})},Nj=({config:e,onComplete:t,onExit:s})=>{const[i,l]=x.useState("countdown"),[u,d]=x.useState(15),[f,p]=x.useState(!1),[g,y]=x.useState("Sun Salutations"),[v,b]=x.useState(0),[S,T]=x.useState(null),D=x.useRef(null),j=x.useRef(0),C=VB(),{data:E=[],isLoading:k}=rf({queryKey:["yogaPoses"],queryFn:async()=>{const V=await fetch("/goodlift/data/yoga-poses.json");if(!V.ok)throw new Error("Failed to load yoga poses");return V.json()},staleTime:1/0});x.useEffect(()=>(Yn.requestWakeLock(),()=>Yn.releaseWakeLock()),[]);const A=x.useCallback(V=>{if(e.ttsEnabled&&"speechSynthesis"in window){window.speechSynthesis.cancel();const _=new SpeechSynthesisUtterance(V);_.rate=.9,_.pitch=1,_.volume=1,window.speechSynthesis.speak(_)}},[e.ttsEnabled]),N=x.useCallback(V=>{const _=E.filter(B=>B.Type===V);return _.length===0?null:_[Math.floor(Math.random()*_.length)]},[E]),z=x.useCallback(V=>{const _=N(V);_&&(y(_.Name),b(B=>B+1),A(_.Name),Ct.playHighBeep())},[N,A]),P=x.useCallback(async()=>{try{const V=Date.now(),_=Math.floor((V-S)/1e3);await C.mutateAsync({date:new Date().toISOString(),flow:e.flowLength,cooldown:e.coolDownLength,interval:e.poseSuggestionFrequency,poseCount:v,duration:_||(e.flowLength+e.coolDownLength)*60,cooldownDisabled:e.coolDownLength===0}),Ct.playCompletionFanfare(),A("Great work! Your yoga session is complete. Namaste.")}catch(V){console.error("Error saving yoga session:",V)}},[S,e.flowLength,e.coolDownLength,e.poseSuggestionFrequency,v,A,C]);x.useEffect(()=>(!f&&!k?D.current=setInterval(()=>{d(V=>{if(V<=1)return clearInterval(D.current),i==="countdown"?(l("flow"),T(Date.now()),j.current=e.poseSuggestionFrequency*60,A("Begin your practice with Sun Salutations"),Ct.playHighBeep(),e.flowLength*60):i==="flow"?e.coolDownLength===0?(l("complete"),P(),0):(l("cooldown"),y("Cool Down"),j.current=60,A("Begin cool down"),z("Cool Down Pose"),Ct.playLowBeep(),e.coolDownLength*60):(i==="cooldown"&&(l("complete"),P()),0);const _=V-1;return i==="flow"&&_===j.current?(z("Flow Pose"),j.current-=e.poseSuggestionFrequency*60):i==="cooldown"&&_%60===0&&_>0&&z("Cool Down Pose"),_})},1e3):D.current&&clearInterval(D.current),()=>{D.current&&clearInterval(D.current)}),[f,i,k,e,A,z,P]);const F=()=>{p(V=>!V)},H=()=>{window.confirm("Are you sure you want to end this yoga session?")&&(D.current&&clearInterval(D.current),s())},L=()=>{t()},W=V=>{const _=Math.floor(V/60),B=V%60;return`${_}:${B.toString().padStart(2,"0")}`},M=()=>i==="countdown"?(15-u)/15*100:i==="flow"?(e.flowLength*60-u)/(e.flowLength*60)*100:i==="cooldown"?(e.coolDownLength*60-u)/(e.coolDownLength*60)*100:100,U=()=>i==="countdown"?"Get Ready":i==="flow"?"Flow Phase":i==="cooldown"?"Cool Down":"Complete";return k?a.jsx(q,{sx:{p:4,textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:a.jsx("img",{src:"/goodlift/dancing-icon.svg",alt:"Loading yoga session...",style:{width:"150px",height:"150px"}})}):i==="complete"?a.jsx(q,{sx:{padding:{xs:"2rem 1rem",sm:"2rem",md:"3rem"},maxWidth:"700px",margin:"0 auto",minHeight:"calc(100vh - 60px)",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(Pe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},style:{width:"100%"},children:a.jsx(Ie,{sx:{background:"linear-gradient(135deg, rgba(156, 39, 176, 0.05) 0%, rgba(19, 70, 134, 0.05) 100%)",boxShadow:6},children:a.jsxs(Le,{sx:{padding:{xs:3,sm:5},textAlign:"center"},children:[a.jsx(I,{variant:"h2",sx:{fontFamily:"'Montserrat', sans-serif",fontWeight:800,color:"#9c27b0",marginBottom:2},children:"Namaste! "}),a.jsx(I,{variant:"h5",sx:{color:"text.secondary",marginBottom:3},children:"Your yoga session is complete"}),a.jsxs(Ee,{spacing:2,sx:{mb:4},children:[a.jsxs(I,{variant:"body1",children:["Duration: ",e.flowLength+e.coolDownLength," minutes"]}),a.jsxs(I,{variant:"body1",children:["Poses practiced: ",v]})]}),a.jsx(xe,{variant:"contained",size:"large",onClick:L,sx:{minWidth:"200px",padding:"12px 32px",fontSize:"1.1rem",fontWeight:600,bgcolor:"#9c27b0","&:hover":{bgcolor:"#7b1fa2"}},children:"Done"})]})})})}):a.jsx(q,{sx:{padding:{xs:"2rem 1rem",sm:"2rem",md:"3rem"},maxWidth:"900px",margin:"0 auto",minHeight:"calc(100vh - 60px)"},children:a.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsx(Ie,{sx:{background:"linear-gradient(135deg, rgba(156, 39, 176, 0.05) 0%, rgba(19, 70, 134, 0.05) 100%)",boxShadow:4},children:a.jsxs(Le,{sx:{padding:{xs:3,sm:4}},children:[a.jsx(q,{sx:{textAlign:"center",mb:3},children:a.jsx(Je,{label:U(),sx:{fontSize:"1rem",fontWeight:700,bgcolor:i==="countdown"?"warning.main":i==="flow"?"#9c27b0":"success.main",color:"white",px:2,py:3}})}),a.jsxs(q,{sx:{textAlign:"center",mb:3},children:[a.jsx(I,{variant:"h1",sx:{fontFamily:"'Montserrat', sans-serif",fontWeight:800,color:f?"grey.500":"#9c27b0",fontSize:{xs:"4rem",sm:"6rem"},mb:2},children:W(u)}),a.jsx(Mr,{variant:"determinate",value:M(),sx:{height:12,borderRadius:6,backgroundColor:"rgba(156, 39, 176, 0.1)","& .MuiLinearProgress-bar":{backgroundColor:"#9c27b0"}}})]}),a.jsxs(q,{sx:{textAlign:"center",mb:4,p:3,bgcolor:"rgba(156, 39, 176, 0.1)",borderRadius:2,border:"1px solid rgba(156, 39, 176, 0.2)"},children:[a.jsx(I,{variant:"h6",sx:{fontWeight:600,mb:1,color:"text.secondary"},children:i==="countdown"?"Prepare to begin":"Current Focus"}),a.jsx(I,{variant:"h4",sx:{fontFamily:"'Montserrat', sans-serif",fontWeight:700,color:"#9c27b0"},children:g})]}),a.jsxs(Ee,{direction:"row",spacing:2,justifyContent:"center",sx:{mb:2},children:[a.jsx(Jn,{title:f?"Resume":"Pause",children:a.jsx(ut,{onClick:F,disabled:i==="countdown",sx:{backgroundColor:"#9c27b0",color:"white",width:64,height:64,"&:hover":{backgroundColor:"#7b1fa2"},"&:disabled":{backgroundColor:"grey.400"}},children:f?a.jsx(Fn,{sx:{fontSize:40}}):a.jsx(Ho,{sx:{fontSize:40}})})}),a.jsx(Jn,{title:"End session",children:a.jsx(ut,{onClick:H,sx:{backgroundColor:"error.main",color:"white",width:56,height:56,"&:hover":{backgroundColor:"error.dark"}},children:a.jsx(kc,{})})})]}),a.jsxs(Ee,{spacing:1,sx:{textAlign:"center"},children:[a.jsxs(I,{variant:"body2",color:"text.secondary",children:["Poses suggested: ",v]}),i!=="countdown"&&a.jsxs(I,{variant:"body2",color:"text.secondary",children:[i==="flow"?"Flow":"Cool Down",": ",W(u)," remaining"]})]})]})})})})};Nj.propTypes={config:Y.shape({flowLength:Y.number.isRequired,coolDownLength:Y.number.isRequired,poseSuggestionFrequency:Y.number.isRequired,ttsEnabled:Y.bool.isRequired}).isRequired,onComplete:Y.func.isRequired,onExit:Y.func.isRequired};const WB=()=>{const[e,t]=x.useState(!1),[s,i]=x.useState(!0),l="goodlift_yoga_tts_enabled";return x.useEffect(()=>{(async()=>{try{if(nt()){const g=Bn("yoga_tts_enabled");g!=null&&t(g),i(!1);return}const f=xc();if(f)try{const g=ia(oa,"users",f,"yoga","preferences"),y=await ug(g);if(y.exists()){const v=y.data();if(v.ttsEnabled!==void 0){t(v.ttsEnabled),localStorage.setItem(l,JSON.stringify(v.ttsEnabled)),i(!1);return}}}catch(g){console.error("Error loading yoga TTS preference from Firebase:",g)}const p=localStorage.getItem(l);p!==null&&t(JSON.parse(p))}catch(f){console.error("Error loading yoga TTS preference:",f)}finally{i(!1)}})()},[]),{ttsEnabled:e,setTtsEnabled:async d=>{try{if(t(d),nt())Lt("yoga_tts_enabled",d);else{localStorage.setItem(l,JSON.stringify(d));const f=xc();if(f)try{const p=ia(oa,"users",f,"yoga","preferences");await qd(p,{ttsEnabled:d},{merge:!0})}catch(p){console.error("Error saving yoga TTS preference to Firebase:",p)}}}catch(f){console.error("Error saving yoga TTS preference:",f)}},loading:s}},YB=()=>{const[e,t]=x.useState("selection"),[s,i]=x.useState([]),[l,u]=x.useState(""),[d,f]=x.useState(null),[p,g]=x.useState(null),{ttsEnabled:y}=WB(),v=(C,E)=>{let k;C==="full"?k=Ym(10):k=FB(E,10),i(k),u(C),t("stretch-session")},b=C=>{const E={...C,ttsEnabled:y};f(E),t("yoga-session")},S=async()=>{try{const C={id:`stretch_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,date:new Date().toISOString(),type:l,stretchesCompleted:s.length,stretches:s.map(E=>E.name),duration:s.length*60};await u3(C)}catch(C){console.error("Failed to save stretch session:",C)}g("stretch"),t("complete")},T=async C=>{try{await Jg(C)}catch(E){console.error("Failed to save yoga session:",E)}g("yoga"),t("complete")},D=()=>{t("selection"),i([]),f(null)},j=()=>{t("selection"),i([]),f(null),g(null)};return a.jsxs(a.Fragment,{children:[e==="selection"&&a.jsx(Bj,{onStartStretchSession:v,onStartYogaSession:b}),e==="stretch-session"&&s.length>0&&a.jsx(Lj,{stretches:s,onComplete:S,onExit:D}),e==="yoga-session"&&d&&a.jsx(Nj,{config:d,onComplete:T,onExit:D}),e==="complete"&&a.jsx(q,{sx:{padding:{xs:"2rem 1rem",sm:"2rem",md:"3rem"},maxWidth:"700px",margin:"0 auto",minHeight:"calc(100vh - 60px)",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(Pe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},style:{width:"100%"},children:a.jsx(Ie,{sx:{background:p==="stretch"?"linear-gradient(135deg, rgba(19, 70, 134, 0.05) 0%, rgba(76, 175, 80, 0.05) 100%)":"linear-gradient(135deg, rgba(19, 70, 134, 0.05) 0%, rgba(156, 39, 176, 0.05) 100%)",boxShadow:6},children:a.jsxs(Le,{sx:{padding:{xs:3,sm:5},textAlign:"center"},children:[a.jsx(Pe.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},children:a.jsx(Ys,{sx:{fontSize:100,color:p==="stretch"?"success.main":"#9c27b0",marginBottom:2}})}),a.jsx(I,{variant:"h3",sx:{fontFamily:"'Montserrat', sans-serif",fontWeight:800,color:"primary.main",marginBottom:2},children:"Session Complete!"}),a.jsx(I,{variant:"h6",sx:{color:"text.secondary",marginBottom:3},children:p==="stretch"?"Great job! You've completed your stretch session.":"Namaste! You've completed your yoga session."}),p==="stretch"&&a.jsxs(a.Fragment,{children:[a.jsxs(I,{variant:"body1",sx:{marginBottom:1},children:[s.length," stretches completed"]}),a.jsxs(I,{variant:"body1",sx:{marginBottom:4},children:["~",s.length," minutes of stretching"]})]}),p==="yoga"&&d&&a.jsxs(a.Fragment,{children:[a.jsxs(I,{variant:"body1",sx:{marginBottom:1},children:[d.flowLength," minute flow"]}),d.coolDownLength>0&&a.jsxs(I,{variant:"body1",sx:{marginBottom:1},children:[d.coolDownLength," minute cool down"]}),a.jsxs(I,{variant:"body1",sx:{marginBottom:4},children:["Total: ",d.flowLength+d.coolDownLength," minutes"]})]}),a.jsx(xe,{variant:"contained",size:"large",onClick:j,sx:{minWidth:"200px",padding:"12px 32px",fontSize:"1.1rem",fontWeight:600},children:"Done"})]})})})})]})},Fj=({onNavigate:e})=>{const t=()=>{e&&e("hiit")},s=()=>{e&&e("hiit-selection")},i=()=>{e&&e("yoga-selection")},l=()=>{e&&e("log-cardio")};return a.jsxs(q,{sx:{width:"100%",minHeight:"100vh"},children:[a.jsx(ps,{title:"Cardio & Conditioning",icon:""}),a.jsx(Pe.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{maxWidth:"900px",margin:"0 auto",padding:"1rem"},children:a.jsxs($e,{container:!0,spacing:3,children:[a.jsx($e,{item:!0,xs:12,md:6,children:a.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsx(Ie,{sx:{borderRadius:3,height:"100%",transition:"all 0.3s ease",cursor:"pointer","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 24px rgba(237, 63, 39, 0.2)"}},onClick:s,children:a.jsxs(Le,{sx:{p:3,height:"100%",display:"flex",flexDirection:"column"},children:[a.jsxs(Ee,{direction:"row",spacing:2,alignItems:"center",sx:{mb:2},children:[a.jsx(q,{sx:{p:2,borderRadius:2,bgcolor:"rgba(237, 63, 39, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(ra,{sx:{fontSize:40,color:"secondary.main"}})}),a.jsxs(q,{sx:{flex:1},children:[a.jsx(I,{variant:"h5",sx:{fontWeight:700,mb:.5},children:"HIIT Sessions"}),a.jsx(I,{variant:"body2",color:"text.secondary",children:"Generate science-backed HIIT workouts"})]})]}),a.jsx(I,{variant:"body2",color:"text.secondary",sx:{mb:2,flex:1},children:"Bodyweight, plyometric, cycling, rowing, elliptical, and step platform protocols from .github/HIIT-YOGA-GUIDE.md"}),a.jsx(xe,{variant:"contained",fullWidth:!0,sx:{bgcolor:"secondary.main","&:hover":{bgcolor:"secondary.dark"},py:1.5,fontWeight:600},onClick:s,children:"Build HIIT Session"})]})})})}),a.jsx($e,{item:!0,xs:12,md:6,children:a.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},children:a.jsx(Ie,{sx:{borderRadius:3,height:"100%",transition:"all 0.3s ease",cursor:"pointer","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 24px rgba(19, 70, 134, 0.2)"}},onClick:i,children:a.jsxs(Le,{sx:{p:3,height:"100%",display:"flex",flexDirection:"column"},children:[a.jsxs(Ee,{direction:"row",spacing:2,alignItems:"center",sx:{mb:2},children:[a.jsx(q,{sx:{p:2,borderRadius:2,bgcolor:"rgba(19, 70, 134, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(nr,{sx:{fontSize:40,color:"primary.main"}})}),a.jsxs(q,{sx:{flex:1},children:[a.jsx(I,{variant:"h5",sx:{fontWeight:700,mb:.5},children:"Yoga Sessions"}),a.jsx(I,{variant:"body2",color:"text.secondary",children:"Generate evidence-based yoga flows"})]})]}),a.jsx(I,{variant:"body2",color:"text.secondary",sx:{mb:2,flex:1},children:"Power, restorative, yin, flexibility, and core strength yoga from .github/HIIT-YOGA-GUIDE.md"}),a.jsx(xe,{variant:"contained",fullWidth:!0,sx:{bgcolor:"primary.main","&:hover":{bgcolor:"primary.dark"},py:1.5,fontWeight:600},onClick:i,children:"Build Yoga Session"})]})})})}),a.jsx($e,{item:!0,xs:12,md:6,children:a.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:a.jsx(Ie,{sx:{borderRadius:3,transition:"all 0.3s ease",cursor:"pointer","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 24px rgba(254, 178, 26, 0.2)"}},onClick:t,children:a.jsxs(Le,{sx:{p:3},children:[a.jsxs(Ee,{direction:"row",spacing:2,alignItems:"center",sx:{mb:2},children:[a.jsx(q,{sx:{p:2,borderRadius:2,bgcolor:"rgba(254, 178, 26, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(V1,{sx:{fontSize:40,color:"warning.main"}})}),a.jsxs(q,{sx:{flex:1},children:[a.jsx(I,{variant:"h5",sx:{fontWeight:700,mb:.5},children:"HIIT Timer"}),a.jsx(I,{variant:"body2",color:"text.secondary",children:"Customizable interval timer"})]})]}),a.jsx(xe,{variant:"contained",fullWidth:!0,sx:{bgcolor:"warning.main",color:"primary.main","&:hover":{bgcolor:"warning.dark"},py:1.5,fontWeight:600},onClick:t,children:"Start Timer"})]})})})}),a.jsx($e,{item:!0,xs:12,md:6,children:a.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},children:a.jsx(Ie,{sx:{borderRadius:3,transition:"all 0.3s ease",cursor:"pointer","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 24px rgba(19, 70, 134, 0.2)"}},onClick:l,children:a.jsxs(Le,{sx:{p:3},children:[a.jsxs(Ee,{direction:"row",spacing:2,alignItems:"center",sx:{mb:2},children:[a.jsx(q,{sx:{p:2,borderRadius:2,bgcolor:"rgba(19, 70, 134, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(yn,{sx:{fontSize:40,color:"primary.main"}})}),a.jsxs(q,{sx:{flex:1},children:[a.jsx(I,{variant:"h5",sx:{fontWeight:700,mb:.5},children:"Log Cardio"}),a.jsx(I,{variant:"body2",color:"text.secondary",children:"Track running, cycling, swimming"})]})]}),a.jsx(xe,{variant:"contained",fullWidth:!0,sx:{bgcolor:"primary.main","&:hover":{bgcolor:"primary.dark"},py:1.5,fontWeight:600},onClick:l,children:"Log Session"})]})})})})]})})]})};Fj.propTypes={onNavigate:Y.func};var UB=function(t){return qB(t)&&!GB(t)};function qB(e){return!!e&&typeof e=="object"}function GB(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||KB(e)}var $B=typeof Symbol=="function"&&Symbol.for,QB=$B?Symbol.for("react.element"):60103;function KB(e){return e.$$typeof===QB}function XB(e){return Array.isArray(e)?[]:{}}function Fd(e,t){return t.clone!==!1&&t.isMergeableObject(e)?wc(XB(e),e,t):e}function ZB(e,t,s){return e.concat(t).map(function(i){return Fd(i,s)})}function JB(e,t,s){var i={};return s.isMergeableObject(e)&&Object.keys(e).forEach(function(l){i[l]=Fd(e[l],s)}),Object.keys(t).forEach(function(l){!s.isMergeableObject(t[l])||!e[l]?i[l]=Fd(t[l],s):i[l]=wc(e[l],t[l],s)}),i}function wc(e,t,s){s=s||{},s.arrayMerge=s.arrayMerge||ZB,s.isMergeableObject=s.isMergeableObject||UB;var i=Array.isArray(t),l=Array.isArray(e),u=i===l;return u?i?s.arrayMerge(e,t,s):JB(e,t,s):Fd(t,s)}wc.all=function(t,s){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(i,l){return wc(i,l,s)},{})};var qm=wc,Hj=typeof global=="object"&&global&&global.Object===Object&&global,e6=typeof self=="object"&&self&&self.Object===Object&&self,ir=Hj||e6||Function("return this")(),vi=ir.Symbol,_j=Object.prototype,t6=_j.hasOwnProperty,n6=_j.toString,Yl=vi?vi.toStringTag:void 0;function s6(e){var t=t6.call(e,Yl),s=e[Yl];try{e[Yl]=void 0;var i=!0}catch{}var l=n6.call(e);return i&&(t?e[Yl]=s:delete e[Yl]),l}var r6=Object.prototype,i6=r6.toString;function a6(e){return i6.call(e)}var o6="[object Null]",l6="[object Undefined]",Aw=vi?vi.toStringTag:void 0;function ya(e){return e==null?e===void 0?l6:o6:Aw&&Aw in Object(e)?s6(e):a6(e)}function zj(e,t){return function(s){return e(t(s))}}var my=zj(Object.getPrototypeOf,Object);function xa(e){return e!=null&&typeof e=="object"}var c6="[object Object]",u6=Function.prototype,d6=Object.prototype,Vj=u6.toString,f6=d6.hasOwnProperty,h6=Vj.call(Object);function Ow(e){if(!xa(e)||ya(e)!=c6)return!1;var t=my(e);if(t===null)return!0;var s=f6.call(t,"constructor")&&t.constructor;return typeof s=="function"&&s instanceof s&&Vj.call(s)==h6}function p6(){this.__data__=[],this.size=0}function Wj(e,t){return e===t||e!==e&&t!==t}function af(e,t){for(var s=e.length;s--;)if(Wj(e[s][0],t))return s;return-1}var m6=Array.prototype,g6=m6.splice;function y6(e){var t=this.__data__,s=af(t,e);if(s<0)return!1;var i=t.length-1;return s==i?t.pop():g6.call(t,s,1),--this.size,!0}function x6(e){var t=this.__data__,s=af(t,e);return s<0?void 0:t[s][1]}function b6(e){return af(this.__data__,e)>-1}function v6(e,t){var s=this.__data__,i=af(s,e);return i<0?(++this.size,s.push([e,t])):s[i][1]=t,this}function Lr(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var i=e[t];this.set(i[0],i[1])}}Lr.prototype.clear=p6;Lr.prototype.delete=y6;Lr.prototype.get=x6;Lr.prototype.has=b6;Lr.prototype.set=v6;function S6(){this.__data__=new Lr,this.size=0}function w6(e){var t=this.__data__,s=t.delete(e);return this.size=t.size,s}function T6(e){return this.__data__.get(e)}function C6(e){return this.__data__.has(e)}function Hc(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var j6="[object AsyncFunction]",D6="[object Function]",E6="[object GeneratorFunction]",M6="[object Proxy]";function Yj(e){if(!Hc(e))return!1;var t=ya(e);return t==D6||t==E6||t==j6||t==M6}var Xp=ir["__core-js_shared__"],Rw=(function(){var e=/[^.]+$/.exec(Xp&&Xp.keys&&Xp.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function k6(e){return!!Rw&&Rw in e}var P6=Function.prototype,A6=P6.toString;function ba(e){if(e!=null){try{return A6.call(e)}catch{}try{return e+""}catch{}}return""}var O6=/[\\^$.*+?()[\]{}|]/g,R6=/^\[object .+?Constructor\]$/,I6=Function.prototype,B6=Object.prototype,L6=I6.toString,N6=B6.hasOwnProperty,F6=RegExp("^"+L6.call(N6).replace(O6,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function H6(e){if(!Hc(e)||k6(e))return!1;var t=Yj(e)?F6:R6;return t.test(ba(e))}function _6(e,t){return e?.[t]}function va(e,t){var s=_6(e,t);return H6(s)?s:void 0}var Tc=va(ir,"Map"),Cc=va(Object,"create");function z6(){this.__data__=Cc?Cc(null):{},this.size=0}function V6(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var W6="__lodash_hash_undefined__",Y6=Object.prototype,U6=Y6.hasOwnProperty;function q6(e){var t=this.__data__;if(Cc){var s=t[e];return s===W6?void 0:s}return U6.call(t,e)?t[e]:void 0}var G6=Object.prototype,$6=G6.hasOwnProperty;function Q6(e){var t=this.__data__;return Cc?t[e]!==void 0:$6.call(t,e)}var K6="__lodash_hash_undefined__";function X6(e,t){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=Cc&&t===void 0?K6:t,this}function fa(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var i=e[t];this.set(i[0],i[1])}}fa.prototype.clear=z6;fa.prototype.delete=V6;fa.prototype.get=q6;fa.prototype.has=Q6;fa.prototype.set=X6;function Z6(){this.size=0,this.__data__={hash:new fa,map:new(Tc||Lr),string:new fa}}function J6(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function of(e,t){var s=e.__data__;return J6(t)?s[typeof t=="string"?"string":"hash"]:s.map}function e5(e){var t=of(this,e).delete(e);return this.size-=t?1:0,t}function t5(e){return of(this,e).get(e)}function n5(e){return of(this,e).has(e)}function s5(e,t){var s=of(this,e),i=s.size;return s.set(e,t),this.size+=s.size==i?0:1,this}function ji(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var i=e[t];this.set(i[0],i[1])}}ji.prototype.clear=Z6;ji.prototype.delete=e5;ji.prototype.get=t5;ji.prototype.has=n5;ji.prototype.set=s5;var r5=200;function i5(e,t){var s=this.__data__;if(s instanceof Lr){var i=s.__data__;if(!Tc||i.length<r5-1)return i.push([e,t]),this.size=++s.size,this;s=this.__data__=new ji(i)}return s.set(e,t),this.size=s.size,this}function Qo(e){var t=this.__data__=new Lr(e);this.size=t.size}Qo.prototype.clear=S6;Qo.prototype.delete=w6;Qo.prototype.get=T6;Qo.prototype.has=C6;Qo.prototype.set=i5;function a5(e,t){for(var s=-1,i=e==null?0:e.length;++s<i&&t(e[s],s,e)!==!1;);return e}var Iw=(function(){try{var e=va(Object,"defineProperty");return e({},"",{}),e}catch{}})();function Uj(e,t,s){t=="__proto__"&&Iw?Iw(e,t,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[t]=s}var o5=Object.prototype,l5=o5.hasOwnProperty;function qj(e,t,s){var i=e[t];(!(l5.call(e,t)&&Wj(i,s))||s===void 0&&!(t in e))&&Uj(e,t,s)}function lf(e,t,s,i){var l=!s;s||(s={});for(var u=-1,d=t.length;++u<d;){var f=t[u],p=void 0;p===void 0&&(p=e[f]),l?Uj(s,f,p):qj(s,f,p)}return s}function c5(e,t){for(var s=-1,i=Array(e);++s<e;)i[s]=t(s);return i}var u5="[object Arguments]";function Bw(e){return xa(e)&&ya(e)==u5}var Gj=Object.prototype,d5=Gj.hasOwnProperty,f5=Gj.propertyIsEnumerable,h5=Bw((function(){return arguments})())?Bw:function(e){return xa(e)&&d5.call(e,"callee")&&!f5.call(e,"callee")},_c=Array.isArray;function p5(){return!1}var $j=typeof ms=="object"&&ms&&!ms.nodeType&&ms,Lw=$j&&typeof gs=="object"&&gs&&!gs.nodeType&&gs,m5=Lw&&Lw.exports===$j,Nw=m5?ir.Buffer:void 0,g5=Nw?Nw.isBuffer:void 0,Qj=g5||p5,y5=9007199254740991,x5=/^(?:0|[1-9]\d*)$/;function b5(e,t){var s=typeof e;return t=t??y5,!!t&&(s=="number"||s!="symbol"&&x5.test(e))&&e>-1&&e%1==0&&e<t}var v5=9007199254740991;function Kj(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=v5}var S5="[object Arguments]",w5="[object Array]",T5="[object Boolean]",C5="[object Date]",j5="[object Error]",D5="[object Function]",E5="[object Map]",M5="[object Number]",k5="[object Object]",P5="[object RegExp]",A5="[object Set]",O5="[object String]",R5="[object WeakMap]",I5="[object ArrayBuffer]",B5="[object DataView]",L5="[object Float32Array]",N5="[object Float64Array]",F5="[object Int8Array]",H5="[object Int16Array]",_5="[object Int32Array]",z5="[object Uint8Array]",V5="[object Uint8ClampedArray]",W5="[object Uint16Array]",Y5="[object Uint32Array]",Wt={};Wt[L5]=Wt[N5]=Wt[F5]=Wt[H5]=Wt[_5]=Wt[z5]=Wt[V5]=Wt[W5]=Wt[Y5]=!0;Wt[S5]=Wt[w5]=Wt[I5]=Wt[T5]=Wt[B5]=Wt[C5]=Wt[j5]=Wt[D5]=Wt[E5]=Wt[M5]=Wt[k5]=Wt[P5]=Wt[A5]=Wt[O5]=Wt[R5]=!1;function U5(e){return xa(e)&&Kj(e.length)&&!!Wt[ya(e)]}function gy(e){return function(t){return e(t)}}var Xj=typeof ms=="object"&&ms&&!ms.nodeType&&ms,oc=Xj&&typeof gs=="object"&&gs&&!gs.nodeType&&gs,q5=oc&&oc.exports===Xj,Zp=q5&&Hj.process,Lo=(function(){try{var e=oc&&oc.require&&oc.require("util").types;return e||Zp&&Zp.binding&&Zp.binding("util")}catch{}})(),Fw=Lo&&Lo.isTypedArray,G5=Fw?gy(Fw):U5,$5=Object.prototype,Q5=$5.hasOwnProperty;function Zj(e,t){var s=_c(e),i=!s&&h5(e),l=!s&&!i&&Qj(e),u=!s&&!i&&!l&&G5(e),d=s||i||l||u,f=d?c5(e.length,String):[],p=f.length;for(var g in e)(t||Q5.call(e,g))&&!(d&&(g=="length"||l&&(g=="offset"||g=="parent")||u&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||b5(g,p)))&&f.push(g);return f}var K5=Object.prototype;function yy(e){var t=e&&e.constructor,s=typeof t=="function"&&t.prototype||K5;return e===s}var X5=zj(Object.keys,Object),Z5=Object.prototype,J5=Z5.hasOwnProperty;function eL(e){if(!yy(e))return X5(e);var t=[];for(var s in Object(e))J5.call(e,s)&&s!="constructor"&&t.push(s);return t}function Jj(e){return e!=null&&Kj(e.length)&&!Yj(e)}function xy(e){return Jj(e)?Zj(e):eL(e)}function tL(e,t){return e&&lf(t,xy(t),e)}function nL(e){var t=[];if(e!=null)for(var s in Object(e))t.push(s);return t}var sL=Object.prototype,rL=sL.hasOwnProperty;function iL(e){if(!Hc(e))return nL(e);var t=yy(e),s=[];for(var i in e)i=="constructor"&&(t||!rL.call(e,i))||s.push(i);return s}function by(e){return Jj(e)?Zj(e,!0):iL(e)}function aL(e,t){return e&&lf(t,by(t),e)}var eD=typeof ms=="object"&&ms&&!ms.nodeType&&ms,Hw=eD&&typeof gs=="object"&&gs&&!gs.nodeType&&gs,oL=Hw&&Hw.exports===eD,_w=oL?ir.Buffer:void 0,zw=_w?_w.allocUnsafe:void 0;function lL(e,t){if(t)return e.slice();var s=e.length,i=zw?zw(s):new e.constructor(s);return e.copy(i),i}function tD(e,t){var s=-1,i=e.length;for(t||(t=Array(i));++s<i;)t[s]=e[s];return t}function cL(e,t){for(var s=-1,i=e==null?0:e.length,l=0,u=[];++s<i;){var d=e[s];t(d,s,e)&&(u[l++]=d)}return u}function nD(){return[]}var uL=Object.prototype,dL=uL.propertyIsEnumerable,Vw=Object.getOwnPropertySymbols,vy=Vw?function(e){return e==null?[]:(e=Object(e),cL(Vw(e),function(t){return dL.call(e,t)}))}:nD;function fL(e,t){return lf(e,vy(e),t)}function sD(e,t){for(var s=-1,i=t.length,l=e.length;++s<i;)e[l+s]=t[s];return e}var hL=Object.getOwnPropertySymbols,rD=hL?function(e){for(var t=[];e;)sD(t,vy(e)),e=my(e);return t}:nD;function pL(e,t){return lf(e,rD(e),t)}function iD(e,t,s){var i=t(e);return _c(e)?i:sD(i,s(e))}function mL(e){return iD(e,xy,vy)}function gL(e){return iD(e,by,rD)}var Gm=va(ir,"DataView"),$m=va(ir,"Promise"),Qm=va(ir,"Set"),Km=va(ir,"WeakMap"),Ww="[object Map]",yL="[object Object]",Yw="[object Promise]",Uw="[object Set]",qw="[object WeakMap]",Gw="[object DataView]",xL=ba(Gm),bL=ba(Tc),vL=ba($m),SL=ba(Qm),wL=ba(Km),jr=ya;(Gm&&jr(new Gm(new ArrayBuffer(1)))!=Gw||Tc&&jr(new Tc)!=Ww||$m&&jr($m.resolve())!=Yw||Qm&&jr(new Qm)!=Uw||Km&&jr(new Km)!=qw)&&(jr=function(e){var t=ya(e),s=t==yL?e.constructor:void 0,i=s?ba(s):"";if(i)switch(i){case xL:return Gw;case bL:return Ww;case vL:return Yw;case SL:return Uw;case wL:return qw}return t});var TL=Object.prototype,CL=TL.hasOwnProperty;function jL(e){var t=e.length,s=new e.constructor(t);return t&&typeof e[0]=="string"&&CL.call(e,"index")&&(s.index=e.index,s.input=e.input),s}var $w=ir.Uint8Array;function Sy(e){var t=new e.constructor(e.byteLength);return new $w(t).set(new $w(e)),t}function DL(e,t){var s=t?Sy(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.byteLength)}var EL=/\w*$/;function ML(e){var t=new e.constructor(e.source,EL.exec(e));return t.lastIndex=e.lastIndex,t}var Qw=vi?vi.prototype:void 0,Kw=Qw?Qw.valueOf:void 0;function kL(e){return Kw?Object(Kw.call(e)):{}}function PL(e,t){var s=t?Sy(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.length)}var AL="[object Boolean]",OL="[object Date]",RL="[object Map]",IL="[object Number]",BL="[object RegExp]",LL="[object Set]",NL="[object String]",FL="[object Symbol]",HL="[object ArrayBuffer]",_L="[object DataView]",zL="[object Float32Array]",VL="[object Float64Array]",WL="[object Int8Array]",YL="[object Int16Array]",UL="[object Int32Array]",qL="[object Uint8Array]",GL="[object Uint8ClampedArray]",$L="[object Uint16Array]",QL="[object Uint32Array]";function KL(e,t,s){var i=e.constructor;switch(t){case HL:return Sy(e);case AL:case OL:return new i(+e);case _L:return DL(e,s);case zL:case VL:case WL:case YL:case UL:case qL:case GL:case $L:case QL:return PL(e,s);case RL:return new i;case IL:case NL:return new i(e);case BL:return ML(e);case LL:return new i;case FL:return kL(e)}}var Xw=Object.create,XL=(function(){function e(){}return function(t){if(!Hc(t))return{};if(Xw)return Xw(t);e.prototype=t;var s=new e;return e.prototype=void 0,s}})();function ZL(e){return typeof e.constructor=="function"&&!yy(e)?XL(my(e)):{}}var JL="[object Map]";function eN(e){return xa(e)&&jr(e)==JL}var Zw=Lo&&Lo.isMap,tN=Zw?gy(Zw):eN,nN="[object Set]";function sN(e){return xa(e)&&jr(e)==nN}var Jw=Lo&&Lo.isSet,rN=Jw?gy(Jw):sN,iN=1,aN=2,oN=4,aD="[object Arguments]",lN="[object Array]",cN="[object Boolean]",uN="[object Date]",dN="[object Error]",oD="[object Function]",fN="[object GeneratorFunction]",hN="[object Map]",pN="[object Number]",lD="[object Object]",mN="[object RegExp]",gN="[object Set]",yN="[object String]",xN="[object Symbol]",bN="[object WeakMap]",vN="[object ArrayBuffer]",SN="[object DataView]",wN="[object Float32Array]",TN="[object Float64Array]",CN="[object Int8Array]",jN="[object Int16Array]",DN="[object Int32Array]",EN="[object Uint8Array]",MN="[object Uint8ClampedArray]",kN="[object Uint16Array]",PN="[object Uint32Array]",_t={};_t[aD]=_t[lN]=_t[vN]=_t[SN]=_t[cN]=_t[uN]=_t[wN]=_t[TN]=_t[CN]=_t[jN]=_t[DN]=_t[hN]=_t[pN]=_t[lD]=_t[mN]=_t[gN]=_t[yN]=_t[xN]=_t[EN]=_t[MN]=_t[kN]=_t[PN]=!0;_t[dN]=_t[oD]=_t[bN]=!1;function lc(e,t,s,i,l,u){var d,f=t&iN,p=t&aN,g=t&oN;if(d!==void 0)return d;if(!Hc(e))return e;var y=_c(e);if(y){if(d=jL(e),!f)return tD(e,d)}else{var v=jr(e),b=v==oD||v==fN;if(Qj(e))return lL(e,f);if(v==lD||v==aD||b&&!l){if(d=p||b?{}:ZL(e),!f)return p?pL(e,aL(d,e)):fL(e,tL(d,e))}else{if(!_t[v])return l?e:{};d=KL(e,v,f)}}u||(u=new Qo);var S=u.get(e);if(S)return S;u.set(e,d),rN(e)?e.forEach(function(j){d.add(lc(j,t,s,j,e,u))}):tN(e)&&e.forEach(function(j,C){d.set(C,lc(j,t,s,C,e,u))});var T=g?p?gL:mL:p?by:xy,D=y?void 0:T(e);return a5(D||e,function(j,C){D&&(C=j,j=e[C]),qj(d,C,lc(j,t,s,C,e,u))}),d}var AN=1,ON=4;function pd(e){return lc(e,AN|ON)}var Jp,e1;function RN(){if(e1)return Jp;e1=1;var e=Array.isArray,t=Object.keys,s=Object.prototype.hasOwnProperty,i=typeof Element<"u";function l(u,d){if(u===d)return!0;if(u&&d&&typeof u=="object"&&typeof d=="object"){var f=e(u),p=e(d),g,y,v;if(f&&p){if(y=u.length,y!=d.length)return!1;for(g=y;g--!==0;)if(!l(u[g],d[g]))return!1;return!0}if(f!=p)return!1;var b=u instanceof Date,S=d instanceof Date;if(b!=S)return!1;if(b&&S)return u.getTime()==d.getTime();var T=u instanceof RegExp,D=d instanceof RegExp;if(T!=D)return!1;if(T&&D)return u.toString()==d.toString();var j=t(u);if(y=j.length,y!==t(d).length)return!1;for(g=y;g--!==0;)if(!s.call(d,j[g]))return!1;if(i&&u instanceof Element&&d instanceof Element)return u===d;for(g=y;g--!==0;)if(v=j[g],!(v==="_owner"&&u.$$typeof)&&!l(u[v],d[v]))return!1;return!0}return u!==u&&d!==d}return Jp=function(d,f){try{return l(d,f)}catch(p){if(p.message&&p.message.match(/stack|recursion/i)||p.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",p.name,p.message),!1;throw p}},Jp}var IN=RN();const Ki=$1(IN);var BN=4;function t1(e){return lc(e,BN)}function cD(e,t){for(var s=-1,i=e==null?0:e.length,l=Array(i);++s<i;)l[s]=t(e[s],s,e);return l}var LN="[object Symbol]";function wy(e){return typeof e=="symbol"||xa(e)&&ya(e)==LN}var NN="Expected a function";function Ty(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(NN);var s=function(){var i=arguments,l=t?t.apply(this,i):i[0],u=s.cache;if(u.has(l))return u.get(l);var d=e.apply(this,i);return s.cache=u.set(l,d)||u,d};return s.cache=new(Ty.Cache||ji),s}Ty.Cache=ji;var FN=500;function HN(e){var t=Ty(e,function(i){return s.size===FN&&s.clear(),i}),s=t.cache;return t}var _N=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zN=/\\(\\)?/g,VN=HN(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(_N,function(s,i,l,u){t.push(l?u.replace(zN,"$1"):i||s)}),t});function WN(e){if(typeof e=="string"||wy(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var n1=vi?vi.prototype:void 0,s1=n1?n1.toString:void 0;function uD(e){if(typeof e=="string")return e;if(_c(e))return cD(e,uD)+"";if(wy(e))return s1?s1.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function YN(e){return e==null?"":uD(e)}function dD(e){return _c(e)?cD(e,WN):wy(e)?[e]:tD(VN(YN(e)))}function Yt(){return Yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},Yt.apply(this,arguments)}function wo(e,t){if(e==null)return{};var s={},i=Object.keys(e),l,u;for(u=0;u<i.length;u++)l=i[u],!(t.indexOf(l)>=0)&&(s[l]=e[l]);return s}var cf=x.createContext(void 0);cf.displayName="FormikContext";var UN=cf.Provider;cf.Consumer;function fD(){var e=x.useContext(cf);return e}var hs=function(t){return typeof t=="function"},uf=function(t){return t!==null&&typeof t=="object"},qN=function(t){return String(Math.floor(Number(t)))===t},em=function(t){return Object.prototype.toString.call(t)==="[object String]"},GN=function(t){return x.Children.count(t)===0},tm=function(t){return uf(t)&&hs(t.then)};function fs(e,t,s,i){i===void 0&&(i=0);for(var l=dD(t);e&&i<l.length;)e=e[l[i++]];return i!==l.length&&!e||e===void 0?s:e}function sa(e,t,s){for(var i=t1(e),l=i,u=0,d=dD(t);u<d.length-1;u++){var f=d[u],p=fs(e,d.slice(0,u+1));if(p&&(uf(p)||Array.isArray(p)))l=l[f]=t1(p);else{var g=d[u+1];l=l[f]=qN(g)&&Number(g)>=0?[]:{}}}return(u===0?e:l)[d[u]]===s?e:(s===void 0?delete l[d[u]]:l[d[u]]=s,u===0&&s===void 0&&delete i[d[u]],i)}function hD(e,t,s,i){s===void 0&&(s=new WeakMap),i===void 0&&(i={});for(var l=0,u=Object.keys(e);l<u.length;l++){var d=u[l],f=e[d];uf(f)?s.get(f)||(s.set(f,!0),i[d]=Array.isArray(f)?[]:{},hD(f,t,s,i[d])):i[d]=t}return i}function $N(e,t){switch(t.type){case"SET_VALUES":return Yt({},e,{values:t.payload});case"SET_TOUCHED":return Yt({},e,{touched:t.payload});case"SET_ERRORS":return Ki(e.errors,t.payload)?e:Yt({},e,{errors:t.payload});case"SET_STATUS":return Yt({},e,{status:t.payload});case"SET_ISSUBMITTING":return Yt({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return Yt({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return Yt({},e,{values:sa(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return Yt({},e,{touched:sa(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return Yt({},e,{errors:sa(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return Yt({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return Yt({},e,{touched:hD(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":return Yt({},e,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Yt({},e,{isSubmitting:!1});default:return e}}var Ui={},md={};function QN(e){var t=e.validateOnChange,s=t===void 0?!0:t,i=e.validateOnBlur,l=i===void 0?!0:i,u=e.validateOnMount,d=u===void 0?!1:u,f=e.isInitialValid,p=e.enableReinitialize,g=p===void 0?!1:p,y=e.onSubmit,v=wo(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),b=Yt({validateOnChange:s,validateOnBlur:l,validateOnMount:d,onSubmit:y},v),S=x.useRef(b.initialValues),T=x.useRef(b.initialErrors||Ui),D=x.useRef(b.initialTouched||md),j=x.useRef(b.initialStatus),C=x.useRef(!1),E=x.useRef({});x.useEffect(function(){return C.current=!0,function(){C.current=!1}},[]);var k=x.useState(0),A=k[1],N=x.useRef({values:pd(b.initialValues),errors:pd(b.initialErrors)||Ui,touched:pd(b.initialTouched)||md,status:pd(b.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),z=N.current,P=x.useCallback(function(K){var fe=N.current;N.current=$N(fe,K),fe!==N.current&&A(function(me){return me+1})},[]),F=x.useCallback(function(K,fe){return new Promise(function(me,Se){var Oe=b.validate(K,fe);Oe==null?me(Ui):tm(Oe)?Oe.then(function(Qe){me(Qe||Ui)},function(Qe){Se(Qe)}):me(Oe)})},[b.validate]),H=x.useCallback(function(K,fe){var me=b.validationSchema,Se=hs(me)?me(fe):me,Oe=fe&&Se.validateAt?Se.validateAt(fe,K):ZN(K,Se);return new Promise(function(Qe,ot){Oe.then(function(){Qe(Ui)},function(Be){Be.name==="ValidationError"?Qe(XN(Be)):ot(Be)})})},[b.validationSchema]),L=x.useCallback(function(K,fe){return new Promise(function(me){return me(E.current[K].validate(fe))})},[]),W=x.useCallback(function(K){var fe=Object.keys(E.current).filter(function(Se){return hs(E.current[Se].validate)}),me=fe.length>0?fe.map(function(Se){return L(Se,fs(K,Se))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(me).then(function(Se){return Se.reduce(function(Oe,Qe,ot){return Qe==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||Qe&&(Oe=sa(Oe,fe[ot],Qe)),Oe},{})})},[L]),M=x.useCallback(function(K){return Promise.all([W(K),b.validationSchema?H(K):{},b.validate?F(K):{}]).then(function(fe){var me=fe[0],Se=fe[1],Oe=fe[2],Qe=qm.all([me,Se,Oe],{arrayMerge:JN});return Qe})},[b.validate,b.validationSchema,W,F,H]),U=Ps(function(K){return K===void 0&&(K=z.values),P({type:"SET_ISVALIDATING",payload:!0}),M(K).then(function(fe){return C.current&&(P({type:"SET_ISVALIDATING",payload:!1}),P({type:"SET_ERRORS",payload:fe})),fe})});x.useEffect(function(){d&&C.current===!0&&Ki(S.current,b.initialValues)&&U(S.current)},[d,U]);var V=x.useCallback(function(K){var fe=K&&K.values?K.values:S.current,me=K&&K.errors?K.errors:T.current?T.current:b.initialErrors||{},Se=K&&K.touched?K.touched:D.current?D.current:b.initialTouched||{},Oe=K&&K.status?K.status:j.current?j.current:b.initialStatus;S.current=fe,T.current=me,D.current=Se,j.current=Oe;var Qe=function(){P({type:"RESET_FORM",payload:{isSubmitting:!!K&&!!K.isSubmitting,errors:me,touched:Se,status:Oe,values:fe,isValidating:!!K&&!!K.isValidating,submitCount:K&&K.submitCount&&typeof K.submitCount=="number"?K.submitCount:0}})};if(b.onReset){var ot=b.onReset(z.values,Ne);tm(ot)?ot.then(Qe):Qe()}else Qe()},[b.initialErrors,b.initialStatus,b.initialTouched,b.onReset]);x.useEffect(function(){C.current===!0&&!Ki(S.current,b.initialValues)&&g&&(S.current=b.initialValues,V(),d&&U(S.current))},[g,b.initialValues,V,d,U]),x.useEffect(function(){g&&C.current===!0&&!Ki(T.current,b.initialErrors)&&(T.current=b.initialErrors||Ui,P({type:"SET_ERRORS",payload:b.initialErrors||Ui}))},[g,b.initialErrors]),x.useEffect(function(){g&&C.current===!0&&!Ki(D.current,b.initialTouched)&&(D.current=b.initialTouched||md,P({type:"SET_TOUCHED",payload:b.initialTouched||md}))},[g,b.initialTouched]),x.useEffect(function(){g&&C.current===!0&&!Ki(j.current,b.initialStatus)&&(j.current=b.initialStatus,P({type:"SET_STATUS",payload:b.initialStatus}))},[g,b.initialStatus,b.initialTouched]);var _=Ps(function(K){if(E.current[K]&&hs(E.current[K].validate)){var fe=fs(z.values,K),me=E.current[K].validate(fe);return tm(me)?(P({type:"SET_ISVALIDATING",payload:!0}),me.then(function(Se){return Se}).then(function(Se){P({type:"SET_FIELD_ERROR",payload:{field:K,value:Se}}),P({type:"SET_ISVALIDATING",payload:!1})})):(P({type:"SET_FIELD_ERROR",payload:{field:K,value:me}}),Promise.resolve(me))}else if(b.validationSchema)return P({type:"SET_ISVALIDATING",payload:!0}),H(z.values,K).then(function(Se){return Se}).then(function(Se){P({type:"SET_FIELD_ERROR",payload:{field:K,value:fs(Se,K)}}),P({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),B=x.useCallback(function(K,fe){var me=fe.validate;E.current[K]={validate:me}},[]),O=x.useCallback(function(K){delete E.current[K]},[]),Q=Ps(function(K,fe){P({type:"SET_TOUCHED",payload:K});var me=fe===void 0?l:fe;return me?U(z.values):Promise.resolve()}),ee=x.useCallback(function(K){P({type:"SET_ERRORS",payload:K})},[]),ye=Ps(function(K,fe){var me=hs(K)?K(z.values):K;P({type:"SET_VALUES",payload:me});var Se=fe===void 0?s:fe;return Se?U(me):Promise.resolve()}),ue=x.useCallback(function(K,fe){P({type:"SET_FIELD_ERROR",payload:{field:K,value:fe}})},[]),de=Ps(function(K,fe,me){P({type:"SET_FIELD_VALUE",payload:{field:K,value:fe}});var Se=me===void 0?s:me;return Se?U(sa(z.values,K,fe)):Promise.resolve()}),we=x.useCallback(function(K,fe){var me=fe,Se=K,Oe;if(!em(K)){K.persist&&K.persist();var Qe=K.target?K.target:K.currentTarget,ot=Qe.type,Be=Qe.name,qe=Qe.id,Xe=Qe.value,yt=Qe.checked;Qe.outerHTML;var rt=Qe.options,it=Qe.multiple;me=fe||Be||qe,Se=/number|range/.test(ot)?(Oe=parseFloat(Xe),isNaN(Oe)?"":Oe):/checkbox/.test(ot)?t4(fs(z.values,me),yt,Xe):rt&&it?e4(rt):Xe}me&&de(me,Se)},[de,z.values]),De=Ps(function(K){if(em(K))return function(fe){return we(fe,K)};we(K)}),Me=Ps(function(K,fe,me){fe===void 0&&(fe=!0),P({type:"SET_FIELD_TOUCHED",payload:{field:K,value:fe}});var Se=me===void 0?l:me;return Se?U(z.values):Promise.resolve()}),We=x.useCallback(function(K,fe){K.persist&&K.persist();var me=K.target,Se=me.name,Oe=me.id;me.outerHTML;var Qe=fe||Se||Oe;Me(Qe,!0)},[Me]),Ue=Ps(function(K){if(em(K))return function(fe){return We(fe,K)};We(K)}),st=x.useCallback(function(K){hs(K)?P({type:"SET_FORMIK_STATE",payload:K}):P({type:"SET_FORMIK_STATE",payload:function(){return K}})},[]),_e=x.useCallback(function(K){P({type:"SET_STATUS",payload:K})},[]),ke=x.useCallback(function(K){P({type:"SET_ISSUBMITTING",payload:K})},[]),Te=Ps(function(){return P({type:"SUBMIT_ATTEMPT"}),U().then(function(K){var fe=K instanceof Error,me=!fe&&Object.keys(K).length===0;if(me){var Se;try{if(Se=le(),Se===void 0)return}catch(Oe){throw Oe}return Promise.resolve(Se).then(function(Oe){return C.current&&P({type:"SUBMIT_SUCCESS"}),Oe}).catch(function(Oe){if(C.current)throw P({type:"SUBMIT_FAILURE"}),Oe})}else if(C.current&&(P({type:"SUBMIT_FAILURE"}),fe))throw K})}),je=Ps(function(K){K&&K.preventDefault&&hs(K.preventDefault)&&K.preventDefault(),K&&K.stopPropagation&&hs(K.stopPropagation)&&K.stopPropagation(),Te().catch(function(fe){console.warn("Warning: An unhandled error was caught from submitForm()",fe)})}),Ne={resetForm:V,validateForm:U,validateField:_,setErrors:ee,setFieldError:ue,setFieldTouched:Me,setFieldValue:de,setStatus:_e,setSubmitting:ke,setTouched:Q,setValues:ye,setFormikState:st,submitForm:Te},le=Ps(function(){return y(z.values,Ne)}),Ce=Ps(function(K){K&&K.preventDefault&&hs(K.preventDefault)&&K.preventDefault(),K&&K.stopPropagation&&hs(K.stopPropagation)&&K.stopPropagation(),V()}),te=x.useCallback(function(K){return{value:fs(z.values,K),error:fs(z.errors,K),touched:!!fs(z.touched,K),initialValue:fs(S.current,K),initialTouched:!!fs(D.current,K),initialError:fs(T.current,K)}},[z.errors,z.touched,z.values]),ve=x.useCallback(function(K){return{setValue:function(me,Se){return de(K,me,Se)},setTouched:function(me,Se){return Me(K,me,Se)},setError:function(me){return ue(K,me)}}},[de,Me,ue]),ne=x.useCallback(function(K){var fe=uf(K),me=fe?K.name:K,Se=fs(z.values,me),Oe={name:me,value:Se,onChange:De,onBlur:Ue};if(fe){var Qe=K.type,ot=K.value,Be=K.as,qe=K.multiple;Qe==="checkbox"?ot===void 0?Oe.checked=!!Se:(Oe.checked=!!(Array.isArray(Se)&&~Se.indexOf(ot)),Oe.value=ot):Qe==="radio"?(Oe.checked=Se===ot,Oe.value=ot):Be==="select"&&qe&&(Oe.value=Oe.value||[],Oe.multiple=!0)}return Oe},[Ue,De,z.values]),oe=x.useMemo(function(){return!Ki(S.current,z.values)},[S.current,z.values]),$=x.useMemo(function(){return typeof f<"u"?oe?z.errors&&Object.keys(z.errors).length===0:f!==!1&&hs(f)?f(b):f:z.errors&&Object.keys(z.errors).length===0},[f,oe,z.errors,b]),ge=Yt({},z,{initialValues:S.current,initialErrors:T.current,initialTouched:D.current,initialStatus:j.current,handleBlur:Ue,handleChange:De,handleReset:Ce,handleSubmit:je,resetForm:V,setErrors:ee,setFormikState:st,setFieldTouched:Me,setFieldValue:de,setFieldError:ue,setStatus:_e,setSubmitting:ke,setTouched:Q,setValues:ye,submitForm:Te,validateForm:U,validateField:_,isValid:$,dirty:oe,unregisterField:O,registerField:B,getFieldProps:ne,getFieldMeta:te,getFieldHelpers:ve,validateOnBlur:l,validateOnChange:s,validateOnMount:d});return ge}function KN(e){var t=QN(e),s=e.component,i=e.children,l=e.render,u=e.innerRef;return x.useImperativeHandle(u,function(){return t}),x.createElement(UN,{value:t},s?x.createElement(s,t):l?l(t):i?hs(i)?i(t):GN(i)?null:x.Children.only(i):null)}function XN(e){var t={};if(e.inner){if(e.inner.length===0)return sa(t,e.path,e.message);for(var l=e.inner,s=Array.isArray(l),i=0,l=s?l:l[Symbol.iterator]();;){var u;if(s){if(i>=l.length)break;u=l[i++]}else{if(i=l.next(),i.done)break;u=i.value}var d=u;fs(t,d.path)||(t=sa(t,d.path,d.message))}}return t}function ZN(e,t,s,i){s===void 0&&(s=!1);var l=Xm(e);return t[s?"validateSync":"validate"](l,{abortEarly:!1,context:l})}function Xm(e){var t=Array.isArray(e)?[]:{};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var i=String(s);Array.isArray(e[i])===!0?t[i]=e[i].map(function(l){return Array.isArray(l)===!0||Ow(l)?Xm(l):l!==""?l:void 0}):Ow(e[i])?t[i]=Xm(e[i]):t[i]=e[i]!==""?e[i]:void 0}return t}function JN(e,t,s){var i=e.slice();return t.forEach(function(u,d){if(typeof i[d]>"u"){var f=s.clone!==!1,p=f&&s.isMergeableObject(u);i[d]=p?qm(Array.isArray(u)?[]:{},u,s):u}else s.isMergeableObject(u)?i[d]=qm(e[d],u,s):e.indexOf(u)===-1&&i.push(u)}),i}function e4(e){return Array.from(e).filter(function(t){return t.selected}).map(function(t){return t.value})}function t4(e,t,s){if(typeof e=="boolean")return!!t;var i=[],l=!1,u=-1;if(Array.isArray(e))i=e,u=e.indexOf(s),l=u>=0;else if(!s||s=="true"||s=="false")return!!t;return t&&s&&!l?i.concat(s):l?i.slice(0,u).concat(i.slice(u+1)):i}var n4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?x.useLayoutEffect:x.useEffect;function Ps(e){var t=x.useRef(e);return n4(function(){t.current=e}),x.useCallback(function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];return t.current.apply(void 0,i)},[])}function lo(e){var t=e.validate,s=e.name,i=e.render,l=e.children,u=e.as,d=e.component,f=e.className,p=wo(e,["validate","name","render","children","as","component","className"]),g=fD(),y=wo(g,["validate","validationSchema"]),v=y.registerField,b=y.unregisterField;x.useEffect(function(){return v(s,{validate:t}),function(){b(s)}},[v,b,s,t]);var S=y.getFieldProps(Yt({name:s},p)),T=y.getFieldMeta(s),D={field:S,form:y};if(i)return i(Yt({},D,{meta:T}));if(hs(l))return l(Yt({},D,{meta:T}));if(d){if(typeof d=="string"){var j=p.innerRef,C=wo(p,["innerRef"]);return x.createElement(d,Yt({ref:j},S,C,{className:f}),l)}return x.createElement(d,Yt({field:S,form:y},p,{className:f}),l)}var E=u||"input";if(typeof E=="string"){var k=p.innerRef,A=wo(p,["innerRef"]);return x.createElement(E,Yt({ref:k},S,A,{className:f}),l)}return x.createElement(E,Yt({},S,p,{className:f}),l)}var pD=x.forwardRef(function(e,t){var s=e.action,i=wo(e,["action"]),l=s??"#",u=fD(),d=u.handleReset,f=u.handleSubmit;return x.createElement("form",Yt({onSubmit:f,ref:t,onReset:d,action:l},i))});pD.displayName="Form";const mD=6048e5,s4=864e5,gD=6e4,yD=36e5,r4=1e3,r1=Symbol.for("constructDateFrom");function Xt(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&r1 in e?e[r1](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ge(e,t){return Xt(t||e,e)}function df(e,t,s){const i=Ge(e,s?.in);return isNaN(t)?Xt(s?.in||e,NaN):(t&&i.setDate(i.getDate()+t),i)}function xD(e,t,s){return Xt(e,+Ge(e)+t)}function i4(e,t,s){return xD(e,t*1e3)}function a4(e,t,s){const i=Ge(e,s?.in);return i.setTime(i.getTime()+t*gD),i}function o4(e,t,s){return xD(e,t*yD)}function l4(e,t,s){return df(e,t*7,s)}function bD(e,t,s){const i=Ge(e,s?.in);if(isNaN(t))return Xt(e,NaN);if(!t)return i;const l=i.getDate(),u=Xt(e,i.getTime());u.setMonth(i.getMonth()+t+1,0);const d=u.getDate();return l>=d?u:(i.setFullYear(u.getFullYear(),u.getMonth(),l),i)}function c4(e,t,s){return bD(e,t*12,s)}function i1(e,t){const s=Ge(e,t?.in);return s.setHours(23,59,59,999),s}let u4={};function Sa(){return u4}function d4(e,t){const s=Sa(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,l=Ge(e,t?.in),u=l.getDay(),d=(u<i?-7:0)+6-(u-i);return l.setDate(l.getDate()+d),l.setHours(23,59,59,999),l}function a1(e,t){const s=Ge(e,t?.in),i=s.getFullYear();return s.setFullYear(i+1,0,0),s.setHours(23,59,59,999),s}const f4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},h4=(e,t,s)=>{let i;const l=f4[e];return typeof l=="string"?i=l:t===1?i=l.one:i=l.other.replace("{{count}}",t.toString()),s?.addSuffix?s.comparison&&s.comparison>0?"in "+i:i+" ago":i};function nm(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const p4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},m4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},g4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},y4={date:nm({formats:p4,defaultWidth:"full"}),time:nm({formats:m4,defaultWidth:"full"}),dateTime:nm({formats:g4,defaultWidth:"full"})},x4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},b4=(e,t,s,i)=>x4[e];function Ul(e){return(t,s)=>{const i=s?.context?String(s.context):"standalone";let l;if(i==="formatting"&&e.formattingValues){const d=e.defaultFormattingWidth||e.defaultWidth,f=s?.width?String(s.width):d;l=e.formattingValues[f]||e.formattingValues[d]}else{const d=e.defaultWidth,f=s?.width?String(s.width):e.defaultWidth;l=e.values[f]||e.values[d]}const u=e.argumentCallback?e.argumentCallback(t):t;return l[u]}}const v4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},S4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},w4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},T4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},C4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},j4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},D4=(e,t)=>{const s=Number(e),i=s%100;if(i>20||i<10)switch(i%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},E4={ordinalNumber:D4,era:Ul({values:v4,defaultWidth:"wide"}),quarter:Ul({values:S4,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ul({values:w4,defaultWidth:"wide"}),day:Ul({values:T4,defaultWidth:"wide"}),dayPeriod:Ul({values:C4,defaultWidth:"wide",formattingValues:j4,defaultFormattingWidth:"wide"})};function ql(e){return(t,s={})=>{const i=s.width,l=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],u=t.match(l);if(!u)return null;const d=u[0],f=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],p=Array.isArray(f)?k4(f,v=>v.test(d)):M4(f,v=>v.test(d));let g;g=e.valueCallback?e.valueCallback(p):p,g=s.valueCallback?s.valueCallback(g):g;const y=t.slice(d.length);return{value:g,rest:y}}}function M4(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function k4(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function P4(e){return(t,s={})=>{const i=t.match(e.matchPattern);if(!i)return null;const l=i[0],u=t.match(e.parsePattern);if(!u)return null;let d=e.valueCallback?e.valueCallback(u[0]):u[0];d=s.valueCallback?s.valueCallback(d):d;const f=t.slice(l.length);return{value:d,rest:f}}}const A4=/^(\d+)(th|st|nd|rd)?/i,O4=/\d+/i,R4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},I4={any:[/^b/i,/^(a|c)/i]},B4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},L4={any:[/1/i,/2/i,/3/i,/4/i]},N4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},F4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},H4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},z4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},V4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},W4={ordinalNumber:P4({matchPattern:A4,parsePattern:O4,valueCallback:e=>parseInt(e,10)}),era:ql({matchPatterns:R4,defaultMatchWidth:"wide",parsePatterns:I4,defaultParseWidth:"any"}),quarter:ql({matchPatterns:B4,defaultMatchWidth:"wide",parsePatterns:L4,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ql({matchPatterns:N4,defaultMatchWidth:"wide",parsePatterns:F4,defaultParseWidth:"any"}),day:ql({matchPatterns:H4,defaultMatchWidth:"wide",parsePatterns:_4,defaultParseWidth:"any"}),dayPeriod:ql({matchPatterns:z4,defaultMatchWidth:"any",parsePatterns:V4,defaultParseWidth:"any"})},Cy={code:"en-US",formatDistance:h4,formatLong:y4,formatRelative:b4,localize:E4,match:W4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Hd(e){const t=Ge(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function zc(e,...t){const s=Xt.bind(null,t.find(i=>typeof i=="object"));return t.map(s)}function jc(e,t){const s=Ge(e,t?.in);return s.setHours(0,0,0,0),s}function Y4(e,t,s){const[i,l]=zc(s?.in,e,t),u=jc(i),d=jc(l),f=+u-Hd(u),p=+d-Hd(d);return Math.round((f-p)/s4)}function vD(e,t){const s=Ge(e,t?.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}function U4(e,t){const s=Ge(e,t?.in);return Y4(s,vD(s))+1}function Ir(e,t){const s=Sa(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,l=Ge(e,t?.in),u=l.getDay(),d=(u<i?7:0)+u-i;return l.setDate(l.getDate()-d),l.setHours(0,0,0,0),l}function No(e,t){return Ir(e,{...t,weekStartsOn:1})}function SD(e,t){const s=Ge(e,t?.in),i=s.getFullYear(),l=Xt(s,0);l.setFullYear(i+1,0,4),l.setHours(0,0,0,0);const u=No(l),d=Xt(s,0);d.setFullYear(i,0,4),d.setHours(0,0,0,0);const f=No(d);return s.getTime()>=u.getTime()?i+1:s.getTime()>=f.getTime()?i:i-1}function q4(e,t){const s=SD(e,t),i=Xt(e,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),No(i)}function wD(e,t){const s=Ge(e,t?.in),i=+No(s)-+q4(s);return Math.round(i/mD)+1}function jy(e,t){const s=Ge(e,t?.in),i=s.getFullYear(),l=Sa(),u=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,d=Xt(t?.in||e,0);d.setFullYear(i+1,0,u),d.setHours(0,0,0,0);const f=Ir(d,t),p=Xt(t?.in||e,0);p.setFullYear(i,0,u),p.setHours(0,0,0,0);const g=Ir(p,t);return+s>=+f?i+1:+s>=+g?i:i-1}function G4(e,t){const s=Sa(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,l=jy(e,t),u=Xt(t?.in||e,0);return u.setFullYear(l,0,i),u.setHours(0,0,0,0),Ir(u,t)}function Dy(e,t){const s=Ge(e,t?.in),i=+Ir(s,t)-+G4(s,t);return Math.round(i/mD)+1}function At(e,t){const s=e<0?"-":"",i=Math.abs(e).toString().padStart(t,"0");return s+i}const ci={y(e,t){const s=e.getFullYear(),i=s>0?s:1-s;return At(t==="yy"?i%100:i,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):At(s+1,2)},d(e,t){return At(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,t){return At(e.getHours()%12||12,t.length)},H(e,t){return At(e.getHours(),t.length)},m(e,t){return At(e.getMinutes(),t.length)},s(e,t){return At(e.getSeconds(),t.length)},S(e,t){const s=t.length,i=e.getMilliseconds(),l=Math.trunc(i*Math.pow(10,s-3));return At(l,t.length)}},co={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},o1={G:function(e,t,s){const i=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(i,{width:"abbreviated"});case"GGGGG":return s.era(i,{width:"narrow"});case"GGGG":default:return s.era(i,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const i=e.getFullYear(),l=i>0?i:1-i;return s.ordinalNumber(l,{unit:"year"})}return ci.y(e,t)},Y:function(e,t,s,i){const l=jy(e,i),u=l>0?l:1-l;if(t==="YY"){const d=u%100;return At(d,2)}return t==="Yo"?s.ordinalNumber(u,{unit:"year"}):At(u,t.length)},R:function(e,t){const s=SD(e);return At(s,t.length)},u:function(e,t){const s=e.getFullYear();return At(s,t.length)},Q:function(e,t,s){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return At(i,2);case"Qo":return s.ordinalNumber(i,{unit:"quarter"});case"QQQ":return s.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,s){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return At(i,2);case"qo":return s.ordinalNumber(i,{unit:"quarter"});case"qqq":return s.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,s){const i=e.getMonth();switch(t){case"M":case"MM":return ci.M(e,t);case"Mo":return s.ordinalNumber(i+1,{unit:"month"});case"MMM":return s.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,s){const i=e.getMonth();switch(t){case"L":return String(i+1);case"LL":return At(i+1,2);case"Lo":return s.ordinalNumber(i+1,{unit:"month"});case"LLL":return s.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,s,i){const l=Dy(e,i);return t==="wo"?s.ordinalNumber(l,{unit:"week"}):At(l,t.length)},I:function(e,t,s){const i=wD(e);return t==="Io"?s.ordinalNumber(i,{unit:"week"}):At(i,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):ci.d(e,t)},D:function(e,t,s){const i=U4(e);return t==="Do"?s.ordinalNumber(i,{unit:"dayOfYear"}):At(i,t.length)},E:function(e,t,s){const i=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(i,{width:"short",context:"formatting"});case"EEEE":default:return s.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,s,i){const l=e.getDay(),u=(l-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(u);case"ee":return At(u,2);case"eo":return s.ordinalNumber(u,{unit:"day"});case"eee":return s.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(l,{width:"short",context:"formatting"});case"eeee":default:return s.day(l,{width:"wide",context:"formatting"})}},c:function(e,t,s,i){const l=e.getDay(),u=(l-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(u);case"cc":return At(u,t.length);case"co":return s.ordinalNumber(u,{unit:"day"});case"ccc":return s.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(l,{width:"narrow",context:"standalone"});case"cccccc":return s.day(l,{width:"short",context:"standalone"});case"cccc":default:return s.day(l,{width:"wide",context:"standalone"})}},i:function(e,t,s){const i=e.getDay(),l=i===0?7:i;switch(t){case"i":return String(l);case"ii":return At(l,t.length);case"io":return s.ordinalNumber(l,{unit:"day"});case"iii":return s.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(i,{width:"short",context:"formatting"});case"iiii":default:return s.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,s){const l=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(e,t,s){const i=e.getHours();let l;switch(i===12?l=co.noon:i===0?l=co.midnight:l=i/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(e,t,s){const i=e.getHours();let l;switch(i>=17?l=co.evening:i>=12?l=co.afternoon:i>=4?l=co.morning:l=co.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let i=e.getHours()%12;return i===0&&(i=12),s.ordinalNumber(i,{unit:"hour"})}return ci.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):ci.H(e,t)},K:function(e,t,s){const i=e.getHours()%12;return t==="Ko"?s.ordinalNumber(i,{unit:"hour"}):At(i,t.length)},k:function(e,t,s){let i=e.getHours();return i===0&&(i=24),t==="ko"?s.ordinalNumber(i,{unit:"hour"}):At(i,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):ci.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):ci.s(e,t)},S:function(e,t){return ci.S(e,t)},X:function(e,t,s){const i=e.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return c1(i);case"XXXX":case"XX":return Xi(i);case"XXXXX":case"XXX":default:return Xi(i,":")}},x:function(e,t,s){const i=e.getTimezoneOffset();switch(t){case"x":return c1(i);case"xxxx":case"xx":return Xi(i);case"xxxxx":case"xxx":default:return Xi(i,":")}},O:function(e,t,s){const i=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+l1(i,":");case"OOOO":default:return"GMT"+Xi(i,":")}},z:function(e,t,s){const i=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+l1(i,":");case"zzzz":default:return"GMT"+Xi(i,":")}},t:function(e,t,s){const i=Math.trunc(+e/1e3);return At(i,t.length)},T:function(e,t,s){return At(+e,t.length)}};function l1(e,t=""){const s=e>0?"-":"+",i=Math.abs(e),l=Math.trunc(i/60),u=i%60;return u===0?s+String(l):s+String(l)+t+At(u,2)}function c1(e,t){return e%60===0?(e>0?"-":"+")+At(Math.abs(e)/60,2):Xi(e,t)}function Xi(e,t=""){const s=e>0?"-":"+",i=Math.abs(e),l=At(Math.trunc(i/60),2),u=At(i%60,2);return s+l+t+u}const u1=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},TD=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},$4=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],i=s[1],l=s[2];if(!l)return u1(e,t);let u;switch(i){case"P":u=t.dateTime({width:"short"});break;case"PP":u=t.dateTime({width:"medium"});break;case"PPP":u=t.dateTime({width:"long"});break;case"PPPP":default:u=t.dateTime({width:"full"});break}return u.replace("{{date}}",u1(i,t)).replace("{{time}}",TD(l,t))},_d={p:TD,P:$4},Q4=/^D+$/,K4=/^Y+$/,X4=["D","DD","YY","YYYY"];function CD(e){return Q4.test(e)}function jD(e){return K4.test(e)}function Zm(e,t,s){const i=Z4(e,t,s);if(console.warn(i),X4.includes(e))throw new RangeError(i)}function Z4(e,t,s){const i=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${i} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function J4(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function DD(e){return!(!J4(e)&&typeof e!="number"||isNaN(+Ge(e)))}const eF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nF=/^'([^]*?)'?$/,sF=/''/g,rF=/[a-zA-Z]/;function iF(e,t,s){const i=Sa(),l=s?.locale??i.locale??Cy,u=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,d=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,f=Ge(e,s?.in);if(!DD(f))throw new RangeError("Invalid time value");let p=t.match(tF).map(y=>{const v=y[0];if(v==="p"||v==="P"){const b=_d[v];return b(y,l.formatLong)}return y}).join("").match(eF).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const v=y[0];if(v==="'")return{isToken:!1,value:aF(y)};if(o1[v])return{isToken:!0,value:y};if(v.match(rF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:y}});l.localize.preprocessor&&(p=l.localize.preprocessor(f,p));const g={firstWeekContainsDate:u,weekStartsOn:d,locale:l};return p.map(y=>{if(!y.isToken)return y.value;const v=y.value;(!s?.useAdditionalWeekYearTokens&&jD(v)||!s?.useAdditionalDayOfYearTokens&&CD(v))&&Zm(v,t,String(e));const b=o1[v[0]];return b(f,v,l.localize,g)}).join("")}function aF(e){const t=e.match(nF);return t?t[1].replace(sF,"'"):e}function oF(e,t){return Ge(e,t?.in).getDate()}function ED(e,t){const s=Ge(e,t?.in),i=s.getFullYear(),l=s.getMonth(),u=Xt(s,0);return u.setFullYear(i,l+1,0),u.setHours(0,0,0,0),u.getDate()}function lF(e,t){return Ge(e,t?.in).getHours()}function cF(e,t){return Ge(e,t?.in).getMinutes()}function uF(e,t){return Ge(e,t?.in).getMonth()}function dF(e){return Ge(e).getSeconds()}function fF(e){return Ge(e).getMilliseconds()}function hF(e,t){return Ge(e,t?.in).getFullYear()}function sm(e,t){return+Ge(e)>+Ge(t)}function rm(e,t){return+Ge(e)<+Ge(t)}function pF(e,t){return+Ge(e)==+Ge(t)}function mF(e,t,s){const[i,l]=zc(s?.in,e,t);return+jc(i)==+jc(l)}function gF(e,t,s){const[i,l]=zc(s?.in,e,t);return i.getFullYear()===l.getFullYear()}function yF(e,t,s){const[i,l]=zc(s?.in,e,t);return i.getFullYear()===l.getFullYear()&&i.getMonth()===l.getMonth()}function d1(e,t){const s=Ge(e,t?.in);return s.setMinutes(0,0,0),s}function xF(e,t,s){const[i,l]=zc(s?.in,e,t);return+d1(i)==+d1(l)}function bF(){return Object.assign({},Sa())}function vF(e,t){const s=SF(t)?new t(0):Xt(t,0);return s.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),s.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),s}function SF(e){return typeof e=="function"&&e.prototype?.constructor===e}const wF=10;class MD{subPriority=0;validate(t,s){return!0}}class TF extends MD{constructor(t,s,i,l,u){super(),this.value=t,this.validateValue=s,this.setValue=i,this.priority=l,u&&(this.subPriority=u)}validate(t,s){return this.validateValue(t,this.value,s)}set(t,s,i){return this.setValue(t,s,this.value,i)}}class CF extends MD{priority=wF;subPriority=-1;constructor(t,s){super(),this.context=t||(i=>Xt(s,i))}set(t,s){return s.timestampIsSet?t:Xt(t,vF(t,this.context))}}class Dt{run(t,s,i,l){const u=this.parse(t,s,i,l);return u?{setter:new TF(u.value,this.validate,this.set,this.priority,this.subPriority),rest:u.rest}:null}validate(t,s,i){return!0}}class jF extends Dt{priority=140;parse(t,s,i){switch(s){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,s,i){return s.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const cn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Xs={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function un(e,t){return e&&{value:t(e.value),rest:e.rest}}function Zt(e,t){const s=t.match(e);return s?{value:parseInt(s[0],10),rest:t.slice(s[0].length)}:null}function Zs(e,t){const s=t.match(e);if(!s)return null;if(s[0]==="Z")return{value:0,rest:t.slice(1)};const i=s[1]==="+"?1:-1,l=s[2]?parseInt(s[2],10):0,u=s[3]?parseInt(s[3],10):0,d=s[5]?parseInt(s[5],10):0;return{value:i*(l*yD+u*gD+d*r4),rest:t.slice(s[0].length)}}function kD(e){return Zt(cn.anyDigitsSigned,e)}function sn(e,t){switch(e){case 1:return Zt(cn.singleDigit,t);case 2:return Zt(cn.twoDigits,t);case 3:return Zt(cn.threeDigits,t);case 4:return Zt(cn.fourDigits,t);default:return Zt(new RegExp("^\\d{1,"+e+"}"),t)}}function zd(e,t){switch(e){case 1:return Zt(cn.singleDigitSigned,t);case 2:return Zt(cn.twoDigitsSigned,t);case 3:return Zt(cn.threeDigitsSigned,t);case 4:return Zt(cn.fourDigitsSigned,t);default:return Zt(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Ey(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function PD(e,t){const s=t>0,i=s?t:1-t;let l;if(i<=50)l=e||100;else{const u=i+50,d=Math.trunc(u/100)*100,f=e>=u%100;l=e+d-(f?100:0)}return s?l:1-l}function AD(e){return e%400===0||e%4===0&&e%100!==0}class DF extends Dt{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,s,i){const l=u=>({year:u,isTwoDigitYear:s==="yy"});switch(s){case"y":return un(sn(4,t),l);case"yo":return un(i.ordinalNumber(t,{unit:"year"}),l);default:return un(sn(s.length,t),l)}}validate(t,s){return s.isTwoDigitYear||s.year>0}set(t,s,i){const l=t.getFullYear();if(i.isTwoDigitYear){const d=PD(i.year,l);return t.setFullYear(d,0,1),t.setHours(0,0,0,0),t}const u=!("era"in s)||s.era===1?i.year:1-i.year;return t.setFullYear(u,0,1),t.setHours(0,0,0,0),t}}class EF extends Dt{priority=130;parse(t,s,i){const l=u=>({year:u,isTwoDigitYear:s==="YY"});switch(s){case"Y":return un(sn(4,t),l);case"Yo":return un(i.ordinalNumber(t,{unit:"year"}),l);default:return un(sn(s.length,t),l)}}validate(t,s){return s.isTwoDigitYear||s.year>0}set(t,s,i,l){const u=jy(t,l);if(i.isTwoDigitYear){const f=PD(i.year,u);return t.setFullYear(f,0,l.firstWeekContainsDate),t.setHours(0,0,0,0),Ir(t,l)}const d=!("era"in s)||s.era===1?i.year:1-i.year;return t.setFullYear(d,0,l.firstWeekContainsDate),t.setHours(0,0,0,0),Ir(t,l)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class MF extends Dt{priority=130;parse(t,s){return zd(s==="R"?4:s.length,t)}set(t,s,i){const l=Xt(t,0);return l.setFullYear(i,0,4),l.setHours(0,0,0,0),No(l)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class kF extends Dt{priority=130;parse(t,s){return zd(s==="u"?4:s.length,t)}set(t,s,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class PF extends Dt{priority=120;parse(t,s,i){switch(s){case"Q":case"QQ":return sn(s.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,s){return s>=1&&s<=4}set(t,s,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class AF extends Dt{priority=120;parse(t,s,i){switch(s){case"q":case"qq":return sn(s.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,s){return s>=1&&s<=4}set(t,s,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class OF extends Dt{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,s,i){const l=u=>u-1;switch(s){case"M":return un(Zt(cn.month,t),l);case"MM":return un(sn(2,t),l);case"Mo":return un(i.ordinalNumber(t,{unit:"month"}),l);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,s){return s>=0&&s<=11}set(t,s,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class RF extends Dt{priority=110;parse(t,s,i){const l=u=>u-1;switch(s){case"L":return un(Zt(cn.month,t),l);case"LL":return un(sn(2,t),l);case"Lo":return un(i.ordinalNumber(t,{unit:"month"}),l);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,s){return s>=0&&s<=11}set(t,s,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function IF(e,t,s){const i=Ge(e,s?.in),l=Dy(i,s)-t;return i.setDate(i.getDate()-l*7),Ge(i,s?.in)}class BF extends Dt{priority=100;parse(t,s,i){switch(s){case"w":return Zt(cn.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return sn(s.length,t)}}validate(t,s){return s>=1&&s<=53}set(t,s,i,l){return Ir(IF(t,i,l),l)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function LF(e,t,s){const i=Ge(e,s?.in),l=wD(i,s)-t;return i.setDate(i.getDate()-l*7),i}class NF extends Dt{priority=100;parse(t,s,i){switch(s){case"I":return Zt(cn.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return sn(s.length,t)}}validate(t,s){return s>=1&&s<=53}set(t,s,i){return No(LF(t,i))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const FF=[31,28,31,30,31,30,31,31,30,31,30,31],HF=[31,29,31,30,31,30,31,31,30,31,30,31];class _F extends Dt{priority=90;subPriority=1;parse(t,s,i){switch(s){case"d":return Zt(cn.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return sn(s.length,t)}}validate(t,s){const i=t.getFullYear(),l=AD(i),u=t.getMonth();return l?s>=1&&s<=HF[u]:s>=1&&s<=FF[u]}set(t,s,i){return t.setDate(i),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class zF extends Dt{priority=90;subpriority=1;parse(t,s,i){switch(s){case"D":case"DD":return Zt(cn.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return sn(s.length,t)}}validate(t,s){const i=t.getFullYear();return AD(i)?s>=1&&s<=366:s>=1&&s<=365}set(t,s,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function My(e,t,s){const i=Sa(),l=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,u=Ge(e,s?.in),d=u.getDay(),p=(t%7+7)%7,g=7-l,y=t<0||t>6?t-(d+g)%7:(p+g)%7-(d+g)%7;return df(u,y,s)}class VF extends Dt{priority=90;parse(t,s,i){switch(s){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,s){return s>=0&&s<=6}set(t,s,i,l){return t=My(t,i,l),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class WF extends Dt{priority=90;parse(t,s,i,l){const u=d=>{const f=Math.floor((d-1)/7)*7;return(d+l.weekStartsOn+6)%7+f};switch(s){case"e":case"ee":return un(sn(s.length,t),u);case"eo":return un(i.ordinalNumber(t,{unit:"day"}),u);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,s){return s>=0&&s<=6}set(t,s,i,l){return t=My(t,i,l),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class YF extends Dt{priority=90;parse(t,s,i,l){const u=d=>{const f=Math.floor((d-1)/7)*7;return(d+l.weekStartsOn+6)%7+f};switch(s){case"c":case"cc":return un(sn(s.length,t),u);case"co":return un(i.ordinalNumber(t,{unit:"day"}),u);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,s){return s>=0&&s<=6}set(t,s,i,l){return t=My(t,i,l),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function UF(e,t){const s=Ge(e,t?.in).getDay();return s===0?7:s}function qF(e,t,s){const i=Ge(e,s?.in),l=UF(i,s),u=t-l;return df(i,u,s)}class GF extends Dt{priority=90;parse(t,s,i){const l=u=>u===0?7:u;switch(s){case"i":case"ii":return sn(s.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return un(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),l);case"iiiii":return un(i.day(t,{width:"narrow",context:"formatting"}),l);case"iiiiii":return un(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),l);case"iiii":default:return un(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),l)}}validate(t,s){return s>=1&&s<=7}set(t,s,i){return t=qF(t,i),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class $F extends Dt{priority=80;parse(t,s,i){switch(s){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,s,i){return t.setHours(Ey(i),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class QF extends Dt{priority=80;parse(t,s,i){switch(s){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,s,i){return t.setHours(Ey(i),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class KF extends Dt{priority=80;parse(t,s,i){switch(s){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,s,i){return t.setHours(Ey(i),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class XF extends Dt{priority=70;parse(t,s,i){switch(s){case"h":return Zt(cn.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return sn(s.length,t)}}validate(t,s){return s>=1&&s<=12}set(t,s,i){const l=t.getHours()>=12;return l&&i<12?t.setHours(i+12,0,0,0):!l&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class ZF extends Dt{priority=70;parse(t,s,i){switch(s){case"H":return Zt(cn.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return sn(s.length,t)}}validate(t,s){return s>=0&&s<=23}set(t,s,i){return t.setHours(i,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class JF extends Dt{priority=70;parse(t,s,i){switch(s){case"K":return Zt(cn.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return sn(s.length,t)}}validate(t,s){return s>=0&&s<=11}set(t,s,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class eH extends Dt{priority=70;parse(t,s,i){switch(s){case"k":return Zt(cn.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return sn(s.length,t)}}validate(t,s){return s>=1&&s<=24}set(t,s,i){const l=i<=24?i%24:i;return t.setHours(l,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class tH extends Dt{priority=60;parse(t,s,i){switch(s){case"m":return Zt(cn.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return sn(s.length,t)}}validate(t,s){return s>=0&&s<=59}set(t,s,i){return t.setMinutes(i,0,0),t}incompatibleTokens=["t","T"]}class nH extends Dt{priority=50;parse(t,s,i){switch(s){case"s":return Zt(cn.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return sn(s.length,t)}}validate(t,s){return s>=0&&s<=59}set(t,s,i){return t.setSeconds(i,0),t}incompatibleTokens=["t","T"]}class sH extends Dt{priority=30;parse(t,s){const i=l=>Math.trunc(l*Math.pow(10,-s.length+3));return un(sn(s.length,t),i)}set(t,s,i){return t.setMilliseconds(i),t}incompatibleTokens=["t","T"]}class rH extends Dt{priority=10;parse(t,s){switch(s){case"X":return Zs(Xs.basicOptionalMinutes,t);case"XX":return Zs(Xs.basic,t);case"XXXX":return Zs(Xs.basicOptionalSeconds,t);case"XXXXX":return Zs(Xs.extendedOptionalSeconds,t);case"XXX":default:return Zs(Xs.extended,t)}}set(t,s,i){return s.timestampIsSet?t:Xt(t,t.getTime()-Hd(t)-i)}incompatibleTokens=["t","T","x"]}class iH extends Dt{priority=10;parse(t,s){switch(s){case"x":return Zs(Xs.basicOptionalMinutes,t);case"xx":return Zs(Xs.basic,t);case"xxxx":return Zs(Xs.basicOptionalSeconds,t);case"xxxxx":return Zs(Xs.extendedOptionalSeconds,t);case"xxx":default:return Zs(Xs.extended,t)}}set(t,s,i){return s.timestampIsSet?t:Xt(t,t.getTime()-Hd(t)-i)}incompatibleTokens=["t","T","X"]}class aH extends Dt{priority=40;parse(t){return kD(t)}set(t,s,i){return[Xt(t,i*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class oH extends Dt{priority=20;parse(t){return kD(t)}set(t,s,i){return[Xt(t,i),{timestampIsSet:!0}]}incompatibleTokens="*"}const lH={G:new jF,y:new DF,Y:new EF,R:new MF,u:new kF,Q:new PF,q:new AF,M:new OF,L:new RF,w:new BF,I:new NF,d:new _F,D:new zF,E:new VF,e:new WF,c:new YF,i:new GF,a:new $F,b:new QF,B:new KF,h:new XF,H:new ZF,K:new JF,k:new eH,m:new tH,s:new nH,S:new sH,X:new rH,x:new iH,t:new aH,T:new oH},cH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,uH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,dH=/^'([^]*?)'?$/,fH=/''/g,hH=/\S/,pH=/[a-zA-Z]/;function mH(e,t,s,i){const l=()=>Xt(i?.in||s,NaN),u=bF(),d=i?.locale??u.locale??Cy,f=i?.firstWeekContainsDate??i?.locale?.options?.firstWeekContainsDate??u.firstWeekContainsDate??u.locale?.options?.firstWeekContainsDate??1,p=i?.weekStartsOn??i?.locale?.options?.weekStartsOn??u.weekStartsOn??u.locale?.options?.weekStartsOn??0;if(!t)return e?l():Ge(s,i?.in);const g={firstWeekContainsDate:f,weekStartsOn:p,locale:d},y=[new CF(i?.in,s)],v=t.match(uH).map(j=>{const C=j[0];if(C in _d){const E=_d[C];return E(j,d.formatLong)}return j}).join("").match(cH),b=[];for(let j of v){!i?.useAdditionalWeekYearTokens&&jD(j)&&Zm(j,t,e),!i?.useAdditionalDayOfYearTokens&&CD(j)&&Zm(j,t,e);const C=j[0],E=lH[C];if(E){const{incompatibleTokens:k}=E;if(Array.isArray(k)){const N=b.find(z=>k.includes(z.token)||z.token===C);if(N)throw new RangeError(`The format string mustn't contain \`${N.fullToken}\` and \`${j}\` at the same time`)}else if(E.incompatibleTokens==="*"&&b.length>0)throw new RangeError(`The format string mustn't contain \`${j}\` and any other token at the same time`);b.push({token:C,fullToken:j});const A=E.run(e,j,d.match,g);if(!A)return l();y.push(A.setter),e=A.rest}else{if(C.match(pH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if(j==="''"?j="'":C==="'"&&(j=gH(j)),e.indexOf(j)===0)e=e.slice(j.length);else return l()}}if(e.length>0&&hH.test(e))return l();const S=y.map(j=>j.priority).sort((j,C)=>C-j).filter((j,C,E)=>E.indexOf(j)===C).map(j=>y.filter(C=>C.priority===j).sort((C,E)=>E.subPriority-C.subPriority)).map(j=>j[0]);let T=Ge(s,i?.in);if(isNaN(+T))return l();const D={};for(const j of S){if(!j.validate(T,g))return l();const C=j.set(T,D,g);Array.isArray(C)?(T=C[0],Object.assign(D,C[1])):T=C}return T}function gH(e){return e.match(dH)[1].replace(fH,"'")}function yH(e,t,s){const i=Ge(e,s?.in);return i.setDate(t),i}function xH(e,t,s){const i=Ge(e,s?.in);return i.setHours(t),i}function bH(e,t,s){const i=Ge(e,s?.in);return i.setMinutes(t),i}function vH(e,t,s){const i=Ge(e,s?.in),l=i.getFullYear(),u=i.getDate(),d=Xt(e,0);d.setFullYear(l,t,15),d.setHours(0,0,0,0);const f=ED(d);return i.setMonth(t,Math.min(u,f)),i}function SH(e,t,s){const i=Ge(e,s?.in);return i.setSeconds(t),i}function wH(e,t,s){const i=Ge(e,s?.in);return i.setMilliseconds(t),i}function TH(e,t,s){const i=Ge(e,s?.in);return isNaN(+i)?Xt(e,NaN):(i.setFullYear(t),i)}function CH(e,t){const s=Ge(e,t?.in);return s.setDate(1),s.setHours(0,0,0,0),s}function jH(e,t){const s=Ge(e,t?.in),i=s.getMonth();return s.setFullYear(s.getFullYear(),i+1,0),s.setHours(23,59,59,999),s}function DH(e,t,s){const i=+Ge(e,s?.in),[l,u]=[+Ge(t.start,s?.in),+Ge(t.end,s?.in)].sort((d,f)=>d-f);return i>=l&&i<=u}const EH={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},MH={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",dayOfMonthFull:"do",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class kH{isMUIAdapter=!0;isTimezoneCompatible=!1;formatTokenMap=EH;escapedCharacters={start:"'",end:"'"};constructor(t){const{locale:s,formats:i,longFormatters:l,lib:u}=t;this.locale=s,this.formats=Z({},MH,i),this.longFormatters=l,this.lib=u||"date-fns"}date=t=>typeof t>"u"?new Date:t===null?null:new Date(t);getInvalidDate=()=>new Date("Invalid Date");getTimezone=()=>"default";setTimezone=t=>t;toJsDate=t=>t;getCurrentLocaleCode=()=>this.locale.code;is12HourCycleInCurrentLocale=()=>/a/.test(this.locale.formatLong.time({width:"short"}));expandFormat=t=>{const s=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return t.match(s).map(i=>{const l=i[0];if(l==="p"||l==="P"){const u=this.longFormatters[l];return u(i,this.locale.formatLong)}return i}).join("")};formatNumber=t=>t;getDayOfWeek=t=>t.getDay()+1}class PH extends kH{constructor({locale:t,formats:s}={}){super({locale:t??Cy,formats:s,longFormatters:_d})}parse=(t,s)=>t===""?null:mH(t,s,new Date,{locale:this.locale});isValid=t=>t==null?!1:DD(t);format=(t,s)=>this.formatByString(t,this.formats[s]);formatByString=(t,s)=>iF(t,s,{locale:this.locale});isEqual=(t,s)=>t===null&&s===null?!0:t===null||s===null?!1:pF(t,s);isSameYear=(t,s)=>gF(t,s);isSameMonth=(t,s)=>yF(t,s);isSameDay=(t,s)=>mF(t,s);isSameHour=(t,s)=>xF(t,s);isAfter=(t,s)=>sm(t,s);isAfterYear=(t,s)=>sm(t,a1(s));isAfterDay=(t,s)=>sm(t,i1(s));isBefore=(t,s)=>rm(t,s);isBeforeYear=(t,s)=>rm(t,this.startOfYear(s));isBeforeDay=(t,s)=>rm(t,this.startOfDay(s));isWithinRange=(t,[s,i])=>DH(t,{start:s,end:i});startOfYear=t=>vD(t);startOfMonth=t=>CH(t);startOfWeek=t=>Ir(t,{locale:this.locale});startOfDay=t=>jc(t);endOfYear=t=>a1(t);endOfMonth=t=>jH(t);endOfWeek=t=>d4(t,{locale:this.locale});endOfDay=t=>i1(t);addYears=(t,s)=>c4(t,s);addMonths=(t,s)=>bD(t,s);addWeeks=(t,s)=>l4(t,s);addDays=(t,s)=>df(t,s);addHours=(t,s)=>o4(t,s);addMinutes=(t,s)=>a4(t,s);addSeconds=(t,s)=>i4(t,s);getYear=t=>hF(t);getMonth=t=>uF(t);getDate=t=>oF(t);getHours=t=>lF(t);getMinutes=t=>cF(t);getSeconds=t=>dF(t);getMilliseconds=t=>fF(t);setYear=(t,s)=>TH(t,s);setMonth=(t,s)=>vH(t,s);setDate=(t,s)=>yH(t,s);setHours=(t,s)=>xH(t,s);setMinutes=(t,s)=>bH(t,s);setSeconds=(t,s)=>SH(t,s);setMilliseconds=(t,s)=>wH(t,s);getDaysInMonth=t=>ED(t);getWeekArray=t=>{const s=this.startOfWeek(this.startOfMonth(t)),i=this.endOfWeek(this.endOfMonth(t));let l=0,u=s;const d=[];for(;this.isBefore(u,i);){const f=Math.floor(l/7);d[f]=d[f]||[],d[f].push(u),u=this.addDays(u,1),l+=1}return d};getWeekNumber=t=>Dy(t,{locale:this.locale});getYearRange=([t,s])=>{const i=this.startOfYear(t),l=this.endOfYear(s),u=[];let d=i;for(;this.isBefore(d,l);)u.push(d),d=this.addYears(d,1);return u}}const AH=["localeText"],Jm=x.createContext(null),OD=function(t){const{localeText:s}=t,i=tt(t,AH),{adapter:l,localeText:u}=x.useContext(Jm)??{adapter:void 0,localeText:void 0},d=Jt({props:i,name:"MuiLocalizationProvider"}),{children:f,dateAdapter:p,dateFormats:g,dateLibInstance:y,adapterLocale:v,localeText:b}=d,S=x.useMemo(()=>Z({},b,u,s),[b,u,s]),T=x.useMemo(()=>{if(!p)return l||null;const C=new p({locale:v,formats:g,instance:y});if(!C.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/quickstart/#installation"].join(`
`));return C},[p,v,g,y,l]),D=x.useMemo(()=>T?{minDate:T.date("1900-01-01T00:00:00.000"),maxDate:T.date("2099-12-31T00:00:00.000")}:null,[T]),j=x.useMemo(()=>({utils:T,adapter:T,defaultDates:D,localeText:S}),[D,T,S]);return a.jsx(Jm.Provider,{value:j,children:f})},Gl=(e,t)=>e.length!==t.length?!1:t.every(s=>e.includes(s)),OH=({openTo:e,defaultOpenTo:t,views:s,defaultViews:i})=>{const l=s??i;let u;if(e!=null)u=e;else if(l.includes(t))u=t;else if(l.length>0)u=l[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:l,openTo:u}},Vd=(e,t,s)=>{let i=t;return i=e.setHours(i,e.getHours(s)),i=e.setMinutes(i,e.getMinutes(s)),i=e.setSeconds(i,e.getSeconds(s)),i=e.setMilliseconds(i,e.getMilliseconds(s)),i},Dc=({date:e,disableFuture:t,disablePast:s,maxDate:i,minDate:l,isDateDisabled:u,adapter:d,timezone:f})=>{const p=Vd(d,d.date(void 0,f),e);s&&d.isBefore(l,p)&&(l=p),t&&d.isAfter(i,p)&&(i=p);let g=e,y=e;for(d.isBefore(e,l)&&(g=l,y=null),d.isAfter(e,i)&&(y&&(y=i),g=null);g||y;){if(g&&d.isAfter(g,i)&&(g=null),y&&d.isBefore(y,l)&&(y=null),g){if(!u(g))return g;g=d.addDays(g,1)}if(y){if(!u(y))return y;y=d.addDays(y,-1)}}return null},RH=(e,t)=>e.isValid(t)?t:null,f1=(e,t,s)=>t==null||!e.isValid(t)?s:t,IH=(e,t,s)=>!e.isValid(t)&&t!=null&&!e.isValid(s)&&s!=null?!0:e.isEqual(t,s),ky=(e,t)=>{const i=[e.startOfYear(t)];for(;i.length<12;){const l=i[i.length-1];i.push(e.addMonths(l,1))}return i},RD=(e,t,s)=>s==="date"?e.startOfDay(e.date(void 0,t)):e.date(void 0,t),BH=["year","month","day"],h1=e=>BH.includes(e),Py=(e,{format:t,views:s},i)=>{if(t!=null)return t;const l=e.formats;return Gl(s,["year"])?l.year:Gl(s,["month"])?l.month:Gl(s,["day"])?l.dayOfMonth:Gl(s,["month","year"])?`${l.month} ${l.year}`:Gl(s,["day","month"])?`${l.month} ${l.dayOfMonth}`:i?/en/.test(e.getCurrentLocaleCode())?l.normalDateWithWeekday:l.normalDate:l.keyboardDate},LH=(e,t)=>{const s=e.startOfWeek(t);return[0,1,2,3,4,5,6].map(i=>e.addDays(s,i))},NH=["hours","minutes","seconds"],FH=e=>NH.includes(e),p1=(e,t)=>t.getHours(e)*3600+t.getMinutes(e)*60+t.getSeconds(e),HH=(e,t)=>(s,i)=>e?t.isAfter(s,i):p1(s,t)>p1(i,t),Ks={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},_H=e=>Math.max(...e.map(t=>Ks[t.type]??1)),$l=(e,t,s)=>{if(t===Ks.year)return e.startOfYear(s);if(t===Ks.month)return e.startOfMonth(s);if(t===Ks.day)return e.startOfDay(s);let i=s;return t<Ks.minutes&&(i=e.setMinutes(i,0)),t<Ks.seconds&&(i=e.setSeconds(i,0)),t<Ks.milliseconds&&(i=e.setMilliseconds(i,0)),i},zH=({props:e,adapter:t,granularity:s,timezone:i,getTodayDate:l})=>{let u=l?l():$l(t,s,RD(t,i));e.minDate!=null&&t.isAfterDay(e.minDate,u)&&(u=$l(t,s,e.minDate)),e.maxDate!=null&&t.isBeforeDay(e.maxDate,u)&&(u=$l(t,s,e.maxDate));const d=HH(e.disableIgnoringDatePartForTimeValidation??!1,t);return e.minTime!=null&&d(e.minTime,u)&&(u=$l(t,s,e.disableIgnoringDatePartForTimeValidation?e.minTime:Vd(t,u,e.minTime))),e.maxTime!=null&&d(u,e.maxTime)&&(u=$l(t,s,e.disableIgnoringDatePartForTimeValidation?e.maxTime:Vd(t,u,e.maxTime))),u},ID=(e,t)=>{const s=e.formatTokenMap[t];if(s==null)throw new Error([`MUI X: The token "${t}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof s=="string"?{type:s,contentType:s==="meridiem"?"letter":"digit",maxLength:void 0}:{type:s.sectionType,contentType:s.contentType,maxLength:s.maxLength}},ff=(e,t)=>{const s=[],i=e.date(void 0,"default"),l=e.startOfWeek(i),u=e.endOfWeek(i);let d=l;for(;e.isBefore(d,u);)s.push(d),d=e.addDays(d,1);return s.map(f=>e.formatByString(f,t))},BD=(e,t,s,i)=>{switch(s){case"month":return ky(e,e.date(void 0,t)).map(l=>e.formatByString(l,i));case"weekDay":return ff(e,i);case"meridiem":{const l=e.date(void 0,t);return[e.startOfDay(l),e.endOfDay(l)].map(u=>e.formatByString(u,i))}default:return[]}},m1="s",VH=["0","1","2","3","4","5","6","7","8","9"],WH=e=>{const t=e.date(void 0);return e.formatByString(e.setSeconds(t,0),m1)==="0"?VH:Array.from({length:10}).map((i,l)=>e.formatByString(e.setSeconds(t,l),m1))},ha=(e,t)=>{if(t[0]==="0")return e;const s=[];let i="";for(let l=0;l<e.length;l+=1){i+=e[l];const u=t.indexOf(i);u>-1&&(s.push(u.toString()),i="")}return s.join("")},Ay=(e,t)=>t[0]==="0"?e:e.split("").map(s=>t[Number(s)]).join(""),g1=(e,t)=>{const s=ha(e,t);return s!==" "&&!Number.isNaN(Number(s))},Oy=(e,t)=>Number(e).toString().padStart(t,"0"),LD=(e,t,s,i,l)=>{if(l.type==="day"&&l.contentType==="digit-with-letter"){const d=e.setDate(s.longestMonth,t);return e.formatByString(d,l.format)}let u=t.toString();return l.hasLeadingZerosInInput&&(u=Oy(u,l.maxLength)),Ay(u,i)},Ry=(e,t,s)=>{let i=e.value||e.placeholder;const l=t==="non-input"?e.hasLeadingZerosInFormat:e.hasLeadingZerosInInput;return t==="non-input"&&e.hasLeadingZerosInInput&&!e.hasLeadingZerosInFormat&&(i=Number(ha(i,s)).toString()),["input-rtl","input-ltr"].includes(t)&&e.contentType==="digit"&&!l&&i.length===1&&(i=`${i}`),t==="input-rtl"&&(i=`${i}`),i},y1=(e,t,s,i)=>e.formatByString(e.parse(t,s),i),YH=(e,t)=>e.formatByString(e.date(void 0,"system"),t).length===4,ND=(e,t,s,i)=>{if(t!=="digit")return!1;const l=e.date(void 0,"default");switch(s){case"year":return e.lib==="dayjs"&&i==="YY"?!0:e.formatByString(e.setYear(l,1),i).startsWith("0");case"month":return e.formatByString(e.startOfYear(l),i).length>1;case"day":return e.formatByString(e.startOfMonth(l),i).length>1;case"weekDay":return e.formatByString(e.startOfWeek(l),i).length>1;case"hours":return e.formatByString(e.setHours(l,1),i).length>1;case"minutes":return e.formatByString(e.setMinutes(l,1),i).length>1;case"seconds":return e.formatByString(e.setSeconds(l,1),i).length>1;default:throw new Error("Invalid section type")}},UH=(e,t,s)=>{const i=t.some(p=>p.type==="day"),l=[],u=[];for(let p=0;p<t.length;p+=1){const g=t[p];i&&g.type==="weekDay"||(l.push(g.format),u.push(Ry(g,"non-input",s)))}const d=l.join(" "),f=u.join(" ");return e.parse(f,d)},qH=e=>e.map(t=>`${t.startSeparator}${t.value||t.placeholder}${t.endSeparator}`).join(""),GH=(e,t,s)=>{const l=e.map(u=>{const d=Ry(u,s?"input-rtl":"input-ltr",t);return`${u.startSeparator}${d}${u.endSeparator}`}).join("");return s?`${l}`:l},$H=(e,t,s)=>{const i=e.date(void 0,s),l=e.endOfYear(i),u=e.endOfDay(i),{maxDaysInMonth:d,longestMonth:f}=ky(e,i).reduce((p,g)=>{const y=e.getDaysInMonth(g);return y>p.maxDaysInMonth?{maxDaysInMonth:y,longestMonth:g}:p},{maxDaysInMonth:0,longestMonth:null});return{year:({format:p})=>({minimum:0,maximum:YH(e,p)?9999:99}),month:()=>({minimum:1,maximum:e.getMonth(l)+1}),day:({currentDate:p})=>({minimum:1,maximum:e.isValid(p)?e.getDaysInMonth(p):d,longestMonth:f}),weekDay:({format:p,contentType:g})=>{if(g==="digit"){const y=ff(e,p).map(Number);return{minimum:Math.min(...y),maximum:Math.max(...y)}}return{minimum:1,maximum:7}},hours:({format:p})=>{const g=e.getHours(u);return ha(e.formatByString(e.endOfDay(i),p),t)!==g.toString()?{minimum:1,maximum:Number(ha(e.formatByString(e.startOfDay(i),p),t))}:{minimum:0,maximum:g}},minutes:()=>({minimum:0,maximum:e.getMinutes(u)}),seconds:()=>({minimum:0,maximum:e.getSeconds(u)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}},QH=(e,t,s,i)=>{switch(t.type){case"year":return e.setYear(i,e.getYear(s));case"month":return e.setMonth(i,e.getMonth(s));case"weekDay":{let l=e.formatByString(s,t.format);t.hasLeadingZerosInInput&&(l=Oy(l,t.maxLength));const u=ff(e,t.format),d=u.indexOf(l),p=u.indexOf(t.value)-d;return e.addDays(s,p)}case"day":return e.setDate(i,e.getDate(s));case"meridiem":{const l=e.getHours(s)<12,u=e.getHours(i);return l&&u>=12?e.addHours(i,-12):!l&&u<12?e.addHours(i,12):i}case"hours":return e.setHours(i,e.getHours(s));case"minutes":return e.setMinutes(i,e.getMinutes(s));case"seconds":return e.setSeconds(i,e.getSeconds(s));default:return i}},x1={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},b1=(e,t,s,i,l)=>[...s].sort((u,d)=>x1[u.type]-x1[d.type]).reduce((u,d)=>!l||d.modified?QH(e,d,t,u):u,i),KH=()=>navigator.userAgent.toLowerCase().includes("android"),XH=(e,t)=>{const s={};if(!t)return e.forEach((p,g)=>{const y=g===0?null:g-1,v=g===e.length-1?null:g+1;s[g]={leftIndex:y,rightIndex:v}}),{neighbors:s,startIndex:0,endIndex:e.length-1};const i={},l={};let u=0,d=0,f=e.length-1;for(;f>=0;){d=e.findIndex((p,g)=>g>=u&&p.endSeparator?.includes(" ")&&p.endSeparator!==" / "),d===-1&&(d=e.length-1);for(let p=d;p>=u;p-=1)l[p]=f,i[f]=p,f-=1;u=d+1}return e.forEach((p,g)=>{const y=l[g],v=y===0?null:i[y-1],b=y===e.length-1?null:i[y+1];s[g]={leftIndex:v,rightIndex:b}}),{neighbors:s,startIndex:i[0],endIndex:i[e.length-1]}},eg=(e,t)=>{if(e==null)return null;if(e==="all")return"all";if(typeof e=="string"){const s=t.findIndex(i=>i.type===e);return s===-1?null:s}return e},ZH=["value","referenceDate"],sr={emptyValue:null,getTodayValue:RD,getInitialReferenceValue:e=>{let{value:t,referenceDate:s}=e,i=tt(e,ZH);return i.adapter.isValid(t)?t:s??zH(i)},cleanValue:RH,areValuesEqual:IH,isSameError:(e,t)=>e===t,hasError:e=>e!=null,defaultErrorState:null,getTimezone:(e,t)=>e.isValid(t)?e.getTimezone(t):null,setTimezone:(e,t,s)=>s==null?null:e.setTimezone(s,t)},JH={updateReferenceValue:(e,t,s)=>e.isValid(t)?t:s,getSectionsFromValue:(e,t)=>t(e),getV7HiddenInputValueFromSections:qH,getV6InputValueFromSections:GH,parseValueStr:(e,t,s)=>s(e.trim(),t),getDateFromSection:e=>e,getDateSectionsFromValue:e=>e,updateDateInValue:(e,t,s)=>s,clearDateSections:e=>e.map(t=>Z({},t,{value:""}))};function e_(e){return Sn("MuiPickersToolbar",e)}wn("MuiPickersToolbar",["root","title","content"]);const FD=x.createContext(()=>!0);function t_(){return x.useContext(FD)}const HD=x.createContext(null);function _D(){return x.useContext(HD)}const Iy=x.createContext(null),Ko=()=>{const e=x.useContext(Iy);if(e==null)throw new Error("MUI X: The `usePickerContext` hook can only be called inside the context of a Picker component");return e},zD=x.createContext(null),VD=x.createContext({ownerState:{isPickerDisabled:!1,isPickerReadOnly:!1,isPickerValueEmpty:!1,isPickerOpen:!1,pickerVariant:"desktop",pickerOrientation:"portrait"},rootRefObject:{current:null},labelId:void 0,dismissViews:()=>{},hasUIView:!0,getCurrentViewMode:()=>"UI",triggerElement:null,viewContainerRole:null,defaultActionBarActions:[],onPopperExited:void 0});function WD(e){const{contextValue:t,actionsContextValue:s,privateContextValue:i,fieldPrivateContextValue:l,isValidContextValue:u,localeText:d,children:f}=e;return a.jsx(Iy.Provider,{value:t,children:a.jsx(zD.Provider,{value:s,children:a.jsx(VD.Provider,{value:i,children:a.jsx(HD.Provider,{value:l,children:a.jsx(FD.Provider,{value:u,children:a.jsx(OD,{localeText:d,children:f})})})})})})}const In=()=>x.useContext(VD);function YD(){const{ownerState:e}=In(),t=Br();return x.useMemo(()=>Z({},e,{toolbarDirection:t?"rtl":"ltr"}),[e,t])}const n_=["children","className","classes","toolbarTitle","hidden","titleId","classes","landscapeDirection"],s_=e=>rn({root:["root"],title:["title"],content:["content"]},e_,e),r_=He("div",{name:"MuiPickersToolbar",slot:"Root"})(({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:e.spacing(2,3),variants:[{props:{pickerOrientation:"landscape"},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),i_=He("div",{name:"MuiPickersToolbar",slot:"Content",shouldForwardProp:e=>pa(e)&&e!=="landscapeDirection"})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{pickerOrientation:"landscape"},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{pickerOrientation:"landscape",landscapeDirection:"row"},style:{flexDirection:"row"}}]}),a_=x.forwardRef(function(t,s){const i=Jt({props:t,name:"MuiPickersToolbar"}),{children:l,className:u,classes:d,toolbarTitle:f,hidden:p,titleId:g,landscapeDirection:y}=i,v=tt(i,n_),b=YD(),S=s_(d);return p?null:a.jsxs(r_,Z({ref:s,className:Rn(S.root,u),ownerState:b},v,{children:[a.jsx(I,{color:"text.secondary",variant:"overline",id:g,className:S.title,children:f}),a.jsx(i_,{className:S.content,ownerState:b,landscapeDirection:y,children:l})]}))}),o_=e=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:Z({},e)}}}}),UD={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:e=>e==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",nextStepButtonLabel:"Next",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",timeRangePickerToolbarTitle:"Select time range",clockLabelText:(e,t)=>`Select ${e}. ${t?`Selected time is ${t}`:"No time selected"}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:e=>e?`Choose date, selected date is ${e}`:"Choose date",openTimePickerDialogue:e=>e?`Choose time, selected time is ${e}`:"Choose time",openRangePickerDialogue:e=>e?`Choose range, selected range is ${e}`:"Choose range",fieldClearLabel:"Clear",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>e.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>e.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},l_=UD;o_(UD);const By=()=>{const e=x.useContext(Jm);if(e===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(e.adapter===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const t=x.useMemo(()=>Z({},l_,e.localeText),[e.localeText]);return x.useMemo(()=>Z({},e,{localeText:t}),[e,t])},Ht=()=>By().adapter,Di=()=>By().localeText,tg=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],ng=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],qD=["minDateTime","maxDateTime"],c_=[...tg,...ng,...qD],GD=e=>c_.reduce((t,s)=>(e.hasOwnProperty(s)&&(t[s]=e[s]),t),{}),u_=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","unstableStartFieldRef","unstableEndFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator","autoFocus","focused"],$D=(e,t)=>x.useMemo(()=>{const s=Z({},e),i={},l=u=>{s.hasOwnProperty(u)&&(i[u]=s[u],delete s[u])};return u_.forEach(l),t==="date"?tg.forEach(l):t==="time"?ng.forEach(l):t==="date-time"&&(tg.forEach(l),ng.forEach(l),qD.forEach(l)),{forwardedProps:s,internalProps:i}},[e,t]),d_=({adapter:e,format:t})=>{let s=10,i=t,l=e.expandFormat(t);for(;l!==i;)if(i=l,l=e.expandFormat(i),s-=1,s<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the component.");return l},f_=({adapter:e,expandedFormat:t})=>{const s=[],{start:i,end:l}=e.escapedCharacters,u=new RegExp(`(\\${i}[^\\${l}]*\\${l})+`,"g");let d=null;for(;d=u.exec(t);)s.push({start:d.index,end:u.lastIndex-1});return s},h_=(e,t,s,i)=>{switch(s.type){case"year":return t.fieldYearPlaceholder({digitAmount:e.formatByString(e.date(void 0,"default"),i).length,format:i});case"month":return t.fieldMonthPlaceholder({contentType:s.contentType,format:i});case"day":return t.fieldDayPlaceholder({format:i});case"weekDay":return t.fieldWeekDayPlaceholder({contentType:s.contentType,format:i});case"hours":return t.fieldHoursPlaceholder({format:i});case"minutes":return t.fieldMinutesPlaceholder({format:i});case"seconds":return t.fieldSecondsPlaceholder({format:i});case"meridiem":return t.fieldMeridiemPlaceholder({format:i});default:return i}},p_=({adapter:e,date:t,shouldRespectLeadingZeros:s,localeText:i,localizedDigits:l,now:u,token:d,startSeparator:f})=>{if(d==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const p=ID(e,d),g=ND(e,p.contentType,p.type,d),y=s?g:p.contentType==="digit",v=e.isValid(t);let b=v?e.formatByString(t,d):"",S=null;if(y)if(g)S=b===""?e.formatByString(u,d).length:b.length;else{if(p.maxLength==null)throw new Error(`MUI X: The token ${d} should have a 'maxLength' property on it's adapter`);S=p.maxLength,v&&(b=Ay(Oy(ha(b,l),S),l))}return Z({},p,{format:d,maxLength:S,value:b,placeholder:h_(e,i,p,d),hasLeadingZerosInFormat:g,hasLeadingZerosInInput:y,startSeparator:f,endSeparator:"",modified:!1})},m_=e=>{const{adapter:t,expandedFormat:s,escapedParts:i}=e,l=t.date(void 0),u=[];let d="";const f=Object.keys(t.formatTokenMap).sort((S,T)=>T.length-S.length),p=/^([a-zA-Z]+)/,g=new RegExp(`^(${f.join("|")})*$`),y=new RegExp(`^(${f.join("|")})`),v=S=>i.find(T=>T.start<=S&&T.end>=S);let b=0;for(;b<s.length;){const S=v(b),T=S!=null,D=p.exec(s.slice(b))?.[1];if(!T&&D!=null&&g.test(D)){let j=D;for(;j.length>0;){const C=y.exec(j)[1];j=j.slice(C.length),u.push(p_(Z({},e,{now:l,token:C,startSeparator:d}))),d=""}b+=D.length}else{const j=s[b];T&&S?.start===b||S?.end===b||(u.length===0?d+=j:(u[u.length-1].endSeparator+=j,u[u.length-1].isEndFormatSeparator=!0)),b+=1}}return u.length===0&&d.length>0&&u.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:d,endSeparator:"",modified:!1}),u},g_=({isRtl:e,formatDensity:t,sections:s})=>s.map(i=>{const l=u=>{let d=u;return e&&d!==null&&d.includes(" ")&&(d=`${d}`),t==="spacious"&&["/",".","-"].includes(d)&&(d=` ${d} `),d};return i.startSeparator=l(i.startSeparator),i.endSeparator=l(i.endSeparator),i}),v1=e=>{let t=d_(e);e.isRtl&&e.enableAccessibleFieldDOMStructure&&(t=t.split(" ").reverse().join(" "));const s=f_(Z({},e,{expandedFormat:t})),i=m_(Z({},e,{expandedFormat:t,escapedParts:s}));return g_(Z({},e,{sections:i}))},Ly=()=>x.useContext(Iy),y_=()=>{const e=x.useContext(zD);if(e==null)throw new Error(["MUI X: The `usePickerActionsContext` can only be called in fields that are used as a slot of a Picker component"].join(`
`));return e};function x_(e){return Sn("MuiDatePickerToolbar",e)}wn("MuiDatePickerToolbar",["root","title"]);const b_=["toolbarFormat","toolbarPlaceholder","className","classes"],v_=e=>rn({root:["root"],title:["title"]},x_,e),S_=He(a_,{name:"MuiDatePickerToolbar",slot:"Root"})({}),w_=He(I,{name:"MuiDatePickerToolbar",slot:"Title"})({variants:[{props:{pickerOrientation:"landscape"},style:{margin:"auto 16px auto auto"}}]}),T_=x.forwardRef(function(t,s){const i=Jt({props:t,name:"MuiDatePickerToolbar"}),{toolbarFormat:l,toolbarPlaceholder:u="",className:d,classes:f}=i,p=tt(i,b_),g=Ht(),{value:y,views:v,orientation:b}=Ko(),S=Di(),T=YD(),D=v_(f),j=x.useMemo(()=>{if(!g.isValid(y))return u;const C=Py(g,{format:l,views:v},!0);return g.formatByString(y,C)},[y,l,u,g,v]);return a.jsx(S_,Z({ref:s,toolbarTitle:S.datePickerToolbarTitle,className:Rn(D.root,d)},p,{children:a.jsx(w_,{variant:"h4",align:b==="landscape"?"left":"center",ownerState:T,className:D.title,children:j})}))}),Vc=({props:e,value:t,timezone:s,adapter:i})=>{if(t===null)return null;const{shouldDisableDate:l,shouldDisableMonth:u,shouldDisableYear:d,disablePast:f,disableFuture:p,minDate:g,maxDate:y}=e,v=i.date(void 0,s);switch(!0){case!i.isValid(t):return"invalidDate";case!!(l&&l(t)):return"shouldDisableDate";case!!(u&&u(t)):return"shouldDisableMonth";case!!(d&&d(t)):return"shouldDisableYear";case!!(p&&i.isAfterDay(t,v)):return"disableFuture";case!!(f&&i.isBeforeDay(t,v)):return"disablePast";case!!(g&&i.isBeforeDay(t,g)):return"minDate";case!!(y&&i.isAfterDay(t,y)):return"maxDate";default:return null}};Vc.valueManager=sr;function QD(e){const{props:t,validator:s,value:i,timezone:l,onError:u}=e,d=Ht(),f=x.useRef(s.valueManager.defaultErrorState),p=s({adapter:d,value:i,timezone:l,props:t}),g=s.valueManager.hasError(p);x.useEffect(()=>{u&&!s.valueManager.isSameError(p,f.current)&&u(p,i),f.current=p},[s,u,p,i]);const y=Ae(v=>s({adapter:d,value:v,timezone:l,props:t}));return{validationError:p,hasValidationError:g,getValidationErrorForNewValue:y}}const C_=()=>By().defaultDates,hf=e=>{const t=Ht(),s=x.useRef(void 0);return s.current===void 0&&(s.current=t.date(void 0,e)),s.current};function j_(e={}){const{enableAccessibleFieldDOMStructure:t=!0}=e;return x.useMemo(()=>({valueType:"date",validator:Vc,internal_valueManager:sr,internal_fieldValueManager:JH,internal_enableAccessibleFieldDOMStructure:t,internal_useApplyDefaultValuesToFieldInternalProps:E_,internal_useOpenPickerButtonAriaLabel:D_}),[t])}function D_(e){const t=Ht(),s=Di();return x.useMemo(()=>{const i=t.isValid(e)?t.format(e,"fullDate"):null;return s.openDatePickerDialogue(i)},[e,s,t])}function E_(e){const t=Ht(),s=Wc(e);return x.useMemo(()=>Z({},e,s,{format:e.format??t.formats.keyboardDate}),[e,s,t])}function Wc(e){const t=Ht(),s=C_();return x.useMemo(()=>({disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,minDate:f1(t,e.minDate,s.minDate),maxDate:f1(t,e.maxDate,s.maxDate)}),[e.minDate,e.maxDate,e.disableFuture,e.disablePast,t,s])}function KD(e,t){const s=Jt({props:e,name:t}),i=Wc(s),l=x.useMemo(()=>s.localeText?.toolbarTitle==null?s.localeText:Z({},s.localeText,{datePickerToolbarTitle:s.localeText.toolbarTitle}),[s.localeText]);return Z({},s,i,{localeText:l},OH({views:s.views,openTo:s.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{slots:Z({toolbar:T_},s.slots)})}function M_(e){return Sn("MuiPickerPopper",e)}wn("MuiPickerPopper",["root","paper"]);function k_(e,t){return Array.isArray(t)?t.every(s=>e.indexOf(s)!==-1):e.indexOf(t)!==-1}const P_=e=>{setTimeout(e,0)},XD=(e=document)=>{const t=e.activeElement;return t?t.shadowRoot?XD(t.shadowRoot):t:null},Wn=e=>XD(Zl(e)),A_="@media (pointer: fine)",O_=["PaperComponent","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],R_=e=>rn({root:["root"],paper:["paper"]},M_,e),I_=He(Tk,{name:"MuiPickerPopper",slot:"Root"})(({theme:e})=>({zIndex:e.zIndex.modal})),B_=He(Nn,{name:"MuiPickerPopper",slot:"Paper"})({outline:0,transformOrigin:"top center",variants:[{props:({popperPlacement:e})=>new Set(["top","top-start","top-end"]).has(e),style:{transformOrigin:"bottom center"}}]});function L_(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function N_(e,t){const s=x.useRef(!1),i=x.useRef(!1),l=x.useRef(null),u=x.useRef(!1);x.useEffect(()=>{if(!e)return;function p(){u.current=!0}return document.addEventListener("mousedown",p,!0),document.addEventListener("touchstart",p,!0),()=>{document.removeEventListener("mousedown",p,!0),document.removeEventListener("touchstart",p,!0),u.current=!1}},[e]);const d=Ae(p=>{if(!u.current)return;const g=i.current;i.current=!1;const y=Zl(l.current);if(!l.current||"clientX"in p&&L_(p,y))return;if(s.current){s.current=!1;return}let v;p.composedPath?v=p.composedPath().indexOf(l.current)>-1:v=!y.documentElement.contains(p.target)||l.current.contains(p.target),!v&&!g&&t(p)}),f=p=>{p.defaultMuiPrevented||(i.current=!0)};return x.useEffect(()=>{if(e){const p=Zl(l.current),g=()=>{s.current=!0};return p.addEventListener("touchstart",d),p.addEventListener("touchmove",g),()=>{p.removeEventListener("touchstart",d),p.removeEventListener("touchmove",g)}}},[e,d]),x.useEffect(()=>{if(e){const p=Zl(l.current);return p.addEventListener("click",d),()=>{p.removeEventListener("click",d),i.current=!1}}},[e,d]),[l,f,f]}const F_=x.forwardRef((e,t)=>{const{PaperComponent:s,ownerState:i,children:l,paperSlotProps:u,paperClasses:d,onPaperClick:f,onPaperTouchStart:p}=e,g=tt(e,O_),y=Et({elementType:s,externalSlotProps:u,additionalProps:{tabIndex:-1,elevation:8,ref:t},className:d,ownerState:i});return a.jsx(s,Z({},g,y,{onClick:v=>{f(v),y.onClick?.(v)},onTouchStart:v=>{p(v),y.onTouchStart?.(v)},ownerState:i,children:l}))});function H_(e){const t=Jt({props:e,name:"MuiPickerPopper"}),{children:s,placement:i="bottom-start",slots:l,slotProps:u,classes:d}=t,{open:f,popupRef:p,reduceAnimations:g}=Ko(),{ownerState:y,rootRefObject:v}=In(),{dismissViews:b,getCurrentViewMode:S,onPopperExited:T,triggerElement:D,viewContainerRole:j}=In();x.useEffect(()=>{function O(Q){f&&Q.key==="Escape"&&b()}return document.addEventListener("keydown",O),()=>{document.removeEventListener("keydown",O)}},[b,f]);const C=x.useRef(null);x.useEffect(()=>{j==="tooltip"||S()==="field"||(f?C.current=Wn(v.current):C.current&&C.current instanceof HTMLElement&&setTimeout(()=>{C.current instanceof HTMLElement&&C.current.focus()}))},[f,j,S,v]);const E=R_(d),k=Ae(()=>{j==="tooltip"?P_(()=>{v.current?.contains(Wn(v.current))||p.current?.contains(Wn(p.current))||b()}):b()}),[A,N,z]=N_(f,k),P=x.useRef(null),F=ts(P,p),H=ts(F,A),L=O=>{O.key==="Escape"&&(O.stopPropagation(),b())},W=l?.desktopTransition??g?Ud:Sk,M=l?.desktopTrapFocus??wk,U=l?.desktopPaper??B_,V=l?.popper??I_,_=Et({elementType:V,externalSlotProps:u?.popper,additionalProps:{transition:!0,role:j??void 0,open:f,placement:i,anchorEl:D,onKeyDown:L},className:E.root,ownerState:y}),B=x.useMemo(()=>Z({},y,{popperPlacement:_.placement}),[y,_.placement]);return a.jsx(V,Z({},_,{children:({TransitionProps:O})=>a.jsx(M,Z({open:f,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:j==="tooltip",isEnabled:()=>!0},u?.desktopTrapFocus,{children:a.jsx(W,Z({},O,u?.desktopTransition,{onExited:Q=>{T?.(),u?.desktopTransition?.onExited?.(Q),O?.onExited?.()},children:a.jsx(F_,{PaperComponent:U,ownerState:B,ref:H,onPaperClick:N,onPaperTouchStart:z,paperClasses:E.paper,paperSlotProps:u?.desktopPaper,children:s})}))}))}))}const __="@media (prefers-reduced-motion: reduce)",Eo=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),S1=Eo&&Eo[1]?parseInt(Eo[1],10):null,w1=Eo&&Eo[2]?parseInt(Eo[2],10):null,z_=S1&&S1<10||w1&&w1<13||!1;function ZD(e){const t=W1(__,{defaultMatches:!1});return e??(t||z_)}const JD={hasNextStep:!1,hasSeveralSteps:!1,goToNextStep:()=>{},areViewsInSameStep:()=>!0};function V_(e){const{steps:t,isViewMatchingStep:s,onStepChange:i}=e;return l=>{if(t==null)return JD;const u=t.findIndex(f=>s(l.view,f)),d=u===-1||u===t.length-1?null:t[u+1];return{hasNextStep:d!=null,hasSeveralSteps:t.length>1,goToNextStep:()=>{d!=null&&i(Z({},l,{step:d}))},areViewsInSameStep:(f,p)=>{const g=t.find(v=>s(f,v)),y=t.find(v=>s(p,v));return g===y}}}}function eE({onChange:e,onViewChange:t,openTo:s,view:i,views:l,autoFocus:u,focusedView:d,onFocusedViewChange:f,getStepNavigation:p}){const g=x.useRef(s),y=x.useRef(l),v=x.useRef(l.includes(s)?s:l[0]),[b,S]=Oo({name:"useViews",state:"view",controlled:i,default:v.current}),T=x.useRef(u?b:null),[D,j]=Oo({name:"useViews",state:"focusedView",controlled:d,default:T.current}),C=p?p({setView:S,view:b,defaultView:v.current,views:l}):JD;x.useEffect(()=>{(g.current&&g.current!==s||y.current&&y.current.some(H=>!l.includes(H)))&&(S(l.includes(s)?s:l[0]),y.current=l,g.current=s)},[s,S,b,l]);const E=l.indexOf(b),k=l[E-1]??null,A=l[E+1]??null,N=Ae((H,L)=>{j(L?H:W=>H===W?null:W),f?.(H,L)}),z=Ae(H=>{N(H,!0),H!==b&&(S(H),t&&t(H))}),P=Ae(()=>{A&&z(A)}),F=Ae((H,L,W)=>{const M=L==="finish",U=W?l.indexOf(W)<l.length-1:!!A;e(H,M&&U?"partial":L,W);let _=null;if(W!=null&&W!==b?_=W:M&&(_=b),_==null)return;const B=l[l.indexOf(_)+1];B==null||!C.areViewsInSameStep(_,B)||z(B)});return Z({},C,{view:b,setView:z,focusedView:D,setFocusedView:N,nextView:A,previousView:k,defaultView:l.includes(s)?s:l[0],goToNextView:P,setValueAndGoToNextView:F})}function T1(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}function W_(e,t){const[s,i]=x.useState(T1);return kr(()=>{const l=()=>{i(T1())};return window.addEventListener("orientationchange",l),()=>{window.removeEventListener("orientationchange",l)}},[]),k_(e,["hours","minutes","seconds"])?"portrait":t??s}const Yc=({name:e,timezone:t,value:s,defaultValue:i,referenceDate:l,onChange:u,valueManager:d})=>{const f=Ht(),[p,g]=Oo({name:e,state:"value",controlled:s,default:i??d.emptyValue}),y=x.useMemo(()=>d.getTimezone(f,p),[f,d,p]),v=Ae(D=>y==null?D:d.setTimezone(f,y,D)),b=x.useMemo(()=>t||y||(l?f.getTimezone(Array.isArray(l)?l[0]:l):"default"),[t,y,l,f]),S=x.useMemo(()=>d.setTimezone(f,b,p),[d,f,b,p]),T=Ae((D,...j)=>{const C=v(D);g(C),u?.(C,...j)});return{value:S,handleValueChange:T,timezone:b}};function Y_(e){const{props:t,valueManager:s,validator:i}=e,{value:l,defaultValue:u,onChange:d,referenceDate:f,timezone:p,onAccept:g,closeOnSelect:y,open:v,onOpen:b,onClose:S}=t,{current:T}=x.useRef(u),{current:D}=x.useRef(l!==void 0),{current:j}=x.useRef(v!==void 0),C=Ht(),{timezone:E,value:k,handleValueChange:A}=Yc({name:"a picker component",timezone:p,value:l,defaultValue:T,referenceDate:f,onChange:d,valueManager:s}),[N,z]=x.useState(()=>({open:!1,lastExternalValue:k,clockShallowValue:void 0,lastCommittedValue:k,hasBeenModifiedSinceMount:!1})),{getValidationErrorForNewValue:P}=QD({props:t,validator:i,timezone:E,value:k,onError:t.onError}),F=Ae(M=>{const U=typeof M=="function"?M(N.open):M;j||z(V=>Z({},V,{open:U})),U&&b&&b(),U||S?.()}),H=Ae((M,U)=>{const{changeImportance:V="accept",skipPublicationIfPristine:_=!1,validationError:B,shortcut:O,shouldClose:Q=V==="accept"}=U??{};let ee,ye;!_&&!D&&!N.hasBeenModifiedSinceMount?(ee=!0,ye=V==="accept"):(ee=!s.areValuesEqual(C,M,k),ye=V==="accept"&&!s.areValuesEqual(C,M,N.lastCommittedValue)),z(we=>Z({},we,{clockShallowValue:ee?void 0:we.clockShallowValue,lastCommittedValue:ye?M:we.lastCommittedValue,hasBeenModifiedSinceMount:!0}));let ue=null;const de=()=>(ue||(ue={validationError:B??P(M)},O&&(ue.shortcut=O)),ue);ee&&A(M,de()),ye&&g&&g(M,de()),Q&&F(!1)});k!==N.lastExternalValue&&z(M=>Z({},M,{lastExternalValue:k,clockShallowValue:void 0,hasBeenModifiedSinceMount:!0}));const L=Ae((M,U="partial")=>{if(U==="shallow"){z(V=>Z({},V,{clockShallowValue:M,hasBeenModifiedSinceMount:!0}));return}H(M,{changeImportance:U==="finish"&&y?"accept":"set"})});x.useEffect(()=>{if(j){if(v===void 0)throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");z(M=>Z({},M,{open:v}))}},[j,v]);const W=x.useMemo(()=>s.cleanValue(C,N.clockShallowValue===void 0?k:N.clockShallowValue),[C,s,N.clockShallowValue,k]);return{timezone:E,state:N,setValue:H,setValueFromView:L,setOpen:F,value:k,viewValue:W}}const U_=["className","sx"],tE=({ref:e,props:t,valueManager:s,valueType:i,variant:l,validator:u,onPopperExited:d,autoFocusView:f,rendererInterceptor:p,localeText:g,viewContainerRole:y,getStepNavigation:v})=>{const{views:b,view:S,openTo:T,onViewChange:D,viewRenderers:j,reduceAnimations:C,orientation:E,disableOpenPicker:k,closeOnSelect:A,disabled:N,readOnly:z,formatDensity:P,enableAccessibleFieldDOMStructure:F,selectedSections:H,onSelectedSectionsChange:L,format:W,label:M,autoFocus:U,name:V}=t,{className:_,sx:B}=t,O=tt(t,U_),Q=cg(),ee=Ht(),ye=ZD(C),ue=W_(b,E),{current:de}=x.useRef(T??null),[we,De]=x.useState(null),Me=x.useRef(null),We=x.useRef(null),Ue=x.useRef(null),st=ts(e,Ue),{timezone:_e,state:ke,setOpen:Te,setValue:je,setValueFromView:Ne,value:le,viewValue:Ce}=Y_({props:t,valueManager:s,validator:u}),{view:te,setView:ve,defaultView:ne,focusedView:oe,setFocusedView:$,setValueAndGoToNextView:ge,goToNextStep:K,hasNextStep:fe,hasSeveralSteps:me}=eE({view:S,views:b,openTo:T,onChange:Ne,onViewChange:D,autoFocus:f,getStepNavigation:v}),Se=Ae(()=>je(s.emptyValue)),Oe=Ae(()=>je(s.getTodayValue(ee,_e,i))),Qe=Ae(()=>je(le)),ot=Ae(()=>je(ke.lastCommittedValue,{skipPublicationIfPristine:!0})),Be=Ae(()=>{je(le,{skipPublicationIfPristine:!0})}),{hasUIView:qe,viewModeLookup:Xe,timeViewsCount:yt}=x.useMemo(()=>b.reduce((dn,xs)=>{const Nr=j[xs]==null?"field":"UI";return dn.viewModeLookup[xs]=Nr,Nr==="UI"&&(dn.hasUIView=!0,FH(xs)&&(dn.timeViewsCount+=1)),dn},{hasUIView:!1,viewModeLookup:{},timeViewsCount:0}),[j,b]),rt=Xe[te],it=Ae(()=>rt),[dt,qt]=x.useState(rt==="UI"?te:null);dt!==te&&Xe[te]==="UI"&&qt(te),kr(()=>{rt==="field"&&ke.open&&(Te(!1),setTimeout(()=>{We?.current?.setSelectedSections(te),We?.current?.focusField(te)}))},[te]),kr(()=>{if(!ke.open)return;let dn=te;rt==="field"&&dt!=null&&(dn=dt),dn!==ne&&Xe[dn]==="UI"&&Xe[ne]==="UI"&&(dn=ne),dn!==te&&ve(dn),$(dn,!0)},[ke.open]);const ft=x.useMemo(()=>({isPickerValueEmpty:s.areValuesEqual(ee,le,s.emptyValue),isPickerOpen:ke.open,isPickerDisabled:t.disabled??!1,isPickerReadOnly:t.readOnly??!1,pickerOrientation:ue,pickerVariant:l}),[ee,s,le,ke.open,ue,l,t.disabled,t.readOnly]),xn=x.useMemo(()=>k||!qe?"hidden":N||z?"disabled":"enabled",[k,qe,N,z]),jn=Ae(K),Ln=x.useMemo(()=>A&&!me?[]:["cancel","nextOrAccept"],[A,me]),Us=x.useMemo(()=>({setValue:je,setOpen:Te,clearValue:Se,setValueToToday:Oe,acceptValueChanges:Qe,cancelValueChanges:ot,setView:ve,goToNextStep:jn}),[je,Te,Se,Oe,Qe,ot,ve,jn]),Hn=x.useMemo(()=>Z({},Us,{value:le,timezone:_e,open:ke.open,views:b,view:dt,initialView:de,disabled:N??!1,readOnly:z??!1,autoFocus:U??!1,variant:l,orientation:ue,popupRef:Me,reduceAnimations:ye,triggerRef:De,triggerStatus:xn,hasNextStep:fe,fieldFormat:W??"",name:V,label:M,rootSx:B,rootRef:st,rootClassName:_}),[Us,le,st,l,ue,ye,N,z,W,_,V,M,B,xn,fe,_e,ke.open,dt,b,de,U]),ar=x.useMemo(()=>({dismissViews:Be,ownerState:ft,hasUIView:qe,getCurrentViewMode:it,rootRefObject:Ue,labelId:Q,triggerElement:we,viewContainerRole:y,defaultActionBarActions:Ln,onPopperExited:d}),[Be,ft,qe,it,Q,we,y,Ln,d]),wa=x.useMemo(()=>({formatDensity:P,enableAccessibleFieldDOMStructure:F,selectedSections:H,onSelectedSectionsChange:L,fieldRef:We}),[P,F,H,L,We]);return{providerProps:{localeText:g,contextValue:Hn,privateContextValue:ar,actionsContextValue:Us,fieldPrivateContextValue:wa,isValidContextValue:dn=>{const xs=u({adapter:ee,value:dn,timezone:_e,props:t});return!s.hasError(xs)}},renderCurrentView:()=>{if(dt==null)return null;const dn=j[dt];if(dn==null)return null;const xs=Z({},O,{views:b,timezone:_e,value:Ce,onChange:ge,view:dt,onViewChange:ve,showViewSwitcher:yt>1,timeViewsCount:yt},y==="tooltip"?{focusedView:null,onFocusedViewChange:()=>{}}:{focusedView:oe,onFocusedViewChange:$});return p?a.jsx(p,{viewRenderers:j,popperView:dt,rendererProps:xs}):dn(xs)},ownerState:ft}};function nE(e){return Sn("MuiPickersLayout",e)}const qi=wn("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),q_=["actions"],G_=He(rs,{name:"MuiPickersLayout",slot:"ActionBar"})({});function $_(e){const{actions:t}=e,s=tt(e,q_),i=Di(),{clearValue:l,setValueToToday:u,acceptValueChanges:d,cancelValueChanges:f,goToNextStep:p,hasNextStep:g}=Ko();if(t==null||t.length===0)return null;const y=t?.map(v=>{switch(v){case"clear":return a.jsx(xe,{onClick:l,children:i.clearButtonLabel},v);case"cancel":return a.jsx(xe,{onClick:f,children:i.cancelButtonLabel},v);case"accept":return a.jsx(xe,{onClick:d,children:i.okButtonLabel},v);case"today":return a.jsx(xe,{onClick:u,children:i.todayButtonLabel},v);case"next":return a.jsx(xe,{onClick:p,children:i.nextStepButtonLabel},v);case"nextOrAccept":return g?a.jsx(xe,{onClick:p,children:i.nextStepButtonLabel},v):a.jsx(xe,{onClick:d,children:i.okButtonLabel},v);default:return null}});return a.jsx(G_,Z({},s,{children:y}))}const Q_=x.memo($_),Ec=36,pf=2,mf=320,K_=280,Ny=336,X_=["items","changeImportance"],Z_=["getValue"],J_=He(Er,{name:"MuiPickersLayout",slot:"Shortcuts"})({});function ez(e){const{items:t,changeImportance:s="accept"}=e,i=tt(e,X_),{setValue:l}=y_(),u=t_();if(t==null||t.length===0)return null;const d=t.map(f=>{let{getValue:p}=f,g=tt(f,Z_);const y=p({isValid:u});return Z({},g,{label:g.label,onClick:()=>{l(y,{changeImportance:s,shortcut:g})},disabled:!u(y)})});return a.jsx(J_,Z({dense:!0,sx:[{maxHeight:Ny,maxWidth:200,overflow:"auto"},...Array.isArray(i.sx)?i.sx:[i.sx]]},i,{children:d.map(f=>a.jsx(Ws,{children:a.jsx(Je,Z({},f))},f.id??f.label))}))}const tz=["ownerState"];function nz(e){return e.view!==null}const sz=(e,t)=>{const{pickerOrientation:s}=t;return rn({root:["root",s==="landscape"&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},nE,e)},rz=e=>{const{ownerState:t,defaultActionBarActions:s}=In(),{view:i}=Ko(),l=Br(),{children:u,slots:d,slotProps:f,classes:p}=e,g=x.useMemo(()=>Z({},t,{layoutDirection:l?"rtl":"ltr",hasShortcuts:!1}),[t,l]),y=sz(p,g),v=d?.actionBar??Q_,b=Et({elementType:v,externalSlotProps:f?.actionBar,additionalProps:{actions:s},className:y.actionBar,ownerState:g}),S=tt(b,tz),T=a.jsx(v,Z({},S)),D=d?.toolbar,j=Et({elementType:D,externalSlotProps:f?.toolbar,className:y.toolbar,ownerState:g}),C=nz(j)&&D?a.jsx(D,Z({},j)):null,E=u,k=d?.tabs,A=i&&k?a.jsx(k,Z({className:y.tabs},f?.tabs)):null,N=d?.shortcuts??ez,z=Et({elementType:N,externalSlotProps:f?.shortcuts,className:y.shortcuts,ownerState:g}),P=Array.isArray(z?.items)&&z.items.length>0,F=i&&N?a.jsx(N,Z({},z)):null;return{toolbar:C,content:E,tabs:A,actionBar:T,shortcuts:F,ownerState:Z({},g,{hasShortcuts:P})}},iz=(e,t)=>{const{pickerOrientation:s}=t;return rn({root:["root",s==="landscape"&&"landscape"],contentWrapper:["contentWrapper"]},nE,e)},az=He("div",{name:"MuiPickersLayout",slot:"Root"})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${qi.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{pickerOrientation:"landscape",hasShortcuts:!1},style:{[`& .${qi.toolbar}`]:{gridColumn:1,gridRow:"1 / 3"}}},{props:{pickerOrientation:"landscape",hasShortcuts:!0},style:{[`& .${qi.toolbar}`]:{gridColumn:"2 / 4",gridRow:1,maxWidth:"max-content"},[`& .${qi.shortcuts}`]:{gridColumn:1,gridRow:2}}},{props:{pickerOrientation:"portrait"},style:{[`& .${qi.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${qi.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{hasShortcuts:!0,layoutDirection:"rtl"},style:{[`& .${qi.shortcuts}`]:{gridColumn:4}}}]}),oz=He("div",{name:"MuiPickersLayout",slot:"ContentWrapper"})({gridColumn:"2 / 4",gridRow:2,display:"flex",flexDirection:"column"}),sE=x.forwardRef(function(t,s){const i=Jt({props:t,name:"MuiPickersLayout"}),{toolbar:l,content:u,tabs:d,actionBar:f,shortcuts:p,ownerState:g}=rz(i),{orientation:y,variant:v}=Ko(),{sx:b,className:S,classes:T}=i,D=iz(T,g);return a.jsxs(az,{ref:s,sx:b,className:Rn(D.root,S),ownerState:g,children:[y==="landscape"?p:l,y==="landscape"?l:p,a.jsx(oz,{className:D.contentWrapper,ownerState:g,children:v==="desktop"?a.jsxs(x.Fragment,{children:[u,d]}):a.jsxs(x.Fragment,{children:[d,u]})}),f]})});function rE(e){const{steps:t}=e;return V_({steps:t,isViewMatchingStep:(s,i)=>i.views==null||i.views.includes(s),onStepChange:({step:s,defaultView:i,setView:l,view:u,views:d})=>{const f=s.views==null?i:s.views.find(p=>d.includes(p));f!==u&&l(f)}})}const lz=["props","steps"],cz=["ownerState"],uz=e=>{let{props:t,steps:s}=e,i=tt(e,lz);const{slots:l,slotProps:u,label:d,inputRef:f,localeText:p}=t,g=rE({steps:s}),{providerProps:y,renderCurrentView:v,ownerState:b}=tE(Z({},i,{props:t,localeText:p,autoFocusView:!0,viewContainerRole:"dialog",variant:"desktop",getStepNavigation:g})),S=y.privateContextValue.labelId,T=u?.toolbar?.hidden??!1,D=l.field,j=Et({elementType:D,externalSlotProps:u?.field,additionalProps:Z({},T&&{id:S}),ownerState:b}),C=tt(j,cz),E=l.layout??sE;let k=S;T&&(d?k=`${S}-label`:k=void 0);const A=Z({},u,{toolbar:Z({},u?.toolbar,{titleId:S}),popper:Z({"aria-labelledby":k},u?.popper)});return{renderPicker:()=>a.jsxs(WD,Z({},y,{children:[a.jsx(D,Z({},C,{slots:l,slotProps:A,inputRef:f})),a.jsx(H_,{slots:l,slotProps:A,children:a.jsx(E,Z({},A?.layout,{slots:l,slotProps:A,children:v()}))})]}))}},uo=e=>e.saveQuery!=null,iE=({stateResponse:{localizedDigits:e,sectionsValueBoundaries:t,state:s,timezone:i,setCharacterQuery:l,setTempAndroidValueStr:u,updateSectionValue:d}})=>{const f=Ht(),p=({keyPressed:v,sectionIndex:b},S,T)=>{const D=v.toLowerCase(),j=s.sections[b];if(s.characterQuery!=null&&(!T||T(s.characterQuery.value))&&s.characterQuery.sectionIndex===b){const E=`${s.characterQuery.value}${D}`,k=S(E,j);if(!uo(k))return l({sectionIndex:b,value:E,sectionType:j.type}),k}const C=S(D,j);return uo(C)&&!C.saveQuery?(l(null),null):(l({sectionIndex:b,value:D,sectionType:j.type}),uo(C)?null:C)},g=v=>{const b=(D,j,C)=>{const E=j.filter(k=>k.toLowerCase().startsWith(C));return E.length===0?{saveQuery:!1}:{sectionValue:E[0],shouldGoToNextSection:E.length===1}},S=(D,j,C,E)=>{const k=A=>BD(f,i,j.type,A);if(j.contentType==="letter")return b(j.format,k(j.format),D);if(C&&E!=null&&ID(f,C).contentType==="letter"){const A=k(C),N=b(C,A,D);return uo(N)?{saveQuery:!1}:Z({},N,{sectionValue:E(N.sectionValue,A)})}return{saveQuery:!1}};return p(v,(D,j)=>{switch(j.type){case"month":{const C=E=>y1(f,E,f.formats.month,j.format);return S(D,j,f.formats.month,C)}case"weekDay":{const C=(E,k)=>k.indexOf(E).toString();return S(D,j,f.formats.weekday,C)}case"meridiem":return S(D,j);default:return{saveQuery:!1}}})},y=v=>{const b=({queryValue:T,skipIfBelowMinimum:D,section:j})=>{const C=ha(T,e),E=Number(C),k=t[j.type]({currentDate:null,format:j.format,contentType:j.contentType});if(E>k.maximum)return{saveQuery:!1};if(D&&E<k.minimum)return{saveQuery:!0};const A=E*10>k.maximum||C.length===k.maximum.toString().length;return{sectionValue:LD(f,E,k,e,j),shouldGoToNextSection:A}};return p(v,(T,D)=>{if(D.contentType==="digit"||D.contentType==="digit-with-letter")return b({queryValue:T,skipIfBelowMinimum:!1,section:D});if(D.type==="month"){ND(f,"digit","month","MM");const j=b({queryValue:T,skipIfBelowMinimum:!0,section:{type:D.type,format:"MM",hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2}});if(uo(j))return j;const C=y1(f,j.sectionValue,"MM",D.format);return Z({},j,{sectionValue:C})}if(D.type==="weekDay"){const j=b({queryValue:T,skipIfBelowMinimum:!0,section:D});if(uo(j))return j;const C=ff(f,D.format)[Number(j.sectionValue)-1];return Z({},j,{sectionValue:C})}return{saveQuery:!1}},T=>g1(T,e))};return Ae(v=>{const b=s.sections[v.sectionIndex],T=g1(v.keyPressed,e)?y(Z({},v,{keyPressed:Ay(v.keyPressed,e)})):g(v);if(T==null){u(null);return}d({section:b,newSectionValue:T.sectionValue,shouldGoToNextSection:T.shouldGoToNextSection})})},dz=5e3,aE=e=>{const t=Ht(),s=Di(),i=Br(),{manager:{validator:l,valueType:u,internal_valueManager:d,internal_fieldValueManager:f},internalPropsWithDefaults:p,internalPropsWithDefaults:{value:g,defaultValue:y,referenceDate:v,onChange:b,format:S,formatDensity:T="dense",selectedSections:D,onSelectedSectionsChange:j,shouldRespectLeadingZeros:C=!1,timezone:E,enableAccessibleFieldDOMStructure:k=!0},forwardedProps:{error:A}}=e,{value:N,handleValueChange:z,timezone:P}=Yc({name:"a field component",timezone:E,value:g,defaultValue:y,referenceDate:v,onChange:b,valueManager:d}),F=x.useRef(N);x.useEffect(()=>{F.current=N},[N]);const{hasValidationError:H}=QD({props:p,validator:l,timezone:P,value:N,onError:p.onError}),L=x.useMemo(()=>A!==void 0?A:H,[H,A]),W=x.useMemo(()=>WH(t),[t]),M=x.useMemo(()=>$H(t,W,P),[t,W,P]),U=x.useCallback(te=>f.getSectionsFromValue(te,ve=>v1({adapter:t,localeText:s,localizedDigits:W,format:S,date:ve,formatDensity:T,shouldRespectLeadingZeros:C,enableAccessibleFieldDOMStructure:k,isRtl:i})),[f,S,s,W,i,C,t,T,k]),[V,_]=x.useState(()=>{const te=U(N),ve={sections:te,lastExternalValue:N,lastSectionsDependencies:{format:S,isRtl:i,locale:t.locale},tempValueStrAndroid:null,characterQuery:null},ne=_H(te),oe=d.getInitialReferenceValue({referenceDate:v,value:N,adapter:t,props:p,granularity:ne,timezone:P});return Z({},ve,{referenceValue:oe})}),[B,O]=Oo({controlled:D,default:null,name:"useField",state:"selectedSections"}),Q=te=>{O(te),j?.(te)},ee=x.useMemo(()=>eg(B,V.sections),[B,V.sections]),ye=ee==="all"?0:ee,ue=x.useMemo(()=>XH(V.sections,i&&!k),[V.sections,i,k]),de=x.useMemo(()=>V.sections.every(te=>te.value===""),[V.sections]),we=te=>{const ve={validationError:l({adapter:t,value:te,timezone:P,props:p})};z(te,ve)},De=(te,ve)=>{const ne=[...V.sections];return ne[te]=Z({},ne[te],{value:ve,modified:!0}),ne},Me=x.useRef(null),We=Co(),Ue=te=>{ye!=null&&(Me.current={sectionIndex:ye,value:te},We.start(0,()=>{Me.current=null}))},st=()=>{d.areValuesEqual(t,N,d.emptyValue)?_(te=>Z({},te,{sections:te.sections.map(ve=>Z({},ve,{value:""})),tempValueStrAndroid:null,characterQuery:null})):(_(te=>Z({},te,{characterQuery:null})),we(d.emptyValue))},_e=()=>{if(ye==null)return;const te=V.sections[ye];te.value!==""&&(Ue(""),f.getDateFromSection(N,te)===null?_(ve=>Z({},ve,{sections:De(ye,""),tempValueStrAndroid:null,characterQuery:null})):(_(ve=>Z({},ve,{characterQuery:null})),we(f.updateDateInValue(N,te,null))))},ke=te=>{const ve=(oe,$)=>{const ge=t.parse(oe,S);if(!t.isValid(ge))return null;const K=v1({adapter:t,localeText:s,localizedDigits:W,format:S,date:ge,formatDensity:T,shouldRespectLeadingZeros:C,enableAccessibleFieldDOMStructure:k,isRtl:i});return b1(t,ge,K,$,!1)},ne=f.parseValueStr(te,V.referenceValue,ve);we(ne)},Te=Co(),je=({section:te,newSectionValue:ve,shouldGoToNextSection:ne})=>{We.clear(),Te.clear();const oe=f.getDateFromSection(N,te);ne&&ye<V.sections.length-1&&Q(ye+1);const $=De(ye,ve),ge=f.getDateSectionsFromValue($,te),K=UH(t,ge,W);if(t.isValid(K)){const fe=b1(t,K,ge,f.getDateFromSection(V.referenceValue,te),!0);return oe==null&&Te.start(0,()=>{F.current===N&&_(me=>Z({},me,{sections:f.clearDateSections(V.sections,te),tempValueStrAndroid:null}))}),we(f.updateDateInValue(N,te,fe))}return ge.every(fe=>fe.value!=="")&&(oe==null||t.isValid(oe))?(Ue(ve),we(f.updateDateInValue(N,te,K))):oe!=null?(Ue(ve),we(f.updateDateInValue(N,te,null))):_(fe=>Z({},fe,{sections:$,tempValueStrAndroid:null}))},Ne=te=>_(ve=>Z({},ve,{tempValueStrAndroid:te})),le=Ae(te=>{_(ve=>Z({},ve,{characterQuery:te}))});if(N!==V.lastExternalValue){const te=Me.current!=null&&!t.isValid(f.getDateFromSection(N,V.sections[Me.current.sectionIndex]));let ve;te?ve=De(Me.current.sectionIndex,Me.current.value):ve=U(N),_(ne=>Z({},ne,{lastExternalValue:N,sections:ve,sectionsDependencies:{format:S,isRtl:i,locale:t.locale},referenceValue:te?ne.referenceValue:f.updateReferenceValue(t,N,ne.referenceValue),tempValueStrAndroid:null}))}if(i!==V.lastSectionsDependencies.isRtl||S!==V.lastSectionsDependencies.format||t.locale!==V.lastSectionsDependencies.locale){const te=U(N);_(ve=>Z({},ve,{lastSectionsDependencies:{format:S,isRtl:i,locale:t.locale},sections:te,tempValueStrAndroid:null,characterQuery:null}))}V.characterQuery!=null&&!L&&ye==null&&le(null),V.characterQuery!=null&&V.sections[V.characterQuery.sectionIndex]?.type!==V.characterQuery.sectionType&&le(null),x.useEffect(()=>{Me.current!=null&&(Me.current=null)});const Ce=Co();return x.useEffect(()=>(V.characterQuery!=null&&Ce.start(dz,()=>le(null)),()=>{}),[V.characterQuery,le,Ce]),x.useEffect(()=>{V.tempValueStrAndroid!=null&&ye!=null&&_e()},[V.sections]),{activeSectionIndex:ye,areAllSectionsEmpty:de,error:L,localizedDigits:W,parsedSelectedSections:ee,sectionOrder:ue,sectionsValueBoundaries:M,state:V,timezone:P,value:N,clearValue:st,clearActiveSection:_e,setCharacterQuery:le,setSelectedSections:Q,setTempAndroidValueStr:Ne,updateSectionValue:je,updateValueFromValueStr:ke,getSectionsFromValue:U}};function oE(e){const{manager:{internal_useApplyDefaultValuesToFieldInternalProps:t},internalProps:s,skipContextFieldRefAssignment:i}=e,l=Ly(),u=_D(),d=ts(s.unstableFieldRef,i?null:u?.fieldRef),f=l?.setValue,p=x.useCallback((y,v)=>f?.(y,{validationError:v.validationError,shouldClose:!1}),[f]),g=x.useMemo(()=>u!=null&&l!=null?Z({value:l.value,onChange:p,timezone:l.timezone,disabled:l.disabled,readOnly:l.readOnly,autoFocus:l.autoFocus&&!l.open,focused:l.open?!0:void 0,format:l.fieldFormat,formatDensity:u.formatDensity,enableAccessibleFieldDOMStructure:u.enableAccessibleFieldDOMStructure,selectedSections:u.selectedSections,onSelectedSectionsChange:u.onSelectedSectionsChange,unstableFieldRef:d},s):s,[l,u,s,p,d]);return t(g)}function Fy(e){const{focused:t,domGetters:s,stateResponse:{parsedSelectedSections:i,state:l}}=e;if(!s.isReady())return;const u=Zl(s.getRoot()).getSelection();if(!u)return;if(i==null){u.rangeCount>0&&u.getRangeAt(0).startContainer instanceof Node&&s.getRoot().contains(u.getRangeAt(0).startContainer)&&u.removeAllRanges(),t&&s.getRoot().blur();return}if(!s.getRoot().contains(Wn(s.getRoot())))return;const d=new window.Range;let f;i==="all"?f=s.getRoot():l.sections[i].type==="empty"?f=s.getSectionContainer(i):f=s.getSectionContent(i),d.selectNodeContents(f),f.focus(),u.removeAllRanges(),u.addRange(d)}function lE(e){const t=Ht(),{manager:{internal_fieldValueManager:s},internalPropsWithDefaults:{minutesStep:i,disabled:l,readOnly:u},stateResponse:{state:d,value:f,activeSectionIndex:p,parsedSelectedSections:g,sectionsValueBoundaries:y,localizedDigits:v,timezone:b,sectionOrder:S,clearValue:T,clearActiveSection:D,setSelectedSections:j,updateSectionValue:C}}=e;return Ae(E=>{if(!l)switch(!0){case((E.ctrlKey||E.metaKey)&&String.fromCharCode(E.keyCode)==="A"&&!E.shiftKey&&!E.altKey):{E.preventDefault(),j("all");break}case E.key==="ArrowRight":{if(E.preventDefault(),g==null)j(S.startIndex);else if(g==="all")j(S.endIndex);else{const k=S.neighbors[g].rightIndex;k!==null&&j(k)}break}case E.key==="ArrowLeft":{if(E.preventDefault(),g==null)j(S.endIndex);else if(g==="all")j(S.startIndex);else{const k=S.neighbors[g].leftIndex;k!==null&&j(k)}break}case E.key==="Delete":{if(E.preventDefault(),u)break;g==null||g==="all"?T():D();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(E.key):{if(E.preventDefault(),u||p==null)break;g==="all"&&j(p);const k=d.sections[p],A=hz(t,b,k,E.key,y,v,s.getDateFromSection(f,k),{minutesStep:i});C({section:k,newSectionValue:A,shouldGoToNextSection:!1});break}}})}function fz(e){switch(e){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}}function hz(e,t,s,i,l,u,d,f){const p=fz(i),g=i==="Home",y=i==="End",v=s.value===""||g||y,b=()=>{const T=l[s.type]({currentDate:d,format:s.format,contentType:s.contentType}),D=E=>LD(e,E,T,u,s),j=s.type==="minutes"&&f?.minutesStep?f.minutesStep:1;let C;if(v){if(s.type==="year"&&!y&&!g)return e.formatByString(e.date(void 0,t),s.format);p>0||g?C=T.minimum:C=T.maximum}else C=parseInt(ha(s.value,u),10)+p*j;return C%j!==0&&((p<0||g)&&(C+=j-(j+C)%j),(p>0||y)&&(C-=C%j)),C>T.maximum?D(T.minimum+(C-T.maximum-1)%(T.maximum-T.minimum+1)):C<T.minimum?D(T.maximum-(T.minimum-C-1)%(T.maximum-T.minimum+1)):D(C)},S=()=>{const T=BD(e,t,s.type,s.format);if(T.length===0)return s.value;if(v)return p>0||g?T[0]:T[T.length-1];const C=((T.indexOf(s.value)+p)%T.length+T.length)%T.length;return T[C]};return s.contentType==="digit"||s.contentType==="digit-with-letter"?b():S()}function pz(e){const{manager:t,focused:s,setFocused:i,domGetters:l,stateResponse:u,applyCharacterEditing:d,internalPropsWithDefaults:f,stateResponse:{parsedSelectedSections:p,sectionOrder:g,state:y,clearValue:v,setCharacterQuery:b,setSelectedSections:S,updateValueFromValueStr:T},internalPropsWithDefaults:{disabled:D=!1,readOnly:j=!1}}=e,C=lE({manager:t,internalPropsWithDefaults:f,stateResponse:u}),E=Co(),k=Ae(F=>{D||!l.isReady()||(i(!0),p==="all"?E.start(0,()=>{const H=document.getSelection().getRangeAt(0).startOffset;if(H===0){S(g.startIndex);return}let L=0,W=0;for(;W<H&&L<y.sections.length;){const M=y.sections[L];L+=1,W+=`${M.startSeparator}${M.value||M.placeholder}${M.endSeparator}`.length}S(L-1)}):s?l.getRoot().contains(F.target)||S(g.startIndex):(i(!0),S(g.startIndex)))}),A=Ae(F=>{if(!l.isReady()||p!=="all")return;const L=F.target.textContent??"";l.getRoot().innerHTML=y.sections.map(W=>`${W.startSeparator}${W.value||W.placeholder}${W.endSeparator}`).join(""),Fy({focused:s,domGetters:l,stateResponse:u}),L.length===0||L.charCodeAt(0)===10?(v(),S("all")):L.length>1?T(L):(p==="all"&&S(0),d({keyPressed:L,sectionIndex:0}))}),N=Ae(F=>{if(j||p!=="all"){F.preventDefault();return}const H=F.clipboardData.getData("text");F.preventDefault(),b(null),T(H)}),z=Ae(()=>{if(s||D||!l.isReady())return;const F=Wn(l.getRoot());i(!0),l.getSectionIndexFromDOMElement(F)!=null||S(g.startIndex)}),P=Ae(()=>{setTimeout(()=>{if(!l.isReady())return;const F=Wn(l.getRoot());!l.getRoot().contains(F)&&(i(!1),S(null))})});return{onKeyDown:C,onBlur:P,onFocus:z,onClick:k,onPaste:N,onInput:A,contentEditable:p==="all",tabIndex:f.disabled||p===0?-1:0}}function mz(e){const{manager:{internal_fieldValueManager:t},stateResponse:{areAllSectionsEmpty:s,state:i,updateValueFromValueStr:l}}=e,u=Ae(f=>{l(f.target.value)});return{value:x.useMemo(()=>s?"":t.getV7HiddenInputValueFromSections(i.sections),[s,i.sections,t]),onChange:u}}function gz(e){const{stateResponse:{setSelectedSections:t},internalPropsWithDefaults:{disabled:s=!1}}=e,i=x.useCallback(l=>u=>{s||u.isDefaultPrevented()||t(l)},[s,t]);return x.useCallback(l=>({"data-sectionindex":l,onClick:i(l)}),[i])}function yz(e){const t=Ht(),s=Di(),{focused:i,domGetters:l,stateResponse:u,applyCharacterEditing:d,manager:{internal_fieldValueManager:f},stateResponse:{parsedSelectedSections:p,sectionsValueBoundaries:g,state:y,value:v,clearActiveSection:b,setCharacterQuery:S,setSelectedSections:T,updateSectionValue:D,updateValueFromValueStr:j},internalPropsWithDefaults:{disabled:C=!1,readOnly:E=!1}}=e,k=p==="all",A=!k&&!C&&!E,N=Ae(W=>{if(!l.isReady())return;const M=y.sections[W];l.getSectionContent(W).innerHTML=M.value||M.placeholder,Fy({focused:i,domGetters:l,stateResponse:u})}),z=Ae(W=>{if(!l.isReady())return;const M=W.target,U=M.textContent??"",V=l.getSectionIndexFromDOMElement(M),_=y.sections[V];if(E){N(V);return}if(U.length===0){if(_.value===""){N(V);return}const B=W.nativeEvent.inputType;if(B==="insertParagraph"||B==="insertLineBreak"){N(V);return}N(V),b();return}d({keyPressed:U,sectionIndex:V}),N(V)}),P=Ae(W=>{W.preventDefault()}),F=Ae(W=>{if(W.preventDefault(),E||C||typeof p!="number")return;const M=y.sections[p],U=W.clipboardData.getData("text"),V=/^[a-zA-Z]+$/.test(U),_=/^[0-9]+$/.test(U),B=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(U);M.contentType==="letter"&&V||M.contentType==="digit"&&_||M.contentType==="digit-with-letter"&&B?(S(null),D({section:M,newSectionValue:U,shouldGoToNextSection:!0})):!V&&!_&&(S(null),j(U))}),H=Ae(W=>{W.preventDefault(),W.dataTransfer.dropEffect="none"}),L=x.useCallback(W=>()=>{C||T(W)},[C,T]);return x.useCallback((W,M)=>{const U=g[W.type]({currentDate:f.getDateFromSection(v,W),contentType:W.contentType,format:W.format});return{onInput:z,onPaste:F,onMouseUp:P,onDragOver:H,onFocus:L(M),"aria-readonly":E,"aria-valuenow":bz(W,t),"aria-valuemin":U.minimum,"aria-valuemax":U.maximum,"aria-valuetext":W.value?xz(W,t):s.empty,"aria-label":s[W.type],"aria-disabled":C,tabIndex:!A||k||M>0?-1:0,contentEditable:!k&&!C&&!E,role:"spinbutton","data-range-position":W.dateName||void 0,spellCheck:A?!1:void 0,autoCapitalize:A?"none":void 0,autoCorrect:A?"off":void 0,children:W.value||W.placeholder,inputMode:W.contentType==="letter"?"text":"numeric"}},[g,k,C,E,A,s,t,z,F,P,H,L,f,v])}function xz(e,t){if(e.value)switch(e.type){case"month":{if(e.contentType==="digit"){const i=t.setMonth(t.date(),Number(e.value)-1);return t.isValid(i)?t.format(i,"month"):""}const s=t.parse(e.value,e.format);return s&&t.isValid(s)?t.format(s,"month"):void 0}case"day":if(e.contentType==="digit"){const s=t.setDate(t.startOfYear(t.date()),Number(e.value));return t.isValid(s)?t.format(s,"dayOfMonthFull"):""}return e.value;case"weekDay":return;default:return}}function bz(e,t){if(e.value)switch(e.type){case"weekDay":return e.contentType==="letter"?void 0:Number(e.value);case"meridiem":{const s=t.parse(`01:00 ${e.value}`,`${t.formats.hours12h}:${t.formats.minutes} ${e.format}`);return s?t.getHours(s)>=12?1:0:void 0}case"day":return e.contentType==="digit-with-letter"?parseInt(e.value,10):Number(e.value);case"month":{if(e.contentType==="digit")return Number(e.value);const s=t.parse(e.value,e.format);return s?t.getMonth(s)+1:void 0}default:return e.contentType!=="letter"?Number(e.value):void 0}}const vz=e=>{const{props:t,manager:s,skipContextFieldRefAssignment:i,manager:{valueType:l,internal_useOpenPickerButtonAriaLabel:u}}=e,{internalProps:d,forwardedProps:f}=$D(t,l),p=oE({manager:s,internalProps:d,skipContextFieldRefAssignment:i}),{sectionListRef:g,onBlur:y,onClick:v,onFocus:b,onInput:S,onPaste:T,onKeyDown:D,onClear:j,clearable:C}=f,{disabled:E=!1,readOnly:k=!1,autoFocus:A=!1,focused:N,unstableFieldRef:z}=p,P=x.useRef(null),F=ts(g,P),H=x.useMemo(()=>({isReady:()=>P.current!=null,getRoot:()=>P.current.getRoot(),getSectionContainer:te=>P.current.getSectionContainer(te),getSectionContent:te=>P.current.getSectionContent(te),getSectionIndexFromDOMElement:te=>P.current.getSectionIndexFromDOMElement(te)}),[P]),L=aE({manager:s,internalPropsWithDefaults:p,forwardedProps:f}),{areAllSectionsEmpty:W,error:M,parsedSelectedSections:U,sectionOrder:V,state:_,value:B,clearValue:O,setSelectedSections:Q}=L,ee=iE({stateResponse:L}),ye=u(B),[ue,de]=x.useState(!1);function we(te=0){if(E||!P.current||C1(P)!=null)return;const ve=eg(te,_.sections);de(!0),P.current.getSectionContent(ve).focus()}const De=pz({manager:s,internalPropsWithDefaults:p,stateResponse:L,applyCharacterEditing:ee,focused:ue,setFocused:de,domGetters:H}),Me=mz({manager:s,stateResponse:L}),We=gz({stateResponse:L,internalPropsWithDefaults:p}),Ue=yz({manager:s,stateResponse:L,applyCharacterEditing:ee,internalPropsWithDefaults:p,domGetters:H,focused:ue}),st=Ae(te=>{D?.(te),De.onKeyDown(te)}),_e=Ae(te=>{y?.(te),De.onBlur(te)}),ke=Ae(te=>{b?.(te),De.onFocus(te)}),Te=Ae(te=>{te.isDefaultPrevented()||(v?.(te),De.onClick(te))}),je=Ae(te=>{T?.(te),De.onPaste(te)}),Ne=Ae(te=>{S?.(te),De.onInput(te)}),le=Ae((te,...ve)=>{te.preventDefault(),j?.(te,...ve),O(),j1(P)?Q(V.startIndex):we(0)}),Ce=x.useMemo(()=>_.sections.map((te,ve)=>{const ne=Ue(te,ve);return{container:We(ve),content:Ue(te,ve),before:{children:te.startSeparator},after:{children:te.endSeparator,"data-range-position":te.isEndFormatSeparator?ne["data-range-position"]:void 0}}}),[_.sections,We,Ue]);return x.useEffect(()=>{if(P.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please add the `enableAccessibleFieldDOMStructure={false}` prop to your Picker or Field component:","","<DatePicker enableAccessibleFieldDOMStructure={false} slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));A&&!E&&P.current&&P.current.getSectionContent(V.startIndex).focus()},[]),kr(()=>{if(!(!ue||!P.current)){if(U==="all")P.current.getRoot().focus();else if(typeof U=="number"){const te=P.current.getSectionContent(U);te&&te.focus()}}},[U,ue]),kr(()=>{Fy({focused:ue,domGetters:H,stateResponse:L})}),x.useImperativeHandle(z,()=>({getSections:()=>_.sections,getActiveSectionIndex:()=>C1(P),setSelectedSections:te=>{if(E||!P.current)return;const ve=eg(te,_.sections);de((ve==="all"?0:ve)!==null),Q(te)},focusField:we,isFieldFocused:()=>j1(P)})),Z({},f,De,{onBlur:_e,onClick:Te,onFocus:ke,onInput:Ne,onPaste:je,onKeyDown:st,onClear:le},Me,{error:M,clearable:!!(C&&!W&&!k&&!E),focused:N??ue,sectionListRef:F,enableAccessibleFieldDOMStructure:!0,elements:Ce,areAllSectionsEmpty:W,disabled:E,readOnly:k,autoFocus:A,openPickerAriaLabel:ye})};function C1(e){const t=Wn(e.current?.getRoot());return!t||!e.current||!e.current.getRoot().contains(t)?null:e.current.getSectionIndexFromDOMElement(t)}function j1(e){const t=Wn(e.current?.getRoot());return!!e.current&&e.current.getRoot().contains(t)}const To=e=>e.replace(/[\u2066\u2067\u2068\u2069]/g,""),Sz=(e,t,s)=>{let i=0,l=s?1:0;const u=[];for(let d=0;d<e.length;d+=1){const f=e[d],p=Ry(f,s?"input-rtl":"input-ltr",t),g=`${f.startSeparator}${p}${f.endSeparator}`,y=To(g).length,v=g.length,b=To(p),S=l+(b===""?0:p.indexOf(b[0]))+f.startSeparator.length,T=S+b.length;u.push(Z({},f,{start:i,end:i+y,startInInput:S,endInInput:T})),i+=y,l+=v}return u},wz=e=>{const t=Br(),s=Co(),i=Co(),{props:l,manager:u,skipContextFieldRefAssignment:d,manager:{valueType:f,internal_valueManager:p,internal_fieldValueManager:g,internal_useOpenPickerButtonAriaLabel:y}}=e,{internalProps:v,forwardedProps:b}=$D(l,f),S=oE({manager:u,internalProps:v,skipContextFieldRefAssignment:d}),{onFocus:T,onClick:D,onPaste:j,onBlur:C,onKeyDown:E,onClear:k,clearable:A,inputRef:N,placeholder:z}=b,{readOnly:P=!1,disabled:F=!1,autoFocus:H=!1,focused:L,unstableFieldRef:W}=S,M=x.useRef(null),U=ts(N,M),V=aE({manager:u,internalPropsWithDefaults:S,forwardedProps:b}),{activeSectionIndex:_,areAllSectionsEmpty:B,error:O,localizedDigits:Q,parsedSelectedSections:ee,sectionOrder:ye,state:ue,value:de,clearValue:we,clearActiveSection:De,setCharacterQuery:Me,setSelectedSections:We,setTempAndroidValueStr:Ue,updateSectionValue:st,updateValueFromValueStr:_e,getSectionsFromValue:ke}=V,Te=iE({stateResponse:V}),je=y(de),Ne=x.useMemo(()=>Sz(ue.sections,Q,t),[ue.sections,Q,t]);function le(){const Be=M.current.selectionStart??0;let qe;Be<=Ne[0].startInInput||Be>=Ne[Ne.length-1].endInInput?qe=1:qe=Ne.findIndex(yt=>yt.startInInput-yt.startSeparator.length>Be);const Xe=qe===-1?Ne.length-1:qe-1;We(Xe)}function Ce(Be=0){Wn(M.current)!==M.current&&(M.current?.focus(),We(Be))}const te=Ae(Be=>{T?.(Be);const qe=M.current;s.start(0,()=>{!qe||qe!==M.current||_==null&&(qe.value.length&&Number(qe.selectionEnd)-Number(qe.selectionStart)===qe.value.length?We("all"):le())})}),ve=Ae((Be,...qe)=>{Be.isDefaultPrevented()||(D?.(Be,...qe),le())}),ne=Ae(Be=>{if(j?.(Be),Be.preventDefault(),P||F)return;const qe=Be.clipboardData.getData("text");if(typeof ee=="number"){const Xe=ue.sections[ee],yt=/^[a-zA-Z]+$/.test(qe),rt=/^[0-9]+$/.test(qe),it=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(qe);if(Xe.contentType==="letter"&&yt||Xe.contentType==="digit"&&rt||Xe.contentType==="digit-with-letter"&&it){Me(null),st({section:Xe,newSectionValue:qe,shouldGoToNextSection:!0});return}if(yt||rt)return}Me(null),_e(qe)}),oe=Ae(Be=>{C?.(Be),We(null)}),$=Ae(Be=>{if(P)return;const qe=Be.target.value;if(qe===""){we();return}const Xe=Be.nativeEvent.data,yt=Xe&&Xe.length>1,rt=yt?Xe:qe,it=To(rt);if(ee==="all"&&We(_),_==null||yt){_e(yt?Xe:it);return}let dt;if(ee==="all"&&it.length===1)dt=it;else{const qt=To(g.getV6InputValueFromSections(Ne,Q,t));let ft=-1,xn=-1;for(let Hn=0;Hn<qt.length;Hn+=1)ft===-1&&qt[Hn]!==it[Hn]&&(ft=Hn),xn===-1&&qt[qt.length-Hn-1]!==it[it.length-Hn-1]&&(xn=Hn);const jn=Ne[_];if(ft<jn.start||qt.length-xn-1>jn.end)return;const Us=it.length-qt.length+jn.end-To(jn.endSeparator||"").length;dt=it.slice(jn.start+To(jn.startSeparator||"").length,Us)}if(dt.length===0){KH()&&Ue(rt),De();return}Te({keyPressed:dt,sectionIndex:_})}),ge=Ae((Be,...qe)=>{Be.preventDefault(),k?.(Be,...qe),we(),D1(M)?We(ye.startIndex):Ce(0)}),K=lE({manager:u,internalPropsWithDefaults:S,stateResponse:V}),fe=Ae(Be=>{E?.(Be),K(Be)}),me=x.useMemo(()=>z!==void 0?z:g.getV6InputValueFromSections(ke(p.emptyValue),Q,t),[z,g,ke,p.emptyValue,Q,t]),Se=x.useMemo(()=>ue.tempValueStrAndroid??g.getV6InputValueFromSections(ue.sections,Q,t),[ue.sections,g,ue.tempValueStrAndroid,Q,t]);x.useEffect(()=>{M.current&&M.current===Wn(M.current)&&We("all")},[]),kr(()=>{function Be(){if(!M.current)return;if(ee==null){M.current.scrollLeft&&(M.current.scrollLeft=0);return}if(M.current!==Wn(M.current))return;const qe=M.current.scrollTop;if(ee==="all")M.current.select();else{const Xe=Ne[ee],yt=Xe.type==="empty"?Xe.startInInput-Xe.startSeparator.length:Xe.startInInput,rt=Xe.type==="empty"?Xe.endInInput+Xe.endSeparator.length:Xe.endInInput;(yt!==M.current.selectionStart||rt!==M.current.selectionEnd)&&M.current===Wn(M.current)&&M.current.setSelectionRange(yt,rt),i.start(0,()=>{M.current&&M.current===Wn(M.current)&&M.current.selectionStart===M.current.selectionEnd&&(M.current.selectionStart!==yt||M.current.selectionEnd!==rt)&&Be()})}M.current.scrollTop=qe}Be()});const Oe=x.useMemo(()=>_==null||ue.sections[_].contentType==="letter"?"text":"numeric",[_,ue.sections]),ot=!(M.current&&M.current===Wn(M.current))&&B;return x.useImperativeHandle(W,()=>({getSections:()=>ue.sections,getActiveSectionIndex:()=>{const Be=M.current.selectionStart??0,qe=M.current.selectionEnd??0;if(Be===0&&qe===0)return null;const Xe=Be<=Ne[0].startInInput?1:Ne.findIndex(yt=>yt.startInInput-yt.startSeparator.length>Be);return Xe===-1?Ne.length-1:Xe-1},setSelectedSections:Be=>We(Be),focusField:Ce,isFieldFocused:()=>D1(M)})),Z({},b,{error:O,clearable:!!(A&&!B&&!P&&!F),onBlur:oe,onClick:ve,onFocus:te,onPaste:ne,onKeyDown:fe,onClear:ge,inputRef:U,enableAccessibleFieldDOMStructure:!1,placeholder:me,inputMode:Oe,autoComplete:"off",value:ot?"":Se,onChange:$,focused:L,disabled:F,readOnly:P,autoFocus:H,openPickerAriaLabel:je})};function D1(e){return e.current===Wn(e.current)}const Tz=e=>{const t=_D();return(e.props.enableAccessibleFieldDOMStructure??t?.enableAccessibleFieldDOMStructure??!0?vz:wz)(e)},Cz=e=>{const t=j_(e);return Tz({manager:t,props:e})};function Hy(e){const{ownerState:t}=In(),s=Br();return x.useMemo(()=>Z({},t,{isFieldDisabled:e.disabled??!1,isFieldReadOnly:e.readOnly??!1,isFieldRequired:e.required??!1,fieldDirection:s?"rtl":"ltr"}),[t,e.disabled,e.readOnly,e.required,s])}const jz=Si(a.jsx("path",{d:"M7 10l5 5 5-5z"})),Dz=Si(a.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"})),Ez=Si(a.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})),Mz=Si(a.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}));Si(a.jsxs(x.Fragment,{children:[a.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),a.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}));Si(a.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}));Si(a.jsxs(x.Fragment,{children:[a.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),a.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}));const kz=Si(a.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));function Pz(e){return Sn("MuiPickersTextField",e)}wn("MuiPickersTextField",["root","focused","disabled","error","required"]);function Az(e){return Sn("MuiPickersInputBase",e)}const Mo=wn("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input","inputSizeSmall","activeBar"]);function Oz(e){return Sn("MuiPickersSectionList",e)}const ho=wn("MuiPickersSectionList",["root","section","sectionContent"]),Rz=["slots","slotProps","elements","sectionListRef","classes"],cE=He("div",{name:"MuiPickersSectionList",slot:"Root"})({direction:"ltr /*! @noflip */",outline:"none"}),uE=He("span",{name:"MuiPickersSectionList",slot:"Section"})({}),dE=He("span",{name:"MuiPickersSectionList",slot:"SectionSeparator"})({whiteSpace:"pre"}),fE=He("span",{name:"MuiPickersSectionList",slot:"SectionContent"})({outline:"none"}),Iz=e=>rn({root:["root"],section:["section"],sectionContent:["sectionContent"]},Oz,e);function Bz(e){const{slots:t,slotProps:s,element:i,classes:l}=e,{ownerState:u}=In(),d=t?.section??uE,f=Et({elementType:d,externalSlotProps:s?.section,externalForwardedProps:i.container,className:l.section,ownerState:u}),p=t?.sectionContent??fE,g=Et({elementType:p,externalSlotProps:s?.sectionContent,externalForwardedProps:i.content,additionalProps:{suppressContentEditableWarning:!0},className:l.sectionContent,ownerState:u}),y=t?.sectionSeparator??dE,v=Et({elementType:y,externalSlotProps:s?.sectionSeparator,externalForwardedProps:i.before,ownerState:Z({},u,{separatorPosition:"before"})}),b=Et({elementType:y,externalSlotProps:s?.sectionSeparator,externalForwardedProps:i.after,ownerState:Z({},u,{separatorPosition:"after"})}),S=x.useRef(null),T=ts(g.ref,S),D=j=>{const C=j.relatedTarget,E=j.currentTarget.closest(`.${ho.root}`);if(E&&C instanceof Node&&E.contains(C)){j.stopPropagation();return}};return a.jsxs(d,Z({},f,{children:[a.jsx(y,Z({},v)),a.jsx(p,Z({},g,{ref:T,onBlur:D})),a.jsx(y,Z({},b))]}))}const Lz=x.forwardRef(function(t,s){const i=Jt({props:t,name:"MuiPickersSectionList"}),{slots:l,slotProps:u,elements:d,sectionListRef:f,classes:p}=i,g=tt(i,Rz),y=Iz(p),{ownerState:v}=In(),b=x.useRef(null),S=ts(s,b),T=C=>{if(!b.current)throw new Error(`MUI X: Cannot call sectionListRef.${C} before the mount of the component.`);return b.current};x.useImperativeHandle(f,()=>({getRoot(){return T("getRoot")},getSectionContainer(C){return T("getSectionContainer").querySelector(`.${ho.section}[data-sectionindex="${C}"]`)},getSectionContent(C){return T("getSectionContent").querySelector(`.${ho.section}[data-sectionindex="${C}"] .${ho.sectionContent}`)},getSectionIndexFromDOMElement(C){const E=T("getSectionIndexFromDOMElement");if(C==null||!E.contains(C))return null;let k=null;return C.classList.contains(ho.section)?k=C:C.classList.contains(ho.sectionContent)&&(k=C.parentElement),k==null?null:Number(k.dataset.sectionindex)}}));const D=l?.root??cE,j=Et({elementType:D,externalSlotProps:u?.root,externalForwardedProps:g,additionalProps:{ref:S,suppressContentEditableWarning:!0},className:y.root,ownerState:v});return a.jsx(D,Z({},j,{children:j.contentEditable?d.map(({content:C,before:E,after:k})=>`${E.children}${C.children}${k.children}`).join(""):a.jsx(x.Fragment,{children:d.map((C,E)=>a.jsx(Bz,{slots:l,slotProps:u,element:C,classes:y},E))})}))}),hE=x.createContext(null),gf=()=>{const e=x.useContext(hE);if(e==null)throw new Error(["MUI X: The `usePickerTextFieldOwnerState` can only be called in components that are used inside a PickerTextField component"].join(`
`));return e},Nz=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef","onFocus","onBlur","classes","ownerState"],Fz=e=>Math.round(e*1e5)/1e5,yf=He("div",{name:"MuiPickersInputBase",slot:"Root"})(({theme:e})=>Z({},e.typography.body1,{color:(e.vars||e).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${Fz(.15/16)}em`,variants:[{props:{isInputInFullWidth:!0},style:{width:"100%"}}]})),_y=He(cE,{name:"MuiPickersInputBase",slot:"SectionsContainer"})(({theme:e})=>({padding:"4px 0 5px",fontFamily:e.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{fieldDirection:"rtl"},style:{justifyContent:"end"}},{props:{inputSize:"small"},style:{paddingTop:1}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0},style:{color:"currentColor",opacity:0}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0,inputHasLabel:!1},style:e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:e.palette.mode==="light"?.42:.5}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0,inputHasLabel:!0,isLabelShrunk:!0},style:e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:e.palette.mode==="light"?.42:.5}}]})),Hz=He(uE,{name:"MuiPickersInputBase",slot:"Section"})(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"inline-block",whiteSpace:"nowrap"})),_z=He(fE,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(e,t)=>t.content})(({theme:e})=>({fontFamily:e.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),zz=He(dE,{name:"MuiPickersInputBase",slot:"Separator"})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),Vz=He("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(e,t)=>t.hiddenInput})(Z({},jk)),Wz=He("div",{name:"MuiPickersInputBase",slot:"ActiveBar"})(({theme:e,ownerState:t})=>({display:"none",position:"absolute",height:2,bottom:2,borderTopLeftRadius:2,borderTopRightRadius:2,transition:e.transitions.create(["width","left"],{duration:e.transitions.duration.shortest}),backgroundColor:(e.vars||e).palette.primary.main,'[data-active-range-position="start"] &, [data-active-range-position="end"] &':{display:"block"},'[data-active-range-position="start"] &':{left:t.sectionOffsets[0]},'[data-active-range-position="end"] &':{left:t.sectionOffsets[1]}})),Yz=(e,t)=>{const{isFieldFocused:s,isFieldDisabled:i,isFieldReadOnly:l,hasFieldError:u,inputSize:d,isInputInFullWidth:f,inputColor:p,hasStartAdornment:g,hasEndAdornment:y}=t,v={root:["root",s&&!i&&"focused",i&&"disabled",l&&"readOnly",u&&"error",f&&"fullWidth",`color${Ck(p)}`,d==="small"&&"inputSizeSmall",g&&"adornedStart",y&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"],activeBar:["activeBar"]};return rn(v,Az,e)};function E1(e,t,s,i){if(e.content.id){const l=t.current?.querySelectorAll(`[data-sectionindex="${s}"] [data-range-position="${i}"]`);if(l)return Array.from(l).reduce((u,d)=>u+d.offsetWidth,0)}return 0}function Uz(e,t){let s=0;if(t.current?.getAttribute("data-active-range-position")==="end")for(let l=e.length-1;l>=e.length/2;l-=1)s+=E1(e[l],t,l,"end");else for(let l=0;l<e.length/2;l+=1)s+=E1(e[l],t,l,"start");return{activeBarWidth:s,sectionOffsets:[t.current?.querySelector('[data-sectionindex="0"]')?.offsetLeft||0,t.current?.querySelector(`[data-sectionindex="${e.length/2}"]`)?.offsetLeft||0]}}const zy=x.forwardRef(function(t,s){const i=Jt({props:t,name:"MuiPickersInputBase"}),{elements:l,areAllSectionsEmpty:u,value:d,onChange:f,id:p,endAdornment:g,startAdornment:y,renderSuffix:v,slots:b,slotProps:S,contentEditable:T,tabIndex:D,onInput:j,onPaste:C,onKeyDown:E,name:k,readOnly:A,inputProps:N,inputRef:z,sectionListRef:P,onFocus:F,onBlur:H,classes:L,ownerState:W}=i,M=tt(i,Nz),U=gf(),V=x.useRef(null),_=x.useRef(null),B=x.useRef([]),O=ts(s,V),Q=ts(N?.ref,z),ee=Y1();if(!ee)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const ye=W??U,ue=ke=>{ee.onFocus?.(ke),F?.(ke)},de=ke=>{ue(ke)},we=ke=>{if(E?.(ke),ke.key==="Enter"&&!ke.defaultMuiPrevented){if(V.current?.dataset.multiInput)return;const Te=V.current?.closest("form"),je=Te?.querySelector('[type="submit"]');if(!Te||!je)return;ke.preventDefault(),Te.requestSubmit(je)}},De=ke=>{ee.onBlur?.(ke),H?.(ke)};x.useEffect(()=>{ee&&ee.setAdornedStart(!!y)},[ee,y]),x.useEffect(()=>{ee&&(u?ee.onEmpty():ee.onFilled())},[ee,u]);const Me=Yz(L,ye),We=b?.root||yf,Ue=Et({elementType:We,externalSlotProps:S?.root,externalForwardedProps:M,additionalProps:{"aria-invalid":ee.error,ref:O},className:Me.root,ownerState:ye}),st=b?.input||_y,_e=l.some(ke=>ke.content["data-range-position"]!==void 0);return x.useEffect(()=>{if(!_e||!ye.isPickerOpen)return;const{activeBarWidth:ke,sectionOffsets:Te}=Uz(l,V);B.current=[Te[0],Te[1]],_.current&&(_.current.style.width=`${ke}px`)},[l,_e,ye.isPickerOpen]),a.jsxs(We,Z({},Ue,{children:[y,a.jsx(Lz,{sectionListRef:P,elements:l,contentEditable:T,tabIndex:D,className:Me.sectionsContainer,onFocus:ue,onBlur:De,onInput:j,onPaste:C,onKeyDown:we,slots:{root:st,section:Hz,sectionContent:_z,sectionSeparator:zz},slotProps:{root:Z({},S?.input,{ownerState:ye}),sectionContent:{className:Mo.sectionContent},sectionSeparator:({separatorPosition:ke})=>({className:ke==="before"?Mo.sectionBefore:Mo.sectionAfter})}}),g,v?v(Z({},ee)):null,a.jsx(Vz,Z({name:k,className:Me.input,value:d,onChange:f,id:p,"aria-hidden":"true",tabIndex:-1,readOnly:A,required:ee.required,disabled:ee.disabled,onFocus:de},N,{ref:Q})),_e&&a.jsx(Wz,{className:Me.activeBar,ref:_,ownerState:{sectionOffsets:B.current}})]}))});function qz(e){return Sn("MuiPickersOutlinedInput",e)}const zs=Z({},Mo,wn("MuiPickersOutlinedInput",["root","notchedOutline","input"])),Gz=["children","className","label","notched","shrink"],$z=He("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline"})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),M1=He("span")(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit"})),Qz=He("legend",{shouldForwardProp:e=>pa(e)&&e!=="notched"})(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{inputHasLabel:!1},style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:{inputHasLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{inputHasLabel:!0,notched:!0},style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]}));function Kz(e){const{className:t,label:s,notched:i}=e,l=tt(e,Gz),u=gf();return a.jsx($z,Z({"aria-hidden":!0,className:t},l,{ownerState:u,children:a.jsx(Qz,{ownerState:u,notched:i,children:s?a.jsx(M1,{children:s}):a.jsx(M1,{className:"notranslate",children:""})})}))}const Xz=["label","autoFocus","ownerState","classes","notched"],Zz=He(yf,{name:"MuiPickersOutlinedInput",slot:"Root"})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${zs.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${zs.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${zs.focused} .${zs.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${zs.disabled}`]:{[`& .${zs.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled},"*":{color:(e.vars||e).palette.action.disabled}},[`&.${zs.error} .${zs.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},variants:Object.keys((e.vars??e).palette).filter(s=>(e.vars??e).palette[s]?.main??!1).map(s=>({props:{inputColor:s},style:{[`&.${zs.focused}:not(.${zs.error}) .${zs.notchedOutline}`]:{borderColor:(e.vars||e).palette[s].main}}}))}}),Jz=He(_y,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer"})({padding:"16.5px 0",variants:[{props:{inputSize:"small"},style:{padding:"8.5px 0"}}]}),eV=e=>{const s=rn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},qz,e);return Z({},e,s)},pE=x.forwardRef(function(t,s){const i=Jt({props:t,name:"MuiPickersOutlinedInput"}),{label:l,classes:u,notched:d}=i,f=tt(i,Xz),p=Y1(),g=eV(u);return a.jsx(zy,Z({slots:{root:Zz,input:Jz},renderSuffix:y=>a.jsx(Kz,{shrink:!!(d||y.adornedStart||y.focused||y.filled),notched:!!(d||y.adornedStart||y.focused||y.filled),className:g.notchedOutline,label:l!=null&&l!==""&&p?.required?a.jsxs(x.Fragment,{children:[l,"","*"]}):l})},f,{label:l,classes:g,ref:s}))});pE.muiName="Input";function tV(e){return Sn("MuiPickersFilledInput",e)}const Gi=Z({},Mo,wn("MuiPickersFilledInput",["root","underline","input"])),nV=["label","autoFocus","disableUnderline","hiddenLabel","classes"],sV=He(yf,{name:"MuiPickersFilledInput",slot:"Root",shouldForwardProp:e=>pa(e)&&e!=="disableUnderline"})(({theme:e})=>{const t=e.palette.mode==="light",s=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",l=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",u=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:l,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:i}},[`&.${Gi.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:i},[`&.${Gi.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:u},variants:[...Object.keys((e.vars??e).palette).filter(d=>(e.vars??e).palette[d].main).map(d=>({props:{inputColor:d,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[d]?.main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Gi.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Gi.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Gi.disabled}, .${Gi.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Gi.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:{hasStartAdornment:!0},style:{paddingLeft:12}},{props:{hasEndAdornment:!0},style:{paddingRight:12}}]}}),rV=He(_y,{name:"MuiPickersFilledInput",slot:"sectionsContainer",shouldForwardProp:e=>pa(e)&&e!=="hiddenLabel"})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{inputSize:"small"},style:{paddingTop:21,paddingBottom:4}},{props:{hasStartAdornment:!0},style:{paddingLeft:0}},{props:{hasEndAdornment:!0},style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,inputSize:"small"},style:{paddingTop:8,paddingBottom:9}}]}),iV=(e,t)=>{const{inputHasUnderline:s}=t,l=rn({root:["root",s&&"underline"],input:["input"]},tV,e);return Z({},e,l)},mE=x.forwardRef(function(t,s){const i=Jt({props:t,name:"MuiPickersFilledInput"}),{label:l,disableUnderline:u=!1,hiddenLabel:d=!1,classes:f}=i,p=tt(i,nV),g=gf(),y=Z({},g,{inputHasUnderline:!u}),v=iV(f,y);return a.jsx(zy,Z({slots:{root:sV,input:rV},slotProps:{root:{disableUnderline:u},input:{hiddenLabel:d}}},p,{label:l,classes:v,ref:s,ownerState:y}))});mE.muiName="Input";function aV(e){return Sn("MuiPickersFilledInput",e)}const Ql=Z({},Mo,wn("MuiPickersInput",["root","underline","input"])),oV=["label","autoFocus","disableUnderline","ownerState","classes"],lV=He(yf,{name:"MuiPickersInput",slot:"Root",shouldForwardProp:e=>pa(e)&&e!=="disableUnderline"})(({theme:e})=>{let s=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(s=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((e.vars??e).palette).filter(i=>(e.vars??e).palette[i].main).map(i=>({props:{inputColor:i,inputHasUnderline:!0},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[i].main}`}}})),{props:{inputHasUnderline:!0},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ql.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ql.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ql.disabled}, .${Ql.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${s}`}},[`&.${Ql.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),cV=(e,t)=>{const{inputHasUnderline:s}=t,l=rn({root:["root",!s&&"underline"],input:["input"]},aV,e);return Z({},e,l)},gE=x.forwardRef(function(t,s){const i=Jt({props:t,name:"MuiPickersInput"}),{label:l,disableUnderline:u=!1,classes:d}=i,f=tt(i,oV),p=gf(),g=Z({},p,{inputHasUnderline:!u}),y=cV(d,g);return a.jsx(zy,Z({slots:{root:lV},slotProps:{root:{disableUnderline:u}}},f,{ownerState:g,label:l,classes:y,ref:s}))});gE.muiName="Input";const uV=["onFocus","onBlur","className","classes","color","disabled","error","variant","required","hiddenLabel","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps","data-active-range-position"],dV={standard:gE,filled:mE,outlined:pE},fV=He(bt,{name:"MuiPickersTextField",slot:"Root"})({maxWidth:"100%"}),hV=(e,t)=>{const{isFieldFocused:s,isFieldDisabled:i,isFieldRequired:l}=t;return rn({root:["root",s&&!i&&"focused",i&&"disabled",l&&"required"]},Pz,e)},yE=x.forwardRef(function(t,s){const i=Jt({props:t,name:"MuiPickersTextField"}),{onFocus:l,onBlur:u,className:d,classes:f,color:p="primary",disabled:g=!1,error:y=!1,variant:v="outlined",required:b=!1,hiddenLabel:S=!1,InputProps:T,inputProps:D,inputRef:j,sectionListRef:C,elements:E,areAllSectionsEmpty:k,onClick:A,onKeyDown:N,onKeyUp:z,onPaste:P,onInput:F,endAdornment:H,startAdornment:L,tabIndex:W,contentEditable:M,focused:U,value:V,onChange:_,fullWidth:B,id:O,name:Q,helperText:ee,FormHelperTextProps:ye,label:ue,InputLabelProps:de,"data-active-range-position":we}=i,De=tt(i,uV),Me=x.useRef(null),We=ts(s,Me),Ue=cg(O),st=ee&&Ue?`${Ue}-helper-text`:void 0,_e=ue&&Ue?`${Ue}-label`:void 0,ke=Hy({disabled:i.disabled,required:i.required,readOnly:T?.readOnly}),Te=x.useMemo(()=>Z({},ke,{isFieldValueEmpty:k,isFieldFocused:U??!1,hasFieldError:y??!1,inputSize:i.size??"medium",inputColor:p??"primary",isInputInFullWidth:B??!1,hasStartAdornment:!!(L??T?.startAdornment),hasEndAdornment:!!(H??T?.endAdornment),inputHasLabel:!!ue,isLabelShrunk:!!de?.shrink}),[ke,k,U,y,i.size,p,B,L,H,T?.startAdornment,T?.endAdornment,ue,de?.shrink]),je=hV(f,Te),Ne=dV[v],le={};return v==="outlined"?(de&&typeof de.shrink<"u"&&(le.notched=de.shrink),le.label=ue):v==="filled"&&(le.hiddenLabel=S),a.jsx(hE.Provider,{value:Te,children:a.jsxs(fV,Z({className:Rn(je.root,d),ref:We,focused:U,disabled:g,variant:v,error:y,color:p,fullWidth:B,required:b,ownerState:Te},De,{children:[ue!=null&&ue!==""&&a.jsx(vt,Z({htmlFor:Ue,id:_e},de,{children:ue})),a.jsx(Ne,Z({elements:E,areAllSectionsEmpty:k,onClick:A,onKeyDown:N,onKeyUp:z,onInput:F,onPaste:P,onFocus:l,onBlur:u,endAdornment:H,startAdornment:L,tabIndex:W,contentEditable:M,value:V,onChange:_,id:Ue,fullWidth:B,inputProps:D,inputRef:j,sectionListRef:C,label:ue,name:Q,role:"group","aria-labelledby":_e,"aria-describedby":st,"aria-live":st?"polite":void 0,"data-active-range-position":we},le,T)),ee&&a.jsx(bd,Z({id:st},ye,{children:ee}))]}))})}),pV=["enableAccessibleFieldDOMStructure"],mV=["InputProps","readOnly","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],gV=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],yV=["ownerState"],xV=["ownerState"],bV=["ownerState"],vV=["ownerState"],SV=["InputProps","inputProps"],im=()=>{},wV=e=>{let{enableAccessibleFieldDOMStructure:t}=e,s=tt(e,pV);if(t){const{InputProps:E,readOnly:k,onClear:A,clearable:N,clearButtonPosition:z,openPickerButtonPosition:P,openPickerAriaLabel:F}=s,H=tt(s,mV),L=fi>=6&&H?.slotProps?.input?cc(H?.slotProps?.input,E):im;return{clearable:N,onClear:A,clearButtonPosition:z,openPickerButtonPosition:P,openPickerAriaLabel:F,textFieldProps:Z({},H,fi>=6&&H?.slotProps?.input?{slotProps:Z({},H?.slotProps,{input:W=>Z({},Js(L,W),{readOnly:k})})}:{InputProps:Z({},E??{},{readOnly:k})})}}const{onPaste:i,onKeyDown:l,inputMode:u,readOnly:d,InputProps:f,inputProps:p,inputRef:g,onClear:y,clearable:v,clearButtonPosition:b,openPickerButtonPosition:S,openPickerAriaLabel:T}=s,D=tt(s,gV),j=fi>=6&&D?.slotProps?.input?cc(D?.slotProps?.input,f):im,C=fi>=6&&D?.slotProps?.htmlInput?cc(D?.slotProps?.htmlInput,p):im;return{clearable:v,onClear:y,clearButtonPosition:b,openPickerButtonPosition:S,openPickerAriaLabel:T,textFieldProps:Z({},D,fi>=6&&(D?.slotProps?.input||D?.slotProps?.htmlInput)?{slotProps:Z({},D?.slotProps,{input:E=>Z({},Js(j,E),{readOnly:d}),htmlInput:E=>Z({},Js(C,E),{inputMode:u,onPaste:i,onKeyDown:l,ref:g})})}:{InputProps:Z({},f??{},{readOnly:d}),inputProps:Z({},p??{},{inputMode:u,onPaste:i,onKeyDown:l,ref:g})})}},Vy=x.createContext({slots:{},slotProps:{},inputRef:void 0});function TV(e){const{fieldResponse:t,defaultOpenPickerIcon:s}=e,i=Di(),l=Ly(),u=x.useContext(Vy),{textFieldProps:d,onClear:f,clearable:p,openPickerAriaLabel:g,clearButtonPosition:y="end",openPickerButtonPosition:v="end"}=wV(t),b=Hy(d),S=Ae(ye=>{ye.preventDefault(),l?.setOpen(ue=>!ue)}),T=l?l.triggerStatus:"hidden",D=p?y:null,j=T!=="hidden"?v:null,C=u.slots.textField??(t.enableAccessibleFieldDOMStructure===!1?et:yE),E=u.slots.inputAdornment??ig,k=Et({elementType:E,externalSlotProps:u.slotProps.inputAdornment,additionalProps:{position:"start"},ownerState:Z({},b,{position:"start"})}),A=tt(k,yV),N=Et({elementType:E,externalSlotProps:u.slotProps.inputAdornment,additionalProps:{position:"end"},ownerState:Z({},b,{position:"end"})}),z=tt(N,xV),P=u.slots.openPickerButton??ut,F=Et({elementType:P,externalSlotProps:u.slotProps.openPickerButton,additionalProps:{disabled:T==="disabled",onClick:S,"aria-label":g,edge:d.variant!=="standard"?j:!1},ownerState:b}),H=tt(F,bV),L=u.slots.openPickerIcon??s,W=Et({elementType:L,externalSlotProps:u.slotProps.openPickerIcon,ownerState:b}),M=u.slots.clearButton??ut,U=Et({elementType:M,externalSlotProps:u.slotProps.clearButton,className:"clearButton",additionalProps:{title:i.fieldClearLabel,tabIndex:-1,onClick:f,disabled:t.disabled||t.readOnly,edge:d.variant!=="standard"&&D!==j?D:!1},ownerState:b}),V=tt(U,vV),_=u.slots.clearIcon??kz,B=Et({elementType:_,externalSlotProps:u.slotProps.clearIcon,additionalProps:{fontSize:"small"},ownerState:b});d.ref=ts(d.ref,l?.rootRef);const O={},Q=Js((fi>=6&&d?.slotProps?.input)??d.InputProps,b);l&&(O.ref=l.triggerRef),!Q?.startAdornment&&(D==="start"||j==="start")&&(O.startAdornment=a.jsxs(E,Z({},A,{children:[j==="start"&&a.jsx(P,Z({},H,{children:a.jsx(L,Z({},W))})),D==="start"&&a.jsx(M,Z({},V,{children:a.jsx(_,Z({},B))}))]}))),!Q?.endAdornment&&(D==="end"||j==="end")&&(O.endAdornment=a.jsxs(E,Z({},z,{children:[D==="end"&&a.jsx(M,Z({},V,{children:a.jsx(_,Z({},B))})),j==="end"&&a.jsx(P,Z({},H,{children:a.jsx(L,Z({},W))}))]}))),!O?.endAdornment&&!O?.startAdornment&&u.slots.inputAdornment&&(O.endAdornment=a.jsx(E,Z({},z))),D!=null&&(d.sx=[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(d.sx)?d.sx:[d.sx]]);const ee=fi>=6&&d?.slotProps?.input?Js(cc(Q,O),b):Z({},Q,O);return d.inputProps=fi>=6&&d?.slotProps?.htmlInput?Js(d.slotProps.htmlInput,b):d.inputProps,delete d?.slotProps?.input,t.enableAccessibleFieldDOMStructure&&delete d?.slotProps,a.jsx(C,Z({},d,{InputProps:ee}))}function cc(e,t){return e?t?s=>Z({},Js(t,s),Js(e,s)):e:t}function CV(e){const{ref:t,externalForwardedProps:s,slotProps:i}=e,l=x.useContext(Vy),u=Ly(),d=Hy(s),{InputProps:f,inputProps:p}=s,g=tt(s,SV),y=Et({elementType:yE,externalSlotProps:cc(l.slotProps.textField,i?.textField),externalForwardedProps:g,additionalProps:{ref:t,sx:u?.rootSx,label:u?.label,name:u?.name,className:u?.rootClassName,inputRef:l.inputRef},ownerState:d});return y.inputProps=Z({},p,y.inputProps),y.InputProps=Z({},f,y.InputProps),y}function jV(e){const{slots:t={},slotProps:s={},inputRef:i,children:l}=e,u=x.useMemo(()=>({inputRef:i,slots:{openPickerButton:t.openPickerButton,openPickerIcon:t.openPickerIcon,textField:t.textField,inputAdornment:t.inputAdornment,clearIcon:t.clearIcon,clearButton:t.clearButton},slotProps:{openPickerButton:s.openPickerButton,openPickerIcon:s.openPickerIcon,textField:s.textField,inputAdornment:s.inputAdornment,clearIcon:s.clearIcon,clearButton:s.clearButton}}),[i,t.openPickerButton,t.openPickerIcon,t.textField,t.inputAdornment,t.clearIcon,t.clearButton,s.openPickerButton,s.openPickerIcon,s.textField,s.inputAdornment,s.clearIcon,s.clearButton]);return a.jsx(Vy.Provider,{value:u,children:l})}const DV=["slots","slotProps"],xE=x.forwardRef(function(t,s){const i=Jt({props:t,name:"MuiDateField"}),{slots:l,slotProps:u}=i,d=tt(i,DV),f=CV({slotProps:u,ref:s,externalForwardedProps:d}),p=Cz(f);return a.jsx(jV,{slots:l,slotProps:u,inputRef:d.inputRef,children:a.jsx(TV,{fieldResponse:p,defaultOpenPickerIcon:Mz})})}),bE=({shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:s,minDate:i,maxDate:l,disableFuture:u,disablePast:d,timezone:f})=>{const p=Ht();return x.useCallback(g=>Vc({adapter:p,value:g,timezone:f,props:{shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:s,minDate:i,maxDate:l,disableFuture:u,disablePast:d}})!==null,[p,e,t,s,i,l,u,d,f])},EV=(e,t)=>(s,i)=>{switch(i.type){case"setVisibleDate":return Z({},s,{slideDirection:i.direction,currentMonth:i.month,isMonthSwitchingAnimating:!t.isSameMonth(i.month,s.currentMonth)&&!e&&!i.skipAnimation,focusedDay:i.focusedDay});case"changeMonthTimezone":{const l=i.newTimezone;if(t.getTimezone(s.currentMonth)===l)return s;let u=t.setTimezone(s.currentMonth,l);return t.getMonth(u)!==t.getMonth(s.currentMonth)&&(u=t.setMonth(u,t.getMonth(s.currentMonth))),Z({},s,{currentMonth:u})}case"finishMonthSwitchingAnimation":return Z({},s,{isMonthSwitchingAnimating:!1});default:throw new Error("missing support")}},MV=e=>{const{value:t,referenceDate:s,disableFuture:i,disablePast:l,maxDate:u,minDate:d,onMonthChange:f,onYearChange:p,reduceAnimations:g,shouldDisableDate:y,timezone:v,getCurrentMonthFromVisibleDate:b}=e,S=Ht(),T=x.useRef(EV(!!g,S)).current,D=x.useMemo(()=>sr.getInitialReferenceValue({value:t,adapter:S,timezone:v,props:e,referenceDate:s,granularity:Ks.day}),[s,v]),[j,C]=x.useReducer(T,{isMonthSwitchingAnimating:!1,focusedDay:D,currentMonth:S.startOfMonth(D),slideDirection:"left"}),E=bE({shouldDisableDate:y,minDate:d,maxDate:u,disableFuture:i,disablePast:l,timezone:v});x.useEffect(()=>{C({type:"changeMonthTimezone",newTimezone:S.getTimezone(D)})},[D,S]);const k=Ae(({target:N,reason:z})=>{if(z==="cell-interaction"&&j.focusedDay!=null&&S.isSameDay(N,j.focusedDay))return;const P=z==="cell-interaction";let F,H;if(z==="cell-interaction")F=b(N,j.currentMonth),H=N;else if(F=S.isSameMonth(N,j.currentMonth)?j.currentMonth:S.startOfMonth(N),H=N,E(H)){const M=S.startOfMonth(N),U=S.endOfMonth(N);H=Dc({adapter:S,date:H,minDate:S.isBefore(d,M)?M:d,maxDate:S.isAfter(u,U)?U:u,disablePast:l,disableFuture:i,isDateDisabled:E,timezone:v})}const L=!S.isSameMonth(j.currentMonth,F),W=!S.isSameYear(j.currentMonth,F);L&&f?.(F),W&&p?.(S.startOfYear(F)),C({type:"setVisibleDate",month:F,direction:S.isAfterDay(F,j.currentMonth)?"left":"right",focusedDay:j.focusedDay!=null&&H!=null&&S.isSameDay(H,j.focusedDay)?j.focusedDay:H,skipAnimation:P})}),A=x.useCallback(()=>{C({type:"finishMonthSwitchingAnimation"})},[]);return{referenceDate:D,calendarState:j,setVisibleDate:k,isDateDisabled:E,onMonthSwitchingAnimationEnd:A}},kV=e=>Sn("MuiPickersFadeTransitionGroup",e);wn("MuiPickersFadeTransitionGroup",["root"]);const PV=["children"],AV=e=>rn({root:["root"]},kV,e),OV=He(q1,{name:"MuiPickersFadeTransitionGroup",slot:"Root"})({display:"block",position:"relative"});function vE(e){const t=Jt({props:e,name:"MuiPickersFadeTransitionGroup"}),{className:s,reduceAnimations:i,transKey:l,classes:u}=t,{children:d}=t,f=tt(t,PV),p=AV(u),g=U1();return i?d:a.jsx(OV,{className:Rn(p.root,s),ownerState:f,children:a.jsx(Ud,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:g.transitions.duration.enteringScreen,enter:g.transitions.duration.enteringScreen,exit:0},children:d},l)})}function RV(e){return Sn("MuiPickersDay",e)}const $i=wn("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]);function SE(e){const{disabled:t,selected:s,today:i,outsideCurrentMonth:l,day:u,disableMargin:d,disableHighlightToday:f,showDaysOutsideCurrentMonth:p}=e,g=Ht(),{ownerState:y}=In();return x.useMemo(()=>Z({},y,{day:u,isDaySelected:s??!1,isDayDisabled:t??!1,isDayCurrent:i??!1,isDayOutsideMonth:l??!1,isDayStartOfWeek:g.isSameDay(u,g.startOfWeek(u)),isDayEndOfWeek:g.isSameDay(u,g.endOfWeek(u)),disableMargin:d??!1,disableHighlightToday:f??!1,showDaysOutsideCurrentMonth:p??!1}),[g,y,u,s,t,i,l,d,f,p])}const IV=["autoFocus","className","classes","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","children","isFirstVisibleCell","isLastVisibleCell","day","selected","disabled","today","outsideCurrentMonth","disableMargin","disableHighlightToday","showDaysOutsideCurrentMonth"],BV=(e,t)=>{const{isDaySelected:s,isDayDisabled:i,isDayCurrent:l,isDayOutsideMonth:u,disableMargin:d,disableHighlightToday:f,showDaysOutsideCurrentMonth:p}=t,g=u&&!p;return rn({root:["root",s&&!g&&"selected",i&&"disabled",!d&&"dayWithMargin",!f&&l&&"today",u&&p&&"dayOutsideMonth",g&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},RV,e)},wE=({theme:e})=>Z({},e.typography.caption,{width:Ec,height:Ec,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ro(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:Ro(e.palette.primary.main,e.palette.action.focusOpacity),[`&.${$i.selected}`]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${$i.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${$i.disabled}:not(.${$i.selected})`]:{color:(e.vars||e).palette.text.disabled},[`&.${$i.disabled}&.${$i.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${pf}px`}},{props:{isDayOutsideMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(e.vars||e).palette.text.secondary}},{props:{disableHighlightToday:!1,isDayCurrent:!0},style:{[`&:not(.${$i.selected})`]:{border:`1px solid ${(e.vars||e).palette.text.secondary}`}}}]}),TE=(e,t)=>{const{ownerState:s}=e;return[t.root,!s.disableMargin&&t.dayWithMargin,!s.disableHighlightToday&&s.isDayCurrent&&t.today,!s.isDayOutsideMonth&&s.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,s.isDayOutsideMonth&&!s.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},LV=He(Dk,{name:"MuiPickersDay",slot:"Root",overridesResolver:TE})(wE),NV=He("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:TE})(({theme:e})=>Z({},wE({theme:e}),{opacity:0,pointerEvents:"none"})),Kl=()=>{},FV=x.forwardRef(function(t,s){const i=Jt({props:t,name:"MuiPickersDay"}),{autoFocus:l=!1,className:u,classes:d,isAnimating:f,onClick:p,onDaySelect:g,onFocus:y=Kl,onBlur:v=Kl,onKeyDown:b=Kl,onMouseDown:S=Kl,onMouseEnter:T=Kl,children:D,day:j,selected:C,disabled:E,today:k,outsideCurrentMonth:A,disableMargin:N,disableHighlightToday:z,showDaysOutsideCurrentMonth:P}=i,F=tt(i,IV),H=SE({day:j,selected:C,disabled:E,today:k,outsideCurrentMonth:A,disableMargin:N,disableHighlightToday:z,showDaysOutsideCurrentMonth:P}),L=BV(d,H),W=Ht(),M=x.useRef(null),U=ts(M,s);kr(()=>{l&&!E&&!f&&!A&&M.current.focus()},[l,E,f,A]);const V=B=>{S(B),A&&B.preventDefault()},_=B=>{B.defaultMuiPrevented=!0,E||g(j),A&&B.currentTarget.focus(),p&&p(B)};return A&&!P?a.jsx(NV,{className:Rn(L.root,L.hiddenDaySpacingFiller,u),ownerState:H,role:F.role}):a.jsx(LV,Z({className:Rn(L.root,u),ref:U,centerRipple:!0,disabled:E,tabIndex:C?0:-1,onKeyDown:B=>b(B,j),onFocus:B=>y(B,j),onBlur:B=>v(B,j),onMouseEnter:B=>T(B,j),onClick:_,onMouseDown:V},F,{ownerState:H,children:D??W.format(j,"dayOfMonth")}))}),HV=x.memo(FV),_V=e=>Sn("MuiPickersSlideTransition",e),As=wn("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),zV=["children","className","reduceAnimations","slideDirection","transKey","classes"],VV=(e,t)=>{const{slideDirection:s}=t,i={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${s}`],exitActive:[`slideExitActiveLeft-${s}`]};return rn(i,_V,e)},WV=He(q1,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`.${As["slideEnter-left"]}`]:t["slideEnter-left"]},{[`.${As["slideEnter-right"]}`]:t["slideEnter-right"]},{[`.${As.slideEnterActive}`]:t.slideEnterActive},{[`.${As.slideExit}`]:t.slideExit},{[`.${As["slideExitActiveLeft-left"]}`]:t["slideExitActiveLeft-left"]},{[`.${As["slideExitActiveLeft-right"]}`]:t["slideExitActiveLeft-right"]}]})(({theme:e})=>{const t=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${As["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${As["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${As.slideEnterActive}`]:{transform:"translate(0%)",transition:t},[`& .${As.slideExit}`]:{transform:"translate(0%)"},[`& .${As["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:t,zIndex:0},[`& .${As["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:t,zIndex:0}}});function YV(e){const t=Jt({props:e,name:"MuiPickersSlideTransition"}),{children:s,className:i,reduceAnimations:l,slideDirection:u,transKey:d,classes:f}=t,p=tt(t,zV),{ownerState:g}=In(),y=Z({},g,{slideDirection:u}),v=VV(f,y),b=U1();if(l)return a.jsx("div",{className:Rn(v.root,i),children:s});const S={exit:v.exit,enterActive:v.enterActive,enter:v.enter,exitActive:v.exitActive};return a.jsx(WV,{className:Rn(v.root,i),childFactory:T=>x.cloneElement(T,{classNames:S}),role:"presentation",ownerState:y,children:a.jsx(Ek,Z({mountOnEnter:!0,unmountOnExit:!0,timeout:b.transitions.duration.complex,classNames:S},p,{children:s}),d)})}const UV=e=>Sn("MuiDayCalendar",e);wn("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const qV=["parentProps","day","focusedDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],GV=["ownerState"],$V=e=>rn({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},UV,e),CE=(Ec+pf*2)*6,QV=He("div",{name:"MuiDayCalendar",slot:"Root"})({}),KV=He("div",{name:"MuiDayCalendar",slot:"Header"})({display:"flex",justifyContent:"center",alignItems:"center"}),XV=He(I,{name:"MuiDayCalendar",slot:"WeekDayLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),ZV=He(I,{name:"MuiDayCalendar",slot:"WeekNumberLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.disabled})),JV=He(I,{name:"MuiDayCalendar",slot:"WeekNumber"})(({theme:e})=>Z({},e.typography.caption,{width:Ec,height:Ec,padding:0,margin:`0 ${pf}px`,color:(e.vars||e).palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),eW=He("div",{name:"MuiDayCalendar",slot:"LoadingContainer"})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:CE}),tW=He(YV,{name:"MuiDayCalendar",slot:"SlideTransition"})({minHeight:CE}),nW=He("div",{name:"MuiDayCalendar",slot:"MonthContainer"})({overflow:"hidden"}),sW=He("div",{name:"MuiDayCalendar",slot:"WeekContainer"})({margin:`${pf}px 0`,display:"flex",justifyContent:"center"});function rW(e){let{parentProps:t,day:s,focusedDay:i,selectedDays:l,isDateDisabled:u,currentMonthNumber:d,isViewFocused:f}=e,p=tt(e,qV);const{disabled:g,disableHighlightToday:y,isMonthSwitchingAnimating:v,showDaysOutsideCurrentMonth:b,slots:S,slotProps:T,timezone:D}=t,j=Ht(),C=hf(D),E=i!=null&&j.isSameDay(s,i),k=f&&E,A=l.some(V=>j.isSameDay(V,s)),N=j.isSameDay(s,C),z=x.useMemo(()=>g||u(s),[g,u,s]),P=x.useMemo(()=>j.getMonth(s)!==d,[j,s,d]),F=SE({day:s,selected:A,disabled:z,today:N,outsideCurrentMonth:P,disableMargin:void 0,disableHighlightToday:y,showDaysOutsideCurrentMonth:b}),H=S?.day??HV,L=Et({elementType:H,externalSlotProps:T?.day,additionalProps:Z({disableHighlightToday:y,showDaysOutsideCurrentMonth:b,role:"gridcell",isAnimating:v,"data-timestamp":j.toJsDate(s).valueOf()},p),ownerState:Z({},F,{day:s,isDayDisabled:z,isDaySelected:A})}),W=tt(L,GV),M=x.useMemo(()=>{const V=j.startOfMonth(j.setMonth(s,d));return b?j.isSameDay(s,j.startOfWeek(V)):j.isSameDay(s,V)},[d,s,b,j]),U=x.useMemo(()=>{const V=j.endOfMonth(j.setMonth(s,d));return b?j.isSameDay(s,j.endOfWeek(V)):j.isSameDay(s,V)},[d,s,b,j]);return a.jsx(H,Z({},W,{day:s,disabled:z,autoFocus:!P&&k,today:N,outsideCurrentMonth:P,isFirstVisibleCell:M,isLastVisibleCell:U,selected:A,tabIndex:E?0:-1,"aria-selected":A,"aria-current":N?"date":void 0}))}function iW(e){const t=Jt({props:e,name:"MuiDayCalendar"}),s=Ht(),{onFocusedDayChange:i,className:l,classes:u,currentMonth:d,selectedDays:f,focusedDay:p,loading:g,onSelectedDaysChange:y,onMonthSwitchingAnimationEnd:v,readOnly:b,reduceAnimations:S,renderLoading:T=()=>a.jsx("span",{children:"..."}),slideDirection:D,TransitionProps:j,disablePast:C,disableFuture:E,minDate:k,maxDate:A,shouldDisableDate:N,shouldDisableMonth:z,shouldDisableYear:P,dayOfWeekFormatter:F=Te=>s.format(Te,"weekdayShort").charAt(0).toUpperCase(),hasFocus:H,onFocusedViewChange:L,gridLabelId:W,displayWeekNumber:M,fixedWeekNumber:U,timezone:V}=t,_=hf(V),B=$V(u),O=Br(),Q=bE({shouldDisableDate:N,shouldDisableMonth:z,shouldDisableYear:P,minDate:k,maxDate:A,disablePast:C,disableFuture:E,timezone:V}),ee=Di(),ye=Ae(Te=>{b||y(Te)}),ue=Te=>{Q(Te)||(i(Te),L?.(!0))},de=Ae((Te,je)=>{switch(Te.key){case"ArrowUp":ue(s.addDays(je,-7)),Te.preventDefault();break;case"ArrowDown":ue(s.addDays(je,7)),Te.preventDefault();break;case"ArrowLeft":{const Ne=s.addDays(je,O?1:-1),le=s.addMonths(je,O?1:-1),Ce=Dc({adapter:s,date:Ne,minDate:O?Ne:s.startOfMonth(le),maxDate:O?s.endOfMonth(le):Ne,isDateDisabled:Q,timezone:V});ue(Ce||Ne),Te.preventDefault();break}case"ArrowRight":{const Ne=s.addDays(je,O?-1:1),le=s.addMonths(je,O?-1:1),Ce=Dc({adapter:s,date:Ne,minDate:O?s.startOfMonth(le):Ne,maxDate:O?Ne:s.endOfMonth(le),isDateDisabled:Q,timezone:V});ue(Ce||Ne),Te.preventDefault();break}case"Home":ue(s.startOfWeek(je)),Te.preventDefault();break;case"End":ue(s.endOfWeek(je)),Te.preventDefault();break;case"PageUp":ue(s.addMonths(je,1)),Te.preventDefault();break;case"PageDown":ue(s.addMonths(je,-1)),Te.preventDefault();break}}),we=Ae((Te,je)=>ue(je)),De=Ae((Te,je)=>{p!=null&&s.isSameDay(p,je)&&L?.(!1)}),Me=s.getMonth(d),We=s.getYear(d),Ue=x.useMemo(()=>f.filter(Te=>!!Te).map(Te=>s.startOfDay(Te)),[s,f]),st=`${We}-${Me}`,_e=x.useMemo(()=>x.createRef(),[st]),ke=x.useMemo(()=>{const Te=s.getWeekArray(d);let je=s.addMonths(d,1);for(;U&&Te.length<U;){const Ne=s.getWeekArray(je),le=s.isSameDay(Te[Te.length-1][0],Ne[0][0]);Ne.slice(le?1:0).forEach(Ce=>{Te.length<U&&Te.push(Ce)}),je=s.addMonths(je,1)}return Te},[d,U,s]);return a.jsxs(QV,{role:"grid","aria-labelledby":W,className:B.root,children:[a.jsxs(KV,{role:"row",className:B.header,children:[M&&a.jsx(ZV,{variant:"caption",role:"columnheader","aria-label":ee.calendarWeekNumberHeaderLabel,className:B.weekNumberLabel,children:ee.calendarWeekNumberHeaderText}),LH(s,_).map((Te,je)=>a.jsx(XV,{variant:"caption",role:"columnheader","aria-label":s.format(Te,"weekday"),className:B.weekDayLabel,children:F(Te)},je.toString()))]}),g?a.jsx(eW,{className:B.loadingContainer,children:T()}):a.jsx(tW,Z({transKey:st,onExited:v,reduceAnimations:S,slideDirection:D,className:Rn(l,B.slideTransition)},j,{nodeRef:_e,children:a.jsx(nW,{ref:_e,role:"rowgroup",className:B.monthContainer,children:ke.map((Te,je)=>a.jsxs(sW,{role:"row",className:B.weekContainer,"aria-rowindex":je+1,children:[M&&a.jsx(JV,{className:B.weekNumber,role:"rowheader","aria-label":ee.calendarWeekNumberAriaLabelText(s.getWeekNumber(Te[0])),children:ee.calendarWeekNumberText(s.getWeekNumber(Te[0]))}),Te.map((Ne,le)=>a.jsx(rW,{parentProps:t,day:Ne,selectedDays:Ue,isViewFocused:H,focusedDay:p,onKeyDown:de,onFocus:we,onBlur:De,onDaySelect:ye,isDateDisabled:Q,currentMonthNumber:Me,"aria-colindex":le+1},Ne.toString()))]},`week-${Te[0]}`))})}))]})}function jE(e){return Sn("MuiMonthCalendar",e)}const gd=wn("MuiMonthCalendar",["root","button","disabled","selected"]),aW=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],oW=(e,t)=>{const s={button:["button",t.isMonthDisabled&&"disabled",t.isMonthSelected&&"selected"]};return rn(s,jE,e)},lW=He("button",{name:"MuiMonthCalendar",slot:"Button",overridesResolver:(e,t)=>[t.button,{[`&.${gd.disabled}`]:t.disabled},{[`&.${gd.selected}`]:t.selected}]})(({theme:e})=>Z({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ro(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ro(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${gd.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${gd.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),cW=x.memo(function(t){const{autoFocus:s,classes:i,disabled:l,selected:u,value:d,onClick:f,onKeyDown:p,onFocus:g,onBlur:y,slots:v,slotProps:b}=t,S=tt(t,aW),T=x.useRef(null),{ownerState:D}=In(),j=Z({},D,{isMonthDisabled:l,isMonthSelected:u}),C=oW(i,j);kr(()=>{s&&T.current?.focus()},[s]);const E=v?.monthButton??lW,k=Et({elementType:E,externalSlotProps:b?.monthButton,externalForwardedProps:S,additionalProps:{disabled:l,ref:T,type:"button",role:"radio","aria-checked":u,onClick:A=>f(A,d),onKeyDown:A=>p(A,d),onFocus:A=>g(A,d),onBlur:A=>y(A,d)},ownerState:j,className:C.button});return a.jsx(E,Z({},k))}),uW=["autoFocus","className","currentMonth","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],dW=e=>rn({root:["root"]},jE,e);function fW(e,t){const s=Jt({props:e,name:t}),i=Wc(s);return Z({},s,i,{monthsPerRow:s.monthsPerRow??3})}const k1=(e,t,s,i,l)=>!!(e===t&&i&&l.isSameYear(s,i)),hW=He("div",{name:"MuiMonthCalendar",slot:"Root",shouldForwardProp:e=>pa(e)&&e!=="monthsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:16,padding:"8px 0",width:mf,boxSizing:"border-box",variants:[{props:{monthsPerRow:3},style:{columnGap:24}},{props:{monthsPerRow:4},style:{columnGap:0}}]}),pW=x.forwardRef(function(t,s){const i=fW(t,"MuiMonthCalendar"),{autoFocus:l,className:u,currentMonth:d,classes:f,value:p,defaultValue:g,referenceDate:y,disabled:v,disableFuture:b,disablePast:S,maxDate:T,minDate:D,onChange:j,shouldDisableMonth:C,readOnly:E,onMonthFocus:k,hasFocus:A,onFocusedViewChange:N,monthsPerRow:z,timezone:P,gridLabelId:F,slots:H,slotProps:L}=i,W=tt(i,uW),{value:M,handleValueChange:U,timezone:V}=Yc({name:"MonthCalendar",timezone:P,value:p,defaultValue:g,referenceDate:y,onChange:j,valueManager:sr}),_=hf(V),B=Br(),O=Ht(),{ownerState:Q}=In(),ee=x.useMemo(()=>sr.getInitialReferenceValue({value:M,adapter:O,props:i,timezone:V,referenceDate:y,granularity:Ks.month}),[]),ye=dW(f),ue=x.useMemo(()=>O.getMonth(_),[O,_]),de=x.useMemo(()=>M!=null?O.getMonth(M):null,[M,O]),[we,De]=x.useState(()=>de||O.getMonth(ee)),[Me,We]=Oo({name:"MonthCalendar",state:"hasFocus",controlled:A,default:l??!1}),Ue=Ae(le=>{We(le),N&&N(le)}),st=x.useCallback(le=>{const Ce=O.startOfMonth(S&&O.isAfter(_,D)?_:D),te=O.startOfMonth(b&&O.isBefore(_,T)?_:T),ve=O.startOfMonth(le);return O.isBefore(ve,Ce)||O.isAfter(ve,te)?!0:C?C(ve):!1},[b,S,T,D,_,C,O]),_e=Ae((le,Ce)=>{if(E)return;const te=M&&d&&!O.isSameYear(M,d)?O.setYear(M,O.getYear(d)):M,ve=O.setMonth(te??ee,Ce);U(ve)}),ke=Ae(le=>{st(O.setMonth(M??d??ee,le))||(De(le),Ue(!0),k&&k(le))});x.useEffect(()=>{De(le=>de!==null&&le!==de?de:le)},[de]);const Te=Ae((le,Ce)=>{switch(le.key){case"ArrowUp":ke((12+Ce-3)%12),le.preventDefault();break;case"ArrowDown":ke((12+Ce+3)%12),le.preventDefault();break;case"ArrowLeft":ke((12+Ce+(B?1:-1))%12),le.preventDefault();break;case"ArrowRight":ke((12+Ce+(B?-1:1))%12),le.preventDefault();break}}),je=Ae((le,Ce)=>{ke(Ce)}),Ne=Ae((le,Ce)=>{we===Ce&&Ue(!1)});return a.jsx(hW,Z({ref:s,className:Rn(ye.root,u),ownerState:Q,role:"radiogroup","aria-labelledby":F,monthsPerRow:z},W,{children:ky(O,d??M??ee).map(le=>{const Ce=O.getMonth(le),te=O.format(le,"monthShort"),ve=O.format(le,"month"),ne=k1(Ce,de,le,M,O),oe=v||st(le);return a.jsx(cW,{selected:ne,value:Ce,onClick:_e,onKeyDown:Te,autoFocus:Me&&Ce===we,disabled:oe,tabIndex:Ce===we&&!oe?0:-1,onFocus:je,onBlur:Ne,"aria-current":k1(Ce,ue,le,_,O)?"date":void 0,"aria-label":ve,slots:H,slotProps:L,classes:f,children:te},te)})}))});function DE(e){return Sn("MuiYearCalendar",e)}const yd=wn("MuiYearCalendar",["root","button","disabled","selected"]),mW=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],gW=(e,t)=>{const s={button:["button",t.isYearDisabled&&"disabled",t.isYearSelected&&"selected"]};return rn(s,DE,e)},yW=He("button",{name:"MuiYearCalendar",slot:"Button",overridesResolver:(e,t)=>[t.button,{[`&.${yd.disabled}`]:t.disabled},{[`&.${yd.selected}`]:t.selected}]})(({theme:e})=>Z({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.focusOpacity})`:Ro(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ro(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${yd.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${yd.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),xW=x.memo(function(t){const{autoFocus:s,classes:i,disabled:l,selected:u,value:d,onClick:f,onKeyDown:p,onFocus:g,onBlur:y,slots:v,slotProps:b}=t,S=tt(t,mW),T=x.useRef(null),{ownerState:D}=In(),j=Z({},D,{isYearDisabled:l,isYearSelected:u}),C=gW(i,j);kr(()=>{s&&T.current?.focus()},[s]);const E=v?.yearButton??yW,k=Et({elementType:E,externalSlotProps:b?.yearButton,externalForwardedProps:S,additionalProps:{disabled:l,ref:T,type:"button",role:"radio","aria-checked":u,onClick:A=>f(A,d),onKeyDown:A=>p(A,d),onFocus:A=>g(A,d),onBlur:A=>y(A,d)},ownerState:j,className:C.button});return a.jsx(E,Z({},k))}),bW=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsOrder","yearsPerRow","timezone","gridLabelId","slots","slotProps"],vW=e=>rn({root:["root"]},DE,e);function SW(e,t){const s=Jt({props:e,name:t}),i=Wc(s);return Z({},s,i,{yearsPerRow:s.yearsPerRow??3,yearsOrder:s.yearsOrder??"asc"})}const wW=He("div",{name:"MuiYearCalendar",slot:"Root",shouldForwardProp:e=>pa(e)&&e!=="yearsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:12,padding:"6px 0",overflowY:"auto",height:"100%",width:mf,maxHeight:K_,boxSizing:"border-box",position:"relative",variants:[{props:{yearsPerRow:3},style:{columnGap:24}},{props:{yearsPerRow:4},style:{columnGap:0,padding:"0 2px"}}]}),TW=He("div",{name:"MuiYearCalendar",slot:"ButtonFiller"})({height:36,width:72}),CW=x.forwardRef(function(t,s){const i=SW(t,"MuiYearCalendar"),{autoFocus:l,className:u,classes:d,value:f,defaultValue:p,referenceDate:g,disabled:y,disableFuture:v,disablePast:b,maxDate:S,minDate:T,onChange:D,readOnly:j,shouldDisableYear:C,onYearFocus:E,hasFocus:k,onFocusedViewChange:A,yearsOrder:N,yearsPerRow:z,timezone:P,gridLabelId:F,slots:H,slotProps:L}=i,W=tt(i,bW),{value:M,handleValueChange:U,timezone:V}=Yc({name:"YearCalendar",timezone:P,value:f,defaultValue:p,referenceDate:g,onChange:D,valueManager:sr}),_=hf(V),B=Br(),O=Ht(),{ownerState:Q}=In(),ee=x.useMemo(()=>sr.getInitialReferenceValue({value:M,adapter:O,props:i,timezone:V,referenceDate:g,granularity:Ks.year}),[]),ye=vW(d),ue=x.useMemo(()=>O.getYear(_),[O,_]),de=x.useMemo(()=>M!=null?O.getYear(M):null,[M,O]),[we,De]=x.useState(()=>de||O.getYear(ee)),[Me,We]=Oo({name:"YearCalendar",state:"hasFocus",controlled:k,default:l??!1}),Ue=Ae($=>{We($),A&&A($)}),st=x.useCallback($=>{if(b&&O.isBeforeYear($,_)||v&&O.isAfterYear($,_)||T&&O.isBeforeYear($,T)||S&&O.isAfterYear($,S))return!0;if(!C)return!1;const ge=O.startOfYear($);return C(ge)},[v,b,S,T,_,C,O]),_e=Ae(($,ge)=>{if(j)return;const K=O.setYear(M??ee,ge);U(K)}),ke=Ae($=>{st(O.setYear(M??ee,$))||(De($),Ue(!0),E?.($))});x.useEffect(()=>{De($=>de!==null&&$!==de?de:$)},[de]);const Te=N!=="desc"?z*1:z*-1,je=B&&N==="asc"||!B&&N==="desc"?-1:1,Ne=Ae(($,ge)=>{switch($.key){case"ArrowUp":ke(ge-Te),$.preventDefault();break;case"ArrowDown":ke(ge+Te),$.preventDefault();break;case"ArrowLeft":ke(ge-je),$.preventDefault();break;case"ArrowRight":ke(ge+je),$.preventDefault();break}}),le=Ae(($,ge)=>{ke(ge)}),Ce=Ae(($,ge)=>{we===ge&&Ue(!1)}),te=x.useRef(null),ve=ts(s,te);x.useEffect(()=>{if(l||te.current===null)return;const $=te.current.querySelector('[tabindex="0"]');if(!$)return;const ge=$.offsetHeight,K=$.offsetTop,fe=te.current.clientHeight,me=te.current.scrollTop,Se=K+ge;ge>fe||K<me||(te.current.scrollTop=Se-fe/2-ge/2)},[l]);const ne=O.getYearRange([T,S]);N==="desc"&&ne.reverse();let oe=z-ne.length%z;return oe===z&&(oe=0),a.jsxs(wW,Z({ref:ve,className:Rn(ye.root,u),ownerState:Q,role:"radiogroup","aria-labelledby":F,yearsPerRow:z},W,{children:[ne.map($=>{const ge=O.getYear($),K=ge===de,fe=y||st($);return a.jsx(xW,{selected:K,value:ge,onClick:_e,onKeyDown:Ne,autoFocus:Me&&ge===we,disabled:fe,tabIndex:ge===we&&!fe?0:-1,onFocus:le,onBlur:Ce,"aria-current":ue===ge?"date":void 0,slots:H,slotProps:L,classes:d,children:O.format($,"year")},O.format($,"year"))}),Array.from({length:oe},($,ge)=>a.jsx(TW,{},ge))]}))}),jW=e=>Sn("MuiPickersCalendarHeader",e),DW=wn("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]);function EW(e){return Sn("MuiPickersArrowSwitcher",e)}wn("MuiPickersArrowSwitcher",["root","spacer","button","previousIconButton","nextIconButton","leftArrowIcon","rightArrowIcon"]);const MW=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId","classes"],kW=["ownerState"],PW=["ownerState"],AW=He("div",{name:"MuiPickersArrowSwitcher",slot:"Root"})({display:"flex"}),OW=He("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer"})(({theme:e})=>({width:e.spacing(3)})),P1=He(ut,{name:"MuiPickersArrowSwitcher",slot:"Button"})({variants:[{props:{isButtonHidden:!0},style:{visibility:"hidden"}}]}),RW=e=>rn({root:["root"],spacer:["spacer"],button:["button"],previousIconButton:["previousIconButton"],nextIconButton:["nextIconButton"],leftArrowIcon:["leftArrowIcon"],rightArrowIcon:["rightArrowIcon"]},EW,e),IW=x.forwardRef(function(t,s){const i=Br(),l=Jt({props:t,name:"MuiPickersArrowSwitcher"}),{children:u,className:d,slots:f,slotProps:p,isNextDisabled:g,isNextHidden:y,onGoToNext:v,nextLabel:b,isPreviousDisabled:S,isPreviousHidden:T,onGoToPrevious:D,previousLabel:j,labelId:C,classes:E}=l,k=tt(l,MW),{ownerState:A}=In(),N=RW(E),z={isDisabled:g,isHidden:y,goTo:v,label:b},P={isDisabled:S,isHidden:T,goTo:D,label:j},F=f?.previousIconButton??P1,H=Et({elementType:F,externalSlotProps:p?.previousIconButton,additionalProps:{size:"medium",title:P.label,"aria-label":P.label,disabled:P.isDisabled,edge:"end",onClick:P.goTo},ownerState:Z({},A,{isButtonHidden:P.isHidden??!1}),className:Rn(N.button,N.previousIconButton)}),L=f?.nextIconButton??P1,W=Et({elementType:L,externalSlotProps:p?.nextIconButton,additionalProps:{size:"medium",title:z.label,"aria-label":z.label,disabled:z.isDisabled,edge:"start",onClick:z.goTo},ownerState:Z({},A,{isButtonHidden:z.isHidden??!1}),className:Rn(N.button,N.nextIconButton)}),M=f?.leftArrowIcon??Dz,U=Et({elementType:M,externalSlotProps:p?.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:A,className:N.leftArrowIcon}),V=tt(U,kW),_=f?.rightArrowIcon??Ez,B=Et({elementType:_,externalSlotProps:p?.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:A,className:N.rightArrowIcon}),O=tt(B,PW);return a.jsxs(AW,Z({ref:s,className:Rn(N.root,d),ownerState:A},k,{children:[a.jsx(F,Z({},H,{children:i?a.jsx(_,Z({},O)):a.jsx(M,Z({},V))})),u?a.jsx(I,{variant:"subtitle1",component:"span",id:C,children:u}):a.jsx(OW,{className:N.spacer,ownerState:A}),a.jsx(L,Z({},W,{children:i?a.jsx(M,Z({},V)):a.jsx(_,Z({},O))}))]}))});function BW(e,{disableFuture:t,maxDate:s,timezone:i}){const l=Ht();return x.useMemo(()=>{const u=l.date(void 0,i),d=l.startOfMonth(t&&l.isBefore(u,s)?u:s);return!l.isAfter(d,e)},[t,s,e,l,i])}function LW(e,{disablePast:t,minDate:s,timezone:i}){const l=Ht();return x.useMemo(()=>{const u=l.date(void 0,i),d=l.startOfMonth(t&&l.isAfter(u,s)?u:s);return!l.isBefore(d,e)},[t,s,e,l,i])}const NW=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","classes","timezone","format"],FW=["ownerState"],HW=e=>rn({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},jW,e),_W=He("div",{name:"MuiPickersCalendarHeader",slot:"Root"})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),zW=He("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer"})(({theme:e})=>Z({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),VW=He("div",{name:"MuiPickersCalendarHeader",slot:"Label"})({marginRight:6}),WW=He(ut,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton"})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${DW.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),YW=He(jz,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon"})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"})),UW=x.forwardRef(function(t,s){const i=Di(),l=Ht(),u=Jt({props:t,name:"MuiPickersCalendarHeader"}),{slots:d,slotProps:f,currentMonth:p,disabled:g,disableFuture:y,disablePast:v,maxDate:b,minDate:S,onMonthChange:T,onViewChange:D,view:j,reduceAnimations:C,views:E,labelId:k,className:A,classes:N,timezone:z,format:P=`${l.formats.month} ${l.formats.year}`}=u,F=tt(u,NW),{ownerState:H}=In(),L=HW(N),W=d?.switchViewButton??WW,M=Et({elementType:W,externalSlotProps:f?.switchViewButton,additionalProps:{size:"small","aria-label":i.calendarViewSwitchingButtonAriaLabel(j)},ownerState:Z({},H,{view:j}),className:L.switchViewButton}),U=d?.switchViewIcon??YW,V=Et({elementType:U,externalSlotProps:f?.switchViewIcon,ownerState:H,className:L.switchViewIcon}),_=tt(V,FW),B=()=>T(l.addMonths(p,1)),O=()=>T(l.addMonths(p,-1)),Q=BW(p,{disableFuture:y,maxDate:b,timezone:z}),ee=LW(p,{disablePast:v,minDate:S,timezone:z}),ye=()=>{if(!(E.length===1||!D||g))if(E.length===2)D(E.find(de=>de!==j)||E[0]);else{const de=E.indexOf(j)!==0?0:1;D(E[de])}};if(E.length===1&&E[0]==="year")return null;const ue=l.formatByString(p,P);return a.jsxs(_W,Z({},F,{ownerState:H,className:Rn(L.root,A),ref:s,children:[a.jsxs(zW,{role:"presentation",onClick:ye,ownerState:H,"aria-live":"polite",className:L.labelContainer,children:[a.jsx(vE,{reduceAnimations:C,transKey:ue,children:a.jsx(VW,{id:k,ownerState:H,className:L.label,children:ue})}),E.length>1&&!g&&a.jsx(W,Z({},M,{children:a.jsx(U,Z({},_))}))]}),a.jsx(Ud,{in:j==="day",appear:!C,enter:!C,children:a.jsx(IW,{slots:d,slotProps:f,onGoToPrevious:O,isPreviousDisabled:ee,previousLabel:i.previousMonth,onGoToNext:B,isNextDisabled:Q,nextLabel:i.nextMonth})})]}))}),qW=He("div")({overflow:"hidden",width:mf,maxHeight:Ny,display:"flex",flexDirection:"column",margin:"0 auto"}),GW=e=>Sn("MuiDateCalendar",e);wn("MuiDateCalendar",["root","viewTransitionContainer"]);const $W=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","classes","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsOrder","yearsPerRow","monthsPerRow","timezone"],QW=e=>rn({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},GW,e);function KW(e,t){const s=Jt({props:e,name:t}),i=ZD(s.reduceAnimations),l=Wc(s);return Z({},s,l,{loading:s.loading??!1,openTo:s.openTo??"day",views:s.views??["year","day"],reduceAnimations:i,renderLoading:s.renderLoading??(()=>a.jsx("span",{children:"..."}))})}const XW=He(qW,{name:"MuiDateCalendar",slot:"Root"})({display:"flex",flexDirection:"column",height:Ny}),ZW=He(vE,{name:"MuiDateCalendar",slot:"ViewTransitionContainer"})({}),JW=x.forwardRef(function(t,s){const i=Ht(),{ownerState:l}=In(),u=cg(),d=KW(t,"MuiDateCalendar"),{autoFocus:f,onViewChange:p,value:g,defaultValue:y,referenceDate:v,disableFuture:b,disablePast:S,onChange:T,onMonthChange:D,reduceAnimations:j,shouldDisableDate:C,shouldDisableMonth:E,shouldDisableYear:k,view:A,views:N,openTo:z,className:P,classes:F,disabled:H,readOnly:L,minDate:W,maxDate:M,disableHighlightToday:U,focusedView:V,onFocusedViewChange:_,showDaysOutsideCurrentMonth:B,fixedWeekNumber:O,dayOfWeekFormatter:Q,slots:ee,slotProps:ye,loading:ue,renderLoading:de,displayWeekNumber:we,yearsOrder:De,yearsPerRow:Me,monthsPerRow:We,timezone:Ue}=d,st=tt(d,$W),{value:_e,handleValueChange:ke,timezone:Te}=Yc({name:"DateCalendar",timezone:Ue,value:g,defaultValue:y,referenceDate:v,onChange:T,valueManager:sr}),{view:je,setView:Ne,focusedView:le,setFocusedView:Ce,goToNextView:te,setValueAndGoToNextView:ve}=eE({view:A,views:N,openTo:z,onChange:ke,onViewChange:p,autoFocus:f,focusedView:V,onFocusedViewChange:_}),{referenceDate:ne,calendarState:oe,setVisibleDate:$,isDateDisabled:ge,onMonthSwitchingAnimationEnd:K}=MV({value:_e,referenceDate:v,reduceAnimations:j,onMonthChange:D,minDate:W,maxDate:M,shouldDisableDate:C,disablePast:S,disableFuture:b,timezone:Te,getCurrentMonthFromVisibleDate:(ft,xn)=>i.isSameMonth(ft,xn)?xn:i.startOfMonth(ft)}),fe=H&&_e||W,me=H&&_e||M,Se=`${u}-grid-label`,Oe=le!==null,Qe=ee?.calendarHeader??UW,ot=Et({elementType:Qe,externalSlotProps:ye?.calendarHeader,additionalProps:{views:N,view:je,currentMonth:oe.currentMonth,onViewChange:Ne,onMonthChange:ft=>$({target:ft,reason:"header-navigation"}),minDate:fe,maxDate:me,disabled:H,disablePast:S,disableFuture:b,reduceAnimations:j,timezone:Te,labelId:Se},ownerState:l}),Be=Ae(ft=>{const xn=i.startOfMonth(ft),jn=i.endOfMonth(ft),Ln=ge(ft)?Dc({adapter:i,date:ft,minDate:i.isBefore(W,xn)?xn:W,maxDate:i.isAfter(M,jn)?jn:M,disablePast:S,disableFuture:b,isDateDisabled:ge,timezone:Te}):ft;Ln?(ve(Ln,"finish"),$({target:Ln,reason:"cell-interaction"})):(te(),$({target:xn,reason:"cell-interaction"}))}),qe=Ae(ft=>{const xn=i.startOfYear(ft),jn=i.endOfYear(ft),Ln=ge(ft)?Dc({adapter:i,date:ft,minDate:i.isBefore(W,xn)?xn:W,maxDate:i.isAfter(M,jn)?jn:M,disablePast:S,disableFuture:b,isDateDisabled:ge,timezone:Te}):ft;Ln?(ve(Ln,"finish"),$({target:Ln,reason:"cell-interaction"})):(te(),$({target:xn,reason:"cell-interaction"}))}),Xe=Ae(ft=>ke(ft&&Vd(i,ft,_e??ne),"finish",je));x.useEffect(()=>{i.isValid(_e)&&$({target:_e,reason:"controlled-value-change"})},[_e]);const yt=QW(F),rt={disablePast:S,disableFuture:b,maxDate:M,minDate:W},it={disableHighlightToday:U,readOnly:L,disabled:H,timezone:Te,gridLabelId:Se,slots:ee,slotProps:ye},dt=x.useRef(je);x.useEffect(()=>{dt.current!==je&&(le===dt.current&&Ce(je,!0),dt.current=je)},[le,Ce,je]);const qt=x.useMemo(()=>[_e],[_e]);return a.jsxs(XW,Z({ref:s,className:Rn(yt.root,P),ownerState:l},st,{children:[a.jsx(Qe,Z({},ot,{slots:ee,slotProps:ye})),a.jsx(ZW,{reduceAnimations:j,className:yt.viewTransitionContainer,transKey:je,ownerState:l,children:a.jsxs("div",{children:[je==="year"&&a.jsx(CW,Z({},rt,it,{value:_e,onChange:qe,shouldDisableYear:k,hasFocus:Oe,onFocusedViewChange:ft=>Ce("year",ft),yearsOrder:De,yearsPerRow:Me,referenceDate:ne})),je==="month"&&a.jsx(pW,Z({},rt,it,{currentMonth:oe.currentMonth,hasFocus:Oe,className:P,value:_e,onChange:Be,shouldDisableMonth:E,onFocusedViewChange:ft=>Ce("month",ft),monthsPerRow:We,referenceDate:ne})),je==="day"&&a.jsx(iW,Z({},oe,rt,it,{onMonthSwitchingAnimationEnd:K,hasFocus:Oe,onFocusedDayChange:ft=>$({target:ft,reason:"cell-interaction"}),reduceAnimations:j,selectedDays:qt,onSelectedDaysChange:Xe,shouldDisableDate:C,shouldDisableMonth:E,shouldDisableYear:k,onFocusedViewChange:ft=>Ce("day",ft),showDaysOutsideCurrentMonth:B,fixedWeekNumber:O,dayOfWeekFormatter:Q,displayWeekNumber:we,loading:ue,renderLoading:de}))]})})]}))}),ko=({view:e,onViewChange:t,views:s,focusedView:i,onFocusedViewChange:l,value:u,defaultValue:d,referenceDate:f,onChange:p,className:g,classes:y,disableFuture:v,disablePast:b,minDate:S,maxDate:T,shouldDisableDate:D,shouldDisableMonth:j,shouldDisableYear:C,reduceAnimations:E,onMonthChange:k,monthsPerRow:A,onYearChange:N,yearsOrder:z,yearsPerRow:P,slots:F,slotProps:H,loading:L,renderLoading:W,disableHighlightToday:M,readOnly:U,disabled:V,showDaysOutsideCurrentMonth:_,dayOfWeekFormatter:B,sx:O,autoFocus:Q,fixedWeekNumber:ee,displayWeekNumber:ye,timezone:ue})=>a.jsx(JW,{view:e,onViewChange:t,views:s.filter(h1),focusedView:i&&h1(i)?i:null,onFocusedViewChange:l,value:u,defaultValue:d,referenceDate:f,onChange:p,className:g,classes:y,disableFuture:v,disablePast:b,minDate:S,maxDate:T,shouldDisableDate:D,shouldDisableMonth:j,shouldDisableYear:C,reduceAnimations:E,onMonthChange:k,monthsPerRow:A,onYearChange:N,yearsOrder:z,yearsPerRow:P,slots:F,slotProps:H,loading:L,renderLoading:W,disableHighlightToday:M,readOnly:U,disabled:V,showDaysOutsideCurrentMonth:_,dayOfWeekFormatter:B,sx:O,autoFocus:Q,fixedWeekNumber:ee,displayWeekNumber:ye,timezone:ue}),EE=x.forwardRef(function(t,s){const i=Ht(),l=KD(t,"MuiDesktopDatePicker"),u=Z({day:ko,month:ko,year:ko},l.viewRenderers),d=Z({},l,{closeOnSelect:l.closeOnSelect??!0,viewRenderers:u,format:Py(i,l,!1),yearsPerRow:l.yearsPerRow??4,slots:Z({field:xE},l.slots),slotProps:Z({},l.slotProps,{field:p=>Z({},Js(l.slotProps?.field,p),GD(l)),toolbar:Z({hidden:!0},l.slotProps?.toolbar)})}),{renderPicker:f}=uz({ref:s,props:d,valueManager:sr,valueType:"date",validator:Vc,steps:null});return f()});EE.propTypes={autoFocus:Y.bool,className:Y.string,closeOnSelect:Y.bool,dayOfWeekFormatter:Y.func,defaultValue:Y.object,disabled:Y.bool,disableFuture:Y.bool,disableHighlightToday:Y.bool,disableOpenPicker:Y.bool,disablePast:Y.bool,displayWeekNumber:Y.bool,enableAccessibleFieldDOMStructure:Y.any,fixedWeekNumber:Y.number,format:Y.string,formatDensity:Y.oneOf(["dense","spacious"]),inputRef:G1,label:Y.node,loading:Y.bool,localeText:Y.object,maxDate:Y.object,minDate:Y.object,monthsPerRow:Y.oneOf([3,4]),name:Y.string,onAccept:Y.func,onChange:Y.func,onClose:Y.func,onError:Y.func,onMonthChange:Y.func,onOpen:Y.func,onSelectedSectionsChange:Y.func,onViewChange:Y.func,onYearChange:Y.func,open:Y.bool,openTo:Y.oneOf(["day","month","year"]),orientation:Y.oneOf(["landscape","portrait"]),readOnly:Y.bool,reduceAnimations:Y.bool,referenceDate:Y.object,renderLoading:Y.func,selectedSections:Y.oneOfType([Y.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),Y.number]),shouldDisableDate:Y.func,shouldDisableMonth:Y.func,shouldDisableYear:Y.func,showDaysOutsideCurrentMonth:Y.bool,slotProps:Y.object,slots:Y.object,sx:Y.oneOfType([Y.arrayOf(Y.oneOfType([Y.func,Y.object,Y.bool])),Y.func,Y.object]),timezone:Y.string,value:Y.object,view:Y.oneOf(["day","month","year"]),viewRenderers:Y.shape({day:Y.func,month:Y.func,year:Y.func}),views:Y.arrayOf(Y.oneOf(["day","month","year"]).isRequired),yearsOrder:Y.oneOf(["asc","desc"]),yearsPerRow:Y.oneOf([3,4])};const eY=He(ns)({[`& .${Hv.container}`]:{outline:0},[`& .${Hv.paper}`]:{outline:0,minWidth:mf}}),tY=He(ss)({"&:first-of-type":{padding:0}});function nY(e){const{children:t,slots:s,slotProps:i}=e,{open:l}=Ko(),{dismissViews:u,onPopperExited:d}=In(),f=s?.dialog??eY,p=s?.mobileTransition??Ud;return a.jsx(f,Z({open:l,onClose:()=>{u(),d?.()}},i?.dialog,{TransitionComponent:p,TransitionProps:i?.mobileTransition,PaperComponent:s?.mobilePaper,PaperProps:i?.mobilePaper,children:a.jsx(tY,{children:t})}))}const sY=["props","steps"],rY=["ownerState"],iY=e=>{let{props:t,steps:s}=e,i=tt(e,sY);const{slots:l,slotProps:u,label:d,inputRef:f,localeText:p}=t,g=rE({steps:s}),{providerProps:y,renderCurrentView:v,ownerState:b}=tE(Z({},i,{props:t,localeText:p,autoFocusView:!0,viewContainerRole:"dialog",variant:"mobile",getStepNavigation:g})),S=y.privateContextValue.labelId,T=u?.toolbar?.hidden??!1,D=l.field,j=Et({elementType:D,externalSlotProps:u?.field,additionalProps:Z({},T&&{id:S}),ownerState:b}),C=tt(j,rY),E=l.layout??sE;let k=S;T&&(d?k=`${S}-label`:k=void 0);const A=Z({},u,{toolbar:Z({},u?.toolbar,{titleId:S}),mobilePaper:Z({"aria-labelledby":k},u?.mobilePaper)});return{renderPicker:()=>a.jsxs(WD,Z({},y,{children:[a.jsx(D,Z({},C,{slots:l,slotProps:A,inputRef:f})),a.jsx(nY,{slots:l,slotProps:A,children:a.jsx(E,Z({},A?.layout,{slots:l,slotProps:A,children:v()}))})]}))}},ME=x.forwardRef(function(t,s){const i=Ht(),l=KD(t,"MuiMobileDatePicker"),u=Z({day:ko,month:ko,year:ko},l.viewRenderers),d=Z({},l,{viewRenderers:u,format:Py(i,l,!1),slots:Z({field:xE},l.slots),slotProps:Z({},l.slotProps,{field:p=>Z({},Js(l.slotProps?.field,p),GD(l)),toolbar:Z({hidden:!1},l.slotProps?.toolbar)})}),{renderPicker:f}=iY({ref:s,props:d,valueManager:sr,valueType:"date",validator:Vc,steps:null});return f()});ME.propTypes={autoFocus:Y.bool,className:Y.string,closeOnSelect:Y.bool,dayOfWeekFormatter:Y.func,defaultValue:Y.object,disabled:Y.bool,disableFuture:Y.bool,disableHighlightToday:Y.bool,disableOpenPicker:Y.bool,disablePast:Y.bool,displayWeekNumber:Y.bool,enableAccessibleFieldDOMStructure:Y.any,fixedWeekNumber:Y.number,format:Y.string,formatDensity:Y.oneOf(["dense","spacious"]),inputRef:G1,label:Y.node,loading:Y.bool,localeText:Y.object,maxDate:Y.object,minDate:Y.object,monthsPerRow:Y.oneOf([3,4]),name:Y.string,onAccept:Y.func,onChange:Y.func,onClose:Y.func,onError:Y.func,onMonthChange:Y.func,onOpen:Y.func,onSelectedSectionsChange:Y.func,onViewChange:Y.func,onYearChange:Y.func,open:Y.bool,openTo:Y.oneOf(["day","month","year"]),orientation:Y.oneOf(["landscape","portrait"]),readOnly:Y.bool,reduceAnimations:Y.bool,referenceDate:Y.object,renderLoading:Y.func,selectedSections:Y.oneOfType([Y.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),Y.number]),shouldDisableDate:Y.func,shouldDisableMonth:Y.func,shouldDisableYear:Y.func,showDaysOutsideCurrentMonth:Y.bool,slotProps:Y.object,slots:Y.object,sx:Y.oneOfType([Y.arrayOf(Y.oneOfType([Y.func,Y.object,Y.bool])),Y.func,Y.object]),timezone:Y.string,value:Y.object,view:Y.oneOf(["day","month","year"]),viewRenderers:Y.shape({day:Y.func,month:Y.func,year:Y.func}),views:Y.arrayOf(Y.oneOf(["day","month","year"]).isRequired),yearsOrder:Y.oneOf(["asc","desc"]),yearsPerRow:Y.oneOf([3,4])};const aY=["desktopModeMediaQuery"],oY=x.forwardRef(function(t,s){const i=Jt({props:t,name:"MuiDatePicker"}),{desktopModeMediaQuery:l=A_}=i,u=tt(i,aY);return W1(l,{defaultMatches:!0})?a.jsx(EE,Z({ref:s},u)):a.jsx(ME,Z({ref:s},u))}),lY=60,cY=1500,Pt={WORKOUT:"workout",CARDIO:"cardio",HIIT:"hiit",YOGA:"yoga"},xd={UPPER:"upper",LOWER:"lower",FULL:"full"},kE=({onNavigate:e})=>{const[t,s]=x.useState({show:!1,message:"",severity:"success"}),[i,l]=x.useState(Pt.WORKOUT),u={date:new Date,duration:"",notes:"",workoutType:xd.FULL,numExercises:"",setsPerExercise:"",cardioType:""},d=b=>{const S={};return b.date||(S.date="Date is required"),b.duration?(isNaN(b.duration)||parseFloat(b.duration)<=0)&&(S.duration="Duration must be a positive number"):S.duration="Duration is required",i===Pt.WORKOUT&&(b.numExercises?(isNaN(b.numExercises)||parseInt(b.numExercises)<=0)&&(S.numExercises="Must be a positive number"):S.numExercises="Number of exercises is required",b.setsPerExercise?(isNaN(b.setsPerExercise)||parseInt(b.setsPerExercise)<=0)&&(S.setsPerExercise="Must be a positive number"):S.setsPerExercise="Sets per exercise is required"),i===Pt.CARDIO&&(!b.cardioType||b.cardioType.trim()==="")&&(S.cardioType="Cardio type is required"),S},f=async(b,{setSubmitting:S,resetForm:T})=>{try{const D=b.date.getTime(),j=parseFloat(b.duration)*lY;if(i===Pt.WORKOUT){const C={date:D,duration:j,type:b.workoutType,exercises:{},notes:b.notes.trim(),numExercises:parseInt(b.numExercises),setsPerExercise:parseInt(b.setsPerExercise),isManualLog:!0};await Kg(C);const E=await Xg();E.totalWorkouts+=1,E.totalTime+=C.duration,await FC(E),s({show:!0,message:"Workout logged successfully!",severity:"success"})}else if(i===Pt.CARDIO){const C={cardioType:b.cardioType.trim(),duration:j,date:D,notes:b.notes.trim()};await o3(C),s({show:!0,message:"Cardio session logged successfully!",severity:"success"})}else if(i===Pt.HIIT){const C={id:Cw(),date:D,duration:j,type:"Manual Log",notes:b.notes.trim()};await Zg(C),s({show:!0,message:"HIIT session logged successfully!",severity:"success"})}else if(i===Pt.YOGA){const C={id:Cw(),date:D,duration:j,flowLength:0,coolDownLength:0,poseCount:0,type:"Manual Log",notes:b.notes.trim()};await Jg(C),s({show:!0,message:"Yoga session logged successfully!",severity:"success"})}T(),setTimeout(()=>{e&&e("progress")},cY)}catch(D){console.error("Error saving activity:",D),s({show:!0,message:"Failed to save activity. Please try again.",severity:"error"})}finally{S(!1)}},p=()=>{switch(i){case Pt.WORKOUT:return a.jsx(yn,{sx:{fontSize:48,color:"primary.main"}});case Pt.CARDIO:return a.jsx(ra,{sx:{fontSize:48,color:"#2196f3"}});case Pt.HIIT:return a.jsx(uc,{sx:{fontSize:48,color:"secondary.main"}});case Pt.YOGA:return a.jsx(nr,{sx:{fontSize:48,color:"#9c27b0"}});default:return a.jsx(yn,{sx:{fontSize:48,color:"primary.main"}})}},g=()=>{switch(i){case Pt.WORKOUT:return"primary.main";case Pt.CARDIO:return"#2196f3";case Pt.HIIT:return"secondary.main";case Pt.YOGA:return"#9c27b0";default:return"primary.main"}},y=()=>{switch(i){case Pt.WORKOUT:return"rgba(19, 70, 134, 0.1)";case Pt.CARDIO:return"rgba(33, 150, 243, 0.1)";case Pt.HIIT:return"rgba(237, 63, 39, 0.1)";case Pt.YOGA:return"rgba(156, 39, 176, 0.1)";default:return"rgba(19, 70, 134, 0.1)"}},v=()=>{switch(i){case Pt.WORKOUT:return"Log Workout";case Pt.CARDIO:return"Log Cardio";case Pt.HIIT:return"Log HIIT";case Pt.YOGA:return"Log Yoga";default:return"Log Activity"}};return a.jsx(OD,{dateAdapter:PH,children:a.jsx(q,{sx:{width:"100%",maxWidth:"700px",margin:"0 auto",padding:{xs:"1rem 0.75rem",sm:"1.5rem 1rem",md:"2rem 1rem"},boxSizing:"border-box"},children:a.jsxs(Pe.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[a.jsxs(q,{sx:{mb:3,textAlign:"center"},children:[a.jsx(q,{sx:{display:"flex",justifyContent:"center",mb:2},children:a.jsx(q,{sx:{p:{xs:1.5,sm:2},borderRadius:"50%",bgcolor:y(),display:"flex",alignItems:"center",justifyContent:"center"},children:p()})}),a.jsx(I,{variant:"h3",sx:{fontWeight:700,color:g(),mb:1,fontSize:{xs:"1.5rem",sm:"2rem",md:"2.5rem"}},children:v()}),a.jsx(I,{variant:"body1",sx:{color:"text.secondary",mb:2,fontSize:{xs:"0.875rem",sm:"1rem"},px:{xs:1,sm:0}},children:"Manually log your completed fitness activities"}),a.jsx(q,{sx:{display:"flex",justifyContent:"center",width:"100%",overflow:"auto",mb:2},children:a.jsxs(Mk,{value:i,exclusive:!0,onChange:(b,S)=>{S!==null&&l(S)},"aria-label":"activity type",sx:{flexWrap:{xs:"wrap",sm:"nowrap"},justifyContent:"center",gap:{xs:.5,sm:0},"& .MuiToggleButton-root":{fontSize:{xs:"0.75rem",sm:"0.875rem"},padding:{xs:"6px 8px",sm:"8px 16px"},minWidth:{xs:"calc(50% - 4px)",sm:"auto"},flex:{xs:"0 0 calc(50% - 4px)",sm:"0 1 auto"}}},children:[a.jsxs(rd,{value:Pt.WORKOUT,"aria-label":"workout",children:[a.jsx(yn,{sx:{mr:{xs:.5,sm:1},fontSize:{xs:"1rem",sm:"1.25rem"}}}),a.jsx(q,{component:"span",sx:{display:{xs:"none",sm:"inline"}},children:"Workout"}),a.jsx(q,{component:"span",sx:{display:{xs:"inline",sm:"none"}},children:"Work"})]}),a.jsxs(rd,{value:Pt.CARDIO,"aria-label":"cardio",children:[a.jsx(ra,{sx:{mr:{xs:.5,sm:1},fontSize:{xs:"1rem",sm:"1.25rem"}}}),"Cardio"]}),a.jsxs(rd,{value:Pt.HIIT,"aria-label":"hiit",children:[a.jsx(uc,{sx:{mr:{xs:.5,sm:1},fontSize:{xs:"1rem",sm:"1.25rem"}}}),"HIIT"]}),a.jsxs(rd,{value:Pt.YOGA,"aria-label":"yoga",children:[a.jsx(nr,{sx:{mr:{xs:.5,sm:1},fontSize:{xs:"1rem",sm:"1.25rem"}}}),"Yoga"]})]})})]}),t.show&&a.jsx(Pe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:a.jsx(Ot,{severity:t.severity,sx:{mb:3},onClose:()=>s({...t,show:!1}),children:t.message})}),a.jsx(Ie,{sx:{borderRadius:3,width:"100%",boxSizing:"border-box"},children:a.jsx(Le,{sx:{p:{xs:2,sm:3},"&:last-child":{pb:{xs:2,sm:3}}},children:a.jsx(KN,{initialValues:u,validate:d,onSubmit:f,enableReinitialize:!0,children:({errors:b,touched:S,isSubmitting:T,isValid:D,dirty:j,values:C,setFieldValue:E})=>a.jsx(pD,{children:a.jsxs(Ee,{spacing:2,children:[a.jsx(lo,{name:"date",children:()=>a.jsx(oY,{label:"Date",value:C.date,onChange:k=>E("date",k),slotProps:{textField:{fullWidth:!0,error:S.date&&!!b.date,helperText:S.date&&b.date,sx:{width:"100%"}}},sx:{width:"100%"}})}),a.jsx(lo,{name:"duration",children:({field:k})=>a.jsx(et,{...k,fullWidth:!0,type:"number",label:"Duration (minutes)",placeholder:"e.g., 45",error:S.duration&&!!b.duration,helperText:S.duration&&b.duration,variant:"outlined",inputProps:{min:0,step:1}})}),i===Pt.WORKOUT&&a.jsxs(a.Fragment,{children:[a.jsxs(bt,{fullWidth:!0,children:[a.jsx(vt,{children:"Workout Type"}),a.jsxs(St,{value:C.workoutType,label:"Workout Type",onChange:k=>E("workoutType",k.target.value),children:[a.jsx(be,{value:xd.UPPER,children:"Upper Body"}),a.jsx(be,{value:xd.LOWER,children:"Lower Body"}),a.jsx(be,{value:xd.FULL,children:"Full Body"})]})]}),a.jsx(lo,{name:"numExercises",children:({field:k})=>a.jsx(et,{...k,fullWidth:!0,type:"number",label:"Number of Exercises",placeholder:"e.g., 6",error:S.numExercises&&!!b.numExercises,helperText:S.numExercises&&b.numExercises,variant:"outlined",inputProps:{min:1,step:1}})}),a.jsx(lo,{name:"setsPerExercise",children:({field:k})=>a.jsx(et,{...k,fullWidth:!0,type:"number",label:"Sets per Exercise",placeholder:"e.g., 3",error:S.setsPerExercise&&!!b.setsPerExercise,helperText:S.setsPerExercise&&b.setsPerExercise,variant:"outlined",inputProps:{min:1,step:1}})})]}),i===Pt.CARDIO&&a.jsx(lo,{name:"cardioType",children:({field:k})=>a.jsx(et,{...k,fullWidth:!0,label:"Cardio Type",placeholder:"e.g., Running, Cycling, Swimming",error:S.cardioType&&!!b.cardioType,helperText:S.cardioType&&b.cardioType,variant:"outlined"})}),a.jsx(lo,{name:"notes",children:({field:k})=>a.jsx(et,{...k,fullWidth:!0,multiline:!0,rows:4,label:"Notes (optional)",placeholder:"Add any notes about your session...",variant:"outlined"})}),a.jsx(xe,{type:"submit",variant:"contained",fullWidth:!0,disabled:T||!D||!j,sx:{bgcolor:g(),"&:hover":{bgcolor:g(),filter:"brightness(0.9)"},py:1.5,fontWeight:600,mt:2},children:T?"Logging...":`Log ${v().replace("Log ","")}`})]})})})})})]})})})};kE.propTypes={onNavigate:Y.func};const uY={Chest:"Lats",Lats:"Chest",Quads:"Hamstrings",Hamstrings:"Quads",Biceps:"Triceps",Triceps:"Biceps",Shoulders:"Lats"},PE=()=>{const[e,t]=x.useState({}),[s,i]=x.useState([]),[l,u]=x.useState(!0),[d,f]=x.useState(null);x.useEffect(()=>{(async()=>{try{u(!0);const S=await fetch(sf);if(!S.ok)throw new Error(`Failed to load exercises: ${S.status}`);const T=await S.json();i(T);const D=T.reduce((j,C)=>{const E=C["Primary Muscle"].split("(")[0].trim();return j[E]||(j[E]=[]),j[E].push(C),j},{});t(D),u(!1)}catch(S){console.error("Failed to load exercise data:",S),f(S.message),u(!1)}})()},[]);const p=x.useCallback((b,S,T=[],D="all")=>{let j=(e[b]||[]).filter(E=>!T.some(k=>k["Exercise Name"]===E["Exercise Name"]));if(D!=="all"){const E=Array.isArray(D)?D:[D];j=j.filter(k=>{const A=k.Equipment.toLowerCase();return E.some(N=>{const z=N.toLowerCase();return z==="cable machine"?A.includes("cable"):z==="dumbbells"?A.includes("dumbbell"):A.includes(z)})})}if(j.length<S)return console.warn(`Insufficient exercises for ${b}. Available: ${j.length}, Requested: ${S}`),j;const C=[...j];for(let E=C.length-1;E>0;E--){const k=Math.floor(Math.random()*(E+1));[C[E],C[k]]=[C[k],C[E]]}return C.slice(0,S)},[e]),g=x.useCallback((b,S="all")=>{let T=[];switch(b){case"upper":T.push(...p("Chest",3,T,S)),T.push(...p("Lats",3,T,S)),T.push(...p("Biceps",1,T,S)),T.push(...p("Triceps",1,T,S));break;case"lower":{const D=Math.floor(Math.random()*2)+3,j=Math.floor(Math.random()*2)+2,C=vo-D-j;T.push(...p("Quads",D,T,S)),T.push(...p("Hamstrings",j,T,S)),C>0&&T.push(...p("Core",C,T,S));break}case"full":{const D=Math.floor(Math.random()*2)+1,j=vo-2-2-2-D;T.push(...p("Chest",2,T,S)),T.push(...p("Lats",2,T,S)),T.push(...p("Quads",2,T,S)),T.push(...p("Hamstrings",D,T,S)),j>0&&T.push(...p("Core",j,T,S));break}default:console.warn(`Unknown workout type: ${b}`);break}for(;T.length<vo&&T.length>0;){const D=Object.keys(e);if(D.length===0)break;const j=D[Math.floor(Math.random()*D.length)],C=p(j,1,T,S);if(C.length>0)T.push(C[0]);else break}return T.slice(0,vo)},[e,p]),y=x.useCallback(b=>{const S=[],T=[...b];for(;T.length>=2;){const D=T.shift(),j=D["Primary Muscle"].split("(")[0].trim(),C=uY[j];let E=-1;C&&(E=T.findIndex(A=>A["Primary Muscle"].includes(C))),E===-1&&(E=T.findIndex(A=>!A["Primary Muscle"].includes(j))),E===-1&&(E=0);const k=T.splice(E,1)[0];S.push(D,k)}return T.length>0&&S.push(...T),S},[]);return{generateWorkout:x.useCallback((b,S="all")=>{if(Object.keys(e).length===0)return console.error("Exercise database is empty. Cannot generate workout."),[];const T=g(b,S);return y(T)},[e,g,y]),allExercises:s,exerciseDB:e,loading:l,error:d}},dY=()=>{const{allExercises:e,loading:t}=PE(),[s,i]=x.useState(""),[l,u]=x.useState("all"),[d,f]=x.useState("all"),[p,g]=x.useState("all"),[y,v]=x.useState(new Set),[b,S]=x.useState({}),[T,D]=x.useState({});x.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),(async()=>{const F=new Set,H={},L={};await Promise.all(e.map(async W=>{const M=W["Exercise Name"];y3(M)&&F.add(M);const[U,V]=await Promise.all([bc(M),Bo(M)]);H[M]=U??"",L[M]=V??""})),v(F),S(H),D(L)})()},[e]);const j=x.useMemo(()=>{const P=new Set;return e.forEach(F=>{const H=F["Primary Muscle"].split("(")[0].trim();P.add(H)}),["all",...Array.from(P).sort()]},[e]),C=x.useMemo(()=>{const P=new Set;return e.forEach(F=>{P.add(F.Equipment)}),["all",...Array.from(P).sort()]},[e]),E=x.useMemo(()=>{const P=new Set;return e.forEach(F=>{P.add(F["Exercise Type"])}),["all",...Array.from(P).sort()]},[e]),k=x.useMemo(()=>e.filter(P=>{const F=s===""||P["Exercise Name"].toLowerCase().includes(s.toLowerCase())||P["Primary Muscle"].toLowerCase().includes(s.toLowerCase())||P.Equipment.toLowerCase().includes(s.toLowerCase()),H=P["Primary Muscle"].split("(")[0].trim(),L=l==="all"||H===l,W=d==="all"||P.Equipment===d,M=p==="all"||P["Exercise Type"]===p;return F&&L&&W&&M}),[e,s,l,d,p]),A=P=>{const F=g3(P);v(H=>{const L=new Set(H);return F?L.add(P):L.delete(P),L})},N=async(P,F)=>{if(F==="")S(H=>({...H,[P]:""})),await la(P,null);else{const H=Math.max(0,Number(F));S(L=>({...L,[P]:H})),await la(P,H)}},z=async(P,F)=>{if(F==="")D(H=>({...H,[P]:""})),await vc(P,null);else{const H=Math.max(1,Number(F));D(L=>({...L,[P]:H})),await vc(P,H)}};return t?a.jsx(q,{sx:{p:4,textAlign:"center"},children:a.jsx(I,{variant:"h5",color:"text.secondary",children:"Loading exercises..."})}):a.jsxs(q,{sx:{width:"100%",minHeight:"100vh"},children:[a.jsx(ps,{title:"Exercise Database",icon:""}),a.jsxs(Pe.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{padding:"1rem",maxWidth:"1400px",margin:"0 auto"},children:[a.jsx(Ie,{sx:{mb:2,p:{xs:1,sm:2},borderRadius:2,boxShadow:"0 2px 8px rgba(19, 70, 134, 0.08)"},children:a.jsxs(Ee,{spacing:1.5,children:[a.jsx(et,{fullWidth:!0,size:"small",placeholder:"Search exercises...",value:s,onChange:P=>i(P.target.value),InputProps:{startAdornment:a.jsx(ig,{position:"start",children:a.jsx(N1,{fontSize:"small"})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:1.5}}}),a.jsxs(Ee,{direction:{xs:"column",sm:"row"},spacing:1,sx:{width:"100%"},children:[a.jsxs(bt,{size:"small",sx:{minWidth:120,flex:1},children:[a.jsx(vt,{children:"Muscle"}),a.jsxs(St,{value:l,label:"Muscle",onChange:P=>u(P.target.value),children:[a.jsx(be,{value:"all",children:"All Muscles"}),j.filter(P=>P!=="all").map(P=>a.jsx(be,{value:P,children:P},P))]})]}),a.jsxs(bt,{size:"small",sx:{minWidth:120,flex:1},children:[a.jsx(vt,{children:"Equipment"}),a.jsxs(St,{value:d,label:"Equipment",onChange:P=>f(P.target.value),children:[a.jsx(be,{value:"all",children:"All Equipment"}),C.filter(P=>P!=="all").map(P=>a.jsx(be,{value:P,children:P},P))]})]}),a.jsxs(bt,{size:"small",sx:{minWidth:120,flex:1},children:[a.jsx(vt,{children:"Type"}),a.jsxs(St,{value:p,label:"Type",onChange:P=>g(P.target.value),children:[a.jsx(be,{value:"all",children:"All Types"}),E.filter(P=>P!=="all").map(P=>a.jsx(be,{value:P,children:P},P))]})]})]})]})}),a.jsxs(I,{variant:"body2",color:"text.secondary",sx:{mb:1.5,textAlign:"center",fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:["Showing ",k.length," of ",e.length," exercises"]}),k.length>0?a.jsx(F1,{component:Nn,sx:{borderRadius:2,boxShadow:"0 2px 8px rgba(19, 70, 134, 0.08)",maxHeight:"calc(100vh - 350px)",overflow:"auto"},children:a.jsxs(H1,{stickyHeader:!0,size:"small",sx:{minWidth:{xs:300,sm:650}},children:[a.jsx(_1,{children:a.jsxs(po,{children:[a.jsx(Qt,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5},children:a.jsx(q,{sx:{display:"flex",alignItems:"center",gap:.5},children:a.jsx("span",{children:""})})}),a.jsx(Qt,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5},children:"Exercise Name"}),a.jsx(Qt,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5,display:{xs:"none",sm:"table-cell"}},children:"Type"}),a.jsx(Qt,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5,display:{xs:"none",md:"table-cell"}},children:"Equipment"}),a.jsx(Qt,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5,textAlign:"center"},children:"Target Weight (lbs)"}),a.jsx(Qt,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5,textAlign:"center"},children:"Target Reps"})]})}),a.jsx(z1,{children:k.map((P,F)=>{const H=y.has(P["Exercise Name"]),L=P["Exercise Name"],W=b[L],M=T[L];return a.jsxs(po,{sx:{"&:hover":{bgcolor:"rgba(138, 190, 185, 0.05)"},bgcolor:F%2===0?"background.paper":"rgba(0, 0, 0, 0.02)"},children:[a.jsx(Qt,{sx:{py:1},children:a.jsx(Jn,{title:H?"Remove from favorites":"Add to favorites",children:a.jsx(ut,{size:"small",onClick:()=>A(L),sx:{color:H?"rgb(237, 63, 39)":"action.disabled",p:.5},children:H?a.jsx(kk,{fontSize:"small"}):a.jsx(Pk,{fontSize:"small"})})})}),a.jsx(Qt,{sx:{py:1},children:a.jsxs(q,{children:[a.jsx(I,{variant:"body2",sx:{fontWeight:600,fontSize:{xs:"0.75rem",sm:"0.875rem"},color:"primary.main"},children:L}),a.jsxs(I,{variant:"caption",color:"text.secondary",sx:{fontSize:{xs:"0.65rem",sm:"0.75rem"},display:{xs:"block",sm:"none"}},children:[P["Exercise Type"],"  ",P.Equipment]})]})}),a.jsx(Qt,{sx:{py:1,display:{xs:"none",sm:"table-cell"}},children:a.jsx(Je,{label:P["Exercise Type"],size:"small",variant:"outlined",sx:{fontSize:"0.7rem",height:22,borderColor:P["Exercise Type"]==="Compound"?"primary.main":"text.secondary",color:P["Exercise Type"]==="Compound"?"primary.main":"text.secondary"}})}),a.jsx(Qt,{sx:{py:1,display:{xs:"none",md:"table-cell"}},children:a.jsx(I,{variant:"body2",sx:{fontSize:"0.8rem"},children:P.Equipment})}),a.jsx(Qt,{sx:{py:1},children:a.jsx(et,{type:"tel",inputMode:"decimal",size:"small",value:W===""?"":W,onChange:U=>N(L,U.target.value),onFocus:U=>U.target.select(),placeholder:"",inputProps:{min:0,step:5,pattern:"[0-9]*([.,][0-9]+)?","aria-label":`Target weight in pounds for ${L}`,style:{textAlign:"center",fontSize:"0.875rem",padding:"4px 8px"}},sx:{width:{xs:60,sm:70},"& .MuiOutlinedInput-root":{"& input":{textAlign:"center"}}}})}),a.jsx(Qt,{sx:{py:1},children:a.jsx(et,{type:"tel",inputMode:"numeric",size:"small",value:M===""?"":M,onChange:U=>z(L,U.target.value),onFocus:U=>U.target.select(),placeholder:"",inputProps:{min:1,step:1,pattern:"\\d*","aria-label":`Target repetitions for ${L}`,style:{textAlign:"center",fontSize:"0.875rem",padding:"4px 8px"}},sx:{width:{xs:60,sm:70},"& .MuiOutlinedInput-root":{"& input":{textAlign:"center"}}}})})]},L)})})]})}):a.jsxs(q,{sx:{textAlign:"center",py:8},children:[a.jsx(I,{variant:"h6",color:"text.secondary",children:"No exercises found"}),a.jsx(I,{variant:"body2",color:"text.secondary",children:"Try adjusting your search or filters"})]})]})]})},AE=x.createContext(),OE=()=>{const e=x.useContext(AE);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e},RE=({children:e})=>{const[t,s]=x.useState(()=>{try{return localStorage.getItem("themeMode")==="light"?"light":"dark"}catch{return"dark"}});x.useEffect(()=>{try{localStorage.setItem("themeMode",t)}catch(d){console.warn("Could not save theme preference",d)}},[t]);const i=()=>{s(d=>d==="dark"?"light":"dark")},l=x.useMemo(()=>Ak({palette:t==="dark"?{mode:"dark",primary:{main:"#1db584",light:"#2dd099",dark:"#18a071"},secondary:{main:"#ff8c00",light:"#ffa333",dark:"#cc7000"},background:{default:"#1e2939",paper:"#2a3647"},text:{primary:"#ffffff",secondary:"#a0a8b3"},success:{main:"#1db584"},warning:{main:"#ff8c00"},error:{main:"#ef5350"},info:{main:"#6b8a9d"}}:{mode:"light",primary:{main:"#18a071",light:"#1db584",dark:"#0f7a55"},secondary:{main:"#ed3f27",light:"#ff6347",dark:"#cc3520"},background:{default:"rgb(255, 245, 233)",paper:"rgb(254, 230, 200)"},text:{primary:"#1e2939",secondary:"#4a5568"},success:{main:"#18a071"},warning:{main:"#ff8c00"},error:{main:"#ef5350"},info:{main:"#6b8a9d"}},typography:{fontFamily:"'Poppins', sans-serif",h1:{fontFamily:"'Montserrat', sans-serif",fontWeight:800},h2:{fontFamily:"'Montserrat', sans-serif",fontWeight:800},h3:{fontFamily:"'Montserrat', sans-serif",fontWeight:700},h4:{fontFamily:"'Montserrat', sans-serif",fontWeight:700},h5:{fontFamily:"'Montserrat', sans-serif",fontWeight:700},h6:{fontFamily:"'Montserrat', sans-serif",fontWeight:700}},components:{MuiCard:{styleOverrides:{root:{backgroundImage:"none"}}},MuiPaper:{styleOverrides:{root:{backgroundImage:"none"}}},MuiButton:{styleOverrides:{containedPrimary:t==="dark"?{backgroundColor:"#1db584","&:hover":{backgroundColor:"#18a071"}}:{backgroundColor:"#18a071",color:"#ffffff","&:hover":{backgroundColor:"#0f7a55"}},containedSecondary:t==="dark"?{backgroundColor:"#ff8c00","&:hover":{backgroundColor:"#cc7000"}}:{backgroundColor:"#ed3f27",color:"#ffffff","&:hover":{backgroundColor:"#cc3520"}}}}}}),[t]),u={mode:t,toggleTheme:i,theme:l};return a.jsx(AE.Provider,{value:u,children:e})};RE.propTypes={children:Y.node.isRequired};const fY=()=>{const{mode:e,toggleTheme:t}=OE(),[s,i]=x.useState(()=>{try{const g=localStorage.getItem("audioVolume");return g?parseFloat(g):.3}catch{return .3}}),[l,u]=x.useState(Ct.isMutedState());x.useEffect(()=>{try{localStorage.setItem("audioVolume",s.toString())}catch(g){console.warn("Could not save volume preference",g)}},[s]);const d=(g,y)=>{i(y),y>0&&l&&(Ct.setMuted(!1),u(!1)),y===0&&!l&&(Ct.setMuted(!0),u(!0))},f=()=>{t(),l||Ct.playTransitionBeep()},p=()=>{s>0&&!l&&Ct.playBeep(800,200,s)};return a.jsx(q,{sx:{minHeight:"100vh",padding:{xs:2,sm:3,md:4},background:g=>g.palette.background.default},children:a.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx(I,{variant:"h4",sx:{mb:3,fontWeight:700,color:"text.primary"},children:"Settings"}),a.jsx(Ie,{sx:{maxWidth:600,borderRadius:2,boxShadow:3},children:a.jsx(Le,{sx:{p:3},children:a.jsxs(Ee,{spacing:3,children:[a.jsxs(q,{children:[a.jsxs(I,{variant:"h6",sx:{mb:2,fontWeight:600,display:"flex",alignItems:"center",gap:1},children:[e==="dark"?a.jsx(Ok,{}):a.jsx(Rk,{}),"Appearance"]}),a.jsx(og,{control:a.jsx(Ik,{checked:e==="light",onChange:f,color:"primary"}),label:a.jsxs(q,{children:[a.jsx(I,{variant:"body1",fontWeight:500,children:e==="dark"?"Dark Theme":"Light Theme"}),a.jsx(I,{variant:"body2",color:"text.secondary",children:"Switch between dark and light modes"})]})})]}),a.jsx(yi,{}),a.jsxs(q,{children:[a.jsxs(I,{variant:"h6",sx:{mb:2,fontWeight:600,display:"flex",alignItems:"center",gap:1},children:[a.jsx(sg,{}),"Sound"]}),a.jsxs(q,{sx:{px:1},children:[a.jsx(I,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Sound Effects Volume"}),a.jsxs(q,{sx:{display:"flex",alignItems:"center",gap:2},children:[a.jsx(Bk,{value:s,onChange:d,onChangeCommitted:p,min:0,max:1,step:.1,valueLabelDisplay:"auto",valueLabelFormat:g=>`${Math.round(g*100)}%`,sx:{flex:1,"& .MuiSlider-thumb":{width:20,height:20},"& .MuiSlider-track":{height:6},"& .MuiSlider-rail":{height:6}}}),a.jsxs(I,{variant:"body2",sx:{minWidth:45,fontWeight:600,color:"text.secondary"},children:[Math.round(s*100),"%"]})]}),a.jsx(I,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:1},children:"Adjust the volume of sound effects throughout the app. Set to 0 to mute all sounds."})]})]})]})})}),a.jsx(q,{sx:{mt:3},children:a.jsx(I,{variant:"body2",color:"text.secondary",children:"Your preferences are saved automatically and will persist between sessions."})})]})})},IE=({open:e,onClose:t,userId:s})=>{const[i,l]=x.useState(!1),[u,d]=x.useState(null),f=async()=>{if(!s){d("No user ID provided");return}l(!0),d(null);try{const g=LC(),y=[];g.workout_history&&g.workout_history.length>0&&y.push(Ic(s,g.workout_history)),g.user_stats&&y.push(Zd(s,g.user_stats)),g.exercise_weights&&Object.keys(g.exercise_weights).length>0&&y.push(Yg(s,g.exercise_weights)),g.exercise_target_reps&&Object.keys(g.exercise_target_reps).length>0&&y.push(Ug(s,g.exercise_target_reps)),await Promise.all(y),Om(),l(!1),t(!0)}catch(g){console.error("Error migrating guest data:",g),d("Failed to migrate data. Please try again."),l(!1)}},p=()=>{Om(),t(!1)};return a.jsxs(ns,{open:e,onClose:i?void 0:()=>t(!1),maxWidth:"sm",fullWidth:!0,disableEscapeKeyDown:i,PaperProps:{sx:{borderRadius:2}},children:[a.jsx(ys,{sx:{pb:1},children:a.jsxs(q,{sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsx(_v,{sx:{color:"primary.main",fontSize:28}}),a.jsx(I,{variant:"h6",component:"span",sx:{fontWeight:600},children:"Save Your Guest Data?"})]})}),a.jsxs(ss,{children:[a.jsx(I,{variant:"body1",sx:{mb:2},children:"You have workout data from your guest session. Would you like to transfer it to your new account?"}),a.jsx(I,{variant:"body2",sx:{color:"text.secondary"},children:"This will save your workout history, progress, and settings to the cloud."}),u&&a.jsx(I,{variant:"body2",sx:{color:"error.main",mt:2},children:u})]}),a.jsxs(rs,{sx:{p:2,pt:0},children:[a.jsx(xe,{onClick:p,disabled:i,variant:"text",sx:{color:"text.secondary"},children:"Skip"}),a.jsx(xe,{onClick:f,disabled:i,variant:"contained",startIcon:i?a.jsx(Yd,{size:20,color:"inherit"}):a.jsx(_v,{}),sx:{fontWeight:600},children:i?"Migrating...":"Save My Data"})]})]})};IE.propTypes={open:Y.bool.isRequired,onClose:Y.func.isRequired,userId:Y.string};const hY=()=>{const[e,t]=x.useState(new Set);return x.useEffect(()=>{const s=()=>{const l=ey(),u=_C(),d=new Set;u.forEach(p=>{p.exercises&&Array.isArray(p.exercises)&&p.exercises.forEach(g=>{g&&g["Exercise Name"]&&d.add(g["Exercise Name"])})});const f=new Set([...l,...d]);t(f)};s();const i=setInterval(s,3e4);return()=>clearInterval(i)},[]),e};function pY(){const[e,t]=x.useState("home"),[s,i]=x.useState(!1),[l,u]=x.useState([]),[d,f]=x.useState("full"),[p,g]=x.useState(new Set(["all"])),[y,v]=x.useState([]),[b,S]=x.useState(null),[T,D]=x.useState(!1),[j,C]=x.useState(!1),[E,k]=x.useState({open:!1,message:"",severity:"info"}),[A,N]=x.useState(window.innerWidth>768),[z,P]=x.useState(!1),[F,H]=x.useState(!1),{currentUser:L,isGuest:W,hasGuestData:M}=Nc(),{generateWorkout:U,allExercises:V,exerciseDB:_}=PE(),B=hY();x.useEffect(()=>{P(W?n3():!1)},[W]),x.useEffect(()=>{L&&!W&&M&&H(!0)},[L,W,M]);const O=async ne=>{if(H(!1),ne||Id(),L&&L.uid)try{await HC(L.uid)}catch(oe){console.error("Error loading user data after migration:",oe)}},Q=()=>{s3(),P(!1)};x.useEffect(()=>{const ne=()=>{if(N(window.innerWidth>768),window.visualViewport){const $=window.visualViewport;document.documentElement.style.setProperty("--viewport-height",`${$.height}px`)}},oe=()=>{setTimeout(()=>{window.scrollTo(0,0),ne()},100)};return window.addEventListener("resize",ne),window.addEventListener("orientationchange",oe),window.visualViewport&&window.visualViewport.addEventListener("resize",ne),ne(),()=>{window.removeEventListener("resize",ne),window.removeEventListener("orientationchange",oe),window.visualViewport&&window.visualViewport.removeEventListener("resize",ne)}},[]),x.useEffect(()=>{if(V.length>0){const ne=new Set;V.forEach(oe=>{const $=oe.Equipment;$.includes("Cable")?ne.add("Cable Machine"):$.includes("Dumbbell")?ne.add("Dumbbells"):ne.add($)}),v(Array.from(ne).sort())}},[V]);const ee=ne=>{t(ne),ne==="selection"&&i(!0)},ye=ne=>{f(ne)},ue=ne=>{if(ne instanceof Set)g(ne);else{const oe=new Set;oe.add(ne),g(oe)}},de=()=>{i(!s)},we=(ne,oe,$=null,ge=null)=>{D(!0),ge?sessionStorage.setItem("currentWorkoutPlanContext",JSON.stringify(ge)):sessionStorage.removeItem("currentWorkoutPlanContext"),setTimeout(()=>{const K=$||U(ne,oe);u(K),f(ne),D(!1),C(!0),t("preview")},500)},De=ne=>{f(ne),t("customize")},Me=ne=>{u(ne),t("custom-preview")},We=()=>{t("selection")},Ue=ne=>{u(ne),C(!1),t("workout")},st=()=>{t("selection")},_e=()=>{C(!1),t("workout")},ke=()=>{C(!1),t("selection")},Te=x.useCallback((ne,oe)=>{if(!_||Object.keys(_).length===0){console.error("Exercise database not available"),k({open:!0,message:"Exercise database not loaded",severity:"error"});return}const $=ne["Primary Muscle"],ge=ne["Exercise Type"],K=ne["Exercise Name"],fe=_[$]||[];let me=0;const Se=3;let Oe=null;for(;me<Se&&!Oe;){me++;let ot=fe;const Be=Array.from(p);Be.includes("all")||(ot=fe.filter(rt=>{const it=rt.Equipment;return Be.some(dt=>dt==="Cable Machine"?it.includes("Cable"):dt==="Dumbbells"?it.includes("Dumbbell"):it.includes(dt))})),ot=ot.filter(rt=>rt["Exercise Type"]===ge);const qe=l.map(rt=>rt["Exercise Name"]);let Xe=ot.filter(rt=>rt["Exercise Name"]!==K&&!qe.includes(rt["Exercise Name"]));if(Xe.length===0&&(Xe=ot.filter(rt=>rt["Exercise Name"]!==K)),Xe.length===0)continue;const yt=[...Xe];Xe.forEach(rt=>{B.has(rt["Exercise Name"])&&yt.push(rt)}),Oe=yt[Math.floor(Math.random()*yt.length)]}if(!Oe){k({open:!0,message:"No alternative exercises available",severity:"warning"});return}const Qe=[...l];Qe[oe]=Oe,u(Qe)},[_,l,p,B]),je=x.useCallback((ne,oe)=>{const $=oe.includes("Dumbbell")||oe.includes("Kettlebell");return So.UPPER_BODY.includes(ne)?$?ud.UPPER_BODY.DUMBBELL:ud.UPPER_BODY.BARBELL:So.LOWER_BODY.includes(ne)?$?ud.LOWER_BODY.DUMBBELL:ud.LOWER_BODY.BARBELL:0},[]),Ne=x.useCallback(async ne=>{const oe=[],$=sessionStorage.getItem("currentWorkoutPlanContext"),ge=$?JSON.parse($):null;for(const[me,Se]of Object.entries(ne.exercises)){const Oe=Se.sets[Se.sets.length-1];if(Oe?.weight>0){const Qe=await Bo(me);if(Se.sets.every(Be=>Be.reps>=Qe)&&Se.sets.length>=Im){const Be=l.find(qe=>qe["Exercise Name"]===me);if(Be){const qe=Be["Primary Muscle"].split("(")[0].trim(),Xe=je(qe,Be.Equipment);if(Xe>0){const yt=Oe.weight+Xe;await la(me,yt),oe.push({exercise:me,oldWeight:Oe.weight,newWeight:yt,increase:Xe})}}}else await la(me,Oe.weight)}}if(oe.length>0){const me=oe.map(Se=>`${Se.exercise}: ${Se.oldWeight}  ${Se.newWeight} lbs (+${Se.increase} lbs)`);k({open:!0,message:` Progressive Overload! You hit your target reps!

${me.join(`
`)}`,severity:"success"})}const K={...ne,type:d,planId:ge?.planId||null,planDay:ge?.planDay??null};await Kg(K),sessionStorage.removeItem("currentWorkoutPlanContext");const fe=await Xg();fe.totalWorkouts+=1,fe.totalTime+=ne.duration,await FC(fe),S(K),t("completion")},[d,l,je]),le=()=>{t("selection")},Ce=()=>{t("selection")},te=()=>{if(!b)return;let oe="data:text/csv;charset=utf-8,"+["Date","WorkoutType","Duration","Exercise","Set","Weight","Reps"].join(",")+`
`;for(const K in b.exercises)b.exercises[K].sets.forEach(me=>{const Se=[new Date(b.date).toLocaleString(),b.type,b.duration,K,me.set,me.weight,me.reps];oe+=Se.join(",")+`
`});const $=encodeURI(oe),ge=document.createElement("a");ge.setAttribute("href",$),ge.setAttribute("download",`GoodLift_Workout_${new Date(b.date).toISOString().split("T")[0]}.csv`),document.body.appendChild(ge),ge.click(),document.body.removeChild(ge)},{theme:ve}=OE();return L?a.jsxs(zv,{theme:ve,children:[a.jsx(Vv,{}),a.jsxs("div",{style:{display:"flex",minHeight:"100vh"},children:[a.jsx(qC,{currentScreen:e,onNavigate:ee,isOpen:s,onToggle:de}),a.jsx(X1,{onNavigate:ee}),a.jsxs("div",{id:"app",style:{flex:1,marginLeft:A?"280px":"0",marginTop:"60px",transition:"margin-left 0.3s ease"},children:[e==="home"&&a.jsx($C,{onNavigate:ee,onStartWorkout:we}),e==="selection"&&a.jsx(KC,{workoutType:d,selectedEquipment:p,equipmentOptions:y,onWorkoutTypeChange:ye,onEquipmentChange:ue,onStartWorkout:we,onCustomize:De,onNavigate:ee,loading:T}),e==="customize"&&a.jsx(cy,{workoutType:d,equipmentFilter:p.has("all")?"all":Array.from(p),allExercises:V,onCancel:We,onContinue:Me}),e==="custom-preview"&&l.length>0&&a.jsx(uy,{workout:l,workoutType:d,onStart:Ue,onCancel:st}),e==="preview"&&j&&l.length>0&&a.jsx(ly,{workout:l,workoutType:d,onStart:_e,onCancel:ke,onRandomizeExercise:Te,equipmentFilter:Array.from(p)}),e==="workout"&&l.length>0&&a.jsx(pj,{workoutPlan:l,onComplete:Ne,onExit:le}),e==="completion"&&b&&a.jsx(dy,{workoutData:b,workoutPlan:l,onFinish:Ce,onExportCSV:te}),e==="progress"&&a.jsx(gj,{onNavigate:ee,onStartWorkout:we}),e==="workout-plan"&&a.jsx(uj,{onNavigate:ee}),e==="timer"&&a.jsx(BB,{}),e==="hiit"&&a.jsx(kB,{}),e==="hiit-selection"&&a.jsx(jj,{onNavigate:ee}),e==="hiit-session"&&a.jsx(Ej,{onNavigate:ee}),e==="yoga-selection"&&a.jsx(Oj,{onNavigate:ee}),e==="yoga-session"&&a.jsx(Rj,{onNavigate:ee}),e==="cardio"&&a.jsx(Fj,{onNavigate:ee}),e==="log-activity"&&a.jsx(kE,{onNavigate:ee}),(e==="stretch"||e==="yoga"||e==="mobility")&&a.jsx(YB,{}),e==="exercise-list"&&a.jsx(dY,{}),e==="settings"&&a.jsx(fY,{})]}),a.jsx(IE,{open:F,onClose:O,userId:L?.uid}),a.jsx(xi,{open:z,anchorOrigin:{vertical:"bottom",horizontal:"center"},sx:{bottom:{xs:80,sm:24}},children:a.jsx(Ot,{severity:"info",onClose:Q,action:a.jsx(xe,{color:"inherit",size:"small",onClick:()=>t("progress"),sx:{fontWeight:600},children:"Sign Up"}),sx:{width:"100%",maxWidth:"600px","& .MuiAlert-message":{fontSize:"0.95rem",fontWeight:500}},children:"You're in guest mode. Sign up to save your data permanently!"})}),a.jsx(xi,{open:E.open,autoHideDuration:8e3,onClose:()=>k({...E,open:!1}),anchorOrigin:{vertical:"top",horizontal:"center"},children:a.jsx(Ot,{onClose:()=>k({...E,open:!1}),severity:E.severity,sx:{whiteSpace:"pre-line","& .MuiAlert-message":{fontSize:"1rem",fontWeight:500}},children:E.message})})]})]}):a.jsxs(zv,{theme:ve,children:[a.jsx(Vv,{}),a.jsx(NB,{})]})}function mY(){return a.jsx(RE,{children:a.jsx(pY,{})})}const gY=new uB;Kk.createRoot(document.getElementById("root")).render(a.jsx(pi.StrictMode,{children:a.jsx(dB,{client:gY,children:a.jsx(YC,{children:a.jsx(mY,{})})})}))});export default yY();
