var p2=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import{u as el,j as r,B as L,T as Mg,a as Zn,P as E,I as Ue,V as bC,b as Pg,D as vn,c as On,d as Sn,e as I,f as wn,g as Te,F as m2,h as Jt,i as g2,k as Pa,S as y2,l as vC,m as Og,C as Je,n as ot,o as x2,p as dr,q as ct,r as qi,s as Oe,t as qo,v as uh,w as Qs,x as Oa,M as b2,y as ze,L as jt,z as Bt,A as dc,E as v2,G as S2,H as Js,J as dh,K as Un,N as lt,O as w2,Q as Aa,R as _m,U as Yi,W as fi,_ as ht,X as $,Y as Rn,Z as _n,$ as rn,a0 as Xi,a1 as Qe,a2 as qn,a3 as pn,a4 as Pr,a5 as Be,a6 as hc,a7 as fs,a8 as hh,a9 as C2,aa as j2,ab as Ot,ac as k2,ad as Yo,ae as Gi,af as Rg,ag as Lo,ah as Na,ai as SC,aj as T2,ak as D2,al as Mn,am as E2,an as Ft,ao as dt,ap as Dc,aq as ui,ar as Ea,as as wC,at as A2,au as Go,av as M2,aw as CC,ax as bS,ay as Yt,az as vr,aA as Sr,aB as wr,aC as P2,aD as Ra,aE as Xs,aF as dn,aG as _g,aH as Hs,aI as At,aJ as jC,aK as Ig,aL as kC,aM as zi,aN as gr,aO as O2,aP as TC,aQ as Wg,aR as DC,aS as R2,aT as fh,aU as EC,aV as Ec,aW as Ni,aX as qc,aY as Fi,aZ as _2,a_ as I2,a$ as tl,b0 as nn,b1 as Yc,b2 as Vd,b3 as vS,b4 as $i,b5 as W2,b6 as N2,b7 as AC,b8 as L2,b9 as z2,ba as V2,bb as B2,bc as SS,bd as F2,be as MC,bf as $o,bg as PC,bh as H2,bi as OC,bj as RC,bk as _C,bl as U2,bm as wS,bn as Im,bo as Wm,bp as q2,bq as Y2,br as G2,bs as CS,bt as $2,bu as K2,bv as Q2,bw as jS,bx as Ws,by as X2,bz as Z2,bA as J2,bB as eP,bC as tP,bD as IC,bE as nP,bF as ph,bG as Nm,bH as sP,bI as iP,bJ as aP,bK as rP,bL as oP,bM as lP,bN as cP,bO as ar,bP as uP,bQ as dP,bR as hP,bS as fP,bT as pP,bU as mP,bV as Lm,bW as fc,bX as gP,bY as kS,bZ as TS}from"./mui-BvLivsgF.js";import{d as yP,e as xP,g as WC,a as Ma,r as x}from"./vendor-B0qVADJY.js";import{r as Bd,_ as Fd,C as Hd,a as Ng,E as NC,o as Lg,F as bP,d as em,g as vP,v as SP,i as wP,b as CP,c as LC,e as jP,f as kP,h as TP,j as zC,k as VC,s as DP,l as EP,m as AP,n as MP,p as PP,q as OP,t as RP,u as _P,w as IP}from"./firebase-CJdh_2FN.js";import{C as WP,a as NP,L as LP,P as zP,b as VP,p as BP,c as FP,d as HP,i as UP,e as qP}from"./charts-C1a6l8UB.js";var X9=p2((Cs,js)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function s(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=s(l);fetch(l.href,u)}})();var tm={exports:{}},Zl={},nm={exports:{}},sm={};var DS;function YP(){return DS||(DS=1,(function(e){function t(B,q){var le=B.length;B.push(q);e:for(;0<le;){var he=le-1>>>1,J=B[he];if(0<l(J,q))B[he]=q,B[le]=J,le=he;else break e}}function s(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var q=B[0],le=B.pop();if(le!==q){B[0]=le;e:for(var he=0,J=B.length,ee=J>>>1;he<ee;){var Z=2*(he+1)-1,ae=B[Z],ce=Z+1,se=B[ce];if(0>l(ae,le))ce<J&&0>l(se,ae)?(B[he]=se,B[ce]=le,he=ce):(B[he]=ae,B[Z]=le,he=Z);else if(ce<J&&0>l(se,le))B[he]=se,B[ce]=le,he=ce;else break e}}return q}function l(B,q){var le=B.sortIndex-q.sortIndex;return le!==0?le:B.id-q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();e.unstable_now=function(){return d.now()-h}}var p=[],g=[],y=1,v=null,b=3,S=!1,T=!1,k=!1,w=!1,j=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function _(B){for(var q=s(g);q!==null;){if(q.callback===null)a(g);else if(q.startTime<=B)a(g),q.sortIndex=q.expirationTime,t(p,q);else break;q=s(g)}}function P(B){if(k=!1,_(B),!T)if(s(p)!==null)T=!0,M||(M=!0,z());else{var q=s(g);q!==null&&K(P,q.startTime-B)}}var M=!1,R=-1,N=5,W=-1;function U(){return w?!0:!(e.unstable_now()-W<N)}function V(){if(w=!1,M){var B=e.unstable_now();W=B;var q=!0;try{e:{T=!1,k&&(k=!1,D(R),R=-1),S=!0;var le=b;try{t:{for(_(B),v=s(p);v!==null&&!(v.expirationTime>B&&U());){var he=v.callback;if(typeof he=="function"){v.callback=null,b=v.priorityLevel;var J=he(v.expirationTime<=B);if(B=e.unstable_now(),typeof J=="function"){v.callback=J,_(B),q=!0;break t}v===s(p)&&a(p),_(B)}else a(p);v=s(p)}if(v!==null)q=!0;else{var ee=s(g);ee!==null&&K(P,ee.startTime-B),q=!1}}break e}finally{v=null,b=le,S=!1}q=void 0}}finally{q?z():M=!1}}}var z;if(typeof A=="function")z=function(){A(V)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,F=de.port2;de.port1.onmessage=V,z=function(){F.postMessage(null)}}else z=function(){j(V,0)};function K(B,q){R=j(function(){B(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(B){switch(b){case 1:case 2:case 3:var q=3;break;default:q=b}var le=b;b=q;try{return B()}finally{b=le}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(B,q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var le=b;b=B;try{return q()}finally{b=le}},e.unstable_scheduleCallback=function(B,q,le){var he=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?he+le:he):le=he,B){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=le+J,B={id:y++,callback:q,priorityLevel:B,startTime:le,expirationTime:J,sortIndex:-1},le>he?(B.sortIndex=le,t(g,B),s(p)===null&&B===s(g)&&(k?(D(R),R=-1):k=!0,K(P,le-he))):(B.sortIndex=J,t(p,B),T||S||(T=!0,M||(M=!0,z()))),B},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(B){var q=b;return function(){var le=b;b=q;try{return B.apply(this,arguments)}finally{b=le}}}})(sm)),sm}var ES;function GP(){return ES||(ES=1,nm.exports=YP()),nm.exports}var AS;function $P(){if(AS)return Zl;AS=1;var e=GP(),t=yP(),s=xP();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,o=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(o=i.return),n=i.return;while(n)}return i.tag===3?o:null}function d(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function h(n){if(n.tag===31){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function p(n){if(u(n)!==n)throw Error(a(188))}function g(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(a(188));return i!==n?null:n}for(var o=n,c=i;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return p(f),n;if(m===c)return p(f),i;m=m.sibling}throw Error(a(188))}if(o.return!==c.return)o=f,c=m;else{for(var C=!1,O=f.child;O;){if(O===o){C=!0,o=f,c=m;break}if(O===c){C=!0,c=f,o=m;break}O=O.sibling}if(!C){for(O=m.child;O;){if(O===o){C=!0,o=m,c=f;break}if(O===c){C=!0,c=m,o=f;break}O=O.sibling}if(!C)throw Error(a(189))}}if(o.alternate!==c)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?n:i}function y(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=y(n),i!==null)return i;n=n.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),A=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function z(n){return n===null||typeof n!="object"?null:(n=V&&n[V]||n["@@iterator"],typeof n=="function"?n:null)}var de=Symbol.for("react.client.reference");function F(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===de?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case k:return"Fragment";case j:return"Profiler";case w:return"StrictMode";case P:return"Suspense";case M:return"SuspenseList";case W:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case T:return"Portal";case A:return n.displayName||"Context";case D:return(n._context.displayName||"Context")+".Consumer";case _:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case R:return i=n.displayName||null,i!==null?i:F(n.type)||"Memo";case N:i=n._payload,n=n._init;try{return F(n(i))}catch{}}return null}var K=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},he=[],J=-1;function ee(n){return{current:n}}function Z(n){0>J||(n.current=he[J],he[J]=null,J--)}function ae(n,i){J++,he[J]=n.current,n.current=i}var ce=ee(null),se=ee(null),oe=ee(null),ke=ee(null);function X(n,i){switch(ae(oe,i),ae(se,n),ae(ce,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?Fv(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=Fv(i),n=Hv(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Z(ce),ae(ce,n)}function ve(){Z(ce),Z(se),Z(oe)}function xe(n){n.memoizedState!==null&&ae(ke,n);var i=ce.current,o=Hv(i,n.type);i!==o&&(ae(se,n),ae(ce,o))}function ge(n){se.current===n&&(Z(ce),Z(se)),ke.current===n&&(Z(ke),$l._currentValue=le)}var Ee,Le;function je(n){if(Ee===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Ee=i&&i[1]||"",Le=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ee+n+Le}var qe=!1;function fe(n,i){if(!n||qe)return"";qe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(ue){var re=ue}Reflect.construct(n,[],be)}else{try{be.call()}catch(ue){re=ue}n.call(be.prototype)}}else{try{throw Error()}catch(ue){re=ue}(be=n())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(ue){if(ue&&re&&typeof ue.stack=="string")return[ue.stack,re.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),C=m[0],O=m[1];if(C&&O){var H=C.split(`
`),ne=O.split(`
`);for(f=c=0;c<H.length&&!H[c].includes("DetermineComponentFrameRoot");)c++;for(;f<ne.length&&!ne[f].includes("DetermineComponentFrameRoot");)f++;if(c===H.length||f===ne.length)for(c=H.length-1,f=ne.length-1;1<=c&&0<=f&&H[c]!==ne[f];)f--;for(;1<=c&&0<=f;c--,f--)if(H[c]!==ne[f]){if(c!==1||f!==1)do if(c--,f--,0>f||H[c]!==ne[f]){var pe=`
`+H[c].replace(" at new "," at ");return n.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",n.displayName)),pe}while(1<=c&&0<=f);break}}}finally{qe=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?je(o):""}function ie(n,i){switch(n.tag){case 26:case 27:case 5:return je(n.type);case 16:return je("Lazy");case 13:return n.child!==i&&i!==null?je("Suspense Fallback"):je("Suspense");case 19:return je("SuspenseList");case 0:case 15:return fe(n.type,!1);case 11:return fe(n.type.render,!1);case 1:return fe(n.type,!0);case 31:return je("Activity");default:return""}}function Ve(n){try{var i="",o=null;do i+=ie(n,o),o=n,n=n.return;while(n);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Pe=Object.prototype.hasOwnProperty,Se=e.unstable_scheduleCallback,Ie=e.unstable_cancelCallback,G=e.unstable_shouldYield,we=e.unstable_requestPaint,Ae=e.unstable_now,De=e.unstable_getCurrentPriorityLevel,Ne=e.unstable_ImmediatePriority,Fe=e.unstable_UserBlockingPriority,ft=e.unstable_NormalPriority,Ye=e.unstable_LowPriority,Xe=e.unstable_IdlePriority,Ce=e.log,Me=e.unstable_setDisableYieldValue,We=null,Re=null;function Ge(n){if(typeof Ce=="function"&&Me(n),Re&&typeof Re.setStrictMode=="function")try{Re.setStrictMode(We,n)}catch{}}var ut=Math.clz32?Math.clz32:Ut,st=Math.log,wt=Math.LN2;function Ut(n){return n>>>=0,n===0?32:31-(st(n)/wt|0)|0}var on=256,Gn=262144,pt=4194304;function ks(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ea(n,i,o){var c=n.pendingLanes;if(c===0)return 0;var f=0,m=n.suspendedLanes,C=n.pingedLanes;n=n.warmLanes;var O=c&134217727;return O!==0?(c=O&~m,c!==0?f=ks(c):(C&=O,C!==0?f=ks(C):o||(o=O&~n,o!==0&&(f=ks(o))))):(O=c&~m,O!==0?f=ks(O):C!==0?f=ks(C):o||(o=c&~n,o!==0&&(f=ks(o)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,o=i&-i,m>=o||m===32&&(o&4194048)!==0)?i:f}function yi(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function ll(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ln(){var n=pt;return pt<<=1,(pt&62914560)===0&&(pt=4194304),n}function ts(n){for(var i=[],o=0;31>o;o++)i.push(n);return i}function xi(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Hh(n,i,o,c,f,m){var C=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var O=n.entanglements,H=n.expirationTimes,ne=n.hiddenUpdates;for(o=C&~o;0<o;){var pe=31-ut(o),be=1<<pe;O[pe]=0,H[pe]=-1;var re=ne[pe];if(re!==null)for(ne[pe]=null,pe=0;pe<re.length;pe++){var ue=re[pe];ue!==null&&(ue.lane&=-536870913)}o&=~be}c!==0&&Nr(n,c,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(C&~i))}function Nr(n,i,o){n.pendingLanes|=i,n.suspendedLanes&=~i;var c=31-ut(i);n.entangledLanes|=i,n.entanglements[c]=n.entanglements[c]|1073741824|o&261930}function Lr(n,i){var o=n.entangledLanes|=i;for(n=n.entanglements;o;){var c=31-ut(o),f=1<<c;f&i|n[c]&i&&(n[c]|=i),o&=~f}}function lu(n,i){var o=i&-i;return o=(o&42)!==0?1:me(o),(o&(n.suspendedLanes|i))!==0?0:o}function me(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function _e(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function tn(){var n=q.p;return n!==0?n:(n=window.event,n===void 0?32:hS(n.type))}function ti(n,i){var o=q.p;try{return q.p=n,i()}finally{q.p=o}}var Nn=Math.random().toString(36).slice(2),Ln="__reactFiber$"+Nn,ns="__reactProps$"+Nn,zr="__reactContainer$"+Nn,Uh="__reactEvents$"+Nn,sA="__reactListeners$"+Nn,iA="__reactHandles$"+Nn,Ax="__reactResources$"+Nn,cl="__reactMarker$"+Nn;function qh(n){delete n[Ln],delete n[ns],delete n[Uh],delete n[sA],delete n[iA]}function Vr(n){var i=n[Ln];if(i)return i;for(var o=n.parentNode;o;){if(i=o[zr]||o[Ln]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(n=Qv(n);n!==null;){if(o=n[Ln])return o;n=Qv(n)}return i}n=o,o=n.parentNode}return null}function Br(n){if(n=n[Ln]||n[zr]){var i=n.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return n}return null}function ul(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function Fr(n){var i=n[Ax];return i||(i=n[Ax]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function In(n){n[cl]=!0}var Mx=new Set,Px={};function Fa(n,i){Hr(n,i),Hr(n+"Capture",i)}function Hr(n,i){for(Px[n]=i,n=0;n<i.length;n++)Mx.add(i[n])}var aA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ox={},Rx={};function rA(n){return Pe.call(Rx,n)?!0:Pe.call(Ox,n)?!1:aA.test(n)?Rx[n]=!0:(Ox[n]=!0,!1)}function cu(n,i,o){if(rA(i))if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+o)}}function uu(n,i,o){if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+o)}}function bi(n,i,o,c){if(c===null)n.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(i,o,""+c)}}function Ts(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function _x(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function oA(n,i,o){var c=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);if(!n.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,m=c.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(C){o=""+C,m.call(this,C)}}),Object.defineProperty(n,i,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(C){o=""+C},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Yh(n){if(!n._valueTracker){var i=_x(n)?"checked":"value";n._valueTracker=oA(n,i,""+n[i])}}function Ix(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return n&&(c=_x(n)?n.checked?"true":"false":n.value),n=c,n!==o?(i.setValue(n),!0):!1}function du(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var lA=/[\n"\\]/g;function Ds(n){return n.replace(lA,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Gh(n,i,o,c,f,m,C,O){n.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.type=C:n.removeAttribute("type"),i!=null?C==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Ts(i)):n.value!==""+Ts(i)&&(n.value=""+Ts(i)):C!=="submit"&&C!=="reset"||n.removeAttribute("value"),i!=null?$h(n,C,Ts(i)):o!=null?$h(n,C,Ts(o)):c!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?n.name=""+Ts(O):n.removeAttribute("name")}function Wx(n,i,o,c,f,m,C,O){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){Yh(n);return}o=o!=null?""+Ts(o):"",i=i!=null?""+Ts(i):o,O||i===n.value||(n.value=i),n.defaultValue=i}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=O?n.checked:!!c,n.defaultChecked=!!c,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(n.name=C),Yh(n)}function $h(n,i,o){i==="number"&&du(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Ur(n,i,o,c){if(n=n.options,i){i={};for(var f=0;f<o.length;f++)i["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=i.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&c&&(n[o].defaultSelected=!0)}else{for(o=""+Ts(o),i=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Nx(n,i,o){if(i!=null&&(i=""+Ts(i),i!==n.value&&(n.value=i),o==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=o!=null?""+Ts(o):""}function Lx(n,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(a(92));if(K(c)){if(1<c.length)throw Error(a(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=Ts(i),n.defaultValue=o,c=n.textContent,c===o&&c!==""&&c!==null&&(n.value=c),Yh(n)}function qr(n,i){if(i){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=i;return}}n.textContent=i}var cA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zx(n,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":c?n.setProperty(i,o):typeof o!="number"||o===0||cA.has(i)?i==="float"?n.cssFloat=o:n[i]=(""+o).trim():n[i]=o+"px"}function Vx(n,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var f in i)c=i[f],i.hasOwnProperty(f)&&o[f]!==c&&zx(n,f,c)}else for(var m in i)i.hasOwnProperty(m)&&zx(n,m,i[m])}function Kh(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hu(n){return dA.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function vi(){}var Qh=null;function Xh(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Yr=null,Gr=null;function Bx(n){var i=Br(n);if(i&&(n=i.stateNode)){var o=n[ns]||null;e:switch(n=i.stateNode,i.type){case"input":if(Gh(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ds(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==n&&c.form===n.form){var f=c[ns]||null;if(!f)throw Error(a(90));Gh(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===n.form&&Ix(c)}break e;case"textarea":Nx(n,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&Ur(n,!!o.multiple,i,!1)}}}var Zh=!1;function Fx(n,i,o){if(Zh)return n(i,o);Zh=!0;try{var c=n(i);return c}finally{if(Zh=!1,(Yr!==null||Gr!==null)&&(Ju(),Yr&&(i=Yr,n=Gr,Gr=Yr=null,Bx(i),n)))for(i=0;i<n.length;i++)Bx(n[i])}}function dl(n,i){var o=n.stateNode;if(o===null)return null;var c=o[ns]||null;if(c===null)return null;o=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var Si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jh=!1;if(Si)try{var hl={};Object.defineProperty(hl,"passive",{get:function(){Jh=!0}}),window.addEventListener("test",hl,hl),window.removeEventListener("test",hl,hl)}catch{Jh=!1}var ta=null,ef=null,fu=null;function Hx(){if(fu)return fu;var n,i=ef,o=i.length,c,f="value"in ta?ta.value:ta.textContent,m=f.length;for(n=0;n<o&&i[n]===f[n];n++);var C=o-n;for(c=1;c<=C&&i[o-c]===f[m-c];c++);return fu=f.slice(n,1<c?1-c:void 0)}function pu(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function mu(){return!0}function Ux(){return!1}function ss(n){function i(o,c,f,m,C){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=C,this.currentTarget=null;for(var O in n)n.hasOwnProperty(O)&&(o=n[O],this[O]=o?o(m):m[O]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?mu:Ux,this.isPropagationStopped=Ux,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=mu)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=mu)},persist:function(){},isPersistent:mu}),i}var Ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gu=ss(Ha),fl=v({},Ha,{view:0,detail:0}),hA=ss(fl),tf,nf,pl,yu=v({},fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:af,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==pl&&(pl&&n.type==="mousemove"?(tf=n.screenX-pl.screenX,nf=n.screenY-pl.screenY):nf=tf=0,pl=n),tf)},movementY:function(n){return"movementY"in n?n.movementY:nf}}),qx=ss(yu),fA=v({},yu,{dataTransfer:0}),pA=ss(fA),mA=v({},fl,{relatedTarget:0}),sf=ss(mA),gA=v({},Ha,{animationName:0,elapsedTime:0,pseudoElement:0}),yA=ss(gA),xA=v({},Ha,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),bA=ss(xA),vA=v({},Ha,{data:0}),Yx=ss(vA),SA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jA(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=CA[n])?!!i[n]:!1}function af(){return jA}var kA=v({},fl,{key:function(n){if(n.key){var i=SA[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=pu(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?wA[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:af,charCode:function(n){return n.type==="keypress"?pu(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?pu(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),TA=ss(kA),DA=v({},yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gx=ss(DA),EA=v({},fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:af}),AA=ss(EA),MA=v({},Ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),PA=ss(MA),OA=v({},yu,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),RA=ss(OA),_A=v({},Ha,{newState:0,oldState:0}),IA=ss(_A),WA=[9,13,27,32],rf=Si&&"CompositionEvent"in window,ml=null;Si&&"documentMode"in document&&(ml=document.documentMode);var NA=Si&&"TextEvent"in window&&!ml,$x=Si&&(!rf||ml&&8<ml&&11>=ml),Kx=" ",Qx=!1;function Xx(n,i){switch(n){case"keyup":return WA.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zx(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var $r=!1;function LA(n,i){switch(n){case"compositionend":return Zx(i);case"keypress":return i.which!==32?null:(Qx=!0,Kx);case"textInput":return n=i.data,n===Kx&&Qx?null:n;default:return null}}function zA(n,i){if($r)return n==="compositionend"||!rf&&Xx(n,i)?(n=Hx(),fu=ef=ta=null,$r=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return $x&&i.locale!=="ko"?null:i.data;default:return null}}var VA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jx(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!VA[n.type]:i==="textarea"}function e0(n,i,o,c){Yr?Gr?Gr.push(c):Gr=[c]:Yr=c,i=rd(i,"onChange"),0<i.length&&(o=new gu("onChange","change",null,o,c),n.push({event:o,listeners:i}))}var gl=null,yl=null;function BA(n){Wv(n,0)}function xu(n){var i=ul(n);if(Ix(i))return n}function t0(n,i){if(n==="change")return i}var n0=!1;if(Si){var of;if(Si){var lf="oninput"in document;if(!lf){var s0=document.createElement("div");s0.setAttribute("oninput","return;"),lf=typeof s0.oninput=="function"}of=lf}else of=!1;n0=of&&(!document.documentMode||9<document.documentMode)}function i0(){gl&&(gl.detachEvent("onpropertychange",a0),yl=gl=null)}function a0(n){if(n.propertyName==="value"&&xu(yl)){var i=[];e0(i,yl,n,Xh(n)),Fx(BA,i)}}function FA(n,i,o){n==="focusin"?(i0(),gl=i,yl=o,gl.attachEvent("onpropertychange",a0)):n==="focusout"&&i0()}function HA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return xu(yl)}function UA(n,i){if(n==="click")return xu(i)}function qA(n,i){if(n==="input"||n==="change")return xu(i)}function YA(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var ps=typeof Object.is=="function"?Object.is:YA;function xl(n,i){if(ps(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var o=Object.keys(n),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!Pe.call(i,f)||!ps(n[f],i[f]))return!1}return!0}function r0(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function o0(n,i){var o=r0(n);n=0;for(var c;o;){if(o.nodeType===3){if(c=n+o.textContent.length,n<=i&&c>=i)return{node:o,offset:i-n};n=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=r0(o)}}function l0(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?l0(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function c0(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=du(n.document);i instanceof n.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)n=i.contentWindow;else break;i=du(n.document)}return i}function cf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var GA=Si&&"documentMode"in document&&11>=document.documentMode,Kr=null,uf=null,bl=null,df=!1;function u0(n,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;df||Kr==null||Kr!==du(c)||(c=Kr,"selectionStart"in c&&cf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),bl&&xl(bl,c)||(bl=c,c=rd(uf,"onSelect"),0<c.length&&(i=new gu("onSelect","select",null,i,o),n.push({event:i,listeners:c}),i.target=Kr)))}function Ua(n,i){var o={};return o[n.toLowerCase()]=i.toLowerCase(),o["Webkit"+n]="webkit"+i,o["Moz"+n]="moz"+i,o}var Qr={animationend:Ua("Animation","AnimationEnd"),animationiteration:Ua("Animation","AnimationIteration"),animationstart:Ua("Animation","AnimationStart"),transitionrun:Ua("Transition","TransitionRun"),transitionstart:Ua("Transition","TransitionStart"),transitioncancel:Ua("Transition","TransitionCancel"),transitionend:Ua("Transition","TransitionEnd")},hf={},d0={};Si&&(d0=document.createElement("div").style,"AnimationEvent"in window||(delete Qr.animationend.animation,delete Qr.animationiteration.animation,delete Qr.animationstart.animation),"TransitionEvent"in window||delete Qr.transitionend.transition);function qa(n){if(hf[n])return hf[n];if(!Qr[n])return n;var i=Qr[n],o;for(o in i)if(i.hasOwnProperty(o)&&o in d0)return hf[n]=i[o];return n}var h0=qa("animationend"),f0=qa("animationiteration"),p0=qa("animationstart"),$A=qa("transitionrun"),KA=qa("transitionstart"),QA=qa("transitioncancel"),m0=qa("transitionend"),g0=new Map,ff="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ff.push("scrollEnd");function Us(n,i){g0.set(n,i),Fa(i,[n])}var bu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Es=[],Xr=0,pf=0;function vu(){for(var n=Xr,i=pf=Xr=0;i<n;){var o=Es[i];Es[i++]=null;var c=Es[i];Es[i++]=null;var f=Es[i];Es[i++]=null;var m=Es[i];if(Es[i++]=null,c!==null&&f!==null){var C=c.pending;C===null?f.next=f:(f.next=C.next,C.next=f),c.pending=f}m!==0&&y0(o,f,m)}}function Su(n,i,o,c){Es[Xr++]=n,Es[Xr++]=i,Es[Xr++]=o,Es[Xr++]=c,pf|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function mf(n,i,o,c){return Su(n,i,o,c),wu(n)}function Ya(n,i){return Su(n,null,null,i),wu(n)}function y0(n,i,o){n.lanes|=o;var c=n.alternate;c!==null&&(c.lanes|=o);for(var f=!1,m=n.return;m!==null;)m.childLanes|=o,c=m.alternate,c!==null&&(c.childLanes|=o),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&i!==null&&(f=31-ut(o),n=m.hiddenUpdates,c=n[f],c===null?n[f]=[i]:c.push(i),i.lane=o|536870912),m):null}function wu(n){if(50<Bl)throw Bl=0,jp=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Zr={};function XA(n,i,o,c){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ms(n,i,o,c){return new XA(n,i,o,c)}function gf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function wi(n,i){var o=n.alternate;return o===null?(o=ms(n.tag,i,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=i,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,i=n.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function x0(n,i){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Cu(n,i,o,c,f,m){var C=0;if(c=n,typeof n=="function")gf(n)&&(C=1);else if(typeof n=="string")C=n2(n,o,ce.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case W:return n=ms(31,o,i,f),n.elementType=W,n.lanes=m,n;case k:return Ga(o.children,f,m,i);case w:C=8,f|=24;break;case j:return n=ms(12,o,i,f|2),n.elementType=j,n.lanes=m,n;case P:return n=ms(13,o,i,f),n.elementType=P,n.lanes=m,n;case M:return n=ms(19,o,i,f),n.elementType=M,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case A:C=10;break e;case D:C=9;break e;case _:C=11;break e;case R:C=14;break e;case N:C=16,c=null;break e}C=29,o=Error(a(130,n===null?"null":typeof n,"")),c=null}return i=ms(C,o,i,f),i.elementType=n,i.type=c,i.lanes=m,i}function Ga(n,i,o,c){return n=ms(7,n,c,i),n.lanes=o,n}function yf(n,i,o){return n=ms(6,n,null,i),n.lanes=o,n}function b0(n){var i=ms(18,null,null,0);return i.stateNode=n,i}function xf(n,i,o){return i=ms(4,n.children!==null?n.children:[],n.key,i),i.lanes=o,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var v0=new WeakMap;function As(n,i){if(typeof n=="object"&&n!==null){var o=v0.get(n);return o!==void 0?o:(i={value:n,source:i,stack:Ve(i)},v0.set(n,i),i)}return{value:n,source:i,stack:Ve(i)}}var Jr=[],eo=0,ju=null,vl=0,Ms=[],Ps=0,na=null,ni=1,si="";function Ci(n,i){Jr[eo++]=vl,Jr[eo++]=ju,ju=n,vl=i}function S0(n,i,o){Ms[Ps++]=ni,Ms[Ps++]=si,Ms[Ps++]=na,na=n;var c=ni;n=si;var f=32-ut(c)-1;c&=~(1<<f),o+=1;var m=32-ut(i)+f;if(30<m){var C=f-f%5;m=(c&(1<<C)-1).toString(32),c>>=C,f-=C,ni=1<<32-ut(i)+f|o<<f|c,si=m+n}else ni=1<<m|o<<f|c,si=n}function bf(n){n.return!==null&&(Ci(n,1),S0(n,1,0))}function vf(n){for(;n===ju;)ju=Jr[--eo],Jr[eo]=null,vl=Jr[--eo],Jr[eo]=null;for(;n===na;)na=Ms[--Ps],Ms[Ps]=null,si=Ms[--Ps],Ms[Ps]=null,ni=Ms[--Ps],Ms[Ps]=null}function w0(n,i){Ms[Ps++]=ni,Ms[Ps++]=si,Ms[Ps++]=na,ni=i.id,si=i.overflow,na=n}var zn=null,Gt=null,Ct=!1,sa=null,Os=!1,Sf=Error(a(519));function ia(n){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sl(As(i,n)),Sf}function C0(n){var i=n.stateNode,o=n.type,c=n.memoizedProps;switch(i[Ln]=n,i[ns]=c,o){case"dialog":bt("cancel",i),bt("close",i);break;case"iframe":case"object":case"embed":bt("load",i);break;case"video":case"audio":for(o=0;o<Hl.length;o++)bt(Hl[o],i);break;case"source":bt("error",i);break;case"img":case"image":case"link":bt("error",i),bt("load",i);break;case"details":bt("toggle",i);break;case"input":bt("invalid",i),Wx(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":bt("invalid",i);break;case"textarea":bt("invalid",i),Lx(i,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||Vv(i.textContent,o)?(c.popover!=null&&(bt("beforetoggle",i),bt("toggle",i)),c.onScroll!=null&&bt("scroll",i),c.onScrollEnd!=null&&bt("scrollend",i),c.onClick!=null&&(i.onclick=vi),i=!0):i=!1,i||ia(n,!0)}function j0(n){for(zn=n.return;zn;)switch(zn.tag){case 5:case 31:case 13:Os=!1;return;case 27:case 3:Os=!0;return;default:zn=zn.return}}function to(n){if(n!==zn)return!1;if(!Ct)return j0(n),Ct=!0,!1;var i=n.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||zp(n.type,n.memoizedProps)),o=!o),o&&Gt&&ia(n),j0(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));Gt=Kv(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));Gt=Kv(n)}else i===27?(i=Gt,xa(n.type)?(n=Up,Up=null,Gt=n):Gt=i):Gt=zn?_s(n.stateNode.nextSibling):null;return!0}function $a(){Gt=zn=null,Ct=!1}function wf(){var n=sa;return n!==null&&(os===null?os=n:os.push.apply(os,n),sa=null),n}function Sl(n){sa===null?sa=[n]:sa.push(n)}var Cf=ee(null),Ka=null,ji=null;function aa(n,i,o){ae(Cf,i._currentValue),i._currentValue=o}function ki(n){n._currentValue=Cf.current,Z(Cf)}function jf(n,i,o){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===o)break;n=n.return}}function kf(n,i,o,c){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var C=f.child;m=m.firstContext;e:for(;m!==null;){var O=m;m=f;for(var H=0;H<i.length;H++)if(O.context===i[H]){m.lanes|=o,O=m.alternate,O!==null&&(O.lanes|=o),jf(m.return,o,n),c||(C=null);break e}m=O.next}}else if(f.tag===18){if(C=f.return,C===null)throw Error(a(341));C.lanes|=o,m=C.alternate,m!==null&&(m.lanes|=o),jf(C,o,n),C=null}else C=f.child;if(C!==null)C.return=f;else for(C=f;C!==null;){if(C===n){C=null;break}if(f=C.sibling,f!==null){f.return=C.return,C=f;break}C=C.return}f=C}}function no(n,i,o,c){n=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var C=f.alternate;if(C===null)throw Error(a(387));if(C=C.memoizedProps,C!==null){var O=f.type;ps(f.pendingProps.value,C.value)||(n!==null?n.push(O):n=[O])}}else if(f===ke.current){if(C=f.alternate,C===null)throw Error(a(387));C.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push($l):n=[$l])}f=f.return}n!==null&&kf(i,n,o,c),i.flags|=262144}function ku(n){for(n=n.firstContext;n!==null;){if(!ps(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Qa(n){Ka=n,ji=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Vn(n){return k0(Ka,n)}function Tu(n,i){return Ka===null&&Qa(n),k0(n,i)}function k0(n,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},ji===null){if(n===null)throw Error(a(308));ji=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else ji=ji.next=i;return o}var ZA=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(o,c){n.push(c)}};this.abort=function(){i.aborted=!0,n.forEach(function(o){return o()})}},JA=e.unstable_scheduleCallback,eM=e.unstable_NormalPriority,Cn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tf(){return{controller:new ZA,data:new Map,refCount:0}}function wl(n){n.refCount--,n.refCount===0&&JA(eM,function(){n.controller.abort()})}var Cl=null,Df=0,so=0,io=null;function tM(n,i){if(Cl===null){var o=Cl=[];Df=0,so=Mp(),io={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Df++,i.then(T0,T0),i}function T0(){if(--Df===0&&Cl!==null){io!==null&&(io.status="fulfilled");var n=Cl;Cl=null,so=0,io=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function nM(n,i){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){c.status="fulfilled",c.value=i;for(var f=0;f<o.length;f++)(0,o[f])(i)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var D0=B.S;B.S=function(n,i){uv=Ae(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&tM(n,i),D0!==null&&D0(n,i)};var Xa=ee(null);function Ef(){var n=Xa.current;return n!==null?n:Vt.pooledCache}function Du(n,i){i===null?ae(Xa,Xa.current):ae(Xa,i.pool)}function E0(){var n=Ef();return n===null?null:{parent:Cn._currentValue,pool:n}}var ao=Error(a(460)),Af=Error(a(474)),Eu=Error(a(542)),Au={then:function(){}};function A0(n){return n=n.status,n==="fulfilled"||n==="rejected"}function M0(n,i,o){switch(o=n[o],o===void 0?n.push(i):o!==i&&(i.then(vi,vi),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,O0(n),n;default:if(typeof i.status=="string")i.then(vi,vi);else{if(n=Vt,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(c){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=c}},function(c){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,O0(n),n}throw Ja=i,ao}}function Za(n){try{var i=n._init;return i(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ja=o,ao):o}}var Ja=null;function P0(){if(Ja===null)throw Error(a(459));var n=Ja;return Ja=null,n}function O0(n){if(n===ao||n===Eu)throw Error(a(483))}var ro=null,jl=0;function Mu(n){var i=jl;return jl+=1,ro===null&&(ro=[]),M0(ro,n,i)}function kl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Pu(n,i){throw i.$$typeof===b?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function R0(n){function i(Q,Y){if(n){var te=Q.deletions;te===null?(Q.deletions=[Y],Q.flags|=16):te.push(Y)}}function o(Q,Y){if(!n)return null;for(;Y!==null;)i(Q,Y),Y=Y.sibling;return null}function c(Q){for(var Y=new Map;Q!==null;)Q.key!==null?Y.set(Q.key,Q):Y.set(Q.index,Q),Q=Q.sibling;return Y}function f(Q,Y){return Q=wi(Q,Y),Q.index=0,Q.sibling=null,Q}function m(Q,Y,te){return Q.index=te,n?(te=Q.alternate,te!==null?(te=te.index,te<Y?(Q.flags|=67108866,Y):te):(Q.flags|=67108866,Y)):(Q.flags|=1048576,Y)}function C(Q){return n&&Q.alternate===null&&(Q.flags|=67108866),Q}function O(Q,Y,te,ye){return Y===null||Y.tag!==6?(Y=yf(te,Q.mode,ye),Y.return=Q,Y):(Y=f(Y,te),Y.return=Q,Y)}function H(Q,Y,te,ye){var Ze=te.type;return Ze===k?pe(Q,Y,te.props.children,ye,te.key):Y!==null&&(Y.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===N&&Za(Ze)===Y.type)?(Y=f(Y,te.props),kl(Y,te),Y.return=Q,Y):(Y=Cu(te.type,te.key,te.props,null,Q.mode,ye),kl(Y,te),Y.return=Q,Y)}function ne(Q,Y,te,ye){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==te.containerInfo||Y.stateNode.implementation!==te.implementation?(Y=xf(te,Q.mode,ye),Y.return=Q,Y):(Y=f(Y,te.children||[]),Y.return=Q,Y)}function pe(Q,Y,te,ye,Ze){return Y===null||Y.tag!==7?(Y=Ga(te,Q.mode,ye,Ze),Y.return=Q,Y):(Y=f(Y,te),Y.return=Q,Y)}function be(Q,Y,te){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=yf(""+Y,Q.mode,te),Y.return=Q,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:return te=Cu(Y.type,Y.key,Y.props,null,Q.mode,te),kl(te,Y),te.return=Q,te;case T:return Y=xf(Y,Q.mode,te),Y.return=Q,Y;case N:return Y=Za(Y),be(Q,Y,te)}if(K(Y)||z(Y))return Y=Ga(Y,Q.mode,te,null),Y.return=Q,Y;if(typeof Y.then=="function")return be(Q,Mu(Y),te);if(Y.$$typeof===A)return be(Q,Tu(Q,Y),te);Pu(Q,Y)}return null}function re(Q,Y,te,ye){var Ze=Y!==null?Y.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Ze!==null?null:O(Q,Y,""+te,ye);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case S:return te.key===Ze?H(Q,Y,te,ye):null;case T:return te.key===Ze?ne(Q,Y,te,ye):null;case N:return te=Za(te),re(Q,Y,te,ye)}if(K(te)||z(te))return Ze!==null?null:pe(Q,Y,te,ye,null);if(typeof te.then=="function")return re(Q,Y,Mu(te),ye);if(te.$$typeof===A)return re(Q,Y,Tu(Q,te),ye);Pu(Q,te)}return null}function ue(Q,Y,te,ye,Ze){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return Q=Q.get(te)||null,O(Y,Q,""+ye,Ze);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case S:return Q=Q.get(ye.key===null?te:ye.key)||null,H(Y,Q,ye,Ze);case T:return Q=Q.get(ye.key===null?te:ye.key)||null,ne(Y,Q,ye,Ze);case N:return ye=Za(ye),ue(Q,Y,te,ye,Ze)}if(K(ye)||z(ye))return Q=Q.get(te)||null,pe(Y,Q,ye,Ze,null);if(typeof ye.then=="function")return ue(Q,Y,te,Mu(ye),Ze);if(ye.$$typeof===A)return ue(Q,Y,te,Tu(Y,ye),Ze);Pu(Y,ye)}return null}function He(Q,Y,te,ye){for(var Ze=null,Dt=null,$e=Y,gt=Y=0,St=null;$e!==null&&gt<te.length;gt++){$e.index>gt?(St=$e,$e=null):St=$e.sibling;var Et=re(Q,$e,te[gt],ye);if(Et===null){$e===null&&($e=St);break}n&&$e&&Et.alternate===null&&i(Q,$e),Y=m(Et,Y,gt),Dt===null?Ze=Et:Dt.sibling=Et,Dt=Et,$e=St}if(gt===te.length)return o(Q,$e),Ct&&Ci(Q,gt),Ze;if($e===null){for(;gt<te.length;gt++)$e=be(Q,te[gt],ye),$e!==null&&(Y=m($e,Y,gt),Dt===null?Ze=$e:Dt.sibling=$e,Dt=$e);return Ct&&Ci(Q,gt),Ze}for($e=c($e);gt<te.length;gt++)St=ue($e,Q,gt,te[gt],ye),St!==null&&(n&&St.alternate!==null&&$e.delete(St.key===null?gt:St.key),Y=m(St,Y,gt),Dt===null?Ze=St:Dt.sibling=St,Dt=St);return n&&$e.forEach(function(Ca){return i(Q,Ca)}),Ct&&Ci(Q,gt),Ze}function it(Q,Y,te,ye){if(te==null)throw Error(a(151));for(var Ze=null,Dt=null,$e=Y,gt=Y=0,St=null,Et=te.next();$e!==null&&!Et.done;gt++,Et=te.next()){$e.index>gt?(St=$e,$e=null):St=$e.sibling;var Ca=re(Q,$e,Et.value,ye);if(Ca===null){$e===null&&($e=St);break}n&&$e&&Ca.alternate===null&&i(Q,$e),Y=m(Ca,Y,gt),Dt===null?Ze=Ca:Dt.sibling=Ca,Dt=Ca,$e=St}if(Et.done)return o(Q,$e),Ct&&Ci(Q,gt),Ze;if($e===null){for(;!Et.done;gt++,Et=te.next())Et=be(Q,Et.value,ye),Et!==null&&(Y=m(Et,Y,gt),Dt===null?Ze=Et:Dt.sibling=Et,Dt=Et);return Ct&&Ci(Q,gt),Ze}for($e=c($e);!Et.done;gt++,Et=te.next())Et=ue($e,Q,gt,Et.value,ye),Et!==null&&(n&&Et.alternate!==null&&$e.delete(Et.key===null?gt:Et.key),Y=m(Et,Y,gt),Dt===null?Ze=Et:Dt.sibling=Et,Dt=Et);return n&&$e.forEach(function(f2){return i(Q,f2)}),Ct&&Ci(Q,gt),Ze}function Lt(Q,Y,te,ye){if(typeof te=="object"&&te!==null&&te.type===k&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case S:e:{for(var Ze=te.key;Y!==null;){if(Y.key===Ze){if(Ze=te.type,Ze===k){if(Y.tag===7){o(Q,Y.sibling),ye=f(Y,te.props.children),ye.return=Q,Q=ye;break e}}else if(Y.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===N&&Za(Ze)===Y.type){o(Q,Y.sibling),ye=f(Y,te.props),kl(ye,te),ye.return=Q,Q=ye;break e}o(Q,Y);break}else i(Q,Y);Y=Y.sibling}te.type===k?(ye=Ga(te.props.children,Q.mode,ye,te.key),ye.return=Q,Q=ye):(ye=Cu(te.type,te.key,te.props,null,Q.mode,ye),kl(ye,te),ye.return=Q,Q=ye)}return C(Q);case T:e:{for(Ze=te.key;Y!==null;){if(Y.key===Ze)if(Y.tag===4&&Y.stateNode.containerInfo===te.containerInfo&&Y.stateNode.implementation===te.implementation){o(Q,Y.sibling),ye=f(Y,te.children||[]),ye.return=Q,Q=ye;break e}else{o(Q,Y);break}else i(Q,Y);Y=Y.sibling}ye=xf(te,Q.mode,ye),ye.return=Q,Q=ye}return C(Q);case N:return te=Za(te),Lt(Q,Y,te,ye)}if(K(te))return He(Q,Y,te,ye);if(z(te)){if(Ze=z(te),typeof Ze!="function")throw Error(a(150));return te=Ze.call(te),it(Q,Y,te,ye)}if(typeof te.then=="function")return Lt(Q,Y,Mu(te),ye);if(te.$$typeof===A)return Lt(Q,Y,Tu(Q,te),ye);Pu(Q,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,Y!==null&&Y.tag===6?(o(Q,Y.sibling),ye=f(Y,te),ye.return=Q,Q=ye):(o(Q,Y),ye=yf(te,Q.mode,ye),ye.return=Q,Q=ye),C(Q)):o(Q,Y)}return function(Q,Y,te,ye){try{jl=0;var Ze=Lt(Q,Y,te,ye);return ro=null,Ze}catch($e){if($e===ao||$e===Eu)throw $e;var Dt=ms(29,$e,null,Q.mode);return Dt.lanes=ye,Dt.return=Q,Dt}finally{}}}var er=R0(!0),_0=R0(!1),ra=!1;function Mf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pf(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function oa(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function la(n,i,o){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Mt&2)!==0){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,i=wu(n),y0(n,null,o),i}return Su(n,c,i,o),wu(n)}function Tl(n,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=n.pendingLanes,o|=c,i.lanes=o,Lr(n,o)}}function Of(n,i){var o=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var C={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=C:m=m.next=C,o=o.next}while(o!==null);m===null?f=m=i:m=m.next=i}else f=m=i;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=i:n.next=i,o.lastBaseUpdate=i}var Rf=!1;function Dl(){if(Rf){var n=io;if(n!==null)throw n}}function El(n,i,o,c){Rf=!1;var f=n.updateQueue;ra=!1;var m=f.firstBaseUpdate,C=f.lastBaseUpdate,O=f.shared.pending;if(O!==null){f.shared.pending=null;var H=O,ne=H.next;H.next=null,C===null?m=ne:C.next=ne,C=H;var pe=n.alternate;pe!==null&&(pe=pe.updateQueue,O=pe.lastBaseUpdate,O!==C&&(O===null?pe.firstBaseUpdate=ne:O.next=ne,pe.lastBaseUpdate=H))}if(m!==null){var be=f.baseState;C=0,pe=ne=H=null,O=m;do{var re=O.lane&-536870913,ue=re!==O.lane;if(ue?(vt&re)===re:(c&re)===re){re!==0&&re===so&&(Rf=!0),pe!==null&&(pe=pe.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var He=n,it=O;re=i;var Lt=o;switch(it.tag){case 1:if(He=it.payload,typeof He=="function"){be=He.call(Lt,be,re);break e}be=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=it.payload,re=typeof He=="function"?He.call(Lt,be,re):He,re==null)break e;be=v({},be,re);break e;case 2:ra=!0}}re=O.callback,re!==null&&(n.flags|=64,ue&&(n.flags|=8192),ue=f.callbacks,ue===null?f.callbacks=[re]:ue.push(re))}else ue={lane:re,tag:O.tag,payload:O.payload,callback:O.callback,next:null},pe===null?(ne=pe=ue,H=be):pe=pe.next=ue,C|=re;if(O=O.next,O===null){if(O=f.shared.pending,O===null)break;ue=O,O=ue.next,ue.next=null,f.lastBaseUpdate=ue,f.shared.pending=null}}while(!0);pe===null&&(H=be),f.baseState=H,f.firstBaseUpdate=ne,f.lastBaseUpdate=pe,m===null&&(f.shared.lanes=0),fa|=C,n.lanes=C,n.memoizedState=be}}function I0(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function W0(n,i){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)I0(o[n],i)}var oo=ee(null),Ou=ee(0);function N0(n,i){n=_i,ae(Ou,n),ae(oo,i),_i=n|i.baseLanes}function _f(){ae(Ou,_i),ae(oo,oo.current)}function If(){_i=Ou.current,Z(oo),Z(Ou)}var gs=ee(null),Rs=null;function ca(n){var i=n.alternate;ae(mn,mn.current&1),ae(gs,n),Rs===null&&(i===null||oo.current!==null||i.memoizedState!==null)&&(Rs=n)}function Wf(n){ae(mn,mn.current),ae(gs,n),Rs===null&&(Rs=n)}function L0(n){n.tag===22?(ae(mn,mn.current),ae(gs,n),Rs===null&&(Rs=n)):ua()}function ua(){ae(mn,mn.current),ae(gs,gs.current)}function ys(n){Z(gs),Rs===n&&(Rs=null),Z(mn)}var mn=ee(0);function Ru(n){for(var i=n;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Fp(o)||Hp(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ti=0,mt=null,Wt=null,jn=null,_u=!1,lo=!1,tr=!1,Iu=0,Al=0,co=null,sM=0;function cn(){throw Error(a(321))}function Nf(n,i){if(i===null)return!1;for(var o=0;o<i.length&&o<n.length;o++)if(!ps(n[o],i[o]))return!1;return!0}function Lf(n,i,o,c,f,m){return Ti=m,mt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,B.H=n===null||n.memoizedState===null?Sb:Jf,tr=!1,m=o(c,f),tr=!1,lo&&(m=V0(i,o,c,f)),z0(n),m}function z0(n){B.H=Ol;var i=Wt!==null&&Wt.next!==null;if(Ti=0,jn=Wt=mt=null,_u=!1,Al=0,co=null,i)throw Error(a(300));n===null||kn||(n=n.dependencies,n!==null&&ku(n)&&(kn=!0))}function V0(n,i,o,c){mt=n;var f=0;do{if(lo&&(co=null),Al=0,lo=!1,25<=f)throw Error(a(301));if(f+=1,jn=Wt=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}B.H=wb,m=i(o,c)}while(lo);return m}function iM(){var n=B.H,i=n.useState()[0];return i=typeof i.then=="function"?Ml(i):i,n=n.useState()[0],(Wt!==null?Wt.memoizedState:null)!==n&&(mt.flags|=1024),i}function zf(){var n=Iu!==0;return Iu=0,n}function Vf(n,i,o){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~o}function Bf(n){if(_u){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}_u=!1}Ti=0,jn=Wt=mt=null,lo=!1,Al=Iu=0,co=null}function Kn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?mt.memoizedState=jn=n:jn=jn.next=n,jn}function gn(){if(Wt===null){var n=mt.alternate;n=n!==null?n.memoizedState:null}else n=Wt.next;var i=jn===null?mt.memoizedState:jn.next;if(i!==null)jn=i,Wt=n;else{if(n===null)throw mt.alternate===null?Error(a(467)):Error(a(310));Wt=n,n={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},jn===null?mt.memoizedState=jn=n:jn=jn.next=n}return jn}function Wu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ml(n){var i=Al;return Al+=1,co===null&&(co=[]),n=M0(co,n,i),i=mt,(jn===null?i.memoizedState:jn.next)===null&&(i=i.alternate,B.H=i===null||i.memoizedState===null?Sb:Jf),n}function Nu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ml(n);if(n.$$typeof===A)return Vn(n)}throw Error(a(438,String(n)))}function Ff(n){var i=null,o=mt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=mt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Wu(),mt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(n),c=0;c<n;c++)o[c]=U;return i.index++,o}function Di(n,i){return typeof i=="function"?i(n):i}function Lu(n){var i=gn();return Hf(i,Wt,n)}function Hf(n,i,o){var c=n.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=o;var f=n.baseQueue,m=c.pending;if(m!==null){if(f!==null){var C=f.next;f.next=m.next,m.next=C}i.baseQueue=f=m,c.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{i=f.next;var O=C=null,H=null,ne=i,pe=!1;do{var be=ne.lane&-536870913;if(be!==ne.lane?(vt&be)===be:(Ti&be)===be){var re=ne.revertLane;if(re===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),be===so&&(pe=!0);else if((Ti&re)===re){ne=ne.next,re===so&&(pe=!0);continue}else be={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},H===null?(O=H=be,C=m):H=H.next=be,mt.lanes|=re,fa|=re;be=ne.action,tr&&o(m,be),m=ne.hasEagerState?ne.eagerState:o(m,be)}else re={lane:be,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},H===null?(O=H=re,C=m):H=H.next=re,mt.lanes|=be,fa|=be;ne=ne.next}while(ne!==null&&ne!==i);if(H===null?C=m:H.next=O,!ps(m,n.memoizedState)&&(kn=!0,pe&&(o=io,o!==null)))throw o;n.memoizedState=m,n.baseState=C,n.baseQueue=H,c.lastRenderedState=m}return f===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function Uf(n){var i=gn(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=n;var c=o.dispatch,f=o.pending,m=i.memoizedState;if(f!==null){o.pending=null;var C=f=f.next;do m=n(m,C.action),C=C.next;while(C!==f);ps(m,i.memoizedState)||(kn=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),o.lastRenderedState=m}return[m,c]}function B0(n,i,o){var c=mt,f=gn(),m=Ct;if(m){if(o===void 0)throw Error(a(407));o=o()}else o=i();var C=!ps((Wt||f).memoizedState,o);if(C&&(f.memoizedState=o,kn=!0),f=f.queue,Gf(U0.bind(null,c,f,n),[n]),f.getSnapshot!==i||C||jn!==null&&jn.memoizedState.tag&1){if(c.flags|=2048,uo(9,{destroy:void 0},H0.bind(null,c,f,o,i),null),Vt===null)throw Error(a(349));m||(Ti&127)!==0||F0(c,i,o)}return o}function F0(n,i,o){n.flags|=16384,n={getSnapshot:i,value:o},i=mt.updateQueue,i===null?(i=Wu(),mt.updateQueue=i,i.stores=[n]):(o=i.stores,o===null?i.stores=[n]:o.push(n))}function H0(n,i,o,c){i.value=o,i.getSnapshot=c,q0(i)&&Y0(n)}function U0(n,i,o){return o(function(){q0(i)&&Y0(n)})}function q0(n){var i=n.getSnapshot;n=n.value;try{var o=i();return!ps(n,o)}catch{return!0}}function Y0(n){var i=Ya(n,2);i!==null&&ls(i,n,2)}function qf(n){var i=Kn();if(typeof n=="function"){var o=n;if(n=o(),tr){Ge(!0);try{o()}finally{Ge(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:n},i}function G0(n,i,o,c){return n.baseState=o,Hf(n,Wt,typeof c=="function"?c:Di)}function aM(n,i,o,c,f){if(Bu(n))throw Error(a(485));if(n=i.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){m.listeners.push(C)}};B.T!==null?o(!0):m.isTransition=!1,c(m),o=i.pending,o===null?(m.next=i.pending=m,$0(i,m)):(m.next=o.next,i.pending=o.next=m)}}function $0(n,i){var o=i.action,c=i.payload,f=n.state;if(i.isTransition){var m=B.T,C={};B.T=C;try{var O=o(f,c),H=B.S;H!==null&&H(C,O),K0(n,i,O)}catch(ne){Yf(n,i,ne)}finally{m!==null&&C.types!==null&&(m.types=C.types),B.T=m}}else try{m=o(f,c),K0(n,i,m)}catch(ne){Yf(n,i,ne)}}function K0(n,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Q0(n,i,c)},function(c){return Yf(n,i,c)}):Q0(n,i,o)}function Q0(n,i,o){i.status="fulfilled",i.value=o,X0(i),n.state=o,i=n.pending,i!==null&&(o=i.next,o===i?n.pending=null:(o=o.next,i.next=o,$0(n,o)))}function Yf(n,i,o){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,X0(i),i=i.next;while(i!==c)}n.action=null}function X0(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Z0(n,i){return i}function J0(n,i){if(Ct){var o=Vt.formState;if(o!==null){e:{var c=mt;if(Ct){if(Gt){t:{for(var f=Gt,m=Os;f.nodeType!==8;){if(!m){f=null;break t}if(f=_s(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Gt=_s(f.nextSibling),c=f.data==="F!";break e}}ia(c)}c=!1}c&&(i=o[0])}}return o=Kn(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Z0,lastRenderedState:i},o.queue=c,o=xb.bind(null,mt,c),c.dispatch=o,c=qf(!1),m=Zf.bind(null,mt,!1,c.queue),c=Kn(),f={state:i,dispatch:null,action:n,pending:null},c.queue=f,o=aM.bind(null,mt,f,m,o),f.dispatch=o,c.memoizedState=n,[i,o,!1]}function eb(n){var i=gn();return tb(i,Wt,n)}function tb(n,i,o){if(i=Hf(n,i,Z0)[0],n=Lu(Di)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Ml(i)}catch(C){throw C===ao?Eu:C}else c=i;i=gn();var f=i.queue,m=f.dispatch;return o!==i.memoizedState&&(mt.flags|=2048,uo(9,{destroy:void 0},rM.bind(null,f,o),null)),[c,m,n]}function rM(n,i){n.action=i}function nb(n){var i=gn(),o=Wt;if(o!==null)return tb(i,o,n);gn(),i=i.memoizedState,o=gn();var c=o.queue.dispatch;return o.memoizedState=n,[i,c,!1]}function uo(n,i,o,c){return n={tag:n,create:o,deps:c,inst:i,next:null},i=mt.updateQueue,i===null&&(i=Wu(),mt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=n.next=n:(c=o.next,o.next=n,n.next=c,i.lastEffect=n),n}function sb(){return gn().memoizedState}function zu(n,i,o,c){var f=Kn();mt.flags|=n,f.memoizedState=uo(1|i,{destroy:void 0},o,c===void 0?null:c)}function Vu(n,i,o,c){var f=gn();c=c===void 0?null:c;var m=f.memoizedState.inst;Wt!==null&&c!==null&&Nf(c,Wt.memoizedState.deps)?f.memoizedState=uo(i,m,o,c):(mt.flags|=n,f.memoizedState=uo(1|i,m,o,c))}function ib(n,i){zu(8390656,8,n,i)}function Gf(n,i){Vu(2048,8,n,i)}function oM(n){mt.flags|=4;var i=mt.updateQueue;if(i===null)i=Wu(),mt.updateQueue=i,i.events=[n];else{var o=i.events;o===null?i.events=[n]:o.push(n)}}function ab(n){var i=gn().memoizedState;return oM({ref:i,nextImpl:n}),function(){if((Mt&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function rb(n,i){return Vu(4,2,n,i)}function ob(n,i){return Vu(4,4,n,i)}function lb(n,i){if(typeof i=="function"){n=n();var o=i(n);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function cb(n,i,o){o=o!=null?o.concat([n]):null,Vu(4,4,lb.bind(null,i,n),o)}function $f(){}function ub(n,i){var o=gn();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&Nf(i,c[1])?c[0]:(o.memoizedState=[n,i],n)}function db(n,i){var o=gn();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&Nf(i,c[1]))return c[0];if(c=n(),tr){Ge(!0);try{n()}finally{Ge(!1)}}return o.memoizedState=[c,i],c}function Kf(n,i,o){return o===void 0||(Ti&1073741824)!==0&&(vt&261930)===0?n.memoizedState=i:(n.memoizedState=o,n=hv(),mt.lanes|=n,fa|=n,o)}function hb(n,i,o,c){return ps(o,i)?o:oo.current!==null?(n=Kf(n,o,c),ps(n,i)||(kn=!0),n):(Ti&42)===0||(Ti&1073741824)!==0&&(vt&261930)===0?(kn=!0,n.memoizedState=o):(n=hv(),mt.lanes|=n,fa|=n,i)}function fb(n,i,o,c,f){var m=q.p;q.p=m!==0&&8>m?m:8;var C=B.T,O={};B.T=O,Zf(n,!1,i,o);try{var H=f(),ne=B.S;if(ne!==null&&ne(O,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var pe=nM(H,c);Pl(n,i,pe,vs(n))}else Pl(n,i,c,vs(n))}catch(be){Pl(n,i,{then:function(){},status:"rejected",reason:be},vs())}finally{q.p=m,C!==null&&O.types!==null&&(C.types=O.types),B.T=C}}function lM(){}function Qf(n,i,o,c){if(n.tag!==5)throw Error(a(476));var f=pb(n).queue;fb(n,f,i,le,o===null?lM:function(){return mb(n),o(c)})}function pb(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:le},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:o},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function mb(n){var i=pb(n);i.next===null&&(i=n.alternate.memoizedState),Pl(n,i.next.queue,{},vs())}function Xf(){return Vn($l)}function gb(){return gn().memoizedState}function yb(){return gn().memoizedState}function cM(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var o=vs();n=oa(o);var c=la(i,n,o);c!==null&&(ls(c,i,o),Tl(c,i,o)),i={cache:Tf()},n.payload=i;return}i=i.return}}function uM(n,i,o){var c=vs();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Bu(n)?bb(i,o):(o=mf(n,i,o,c),o!==null&&(ls(o,n,c),vb(o,i,c)))}function xb(n,i,o){var c=vs();Pl(n,i,o,c)}function Pl(n,i,o,c){var f={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Bu(n))bb(i,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var C=i.lastRenderedState,O=m(C,o);if(f.hasEagerState=!0,f.eagerState=O,ps(O,C))return Su(n,i,f,0),Vt===null&&vu(),!1}catch{}finally{}if(o=mf(n,i,f,c),o!==null)return ls(o,n,c),vb(o,i,c),!0}return!1}function Zf(n,i,o,c){if(c={lane:2,revertLane:Mp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Bu(n)){if(i)throw Error(a(479))}else i=mf(n,o,c,2),i!==null&&ls(i,n,2)}function Bu(n){var i=n.alternate;return n===mt||i!==null&&i===mt}function bb(n,i){lo=_u=!0;var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}function vb(n,i,o){if((o&4194048)!==0){var c=i.lanes;c&=n.pendingLanes,o|=c,i.lanes=o,Lr(n,o)}}var Ol={readContext:Vn,use:Nu,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useLayoutEffect:cn,useInsertionEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useSyncExternalStore:cn,useId:cn,useHostTransitionStatus:cn,useFormState:cn,useActionState:cn,useOptimistic:cn,useMemoCache:cn,useCacheRefresh:cn};Ol.useEffectEvent=cn;var Sb={readContext:Vn,use:Nu,useCallback:function(n,i){return Kn().memoizedState=[n,i===void 0?null:i],n},useContext:Vn,useEffect:ib,useImperativeHandle:function(n,i,o){o=o!=null?o.concat([n]):null,zu(4194308,4,lb.bind(null,i,n),o)},useLayoutEffect:function(n,i){return zu(4194308,4,n,i)},useInsertionEffect:function(n,i){zu(4,2,n,i)},useMemo:function(n,i){var o=Kn();i=i===void 0?null:i;var c=n();if(tr){Ge(!0);try{n()}finally{Ge(!1)}}return o.memoizedState=[c,i],c},useReducer:function(n,i,o){var c=Kn();if(o!==void 0){var f=o(i);if(tr){Ge(!0);try{o(i)}finally{Ge(!1)}}}else f=i;return c.memoizedState=c.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},c.queue=n,n=n.dispatch=uM.bind(null,mt,n),[c.memoizedState,n]},useRef:function(n){var i=Kn();return n={current:n},i.memoizedState=n},useState:function(n){n=qf(n);var i=n.queue,o=xb.bind(null,mt,i);return i.dispatch=o,[n.memoizedState,o]},useDebugValue:$f,useDeferredValue:function(n,i){var o=Kn();return Kf(o,n,i)},useTransition:function(){var n=qf(!1);return n=fb.bind(null,mt,n.queue,!0,!1),Kn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,o){var c=mt,f=Kn();if(Ct){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),Vt===null)throw Error(a(349));(vt&127)!==0||F0(c,i,o)}f.memoizedState=o;var m={value:o,getSnapshot:i};return f.queue=m,ib(U0.bind(null,c,m,n),[n]),c.flags|=2048,uo(9,{destroy:void 0},H0.bind(null,c,m,o,i),null),o},useId:function(){var n=Kn(),i=Vt.identifierPrefix;if(Ct){var o=si,c=ni;o=(c&~(1<<32-ut(c)-1)).toString(32)+o,i="_"+i+"R_"+o,o=Iu++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=sM++,i="_"+i+"r_"+o.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:Xf,useFormState:J0,useActionState:J0,useOptimistic:function(n){var i=Kn();i.memoizedState=i.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Zf.bind(null,mt,!0,o),o.dispatch=i,[n,i]},useMemoCache:Ff,useCacheRefresh:function(){return Kn().memoizedState=cM.bind(null,mt)},useEffectEvent:function(n){var i=Kn(),o={impl:n};return i.memoizedState=o,function(){if((Mt&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},Jf={readContext:Vn,use:Nu,useCallback:ub,useContext:Vn,useEffect:Gf,useImperativeHandle:cb,useInsertionEffect:rb,useLayoutEffect:ob,useMemo:db,useReducer:Lu,useRef:sb,useState:function(){return Lu(Di)},useDebugValue:$f,useDeferredValue:function(n,i){var o=gn();return hb(o,Wt.memoizedState,n,i)},useTransition:function(){var n=Lu(Di)[0],i=gn().memoizedState;return[typeof n=="boolean"?n:Ml(n),i]},useSyncExternalStore:B0,useId:gb,useHostTransitionStatus:Xf,useFormState:eb,useActionState:eb,useOptimistic:function(n,i){var o=gn();return G0(o,Wt,n,i)},useMemoCache:Ff,useCacheRefresh:yb};Jf.useEffectEvent=ab;var wb={readContext:Vn,use:Nu,useCallback:ub,useContext:Vn,useEffect:Gf,useImperativeHandle:cb,useInsertionEffect:rb,useLayoutEffect:ob,useMemo:db,useReducer:Uf,useRef:sb,useState:function(){return Uf(Di)},useDebugValue:$f,useDeferredValue:function(n,i){var o=gn();return Wt===null?Kf(o,n,i):hb(o,Wt.memoizedState,n,i)},useTransition:function(){var n=Uf(Di)[0],i=gn().memoizedState;return[typeof n=="boolean"?n:Ml(n),i]},useSyncExternalStore:B0,useId:gb,useHostTransitionStatus:Xf,useFormState:nb,useActionState:nb,useOptimistic:function(n,i){var o=gn();return Wt!==null?G0(o,Wt,n,i):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Ff,useCacheRefresh:yb};wb.useEffectEvent=ab;function ep(n,i,o,c){i=n.memoizedState,o=o(c,i),o=o==null?i:v({},i,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var tp={enqueueSetState:function(n,i,o){n=n._reactInternals;var c=vs(),f=oa(c);f.payload=i,o!=null&&(f.callback=o),i=la(n,f,c),i!==null&&(ls(i,n,c),Tl(i,n,c))},enqueueReplaceState:function(n,i,o){n=n._reactInternals;var c=vs(),f=oa(c);f.tag=1,f.payload=i,o!=null&&(f.callback=o),i=la(n,f,c),i!==null&&(ls(i,n,c),Tl(i,n,c))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var o=vs(),c=oa(o);c.tag=2,i!=null&&(c.callback=i),i=la(n,c,o),i!==null&&(ls(i,n,o),Tl(i,n,o))}};function Cb(n,i,o,c,f,m,C){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,C):i.prototype&&i.prototype.isPureReactComponent?!xl(o,c)||!xl(f,m):!0}function jb(n,i,o,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==n&&tp.enqueueReplaceState(i,i.state,null)}function nr(n,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(n=n.defaultProps){o===i&&(o=v({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}function kb(n){bu(n)}function Tb(n){console.error(n)}function Db(n){bu(n)}function Fu(n,i){try{var o=n.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function Eb(n,i,o){try{var c=n.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function np(n,i,o){return o=oa(o),o.tag=3,o.payload={element:null},o.callback=function(){Fu(n,i)},o}function Ab(n){return n=oa(n),n.tag=3,n}function Mb(n,i,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=c.value;n.payload=function(){return f(m)},n.callback=function(){Eb(i,o,c)}}var C=o.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(n.callback=function(){Eb(i,o,c),typeof f!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var O=c.stack;this.componentDidCatch(c.value,{componentStack:O!==null?O:""})})}function dM(n,i,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&no(i,o,f,!0),o=gs.current,o!==null){switch(o.tag){case 31:case 13:return Rs===null?ed():o.alternate===null&&un===0&&(un=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===Au?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),Dp(n,c,f)),!1;case 22:return o.flags|=65536,c===Au?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),Dp(n,c,f)),!1}throw Error(a(435,o.tag))}return Dp(n,c,f),ed(),!1}if(Ct)return i=gs.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,c!==Sf&&(n=Error(a(422),{cause:c}),Sl(As(n,o)))):(c!==Sf&&(i=Error(a(423),{cause:c}),Sl(As(i,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,c=As(c,o),f=np(n.stateNode,c,f),Of(n,f),un!==4&&(un=2)),!1;var m=Error(a(520),{cause:c});if(m=As(m,o),Vl===null?Vl=[m]:Vl.push(m),un!==4&&(un=2),i===null)return!0;c=As(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=np(o.stateNode,c,n),Of(o,n),!1;case 1:if(i=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(pa===null||!pa.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Ab(f),Mb(f,n,o,c),Of(o,f),!1}o=o.return}while(o!==null);return!1}var sp=Error(a(461)),kn=!1;function Bn(n,i,o,c){i.child=n===null?_0(i,null,o,c):er(i,n.child,o,c)}function Pb(n,i,o,c,f){o=o.render;var m=i.ref;if("ref"in c){var C={};for(var O in c)O!=="ref"&&(C[O]=c[O])}else C=c;return Qa(i),c=Lf(n,i,o,C,m,f),O=zf(),n!==null&&!kn?(Vf(n,i,f),Ei(n,i,f)):(Ct&&O&&bf(i),i.flags|=1,Bn(n,i,c,f),i.child)}function Ob(n,i,o,c,f){if(n===null){var m=o.type;return typeof m=="function"&&!gf(m)&&m.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=m,Rb(n,i,m,c,f)):(n=Cu(o.type,null,c,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!dp(n,f)){var C=m.memoizedProps;if(o=o.compare,o=o!==null?o:xl,o(C,c)&&n.ref===i.ref)return Ei(n,i,f)}return i.flags|=1,n=wi(m,c),n.ref=i.ref,n.return=i,i.child=n}function Rb(n,i,o,c,f){if(n!==null){var m=n.memoizedProps;if(xl(m,c)&&n.ref===i.ref)if(kn=!1,i.pendingProps=c=m,dp(n,f))(n.flags&131072)!==0&&(kn=!0);else return i.lanes=n.lanes,Ei(n,i,f)}return ip(n,i,o,c,f)}function _b(n,i,o,c){var f=c.children,m=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,n!==null){for(c=i.child=n.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~m}else c=0,i.child=null;return Ib(n,i,m,o,c)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Du(i,m!==null?m.cachePool:null),m!==null?N0(i,m):_f(),L0(i);else return c=i.lanes=536870912,Ib(n,i,m!==null?m.baseLanes|o:o,o,c)}else m!==null?(Du(i,m.cachePool),N0(i,m),ua(),i.memoizedState=null):(n!==null&&Du(i,null),_f(),ua());return Bn(n,i,f,o),i.child}function Rl(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ib(n,i,o,c,f){var m=Ef();return m=m===null?null:{parent:Cn._currentValue,pool:m},i.memoizedState={baseLanes:o,cachePool:m},n!==null&&Du(i,null),_f(),L0(i),n!==null&&no(n,i,c,!0),i.childLanes=f,null}function Hu(n,i){return i=qu({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function Wb(n,i,o){return er(i,n.child,null,o),n=Hu(i,i.pendingProps),n.flags|=2,ys(i),i.memoizedState=null,n}function hM(n,i,o){var c=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(Ct){if(c.mode==="hidden")return n=Hu(i,c),i.lanes=536870912,Rl(null,n);if(Wf(i),(n=Gt)?(n=$v(n,Os),n=n!==null&&n.data==="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:na!==null?{id:ni,overflow:si}:null,retryLane:536870912,hydrationErrors:null},o=b0(n),o.return=i,i.child=o,zn=i,Gt=null)):n=null,n===null)throw ia(i);return i.lanes=536870912,null}return Hu(i,c)}var m=n.memoizedState;if(m!==null){var C=m.dehydrated;if(Wf(i),f)if(i.flags&256)i.flags&=-257,i=Wb(n,i,o);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(a(558));else if(kn||no(n,i,o,!1),f=(o&n.childLanes)!==0,kn||f){if(c=Vt,c!==null&&(C=lu(c,o),C!==0&&C!==m.retryLane))throw m.retryLane=C,Ya(n,C),ls(c,n,C),sp;ed(),i=Wb(n,i,o)}else n=m.treeContext,Gt=_s(C.nextSibling),zn=i,Ct=!0,sa=null,Os=!1,n!==null&&w0(i,n),i=Hu(i,c),i.flags|=4096;return i}return n=wi(n.child,{mode:c.mode,children:c.children}),n.ref=i.ref,i.child=n,n.return=i,n}function Uu(n,i){var o=i.ref;if(o===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(n===null||n.ref!==o)&&(i.flags|=4194816)}}function ip(n,i,o,c,f){return Qa(i),o=Lf(n,i,o,c,void 0,f),c=zf(),n!==null&&!kn?(Vf(n,i,f),Ei(n,i,f)):(Ct&&c&&bf(i),i.flags|=1,Bn(n,i,o,f),i.child)}function Nb(n,i,o,c,f,m){return Qa(i),i.updateQueue=null,o=V0(i,c,o,f),z0(n),c=zf(),n!==null&&!kn?(Vf(n,i,m),Ei(n,i,m)):(Ct&&c&&bf(i),i.flags|=1,Bn(n,i,o,m),i.child)}function Lb(n,i,o,c,f){if(Qa(i),i.stateNode===null){var m=Zr,C=o.contextType;typeof C=="object"&&C!==null&&(m=Vn(C)),m=new o(c,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=tp,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=c,m.state=i.memoizedState,m.refs={},Mf(i),C=o.contextType,m.context=typeof C=="object"&&C!==null?Vn(C):Zr,m.state=i.memoizedState,C=o.getDerivedStateFromProps,typeof C=="function"&&(ep(i,o,C,c),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(C=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),C!==m.state&&tp.enqueueReplaceState(m,m.state,null),El(i,c,m,f),Dl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(n===null){m=i.stateNode;var O=i.memoizedProps,H=nr(o,O);m.props=H;var ne=m.context,pe=o.contextType;C=Zr,typeof pe=="object"&&pe!==null&&(C=Vn(pe));var be=o.getDerivedStateFromProps;pe=typeof be=="function"||typeof m.getSnapshotBeforeUpdate=="function",O=i.pendingProps!==O,pe||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(O||ne!==C)&&jb(i,m,c,C),ra=!1;var re=i.memoizedState;m.state=re,El(i,c,m,f),Dl(),ne=i.memoizedState,O||re!==ne||ra?(typeof be=="function"&&(ep(i,o,be,c),ne=i.memoizedState),(H=ra||Cb(i,o,H,c,re,ne,C))?(pe||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=ne),m.props=c,m.state=ne,m.context=C,c=H):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{m=i.stateNode,Pf(n,i),C=i.memoizedProps,pe=nr(o,C),m.props=pe,be=i.pendingProps,re=m.context,ne=o.contextType,H=Zr,typeof ne=="object"&&ne!==null&&(H=Vn(ne)),O=o.getDerivedStateFromProps,(ne=typeof O=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(C!==be||re!==H)&&jb(i,m,c,H),ra=!1,re=i.memoizedState,m.state=re,El(i,c,m,f),Dl();var ue=i.memoizedState;C!==be||re!==ue||ra||n!==null&&n.dependencies!==null&&ku(n.dependencies)?(typeof O=="function"&&(ep(i,o,O,c),ue=i.memoizedState),(pe=ra||Cb(i,o,pe,c,re,ue,H)||n!==null&&n.dependencies!==null&&ku(n.dependencies))?(ne||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,ue,H),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,ue,H)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||C===n.memoizedProps&&re===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&re===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ue),m.props=c,m.state=ue,m.context=H,c=pe):(typeof m.componentDidUpdate!="function"||C===n.memoizedProps&&re===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&re===n.memoizedState||(i.flags|=1024),c=!1)}return m=c,Uu(n,i),c=(i.flags&128)!==0,m||c?(m=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&c?(i.child=er(i,n.child,null,f),i.child=er(i,null,o,f)):Bn(n,i,o,f),i.memoizedState=m.state,n=i.child):n=Ei(n,i,f),n}function zb(n,i,o,c){return $a(),i.flags|=256,Bn(n,i,o,c),i.child}var ap={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rp(n){return{baseLanes:n,cachePool:E0()}}function op(n,i,o){return n=n!==null?n.childLanes&~o:0,i&&(n|=bs),n}function Vb(n,i,o){var c=i.pendingProps,f=!1,m=(i.flags&128)!==0,C;if((C=m)||(C=n!==null&&n.memoizedState===null?!1:(mn.current&2)!==0),C&&(f=!0,i.flags&=-129),C=(i.flags&32)!==0,i.flags&=-33,n===null){if(Ct){if(f?ca(i):ua(),(n=Gt)?(n=$v(n,Os),n=n!==null&&n.data!=="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:na!==null?{id:ni,overflow:si}:null,retryLane:536870912,hydrationErrors:null},o=b0(n),o.return=i,i.child=o,zn=i,Gt=null)):n=null,n===null)throw ia(i);return Hp(n)?i.lanes=32:i.lanes=536870912,null}var O=c.children;return c=c.fallback,f?(ua(),f=i.mode,O=qu({mode:"hidden",children:O},f),c=Ga(c,f,o,null),O.return=i,c.return=i,O.sibling=c,i.child=O,c=i.child,c.memoizedState=rp(o),c.childLanes=op(n,C,o),i.memoizedState=ap,Rl(null,c)):(ca(i),lp(i,O))}var H=n.memoizedState;if(H!==null&&(O=H.dehydrated,O!==null)){if(m)i.flags&256?(ca(i),i.flags&=-257,i=cp(n,i,o)):i.memoizedState!==null?(ua(),i.child=n.child,i.flags|=128,i=null):(ua(),O=c.fallback,f=i.mode,c=qu({mode:"visible",children:c.children},f),O=Ga(O,f,o,null),O.flags|=2,c.return=i,O.return=i,c.sibling=O,i.child=c,er(i,n.child,null,o),c=i.child,c.memoizedState=rp(o),c.childLanes=op(n,C,o),i.memoizedState=ap,i=Rl(null,c));else if(ca(i),Hp(O)){if(C=O.nextSibling&&O.nextSibling.dataset,C)var ne=C.dgst;C=ne,c=Error(a(419)),c.stack="",c.digest=C,Sl({value:c,source:null,stack:null}),i=cp(n,i,o)}else if(kn||no(n,i,o,!1),C=(o&n.childLanes)!==0,kn||C){if(C=Vt,C!==null&&(c=lu(C,o),c!==0&&c!==H.retryLane))throw H.retryLane=c,Ya(n,c),ls(C,n,c),sp;Fp(O)||ed(),i=cp(n,i,o)}else Fp(O)?(i.flags|=192,i.child=n.child,i=null):(n=H.treeContext,Gt=_s(O.nextSibling),zn=i,Ct=!0,sa=null,Os=!1,n!==null&&w0(i,n),i=lp(i,c.children),i.flags|=4096);return i}return f?(ua(),O=c.fallback,f=i.mode,H=n.child,ne=H.sibling,c=wi(H,{mode:"hidden",children:c.children}),c.subtreeFlags=H.subtreeFlags&65011712,ne!==null?O=wi(ne,O):(O=Ga(O,f,o,null),O.flags|=2),O.return=i,c.return=i,c.sibling=O,i.child=c,Rl(null,c),c=i.child,O=n.child.memoizedState,O===null?O=rp(o):(f=O.cachePool,f!==null?(H=Cn._currentValue,f=f.parent!==H?{parent:H,pool:H}:f):f=E0(),O={baseLanes:O.baseLanes|o,cachePool:f}),c.memoizedState=O,c.childLanes=op(n,C,o),i.memoizedState=ap,Rl(n.child,c)):(ca(i),o=n.child,n=o.sibling,o=wi(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,n!==null&&(C=i.deletions,C===null?(i.deletions=[n],i.flags|=16):C.push(n)),i.child=o,i.memoizedState=null,o)}function lp(n,i){return i=qu({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function qu(n,i){return n=ms(22,n,null,i),n.lanes=0,n}function cp(n,i,o){return er(i,n.child,null,o),n=lp(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Bb(n,i,o){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),jf(n.return,i,o)}function up(n,i,o,c,f,m){var C=n.memoizedState;C===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f,treeForkCount:m}:(C.isBackwards=i,C.rendering=null,C.renderingStartTime=0,C.last=c,C.tail=o,C.tailMode=f,C.treeForkCount=m)}function Fb(n,i,o){var c=i.pendingProps,f=c.revealOrder,m=c.tail;c=c.children;var C=mn.current,O=(C&2)!==0;if(O?(C=C&1|2,i.flags|=128):C&=1,ae(mn,C),Bn(n,i,c,o),c=Ct?vl:0,!O&&n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Bb(n,o,i);else if(n.tag===19)Bb(n,o,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(o=i.child,f=null;o!==null;)n=o.alternate,n!==null&&Ru(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=i.child,i.child=null):(f=o.sibling,o.sibling=null),up(i,!1,f,o,m,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Ru(n)===null){i.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}up(i,!0,o,null,m,c);break;case"together":up(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function Ei(n,i,o){if(n!==null&&(i.dependencies=n.dependencies),fa|=i.lanes,(o&i.childLanes)===0)if(n!==null){if(no(n,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,o=wi(n,n.pendingProps),i.child=o,o.return=i;n.sibling!==null;)n=n.sibling,o=o.sibling=wi(n,n.pendingProps),o.return=i;o.sibling=null}return i.child}function dp(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&ku(n)))}function fM(n,i,o){switch(i.tag){case 3:X(i,i.stateNode.containerInfo),aa(i,Cn,n.memoizedState.cache),$a();break;case 27:case 5:xe(i);break;case 4:X(i,i.stateNode.containerInfo);break;case 10:aa(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Wf(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(ca(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Vb(n,i,o):(ca(i),n=Ei(n,i,o),n!==null?n.sibling:null);ca(i);break;case 19:var f=(n.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(no(n,i,o,!1),c=(o&i.childLanes)!==0),f){if(c)return Fb(n,i,o);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(mn,mn.current),c)break;return null;case 22:return i.lanes=0,_b(n,i,o,i.pendingProps);case 24:aa(i,Cn,n.memoizedState.cache)}return Ei(n,i,o)}function Hb(n,i,o){if(n!==null)if(n.memoizedProps!==i.pendingProps)kn=!0;else{if(!dp(n,o)&&(i.flags&128)===0)return kn=!1,fM(n,i,o);kn=(n.flags&131072)!==0}else kn=!1,Ct&&(i.flags&1048576)!==0&&S0(i,vl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var c=i.pendingProps;if(n=Za(i.elementType),i.type=n,typeof n=="function")gf(n)?(c=nr(n,c),i.tag=1,i=Lb(null,i,n,c,o)):(i.tag=0,i=ip(null,i,n,c,o));else{if(n!=null){var f=n.$$typeof;if(f===_){i.tag=11,i=Pb(null,i,n,c,o);break e}else if(f===R){i.tag=14,i=Ob(null,i,n,c,o);break e}}throw i=F(n)||n,Error(a(306,i,""))}}return i;case 0:return ip(n,i,i.type,i.pendingProps,o);case 1:return c=i.type,f=nr(c,i.pendingProps),Lb(n,i,c,f,o);case 3:e:{if(X(i,i.stateNode.containerInfo),n===null)throw Error(a(387));c=i.pendingProps;var m=i.memoizedState;f=m.element,Pf(n,i),El(i,c,null,o);var C=i.memoizedState;if(c=C.cache,aa(i,Cn,c),c!==m.cache&&kf(i,[Cn],o,!0),Dl(),c=C.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:C.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=zb(n,i,c,o);break e}else if(c!==f){f=As(Error(a(424)),i),Sl(f),i=zb(n,i,c,o);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Gt=_s(n.firstChild),zn=i,Ct=!0,sa=null,Os=!0,o=_0(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if($a(),c===f){i=Ei(n,i,o);break e}Bn(n,i,c,o)}i=i.child}return i;case 26:return Uu(n,i),n===null?(o=eS(i.type,null,i.pendingProps,null))?i.memoizedState=o:Ct||(o=i.type,n=i.pendingProps,c=od(oe.current).createElement(o),c[Ln]=i,c[ns]=n,Fn(c,o,n),In(c),i.stateNode=c):i.memoizedState=eS(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return xe(i),n===null&&Ct&&(c=i.stateNode=Xv(i.type,i.pendingProps,oe.current),zn=i,Os=!0,f=Gt,xa(i.type)?(Up=f,Gt=_s(c.firstChild)):Gt=f),Bn(n,i,i.pendingProps.children,o),Uu(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Ct&&((f=c=Gt)&&(c=HM(c,i.type,i.pendingProps,Os),c!==null?(i.stateNode=c,zn=i,Gt=_s(c.firstChild),Os=!1,f=!0):f=!1),f||ia(i)),xe(i),f=i.type,m=i.pendingProps,C=n!==null?n.memoizedProps:null,c=m.children,zp(f,m)?c=null:C!==null&&zp(f,C)&&(i.flags|=32),i.memoizedState!==null&&(f=Lf(n,i,iM,null,null,o),$l._currentValue=f),Uu(n,i),Bn(n,i,c,o),i.child;case 6:return n===null&&Ct&&((n=o=Gt)&&(o=UM(o,i.pendingProps,Os),o!==null?(i.stateNode=o,zn=i,Gt=null,n=!0):n=!1),n||ia(i)),null;case 13:return Vb(n,i,o);case 4:return X(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=er(i,null,c,o):Bn(n,i,c,o),i.child;case 11:return Pb(n,i,i.type,i.pendingProps,o);case 7:return Bn(n,i,i.pendingProps,o),i.child;case 8:return Bn(n,i,i.pendingProps.children,o),i.child;case 12:return Bn(n,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,aa(i,i.type,c.value),Bn(n,i,c.children,o),i.child;case 9:return f=i.type._context,c=i.pendingProps.children,Qa(i),f=Vn(f),c=c(f),i.flags|=1,Bn(n,i,c,o),i.child;case 14:return Ob(n,i,i.type,i.pendingProps,o);case 15:return Rb(n,i,i.type,i.pendingProps,o);case 19:return Fb(n,i,o);case 31:return hM(n,i,o);case 22:return _b(n,i,o,i.pendingProps);case 24:return Qa(i),c=Vn(Cn),n===null?(f=Ef(),f===null&&(f=Vt,m=Tf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),i.memoizedState={parent:c,cache:f},Mf(i),aa(i,Cn,f)):((n.lanes&o)!==0&&(Pf(n,i),El(i,null,null,o),Dl()),f=n.memoizedState,m=i.memoizedState,f.parent!==c?(f={parent:c,cache:c},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),aa(i,Cn,c)):(c=m.cache,aa(i,Cn,c),c!==f.cache&&kf(i,[Cn],o,!0))),Bn(n,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Ai(n){n.flags|=4}function hp(n,i,o,c,f){if((i=(n.mode&32)!==0)&&(i=!1),i){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(gv())n.flags|=8192;else throw Ja=Au,Af}else n.flags&=-16777217}function Ub(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!aS(i))if(gv())n.flags|=8192;else throw Ja=Au,Af}function Yu(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?ln():536870912,n.lanes|=i,mo|=i)}function _l(n,i){if(!Ct)switch(n.tailMode){case"hidden":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function $t(n){var i=n.alternate!==null&&n.alternate.child===n.child,o=0,c=0;if(i)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=o,i}function pM(n,i,o){var c=i.pendingProps;switch(vf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(i),null;case 1:return $t(i),null;case 3:return o=i.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),ki(Cn),ve(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(to(i)?Ai(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,wf())),$t(i),null;case 26:var f=i.type,m=i.memoizedState;return n===null?(Ai(i),m!==null?($t(i),Ub(i,m)):($t(i),hp(i,f,null,c,o))):m?m!==n.memoizedState?(Ai(i),$t(i),Ub(i,m)):($t(i),i.flags&=-16777217):(n=n.memoizedProps,n!==c&&Ai(i),$t(i),hp(i,f,n,c,o)),null;case 27:if(ge(i),o=oe.current,f=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==c&&Ai(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return $t(i),null}n=ce.current,to(i)?C0(i):(n=Xv(f,c,o),i.stateNode=n,Ai(i))}return $t(i),null;case 5:if(ge(i),f=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==c&&Ai(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return $t(i),null}if(m=ce.current,to(i))C0(i);else{var C=od(oe.current);switch(m){case 1:m=C.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=C.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=C.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=C.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=C.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?C.createElement("select",{is:c.is}):C.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?C.createElement(f,{is:c.is}):C.createElement(f)}}m[Ln]=i,m[ns]=c;e:for(C=i.child;C!==null;){if(C.tag===5||C.tag===6)m.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===i)break e;for(;C.sibling===null;){if(C.return===null||C.return===i)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}i.stateNode=m;e:switch(Fn(m,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ai(i)}}return $t(i),hp(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,o),null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==c&&Ai(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(a(166));if(n=oe.current,to(i)){if(n=i.stateNode,o=i.memoizedProps,c=null,f=zn,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}n[Ln]=i,n=!!(n.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Vv(n.nodeValue,o)),n||ia(i,!0)}else n=od(n).createTextNode(c),n[Ln]=i,i.stateNode=n}return $t(i),null;case 31:if(o=i.memoizedState,n===null||n.memoizedState!==null){if(c=to(i),o!==null){if(n===null){if(!c)throw Error(a(318));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(557));n[Ln]=i}else $a(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;$t(i),n=!1}else o=wf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return i.flags&256?(ys(i),i):(ys(i),null);if((i.flags&128)!==0)throw Error(a(558))}return $t(i),null;case 13:if(c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=to(i),c!==null&&c.dehydrated!==null){if(n===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Ln]=i}else $a(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;$t(i),f=!1}else f=wf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(ys(i),i):(ys(i),null)}return ys(i),(i.flags&128)!==0?(i.lanes=o,i):(o=c!==null,n=n!==null&&n.memoizedState!==null,o&&(c=i.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==f&&(c.flags|=2048)),o!==n&&o&&(i.child.flags|=8192),Yu(i,i.updateQueue),$t(i),null);case 4:return ve(),n===null&&_p(i.stateNode.containerInfo),$t(i),null;case 10:return ki(i.type),$t(i),null;case 19:if(Z(mn),c=i.memoizedState,c===null)return $t(i),null;if(f=(i.flags&128)!==0,m=c.rendering,m===null)if(f)_l(c,!1);else{if(un!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=Ru(n),m!==null){for(i.flags|=128,_l(c,!1),n=m.updateQueue,i.updateQueue=n,Yu(i,n),i.subtreeFlags=0,n=o,o=i.child;o!==null;)x0(o,n),o=o.sibling;return ae(mn,mn.current&1|2),Ct&&Ci(i,c.treeForkCount),i.child}n=n.sibling}c.tail!==null&&Ae()>Xu&&(i.flags|=128,f=!0,_l(c,!1),i.lanes=4194304)}else{if(!f)if(n=Ru(m),n!==null){if(i.flags|=128,f=!0,n=n.updateQueue,i.updateQueue=n,Yu(i,n),_l(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!Ct)return $t(i),null}else 2*Ae()-c.renderingStartTime>Xu&&o!==536870912&&(i.flags|=128,f=!0,_l(c,!1),i.lanes=4194304);c.isBackwards?(m.sibling=i.child,i.child=m):(n=c.last,n!==null?n.sibling=m:i.child=m,c.last=m)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Ae(),n.sibling=null,o=mn.current,ae(mn,f?o&1|2:o&1),Ct&&Ci(i,c.treeForkCount),n):($t(i),null);case 22:case 23:return ys(i),If(),c=i.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&($t(i),i.subtreeFlags&6&&(i.flags|=8192)):$t(i),o=i.updateQueue,o!==null&&Yu(i,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),n!==null&&Z(Xa),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),ki(Cn),$t(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function mM(n,i){switch(vf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return ki(Cn),ve(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return ge(i),null;case 31:if(i.memoizedState!==null){if(ys(i),i.alternate===null)throw Error(a(340));$a()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if(ys(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));$a()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Z(mn),null;case 4:return ve(),null;case 10:return ki(i.type),null;case 22:case 23:return ys(i),If(),n!==null&&Z(Xa),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return ki(Cn),null;case 25:return null;default:return null}}function qb(n,i){switch(vf(i),i.tag){case 3:ki(Cn),ve();break;case 26:case 27:case 5:ge(i);break;case 4:ve();break;case 31:i.memoizedState!==null&&ys(i);break;case 13:ys(i);break;case 19:Z(mn);break;case 10:ki(i.type);break;case 22:case 23:ys(i),If(),n!==null&&Z(Xa);break;case 24:ki(Cn)}}function Il(n,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&n)===n){c=void 0;var m=o.create,C=o.inst;c=m(),C.destroy=c}o=o.next}while(o!==f)}}catch(O){_t(i,i.return,O)}}function da(n,i,o){try{var c=i.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var m=f.next;c=m;do{if((c.tag&n)===n){var C=c.inst,O=C.destroy;if(O!==void 0){C.destroy=void 0,f=i;var H=o,ne=O;try{ne()}catch(pe){_t(f,H,pe)}}}c=c.next}while(c!==m)}}catch(pe){_t(i,i.return,pe)}}function Yb(n){var i=n.updateQueue;if(i!==null){var o=n.stateNode;try{W0(i,o)}catch(c){_t(n,n.return,c)}}}function Gb(n,i,o){o.props=nr(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(c){_t(n,i,c)}}function Wl(n,i){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof o=="function"?n.refCleanup=o(c):o.current=c}}catch(f){_t(n,i,f)}}function ii(n,i){var o=n.ref,c=n.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){_t(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){_t(n,i,f)}else o.current=null}function $b(n){var i=n.type,o=n.memoizedProps,c=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){_t(n,n.return,f)}}function fp(n,i,o){try{var c=n.stateNode;NM(c,n.type,o,i),c[ns]=i}catch(f){_t(n,n.return,f)}}function Kb(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&xa(n.type)||n.tag===4}function pp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Kb(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&xa(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function mp(n,i,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(n),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=vi));else if(c!==4&&(c===27&&xa(n.type)&&(o=n.stateNode,i=null),n=n.child,n!==null))for(mp(n,i,o),n=n.sibling;n!==null;)mp(n,i,o),n=n.sibling}function Gu(n,i,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?o.insertBefore(n,i):o.appendChild(n);else if(c!==4&&(c===27&&xa(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Gu(n,i,o),n=n.sibling;n!==null;)Gu(n,i,o),n=n.sibling}function Qb(n){var i=n.stateNode,o=n.memoizedProps;try{for(var c=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Fn(i,c,o),i[Ln]=n,i[ns]=o}catch(m){_t(n,n.return,m)}}var Mi=!1,Tn=!1,gp=!1,Xb=typeof WeakSet=="function"?WeakSet:Set,Wn=null;function gM(n,i){if(n=n.containerInfo,Np=pd,n=c0(n),cf(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var C=0,O=-1,H=-1,ne=0,pe=0,be=n,re=null;t:for(;;){for(var ue;be!==o||f!==0&&be.nodeType!==3||(O=C+f),be!==m||c!==0&&be.nodeType!==3||(H=C+c),be.nodeType===3&&(C+=be.nodeValue.length),(ue=be.firstChild)!==null;)re=be,be=ue;for(;;){if(be===n)break t;if(re===o&&++ne===f&&(O=C),re===m&&++pe===c&&(H=C),(ue=be.nextSibling)!==null)break;be=re,re=be.parentNode}be=ue}o=O===-1||H===-1?null:{start:O,end:H}}else o=null}o=o||{start:0,end:0}}else o=null;for(Lp={focusedElem:n,selectionRange:o},pd=!1,Wn=i;Wn!==null;)if(i=Wn,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Wn=n;else for(;Wn!==null;){switch(i=Wn,m=i.alternate,n=i.flags,i.tag){case 0:if((n&4)!==0&&(n=i.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)f=n[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,o=i,f=m.memoizedProps,m=m.memoizedState,c=o.stateNode;try{var He=nr(o.type,f);n=c.getSnapshotBeforeUpdate(He,m),c.__reactInternalSnapshotBeforeUpdate=n}catch(it){_t(o,o.return,it)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,o=n.nodeType,o===9)Bp(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Bp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,Wn=n;break}Wn=i.return}}function Zb(n,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Oi(n,o),c&4&&Il(5,o);break;case 1:if(Oi(n,o),c&4)if(n=o.stateNode,i===null)try{n.componentDidMount()}catch(C){_t(o,o.return,C)}else{var f=nr(o.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(C){_t(o,o.return,C)}}c&64&&Yb(o),c&512&&Wl(o,o.return);break;case 3:if(Oi(n,o),c&64&&(n=o.updateQueue,n!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{W0(n,i)}catch(C){_t(o,o.return,C)}}break;case 27:i===null&&c&4&&Qb(o);case 26:case 5:Oi(n,o),i===null&&c&4&&$b(o),c&512&&Wl(o,o.return);break;case 12:Oi(n,o);break;case 31:Oi(n,o),c&4&&tv(n,o);break;case 13:Oi(n,o),c&4&&nv(n,o),c&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=kM.bind(null,o),qM(n,o))));break;case 22:if(c=o.memoizedState!==null||Mi,!c){i=i!==null&&i.memoizedState!==null||Tn,f=Mi;var m=Tn;Mi=c,(Tn=i)&&!m?Ri(n,o,(o.subtreeFlags&8772)!==0):Oi(n,o),Mi=f,Tn=m}break;case 30:break;default:Oi(n,o)}}function Jb(n){var i=n.alternate;i!==null&&(n.alternate=null,Jb(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&qh(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Xt=null,is=!1;function Pi(n,i,o){for(o=o.child;o!==null;)ev(n,i,o),o=o.sibling}function ev(n,i,o){if(Re&&typeof Re.onCommitFiberUnmount=="function")try{Re.onCommitFiberUnmount(We,o)}catch{}switch(o.tag){case 26:Tn||ii(o,i),Pi(n,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Tn||ii(o,i);var c=Xt,f=is;xa(o.type)&&(Xt=o.stateNode,is=!1),Pi(n,i,o),ql(o.stateNode),Xt=c,is=f;break;case 5:Tn||ii(o,i);case 6:if(c=Xt,f=is,Xt=null,Pi(n,i,o),Xt=c,is=f,Xt!==null)if(is)try{(Xt.nodeType===9?Xt.body:Xt.nodeName==="HTML"?Xt.ownerDocument.body:Xt).removeChild(o.stateNode)}catch(m){_t(o,i,m)}else try{Xt.removeChild(o.stateNode)}catch(m){_t(o,i,m)}break;case 18:Xt!==null&&(is?(n=Xt,Yv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Co(n)):Yv(Xt,o.stateNode));break;case 4:c=Xt,f=is,Xt=o.stateNode.containerInfo,is=!0,Pi(n,i,o),Xt=c,is=f;break;case 0:case 11:case 14:case 15:da(2,o,i),Tn||da(4,o,i),Pi(n,i,o);break;case 1:Tn||(ii(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Gb(o,i,c)),Pi(n,i,o);break;case 21:Pi(n,i,o);break;case 22:Tn=(c=Tn)||o.memoizedState!==null,Pi(n,i,o),Tn=c;break;default:Pi(n,i,o)}}function tv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Co(n)}catch(o){_t(i,i.return,o)}}}function nv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Co(n)}catch(o){_t(i,i.return,o)}}function yM(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Xb),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Xb),i;default:throw Error(a(435,n.tag))}}function $u(n,i){var o=yM(n);i.forEach(function(c){if(!o.has(c)){o.add(c);var f=TM.bind(null,n,c);c.then(f,f)}})}function as(n,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],m=n,C=i,O=C;e:for(;O!==null;){switch(O.tag){case 27:if(xa(O.type)){Xt=O.stateNode,is=!1;break e}break;case 5:Xt=O.stateNode,is=!1;break e;case 3:case 4:Xt=O.stateNode.containerInfo,is=!0;break e}O=O.return}if(Xt===null)throw Error(a(160));ev(m,C,f),Xt=null,is=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)sv(i,n),i=i.sibling}var qs=null;function sv(n,i){var o=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:as(i,n),rs(n),c&4&&(da(3,n,n.return),Il(3,n),da(5,n,n.return));break;case 1:as(i,n),rs(n),c&512&&(Tn||o===null||ii(o,o.return)),c&64&&Mi&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=qs;if(as(i,n),rs(n),c&512&&(Tn||o===null||ii(o,o.return)),c&4){var m=o!==null?o.memoizedState:null;if(c=n.memoizedState,o===null)if(c===null)if(n.stateNode===null){e:{c=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":m=f.getElementsByTagName("title")[0],(!m||m[cl]||m[Ln]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(c),f.head.insertBefore(m,f.querySelector("head > title"))),Fn(m,c,o),m[Ln]=n,In(m),c=m;break e;case"link":var C=sS("link","href",f).get(c+(o.href||""));if(C){for(var O=0;O<C.length;O++)if(m=C[O],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){C.splice(O,1);break t}}m=f.createElement(c),Fn(m,c,o),f.head.appendChild(m);break;case"meta":if(C=sS("meta","content",f).get(c+(o.content||""))){for(O=0;O<C.length;O++)if(m=C[O],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){C.splice(O,1);break t}}m=f.createElement(c),Fn(m,c,o),f.head.appendChild(m);break;default:throw Error(a(468,c))}m[Ln]=n,In(m),c=m}n.stateNode=c}else iS(f,n.type,n.stateNode);else n.stateNode=nS(f,c,n.memoizedProps);else m!==c?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,c===null?iS(f,n.type,n.stateNode):nS(f,c,n.memoizedProps)):c===null&&n.stateNode!==null&&fp(n,n.memoizedProps,o.memoizedProps)}break;case 27:as(i,n),rs(n),c&512&&(Tn||o===null||ii(o,o.return)),o!==null&&c&4&&fp(n,n.memoizedProps,o.memoizedProps);break;case 5:if(as(i,n),rs(n),c&512&&(Tn||o===null||ii(o,o.return)),n.flags&32){f=n.stateNode;try{qr(f,"")}catch(He){_t(n,n.return,He)}}c&4&&n.stateNode!=null&&(f=n.memoizedProps,fp(n,f,o!==null?o.memoizedProps:f)),c&1024&&(gp=!0);break;case 6:if(as(i,n),rs(n),c&4){if(n.stateNode===null)throw Error(a(162));c=n.memoizedProps,o=n.stateNode;try{o.nodeValue=c}catch(He){_t(n,n.return,He)}}break;case 3:if(ud=null,f=qs,qs=ld(i.containerInfo),as(i,n),qs=f,rs(n),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Co(i.containerInfo)}catch(He){_t(n,n.return,He)}gp&&(gp=!1,iv(n));break;case 4:c=qs,qs=ld(n.stateNode.containerInfo),as(i,n),rs(n),qs=c;break;case 12:as(i,n),rs(n);break;case 31:as(i,n),rs(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,$u(n,c)));break;case 13:as(i,n),rs(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Qu=Ae()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,$u(n,c)));break;case 22:f=n.memoizedState!==null;var H=o!==null&&o.memoizedState!==null,ne=Mi,pe=Tn;if(Mi=ne||f,Tn=pe||H,as(i,n),Tn=pe,Mi=ne,rs(n),c&8192)e:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(o===null||H||Mi||Tn||sr(n)),o=null,i=n;;){if(i.tag===5||i.tag===26){if(o===null){H=o=i;try{if(m=H.stateNode,f)C=m.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{O=H.stateNode;var be=H.memoizedProps.style,re=be!=null&&be.hasOwnProperty("display")?be.display:null;O.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(He){_t(H,H.return,He)}}}else if(i.tag===6){if(o===null){H=i;try{H.stateNode.nodeValue=f?"":H.memoizedProps}catch(He){_t(H,H.return,He)}}}else if(i.tag===18){if(o===null){H=i;try{var ue=H.stateNode;f?Gv(ue,!0):Gv(H.stateNode,!1)}catch(He){_t(H,H.return,He)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=n.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,$u(n,o))));break;case 19:as(i,n),rs(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,$u(n,c)));break;case 30:break;case 21:break;default:as(i,n),rs(n)}}function rs(n){var i=n.flags;if(i&2){try{for(var o,c=n.return;c!==null;){if(Kb(c)){o=c;break}c=c.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var f=o.stateNode,m=pp(n);Gu(n,m,f);break;case 5:var C=o.stateNode;o.flags&32&&(qr(C,""),o.flags&=-33);var O=pp(n);Gu(n,O,C);break;case 3:case 4:var H=o.stateNode.containerInfo,ne=pp(n);mp(n,ne,H);break;default:throw Error(a(161))}}catch(pe){_t(n,n.return,pe)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function iv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;iv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Oi(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Zb(n,i.alternate,i),i=i.sibling}function sr(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:da(4,i,i.return),sr(i);break;case 1:ii(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Gb(i,i.return,o),sr(i);break;case 27:ql(i.stateNode);case 26:case 5:ii(i,i.return),sr(i);break;case 22:i.memoizedState===null&&sr(i);break;case 30:sr(i);break;default:sr(i)}n=n.sibling}}function Ri(n,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,f=n,m=i,C=m.flags;switch(m.tag){case 0:case 11:case 15:Ri(f,m,o),Il(4,m);break;case 1:if(Ri(f,m,o),c=m,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(ne){_t(c,c.return,ne)}if(c=m,f=c.updateQueue,f!==null){var O=c.stateNode;try{var H=f.shared.hiddenCallbacks;if(H!==null)for(f.shared.hiddenCallbacks=null,f=0;f<H.length;f++)I0(H[f],O)}catch(ne){_t(c,c.return,ne)}}o&&C&64&&Yb(m),Wl(m,m.return);break;case 27:Qb(m);case 26:case 5:Ri(f,m,o),o&&c===null&&C&4&&$b(m),Wl(m,m.return);break;case 12:Ri(f,m,o);break;case 31:Ri(f,m,o),o&&C&4&&tv(f,m);break;case 13:Ri(f,m,o),o&&C&4&&nv(f,m);break;case 22:m.memoizedState===null&&Ri(f,m,o),Wl(m,m.return);break;case 30:break;default:Ri(f,m,o)}i=i.sibling}}function yp(n,i){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&wl(o))}function xp(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&wl(n))}function Ys(n,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)av(n,i,o,c),i=i.sibling}function av(n,i,o,c){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Ys(n,i,o,c),f&2048&&Il(9,i);break;case 1:Ys(n,i,o,c);break;case 3:Ys(n,i,o,c),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&wl(n)));break;case 12:if(f&2048){Ys(n,i,o,c),n=i.stateNode;try{var m=i.memoizedProps,C=m.id,O=m.onPostCommit;typeof O=="function"&&O(C,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(H){_t(i,i.return,H)}}else Ys(n,i,o,c);break;case 31:Ys(n,i,o,c);break;case 13:Ys(n,i,o,c);break;case 23:break;case 22:m=i.stateNode,C=i.alternate,i.memoizedState!==null?m._visibility&2?Ys(n,i,o,c):Nl(n,i):m._visibility&2?Ys(n,i,o,c):(m._visibility|=2,ho(n,i,o,c,(i.subtreeFlags&10256)!==0||!1)),f&2048&&yp(C,i);break;case 24:Ys(n,i,o,c),f&2048&&xp(i.alternate,i);break;default:Ys(n,i,o,c)}}function ho(n,i,o,c,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=n,C=i,O=o,H=c,ne=C.flags;switch(C.tag){case 0:case 11:case 15:ho(m,C,O,H,f),Il(8,C);break;case 23:break;case 22:var pe=C.stateNode;C.memoizedState!==null?pe._visibility&2?ho(m,C,O,H,f):Nl(m,C):(pe._visibility|=2,ho(m,C,O,H,f)),f&&ne&2048&&yp(C.alternate,C);break;case 24:ho(m,C,O,H,f),f&&ne&2048&&xp(C.alternate,C);break;default:ho(m,C,O,H,f)}i=i.sibling}}function Nl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=n,c=i,f=c.flags;switch(c.tag){case 22:Nl(o,c),f&2048&&yp(c.alternate,c);break;case 24:Nl(o,c),f&2048&&xp(c.alternate,c);break;default:Nl(o,c)}i=i.sibling}}var Ll=8192;function fo(n,i,o){if(n.subtreeFlags&Ll)for(n=n.child;n!==null;)rv(n,i,o),n=n.sibling}function rv(n,i,o){switch(n.tag){case 26:fo(n,i,o),n.flags&Ll&&n.memoizedState!==null&&s2(o,qs,n.memoizedState,n.memoizedProps);break;case 5:fo(n,i,o);break;case 3:case 4:var c=qs;qs=ld(n.stateNode.containerInfo),fo(n,i,o),qs=c;break;case 22:n.memoizedState===null&&(c=n.alternate,c!==null&&c.memoizedState!==null?(c=Ll,Ll=16777216,fo(n,i,o),Ll=c):fo(n,i,o));break;default:fo(n,i,o)}}function ov(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function zl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Wn=c,cv(c,n)}ov(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)lv(n),n=n.sibling}function lv(n){switch(n.tag){case 0:case 11:case 15:zl(n),n.flags&2048&&da(9,n,n.return);break;case 3:zl(n);break;case 12:zl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Ku(n)):zl(n);break;default:zl(n)}}function Ku(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Wn=c,cv(c,n)}ov(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:da(8,i,i.return),Ku(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Ku(i));break;default:Ku(i)}n=n.sibling}}function cv(n,i){for(;Wn!==null;){var o=Wn;switch(o.tag){case 0:case 11:case 15:da(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:wl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Wn=c;else e:for(o=n;Wn!==null;){c=Wn;var f=c.sibling,m=c.return;if(Jb(c),c===o){Wn=null;break e}if(f!==null){f.return=m,Wn=f;break e}Wn=m}}}var xM={getCacheForType:function(n){var i=Vn(Cn),o=i.data.get(n);return o===void 0&&(o=n(),i.data.set(n,o)),o},cacheSignal:function(){return Vn(Cn).controller.signal}},bM=typeof WeakMap=="function"?WeakMap:Map,Mt=0,Vt=null,xt=null,vt=0,Rt=0,xs=null,ha=!1,po=!1,bp=!1,_i=0,un=0,fa=0,ir=0,vp=0,bs=0,mo=0,Vl=null,os=null,Sp=!1,Qu=0,uv=0,Xu=1/0,Zu=null,pa=null,En=0,ma=null,go=null,Ii=0,wp=0,Cp=null,dv=null,Bl=0,jp=null;function vs(){return(Mt&2)!==0&&vt!==0?vt&-vt:B.T!==null?Mp():tn()}function hv(){if(bs===0)if((vt&536870912)===0||Ct){var n=Gn;Gn<<=1,(Gn&3932160)===0&&(Gn=262144),bs=n}else bs=536870912;return n=gs.current,n!==null&&(n.flags|=32),bs}function ls(n,i,o){(n===Vt&&(Rt===2||Rt===9)||n.cancelPendingCommit!==null)&&(yo(n,0),ga(n,vt,bs,!1)),xi(n,o),((Mt&2)===0||n!==Vt)&&(n===Vt&&((Mt&2)===0&&(ir|=o),un===4&&ga(n,vt,bs,!1)),ai(n))}function fv(n,i,o){if((Mt&6)!==0)throw Error(a(327));var c=!o&&(i&127)===0&&(i&n.expiredLanes)===0||yi(n,i),f=c?wM(n,i):Tp(n,i,!0),m=c;do{if(f===0){po&&!c&&ga(n,i,0,!1);break}else{if(o=n.current.alternate,m&&!vM(o)){f=Tp(n,i,!1),m=!1;continue}if(f===2){if(m=i,n.errorRecoveryDisabledLanes&m)var C=0;else C=n.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){i=C;e:{var O=n;f=Vl;var H=O.current.memoizedState.isDehydrated;if(H&&(yo(O,C).flags|=256),C=Tp(O,C,!1),C!==2){if(bp&&!H){O.errorRecoveryDisabledLanes|=m,ir|=m,f=4;break e}m=os,os=f,m!==null&&(os===null?os=m:os.push.apply(os,m))}f=C}if(m=!1,f!==2)continue}}if(f===1){yo(n,0),ga(n,i,0,!0);break}e:{switch(c=n,m=f,m){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:ga(c,i,bs,!ha);break e;case 2:os=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=Qu+300-Ae(),10<f)){if(ga(c,i,bs,!ha),ea(c,0,!0)!==0)break e;Ii=i,c.timeoutHandle=Uv(pv.bind(null,c,o,os,Zu,Sp,i,bs,ir,mo,ha,m,"Throttled",-0,0),f);break e}pv(c,o,os,Zu,Sp,i,bs,ir,mo,ha,m,null,-0,0)}}break}while(!0);ai(n)}function pv(n,i,o,c,f,m,C,O,H,ne,pe,be,re,ue){if(n.timeoutHandle=-1,be=i.subtreeFlags,be&8192||(be&16785408)===16785408){be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vi},rv(i,m,be);var He=(m&62914560)===m?Qu-Ae():(m&4194048)===m?uv-Ae():0;if(He=i2(be,He),He!==null){Ii=m,n.cancelPendingCommit=He(wv.bind(null,n,i,m,o,c,f,C,O,H,pe,be,null,re,ue)),ga(n,m,C,!ne);return}}wv(n,i,m,o,c,f,C,O,H)}function vM(n){for(var i=n;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],m=f.getSnapshot;f=f.value;try{if(!ps(m(),f))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ga(n,i,o,c){i&=~vp,i&=~ir,n.suspendedLanes|=i,n.pingedLanes&=~i,c&&(n.warmLanes|=i),c=n.expirationTimes;for(var f=i;0<f;){var m=31-ut(f),C=1<<m;c[m]=-1,f&=~C}o!==0&&Nr(n,o,i)}function Ju(){return(Mt&6)===0?(Fl(0),!1):!0}function kp(){if(xt!==null){if(Rt===0)var n=xt.return;else n=xt,ji=Ka=null,Bf(n),ro=null,jl=0,n=xt;for(;n!==null;)qb(n.alternate,n),n=n.return;xt=null}}function yo(n,i){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,VM(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Ii=0,kp(),Vt=n,xt=o=wi(n.current,null),vt=i,Rt=0,xs=null,ha=!1,po=yi(n,i),bp=!1,mo=bs=vp=ir=fa=un=0,os=Vl=null,Sp=!1,(i&8)!==0&&(i|=i&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=i;0<c;){var f=31-ut(c),m=1<<f;i|=n[f],c&=~m}return _i=i,vu(),o}function mv(n,i){mt=null,B.H=Ol,i===ao||i===Eu?(i=P0(),Rt=3):i===Af?(i=P0(),Rt=4):Rt=i===sp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,xs=i,xt===null&&(un=1,Fu(n,As(i,n.current)))}function gv(){var n=gs.current;return n===null?!0:(vt&4194048)===vt?Rs===null:(vt&62914560)===vt||(vt&536870912)!==0?n===Rs:!1}function yv(){var n=B.H;return B.H=Ol,n===null?Ol:n}function xv(){var n=B.A;return B.A=xM,n}function ed(){un=4,ha||(vt&4194048)!==vt&&gs.current!==null||(po=!0),(fa&134217727)===0&&(ir&134217727)===0||Vt===null||ga(Vt,vt,bs,!1)}function Tp(n,i,o){var c=Mt;Mt|=2;var f=yv(),m=xv();(Vt!==n||vt!==i)&&(Zu=null,yo(n,i)),i=!1;var C=un;e:do try{if(Rt!==0&&xt!==null){var O=xt,H=xs;switch(Rt){case 8:kp(),C=6;break e;case 3:case 2:case 9:case 6:gs.current===null&&(i=!0);var ne=Rt;if(Rt=0,xs=null,xo(n,O,H,ne),o&&po){C=0;break e}break;default:ne=Rt,Rt=0,xs=null,xo(n,O,H,ne)}}SM(),C=un;break}catch(pe){mv(n,pe)}while(!0);return i&&n.shellSuspendCounter++,ji=Ka=null,Mt=c,B.H=f,B.A=m,xt===null&&(Vt=null,vt=0,vu()),C}function SM(){for(;xt!==null;)bv(xt)}function wM(n,i){var o=Mt;Mt|=2;var c=yv(),f=xv();Vt!==n||vt!==i?(Zu=null,Xu=Ae()+500,yo(n,i)):po=yi(n,i);e:do try{if(Rt!==0&&xt!==null){i=xt;var m=xs;t:switch(Rt){case 1:Rt=0,xs=null,xo(n,i,m,1);break;case 2:case 9:if(A0(m)){Rt=0,xs=null,vv(i);break}i=function(){Rt!==2&&Rt!==9||Vt!==n||(Rt=7),ai(n)},m.then(i,i);break e;case 3:Rt=7;break e;case 4:Rt=5;break e;case 7:A0(m)?(Rt=0,xs=null,vv(i)):(Rt=0,xs=null,xo(n,i,m,7));break;case 5:var C=null;switch(xt.tag){case 26:C=xt.memoizedState;case 5:case 27:var O=xt;if(C?aS(C):O.stateNode.complete){Rt=0,xs=null;var H=O.sibling;if(H!==null)xt=H;else{var ne=O.return;ne!==null?(xt=ne,td(ne)):xt=null}break t}}Rt=0,xs=null,xo(n,i,m,5);break;case 6:Rt=0,xs=null,xo(n,i,m,6);break;case 8:kp(),un=6;break e;default:throw Error(a(462))}}CM();break}catch(pe){mv(n,pe)}while(!0);return ji=Ka=null,B.H=c,B.A=f,Mt=o,xt!==null?0:(Vt=null,vt=0,vu(),un)}function CM(){for(;xt!==null&&!G();)bv(xt)}function bv(n){var i=Hb(n.alternate,n,_i);n.memoizedProps=n.pendingProps,i===null?td(n):xt=i}function vv(n){var i=n,o=i.alternate;switch(i.tag){case 15:case 0:i=Nb(o,i,i.pendingProps,i.type,void 0,vt);break;case 11:i=Nb(o,i,i.pendingProps,i.type.render,i.ref,vt);break;case 5:Bf(i);default:qb(o,i),i=xt=x0(i,_i),i=Hb(o,i,_i)}n.memoizedProps=n.pendingProps,i===null?td(n):xt=i}function xo(n,i,o,c){ji=Ka=null,Bf(i),ro=null,jl=0;var f=i.return;try{if(dM(n,f,i,o,vt)){un=1,Fu(n,As(o,n.current)),xt=null;return}}catch(m){if(f!==null)throw xt=f,m;un=1,Fu(n,As(o,n.current)),xt=null;return}i.flags&32768?(Ct||c===1?n=!0:po||(vt&536870912)!==0?n=!1:(ha=n=!0,(c===2||c===9||c===3||c===6)&&(c=gs.current,c!==null&&c.tag===13&&(c.flags|=16384))),Sv(i,n)):td(i)}function td(n){var i=n;do{if((i.flags&32768)!==0){Sv(i,ha);return}n=i.return;var o=pM(i.alternate,i,_i);if(o!==null){xt=o;return}if(i=i.sibling,i!==null){xt=i;return}xt=i=n}while(i!==null);un===0&&(un=5)}function Sv(n,i){do{var o=mM(n.alternate,n);if(o!==null){o.flags&=32767,xt=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(n=n.sibling,n!==null)){xt=n;return}xt=n=o}while(n!==null);un=6,xt=null}function wv(n,i,o,c,f,m,C,O,H){n.cancelPendingCommit=null;do nd();while(En!==0);if((Mt&6)!==0)throw Error(a(327));if(i!==null){if(i===n.current)throw Error(a(177));if(m=i.lanes|i.childLanes,m|=pf,Hh(n,o,m,C,O,H),n===Vt&&(xt=Vt=null,vt=0),go=i,ma=n,Ii=o,wp=m,Cp=f,dv=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,DM(ft,function(){return Dv(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=B.T,B.T=null,f=q.p,q.p=2,C=Mt,Mt|=4;try{gM(n,i,o)}finally{Mt=C,q.p=f,B.T=c}}En=1,Cv(),jv(),kv()}}function Cv(){if(En===1){En=0;var n=ma,i=go,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=B.T,B.T=null;var c=q.p;q.p=2;var f=Mt;Mt|=4;try{sv(i,n);var m=Lp,C=c0(n.containerInfo),O=m.focusedElem,H=m.selectionRange;if(C!==O&&O&&O.ownerDocument&&l0(O.ownerDocument.documentElement,O)){if(H!==null&&cf(O)){var ne=H.start,pe=H.end;if(pe===void 0&&(pe=ne),"selectionStart"in O)O.selectionStart=ne,O.selectionEnd=Math.min(pe,O.value.length);else{var be=O.ownerDocument||document,re=be&&be.defaultView||window;if(re.getSelection){var ue=re.getSelection(),He=O.textContent.length,it=Math.min(H.start,He),Lt=H.end===void 0?it:Math.min(H.end,He);!ue.extend&&it>Lt&&(C=Lt,Lt=it,it=C);var Q=o0(O,it),Y=o0(O,Lt);if(Q&&Y&&(ue.rangeCount!==1||ue.anchorNode!==Q.node||ue.anchorOffset!==Q.offset||ue.focusNode!==Y.node||ue.focusOffset!==Y.offset)){var te=be.createRange();te.setStart(Q.node,Q.offset),ue.removeAllRanges(),it>Lt?(ue.addRange(te),ue.extend(Y.node,Y.offset)):(te.setEnd(Y.node,Y.offset),ue.addRange(te))}}}}for(be=[],ue=O;ue=ue.parentNode;)ue.nodeType===1&&be.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<be.length;O++){var ye=be[O];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}pd=!!Np,Lp=Np=null}finally{Mt=f,q.p=c,B.T=o}}n.current=i,En=2}}function jv(){if(En===2){En=0;var n=ma,i=go,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=B.T,B.T=null;var c=q.p;q.p=2;var f=Mt;Mt|=4;try{Zb(n,i.alternate,i)}finally{Mt=f,q.p=c,B.T=o}}En=3}}function kv(){if(En===4||En===3){En=0,we();var n=ma,i=go,o=Ii,c=dv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?En=5:(En=0,go=ma=null,Tv(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(pa=null),_e(o),i=i.stateNode,Re&&typeof Re.onCommitFiberRoot=="function")try{Re.onCommitFiberRoot(We,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=B.T,f=q.p,q.p=2,B.T=null;try{for(var m=n.onRecoverableError,C=0;C<c.length;C++){var O=c[C];m(O.value,{componentStack:O.stack})}}finally{B.T=i,q.p=f}}(Ii&3)!==0&&nd(),ai(n),f=n.pendingLanes,(o&261930)!==0&&(f&42)!==0?n===jp?Bl++:(Bl=0,jp=n):Bl=0,Fl(0)}}function Tv(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,wl(i)))}function nd(){return Cv(),jv(),kv(),Dv()}function Dv(){if(En!==5)return!1;var n=ma,i=wp;wp=0;var o=_e(Ii),c=B.T,f=q.p;try{q.p=32>o?32:o,B.T=null,o=Cp,Cp=null;var m=ma,C=Ii;if(En=0,go=ma=null,Ii=0,(Mt&6)!==0)throw Error(a(331));var O=Mt;if(Mt|=4,lv(m.current),av(m,m.current,C,o),Mt=O,Fl(0,!1),Re&&typeof Re.onPostCommitFiberRoot=="function")try{Re.onPostCommitFiberRoot(We,m)}catch{}return!0}finally{q.p=f,B.T=c,Tv(n,i)}}function Ev(n,i,o){i=As(o,i),i=np(n.stateNode,i,2),n=la(n,i,2),n!==null&&(xi(n,2),ai(n))}function _t(n,i,o){if(n.tag===3)Ev(n,n,o);else for(;i!==null;){if(i.tag===3){Ev(i,n,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(pa===null||!pa.has(c))){n=As(o,n),o=Ab(2),c=la(i,o,2),c!==null&&(Mb(o,c,i,n),xi(c,2),ai(c));break}}i=i.return}}function Dp(n,i,o){var c=n.pingCache;if(c===null){c=n.pingCache=new bM;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(o)||(bp=!0,f.add(o),n=jM.bind(null,n,i,o),i.then(n,n))}function jM(n,i,o){var c=n.pingCache;c!==null&&c.delete(i),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Vt===n&&(vt&o)===o&&(un===4||un===3&&(vt&62914560)===vt&&300>Ae()-Qu?(Mt&2)===0&&yo(n,0):vp|=o,mo===vt&&(mo=0)),ai(n)}function Av(n,i){i===0&&(i=ln()),n=Ya(n,i),n!==null&&(xi(n,i),ai(n))}function kM(n){var i=n.memoizedState,o=0;i!==null&&(o=i.retryLane),Av(n,o)}function TM(n,i){var o=0;switch(n.tag){case 31:case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(i),Av(n,o)}function DM(n,i){return Se(n,i)}var sd=null,bo=null,Ep=!1,id=!1,Ap=!1,ya=0;function ai(n){n!==bo&&n.next===null&&(bo===null?sd=bo=n:bo=bo.next=n),id=!0,Ep||(Ep=!0,AM())}function Fl(n,i){if(!Ap&&id){Ap=!0;do for(var o=!1,c=sd;c!==null;){if(n!==0){var f=c.pendingLanes;if(f===0)var m=0;else{var C=c.suspendedLanes,O=c.pingedLanes;m=(1<<31-ut(42|n)+1)-1,m&=f&~(C&~O),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,Rv(c,m))}else m=vt,m=ea(c,c===Vt?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||yi(c,m)||(o=!0,Rv(c,m));c=c.next}while(o);Ap=!1}}function EM(){Mv()}function Mv(){id=Ep=!1;var n=0;ya!==0&&zM()&&(n=ya);for(var i=Ae(),o=null,c=sd;c!==null;){var f=c.next,m=Pv(c,i);m===0?(c.next=null,o===null?sd=f:o.next=f,f===null&&(bo=o)):(o=c,(n!==0||(m&3)!==0)&&(id=!0)),c=f}En!==0&&En!==5||Fl(n),ya!==0&&(ya=0)}function Pv(n,i){for(var o=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var C=31-ut(m),O=1<<C,H=f[C];H===-1?((O&o)===0||(O&c)!==0)&&(f[C]=ll(O,i)):H<=i&&(n.expiredLanes|=O),m&=~O}if(i=Vt,o=vt,o=ea(n,n===i?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,o===0||n===i&&(Rt===2||Rt===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&Ie(c),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||yi(n,o)){if(i=o&-o,i===n.callbackPriority)return i;switch(c!==null&&Ie(c),_e(o)){case 2:case 8:o=Fe;break;case 32:o=ft;break;case 268435456:o=Xe;break;default:o=ft}return c=Ov.bind(null,n),o=Se(o,c),n.callbackPriority=i,n.callbackNode=o,i}return c!==null&&c!==null&&Ie(c),n.callbackPriority=2,n.callbackNode=null,2}function Ov(n,i){if(En!==0&&En!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(nd()&&n.callbackNode!==o)return null;var c=vt;return c=ea(n,n===Vt?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(fv(n,c,i),Pv(n,Ae()),n.callbackNode!=null&&n.callbackNode===o?Ov.bind(null,n):null)}function Rv(n,i){if(nd())return null;fv(n,i,!0)}function AM(){BM(function(){(Mt&6)!==0?Se(Ne,EM):Mv()})}function Mp(){if(ya===0){var n=so;n===0&&(n=on,on<<=1,(on&261888)===0&&(on=256)),ya=n}return ya}function _v(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:hu(""+n)}function Iv(n,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,n.id&&o.setAttribute("form",n.id),i.parentNode.insertBefore(o,i),n=new FormData(n),o.parentNode.removeChild(o),n}function MM(n,i,o,c,f){if(i==="submit"&&o&&o.stateNode===f){var m=_v((f[ns]||null).action),C=c.submitter;C&&(i=(i=C[ns]||null)?_v(i.formAction):C.getAttribute("formAction"),i!==null&&(m=i,C=null));var O=new gu("action","action",null,c,f);n.push({event:O,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ya!==0){var H=C?Iv(f,C):new FormData(f);Qf(o,{pending:!0,data:H,method:f.method,action:m},null,H)}}else typeof m=="function"&&(O.preventDefault(),H=C?Iv(f,C):new FormData(f),Qf(o,{pending:!0,data:H,method:f.method,action:m},m,H))},currentTarget:f}]})}}for(var Pp=0;Pp<ff.length;Pp++){var Op=ff[Pp],PM=Op.toLowerCase(),OM=Op[0].toUpperCase()+Op.slice(1);Us(PM,"on"+OM)}Us(h0,"onAnimationEnd"),Us(f0,"onAnimationIteration"),Us(p0,"onAnimationStart"),Us("dblclick","onDoubleClick"),Us("focusin","onFocus"),Us("focusout","onBlur"),Us($A,"onTransitionRun"),Us(KA,"onTransitionStart"),Us(QA,"onTransitionCancel"),Us(m0,"onTransitionEnd"),Hr("onMouseEnter",["mouseout","mouseover"]),Hr("onMouseLeave",["mouseout","mouseover"]),Hr("onPointerEnter",["pointerout","pointerover"]),Hr("onPointerLeave",["pointerout","pointerover"]),Fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function Wv(n,i){i=(i&4)!==0;for(var o=0;o<n.length;o++){var c=n[o],f=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var C=c.length-1;0<=C;C--){var O=c[C],H=O.instance,ne=O.currentTarget;if(O=O.listener,H!==m&&f.isPropagationStopped())break e;m=O,f.currentTarget=ne;try{m(f)}catch(pe){bu(pe)}f.currentTarget=null,m=H}else for(C=0;C<c.length;C++){if(O=c[C],H=O.instance,ne=O.currentTarget,O=O.listener,H!==m&&f.isPropagationStopped())break e;m=O,f.currentTarget=ne;try{m(f)}catch(pe){bu(pe)}f.currentTarget=null,m=H}}}}function bt(n,i){var o=i[Uh];o===void 0&&(o=i[Uh]=new Set);var c=n+"__bubble";o.has(c)||(Nv(i,n,2,!1),o.add(c))}function Rp(n,i,o){var c=0;i&&(c|=4),Nv(o,n,c,i)}var ad="_reactListening"+Math.random().toString(36).slice(2);function _p(n){if(!n[ad]){n[ad]=!0,Mx.forEach(function(o){o!=="selectionchange"&&(RM.has(o)||Rp(o,!1,n),Rp(o,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[ad]||(i[ad]=!0,Rp("selectionchange",!1,i))}}function Nv(n,i,o,c){switch(hS(i)){case 2:var f=o2;break;case 8:f=l2;break;default:f=Kp}o=f.bind(null,i,o,n),f=void 0,!Jh||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(i,o,{capture:!0,passive:f}):n.addEventListener(i,o,!0):f!==void 0?n.addEventListener(i,o,{passive:f}):n.addEventListener(i,o,!1)}function Ip(n,i,o,c,f){var m=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var C=c.tag;if(C===3||C===4){var O=c.stateNode.containerInfo;if(O===f)break;if(C===4)for(C=c.return;C!==null;){var H=C.tag;if((H===3||H===4)&&C.stateNode.containerInfo===f)return;C=C.return}for(;O!==null;){if(C=Vr(O),C===null)return;if(H=C.tag,H===5||H===6||H===26||H===27){c=m=C;continue e}O=O.parentNode}}c=c.return}Fx(function(){var ne=m,pe=Xh(o),be=[];e:{var re=g0.get(n);if(re!==void 0){var ue=gu,He=n;switch(n){case"keypress":if(pu(o)===0)break e;case"keydown":case"keyup":ue=TA;break;case"focusin":He="focus",ue=sf;break;case"focusout":He="blur",ue=sf;break;case"beforeblur":case"afterblur":ue=sf;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=qx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=pA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=AA;break;case h0:case f0:case p0:ue=yA;break;case m0:ue=PA;break;case"scroll":case"scrollend":ue=hA;break;case"wheel":ue=RA;break;case"copy":case"cut":case"paste":ue=bA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=Gx;break;case"toggle":case"beforetoggle":ue=IA}var it=(i&4)!==0,Lt=!it&&(n==="scroll"||n==="scrollend"),Q=it?re!==null?re+"Capture":null:re;it=[];for(var Y=ne,te;Y!==null;){var ye=Y;if(te=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||te===null||Q===null||(ye=dl(Y,Q),ye!=null&&it.push(Ul(Y,ye,te))),Lt)break;Y=Y.return}0<it.length&&(re=new ue(re,He,null,o,pe),be.push({event:re,listeners:it}))}}if((i&7)===0){e:{if(re=n==="mouseover"||n==="pointerover",ue=n==="mouseout"||n==="pointerout",re&&o!==Qh&&(He=o.relatedTarget||o.fromElement)&&(Vr(He)||He[zr]))break e;if((ue||re)&&(re=pe.window===pe?pe:(re=pe.ownerDocument)?re.defaultView||re.parentWindow:window,ue?(He=o.relatedTarget||o.toElement,ue=ne,He=He?Vr(He):null,He!==null&&(Lt=u(He),it=He.tag,He!==Lt||it!==5&&it!==27&&it!==6)&&(He=null)):(ue=null,He=ne),ue!==He)){if(it=qx,ye="onMouseLeave",Q="onMouseEnter",Y="mouse",(n==="pointerout"||n==="pointerover")&&(it=Gx,ye="onPointerLeave",Q="onPointerEnter",Y="pointer"),Lt=ue==null?re:ul(ue),te=He==null?re:ul(He),re=new it(ye,Y+"leave",ue,o,pe),re.target=Lt,re.relatedTarget=te,ye=null,Vr(pe)===ne&&(it=new it(Q,Y+"enter",He,o,pe),it.target=te,it.relatedTarget=Lt,ye=it),Lt=ye,ue&&He)t:{for(it=_M,Q=ue,Y=He,te=0,ye=Q;ye;ye=it(ye))te++;ye=0;for(var Ze=Y;Ze;Ze=it(Ze))ye++;for(;0<te-ye;)Q=it(Q),te--;for(;0<ye-te;)Y=it(Y),ye--;for(;te--;){if(Q===Y||Y!==null&&Q===Y.alternate){it=Q;break t}Q=it(Q),Y=it(Y)}it=null}else it=null;ue!==null&&Lv(be,re,ue,it,!1),He!==null&&Lt!==null&&Lv(be,Lt,He,it,!0)}}e:{if(re=ne?ul(ne):window,ue=re.nodeName&&re.nodeName.toLowerCase(),ue==="select"||ue==="input"&&re.type==="file")var Dt=t0;else if(Jx(re))if(n0)Dt=qA;else{Dt=HA;var $e=FA}else ue=re.nodeName,!ue||ue.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?ne&&Kh(ne.elementType)&&(Dt=t0):Dt=UA;if(Dt&&(Dt=Dt(n,ne))){e0(be,Dt,o,pe);break e}$e&&$e(n,re,ne),n==="focusout"&&ne&&re.type==="number"&&ne.memoizedProps.value!=null&&$h(re,"number",re.value)}switch($e=ne?ul(ne):window,n){case"focusin":(Jx($e)||$e.contentEditable==="true")&&(Kr=$e,uf=ne,bl=null);break;case"focusout":bl=uf=Kr=null;break;case"mousedown":df=!0;break;case"contextmenu":case"mouseup":case"dragend":df=!1,u0(be,o,pe);break;case"selectionchange":if(GA)break;case"keydown":case"keyup":u0(be,o,pe)}var gt;if(rf)e:{switch(n){case"compositionstart":var St="onCompositionStart";break e;case"compositionend":St="onCompositionEnd";break e;case"compositionupdate":St="onCompositionUpdate";break e}St=void 0}else $r?Xx(n,o)&&(St="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(St="onCompositionStart");St&&($x&&o.locale!=="ko"&&($r||St!=="onCompositionStart"?St==="onCompositionEnd"&&$r&&(gt=Hx()):(ta=pe,ef="value"in ta?ta.value:ta.textContent,$r=!0)),$e=rd(ne,St),0<$e.length&&(St=new Yx(St,n,null,o,pe),be.push({event:St,listeners:$e}),gt?St.data=gt:(gt=Zx(o),gt!==null&&(St.data=gt)))),(gt=NA?LA(n,o):zA(n,o))&&(St=rd(ne,"onBeforeInput"),0<St.length&&($e=new Yx("onBeforeInput","beforeinput",null,o,pe),be.push({event:$e,listeners:St}),$e.data=gt)),MM(be,n,ne,o,pe)}Wv(be,i)})}function Ul(n,i,o){return{instance:n,listener:i,currentTarget:o}}function rd(n,i){for(var o=i+"Capture",c=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=dl(n,o),f!=null&&c.unshift(Ul(n,f,m)),f=dl(n,i),f!=null&&c.push(Ul(n,f,m))),n.tag===3)return c;n=n.return}return[]}function _M(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Lv(n,i,o,c,f){for(var m=i._reactName,C=[];o!==null&&o!==c;){var O=o,H=O.alternate,ne=O.stateNode;if(O=O.tag,H!==null&&H===c)break;O!==5&&O!==26&&O!==27||ne===null||(H=ne,f?(ne=dl(o,m),ne!=null&&C.unshift(Ul(o,ne,H))):f||(ne=dl(o,m),ne!=null&&C.push(Ul(o,ne,H)))),o=o.return}C.length!==0&&n.push({event:i,listeners:C})}var IM=/\r\n?/g,WM=/\u0000|\uFFFD/g;function zv(n){return(typeof n=="string"?n:""+n).replace(IM,`
`).replace(WM,"")}function Vv(n,i){return i=zv(i),zv(n)===i}function Nt(n,i,o,c,f,m){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||qr(n,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&qr(n,""+c);break;case"className":uu(n,"class",c);break;case"tabIndex":uu(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":uu(n,o,c);break;case"style":Vx(n,c,m);break;case"data":if(i!=="object"){uu(n,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){n.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=hu(""+c),n.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(i!=="input"&&Nt(n,i,"name",f.name,f,null),Nt(n,i,"formEncType",f.formEncType,f,null),Nt(n,i,"formMethod",f.formMethod,f,null),Nt(n,i,"formTarget",f.formTarget,f,null)):(Nt(n,i,"encType",f.encType,f,null),Nt(n,i,"method",f.method,f,null),Nt(n,i,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=hu(""+c),n.setAttribute(o,c);break;case"onClick":c!=null&&(n.onclick=vi);break;case"onScroll":c!=null&&bt("scroll",n);break;case"onScrollEnd":c!=null&&bt("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}o=hu(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""+c):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":c===!0?n.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,c):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(o,c):n.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(o):n.setAttribute(o,c);break;case"popover":bt("beforetoggle",n),bt("toggle",n),cu(n,"popover",c);break;case"xlinkActuate":bi(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":bi(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":bi(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":bi(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":bi(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":bi(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":bi(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":bi(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":bi(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":cu(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=uA.get(o)||o,cu(n,o,c))}}function Wp(n,i,o,c,f,m){switch(o){case"style":Vx(n,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"children":typeof c=="string"?qr(n,c):(typeof c=="number"||typeof c=="bigint")&&qr(n,""+c);break;case"onScroll":c!=null&&bt("scroll",n);break;case"onScrollEnd":c!=null&&bt("scrollend",n);break;case"onClick":c!=null&&(n.onclick=vi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Px.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),i=o.slice(2,f?o.length-7:void 0),m=n[ns]||null,m=m!=null?m[o]:null,typeof m=="function"&&n.removeEventListener(i,m,f),typeof c=="function")){typeof m!="function"&&m!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(i,c,f);break e}o in n?n[o]=c:c===!0?n.setAttribute(o,""):cu(n,o,c)}}}function Fn(n,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bt("error",n),bt("load",n);var c=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var C=o[m];if(C!=null)switch(m){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Nt(n,i,m,C,o,null)}}f&&Nt(n,i,"srcSet",o.srcSet,o,null),c&&Nt(n,i,"src",o.src,o,null);return;case"input":bt("invalid",n);var O=m=C=f=null,H=null,ne=null;for(c in o)if(o.hasOwnProperty(c)){var pe=o[c];if(pe!=null)switch(c){case"name":f=pe;break;case"type":C=pe;break;case"checked":H=pe;break;case"defaultChecked":ne=pe;break;case"value":m=pe;break;case"defaultValue":O=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(a(137,i));break;default:Nt(n,i,c,pe,o,null)}}Wx(n,m,O,H,ne,C,f,!1);return;case"select":bt("invalid",n),c=C=m=null;for(f in o)if(o.hasOwnProperty(f)&&(O=o[f],O!=null))switch(f){case"value":m=O;break;case"defaultValue":C=O;break;case"multiple":c=O;default:Nt(n,i,f,O,o,null)}i=m,o=C,n.multiple=!!c,i!=null?Ur(n,!!c,i,!1):o!=null&&Ur(n,!!c,o,!0);return;case"textarea":bt("invalid",n),m=f=c=null;for(C in o)if(o.hasOwnProperty(C)&&(O=o[C],O!=null))switch(C){case"value":c=O;break;case"defaultValue":f=O;break;case"children":m=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(a(91));break;default:Nt(n,i,C,O,o,null)}Lx(n,c,f,m);return;case"option":for(H in o)if(o.hasOwnProperty(H)&&(c=o[H],c!=null))switch(H){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Nt(n,i,H,c,o,null)}return;case"dialog":bt("beforetoggle",n),bt("toggle",n),bt("cancel",n),bt("close",n);break;case"iframe":case"object":bt("load",n);break;case"video":case"audio":for(c=0;c<Hl.length;c++)bt(Hl[c],n);break;case"image":bt("error",n),bt("load",n);break;case"details":bt("toggle",n);break;case"embed":case"source":case"link":bt("error",n),bt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in o)if(o.hasOwnProperty(ne)&&(c=o[ne],c!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Nt(n,i,ne,c,o,null)}return;default:if(Kh(i)){for(pe in o)o.hasOwnProperty(pe)&&(c=o[pe],c!==void 0&&Wp(n,i,pe,c,o,void 0));return}}for(O in o)o.hasOwnProperty(O)&&(c=o[O],c!=null&&Nt(n,i,O,c,o,null))}function NM(n,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,C=null,O=null,H=null,ne=null,pe=null;for(ue in o){var be=o[ue];if(o.hasOwnProperty(ue)&&be!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":H=be;default:c.hasOwnProperty(ue)||Nt(n,i,ue,null,c,be)}}for(var re in c){var ue=c[re];if(be=o[re],c.hasOwnProperty(re)&&(ue!=null||be!=null))switch(re){case"type":m=ue;break;case"name":f=ue;break;case"checked":ne=ue;break;case"defaultChecked":pe=ue;break;case"value":C=ue;break;case"defaultValue":O=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(a(137,i));break;default:ue!==be&&Nt(n,i,re,ue,c,be)}}Gh(n,C,O,H,ne,pe,m,f);return;case"select":ue=C=O=re=null;for(m in o)if(H=o[m],o.hasOwnProperty(m)&&H!=null)switch(m){case"value":break;case"multiple":ue=H;default:c.hasOwnProperty(m)||Nt(n,i,m,null,c,H)}for(f in c)if(m=c[f],H=o[f],c.hasOwnProperty(f)&&(m!=null||H!=null))switch(f){case"value":re=m;break;case"defaultValue":O=m;break;case"multiple":C=m;default:m!==H&&Nt(n,i,f,m,c,H)}i=O,o=C,c=ue,re!=null?Ur(n,!!o,re,!1):!!c!=!!o&&(i!=null?Ur(n,!!o,i,!0):Ur(n,!!o,o?[]:"",!1));return;case"textarea":ue=re=null;for(O in o)if(f=o[O],o.hasOwnProperty(O)&&f!=null&&!c.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Nt(n,i,O,null,c,f)}for(C in c)if(f=c[C],m=o[C],c.hasOwnProperty(C)&&(f!=null||m!=null))switch(C){case"value":re=f;break;case"defaultValue":ue=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&Nt(n,i,C,f,c,m)}Nx(n,re,ue);return;case"option":for(var He in o)if(re=o[He],o.hasOwnProperty(He)&&re!=null&&!c.hasOwnProperty(He))switch(He){case"selected":n.selected=!1;break;default:Nt(n,i,He,null,c,re)}for(H in c)if(re=c[H],ue=o[H],c.hasOwnProperty(H)&&re!==ue&&(re!=null||ue!=null))switch(H){case"selected":n.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:Nt(n,i,H,re,c,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var it in o)re=o[it],o.hasOwnProperty(it)&&re!=null&&!c.hasOwnProperty(it)&&Nt(n,i,it,null,c,re);for(ne in c)if(re=c[ne],ue=o[ne],c.hasOwnProperty(ne)&&re!==ue&&(re!=null||ue!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(a(137,i));break;default:Nt(n,i,ne,re,c,ue)}return;default:if(Kh(i)){for(var Lt in o)re=o[Lt],o.hasOwnProperty(Lt)&&re!==void 0&&!c.hasOwnProperty(Lt)&&Wp(n,i,Lt,void 0,c,re);for(pe in c)re=c[pe],ue=o[pe],!c.hasOwnProperty(pe)||re===ue||re===void 0&&ue===void 0||Wp(n,i,pe,re,c,ue);return}}for(var Q in o)re=o[Q],o.hasOwnProperty(Q)&&re!=null&&!c.hasOwnProperty(Q)&&Nt(n,i,Q,null,c,re);for(be in c)re=c[be],ue=o[be],!c.hasOwnProperty(be)||re===ue||re==null&&ue==null||Nt(n,i,be,re,c,ue)}function Bv(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function LM(){if(typeof performance.getEntriesByType=="function"){for(var n=0,i=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var f=o[c],m=f.transferSize,C=f.initiatorType,O=f.duration;if(m&&O&&Bv(C)){for(C=0,O=f.responseEnd,c+=1;c<o.length;c++){var H=o[c],ne=H.startTime;if(ne>O)break;var pe=H.transferSize,be=H.initiatorType;pe&&Bv(be)&&(H=H.responseEnd,C+=pe*(H<O?1:(O-ne)/(H-ne)))}if(--c,i+=8*(m+C)/(f.duration/1e3),n++,10<n)break}}if(0<n)return i/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Np=null,Lp=null;function od(n){return n.nodeType===9?n:n.ownerDocument}function Fv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hv(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function zp(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Vp=null;function zM(){var n=window.event;return n&&n.type==="popstate"?n===Vp?!1:(Vp=n,!0):(Vp=null,!1)}var Uv=typeof setTimeout=="function"?setTimeout:void 0,VM=typeof clearTimeout=="function"?clearTimeout:void 0,qv=typeof Promise=="function"?Promise:void 0,BM=typeof queueMicrotask=="function"?queueMicrotask:typeof qv<"u"?function(n){return qv.resolve(null).then(n).catch(FM)}:Uv;function FM(n){setTimeout(function(){throw n})}function xa(n){return n==="head"}function Yv(n,i){var o=i,c=0;do{var f=o.nextSibling;if(n.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(c===0){n.removeChild(f),Co(i);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")ql(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,ql(o);for(var m=o.firstChild;m;){var C=m.nextSibling,O=m.nodeName;m[cl]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=C}}else o==="body"&&ql(n.ownerDocument.body);o=f}while(o);Co(i)}function Gv(n,i){var o=n;n=0;do{var c=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=c}while(o)}function Bp(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Bp(o),qh(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function HM(n,i,o,c){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[cl])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=_s(n.nextSibling),n===null)break}return null}function UM(n,i,o){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=_s(n.nextSibling),n===null))return null;return n}function $v(n,i){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=_s(n.nextSibling),n===null))return null;return n}function Fp(n){return n.data==="$?"||n.data==="$~"}function Hp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function qM(n,i){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=i;else if(n.data!=="$?"||o.readyState!=="loading")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function _s(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return n}var Up=null;function Kv(n){n=n.nextSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(i===0)return _s(n.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}n=n.nextSibling}return null}function Qv(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return n;i--}else o!=="/$"&&o!=="/&"||i++}n=n.previousSibling}return null}function Xv(n,i,o){switch(i=od(o),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function ql(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);qh(n)}var Is=new Map,Zv=new Set;function ld(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Wi=q.d;q.d={f:YM,r:GM,D:$M,C:KM,L:QM,m:XM,X:JM,S:ZM,M:e2};function YM(){var n=Wi.f(),i=Ju();return n||i}function GM(n){var i=Br(n);i!==null&&i.tag===5&&i.type==="form"?mb(i):Wi.r(n)}var vo=typeof document>"u"?null:document;function Jv(n,i,o){var c=vo;if(c&&typeof i=="string"&&i){var f=Ds(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),Zv.has(f)||(Zv.add(f),n={rel:n,crossOrigin:o,href:i},c.querySelector(f)===null&&(i=c.createElement("link"),Fn(i,"link",n),In(i),c.head.appendChild(i)))}}function $M(n){Wi.D(n),Jv("dns-prefetch",n,null)}function KM(n,i){Wi.C(n,i),Jv("preconnect",n,i)}function QM(n,i,o){Wi.L(n,i,o);var c=vo;if(c&&n&&i){var f='link[rel="preload"][as="'+Ds(i)+'"]';i==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Ds(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Ds(o.imageSizes)+'"]')):f+='[href="'+Ds(n)+'"]';var m=f;switch(i){case"style":m=So(n);break;case"script":m=wo(n)}Is.has(m)||(n=v({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:n,as:i},o),Is.set(m,n),c.querySelector(f)!==null||i==="style"&&c.querySelector(Yl(m))||i==="script"&&c.querySelector(Gl(m))||(i=c.createElement("link"),Fn(i,"link",n),In(i),c.head.appendChild(i)))}}function XM(n,i){Wi.m(n,i);var o=vo;if(o&&n){var c=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Ds(c)+'"][href="'+Ds(n)+'"]',m=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=wo(n)}if(!Is.has(m)&&(n=v({rel:"modulepreload",href:n},i),Is.set(m,n),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Gl(m)))return}c=o.createElement("link"),Fn(c,"link",n),In(c),o.head.appendChild(c)}}}function ZM(n,i,o){Wi.S(n,i,o);var c=vo;if(c&&n){var f=Fr(c).hoistableStyles,m=So(n);i=i||"default";var C=f.get(m);if(!C){var O={loading:0,preload:null};if(C=c.querySelector(Yl(m)))O.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":i},o),(o=Is.get(m))&&qp(n,o);var H=C=c.createElement("link");In(H),Fn(H,"link",n),H._p=new Promise(function(ne,pe){H.onload=ne,H.onerror=pe}),H.addEventListener("load",function(){O.loading|=1}),H.addEventListener("error",function(){O.loading|=2}),O.loading|=4,cd(C,i,c)}C={type:"stylesheet",instance:C,count:1,state:O},f.set(m,C)}}}function JM(n,i){Wi.X(n,i);var o=vo;if(o&&n){var c=Fr(o).hoistableScripts,f=wo(n),m=c.get(f);m||(m=o.querySelector(Gl(f)),m||(n=v({src:n,async:!0},i),(i=Is.get(f))&&Yp(n,i),m=o.createElement("script"),In(m),Fn(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function e2(n,i){Wi.M(n,i);var o=vo;if(o&&n){var c=Fr(o).hoistableScripts,f=wo(n),m=c.get(f);m||(m=o.querySelector(Gl(f)),m||(n=v({src:n,async:!0,type:"module"},i),(i=Is.get(f))&&Yp(n,i),m=o.createElement("script"),In(m),Fn(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function eS(n,i,o,c){var f=(f=oe.current)?ld(f):null;if(!f)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=So(o.href),o=Fr(f).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=So(o.href);var m=Fr(f).hoistableStyles,C=m.get(n);if(C||(f=f.ownerDocument||f,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,C),(m=f.querySelector(Yl(n)))&&!m._p&&(C.instance=m,C.state.loading=5),Is.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Is.set(n,o),m||t2(f,n,o,C.state))),i&&c===null)throw Error(a(528,""));return C}if(i&&c!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=wo(o),o=Fr(f).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function So(n){return'href="'+Ds(n)+'"'}function Yl(n){return'link[rel="stylesheet"]['+n+"]"}function tS(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function t2(n,i,o,c){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=n.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Fn(i,"link",o),In(i),n.head.appendChild(i))}function wo(n){return'[src="'+Ds(n)+'"]'}function Gl(n){return"script[async]"+n}function nS(n,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=n.querySelector('style[data-href~="'+Ds(o.href)+'"]');if(c)return i.instance=c,In(c),c;var f=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),In(c),Fn(c,"style",f),cd(c,o.precedence,n),i.instance=c;case"stylesheet":f=So(o.href);var m=n.querySelector(Yl(f));if(m)return i.state.loading|=4,i.instance=m,In(m),m;c=tS(o),(f=Is.get(f))&&qp(c,f),m=(n.ownerDocument||n).createElement("link"),In(m);var C=m;return C._p=new Promise(function(O,H){C.onload=O,C.onerror=H}),Fn(m,"link",c),i.state.loading|=4,cd(m,o.precedence,n),i.instance=m;case"script":return m=wo(o.src),(f=n.querySelector(Gl(m)))?(i.instance=f,In(f),f):(c=o,(f=Is.get(m))&&(c=v({},o),Yp(c,f)),n=n.ownerDocument||n,f=n.createElement("script"),In(f),Fn(f,"link",c),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,cd(c,o.precedence,n));return i.instance}function cd(n,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,m=f,C=0;C<c.length;C++){var O=c[C];if(O.dataset.precedence===i)m=O;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(n,i.firstChild))}function qp(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Yp(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var ud=null;function sS(n,i,o){if(ud===null){var c=new Map,f=ud=new Map;f.set(o,c)}else f=ud,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(n))return c;for(c.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var m=o[f];if(!(m[cl]||m[Ln]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var C=m.getAttribute(i)||"";C=n+C;var O=c.get(C);O?O.push(m):c.set(C,[m])}}return c}function iS(n,i,o){n=n.ownerDocument||n,n.head.insertBefore(o,i==="title"?n.querySelector("head > title"):null)}function n2(n,i,o){if(o===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function aS(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function s2(n,i,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=So(c.href),m=i.querySelector(Yl(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(n.count++,n=dd.bind(n),i.then(n,n)),o.state.loading|=4,o.instance=m,In(m);return}m=i.ownerDocument||i,c=tS(c),(f=Is.get(f))&&qp(c,f),m=m.createElement("link"),In(m);var C=m;C._p=new Promise(function(O,H){C.onload=O,C.onerror=H}),Fn(m,"link",c),o.instance=m}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=dd.bind(n),i.addEventListener("load",o),i.addEventListener("error",o))}}var Gp=0;function i2(n,i){return n.stylesheets&&n.count===0&&fd(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var c=setTimeout(function(){if(n.stylesheets&&fd(n,n.stylesheets),n.unsuspend){var m=n.unsuspend;n.unsuspend=null,m()}},6e4+i);0<n.imgBytes&&Gp===0&&(Gp=62500*LM());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&fd(n,n.stylesheets),n.unsuspend)){var m=n.unsuspend;n.unsuspend=null,m()}},(n.imgBytes>Gp?50:800)+i);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function dd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fd(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var hd=null;function fd(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,hd=new Map,i.forEach(a2,n),hd=null,dd.call(n))}function a2(n,i){if(!(i.state.loading&4)){var o=hd.get(n);if(o)var c=o.get(null);else{o=new Map,hd.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var C=f[m];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(o.set(C.dataset.precedence,C),c=C)}c&&o.set(null,c)}f=i.instance,C=f.getAttribute("data-precedence"),m=o.get(C)||c,m===c&&o.set(null,f),o.set(C,f),this.count++,c=dd.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var $l={$$typeof:A,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function r2(n,i,o,c,f,m,C,O,H){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ts(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ts(0),this.hiddenUpdates=ts(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function rS(n,i,o,c,f,m,C,O,H,ne,pe,be){return n=new r2(n,i,o,C,H,ne,pe,be,O),i=1,m===!0&&(i|=24),m=ms(3,null,null,i),n.current=m,m.stateNode=n,i=Tf(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:c,isDehydrated:o,cache:i},Mf(m),n}function oS(n){return n?(n=Zr,n):Zr}function lS(n,i,o,c,f,m){f=oS(f),c.context===null?c.context=f:c.pendingContext=f,c=oa(i),c.payload={element:o},m=m===void 0?null:m,m!==null&&(c.callback=m),o=la(n,c,i),o!==null&&(ls(o,n,i),Tl(o,n,i))}function cS(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<i?o:i}}function $p(n,i){cS(n,i),(n=n.alternate)&&cS(n,i)}function uS(n){if(n.tag===13||n.tag===31){var i=Ya(n,67108864);i!==null&&ls(i,n,67108864),$p(n,67108864)}}function dS(n){if(n.tag===13||n.tag===31){var i=vs();i=me(i);var o=Ya(n,i);o!==null&&ls(o,n,i),$p(n,i)}}var pd=!0;function o2(n,i,o,c){var f=B.T;B.T=null;var m=q.p;try{q.p=2,Kp(n,i,o,c)}finally{q.p=m,B.T=f}}function l2(n,i,o,c){var f=B.T;B.T=null;var m=q.p;try{q.p=8,Kp(n,i,o,c)}finally{q.p=m,B.T=f}}function Kp(n,i,o,c){if(pd){var f=Qp(c);if(f===null)Ip(n,i,c,md,o),fS(n,c);else if(u2(f,n,i,o,c))c.stopPropagation();else if(fS(n,c),i&4&&-1<c2.indexOf(n)){for(;f!==null;){var m=Br(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var C=ks(m.pendingLanes);if(C!==0){var O=m;for(O.pendingLanes|=2,O.entangledLanes|=2;C;){var H=1<<31-ut(C);O.entanglements[1]|=H,C&=~H}ai(m),(Mt&6)===0&&(Xu=Ae()+500,Fl(0))}}break;case 31:case 13:O=Ya(m,2),O!==null&&ls(O,m,2),Ju(),$p(m,2)}if(m=Qp(c),m===null&&Ip(n,i,c,md,o),m===f)break;f=m}f!==null&&c.stopPropagation()}else Ip(n,i,c,null,o)}}function Qp(n){return n=Xh(n),Xp(n)}var md=null;function Xp(n){if(md=null,n=Vr(n),n!==null){var i=u(n);if(i===null)n=null;else{var o=i.tag;if(o===13){if(n=d(i),n!==null)return n;n=null}else if(o===31){if(n=h(i),n!==null)return n;n=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return md=n,null}function hS(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(De()){case Ne:return 2;case Fe:return 8;case ft:case Ye:return 32;case Xe:return 268435456;default:return 32}default:return 32}}var Zp=!1,ba=null,va=null,Sa=null,Kl=new Map,Ql=new Map,wa=[],c2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fS(n,i){switch(n){case"focusin":case"focusout":ba=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":Sa=null;break;case"pointerover":case"pointerout":Kl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(i.pointerId)}}function Xl(n,i,o,c,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Br(i),i!==null&&uS(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function u2(n,i,o,c,f){switch(i){case"focusin":return ba=Xl(ba,n,i,o,c,f),!0;case"dragenter":return va=Xl(va,n,i,o,c,f),!0;case"mouseover":return Sa=Xl(Sa,n,i,o,c,f),!0;case"pointerover":var m=f.pointerId;return Kl.set(m,Xl(Kl.get(m)||null,n,i,o,c,f)),!0;case"gotpointercapture":return m=f.pointerId,Ql.set(m,Xl(Ql.get(m)||null,n,i,o,c,f)),!0}return!1}function pS(n){var i=Vr(n.target);if(i!==null){var o=u(i);if(o!==null){if(i=o.tag,i===13){if(i=d(o),i!==null){n.blockedOn=i,ti(n.priority,function(){dS(o)});return}}else if(i===31){if(i=h(o),i!==null){n.blockedOn=i,ti(n.priority,function(){dS(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function gd(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var o=Qp(n.nativeEvent);if(o===null){o=n.nativeEvent;var c=new o.constructor(o.type,o);Qh=c,o.target.dispatchEvent(c),Qh=null}else return i=Br(o),i!==null&&uS(i),n.blockedOn=o,!1;i.shift()}return!0}function mS(n,i,o){gd(n)&&o.delete(i)}function d2(){Zp=!1,ba!==null&&gd(ba)&&(ba=null),va!==null&&gd(va)&&(va=null),Sa!==null&&gd(Sa)&&(Sa=null),Kl.forEach(mS),Ql.forEach(mS)}function yd(n,i){n.blockedOn===i&&(n.blockedOn=null,Zp||(Zp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,d2)))}var xd=null;function gS(n){xd!==n&&(xd=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){xd===n&&(xd=null);for(var i=0;i<n.length;i+=3){var o=n[i],c=n[i+1],f=n[i+2];if(typeof c!="function"){if(Xp(c||o)===null)continue;break}var m=Br(o);m!==null&&(n.splice(i,3),i-=3,Qf(m,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function Co(n){function i(H){return yd(H,n)}ba!==null&&yd(ba,n),va!==null&&yd(va,n),Sa!==null&&yd(Sa,n),Kl.forEach(i),Ql.forEach(i);for(var o=0;o<wa.length;o++){var c=wa[o];c.blockedOn===n&&(c.blockedOn=null)}for(;0<wa.length&&(o=wa[0],o.blockedOn===null);)pS(o),o.blockedOn===null&&wa.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],m=o[c+1],C=f[ns]||null;if(typeof m=="function")C||gS(o);else if(C){var O=null;if(m&&m.hasAttribute("formAction")){if(f=m,C=m[ns]||null)O=C.formAction;else if(Xp(f)!==null)continue}else O=C.action;typeof O=="function"?o[c+1]=O:(o.splice(c,3),c-=3),gS(o)}}}function yS(){function n(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(C){return f=C})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Jp(n){this._internalRoot=n}bd.prototype.render=Jp.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,c=vs();lS(o,c,n,i,null,null)},bd.prototype.unmount=Jp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;lS(n.current,2,null,n,null,null),Ju(),i[zr]=null}};function bd(n){this._internalRoot=n}bd.prototype.unstable_scheduleHydration=function(n){if(n){var i=tn();n={blockedOn:null,target:n,priority:i};for(var o=0;o<wa.length&&i!==0&&i<wa[o].priority;o++);wa.splice(o,0,n),o===0&&pS(n)}};var xS=t.version;if(xS!=="19.2.0")throw Error(a(527,xS,"19.2.0"));q.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=g(i),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var h2={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vd.isDisabled&&vd.supportsFiber)try{We=vd.inject(h2),Re=vd}catch{}}return Zl.createRoot=function(n,i){if(!l(n))throw Error(a(299));var o=!1,c="",f=kb,m=Tb,C=Db;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(C=i.onRecoverableError)),i=rS(n,1,!1,null,null,o,c,null,f,m,C,yS),n[zr]=i.current,_p(n),new Jp(i)},Zl.hydrateRoot=function(n,i,o){if(!l(n))throw Error(a(299));var c=!1,f="",m=kb,C=Tb,O=Db,H=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(C=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError),o.formState!==void 0&&(H=o.formState)),i=rS(n,1,!0,i,o??null,c,f,H,m,C,O,yS),i.context=oS(null),o=i.current,c=vs(),c=me(c),f=oa(c),f.callback=null,la(o,f,c),o=c,i.current.lanes=o,xi(i,o),ai(i),n[zr]=i.current,_p(n),new bd(i)},Zl.version="19.2.0",Zl}var MS;function KP(){if(MS)return tm.exports;MS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),tm.exports=$P(),tm.exports}var QP=KP();const XP=WC(QP);var BC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},PS=Ma.createContext&&Ma.createContext(BC),ZP=["attr","size","title"];function JP(e,t){if(e==null)return{};var s=eO(e,t),a,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)a=u[l],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function eO(e,t){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}function Ud(){return Ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ud.apply(this,arguments)}function OS(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),s.push.apply(s,a)}return s}function qd(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?OS(Object(s),!0).forEach(function(a){tO(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):OS(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function tO(e,t,s){return t=nO(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function nO(e){var t=sO(e,"string");return typeof t=="symbol"?t:t+""}function sO(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FC(e){return e&&e.map((t,s)=>Ma.createElement(t.tag,qd({key:s},t.attr),FC(t.child)))}function HC(e){return t=>Ma.createElement(iO,Ud({attr:qd({},e.attr)},t),FC(e.child))}function iO(e){var t=s=>{var{attr:a,size:l,title:u}=e,d=JP(e,ZP),h=l||s.size||"1em",p;return s.className&&(p=s.className),e.className&&(p=(p?p+" ":"")+e.className),Ma.createElement("svg",Ud({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,a,d,{className:p,style:qd(qd({color:e.color||s.color},s.style),e.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),u&&Ma.createElement("title",null,u),e.children)};return PS!==void 0?Ma.createElement(PS.Consumer,null,s=>t(s)):t(BC)}function aO(e){return HC({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 16h4c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1v-1a2 2 0 1 0-4 0v1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1zm.8-6c0-.66.54-1.2 1.2-1.2.66 0 1.2.54 1.2 1.2v1h-2.4v-1zM17 1H7c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 18H7V5h10v14z"},child:[]}]})(e)}function rO(e){return HC({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m23.25 12.77-2.57-2.57-1.41 1.41 2.22 2.22-5.66 5.66L4.51 8.17l5.66-5.66 2.1 2.1 1.41-1.41L11.23.75a1.49 1.49 0 0 0-2.12 0L2.75 7.11a1.49 1.49 0 0 0 0 2.12l12.02 12.02c.59.59 1.54.59 2.12 0l6.36-6.36c.59-.59.59-1.54 0-2.12zM8.47 20.48A10.487 10.487 0 0 1 2.5 12H1c.51 6.16 5.66 11 11.95 11l.66-.03-3.81-3.82-1.33 1.33zM16 9h5c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1v-.5a2.5 2.5 0 0 0-5 0V3c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1zm.8-6.5c0-.94.76-1.7 1.7-1.7s1.7.76 1.7 1.7V3h-3.4v-.5z"},child:[]}]})(e)}class oO{constructor(){this.audioContext=null,this.isMuted=this.loadMutePreference(),this.volume=this.loadVolumePreference(),this.sounds={},this.initAudioContext()}initAudioContext(){if(!this.audioContext&&typeof window<"u")try{this.audioContext=new(window.AudioContext||window.webkitAudioContext)}catch(t){console.warn("Web Audio API not supported",t)}}loadMutePreference(){try{return localStorage.getItem("audioMuted")==="true"}catch{return!1}}loadVolumePreference(){try{const t=localStorage.getItem("audioVolume");return t?parseFloat(t):.3}catch{return .3}}saveMutePreference(){try{localStorage.setItem("audioMuted",this.isMuted.toString())}catch(t){console.warn("Could not save mute preference",t)}}toggleMute(){return this.isMuted=!this.isMuted,this.saveMutePreference(),this.isMuted}setMuted(t){this.isMuted=t,this.saveMutePreference()}isMutedState(){return this.isMuted}playBeep(t=800,s=200,a=null){if(this.isMuted)return;const l=a!==null?a:this.loadVolumePreference();if(!(!this.audioContext&&(this.initAudioContext(),!this.audioContext)))try{this.audioContext.state==="suspended"&&this.audioContext.resume();const u=this.audioContext.createOscillator(),d=this.audioContext.createGain();u.connect(d),d.connect(this.audioContext.destination),u.frequency.value=t,u.type="sine",d.gain.setValueAtTime(l,this.audioContext.currentTime),d.gain.exponentialRampToValueAtTime(.01,this.audioContext.currentTime+s/1e3),u.start(this.audioContext.currentTime),u.stop(this.audioContext.currentTime+s/1e3)}catch(u){console.warn("Could not play beep",u)}}playHighBeep(){this.playBeep(1e3,300)}playLowBeep(){this.playBeep(400,300)}playChime(){if(!this.isMuted&&!(!this.audioContext&&(this.initAudioContext(),!this.audioContext)))try{this.audioContext.state==="suspended"&&this.audioContext.resume(),this.playBeep(800,200),setTimeout(()=>{this.playBeep(1e3,400)},150)}catch(t){console.warn("Could not play chime",t)}}playCountdownBeep(){this.isMuted||(this.playBeep(600,150),setTimeout(()=>this.playBeep(600,150),200),setTimeout(()=>this.playBeep(600,150),400))}playCompletionFanfare(){if(!this.isMuted&&!(!this.audioContext&&(this.initAudioContext(),!this.audioContext)))try{this.audioContext.state==="suspended"&&this.audioContext.resume(),[523,659,784,1047].forEach((s,a)=>{setTimeout(()=>{this.playBeep(s,300)},a*150)})}catch(t){console.warn("Could not play completion fanfare",t)}}playTransitionBeep(){this.isMuted||this.playBeep(700,200)}}const zt=new oO;class lO{constructor(){this.wakeLock=null,this.isSupported="wakeLock"in navigator}isWakeLockSupported(){return this.isSupported}async requestWakeLock(){if(!this.isSupported)return console.warn("Wake Lock API is not supported in this browser"),!1;try{return this.wakeLock=await navigator.wakeLock.request("screen"),console.log("Wake Lock acquired"),this.wakeLock.addEventListener("release",()=>{console.log("Wake Lock released")}),!0}catch(t){return console.error(`Failed to acquire wake lock: ${t.name}, ${t.message}`),!1}}async releaseWakeLock(){if(this.wakeLock!==null)try{await this.wakeLock.release(),this.wakeLock=null,console.log("Wake Lock manually released")}catch(t){console.error(`Failed to release wake lock: ${t.message}`)}}isActive(){return this.wakeLock!==null&&!this.wakeLock.released}async reacquireOnVisibilityChange(){if(!this.isSupported)return;const t=async()=>{document.visibilityState==="visible"&&this.wakeLock!==null&&this.wakeLock.released&&await this.requestWakeLock()};return document.addEventListener("visibilitychange",t),()=>{document.removeEventListener("visibilitychange",t)}}}const mr=new lO,zg=x.memo(({currentWeek:e=1,deloadWeekActive:t=!1,onDeloadTrigger:s,clickable:a=!1})=>{const l=el(),d=["SUN","MON","TUE","WED","THU","FRI","SAT"][new Date().getDay()],h=e>=4&&!t&&a,g=t?{backgroundColor:l.palette.mode==="dark"?"rgba(255, 152, 0, 0.2)":"rgba(255, 152, 0, 0.15)",color:l.palette.warning.main,border:`1px solid ${l.palette.warning.main}`}:{backgroundColor:l.palette.mode==="dark"?"rgba(29, 181, 132, 0.2)":"rgba(29, 181, 132, 0.15)",color:l.palette.primary.main,border:`1px solid ${l.palette.mode==="dark","rgba(29, 181, 132, 0.3)"}`},y=()=>{h&&s&&s()},v=r.jsxs(L,{onClick:y,sx:{display:"inline-flex",alignItems:"center",gap:.5,padding:"4px 12px",borderRadius:"16px",fontWeight:600,fontSize:"0.875rem",letterSpacing:"0.5px",cursor:h?"pointer":"default",transition:"all 0.2s ease",...g,"&:hover":h?{transform:"scale(1.05)",boxShadow:l.palette.mode==="dark"?"0 2px 8px rgba(0, 0, 0, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.15)"}:{},"&:active":h?{transform:"scale(0.98)"}:{}},role:h?"button":void 0,tabIndex:h?0:void 0,onKeyDown:h?b=>{(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),y())}:void 0,"aria-label":h?`Week ${e} - Click to trigger deload week`:`${d}, Week ${e}${t?" (Deload)":""}`,children:[r.jsx(L,{component:"span",sx:{fontWeight:700},children:d}),r.jsx(L,{component:"span",sx:{fontSize:"1rem",opacity:.6,mx:.25},children:"|"}),r.jsx(L,{component:"span",sx:{fontWeight:600},children:t?"DELOAD":`WK ${e}`}),t&&r.jsx(Mg,{sx:{fontSize:"1rem",ml:.25}})]});return h?r.jsx(Zn,{title:"Click to trigger deload week",arrow:!0,children:v}):v});zg.displayName="WeekBadge";zg.propTypes={currentWeek:E.number,deloadWeekActive:E.bool,onDeloadTrigger:E.func,clickable:E.bool};const UC="@firebase/installations",Vg="0.6.19";const qC=1e4,YC=`w:${Vg}`,GC="FIS_v2",cO="https://firebaseinstallations.googleapis.com/v1",uO=3600*1e3,dO="installations",hO="Installations";const fO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Dr=new NC(dO,hO,fO);function $C(e){return e instanceof bP&&e.code.includes("request-failed")}function KC({projectId:e}){return`${cO}/projects/${e}/installations`}function QC(e){return{token:e.token,requestStatus:2,expiresIn:mO(e.expiresIn),creationTime:Date.now()}}async function XC(e,t){const a=(await t.json()).error;return Dr.create("request-failed",{requestName:e,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function ZC({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function pO(e,{refreshToken:t}){const s=ZC(e);return s.append("Authorization",gO(t)),s}async function JC(e){const t=await e();return t.status>=500&&t.status<600?e():t}function mO(e){return Number(e.replace("s","000"))}function gO(e){return`${GC} ${e}`}async function yO({appConfig:e,heartbeatServiceProvider:t},{fid:s}){const a=KC(e),l=ZC(e),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const d={fid:s,authVersion:GC,appId:e.appId,sdkVersion:YC},h={method:"POST",headers:l,body:JSON.stringify(d)},p=await JC(()=>fetch(a,h));if(p.ok){const g=await p.json();return{fid:g.fid||s,registrationStatus:2,refreshToken:g.refreshToken,authToken:QC(g.authToken)}}else throw await XC("Create Installation",p)}function ej(e){return new Promise(t=>{setTimeout(t,e)})}function xO(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}const bO=/^[cdef][\w-]{21}$/,zm="";function vO(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const s=SO(e);return bO.test(s)?s:zm}catch{return zm}}function SO(e){return xO(e).substr(0,22)}function mh(e){return`${e.appName}!${e.appId}`}const tj=new Map;function nj(e,t){const s=mh(e);sj(s,t),wO(s,t)}function sj(e,t){const s=tj.get(e);if(s)for(const a of s)a(t)}function wO(e,t){const s=CO();s&&s.postMessage({key:e,fid:t}),jO()}let yr=null;function CO(){return!yr&&"BroadcastChannel"in self&&(yr=new BroadcastChannel("[Firebase] FID Change"),yr.onmessage=e=>{sj(e.data.key,e.data.fid)}),yr}function jO(){tj.size===0&&yr&&(yr.close(),yr=null)}const kO="firebase-installations-database",TO=1,Er="firebase-installations-store";let im=null;function Bg(){return im||(im=Lg(kO,TO,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Er)}}})),im}async function Yd(e,t){const s=mh(e),l=(await Bg()).transaction(Er,"readwrite"),u=l.objectStore(Er),d=await u.get(s);return await u.put(t,s),await l.done,(!d||d.fid!==t.fid)&&nj(e,t.fid),t}async function ij(e){const t=mh(e),a=(await Bg()).transaction(Er,"readwrite");await a.objectStore(Er).delete(t),await a.done}async function gh(e,t){const s=mh(e),l=(await Bg()).transaction(Er,"readwrite"),u=l.objectStore(Er),d=await u.get(s),h=t(d);return h===void 0?await u.delete(s):await u.put(h,s),await l.done,h&&(!d||d.fid!==h.fid)&&nj(e,h.fid),h}async function Fg(e){let t;const s=await gh(e.appConfig,a=>{const l=DO(a),u=EO(e,l);return t=u.registrationPromise,u.installationEntry});return s.fid===zm?{installationEntry:await t}:{installationEntry:s,registrationPromise:t}}function DO(e){const t=e||{fid:vO(),registrationStatus:0};return aj(t)}function EO(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(Dr.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const s={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},a=AO(e,s);return{installationEntry:s,registrationPromise:a}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:MO(e)}:{installationEntry:t}}async function AO(e,t){try{const s=await yO(e,t);return Yd(e.appConfig,s)}catch(s){throw $C(s)&&s.customData.serverCode===409?await ij(e.appConfig):await Yd(e.appConfig,{fid:t.fid,registrationStatus:0}),s}}async function MO(e){let t=await RS(e.appConfig);for(;t.registrationStatus===1;)await ej(100),t=await RS(e.appConfig);if(t.registrationStatus===0){const{installationEntry:s,registrationPromise:a}=await Fg(e);return a||s}return t}function RS(e){return gh(e,t=>{if(!t)throw Dr.create("installation-not-found");return aj(t)})}function aj(e){return PO(e)?{fid:e.fid,registrationStatus:0}:e}function PO(e){return e.registrationStatus===1&&e.registrationTime+qC<Date.now()}async function OO({appConfig:e,heartbeatServiceProvider:t},s){const a=RO(e,s),l=pO(e,s),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const d={installation:{sdkVersion:YC,appId:e.appId}},h={method:"POST",headers:l,body:JSON.stringify(d)},p=await JC(()=>fetch(a,h));if(p.ok){const g=await p.json();return QC(g)}else throw await XC("Generate Auth Token",p)}function RO(e,{fid:t}){return`${KC(e)}/${t}/authTokens:generate`}async function Hg(e,t=!1){let s;const a=await gh(e.appConfig,u=>{if(!rj(u))throw Dr.create("not-registered");const d=u.authToken;if(!t&&WO(d))return u;if(d.requestStatus===1)return s=_O(e,t),u;{if(!navigator.onLine)throw Dr.create("app-offline");const h=LO(u);return s=IO(e,h),h}});return s?await s:a.authToken}async function _O(e,t){let s=await _S(e.appConfig);for(;s.authToken.requestStatus===1;)await ej(100),s=await _S(e.appConfig);const a=s.authToken;return a.requestStatus===0?Hg(e,t):a}function _S(e){return gh(e,t=>{if(!rj(t))throw Dr.create("not-registered");const s=t.authToken;return zO(s)?{...t,authToken:{requestStatus:0}}:t})}async function IO(e,t){try{const s=await OO(e,t),a={...t,authToken:s};return await Yd(e.appConfig,a),s}catch(s){if($C(s)&&(s.customData.serverCode===401||s.customData.serverCode===404))await ij(e.appConfig);else{const a={...t,authToken:{requestStatus:0}};await Yd(e.appConfig,a)}throw s}}function rj(e){return e!==void 0&&e.registrationStatus===2}function WO(e){return e.requestStatus===2&&!NO(e)}function NO(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+uO}function LO(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function zO(e){return e.requestStatus===1&&e.requestTime+qC<Date.now()}async function VO(e){const t=e,{installationEntry:s,registrationPromise:a}=await Fg(t);return a?a.catch(console.error):Hg(t).catch(console.error),s.fid}async function BO(e,t=!1){const s=e;return await FO(s),(await Hg(s,t)).token}async function FO(e){const{registrationPromise:t}=await Fg(e);t&&await t}function HO(e){if(!e||!e.options)throw am("App Configuration");if(!e.name)throw am("App Name");const t=["projectId","apiKey","appId"];for(const s of t)if(!e.options[s])throw am(s);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function am(e){return Dr.create("missing-app-config-values",{valueName:e})}const oj="installations",UO="installations-internal",qO=e=>{const t=e.getProvider("app").getImmediate(),s=HO(t),a=Ng(t,"heartbeat");return{app:t,appConfig:s,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},YO=e=>{const t=e.getProvider("app").getImmediate(),s=Ng(t,oj).getImmediate();return{getId:()=>VO(s),getToken:l=>BO(s,l)}};function GO(){Fd(new Hd(oj,qO,"PUBLIC")),Fd(new Hd(UO,YO,"PRIVATE"))}GO();Bd(UC,Vg);Bd(UC,Vg,"esm2020");const $O="/firebase-messaging-sw.js",KO="/firebase-cloud-messaging-push-scope",lj="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",QO="https://fcmregistrations.googleapis.com/v1",cj="google.c.a.c_id",XO="google.c.a.c_l",ZO="google.c.a.ts",JO="google.c.a.e",IS=1e4;var WS;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(WS||(WS={}));var Ac;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Ac||(Ac={}));function Li(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function eR(e){const t="=".repeat((4-e.length%4)%4),s=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),a=atob(s),l=new Uint8Array(a.length);for(let u=0;u<a.length;++u)l[u]=a.charCodeAt(u);return l}const rm="fcm_token_details_db",tR=5,NS="fcm_token_object_Store";async function nR(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(u=>u.name).includes(rm))return null;let t=null;return(await Lg(rm,tR,{upgrade:async(a,l,u,d)=>{if(l<2||!a.objectStoreNames.contains(NS))return;const h=d.objectStore(NS),p=await h.index("fcmSenderId").get(e);if(await h.clear(),!!p){if(l===2){const g=p;if(!g.auth||!g.p256dh||!g.endpoint)return;t={token:g.fcmToken,createTime:g.createTime??Date.now(),subscriptionOptions:{auth:g.auth,p256dh:g.p256dh,endpoint:g.endpoint,swScope:g.swScope,vapidKey:typeof g.vapidKey=="string"?g.vapidKey:Li(g.vapidKey)}}}else if(l===3){const g=p;t={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:Li(g.auth),p256dh:Li(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:Li(g.vapidKey)}}}else if(l===4){const g=p;t={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:Li(g.auth),p256dh:Li(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:Li(g.vapidKey)}}}}}})).close(),await em(rm),await em("fcm_vapid_details_db"),await em("undefined"),sR(t)?t:null}function sR(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}const iR="firebase-messaging-database",aR=1,Mc="firebase-messaging-store";let om=null;function uj(){return om||(om=Lg(iR,aR,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Mc)}}})),om}async function rR(e){const t=dj(e),a=await(await uj()).transaction(Mc).objectStore(Mc).get(t);if(a)return a;{const l=await nR(e.appConfig.senderId);if(l)return await Ug(e,l),l}}async function Ug(e,t){const s=dj(e),l=(await uj()).transaction(Mc,"readwrite");return await l.objectStore(Mc).put(t,s),await l.done,t}function dj({appConfig:e}){return e.appId}const oR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},es=new NC("messaging","Messaging",oR);async function lR(e,t){const s=await Yg(e),a=hj(t),l={method:"POST",headers:s,body:JSON.stringify(a)};let u;try{u=await(await fetch(qg(e.appConfig),l)).json()}catch(d){throw es.create("token-subscribe-failed",{errorInfo:d?.toString()})}if(u.error){const d=u.error.message;throw es.create("token-subscribe-failed",{errorInfo:d})}if(!u.token)throw es.create("token-subscribe-no-token");return u.token}async function cR(e,t){const s=await Yg(e),a=hj(t.subscriptionOptions),l={method:"PATCH",headers:s,body:JSON.stringify(a)};let u;try{u=await(await fetch(`${qg(e.appConfig)}/${t.token}`,l)).json()}catch(d){throw es.create("token-update-failed",{errorInfo:d?.toString()})}if(u.error){const d=u.error.message;throw es.create("token-update-failed",{errorInfo:d})}if(!u.token)throw es.create("token-update-no-token");return u.token}async function uR(e,t){const a={method:"DELETE",headers:await Yg(e)};try{const u=await(await fetch(`${qg(e.appConfig)}/${t}`,a)).json();if(u.error){const d=u.error.message;throw es.create("token-unsubscribe-failed",{errorInfo:d})}}catch(l){throw es.create("token-unsubscribe-failed",{errorInfo:l?.toString()})}}function qg({projectId:e}){return`${QO}/projects/${e}/registrations`}async function Yg({appConfig:e,installations:t}){const s=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${s}`})}function hj({p256dh:e,auth:t,endpoint:s,vapidKey:a}){const l={web:{endpoint:s,auth:t,p256dh:e}};return a!==lj&&(l.web.applicationPubKey=a),l}const dR=10080*60*1e3;async function hR(e){const t=await pR(e.swRegistration,e.vapidKey),s={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Li(t.getKey("auth")),p256dh:Li(t.getKey("p256dh"))},a=await rR(e.firebaseDependencies);if(a){if(mR(a.subscriptionOptions,s))return Date.now()>=a.createTime+dR?fR(e,{token:a.token,createTime:Date.now(),subscriptionOptions:s}):a.token;try{await uR(e.firebaseDependencies,a.token)}catch(l){console.warn(l)}return LS(e.firebaseDependencies,s)}else return LS(e.firebaseDependencies,s)}async function fR(e,t){try{const s=await cR(e.firebaseDependencies,t),a={...t,token:s,createTime:Date.now()};return await Ug(e.firebaseDependencies,a),s}catch(s){throw s}}async function LS(e,t){const a={token:await lR(e,t),createTime:Date.now(),subscriptionOptions:t};return await Ug(e,a),a.token}async function pR(e,t){const s=await e.pushManager.getSubscription();return s||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:eR(t)})}function mR(e,t){const s=t.vapidKey===e.vapidKey,a=t.endpoint===e.endpoint,l=t.auth===e.auth,u=t.p256dh===e.p256dh;return s&&a&&l&&u}function zS(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return gR(t,e),yR(t,e),xR(t,e),t}function gR(e,t){if(!t.notification)return;e.notification={};const s=t.notification.title;s&&(e.notification.title=s);const a=t.notification.body;a&&(e.notification.body=a);const l=t.notification.image;l&&(e.notification.image=l);const u=t.notification.icon;u&&(e.notification.icon=u)}function yR(e,t){t.data&&(e.data=t.data)}function xR(e,t){if(!t.fcmOptions&&!t.notification?.click_action)return;e.fcmOptions={};const s=t.fcmOptions?.link??t.notification?.click_action;s&&(e.fcmOptions.link=s);const a=t.fcmOptions?.analytics_label;a&&(e.fcmOptions.analyticsLabel=a)}function bR(e){return typeof e=="object"&&!!e&&cj in e}function vR(e){if(!e||!e.options)throw lm("App Configuration Object");if(!e.name)throw lm("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:s}=e;for(const a of t)if(!s[a])throw lm(a);return{appName:e.name,projectId:s.projectId,apiKey:s.apiKey,appId:s.appId,senderId:s.messagingSenderId}}function lm(e){return es.create("missing-app-config-values",{valueName:e})}class SR{constructor(t,s,a){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const l=vR(t);this.firebaseDependencies={app:t,appConfig:l,installations:s,analyticsProvider:a}}_delete(){return Promise.resolve()}}async function wR(e){try{e.swRegistration=await navigator.serviceWorker.register($O,{scope:KO}),e.swRegistration.update().catch(()=>{}),await CR(e.swRegistration)}catch(t){throw es.create("failed-service-worker-registration",{browserErrorMessage:t?.message})}}async function CR(e){return new Promise((t,s)=>{const a=setTimeout(()=>s(new Error(`Service worker not registered after ${IS} ms`)),IS),l=e.installing||e.waiting;e.active?(clearTimeout(a),t()):l?l.onstatechange=u=>{u.target?.state==="activated"&&(l.onstatechange=null,clearTimeout(a),t())}:(clearTimeout(a),s(new Error("No incoming service worker found.")))})}async function jR(e,t){if(!t&&!e.swRegistration&&await wR(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw es.create("invalid-sw-registration");e.swRegistration=t}}async function kR(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=lj)}async function fj(e,t){if(!navigator)throw es.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw es.create("permission-blocked");return await kR(e,t?.vapidKey),await jR(e,t?.serviceWorkerRegistration),hR(e)}async function TR(e,t,s){const a=DR(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(a,{message_id:s[cj],message_name:s[XO],message_time:s[ZO],message_device_time:Math.floor(Date.now()/1e3)})}function DR(e){switch(e){case Ac.NOTIFICATION_CLICKED:return"notification_open";case Ac.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function ER(e,t){const s=t.data;if(!s.isFirebaseMessaging)return;e.onMessageHandler&&s.messageType===Ac.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(zS(s)):e.onMessageHandler.next(zS(s)));const a=s.data;bR(a)&&a[JO]==="1"&&await TR(e,s.messageType,a)}const VS="@firebase/messaging",BS="0.12.23";const AR=e=>{const t=new SR(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",s=>ER(t,s)),t},MR=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:a=>fj(t,a)}};function PR(){Fd(new Hd("messaging",AR,"PUBLIC")),Fd(new Hd("messaging-internal",MR,"PRIVATE")),Bd(VS,BS),Bd(VS,BS,"esm2020")}async function pj(){try{await SP()}catch{return!1}return typeof window<"u"&&wP()&&CP()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function OR(e=vP()){return pj().then(t=>{if(!t)throw es.create("unsupported-browser")},t=>{throw es.create("indexed-db-unsupported")}),Ng(LC(e),"messaging").getImmediate()}async function RR(e,t){return e=LC(e),fj(e,t)}PR();const _R={apiKey:"AIzaSyCxgAj6zUGeScwae1Slw-JqX-ZAEcEhAcI",authDomain:"goodlift-7760a.firebaseapp.com",projectId:"goodlift-7760a",storageBucket:"goodlift-7760a.firebasestorage.app",messagingSenderId:"444306542177",appId:"1:444306542177:web:ea09005a6d4cf46d6f6420",measurementId:"G-YR73MY2CH6"},yh=jP(_R),mj=kP(yh),Sd=TP(yh);zC(yh);let Gd=null;pj().then(e=>{e&&(Gd=OR(yh))}).catch(e=>{console.warn("Firebase Messaging not supported:",e)});const IR="modulepreload",WR=function(e){return"/goodlift/"+e},FS={},NR=function(t,s,a){let l=Promise.resolve();if(s&&s.length>0){let p=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=d?.nonce||d?.getAttribute("nonce");l=p(s.map(g=>{if(g=WR(g),g in FS)return;FS[g]=!0;const y=g.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const b=document.createElement("link");if(b.rel=y?"stylesheet":IR,y||(b.as="script"),b.crossOrigin="",b.href=g,h&&b.setAttribute("nonce",h),document.head.appendChild(b),y)return new Promise((S,T)=>{b.addEventListener("load",S),b.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return l.then(d=>{for(const h of d||[])h.status==="rejected"&&u(h.reason);return t().catch(u)})},Vm=e=>{if(e==null)return null;if(Array.isArray(e))return e.map(t=>Vm(t));if(typeof e=="object"){const t={};for(const[s,a]of Object.entries(e))a!==void 0&&(t[s]=Vm(a));return t}return e},Pn=async(e,t)=>{if(!e){console.error("Cannot save data: No user ID provided");return}try{const s=VC(mj,"users",e,"data","userData"),a=Vm({...t,lastUpdated:new Date().toISOString()});await DP(s,a,{merge:!0})}catch(s){throw console.error("Error saving data to Firebase:",s),s}},mi=async e=>{if(!e)return console.error("Cannot load data: No user ID provided"),null;try{const t=VC(mj,"users",e,"data","userData"),s=await EP(t);return s.exists()?s.data():null}catch(t){throw console.error("Error loading data from Firebase:",t),t}},Gc=async(e,t)=>{if(e)try{await Pn(e,{workoutHistory:t})}catch(s){console.error("Error saving workout history to Firebase:",s)}},xh=async(e,t)=>{if(e)try{await Pn(e,{userStats:t})}catch(s){console.error("Error saving user stats to Firebase:",s)}},Gg=async(e,t)=>{if(e)try{await Pn(e,{exerciseWeights:t})}catch(s){console.error("Error saving exercise weights to Firebase:",s)}},$g=async(e,t)=>{if(e)try{await Pn(e,{exerciseTargetReps:t})}catch(s){console.error("Error saving exercise target reps to Firebase:",s)}},LR=async(e,t)=>{if(e)try{await Pn(e,{hiitSessions:t})}catch(s){console.error("Error saving HIIT sessions to Firebase:",s)}},zR=async(e,t)=>{if(e)try{await Pn(e,{cardioSessions:t})}catch(s){console.error("Error saving cardio sessions to Firebase:",s)}},gj=async(e,t)=>{if(e)try{await Pn(e,{stretchSessions:t})}catch(s){console.error("Error saving stretch sessions to Firebase:",s)}},VR=async(e,t)=>{if(e)try{await Pn(e,{workoutPlans:t})}catch(s){console.error("Error saving workout plans to Firebase:",s)}},BR=async(e,t)=>{if(e)try{await Pn(e,{activePlanId:t})}catch(s){console.error("Error saving active plan to Firebase:",s)}},Kg=async(e,t)=>{if(e)try{await Pn(e,{favoriteWorkouts:t})}catch(s){console.error("Error saving favorite workouts to Firebase:",s)}},Qg="goodlift_guest_mode",Bm=1,nl={WORKOUT_HISTORY:"goodlift_guest_workout_history",USER_STATS:"goodlift_guest_user_stats",EXERCISE_WEIGHTS:"goodlift_guest_exercise_weights",EXERCISE_TARGET_REPS:"goodlift_guest_exercise_target_reps",HIIT_SESSIONS:"goodlift_guest_hiit_sessions",STRETCH_SESSIONS:"goodlift_guest_stretch_sessions",CARDIO_SESSIONS:"goodlift_guest_cardio_sessions",FAVORITE_WORKOUTS:"goodlift_guest_favorite_workouts",FAVORITE_EXERCISES:"goodlift_guest_favorite_exercises",PINNED_EXERCISES:"goodlift_guest_pinned_exercises",WORKOUT_PLANS:"goodlift_guest_workout_plans",SNACKBAR_DISMISSED:"goodlift_guest_snackbar_dismissed",UNLOCKED_ACHIEVEMENTS:"goodlift_guest_unlocked_achievements",TOTAL_PRS:"goodlift_guest_total_prs",TOTAL_VOLUME:"goodlift_guest_total_volume",ACTIVE_PLAN:"goodlift_guest_active_plan",PLANS:"goodlift_guest_plans",PLAN_DAYS:"goodlift_guest_plan_days",PLAN_EXERCISES:"goodlift_guest_plan_exercises",YOGA_PRESETS:"goodlift_guest_yoga_presets",HIIT_PRESETS:"goodlift_guest_hiit_presets"},et=()=>{try{return localStorage.getItem(Qg)==="true"}catch(e){return console.error("Error checking guest mode:",e),!1}},FR=()=>{try{localStorage.setItem(Qg,"true")}catch(e){console.error("Error enabling guest mode:",e),Xg(e)}},$d=()=>{try{localStorage.removeItem(Qg)}catch(e){console.error("Error disabling guest mode:",e)}},Tt=e=>{const t=nl[e.toUpperCase()];if(!t)return console.error(`Invalid category: ${e}`),null;try{const s=localStorage.getItem(t);if(!s)return null;const a=JSON.parse(s);return a.version&&a.version!==Bm&&console.warn(`Data version mismatch for ${e}: ${a.version} vs ${Bm}`),a.data!==void 0?a.data:a}catch(s){return console.error(`Error reading guest data for ${e}:`,s),null}},yt=(e,t)=>{const s=nl[e.toUpperCase()];if(!s){console.error(`Invalid category: ${e}`);return}try{const a={version:Bm,data:t,lastUpdated:new Date().toISOString()};localStorage.setItem(s,JSON.stringify(a))}catch(a){console.error(`Error saving guest data for ${e}:`,a),Xg(a)}},HS=()=>{try{Object.values(nl).forEach(e=>{localStorage.removeItem(e)}),$d()}catch(e){console.error("Error clearing guest data:",e)}},yj=()=>{const e={};try{Object.entries(nl).forEach(([t,s])=>{if(t==="SNACKBAR_DISMISSED")return;const a=localStorage.getItem(s);if(a)try{const l=JSON.parse(a);e[t.toLowerCase()]=l.data!==void 0?l.data:l}catch(l){console.error(`Error parsing guest data for ${t}:`,l)}})}catch(t){console.error("Error getting all guest data:",t)}return e},HR=()=>{try{const e=localStorage.getItem(nl.SNACKBAR_DISMISSED);if(!e)return!0;const t=parseInt(e,10),s=Date.now(),a=1440*60*1e3;return s-t>a}catch(e){return console.error("Error checking snackbar status:",e),!0}},UR=()=>{try{localStorage.setItem(nl.SNACKBAR_DISMISSED,Date.now().toString())}catch(e){console.error("Error dismissing snackbar:",e),Xg(e)}},Xg=e=>{(e.name==="QuotaExceededError"||e.code===22)&&console.error("localStorage quota exceeded. Some data may not be saved.")},tt={WORKOUT_HISTORY:"goodlift_workout_history",USER_STATS:"goodlift_user_stats",EXERCISE_WEIGHTS:"goodlift_exercise_weights",EXERCISE_TARGET_REPS:"goodlift_exercise_target_reps",HIIT_SESSIONS:"goodlift_hiit_sessions",STRETCH_SESSIONS:"goodlift_stretch_sessions",CARDIO_SESSIONS:"goodlift_cardio_sessions",FAVORITE_WORKOUTS:"goodlift_favorite_workouts",FAVORITE_EXERCISES:"goodlift_favorite_exercises",PINNED_EXERCISES:"goodlift_pinned_exercises",WORKOUT_PLANS:"goodlift_workout_plans",ACTIVE_PLAN:"goodlift_active_plan",UNLOCKED_ACHIEVEMENTS:"goodlift_unlocked_achievements",TOTAL_PRS:"goodlift_total_prs",TOTAL_VOLUME:"goodlift_total_volume",YOGA_PRESETS:"goodlift_yoga_presets",HIIT_PRESETS:"goodlift_hiit_presets"};let kt=null;const xj=e=>{kt=e},$c=()=>kt,ei=async()=>{try{if(et())return Tt("workout_history")||[];if(kt)try{const t=await mi(kt);if(t?.workoutHistory)return localStorage.setItem(tt.WORKOUT_HISTORY,JSON.stringify(t.workoutHistory)),t.workoutHistory}catch(t){console.error("Firebase fetch failed, using localStorage:",t)}const e=localStorage.getItem(tt.WORKOUT_HISTORY);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading workout history:",e),[]}},Zg=async e=>{try{if(!e)throw new Error("Workout data is required");const t=await ei();t.unshift(e),et()?yt("workout_history",t):(localStorage.setItem(tt.WORKOUT_HISTORY,JSON.stringify(t)),kt&&await Gc(kt,t))}catch(t){throw console.error("Error saving workout:",t),t}},qR=async e=>{try{const t=await ei();if(e<0||e>=t.length)throw new Error("Invalid workout index");t.splice(e,1),et()?yt("workout_history",t):(localStorage.setItem(tt.WORKOUT_HISTORY,JSON.stringify(t)),kt&&await Gc(kt,t))}catch(t){throw console.error("Error deleting workout:",t),t}},YR=async(e,t)=>{try{const s=await ei();if(e<0||e>=s.length)throw new Error("Invalid workout index");s[e]={...s[e],...t},et()?yt("workout_history",s):(localStorage.setItem(tt.WORKOUT_HISTORY,JSON.stringify(s)),kt&&await Gc(kt,s))}catch(s){throw console.error("Error updating workout:",s),s}},Kc=async()=>{try{const e=await ei(),{calculateStreak:t}=await NR(async()=>{const{calculateStreak:T}=await Promise.resolve().then(()=>l7);return{calculateStreak:T}},void 0),s=t(e),a=e.length,l=e.reduce((T,k)=>T+(k.duration||0),0),d=vj().reduce((T,k)=>T+(k.duration||0),0),p=Sj().reduce((T,k)=>T+(k.duration||0),0),y=bh().reduce((T,k)=>T+(k.duration||0),0),v=await jj(),b=await kj(),S={totalWorkouts:a,totalTime:l,totalHiitTime:d,totalCardioTime:p,totalStretchTime:y,currentStreak:s.currentStreak,longestStreak:s.longestStreak,totalPRs:v,totalVolume:b};return et()?yt("user_stats",S):(localStorage.setItem(tt.USER_STATS,JSON.stringify(S)),kt&&await xh(kt,S)),S}catch(e){return console.error("Error calculating user stats:",e),{totalWorkouts:0,totalTime:0,totalHiitTime:0,totalCardioTime:0,totalStretchTime:0,currentStreak:0,longestStreak:0,totalPRs:0,totalVolume:0}}},Jg=async e=>{try{if(!e)throw new Error("Stats object is required");et()?yt("user_stats",e):(localStorage.setItem(tt.USER_STATS,JSON.stringify(e)),kt&&await xh(kt,e))}catch(t){throw console.error("Error saving user stats:",t),t}},zo=async e=>{try{if(et()){const u=Tt("exercise_weights")?.[e];return u!==void 0?u:null}if(kt)try{const l=await mi(kt);if(l?.exerciseWeights){localStorage.setItem(tt.EXERCISE_WEIGHTS,JSON.stringify(l.exerciseWeights));const u=l.exerciseWeights[e];return u!==void 0?u:null}}catch(l){console.error("Firebase fetch failed, using localStorage:",l)}const t=localStorage.getItem(tt.EXERCISE_WEIGHTS),a=(t?JSON.parse(t):{})[e];return a!==void 0?a:null}catch(t){return console.error("Error reading exercise weight:",t),null}},GR=async()=>{try{if(et())return Tt("exercise_weights")||{};if(kt)try{const t=await mi(kt);if(t?.exerciseWeights)return localStorage.setItem(tt.EXERCISE_WEIGHTS,JSON.stringify(t.exerciseWeights)),t.exerciseWeights}catch(t){console.error("Firebase fetch failed, using localStorage:",t)}const e=localStorage.getItem(tt.EXERCISE_WEIGHTS);return e?JSON.parse(e):{}}catch(e){return console.error("Error reading exercise weights:",e),{}}},Bi=async(e,t)=>{try{if(!e)throw new Error("Exercise name is required");if(t!=null&&(typeof t!="number"||t<0))throw new Error("Weight must be a positive number or null");const s=await GR();s[e]=t??null,et()?yt("exercise_weights",s):(localStorage.setItem(tt.EXERCISE_WEIGHTS,JSON.stringify(s)),kt&&await Gg(kt,s))}catch(s){throw console.error("Error saving exercise weight:",s),s}},Cr=async e=>{try{if(et()){const u=Tt("exercise_target_reps")?.[e];return u!==void 0?u:null}if(kt)try{const l=await mi(kt);if(l?.exerciseTargetReps){localStorage.setItem(tt.EXERCISE_TARGET_REPS,JSON.stringify(l.exerciseTargetReps));const u=l.exerciseTargetReps[e];return u!==void 0?u:null}}catch(l){console.error("Firebase fetch failed, using localStorage:",l)}const t=localStorage.getItem(tt.EXERCISE_TARGET_REPS),a=(t?JSON.parse(t):{})[e];return a!==void 0?a:null}catch(t){return console.error("Error reading exercise target reps:",t),null}},Kd=async(e,t)=>{try{if(!e)throw new Error("Exercise name is required");if(t!=null&&(typeof t!="number"||t<1))throw new Error("Reps must be a positive number or null");let s={};if(et())s=Tt("exercise_target_reps")||{};else{const a=localStorage.getItem(tt.EXERCISE_TARGET_REPS);s=a?JSON.parse(a):{}}s[e]=t??null,et()?yt("exercise_target_reps",s):(localStorage.setItem(tt.EXERCISE_TARGET_REPS,JSON.stringify(s)),kt&&await $g(kt,s))}catch(s){throw console.error("Error saving exercise target reps:",s),s}},bj=async e=>{if(!e){console.error("Cannot load data: No user ID provided");return}try{xj(e);const t=await mi(e);if(t)t.workoutHistory&&localStorage.setItem(tt.WORKOUT_HISTORY,JSON.stringify(t.workoutHistory)),t.userStats&&localStorage.setItem(tt.USER_STATS,JSON.stringify(t.userStats)),t.exerciseWeights&&localStorage.setItem(tt.EXERCISE_WEIGHTS,JSON.stringify(t.exerciseWeights)),t.exerciseTargetReps&&localStorage.setItem(tt.EXERCISE_TARGET_REPS,JSON.stringify(t.exerciseTargetReps)),t.hiitSessions&&localStorage.setItem(tt.HIIT_SESSIONS,JSON.stringify(t.hiitSessions)),t.cardioSessions&&localStorage.setItem(tt.CARDIO_SESSIONS,JSON.stringify(t.cardioSessions)),t.stretchSessions&&localStorage.setItem(tt.STRETCH_SESSIONS,JSON.stringify(t.stretchSessions)),t.workoutPlans&&localStorage.setItem(tt.WORKOUT_PLANS,JSON.stringify(t.workoutPlans)),t.activePlanId&&localStorage.setItem(tt.ACTIVE_PLAN,t.activePlanId);else{const s=await ei(),a=await Kc(),l=localStorage.getItem(tt.EXERCISE_WEIGHTS),u=l?JSON.parse(l):{},d=localStorage.getItem(tt.EXERCISE_TARGET_REPS),h=d?JSON.parse(d):{},p=vj(),g=Sj(),y=bh(),v=localStorage.getItem(tt.WORKOUT_PLANS),b=v?JSON.parse(v):[],S=localStorage.getItem(tt.ACTIVE_PLAN);(s.length>0||a?.totalWorkouts>0||Object.keys(u).length>0||Object.keys(h).length>0||p.length>0||g.length>0||y.length>0||b.length>0||S)&&await Promise.all([Gc(e,s),xh(e,a),Gg(e,u),$g(e,h),LR(e,p),zR(e,g),gj(e,y),VR(e,b),BR(e,S)])}}catch(t){console.error("Error loading user data from cloud:",t)}},vj=()=>{try{if(et())return Tt("hiit_sessions")||[];const e=localStorage.getItem(tt.HIIT_SESSIONS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading HIIT sessions:",e),[]}},Sj=()=>{try{if(et())return Tt("cardio_sessions")||[];const e=localStorage.getItem(tt.CARDIO_SESSIONS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading cardio sessions:",e),[]}},Hi=async()=>{try{if(et())return Tt("favorite_workouts")||[];if(kt)try{const t=await mi(kt);if(t?.favoriteWorkouts)return localStorage.setItem(tt.FAVORITE_WORKOUTS,JSON.stringify(t.favoriteWorkouts)),t.favoriteWorkouts}catch(t){console.error("Firebase fetch failed for favorite workouts, using localStorage:",t)}const e=localStorage.getItem(tt.FAVORITE_WORKOUTS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading favorite workouts:",e),[]}},ey=async e=>{try{if(!e)throw new Error("Workout data is required");const t=await Hi(),s={id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:e.name||`${e.type} Workout`,type:e.type,equipment:e.equipment||"all",exercises:e.exercises,savedAt:new Date().toISOString()};t.unshift(s),et()?yt("favorite_workouts",t):(localStorage.setItem(tt.FAVORITE_WORKOUTS,JSON.stringify(t)),kt&&await Kg(kt,t))}catch(t){throw console.error("Error saving favorite workout:",t),t}},wj=async e=>{try{const s=(await Hi()).filter(a=>a.id!==e);et()?yt("favorite_workouts",s):(localStorage.setItem(tt.FAVORITE_WORKOUTS,JSON.stringify(s)),kt&&await Kg(kt,s))}catch(t){throw console.error("Error deleting favorite workout:",t),t}},$R=async(e,t)=>{try{if(!e||!t)throw new Error("Workout ID and new name are required");const a=(await Hi()).map(l=>l.id===e?{...l,name:t}:l);et()?yt("favorite_workouts",a):(localStorage.setItem(tt.FAVORITE_WORKOUTS,JSON.stringify(a)),kt&&await Kg(kt,a))}catch(s){throw console.error("Error updating favorite workout name:",s),s}},bh=()=>{try{if(et())return Tt("stretch_sessions")||[];const e=localStorage.getItem(tt.STRETCH_SESSIONS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading stretch sessions:",e),[]}},KR=async e=>{try{if(!e)throw new Error("Session data is required");const t=bh();t.unshift(e),et()?yt("stretch_sessions",t):(localStorage.setItem(tt.STRETCH_SESSIONS,JSON.stringify(t)),kt&&await gj(kt,t))}catch(t){throw console.error("Error saving stretch session:",t),t}},ty=()=>{try{if(et()){const t=Tt("favorite_exercises")||[];return new Set(t)}const e=localStorage.getItem(tt.FAVORITE_EXERCISES);return new Set(e?JSON.parse(e):[])}catch(e){return console.error("Error reading favorite exercises:",e),new Set}},QR=e=>{try{if(!e)throw new Error("Exercise name is required");const t=ty();let s;t.has(e)?(t.delete(e),s=!1):(t.add(e),s=!0);const a=Array.from(t);return et()?yt("favorite_exercises",a):localStorage.setItem(tt.FAVORITE_EXERCISES,JSON.stringify(a)),s}catch(t){throw console.error("Error toggling favorite exercise:",t),t}},XR=e=>ty().has(e),ZR=()=>{try{if(et())return Tt("pinned_exercises")||[];const e=localStorage.getItem(tt.PINNED_EXERCISES);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading pinned exercises:",e),[]}},JR=e=>{try{if(!Array.isArray(e))throw new Error("Pinned exercises must be an array");const t=e.slice(0,10);et()?yt("pinned_exercises",t):localStorage.setItem(tt.PINNED_EXERCISES,JSON.stringify(t))}catch(t){throw console.error("Error saving pinned exercises:",t),t}},Cj=async()=>{try{if(et())return Tt("unlocked_achievements")||[];const e=localStorage.getItem(tt.UNLOCKED_ACHIEVEMENTS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading unlocked achievements:",e),[]}},e_=async e=>{try{et()?yt("unlocked_achievements",e):localStorage.setItem(tt.UNLOCKED_ACHIEVEMENTS,JSON.stringify(e))}catch(t){console.error("Error saving unlocked achievements:",t)}},t_=async e=>{try{const t=await Cj();t.includes(e)||(t.push(e),await e_(t))}catch(t){console.error("Error adding unlocked achievement:",t)}},jj=async()=>{try{if(et())return Tt("total_prs")||0;const e=localStorage.getItem(tt.TOTAL_PRS);return e?parseInt(e,10):0}catch(e){return console.error("Error reading total PRs:",e),0}},n_=async()=>{try{const t=await jj()+1;return et()?yt("total_prs",t):localStorage.setItem(tt.TOTAL_PRS,t.toString()),t}catch(e){console.error("Error incrementing total PRs:",e)}},kj=async()=>{try{if(et())return Tt("total_volume")||0;const e=localStorage.getItem(tt.TOTAL_VOLUME);return e?parseFloat(e):0}catch(e){return console.error("Error reading total volume:",e),0}},s_=async e=>{try{const s=await kj()+e;return et()?yt("total_volume",s):localStorage.setItem(tt.TOTAL_VOLUME,s.toString()),s}catch(t){console.error("Error adding to total volume:",t)}},pc=()=>{try{if(et())return Tt("yoga_presets")||[];const e=localStorage.getItem(tt.YOGA_PRESETS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading yoga presets:",e),[]}},i_=async e=>{try{if(!e||!e.name)throw new Error("Preset must have a name");const t=pc(),s=t.findIndex(a=>a.id===e.id);return s>=0?t[s]={...e,updatedAt:Date.now()}:t.push({...e,id:e.id||`yoga_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:Date.now(),updatedAt:Date.now()}),et()?yt("yoga_presets",t):localStorage.setItem(tt.YOGA_PRESETS,JSON.stringify(t)),t}catch(t){throw console.error("Error saving yoga preset:",t),t}},a_=async e=>{try{const s=pc().filter(a=>a.id!==e);return et()?yt("yoga_presets",s):localStorage.setItem(tt.YOGA_PRESETS,JSON.stringify(s)),s}catch(t){throw console.error("Error deleting yoga preset:",t),t}},mc=()=>{try{if(et())return Tt("hiit_presets")||[];const e=localStorage.getItem(tt.HIIT_PRESETS);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading HIIT presets:",e),[]}},r_=async e=>{try{if(!e||!e.name)throw new Error("Preset must have a name");const t=mc(),s=t.findIndex(a=>a.id===e.id);return s>=0?t[s]={...e,updatedAt:Date.now()}:t.push({...e,id:e.id||`hiit_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:Date.now(),updatedAt:Date.now()}),et()?yt("hiit_presets",t):localStorage.setItem(tt.HIIT_PRESETS,JSON.stringify(t)),t}catch(t){throw console.error("Error saving HIIT preset:",t),t}},o_=async e=>{try{const s=mc().filter(a=>a.id!==e);return et()?yt("hiit_presets",s):localStorage.setItem(tt.HIIT_PRESETS,JSON.stringify(s)),s}catch(t){throw console.error("Error deleting HIIT preset:",t),t}},Tj=x.createContext({}),La=()=>x.useContext(Tj),Dj=({children:e})=>{const[t,s]=x.useState(null),[a,l]=x.useState(!0),[u,d]=x.useState(!1),[h,p]=x.useState(!1),g=()=>{if(et()){const w=yj(),j=Object.keys(w).length>0;return p(j),j}return p(!1),!1},y=(w,j)=>OP(Sd,w,j),v=(w,j)=>PP(Sd,w,j),b=()=>u?(d(!1),$d(),s(null),Promise.resolve()):MP(Sd),S=()=>{FR(),d(!0),s({uid:"guest",email:null,isGuest:!0})},T=async(w,j)=>{if(d(!1),j||$d(),s(w),!j)try{await bj(w.uid)}catch(D){console.error("Error loading user data:",D)}};x.useEffect(()=>(et()&&(d(!0),s({uid:"guest",email:null,isGuest:!0}),g(),l(!1)),AP(Sd,async j=>{if(j){const D=g();await T(j,D)}else et()||(d(!1),p(!1),s(null),xj(null));l(!1)})),[]);const k={currentUser:t,isGuest:u,hasGuestData:h,signup:y,login:v,logout:b,continueAsGuest:S,checkGuestData:g};return r.jsx(Tj.Provider,{value:k,children:!a&&e})};Dj.propTypes={children:E.node.isRequired};const Ej=6048e5,l_=864e5,Aj=6e4,Mj=36e5,c_=1e3,US=Symbol.for("constructDateFrom");function en(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&US in e?e[US](t):e instanceof Date?new e.constructor(t):new Date(t)}function nt(e,t){return en(t||e,e)}function Qc(e,t,s){const a=nt(e,s?.in);return isNaN(t)?en(s?.in||e,NaN):(t&&a.setDate(a.getDate()+t),a)}function vh(e,t,s){const a=nt(e,s?.in);if(isNaN(t))return en(e,NaN);if(!t)return a;const l=a.getDate(),u=en(e,a.getTime());u.setMonth(a.getMonth()+t+1,0);const d=u.getDate();return l>=d?u:(a.setFullYear(u.getFullYear(),u.getMonth(),l),a)}function Pj(e,t,s){return en(e,+nt(e)+t)}function u_(e,t,s){return Pj(e,t*Mj)}let d_={};function Or(){return d_}function Zs(e,t){const s=Or(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,l=nt(e,t?.in),u=l.getDay(),d=(u<a?7:0)+u-a;return l.setDate(l.getDate()-d),l.setHours(0,0,0,0),l}function Ko(e,t){return Zs(e,{...t,weekStartsOn:1})}function Oj(e,t){const s=nt(e,t?.in),a=s.getFullYear(),l=en(s,0);l.setFullYear(a+1,0,4),l.setHours(0,0,0,0);const u=Ko(l),d=en(s,0);d.setFullYear(a,0,4),d.setHours(0,0,0,0);const h=Ko(d);return s.getTime()>=u.getTime()?a+1:s.getTime()>=h.getTime()?a:a-1}function Qd(e){const t=nt(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function Xc(e,...t){const s=en.bind(null,t.find(a=>typeof a=="object"));return t.map(s)}function Pc(e,t){const s=nt(e,t?.in);return s.setHours(0,0,0,0),s}function h_(e,t,s){const[a,l]=Xc(s?.in,e,t),u=Pc(a),d=Pc(l),h=+u-Qd(u),p=+d-Qd(d);return Math.round((h-p)/l_)}function f_(e,t){const s=Oj(e,t),a=en(e,0);return a.setFullYear(s,0,4),a.setHours(0,0,0,0),Ko(a)}function p_(e,t,s){const a=nt(e,s?.in);return a.setTime(a.getTime()+t*Aj),a}function m_(e,t,s){return Pj(e,t*1e3)}function g_(e,t,s){return Qc(e,t*7,s)}function y_(e,t,s){return vh(e,t*12,s)}function Fm(e,t,s){const[a,l]=Xc(s?.in,e,t);return+Pc(a)==+Pc(l)}function x_(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Rj(e){return!(!x_(e)&&typeof e!="number"||isNaN(+nt(e)))}function qS(e,t){const s=nt(e,t?.in);return s.setHours(23,59,59,999),s}function _j(e,t){const s=nt(e,t?.in),a=s.getMonth();return s.setFullYear(s.getFullYear(),a+1,0),s.setHours(23,59,59,999),s}function Ij(e,t){const s=nt(e,t?.in);return s.setDate(1),s.setHours(0,0,0,0),s}function YS(e,t){const s=nt(e,t?.in),a=s.getFullYear();return s.setFullYear(a+1,0,0),s.setHours(23,59,59,999),s}function Wj(e,t){const s=nt(e,t?.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}function Nj(e,t){const s=Or(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,l=nt(e,t?.in),u=l.getDay(),d=(u<a?-7:0)+6-(u-a);return l.setDate(l.getDate()+d),l.setHours(23,59,59,999),l}const b_={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},v_=(e,t,s)=>{let a;const l=b_[e];return typeof l=="string"?a=l:t===1?a=l.one:a=l.other.replace("{{count}}",t.toString()),s?.addSuffix?s.comparison&&s.comparison>0?"in "+a:a+" ago":a};function cm(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const S_={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},w_={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},C_={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},j_={date:cm({formats:S_,defaultWidth:"full"}),time:cm({formats:w_,defaultWidth:"full"}),dateTime:cm({formats:C_,defaultWidth:"full"})},k_={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},T_=(e,t,s,a)=>k_[e];function Jl(e){return(t,s)=>{const a=s?.context?String(s.context):"standalone";let l;if(a==="formatting"&&e.formattingValues){const d=e.defaultFormattingWidth||e.defaultWidth,h=s?.width?String(s.width):d;l=e.formattingValues[h]||e.formattingValues[d]}else{const d=e.defaultWidth,h=s?.width?String(s.width):e.defaultWidth;l=e.values[h]||e.values[d]}const u=e.argumentCallback?e.argumentCallback(t):t;return l[u]}}const D_={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},E_={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},A_={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},M_={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},P_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},O_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},R_=(e,t)=>{const s=Number(e),a=s%100;if(a>20||a<10)switch(a%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},__={ordinalNumber:R_,era:Jl({values:D_,defaultWidth:"wide"}),quarter:Jl({values:E_,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Jl({values:A_,defaultWidth:"wide"}),day:Jl({values:M_,defaultWidth:"wide"}),dayPeriod:Jl({values:P_,defaultWidth:"wide",formattingValues:O_,defaultFormattingWidth:"wide"})};function ec(e){return(t,s={})=>{const a=s.width,l=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],u=t.match(l);if(!u)return null;const d=u[0],h=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],p=Array.isArray(h)?W_(h,v=>v.test(d)):I_(h,v=>v.test(d));let g;g=e.valueCallback?e.valueCallback(p):p,g=s.valueCallback?s.valueCallback(g):g;const y=t.slice(d.length);return{value:g,rest:y}}}function I_(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function W_(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function N_(e){return(t,s={})=>{const a=t.match(e.matchPattern);if(!a)return null;const l=a[0],u=t.match(e.parsePattern);if(!u)return null;let d=e.valueCallback?e.valueCallback(u[0]):u[0];d=s.valueCallback?s.valueCallback(d):d;const h=t.slice(l.length);return{value:d,rest:h}}}const L_=/^(\d+)(th|st|nd|rd)?/i,z_=/\d+/i,V_={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},B_={any:[/^b/i,/^(a|c)/i]},F_={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},H_={any:[/1/i,/2/i,/3/i,/4/i]},U_={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},q_={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Y_={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},G_={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$_={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},K_={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Q_={ordinalNumber:N_({matchPattern:L_,parsePattern:z_,valueCallback:e=>parseInt(e,10)}),era:ec({matchPatterns:V_,defaultMatchWidth:"wide",parsePatterns:B_,defaultParseWidth:"any"}),quarter:ec({matchPatterns:F_,defaultMatchWidth:"wide",parsePatterns:H_,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ec({matchPatterns:U_,defaultMatchWidth:"wide",parsePatterns:q_,defaultParseWidth:"any"}),day:ec({matchPatterns:Y_,defaultMatchWidth:"wide",parsePatterns:G_,defaultParseWidth:"any"}),dayPeriod:ec({matchPatterns:$_,defaultMatchWidth:"any",parsePatterns:K_,defaultParseWidth:"any"})},ny={code:"en-US",formatDistance:v_,formatLong:j_,formatRelative:T_,localize:__,match:Q_,options:{weekStartsOn:0,firstWeekContainsDate:1}};function X_(e,t){const s=nt(e,t?.in);return h_(s,Wj(s))+1}function Lj(e,t){const s=nt(e,t?.in),a=+Ko(s)-+f_(s);return Math.round(a/Ej)+1}function sy(e,t){const s=nt(e,t?.in),a=s.getFullYear(),l=Or(),u=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,d=en(t?.in||e,0);d.setFullYear(a+1,0,u),d.setHours(0,0,0,0);const h=Zs(d,t),p=en(t?.in||e,0);p.setFullYear(a,0,u),p.setHours(0,0,0,0);const g=Zs(p,t);return+s>=+h?a+1:+s>=+g?a:a-1}function Z_(e,t){const s=Or(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,l=sy(e,t),u=en(t?.in||e,0);return u.setFullYear(l,0,a),u.setHours(0,0,0,0),Zs(u,t)}function iy(e,t){const s=nt(e,t?.in),a=+Zs(s,t)-+Z_(s,t);return Math.round(a/Ej)+1}function It(e,t){const s=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return s+a}const ja={y(e,t){const s=e.getFullYear(),a=s>0?s:1-s;return It(t==="yy"?a%100:a,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):It(s+1,2)},d(e,t){return It(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,t){return It(e.getHours()%12||12,t.length)},H(e,t){return It(e.getHours(),t.length)},m(e,t){return It(e.getMinutes(),t.length)},s(e,t){return It(e.getSeconds(),t.length)},S(e,t){const s=t.length,a=e.getMilliseconds(),l=Math.trunc(a*Math.pow(10,s-3));return It(l,t.length)}},jo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},GS={G:function(e,t,s){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(a,{width:"abbreviated"});case"GGGGG":return s.era(a,{width:"narrow"});case"GGGG":default:return s.era(a,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const a=e.getFullYear(),l=a>0?a:1-a;return s.ordinalNumber(l,{unit:"year"})}return ja.y(e,t)},Y:function(e,t,s,a){const l=sy(e,a),u=l>0?l:1-l;if(t==="YY"){const d=u%100;return It(d,2)}return t==="Yo"?s.ordinalNumber(u,{unit:"year"}):It(u,t.length)},R:function(e,t){const s=Oj(e);return It(s,t.length)},u:function(e,t){const s=e.getFullYear();return It(s,t.length)},Q:function(e,t,s){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return It(a,2);case"Qo":return s.ordinalNumber(a,{unit:"quarter"});case"QQQ":return s.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,s){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return It(a,2);case"qo":return s.ordinalNumber(a,{unit:"quarter"});case"qqq":return s.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,s){const a=e.getMonth();switch(t){case"M":case"MM":return ja.M(e,t);case"Mo":return s.ordinalNumber(a+1,{unit:"month"});case"MMM":return s.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,s){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return It(a+1,2);case"Lo":return s.ordinalNumber(a+1,{unit:"month"});case"LLL":return s.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,s,a){const l=iy(e,a);return t==="wo"?s.ordinalNumber(l,{unit:"week"}):It(l,t.length)},I:function(e,t,s){const a=Lj(e);return t==="Io"?s.ordinalNumber(a,{unit:"week"}):It(a,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):ja.d(e,t)},D:function(e,t,s){const a=X_(e);return t==="Do"?s.ordinalNumber(a,{unit:"dayOfYear"}):It(a,t.length)},E:function(e,t,s){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(a,{width:"short",context:"formatting"});case"EEEE":default:return s.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,s,a){const l=e.getDay(),u=(l-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(u);case"ee":return It(u,2);case"eo":return s.ordinalNumber(u,{unit:"day"});case"eee":return s.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(l,{width:"short",context:"formatting"});case"eeee":default:return s.day(l,{width:"wide",context:"formatting"})}},c:function(e,t,s,a){const l=e.getDay(),u=(l-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(u);case"cc":return It(u,t.length);case"co":return s.ordinalNumber(u,{unit:"day"});case"ccc":return s.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(l,{width:"narrow",context:"standalone"});case"cccccc":return s.day(l,{width:"short",context:"standalone"});case"cccc":default:return s.day(l,{width:"wide",context:"standalone"})}},i:function(e,t,s){const a=e.getDay(),l=a===0?7:a;switch(t){case"i":return String(l);case"ii":return It(l,t.length);case"io":return s.ordinalNumber(l,{unit:"day"});case"iii":return s.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(a,{width:"short",context:"formatting"});case"iiii":default:return s.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,s){const l=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(e,t,s){const a=e.getHours();let l;switch(a===12?l=jo.noon:a===0?l=jo.midnight:l=a/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(e,t,s){const a=e.getHours();let l;switch(a>=17?l=jo.evening:a>=12?l=jo.afternoon:a>=4?l=jo.morning:l=jo.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),s.ordinalNumber(a,{unit:"hour"})}return ja.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):ja.H(e,t)},K:function(e,t,s){const a=e.getHours()%12;return t==="Ko"?s.ordinalNumber(a,{unit:"hour"}):It(a,t.length)},k:function(e,t,s){let a=e.getHours();return a===0&&(a=24),t==="ko"?s.ordinalNumber(a,{unit:"hour"}):It(a,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):ja.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):ja.s(e,t)},S:function(e,t){return ja.S(e,t)},X:function(e,t,s){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return KS(a);case"XXXX":case"XX":return hr(a);case"XXXXX":case"XXX":default:return hr(a,":")}},x:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"x":return KS(a);case"xxxx":case"xx":return hr(a);case"xxxxx":case"xxx":default:return hr(a,":")}},O:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+$S(a,":");case"OOOO":default:return"GMT"+hr(a,":")}},z:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+$S(a,":");case"zzzz":default:return"GMT"+hr(a,":")}},t:function(e,t,s){const a=Math.trunc(+e/1e3);return It(a,t.length)},T:function(e,t,s){return It(+e,t.length)}};function $S(e,t=""){const s=e>0?"-":"+",a=Math.abs(e),l=Math.trunc(a/60),u=a%60;return u===0?s+String(l):s+String(l)+t+It(u,2)}function KS(e,t){return e%60===0?(e>0?"-":"+")+It(Math.abs(e)/60,2):hr(e,t)}function hr(e,t=""){const s=e>0?"-":"+",a=Math.abs(e),l=It(Math.trunc(a/60),2),u=It(a%60,2);return s+l+t+u}const QS=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},zj=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},J_=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],a=s[1],l=s[2];if(!l)return QS(e,t);let u;switch(a){case"P":u=t.dateTime({width:"short"});break;case"PP":u=t.dateTime({width:"medium"});break;case"PPP":u=t.dateTime({width:"long"});break;case"PPPP":default:u=t.dateTime({width:"full"});break}return u.replace("{{date}}",QS(a,t)).replace("{{time}}",zj(l,t))},Xd={p:zj,P:J_},e5=/^D+$/,t5=/^Y+$/,n5=["D","DD","YY","YYYY"];function Vj(e){return e5.test(e)}function Bj(e){return t5.test(e)}function Hm(e,t,s){const a=s5(e,t,s);if(console.warn(a),n5.includes(e))throw new RangeError(a)}function s5(e,t,s){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const i5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,a5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,r5=/^'([^]*?)'?$/,o5=/''/g,l5=/[a-zA-Z]/;function Um(e,t,s){const a=Or(),l=s?.locale??a.locale??ny,u=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,d=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,h=nt(e,s?.in);if(!Rj(h))throw new RangeError("Invalid time value");let p=t.match(a5).map(y=>{const v=y[0];if(v==="p"||v==="P"){const b=Xd[v];return b(y,l.formatLong)}return y}).join("").match(i5).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const v=y[0];if(v==="'")return{isToken:!1,value:c5(y)};if(GS[v])return{isToken:!0,value:y};if(v.match(l5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:y}});l.localize.preprocessor&&(p=l.localize.preprocessor(h,p));const g={firstWeekContainsDate:u,weekStartsOn:d,locale:l};return p.map(y=>{if(!y.isToken)return y.value;const v=y.value;(!s?.useAdditionalWeekYearTokens&&Bj(v)||!s?.useAdditionalDayOfYearTokens&&Vj(v))&&Hm(v,t,String(e));const b=GS[v[0]];return b(h,v,l.localize,g)}).join("")}function c5(e){const t=e.match(r5);return t?t[1].replace(o5,"'"):e}function u5(e,t){return nt(e,t?.in).getDate()}function Fj(e,t){const s=nt(e,t?.in),a=s.getFullYear(),l=s.getMonth(),u=en(s,0);return u.setFullYear(a,l+1,0),u.setHours(0,0,0,0),u.getDate()}function d5(){return Object.assign({},Or())}function h5(e,t){return nt(e,t?.in).getHours()}function f5(e,t){const s=nt(e,t?.in).getDay();return s===0?7:s}function p5(e){return nt(e).getMilliseconds()}function m5(e,t){return nt(e,t?.in).getMinutes()}function g5(e,t){return nt(e,t?.in).getMonth()}function y5(e){return nt(e).getSeconds()}function x5(e,t){return nt(e,t?.in).getFullYear()}function Id(e,t){return+nt(e)>+nt(t)}function um(e,t){return+nt(e)<+nt(t)}function b5(e,t){return+nt(e)==+nt(t)}function v5(e,t){const s=S5(t)?new t(0):en(t,0);return s.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),s.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),s}function S5(e){return typeof e=="function"&&e.prototype?.constructor===e}const w5=10;class Hj{subPriority=0;validate(t,s){return!0}}class C5 extends Hj{constructor(t,s,a,l,u){super(),this.value=t,this.validateValue=s,this.setValue=a,this.priority=l,u&&(this.subPriority=u)}validate(t,s){return this.validateValue(t,this.value,s)}set(t,s,a){return this.setValue(t,s,this.value,a)}}class j5 extends Hj{priority=w5;subPriority=-1;constructor(t,s){super(),this.context=t||(a=>en(s,a))}set(t,s){return s.timestampIsSet?t:en(t,v5(t,this.context))}}class Pt{run(t,s,a,l){const u=this.parse(t,s,a,l);return u?{setter:new C5(u.value,this.validate,this.set,this.priority,this.subPriority),rest:u.rest}:null}validate(t,s,a){return!0}}class k5 extends Pt{priority=140;parse(t,s,a){switch(s){case"G":case"GG":case"GGG":return a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"});case"GGGGG":return a.era(t,{width:"narrow"});case"GGGG":default:return a.era(t,{width:"wide"})||a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"})}}set(t,s,a){return s.era=a,t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const xn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},li={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function bn(e,t){return e&&{value:t(e.value),rest:e.rest}}function sn(e,t){const s=t.match(e);return s?{value:parseInt(s[0],10),rest:t.slice(s[0].length)}:null}function ci(e,t){const s=t.match(e);if(!s)return null;if(s[0]==="Z")return{value:0,rest:t.slice(1)};const a=s[1]==="+"?1:-1,l=s[2]?parseInt(s[2],10):0,u=s[3]?parseInt(s[3],10):0,d=s[5]?parseInt(s[5],10):0;return{value:a*(l*Mj+u*Aj+d*c_),rest:t.slice(s[0].length)}}function Uj(e){return sn(xn.anyDigitsSigned,e)}function fn(e,t){switch(e){case 1:return sn(xn.singleDigit,t);case 2:return sn(xn.twoDigits,t);case 3:return sn(xn.threeDigits,t);case 4:return sn(xn.fourDigits,t);default:return sn(new RegExp("^\\d{1,"+e+"}"),t)}}function Zd(e,t){switch(e){case 1:return sn(xn.singleDigitSigned,t);case 2:return sn(xn.twoDigitsSigned,t);case 3:return sn(xn.threeDigitsSigned,t);case 4:return sn(xn.fourDigitsSigned,t);default:return sn(new RegExp("^-?\\d{1,"+e+"}"),t)}}function ay(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function qj(e,t){const s=t>0,a=s?t:1-t;let l;if(a<=50)l=e||100;else{const u=a+50,d=Math.trunc(u/100)*100,h=e>=u%100;l=e+d-(h?100:0)}return s?l:1-l}function Yj(e){return e%400===0||e%4===0&&e%100!==0}class T5 extends Pt{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,s,a){const l=u=>({year:u,isTwoDigitYear:s==="yy"});switch(s){case"y":return bn(fn(4,t),l);case"yo":return bn(a.ordinalNumber(t,{unit:"year"}),l);default:return bn(fn(s.length,t),l)}}validate(t,s){return s.isTwoDigitYear||s.year>0}set(t,s,a){const l=t.getFullYear();if(a.isTwoDigitYear){const d=qj(a.year,l);return t.setFullYear(d,0,1),t.setHours(0,0,0,0),t}const u=!("era"in s)||s.era===1?a.year:1-a.year;return t.setFullYear(u,0,1),t.setHours(0,0,0,0),t}}class D5 extends Pt{priority=130;parse(t,s,a){const l=u=>({year:u,isTwoDigitYear:s==="YY"});switch(s){case"Y":return bn(fn(4,t),l);case"Yo":return bn(a.ordinalNumber(t,{unit:"year"}),l);default:return bn(fn(s.length,t),l)}}validate(t,s){return s.isTwoDigitYear||s.year>0}set(t,s,a,l){const u=sy(t,l);if(a.isTwoDigitYear){const h=qj(a.year,u);return t.setFullYear(h,0,l.firstWeekContainsDate),t.setHours(0,0,0,0),Zs(t,l)}const d=!("era"in s)||s.era===1?a.year:1-a.year;return t.setFullYear(d,0,l.firstWeekContainsDate),t.setHours(0,0,0,0),Zs(t,l)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class E5 extends Pt{priority=130;parse(t,s){return Zd(s==="R"?4:s.length,t)}set(t,s,a){const l=en(t,0);return l.setFullYear(a,0,4),l.setHours(0,0,0,0),Ko(l)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class A5 extends Pt{priority=130;parse(t,s){return Zd(s==="u"?4:s.length,t)}set(t,s,a){return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class M5 extends Pt{priority=120;parse(t,s,a){switch(s){case"Q":case"QQ":return fn(s.length,t);case"Qo":return a.ordinalNumber(t,{unit:"quarter"});case"QQQ":return a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(t,{width:"wide",context:"formatting"})||a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,s){return s>=1&&s<=4}set(t,s,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class P5 extends Pt{priority=120;parse(t,s,a){switch(s){case"q":case"qq":return fn(s.length,t);case"qo":return a.ordinalNumber(t,{unit:"quarter"});case"qqq":return a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(t,{width:"wide",context:"standalone"})||a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,s){return s>=1&&s<=4}set(t,s,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class O5 extends Pt{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,s,a){const l=u=>u-1;switch(s){case"M":return bn(sn(xn.month,t),l);case"MM":return bn(fn(2,t),l);case"Mo":return bn(a.ordinalNumber(t,{unit:"month"}),l);case"MMM":return a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(t,{width:"wide",context:"formatting"})||a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"})}}validate(t,s){return s>=0&&s<=11}set(t,s,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}}class R5 extends Pt{priority=110;parse(t,s,a){const l=u=>u-1;switch(s){case"L":return bn(sn(xn.month,t),l);case"LL":return bn(fn(2,t),l);case"Lo":return bn(a.ordinalNumber(t,{unit:"month"}),l);case"LLL":return a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(t,{width:"wide",context:"standalone"})||a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"})}}validate(t,s){return s>=0&&s<=11}set(t,s,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function _5(e,t,s){const a=nt(e,s?.in),l=iy(a,s)-t;return a.setDate(a.getDate()-l*7),nt(a,s?.in)}class I5 extends Pt{priority=100;parse(t,s,a){switch(s){case"w":return sn(xn.week,t);case"wo":return a.ordinalNumber(t,{unit:"week"});default:return fn(s.length,t)}}validate(t,s){return s>=1&&s<=53}set(t,s,a,l){return Zs(_5(t,a,l),l)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function W5(e,t,s){const a=nt(e,s?.in),l=Lj(a,s)-t;return a.setDate(a.getDate()-l*7),a}class N5 extends Pt{priority=100;parse(t,s,a){switch(s){case"I":return sn(xn.week,t);case"Io":return a.ordinalNumber(t,{unit:"week"});default:return fn(s.length,t)}}validate(t,s){return s>=1&&s<=53}set(t,s,a){return Ko(W5(t,a))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const L5=[31,28,31,30,31,30,31,31,30,31,30,31],z5=[31,29,31,30,31,30,31,31,30,31,30,31];class V5 extends Pt{priority=90;subPriority=1;parse(t,s,a){switch(s){case"d":return sn(xn.date,t);case"do":return a.ordinalNumber(t,{unit:"date"});default:return fn(s.length,t)}}validate(t,s){const a=t.getFullYear(),l=Yj(a),u=t.getMonth();return l?s>=1&&s<=z5[u]:s>=1&&s<=L5[u]}set(t,s,a){return t.setDate(a),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class B5 extends Pt{priority=90;subpriority=1;parse(t,s,a){switch(s){case"D":case"DD":return sn(xn.dayOfYear,t);case"Do":return a.ordinalNumber(t,{unit:"date"});default:return fn(s.length,t)}}validate(t,s){const a=t.getFullYear();return Yj(a)?s>=1&&s<=366:s>=1&&s<=365}set(t,s,a){return t.setMonth(0,a),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function ry(e,t,s){const a=Or(),l=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,u=nt(e,s?.in),d=u.getDay(),p=(t%7+7)%7,g=7-l,y=t<0||t>6?t-(d+g)%7:(p+g)%7-(d+g)%7;return Qc(u,y,s)}class F5 extends Pt{priority=90;parse(t,s,a){switch(s){case"E":case"EE":case"EEE":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,s){return s>=0&&s<=6}set(t,s,a,l){return t=ry(t,a,l),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class H5 extends Pt{priority=90;parse(t,s,a,l){const u=d=>{const h=Math.floor((d-1)/7)*7;return(d+l.weekStartsOn+6)%7+h};switch(s){case"e":case"ee":return bn(fn(s.length,t),u);case"eo":return bn(a.ordinalNumber(t,{unit:"day"}),u);case"eee":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeeee":return a.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,s){return s>=0&&s<=6}set(t,s,a,l){return t=ry(t,a,l),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class U5 extends Pt{priority=90;parse(t,s,a,l){const u=d=>{const h=Math.floor((d-1)/7)*7;return(d+l.weekStartsOn+6)%7+h};switch(s){case"c":case"cc":return bn(fn(s.length,t),u);case"co":return bn(a.ordinalNumber(t,{unit:"day"}),u);case"ccc":return a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"ccccc":return a.day(t,{width:"narrow",context:"standalone"});case"cccccc":return a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(t,{width:"wide",context:"standalone"})||a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"})}}validate(t,s){return s>=0&&s<=6}set(t,s,a,l){return t=ry(t,a,l),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function q5(e,t,s){const a=nt(e,s?.in),l=f5(a,s),u=t-l;return Qc(a,u,s)}class Y5 extends Pt{priority=90;parse(t,s,a){const l=u=>u===0?7:u;switch(s){case"i":case"ii":return fn(s.length,t);case"io":return a.ordinalNumber(t,{unit:"day"});case"iii":return bn(a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),l);case"iiiii":return bn(a.day(t,{width:"narrow",context:"formatting"}),l);case"iiiiii":return bn(a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),l);case"iiii":default:return bn(a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),l)}}validate(t,s){return s>=1&&s<=7}set(t,s,a){return t=q5(t,a),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class G5 extends Pt{priority=80;parse(t,s,a){switch(s){case"a":case"aa":case"aaa":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,s,a){return t.setHours(ay(a),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class $5 extends Pt{priority=80;parse(t,s,a){switch(s){case"b":case"bb":case"bbb":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,s,a){return t.setHours(ay(a),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class K5 extends Pt{priority=80;parse(t,s,a){switch(s){case"B":case"BB":case"BBB":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,s,a){return t.setHours(ay(a),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class Q5 extends Pt{priority=70;parse(t,s,a){switch(s){case"h":return sn(xn.hour12h,t);case"ho":return a.ordinalNumber(t,{unit:"hour"});default:return fn(s.length,t)}}validate(t,s){return s>=1&&s<=12}set(t,s,a){const l=t.getHours()>=12;return l&&a<12?t.setHours(a+12,0,0,0):!l&&a===12?t.setHours(0,0,0,0):t.setHours(a,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class X5 extends Pt{priority=70;parse(t,s,a){switch(s){case"H":return sn(xn.hour23h,t);case"Ho":return a.ordinalNumber(t,{unit:"hour"});default:return fn(s.length,t)}}validate(t,s){return s>=0&&s<=23}set(t,s,a){return t.setHours(a,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class Z5 extends Pt{priority=70;parse(t,s,a){switch(s){case"K":return sn(xn.hour11h,t);case"Ko":return a.ordinalNumber(t,{unit:"hour"});default:return fn(s.length,t)}}validate(t,s){return s>=0&&s<=11}set(t,s,a){return t.getHours()>=12&&a<12?t.setHours(a+12,0,0,0):t.setHours(a,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class J5 extends Pt{priority=70;parse(t,s,a){switch(s){case"k":return sn(xn.hour24h,t);case"ko":return a.ordinalNumber(t,{unit:"hour"});default:return fn(s.length,t)}}validate(t,s){return s>=1&&s<=24}set(t,s,a){const l=a<=24?a%24:a;return t.setHours(l,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class eI extends Pt{priority=60;parse(t,s,a){switch(s){case"m":return sn(xn.minute,t);case"mo":return a.ordinalNumber(t,{unit:"minute"});default:return fn(s.length,t)}}validate(t,s){return s>=0&&s<=59}set(t,s,a){return t.setMinutes(a,0,0),t}incompatibleTokens=["t","T"]}class tI extends Pt{priority=50;parse(t,s,a){switch(s){case"s":return sn(xn.second,t);case"so":return a.ordinalNumber(t,{unit:"second"});default:return fn(s.length,t)}}validate(t,s){return s>=0&&s<=59}set(t,s,a){return t.setSeconds(a,0),t}incompatibleTokens=["t","T"]}class nI extends Pt{priority=30;parse(t,s){const a=l=>Math.trunc(l*Math.pow(10,-s.length+3));return bn(fn(s.length,t),a)}set(t,s,a){return t.setMilliseconds(a),t}incompatibleTokens=["t","T"]}class sI extends Pt{priority=10;parse(t,s){switch(s){case"X":return ci(li.basicOptionalMinutes,t);case"XX":return ci(li.basic,t);case"XXXX":return ci(li.basicOptionalSeconds,t);case"XXXXX":return ci(li.extendedOptionalSeconds,t);case"XXX":default:return ci(li.extended,t)}}set(t,s,a){return s.timestampIsSet?t:en(t,t.getTime()-Qd(t)-a)}incompatibleTokens=["t","T","x"]}class iI extends Pt{priority=10;parse(t,s){switch(s){case"x":return ci(li.basicOptionalMinutes,t);case"xx":return ci(li.basic,t);case"xxxx":return ci(li.basicOptionalSeconds,t);case"xxxxx":return ci(li.extendedOptionalSeconds,t);case"xxx":default:return ci(li.extended,t)}}set(t,s,a){return s.timestampIsSet?t:en(t,t.getTime()-Qd(t)-a)}incompatibleTokens=["t","T","X"]}class aI extends Pt{priority=40;parse(t){return Uj(t)}set(t,s,a){return[en(t,a*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class rI extends Pt{priority=20;parse(t){return Uj(t)}set(t,s,a){return[en(t,a),{timestampIsSet:!0}]}incompatibleTokens="*"}const oI={G:new k5,y:new T5,Y:new D5,R:new E5,u:new A5,Q:new M5,q:new P5,M:new O5,L:new R5,w:new I5,I:new N5,d:new V5,D:new B5,E:new F5,e:new H5,c:new U5,i:new Y5,a:new G5,b:new $5,B:new K5,h:new Q5,H:new X5,K:new Z5,k:new J5,m:new eI,s:new tI,S:new nI,X:new sI,x:new iI,t:new aI,T:new rI},lI=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cI=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uI=/^'([^]*?)'?$/,dI=/''/g,hI=/\S/,fI=/[a-zA-Z]/;function pI(e,t,s,a){const l=()=>en(a?.in||s,NaN),u=d5(),d=a?.locale??u.locale??ny,h=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??u.firstWeekContainsDate??u.locale?.options?.firstWeekContainsDate??1,p=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??u.weekStartsOn??u.locale?.options?.weekStartsOn??0;if(!t)return e?l():nt(s,a?.in);const g={firstWeekContainsDate:h,weekStartsOn:p,locale:d},y=[new j5(a?.in,s)],v=t.match(cI).map(w=>{const j=w[0];if(j in Xd){const D=Xd[j];return D(w,d.formatLong)}return w}).join("").match(lI),b=[];for(let w of v){!a?.useAdditionalWeekYearTokens&&Bj(w)&&Hm(w,t,e),!a?.useAdditionalDayOfYearTokens&&Vj(w)&&Hm(w,t,e);const j=w[0],D=oI[j];if(D){const{incompatibleTokens:A}=D;if(Array.isArray(A)){const P=b.find(M=>A.includes(M.token)||M.token===j);if(P)throw new RangeError(`The format string mustn't contain \`${P.fullToken}\` and \`${w}\` at the same time`)}else if(D.incompatibleTokens==="*"&&b.length>0)throw new RangeError(`The format string mustn't contain \`${w}\` and any other token at the same time`);b.push({token:j,fullToken:w});const _=D.run(e,w,d.match,g);if(!_)return l();y.push(_.setter),e=_.rest}else{if(j.match(fI))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");if(w==="''"?w="'":j==="'"&&(w=mI(w)),e.indexOf(w)===0)e=e.slice(w.length);else return l()}}if(e.length>0&&hI.test(e))return l();const S=y.map(w=>w.priority).sort((w,j)=>j-w).filter((w,j,D)=>D.indexOf(w)===j).map(w=>y.filter(j=>j.priority===w).sort((j,D)=>D.subPriority-j.subPriority)).map(w=>w[0]);let T=nt(s,a?.in);if(isNaN(+T))return l();const k={};for(const w of S){if(!w.validate(T,g))return l();const j=w.set(T,k,g);Array.isArray(j)?(T=j[0],Object.assign(k,j[1])):T=j}return T}function mI(e){return e.match(uI)[1].replace(dI,"'")}function XS(e,t){const s=nt(e,t?.in);return s.setMinutes(0,0,0),s}function gI(e,t,s){const[a,l]=Xc(s?.in,e,t);return+XS(a)==+XS(l)}function Gj(e,t,s){const[a,l]=Xc(s?.in,e,t);return a.getFullYear()===l.getFullYear()&&a.getMonth()===l.getMonth()}function yI(e,t,s){const[a,l]=Xc(s?.in,e,t);return a.getFullYear()===l.getFullYear()}function xI(e,t,s){const a=+nt(e,s?.in),[l,u]=[+nt(t.start,s?.in),+nt(t.end,s?.in)].sort((d,h)=>d-h);return a>=l&&a<=u}function bI(e,t,s){const a=nt(e,s?.in),l=a.getFullYear(),u=a.getDate(),d=en(e,0);d.setFullYear(l,t,15),d.setHours(0,0,0,0);const h=Fj(d);return a.setMonth(t,Math.min(u,h)),a}function vI(e,t,s){const a=nt(e,s?.in);return a.setDate(t),a}function SI(e,t,s){const a=nt(e,s?.in);return a.setHours(t),a}function wI(e,t,s){const a=nt(e,s?.in);return a.setMilliseconds(t),a}function CI(e,t,s){const a=nt(e,s?.in);return a.setMinutes(t),a}function jI(e,t,s){const a=nt(e,s?.in);return a.setSeconds(t),a}function kI(e,t,s){const a=nt(e,s?.in);return isNaN(+a)?en(e,NaN):(a.setFullYear(t),a)}function TI(e,t,s){return vh(e,-1,s)}const $j=x.createContext({}),Zi=()=>x.useContext($j),tc={currentWeek:1,cycleStartDate:null,deloadWeekActive:!1,weeklySchedule:{Monday:null,Tuesday:null,Wednesday:null,Thursday:null,Friday:null,Saturday:null,Sunday:null},favorites:[]},Kj=({children:e})=>{const{currentUser:t,isGuest:s}=La(),[a,l]=x.useState(tc),[u,d]=x.useState(!0),h=x.useCallback(()=>{const _=Zs(new Date,{weekStartsOn:0});return _.setHours(0,0,0,0),_.toISOString()},[]),p=x.useCallback(A=>{if(!A)return 1;const _=new Date(A),P=new Date(h());return Math.floor((P-_)/(10080*60*1e3))+1},[h]),g=x.useCallback(async A=>{const _=h();if(A.cycleStartDate&&Id(new Date(_),new Date(A.cycleStartDate))){const P=p(A.cycleStartDate);if(P!==A.currentWeek){const M=A.deloadWeekActive,R={...A,currentWeek:P,deloadWeekActive:!1};return l(R),await y(R),{updated:!0,wasDeloadActive:M}}}return{updated:!1,wasDeloadActive:!1}},[h,p]);x.useEffect(()=>{t!==void 0&&(async()=>{d(!0);try{let _=null;if(t&&!s)_=(await mi(t.uid))?.weekScheduling;else{const P=localStorage.getItem("goodlift_week_scheduling");P&&(_=JSON.parse(P))}if(_){const P={...tc,..._,weeklySchedule:{...tc.weeklySchedule,..._.weeklySchedule||{}}};l(P),await g(P)}else{const P={...tc,cycleStartDate:h()};l(P),await y(P)}}catch(_){console.error("Error loading week state:",_);const P={...tc,cycleStartDate:h()};l(P)}finally{d(!1)}})()},[t,s,h,g]);const y=async A=>{try{t&&!s?await Pn(t.uid,{weekScheduling:A}):localStorage.setItem("goodlift_week_scheduling",JSON.stringify(A))}catch(_){throw console.error("Error saving week state:",_),_}},v=x.useCallback(async()=>{const A={...a,currentWeek:1,cycleStartDate:h(),deloadWeekActive:!1};return l(A),await y(A),A},[a,h]),b=x.useCallback(async()=>{if(a.currentWeek<4)throw new Error("Deload week only available from week 4 onwards");const A={...a,deloadWeekActive:!0,weeklySchedule:{Monday:null,Tuesday:null,Wednesday:null,Thursday:null,Friday:null,Saturday:null,Sunday:null}};return l(A),await y(A),A},[a]),S=x.useCallback(()=>a.currentWeek===1,[a.currentWeek]),T=x.useCallback(async(A,_)=>{const P={...a.weeklySchedule,[A]:_},M={...a,weeklySchedule:P};return l(M),await y(M),M},[a]),k=x.useCallback(async A=>{const _={...A,id:`fav_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,addedAt:new Date().toISOString()},P=[...a.favorites,_],M={...a,favorites:P};return l(M),await y(M),_},[a]),w=x.useCallback(async A=>{const _=a.favorites.filter(M=>M.id!==A),P={...a,favorites:_};return l(P),await y(P),P},[a]),j=x.useCallback((A,_=[])=>{if(!_||_.length===0)return null;const P=new Date;P.setDate(P.getDate()-7);const R={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6}[A],N=_.filter(W=>{const U=new Date(W.date);return U.getDay()===R&&U>=new Date(P.getTime()-10080*60*1e3)&&U<P});return N.length>0?N[N.length-1]:null},[]),D={weekState:a,loading:u,currentWeek:a.currentWeek,cycleStartDate:a.cycleStartDate,deloadWeekActive:a.deloadWeekActive,weeklySchedule:a.weeklySchedule,favorites:a.favorites,resetWeekCycle:v,triggerDeloadWeek:b,isAutoAssignWeek:S,assignWorkoutToDay:T,addToFavorites:k,removeFromFavorites:w,getWorkoutSuggestion:j,checkAndIncrementWeek:()=>g(a)};return r.jsx($j.Provider,{value:D,children:e})};Kj.propTypes={children:E.node.isRequired};const Qj=({onNavigate:e})=>{const t=el(),{currentWeek:s,deloadWeekActive:a,triggerDeloadWeek:l}=Zi(),[u,d]=x.useState(zt.isMutedState()),[h,p]=x.useState(mr.isActive()),[g]=x.useState(mr.isWakeLockSupported()),[y,v]=x.useState(!1);x.useEffect(()=>{const j=mr.reacquireOnVisibilityChange();return()=>{j&&j.then(D=>D&&D())}},[]);const b=()=>{const j=zt.toggleMute();d(j)},S=async()=>{if(h)await mr.releaseWakeLock(),p(!1);else{const j=await mr.requestWakeLock();p(j)}},T=()=>{v(!0)},k=async()=>{try{await l(),v(!1)}catch(j){console.error("Error triggering deload week:",j)}},w=()=>{v(!1)};return r.jsxs(L,{component:"header",sx:{position:"fixed",top:0,left:0,right:0,height:"60px",display:"flex",alignItems:"center",justifyContent:"flex-start",padding:"0 1rem",background:t.palette.background.paper,backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",boxShadow:t.palette.mode==="dark"?"0 2px 8px rgba(0, 0, 0, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.1)",zIndex:100,borderBottom:`1px solid ${t.palette.mode==="dark"?"rgba(29, 181, 132, 0.2)":"rgba(0, 0, 0, 0.12)"}`},children:[r.jsx(L,{onClick:()=>e&&e("progress"),sx:{display:"flex",alignItems:"center",cursor:e?"pointer":"default",transition:"transform 0.2s ease","&:hover":e?{transform:"scale(1.05)"}:{},"&:active":e?{transform:"scale(0.98)"}:{}},"aria-label":e?"Go to Progress screen":void 0,role:e?"button":void 0,tabIndex:e?0:void 0,onKeyDown:e?j=>{(j.key==="Enter"||j.key===" ")&&(j.preventDefault(),e("progress"))}:void 0,children:r.jsx("img",{src:"/goodlift/goodlift-favicon.svg",alt:"GoodLift",style:{height:"40px",width:"40px",display:"block"}})}),r.jsx(L,{sx:{position:"absolute",left:"50%",transform:"translateX(-50%)",display:"flex",alignItems:"center"},children:r.jsx(zg,{currentWeek:s,deloadWeekActive:a,onDeloadTrigger:T,clickable:!0})}),r.jsxs(L,{sx:{position:"absolute",right:"1rem",display:"flex",alignItems:"center",gap:.5},children:[r.jsx(Zn,{title:u?"Unmute sounds":"Mute sounds",children:r.jsx(Ue,{onClick:b,sx:{color:u?"grey.500":"primary.main",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{backgroundColor:t.palette.mode==="dark"?"rgba(29, 181, 132, 0.15)":"rgba(24, 160, 113, 0.1)"}},"aria-label":u?"Unmute sounds":"Mute sounds",children:u?r.jsx(bC,{}):r.jsx(Pg,{})})}),g&&r.jsx(Zn,{title:h?"Screen kept awake":"Allow screen sleep",children:r.jsx(Ue,{onClick:S,sx:{color:h?"secondary.main":"grey.500",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{backgroundColor:t.palette.mode==="dark"?"rgba(255, 140, 0, 0.15)":"rgba(255, 140, 0, 0.1)"}},"aria-label":h?"Release wake lock":"Keep screen awake",children:h?r.jsx(rO,{size:24}):r.jsx(aO,{size:24})})})]}),r.jsxs(vn,{open:y,onClose:w,maxWidth:"sm",fullWidth:!0,children:[r.jsx(On,{children:"Trigger Deload Week?"}),r.jsx(Sn,{children:r.jsx(I,{children:"This will activate deload week, replacing your scheduled workouts with recovery-focused sessions. The week counter will continue normally, and deload mode will end after this week completes."})}),r.jsxs(wn,{children:[r.jsx(Te,{onClick:w,color:"inherit",children:"Cancel"}),r.jsx(Te,{onClick:k,variant:"contained",color:"warning",children:"Activate Deload"})]})]})]})};Qj.propTypes={onNavigate:E.func};const oy=x.createContext({});function ly(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const cy=typeof window<"u",Xj=cy?x.useLayoutEffect:x.useEffect,Sh=x.createContext(null);function uy(e,t){e.indexOf(t)===-1&&e.push(t)}function dy(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const Ki=(e,t,s)=>s>t?t:s<e?e:s;let hy=()=>{};const Qi={},Zj=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Jj(e){return typeof e=="object"&&e!==null}const ek=e=>/^0[^.\s]+$/u.test(e);function fy(e){let t;return()=>(t===void 0&&(t=e()),t)}const Fs=e=>e,DI=(e,t)=>s=>t(e(s)),Zc=(...e)=>e.reduce(DI),Oc=(e,t,s)=>{const a=t-e;return a===0?1:(s-e)/a};class py{constructor(){this.subscriptions=[]}add(t){return uy(this.subscriptions,t),()=>dy(this.subscriptions,t)}notify(t,s,a){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](t,s,a);else for(let u=0;u<l;u++){const d=this.subscriptions[u];d&&d(t,s,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const di=e=>e*1e3,Bs=e=>e/1e3;function tk(e,t){return t?e*(1e3/t):0}const nk=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,EI=1e-7,AI=12;function MI(e,t,s,a,l){let u,d,h=0;do d=t+(s-t)/2,u=nk(d,a,l)-e,u>0?s=d:t=d;while(Math.abs(u)>EI&&++h<AI);return d}function Jc(e,t,s,a){if(e===t&&s===a)return Fs;const l=u=>MI(u,0,1,e,s);return u=>u===0||u===1?u:nk(l(u),t,a)}const sk=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ik=e=>t=>1-e(1-t),ak=Jc(.33,1.53,.69,.99),my=ik(ak),rk=sk(my),ok=e=>(e*=2)<1?.5*my(e):.5*(2-Math.pow(2,-10*(e-1))),gy=e=>1-Math.sin(Math.acos(e)),lk=ik(gy),ck=sk(gy),PI=Jc(.42,0,1,1),OI=Jc(0,0,.58,1),uk=Jc(.42,0,.58,1),RI=e=>Array.isArray(e)&&typeof e[0]!="number",dk=e=>Array.isArray(e)&&typeof e[0]=="number",_I={linear:Fs,easeIn:PI,easeInOut:uk,easeOut:OI,circIn:gy,circInOut:ck,circOut:lk,backIn:my,backInOut:rk,backOut:ak,anticipate:ok},II=e=>typeof e=="string",ZS=e=>{if(dk(e)){hy(e.length===4);const[t,s,a,l]=e;return Jc(t,s,a,l)}else if(II(e))return _I[e];return e},wd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function WI(e,t){let s=new Set,a=new Set,l=!1,u=!1;const d=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function p(y){d.has(y)&&(g.schedule(y),e()),y(h)}const g={schedule:(y,v=!1,b=!1)=>{const T=b&&l?s:a;return v&&d.add(y),T.has(y)||T.add(y),y},cancel:y=>{a.delete(y),d.delete(y)},process:y=>{if(h=y,l){u=!0;return}l=!0,[s,a]=[a,s],s.forEach(p),s.clear(),l=!1,u&&(u=!1,g.process(y))}};return g}const NI=40;function hk(e,t){let s=!1,a=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=()=>s=!0,d=wd.reduce((A,_)=>(A[_]=WI(u),A),{}),{setup:h,read:p,resolveKeyframes:g,preUpdate:y,update:v,preRender:b,render:S,postRender:T}=d,k=()=>{const A=Qi.useManualTiming?l.timestamp:performance.now();s=!1,Qi.useManualTiming||(l.delta=a?1e3/60:Math.max(Math.min(A-l.timestamp,NI),1)),l.timestamp=A,l.isProcessing=!0,h.process(l),p.process(l),g.process(l),y.process(l),v.process(l),b.process(l),S.process(l),T.process(l),l.isProcessing=!1,s&&t&&(a=!1,e(k))},w=()=>{s=!0,a=!0,l.isProcessing||e(k)};return{schedule:wd.reduce((A,_)=>{const P=d[_];return A[_]=(M,R=!1,N=!1)=>(s||w(),P.schedule(M,R,N)),A},{}),cancel:A=>{for(let _=0;_<wd.length;_++)d[wd[_]].cancel(A)},state:l,steps:d}}const{schedule:Zt,cancel:_a,state:Hn,steps:dm}=hk(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fs,!0);let Wd;function LI(){Wd=void 0}const hs={now:()=>(Wd===void 0&&hs.set(Hn.isProcessing||Qi.useManualTiming?Hn.timestamp:performance.now()),Wd),set:e=>{Wd=e,queueMicrotask(LI)}},fk=e=>t=>typeof t=="string"&&t.startsWith(e),yy=fk("--"),zI=fk("var(--"),xy=e=>zI(e)?VI.test(e.split("/*")[0].trim()):!1,VI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,sl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Rc={...sl,transform:e=>Ki(0,1,e)},Cd={...sl,default:1},gc=e=>Math.round(e*1e5)/1e5,by=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function BI(e){return e==null}const FI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vy=(e,t)=>s=>!!(typeof s=="string"&&FI.test(s)&&s.startsWith(e)||t&&!BI(s)&&Object.prototype.hasOwnProperty.call(s,t)),pk=(e,t,s)=>a=>{if(typeof a!="string")return a;const[l,u,d,h]=a.match(by);return{[e]:parseFloat(l),[t]:parseFloat(u),[s]:parseFloat(d),alpha:h!==void 0?parseFloat(h):1}},HI=e=>Ki(0,255,e),hm={...sl,transform:e=>Math.round(HI(e))},xr={test:vy("rgb","red"),parse:pk("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:a=1})=>"rgba("+hm.transform(e)+", "+hm.transform(t)+", "+hm.transform(s)+", "+gc(Rc.transform(a))+")"};function UI(e){let t="",s="",a="",l="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),a=e.substring(5,7),l=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),a=e.substring(3,4),l=e.substring(4,5),t+=t,s+=s,a+=a,l+=l),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(a,16),alpha:l?parseInt(l,16)/255:1}}const qm={test:vy("#"),parse:UI,transform:xr.transform},eu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Da=eu("deg"),hi=eu("%"),rt=eu("px"),qI=eu("vh"),YI=eu("vw"),JS={...hi,parse:e=>hi.parse(e)/100,transform:e=>hi.transform(e*100)},Po={test:vy("hsl","hue"),parse:pk("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:a=1})=>"hsla("+Math.round(e)+", "+hi.transform(gc(t))+", "+hi.transform(gc(s))+", "+gc(Rc.transform(a))+")"},Dn={test:e=>xr.test(e)||qm.test(e)||Po.test(e),parse:e=>xr.test(e)?xr.parse(e):Po.test(e)?Po.parse(e):qm.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?xr.transform(e):Po.transform(e),getAnimatableNone:e=>{const t=Dn.parse(e);return t.alpha=0,Dn.transform(t)}},GI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function $I(e){return isNaN(e)&&typeof e=="string"&&(e.match(by)?.length||0)+(e.match(GI)?.length||0)>0}const mk="number",gk="color",KI="var",QI="var(",ew="${}",XI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function _c(e){const t=e.toString(),s=[],a={color:[],number:[],var:[]},l=[];let u=0;const h=t.replace(XI,p=>(Dn.test(p)?(a.color.push(u),l.push(gk),s.push(Dn.parse(p))):p.startsWith(QI)?(a.var.push(u),l.push(KI),s.push(p)):(a.number.push(u),l.push(mk),s.push(parseFloat(p))),++u,ew)).split(ew);return{values:s,split:h,indexes:a,types:l}}function yk(e){return _c(e).values}function xk(e){const{split:t,types:s}=_c(e),a=t.length;return l=>{let u="";for(let d=0;d<a;d++)if(u+=t[d],l[d]!==void 0){const h=s[d];h===mk?u+=gc(l[d]):h===gk?u+=Dn.transform(l[d]):u+=l[d]}return u}}const ZI=e=>typeof e=="number"?0:Dn.test(e)?Dn.getAnimatableNone(e):e;function JI(e){const t=yk(e);return xk(e)(t.map(ZI))}const Ia={test:$I,parse:yk,createTransformer:xk,getAnimatableNone:JI};function fm(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function eW({hue:e,saturation:t,lightness:s,alpha:a}){e/=360,t/=100,s/=100;let l=0,u=0,d=0;if(!t)l=u=d=s;else{const h=s<.5?s*(1+t):s+t-s*t,p=2*s-h;l=fm(p,h,e+1/3),u=fm(p,h,e),d=fm(p,h,e-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(d*255),alpha:a}}function Jd(e,t){return s=>s>0?t:e}const an=(e,t,s)=>e+(t-e)*s,pm=(e,t,s)=>{const a=e*e,l=s*(t*t-a)+a;return l<0?0:Math.sqrt(l)},tW=[qm,xr,Po],nW=e=>tW.find(t=>t.test(e));function tw(e){const t=nW(e);if(!t)return!1;let s=t.parse(e);return t===Po&&(s=eW(s)),s}const nw=(e,t)=>{const s=tw(e),a=tw(t);if(!s||!a)return Jd(e,t);const l={...s};return u=>(l.red=pm(s.red,a.red,u),l.green=pm(s.green,a.green,u),l.blue=pm(s.blue,a.blue,u),l.alpha=an(s.alpha,a.alpha,u),xr.transform(l))},Ym=new Set(["none","hidden"]);function sW(e,t){return Ym.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function iW(e,t){return s=>an(e,t,s)}function Sy(e){return typeof e=="number"?iW:typeof e=="string"?xy(e)?Jd:Dn.test(e)?nw:oW:Array.isArray(e)?bk:typeof e=="object"?Dn.test(e)?nw:aW:Jd}function bk(e,t){const s=[...e],a=s.length,l=e.map((u,d)=>Sy(u)(u,t[d]));return u=>{for(let d=0;d<a;d++)s[d]=l[d](u);return s}}function aW(e,t){const s={...e,...t},a={};for(const l in s)e[l]!==void 0&&t[l]!==void 0&&(a[l]=Sy(e[l])(e[l],t[l]));return l=>{for(const u in a)s[u]=a[u](l);return s}}function rW(e,t){const s=[],a={color:0,var:0,number:0};for(let l=0;l<t.values.length;l++){const u=t.types[l],d=e.indexes[u][a[u]],h=e.values[d]??0;s[l]=h,a[u]++}return s}const oW=(e,t)=>{const s=Ia.createTransformer(t),a=_c(e),l=_c(t);return a.indexes.var.length===l.indexes.var.length&&a.indexes.color.length===l.indexes.color.length&&a.indexes.number.length>=l.indexes.number.length?Ym.has(e)&&!l.values.length||Ym.has(t)&&!a.values.length?sW(e,t):Zc(bk(rW(a,l),l.values),s):Jd(e,t)};function vk(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?an(e,t,s):Sy(e)(e,t)}const lW=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>Zt.update(t,s),stop:()=>_a(t),now:()=>Hn.isProcessing?Hn.timestamp:hs.now()}},Sk=(e,t,s=10)=>{let a="";const l=Math.max(Math.round(t/s),2);for(let u=0;u<l;u++)a+=Math.round(e(u/(l-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},eh=2e4;function wy(e){let t=0;const s=50;let a=e.next(t);for(;!a.done&&t<eh;)t+=s,a=e.next(t);return t>=eh?1/0:t}function cW(e,t=100,s){const a=s({...e,keyframes:[0,t]}),l=Math.min(wy(a),eh);return{type:"keyframes",ease:u=>a.next(l*u).value/t,duration:Bs(l)}}const uW=5;function wk(e,t,s){const a=Math.max(t-uW,0);return tk(s-e(a),t-a)}const hn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},mm=.001;function dW({duration:e=hn.duration,bounce:t=hn.bounce,velocity:s=hn.velocity,mass:a=hn.mass}){let l,u,d=1-t;d=Ki(hn.minDamping,hn.maxDamping,d),e=Ki(hn.minDuration,hn.maxDuration,Bs(e)),d<1?(l=g=>{const y=g*d,v=y*e,b=y-s,S=Gm(g,d),T=Math.exp(-v);return mm-b/S*T},u=g=>{const v=g*d*e,b=v*s+s,S=Math.pow(d,2)*Math.pow(g,2)*e,T=Math.exp(-v),k=Gm(Math.pow(g,2),d);return(-l(g)+mm>0?-1:1)*((b-S)*T)/k}):(l=g=>{const y=Math.exp(-g*e),v=(g-s)*e+1;return-mm+y*v},u=g=>{const y=Math.exp(-g*e),v=(s-g)*(e*e);return y*v});const h=5/e,p=fW(l,u,h);if(e=di(e),isNaN(p))return{stiffness:hn.stiffness,damping:hn.damping,duration:e};{const g=Math.pow(p,2)*a;return{stiffness:g,damping:d*2*Math.sqrt(a*g),duration:e}}}const hW=12;function fW(e,t,s){let a=s;for(let l=1;l<hW;l++)a=a-e(a)/t(a);return a}function Gm(e,t){return e*Math.sqrt(1-t*t)}const pW=["duration","bounce"],mW=["stiffness","damping","mass"];function sw(e,t){return t.some(s=>e[s]!==void 0)}function gW(e){let t={velocity:hn.velocity,stiffness:hn.stiffness,damping:hn.damping,mass:hn.mass,isResolvedFromDuration:!1,...e};if(!sw(e,mW)&&sw(e,pW))if(e.visualDuration){const s=e.visualDuration,a=2*Math.PI/(s*1.2),l=a*a,u=2*Ki(.05,1,1-(e.bounce||0))*Math.sqrt(l);t={...t,mass:hn.mass,stiffness:l,damping:u}}else{const s=dW(e);t={...t,...s,mass:hn.mass},t.isResolvedFromDuration=!0}return t}function th(e=hn.visualDuration,t=hn.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:a,restDelta:l}=s;const u=s.keyframes[0],d=s.keyframes[s.keyframes.length-1],h={done:!1,value:u},{stiffness:p,damping:g,mass:y,duration:v,velocity:b,isResolvedFromDuration:S}=gW({...s,velocity:-Bs(s.velocity||0)}),T=b||0,k=g/(2*Math.sqrt(p*y)),w=d-u,j=Bs(Math.sqrt(p/y)),D=Math.abs(w)<5;a||(a=D?hn.restSpeed.granular:hn.restSpeed.default),l||(l=D?hn.restDelta.granular:hn.restDelta.default);let A;if(k<1){const P=Gm(j,k);A=M=>{const R=Math.exp(-k*j*M);return d-R*((T+k*j*w)/P*Math.sin(P*M)+w*Math.cos(P*M))}}else if(k===1)A=P=>d-Math.exp(-j*P)*(w+(T+j*w)*P);else{const P=j*Math.sqrt(k*k-1);A=M=>{const R=Math.exp(-k*j*M),N=Math.min(P*M,300);return d-R*((T+k*j*w)*Math.sinh(N)+P*w*Math.cosh(N))/P}}const _={calculatedDuration:S&&v||null,next:P=>{const M=A(P);if(S)h.done=P>=v;else{let R=P===0?T:0;k<1&&(R=P===0?di(T):wk(A,P,M));const N=Math.abs(R)<=a,W=Math.abs(d-M)<=l;h.done=N&&W}return h.value=h.done?d:M,h},toString:()=>{const P=Math.min(wy(_),eh),M=Sk(R=>_.next(P*R).value,P,30);return P+"ms "+M},toTransition:()=>{}};return _}th.applyToOptions=e=>{const t=cW(e,100,th);return e.ease=t.ease,e.duration=di(t.duration),e.type="keyframes",e};function $m({keyframes:e,velocity:t=0,power:s=.8,timeConstant:a=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:d,min:h,max:p,restDelta:g=.5,restSpeed:y}){const v=e[0],b={done:!1,value:v},S=N=>h!==void 0&&N<h||p!==void 0&&N>p,T=N=>h===void 0?p:p===void 0||Math.abs(h-N)<Math.abs(p-N)?h:p;let k=s*t;const w=v+k,j=d===void 0?w:d(w);j!==w&&(k=j-v);const D=N=>-k*Math.exp(-N/a),A=N=>j+D(N),_=N=>{const W=D(N),U=A(N);b.done=Math.abs(W)<=g,b.value=b.done?j:U};let P,M;const R=N=>{S(b.value)&&(P=N,M=th({keyframes:[b.value,T(b.value)],velocity:wk(A,N,b.value),damping:l,stiffness:u,restDelta:g,restSpeed:y}))};return R(0),{calculatedDuration:null,next:N=>{let W=!1;return!M&&P===void 0&&(W=!0,_(N),R(N)),P!==void 0&&N>=P?M.next(N-P):(!W&&_(N),b)}}}function yW(e,t,s){const a=[],l=s||Qi.mix||vk,u=e.length-1;for(let d=0;d<u;d++){let h=l(e[d],e[d+1]);if(t){const p=Array.isArray(t)?t[d]||Fs:t;h=Zc(p,h)}a.push(h)}return a}function xW(e,t,{clamp:s=!0,ease:a,mixer:l}={}){const u=e.length;if(hy(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const d=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const h=yW(t,a,l),p=h.length,g=y=>{if(d&&y<e[0])return t[0];let v=0;if(p>1)for(;v<e.length-2&&!(y<e[v+1]);v++);const b=Oc(e[v],e[v+1],y);return h[v](b)};return s?y=>g(Ki(e[0],e[u-1],y)):g}function bW(e,t){const s=e[e.length-1];for(let a=1;a<=t;a++){const l=Oc(0,t,a);e.push(an(s,1,l))}}function vW(e){const t=[0];return bW(t,e.length-1),t}function SW(e,t){return e.map(s=>s*t)}function wW(e,t){return e.map(()=>t||uk).splice(0,e.length-1)}function yc({duration:e=300,keyframes:t,times:s,ease:a="easeInOut"}){const l=RI(a)?a.map(ZS):ZS(a),u={done:!1,value:t[0]},d=SW(s&&s.length===t.length?s:vW(t),e),h=xW(d,t,{ease:Array.isArray(l)?l:wW(t,l)});return{calculatedDuration:e,next:p=>(u.value=h(p),u.done=p>=e,u)}}const CW=e=>e!==null;function Cy(e,{repeat:t,repeatType:s="loop"},a,l=1){const u=e.filter(CW),h=l<0||t&&s!=="loop"&&t%2===1?0:u.length-1;return!h||a===void 0?u[h]:a}const jW={decay:$m,inertia:$m,tween:yc,keyframes:yc,spring:th};function Ck(e){typeof e.type=="string"&&(e.type=jW[e.type])}class jy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const kW=e=>e/100;class ky extends jy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==hs.now()&&this.tick(hs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Ck(t);const{type:s=yc,repeat:a=0,repeatDelay:l=0,repeatType:u,velocity:d=0}=t;let{keyframes:h}=t;const p=s||yc;p!==yc&&typeof h[0]!="number"&&(this.mixKeyframes=Zc(kW,vk(h[0],h[1])),h=[0,100]);const g=p({...t,keyframes:h});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...h].reverse(),velocity:-d})),g.calculatedDuration===null&&(g.calculatedDuration=wy(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+l,this.totalDuration=this.resolvedDuration*(a+1)-l,this.generator=g}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:a,totalDuration:l,mixKeyframes:u,mirroredGenerator:d,resolvedDuration:h,calculatedDuration:p}=this;if(this.startTime===null)return a.next(0);const{delay:g=0,keyframes:y,repeat:v,repeatType:b,repeatDelay:S,type:T,onUpdate:k,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-l/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const j=this.currentTime-g*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?j<0:j>l;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let A=this.currentTime,_=a;if(v){const N=Math.min(this.currentTime,l)/h;let W=Math.floor(N),U=N%1;!U&&N>=1&&(U=1),U===1&&W--,W=Math.min(W,v+1),!!(W%2)&&(b==="reverse"?(U=1-U,S&&(U-=S/h)):b==="mirror"&&(_=d)),A=Ki(0,1,U)*h}const P=D?{done:!1,value:y[0]}:_.next(A);u&&(P.value=u(P.value));let{done:M}=P;!D&&p!==null&&(M=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return R&&T!==$m&&(P.value=Cy(y,this.options,w,this.speed)),k&&k(P.value),R&&this.finish(),P}then(t,s){return this.finished.then(t,s)}get duration(){return Bs(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Bs(t)}get time(){return Bs(this.currentTime)}set time(t){t=di(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(hs.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=Bs(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=lW,startTime:s}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),this.options.onPlay?.();const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=s??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(hs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function TW(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const br=e=>e*180/Math.PI,Km=e=>{const t=br(Math.atan2(e[1],e[0]));return Qm(t)},DW={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Km,rotateZ:Km,skewX:e=>br(Math.atan(e[1])),skewY:e=>br(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Qm=e=>(e=e%360,e<0&&(e+=360),e),iw=Km,aw=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),rw=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),EW={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:aw,scaleY:rw,scale:e=>(aw(e)+rw(e))/2,rotateX:e=>Qm(br(Math.atan2(e[6],e[5]))),rotateY:e=>Qm(br(Math.atan2(-e[2],e[0]))),rotateZ:iw,rotate:iw,skewX:e=>br(Math.atan(e[4])),skewY:e=>br(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Xm(e){return e.includes("scale")?1:0}function Zm(e,t){if(!e||e==="none")return Xm(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,l;if(s)a=EW,l=s;else{const h=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=DW,l=h}if(!l)return Xm(t);const u=a[t],d=l[1].split(",").map(MW);return typeof u=="function"?u(d):d[u]}const AW=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return Zm(s,t)};function MW(e){return parseFloat(e.trim())}const il=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],al=new Set(il),ow=e=>e===sl||e===rt,PW=new Set(["x","y","z"]),OW=il.filter(e=>!PW.has(e));function RW(e){const t=[];return OW.forEach(s=>{const a=e.getValue(s);a!==void 0&&(t.push([s,a.get()]),a.set(s.startsWith("scale")?1:0))}),t}const jr={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Zm(t,"x"),y:(e,{transform:t})=>Zm(t,"y")};jr.translateX=jr.x;jr.translateY=jr.y;const kr=new Set;let Jm=!1,eg=!1,tg=!1;function jk(){if(eg){const e=Array.from(kr).filter(a=>a.needsMeasurement),t=new Set(e.map(a=>a.element)),s=new Map;t.forEach(a=>{const l=RW(a);l.length&&(s.set(a,l),a.render())}),e.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const l=s.get(a);l&&l.forEach(([u,d])=>{a.getValue(u)?.set(d)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}eg=!1,Jm=!1,kr.forEach(e=>e.complete(tg)),kr.clear()}function kk(){kr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(eg=!0)})}function _W(){tg=!0,kk(),jk(),tg=!1}class Ty{constructor(t,s,a,l,u,d=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=a,this.motionValue=l,this.element=u,this.isAsync=d}scheduleResolve(){this.state="scheduled",this.isAsync?(kr.add(this),Jm||(Jm=!0,Zt.read(kk),Zt.resolveKeyframes(jk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:a,motionValue:l}=this;if(t[0]===null){const u=l?.get(),d=t[t.length-1];if(u!==void 0)t[0]=u;else if(a&&s){const h=a.readValue(s,d);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=d),l&&u===void 0&&l.set(t[0])}TW(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),kr.delete(this)}cancel(){this.state==="scheduled"&&(kr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const IW=e=>e.startsWith("--");function WW(e,t,s){IW(t)?e.style.setProperty(t,s):e.style[t]=s}const NW=fy(()=>window.ScrollTimeline!==void 0),LW={};function zW(e,t){const s=fy(e);return()=>LW[t]??s()}const Tk=zW(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cc=([e,t,s,a])=>`cubic-bezier(${e}, ${t}, ${s}, ${a})`,lw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cc([0,.65,.55,1]),circOut:cc([.55,0,1,.45]),backIn:cc([.31,.01,.66,-.59]),backOut:cc([.33,1.53,.69,.99])};function Dk(e,t){if(e)return typeof e=="function"?Tk()?Sk(e,t):"ease-out":dk(e)?cc(e):Array.isArray(e)?e.map(s=>Dk(s,t)||lw.easeOut):lw[e]}function VW(e,t,s,{delay:a=0,duration:l=300,repeat:u=0,repeatType:d="loop",ease:h="easeOut",times:p}={},g=void 0){const y={[t]:s};p&&(y.offset=p);const v=Dk(h,l);Array.isArray(v)&&(y.easing=v);const b={delay:a,duration:l,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:u+1,direction:d==="reverse"?"alternate":"normal"};return g&&(b.pseudoElement=g),e.animate(y,b)}function Ek(e){return typeof e=="function"&&"applyToOptions"in e}function BW({type:e,...t}){return Ek(e)&&Tk()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class FW extends jy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:a,keyframes:l,pseudoElement:u,allowFlatten:d=!1,finalKeyframe:h,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=d,this.options=t,hy(typeof t.type!="string");const g=BW(t);this.animation=VW(s,a,l,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const y=Cy(l,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):WW(s,a,y),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Bs(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Bs(t)}get time(){return Bs(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=di(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&NW()?(this.animation.timeline=t,Fs):s(this)}}const Ak={anticipate:ok,backInOut:rk,circInOut:ck};function HW(e){return e in Ak}function UW(e){typeof e.ease=="string"&&HW(e.ease)&&(e.ease=Ak[e.ease])}const cw=10;class qW extends FW{constructor(t){UW(t),Ck(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:a,onComplete:l,element:u,...d}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const h=new ky({...d,autoplay:!1}),p=di(this.finishedTime??this.time);s.setWithVelocity(h.sample(p-cw).value,h.sample(p).value,cw),h.stop()}}const uw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ia.test(e)||e==="0")&&!e.startsWith("url("));function YW(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function GW(e,t,s,a){const l=e[0];if(l===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],d=uw(l,t),h=uw(u,t);return!d||!h?!1:YW(e)||(s==="spring"||Ek(s))&&a}function ng(e){e.duration=0,e.type="keyframes"}const $W=new Set(["opacity","clipPath","filter","transform"]),KW=fy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function QW(e){const{motionValue:t,name:s,repeatDelay:a,repeatType:l,damping:u,type:d}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return KW()&&s&&$W.has(s)&&(s!=="transform"||!g)&&!p&&!a&&l!=="mirror"&&u!==0&&d!=="inertia"}const XW=40;class ZW extends jy{constructor({autoplay:t=!0,delay:s=0,type:a="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:d="loop",keyframes:h,name:p,motionValue:g,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=hs.now();const b={autoplay:t,delay:s,type:a,repeat:l,repeatDelay:u,repeatType:d,name:p,motionValue:g,element:y,...v},S=y?.KeyframeResolver||Ty;this.keyframeResolver=new S(h,(T,k,w)=>this.onKeyframesResolved(T,k,b,!w),p,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,s,a,l){this.keyframeResolver=void 0;const{name:u,type:d,velocity:h,delay:p,isHandoff:g,onUpdate:y}=a;this.resolvedAt=hs.now(),GW(t,u,d,h)||((Qi.instantAnimations||!p)&&y?.(Cy(t,a,s)),t[0]=t[t.length-1],ng(a),a.repeat=0);const b={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>XW?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...a,keyframes:t},S=!g&&QW(b)?new qW({...b,element:b.motionValue.owner.current}):new ky(b);S.finished.then(()=>this.notifyFinished()).catch(Fs),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),_W()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const JW=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function e3(e){const t=JW.exec(e);if(!t)return[,];const[,s,a,l]=t;return[`--${s??a}`,l]}function Mk(e,t,s=1){const[a,l]=e3(e);if(!a)return;const u=window.getComputedStyle(t).getPropertyValue(a);if(u){const d=u.trim();return Zj(d)?parseFloat(d):d}return xy(l)?Mk(l,t,s+1):l}function Dy(e,t){return e?.[t]??e?.default??e}const Pk=new Set(["width","height","top","left","right","bottom",...il]),t3={test:e=>e==="auto",parse:e=>e},Ok=e=>t=>t.test(e),Rk=[sl,rt,hi,Da,YI,qI,t3],dw=e=>Rk.find(Ok(e));function n3(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ek(e):!0}const s3=new Set(["brightness","contrast","saturate","opacity"]);function i3(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=s.match(by)||[];if(!a)return e;const l=s.replace(a,"");let u=s3.has(t)?1:0;return a!==s&&(u*=100),t+"("+u+l+")"}const a3=/\b([a-z-]*)\(.*?\)/gu,sg={...Ia,getAnimatableNone:e=>{const t=e.match(a3);return t?t.map(i3).join(" "):e}},hw={...sl,transform:Math.round},r3={rotate:Da,rotateX:Da,rotateY:Da,rotateZ:Da,scale:Cd,scaleX:Cd,scaleY:Cd,scaleZ:Cd,skew:Da,skewX:Da,skewY:Da,distance:rt,translateX:rt,translateY:rt,translateZ:rt,x:rt,y:rt,z:rt,perspective:rt,transformPerspective:rt,opacity:Rc,originX:JS,originY:JS,originZ:rt},Ey={borderWidth:rt,borderTopWidth:rt,borderRightWidth:rt,borderBottomWidth:rt,borderLeftWidth:rt,borderRadius:rt,radius:rt,borderTopLeftRadius:rt,borderTopRightRadius:rt,borderBottomRightRadius:rt,borderBottomLeftRadius:rt,width:rt,maxWidth:rt,height:rt,maxHeight:rt,top:rt,right:rt,bottom:rt,left:rt,padding:rt,paddingTop:rt,paddingRight:rt,paddingBottom:rt,paddingLeft:rt,margin:rt,marginTop:rt,marginRight:rt,marginBottom:rt,marginLeft:rt,backgroundPositionX:rt,backgroundPositionY:rt,...r3,zIndex:hw,fillOpacity:Rc,strokeOpacity:Rc,numOctaves:hw},o3={...Ey,color:Dn,backgroundColor:Dn,outlineColor:Dn,fill:Dn,stroke:Dn,borderColor:Dn,borderTopColor:Dn,borderRightColor:Dn,borderBottomColor:Dn,borderLeftColor:Dn,filter:sg,WebkitFilter:sg},_k=e=>o3[e];function Ik(e,t){let s=_k(e);return s!==sg&&(s=Ia),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const l3=new Set(["auto","none","0"]);function c3(e,t,s){let a=0,l;for(;a<e.length&&!l;){const u=e[a];typeof u=="string"&&!l3.has(u)&&_c(u).values.length&&(l=e[a]),a++}if(l&&s)for(const u of t)e[u]=Ik(s,l)}class u3 extends Ty{constructor(t,s,a,l,u){super(t,s,a,l,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:a}=this;if(!s||!s.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),xy(g))){const y=Mk(g,s.current);y!==void 0&&(t[p]=y),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Pk.has(a)||t.length!==2)return;const[l,u]=t,d=dw(l),h=dw(u);if(d!==h)if(ow(d)&&ow(h))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else jr[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,a=[];for(let l=0;l<t.length;l++)(t[l]===null||n3(t[l]))&&a.push(l);a.length&&c3(t,a,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=jr[a](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const l=s[s.length-1];l!==void 0&&t.getValue(a,l).jump(l,!1)}measureEndState(){const{element:t,name:s,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const l=t.getValue(s);l&&l.jump(this.measuredOrigin,!1);const u=a.length-1,d=a[u];a[u]=jr[s](t.measureViewportBox(),window.getComputedStyle(t.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,p])=>{t.getValue(h).set(p)}),this.resolveNoneKeyframes()}}function d3(e,t,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let a=document;const l=s?.[e]??a.querySelectorAll(e);return l?Array.from(l):[]}return Array.from(e)}const Wk=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Nk(e){return Jj(e)&&"offsetHeight"in e}const fw=30,h3=e=>!isNaN(parseFloat(e));class f3{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{const l=hs.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=hs.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=h3(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new py);const a=this.events[t].add(s);return t==="change"?()=>{a(),Zt.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,s,a){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=hs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>fw)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,fw);return tk(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qo(e,t){return new f3(e,t)}const{schedule:Ay}=hk(queueMicrotask,!1),$s={x:!1,y:!1};function Lk(){return $s.x||$s.y}function p3(e){return e==="x"||e==="y"?$s[e]?null:($s[e]=!0,()=>{$s[e]=!1}):$s.x||$s.y?null:($s.x=$s.y=!0,()=>{$s.x=$s.y=!1})}function zk(e,t){const s=d3(e),a=new AbortController,l={passive:!0,...t,signal:a.signal};return[s,l,()=>a.abort()]}function pw(e){return!(e.pointerType==="touch"||Lk())}function m3(e,t,s={}){const[a,l,u]=zk(e,s),d=h=>{if(!pw(h))return;const{target:p}=h,g=t(p,h);if(typeof g!="function"||!p)return;const y=v=>{pw(v)&&(g(v),p.removeEventListener("pointerleave",y))};p.addEventListener("pointerleave",y,l)};return a.forEach(h=>{h.addEventListener("pointerenter",d,l)}),u}const Vk=(e,t)=>t?e===t?!0:Vk(e,t.parentElement):!1,My=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,g3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function y3(e){return g3.has(e.tagName)||e.tabIndex!==-1}const Nd=new WeakSet;function mw(e){return t=>{t.key==="Enter"&&e(t)}}function gm(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const x3=(e,t)=>{const s=e.currentTarget;if(!s)return;const a=mw(()=>{if(Nd.has(s))return;gm(s,"down");const l=mw(()=>{gm(s,"up")}),u=()=>gm(s,"cancel");s.addEventListener("keyup",l,t),s.addEventListener("blur",u,t)});s.addEventListener("keydown",a,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",a),t)};function gw(e){return My(e)&&!Lk()}function b3(e,t,s={}){const[a,l,u]=zk(e,s),d=h=>{const p=h.currentTarget;if(!gw(h))return;Nd.add(p);const g=t(p,h),y=(S,T)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),Nd.has(p)&&Nd.delete(p),gw(S)&&typeof g=="function"&&g(S,{success:T})},v=S=>{y(S,p===window||p===document||s.useGlobalTarget||Vk(p,S.target))},b=S=>{y(S,!1)};window.addEventListener("pointerup",v,l),window.addEventListener("pointercancel",b,l)};return a.forEach(h=>{(s.useGlobalTarget?window:h).addEventListener("pointerdown",d,l),Nk(h)&&(h.addEventListener("focus",g=>x3(g,l)),!y3(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),u}function Bk(e){return Jj(e)&&"ownerSVGElement"in e}function v3(e){return Bk(e)&&e.tagName==="svg"}const $n=e=>!!(e&&e.getVelocity),S3=[...Rk,Dn,Ia],w3=e=>S3.find(Ok(e)),Py=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function yw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function C3(...e){return t=>{let s=!1;const a=e.map(l=>{const u=yw(l,t);return!s&&typeof u=="function"&&(s=!0),u});if(s)return()=>{for(let l=0;l<a.length;l++){const u=a[l];typeof u=="function"?u():yw(e[l],null)}}}}function j3(...e){return x.useCallback(C3(...e),e)}class k3 extends x.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const a=s.offsetParent,l=Nk(a)&&a.offsetWidth||0,u=this.props.sizeRef.current;u.height=s.offsetHeight||0,u.width=s.offsetWidth||0,u.top=s.offsetTop,u.left=s.offsetLeft,u.right=l-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function T3({children:e,isPresent:t,anchorX:s,root:a}){const l=x.useId(),u=x.useRef(null),d=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=x.useContext(Py),p=j3(u,e?.ref);return x.useInsertionEffect(()=>{const{width:g,height:y,top:v,left:b,right:S}=d.current;if(t||!u.current||!g||!y)return;const T=s==="left"?`left: ${b}`:`right: ${S}`;u.current.dataset.motionPopId=l;const k=document.createElement("style");h&&(k.nonce=h);const w=a??document.head;return w.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${T}px !important;
            top: ${v}px !important;
          }
        `),()=>{w.contains(k)&&w.removeChild(k)}},[t]),r.jsx(k3,{isPresent:t,childRef:u,sizeRef:d,children:x.cloneElement(e,{ref:p})})}const D3=({children:e,initial:t,isPresent:s,onExitComplete:a,custom:l,presenceAffectsLayout:u,mode:d,anchorX:h,root:p})=>{const g=ly(E3),y=x.useId();let v=!0,b=x.useMemo(()=>(v=!1,{id:y,initial:t,isPresent:s,custom:l,onExitComplete:S=>{g.set(S,!0);for(const T of g.values())if(!T)return;a&&a()},register:S=>(g.set(S,!1),()=>g.delete(S))}),[s,g,a]);return u&&v&&(b={...b}),x.useMemo(()=>{g.forEach((S,T)=>g.set(T,!1))},[s]),x.useEffect(()=>{!s&&!g.size&&a&&a()},[s]),d==="popLayout"&&(e=r.jsx(T3,{isPresent:s,anchorX:h,root:p,children:e})),r.jsx(Sh.Provider,{value:b,children:e})};function E3(){return new Map}function Fk(e=!0){const t=x.useContext(Sh);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:a,register:l}=t,u=x.useId();x.useEffect(()=>{if(e)return l(u)},[e]);const d=x.useCallback(()=>e&&a&&a(u),[u,a,e]);return!s&&a?[!1,d]:[!0]}const jd=e=>e.key||"";function xw(e){const t=[];return x.Children.forEach(e,s=>{x.isValidElement(s)&&t.push(s)}),t}const Xo=({children:e,custom:t,initial:s=!0,onExitComplete:a,presenceAffectsLayout:l=!0,mode:u="sync",propagate:d=!1,anchorX:h="left",root:p})=>{const[g,y]=Fk(d),v=x.useMemo(()=>xw(e),[e]),b=d&&!g?[]:v.map(jd),S=x.useRef(!0),T=x.useRef(v),k=ly(()=>new Map),[w,j]=x.useState(v),[D,A]=x.useState(v);Xj(()=>{S.current=!1,T.current=v;for(let M=0;M<D.length;M++){const R=jd(D[M]);b.includes(R)?k.delete(R):k.get(R)!==!0&&k.set(R,!1)}},[D,b.length,b.join("-")]);const _=[];if(v!==w){let M=[...v];for(let R=0;R<D.length;R++){const N=D[R],W=jd(N);b.includes(W)||(M.splice(R,0,N),_.push(N))}return u==="wait"&&_.length&&(M=_),A(xw(M)),j(v),null}const{forceRender:P}=x.useContext(oy);return r.jsx(r.Fragment,{children:D.map(M=>{const R=jd(M),N=d&&!g?!1:v===D||b.includes(R),W=()=>{if(k.has(R))k.set(R,!0);else return;let U=!0;k.forEach(V=>{V||(U=!1)}),U&&(P?.(),A(T.current),d&&y?.(),a&&a())};return r.jsx(D3,{isPresent:N,initial:!S.current||s?void 0:!1,custom:t,presenceAffectsLayout:l,mode:u,root:p,onExitComplete:N?void 0:W,anchorX:h,children:M},R)})})},Hk=x.createContext({strict:!1}),bw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zo={};for(const e in bw)Zo[e]={isEnabled:t=>bw[e].some(s=>!!t[s])};function A3(e){for(const t in e)Zo[t]={...Zo[t],...e[t]}}const M3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||M3.has(e)}let Uk=e=>!nh(e);function P3(e){typeof e=="function"&&(Uk=t=>t.startsWith("on")?!nh(t):e(t))}try{P3(require("@emotion/is-prop-valid").default)}catch{}function O3(e,t,s){const a={};for(const l in e)l==="values"&&typeof e.values=="object"||(Uk(l)||s===!0&&nh(l)||!t&&!nh(l)||e.draggable&&l.startsWith("onDrag"))&&(a[l]=e[l]);return a}const wh=x.createContext({});function Ch(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ic(e){return typeof e=="string"||Array.isArray(e)}const Oy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ry=["initial",...Oy];function jh(e){return Ch(e.animate)||Ry.some(t=>Ic(e[t]))}function qk(e){return!!(jh(e)||e.variants)}function R3(e,t){if(jh(e)){const{initial:s,animate:a}=e;return{initial:s===!1||Ic(s)?s:void 0,animate:Ic(a)?a:void 0}}return e.inherit!==!1?t:{}}function _3(e){const{initial:t,animate:s}=R3(e,x.useContext(wh));return x.useMemo(()=>({initial:t,animate:s}),[vw(t),vw(s)])}function vw(e){return Array.isArray(e)?e.join(" "):e}const Wc={};function I3(e){for(const t in e)Wc[t]=e[t],yy(t)&&(Wc[t].isCSSVariable=!0)}function Yk(e,{layout:t,layoutId:s}){return al.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!Wc[e]||e==="opacity")}const W3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},N3=il.length;function L3(e,t,s){let a="",l=!0;for(let u=0;u<N3;u++){const d=il[u],h=e[d];if(h===void 0)continue;let p=!0;if(typeof h=="number"?p=h===(d.startsWith("scale")?1:0):p=parseFloat(h)===0,!p||s){const g=Wk(h,Ey[d]);if(!p){l=!1;const y=W3[d]||d;a+=`${y}(${g}) `}s&&(t[d]=g)}}return a=a.trim(),s?a=s(t,l?"":a):l&&(a="none"),a}function _y(e,t,s){const{style:a,vars:l,transformOrigin:u}=e;let d=!1,h=!1;for(const p in t){const g=t[p];if(al.has(p)){d=!0;continue}else if(yy(p)){l[p]=g;continue}else{const y=Wk(g,Ey[p]);p.startsWith("origin")?(h=!0,u[p]=y):a[p]=y}}if(t.transform||(d||s?a.transform=L3(t,e.transform,s):a.transform&&(a.transform="none")),h){const{originX:p="50%",originY:g="50%",originZ:y=0}=u;a.transformOrigin=`${p} ${g} ${y}`}}const Iy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Gk(e,t,s){for(const a in t)!$n(t[a])&&!Yk(a,s)&&(e[a]=t[a])}function z3({transformTemplate:e},t){return x.useMemo(()=>{const s=Iy();return _y(s,t,e),Object.assign({},s.vars,s.style)},[t])}function V3(e,t){const s=e.style||{},a={};return Gk(a,s,e),Object.assign(a,z3(e,t)),a}function B3(e,t){const s={},a=V3(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=a,s}const F3={offset:"stroke-dashoffset",array:"stroke-dasharray"},H3={offset:"strokeDashoffset",array:"strokeDasharray"};function U3(e,t,s=1,a=0,l=!0){e.pathLength=1;const u=l?F3:H3;e[u.offset]=rt.transform(-a);const d=rt.transform(t),h=rt.transform(s);e[u.array]=`${d} ${h}`}function $k(e,{attrX:t,attrY:s,attrScale:a,pathLength:l,pathSpacing:u=1,pathOffset:d=0,...h},p,g,y){if(_y(e,h,g),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:b}=e;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=y?.transformBox??"fill-box",delete v.transformBox),t!==void 0&&(v.x=t),s!==void 0&&(v.y=s),a!==void 0&&(v.scale=a),l!==void 0&&U3(v,l,u,d,!1)}const Kk=()=>({...Iy(),attrs:{}}),Qk=e=>typeof e=="string"&&e.toLowerCase()==="svg";function q3(e,t,s,a){const l=x.useMemo(()=>{const u=Kk();return $k(u,t,Qk(a),e.transformTemplate,e.style),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};Gk(u,e.style,e),l.style={...u,...l.style}}return l}const Y3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Wy(e){return typeof e!="string"||e.includes("-")?!1:!!(Y3.indexOf(e)>-1||/[A-Z]/u.test(e))}function G3(e,t,s,{latestValues:a},l,u=!1){const h=(Wy(e)?q3:B3)(t,a,l,e),p=O3(t,typeof e=="string",u),g=e!==x.Fragment?{...p,...h,ref:s}:{},{children:y}=t,v=x.useMemo(()=>$n(y)?y.get():y,[y]);return x.createElement(e,{...g,children:v})}function Sw(e){const t=[{},{}];return e?.values.forEach((s,a)=>{t[0][a]=s.get(),t[1][a]=s.getVelocity()}),t}function Ny(e,t,s,a){if(typeof t=="function"){const[l,u]=Sw(a);t=t(s!==void 0?s:e.custom,l,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[l,u]=Sw(a);t=t(s!==void 0?s:e.custom,l,u)}return t}function Ld(e){return $n(e)?e.get():e}function $3({scrapeMotionValuesFromProps:e,createRenderState:t},s,a,l){return{latestValues:K3(s,a,l,e),renderState:t()}}function K3(e,t,s,a){const l={},u=a(e,{});for(const b in u)l[b]=Ld(u[b]);let{initial:d,animate:h}=e;const p=jh(e),g=qk(e);t&&g&&!p&&e.inherit!==!1&&(d===void 0&&(d=t.initial),h===void 0&&(h=t.animate));let y=s?s.initial===!1:!1;y=y||d===!1;const v=y?h:d;if(v&&typeof v!="boolean"&&!Ch(v)){const b=Array.isArray(v)?v:[v];for(let S=0;S<b.length;S++){const T=Ny(e,b[S]);if(T){const{transitionEnd:k,transition:w,...j}=T;for(const D in j){let A=j[D];if(Array.isArray(A)){const _=y?A.length-1:0;A=A[_]}A!==null&&(l[D]=A)}for(const D in k)l[D]=k[D]}}}return l}const Xk=e=>(t,s)=>{const a=x.useContext(wh),l=x.useContext(Sh),u=()=>$3(e,t,a,l);return s?u():ly(u)};function Ly(e,t,s){const{style:a}=e,l={};for(const u in a)($n(a[u])||t.style&&$n(t.style[u])||Yk(u,e)||s?.getValue(u)?.liveStyle!==void 0)&&(l[u]=a[u]);return l}const Q3=Xk({scrapeMotionValuesFromProps:Ly,createRenderState:Iy});function Zk(e,t,s){const a=Ly(e,t,s);for(const l in e)if($n(e[l])||$n(t[l])){const u=il.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;a[u]=e[l]}return a}const X3=Xk({scrapeMotionValuesFromProps:Zk,createRenderState:Kk}),Z3=Symbol.for("motionComponentSymbol");function Oo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function J3(e,t,s){return x.useCallback(a=>{a&&e.onMount&&e.onMount(a),t&&(a?t.mount(a):t.unmount()),s&&(typeof s=="function"?s(a):Oo(s)&&(s.current=a))},[t])}const zy=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),eN="framerAppearId",Jk="data-"+zy(eN),eT=x.createContext({});function tN(e,t,s,a,l){const{visualElement:u}=x.useContext(wh),d=x.useContext(Hk),h=x.useContext(Sh),p=x.useContext(Py).reducedMotion,g=x.useRef(null);a=a||d.renderer,!g.current&&a&&(g.current=a(e,{visualState:t,parent:u,props:s,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p}));const y=g.current,v=x.useContext(eT);y&&!y.projection&&l&&(y.type==="html"||y.type==="svg")&&nN(g.current,s,l,v);const b=x.useRef(!1);x.useInsertionEffect(()=>{y&&b.current&&y.update(s,h)});const S=s[Jk],T=x.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return Xj(()=>{y&&(b.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),T.current&&y.animationState&&y.animationState.animateChanges())}),x.useEffect(()=>{y&&(!T.current&&y.animationState&&y.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),T.current=!1),y.enteringChildren=void 0)}),y}function nN(e,t,s,a){const{layoutId:l,layout:u,drag:d,dragConstraints:h,layoutScroll:p,layoutRoot:g,layoutCrossfade:y}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:tT(e.parent)),e.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||h&&Oo(h),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,crossfade:y,layoutScroll:p,layoutRoot:g})}function tT(e){if(e)return e.options.allowProjection!==!1?e.projection:tT(e.parent)}function ym(e,{forwardMotionProps:t=!1}={},s,a){s&&A3(s);const l=Wy(e)?X3:Q3;function u(h,p){let g;const y={...x.useContext(Py),...h,layoutId:sN(h)},{isStatic:v}=y,b=_3(h),S=l(h,v);if(!v&&cy){iN();const T=aN(y);g=T.MeasureLayout,b.visualElement=tN(e,S,y,a,T.ProjectionNode)}return r.jsxs(wh.Provider,{value:b,children:[g&&b.visualElement?r.jsx(g,{visualElement:b.visualElement,...y}):null,G3(e,h,J3(S,b.visualElement,p),S,v,t)]})}u.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const d=x.forwardRef(u);return d[Z3]=e,d}function sN({layoutId:e}){const t=x.useContext(oy).id;return t&&e!==void 0?t+"-"+e:e}function iN(e,t){x.useContext(Hk).strict}function aN(e){const{drag:t,layout:s}=Zo;if(!t&&!s)return{};const a={...t,...s};return{MeasureLayout:t?.isEnabled(e)||s?.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function rN(e,t){if(typeof Proxy>"u")return ym;const s=new Map,a=(u,d)=>ym(u,d,e,t),l=(u,d)=>a(u,d);return new Proxy(l,{get:(u,d)=>d==="create"?a:(s.has(d)||s.set(d,ym(d,void 0,e,t)),s.get(d))})}function nT({top:e,left:t,right:s,bottom:a}){return{x:{min:t,max:s},y:{min:e,max:a}}}function oN({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function lN(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:a.y,right:a.x}}function xm(e){return e===void 0||e===1}function ig({scale:e,scaleX:t,scaleY:s}){return!xm(e)||!xm(t)||!xm(s)}function fr(e){return ig(e)||sT(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function sT(e){return ww(e.x)||ww(e.y)}function ww(e){return e&&e!=="0%"}function sh(e,t,s){const a=e-s,l=t*a;return s+l}function Cw(e,t,s,a,l){return l!==void 0&&(e=sh(e,l,a)),sh(e,s,a)+t}function ag(e,t=0,s=1,a,l){e.min=Cw(e.min,t,s,a,l),e.max=Cw(e.max,t,s,a,l)}function iT(e,{x:t,y:s}){ag(e.x,t.translate,t.scale,t.originPoint),ag(e.y,s.translate,s.scale,s.originPoint)}const jw=.999999999999,kw=1.0000000000001;function cN(e,t,s,a=!1){const l=s.length;if(!l)return;t.x=t.y=1;let u,d;for(let h=0;h<l;h++){u=s[h],d=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&_o(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),d&&(t.x*=d.x.scale,t.y*=d.y.scale,iT(e,d)),a&&fr(u.latestValues)&&_o(e,u.latestValues))}t.x<kw&&t.x>jw&&(t.x=1),t.y<kw&&t.y>jw&&(t.y=1)}function Ro(e,t){e.min=e.min+t,e.max=e.max+t}function Tw(e,t,s,a,l=.5){const u=an(e.min,e.max,l);ag(e,t,s,u,a)}function _o(e,t){Tw(e.x,t.x,t.scaleX,t.scale,t.originX),Tw(e.y,t.y,t.scaleY,t.scale,t.originY)}function aT(e,t){return nT(lN(e.getBoundingClientRect(),t))}function uN(e,t,s){const a=aT(e,s),{scroll:l}=t;return l&&(Ro(a.x,l.offset.x),Ro(a.y,l.offset.y)),a}const Dw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Io=()=>({x:Dw(),y:Dw()}),Ew=()=>({min:0,max:0}),yn=()=>({x:Ew(),y:Ew()}),rg={current:null},rT={current:!1};function dN(){if(rT.current=!0,!!cy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>rg.current=e.matches;e.addEventListener("change",t),t()}else rg.current=!1}const hN=new WeakMap;function fN(e,t,s){for(const a in t){const l=t[a],u=s[a];if($n(l))e.addValue(a,l);else if($n(u))e.addValue(a,Qo(l,{owner:e}));else if(u!==l)if(e.hasValue(a)){const d=e.getValue(a);d.liveStyle===!0?d.jump(l):d.hasAnimated||d.set(l)}else{const d=e.getStaticValue(a);e.addValue(a,Qo(d!==void 0?d:l,{owner:e}))}}for(const a in s)t[a]===void 0&&e.removeValue(a);return t}const Aw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class pN{scrapeMotionValuesFromProps(t,s,a){return{}}constructor({parent:t,props:s,presenceContext:a,reducedMotionConfig:l,blockInitialAnimation:u,visualState:d},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ty,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=hs.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Zt.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=d;this.latestValues=p,this.baseTarget={...p},this.initialValues=s.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=s,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=l,this.options=h,this.blockInitialAnimation=!!u,this.isControllingVariants=jh(s),this.isVariantNode=qk(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(s,{},this);for(const b in v){const S=v[b];p[b]!==void 0&&$n(S)&&S.set(p[b])}}mount(t){this.current=t,hN.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),rT.current||dN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),_a(this.notifyUpdate),_a(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=al.has(t);a&&this.onBindTransform&&this.onBindTransform();const l=s.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&Zt.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{l(),u&&u(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Zo){const s=Zo[t];if(!s)continue;const{isEnabled:a,Feature:l}=s;if(!this.features[t]&&l&&a(this.props)&&(this.features[t]=new l(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):yn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let a=0;a<Aw.length;a++){const l=Aw[a];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u="on"+l,d=t[u];d&&(this.propEventSubscriptions[l]=this.on(l,d))}this.prevMotionValues=fN(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const a=this.values.get(t);s!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&s!==void 0&&(a=Qo(s===null?void 0:s,{owner:this}),this.addValue(t,a)),a}readValue(t,s){let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(Zj(a)||ek(a))?a=parseFloat(a):!w3(a)&&Ia.test(s)&&(a=Ik(t,s)),this.setBaseTarget(t,$n(a)?a.get():a)),$n(a)?a.get():a}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){const{initial:s}=this.props;let a;if(typeof s=="string"||typeof s=="object"){const u=Ny(this.props,s,this.presenceContext?.custom);u&&(a=u[t])}if(s&&a!==void 0)return a;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!$n(l)?l:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new py),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){Ay.render(this.render)}}class oT extends pN{constructor(){super(...arguments),this.KeyframeResolver=u3}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:a}){delete s[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;$n(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function lT(e,{style:t,vars:s},a,l){const u=e.style;let d;for(d in t)u[d]=t[d];l?.applyProjectionStyles(u,a);for(d in s)u.setProperty(d,s[d])}function mN(e){return window.getComputedStyle(e)}class gN extends oT{constructor(){super(...arguments),this.type="html",this.renderInstance=lT}readValueFromInstance(t,s){if(al.has(s))return this.projection?.isProjecting?Xm(s):AW(t,s);{const a=mN(t),l=(yy(s)?a.getPropertyValue(s):a[s])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:s}){return aT(t,s)}build(t,s,a){_y(t,s,a.transformTemplate)}scrapeMotionValuesFromProps(t,s,a){return Ly(t,s,a)}}const cT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function yN(e,t,s,a){lT(e,t,void 0,a);for(const l in t.attrs)e.setAttribute(cT.has(l)?l:zy(l),t.attrs[l])}class xN extends oT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=yn}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(al.has(s)){const a=_k(s);return a&&a.default||0}return s=cT.has(s)?s:zy(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,a){return Zk(t,s,a)}build(t,s,a){$k(t,s,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(t,s,a,l){yN(t,s,a,l)}mount(t){this.isSVGTag=Qk(t.tagName),super.mount(t)}}const bN=(e,t)=>Wy(e)?new xN(t):new gN(t,{allowProjection:e!==x.Fragment});function Vo(e,t,s){const a=e.getProps();return Ny(a,t,s!==void 0?s:a.custom,e)}const og=e=>Array.isArray(e);function vN(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,Qo(s))}function SN(e){return og(e)?e[e.length-1]||0:e}function wN(e,t){const s=Vo(e,t);let{transitionEnd:a={},transition:l={},...u}=s||{};u={...u,...a};for(const d in u){const h=SN(u[d]);vN(e,d,h)}}function CN(e){return!!($n(e)&&e.add)}function lg(e,t){const s=e.getValue("willChange");if(CN(s))return s.add(t);if(!s&&Qi.WillChange){const a=new Qi.WillChange("auto");e.addValue("willChange",a),a.add(t)}}function uT(e){return e.props[Jk]}const jN=e=>e!==null;function kN(e,{repeat:t,repeatType:s="loop"},a){const l=e.filter(jN),u=t&&s!=="loop"&&t%2===1?0:l.length-1;return l[u]}const TN={type:"spring",stiffness:500,damping:25,restSpeed:10},DN=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),EN={type:"keyframes",duration:.8},AN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},MN=(e,{keyframes:t})=>t.length>2?EN:al.has(e)?e.startsWith("scale")?DN(t[1]):TN:AN;function PN({when:e,delay:t,delayChildren:s,staggerChildren:a,staggerDirection:l,repeat:u,repeatType:d,repeatDelay:h,from:p,elapsed:g,...y}){return!!Object.keys(y).length}const Vy=(e,t,s,a={},l,u)=>d=>{const h=Dy(a,e)||{},p=h.delay||a.delay||0;let{elapsed:g=0}=a;g=g-di(p);const y={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-g,onUpdate:b=>{t.set(b),h.onUpdate&&h.onUpdate(b)},onComplete:()=>{d(),h.onComplete&&h.onComplete()},name:e,motionValue:t,element:u?void 0:l};PN(h)||Object.assign(y,MN(e,y)),y.duration&&(y.duration=di(y.duration)),y.repeatDelay&&(y.repeatDelay=di(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(ng(y),y.delay===0&&(v=!0)),(Qi.instantAnimations||Qi.skipAnimations)&&(v=!0,ng(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,v&&!u&&t.get()!==void 0){const b=kN(y.keyframes,h);if(b!==void 0){Zt.update(()=>{y.onUpdate(b),y.onComplete()});return}}return h.isSync?new ky(y):new ZW(y)};function ON({protectedKeys:e,needsAnimating:t},s){const a=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,a}function dT(e,t,{delay:s=0,transitionOverride:a,type:l}={}){let{transition:u=e.getDefaultTransition(),transitionEnd:d,...h}=t;a&&(u=a);const p=[],g=l&&e.animationState&&e.animationState.getState()[l];for(const y in h){const v=e.getValue(y,e.latestValues[y]??null),b=h[y];if(b===void 0||g&&ON(g,y))continue;const S={delay:s,...Dy(u||{},y)},T=v.get();if(T!==void 0&&!v.isAnimating&&!Array.isArray(b)&&b===T&&!S.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const j=uT(e);if(j){const D=window.MotionHandoffAnimation(j,y,Zt);D!==null&&(S.startTime=D,k=!0)}}lg(e,y),v.start(Vy(y,v,b,e.shouldReduceMotion&&Pk.has(y)?{type:!1}:S,e,k));const w=v.animation;w&&p.push(w)}return d&&Promise.all(p).then(()=>{Zt.update(()=>{d&&wN(e,d)})}),p}function hT(e,t,s,a=0,l=1){const u=Array.from(e).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),d=e.size,h=(d-1)*a;return typeof s=="function"?s(u,d):l===1?u*a:h-u*a}function cg(e,t,s={}){const a=Vo(e,t,s.type==="exit"?e.presenceContext?.custom:void 0);let{transition:l=e.getDefaultTransition()||{}}=a||{};s.transitionOverride&&(l=s.transitionOverride);const u=a?()=>Promise.all(dT(e,a,s)):()=>Promise.resolve(),d=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:v}=l;return RN(e,t,p,g,y,v,s)}:()=>Promise.resolve(),{when:h}=l;if(h){const[p,g]=h==="beforeChildren"?[u,d]:[d,u];return p().then(()=>g())}else return Promise.all([u(),d(s.delay)])}function RN(e,t,s=0,a=0,l=0,u=1,d){const h=[];for(const p of e.variantChildren)p.notify("AnimationStart",t),h.push(cg(p,t,{...d,delay:s+(typeof a=="function"?0:a)+hT(e.variantChildren,p,a,l,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(h)}function _N(e,t,s={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const l=t.map(u=>cg(e,u,s));a=Promise.all(l)}else if(typeof t=="string")a=cg(e,t,s);else{const l=typeof t=="function"?Vo(e,t,s.custom):t;a=Promise.all(dT(e,l,s))}return a.then(()=>{e.notify("AnimationComplete",t)})}function fT(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let a=0;a<s;a++)if(t[a]!==e[a])return!1;return!0}const IN=Ry.length;function pT(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?pT(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<IN;s++){const a=Ry[s],l=e.props[a];(Ic(l)||l===!1)&&(t[a]=l)}return t}const WN=[...Oy].reverse(),NN=Oy.length;function LN(e){return t=>Promise.all(t.map(({animation:s,options:a})=>_N(e,s,a)))}function zN(e){let t=LN(e),s=Mw(),a=!0;const l=p=>(g,y)=>{const v=Vo(e,y,p==="exit"?e.presenceContext?.custom:void 0);if(v){const{transition:b,transitionEnd:S,...T}=v;g={...g,...T,...S}}return g};function u(p){t=p(e)}function d(p){const{props:g}=e,y=pT(e.parent)||{},v=[],b=new Set;let S={},T=1/0;for(let w=0;w<NN;w++){const j=WN[w],D=s[j],A=g[j]!==void 0?g[j]:y[j],_=Ic(A),P=j===p?D.isActive:null;P===!1&&(T=w);let M=A===y[j]&&A!==g[j]&&_;if(M&&a&&e.manuallyAnimateOnMount&&(M=!1),D.protectedKeys={...S},!D.isActive&&P===null||!A&&!D.prevProp||Ch(A)||typeof A=="boolean")continue;const R=VN(D.prevProp,A);let N=R||j===p&&D.isActive&&!M&&_||w>T&&_,W=!1;const U=Array.isArray(A)?A:[A];let V=U.reduce(l(j),{});P===!1&&(V={});const{prevResolvedValues:z={}}=D,de={...z,...V},F=q=>{N=!0,b.has(q)&&(W=!0,b.delete(q)),D.needsAnimating[q]=!0;const le=e.getValue(q);le&&(le.liveStyle=!1)};for(const q in de){const le=V[q],he=z[q];if(S.hasOwnProperty(q))continue;let J=!1;og(le)&&og(he)?J=!fT(le,he):J=le!==he,J?le!=null?F(q):b.add(q):le!==void 0&&b.has(q)?F(q):D.protectedKeys[q]=!0}D.prevProp=A,D.prevResolvedValues=V,D.isActive&&(S={...S,...V}),a&&e.blockInitialAnimation&&(N=!1);const K=M&&R;N&&(!K||W)&&v.push(...U.map(q=>{const le={type:j};if(typeof q=="string"&&a&&!K&&e.manuallyAnimateOnMount&&e.parent){const{parent:he}=e,J=Vo(he,q);if(he.enteringChildren&&J){const{delayChildren:ee}=J.transition||{};le.delay=hT(he.enteringChildren,e,ee)}}return{animation:q,options:le}}))}if(b.size){const w={};if(typeof g.initial!="boolean"){const j=Vo(e,Array.isArray(g.initial)?g.initial[0]:g.initial);j&&j.transition&&(w.transition=j.transition)}b.forEach(j=>{const D=e.getBaseTarget(j),A=e.getValue(j);A&&(A.liveStyle=!0),w[j]=D??null}),v.push({animation:w})}let k=!!v.length;return a&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(k=!1),a=!1,k?t(v):Promise.resolve()}function h(p,g){if(s[p].isActive===g)return Promise.resolve();e.variantChildren?.forEach(v=>v.animationState?.setActive(p,g)),s[p].isActive=g;const y=d(p);for(const v in s)s[v].protectedKeys={};return y}return{animateChanges:d,setActive:h,setAnimateFunction:u,getState:()=>s,reset:()=>{s=Mw()}}}function VN(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!fT(t,e):!1}function rr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Mw(){return{animate:rr(!0),whileInView:rr(),whileHover:rr(),whileTap:rr(),whileDrag:rr(),whileFocus:rr(),exit:rr()}}class za{constructor(t){this.isMounted=!1,this.node=t}update(){}}class BN extends za{constructor(t){super(t),t.animationState||(t.animationState=zN(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ch(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let FN=0;class HN extends za{constructor(){super(...arguments),this.id=FN++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const l=this.node.animationState.setActive("exit",!t);s&&!t&&l.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const UN={animation:{Feature:BN},exit:{Feature:HN}};function Nc(e,t,s,a={passive:!0}){return e.addEventListener(t,s,a),()=>e.removeEventListener(t,s)}function tu(e){return{point:{x:e.pageX,y:e.pageY}}}const qN=e=>t=>My(t)&&e(t,tu(t));function xc(e,t,s,a){return Nc(e,t,qN(s),a)}const mT=1e-4,YN=1-mT,GN=1+mT,gT=.01,$N=0-gT,KN=0+gT;function Jn(e){return e.max-e.min}function QN(e,t,s){return Math.abs(e-t)<=s}function Pw(e,t,s,a=.5){e.origin=a,e.originPoint=an(t.min,t.max,e.origin),e.scale=Jn(s)/Jn(t),e.translate=an(s.min,s.max,e.origin)-e.originPoint,(e.scale>=YN&&e.scale<=GN||isNaN(e.scale))&&(e.scale=1),(e.translate>=$N&&e.translate<=KN||isNaN(e.translate))&&(e.translate=0)}function bc(e,t,s,a){Pw(e.x,t.x,s.x,a?a.originX:void 0),Pw(e.y,t.y,s.y,a?a.originY:void 0)}function Ow(e,t,s){e.min=s.min+t.min,e.max=e.min+Jn(t)}function XN(e,t,s){Ow(e.x,t.x,s.x),Ow(e.y,t.y,s.y)}function Rw(e,t,s){e.min=t.min-s.min,e.max=e.min+Jn(t)}function vc(e,t,s){Rw(e.x,t.x,s.x),Rw(e.y,t.y,s.y)}function Vs(e){return[e("x"),e("y")]}const yT=({current:e})=>e?e.ownerDocument.defaultView:null,_w=(e,t)=>Math.abs(e-t);function ZN(e,t){const s=_w(e.x,t.x),a=_w(e.y,t.y);return Math.sqrt(s**2+a**2)}class xT{constructor(t,s,{transformPagePoint:a,contextWindow:l=window,dragSnapToOrigin:u=!1,distanceThreshold:d=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=vm(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,T=ZN(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!T)return;const{point:k}=b,{timestamp:w}=Hn;this.history.push({...k,timestamp:w});const{onStart:j,onMove:D}=this.handlers;S||(j&&j(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,b)},this.handlePointerMove=(b,S)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=bm(S,this.transformPagePoint),Zt.update(this.updatePoint,!0)},this.handlePointerUp=(b,S)=>{this.end();const{onEnd:T,onSessionEnd:k,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=vm(b.type==="pointercancel"?this.lastMoveEventInfo:bm(S,this.transformPagePoint),this.history);this.startEvent&&T&&T(b,j),k&&k(b,j)},!My(t))return;this.dragSnapToOrigin=u,this.handlers=s,this.transformPagePoint=a,this.distanceThreshold=d,this.contextWindow=l||window;const h=tu(t),p=bm(h,this.transformPagePoint),{point:g}=p,{timestamp:y}=Hn;this.history=[{...g,timestamp:y}];const{onSessionStart:v}=s;v&&v(t,vm(p,this.history)),this.removeListeners=Zc(xc(this.contextWindow,"pointermove",this.handlePointerMove),xc(this.contextWindow,"pointerup",this.handlePointerUp),xc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),_a(this.updatePoint)}}function bm(e,t){return t?{point:t(e.point)}:e}function Iw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function vm({point:e},t){return{point:e,delta:Iw(e,bT(t)),offset:Iw(e,JN(t)),velocity:eL(t,.1)}}function JN(e){return e[0]}function bT(e){return e[e.length-1]}function eL(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,a=null;const l=bT(e);for(;s>=0&&(a=e[s],!(l.timestamp-a.timestamp>di(t)));)s--;if(!a)return{x:0,y:0};const u=Bs(l.timestamp-a.timestamp);if(u===0)return{x:0,y:0};const d={x:(l.x-a.x)/u,y:(l.y-a.y)/u};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function tL(e,{min:t,max:s},a){return t!==void 0&&e<t?e=a?an(t,e,a.min):Math.max(e,t):s!==void 0&&e>s&&(e=a?an(s,e,a.max):Math.min(e,s)),e}function Ww(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function nL(e,{top:t,left:s,bottom:a,right:l}){return{x:Ww(e.x,s,l),y:Ww(e.y,t,a)}}function Nw(e,t){let s=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,a]=[a,s]),{min:s,max:a}}function sL(e,t){return{x:Nw(e.x,t.x),y:Nw(e.y,t.y)}}function iL(e,t){let s=.5;const a=Jn(e),l=Jn(t);return l>a?s=Oc(t.min,t.max-a,e.min):a>l&&(s=Oc(e.min,e.max-l,t.min)),Ki(0,1,s)}function aL(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const ug=.35;function rL(e=ug){return e===!1?e=0:e===!0&&(e=ug),{x:Lw(e,"left","right"),y:Lw(e,"top","bottom")}}function Lw(e,t,s){return{min:zw(e,t),max:zw(e,s)}}function zw(e,t){return typeof e=="number"?e:e[t]||0}const oL=new WeakMap;class lL{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=yn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:a}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const u=v=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(tu(v).point)},d=(v,b)=>{const{drag:S,dragPropagation:T,onDragStart:k}=this.getProps();if(S&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=p3(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vs(j=>{let D=this.getAxisMotionValue(j).get()||0;if(hi.test(D)){const{projection:A}=this.visualElement;if(A&&A.layout){const _=A.layout.layoutBox[j];_&&(D=Jn(_)*(parseFloat(D)/100))}}this.originPoint[j]=D}),k&&Zt.postRender(()=>k(v,b)),lg(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},h=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b;const{dragPropagation:S,dragDirectionLock:T,onDirectionLock:k,onDrag:w}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:j}=b;if(T&&this.currentDirection===null){this.currentDirection=cL(j),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",b.point,j),this.updateAxis("y",b.point,j),this.visualElement.render(),w&&w(v,b)},p=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b,this.stop(v,b),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Vs(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new xT(t,{onSessionStart:u,onStart:d,onMove:h,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:a,contextWindow:yT(this.visualElement)})}stop(t,s){const a=t||this.latestPointerEvent,l=s||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!l||!a)return;const{velocity:d}=l;this.startAnimation(d);const{onDragEnd:h}=this.getProps();h&&Zt.postRender(()=>h(a,l))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,a){const{drag:l}=this.getProps();if(!a||!kd(t,l,this.currentDirection))return;const u=this.getAxisMotionValue(t);let d=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(d=tL(d,this.constraints[t],this.elastic[t])),u.set(d)}resolveConstraints(){const{dragConstraints:t,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,l=this.constraints;t&&Oo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=nL(a.layoutBox,t):this.constraints=!1,this.elastic=rL(s),l!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Vs(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=aL(a.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Oo(t))return!1;const a=t.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=uN(a,l.root,this.visualElement.getTransformPagePoint());let d=sL(l.layout.layoutBox,u);if(s){const h=s(oN(d));this.hasMutatedConstraints=!!h,h&&(d=nT(h))}return d}startAnimation(t){const{drag:s,dragMomentum:a,dragElastic:l,dragTransition:u,dragSnapToOrigin:d,onDragTransitionEnd:h}=this.getProps(),p=this.constraints||{},g=Vs(y=>{if(!kd(y,s,this.currentDirection))return;let v=p&&p[y]||{};d&&(v={min:0,max:0});const b=l?200:1e6,S=l?40:1e7,T={type:"inertia",velocity:a?t[y]:0,bounceStiffness:b,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...u,...v};return this.startAxisValueAnimation(y,T)});return Promise.all(g).then(h)}startAxisValueAnimation(t,s){const a=this.getAxisMotionValue(t);return lg(this.visualElement,t),a.start(Vy(t,a,0,s,this.visualElement,!1))}stopAnimation(){Vs(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Vs(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),l=a[s];return l||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){Vs(s=>{const{drag:a}=this.getProps();if(!kd(s,a,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(s);if(l&&l.layout){const{min:d,max:h}=l.layout.layoutBox[s];u.set(t[s]-an(d,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:a}=this.visualElement;if(!Oo(s)||!a||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Vs(d=>{const h=this.getAxisMotionValue(d);if(h&&this.constraints!==!1){const p=h.get();l[d]=iL({min:p,max:p},this.constraints[d])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Vs(d=>{if(!kd(d,t,null))return;const h=this.getAxisMotionValue(d),{min:p,max:g}=this.constraints[d];h.set(an(p,g,l[d]))})}addListeners(){if(!this.visualElement.current)return;oL.set(this.visualElement,this);const t=this.visualElement.current,s=xc(t,"pointerdown",p=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(p)}),a=()=>{const{dragConstraints:p}=this.getProps();Oo(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),Zt.read(a);const d=Nc(window,"resize",()=>this.scalePositionWithinConstraints()),h=l.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Vs(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=p[y].translate,v.set(v.get()+p[y].translate))}),this.visualElement.render())}));return()=>{d(),s(),u(),h&&h()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:a=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:d=ug,dragMomentum:h=!0}=t;return{...t,drag:s,dragDirectionLock:a,dragPropagation:l,dragConstraints:u,dragElastic:d,dragMomentum:h}}}function kd(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function cL(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class uL extends za{constructor(t){super(t),this.removeGroupControls=Fs,this.removeListeners=Fs,this.controls=new lL(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fs}unmount(){this.removeGroupControls(),this.removeListeners()}}const Vw=e=>(t,s)=>{e&&Zt.postRender(()=>e(t,s))};class dL extends za{constructor(){super(...arguments),this.removePointerDownListener=Fs}onPointerDown(t){this.session=new xT(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yT(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:a,onPanEnd:l}=this.node.getProps();return{onSessionStart:Vw(t),onStart:Vw(s),onMove:a,onEnd:(u,d)=>{delete this.session,l&&Zt.postRender(()=>l(u,d))}}}mount(){this.removePointerDownListener=xc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Bw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const nc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(rt.test(e))e=parseFloat(e);else return e;const s=Bw(e,t.target.x),a=Bw(e,t.target.y);return`${s}% ${a}%`}},hL={correct:(e,{treeScale:t,projectionDelta:s})=>{const a=e,l=Ia.parse(e);if(l.length>5)return a;const u=Ia.createTransformer(e),d=typeof l[0]!="number"?1:0,h=s.x.scale*t.x,p=s.y.scale*t.y;l[0+d]/=h,l[1+d]/=p;const g=an(h,p,.5);return typeof l[2+d]=="number"&&(l[2+d]/=g),typeof l[3+d]=="number"&&(l[3+d]/=g),u(l)}};let Sm=!1;class fL extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:a,layoutId:l}=this.props,{projection:u}=t;I3(pL),u&&(s.group&&s.group.add(u),a&&a.register&&l&&a.register(u),Sm&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),zd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:a,drag:l,isPresent:u}=this.props,{projection:d}=a;return d&&(d.isPresent=u,Sm=!0,l||t.layoutDependency!==s||s===void 0||t.isPresent!==u?d.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?d.promote():d.relegate()||Zt.postRender(()=>{const h=d.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Ay.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:a}=this.props,{projection:l}=t;Sm=!0,l&&(l.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(l),a&&a.deregister&&a.deregister(l))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function vT(e){const[t,s]=Fk(),a=x.useContext(oy);return r.jsx(fL,{...e,layoutGroup:a,switchLayoutGroup:x.useContext(eT),isPresent:t,safeToRemove:s})}const pL={borderRadius:{...nc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:nc,borderTopRightRadius:nc,borderBottomLeftRadius:nc,borderBottomRightRadius:nc,boxShadow:hL};function mL(e,t,s){const a=$n(e)?e:Qo(e);return a.start(Vy("",a,t,s)),a.animation}const gL=(e,t)=>e.depth-t.depth;class yL{constructor(){this.children=[],this.isDirty=!1}add(t){uy(this.children,t),this.isDirty=!0}remove(t){dy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(gL),this.isDirty=!1,this.children.forEach(t)}}function xL(e,t){const s=hs.now(),a=({timestamp:l})=>{const u=l-s;u>=t&&(_a(a),e(u-t))};return Zt.setup(a,!0),()=>_a(a)}const ST=["TopLeft","TopRight","BottomLeft","BottomRight"],bL=ST.length,Fw=e=>typeof e=="string"?parseFloat(e):e,Hw=e=>typeof e=="number"||rt.test(e);function vL(e,t,s,a,l,u){l?(e.opacity=an(0,s.opacity??1,SL(a)),e.opacityExit=an(t.opacity??1,0,wL(a))):u&&(e.opacity=an(t.opacity??1,s.opacity??1,a));for(let d=0;d<bL;d++){const h=`border${ST[d]}Radius`;let p=Uw(t,h),g=Uw(s,h);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||Hw(p)===Hw(g)?(e[h]=Math.max(an(Fw(p),Fw(g),a),0),(hi.test(g)||hi.test(p))&&(e[h]+="%")):e[h]=g}(t.rotate||s.rotate)&&(e.rotate=an(t.rotate||0,s.rotate||0,a))}function Uw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const SL=wT(0,.5,lk),wL=wT(.5,.95,Fs);function wT(e,t,s){return a=>a<e?0:a>t?1:s(Oc(e,t,a))}function qw(e,t){e.min=t.min,e.max=t.max}function Ns(e,t){qw(e.x,t.x),qw(e.y,t.y)}function Yw(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Gw(e,t,s,a,l){return e-=t,e=sh(e,1/s,a),l!==void 0&&(e=sh(e,1/l,a)),e}function CL(e,t=0,s=1,a=.5,l,u=e,d=e){if(hi.test(t)&&(t=parseFloat(t),t=an(d.min,d.max,t/100)-d.min),typeof t!="number")return;let h=an(u.min,u.max,a);e===u&&(h-=t),e.min=Gw(e.min,t,s,h,l),e.max=Gw(e.max,t,s,h,l)}function $w(e,t,[s,a,l],u,d){CL(e,t[s],t[a],t[l],t.scale,u,d)}const jL=["x","scaleX","originX"],kL=["y","scaleY","originY"];function Kw(e,t,s,a){$w(e.x,t,jL,s?s.x:void 0,a?a.x:void 0),$w(e.y,t,kL,s?s.y:void 0,a?a.y:void 0)}function Qw(e){return e.translate===0&&e.scale===1}function CT(e){return Qw(e.x)&&Qw(e.y)}function Xw(e,t){return e.min===t.min&&e.max===t.max}function TL(e,t){return Xw(e.x,t.x)&&Xw(e.y,t.y)}function Zw(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function jT(e,t){return Zw(e.x,t.x)&&Zw(e.y,t.y)}function Jw(e){return Jn(e.x)/Jn(e.y)}function e1(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class DL{constructor(){this.members=[]}add(t){uy(this.members,t),t.scheduleRender()}remove(t){if(dy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(l=>t===l);if(s===0)return!1;let a;for(let l=s;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){a=u;break}}return a?(this.promote(a),!0):!1}promote(t,s){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,s&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:l}=t.options;l===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:a}=t;s.onExitComplete&&s.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function EL(e,t,s){let a="";const l=e.x.translate/t.x,u=e.y.translate/t.y,d=s?.z||0;if((l||u||d)&&(a=`translate3d(${l}px, ${u}px, ${d}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:g,rotate:y,rotateX:v,rotateY:b,skewX:S,skewY:T}=s;g&&(a=`perspective(${g}px) ${a}`),y&&(a+=`rotate(${y}deg) `),v&&(a+=`rotateX(${v}deg) `),b&&(a+=`rotateY(${b}deg) `),S&&(a+=`skewX(${S}deg) `),T&&(a+=`skewY(${T}deg) `)}const h=e.x.scale*t.x,p=e.y.scale*t.y;return(h!==1||p!==1)&&(a+=`scale(${h}, ${p})`),a||"none"}const wm=["","X","Y","Z"],AL=1e3;let ML=0;function Cm(e,t,s,a){const{latestValues:l}=t;l[e]&&(s[e]=l[e],t.setStaticValue(e,0),a&&(a[e]=0))}function kT(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=uT(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:l,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",Zt,!(l||u))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&kT(a)}function TT({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:a,resetTransform:l}){return class{constructor(d={},h=t?.()){this.id=ML++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(RL),this.nodes.forEach(NL),this.nodes.forEach(LL),this.nodes.forEach(_L)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new yL)}addEventListener(d,h){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new py),this.eventHandlers.get(d).add(h)}notifyListeners(d,...h){const p=this.eventHandlers.get(d);p&&p.notify(...h)}hasListeners(d){return this.eventHandlers.has(d)}mount(d){if(this.instance)return;this.isSVG=Bk(d)&&!v3(d),this.instance=d;const{layoutId:h,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||h)&&(this.isLayoutDirty=!0),e){let y,v=0;const b=()=>this.root.updateBlockedByResize=!1;Zt.read(()=>{v=window.innerWidth}),e(d,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,y&&y(),y=xL(b,250),zd.hasAnimatedSinceResize&&(zd.hasAnimatedSinceResize=!1,this.nodes.forEach(s1)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||g.getDefaultTransition()||HL,{onLayoutAnimationStart:k,onLayoutAnimationComplete:w}=g.getProps(),j=!this.targetLayout||!jT(this.targetLayout,S),D=!v&&b;if(this.options.layoutRoot||this.resumeFrom||D||v&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...Dy(T,"layout"),onPlay:k,onComplete:w};(g.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(y,D)}else v||s1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),_a(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(zL),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&kT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:p}=this.options;if(h===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(t1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(n1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(WL),this.nodes.forEach(PL),this.nodes.forEach(OL)):this.nodes.forEach(n1),this.clearAllSnapshots();const h=hs.now();Hn.delta=Ki(0,1e3/60,h-Hn.timestamp),Hn.timestamp=h,Hn.isProcessing=!0,dm.update.process(Hn),dm.preRender.process(Hn),dm.render.process(Hn),Hn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ay.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(IL),this.sharedNodes.forEach(VL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Zt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Zt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Jn(this.snapshot.measuredBox.x)&&!Jn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=yn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(h=!1),h&&this.instance){const p=a(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:p,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!l)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!CT(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;d&&this.instance&&(h||fr(this.latestValues)||y)&&(l(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const h=this.measurePageBox();let p=this.removeElementScroll(h);return d&&(p=this.removeTransform(p)),UL(p),{animationId:this.root.animationId,measuredBox:h,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:d}=this.options;if(!d)return yn();const h=d.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(qL))){const{scroll:g}=this.root;g&&(Ro(h.x,g.offset.x),Ro(h.y,g.offset.y))}return h}removeElementScroll(d){const h=yn();if(Ns(h,d),this.scroll?.wasRoot)return h;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:y,options:v}=g;g!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Ns(h,d),Ro(h.x,y.offset.x),Ro(h.y,y.offset.y))}return h}applyTransform(d,h=!1){const p=yn();Ns(p,d);for(let g=0;g<this.path.length;g++){const y=this.path[g];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&_o(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),fr(y.latestValues)&&_o(p,y.latestValues)}return fr(this.latestValues)&&_o(p,this.latestValues),p}removeTransform(d){const h=yn();Ns(h,d);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!fr(g.latestValues))continue;ig(g.latestValues)&&g.updateSnapshot();const y=yn(),v=g.measurePageBox();Ns(y,v),Kw(h,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return fr(this.latestValues)&&Kw(h,this.latestValues),h}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Hn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==h;if(!(d||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!(!this.layout||!(y||v))){if(this.resolvedRelativeTargetAt=Hn.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yn(),this.relativeTargetOrigin=yn(),vc(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Ns(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=yn(),this.targetWithTransforms=yn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),XN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ns(this.target,this.layout.layoutBox),iT(this.target,this.targetDelta)):Ns(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yn(),this.relativeTargetOrigin=yn(),vc(this.relativeTargetOrigin,this.target,b.target),Ns(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ig(this.parent.latestValues)||sT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const d=this.getLead(),h=!!this.resumingFrom||this!==d;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Hn.timestamp&&(p=!1),p)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;Ns(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;cN(this.layoutCorrected,this.treeScale,this.path,h),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=yn());const{target:S}=d;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Yw(this.prevProjectionDelta.x,this.projectionDelta.x),Yw(this.prevProjectionDelta.y,this.projectionDelta.y)),bc(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!e1(this.projectionDelta.x,this.prevProjectionDelta.x)||!e1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){if(this.options.visualElement?.scheduleRender(),d){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Io(),this.projectionDelta=Io(),this.projectionDeltaWithTransform=Io()}setAnimationOrigin(d,h=!1){const p=this.snapshot,g=p?p.latestValues:{},y={...this.latestValues},v=Io();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const b=yn(),S=p?p.source:void 0,T=this.layout?this.layout.source:void 0,k=S!==T,w=this.getStack(),j=!w||w.members.length<=1,D=!!(k&&!j&&this.options.crossfade===!0&&!this.path.some(FL));this.animationProgress=0;let A;this.mixTargetDelta=_=>{const P=_/1e3;i1(v.x,d.x,P),i1(v.y,d.y,P),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vc(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),BL(this.relativeTarget,this.relativeTargetOrigin,b,P),A&&TL(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=yn()),Ns(A,this.relativeTarget)),k&&(this.animationValues=y,vL(y,g,this.latestValues,P,D,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(_a(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Zt.update(()=>{zd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Qo(0)),this.currentAnimation=mL(this.motionValue,[0,1e3],{...d,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),d.onUpdate&&d.onUpdate(h)},onStop:()=>{},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(AL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:h,target:p,layout:g,latestValues:y}=d;if(!(!h||!p||!g)){if(this!==d&&this.layout&&g&&DT(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||yn();const v=Jn(this.layout.layoutBox.x);p.x.min=d.target.x.min,p.x.max=p.x.min+v;const b=Jn(this.layout.layoutBox.y);p.y.min=d.target.y.min,p.y.max=p.y.min+b}Ns(h,p),_o(h,y),bc(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(d,h){this.sharedNodes.has(d)||this.sharedNodes.set(d,new DL),this.sharedNodes.get(d).add(h);const g=h.options.initialPromotionConfig;h.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(h):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){const{layoutId:d}=this.options;return d?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:d}=this.options;return d?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:h,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),d&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let h=!1;const{latestValues:p}=d;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(h=!0),!h)return;const g={};p.z&&Cm("z",d,g,this.animationValues);for(let y=0;y<wm.length;y++)Cm(`rotate${wm[y]}`,d,g,this.animationValues),Cm(`skew${wm[y]}`,d,g,this.animationValues);d.render();for(const y in g)d.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);d.scheduleRender()}applyProjectionStyles(d,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){d.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,d.visibility="",d.opacity="",d.pointerEvents=Ld(h?.pointerEvents)||"",d.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=Ld(h?.pointerEvents)||""),this.hasProjected&&!fr(this.latestValues)&&(d.transform=p?p({},""):"none",this.hasProjected=!1);return}d.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let v=EL(this.projectionDeltaWithTransform,this.treeScale,y);p&&(v=p(y,v)),d.transform=v;const{x:b,y:S}=this.projectionDelta;d.transformOrigin=`${b.origin*100}% ${S.origin*100}% 0`,g.animationValues?d.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:d.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const T in Wc){if(y[T]===void 0)continue;const{correct:k,applyTo:w,isCSSVariable:j}=Wc[T],D=v==="none"?y[T]:k(y[T],g);if(w){const A=w.length;for(let _=0;_<A;_++)d[w[_]]=D}else j?this.options.visualElement.renderState.vars[T]=D:d[T]=D}this.options.layoutId&&(d.pointerEvents=g===this?Ld(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>d.currentAnimation?.stop()),this.root.nodes.forEach(t1),this.root.sharedNodes.clear()}}}function PL(e){e.updateLayout()}function OL(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=e.layout,{animationType:l}=e.options,u=t.source!==e.layout.source;l==="size"?Vs(y=>{const v=u?t.measuredBox[y]:t.layoutBox[y],b=Jn(v);v.min=s[y].min,v.max=v.min+b}):DT(l,t.layoutBox,s)&&Vs(y=>{const v=u?t.measuredBox[y]:t.layoutBox[y],b=Jn(s[y]);v.max=v.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+b)});const d=Io();bc(d,s,t.layoutBox);const h=Io();u?bc(h,e.applyTransform(a,!0),t.measuredBox):bc(h,s,t.layoutBox);const p=!CT(d);let g=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:b}=y;if(v&&b){const S=yn();vc(S,t.layoutBox,v.layoutBox);const T=yn();vc(T,s,b.layoutBox),jT(S,T)||(g=!0),y.options.layoutRoot&&(e.relativeTarget=T,e.relativeTargetOrigin=S,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:h,layoutDelta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function RL(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function _L(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function IL(e){e.clearSnapshot()}function t1(e){e.clearMeasurements()}function n1(e){e.isLayoutDirty=!1}function WL(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function s1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function NL(e){e.resolveTargetDelta()}function LL(e){e.calcProjection()}function zL(e){e.resetSkewAndRotation()}function VL(e){e.removeLeadSnapshot()}function i1(e,t,s){e.translate=an(t.translate,0,s),e.scale=an(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function a1(e,t,s,a){e.min=an(t.min,s.min,a),e.max=an(t.max,s.max,a)}function BL(e,t,s,a){a1(e.x,t.x,s.x,a),a1(e.y,t.y,s.y,a)}function FL(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const HL={duration:.45,ease:[.4,0,.1,1]},r1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),o1=r1("applewebkit/")&&!r1("chrome/")?Math.round:Fs;function l1(e){e.min=o1(e.min),e.max=o1(e.max)}function UL(e){l1(e.x),l1(e.y)}function DT(e,t,s){return e==="position"||e==="preserve-aspect"&&!QN(Jw(t),Jw(s),.2)}function qL(e){return e!==e.root&&e.scroll?.wasRoot}const YL=TT({attachResizeListener:(e,t)=>Nc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jm={current:void 0},ET=TT({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!jm.current){const e=new YL({});e.mount(window),e.setOptions({layoutScroll:!0}),jm.current=e}return jm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),GL={pan:{Feature:dL},drag:{Feature:uL,ProjectionNode:ET,MeasureLayout:vT}};function c1(e,t,s){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",s==="Start");const l="onHover"+s,u=a[l];u&&Zt.postRender(()=>u(t,tu(t)))}class $L extends za{mount(){const{current:t}=this.node;t&&(this.unmount=m3(t,(s,a)=>(c1(this.node,a,"Start"),l=>c1(this.node,l,"End"))))}unmount(){}}class KL extends za{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Zc(Nc(this.node.current,"focus",()=>this.onFocus()),Nc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function u1(e,t,s){const{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",s==="Start");const l="onTap"+(s==="End"?"":s),u=a[l];u&&Zt.postRender(()=>u(t,tu(t)))}class QL extends za{mount(){const{current:t}=this.node;t&&(this.unmount=b3(t,(s,a)=>(u1(this.node,a,"Start"),(l,{success:u})=>u1(this.node,l,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const dg=new WeakMap,km=new WeakMap,XL=e=>{const t=dg.get(e.target);t&&t(e)},ZL=e=>{e.forEach(XL)};function JL({root:e,...t}){const s=e||document;km.has(s)||km.set(s,{});const a=km.get(s),l=JSON.stringify(t);return a[l]||(a[l]=new IntersectionObserver(ZL,{root:e,...t})),a[l]}function e6(e,t,s){const a=JL(t);return dg.set(e,s),a.observe(e),()=>{dg.delete(e),a.unobserve(e)}}const t6={some:0,all:1};class n6 extends za{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:a,amount:l="some",once:u}=t,d={root:s?s.current:void 0,rootMargin:a,threshold:typeof l=="number"?l:t6[l]},h=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),b=g?y:v;b&&b(p)};return e6(this.node.current,d,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(s6(t,s))&&this.startObserver()}unmount(){}}function s6({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const i6={inView:{Feature:n6},tap:{Feature:QL},focus:{Feature:KL},hover:{Feature:$L}},a6={layout:{ProjectionNode:ET,MeasureLayout:vT}},r6={...UN,...i6,...GL,...a6},Ke=rN(r6,bN),ih={minimum:"44px",navigation:"56px"},o6={navigation:1e3},By=x.memo(({currentScreen:e,onNavigate:t})=>{const s=el(),a=[{id:"home",label:"Work",iconActive:Jt,iconInactive:m2,activeColor:"#1db584",screens:["home","selection","preview","workout","customize","custom-preview","completion","timer","cardio","hiit"]},{id:"progress",label:"Progress",iconActive:Pa,iconInactive:g2,activeColor:"#6b8a9d",screens:["progress"]},{id:"settings",label:"Settings",iconActive:vC,iconInactive:y2,activeColor:"#ff8c00",screens:["settings","log-activity","exercise-list","profile","stretch","mobility"]}],l=d=>{t(d)},u=d=>d.screens.includes(e);return r.jsx(Ke.nav,{initial:{y:100},animate:{y:0},transition:{type:"spring",stiffness:300,damping:30},style:{position:"fixed",bottom:0,left:0,right:0,height:`calc(${ih.navigation} + env(safe-area-inset-bottom))`,backgroundColor:s.palette.background.paper,borderTop:`1px solid ${s.palette.mode==="dark"?"rgba(29, 181, 132, 0.2)":"rgba(0, 0, 0, 0.12)"}`,boxShadow:s.palette.mode==="dark"?"0 -2px 10px rgba(0, 0, 0, 0.3)":"0 -2px 10px rgba(0, 0, 0, 0.1)",zIndex:o6.navigation,display:"flex",alignItems:"center",justifyContent:"space-around",paddingBottom:"env(safe-area-inset-bottom)",paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)"},children:a.map(d=>{const h=u(d),p=h?d.iconActive:d.iconInactive;return r.jsxs(Ke.button,{onClick:()=>l(d.id),whileTap:{scale:.9},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flex:1,height:"100%",minWidth:ih.minimum,background:"transparent",border:"none",cursor:"pointer",color:h?d.activeColor:s.palette.text.secondary,transition:"color 0.2s ease",padding:"8px 4px"},"aria-label":d.label,"aria-current":h?"page":void 0,children:[r.jsx("div",{style:{fontSize:"1.5rem",marginBottom:"2px",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(p,{sx:{fontSize:"1.5rem"}})}),r.jsx("span",{style:{fontSize:"0.625rem",fontWeight:h?600:400,textTransform:"uppercase",letterSpacing:"0.5px",lineHeight:1},children:d.label}),h&&r.jsx(Ke.div,{layoutId:"bottomNavIndicator",style:{position:"absolute",top:0,left:0,right:0,height:"2px",backgroundColor:d.activeColor,borderRadius:"0 0 2px 2px"},transition:{type:"spring",stiffness:300,damping:30}})]},d.id)})})});By.displayName="BottomNav";By.propTypes={currentScreen:E.string.isRequired,onNavigate:E.func.isRequired};const AT=({workoutHistory:e=[],onDayClick:t})=>{const s=el(),a=Og(s.breakpoints.down("sm")),[l,u]=x.useState(new Date),d=()=>{const S=Ij(l),T=_j(l),k=Zs(S),w=Nj(T),j=[];let D=k;for(;D<=w;)j.push(D),D=Qc(D,1);return j},h=S=>e.filter(T=>{const k=new Date(T.date);return Fm(k,S)}),p=S=>{if(!S||S.length===0)return null;const T=S[0];return T.type?.toLowerCase()||T.workoutType?.toLowerCase()||"strength"},g=S=>S?S==="cardio"||S==="hiit"?"error.main":S==="stretch"||S==="active_recovery"||S==="yoga"||S==="mobility"?"secondary.main":S==="rest"?"action.disabled":"primary.main":"primary.main",y=d(),v=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],b=new Date;return r.jsx(Je,{elevation:2,sx:{borderRadius:3,overflow:"hidden"},children:r.jsxs(ot,{sx:{p:{xs:2,sm:3},width:"100%",maxWidth:"100%",boxSizing:"border-box"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},children:[r.jsx(Ue,{onClick:()=>u(TI(l)),size:a?"small":"medium",children:r.jsx(x2,{})}),r.jsx(I,{variant:"h6",sx:{fontWeight:600,fontSize:{xs:"1.1rem",sm:"1.25rem"}},children:Um(l,"MMMM yyyy")}),r.jsx(Ue,{onClick:()=>u(vh(l,1)),size:a?"small":"medium",children:r.jsx(dr,{})})]}),r.jsx(L,{sx:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:{xs:.25,sm:.5},mb:.5},children:v.map(S=>r.jsx(L,{sx:{textAlign:"center",py:{xs:.5,sm:1},fontWeight:700,color:"text.primary",fontSize:{xs:"0.7rem",sm:"0.875rem"},opacity:.8},children:a?S.charAt(0):S},S))}),r.jsx(L,{sx:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:{xs:.25,sm:.5}},children:y.map((S,T)=>{const k=Gj(S,l),w=Fm(S,b),j=h(S),D=j.length>0,A=p(j);return r.jsxs(L,{onClick:()=>D&&t?.(S,j[0]),sx:{aspectRatio:"1",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:1,cursor:D?"pointer":"default",bgcolor:w?"action.selected":"transparent",opacity:k?1:.3,border:w?2:1,borderColor:w?"primary.main":"transparent",transition:"all 0.2s ease",minHeight:{xs:40,sm:52},maxHeight:{xs:44,sm:60},position:"relative",padding:{xs:"3px 2px",sm:"6px 4px"},"&:hover":D?{bgcolor:"action.hover",transform:"scale(1.05)",boxShadow:1}:{}},children:[r.jsx(I,{variant:"body2",sx:{fontWeight:w?700:500,color:"text.primary",fontSize:{xs:"0.7rem",sm:"0.875rem"},position:"absolute",top:{xs:3,sm:6},left:"50%",transform:"translateX(-50%)"},children:Um(S,"d")}),D&&r.jsx(I,{sx:{fontSize:{xs:"1.1rem",sm:"1.5rem"},fontWeight:900,color:g(A),lineHeight:1,textShadow:"0 1px 2px rgba(0,0,0,0.1)",marginTop:"auto",marginBottom:{xs:"1px",sm:"4px"}},children:""})]},T)})}),r.jsxs(L,{sx:{display:"flex",gap:{xs:1,sm:2},mt:3,flexWrap:"nowrap",justifyContent:"center",overflowX:"auto"},children:[r.jsx(ct,{label:"Strength",size:"small",sx:{bgcolor:"primary.light",fontSize:{xs:"0.7rem",sm:"0.8125rem"},height:{xs:24,sm:32}}}),r.jsx(ct,{label:"Yoga",size:"small",sx:{bgcolor:"secondary.light",fontSize:{xs:"0.7rem",sm:"0.8125rem"},height:{xs:24,sm:32}}}),r.jsx(ct,{label:"Cardio",size:"small",sx:{bgcolor:"error.light",fontSize:{xs:"0.7rem",sm:"0.8125rem"},height:{xs:24,sm:32}}}),r.jsx(ct,{label:"Rest",size:"small",sx:{bgcolor:"action.disabledBackground",fontSize:{xs:"0.7rem",sm:"0.8125rem"},height:{xs:24,sm:32}}})]})]})})};AT.propTypes={workoutHistory:E.array,onDayClick:E.func};const Fy=x.memo(({onStartWorkout:e})=>{const[t,s]=x.useState([]),[a,l]=x.useState(null),[u,d]=x.useState(null),{assignWorkoutToDay:h,weeklySchedule:p}=Zi(),g=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];x.useEffect(()=>{const w=async()=>{try{const D=await Hi();s(D)}catch(D){console.error("Error loading favorite workouts:",D)}};w();const j=()=>{w()};return window.addEventListener("storage",j),()=>{window.removeEventListener("storage",j)}},[]);const y=async w=>{try{for(const D of g){const A=p[D];A&&A.favoriteId===w&&await h(D,null)}await wj(w);const j=await Hi();s(j)}catch(j){console.error("Error deleting favorite workout:",j)}},v=w=>{if(e&&w){const j=w.type||"full",D=w.equipment||"all",A=w.exercises||[];e(j,D,A)}},b=(w,j)=>{l(w.currentTarget),d(j)},S=()=>{l(null),d(null)},T=async w=>{if(u)try{const j={sessionType:u.type||"full",sessionName:u.name||`${u.type} Workout`,exercises:u.exercises||[],assignedDate:new Date().toISOString(),fromFavorite:!0,favoriteId:u.id};await h(w,j),S()}catch(j){console.error("Error assigning workout to day:",j)}},k=w=>{for(const j of g){const D=p[j];if(D&&D.favoriteId===w.id)return j}return null};return t.length===0?null:r.jsx(Je,{elevation:2,sx:{mb:3,borderRadius:3},children:r.jsxs(ot,{sx:{p:{xs:2,sm:3}},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",mb:2},children:[r.jsx(qi,{sx:{color:"warning.main",mr:1}}),r.jsx(I,{variant:"h6",sx:{fontWeight:600,color:"text.primary",flex:1},children:"Favourite Workouts"})]}),r.jsx(Oe,{spacing:1.5,children:t.map((w,j)=>r.jsxs(L,{sx:{p:1.5,bgcolor:"background.default",borderRadius:2,borderLeft:"4px solid",borderLeftColor:"warning.main",display:"flex",alignItems:"center",gap:1},children:[r.jsx(Jt,{sx:{color:"text.secondary",fontSize:20}}),r.jsxs(L,{sx:{flex:1,minWidth:0},children:[r.jsx(I,{variant:"subtitle2",sx:{fontWeight:600,mb:.5,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:w.name||"Untitled Workout"}),r.jsxs(Oe,{direction:"row",spacing:.5,flexWrap:"wrap",children:[w.type&&r.jsx(ct,{label:w.type.charAt(0).toUpperCase()+w.type.slice(1),size:"small",sx:{fontSize:"0.65rem",height:20}}),w.exercises&&r.jsx(ct,{label:`${w.exercises.length} exercises`,size:"small",variant:"outlined",sx:{fontSize:"0.65rem",height:20}}),k(w)&&r.jsx(ct,{icon:r.jsx(qo,{sx:{fontSize:"0.75rem !important"}}),label:k(w),size:"small",color:"success",sx:{fontSize:"0.65rem",height:20}})]})]}),r.jsxs(Oe,{direction:"row",spacing:.5,children:[r.jsx(Zn,{title:"Assign to day",children:r.jsx(Ue,{size:"small",onClick:D=>b(D,w),sx:{color:k(w)?"success.main":"text.secondary","&:hover":{backgroundColor:"rgba(46, 125, 50, 0.08)"}},"aria-label":`Assign ${w.name||"workout"} to day`,children:r.jsx(uh,{fontSize:"small"})})}),r.jsx(Zn,{title:"Start workout",children:r.jsx(Ue,{size:"small",onClick:()=>v(w),sx:{color:"primary.main","&:hover":{backgroundColor:"rgba(19, 70, 134, 0.08)"}},"aria-label":`Start ${w.name||"workout"}`,children:r.jsx(Qs,{fontSize:"small"})})}),r.jsx(Zn,{title:"Delete",children:r.jsx(Ue,{size:"small",onClick:()=>y(w.id),sx:{color:"error.main","&:hover":{backgroundColor:"rgba(211, 47, 47, 0.08)"}},"aria-label":`Delete ${w.name||"workout"}`,children:r.jsx(Oa,{fontSize:"small"})})})]})]},j))}),r.jsxs(b2,{anchorEl:a,open:!!a,onClose:S,PaperProps:{sx:{maxHeight:300,width:200}},children:[r.jsx(ze,{disabled:!0,sx:{opacity:1,fontWeight:600},children:r.jsx(jt,{children:"Assign to Day"})}),g.map(w=>{const j=u&&p[w]?.favoriteId===u.id;return r.jsxs(ze,{onClick:()=>T(w),selected:j,children:[r.jsx(Bt,{children:j&&r.jsx(qo,{fontSize:"small",color:"success"})}),r.jsx(jt,{children:w})]},w)})]})]})})});Fy.displayName="FavouriteWorkoutsWidget";Fy.propTypes={onStartWorkout:E.func};const Hy=({onClose:e})=>{const t=[{text:"Take it easy! See a friend!",icon:r.jsx(v2,{sx:{fontSize:48}})},{text:"Rest up! Read a book!",icon:r.jsx(S2,{sx:{fontSize:48}})},{text:"Relax and recover! Try some gentle stretching!",icon:r.jsx(Js,{sx:{fontSize:48}})},{text:"Your body needs rest! Enjoy your day off!",icon:r.jsx(dh,{sx:{fontSize:48}})}],s=t[Math.floor(Math.random()*t.length)];return r.jsx(L,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"rgba(0, 0, 0, 0.5)",zIndex:1300,p:2},onClick:e,children:r.jsx(Ke.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},transition:{type:"spring",stiffness:260,damping:20},children:r.jsxs(dc,{elevation:8,sx:{p:4,maxWidth:400,textAlign:"center",borderRadius:4,background:"linear-gradient(135deg, rgba(19, 70, 134, 0.1) 0%, rgba(237, 63, 39, 0.1) 100%)"},onClick:a=>a.stopPropagation(),children:[r.jsx(Ke.div,{animate:{y:[0,-10,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:r.jsx(L,{sx:{color:"primary.main",mb:2},children:s.icon})}),r.jsx(I,{variant:"h5",sx:{fontWeight:700,mb:2,color:"text.primary"},children:"It's a Rest Day! "}),r.jsx(I,{variant:"body1",sx:{color:"text.secondary",mb:3},children:s.text}),r.jsx(Ke.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:r.jsx(L,{sx:{display:"inline-block",px:3,py:1,borderRadius:2,bgcolor:"primary.main",color:"white",cursor:"pointer",fontWeight:600,"&:hover":{bgcolor:"primary.dark"}},onClick:e,children:"Got it!"})})]})})})};Hy.propTypes={onClose:E.func.isRequired};const MT=e=>{const t=Math.floor(e/3600),s=Math.floor(e%3600/60),a=e%60;return`${t.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`},l6=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),PT=e=>{const t=Math.floor(e/3600),s=Math.floor(e%3600/60);return t>0?`${t}h ${s}m`:`${s}m`},Bo=e=>{if(typeof e=="string"){const t=e.toLowerCase();return t.includes("upper")?"upper":t.includes("lower")?"lower":"full"}if(e?.type)return Bo(e.type);if(e?.["Primary Muscle"]){const t=e["Primary Muscle"].toLowerCase();if(t.includes("upper"))return"upper";if(t.includes("lower"))return"lower"}return"full"},Uy=x.memo(({activities:e=[],onDelete:t,onEdit:s,maxVisible:a=10,showLoadMore:l=!0})=>{const[u,d]=x.useState(null),[h,p]=x.useState(a),g=k=>{d(u===k?null:k)},y=k=>({strength:r.jsx(Jt,{fontSize:"small"}),cardio:r.jsx(fi,{fontSize:"small"}),hiit:r.jsx(fi,{fontSize:"small"}),stretch:r.jsx(Js,{fontSize:"small"})})[k]||r.jsx(Jt,{fontSize:"small"}),v=k=>({strength:"primary",cardio:"info",hiit:"error",stretch:"warning"})[k]||"default",b=k=>k.charAt(0).toUpperCase()+k.slice(1),S=k=>{if(k.exercises){if(Array.isArray(k.exercises))return k.exercises.length;if(typeof k.exercises=="object")return Object.keys(k.exercises).length}return 0},T=e.slice(0,h);return e.length===0?r.jsx(Je,{sx:{width:"100%",borderRadius:3},children:r.jsx(ot,{children:r.jsx(I,{variant:"body2",color:"text.secondary",align:"center",children:"No activities yet. Start your first workout!"})})}):r.jsxs(L,{sx:{width:"100%"},children:[r.jsx(I,{variant:"overline",sx:{color:"primary.main",fontWeight:600,letterSpacing:1,mb:1,display:"block"},children:"ACTIVITY HISTORY"}),r.jsx(Un,{sx:{p:0},children:T.map((k,w)=>{const j=u===w,D=S(k),A=k.type||"strength";return r.jsx(Je,{sx:{mb:1,borderRadius:2,boxShadow:"0 2px 8px rgba(19, 70, 134, 0.06)",transition:"box-shadow 0.2s","&:hover":{boxShadow:"0 4px 16px rgba(19, 70, 134, 0.12)"}},children:r.jsxs(lt,{sx:{display:"flex",flexDirection:"column",alignItems:"stretch",p:1.5,cursor:"pointer"},onClick:()=>g(w),children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1,flex:1},children:[r.jsx(L,{sx:{color:`${v(A)}.main`},children:y(A)}),r.jsxs(L,{sx:{flex:1},children:[r.jsxs(I,{variant:"body2",sx:{fontWeight:600,color:"text.primary"},children:[k.sessionName||b(A),k.isPartial&&r.jsx(ct,{label:"Partial",size:"small",sx:{ml:1,height:"18px",fontSize:"0.7rem"}})]}),k.sessionName&&r.jsx(I,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.65rem"},children:b(A)}),r.jsxs(Oe,{direction:"row",spacing:1,sx:{mt:.5},children:[r.jsx(I,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.7rem"},children:l6(k.date)}),r.jsx(I,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.7rem"},children:""}),r.jsx(I,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.7rem"},children:PT(k.duration)}),D>0&&r.jsxs(r.Fragment,{children:[r.jsx(I,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.7rem"},children:""}),r.jsxs(I,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.7rem"},children:[D," exercises"]})]})]})]})]}),r.jsx(Ue,{size:"small",onClick:_=>{_.stopPropagation(),g(w)},children:j?r.jsx(w2,{}):r.jsx(Aa,{})})]}),r.jsx(_m,{in:j,timeout:"auto",unmountOnExit:!0,children:r.jsxs(L,{sx:{mt:2,pt:2,borderTop:"1px solid",borderColor:"divider"},children:[k.exercises&&typeof k.exercises=="object"&&r.jsxs(L,{sx:{mb:2},children:[r.jsx(I,{variant:"caption",sx:{fontWeight:600,color:"text.secondary"},children:"Exercises:"}),r.jsx(Un,{dense:!0,sx:{mt:.5},children:Object.entries(k.exercises).map(([_,P],M)=>r.jsxs(lt,{sx:{py:.5,px:1,flexDirection:"column",alignItems:"flex-start"},children:[r.jsxs(I,{variant:"caption",sx:{color:"text.primary"},children:[_,": ",P.sets?.length||0," sets"]}),P.formNotes&&r.jsxs(I,{variant:"caption",sx:{color:"text.secondary",fontStyle:"italic",mt:.5},children:["Form: ",P.formNotes]})]},M))})]}),k.notes&&r.jsxs(L,{sx:{mb:2,p:1.5,bgcolor:"action.hover",borderRadius:1},children:[r.jsx(I,{variant:"caption",sx:{fontWeight:600,color:"text.secondary",display:"block",mb:.5},children:"Notes:"}),r.jsx(I,{variant:"caption",sx:{color:"text.primary"},children:k.notes})]}),r.jsxs(Oe,{direction:"row",spacing:1,children:[s&&r.jsx(Te,{size:"small",startIcon:r.jsx(Yi,{}),onClick:_=>{_.stopPropagation(),s(w)},variant:"outlined",children:"Edit"}),t&&r.jsx(Te,{size:"small",startIcon:r.jsx(Oa,{}),onClick:_=>{_.stopPropagation(),t(w)},variant:"outlined",color:"error",children:"Delete"})]})]})})]})},w)})}),l&&h<e.length&&r.jsx(L,{sx:{display:"flex",justifyContent:"center",mt:2},children:r.jsxs(Te,{variant:"outlined",onClick:()=>p(k=>k+a),children:["Load More (",e.length-h," remaining)"]})})]})});Uy.displayName="ActivitiesList";Uy.propTypes={activities:E.arrayOf(E.shape({date:E.string,type:E.string,duration:E.number,sessionName:E.string,exercises:E.oneOfType([E.array,E.object]),isPartial:E.bool})).isRequired,onDelete:E.func,onEdit:E.func,maxVisible:E.number,showLoadMore:E.bool};const sc=(e,t)=>e.length!==t.length?!1:t.every(s=>e.includes(s)),c6=({openTo:e,defaultOpenTo:t,views:s,defaultViews:a})=>{const l=s??a;let u;if(e!=null)u=e;else if(l.includes(t))u=t;else if(l.length>0)u=l[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:l,openTo:u}},ah=(e,t,s)=>{let a=t;return a=e.setHours(a,e.getHours(s)),a=e.setMinutes(a,e.getMinutes(s)),a=e.setSeconds(a,e.getSeconds(s)),a=e.setMilliseconds(a,e.getMilliseconds(s)),a},Lc=({date:e,disableFuture:t,disablePast:s,maxDate:a,minDate:l,isDateDisabled:u,adapter:d,timezone:h})=>{const p=ah(d,d.date(void 0,h),e);s&&d.isBefore(l,p)&&(l=p),t&&d.isAfter(a,p)&&(a=p);let g=e,y=e;for(d.isBefore(e,l)&&(g=l,y=null),d.isAfter(e,a)&&(y&&(y=a),g=null);g||y;){if(g&&d.isAfter(g,a)&&(g=null),y&&d.isBefore(y,l)&&(y=null),g){if(!u(g))return g;g=d.addDays(g,1)}if(y){if(!u(y))return y;y=d.addDays(y,-1)}}return null},u6=(e,t)=>e.isValid(t)?t:null,d1=(e,t,s)=>t==null||!e.isValid(t)?s:t,d6=(e,t,s)=>!e.isValid(t)&&t!=null&&!e.isValid(s)&&s!=null?!0:e.isEqual(t,s),qy=(e,t)=>{const a=[e.startOfYear(t)];for(;a.length<12;){const l=a[a.length-1];a.push(e.addMonths(l,1))}return a},OT=(e,t,s)=>s==="date"?e.startOfDay(e.date(void 0,t)):e.date(void 0,t),h6=["year","month","day"],h1=e=>h6.includes(e),Yy=(e,{format:t,views:s},a)=>{if(t!=null)return t;const l=e.formats;return sc(s,["year"])?l.year:sc(s,["month"])?l.month:sc(s,["day"])?l.dayOfMonth:sc(s,["month","year"])?`${l.month} ${l.year}`:sc(s,["day","month"])?`${l.month} ${l.dayOfMonth}`:a?/en/.test(e.getCurrentLocaleCode())?l.normalDateWithWeekday:l.normalDate:l.keyboardDate},f6=(e,t)=>{const s=e.startOfWeek(t);return[0,1,2,3,4,5,6].map(a=>e.addDays(s,a))},p6=["hours","minutes","seconds"],m6=e=>p6.includes(e),f1=(e,t)=>t.getHours(e)*3600+t.getMinutes(e)*60+t.getSeconds(e),g6=(e,t)=>(s,a)=>e?t.isAfter(s,a):f1(s,t)>f1(a,t),oi={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},y6=e=>Math.max(...e.map(t=>oi[t.type]??1)),ic=(e,t,s)=>{if(t===oi.year)return e.startOfYear(s);if(t===oi.month)return e.startOfMonth(s);if(t===oi.day)return e.startOfDay(s);let a=s;return t<oi.minutes&&(a=e.setMinutes(a,0)),t<oi.seconds&&(a=e.setSeconds(a,0)),t<oi.milliseconds&&(a=e.setMilliseconds(a,0)),a},x6=({props:e,adapter:t,granularity:s,timezone:a,getTodayDate:l})=>{let u=l?l():ic(t,s,OT(t,a));e.minDate!=null&&t.isAfterDay(e.minDate,u)&&(u=ic(t,s,e.minDate)),e.maxDate!=null&&t.isBeforeDay(e.maxDate,u)&&(u=ic(t,s,e.maxDate));const d=g6(e.disableIgnoringDatePartForTimeValidation??!1,t);return e.minTime!=null&&d(e.minTime,u)&&(u=ic(t,s,e.disableIgnoringDatePartForTimeValidation?e.minTime:ah(t,u,e.minTime))),e.maxTime!=null&&d(u,e.maxTime)&&(u=ic(t,s,e.disableIgnoringDatePartForTimeValidation?e.maxTime:ah(t,u,e.maxTime))),u},RT=(e,t)=>{const s=e.formatTokenMap[t];if(s==null)throw new Error([`MUI X: The token "${t}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof s=="string"?{type:s,contentType:s==="meridiem"?"letter":"digit",maxLength:void 0}:{type:s.sectionType,contentType:s.contentType,maxLength:s.maxLength}},kh=(e,t)=>{const s=[],a=e.date(void 0,"default"),l=e.startOfWeek(a),u=e.endOfWeek(a);let d=l;for(;e.isBefore(d,u);)s.push(d),d=e.addDays(d,1);return s.map(h=>e.formatByString(h,t))},_T=(e,t,s,a)=>{switch(s){case"month":return qy(e,e.date(void 0,t)).map(l=>e.formatByString(l,a));case"weekDay":return kh(e,a);case"meridiem":{const l=e.date(void 0,t);return[e.startOfDay(l),e.endOfDay(l)].map(u=>e.formatByString(u,a))}default:return[]}},p1="s",b6=["0","1","2","3","4","5","6","7","8","9"],v6=e=>{const t=e.date(void 0);return e.formatByString(e.setSeconds(t,0),p1)==="0"?b6:Array.from({length:10}).map((a,l)=>e.formatByString(e.setSeconds(t,l),p1))},Ar=(e,t)=>{if(t[0]==="0")return e;const s=[];let a="";for(let l=0;l<e.length;l+=1){a+=e[l];const u=t.indexOf(a);u>-1&&(s.push(u.toString()),a="")}return s.join("")},Gy=(e,t)=>t[0]==="0"?e:e.split("").map(s=>t[Number(s)]).join(""),m1=(e,t)=>{const s=Ar(e,t);return s!==" "&&!Number.isNaN(Number(s))},$y=(e,t)=>Number(e).toString().padStart(t,"0"),IT=(e,t,s,a,l)=>{if(l.type==="day"&&l.contentType==="digit-with-letter"){const d=e.setDate(s.longestMonth,t);return e.formatByString(d,l.format)}let u=t.toString();return l.hasLeadingZerosInInput&&(u=$y(u,l.maxLength)),Gy(u,a)},Ky=(e,t,s)=>{let a=e.value||e.placeholder;const l=t==="non-input"?e.hasLeadingZerosInFormat:e.hasLeadingZerosInInput;return t==="non-input"&&e.hasLeadingZerosInInput&&!e.hasLeadingZerosInFormat&&(a=Number(Ar(a,s)).toString()),["input-rtl","input-ltr"].includes(t)&&e.contentType==="digit"&&!l&&a.length===1&&(a=`${a}`),t==="input-rtl"&&(a=`${a}`),a},g1=(e,t,s,a)=>e.formatByString(e.parse(t,s),a),S6=(e,t)=>e.formatByString(e.date(void 0,"system"),t).length===4,WT=(e,t,s,a)=>{if(t!=="digit")return!1;const l=e.date(void 0,"default");switch(s){case"year":return e.lib==="dayjs"&&a==="YY"?!0:e.formatByString(e.setYear(l,1),a).startsWith("0");case"month":return e.formatByString(e.startOfYear(l),a).length>1;case"day":return e.formatByString(e.startOfMonth(l),a).length>1;case"weekDay":return e.formatByString(e.startOfWeek(l),a).length>1;case"hours":return e.formatByString(e.setHours(l,1),a).length>1;case"minutes":return e.formatByString(e.setMinutes(l,1),a).length>1;case"seconds":return e.formatByString(e.setSeconds(l,1),a).length>1;default:throw new Error("Invalid section type")}},w6=(e,t,s)=>{const a=t.some(p=>p.type==="day"),l=[],u=[];for(let p=0;p<t.length;p+=1){const g=t[p];a&&g.type==="weekDay"||(l.push(g.format),u.push(Ky(g,"non-input",s)))}const d=l.join(" "),h=u.join(" ");return e.parse(h,d)},C6=e=>e.map(t=>`${t.startSeparator}${t.value||t.placeholder}${t.endSeparator}`).join(""),j6=(e,t,s)=>{const l=e.map(u=>{const d=Ky(u,s?"input-rtl":"input-ltr",t);return`${u.startSeparator}${d}${u.endSeparator}`}).join("");return s?`${l}`:l},k6=(e,t,s)=>{const a=e.date(void 0,s),l=e.endOfYear(a),u=e.endOfDay(a),{maxDaysInMonth:d,longestMonth:h}=qy(e,a).reduce((p,g)=>{const y=e.getDaysInMonth(g);return y>p.maxDaysInMonth?{maxDaysInMonth:y,longestMonth:g}:p},{maxDaysInMonth:0,longestMonth:null});return{year:({format:p})=>({minimum:0,maximum:S6(e,p)?9999:99}),month:()=>({minimum:1,maximum:e.getMonth(l)+1}),day:({currentDate:p})=>({minimum:1,maximum:e.isValid(p)?e.getDaysInMonth(p):d,longestMonth:h}),weekDay:({format:p,contentType:g})=>{if(g==="digit"){const y=kh(e,p).map(Number);return{minimum:Math.min(...y),maximum:Math.max(...y)}}return{minimum:1,maximum:7}},hours:({format:p})=>{const g=e.getHours(u);return Ar(e.formatByString(e.endOfDay(a),p),t)!==g.toString()?{minimum:1,maximum:Number(Ar(e.formatByString(e.startOfDay(a),p),t))}:{minimum:0,maximum:g}},minutes:()=>({minimum:0,maximum:e.getMinutes(u)}),seconds:()=>({minimum:0,maximum:e.getSeconds(u)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}},T6=(e,t,s,a)=>{switch(t.type){case"year":return e.setYear(a,e.getYear(s));case"month":return e.setMonth(a,e.getMonth(s));case"weekDay":{let l=e.formatByString(s,t.format);t.hasLeadingZerosInInput&&(l=$y(l,t.maxLength));const u=kh(e,t.format),d=u.indexOf(l),p=u.indexOf(t.value)-d;return e.addDays(s,p)}case"day":return e.setDate(a,e.getDate(s));case"meridiem":{const l=e.getHours(s)<12,u=e.getHours(a);return l&&u>=12?e.addHours(a,-12):!l&&u<12?e.addHours(a,12):a}case"hours":return e.setHours(a,e.getHours(s));case"minutes":return e.setMinutes(a,e.getMinutes(s));case"seconds":return e.setSeconds(a,e.getSeconds(s));default:return a}},y1={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},x1=(e,t,s,a,l)=>[...s].sort((u,d)=>y1[u.type]-y1[d.type]).reduce((u,d)=>!l||d.modified?T6(e,d,t,u):u,a),D6=()=>navigator.userAgent.toLowerCase().includes("android"),E6=(e,t)=>{const s={};if(!t)return e.forEach((p,g)=>{const y=g===0?null:g-1,v=g===e.length-1?null:g+1;s[g]={leftIndex:y,rightIndex:v}}),{neighbors:s,startIndex:0,endIndex:e.length-1};const a={},l={};let u=0,d=0,h=e.length-1;for(;h>=0;){d=e.findIndex((p,g)=>g>=u&&p.endSeparator?.includes(" ")&&p.endSeparator!==" / "),d===-1&&(d=e.length-1);for(let p=d;p>=u;p-=1)l[p]=h,a[h]=p,h-=1;u=d+1}return e.forEach((p,g)=>{const y=l[g],v=y===0?null:a[y-1],b=y===e.length-1?null:a[y+1];s[g]={leftIndex:v,rightIndex:b}}),{neighbors:s,startIndex:a[0],endIndex:a[e.length-1]}},hg=(e,t)=>{if(e==null)return null;if(e==="all")return"all";if(typeof e=="string"){const s=t.findIndex(a=>a.type===e);return s===-1?null:s}return e},A6=["value","referenceDate"],pi={emptyValue:null,getTodayValue:OT,getInitialReferenceValue:e=>{let{value:t,referenceDate:s}=e,a=ht(e,A6);return a.adapter.isValid(t)?t:s??x6(a)},cleanValue:u6,areValuesEqual:d6,isSameError:(e,t)=>e===t,hasError:e=>e!=null,defaultErrorState:null,getTimezone:(e,t)=>e.isValid(t)?e.getTimezone(t):null,setTimezone:(e,t,s)=>s==null?null:e.setTimezone(s,t)},M6={updateReferenceValue:(e,t,s)=>e.isValid(t)?t:s,getSectionsFromValue:(e,t)=>t(e),getV7HiddenInputValueFromSections:C6,getV6InputValueFromSections:j6,parseValueStr:(e,t,s)=>s(e.trim(),t),getDateFromSection:e=>e,getDateSectionsFromValue:e=>e,updateDateInValue:(e,t,s)=>s,clearDateSections:e=>e.map(t=>$({},t,{value:""}))};function P6(e){return Rn("MuiPickersToolbar",e)}_n("MuiPickersToolbar",["root","title","content"]);const O6=["localeText"],fg=x.createContext(null),Th=function(t){const{localeText:s}=t,a=ht(t,O6),{adapter:l,localeText:u}=x.useContext(fg)??{adapter:void 0,localeText:void 0},d=rn({props:a,name:"MuiLocalizationProvider"}),{children:h,dateAdapter:p,dateFormats:g,dateLibInstance:y,adapterLocale:v,localeText:b}=d,S=x.useMemo(()=>$({},b,u,s),[b,u,s]),T=x.useMemo(()=>{if(!p)return l||null;const j=new p({locale:v,formats:g,instance:y});if(!j.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/quickstart/#installation"].join(`
`));return j},[p,v,g,y,l]),k=x.useMemo(()=>T?{minDate:T.date("1900-01-01T00:00:00.000"),maxDate:T.date("2099-12-31T00:00:00.000")}:null,[T]),w=x.useMemo(()=>({utils:T,adapter:T,defaultDates:k,localeText:S}),[k,T,S]);return r.jsx(fg.Provider,{value:w,children:h})},NT=x.createContext(()=>!0);function R6(){return x.useContext(NT)}const LT=x.createContext(null);function zT(){return x.useContext(LT)}const Qy=x.createContext(null),rl=()=>{const e=x.useContext(Qy);if(e==null)throw new Error("MUI X: The `usePickerContext` hook can only be called inside the context of a Picker component");return e},VT=x.createContext(null),BT=x.createContext({ownerState:{isPickerDisabled:!1,isPickerReadOnly:!1,isPickerValueEmpty:!1,isPickerOpen:!1,pickerVariant:"desktop",pickerOrientation:"portrait"},rootRefObject:{current:null},labelId:void 0,dismissViews:()=>{},hasUIView:!0,getCurrentViewMode:()=>"UI",triggerElement:null,viewContainerRole:null,defaultActionBarActions:[],onPopperExited:void 0});function FT(e){const{contextValue:t,actionsContextValue:s,privateContextValue:a,fieldPrivateContextValue:l,isValidContextValue:u,localeText:d,children:h}=e;return r.jsx(Qy.Provider,{value:t,children:r.jsx(VT.Provider,{value:s,children:r.jsx(BT.Provider,{value:a,children:r.jsx(LT.Provider,{value:l,children:r.jsx(NT.Provider,{value:u,children:r.jsx(Th,{localeText:d,children:h})})})})})})}const Yn=()=>x.useContext(BT);function HT(){const{ownerState:e}=Yn(),t=Xi();return x.useMemo(()=>$({},e,{toolbarDirection:t?"rtl":"ltr"}),[e,t])}const _6=["children","className","classes","toolbarTitle","hidden","titleId","classes","landscapeDirection"],I6=e=>pn({root:["root"],title:["title"],content:["content"]},P6,e),W6=Qe("div",{name:"MuiPickersToolbar",slot:"Root"})(({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:e.spacing(2,3),variants:[{props:{pickerOrientation:"landscape"},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),N6=Qe("div",{name:"MuiPickersToolbar",slot:"Content",shouldForwardProp:e=>Pr(e)&&e!=="landscapeDirection"})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{pickerOrientation:"landscape"},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{pickerOrientation:"landscape",landscapeDirection:"row"},style:{flexDirection:"row"}}]}),L6=x.forwardRef(function(t,s){const a=rn({props:t,name:"MuiPickersToolbar"}),{children:l,className:u,classes:d,toolbarTitle:h,hidden:p,titleId:g,landscapeDirection:y}=a,v=ht(a,_6),b=HT(),S=I6(d);return p?null:r.jsxs(W6,$({ref:s,className:qn(S.root,u),ownerState:b},v,{children:[r.jsx(I,{color:"text.secondary",variant:"overline",id:g,className:S.title,children:h}),r.jsx(N6,{className:S.content,ownerState:b,landscapeDirection:y,children:l})]}))}),z6=e=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:$({},e)}}}}),UT={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:e=>e==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",nextStepButtonLabel:"Next",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",timeRangePickerToolbarTitle:"Select time range",clockLabelText:(e,t)=>`Select ${e}. ${t?`Selected time is ${t}`:"No time selected"}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:e=>e?`Choose date, selected date is ${e}`:"Choose date",openTimePickerDialogue:e=>e?`Choose time, selected time is ${e}`:"Choose time",openRangePickerDialogue:e=>e?`Choose range, selected range is ${e}`:"Choose range",fieldClearLabel:"Clear",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>e.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>e.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},V6=UT;z6(UT);const Xy=()=>{const e=x.useContext(fg);if(e===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(e.adapter===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const t=x.useMemo(()=>$({},V6,e.localeText),[e.localeText]);return x.useMemo(()=>$({},e,{localeText:t}),[e,t])},Ht=()=>Xy().adapter,Va=()=>Xy().localeText,pg=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],mg=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],qT=["minDateTime","maxDateTime"],B6=[...pg,...mg,...qT],YT=e=>B6.reduce((t,s)=>(e.hasOwnProperty(s)&&(t[s]=e[s]),t),{}),F6=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","unstableStartFieldRef","unstableEndFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator","autoFocus","focused"],GT=(e,t)=>x.useMemo(()=>{const s=$({},e),a={},l=u=>{s.hasOwnProperty(u)&&(a[u]=s[u],delete s[u])};return F6.forEach(l),t==="date"?pg.forEach(l):t==="time"?mg.forEach(l):t==="date-time"&&(pg.forEach(l),mg.forEach(l),qT.forEach(l)),{forwardedProps:s,internalProps:a}},[e,t]),H6=({adapter:e,format:t})=>{let s=10,a=t,l=e.expandFormat(t);for(;l!==a;)if(a=l,l=e.expandFormat(a),s-=1,s<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the component.");return l},U6=({adapter:e,expandedFormat:t})=>{const s=[],{start:a,end:l}=e.escapedCharacters,u=new RegExp(`(\\${a}[^\\${l}]*\\${l})+`,"g");let d=null;for(;d=u.exec(t);)s.push({start:d.index,end:u.lastIndex-1});return s},q6=(e,t,s,a)=>{switch(s.type){case"year":return t.fieldYearPlaceholder({digitAmount:e.formatByString(e.date(void 0,"default"),a).length,format:a});case"month":return t.fieldMonthPlaceholder({contentType:s.contentType,format:a});case"day":return t.fieldDayPlaceholder({format:a});case"weekDay":return t.fieldWeekDayPlaceholder({contentType:s.contentType,format:a});case"hours":return t.fieldHoursPlaceholder({format:a});case"minutes":return t.fieldMinutesPlaceholder({format:a});case"seconds":return t.fieldSecondsPlaceholder({format:a});case"meridiem":return t.fieldMeridiemPlaceholder({format:a});default:return a}},Y6=({adapter:e,date:t,shouldRespectLeadingZeros:s,localeText:a,localizedDigits:l,now:u,token:d,startSeparator:h})=>{if(d==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const p=RT(e,d),g=WT(e,p.contentType,p.type,d),y=s?g:p.contentType==="digit",v=e.isValid(t);let b=v?e.formatByString(t,d):"",S=null;if(y)if(g)S=b===""?e.formatByString(u,d).length:b.length;else{if(p.maxLength==null)throw new Error(`MUI X: The token ${d} should have a 'maxLength' property on it's adapter`);S=p.maxLength,v&&(b=Gy($y(Ar(b,l),S),l))}return $({},p,{format:d,maxLength:S,value:b,placeholder:q6(e,a,p,d),hasLeadingZerosInFormat:g,hasLeadingZerosInInput:y,startSeparator:h,endSeparator:"",modified:!1})},G6=e=>{const{adapter:t,expandedFormat:s,escapedParts:a}=e,l=t.date(void 0),u=[];let d="";const h=Object.keys(t.formatTokenMap).sort((S,T)=>T.length-S.length),p=/^([a-zA-Z]+)/,g=new RegExp(`^(${h.join("|")})*$`),y=new RegExp(`^(${h.join("|")})`),v=S=>a.find(T=>T.start<=S&&T.end>=S);let b=0;for(;b<s.length;){const S=v(b),T=S!=null,k=p.exec(s.slice(b))?.[1];if(!T&&k!=null&&g.test(k)){let w=k;for(;w.length>0;){const j=y.exec(w)[1];w=w.slice(j.length),u.push(Y6($({},e,{now:l,token:j,startSeparator:d}))),d=""}b+=k.length}else{const w=s[b];T&&S?.start===b||S?.end===b||(u.length===0?d+=w:(u[u.length-1].endSeparator+=w,u[u.length-1].isEndFormatSeparator=!0)),b+=1}}return u.length===0&&d.length>0&&u.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:d,endSeparator:"",modified:!1}),u},$6=({isRtl:e,formatDensity:t,sections:s})=>s.map(a=>{const l=u=>{let d=u;return e&&d!==null&&d.includes(" ")&&(d=`${d}`),t==="spacious"&&["/",".","-"].includes(d)&&(d=` ${d} `),d};return a.startSeparator=l(a.startSeparator),a.endSeparator=l(a.endSeparator),a}),b1=e=>{let t=H6(e);e.isRtl&&e.enableAccessibleFieldDOMStructure&&(t=t.split(" ").reverse().join(" "));const s=U6($({},e,{expandedFormat:t})),a=G6($({},e,{expandedFormat:t,escapedParts:s}));return $6($({},e,{sections:a}))},Zy=()=>x.useContext(Qy),K6=()=>{const e=x.useContext(VT);if(e==null)throw new Error(["MUI X: The `usePickerActionsContext` can only be called in fields that are used as a slot of a Picker component"].join(`
`));return e};function Q6(e){return Rn("MuiDatePickerToolbar",e)}_n("MuiDatePickerToolbar",["root","title"]);const X6=["toolbarFormat","toolbarPlaceholder","className","classes"],Z6=e=>pn({root:["root"],title:["title"]},Q6,e),J6=Qe(L6,{name:"MuiDatePickerToolbar",slot:"Root"})({}),ez=Qe(I,{name:"MuiDatePickerToolbar",slot:"Title"})({variants:[{props:{pickerOrientation:"landscape"},style:{margin:"auto 16px auto auto"}}]}),tz=x.forwardRef(function(t,s){const a=rn({props:t,name:"MuiDatePickerToolbar"}),{toolbarFormat:l,toolbarPlaceholder:u="",className:d,classes:h}=a,p=ht(a,X6),g=Ht(),{value:y,views:v,orientation:b}=rl(),S=Va(),T=HT(),k=Z6(h),w=x.useMemo(()=>{if(!g.isValid(y))return u;const j=Yy(g,{format:l,views:v},!0);return g.formatByString(y,j)},[y,l,u,g,v]);return r.jsx(J6,$({ref:s,toolbarTitle:S.datePickerToolbarTitle,className:qn(k.root,d)},p,{children:r.jsx(ez,{variant:"h4",align:b==="landscape"?"left":"center",ownerState:T,className:k.title,children:w})}))}),nu=({props:e,value:t,timezone:s,adapter:a})=>{if(t===null)return null;const{shouldDisableDate:l,shouldDisableMonth:u,shouldDisableYear:d,disablePast:h,disableFuture:p,minDate:g,maxDate:y}=e,v=a.date(void 0,s);switch(!0){case!a.isValid(t):return"invalidDate";case!!(l&&l(t)):return"shouldDisableDate";case!!(u&&u(t)):return"shouldDisableMonth";case!!(d&&d(t)):return"shouldDisableYear";case!!(p&&a.isAfterDay(t,v)):return"disableFuture";case!!(h&&a.isBeforeDay(t,v)):return"disablePast";case!!(g&&a.isBeforeDay(t,g)):return"minDate";case!!(y&&a.isAfterDay(t,y)):return"maxDate";default:return null}};nu.valueManager=pi;function $T(e){const{props:t,validator:s,value:a,timezone:l,onError:u}=e,d=Ht(),h=x.useRef(s.valueManager.defaultErrorState),p=s({adapter:d,value:a,timezone:l,props:t}),g=s.valueManager.hasError(p);x.useEffect(()=>{u&&!s.valueManager.isSameError(p,h.current)&&u(p,a),h.current=p},[s,u,p,a]);const y=Be(v=>s({adapter:d,value:v,timezone:l,props:t}));return{validationError:p,hasValidationError:g,getValidationErrorForNewValue:y}}const nz=()=>Xy().defaultDates,Dh=e=>{const t=Ht(),s=x.useRef(void 0);return s.current===void 0&&(s.current=t.date(void 0,e)),s.current};function sz(e={}){const{enableAccessibleFieldDOMStructure:t=!0}=e;return x.useMemo(()=>({valueType:"date",validator:nu,internal_valueManager:pi,internal_fieldValueManager:M6,internal_enableAccessibleFieldDOMStructure:t,internal_useApplyDefaultValuesToFieldInternalProps:az,internal_useOpenPickerButtonAriaLabel:iz}),[t])}function iz(e){const t=Ht(),s=Va();return x.useMemo(()=>{const a=t.isValid(e)?t.format(e,"fullDate"):null;return s.openDatePickerDialogue(a)},[e,s,t])}function az(e){const t=Ht(),s=su(e);return x.useMemo(()=>$({},e,s,{format:e.format??t.formats.keyboardDate}),[e,s,t])}function su(e){const t=Ht(),s=nz();return x.useMemo(()=>({disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,minDate:d1(t,e.minDate,s.minDate),maxDate:d1(t,e.maxDate,s.maxDate)}),[e.minDate,e.maxDate,e.disableFuture,e.disablePast,t,s])}function KT(e,t){const s=rn({props:e,name:t}),a=su(s),l=x.useMemo(()=>s.localeText?.toolbarTitle==null?s.localeText:$({},s.localeText,{datePickerToolbarTitle:s.localeText.toolbarTitle}),[s.localeText]);return $({},s,a,{localeText:l},c6({views:s.views,openTo:s.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{slots:$({toolbar:tz},s.slots)})}function rz(e){return Rn("MuiPickerPopper",e)}_n("MuiPickerPopper",["root","paper"]);function oz(e,t){return Array.isArray(t)?t.every(s=>e.indexOf(s)!==-1):e.indexOf(t)!==-1}const lz=e=>{setTimeout(e,0)},QT=(e=document)=>{const t=e.activeElement;return t?t.shadowRoot?QT(t.shadowRoot):t:null},Qn=e=>QT(hc(e)),cz="@media (pointer: fine)",uz=["PaperComponent","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],dz=e=>pn({root:["root"],paper:["paper"]},rz,e),hz=Qe(k2,{name:"MuiPickerPopper",slot:"Root"})(({theme:e})=>({zIndex:e.zIndex.modal})),fz=Qe(dc,{name:"MuiPickerPopper",slot:"Paper"})({outline:0,transformOrigin:"top center",variants:[{props:({popperPlacement:e})=>new Set(["top","top-start","top-end"]).has(e),style:{transformOrigin:"bottom center"}}]});function pz(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function mz(e,t){const s=x.useRef(!1),a=x.useRef(!1),l=x.useRef(null),u=x.useRef(!1);x.useEffect(()=>{if(!e)return;function p(){u.current=!0}return document.addEventListener("mousedown",p,!0),document.addEventListener("touchstart",p,!0),()=>{document.removeEventListener("mousedown",p,!0),document.removeEventListener("touchstart",p,!0),u.current=!1}},[e]);const d=Be(p=>{if(!u.current)return;const g=a.current;a.current=!1;const y=hc(l.current);if(!l.current||"clientX"in p&&pz(p,y))return;if(s.current){s.current=!1;return}let v;p.composedPath?v=p.composedPath().indexOf(l.current)>-1:v=!y.documentElement.contains(p.target)||l.current.contains(p.target),!v&&!g&&t(p)}),h=p=>{p.defaultMuiPrevented||(a.current=!0)};return x.useEffect(()=>{if(e){const p=hc(l.current),g=()=>{s.current=!0};return p.addEventListener("touchstart",d),p.addEventListener("touchmove",g),()=>{p.removeEventListener("touchstart",d),p.removeEventListener("touchmove",g)}}},[e,d]),x.useEffect(()=>{if(e){const p=hc(l.current);return p.addEventListener("click",d),()=>{p.removeEventListener("click",d),a.current=!1}}},[e,d]),[l,h,h]}const gz=x.forwardRef((e,t)=>{const{PaperComponent:s,ownerState:a,children:l,paperSlotProps:u,paperClasses:d,onPaperClick:h,onPaperTouchStart:p}=e,g=ht(e,uz),y=Ot({elementType:s,externalSlotProps:u,additionalProps:{tabIndex:-1,elevation:8,ref:t},className:d,ownerState:a});return r.jsx(s,$({},g,y,{onClick:v=>{h(v),y.onClick?.(v)},onTouchStart:v=>{p(v),y.onTouchStart?.(v)},ownerState:a,children:l}))});function yz(e){const t=rn({props:e,name:"MuiPickerPopper"}),{children:s,placement:a="bottom-start",slots:l,slotProps:u,classes:d}=t,{open:h,popupRef:p,reduceAnimations:g}=rl(),{ownerState:y,rootRefObject:v}=Yn(),{dismissViews:b,getCurrentViewMode:S,onPopperExited:T,triggerElement:k,viewContainerRole:w}=Yn();x.useEffect(()=>{function q(le){h&&le.key==="Escape"&&b()}return document.addEventListener("keydown",q),()=>{document.removeEventListener("keydown",q)}},[b,h]);const j=x.useRef(null);x.useEffect(()=>{w==="tooltip"||S()==="field"||(h?j.current=Qn(v.current):j.current&&j.current instanceof HTMLElement&&setTimeout(()=>{j.current instanceof HTMLElement&&j.current.focus()}))},[h,w,S,v]);const D=dz(d),A=Be(()=>{w==="tooltip"?lz(()=>{v.current?.contains(Qn(v.current))||p.current?.contains(Qn(p.current))||b()}):b()}),[_,P,M]=mz(h,A),R=x.useRef(null),N=fs(R,p),W=fs(N,_),U=q=>{q.key==="Escape"&&(q.stopPropagation(),b())},V=l?.desktopTransition??g?hh:C2,z=l?.desktopTrapFocus??j2,de=l?.desktopPaper??fz,F=l?.popper??hz,K=Ot({elementType:F,externalSlotProps:u?.popper,additionalProps:{transition:!0,role:w??void 0,open:h,placement:a,anchorEl:k,onKeyDown:U},className:D.root,ownerState:y}),B=x.useMemo(()=>$({},y,{popperPlacement:K.placement}),[y,K.placement]);return r.jsx(F,$({},K,{children:({TransitionProps:q})=>r.jsx(z,$({open:h,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:w==="tooltip",isEnabled:()=>!0},u?.desktopTrapFocus,{children:r.jsx(V,$({},q,u?.desktopTransition,{onExited:le=>{T?.(),u?.desktopTransition?.onExited?.(le),q?.onExited?.()},children:r.jsx(gz,{PaperComponent:de,ownerState:B,ref:W,onPaperClick:P,onPaperTouchStart:M,paperClasses:D.paper,paperSlotProps:u?.desktopPaper,children:s})}))}))}))}const xz="@media (prefers-reduced-motion: reduce)",Fo=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),v1=Fo&&Fo[1]?parseInt(Fo[1],10):null,S1=Fo&&Fo[2]?parseInt(Fo[2],10):null,bz=v1&&v1<10||S1&&S1<13||!1;function XT(e){const t=Og(xz,{defaultMatches:!1});return e??(t||bz)}const ZT={hasNextStep:!1,hasSeveralSteps:!1,goToNextStep:()=>{},areViewsInSameStep:()=>!0};function vz(e){const{steps:t,isViewMatchingStep:s,onStepChange:a}=e;return l=>{if(t==null)return ZT;const u=t.findIndex(h=>s(l.view,h)),d=u===-1||u===t.length-1?null:t[u+1];return{hasNextStep:d!=null,hasSeveralSteps:t.length>1,goToNextStep:()=>{d!=null&&a($({},l,{step:d}))},areViewsInSameStep:(h,p)=>{const g=t.find(v=>s(h,v)),y=t.find(v=>s(p,v));return g===y}}}}function JT({onChange:e,onViewChange:t,openTo:s,view:a,views:l,autoFocus:u,focusedView:d,onFocusedViewChange:h,getStepNavigation:p}){const g=x.useRef(s),y=x.useRef(l),v=x.useRef(l.includes(s)?s:l[0]),[b,S]=Yo({name:"useViews",state:"view",controlled:a,default:v.current}),T=x.useRef(u?b:null),[k,w]=Yo({name:"useViews",state:"focusedView",controlled:d,default:T.current}),j=p?p({setView:S,view:b,defaultView:v.current,views:l}):ZT;x.useEffect(()=>{(g.current&&g.current!==s||y.current&&y.current.some(W=>!l.includes(W)))&&(S(l.includes(s)?s:l[0]),y.current=l,g.current=s)},[s,S,b,l]);const D=l.indexOf(b),A=l[D-1]??null,_=l[D+1]??null,P=Be((W,U)=>{w(U?W:V=>W===V?null:V),h?.(W,U)}),M=Be(W=>{P(W,!0),W!==b&&(S(W),t&&t(W))}),R=Be(()=>{_&&M(_)}),N=Be((W,U,V)=>{const z=U==="finish",de=V?l.indexOf(V)<l.length-1:!!_;e(W,z&&de?"partial":U,V);let K=null;if(V!=null&&V!==b?K=V:z&&(K=b),K==null)return;const B=l[l.indexOf(K)+1];B==null||!j.areViewsInSameStep(K,B)||M(B)});return $({},j,{view:b,setView:M,focusedView:k,setFocusedView:P,nextView:_,previousView:A,defaultView:l.includes(s)?s:l[0],goToNextView:R,setValueAndGoToNextView:N})}function w1(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}function Sz(e,t){const[s,a]=x.useState(w1);return Gi(()=>{const l=()=>{a(w1())};return window.addEventListener("orientationchange",l),()=>{window.removeEventListener("orientationchange",l)}},[]),oz(e,["hours","minutes","seconds"])?"portrait":t??s}const iu=({name:e,timezone:t,value:s,defaultValue:a,referenceDate:l,onChange:u,valueManager:d})=>{const h=Ht(),[p,g]=Yo({name:e,state:"value",controlled:s,default:a??d.emptyValue}),y=x.useMemo(()=>d.getTimezone(h,p),[h,d,p]),v=Be(k=>y==null?k:d.setTimezone(h,y,k)),b=x.useMemo(()=>t||y||(l?h.getTimezone(Array.isArray(l)?l[0]:l):"default"),[t,y,l,h]),S=x.useMemo(()=>d.setTimezone(h,b,p),[d,h,b,p]),T=Be((k,...w)=>{const j=v(k);g(j),u?.(j,...w)});return{value:S,handleValueChange:T,timezone:b}};function wz(e){const{props:t,valueManager:s,validator:a}=e,{value:l,defaultValue:u,onChange:d,referenceDate:h,timezone:p,onAccept:g,closeOnSelect:y,open:v,onOpen:b,onClose:S}=t,{current:T}=x.useRef(u),{current:k}=x.useRef(l!==void 0),{current:w}=x.useRef(v!==void 0),j=Ht(),{timezone:D,value:A,handleValueChange:_}=iu({name:"a picker component",timezone:p,value:l,defaultValue:T,referenceDate:h,onChange:d,valueManager:s}),[P,M]=x.useState(()=>({open:!1,lastExternalValue:A,clockShallowValue:void 0,lastCommittedValue:A,hasBeenModifiedSinceMount:!1})),{getValidationErrorForNewValue:R}=$T({props:t,validator:a,timezone:D,value:A,onError:t.onError}),N=Be(z=>{const de=typeof z=="function"?z(P.open):z;w||M(F=>$({},F,{open:de})),de&&b&&b(),de||S?.()}),W=Be((z,de)=>{const{changeImportance:F="accept",skipPublicationIfPristine:K=!1,validationError:B,shortcut:q,shouldClose:le=F==="accept"}=de??{};let he,J;!K&&!k&&!P.hasBeenModifiedSinceMount?(he=!0,J=F==="accept"):(he=!s.areValuesEqual(j,z,A),J=F==="accept"&&!s.areValuesEqual(j,z,P.lastCommittedValue)),M(ae=>$({},ae,{clockShallowValue:he?void 0:ae.clockShallowValue,lastCommittedValue:J?z:ae.lastCommittedValue,hasBeenModifiedSinceMount:!0}));let ee=null;const Z=()=>(ee||(ee={validationError:B??R(z)},q&&(ee.shortcut=q)),ee);he&&_(z,Z()),J&&g&&g(z,Z()),le&&N(!1)});A!==P.lastExternalValue&&M(z=>$({},z,{lastExternalValue:A,clockShallowValue:void 0,hasBeenModifiedSinceMount:!0}));const U=Be((z,de="partial")=>{if(de==="shallow"){M(F=>$({},F,{clockShallowValue:z,hasBeenModifiedSinceMount:!0}));return}W(z,{changeImportance:de==="finish"&&y?"accept":"set"})});x.useEffect(()=>{if(w){if(v===void 0)throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");M(z=>$({},z,{open:v}))}},[w,v]);const V=x.useMemo(()=>s.cleanValue(j,P.clockShallowValue===void 0?A:P.clockShallowValue),[j,s,P.clockShallowValue,A]);return{timezone:D,state:P,setValue:W,setValueFromView:U,setOpen:N,value:A,viewValue:V}}const Cz=["className","sx"],eD=({ref:e,props:t,valueManager:s,valueType:a,variant:l,validator:u,onPopperExited:d,autoFocusView:h,rendererInterceptor:p,localeText:g,viewContainerRole:y,getStepNavigation:v})=>{const{views:b,view:S,openTo:T,onViewChange:k,viewRenderers:w,reduceAnimations:j,orientation:D,disableOpenPicker:A,closeOnSelect:_,disabled:P,readOnly:M,formatDensity:R,enableAccessibleFieldDOMStructure:N,selectedSections:W,onSelectedSectionsChange:U,format:V,label:z,autoFocus:de,name:F}=t,{className:K,sx:B}=t,q=ht(t,Cz),le=Rg(),he=Ht(),J=XT(j),ee=Sz(b,D),{current:Z}=x.useRef(T??null),[ae,ce]=x.useState(null),se=x.useRef(null),oe=x.useRef(null),ke=x.useRef(null),X=fs(e,ke),{timezone:ve,state:xe,setOpen:ge,setValue:Ee,setValueFromView:Le,value:je,viewValue:qe}=wz({props:t,valueManager:s,validator:u}),{view:fe,setView:ie,defaultView:Ve,focusedView:Pe,setFocusedView:Se,setValueAndGoToNextView:Ie,goToNextStep:G,hasNextStep:we,hasSeveralSteps:Ae}=JT({view:S,views:b,openTo:T,onChange:Le,onViewChange:k,autoFocus:h,getStepNavigation:v}),De=Be(()=>Ee(s.emptyValue)),Ne=Be(()=>Ee(s.getTodayValue(he,ve,a))),Fe=Be(()=>Ee(je)),ft=Be(()=>Ee(xe.lastCommittedValue,{skipPublicationIfPristine:!0})),Ye=Be(()=>{Ee(je,{skipPublicationIfPristine:!0})}),{hasUIView:Xe,viewModeLookup:Ce,timeViewsCount:Me}=x.useMemo(()=>b.reduce((ln,ts)=>{const xi=w[ts]==null?"field":"UI";return ln.viewModeLookup[ts]=xi,xi==="UI"&&(ln.hasUIView=!0,m6(ts)&&(ln.timeViewsCount+=1)),ln},{hasUIView:!1,viewModeLookup:{},timeViewsCount:0}),[w,b]),We=Ce[fe],Re=Be(()=>We),[Ge,ut]=x.useState(We==="UI"?fe:null);Ge!==fe&&Ce[fe]==="UI"&&ut(fe),Gi(()=>{We==="field"&&xe.open&&(ge(!1),setTimeout(()=>{oe?.current?.setSelectedSections(fe),oe?.current?.focusField(fe)}))},[fe]),Gi(()=>{if(!xe.open)return;let ln=fe;We==="field"&&Ge!=null&&(ln=Ge),ln!==Ve&&Ce[ln]==="UI"&&Ce[Ve]==="UI"&&(ln=Ve),ln!==fe&&ie(ln),Se(ln,!0)},[xe.open]);const st=x.useMemo(()=>({isPickerValueEmpty:s.areValuesEqual(he,je,s.emptyValue),isPickerOpen:xe.open,isPickerDisabled:t.disabled??!1,isPickerReadOnly:t.readOnly??!1,pickerOrientation:ee,pickerVariant:l}),[he,s,je,xe.open,ee,l,t.disabled,t.readOnly]),wt=x.useMemo(()=>A||!Xe?"hidden":P||M?"disabled":"enabled",[A,Xe,P,M]),Ut=Be(G),on=x.useMemo(()=>_&&!Ae?[]:["cancel","nextOrAccept"],[_,Ae]),Gn=x.useMemo(()=>({setValue:Ee,setOpen:ge,clearValue:De,setValueToToday:Ne,acceptValueChanges:Fe,cancelValueChanges:ft,setView:ie,goToNextStep:Ut}),[Ee,ge,De,Ne,Fe,ft,ie,Ut]),pt=x.useMemo(()=>$({},Gn,{value:je,timezone:ve,open:xe.open,views:b,view:Ge,initialView:Z,disabled:P??!1,readOnly:M??!1,autoFocus:de??!1,variant:l,orientation:ee,popupRef:se,reduceAnimations:J,triggerRef:ce,triggerStatus:wt,hasNextStep:we,fieldFormat:V??"",name:F,label:z,rootSx:B,rootRef:X,rootClassName:K}),[Gn,je,X,l,ee,J,P,M,V,K,F,z,B,wt,we,ve,xe.open,Ge,b,Z,de]),ks=x.useMemo(()=>({dismissViews:Ye,ownerState:st,hasUIView:Xe,getCurrentViewMode:Re,rootRefObject:ke,labelId:le,triggerElement:ae,viewContainerRole:y,defaultActionBarActions:on,onPopperExited:d}),[Ye,st,Xe,Re,le,ae,y,on,d]),ea=x.useMemo(()=>({formatDensity:R,enableAccessibleFieldDOMStructure:N,selectedSections:W,onSelectedSectionsChange:U,fieldRef:oe}),[R,N,W,U,oe]);return{providerProps:{localeText:g,contextValue:pt,privateContextValue:ks,actionsContextValue:Gn,fieldPrivateContextValue:ea,isValidContextValue:ln=>{const ts=u({adapter:he,value:ln,timezone:ve,props:t});return!s.hasError(ts)}},renderCurrentView:()=>{if(Ge==null)return null;const ln=w[Ge];if(ln==null)return null;const ts=$({},q,{views:b,timezone:ve,value:qe,onChange:Ie,view:Ge,onViewChange:ie,showViewSwitcher:Me>1,timeViewsCount:Me},y==="tooltip"?{focusedView:null,onFocusedViewChange:()=>{}}:{focusedView:Pe,onFocusedViewChange:Se});return p?r.jsx(p,{viewRenderers:w,popperView:Ge,rendererProps:ts}):ln(ts)},ownerState:st}};function tD(e){return Rn("MuiPickersLayout",e)}const or=_n("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),jz=["actions"],kz=Qe(wn,{name:"MuiPickersLayout",slot:"ActionBar"})({});function Tz(e){const{actions:t}=e,s=ht(e,jz),a=Va(),{clearValue:l,setValueToToday:u,acceptValueChanges:d,cancelValueChanges:h,goToNextStep:p,hasNextStep:g}=rl();if(t==null||t.length===0)return null;const y=t?.map(v=>{switch(v){case"clear":return r.jsx(Te,{onClick:l,children:a.clearButtonLabel},v);case"cancel":return r.jsx(Te,{onClick:h,children:a.cancelButtonLabel},v);case"accept":return r.jsx(Te,{onClick:d,children:a.okButtonLabel},v);case"today":return r.jsx(Te,{onClick:u,children:a.todayButtonLabel},v);case"next":return r.jsx(Te,{onClick:p,children:a.nextStepButtonLabel},v);case"nextOrAccept":return g?r.jsx(Te,{onClick:p,children:a.nextStepButtonLabel},v):r.jsx(Te,{onClick:d,children:a.okButtonLabel},v);default:return null}});return r.jsx(kz,$({},s,{children:y}))}const Dz=x.memo(Tz),zc=36,Eh=2,Ah=320,Ez=280,Jy=336,Az=["items","changeImportance"],Mz=["getValue"],Pz=Qe(Un,{name:"MuiPickersLayout",slot:"Shortcuts"})({});function Oz(e){const{items:t,changeImportance:s="accept"}=e,a=ht(e,Az),{setValue:l}=K6(),u=R6();if(t==null||t.length===0)return null;const d=t.map(h=>{let{getValue:p}=h,g=ht(h,Mz);const y=p({isValid:u});return $({},g,{label:g.label,onClick:()=>{l(y,{changeImportance:s,shortcut:g})},disabled:!u(y)})});return r.jsx(Pz,$({dense:!0,sx:[{maxHeight:Jy,maxWidth:200,overflow:"auto"},...Array.isArray(a.sx)?a.sx:[a.sx]]},a,{children:d.map(h=>r.jsx(lt,{children:r.jsx(ct,$({},h))},h.id??h.label))}))}const Rz=["ownerState"];function _z(e){return e.view!==null}const Iz=(e,t)=>{const{pickerOrientation:s}=t;return pn({root:["root",s==="landscape"&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},tD,e)},Wz=e=>{const{ownerState:t,defaultActionBarActions:s}=Yn(),{view:a}=rl(),l=Xi(),{children:u,slots:d,slotProps:h,classes:p}=e,g=x.useMemo(()=>$({},t,{layoutDirection:l?"rtl":"ltr",hasShortcuts:!1}),[t,l]),y=Iz(p,g),v=d?.actionBar??Dz,b=Ot({elementType:v,externalSlotProps:h?.actionBar,additionalProps:{actions:s},className:y.actionBar,ownerState:g}),S=ht(b,Rz),T=r.jsx(v,$({},S)),k=d?.toolbar,w=Ot({elementType:k,externalSlotProps:h?.toolbar,className:y.toolbar,ownerState:g}),j=_z(w)&&k?r.jsx(k,$({},w)):null,D=u,A=d?.tabs,_=a&&A?r.jsx(A,$({className:y.tabs},h?.tabs)):null,P=d?.shortcuts??Oz,M=Ot({elementType:P,externalSlotProps:h?.shortcuts,className:y.shortcuts,ownerState:g}),R=Array.isArray(M?.items)&&M.items.length>0,N=a&&P?r.jsx(P,$({},M)):null;return{toolbar:j,content:D,tabs:_,actionBar:T,shortcuts:N,ownerState:$({},g,{hasShortcuts:R})}},Nz=(e,t)=>{const{pickerOrientation:s}=t;return pn({root:["root",s==="landscape"&&"landscape"],contentWrapper:["contentWrapper"]},tD,e)},Lz=Qe("div",{name:"MuiPickersLayout",slot:"Root"})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${or.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{pickerOrientation:"landscape",hasShortcuts:!1},style:{[`& .${or.toolbar}`]:{gridColumn:1,gridRow:"1 / 3"}}},{props:{pickerOrientation:"landscape",hasShortcuts:!0},style:{[`& .${or.toolbar}`]:{gridColumn:"2 / 4",gridRow:1,maxWidth:"max-content"},[`& .${or.shortcuts}`]:{gridColumn:1,gridRow:2}}},{props:{pickerOrientation:"portrait"},style:{[`& .${or.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${or.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{hasShortcuts:!0,layoutDirection:"rtl"},style:{[`& .${or.shortcuts}`]:{gridColumn:4}}}]}),zz=Qe("div",{name:"MuiPickersLayout",slot:"ContentWrapper"})({gridColumn:"2 / 4",gridRow:2,display:"flex",flexDirection:"column"}),nD=x.forwardRef(function(t,s){const a=rn({props:t,name:"MuiPickersLayout"}),{toolbar:l,content:u,tabs:d,actionBar:h,shortcuts:p,ownerState:g}=Wz(a),{orientation:y,variant:v}=rl(),{sx:b,className:S,classes:T}=a,k=Nz(T,g);return r.jsxs(Lz,{ref:s,sx:b,className:qn(k.root,S),ownerState:g,children:[y==="landscape"?p:l,y==="landscape"?l:p,r.jsx(zz,{className:k.contentWrapper,ownerState:g,children:v==="desktop"?r.jsxs(x.Fragment,{children:[u,d]}):r.jsxs(x.Fragment,{children:[d,u]})}),h]})});function sD(e){const{steps:t}=e;return vz({steps:t,isViewMatchingStep:(s,a)=>a.views==null||a.views.includes(s),onStepChange:({step:s,defaultView:a,setView:l,view:u,views:d})=>{const h=s.views==null?a:s.views.find(p=>d.includes(p));h!==u&&l(h)}})}const Vz=["props","steps"],Bz=["ownerState"],Fz=e=>{let{props:t,steps:s}=e,a=ht(e,Vz);const{slots:l,slotProps:u,label:d,inputRef:h,localeText:p}=t,g=sD({steps:s}),{providerProps:y,renderCurrentView:v,ownerState:b}=eD($({},a,{props:t,localeText:p,autoFocusView:!0,viewContainerRole:"dialog",variant:"desktop",getStepNavigation:g})),S=y.privateContextValue.labelId,T=u?.toolbar?.hidden??!1,k=l.field,w=Ot({elementType:k,externalSlotProps:u?.field,additionalProps:$({},T&&{id:S}),ownerState:b}),j=ht(w,Bz),D=l.layout??nD;let A=S;T&&(d?A=`${S}-label`:A=void 0);const _=$({},u,{toolbar:$({},u?.toolbar,{titleId:S}),popper:$({"aria-labelledby":A},u?.popper)});return{renderPicker:()=>r.jsxs(FT,$({},y,{children:[r.jsx(k,$({},j,{slots:l,slotProps:_,inputRef:h})),r.jsx(yz,{slots:l,slotProps:_,children:r.jsx(D,$({},_?.layout,{slots:l,slotProps:_,children:v()}))})]}))}},ko=e=>e.saveQuery!=null,iD=({stateResponse:{localizedDigits:e,sectionsValueBoundaries:t,state:s,timezone:a,setCharacterQuery:l,setTempAndroidValueStr:u,updateSectionValue:d}})=>{const h=Ht(),p=({keyPressed:v,sectionIndex:b},S,T)=>{const k=v.toLowerCase(),w=s.sections[b];if(s.characterQuery!=null&&(!T||T(s.characterQuery.value))&&s.characterQuery.sectionIndex===b){const D=`${s.characterQuery.value}${k}`,A=S(D,w);if(!ko(A))return l({sectionIndex:b,value:D,sectionType:w.type}),A}const j=S(k,w);return ko(j)&&!j.saveQuery?(l(null),null):(l({sectionIndex:b,value:k,sectionType:w.type}),ko(j)?null:j)},g=v=>{const b=(k,w,j)=>{const D=w.filter(A=>A.toLowerCase().startsWith(j));return D.length===0?{saveQuery:!1}:{sectionValue:D[0],shouldGoToNextSection:D.length===1}},S=(k,w,j,D)=>{const A=_=>_T(h,a,w.type,_);if(w.contentType==="letter")return b(w.format,A(w.format),k);if(j&&D!=null&&RT(h,j).contentType==="letter"){const _=A(j),P=b(j,_,k);return ko(P)?{saveQuery:!1}:$({},P,{sectionValue:D(P.sectionValue,_)})}return{saveQuery:!1}};return p(v,(k,w)=>{switch(w.type){case"month":{const j=D=>g1(h,D,h.formats.month,w.format);return S(k,w,h.formats.month,j)}case"weekDay":{const j=(D,A)=>A.indexOf(D).toString();return S(k,w,h.formats.weekday,j)}case"meridiem":return S(k,w);default:return{saveQuery:!1}}})},y=v=>{const b=({queryValue:T,skipIfBelowMinimum:k,section:w})=>{const j=Ar(T,e),D=Number(j),A=t[w.type]({currentDate:null,format:w.format,contentType:w.contentType});if(D>A.maximum)return{saveQuery:!1};if(k&&D<A.minimum)return{saveQuery:!0};const _=D*10>A.maximum||j.length===A.maximum.toString().length;return{sectionValue:IT(h,D,A,e,w),shouldGoToNextSection:_}};return p(v,(T,k)=>{if(k.contentType==="digit"||k.contentType==="digit-with-letter")return b({queryValue:T,skipIfBelowMinimum:!1,section:k});if(k.type==="month"){WT(h,"digit","month","MM");const w=b({queryValue:T,skipIfBelowMinimum:!0,section:{type:k.type,format:"MM",hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2}});if(ko(w))return w;const j=g1(h,w.sectionValue,"MM",k.format);return $({},w,{sectionValue:j})}if(k.type==="weekDay"){const w=b({queryValue:T,skipIfBelowMinimum:!0,section:k});if(ko(w))return w;const j=kh(h,k.format)[Number(w.sectionValue)-1];return $({},w,{sectionValue:j})}return{saveQuery:!1}},T=>m1(T,e))};return Be(v=>{const b=s.sections[v.sectionIndex],T=m1(v.keyPressed,e)?y($({},v,{keyPressed:Gy(v.keyPressed,e)})):g(v);if(T==null){u(null);return}d({section:b,newSectionValue:T.sectionValue,shouldGoToNextSection:T.shouldGoToNextSection})})},Hz=5e3,aD=e=>{const t=Ht(),s=Va(),a=Xi(),{manager:{validator:l,valueType:u,internal_valueManager:d,internal_fieldValueManager:h},internalPropsWithDefaults:p,internalPropsWithDefaults:{value:g,defaultValue:y,referenceDate:v,onChange:b,format:S,formatDensity:T="dense",selectedSections:k,onSelectedSectionsChange:w,shouldRespectLeadingZeros:j=!1,timezone:D,enableAccessibleFieldDOMStructure:A=!0},forwardedProps:{error:_}}=e,{value:P,handleValueChange:M,timezone:R}=iu({name:"a field component",timezone:D,value:g,defaultValue:y,referenceDate:v,onChange:b,valueManager:d}),N=x.useRef(P);x.useEffect(()=>{N.current=P},[P]);const{hasValidationError:W}=$T({props:p,validator:l,timezone:R,value:P,onError:p.onError}),U=x.useMemo(()=>_!==void 0?_:W,[W,_]),V=x.useMemo(()=>v6(t),[t]),z=x.useMemo(()=>k6(t,V,R),[t,V,R]),de=x.useCallback(fe=>h.getSectionsFromValue(fe,ie=>b1({adapter:t,localeText:s,localizedDigits:V,format:S,date:ie,formatDensity:T,shouldRespectLeadingZeros:j,enableAccessibleFieldDOMStructure:A,isRtl:a})),[h,S,s,V,a,j,t,T,A]),[F,K]=x.useState(()=>{const fe=de(P),ie={sections:fe,lastExternalValue:P,lastSectionsDependencies:{format:S,isRtl:a,locale:t.locale},tempValueStrAndroid:null,characterQuery:null},Ve=y6(fe),Pe=d.getInitialReferenceValue({referenceDate:v,value:P,adapter:t,props:p,granularity:Ve,timezone:R});return $({},ie,{referenceValue:Pe})}),[B,q]=Yo({controlled:k,default:null,name:"useField",state:"selectedSections"}),le=fe=>{q(fe),w?.(fe)},he=x.useMemo(()=>hg(B,F.sections),[B,F.sections]),J=he==="all"?0:he,ee=x.useMemo(()=>E6(F.sections,a&&!A),[F.sections,a,A]),Z=x.useMemo(()=>F.sections.every(fe=>fe.value===""),[F.sections]),ae=fe=>{const ie={validationError:l({adapter:t,value:fe,timezone:R,props:p})};M(fe,ie)},ce=(fe,ie)=>{const Ve=[...F.sections];return Ve[fe]=$({},Ve[fe],{value:ie,modified:!0}),Ve},se=x.useRef(null),oe=Lo(),ke=fe=>{J!=null&&(se.current={sectionIndex:J,value:fe},oe.start(0,()=>{se.current=null}))},X=()=>{d.areValuesEqual(t,P,d.emptyValue)?K(fe=>$({},fe,{sections:fe.sections.map(ie=>$({},ie,{value:""})),tempValueStrAndroid:null,characterQuery:null})):(K(fe=>$({},fe,{characterQuery:null})),ae(d.emptyValue))},ve=()=>{if(J==null)return;const fe=F.sections[J];fe.value!==""&&(ke(""),h.getDateFromSection(P,fe)===null?K(ie=>$({},ie,{sections:ce(J,""),tempValueStrAndroid:null,characterQuery:null})):(K(ie=>$({},ie,{characterQuery:null})),ae(h.updateDateInValue(P,fe,null))))},xe=fe=>{const ie=(Pe,Se)=>{const Ie=t.parse(Pe,S);if(!t.isValid(Ie))return null;const G=b1({adapter:t,localeText:s,localizedDigits:V,format:S,date:Ie,formatDensity:T,shouldRespectLeadingZeros:j,enableAccessibleFieldDOMStructure:A,isRtl:a});return x1(t,Ie,G,Se,!1)},Ve=h.parseValueStr(fe,F.referenceValue,ie);ae(Ve)},ge=Lo(),Ee=({section:fe,newSectionValue:ie,shouldGoToNextSection:Ve})=>{oe.clear(),ge.clear();const Pe=h.getDateFromSection(P,fe);Ve&&J<F.sections.length-1&&le(J+1);const Se=ce(J,ie),Ie=h.getDateSectionsFromValue(Se,fe),G=w6(t,Ie,V);if(t.isValid(G)){const we=x1(t,G,Ie,h.getDateFromSection(F.referenceValue,fe),!0);return Pe==null&&ge.start(0,()=>{N.current===P&&K(Ae=>$({},Ae,{sections:h.clearDateSections(F.sections,fe),tempValueStrAndroid:null}))}),ae(h.updateDateInValue(P,fe,we))}return Ie.every(we=>we.value!=="")&&(Pe==null||t.isValid(Pe))?(ke(ie),ae(h.updateDateInValue(P,fe,G))):Pe!=null?(ke(ie),ae(h.updateDateInValue(P,fe,null))):K(we=>$({},we,{sections:Se,tempValueStrAndroid:null}))},Le=fe=>K(ie=>$({},ie,{tempValueStrAndroid:fe})),je=Be(fe=>{K(ie=>$({},ie,{characterQuery:fe}))});if(P!==F.lastExternalValue){const fe=se.current!=null&&!t.isValid(h.getDateFromSection(P,F.sections[se.current.sectionIndex]));let ie;fe?ie=ce(se.current.sectionIndex,se.current.value):ie=de(P),K(Ve=>$({},Ve,{lastExternalValue:P,sections:ie,sectionsDependencies:{format:S,isRtl:a,locale:t.locale},referenceValue:fe?Ve.referenceValue:h.updateReferenceValue(t,P,Ve.referenceValue),tempValueStrAndroid:null}))}if(a!==F.lastSectionsDependencies.isRtl||S!==F.lastSectionsDependencies.format||t.locale!==F.lastSectionsDependencies.locale){const fe=de(P);K(ie=>$({},ie,{lastSectionsDependencies:{format:S,isRtl:a,locale:t.locale},sections:fe,tempValueStrAndroid:null,characterQuery:null}))}F.characterQuery!=null&&!U&&J==null&&je(null),F.characterQuery!=null&&F.sections[F.characterQuery.sectionIndex]?.type!==F.characterQuery.sectionType&&je(null),x.useEffect(()=>{se.current!=null&&(se.current=null)});const qe=Lo();return x.useEffect(()=>(F.characterQuery!=null&&qe.start(Hz,()=>je(null)),()=>{}),[F.characterQuery,je,qe]),x.useEffect(()=>{F.tempValueStrAndroid!=null&&J!=null&&ve()},[F.sections]),{activeSectionIndex:J,areAllSectionsEmpty:Z,error:U,localizedDigits:V,parsedSelectedSections:he,sectionOrder:ee,sectionsValueBoundaries:z,state:F,timezone:R,value:P,clearValue:X,clearActiveSection:ve,setCharacterQuery:je,setSelectedSections:le,setTempAndroidValueStr:Le,updateSectionValue:Ee,updateValueFromValueStr:xe,getSectionsFromValue:de}};function rD(e){const{manager:{internal_useApplyDefaultValuesToFieldInternalProps:t},internalProps:s,skipContextFieldRefAssignment:a}=e,l=Zy(),u=zT(),d=fs(s.unstableFieldRef,a?null:u?.fieldRef),h=l?.setValue,p=x.useCallback((y,v)=>h?.(y,{validationError:v.validationError,shouldClose:!1}),[h]),g=x.useMemo(()=>u!=null&&l!=null?$({value:l.value,onChange:p,timezone:l.timezone,disabled:l.disabled,readOnly:l.readOnly,autoFocus:l.autoFocus&&!l.open,focused:l.open?!0:void 0,format:l.fieldFormat,formatDensity:u.formatDensity,enableAccessibleFieldDOMStructure:u.enableAccessibleFieldDOMStructure,selectedSections:u.selectedSections,onSelectedSectionsChange:u.onSelectedSectionsChange,unstableFieldRef:d},s):s,[l,u,s,p,d]);return t(g)}function ex(e){const{focused:t,domGetters:s,stateResponse:{parsedSelectedSections:a,state:l}}=e;if(!s.isReady())return;const u=hc(s.getRoot()).getSelection();if(!u)return;if(a==null){u.rangeCount>0&&u.getRangeAt(0).startContainer instanceof Node&&s.getRoot().contains(u.getRangeAt(0).startContainer)&&u.removeAllRanges(),t&&s.getRoot().blur();return}if(!s.getRoot().contains(Qn(s.getRoot())))return;const d=new window.Range;let h;a==="all"?h=s.getRoot():l.sections[a].type==="empty"?h=s.getSectionContainer(a):h=s.getSectionContent(a),d.selectNodeContents(h),h.focus(),u.removeAllRanges(),u.addRange(d)}function oD(e){const t=Ht(),{manager:{internal_fieldValueManager:s},internalPropsWithDefaults:{minutesStep:a,disabled:l,readOnly:u},stateResponse:{state:d,value:h,activeSectionIndex:p,parsedSelectedSections:g,sectionsValueBoundaries:y,localizedDigits:v,timezone:b,sectionOrder:S,clearValue:T,clearActiveSection:k,setSelectedSections:w,updateSectionValue:j}}=e;return Be(D=>{if(!l)switch(!0){case((D.ctrlKey||D.metaKey)&&String.fromCharCode(D.keyCode)==="A"&&!D.shiftKey&&!D.altKey):{D.preventDefault(),w("all");break}case D.key==="ArrowRight":{if(D.preventDefault(),g==null)w(S.startIndex);else if(g==="all")w(S.endIndex);else{const A=S.neighbors[g].rightIndex;A!==null&&w(A)}break}case D.key==="ArrowLeft":{if(D.preventDefault(),g==null)w(S.endIndex);else if(g==="all")w(S.startIndex);else{const A=S.neighbors[g].leftIndex;A!==null&&w(A)}break}case D.key==="Delete":{if(D.preventDefault(),u)break;g==null||g==="all"?T():k();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(D.key):{if(D.preventDefault(),u||p==null)break;g==="all"&&w(p);const A=d.sections[p],_=qz(t,b,A,D.key,y,v,s.getDateFromSection(h,A),{minutesStep:a});j({section:A,newSectionValue:_,shouldGoToNextSection:!1});break}}})}function Uz(e){switch(e){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}}function qz(e,t,s,a,l,u,d,h){const p=Uz(a),g=a==="Home",y=a==="End",v=s.value===""||g||y,b=()=>{const T=l[s.type]({currentDate:d,format:s.format,contentType:s.contentType}),k=D=>IT(e,D,T,u,s),w=s.type==="minutes"&&h?.minutesStep?h.minutesStep:1;let j;if(v){if(s.type==="year"&&!y&&!g)return e.formatByString(e.date(void 0,t),s.format);p>0||g?j=T.minimum:j=T.maximum}else j=parseInt(Ar(s.value,u),10)+p*w;return j%w!==0&&((p<0||g)&&(j+=w-(w+j)%w),(p>0||y)&&(j-=j%w)),j>T.maximum?k(T.minimum+(j-T.maximum-1)%(T.maximum-T.minimum+1)):j<T.minimum?k(T.maximum-(T.minimum-j-1)%(T.maximum-T.minimum+1)):k(j)},S=()=>{const T=_T(e,t,s.type,s.format);if(T.length===0)return s.value;if(v)return p>0||g?T[0]:T[T.length-1];const j=((T.indexOf(s.value)+p)%T.length+T.length)%T.length;return T[j]};return s.contentType==="digit"||s.contentType==="digit-with-letter"?b():S()}function Yz(e){const{manager:t,focused:s,setFocused:a,domGetters:l,stateResponse:u,applyCharacterEditing:d,internalPropsWithDefaults:h,stateResponse:{parsedSelectedSections:p,sectionOrder:g,state:y,clearValue:v,setCharacterQuery:b,setSelectedSections:S,updateValueFromValueStr:T},internalPropsWithDefaults:{disabled:k=!1,readOnly:w=!1}}=e,j=oD({manager:t,internalPropsWithDefaults:h,stateResponse:u}),D=Lo(),A=Be(N=>{k||!l.isReady()||(a(!0),p==="all"?D.start(0,()=>{const W=document.getSelection().getRangeAt(0).startOffset;if(W===0){S(g.startIndex);return}let U=0,V=0;for(;V<W&&U<y.sections.length;){const z=y.sections[U];U+=1,V+=`${z.startSeparator}${z.value||z.placeholder}${z.endSeparator}`.length}S(U-1)}):s?l.getRoot().contains(N.target)||S(g.startIndex):(a(!0),S(g.startIndex)))}),_=Be(N=>{if(!l.isReady()||p!=="all")return;const U=N.target.textContent??"";l.getRoot().innerHTML=y.sections.map(V=>`${V.startSeparator}${V.value||V.placeholder}${V.endSeparator}`).join(""),ex({focused:s,domGetters:l,stateResponse:u}),U.length===0||U.charCodeAt(0)===10?(v(),S("all")):U.length>1?T(U):(p==="all"&&S(0),d({keyPressed:U,sectionIndex:0}))}),P=Be(N=>{if(w||p!=="all"){N.preventDefault();return}const W=N.clipboardData.getData("text");N.preventDefault(),b(null),T(W)}),M=Be(()=>{if(s||k||!l.isReady())return;const N=Qn(l.getRoot());a(!0),l.getSectionIndexFromDOMElement(N)!=null||S(g.startIndex)}),R=Be(()=>{setTimeout(()=>{if(!l.isReady())return;const N=Qn(l.getRoot());!l.getRoot().contains(N)&&(a(!1),S(null))})});return{onKeyDown:j,onBlur:R,onFocus:M,onClick:A,onPaste:P,onInput:_,contentEditable:p==="all",tabIndex:h.disabled||p===0?-1:0}}function Gz(e){const{manager:{internal_fieldValueManager:t},stateResponse:{areAllSectionsEmpty:s,state:a,updateValueFromValueStr:l}}=e,u=Be(h=>{l(h.target.value)});return{value:x.useMemo(()=>s?"":t.getV7HiddenInputValueFromSections(a.sections),[s,a.sections,t]),onChange:u}}function $z(e){const{stateResponse:{setSelectedSections:t},internalPropsWithDefaults:{disabled:s=!1}}=e,a=x.useCallback(l=>u=>{s||u.isDefaultPrevented()||t(l)},[s,t]);return x.useCallback(l=>({"data-sectionindex":l,onClick:a(l)}),[a])}function Kz(e){const t=Ht(),s=Va(),{focused:a,domGetters:l,stateResponse:u,applyCharacterEditing:d,manager:{internal_fieldValueManager:h},stateResponse:{parsedSelectedSections:p,sectionsValueBoundaries:g,state:y,value:v,clearActiveSection:b,setCharacterQuery:S,setSelectedSections:T,updateSectionValue:k,updateValueFromValueStr:w},internalPropsWithDefaults:{disabled:j=!1,readOnly:D=!1}}=e,A=p==="all",_=!A&&!j&&!D,P=Be(V=>{if(!l.isReady())return;const z=y.sections[V];l.getSectionContent(V).innerHTML=z.value||z.placeholder,ex({focused:a,domGetters:l,stateResponse:u})}),M=Be(V=>{if(!l.isReady())return;const z=V.target,de=z.textContent??"",F=l.getSectionIndexFromDOMElement(z),K=y.sections[F];if(D){P(F);return}if(de.length===0){if(K.value===""){P(F);return}const B=V.nativeEvent.inputType;if(B==="insertParagraph"||B==="insertLineBreak"){P(F);return}P(F),b();return}d({keyPressed:de,sectionIndex:F}),P(F)}),R=Be(V=>{V.preventDefault()}),N=Be(V=>{if(V.preventDefault(),D||j||typeof p!="number")return;const z=y.sections[p],de=V.clipboardData.getData("text"),F=/^[a-zA-Z]+$/.test(de),K=/^[0-9]+$/.test(de),B=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(de);z.contentType==="letter"&&F||z.contentType==="digit"&&K||z.contentType==="digit-with-letter"&&B?(S(null),k({section:z,newSectionValue:de,shouldGoToNextSection:!0})):!F&&!K&&(S(null),w(de))}),W=Be(V=>{V.preventDefault(),V.dataTransfer.dropEffect="none"}),U=x.useCallback(V=>()=>{j||T(V)},[j,T]);return x.useCallback((V,z)=>{const de=g[V.type]({currentDate:h.getDateFromSection(v,V),contentType:V.contentType,format:V.format});return{onInput:M,onPaste:N,onMouseUp:R,onDragOver:W,onFocus:U(z),"aria-readonly":D,"aria-valuenow":Xz(V,t),"aria-valuemin":de.minimum,"aria-valuemax":de.maximum,"aria-valuetext":V.value?Qz(V,t):s.empty,"aria-label":s[V.type],"aria-disabled":j,tabIndex:!_||A||z>0?-1:0,contentEditable:!A&&!j&&!D,role:"spinbutton","data-range-position":V.dateName||void 0,spellCheck:_?!1:void 0,autoCapitalize:_?"none":void 0,autoCorrect:_?"off":void 0,children:V.value||V.placeholder,inputMode:V.contentType==="letter"?"text":"numeric"}},[g,A,j,D,_,s,t,M,N,R,W,U,h,v])}function Qz(e,t){if(e.value)switch(e.type){case"month":{if(e.contentType==="digit"){const a=t.setMonth(t.date(),Number(e.value)-1);return t.isValid(a)?t.format(a,"month"):""}const s=t.parse(e.value,e.format);return s&&t.isValid(s)?t.format(s,"month"):void 0}case"day":if(e.contentType==="digit"){const s=t.setDate(t.startOfYear(t.date()),Number(e.value));return t.isValid(s)?t.format(s,"dayOfMonthFull"):""}return e.value;case"weekDay":return;default:return}}function Xz(e,t){if(e.value)switch(e.type){case"weekDay":return e.contentType==="letter"?void 0:Number(e.value);case"meridiem":{const s=t.parse(`01:00 ${e.value}`,`${t.formats.hours12h}:${t.formats.minutes} ${e.format}`);return s?t.getHours(s)>=12?1:0:void 0}case"day":return e.contentType==="digit-with-letter"?parseInt(e.value,10):Number(e.value);case"month":{if(e.contentType==="digit")return Number(e.value);const s=t.parse(e.value,e.format);return s?t.getMonth(s)+1:void 0}default:return e.contentType!=="letter"?Number(e.value):void 0}}const Zz=e=>{const{props:t,manager:s,skipContextFieldRefAssignment:a,manager:{valueType:l,internal_useOpenPickerButtonAriaLabel:u}}=e,{internalProps:d,forwardedProps:h}=GT(t,l),p=rD({manager:s,internalProps:d,skipContextFieldRefAssignment:a}),{sectionListRef:g,onBlur:y,onClick:v,onFocus:b,onInput:S,onPaste:T,onKeyDown:k,onClear:w,clearable:j}=h,{disabled:D=!1,readOnly:A=!1,autoFocus:_=!1,focused:P,unstableFieldRef:M}=p,R=x.useRef(null),N=fs(g,R),W=x.useMemo(()=>({isReady:()=>R.current!=null,getRoot:()=>R.current.getRoot(),getSectionContainer:fe=>R.current.getSectionContainer(fe),getSectionContent:fe=>R.current.getSectionContent(fe),getSectionIndexFromDOMElement:fe=>R.current.getSectionIndexFromDOMElement(fe)}),[R]),U=aD({manager:s,internalPropsWithDefaults:p,forwardedProps:h}),{areAllSectionsEmpty:V,error:z,parsedSelectedSections:de,sectionOrder:F,state:K,value:B,clearValue:q,setSelectedSections:le}=U,he=iD({stateResponse:U}),J=u(B),[ee,Z]=x.useState(!1);function ae(fe=0){if(D||!R.current||C1(R)!=null)return;const ie=hg(fe,K.sections);Z(!0),R.current.getSectionContent(ie).focus()}const ce=Yz({manager:s,internalPropsWithDefaults:p,stateResponse:U,applyCharacterEditing:he,focused:ee,setFocused:Z,domGetters:W}),se=Gz({manager:s,stateResponse:U}),oe=$z({stateResponse:U,internalPropsWithDefaults:p}),ke=Kz({manager:s,stateResponse:U,applyCharacterEditing:he,internalPropsWithDefaults:p,domGetters:W,focused:ee}),X=Be(fe=>{k?.(fe),ce.onKeyDown(fe)}),ve=Be(fe=>{y?.(fe),ce.onBlur(fe)}),xe=Be(fe=>{b?.(fe),ce.onFocus(fe)}),ge=Be(fe=>{fe.isDefaultPrevented()||(v?.(fe),ce.onClick(fe))}),Ee=Be(fe=>{T?.(fe),ce.onPaste(fe)}),Le=Be(fe=>{S?.(fe),ce.onInput(fe)}),je=Be((fe,...ie)=>{fe.preventDefault(),w?.(fe,...ie),q(),j1(R)?le(F.startIndex):ae(0)}),qe=x.useMemo(()=>K.sections.map((fe,ie)=>{const Ve=ke(fe,ie);return{container:oe(ie),content:ke(fe,ie),before:{children:fe.startSeparator},after:{children:fe.endSeparator,"data-range-position":fe.isEndFormatSeparator?Ve["data-range-position"]:void 0}}}),[K.sections,oe,ke]);return x.useEffect(()=>{if(R.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please add the `enableAccessibleFieldDOMStructure={false}` prop to your Picker or Field component:","","<DatePicker enableAccessibleFieldDOMStructure={false} slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));_&&!D&&R.current&&R.current.getSectionContent(F.startIndex).focus()},[]),Gi(()=>{if(!(!ee||!R.current)){if(de==="all")R.current.getRoot().focus();else if(typeof de=="number"){const fe=R.current.getSectionContent(de);fe&&fe.focus()}}},[de,ee]),Gi(()=>{ex({focused:ee,domGetters:W,stateResponse:U})}),x.useImperativeHandle(M,()=>({getSections:()=>K.sections,getActiveSectionIndex:()=>C1(R),setSelectedSections:fe=>{if(D||!R.current)return;const ie=hg(fe,K.sections);Z((ie==="all"?0:ie)!==null),le(fe)},focusField:ae,isFieldFocused:()=>j1(R)})),$({},h,ce,{onBlur:ve,onClick:ge,onFocus:xe,onInput:Le,onPaste:Ee,onKeyDown:X,onClear:je},se,{error:z,clearable:!!(j&&!V&&!A&&!D),focused:P??ee,sectionListRef:N,enableAccessibleFieldDOMStructure:!0,elements:qe,areAllSectionsEmpty:V,disabled:D,readOnly:A,autoFocus:_,openPickerAriaLabel:J})};function C1(e){const t=Qn(e.current?.getRoot());return!t||!e.current||!e.current.getRoot().contains(t)?null:e.current.getSectionIndexFromDOMElement(t)}function j1(e){const t=Qn(e.current?.getRoot());return!!e.current&&e.current.getRoot().contains(t)}const Wo=e=>e.replace(/[\u2066\u2067\u2068\u2069]/g,""),Jz=(e,t,s)=>{let a=0,l=s?1:0;const u=[];for(let d=0;d<e.length;d+=1){const h=e[d],p=Ky(h,s?"input-rtl":"input-ltr",t),g=`${h.startSeparator}${p}${h.endSeparator}`,y=Wo(g).length,v=g.length,b=Wo(p),S=l+(b===""?0:p.indexOf(b[0]))+h.startSeparator.length,T=S+b.length;u.push($({},h,{start:a,end:a+y,startInInput:S,endInInput:T})),a+=y,l+=v}return u},eV=e=>{const t=Xi(),s=Lo(),a=Lo(),{props:l,manager:u,skipContextFieldRefAssignment:d,manager:{valueType:h,internal_valueManager:p,internal_fieldValueManager:g,internal_useOpenPickerButtonAriaLabel:y}}=e,{internalProps:v,forwardedProps:b}=GT(l,h),S=rD({manager:u,internalProps:v,skipContextFieldRefAssignment:d}),{onFocus:T,onClick:k,onPaste:w,onBlur:j,onKeyDown:D,onClear:A,clearable:_,inputRef:P,placeholder:M}=b,{readOnly:R=!1,disabled:N=!1,autoFocus:W=!1,focused:U,unstableFieldRef:V}=S,z=x.useRef(null),de=fs(P,z),F=aD({manager:u,internalPropsWithDefaults:S,forwardedProps:b}),{activeSectionIndex:K,areAllSectionsEmpty:B,error:q,localizedDigits:le,parsedSelectedSections:he,sectionOrder:J,state:ee,value:Z,clearValue:ae,clearActiveSection:ce,setCharacterQuery:se,setSelectedSections:oe,setTempAndroidValueStr:ke,updateSectionValue:X,updateValueFromValueStr:ve,getSectionsFromValue:xe}=F,ge=iD({stateResponse:F}),Ee=y(Z),Le=x.useMemo(()=>Jz(ee.sections,le,t),[ee.sections,le,t]);function je(){const Ye=z.current.selectionStart??0;let Xe;Ye<=Le[0].startInInput||Ye>=Le[Le.length-1].endInInput?Xe=1:Xe=Le.findIndex(Me=>Me.startInInput-Me.startSeparator.length>Ye);const Ce=Xe===-1?Le.length-1:Xe-1;oe(Ce)}function qe(Ye=0){Qn(z.current)!==z.current&&(z.current?.focus(),oe(Ye))}const fe=Be(Ye=>{T?.(Ye);const Xe=z.current;s.start(0,()=>{!Xe||Xe!==z.current||K==null&&(Xe.value.length&&Number(Xe.selectionEnd)-Number(Xe.selectionStart)===Xe.value.length?oe("all"):je())})}),ie=Be((Ye,...Xe)=>{Ye.isDefaultPrevented()||(k?.(Ye,...Xe),je())}),Ve=Be(Ye=>{if(w?.(Ye),Ye.preventDefault(),R||N)return;const Xe=Ye.clipboardData.getData("text");if(typeof he=="number"){const Ce=ee.sections[he],Me=/^[a-zA-Z]+$/.test(Xe),We=/^[0-9]+$/.test(Xe),Re=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(Xe);if(Ce.contentType==="letter"&&Me||Ce.contentType==="digit"&&We||Ce.contentType==="digit-with-letter"&&Re){se(null),X({section:Ce,newSectionValue:Xe,shouldGoToNextSection:!0});return}if(Me||We)return}se(null),ve(Xe)}),Pe=Be(Ye=>{j?.(Ye),oe(null)}),Se=Be(Ye=>{if(R)return;const Xe=Ye.target.value;if(Xe===""){ae();return}const Ce=Ye.nativeEvent.data,Me=Ce&&Ce.length>1,We=Me?Ce:Xe,Re=Wo(We);if(he==="all"&&oe(K),K==null||Me){ve(Me?Ce:Re);return}let Ge;if(he==="all"&&Re.length===1)Ge=Re;else{const ut=Wo(g.getV6InputValueFromSections(Le,le,t));let st=-1,wt=-1;for(let pt=0;pt<ut.length;pt+=1)st===-1&&ut[pt]!==Re[pt]&&(st=pt),wt===-1&&ut[ut.length-pt-1]!==Re[Re.length-pt-1]&&(wt=pt);const Ut=Le[K];if(st<Ut.start||ut.length-wt-1>Ut.end)return;const Gn=Re.length-ut.length+Ut.end-Wo(Ut.endSeparator||"").length;Ge=Re.slice(Ut.start+Wo(Ut.startSeparator||"").length,Gn)}if(Ge.length===0){D6()&&ke(We),ce();return}ge({keyPressed:Ge,sectionIndex:K})}),Ie=Be((Ye,...Xe)=>{Ye.preventDefault(),A?.(Ye,...Xe),ae(),k1(z)?oe(J.startIndex):qe(0)}),G=oD({manager:u,internalPropsWithDefaults:S,stateResponse:F}),we=Be(Ye=>{D?.(Ye),G(Ye)}),Ae=x.useMemo(()=>M!==void 0?M:g.getV6InputValueFromSections(xe(p.emptyValue),le,t),[M,g,xe,p.emptyValue,le,t]),De=x.useMemo(()=>ee.tempValueStrAndroid??g.getV6InputValueFromSections(ee.sections,le,t),[ee.sections,g,ee.tempValueStrAndroid,le,t]);x.useEffect(()=>{z.current&&z.current===Qn(z.current)&&oe("all")},[]),Gi(()=>{function Ye(){if(!z.current)return;if(he==null){z.current.scrollLeft&&(z.current.scrollLeft=0);return}if(z.current!==Qn(z.current))return;const Xe=z.current.scrollTop;if(he==="all")z.current.select();else{const Ce=Le[he],Me=Ce.type==="empty"?Ce.startInInput-Ce.startSeparator.length:Ce.startInInput,We=Ce.type==="empty"?Ce.endInInput+Ce.endSeparator.length:Ce.endInInput;(Me!==z.current.selectionStart||We!==z.current.selectionEnd)&&z.current===Qn(z.current)&&z.current.setSelectionRange(Me,We),a.start(0,()=>{z.current&&z.current===Qn(z.current)&&z.current.selectionStart===z.current.selectionEnd&&(z.current.selectionStart!==Me||z.current.selectionEnd!==We)&&Ye()})}z.current.scrollTop=Xe}Ye()});const Ne=x.useMemo(()=>K==null||ee.sections[K].contentType==="letter"?"text":"numeric",[K,ee.sections]),ft=!(z.current&&z.current===Qn(z.current))&&B;return x.useImperativeHandle(V,()=>({getSections:()=>ee.sections,getActiveSectionIndex:()=>{const Ye=z.current.selectionStart??0,Xe=z.current.selectionEnd??0;if(Ye===0&&Xe===0)return null;const Ce=Ye<=Le[0].startInInput?1:Le.findIndex(Me=>Me.startInInput-Me.startSeparator.length>Ye);return Ce===-1?Le.length-1:Ce-1},setSelectedSections:Ye=>oe(Ye),focusField:qe,isFieldFocused:()=>k1(z)})),$({},b,{error:q,clearable:!!(_&&!B&&!R&&!N),onBlur:Pe,onClick:ie,onFocus:fe,onPaste:Ve,onKeyDown:we,onClear:Ie,inputRef:de,enableAccessibleFieldDOMStructure:!1,placeholder:Ae,inputMode:Ne,autoComplete:"off",value:ft?"":De,onChange:Se,focused:U,disabled:N,readOnly:R,autoFocus:W,openPickerAriaLabel:Ee})};function k1(e){return e.current===Qn(e.current)}const tV=e=>{const t=zT();return(e.props.enableAccessibleFieldDOMStructure??t?.enableAccessibleFieldDOMStructure??!0?Zz:eV)(e)},nV=e=>{const t=sz(e);return tV({manager:t,props:e})};function tx(e){const{ownerState:t}=Yn(),s=Xi();return x.useMemo(()=>$({},t,{isFieldDisabled:e.disabled??!1,isFieldReadOnly:e.readOnly??!1,isFieldRequired:e.required??!1,fieldDirection:s?"rtl":"ltr"}),[t,e.disabled,e.readOnly,e.required,s])}const sV=Na(r.jsx("path",{d:"M7 10l5 5 5-5z"})),iV=Na(r.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"})),aV=Na(r.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})),rV=Na(r.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}));Na(r.jsxs(x.Fragment,{children:[r.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),r.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}));Na(r.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}));Na(r.jsxs(x.Fragment,{children:[r.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),r.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}));const oV=Na(r.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));function lV(e){return Rn("MuiPickersTextField",e)}_n("MuiPickersTextField",["root","focused","disabled","error","required"]);function cV(e){return Rn("MuiPickersInputBase",e)}const Ho=_n("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input","inputSizeSmall","activeBar"]);function uV(e){return Rn("MuiPickersSectionList",e)}const Ao=_n("MuiPickersSectionList",["root","section","sectionContent"]),dV=["slots","slotProps","elements","sectionListRef","classes"],lD=Qe("div",{name:"MuiPickersSectionList",slot:"Root"})({direction:"ltr /*! @noflip */",outline:"none"}),cD=Qe("span",{name:"MuiPickersSectionList",slot:"Section"})({}),uD=Qe("span",{name:"MuiPickersSectionList",slot:"SectionSeparator"})({whiteSpace:"pre"}),dD=Qe("span",{name:"MuiPickersSectionList",slot:"SectionContent"})({outline:"none"}),hV=e=>pn({root:["root"],section:["section"],sectionContent:["sectionContent"]},uV,e);function fV(e){const{slots:t,slotProps:s,element:a,classes:l}=e,{ownerState:u}=Yn(),d=t?.section??cD,h=Ot({elementType:d,externalSlotProps:s?.section,externalForwardedProps:a.container,className:l.section,ownerState:u}),p=t?.sectionContent??dD,g=Ot({elementType:p,externalSlotProps:s?.sectionContent,externalForwardedProps:a.content,additionalProps:{suppressContentEditableWarning:!0},className:l.sectionContent,ownerState:u}),y=t?.sectionSeparator??uD,v=Ot({elementType:y,externalSlotProps:s?.sectionSeparator,externalForwardedProps:a.before,ownerState:$({},u,{separatorPosition:"before"})}),b=Ot({elementType:y,externalSlotProps:s?.sectionSeparator,externalForwardedProps:a.after,ownerState:$({},u,{separatorPosition:"after"})}),S=x.useRef(null),T=fs(g.ref,S),k=w=>{const j=w.relatedTarget,D=w.currentTarget.closest(`.${Ao.root}`);if(D&&j instanceof Node&&D.contains(j)){w.stopPropagation();return}};return r.jsxs(d,$({},h,{children:[r.jsx(y,$({},v)),r.jsx(p,$({},g,{ref:T,onBlur:k})),r.jsx(y,$({},b))]}))}const pV=x.forwardRef(function(t,s){const a=rn({props:t,name:"MuiPickersSectionList"}),{slots:l,slotProps:u,elements:d,sectionListRef:h,classes:p}=a,g=ht(a,dV),y=hV(p),{ownerState:v}=Yn(),b=x.useRef(null),S=fs(s,b),T=j=>{if(!b.current)throw new Error(`MUI X: Cannot call sectionListRef.${j} before the mount of the component.`);return b.current};x.useImperativeHandle(h,()=>({getRoot(){return T("getRoot")},getSectionContainer(j){return T("getSectionContainer").querySelector(`.${Ao.section}[data-sectionindex="${j}"]`)},getSectionContent(j){return T("getSectionContent").querySelector(`.${Ao.section}[data-sectionindex="${j}"] .${Ao.sectionContent}`)},getSectionIndexFromDOMElement(j){const D=T("getSectionIndexFromDOMElement");if(j==null||!D.contains(j))return null;let A=null;return j.classList.contains(Ao.section)?A=j:j.classList.contains(Ao.sectionContent)&&(A=j.parentElement),A==null?null:Number(A.dataset.sectionindex)}}));const k=l?.root??lD,w=Ot({elementType:k,externalSlotProps:u?.root,externalForwardedProps:g,additionalProps:{ref:S,suppressContentEditableWarning:!0},className:y.root,ownerState:v});return r.jsx(k,$({},w,{children:w.contentEditable?d.map(({content:j,before:D,after:A})=>`${D.children}${j.children}${A.children}`).join(""):r.jsx(x.Fragment,{children:d.map((j,D)=>r.jsx(fV,{slots:l,slotProps:u,element:j,classes:y},D))})}))}),hD=x.createContext(null),Mh=()=>{const e=x.useContext(hD);if(e==null)throw new Error(["MUI X: The `usePickerTextFieldOwnerState` can only be called in components that are used inside a PickerTextField component"].join(`
`));return e},mV=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef","onFocus","onBlur","classes","ownerState"],gV=e=>Math.round(e*1e5)/1e5,Ph=Qe("div",{name:"MuiPickersInputBase",slot:"Root"})(({theme:e})=>$({},e.typography.body1,{color:(e.vars||e).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${gV(.15/16)}em`,variants:[{props:{isInputInFullWidth:!0},style:{width:"100%"}}]})),nx=Qe(lD,{name:"MuiPickersInputBase",slot:"SectionsContainer"})(({theme:e})=>({padding:"4px 0 5px",fontFamily:e.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{fieldDirection:"rtl"},style:{justifyContent:"end"}},{props:{inputSize:"small"},style:{paddingTop:1}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0},style:{color:"currentColor",opacity:0}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0,inputHasLabel:!1},style:e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:e.palette.mode==="light"?.42:.5}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0,inputHasLabel:!0,isLabelShrunk:!0},style:e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:e.palette.mode==="light"?.42:.5}}]})),yV=Qe(cD,{name:"MuiPickersInputBase",slot:"Section"})(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"inline-block",whiteSpace:"nowrap"})),xV=Qe(dD,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(e,t)=>t.content})(({theme:e})=>({fontFamily:e.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),bV=Qe(uD,{name:"MuiPickersInputBase",slot:"Separator"})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),vV=Qe("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(e,t)=>t.hiddenInput})($({},D2)),SV=Qe("div",{name:"MuiPickersInputBase",slot:"ActiveBar"})(({theme:e,ownerState:t})=>({display:"none",position:"absolute",height:2,bottom:2,borderTopLeftRadius:2,borderTopRightRadius:2,transition:e.transitions.create(["width","left"],{duration:e.transitions.duration.shortest}),backgroundColor:(e.vars||e).palette.primary.main,'[data-active-range-position="start"] &, [data-active-range-position="end"] &':{display:"block"},'[data-active-range-position="start"] &':{left:t.sectionOffsets[0]},'[data-active-range-position="end"] &':{left:t.sectionOffsets[1]}})),wV=(e,t)=>{const{isFieldFocused:s,isFieldDisabled:a,isFieldReadOnly:l,hasFieldError:u,inputSize:d,isInputInFullWidth:h,inputColor:p,hasStartAdornment:g,hasEndAdornment:y}=t,v={root:["root",s&&!a&&"focused",a&&"disabled",l&&"readOnly",u&&"error",h&&"fullWidth",`color${T2(p)}`,d==="small"&&"inputSizeSmall",g&&"adornedStart",y&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"],activeBar:["activeBar"]};return pn(v,cV,e)};function T1(e,t,s,a){if(e.content.id){const l=t.current?.querySelectorAll(`[data-sectionindex="${s}"] [data-range-position="${a}"]`);if(l)return Array.from(l).reduce((u,d)=>u+d.offsetWidth,0)}return 0}function CV(e,t){let s=0;if(t.current?.getAttribute("data-active-range-position")==="end")for(let l=e.length-1;l>=e.length/2;l-=1)s+=T1(e[l],t,l,"end");else for(let l=0;l<e.length/2;l+=1)s+=T1(e[l],t,l,"start");return{activeBarWidth:s,sectionOffsets:[t.current?.querySelector('[data-sectionindex="0"]')?.offsetLeft||0,t.current?.querySelector(`[data-sectionindex="${e.length/2}"]`)?.offsetLeft||0]}}const sx=x.forwardRef(function(t,s){const a=rn({props:t,name:"MuiPickersInputBase"}),{elements:l,areAllSectionsEmpty:u,value:d,onChange:h,id:p,endAdornment:g,startAdornment:y,renderSuffix:v,slots:b,slotProps:S,contentEditable:T,tabIndex:k,onInput:w,onPaste:j,onKeyDown:D,name:A,readOnly:_,inputProps:P,inputRef:M,sectionListRef:R,onFocus:N,onBlur:W,classes:U,ownerState:V}=a,z=ht(a,mV),de=Mh(),F=x.useRef(null),K=x.useRef(null),B=x.useRef([]),q=fs(s,F),le=fs(P?.ref,M),he=SC();if(!he)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const J=V??de,ee=xe=>{he.onFocus?.(xe),N?.(xe)},Z=xe=>{ee(xe)},ae=xe=>{if(D?.(xe),xe.key==="Enter"&&!xe.defaultMuiPrevented){if(F.current?.dataset.multiInput)return;const ge=F.current?.closest("form"),Ee=ge?.querySelector('[type="submit"]');if(!ge||!Ee)return;xe.preventDefault(),ge.requestSubmit(Ee)}},ce=xe=>{he.onBlur?.(xe),W?.(xe)};x.useEffect(()=>{he&&he.setAdornedStart(!!y)},[he,y]),x.useEffect(()=>{he&&(u?he.onEmpty():he.onFilled())},[he,u]);const se=wV(U,J),oe=b?.root||Ph,ke=Ot({elementType:oe,externalSlotProps:S?.root,externalForwardedProps:z,additionalProps:{"aria-invalid":he.error,ref:q},className:se.root,ownerState:J}),X=b?.input||nx,ve=l.some(xe=>xe.content["data-range-position"]!==void 0);return x.useEffect(()=>{if(!ve||!J.isPickerOpen)return;const{activeBarWidth:xe,sectionOffsets:ge}=CV(l,F);B.current=[ge[0],ge[1]],K.current&&(K.current.style.width=`${xe}px`)},[l,ve,J.isPickerOpen]),r.jsxs(oe,$({},ke,{children:[y,r.jsx(pV,{sectionListRef:R,elements:l,contentEditable:T,tabIndex:k,className:se.sectionsContainer,onFocus:ee,onBlur:ce,onInput:w,onPaste:j,onKeyDown:ae,slots:{root:X,section:yV,sectionContent:xV,sectionSeparator:bV},slotProps:{root:$({},S?.input,{ownerState:J}),sectionContent:{className:Ho.sectionContent},sectionSeparator:({separatorPosition:xe})=>({className:xe==="before"?Ho.sectionBefore:Ho.sectionAfter})}}),g,v?v($({},he)):null,r.jsx(vV,$({name:A,className:se.input,value:d,onChange:h,id:p,"aria-hidden":"true",tabIndex:-1,readOnly:_,required:he.required,disabled:he.disabled,onFocus:Z},P,{ref:le})),ve&&r.jsx(SV,{className:se.activeBar,ref:K,ownerState:{sectionOffsets:B.current}})]}))});function jV(e){return Rn("MuiPickersOutlinedInput",e)}const Gs=$({},Ho,_n("MuiPickersOutlinedInput",["root","notchedOutline","input"])),kV=["children","className","label","notched","shrink"],TV=Qe("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline"})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),D1=Qe("span")(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit"})),DV=Qe("legend",{shouldForwardProp:e=>Pr(e)&&e!=="notched"})(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{inputHasLabel:!1},style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:{inputHasLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{inputHasLabel:!0,notched:!0},style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]}));function EV(e){const{className:t,label:s,notched:a}=e,l=ht(e,kV),u=Mh();return r.jsx(TV,$({"aria-hidden":!0,className:t},l,{ownerState:u,children:r.jsx(DV,{ownerState:u,notched:a,children:s?r.jsx(D1,{children:s}):r.jsx(D1,{className:"notranslate",children:""})})}))}const AV=["label","autoFocus","ownerState","classes","notched"],MV=Qe(Ph,{name:"MuiPickersOutlinedInput",slot:"Root"})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Gs.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Gs.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${Gs.focused} .${Gs.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${Gs.disabled}`]:{[`& .${Gs.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled},"*":{color:(e.vars||e).palette.action.disabled}},[`&.${Gs.error} .${Gs.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},variants:Object.keys((e.vars??e).palette).filter(s=>(e.vars??e).palette[s]?.main??!1).map(s=>({props:{inputColor:s},style:{[`&.${Gs.focused}:not(.${Gs.error}) .${Gs.notchedOutline}`]:{borderColor:(e.vars||e).palette[s].main}}}))}}),PV=Qe(nx,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer"})({padding:"16.5px 0",variants:[{props:{inputSize:"small"},style:{padding:"8.5px 0"}}]}),OV=e=>{const s=pn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},jV,e);return $({},e,s)},fD=x.forwardRef(function(t,s){const a=rn({props:t,name:"MuiPickersOutlinedInput"}),{label:l,classes:u,notched:d}=a,h=ht(a,AV),p=SC(),g=OV(u);return r.jsx(sx,$({slots:{root:MV,input:PV},renderSuffix:y=>r.jsx(EV,{shrink:!!(d||y.adornedStart||y.focused||y.filled),notched:!!(d||y.adornedStart||y.focused||y.filled),className:g.notchedOutline,label:l!=null&&l!==""&&p?.required?r.jsxs(x.Fragment,{children:[l,"","*"]}):l})},h,{label:l,classes:g,ref:s}))});fD.muiName="Input";function RV(e){return Rn("MuiPickersFilledInput",e)}const lr=$({},Ho,_n("MuiPickersFilledInput",["root","underline","input"])),_V=["label","autoFocus","disableUnderline","hiddenLabel","classes"],IV=Qe(Ph,{name:"MuiPickersFilledInput",slot:"Root",shouldForwardProp:e=>Pr(e)&&e!=="disableUnderline"})(({theme:e})=>{const t=e.palette.mode==="light",s=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",l=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",u=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:l,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a}},[`&.${lr.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a},[`&.${lr.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:u},variants:[...Object.keys((e.vars??e).palette).filter(d=>(e.vars??e).palette[d].main).map(d=>({props:{inputColor:d,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[d]?.main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${lr.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${lr.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${lr.disabled}, .${lr.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${lr.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:{hasStartAdornment:!0},style:{paddingLeft:12}},{props:{hasEndAdornment:!0},style:{paddingRight:12}}]}}),WV=Qe(nx,{name:"MuiPickersFilledInput",slot:"sectionsContainer",shouldForwardProp:e=>Pr(e)&&e!=="hiddenLabel"})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{inputSize:"small"},style:{paddingTop:21,paddingBottom:4}},{props:{hasStartAdornment:!0},style:{paddingLeft:0}},{props:{hasEndAdornment:!0},style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,inputSize:"small"},style:{paddingTop:8,paddingBottom:9}}]}),NV=(e,t)=>{const{inputHasUnderline:s}=t,l=pn({root:["root",s&&"underline"],input:["input"]},RV,e);return $({},e,l)},pD=x.forwardRef(function(t,s){const a=rn({props:t,name:"MuiPickersFilledInput"}),{label:l,disableUnderline:u=!1,hiddenLabel:d=!1,classes:h}=a,p=ht(a,_V),g=Mh(),y=$({},g,{inputHasUnderline:!u}),v=NV(h,y);return r.jsx(sx,$({slots:{root:IV,input:WV},slotProps:{root:{disableUnderline:u},input:{hiddenLabel:d}}},p,{label:l,classes:v,ref:s,ownerState:y}))});pD.muiName="Input";function LV(e){return Rn("MuiPickersFilledInput",e)}const ac=$({},Ho,_n("MuiPickersInput",["root","underline","input"])),zV=["label","autoFocus","disableUnderline","ownerState","classes"],VV=Qe(Ph,{name:"MuiPickersInput",slot:"Root",shouldForwardProp:e=>Pr(e)&&e!=="disableUnderline"})(({theme:e})=>{let s=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(s=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((e.vars??e).palette).filter(a=>(e.vars??e).palette[a].main).map(a=>({props:{inputColor:a,inputHasUnderline:!0},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[a].main}`}}})),{props:{inputHasUnderline:!0},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ac.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ac.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ac.disabled}, .${ac.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${s}`}},[`&.${ac.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),BV=(e,t)=>{const{inputHasUnderline:s}=t,l=pn({root:["root",!s&&"underline"],input:["input"]},LV,e);return $({},e,l)},mD=x.forwardRef(function(t,s){const a=rn({props:t,name:"MuiPickersInput"}),{label:l,disableUnderline:u=!1,classes:d}=a,h=ht(a,zV),p=Mh(),g=$({},p,{inputHasUnderline:!u}),y=BV(d,g);return r.jsx(sx,$({slots:{root:VV},slotProps:{root:{disableUnderline:u}}},h,{ownerState:g,label:l,classes:y,ref:s}))});mD.muiName="Input";const FV=["onFocus","onBlur","className","classes","color","disabled","error","variant","required","hiddenLabel","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps","data-active-range-position"],HV={standard:mD,filled:pD,outlined:fD},UV=Qe(Ft,{name:"MuiPickersTextField",slot:"Root"})({maxWidth:"100%"}),qV=(e,t)=>{const{isFieldFocused:s,isFieldDisabled:a,isFieldRequired:l}=t;return pn({root:["root",s&&!a&&"focused",a&&"disabled",l&&"required"]},lV,e)},gD=x.forwardRef(function(t,s){const a=rn({props:t,name:"MuiPickersTextField"}),{onFocus:l,onBlur:u,className:d,classes:h,color:p="primary",disabled:g=!1,error:y=!1,variant:v="outlined",required:b=!1,hiddenLabel:S=!1,InputProps:T,inputProps:k,inputRef:w,sectionListRef:j,elements:D,areAllSectionsEmpty:A,onClick:_,onKeyDown:P,onKeyUp:M,onPaste:R,onInput:N,endAdornment:W,startAdornment:U,tabIndex:V,contentEditable:z,focused:de,value:F,onChange:K,fullWidth:B,id:q,name:le,helperText:he,FormHelperTextProps:J,label:ee,InputLabelProps:Z,"data-active-range-position":ae}=a,ce=ht(a,FV),se=x.useRef(null),oe=fs(s,se),ke=Rg(q),X=he&&ke?`${ke}-helper-text`:void 0,ve=ee&&ke?`${ke}-label`:void 0,xe=tx({disabled:a.disabled,required:a.required,readOnly:T?.readOnly}),ge=x.useMemo(()=>$({},xe,{isFieldValueEmpty:A,isFieldFocused:de??!1,hasFieldError:y??!1,inputSize:a.size??"medium",inputColor:p??"primary",isInputInFullWidth:B??!1,hasStartAdornment:!!(U??T?.startAdornment),hasEndAdornment:!!(W??T?.endAdornment),inputHasLabel:!!ee,isLabelShrunk:!!Z?.shrink}),[xe,A,de,y,a.size,p,B,U,W,T?.startAdornment,T?.endAdornment,ee,Z?.shrink]),Ee=qV(h,ge),Le=HV[v],je={};return v==="outlined"?(Z&&typeof Z.shrink<"u"&&(je.notched=Z.shrink),je.label=ee):v==="filled"&&(je.hiddenLabel=S),r.jsx(hD.Provider,{value:ge,children:r.jsxs(UV,$({className:qn(Ee.root,d),ref:oe,focused:de,disabled:g,variant:v,error:y,color:p,fullWidth:B,required:b,ownerState:ge},ce,{children:[ee!=null&&ee!==""&&r.jsx(Mn,$({htmlFor:ke,id:ve},Z,{children:ee})),r.jsx(Le,$({elements:D,areAllSectionsEmpty:A,onClick:_,onKeyDown:P,onKeyUp:M,onInput:N,onPaste:R,onFocus:l,onBlur:u,endAdornment:W,startAdornment:U,tabIndex:V,contentEditable:z,value:F,onChange:K,id:ke,fullWidth:B,inputProps:k,inputRef:w,sectionListRef:j,label:ee,name:le,role:"group","aria-labelledby":ve,"aria-describedby":X,"aria-live":X?"polite":void 0,"data-active-range-position":ae},je,T)),he&&r.jsx(E2,$({id:X},J,{children:he}))]}))})}),YV=["enableAccessibleFieldDOMStructure"],GV=["InputProps","readOnly","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],$V=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],KV=["ownerState"],QV=["ownerState"],XV=["ownerState"],ZV=["ownerState"],JV=["InputProps","inputProps"],Tm=()=>{},eB=e=>{let{enableAccessibleFieldDOMStructure:t}=e,s=ht(e,YV);if(t){const{InputProps:D,readOnly:A,onClear:_,clearable:P,clearButtonPosition:M,openPickerButtonPosition:R,openPickerAriaLabel:N}=s,W=ht(s,GV),U=Ea>=6&&W?.slotProps?.input?Sc(W?.slotProps?.input,D):Tm;return{clearable:P,onClear:_,clearButtonPosition:M,openPickerButtonPosition:R,openPickerAriaLabel:N,textFieldProps:$({},W,Ea>=6&&W?.slotProps?.input?{slotProps:$({},W?.slotProps,{input:V=>$({},ui(U,V),{readOnly:A})})}:{InputProps:$({},D??{},{readOnly:A})})}}const{onPaste:a,onKeyDown:l,inputMode:u,readOnly:d,InputProps:h,inputProps:p,inputRef:g,onClear:y,clearable:v,clearButtonPosition:b,openPickerButtonPosition:S,openPickerAriaLabel:T}=s,k=ht(s,$V),w=Ea>=6&&k?.slotProps?.input?Sc(k?.slotProps?.input,h):Tm,j=Ea>=6&&k?.slotProps?.htmlInput?Sc(k?.slotProps?.htmlInput,p):Tm;return{clearable:v,onClear:y,clearButtonPosition:b,openPickerButtonPosition:S,openPickerAriaLabel:T,textFieldProps:$({},k,Ea>=6&&(k?.slotProps?.input||k?.slotProps?.htmlInput)?{slotProps:$({},k?.slotProps,{input:D=>$({},ui(w,D),{readOnly:d}),htmlInput:D=>$({},ui(j,D),{inputMode:u,onPaste:a,onKeyDown:l,ref:g})})}:{InputProps:$({},h??{},{readOnly:d}),inputProps:$({},p??{},{inputMode:u,onPaste:a,onKeyDown:l,ref:g})})}},ix=x.createContext({slots:{},slotProps:{},inputRef:void 0});function tB(e){const{fieldResponse:t,defaultOpenPickerIcon:s}=e,a=Va(),l=Zy(),u=x.useContext(ix),{textFieldProps:d,onClear:h,clearable:p,openPickerAriaLabel:g,clearButtonPosition:y="end",openPickerButtonPosition:v="end"}=eB(t),b=tx(d),S=Be(J=>{J.preventDefault(),l?.setOpen(ee=>!ee)}),T=l?l.triggerStatus:"hidden",k=p?y:null,w=T!=="hidden"?v:null,j=u.slots.textField??(t.enableAccessibleFieldDOMStructure===!1?dt:gD),D=u.slots.inputAdornment??Dc,A=Ot({elementType:D,externalSlotProps:u.slotProps.inputAdornment,additionalProps:{position:"start"},ownerState:$({},b,{position:"start"})}),_=ht(A,KV),P=Ot({elementType:D,externalSlotProps:u.slotProps.inputAdornment,additionalProps:{position:"end"},ownerState:$({},b,{position:"end"})}),M=ht(P,QV),R=u.slots.openPickerButton??Ue,N=Ot({elementType:R,externalSlotProps:u.slotProps.openPickerButton,additionalProps:{disabled:T==="disabled",onClick:S,"aria-label":g,edge:d.variant!=="standard"?w:!1},ownerState:b}),W=ht(N,XV),U=u.slots.openPickerIcon??s,V=Ot({elementType:U,externalSlotProps:u.slotProps.openPickerIcon,ownerState:b}),z=u.slots.clearButton??Ue,de=Ot({elementType:z,externalSlotProps:u.slotProps.clearButton,className:"clearButton",additionalProps:{title:a.fieldClearLabel,tabIndex:-1,onClick:h,disabled:t.disabled||t.readOnly,edge:d.variant!=="standard"&&k!==w?k:!1},ownerState:b}),F=ht(de,ZV),K=u.slots.clearIcon??oV,B=Ot({elementType:K,externalSlotProps:u.slotProps.clearIcon,additionalProps:{fontSize:"small"},ownerState:b});d.ref=fs(d.ref,l?.rootRef);const q={},le=ui((Ea>=6&&d?.slotProps?.input)??d.InputProps,b);l&&(q.ref=l.triggerRef),!le?.startAdornment&&(k==="start"||w==="start")&&(q.startAdornment=r.jsxs(D,$({},_,{children:[w==="start"&&r.jsx(R,$({},W,{children:r.jsx(U,$({},V))})),k==="start"&&r.jsx(z,$({},F,{children:r.jsx(K,$({},B))}))]}))),!le?.endAdornment&&(k==="end"||w==="end")&&(q.endAdornment=r.jsxs(D,$({},M,{children:[k==="end"&&r.jsx(z,$({},F,{children:r.jsx(K,$({},B))})),w==="end"&&r.jsx(R,$({},W,{children:r.jsx(U,$({},V))}))]}))),!q?.endAdornment&&!q?.startAdornment&&u.slots.inputAdornment&&(q.endAdornment=r.jsx(D,$({},M))),k!=null&&(d.sx=[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(d.sx)?d.sx:[d.sx]]);const he=Ea>=6&&d?.slotProps?.input?ui(Sc(le,q),b):$({},le,q);return d.inputProps=Ea>=6&&d?.slotProps?.htmlInput?ui(d.slotProps.htmlInput,b):d.inputProps,delete d?.slotProps?.input,t.enableAccessibleFieldDOMStructure&&delete d?.slotProps,r.jsx(j,$({},d,{InputProps:he}))}function Sc(e,t){return e?t?s=>$({},ui(t,s),ui(e,s)):e:t}function nB(e){const{ref:t,externalForwardedProps:s,slotProps:a}=e,l=x.useContext(ix),u=Zy(),d=tx(s),{InputProps:h,inputProps:p}=s,g=ht(s,JV),y=Ot({elementType:gD,externalSlotProps:Sc(l.slotProps.textField,a?.textField),externalForwardedProps:g,additionalProps:{ref:t,sx:u?.rootSx,label:u?.label,name:u?.name,className:u?.rootClassName,inputRef:l.inputRef},ownerState:d});return y.inputProps=$({},p,y.inputProps),y.InputProps=$({},h,y.InputProps),y}function sB(e){const{slots:t={},slotProps:s={},inputRef:a,children:l}=e,u=x.useMemo(()=>({inputRef:a,slots:{openPickerButton:t.openPickerButton,openPickerIcon:t.openPickerIcon,textField:t.textField,inputAdornment:t.inputAdornment,clearIcon:t.clearIcon,clearButton:t.clearButton},slotProps:{openPickerButton:s.openPickerButton,openPickerIcon:s.openPickerIcon,textField:s.textField,inputAdornment:s.inputAdornment,clearIcon:s.clearIcon,clearButton:s.clearButton}}),[a,t.openPickerButton,t.openPickerIcon,t.textField,t.inputAdornment,t.clearIcon,t.clearButton,s.openPickerButton,s.openPickerIcon,s.textField,s.inputAdornment,s.clearIcon,s.clearButton]);return r.jsx(ix.Provider,{value:u,children:l})}const iB=["slots","slotProps"],yD=x.forwardRef(function(t,s){const a=rn({props:t,name:"MuiDateField"}),{slots:l,slotProps:u}=a,d=ht(a,iB),h=nB({slotProps:u,ref:s,externalForwardedProps:d}),p=nV(h);return r.jsx(sB,{slots:l,slotProps:u,inputRef:d.inputRef,children:r.jsx(tB,{fieldResponse:p,defaultOpenPickerIcon:rV})})}),xD=({shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:s,minDate:a,maxDate:l,disableFuture:u,disablePast:d,timezone:h})=>{const p=Ht();return x.useCallback(g=>nu({adapter:p,value:g,timezone:h,props:{shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:s,minDate:a,maxDate:l,disableFuture:u,disablePast:d}})!==null,[p,e,t,s,a,l,u,d,h])},aB=(e,t)=>(s,a)=>{switch(a.type){case"setVisibleDate":return $({},s,{slideDirection:a.direction,currentMonth:a.month,isMonthSwitchingAnimating:!t.isSameMonth(a.month,s.currentMonth)&&!e&&!a.skipAnimation,focusedDay:a.focusedDay});case"changeMonthTimezone":{const l=a.newTimezone;if(t.getTimezone(s.currentMonth)===l)return s;let u=t.setTimezone(s.currentMonth,l);return t.getMonth(u)!==t.getMonth(s.currentMonth)&&(u=t.setMonth(u,t.getMonth(s.currentMonth))),$({},s,{currentMonth:u})}case"finishMonthSwitchingAnimation":return $({},s,{isMonthSwitchingAnimating:!1});default:throw new Error("missing support")}},rB=e=>{const{value:t,referenceDate:s,disableFuture:a,disablePast:l,maxDate:u,minDate:d,onMonthChange:h,onYearChange:p,reduceAnimations:g,shouldDisableDate:y,timezone:v,getCurrentMonthFromVisibleDate:b}=e,S=Ht(),T=x.useRef(aB(!!g,S)).current,k=x.useMemo(()=>pi.getInitialReferenceValue({value:t,adapter:S,timezone:v,props:e,referenceDate:s,granularity:oi.day}),[s,v]),[w,j]=x.useReducer(T,{isMonthSwitchingAnimating:!1,focusedDay:k,currentMonth:S.startOfMonth(k),slideDirection:"left"}),D=xD({shouldDisableDate:y,minDate:d,maxDate:u,disableFuture:a,disablePast:l,timezone:v});x.useEffect(()=>{j({type:"changeMonthTimezone",newTimezone:S.getTimezone(k)})},[k,S]);const A=Be(({target:P,reason:M})=>{if(M==="cell-interaction"&&w.focusedDay!=null&&S.isSameDay(P,w.focusedDay))return;const R=M==="cell-interaction";let N,W;if(M==="cell-interaction")N=b(P,w.currentMonth),W=P;else if(N=S.isSameMonth(P,w.currentMonth)?w.currentMonth:S.startOfMonth(P),W=P,D(W)){const z=S.startOfMonth(P),de=S.endOfMonth(P);W=Lc({adapter:S,date:W,minDate:S.isBefore(d,z)?z:d,maxDate:S.isAfter(u,de)?de:u,disablePast:l,disableFuture:a,isDateDisabled:D,timezone:v})}const U=!S.isSameMonth(w.currentMonth,N),V=!S.isSameYear(w.currentMonth,N);U&&h?.(N),V&&p?.(S.startOfYear(N)),j({type:"setVisibleDate",month:N,direction:S.isAfterDay(N,w.currentMonth)?"left":"right",focusedDay:w.focusedDay!=null&&W!=null&&S.isSameDay(W,w.focusedDay)?w.focusedDay:W,skipAnimation:R})}),_=x.useCallback(()=>{j({type:"finishMonthSwitchingAnimation"})},[]);return{referenceDate:k,calendarState:w,setVisibleDate:A,isDateDisabled:D,onMonthSwitchingAnimationEnd:_}},oB=e=>Rn("MuiPickersFadeTransitionGroup",e);_n("MuiPickersFadeTransitionGroup",["root"]);const lB=["children"],cB=e=>pn({root:["root"]},oB,e),uB=Qe(wC,{name:"MuiPickersFadeTransitionGroup",slot:"Root"})({display:"block",position:"relative"});function bD(e){const t=rn({props:e,name:"MuiPickersFadeTransitionGroup"}),{className:s,reduceAnimations:a,transKey:l,classes:u}=t,{children:d}=t,h=ht(t,lB),p=cB(u),g=el();return a?d:r.jsx(uB,{className:qn(p.root,s),ownerState:h,children:r.jsx(hh,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:g.transitions.duration.enteringScreen,enter:g.transitions.duration.enteringScreen,exit:0},children:d},l)})}function dB(e){return Rn("MuiPickersDay",e)}const cr=_n("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]);function vD(e){const{disabled:t,selected:s,today:a,outsideCurrentMonth:l,day:u,disableMargin:d,disableHighlightToday:h,showDaysOutsideCurrentMonth:p}=e,g=Ht(),{ownerState:y}=Yn();return x.useMemo(()=>$({},y,{day:u,isDaySelected:s??!1,isDayDisabled:t??!1,isDayCurrent:a??!1,isDayOutsideMonth:l??!1,isDayStartOfWeek:g.isSameDay(u,g.startOfWeek(u)),isDayEndOfWeek:g.isSameDay(u,g.endOfWeek(u)),disableMargin:d??!1,disableHighlightToday:h??!1,showDaysOutsideCurrentMonth:p??!1}),[g,y,u,s,t,a,l,d,h,p])}const hB=["autoFocus","className","classes","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","children","isFirstVisibleCell","isLastVisibleCell","day","selected","disabled","today","outsideCurrentMonth","disableMargin","disableHighlightToday","showDaysOutsideCurrentMonth"],fB=(e,t)=>{const{isDaySelected:s,isDayDisabled:a,isDayCurrent:l,isDayOutsideMonth:u,disableMargin:d,disableHighlightToday:h,showDaysOutsideCurrentMonth:p}=t,g=u&&!p;return pn({root:["root",s&&!g&&"selected",a&&"disabled",!d&&"dayWithMargin",!h&&l&&"today",u&&p&&"dayOutsideMonth",g&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},dB,e)},SD=({theme:e})=>$({},e.typography.caption,{width:zc,height:zc,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Go(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:Go(e.palette.primary.main,e.palette.action.focusOpacity),[`&.${cr.selected}`]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${cr.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${cr.disabled}:not(.${cr.selected})`]:{color:(e.vars||e).palette.text.disabled},[`&.${cr.disabled}&.${cr.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${Eh}px`}},{props:{isDayOutsideMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(e.vars||e).palette.text.secondary}},{props:{disableHighlightToday:!1,isDayCurrent:!0},style:{[`&:not(.${cr.selected})`]:{border:`1px solid ${(e.vars||e).palette.text.secondary}`}}}]}),wD=(e,t)=>{const{ownerState:s}=e;return[t.root,!s.disableMargin&&t.dayWithMargin,!s.disableHighlightToday&&s.isDayCurrent&&t.today,!s.isDayOutsideMonth&&s.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,s.isDayOutsideMonth&&!s.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},pB=Qe(A2,{name:"MuiPickersDay",slot:"Root",overridesResolver:wD})(SD),mB=Qe("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:wD})(({theme:e})=>$({},SD({theme:e}),{opacity:0,pointerEvents:"none"})),rc=()=>{},gB=x.forwardRef(function(t,s){const a=rn({props:t,name:"MuiPickersDay"}),{autoFocus:l=!1,className:u,classes:d,isAnimating:h,onClick:p,onDaySelect:g,onFocus:y=rc,onBlur:v=rc,onKeyDown:b=rc,onMouseDown:S=rc,onMouseEnter:T=rc,children:k,day:w,selected:j,disabled:D,today:A,outsideCurrentMonth:_,disableMargin:P,disableHighlightToday:M,showDaysOutsideCurrentMonth:R}=a,N=ht(a,hB),W=vD({day:w,selected:j,disabled:D,today:A,outsideCurrentMonth:_,disableMargin:P,disableHighlightToday:M,showDaysOutsideCurrentMonth:R}),U=fB(d,W),V=Ht(),z=x.useRef(null),de=fs(z,s);Gi(()=>{l&&!D&&!h&&!_&&z.current.focus()},[l,D,h,_]);const F=B=>{S(B),_&&B.preventDefault()},K=B=>{B.defaultMuiPrevented=!0,D||g(w),_&&B.currentTarget.focus(),p&&p(B)};return _&&!R?r.jsx(mB,{className:qn(U.root,U.hiddenDaySpacingFiller,u),ownerState:W,role:N.role}):r.jsx(pB,$({className:qn(U.root,u),ref:de,centerRipple:!0,disabled:D,tabIndex:j?0:-1,onKeyDown:B=>b(B,w),onFocus:B=>y(B,w),onBlur:B=>v(B,w),onMouseEnter:B=>T(B,w),onClick:K,onMouseDown:F},N,{ownerState:W,children:k??V.format(w,"dayOfMonth")}))}),yB=x.memo(gB),xB=e=>Rn("MuiPickersSlideTransition",e),Ls=_n("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),bB=["children","className","reduceAnimations","slideDirection","transKey","classes"],vB=(e,t)=>{const{slideDirection:s}=t,a={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${s}`],exitActive:[`slideExitActiveLeft-${s}`]};return pn(a,xB,e)},SB=Qe(wC,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`.${Ls["slideEnter-left"]}`]:t["slideEnter-left"]},{[`.${Ls["slideEnter-right"]}`]:t["slideEnter-right"]},{[`.${Ls.slideEnterActive}`]:t.slideEnterActive},{[`.${Ls.slideExit}`]:t.slideExit},{[`.${Ls["slideExitActiveLeft-left"]}`]:t["slideExitActiveLeft-left"]},{[`.${Ls["slideExitActiveLeft-right"]}`]:t["slideExitActiveLeft-right"]}]})(({theme:e})=>{const t=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Ls["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Ls["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Ls.slideEnterActive}`]:{transform:"translate(0%)",transition:t},[`& .${Ls.slideExit}`]:{transform:"translate(0%)"},[`& .${Ls["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:t,zIndex:0},[`& .${Ls["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:t,zIndex:0}}});function wB(e){const t=rn({props:e,name:"MuiPickersSlideTransition"}),{children:s,className:a,reduceAnimations:l,slideDirection:u,transKey:d,classes:h}=t,p=ht(t,bB),{ownerState:g}=Yn(),y=$({},g,{slideDirection:u}),v=vB(h,y),b=el();if(l)return r.jsx("div",{className:qn(v.root,a),children:s});const S={exit:v.exit,enterActive:v.enterActive,enter:v.enter,exitActive:v.exitActive};return r.jsx(SB,{className:qn(v.root,a),childFactory:T=>x.cloneElement(T,{classNames:S}),role:"presentation",ownerState:y,children:r.jsx(M2,$({mountOnEnter:!0,unmountOnExit:!0,timeout:b.transitions.duration.complex,classNames:S},p,{children:s}),d)})}const CB=e=>Rn("MuiDayCalendar",e);_n("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const jB=["parentProps","day","focusedDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],kB=["ownerState"],TB=e=>pn({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},CB,e),CD=(zc+Eh*2)*6,DB=Qe("div",{name:"MuiDayCalendar",slot:"Root"})({}),EB=Qe("div",{name:"MuiDayCalendar",slot:"Header"})({display:"flex",justifyContent:"center",alignItems:"center"}),AB=Qe(I,{name:"MuiDayCalendar",slot:"WeekDayLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),MB=Qe(I,{name:"MuiDayCalendar",slot:"WeekNumberLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.disabled})),PB=Qe(I,{name:"MuiDayCalendar",slot:"WeekNumber"})(({theme:e})=>$({},e.typography.caption,{width:zc,height:zc,padding:0,margin:`0 ${Eh}px`,color:(e.vars||e).palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),OB=Qe("div",{name:"MuiDayCalendar",slot:"LoadingContainer"})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:CD}),RB=Qe(wB,{name:"MuiDayCalendar",slot:"SlideTransition"})({minHeight:CD}),_B=Qe("div",{name:"MuiDayCalendar",slot:"MonthContainer"})({overflow:"hidden"}),IB=Qe("div",{name:"MuiDayCalendar",slot:"WeekContainer"})({margin:`${Eh}px 0`,display:"flex",justifyContent:"center"});function WB(e){let{parentProps:t,day:s,focusedDay:a,selectedDays:l,isDateDisabled:u,currentMonthNumber:d,isViewFocused:h}=e,p=ht(e,jB);const{disabled:g,disableHighlightToday:y,isMonthSwitchingAnimating:v,showDaysOutsideCurrentMonth:b,slots:S,slotProps:T,timezone:k}=t,w=Ht(),j=Dh(k),D=a!=null&&w.isSameDay(s,a),A=h&&D,_=l.some(F=>w.isSameDay(F,s)),P=w.isSameDay(s,j),M=x.useMemo(()=>g||u(s),[g,u,s]),R=x.useMemo(()=>w.getMonth(s)!==d,[w,s,d]),N=vD({day:s,selected:_,disabled:M,today:P,outsideCurrentMonth:R,disableMargin:void 0,disableHighlightToday:y,showDaysOutsideCurrentMonth:b}),W=S?.day??yB,U=Ot({elementType:W,externalSlotProps:T?.day,additionalProps:$({disableHighlightToday:y,showDaysOutsideCurrentMonth:b,role:"gridcell",isAnimating:v,"data-timestamp":w.toJsDate(s).valueOf()},p),ownerState:$({},N,{day:s,isDayDisabled:M,isDaySelected:_})}),V=ht(U,kB),z=x.useMemo(()=>{const F=w.startOfMonth(w.setMonth(s,d));return b?w.isSameDay(s,w.startOfWeek(F)):w.isSameDay(s,F)},[d,s,b,w]),de=x.useMemo(()=>{const F=w.endOfMonth(w.setMonth(s,d));return b?w.isSameDay(s,w.endOfWeek(F)):w.isSameDay(s,F)},[d,s,b,w]);return r.jsx(W,$({},V,{day:s,disabled:M,autoFocus:!R&&A,today:P,outsideCurrentMonth:R,isFirstVisibleCell:z,isLastVisibleCell:de,selected:_,tabIndex:D?0:-1,"aria-selected":_,"aria-current":P?"date":void 0}))}function NB(e){const t=rn({props:e,name:"MuiDayCalendar"}),s=Ht(),{onFocusedDayChange:a,className:l,classes:u,currentMonth:d,selectedDays:h,focusedDay:p,loading:g,onSelectedDaysChange:y,onMonthSwitchingAnimationEnd:v,readOnly:b,reduceAnimations:S,renderLoading:T=()=>r.jsx("span",{children:"..."}),slideDirection:k,TransitionProps:w,disablePast:j,disableFuture:D,minDate:A,maxDate:_,shouldDisableDate:P,shouldDisableMonth:M,shouldDisableYear:R,dayOfWeekFormatter:N=ge=>s.format(ge,"weekdayShort").charAt(0).toUpperCase(),hasFocus:W,onFocusedViewChange:U,gridLabelId:V,displayWeekNumber:z,fixedWeekNumber:de,timezone:F}=t,K=Dh(F),B=TB(u),q=Xi(),le=xD({shouldDisableDate:P,shouldDisableMonth:M,shouldDisableYear:R,minDate:A,maxDate:_,disablePast:j,disableFuture:D,timezone:F}),he=Va(),J=Be(ge=>{b||y(ge)}),ee=ge=>{le(ge)||(a(ge),U?.(!0))},Z=Be((ge,Ee)=>{switch(ge.key){case"ArrowUp":ee(s.addDays(Ee,-7)),ge.preventDefault();break;case"ArrowDown":ee(s.addDays(Ee,7)),ge.preventDefault();break;case"ArrowLeft":{const Le=s.addDays(Ee,q?1:-1),je=s.addMonths(Ee,q?1:-1),qe=Lc({adapter:s,date:Le,minDate:q?Le:s.startOfMonth(je),maxDate:q?s.endOfMonth(je):Le,isDateDisabled:le,timezone:F});ee(qe||Le),ge.preventDefault();break}case"ArrowRight":{const Le=s.addDays(Ee,q?-1:1),je=s.addMonths(Ee,q?-1:1),qe=Lc({adapter:s,date:Le,minDate:q?s.startOfMonth(je):Le,maxDate:q?Le:s.endOfMonth(je),isDateDisabled:le,timezone:F});ee(qe||Le),ge.preventDefault();break}case"Home":ee(s.startOfWeek(Ee)),ge.preventDefault();break;case"End":ee(s.endOfWeek(Ee)),ge.preventDefault();break;case"PageUp":ee(s.addMonths(Ee,1)),ge.preventDefault();break;case"PageDown":ee(s.addMonths(Ee,-1)),ge.preventDefault();break}}),ae=Be((ge,Ee)=>ee(Ee)),ce=Be((ge,Ee)=>{p!=null&&s.isSameDay(p,Ee)&&U?.(!1)}),se=s.getMonth(d),oe=s.getYear(d),ke=x.useMemo(()=>h.filter(ge=>!!ge).map(ge=>s.startOfDay(ge)),[s,h]),X=`${oe}-${se}`,ve=x.useMemo(()=>x.createRef(),[X]),xe=x.useMemo(()=>{const ge=s.getWeekArray(d);let Ee=s.addMonths(d,1);for(;de&&ge.length<de;){const Le=s.getWeekArray(Ee),je=s.isSameDay(ge[ge.length-1][0],Le[0][0]);Le.slice(je?1:0).forEach(qe=>{ge.length<de&&ge.push(qe)}),Ee=s.addMonths(Ee,1)}return ge},[d,de,s]);return r.jsxs(DB,{role:"grid","aria-labelledby":V,className:B.root,children:[r.jsxs(EB,{role:"row",className:B.header,children:[z&&r.jsx(MB,{variant:"caption",role:"columnheader","aria-label":he.calendarWeekNumberHeaderLabel,className:B.weekNumberLabel,children:he.calendarWeekNumberHeaderText}),f6(s,K).map((ge,Ee)=>r.jsx(AB,{variant:"caption",role:"columnheader","aria-label":s.format(ge,"weekday"),className:B.weekDayLabel,children:N(ge)},Ee.toString()))]}),g?r.jsx(OB,{className:B.loadingContainer,children:T()}):r.jsx(RB,$({transKey:X,onExited:v,reduceAnimations:S,slideDirection:k,className:qn(l,B.slideTransition)},w,{nodeRef:ve,children:r.jsx(_B,{ref:ve,role:"rowgroup",className:B.monthContainer,children:xe.map((ge,Ee)=>r.jsxs(IB,{role:"row",className:B.weekContainer,"aria-rowindex":Ee+1,children:[z&&r.jsx(PB,{className:B.weekNumber,role:"rowheader","aria-label":he.calendarWeekNumberAriaLabelText(s.getWeekNumber(ge[0])),children:he.calendarWeekNumberText(s.getWeekNumber(ge[0]))}),ge.map((Le,je)=>r.jsx(WB,{parentProps:t,day:Le,selectedDays:ke,isViewFocused:W,focusedDay:p,onKeyDown:Z,onFocus:ae,onBlur:ce,onDaySelect:J,isDateDisabled:le,currentMonthNumber:se,"aria-colindex":je+1},Le.toString()))]},`week-${ge[0]}`))})}))]})}function jD(e){return Rn("MuiMonthCalendar",e)}const Td=_n("MuiMonthCalendar",["root","button","disabled","selected"]),LB=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],zB=(e,t)=>{const s={button:["button",t.isMonthDisabled&&"disabled",t.isMonthSelected&&"selected"]};return pn(s,jD,e)},VB=Qe("button",{name:"MuiMonthCalendar",slot:"Button",overridesResolver:(e,t)=>[t.button,{[`&.${Td.disabled}`]:t.disabled},{[`&.${Td.selected}`]:t.selected}]})(({theme:e})=>$({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Go(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Go(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Td.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${Td.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),BB=x.memo(function(t){const{autoFocus:s,classes:a,disabled:l,selected:u,value:d,onClick:h,onKeyDown:p,onFocus:g,onBlur:y,slots:v,slotProps:b}=t,S=ht(t,LB),T=x.useRef(null),{ownerState:k}=Yn(),w=$({},k,{isMonthDisabled:l,isMonthSelected:u}),j=zB(a,w);Gi(()=>{s&&T.current?.focus()},[s]);const D=v?.monthButton??VB,A=Ot({elementType:D,externalSlotProps:b?.monthButton,externalForwardedProps:S,additionalProps:{disabled:l,ref:T,type:"button",role:"radio","aria-checked":u,onClick:_=>h(_,d),onKeyDown:_=>p(_,d),onFocus:_=>g(_,d),onBlur:_=>y(_,d)},ownerState:w,className:j.button});return r.jsx(D,$({},A))}),FB=["autoFocus","className","currentMonth","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],HB=e=>pn({root:["root"]},jD,e);function UB(e,t){const s=rn({props:e,name:t}),a=su(s);return $({},s,a,{monthsPerRow:s.monthsPerRow??3})}const E1=(e,t,s,a,l)=>!!(e===t&&a&&l.isSameYear(s,a)),qB=Qe("div",{name:"MuiMonthCalendar",slot:"Root",shouldForwardProp:e=>Pr(e)&&e!=="monthsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:16,padding:"8px 0",width:Ah,boxSizing:"border-box",variants:[{props:{monthsPerRow:3},style:{columnGap:24}},{props:{monthsPerRow:4},style:{columnGap:0}}]}),YB=x.forwardRef(function(t,s){const a=UB(t,"MuiMonthCalendar"),{autoFocus:l,className:u,currentMonth:d,classes:h,value:p,defaultValue:g,referenceDate:y,disabled:v,disableFuture:b,disablePast:S,maxDate:T,minDate:k,onChange:w,shouldDisableMonth:j,readOnly:D,onMonthFocus:A,hasFocus:_,onFocusedViewChange:P,monthsPerRow:M,timezone:R,gridLabelId:N,slots:W,slotProps:U}=a,V=ht(a,FB),{value:z,handleValueChange:de,timezone:F}=iu({name:"MonthCalendar",timezone:R,value:p,defaultValue:g,referenceDate:y,onChange:w,valueManager:pi}),K=Dh(F),B=Xi(),q=Ht(),{ownerState:le}=Yn(),he=x.useMemo(()=>pi.getInitialReferenceValue({value:z,adapter:q,props:a,timezone:F,referenceDate:y,granularity:oi.month}),[]),J=HB(h),ee=x.useMemo(()=>q.getMonth(K),[q,K]),Z=x.useMemo(()=>z!=null?q.getMonth(z):null,[z,q]),[ae,ce]=x.useState(()=>Z||q.getMonth(he)),[se,oe]=Yo({name:"MonthCalendar",state:"hasFocus",controlled:_,default:l??!1}),ke=Be(je=>{oe(je),P&&P(je)}),X=x.useCallback(je=>{const qe=q.startOfMonth(S&&q.isAfter(K,k)?K:k),fe=q.startOfMonth(b&&q.isBefore(K,T)?K:T),ie=q.startOfMonth(je);return q.isBefore(ie,qe)||q.isAfter(ie,fe)?!0:j?j(ie):!1},[b,S,T,k,K,j,q]),ve=Be((je,qe)=>{if(D)return;const fe=z&&d&&!q.isSameYear(z,d)?q.setYear(z,q.getYear(d)):z,ie=q.setMonth(fe??he,qe);de(ie)}),xe=Be(je=>{X(q.setMonth(z??d??he,je))||(ce(je),ke(!0),A&&A(je))});x.useEffect(()=>{ce(je=>Z!==null&&je!==Z?Z:je)},[Z]);const ge=Be((je,qe)=>{switch(je.key){case"ArrowUp":xe((12+qe-3)%12),je.preventDefault();break;case"ArrowDown":xe((12+qe+3)%12),je.preventDefault();break;case"ArrowLeft":xe((12+qe+(B?1:-1))%12),je.preventDefault();break;case"ArrowRight":xe((12+qe+(B?-1:1))%12),je.preventDefault();break}}),Ee=Be((je,qe)=>{xe(qe)}),Le=Be((je,qe)=>{ae===qe&&ke(!1)});return r.jsx(qB,$({ref:s,className:qn(J.root,u),ownerState:le,role:"radiogroup","aria-labelledby":N,monthsPerRow:M},V,{children:qy(q,d??z??he).map(je=>{const qe=q.getMonth(je),fe=q.format(je,"monthShort"),ie=q.format(je,"month"),Ve=E1(qe,Z,je,z,q),Pe=v||X(je);return r.jsx(BB,{selected:Ve,value:qe,onClick:ve,onKeyDown:ge,autoFocus:se&&qe===ae,disabled:Pe,tabIndex:qe===ae&&!Pe?0:-1,onFocus:Ee,onBlur:Le,"aria-current":E1(qe,ee,je,K,q)?"date":void 0,"aria-label":ie,slots:W,slotProps:U,classes:h,children:fe},fe)})}))});function kD(e){return Rn("MuiYearCalendar",e)}const Dd=_n("MuiYearCalendar",["root","button","disabled","selected"]),GB=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],$B=(e,t)=>{const s={button:["button",t.isYearDisabled&&"disabled",t.isYearSelected&&"selected"]};return pn(s,kD,e)},KB=Qe("button",{name:"MuiYearCalendar",slot:"Button",overridesResolver:(e,t)=>[t.button,{[`&.${Dd.disabled}`]:t.disabled},{[`&.${Dd.selected}`]:t.selected}]})(({theme:e})=>$({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.focusOpacity})`:Go(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Go(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Dd.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${Dd.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),QB=x.memo(function(t){const{autoFocus:s,classes:a,disabled:l,selected:u,value:d,onClick:h,onKeyDown:p,onFocus:g,onBlur:y,slots:v,slotProps:b}=t,S=ht(t,GB),T=x.useRef(null),{ownerState:k}=Yn(),w=$({},k,{isYearDisabled:l,isYearSelected:u}),j=$B(a,w);Gi(()=>{s&&T.current?.focus()},[s]);const D=v?.yearButton??KB,A=Ot({elementType:D,externalSlotProps:b?.yearButton,externalForwardedProps:S,additionalProps:{disabled:l,ref:T,type:"button",role:"radio","aria-checked":u,onClick:_=>h(_,d),onKeyDown:_=>p(_,d),onFocus:_=>g(_,d),onBlur:_=>y(_,d)},ownerState:w,className:j.button});return r.jsx(D,$({},A))}),XB=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsOrder","yearsPerRow","timezone","gridLabelId","slots","slotProps"],ZB=e=>pn({root:["root"]},kD,e);function JB(e,t){const s=rn({props:e,name:t}),a=su(s);return $({},s,a,{yearsPerRow:s.yearsPerRow??3,yearsOrder:s.yearsOrder??"asc"})}const e4=Qe("div",{name:"MuiYearCalendar",slot:"Root",shouldForwardProp:e=>Pr(e)&&e!=="yearsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:12,padding:"6px 0",overflowY:"auto",height:"100%",width:Ah,maxHeight:Ez,boxSizing:"border-box",position:"relative",variants:[{props:{yearsPerRow:3},style:{columnGap:24}},{props:{yearsPerRow:4},style:{columnGap:0,padding:"0 2px"}}]}),t4=Qe("div",{name:"MuiYearCalendar",slot:"ButtonFiller"})({height:36,width:72}),n4=x.forwardRef(function(t,s){const a=JB(t,"MuiYearCalendar"),{autoFocus:l,className:u,classes:d,value:h,defaultValue:p,referenceDate:g,disabled:y,disableFuture:v,disablePast:b,maxDate:S,minDate:T,onChange:k,readOnly:w,shouldDisableYear:j,onYearFocus:D,hasFocus:A,onFocusedViewChange:_,yearsOrder:P,yearsPerRow:M,timezone:R,gridLabelId:N,slots:W,slotProps:U}=a,V=ht(a,XB),{value:z,handleValueChange:de,timezone:F}=iu({name:"YearCalendar",timezone:R,value:h,defaultValue:p,referenceDate:g,onChange:k,valueManager:pi}),K=Dh(F),B=Xi(),q=Ht(),{ownerState:le}=Yn(),he=x.useMemo(()=>pi.getInitialReferenceValue({value:z,adapter:q,props:a,timezone:F,referenceDate:g,granularity:oi.year}),[]),J=ZB(d),ee=x.useMemo(()=>q.getYear(K),[q,K]),Z=x.useMemo(()=>z!=null?q.getYear(z):null,[z,q]),[ae,ce]=x.useState(()=>Z||q.getYear(he)),[se,oe]=Yo({name:"YearCalendar",state:"hasFocus",controlled:A,default:l??!1}),ke=Be(Se=>{oe(Se),_&&_(Se)}),X=x.useCallback(Se=>{if(b&&q.isBeforeYear(Se,K)||v&&q.isAfterYear(Se,K)||T&&q.isBeforeYear(Se,T)||S&&q.isAfterYear(Se,S))return!0;if(!j)return!1;const Ie=q.startOfYear(Se);return j(Ie)},[v,b,S,T,K,j,q]),ve=Be((Se,Ie)=>{if(w)return;const G=q.setYear(z??he,Ie);de(G)}),xe=Be(Se=>{X(q.setYear(z??he,Se))||(ce(Se),ke(!0),D?.(Se))});x.useEffect(()=>{ce(Se=>Z!==null&&Se!==Z?Z:Se)},[Z]);const ge=P!=="desc"?M*1:M*-1,Ee=B&&P==="asc"||!B&&P==="desc"?-1:1,Le=Be((Se,Ie)=>{switch(Se.key){case"ArrowUp":xe(Ie-ge),Se.preventDefault();break;case"ArrowDown":xe(Ie+ge),Se.preventDefault();break;case"ArrowLeft":xe(Ie-Ee),Se.preventDefault();break;case"ArrowRight":xe(Ie+Ee),Se.preventDefault();break}}),je=Be((Se,Ie)=>{xe(Ie)}),qe=Be((Se,Ie)=>{ae===Ie&&ke(!1)}),fe=x.useRef(null),ie=fs(s,fe);x.useEffect(()=>{if(l||fe.current===null)return;const Se=fe.current.querySelector('[tabindex="0"]');if(!Se)return;const Ie=Se.offsetHeight,G=Se.offsetTop,we=fe.current.clientHeight,Ae=fe.current.scrollTop,De=G+Ie;Ie>we||G<Ae||(fe.current.scrollTop=De-we/2-Ie/2)},[l]);const Ve=q.getYearRange([T,S]);P==="desc"&&Ve.reverse();let Pe=M-Ve.length%M;return Pe===M&&(Pe=0),r.jsxs(e4,$({ref:ie,className:qn(J.root,u),ownerState:le,role:"radiogroup","aria-labelledby":N,yearsPerRow:M},V,{children:[Ve.map(Se=>{const Ie=q.getYear(Se),G=Ie===Z,we=y||X(Se);return r.jsx(QB,{selected:G,value:Ie,onClick:ve,onKeyDown:Le,autoFocus:se&&Ie===ae,disabled:we,tabIndex:Ie===ae&&!we?0:-1,onFocus:je,onBlur:qe,"aria-current":ee===Ie?"date":void 0,slots:W,slotProps:U,classes:d,children:q.format(Se,"year")},q.format(Se,"year"))}),Array.from({length:Pe},(Se,Ie)=>r.jsx(t4,{},Ie))]}))}),s4=e=>Rn("MuiPickersCalendarHeader",e),i4=_n("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]);function a4(e){return Rn("MuiPickersArrowSwitcher",e)}_n("MuiPickersArrowSwitcher",["root","spacer","button","previousIconButton","nextIconButton","leftArrowIcon","rightArrowIcon"]);const r4=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId","classes"],o4=["ownerState"],l4=["ownerState"],c4=Qe("div",{name:"MuiPickersArrowSwitcher",slot:"Root"})({display:"flex"}),u4=Qe("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer"})(({theme:e})=>({width:e.spacing(3)})),A1=Qe(Ue,{name:"MuiPickersArrowSwitcher",slot:"Button"})({variants:[{props:{isButtonHidden:!0},style:{visibility:"hidden"}}]}),d4=e=>pn({root:["root"],spacer:["spacer"],button:["button"],previousIconButton:["previousIconButton"],nextIconButton:["nextIconButton"],leftArrowIcon:["leftArrowIcon"],rightArrowIcon:["rightArrowIcon"]},a4,e),h4=x.forwardRef(function(t,s){const a=Xi(),l=rn({props:t,name:"MuiPickersArrowSwitcher"}),{children:u,className:d,slots:h,slotProps:p,isNextDisabled:g,isNextHidden:y,onGoToNext:v,nextLabel:b,isPreviousDisabled:S,isPreviousHidden:T,onGoToPrevious:k,previousLabel:w,labelId:j,classes:D}=l,A=ht(l,r4),{ownerState:_}=Yn(),P=d4(D),M={isDisabled:g,isHidden:y,goTo:v,label:b},R={isDisabled:S,isHidden:T,goTo:k,label:w},N=h?.previousIconButton??A1,W=Ot({elementType:N,externalSlotProps:p?.previousIconButton,additionalProps:{size:"medium",title:R.label,"aria-label":R.label,disabled:R.isDisabled,edge:"end",onClick:R.goTo},ownerState:$({},_,{isButtonHidden:R.isHidden??!1}),className:qn(P.button,P.previousIconButton)}),U=h?.nextIconButton??A1,V=Ot({elementType:U,externalSlotProps:p?.nextIconButton,additionalProps:{size:"medium",title:M.label,"aria-label":M.label,disabled:M.isDisabled,edge:"start",onClick:M.goTo},ownerState:$({},_,{isButtonHidden:M.isHidden??!1}),className:qn(P.button,P.nextIconButton)}),z=h?.leftArrowIcon??iV,de=Ot({elementType:z,externalSlotProps:p?.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:_,className:P.leftArrowIcon}),F=ht(de,o4),K=h?.rightArrowIcon??aV,B=Ot({elementType:K,externalSlotProps:p?.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:_,className:P.rightArrowIcon}),q=ht(B,l4);return r.jsxs(c4,$({ref:s,className:qn(P.root,d),ownerState:_},A,{children:[r.jsx(N,$({},W,{children:a?r.jsx(K,$({},q)):r.jsx(z,$({},F))})),u?r.jsx(I,{variant:"subtitle1",component:"span",id:j,children:u}):r.jsx(u4,{className:P.spacer,ownerState:_}),r.jsx(U,$({},V,{children:a?r.jsx(z,$({},F)):r.jsx(K,$({},q))}))]}))});function f4(e,{disableFuture:t,maxDate:s,timezone:a}){const l=Ht();return x.useMemo(()=>{const u=l.date(void 0,a),d=l.startOfMonth(t&&l.isBefore(u,s)?u:s);return!l.isAfter(d,e)},[t,s,e,l,a])}function p4(e,{disablePast:t,minDate:s,timezone:a}){const l=Ht();return x.useMemo(()=>{const u=l.date(void 0,a),d=l.startOfMonth(t&&l.isAfter(u,s)?u:s);return!l.isBefore(d,e)},[t,s,e,l,a])}const m4=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","classes","timezone","format"],g4=["ownerState"],y4=e=>pn({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},s4,e),x4=Qe("div",{name:"MuiPickersCalendarHeader",slot:"Root"})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),b4=Qe("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer"})(({theme:e})=>$({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),v4=Qe("div",{name:"MuiPickersCalendarHeader",slot:"Label"})({marginRight:6}),S4=Qe(Ue,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton"})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${i4.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),w4=Qe(sV,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon"})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"})),C4=x.forwardRef(function(t,s){const a=Va(),l=Ht(),u=rn({props:t,name:"MuiPickersCalendarHeader"}),{slots:d,slotProps:h,currentMonth:p,disabled:g,disableFuture:y,disablePast:v,maxDate:b,minDate:S,onMonthChange:T,onViewChange:k,view:w,reduceAnimations:j,views:D,labelId:A,className:_,classes:P,timezone:M,format:R=`${l.formats.month} ${l.formats.year}`}=u,N=ht(u,m4),{ownerState:W}=Yn(),U=y4(P),V=d?.switchViewButton??S4,z=Ot({elementType:V,externalSlotProps:h?.switchViewButton,additionalProps:{size:"small","aria-label":a.calendarViewSwitchingButtonAriaLabel(w)},ownerState:$({},W,{view:w}),className:U.switchViewButton}),de=d?.switchViewIcon??w4,F=Ot({elementType:de,externalSlotProps:h?.switchViewIcon,ownerState:W,className:U.switchViewIcon}),K=ht(F,g4),B=()=>T(l.addMonths(p,1)),q=()=>T(l.addMonths(p,-1)),le=f4(p,{disableFuture:y,maxDate:b,timezone:M}),he=p4(p,{disablePast:v,minDate:S,timezone:M}),J=()=>{if(!(D.length===1||!k||g))if(D.length===2)k(D.find(Z=>Z!==w)||D[0]);else{const Z=D.indexOf(w)!==0?0:1;k(D[Z])}};if(D.length===1&&D[0]==="year")return null;const ee=l.formatByString(p,R);return r.jsxs(x4,$({},N,{ownerState:W,className:qn(U.root,_),ref:s,children:[r.jsxs(b4,{role:"presentation",onClick:J,ownerState:W,"aria-live":"polite",className:U.labelContainer,children:[r.jsx(bD,{reduceAnimations:j,transKey:ee,children:r.jsx(v4,{id:A,ownerState:W,className:U.label,children:ee})}),D.length>1&&!g&&r.jsx(V,$({},z,{children:r.jsx(de,$({},K))}))]}),r.jsx(hh,{in:w==="day",appear:!j,enter:!j,children:r.jsx(h4,{slots:d,slotProps:h,onGoToPrevious:q,isPreviousDisabled:he,previousLabel:a.previousMonth,onGoToNext:B,isNextDisabled:le,nextLabel:a.nextMonth})})]}))}),j4=Qe("div")({overflow:"hidden",width:Ah,maxHeight:Jy,display:"flex",flexDirection:"column",margin:"0 auto"}),k4=e=>Rn("MuiDateCalendar",e);_n("MuiDateCalendar",["root","viewTransitionContainer"]);const T4=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","classes","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsOrder","yearsPerRow","monthsPerRow","timezone"],D4=e=>pn({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},k4,e);function E4(e,t){const s=rn({props:e,name:t}),a=XT(s.reduceAnimations),l=su(s);return $({},s,l,{loading:s.loading??!1,openTo:s.openTo??"day",views:s.views??["year","day"],reduceAnimations:a,renderLoading:s.renderLoading??(()=>r.jsx("span",{children:"..."}))})}const A4=Qe(j4,{name:"MuiDateCalendar",slot:"Root"})({display:"flex",flexDirection:"column",height:Jy}),M4=Qe(bD,{name:"MuiDateCalendar",slot:"ViewTransitionContainer"})({}),P4=x.forwardRef(function(t,s){const a=Ht(),{ownerState:l}=Yn(),u=Rg(),d=E4(t,"MuiDateCalendar"),{autoFocus:h,onViewChange:p,value:g,defaultValue:y,referenceDate:v,disableFuture:b,disablePast:S,onChange:T,onMonthChange:k,reduceAnimations:w,shouldDisableDate:j,shouldDisableMonth:D,shouldDisableYear:A,view:_,views:P,openTo:M,className:R,classes:N,disabled:W,readOnly:U,minDate:V,maxDate:z,disableHighlightToday:de,focusedView:F,onFocusedViewChange:K,showDaysOutsideCurrentMonth:B,fixedWeekNumber:q,dayOfWeekFormatter:le,slots:he,slotProps:J,loading:ee,renderLoading:Z,displayWeekNumber:ae,yearsOrder:ce,yearsPerRow:se,monthsPerRow:oe,timezone:ke}=d,X=ht(d,T4),{value:ve,handleValueChange:xe,timezone:ge}=iu({name:"DateCalendar",timezone:ke,value:g,defaultValue:y,referenceDate:v,onChange:T,valueManager:pi}),{view:Ee,setView:Le,focusedView:je,setFocusedView:qe,goToNextView:fe,setValueAndGoToNextView:ie}=JT({view:_,views:P,openTo:M,onChange:xe,onViewChange:p,autoFocus:h,focusedView:F,onFocusedViewChange:K}),{referenceDate:Ve,calendarState:Pe,setVisibleDate:Se,isDateDisabled:Ie,onMonthSwitchingAnimationEnd:G}=rB({value:ve,referenceDate:v,reduceAnimations:w,onMonthChange:k,minDate:V,maxDate:z,shouldDisableDate:j,disablePast:S,disableFuture:b,timezone:ge,getCurrentMonthFromVisibleDate:(st,wt)=>a.isSameMonth(st,wt)?wt:a.startOfMonth(st)}),we=W&&ve||V,Ae=W&&ve||z,De=`${u}-grid-label`,Ne=je!==null,Fe=he?.calendarHeader??C4,ft=Ot({elementType:Fe,externalSlotProps:J?.calendarHeader,additionalProps:{views:P,view:Ee,currentMonth:Pe.currentMonth,onViewChange:Le,onMonthChange:st=>Se({target:st,reason:"header-navigation"}),minDate:we,maxDate:Ae,disabled:W,disablePast:S,disableFuture:b,reduceAnimations:w,timezone:ge,labelId:De},ownerState:l}),Ye=Be(st=>{const wt=a.startOfMonth(st),Ut=a.endOfMonth(st),on=Ie(st)?Lc({adapter:a,date:st,minDate:a.isBefore(V,wt)?wt:V,maxDate:a.isAfter(z,Ut)?Ut:z,disablePast:S,disableFuture:b,isDateDisabled:Ie,timezone:ge}):st;on?(ie(on,"finish"),Se({target:on,reason:"cell-interaction"})):(fe(),Se({target:wt,reason:"cell-interaction"}))}),Xe=Be(st=>{const wt=a.startOfYear(st),Ut=a.endOfYear(st),on=Ie(st)?Lc({adapter:a,date:st,minDate:a.isBefore(V,wt)?wt:V,maxDate:a.isAfter(z,Ut)?Ut:z,disablePast:S,disableFuture:b,isDateDisabled:Ie,timezone:ge}):st;on?(ie(on,"finish"),Se({target:on,reason:"cell-interaction"})):(fe(),Se({target:wt,reason:"cell-interaction"}))}),Ce=Be(st=>xe(st&&ah(a,st,ve??Ve),"finish",Ee));x.useEffect(()=>{a.isValid(ve)&&Se({target:ve,reason:"controlled-value-change"})},[ve]);const Me=D4(N),We={disablePast:S,disableFuture:b,maxDate:z,minDate:V},Re={disableHighlightToday:de,readOnly:U,disabled:W,timezone:ge,gridLabelId:De,slots:he,slotProps:J},Ge=x.useRef(Ee);x.useEffect(()=>{Ge.current!==Ee&&(je===Ge.current&&qe(Ee,!0),Ge.current=Ee)},[je,qe,Ee]);const ut=x.useMemo(()=>[ve],[ve]);return r.jsxs(A4,$({ref:s,className:qn(Me.root,R),ownerState:l},X,{children:[r.jsx(Fe,$({},ft,{slots:he,slotProps:J})),r.jsx(M4,{reduceAnimations:w,className:Me.viewTransitionContainer,transKey:Ee,ownerState:l,children:r.jsxs("div",{children:[Ee==="year"&&r.jsx(n4,$({},We,Re,{value:ve,onChange:Xe,shouldDisableYear:A,hasFocus:Ne,onFocusedViewChange:st=>qe("year",st),yearsOrder:ce,yearsPerRow:se,referenceDate:Ve})),Ee==="month"&&r.jsx(YB,$({},We,Re,{currentMonth:Pe.currentMonth,hasFocus:Ne,className:R,value:ve,onChange:Ye,shouldDisableMonth:D,onFocusedViewChange:st=>qe("month",st),monthsPerRow:oe,referenceDate:Ve})),Ee==="day"&&r.jsx(NB,$({},Pe,We,Re,{onMonthSwitchingAnimationEnd:G,hasFocus:Ne,onFocusedDayChange:st=>Se({target:st,reason:"cell-interaction"}),reduceAnimations:w,selectedDays:ut,onSelectedDaysChange:Ce,shouldDisableDate:j,shouldDisableMonth:D,shouldDisableYear:A,onFocusedViewChange:st=>qe("day",st),showDaysOutsideCurrentMonth:B,fixedWeekNumber:q,dayOfWeekFormatter:le,displayWeekNumber:ae,loading:ee,renderLoading:Z}))]})})]}))}),Uo=({view:e,onViewChange:t,views:s,focusedView:a,onFocusedViewChange:l,value:u,defaultValue:d,referenceDate:h,onChange:p,className:g,classes:y,disableFuture:v,disablePast:b,minDate:S,maxDate:T,shouldDisableDate:k,shouldDisableMonth:w,shouldDisableYear:j,reduceAnimations:D,onMonthChange:A,monthsPerRow:_,onYearChange:P,yearsOrder:M,yearsPerRow:R,slots:N,slotProps:W,loading:U,renderLoading:V,disableHighlightToday:z,readOnly:de,disabled:F,showDaysOutsideCurrentMonth:K,dayOfWeekFormatter:B,sx:q,autoFocus:le,fixedWeekNumber:he,displayWeekNumber:J,timezone:ee})=>r.jsx(P4,{view:e,onViewChange:t,views:s.filter(h1),focusedView:a&&h1(a)?a:null,onFocusedViewChange:l,value:u,defaultValue:d,referenceDate:h,onChange:p,className:g,classes:y,disableFuture:v,disablePast:b,minDate:S,maxDate:T,shouldDisableDate:k,shouldDisableMonth:w,shouldDisableYear:j,reduceAnimations:D,onMonthChange:A,monthsPerRow:_,onYearChange:P,yearsOrder:M,yearsPerRow:R,slots:N,slotProps:W,loading:U,renderLoading:V,disableHighlightToday:z,readOnly:de,disabled:F,showDaysOutsideCurrentMonth:K,dayOfWeekFormatter:B,sx:q,autoFocus:le,fixedWeekNumber:he,displayWeekNumber:J,timezone:ee}),TD=x.forwardRef(function(t,s){const a=Ht(),l=KT(t,"MuiDesktopDatePicker"),u=$({day:Uo,month:Uo,year:Uo},l.viewRenderers),d=$({},l,{closeOnSelect:l.closeOnSelect??!0,viewRenderers:u,format:Yy(a,l,!1),yearsPerRow:l.yearsPerRow??4,slots:$({field:yD},l.slots),slotProps:$({},l.slotProps,{field:p=>$({},ui(l.slotProps?.field,p),YT(l)),toolbar:$({hidden:!0},l.slotProps?.toolbar)})}),{renderPicker:h}=Fz({ref:s,props:d,valueManager:pi,valueType:"date",validator:nu,steps:null});return h()});TD.propTypes={autoFocus:E.bool,className:E.string,closeOnSelect:E.bool,dayOfWeekFormatter:E.func,defaultValue:E.object,disabled:E.bool,disableFuture:E.bool,disableHighlightToday:E.bool,disableOpenPicker:E.bool,disablePast:E.bool,displayWeekNumber:E.bool,enableAccessibleFieldDOMStructure:E.any,fixedWeekNumber:E.number,format:E.string,formatDensity:E.oneOf(["dense","spacious"]),inputRef:CC,label:E.node,loading:E.bool,localeText:E.object,maxDate:E.object,minDate:E.object,monthsPerRow:E.oneOf([3,4]),name:E.string,onAccept:E.func,onChange:E.func,onClose:E.func,onError:E.func,onMonthChange:E.func,onOpen:E.func,onSelectedSectionsChange:E.func,onViewChange:E.func,onYearChange:E.func,open:E.bool,openTo:E.oneOf(["day","month","year"]),orientation:E.oneOf(["landscape","portrait"]),readOnly:E.bool,reduceAnimations:E.bool,referenceDate:E.object,renderLoading:E.func,selectedSections:E.oneOfType([E.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),E.number]),shouldDisableDate:E.func,shouldDisableMonth:E.func,shouldDisableYear:E.func,showDaysOutsideCurrentMonth:E.bool,slotProps:E.object,slots:E.object,sx:E.oneOfType([E.arrayOf(E.oneOfType([E.func,E.object,E.bool])),E.func,E.object]),timezone:E.string,value:E.object,view:E.oneOf(["day","month","year"]),viewRenderers:E.shape({day:E.func,month:E.func,year:E.func}),views:E.arrayOf(E.oneOf(["day","month","year"]).isRequired),yearsOrder:E.oneOf(["asc","desc"]),yearsPerRow:E.oneOf([3,4])};const O4=Qe(vn)({[`& .${bS.container}`]:{outline:0},[`& .${bS.paper}`]:{outline:0,minWidth:Ah}}),R4=Qe(Sn)({"&:first-of-type":{padding:0}});function _4(e){const{children:t,slots:s,slotProps:a}=e,{open:l}=rl(),{dismissViews:u,onPopperExited:d}=Yn(),h=s?.dialog??O4,p=s?.mobileTransition??hh;return r.jsx(h,$({open:l,onClose:()=>{u(),d?.()}},a?.dialog,{TransitionComponent:p,TransitionProps:a?.mobileTransition,PaperComponent:s?.mobilePaper,PaperProps:a?.mobilePaper,children:r.jsx(R4,{children:t})}))}const I4=["props","steps"],W4=["ownerState"],N4=e=>{let{props:t,steps:s}=e,a=ht(e,I4);const{slots:l,slotProps:u,label:d,inputRef:h,localeText:p}=t,g=sD({steps:s}),{providerProps:y,renderCurrentView:v,ownerState:b}=eD($({},a,{props:t,localeText:p,autoFocusView:!0,viewContainerRole:"dialog",variant:"mobile",getStepNavigation:g})),S=y.privateContextValue.labelId,T=u?.toolbar?.hidden??!1,k=l.field,w=Ot({elementType:k,externalSlotProps:u?.field,additionalProps:$({},T&&{id:S}),ownerState:b}),j=ht(w,W4),D=l.layout??nD;let A=S;T&&(d?A=`${S}-label`:A=void 0);const _=$({},u,{toolbar:$({},u?.toolbar,{titleId:S}),mobilePaper:$({"aria-labelledby":A},u?.mobilePaper)});return{renderPicker:()=>r.jsxs(FT,$({},y,{children:[r.jsx(k,$({},j,{slots:l,slotProps:_,inputRef:h})),r.jsx(_4,{slots:l,slotProps:_,children:r.jsx(D,$({},_?.layout,{slots:l,slotProps:_,children:v()}))})]}))}},DD=x.forwardRef(function(t,s){const a=Ht(),l=KT(t,"MuiMobileDatePicker"),u=$({day:Uo,month:Uo,year:Uo},l.viewRenderers),d=$({},l,{viewRenderers:u,format:Yy(a,l,!1),slots:$({field:yD},l.slots),slotProps:$({},l.slotProps,{field:p=>$({},ui(l.slotProps?.field,p),YT(l)),toolbar:$({hidden:!1},l.slotProps?.toolbar)})}),{renderPicker:h}=N4({ref:s,props:d,valueManager:pi,valueType:"date",validator:nu,steps:null});return h()});DD.propTypes={autoFocus:E.bool,className:E.string,closeOnSelect:E.bool,dayOfWeekFormatter:E.func,defaultValue:E.object,disabled:E.bool,disableFuture:E.bool,disableHighlightToday:E.bool,disableOpenPicker:E.bool,disablePast:E.bool,displayWeekNumber:E.bool,enableAccessibleFieldDOMStructure:E.any,fixedWeekNumber:E.number,format:E.string,formatDensity:E.oneOf(["dense","spacious"]),inputRef:CC,label:E.node,loading:E.bool,localeText:E.object,maxDate:E.object,minDate:E.object,monthsPerRow:E.oneOf([3,4]),name:E.string,onAccept:E.func,onChange:E.func,onClose:E.func,onError:E.func,onMonthChange:E.func,onOpen:E.func,onSelectedSectionsChange:E.func,onViewChange:E.func,onYearChange:E.func,open:E.bool,openTo:E.oneOf(["day","month","year"]),orientation:E.oneOf(["landscape","portrait"]),readOnly:E.bool,reduceAnimations:E.bool,referenceDate:E.object,renderLoading:E.func,selectedSections:E.oneOfType([E.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),E.number]),shouldDisableDate:E.func,shouldDisableMonth:E.func,shouldDisableYear:E.func,showDaysOutsideCurrentMonth:E.bool,slotProps:E.object,slots:E.object,sx:E.oneOfType([E.arrayOf(E.oneOfType([E.func,E.object,E.bool])),E.func,E.object]),timezone:E.string,value:E.object,view:E.oneOf(["day","month","year"]),viewRenderers:E.shape({day:E.func,month:E.func,year:E.func}),views:E.arrayOf(E.oneOf(["day","month","year"]).isRequired),yearsOrder:E.oneOf(["asc","desc"]),yearsPerRow:E.oneOf([3,4])};const L4=["desktopModeMediaQuery"],rh=x.forwardRef(function(t,s){const a=rn({props:t,name:"MuiDatePicker"}),{desktopModeMediaQuery:l=cz}=a,u=ht(a,L4);return Og(l,{defaultMatches:!0})?r.jsx(TD,$({ref:s},u)):r.jsx(DD,$({ref:s},u))}),z4={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},V4={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",dayOfMonthFull:"do",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class B4{isMUIAdapter=!0;isTimezoneCompatible=!1;formatTokenMap=z4;escapedCharacters={start:"'",end:"'"};constructor(t){const{locale:s,formats:a,longFormatters:l,lib:u}=t;this.locale=s,this.formats=$({},V4,a),this.longFormatters=l,this.lib=u||"date-fns"}date=t=>typeof t>"u"?new Date:t===null?null:new Date(t);getInvalidDate=()=>new Date("Invalid Date");getTimezone=()=>"default";setTimezone=t=>t;toJsDate=t=>t;getCurrentLocaleCode=()=>this.locale.code;is12HourCycleInCurrentLocale=()=>/a/.test(this.locale.formatLong.time({width:"short"}));expandFormat=t=>{const s=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return t.match(s).map(a=>{const l=a[0];if(l==="p"||l==="P"){const u=this.longFormatters[l];return u(a,this.locale.formatLong)}return a}).join("")};formatNumber=t=>t;getDayOfWeek=t=>t.getDay()+1}class ax extends B4{constructor({locale:t,formats:s}={}){super({locale:t??ny,formats:s,longFormatters:Xd})}parse=(t,s)=>t===""?null:pI(t,s,new Date,{locale:this.locale});isValid=t=>t==null?!1:Rj(t);format=(t,s)=>this.formatByString(t,this.formats[s]);formatByString=(t,s)=>Um(t,s,{locale:this.locale});isEqual=(t,s)=>t===null&&s===null?!0:t===null||s===null?!1:b5(t,s);isSameYear=(t,s)=>yI(t,s);isSameMonth=(t,s)=>Gj(t,s);isSameDay=(t,s)=>Fm(t,s);isSameHour=(t,s)=>gI(t,s);isAfter=(t,s)=>Id(t,s);isAfterYear=(t,s)=>Id(t,YS(s));isAfterDay=(t,s)=>Id(t,qS(s));isBefore=(t,s)=>um(t,s);isBeforeYear=(t,s)=>um(t,this.startOfYear(s));isBeforeDay=(t,s)=>um(t,this.startOfDay(s));isWithinRange=(t,[s,a])=>xI(t,{start:s,end:a});startOfYear=t=>Wj(t);startOfMonth=t=>Ij(t);startOfWeek=t=>Zs(t,{locale:this.locale});startOfDay=t=>Pc(t);endOfYear=t=>YS(t);endOfMonth=t=>_j(t);endOfWeek=t=>Nj(t,{locale:this.locale});endOfDay=t=>qS(t);addYears=(t,s)=>y_(t,s);addMonths=(t,s)=>vh(t,s);addWeeks=(t,s)=>g_(t,s);addDays=(t,s)=>Qc(t,s);addHours=(t,s)=>u_(t,s);addMinutes=(t,s)=>p_(t,s);addSeconds=(t,s)=>m_(t,s);getYear=t=>x5(t);getMonth=t=>g5(t);getDate=t=>u5(t);getHours=t=>h5(t);getMinutes=t=>m5(t);getSeconds=t=>y5(t);getMilliseconds=t=>p5(t);setYear=(t,s)=>kI(t,s);setMonth=(t,s)=>bI(t,s);setDate=(t,s)=>vI(t,s);setHours=(t,s)=>SI(t,s);setMinutes=(t,s)=>CI(t,s);setSeconds=(t,s)=>jI(t,s);setMilliseconds=(t,s)=>wI(t,s);getDaysInMonth=t=>Fj(t);getWeekArray=t=>{const s=this.startOfWeek(this.startOfMonth(t)),a=this.endOfWeek(this.endOfMonth(t));let l=0,u=s;const d=[];for(;this.isBefore(u,a);){const h=Math.floor(l/7);d[h]=d[h]||[],d[h].push(u),u=this.addDays(u,1),l+=1}return d};getWeekNumber=t=>iy(t,{locale:this.locale});getYearRange=([t,s])=>{const a=this.startOfYear(t),l=this.endOfYear(s),u=[];let d=a;for(;this.isBefore(d,l);)u.push(d),d=this.addYears(d,1);return u}}const cs={STRENGTH:"strength",CARDIO:"cardio",YOGA:"yoga",REST:"rest"},ka={FULL:"full",UPPER:"upper",PUSH:"push",PULL:"pull",LEGS:"legs",CORE:"core"},ED=({open:e,onClose:t,activity:s,onSave:a})=>{const[l,u]=x.useState({date:new Date,duration:"",notes:"",sessionName:"",sessionType:cs.STRENGTH,workoutType:ka.FULL,numExercises:"",setsPerExercise:""});x.useEffect(()=>{if(s&&e){const g=s.duration?Math.round(s.duration/60):"";u({date:new Date(s.date),duration:g,notes:s.notes||"",sessionName:s.sessionName||"",sessionType:s.sessionType||cs.STRENGTH,workoutType:s.type||ka.FULL,numExercises:s.numExercises||"",setsPerExercise:s.setsPerExercise||""})}},[s,e]);const d=(g,y)=>{u(v=>({...v,[g]:y}))},h=()=>{const g=l.duration?parseFloat(l.duration)*60:0,y={...s,date:l.date.getTime(),duration:g,notes:l.notes.trim(),sessionName:l.sessionName.trim(),sessionType:l.sessionType,type:l.sessionType===cs.STRENGTH?l.workoutType:l.sessionType,numExercises:l.sessionType===cs.STRENGTH&&parseInt(l.numExercises)||void 0,setsPerExercise:l.sessionType===cs.STRENGTH&&parseInt(l.setsPerExercise)||void 0};a(y),t()},p=()=>!(!l.date||l.sessionType!==cs.REST&&(!l.duration||parseFloat(l.duration)<=0)||l.sessionType===cs.STRENGTH&&(!l.numExercises||parseInt(l.numExercises)<=0||!l.setsPerExercise||parseInt(l.setsPerExercise)<=0));return r.jsx(Th,{dateAdapter:ax,children:r.jsxs(vn,{open:e,onClose:t,maxWidth:"sm",fullWidth:!0,children:[r.jsx(On,{children:"Edit Activity"}),r.jsx(Sn,{children:r.jsxs(Oe,{spacing:2,sx:{mt:1},children:[r.jsx(rh,{label:"Date",value:l.date,onChange:g=>d("date",g),slotProps:{textField:{fullWidth:!0}}}),r.jsxs(Ft,{fullWidth:!0,children:[r.jsx(Mn,{children:"Session Type"}),r.jsxs(Yt,{value:l.sessionType,label:"Session Type",onChange:g=>d("sessionType",g.target.value),children:[r.jsx(ze,{value:cs.STRENGTH,children:"Strength"}),r.jsx(ze,{value:cs.CARDIO,children:"Cardio"}),r.jsx(ze,{value:cs.YOGA,children:"Yoga"}),r.jsx(ze,{value:cs.REST,children:"Rest Day"})]})]}),l.sessionType===cs.STRENGTH&&r.jsxs(Ft,{fullWidth:!0,children:[r.jsx(Mn,{children:"Workout Type"}),r.jsxs(Yt,{value:l.workoutType,label:"Workout Type",onChange:g=>d("workoutType",g.target.value),children:[r.jsx(ze,{value:ka.FULL,children:"Full Body"}),r.jsx(ze,{value:ka.UPPER,children:"Upper Body"}),r.jsx(ze,{value:ka.PUSH,children:"Push"}),r.jsx(ze,{value:ka.PULL,children:"Pull"}),r.jsx(ze,{value:ka.LEGS,children:"Legs"}),r.jsx(ze,{value:ka.CORE,children:"Core"})]})]}),l.sessionType!==cs.REST&&r.jsx(dt,{fullWidth:!0,type:"number",label:"Duration (minutes)",placeholder:"e.g., 45",value:l.duration,onChange:g=>d("duration",g.target.value),variant:"outlined",inputProps:{min:0,step:1}}),l.sessionType===cs.STRENGTH&&r.jsxs(r.Fragment,{children:[r.jsx(dt,{fullWidth:!0,type:"number",label:"Number of Exercises",placeholder:"e.g., 6",value:l.numExercises,onChange:g=>d("numExercises",g.target.value),variant:"outlined",inputProps:{min:1,step:1}}),r.jsx(dt,{fullWidth:!0,type:"number",label:"Sets per Exercise",placeholder:"e.g., 3",value:l.setsPerExercise,onChange:g=>d("setsPerExercise",g.target.value),variant:"outlined",inputProps:{min:1,step:1}})]}),r.jsx(dt,{fullWidth:!0,label:"Session Name (optional)",placeholder:"e.g., Morning workout, Leg day, etc.",value:l.sessionName,onChange:g=>d("sessionName",g.target.value),variant:"outlined"}),r.jsx(dt,{fullWidth:!0,multiline:!0,rows:4,label:"Notes (optional)",placeholder:"Add any notes about your session...",value:l.notes,onChange:g=>d("notes",g.target.value),variant:"outlined"})]})}),r.jsxs(wn,{children:[r.jsx(Te,{onClick:t,children:"Cancel"}),r.jsx(Te,{onClick:h,variant:"contained",disabled:!p(),children:"Save"})]})]})})};ED.propTypes={open:E.bool.isRequired,onClose:E.func.isRequired,activity:E.object,onSave:E.func.isRequired};const rx=x.memo(({onNavigate:e,loading:t=!1,workoutType:s,selectedEquipment:a,equipmentOptions:l,onWorkoutTypeChange:u,onEquipmentChange:d,onStartWorkout:h,onCustomize:p,onTabChange:g})=>{const[y,v]=x.useState(""),[b,S]=x.useState([]),[T,k]=x.useState([]),[w,j]=x.useState(!1),{weeklySchedule:D}=Zi(),[A,_]=x.useState([2,2,2,2]),[P,M]=x.useState(!1),[R,N]=x.useState(!1),[W,U]=x.useState(null),[V,z]=x.useState({open:!1,message:"",severity:"success"});x.useEffect(()=>{const X={weekday:"short",month:"short",day:"numeric"};v(new Date().toLocaleDateString("en-US",X))},[]);const F=(()=>{const ve=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date().getDay()];return D[ve]})(),K=async()=>{try{const X=await ei();k(X),S(X.slice(0,5))}catch(X){console.error("Error loading recent workouts:",X)}};x.useEffect(()=>{K()},[]);const B=X=>{U(X),M(!0)},q=X=>{U(X),N(!0)},le=async()=>{try{await qR(W),z({open:!0,message:"Activity deleted successfully",severity:"success"}),N(!1),U(null),await K()}catch(X){console.error("Error deleting activity:",X),z({open:!0,message:"Failed to delete activity",severity:"error"})}},he=async X=>{try{await YR(W,X),z({open:!0,message:"Activity updated successfully",severity:"success"}),M(!1),U(null),await K()}catch(ve){console.error("Error updating activity:",ve),z({open:!0,message:"Failed to update activity",severity:"error"})}},J=X=>{const ve=new Set(a);X==="all"?(ve.clear(),ve.add("all")):(ve.has("all")&&ve.delete("all"),ve.has(X)?ve.delete(X):ve.add(X),ve.size===0&&ve.add("all")),d(ve)},ee=()=>{if(a.has("all"))return"All Equipment";const X=Array.from(a);return X.length===0?"All Equipment":X.length===1?l.find(xe=>xe.toLowerCase()===X[0])||X[0]:`${X.length} selected`},Z=()=>{_([...A,2])},ae=X=>{if(A.length>1){const ve=A.filter((xe,ge)=>ge!==X);_(ve)}},ce=(X,ve)=>{const xe=[...A],ge=Math.max(1,Math.min(6,xe[X]+ve));xe[X]=ge,_(xe)},se=()=>{if(s&&h){const X=a.has("all")?"all":Array.from(a);h(s,X,null,A)}},oe=()=>{if(s&&p){const X=a.has("all")?"all":Array.from(a);p(s,X,A)}},ke=()=>{if(!F)return;const X=(F.sessionType||"").toLowerCase();if(X.includes("rest")){j(!0);return}if(X.includes("cardio")||X.includes("hiit")||X.includes("yoga")||X.includes("mobility")||X.includes("stretch")){g&&g(1);return}if(["full","upper","lower","push","pull","legs","core"].includes(X)){u(X);const xe=a.has("all")?"all":Array.from(a);F.exercises&&F.exercises.length>0?h(X,xe,F.exercises,A):h(X,xe,null,A)}};return r.jsxs(L,{children:[w&&r.jsx(Hy,{onClose:()=>j(!1)}),r.jsx(L,{sx:{mb:4,textAlign:"center"},children:r.jsxs(I,{variant:"h5",sx:{fontWeight:600,color:"text.secondary",fontSize:{xs:"1rem",sm:"1.25rem"},display:"flex",alignItems:"center",justifyContent:"center",gap:1,flexWrap:"wrap"},children:[r.jsx("span",{children:y}),F&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),r.jsx(ct,{label:`Suggested Session: ${F.sessionName||F.sessionType}`,color:"primary",variant:"outlined",size:"small",onClick:ke,sx:{fontWeight:600,fontSize:{xs:"0.75rem",sm:"0.875rem"},cursor:"pointer","&:hover":{backgroundColor:"rgba(19, 70, 134, 0.08)"}}})]})]})}),r.jsx(Je,{elevation:2,sx:{mb:3,borderRadius:3,background:"linear-gradient(135deg, rgba(237, 63, 39, 0.05) 0%, rgba(19, 70, 134, 0.05) 100%)"},children:r.jsxs(ot,{sx:{p:{xs:2,sm:3}},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",mb:2},children:[r.jsx(Jt,{sx:{color:"secondary.main",mr:1}}),r.jsx(I,{variant:"h6",sx:{color:"text.primary",fontWeight:600},children:"Start a Workout"})]}),r.jsxs(Oe,{spacing:2,sx:{mb:3},children:[r.jsxs(Ft,{fullWidth:!0,size:"medium",children:[r.jsx(Mn,{id:"workout-type-label",children:"Workout Type"}),r.jsxs(Yt,{labelId:"workout-type-label",value:s||"full",label:"Workout Type",onChange:X=>u(X.target.value),children:[r.jsx(ze,{value:"full",children:"Full Body"}),r.jsx(ze,{value:"upper",children:"Upper Body"}),r.jsx(ze,{value:"lower",children:"Lower Body"}),r.jsx(ze,{value:"push",children:"Push"}),r.jsx(ze,{value:"pull",children:"Pull"}),r.jsx(ze,{value:"legs",children:"Legs"}),r.jsx(ze,{value:"core",children:"Core"})]})]}),r.jsxs(vr,{sx:{boxShadow:"none",border:"1px solid rgba(0, 0, 0, 0.23)",borderRadius:"4px !important","&:before":{display:"none"},"&.Mui-expanded":{margin:0}},children:[r.jsx(Sr,{expandIcon:r.jsx(Aa,{}),sx:{minHeight:"48px","&.Mui-expanded":{minHeight:"48px"},"& .MuiAccordionSummary-content":{margin:"12px 0","&.Mui-expanded":{margin:"12px 0"}}},children:r.jsxs(L,{sx:{display:"flex",flexDirection:"column",width:"100%"},children:[r.jsx(I,{variant:"caption",sx:{color:"text.primary",fontSize:"0.75rem",lineHeight:1,mb:.5},children:"Equipment"}),r.jsx(I,{sx:{color:"text.primary",fontSize:"1rem"},children:ee()})]})}),r.jsx(wr,{sx:{pt:0,pb:2},children:r.jsxs(Oe,{spacing:1,children:[r.jsx(ct,{label:"All Equipment",onClick:()=>J("all"),color:a.has("all")?"primary":"default",variant:a.has("all")?"filled":"outlined",sx:{justifyContent:"flex-start"}}),l.map(X=>r.jsx(ct,{label:X,onClick:()=>J(X.toLowerCase()),color:a.has(X.toLowerCase())?"primary":"default",variant:a.has(X.toLowerCase())?"filled":"outlined",sx:{justifyContent:"flex-start"}},X))]})})]})]}),r.jsxs(vr,{sx:{boxShadow:"none",border:"1px solid rgba(0, 0, 0, 0.12)",borderRadius:"4px !important","&:before":{display:"none"},mb:2},children:[r.jsx(Sr,{expandIcon:r.jsx(Aa,{}),children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(P2,{sx:{fontSize:20}}),r.jsxs(I,{variant:"body2",sx:{fontWeight:600},children:["Superset Configuration (",A.length," supersets)"]})]})}),r.jsx(wr,{children:r.jsxs(Oe,{spacing:2,children:[A.map((X,ve)=>r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1,p:1.5,bgcolor:"action.hover",borderRadius:1},children:[r.jsxs(I,{variant:"body2",sx:{minWidth:"80px",fontWeight:500},children:["Superset ",ve+1]}),r.jsxs(Oe,{direction:"row",spacing:1,alignItems:"center",sx:{flex:1},children:[r.jsx(Ue,{size:"small",onClick:()=>ce(ve,-1),disabled:X<=1,children:r.jsx(Ra,{fontSize:"small"})}),r.jsxs(I,{sx:{minWidth:"90px",textAlign:"center"},children:[X," exercises"]}),r.jsx(Ue,{size:"small",onClick:()=>ce(ve,1),disabled:X>=6,children:r.jsx(Xs,{fontSize:"small"})})]}),r.jsx(Zn,{title:"Remove superset",children:r.jsx(Ue,{size:"small",onClick:()=>ae(ve),disabled:A.length<=1,color:"error",children:r.jsx(Ra,{fontSize:"small"})})})]},ve)),r.jsx(Te,{variant:"outlined",size:"small",startIcon:r.jsx(Xs,{}),onClick:Z,sx:{alignSelf:"flex-start"},children:"Add Superset"})]})})]}),r.jsx(dn,{sx:{my:2}}),r.jsxs(Oe,{direction:"row",spacing:2,children:[r.jsx(Te,{variant:"outlined",size:"large",fullWidth:!0,disabled:!s||t,onClick:oe,startIcon:r.jsx(Yi,{}),sx:{minHeight:ih.navigation,fontSize:{xs:"0.95rem",sm:"1rem"},fontWeight:600,borderWidth:2,"&:hover":{borderWidth:2}},children:"Customize"}),r.jsx(Te,{variant:"contained",size:"large",fullWidth:!0,disabled:!s||t,onClick:se,startIcon:r.jsx(Qs,{}),sx:{minHeight:ih.navigation,fontSize:{xs:"0.95rem",sm:"1rem"},fontWeight:600,backgroundColor:"primary.main","&:hover":{backgroundColor:"primary.dark"}},children:"Generate"})]})]})}),r.jsx(Fy,{onStartWorkout:h}),r.jsx(L,{sx:{mb:3},children:r.jsx(AT,{workoutHistory:T})}),b.length>0&&r.jsxs(L,{sx:{mb:3},children:[r.jsxs(Oe,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[r.jsxs(I,{variant:"h6",sx:{fontWeight:600,color:"text.primary",display:"flex",alignItems:"center",gap:1},children:[r.jsx(Pa,{})," Recent Activity"]}),r.jsx(Te,{size:"small",onClick:()=>e("progress"),sx:{color:"primary.main"},children:"View All"})]}),r.jsx(Uy,{activities:b,onEdit:B,onDelete:q,maxVisible:5,showLoadMore:!1})]}),r.jsx(ED,{open:P,onClose:()=>{M(!1),U(null)},activity:W!==null?b[W]:null,onSave:he}),r.jsxs(vn,{open:R,onClose:()=>{N(!1),U(null)},children:[r.jsx(On,{children:"Delete Activity?"}),r.jsx(Sn,{children:r.jsx(_g,{children:"Are you sure you want to delete this activity? This action cannot be undone."})}),r.jsxs(wn,{children:[r.jsx(Te,{onClick:()=>{N(!1),U(null)},children:"Cancel"}),r.jsx(Te,{onClick:le,color:"error",variant:"contained",children:"Delete"})]})]}),r.jsx(Hs,{open:V.open,autoHideDuration:6e3,onClose:()=>z({...V,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(At,{onClose:()=>z({...V,open:!1}),severity:V.severity,sx:{width:"100%"},children:V.message})})]})});rx.displayName="WorkoutTab";rx.propTypes={onNavigate:E.func,loading:E.bool,workoutType:E.string,selectedEquipment:E.instanceOf(Set),equipmentOptions:E.array,onWorkoutTypeChange:E.func,onEquipmentChange:E.func,onStartWorkout:E.func,onCustomize:E.func,onTabChange:E.func};const M1=3,F4=8,Oh="/goodlift/data/exercises.json",H4="/goodlift/data/hiit-exercises.json",Ed={UPPER_BODY:["Chest","Upper Chest","Lower Chest","Inner Chest","Back","Lats","Upper Back","Lower Back","Delts","Front Delts","Rear Delts","Side Delts","Biceps","Triceps","Forearms","Traps"],LOWER_BODY:["Quads","Hamstrings","Glutes","Calves","Hip Flexors"]},Ta={UPPER_BODY:{DUMBBELL:2.5,BARBELL:5},LOWER_BODY:{DUMBBELL:10,BARBELL:5}},U4={MILLISECONDS_PER_DAY:864e5},AD=({value:e,onChange:t,availableExercises:s,label:a="Exercise",placeholder:l="Type to search exercises...",size:u="small",fullWidth:d=!0,disabled:h=!1,sx:p={}})=>{const g=y=>{if(!y)return s;const v=y.toLowerCase().split(" ").filter(b=>b.length>0);return s.filter(b=>{const S=[b.name,b.muscleGroup].join(" ").toLowerCase();return v.every(T=>S.includes(T))})};return r.jsx(jC,{fullWidth:d,size:u,options:s,value:e,onChange:t,disabled:h,getOptionLabel:y=>typeof y=="string"?y:y?.name||"",filterOptions:(y,v)=>g(v.inputValue),isOptionEqualToValue:(y,v)=>typeof y=="string"&&typeof v=="string"?y===v:y?.name===v?.name,freeSolo:!0,renderInput:y=>r.jsx(dt,{...y,label:a,placeholder:l}),renderOption:(y,v)=>{const{key:b,...S}=y;return r.jsx("li",{...S,children:r.jsxs(L,{children:[r.jsx(I,{variant:"body2",children:v.name}),r.jsx(I,{variant:"caption",color:"text.secondary",children:v.muscleGroup})]})},b)},noOptionsText:"No exercises found. Try different search terms.",sx:p})};AD.propTypes={value:E.oneOfType([E.object,E.string]),onChange:E.func.isRequired,availableExercises:E.array.isRequired,label:E.string,placeholder:E.string,size:E.string,fullWidth:E.bool,disabled:E.bool,sx:E.object};const at={HIIT:"hiit",FLOW:"flow",CARDIO:"cardio"},P1=[{name:"Mountain Pose (Tadasana)",defaultDuration:30},{name:"Downward Dog (Adho Mukha Svanasana)",defaultDuration:60},{name:"Warrior I (Virabhadrasana I)",defaultDuration:45},{name:"Warrior II (Virabhadrasana II)",defaultDuration:45},{name:"Triangle Pose (Trikonasana)",defaultDuration:45},{name:"Tree Pose (Vrksasana)",defaultDuration:30},{name:"Child's Pose (Balasana)",defaultDuration:60},{name:"Cat-Cow Pose",defaultDuration:60},{name:"Seated Forward Bend (Paschimottanasana)",defaultDuration:60},{name:"Cobra Pose (Bhujangasana)",defaultDuration:30},{name:"Plank Pose",defaultDuration:30},{name:"Bridge Pose (Setu Bandhasana)",defaultDuration:45}],ox=({onNavigate:e,hideBackButton:t=!1})=>{const[s,a]=x.useState(at.CARDIO),[l,u]=x.useState(!0),[d,h]=x.useState(!1),[p,g]=x.useState(!1),[y,v]=x.useState(1200),[b,S]=x.useState(1200),[T,k]=x.useState(30),[w,j]=x.useState(15),[D,A]=x.useState(8),[_,P]=x.useState(1),[M,R]=x.useState(!0),[N,W]=x.useState(10),[U,V]=x.useState(0),[z,de]=x.useState(4),[F,K]=x.useState(""),[B,q]=x.useState([]),[le,he]=x.useState({prep:"Get Ready",recovery:"Recovery"}),[J,ee]=x.useState(!1),[Z,ae]=x.useState(!1),[ce,se]=x.useState([]),[oe,ke]=x.useState(0),[X,ve]=x.useState(45),[xe,ge]=x.useState(20),[Ee,Le]=x.useState([]),[je,qe]=x.useState([]),[fe,ie]=x.useState(!1),[Ve,Pe]=x.useState(""),[Se,Ie]=x.useState(null),[G,we]=x.useState(!1),[Ae,De]=x.useState([]),[Ne,Fe]=x.useState(!1),[ft,Ye]=x.useState(5),[Xe,Ce]=x.useState(""),Me=x.useRef(null),We=x.useRef(!1);x.useEffect(()=>{(async()=>{try{const _e=pc(),tn=mc();Le(_e),qe(tn)}catch(_e){console.error("Error loading presets:",_e)}})()},[]),x.useEffect(()=>{(async()=>{try{const tn=await(await fetch(H4)).json();De(tn)}catch(_e){console.error("Error loading HIIT exercises:",_e),De([])}})()},[]),x.useEffect(()=>()=>{Me.current&&clearInterval(Me.current)},[]);const Re=x.useCallback(()=>{h(!1),clearInterval(Me.current),zt.playCompletionFanfare(),Fe(!0)},[]);x.useEffect(()=>(d&&!p?Me.current=setInterval(()=>{v(me=>(me===10||me===5?(zt.playBeep(800,150),We.current=!0):me===1&&zt.playBeep(600,300),me<=1?s===at.HIIT?J?(ee(!1),R(!0),zt.playHighBeep(),We.current=!1,T):Z?(ae(!1),R(!0),zt.playHighBeep(),We.current=!1,T):M?(R(!1),zt.playLowBeep(),We.current=!1,w):_<D?U>0&&z>0&&_%z===0?(ae(!0),zt.playTransitionBeep(),We.current=!1,U):(P(_+1),R(!0),zt.playHighBeep(),We.current=!1,T):(Re(),0):s===at.FLOW&&oe<ce.length-1?(ke(oe+1),zt.playTransitionBeep(),We.current=!1,ce[oe+1].duration):(Re(),0):me-1))},1e3):Me.current&&clearInterval(Me.current),()=>{Me.current&&clearInterval(Me.current)}),[d,p,s,M,J,Z,_,D,oe,ce,T,w,U,z,Re]);const Ge=()=>{if(l){if(s===at.HIIT){const me=U>0&&z>0?Math.floor(D/z)*U:0;S(N+D*(T+w)+me),N>0?(v(N),ee(!0),R(!1)):(v(T),ee(!1),R(!0)),P(1),ae(!1)}else if(s===at.FLOW){const me=ce.reduce((_e,tn)=>_e+tn.duration,0);S(me),v(ce[0]?.duration||45),ke(0)}else{const me=xe*60;S(me),v(me)}u(!1)}h(!0),g(!1),We.current=!1},ut=()=>{g(!p)},st=()=>{h(!1),g(!1),u(!0),We.current=!1},wt=()=>{st(),P(1),R(!0),ee(!1),ae(!1),ke(0)},Ut=(me,_e)=>{_e!==null&&(a(_e),wt())},on=me=>{se([...ce,{...me,duration:X}])},Gn=me=>{se(ce.filter((_e,tn)=>tn!==me))},pt=()=>{s===at.HIIT?(J?(ee(!1),R(!0),v(T)):M?(R(!1),v(w)):Z?(ae(!1),R(!0),v(T)):_<D&&(U>0&&z>0&&_%z===0?(ae(!0),v(U)):(P(_+1),R(!0),v(T))),zt.playTransitionBeep()):s===at.FLOW&&oe<ce.length-1&&(ke(oe+1),v(ce[oe+1].duration),zt.playTransitionBeep())},ks=()=>{s===at.HIIT?(M&&_>1?(R(!1),P(_-1),v(w)):!M&&!J&&!Z&&(R(!0),v(T)),zt.playTransitionBeep()):s===at.FLOW&&oe>0&&(ke(oe-1),v(ce[oe-1].duration),zt.playTransitionBeep())},ea=async()=>{try{if(!Ve.trim()){alert("Please enter a preset name");return}if(s===at.FLOW){const me={id:Se?.id,name:Ve,poses:ce,defaultDuration:X};await i_(me);const _e=pc();Le(_e)}else if(s===at.HIIT){const me={id:Se?.id,name:Ve,workInterval:T,restInterval:w,rounds:D,preparationInterval:N,recoveryInterval:U,recoveryAfterRounds:z,sessionName:F,workIntervalNames:B,intervalNames:le};await r_(me);const _e=mc();qe(_e)}ie(!1),Pe(""),Ie(null)}catch(me){console.error("Error saving preset:",me),alert("Failed to save preset")}},yi=me=>{s===at.FLOW?(se(me.poses||[]),ve(me.defaultDuration||45)):s===at.HIIT&&(k(me.workInterval||30),j(me.restInterval||15),A(me.rounds||8),W(me.preparationInterval||10),V(me.recoveryInterval||0),de(me.recoveryAfterRounds||4),K(me.sessionName||""),q(me.workIntervalNames||[]),he(me.intervalNames||{prep:"Get Ready",recovery:"Recovery"}))},ll=async me=>{try{if(s===at.FLOW){await a_(me);const _e=pc();Le(_e)}else if(s===at.HIIT){await o_(me);const _e=mc();qe(_e)}}catch(_e){console.error("Error deleting preset:",_e),alert("Failed to delete preset")}},ln=async()=>{try{const me={date:Date.now(),type:s===at.HIIT?"hiit":s===at.FLOW?"yoga":"cardio",duration:Math.floor(b/60),perceivedEffort:ft,notes:Xe,exercises:{}};await Zg(me);const _e=await Kc();_e.totalWorkouts+=1,_e.totalTime+=b,await Jg(_e),Fe(!1),wt(),e&&setTimeout(()=>e("selection"),500)}catch(me){console.error("Error saving session:",me)}},ts=me=>{const _e=Math.floor(me/60),tn=me%60;return`${_e}:${tn.toString().padStart(2,"0")}`},Hh=(()=>{if(s===at.HIIT){const me=(_-1)/D*100,_e=M?(T-y)/T:(w-y)/w;return me+_e*(100/D)}else return(b-y)/b*100})(),Nr=120,Lr=2*Math.PI*Nr,lu=Lr-Hh/100*Lr;return r.jsx(L,{sx:{width:"100%",minHeight:"100vh",p:3,bgcolor:"background.default"},children:r.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},style:{maxWidth:"800px",margin:"0 auto"},children:[!t&&r.jsx(L,{sx:{mb:2},children:r.jsx(Te,{startIcon:r.jsx(Ig,{}),onClick:()=>e("home"),sx:{color:"text.secondary"},children:"Back to Work Home"})}),l&&r.jsx(Je,{sx:{borderRadius:3,mb:3},children:r.jsxs(ot,{children:[r.jsx(I,{variant:"h6",sx:{mb:2,textAlign:"center"},children:"Select Mode"}),r.jsxs(kC,{value:s,exclusive:!0,onChange:Ut,fullWidth:!0,sx:{mb:3},children:[r.jsx(zi,{value:at.HIIT,sx:{py:2},children:r.jsxs(Oe,{alignItems:"center",spacing:1,children:[r.jsx(Jt,{}),r.jsx(I,{variant:"body2",children:"HIIT"})]})}),r.jsx(zi,{value:at.FLOW,sx:{py:2},children:r.jsxs(Oe,{alignItems:"center",spacing:1,children:[r.jsx(Js,{}),r.jsx(I,{variant:"body2",children:"Yoga"})]})}),r.jsx(zi,{value:at.CARDIO,sx:{py:2},children:r.jsxs(Oe,{alignItems:"center",spacing:1,children:[r.jsx(fi,{}),r.jsx(I,{variant:"body2",children:"Cardio"})]})})]}),s===at.HIIT&&r.jsxs(Oe,{spacing:3,children:[r.jsxs(Oe,{direction:"row",spacing:2,alignItems:"center",children:[r.jsx(I,{variant:"subtitle1",sx:{fontWeight:600,flex:1},children:"HIIT Configuration"}),r.jsx(Te,{size:"small",startIcon:r.jsx(gr,{}),onClick:()=>{Pe(""),Ie(null),ie(!0)},children:"Save Preset"})]}),je.length>0&&r.jsxs(L,{children:[r.jsxs(Oe,{direction:"row",spacing:1,alignItems:"center",sx:{mb:1},children:[r.jsx(I,{variant:"subtitle2",sx:{flex:1},children:"Saved Presets"}),r.jsx(Te,{size:"small",startIcon:G?r.jsx(gr,{}):r.jsx(Yi,{}),onClick:()=>we(!G),children:G?"Done":"Manage"})]}),r.jsx(Oe,{direction:"row",spacing:1,flexWrap:"wrap",useFlexGap:!0,children:je.map(me=>r.jsxs(L,{sx:{position:"relative",display:"inline-block"},children:[r.jsx(ct,{label:me.name,onClick:()=>!G&&yi(me),color:"primary",variant:"outlined",sx:{mb:1,cursor:G?"default":"pointer",opacity:G?.7:1}}),G&&r.jsx(Ue,{size:"small",onClick:()=>ll(me.id),sx:{position:"absolute",top:-8,right:-8,bgcolor:"error.main",color:"white",width:20,height:20,"&:hover":{bgcolor:"error.dark"}},children:r.jsx(Oa,{sx:{fontSize:14}})})]},me.id))})]}),r.jsx(dt,{label:"Session Name (optional)",value:F,onChange:me=>K(me.target.value),fullWidth:!0,placeholder:"e.g., Morning HIIT, Tabata Workout"}),r.jsx(dt,{label:"Preparation Interval (seconds)",type:"number",value:N??"",onChange:me=>{const _e=me.target.value;W(_e===""||_e===null?"":Math.max(0,parseInt(_e)||0))},onBlur:me=>{(me.target.value===""||me.target.value===null)&&W(10)},inputProps:{min:0,max:60,inputMode:"numeric"},fullWidth:!0,helperText:"Time to get ready before the workout starts"}),r.jsx(dt,{label:"Work Interval (seconds)",type:"number",value:T??"",onChange:me=>{const _e=me.target.value;k(_e===""||_e===null?"":Math.max(5,parseInt(_e)||5))},onBlur:me=>{(me.target.value===""||me.target.value===null)&&k(30)},inputProps:{min:5,max:300,inputMode:"numeric"},fullWidth:!0}),r.jsx(dt,{label:"Rest Interval (seconds)",type:"number",value:w??"",onChange:me=>{const _e=me.target.value;j(_e===""||_e===null?"":Math.max(5,parseInt(_e)||5))},onBlur:me=>{(me.target.value===""||me.target.value===null)&&j(15)},inputProps:{min:5,max:300,inputMode:"numeric"},fullWidth:!0}),r.jsx(dt,{label:"Number of Rounds",type:"number",value:D??"",onChange:me=>{const _e=me.target.value;if(_e===""||_e===null)A("");else{const tn=Math.max(1,parseInt(_e)||1);A(tn),q(ti=>{const Nn=[...ti];for(;Nn.length<tn;)Nn.push("");return Nn.slice(0,tn)})}},onBlur:me=>{(me.target.value===""||me.target.value===null)&&(A(8),q(_e=>{const tn=[..._e];for(;tn.length<8;)tn.push("");return tn.slice(0,8)}))},inputProps:{min:1,max:50,inputMode:"numeric"},fullWidth:!0}),r.jsxs(L,{children:[r.jsx(I,{variant:"subtitle2",gutterBottom:!0,children:"Exercise Names (optional)"}),r.jsx(I,{variant:"body2",color:"text.secondary",sx:{mb:2},children:'Name each work interval for audio/visual prompts. Leave blank to use "work" as default.'}),r.jsx(Oe,{spacing:1.5,children:Array.from({length:D||0}).map((me,_e)=>r.jsx(AD,{label:`Round ${_e+1} Exercise`,value:B[_e]||"",onChange:(tn,ti)=>{const Nn=[...B];typeof ti=="string"?Nn[_e]=ti:ti&&ti.name?Nn[_e]=ti.name:Nn[_e]="",q(Nn)},availableExercises:Ae,placeholder:"e.g., push-ups, burpees, jumping jacks",size:"small",fullWidth:!0},_e))})]}),r.jsx(dt,{label:"Recovery Break (seconds, 0 to disable)",type:"number",value:U??"",onChange:me=>{const _e=me.target.value;V(_e===""||_e===null?"":Math.max(0,parseInt(_e)||0))},onBlur:me=>{(me.target.value===""||me.target.value===null)&&V(0)},inputProps:{min:0,max:300,inputMode:"numeric"},fullWidth:!0,helperText:"Longer break after several rounds"}),U>0&&r.jsx(dt,{label:"Recovery Break Frequency (after every N rounds)",type:"number",value:z??"",onChange:me=>{const _e=me.target.value;de(_e===""||_e===null?"":Math.max(1,parseInt(_e)||1))},onBlur:me=>{(me.target.value===""||me.target.value===null)&&de(4)},inputProps:{min:1,max:D,inputMode:"numeric"},fullWidth:!0,helperText:`Recovery break every ${z} rounds`}),r.jsxs(I,{variant:"body2",color:"text.secondary",children:["Total Duration: ",Math.floor((N+D*(T+w)+(U>0&&z>0?Math.floor(D/z)*U:0))/60)," minutes"]})]}),s===at.FLOW&&r.jsxs(Oe,{spacing:3,children:[r.jsxs(Oe,{direction:"row",spacing:2,alignItems:"center",children:[r.jsx(I,{variant:"subtitle1",sx:{fontWeight:600,flex:1},children:"Yoga Configuration"}),r.jsx(Te,{size:"small",startIcon:r.jsx(gr,{}),onClick:()=>{Pe(""),Ie(null),ie(!0)},disabled:ce.length===0,children:"Save Preset"})]}),Ee.length>0&&r.jsxs(L,{children:[r.jsxs(Oe,{direction:"row",spacing:1,alignItems:"center",sx:{mb:1},children:[r.jsx(I,{variant:"subtitle2",sx:{flex:1},children:"Saved Presets"}),r.jsx(Te,{size:"small",startIcon:G?r.jsx(gr,{}):r.jsx(Yi,{}),onClick:()=>we(!G),children:G?"Done":"Manage"})]}),r.jsx(Oe,{direction:"row",spacing:1,flexWrap:"wrap",useFlexGap:!0,children:Ee.map(me=>r.jsxs(L,{sx:{position:"relative",display:"inline-block"},children:[r.jsx(ct,{label:me.name,onClick:()=>!G&&yi(me),color:"primary",variant:"outlined",icon:r.jsx(O2,{}),sx:{mb:1,cursor:G?"default":"pointer",opacity:G?.7:1}}),G&&r.jsx(Ue,{size:"small",onClick:()=>ll(me.id),sx:{position:"absolute",top:-8,right:-8,bgcolor:"error.main",color:"white",width:20,height:20,"&:hover":{bgcolor:"error.dark"}},children:r.jsx(Oa,{sx:{fontSize:14}})})]},me.id))})]}),r.jsx(dt,{label:"Hold Duration per Pose (seconds)",type:"number",value:X??"",onChange:me=>{const _e=me.target.value;ve(_e===""||_e===null?"":Math.max(15,parseInt(_e)||15))},onBlur:me=>{(me.target.value===""||me.target.value===null)&&ve(45)},inputProps:{min:15,max:300,inputMode:"numeric"},fullWidth:!0}),r.jsxs(I,{variant:"subtitle2",children:["Selected Poses (",ce.length,")"]}),ce.length>0&&r.jsx(Oe,{spacing:1,children:ce.map((me,_e)=>r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:1.5,bgcolor:"background.paper",borderRadius:1},children:[r.jsx(I,{variant:"body2",children:me.name}),r.jsxs(Oe,{direction:"row",spacing:1,alignItems:"center",children:[r.jsxs(I,{variant:"caption",color:"text.secondary",children:[me.duration,"s"]}),r.jsx(Ue,{size:"small",onClick:()=>Gn(_e),sx:{color:"error.main"},children:r.jsx(Ra,{fontSize:"small"})})]})]},_e))}),r.jsxs(Ft,{fullWidth:!0,children:[r.jsx(Mn,{children:"Add Pose"}),r.jsx(Yt,{value:"",label:"Add Pose",onChange:me=>{const _e=P1.find(tn=>tn.name===me.target.value);_e&&on(_e)},children:P1.map(me=>r.jsx(ze,{value:me.name,children:me.name},me.name))})]}),ce.length>0&&r.jsxs(I,{variant:"body2",color:"text.secondary",children:["Total Duration: ",Math.floor(ce.reduce((me,_e)=>me+_e.duration,0)/60)," minutes ",ce.reduce((me,_e)=>me+_e.duration,0)%60," seconds"]})]}),s===at.CARDIO&&r.jsxs(Oe,{spacing:3,children:[r.jsx(I,{variant:"subtitle1",sx:{fontWeight:600},children:"Cardio Configuration"}),r.jsx(dt,{label:"Duration (minutes)",type:"number",value:xe??"",onChange:me=>{const _e=me.target.value;ge(_e===""||_e===null?"":Math.max(1,parseInt(_e)||1))},onBlur:me=>{(me.target.value===""||me.target.value===null)&&ge(20)},inputProps:{min:1,max:240,inputMode:"numeric"},fullWidth:!0})]})]})}),!l&&r.jsx(Je,{sx:{borderRadius:3,mb:3},children:r.jsxs(ot,{sx:{p:4},children:[r.jsx(Oe,{direction:"row",justifyContent:"center",sx:{mb:3},children:r.jsx(ct,{label:s===at.HIIT?"HIIT":s===at.FLOW?"Yoga":"Cardio",color:"primary",size:"medium"})}),r.jsxs(L,{sx:{textAlign:"center",mb:3,position:"relative",display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},children:[r.jsxs("svg",{width:"280",height:"280",style:{transform:"rotate(-90deg)"},children:[r.jsx("circle",{cx:"140",cy:"140",r:Nr,stroke:"#e0e0e0",strokeWidth:"12",fill:"none"}),r.jsx("circle",{cx:"140",cy:"140",r:Nr,stroke:s===at.HIIT&&M?"#4caf50":s===at.HIIT&&(J||Z)?"#ff9800":s===at.HIIT&&!M?"#f44336":"#1976d2",strokeWidth:"12",fill:"none",strokeDasharray:Lr,strokeDashoffset:lu,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0.5s ease"}})]}),r.jsxs(L,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center"},children:[r.jsx(I,{variant:"h1",sx:{fontSize:"4rem",fontWeight:700,color:s===at.HIIT&&M?"success.main":s===at.HIIT&&(J||Z)?"warning.main":s===at.HIIT&&!M?"error.main":"primary.main",fontFamily:"monospace",lineHeight:1},children:ts(y)}),s===at.HIIT&&r.jsxs(r.Fragment,{children:[r.jsx(I,{variant:"h6",sx:{mt:1,fontWeight:600},children:J?le.prep:Z?le.recovery:M?B[_-1]||"work":"rest"}),J&&r.jsxs(I,{variant:"body2",color:"text.secondary",sx:{mt:.5},children:["Up Next: ",B[0]||"work"]}),!J&&!M&&_<D&&r.jsxs(I,{variant:"body2",color:"text.secondary",sx:{mt:.5},children:["Up Next: ",B[_]||"work"]}),!J&&r.jsxs(I,{variant:"body2",color:"text.secondary",children:["Round ",_," / ",D]}),F&&r.jsx(I,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.5},children:F})]}),s===at.FLOW&&ce[oe]&&r.jsx(I,{variant:"h6",sx:{mt:1,fontWeight:600,maxWidth:"200px"},children:ce[oe].name})]})]}),s===at.FLOW&&ce[oe]&&r.jsx(L,{sx:{mb:3,textAlign:"center"},children:r.jsxs(I,{variant:"body2",color:"text.secondary",children:["Pose ",oe+1," of ",ce.length]})}),r.jsx(Oe,{direction:"row",spacing:2,justifyContent:"center",flexWrap:"wrap",children:d?r.jsxs(r.Fragment,{children:[(s===at.HIIT||s===at.FLOW)&&r.jsx(Ue,{size:"large",onClick:ks,color:"primary",sx:{width:56,height:56},disabled:s===at.HIIT&&J||s===at.FLOW&&oe===0,children:r.jsx(TC,{sx:{fontSize:36}})}),r.jsx(Ue,{size:"large",onClick:ut,color:p?"success":"warning",sx:{width:64,height:64},children:p?r.jsx(Qs,{sx:{fontSize:40}}):r.jsx(Wg,{sx:{fontSize:40}})}),r.jsx(Ue,{size:"large",onClick:st,color:"error",sx:{width:64,height:64},children:r.jsx(DC,{sx:{fontSize:40}})}),r.jsx(Ue,{size:"large",onClick:wt,color:"primary",sx:{width:64,height:64},children:r.jsx(R2,{sx:{fontSize:40}})}),(s===at.HIIT||s===at.FLOW)&&r.jsx(Ue,{size:"large",onClick:pt,color:"primary",sx:{width:56,height:56},disabled:s===at.HIIT&&!J&&!Z&&!M&&_>=D||s===at.FLOW&&oe>=ce.length-1,children:r.jsx(fh,{sx:{fontSize:36}})})]}):r.jsx(Te,{variant:"contained",size:"large",startIcon:r.jsx(Qs,{}),onClick:Ge,sx:{px:4,py:1.5},disabled:s===at.FLOW&&ce.length===0,children:"Start"})})]})}),l&&r.jsx(Te,{variant:"contained",size:"large",fullWidth:!0,onClick:Ge,disabled:s===at.FLOW&&ce.length===0,sx:{mb:2,py:2},children:s===at.FLOW&&ce.length===0?"Add at least one pose to start":"Start Session"}),e&&!t&&r.jsx(Te,{variant:"outlined",fullWidth:!0,onClick:()=>e("selection"),sx:{mt:2},children:"Back to Home"}),r.jsxs(vn,{open:Ne,onClose:()=>Fe(!1),maxWidth:"sm",fullWidth:!0,children:[r.jsx(On,{children:"Session Complete! "}),r.jsx(Sn,{children:r.jsxs(Oe,{spacing:3,sx:{mt:2},children:[r.jsx(I,{variant:"body1",children:"Great work! How would you rate this session?"}),r.jsxs(L,{children:[r.jsx(I,{variant:"subtitle2",gutterBottom:!0,children:"Perceived Effort (1-10)"}),r.jsx(EC,{value:ft,onChange:(me,_e)=>Ye(_e),min:1,max:10,marks:!0,valueLabelDisplay:"on",sx:{mt:2}})]}),r.jsx(dt,{label:"Notes (optional)",multiline:!0,rows:3,value:Xe,onChange:me=>Ce(me.target.value),fullWidth:!0}),r.jsxs(L,{sx:{p:2,bgcolor:"background.default",borderRadius:1},children:[r.jsxs(I,{variant:"body2",color:"text.secondary",children:["Type: ",s===at.HIIT?"HIIT":s===at.FLOW?"Yoga":"Cardio"]}),r.jsxs(I,{variant:"body2",color:"text.secondary",children:["Duration: ",Math.floor(b/60)," minutes"]})]})]})}),r.jsxs(wn,{children:[r.jsx(Te,{onClick:()=>Fe(!1),children:"Skip"}),r.jsx(Te,{variant:"contained",onClick:ln,children:"Save & Sync"})]})]}),r.jsxs(vn,{open:fe,onClose:()=>{ie(!1),Pe(""),Ie(null)},maxWidth:"sm",fullWidth:!0,children:[r.jsxs(On,{children:["Save ",s===at.FLOW?"Yoga":"HIIT"," Preset"]}),r.jsx(Sn,{children:r.jsxs(Oe,{spacing:2,sx:{mt:2},children:[r.jsx(dt,{label:"Preset Name",value:Ve,onChange:me=>Pe(me.target.value),fullWidth:!0,autoFocus:!0,placeholder:s===at.FLOW?"e.g., Morning Flow, Evening Stretch":"e.g., Tabata, Circuit Training"}),r.jsx(I,{variant:"body2",color:"text.secondary",children:s===at.FLOW?`This will save your current pose sequence (${ce.length} poses)`:"This will save your current interval configuration"})]})}),r.jsxs(wn,{children:[r.jsx(Te,{onClick:()=>{ie(!1),Pe(""),Ie(null)},children:"Cancel"}),r.jsx(Te,{variant:"contained",onClick:ea,disabled:!Ve.trim(),children:"Save Preset"})]})]})]})})};ox.propTypes={onNavigate:E.func,hideBackButton:E.bool};const MD=({onNavigate:e})=>r.jsx(L,{children:r.jsx(ox,{onNavigate:e,hideBackButton:!0})});MD.propTypes={onNavigate:E.func};var q4=function(t){return Y4(t)&&!G4(t)};function Y4(e){return!!e&&typeof e=="object"}function G4(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||Q4(e)}var $4=typeof Symbol=="function"&&Symbol.for,K4=$4?Symbol.for("react.element"):60103;function Q4(e){return e.$$typeof===K4}function X4(e){return Array.isArray(e)?[]:{}}function oh(e,t){return t.clone!==!1&&t.isMergeableObject(e)?Vc(X4(e),e,t):e}function Z4(e,t,s){return e.concat(t).map(function(a){return oh(a,s)})}function J4(e,t,s){var a={};return s.isMergeableObject(e)&&Object.keys(e).forEach(function(l){a[l]=oh(e[l],s)}),Object.keys(t).forEach(function(l){!s.isMergeableObject(t[l])||!e[l]?a[l]=oh(t[l],s):a[l]=Vc(e[l],t[l],s)}),a}function Vc(e,t,s){s=s||{},s.arrayMerge=s.arrayMerge||Z4,s.isMergeableObject=s.isMergeableObject||q4;var a=Array.isArray(t),l=Array.isArray(e),u=a===l;return u?a?s.arrayMerge(e,t,s):J4(e,t,s):oh(t,s)}Vc.all=function(t,s){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(a,l){return Vc(a,l,s)},{})};var gg=Vc,PD=typeof global=="object"&&global&&global.Object===Object&&global,eF=typeof self=="object"&&self&&self.Object===Object&&self,gi=PD||eF||Function("return this")(),Wa=gi.Symbol,OD=Object.prototype,tF=OD.hasOwnProperty,nF=OD.toString,oc=Wa?Wa.toStringTag:void 0;function sF(e){var t=tF.call(e,oc),s=e[oc];try{e[oc]=void 0;var a=!0}catch{}var l=nF.call(e);return a&&(t?e[oc]=s:delete e[oc]),l}var iF=Object.prototype,aF=iF.toString;function rF(e){return aF.call(e)}var oF="[object Null]",lF="[object Undefined]",O1=Wa?Wa.toStringTag:void 0;function Rr(e){return e==null?e===void 0?lF:oF:O1&&O1 in Object(e)?sF(e):rF(e)}function RD(e,t){return function(s){return e(t(s))}}var lx=RD(Object.getPrototypeOf,Object);function _r(e){return e!=null&&typeof e=="object"}var cF="[object Object]",uF=Function.prototype,dF=Object.prototype,_D=uF.toString,hF=dF.hasOwnProperty,fF=_D.call(Object);function R1(e){if(!_r(e)||Rr(e)!=cF)return!1;var t=lx(e);if(t===null)return!0;var s=hF.call(t,"constructor")&&t.constructor;return typeof s=="function"&&s instanceof s&&_D.call(s)==fF}function pF(){this.__data__=[],this.size=0}function ID(e,t){return e===t||e!==e&&t!==t}function Rh(e,t){for(var s=e.length;s--;)if(ID(e[s][0],t))return s;return-1}var mF=Array.prototype,gF=mF.splice;function yF(e){var t=this.__data__,s=Rh(t,e);if(s<0)return!1;var a=t.length-1;return s==a?t.pop():gF.call(t,s,1),--this.size,!0}function xF(e){var t=this.__data__,s=Rh(t,e);return s<0?void 0:t[s][1]}function bF(e){return Rh(this.__data__,e)>-1}function vF(e,t){var s=this.__data__,a=Rh(s,e);return a<0?(++this.size,s.push([e,t])):s[a][1]=t,this}function Ji(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}Ji.prototype.clear=pF;Ji.prototype.delete=yF;Ji.prototype.get=xF;Ji.prototype.has=bF;Ji.prototype.set=vF;function SF(){this.__data__=new Ji,this.size=0}function wF(e){var t=this.__data__,s=t.delete(e);return this.size=t.size,s}function CF(e){return this.__data__.get(e)}function jF(e){return this.__data__.has(e)}function au(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var kF="[object AsyncFunction]",TF="[object Function]",DF="[object GeneratorFunction]",EF="[object Proxy]";function WD(e){if(!au(e))return!1;var t=Rr(e);return t==TF||t==DF||t==kF||t==EF}var Dm=gi["__core-js_shared__"],_1=(function(){var e=/[^.]+$/.exec(Dm&&Dm.keys&&Dm.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function AF(e){return!!_1&&_1 in e}var MF=Function.prototype,PF=MF.toString;function Ir(e){if(e!=null){try{return PF.call(e)}catch{}try{return e+""}catch{}}return""}var OF=/[\\^$.*+?()[\]{}|]/g,RF=/^\[object .+?Constructor\]$/,_F=Function.prototype,IF=Object.prototype,WF=_F.toString,NF=IF.hasOwnProperty,LF=RegExp("^"+WF.call(NF).replace(OF,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function zF(e){if(!au(e)||AF(e))return!1;var t=WD(e)?LF:RF;return t.test(Ir(e))}function VF(e,t){return e?.[t]}function Wr(e,t){var s=VF(e,t);return zF(s)?s:void 0}var Bc=Wr(gi,"Map"),Fc=Wr(Object,"create");function BF(){this.__data__=Fc?Fc(null):{},this.size=0}function FF(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var HF="__lodash_hash_undefined__",UF=Object.prototype,qF=UF.hasOwnProperty;function YF(e){var t=this.__data__;if(Fc){var s=t[e];return s===HF?void 0:s}return qF.call(t,e)?t[e]:void 0}var GF=Object.prototype,$F=GF.hasOwnProperty;function KF(e){var t=this.__data__;return Fc?t[e]!==void 0:$F.call(t,e)}var QF="__lodash_hash_undefined__";function XF(e,t){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=Fc&&t===void 0?QF:t,this}function Mr(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}Mr.prototype.clear=BF;Mr.prototype.delete=FF;Mr.prototype.get=YF;Mr.prototype.has=KF;Mr.prototype.set=XF;function ZF(){this.size=0,this.__data__={hash:new Mr,map:new(Bc||Ji),string:new Mr}}function JF(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function _h(e,t){var s=e.__data__;return JF(t)?s[typeof t=="string"?"string":"hash"]:s.map}function eH(e){var t=_h(this,e).delete(e);return this.size-=t?1:0,t}function tH(e){return _h(this,e).get(e)}function nH(e){return _h(this,e).has(e)}function sH(e,t){var s=_h(this,e),a=s.size;return s.set(e,t),this.size+=s.size==a?0:1,this}function Ba(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}Ba.prototype.clear=ZF;Ba.prototype.delete=eH;Ba.prototype.get=tH;Ba.prototype.has=nH;Ba.prototype.set=sH;var iH=200;function aH(e,t){var s=this.__data__;if(s instanceof Ji){var a=s.__data__;if(!Bc||a.length<iH-1)return a.push([e,t]),this.size=++s.size,this;s=this.__data__=new Ba(a)}return s.set(e,t),this.size=s.size,this}function ol(e){var t=this.__data__=new Ji(e);this.size=t.size}ol.prototype.clear=SF;ol.prototype.delete=wF;ol.prototype.get=CF;ol.prototype.has=jF;ol.prototype.set=aH;function rH(e,t){for(var s=-1,a=e==null?0:e.length;++s<a&&t(e[s],s,e)!==!1;);return e}var I1=(function(){try{var e=Wr(Object,"defineProperty");return e({},"",{}),e}catch{}})();function ND(e,t,s){t=="__proto__"&&I1?I1(e,t,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[t]=s}var oH=Object.prototype,lH=oH.hasOwnProperty;function LD(e,t,s){var a=e[t];(!(lH.call(e,t)&&ID(a,s))||s===void 0&&!(t in e))&&ND(e,t,s)}function Ih(e,t,s,a){var l=!s;s||(s={});for(var u=-1,d=t.length;++u<d;){var h=t[u],p=void 0;p===void 0&&(p=e[h]),l?ND(s,h,p):LD(s,h,p)}return s}function cH(e,t){for(var s=-1,a=Array(e);++s<e;)a[s]=t(s);return a}var uH="[object Arguments]";function W1(e){return _r(e)&&Rr(e)==uH}var zD=Object.prototype,dH=zD.hasOwnProperty,hH=zD.propertyIsEnumerable,fH=W1((function(){return arguments})())?W1:function(e){return _r(e)&&dH.call(e,"callee")&&!hH.call(e,"callee")},ru=Array.isArray;function pH(){return!1}var VD=typeof Cs=="object"&&Cs&&!Cs.nodeType&&Cs,N1=VD&&typeof js=="object"&&js&&!js.nodeType&&js,mH=N1&&N1.exports===VD,L1=mH?gi.Buffer:void 0,gH=L1?L1.isBuffer:void 0,BD=gH||pH,yH=9007199254740991,xH=/^(?:0|[1-9]\d*)$/;function bH(e,t){var s=typeof e;return t=t??yH,!!t&&(s=="number"||s!="symbol"&&xH.test(e))&&e>-1&&e%1==0&&e<t}var vH=9007199254740991;function FD(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=vH}var SH="[object Arguments]",wH="[object Array]",CH="[object Boolean]",jH="[object Date]",kH="[object Error]",TH="[object Function]",DH="[object Map]",EH="[object Number]",AH="[object Object]",MH="[object RegExp]",PH="[object Set]",OH="[object String]",RH="[object WeakMap]",_H="[object ArrayBuffer]",IH="[object DataView]",WH="[object Float32Array]",NH="[object Float64Array]",LH="[object Int8Array]",zH="[object Int16Array]",VH="[object Int32Array]",BH="[object Uint8Array]",FH="[object Uint8ClampedArray]",HH="[object Uint16Array]",UH="[object Uint32Array]",Kt={};Kt[WH]=Kt[NH]=Kt[LH]=Kt[zH]=Kt[VH]=Kt[BH]=Kt[FH]=Kt[HH]=Kt[UH]=!0;Kt[SH]=Kt[wH]=Kt[_H]=Kt[CH]=Kt[IH]=Kt[jH]=Kt[kH]=Kt[TH]=Kt[DH]=Kt[EH]=Kt[AH]=Kt[MH]=Kt[PH]=Kt[OH]=Kt[RH]=!1;function qH(e){return _r(e)&&FD(e.length)&&!!Kt[Rr(e)]}function cx(e){return function(t){return e(t)}}var HD=typeof Cs=="object"&&Cs&&!Cs.nodeType&&Cs,wc=HD&&typeof js=="object"&&js&&!js.nodeType&&js,YH=wc&&wc.exports===HD,Em=YH&&PD.process,Jo=(function(){try{var e=wc&&wc.require&&wc.require("util").types;return e||Em&&Em.binding&&Em.binding("util")}catch{}})(),z1=Jo&&Jo.isTypedArray,GH=z1?cx(z1):qH,$H=Object.prototype,KH=$H.hasOwnProperty;function UD(e,t){var s=ru(e),a=!s&&fH(e),l=!s&&!a&&BD(e),u=!s&&!a&&!l&&GH(e),d=s||a||l||u,h=d?cH(e.length,String):[],p=h.length;for(var g in e)(t||KH.call(e,g))&&!(d&&(g=="length"||l&&(g=="offset"||g=="parent")||u&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||bH(g,p)))&&h.push(g);return h}var QH=Object.prototype;function ux(e){var t=e&&e.constructor,s=typeof t=="function"&&t.prototype||QH;return e===s}var XH=RD(Object.keys,Object),ZH=Object.prototype,JH=ZH.hasOwnProperty;function eU(e){if(!ux(e))return XH(e);var t=[];for(var s in Object(e))JH.call(e,s)&&s!="constructor"&&t.push(s);return t}function qD(e){return e!=null&&FD(e.length)&&!WD(e)}function dx(e){return qD(e)?UD(e):eU(e)}function tU(e,t){return e&&Ih(t,dx(t),e)}function nU(e){var t=[];if(e!=null)for(var s in Object(e))t.push(s);return t}var sU=Object.prototype,iU=sU.hasOwnProperty;function aU(e){if(!au(e))return nU(e);var t=ux(e),s=[];for(var a in e)a=="constructor"&&(t||!iU.call(e,a))||s.push(a);return s}function hx(e){return qD(e)?UD(e,!0):aU(e)}function rU(e,t){return e&&Ih(t,hx(t),e)}var YD=typeof Cs=="object"&&Cs&&!Cs.nodeType&&Cs,V1=YD&&typeof js=="object"&&js&&!js.nodeType&&js,oU=V1&&V1.exports===YD,B1=oU?gi.Buffer:void 0,F1=B1?B1.allocUnsafe:void 0;function lU(e,t){if(t)return e.slice();var s=e.length,a=F1?F1(s):new e.constructor(s);return e.copy(a),a}function GD(e,t){var s=-1,a=e.length;for(t||(t=Array(a));++s<a;)t[s]=e[s];return t}function cU(e,t){for(var s=-1,a=e==null?0:e.length,l=0,u=[];++s<a;){var d=e[s];t(d,s,e)&&(u[l++]=d)}return u}function $D(){return[]}var uU=Object.prototype,dU=uU.propertyIsEnumerable,H1=Object.getOwnPropertySymbols,fx=H1?function(e){return e==null?[]:(e=Object(e),cU(H1(e),function(t){return dU.call(e,t)}))}:$D;function hU(e,t){return Ih(e,fx(e),t)}function KD(e,t){for(var s=-1,a=t.length,l=e.length;++s<a;)e[l+s]=t[s];return e}var fU=Object.getOwnPropertySymbols,QD=fU?function(e){for(var t=[];e;)KD(t,fx(e)),e=lx(e);return t}:$D;function pU(e,t){return Ih(e,QD(e),t)}function XD(e,t,s){var a=t(e);return ru(e)?a:KD(a,s(e))}function mU(e){return XD(e,dx,fx)}function gU(e){return XD(e,hx,QD)}var yg=Wr(gi,"DataView"),xg=Wr(gi,"Promise"),bg=Wr(gi,"Set"),vg=Wr(gi,"WeakMap"),U1="[object Map]",yU="[object Object]",q1="[object Promise]",Y1="[object Set]",G1="[object WeakMap]",$1="[object DataView]",xU=Ir(yg),bU=Ir(Bc),vU=Ir(xg),SU=Ir(bg),wU=Ir(vg),Vi=Rr;(yg&&Vi(new yg(new ArrayBuffer(1)))!=$1||Bc&&Vi(new Bc)!=U1||xg&&Vi(xg.resolve())!=q1||bg&&Vi(new bg)!=Y1||vg&&Vi(new vg)!=G1)&&(Vi=function(e){var t=Rr(e),s=t==yU?e.constructor:void 0,a=s?Ir(s):"";if(a)switch(a){case xU:return $1;case bU:return U1;case vU:return q1;case SU:return Y1;case wU:return G1}return t});var CU=Object.prototype,jU=CU.hasOwnProperty;function kU(e){var t=e.length,s=new e.constructor(t);return t&&typeof e[0]=="string"&&jU.call(e,"index")&&(s.index=e.index,s.input=e.input),s}var K1=gi.Uint8Array;function px(e){var t=new e.constructor(e.byteLength);return new K1(t).set(new K1(e)),t}function TU(e,t){var s=t?px(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.byteLength)}var DU=/\w*$/;function EU(e){var t=new e.constructor(e.source,DU.exec(e));return t.lastIndex=e.lastIndex,t}var Q1=Wa?Wa.prototype:void 0,X1=Q1?Q1.valueOf:void 0;function AU(e){return X1?Object(X1.call(e)):{}}function MU(e,t){var s=t?px(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.length)}var PU="[object Boolean]",OU="[object Date]",RU="[object Map]",_U="[object Number]",IU="[object RegExp]",WU="[object Set]",NU="[object String]",LU="[object Symbol]",zU="[object ArrayBuffer]",VU="[object DataView]",BU="[object Float32Array]",FU="[object Float64Array]",HU="[object Int8Array]",UU="[object Int16Array]",qU="[object Int32Array]",YU="[object Uint8Array]",GU="[object Uint8ClampedArray]",$U="[object Uint16Array]",KU="[object Uint32Array]";function QU(e,t,s){var a=e.constructor;switch(t){case zU:return px(e);case PU:case OU:return new a(+e);case VU:return TU(e,s);case BU:case FU:case HU:case UU:case qU:case YU:case GU:case $U:case KU:return MU(e,s);case RU:return new a;case _U:case NU:return new a(e);case IU:return EU(e);case WU:return new a;case LU:return AU(e)}}var Z1=Object.create,XU=(function(){function e(){}return function(t){if(!au(t))return{};if(Z1)return Z1(t);e.prototype=t;var s=new e;return e.prototype=void 0,s}})();function ZU(e){return typeof e.constructor=="function"&&!ux(e)?XU(lx(e)):{}}var JU="[object Map]";function e8(e){return _r(e)&&Vi(e)==JU}var J1=Jo&&Jo.isMap,t8=J1?cx(J1):e8,n8="[object Set]";function s8(e){return _r(e)&&Vi(e)==n8}var eC=Jo&&Jo.isSet,i8=eC?cx(eC):s8,a8=1,r8=2,o8=4,ZD="[object Arguments]",l8="[object Array]",c8="[object Boolean]",u8="[object Date]",d8="[object Error]",JD="[object Function]",h8="[object GeneratorFunction]",f8="[object Map]",p8="[object Number]",eE="[object Object]",m8="[object RegExp]",g8="[object Set]",y8="[object String]",x8="[object Symbol]",b8="[object WeakMap]",v8="[object ArrayBuffer]",S8="[object DataView]",w8="[object Float32Array]",C8="[object Float64Array]",j8="[object Int8Array]",k8="[object Int16Array]",T8="[object Int32Array]",D8="[object Uint8Array]",E8="[object Uint8ClampedArray]",A8="[object Uint16Array]",M8="[object Uint32Array]",qt={};qt[ZD]=qt[l8]=qt[v8]=qt[S8]=qt[c8]=qt[u8]=qt[w8]=qt[C8]=qt[j8]=qt[k8]=qt[T8]=qt[f8]=qt[p8]=qt[eE]=qt[m8]=qt[g8]=qt[y8]=qt[x8]=qt[D8]=qt[E8]=qt[A8]=qt[M8]=!0;qt[d8]=qt[JD]=qt[b8]=!1;function Cc(e,t,s,a,l,u){var d,h=t&a8,p=t&r8,g=t&o8;if(d!==void 0)return d;if(!au(e))return e;var y=ru(e);if(y){if(d=kU(e),!h)return GD(e,d)}else{var v=Vi(e),b=v==JD||v==h8;if(BD(e))return lU(e,h);if(v==eE||v==ZD||b&&!l){if(d=p||b?{}:ZU(e),!h)return p?pU(e,rU(d,e)):hU(e,tU(d,e))}else{if(!qt[v])return l?e:{};d=QU(e,v,h)}}u||(u=new ol);var S=u.get(e);if(S)return S;u.set(e,d),i8(e)?e.forEach(function(w){d.add(Cc(w,t,s,w,e,u))}):t8(e)&&e.forEach(function(w,j){d.set(j,Cc(w,t,s,j,e,u))});var T=g?p?gU:mU:p?hx:dx,k=y?void 0:T(e);return rH(k||e,function(w,j){k&&(j=w,w=e[j]),LD(d,j,Cc(w,t,s,j,e,u))}),d}var P8=1,O8=4;function Ad(e){return Cc(e,P8|O8)}var Am,tC;function R8(){if(tC)return Am;tC=1;var e=Array.isArray,t=Object.keys,s=Object.prototype.hasOwnProperty,a=typeof Element<"u";function l(u,d){if(u===d)return!0;if(u&&d&&typeof u=="object"&&typeof d=="object"){var h=e(u),p=e(d),g,y,v;if(h&&p){if(y=u.length,y!=d.length)return!1;for(g=y;g--!==0;)if(!l(u[g],d[g]))return!1;return!0}if(h!=p)return!1;var b=u instanceof Date,S=d instanceof Date;if(b!=S)return!1;if(b&&S)return u.getTime()==d.getTime();var T=u instanceof RegExp,k=d instanceof RegExp;if(T!=k)return!1;if(T&&k)return u.toString()==d.toString();var w=t(u);if(y=w.length,y!==t(d).length)return!1;for(g=y;g--!==0;)if(!s.call(d,w[g]))return!1;if(a&&u instanceof Element&&d instanceof Element)return u===d;for(g=y;g--!==0;)if(v=w[g],!(v==="_owner"&&u.$$typeof)&&!l(u[v],d[v]))return!1;return!0}return u!==u&&d!==d}return Am=function(d,h){try{return l(d,h)}catch(p){if(p.message&&p.message.match(/stack|recursion/i)||p.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",p.name,p.message),!1;throw p}},Am}var _8=R8();const pr=WC(_8);var I8=4;function nC(e){return Cc(e,I8)}function tE(e,t){for(var s=-1,a=e==null?0:e.length,l=Array(a);++s<a;)l[s]=t(e[s],s,e);return l}var W8="[object Symbol]";function mx(e){return typeof e=="symbol"||_r(e)&&Rr(e)==W8}var N8="Expected a function";function gx(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(N8);var s=function(){var a=arguments,l=t?t.apply(this,a):a[0],u=s.cache;if(u.has(l))return u.get(l);var d=e.apply(this,a);return s.cache=u.set(l,d)||u,d};return s.cache=new(gx.Cache||Ba),s}gx.Cache=Ba;var L8=500;function z8(e){var t=gx(e,function(a){return s.size===L8&&s.clear(),a}),s=t.cache;return t}var V8=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,B8=/\\(\\)?/g,F8=z8(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(V8,function(s,a,l,u){t.push(l?u.replace(B8,"$1"):a||s)}),t});function H8(e){if(typeof e=="string"||mx(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var sC=Wa?Wa.prototype:void 0,iC=sC?sC.toString:void 0;function nE(e){if(typeof e=="string")return e;if(ru(e))return tE(e,nE)+"";if(mx(e))return iC?iC.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function U8(e){return e==null?"":nE(e)}function sE(e){return ru(e)?tE(e,H8):mx(e)?[e]:GD(F8(U8(e)))}function Qt(){return Qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Qt.apply(this,arguments)}function No(e,t){if(e==null)return{};var s={},a=Object.keys(e),l,u;for(u=0;u<a.length;u++)l=a[u],!(t.indexOf(l)>=0)&&(s[l]=e[l]);return s}var Wh=x.createContext(void 0);Wh.displayName="FormikContext";var q8=Wh.Provider;Wh.Consumer;function iE(){var e=x.useContext(Wh);return e}var ds=function(t){return typeof t=="function"},Nh=function(t){return t!==null&&typeof t=="object"},Y8=function(t){return String(Math.floor(Number(t)))===t},Mm=function(t){return Object.prototype.toString.call(t)==="[object String]"},G8=function(t){return x.Children.count(t)===0},Pm=function(t){return Nh(t)&&ds(t.then)};function us(e,t,s,a){a===void 0&&(a=0);for(var l=sE(t);e&&a<l.length;)e=e[l[a++]];return a!==l.length&&!e||e===void 0?s:e}function Tr(e,t,s){for(var a=nC(e),l=a,u=0,d=sE(t);u<d.length-1;u++){var h=d[u],p=us(e,d.slice(0,u+1));if(p&&(Nh(p)||Array.isArray(p)))l=l[h]=nC(p);else{var g=d[u+1];l=l[h]=Y8(g)&&Number(g)>=0?[]:{}}}return(u===0?e:l)[d[u]]===s?e:(s===void 0?delete l[d[u]]:l[d[u]]=s,u===0&&s===void 0&&delete a[d[u]],a)}function aE(e,t,s,a){s===void 0&&(s=new WeakMap),a===void 0&&(a={});for(var l=0,u=Object.keys(e);l<u.length;l++){var d=u[l],h=e[d];Nh(h)?s.get(h)||(s.set(h,!0),a[d]=Array.isArray(h)?[]:{},aE(h,t,s,a[d])):a[d]=t}return a}function $8(e,t){switch(t.type){case"SET_VALUES":return Qt({},e,{values:t.payload});case"SET_TOUCHED":return Qt({},e,{touched:t.payload});case"SET_ERRORS":return pr(e.errors,t.payload)?e:Qt({},e,{errors:t.payload});case"SET_STATUS":return Qt({},e,{status:t.payload});case"SET_ISSUBMITTING":return Qt({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return Qt({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return Qt({},e,{values:Tr(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return Qt({},e,{touched:Tr(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return Qt({},e,{errors:Tr(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return Qt({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return Qt({},e,{touched:aE(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":return Qt({},e,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Qt({},e,{isSubmitting:!1});default:return e}}var ur={},Md={};function K8(e){var t=e.validateOnChange,s=t===void 0?!0:t,a=e.validateOnBlur,l=a===void 0?!0:a,u=e.validateOnMount,d=u===void 0?!1:u,h=e.isInitialValid,p=e.enableReinitialize,g=p===void 0?!1:p,y=e.onSubmit,v=No(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),b=Qt({validateOnChange:s,validateOnBlur:l,validateOnMount:d,onSubmit:y},v),S=x.useRef(b.initialValues),T=x.useRef(b.initialErrors||ur),k=x.useRef(b.initialTouched||Md),w=x.useRef(b.initialStatus),j=x.useRef(!1),D=x.useRef({});x.useEffect(function(){return j.current=!0,function(){j.current=!1}},[]);var A=x.useState(0),_=A[1],P=x.useRef({values:Ad(b.initialValues),errors:Ad(b.initialErrors)||ur,touched:Ad(b.initialTouched)||Md,status:Ad(b.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),M=P.current,R=x.useCallback(function(G){var we=P.current;P.current=$8(we,G),we!==P.current&&_(function(Ae){return Ae+1})},[]),N=x.useCallback(function(G,we){return new Promise(function(Ae,De){var Ne=b.validate(G,we);Ne==null?Ae(ur):Pm(Ne)?Ne.then(function(Fe){Ae(Fe||ur)},function(Fe){De(Fe)}):Ae(Ne)})},[b.validate]),W=x.useCallback(function(G,we){var Ae=b.validationSchema,De=ds(Ae)?Ae(we):Ae,Ne=we&&De.validateAt?De.validateAt(we,G):Z8(G,De);return new Promise(function(Fe,ft){Ne.then(function(){Fe(ur)},function(Ye){Ye.name==="ValidationError"?Fe(X8(Ye)):ft(Ye)})})},[b.validationSchema]),U=x.useCallback(function(G,we){return new Promise(function(Ae){return Ae(D.current[G].validate(we))})},[]),V=x.useCallback(function(G){var we=Object.keys(D.current).filter(function(De){return ds(D.current[De].validate)}),Ae=we.length>0?we.map(function(De){return U(De,us(G,De))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(Ae).then(function(De){return De.reduce(function(Ne,Fe,ft){return Fe==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||Fe&&(Ne=Tr(Ne,we[ft],Fe)),Ne},{})})},[U]),z=x.useCallback(function(G){return Promise.all([V(G),b.validationSchema?W(G):{},b.validate?N(G):{}]).then(function(we){var Ae=we[0],De=we[1],Ne=we[2],Fe=gg.all([Ae,De,Ne],{arrayMerge:J8});return Fe})},[b.validate,b.validationSchema,V,N,W]),de=zs(function(G){return G===void 0&&(G=M.values),R({type:"SET_ISVALIDATING",payload:!0}),z(G).then(function(we){return j.current&&(R({type:"SET_ISVALIDATING",payload:!1}),R({type:"SET_ERRORS",payload:we})),we})});x.useEffect(function(){d&&j.current===!0&&pr(S.current,b.initialValues)&&de(S.current)},[d,de]);var F=x.useCallback(function(G){var we=G&&G.values?G.values:S.current,Ae=G&&G.errors?G.errors:T.current?T.current:b.initialErrors||{},De=G&&G.touched?G.touched:k.current?k.current:b.initialTouched||{},Ne=G&&G.status?G.status:w.current?w.current:b.initialStatus;S.current=we,T.current=Ae,k.current=De,w.current=Ne;var Fe=function(){R({type:"RESET_FORM",payload:{isSubmitting:!!G&&!!G.isSubmitting,errors:Ae,touched:De,status:Ne,values:we,isValidating:!!G&&!!G.isValidating,submitCount:G&&G.submitCount&&typeof G.submitCount=="number"?G.submitCount:0}})};if(b.onReset){var ft=b.onReset(M.values,Le);Pm(ft)?ft.then(Fe):Fe()}else Fe()},[b.initialErrors,b.initialStatus,b.initialTouched,b.onReset]);x.useEffect(function(){j.current===!0&&!pr(S.current,b.initialValues)&&g&&(S.current=b.initialValues,F(),d&&de(S.current))},[g,b.initialValues,F,d,de]),x.useEffect(function(){g&&j.current===!0&&!pr(T.current,b.initialErrors)&&(T.current=b.initialErrors||ur,R({type:"SET_ERRORS",payload:b.initialErrors||ur}))},[g,b.initialErrors]),x.useEffect(function(){g&&j.current===!0&&!pr(k.current,b.initialTouched)&&(k.current=b.initialTouched||Md,R({type:"SET_TOUCHED",payload:b.initialTouched||Md}))},[g,b.initialTouched]),x.useEffect(function(){g&&j.current===!0&&!pr(w.current,b.initialStatus)&&(w.current=b.initialStatus,R({type:"SET_STATUS",payload:b.initialStatus}))},[g,b.initialStatus,b.initialTouched]);var K=zs(function(G){if(D.current[G]&&ds(D.current[G].validate)){var we=us(M.values,G),Ae=D.current[G].validate(we);return Pm(Ae)?(R({type:"SET_ISVALIDATING",payload:!0}),Ae.then(function(De){return De}).then(function(De){R({type:"SET_FIELD_ERROR",payload:{field:G,value:De}}),R({type:"SET_ISVALIDATING",payload:!1})})):(R({type:"SET_FIELD_ERROR",payload:{field:G,value:Ae}}),Promise.resolve(Ae))}else if(b.validationSchema)return R({type:"SET_ISVALIDATING",payload:!0}),W(M.values,G).then(function(De){return De}).then(function(De){R({type:"SET_FIELD_ERROR",payload:{field:G,value:us(De,G)}}),R({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),B=x.useCallback(function(G,we){var Ae=we.validate;D.current[G]={validate:Ae}},[]),q=x.useCallback(function(G){delete D.current[G]},[]),le=zs(function(G,we){R({type:"SET_TOUCHED",payload:G});var Ae=we===void 0?l:we;return Ae?de(M.values):Promise.resolve()}),he=x.useCallback(function(G){R({type:"SET_ERRORS",payload:G})},[]),J=zs(function(G,we){var Ae=ds(G)?G(M.values):G;R({type:"SET_VALUES",payload:Ae});var De=we===void 0?s:we;return De?de(Ae):Promise.resolve()}),ee=x.useCallback(function(G,we){R({type:"SET_FIELD_ERROR",payload:{field:G,value:we}})},[]),Z=zs(function(G,we,Ae){var De=ds(we)?we(us(M.values,G)):we;R({type:"SET_FIELD_VALUE",payload:{field:G,value:De}});var Ne=Ae===void 0?s:Ae;return Ne?de(Tr(M.values,G,De)):Promise.resolve()}),ae=x.useCallback(function(G,we){var Ae=we,De=G,Ne;if(!Mm(G)){G.persist&&G.persist();var Fe=G.target?G.target:G.currentTarget,ft=Fe.type,Ye=Fe.name,Xe=Fe.id,Ce=Fe.value,Me=Fe.checked;Fe.outerHTML;var We=Fe.options,Re=Fe.multiple;Ae=we||Ye||Xe,De=/number|range/.test(ft)?(Ne=parseFloat(Ce),isNaN(Ne)?"":Ne):/checkbox/.test(ft)?t7(us(M.values,Ae),Me,Ce):We&&Re?e7(We):Ce}Ae&&Z(Ae,De)},[Z,M.values]),ce=zs(function(G){if(Mm(G))return function(we){return ae(we,G)};ae(G)}),se=zs(function(G,we,Ae){we===void 0&&(we=!0),R({type:"SET_FIELD_TOUCHED",payload:{field:G,value:we}});var De=Ae===void 0?l:Ae;return De?de(M.values):Promise.resolve()}),oe=x.useCallback(function(G,we){G.persist&&G.persist();var Ae=G.target,De=Ae.name,Ne=Ae.id;Ae.outerHTML;var Fe=we||De||Ne;se(Fe,!0)},[se]),ke=zs(function(G){if(Mm(G))return function(we){return oe(we,G)};oe(G)}),X=x.useCallback(function(G){ds(G)?R({type:"SET_FORMIK_STATE",payload:G}):R({type:"SET_FORMIK_STATE",payload:function(){return G}})},[]),ve=x.useCallback(function(G){R({type:"SET_STATUS",payload:G})},[]),xe=x.useCallback(function(G){R({type:"SET_ISSUBMITTING",payload:G})},[]),ge=zs(function(){return R({type:"SUBMIT_ATTEMPT"}),de().then(function(G){var we=G instanceof Error,Ae=!we&&Object.keys(G).length===0;if(Ae){var De;try{if(De=je(),De===void 0)return}catch(Ne){throw Ne}return Promise.resolve(De).then(function(Ne){return j.current&&R({type:"SUBMIT_SUCCESS"}),Ne}).catch(function(Ne){if(j.current)throw R({type:"SUBMIT_FAILURE"}),Ne})}else if(j.current&&(R({type:"SUBMIT_FAILURE"}),we))throw G})}),Ee=zs(function(G){G&&G.preventDefault&&ds(G.preventDefault)&&G.preventDefault(),G&&G.stopPropagation&&ds(G.stopPropagation)&&G.stopPropagation(),ge().catch(function(we){console.warn("Warning: An unhandled error was caught from submitForm()",we)})}),Le={resetForm:F,validateForm:de,validateField:K,setErrors:he,setFieldError:ee,setFieldTouched:se,setFieldValue:Z,setStatus:ve,setSubmitting:xe,setTouched:le,setValues:J,setFormikState:X,submitForm:ge},je=zs(function(){return y(M.values,Le)}),qe=zs(function(G){G&&G.preventDefault&&ds(G.preventDefault)&&G.preventDefault(),G&&G.stopPropagation&&ds(G.stopPropagation)&&G.stopPropagation(),F()}),fe=x.useCallback(function(G){return{value:us(M.values,G),error:us(M.errors,G),touched:!!us(M.touched,G),initialValue:us(S.current,G),initialTouched:!!us(k.current,G),initialError:us(T.current,G)}},[M.errors,M.touched,M.values]),ie=x.useCallback(function(G){return{setValue:function(Ae,De){return Z(G,Ae,De)},setTouched:function(Ae,De){return se(G,Ae,De)},setError:function(Ae){return ee(G,Ae)}}},[Z,se,ee]),Ve=x.useCallback(function(G){var we=Nh(G),Ae=we?G.name:G,De=us(M.values,Ae),Ne={name:Ae,value:De,onChange:ce,onBlur:ke};if(we){var Fe=G.type,ft=G.value,Ye=G.as,Xe=G.multiple;Fe==="checkbox"?ft===void 0?Ne.checked=!!De:(Ne.checked=!!(Array.isArray(De)&&~De.indexOf(ft)),Ne.value=ft):Fe==="radio"?(Ne.checked=De===ft,Ne.value=ft):Ye==="select"&&Xe&&(Ne.value=Ne.value||[],Ne.multiple=!0)}return Ne},[ke,ce,M.values]),Pe=x.useMemo(function(){return!pr(S.current,M.values)},[S.current,M.values]),Se=x.useMemo(function(){return typeof h<"u"?Pe?M.errors&&Object.keys(M.errors).length===0:h!==!1&&ds(h)?h(b):h:M.errors&&Object.keys(M.errors).length===0},[h,Pe,M.errors,b]),Ie=Qt({},M,{initialValues:S.current,initialErrors:T.current,initialTouched:k.current,initialStatus:w.current,handleBlur:ke,handleChange:ce,handleReset:qe,handleSubmit:Ee,resetForm:F,setErrors:he,setFormikState:X,setFieldTouched:se,setFieldValue:Z,setFieldError:ee,setStatus:ve,setSubmitting:xe,setTouched:le,setValues:J,submitForm:ge,validateForm:de,validateField:K,isValid:Se,dirty:Pe,unregisterField:q,registerField:B,getFieldProps:Ve,getFieldMeta:fe,getFieldHelpers:ie,validateOnBlur:l,validateOnChange:s,validateOnMount:d});return Ie}function Q8(e){var t=K8(e),s=e.component,a=e.children,l=e.render,u=e.innerRef;return x.useImperativeHandle(u,function(){return t}),x.createElement(q8,{value:t},s?x.createElement(s,t):l?l(t):a?ds(a)?a(t):G8(a)?null:x.Children.only(a):null)}function X8(e){var t={};if(e.inner){if(e.inner.length===0)return Tr(t,e.path,e.message);for(var l=e.inner,s=Array.isArray(l),a=0,l=s?l:l[Symbol.iterator]();;){var u;if(s){if(a>=l.length)break;u=l[a++]}else{if(a=l.next(),a.done)break;u=a.value}var d=u;us(t,d.path)||(t=Tr(t,d.path,d.message))}}return t}function Z8(e,t,s,a){s===void 0&&(s=!1);var l=Sg(e);return t[s?"validateSync":"validate"](l,{abortEarly:!1,context:l})}function Sg(e){var t=Array.isArray(e)?[]:{};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var a=String(s);Array.isArray(e[a])===!0?t[a]=e[a].map(function(l){return Array.isArray(l)===!0||R1(l)?Sg(l):l!==""?l:void 0}):R1(e[a])?t[a]=Sg(e[a]):t[a]=e[a]!==""?e[a]:void 0}return t}function J8(e,t,s){var a=e.slice();return t.forEach(function(u,d){if(typeof a[d]>"u"){var h=s.clone!==!1,p=h&&s.isMergeableObject(u);a[d]=p?gg(Array.isArray(u)?[]:{},u,s):u}else s.isMergeableObject(u)?a[d]=gg(e[d],u,s):e.indexOf(u)===-1&&a.push(u)}),a}function e7(e){return Array.from(e).filter(function(t){return t.selected}).map(function(t){return t.value})}function t7(e,t,s){if(typeof e=="boolean")return!!t;var a=[],l=!1,u=-1;if(Array.isArray(e))a=e,u=e.indexOf(s),l=u>=0;else if(!s||s=="true"||s=="false")return!!t;return t&&s&&!l?a.concat(s):l?a.slice(0,u).concat(a.slice(u+1)):a}var n7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?x.useLayoutEffect:x.useEffect;function zs(e){var t=x.useRef(e);return n7(function(){t.current=e}),x.useCallback(function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return t.current.apply(void 0,a)},[])}function To(e){var t=e.validate,s=e.name,a=e.render,l=e.children,u=e.as,d=e.component,h=e.className,p=No(e,["validate","name","render","children","as","component","className"]),g=iE(),y=No(g,["validate","validationSchema"]),v=y.registerField,b=y.unregisterField;x.useEffect(function(){return v(s,{validate:t}),function(){b(s)}},[v,b,s,t]);var S=y.getFieldProps(Qt({name:s},p)),T=y.getFieldMeta(s),k={field:S,form:y};if(a)return a(Qt({},k,{meta:T}));if(ds(l))return l(Qt({},k,{meta:T}));if(d){if(typeof d=="string"){var w=p.innerRef,j=No(p,["innerRef"]);return x.createElement(d,Qt({ref:w},S,j,{className:h}),l)}return x.createElement(d,Qt({field:S,form:y},p,{className:h}),l)}var D=u||"input";if(typeof D=="string"){var A=p.innerRef,_=No(p,["innerRef"]);return x.createElement(D,Qt({ref:A},S,_,{className:h}),l)}return x.createElement(D,Qt({},S,p,{className:h}),l)}var rE=x.forwardRef(function(e,t){var s=e.action,a=No(e,["action"]),l=s??"#",u=iE(),d=u.handleReset,h=u.handleSubmit;return x.createElement("form",Qt({onSubmit:h,ref:t,onReset:d,action:l},a))});rE.displayName="Form";const yx=({open:e,onClose:t,onAssign:s,workoutData:a,currentSchedule:l})=>{const[u,d]=x.useState(null),h=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],p=S=>{d(S)},g=()=>{u&&s&&(s(u,a),y())},y=()=>{d(null),t()},v=S=>l&&l[S]!==null&&l[S]!==void 0,b=S=>S?{upper:"Upper Body",lower:"Lower Body",full:"Full Body",push:"Push",pull:"Pull",legs:"Legs",cardio:"Cardio",hiit:"HIIT",yoga:"Yoga",mobility:"Mobility",stretch:"Stretching",rest:"Rest"}[S.toLowerCase()]||S:"";return r.jsxs(vn,{open:e,onClose:y,maxWidth:"sm",fullWidth:!0,children:[r.jsx(On,{children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(Ec,{color:"primary"}),r.jsx(I,{variant:"h6",children:"Assign to Day of Week"})]})}),r.jsxs(Sn,{children:[r.jsx(I,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Select which day of the week to assign this workout to. It will be suggested when you visit that day next week."}),r.jsx(Un,{sx:{pt:0},children:h.map(S=>{const T=v(S),k=u===S,w=l?.[S];return r.jsx(lt,{disablePadding:!0,sx:{mb:1},children:r.jsx(Ni,{onClick:()=>p(S),selected:k,sx:{borderRadius:2,border:k?2:1,borderColor:k?"primary.main":"divider","&.Mui-selected":{backgroundColor:"primary.light","&:hover":{backgroundColor:"primary.light"}}},children:r.jsx(jt,{primary:r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(I,{variant:"body1",fontWeight:500,children:S}),k&&r.jsx(qo,{color:"primary",fontSize:"small"})]}),secondary:T&&w?r.jsx(ct,{label:`Currently: ${b(w.sessionType)}`,size:"small",sx:{mt:.5},color:"info",variant:"outlined"}):"Not assigned"})})},S)})})]}),r.jsxs(wn,{children:[r.jsx(Te,{onClick:y,color:"inherit",children:"Cancel"}),r.jsxs(Te,{onClick:g,variant:"contained",disabled:!u,children:["Assign to ",u]})]})]})};yx.propTypes={open:E.bool.isRequired,onClose:E.func.isRequired,onAssign:E.func.isRequired,workoutData:E.object,currentSchedule:E.object};const s7=60,i7=1500,An={STRENGTH:"strength",CARDIO:"cardio",YOGA:"yoga",REST:"rest"},Ss={FULL:"full",UPPER:"upper",PUSH:"push",PULL:"pull",LEGS:"legs",CORE:"core"},xx=({onNavigate:e})=>{const[t,s]=x.useState({show:!1,message:"",severity:"success"}),[a,l]=x.useState(!1),[u,d]=x.useState(null),[h,p]=x.useState(!1),[g,y]=x.useState(""),{isAutoAssignWeek:v,assignWorkoutToDay:b,weeklySchedule:S}=Zi(),T={date:new Date,duration:"",notes:"",sessionName:"",sessionType:An.STRENGTH,workoutType:Ss.FULL,numExercises:"",setsPerExercise:""},k=R=>{const N={};return R.date||(N.date="Date is required"),R.sessionType!==An.REST&&(R.duration?(isNaN(R.duration)||parseFloat(R.duration)<=0)&&(N.duration="Duration must be a positive number"):N.duration="Duration is required"),R.sessionType===An.STRENGTH&&(R.numExercises?(isNaN(R.numExercises)||parseInt(R.numExercises)<=0)&&(N.numExercises="Must be a positive number"):N.numExercises="Number of exercises is required",R.setsPerExercise?(isNaN(R.setsPerExercise)||parseInt(R.setsPerExercise)<=0)&&(N.setsPerExercise="Must be a positive number"):N.setsPerExercise="Sets per exercise is required"),N},w=async(R,{setSubmitting:N,resetForm:W})=>{try{const U=R.date.getTime(),V=R.sessionType===An.REST&&!R.duration?0:parseFloat(R.duration)*s7,z={date:U,duration:V,type:R.sessionType===An.STRENGTH?R.workoutType:R.sessionType,exercises:{},notes:R.notes.trim(),sessionName:R.sessionName.trim(),isManualLog:!0,sessionType:R.sessionType};if(R.sessionType===An.STRENGTH&&(z.numExercises=parseInt(R.numExercises),z.setsPerExercise=parseInt(R.setsPerExercise)),await Zg(z),R.sessionType!==An.REST){const de=await Kc();de.totalWorkouts+=1,de.totalTime+=z.duration,await Jg(de)}if(v()&&R.sessionType!==An.REST){const de=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(U).getDay()],F={sessionType:R.sessionType,sessionName:j(R.sessionType,R.workoutType),date:new Date(U).toISOString()};await b(de,F),s({show:!0,message:`Activity logged and assigned to ${de}!`,severity:"success"})}else d({sessionType:R.sessionType,sessionName:j(R.sessionType,R.workoutType),date:new Date(U).toISOString()}),s({show:!0,message:"Activity logged successfully!",severity:"success"});W(),setTimeout(()=>{e&&e("progress")},i7)}catch(U){console.error("Error saving activity:",U),s({show:!0,message:"Failed to save activity. Please try again.",severity:"error"})}finally{N(!1)}},j=(R,N)=>R===An.STRENGTH?{[Ss.FULL]:"Full Body",[Ss.UPPER]:"Upper Body",[Ss.PUSH]:"Push",[Ss.PULL]:"Pull",[Ss.LEGS]:"Legs",[Ss.CORE]:"Core"}[N]||"Strength":{[An.CARDIO]:"Cardio",[An.YOGA]:"Yoga",[An.REST]:"Rest"}[R]||R,D=async R=>{if(u)try{await b(R,u),y(`Session assigned to ${R}`),p(!0),d(null)}catch(N){console.error("Error assigning session:",N),y("Failed to assign session"),p(!0)}},A=()=>r.jsx(Jt,{sx:{fontSize:48,color:"primary.main"}}),_=()=>"primary.main",P=()=>"rgba(19, 70, 134, 0.1)",M=()=>"Log Activity";return r.jsx(Th,{dateAdapter:ax,children:r.jsxs(L,{sx:{width:"100%",maxWidth:"700px",margin:"0 auto",padding:{xs:"1rem 0.75rem",sm:"1.5rem 1rem",md:"2rem 1rem"},boxSizing:"border-box"},children:[r.jsxs(Ke.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[r.jsxs(L,{sx:{mb:3,textAlign:"center"},children:[r.jsx(L,{sx:{display:"flex",justifyContent:"center",mb:2},children:r.jsx(L,{sx:{p:{xs:1.5,sm:2},borderRadius:"50%",bgcolor:P(),display:"flex",alignItems:"center",justifyContent:"center"},children:A()})}),r.jsx(I,{variant:"h3",sx:{fontWeight:700,color:_(),mb:1,fontSize:{xs:"1.5rem",sm:"2rem",md:"2.5rem"}},children:M()}),r.jsx(I,{variant:"body1",sx:{color:"text.secondary",mb:2,fontSize:{xs:"0.875rem",sm:"1rem"},px:{xs:1,sm:0}},children:"Manually log your completed activities"})]}),t.show&&r.jsx(Ke.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:r.jsx(At,{severity:t.severity,sx:{mb:3},onClose:()=>s({...t,show:!1}),children:t.message})}),r.jsx(Je,{sx:{borderRadius:3,width:"100%",boxSizing:"border-box"},children:r.jsx(ot,{sx:{p:{xs:2,sm:3},"&:last-child":{pb:{xs:2,sm:3}}},children:r.jsx(Q8,{initialValues:T,validate:k,onSubmit:w,children:({errors:R,touched:N,isSubmitting:W,isValid:U,dirty:V,values:z,setFieldValue:de})=>r.jsx(rE,{children:r.jsxs(Oe,{spacing:2,children:[r.jsx(To,{name:"date",children:()=>r.jsx(rh,{label:"Date",value:z.date,onChange:F=>de("date",F),slotProps:{textField:{fullWidth:!0,error:N.date&&!!R.date,helperText:N.date&&R.date,sx:{width:"100%"}}},sx:{width:"100%"}})}),r.jsxs(Ft,{fullWidth:!0,children:[r.jsx(Mn,{children:"Session Type"}),r.jsxs(Yt,{value:z.sessionType,label:"Session Type",onChange:F=>de("sessionType",F.target.value),children:[r.jsx(ze,{value:An.STRENGTH,children:"Strength"}),r.jsx(ze,{value:An.CARDIO,children:"Cardio"}),r.jsx(ze,{value:An.YOGA,children:"Yoga"}),r.jsx(ze,{value:An.REST,children:"Rest Day"})]})]}),z.sessionType===An.STRENGTH&&r.jsxs(Ft,{fullWidth:!0,children:[r.jsx(Mn,{children:"Workout Type"}),r.jsxs(Yt,{value:z.workoutType,label:"Workout Type",onChange:F=>de("workoutType",F.target.value),children:[r.jsx(ze,{value:Ss.FULL,children:"Full Body"}),r.jsx(ze,{value:Ss.UPPER,children:"Upper Body"}),r.jsx(ze,{value:Ss.PUSH,children:"Push"}),r.jsx(ze,{value:Ss.PULL,children:"Pull"}),r.jsx(ze,{value:Ss.LEGS,children:"Legs"}),r.jsx(ze,{value:Ss.CORE,children:"Core"})]})]}),z.sessionType!==An.REST&&r.jsx(To,{name:"duration",children:({field:F})=>r.jsx(dt,{...F,fullWidth:!0,type:"number",label:"Duration (minutes)",placeholder:"e.g., 45",error:N.duration&&!!R.duration,helperText:N.duration&&R.duration,variant:"outlined",inputProps:{min:0,step:1}})}),z.sessionType===An.STRENGTH&&r.jsxs(r.Fragment,{children:[r.jsx(To,{name:"numExercises",children:({field:F})=>r.jsx(dt,{...F,fullWidth:!0,type:"number",label:"Number of Exercises",placeholder:"e.g., 6",error:N.numExercises&&!!R.numExercises,helperText:N.numExercises&&R.numExercises,variant:"outlined",inputProps:{min:1,step:1}})}),r.jsx(To,{name:"setsPerExercise",children:({field:F})=>r.jsx(dt,{...F,fullWidth:!0,type:"number",label:"Sets per Exercise",placeholder:"e.g., 3",error:N.setsPerExercise&&!!R.setsPerExercise,helperText:N.setsPerExercise&&R.setsPerExercise,variant:"outlined",inputProps:{min:1,step:1}})})]}),r.jsx(To,{name:"sessionName",children:({field:F})=>r.jsx(dt,{...F,fullWidth:!0,label:"Session Name (optional)",placeholder:"e.g., Morning workout, Leg day, etc.",variant:"outlined"})}),r.jsx(To,{name:"notes",children:({field:F})=>r.jsx(dt,{...F,fullWidth:!0,multiline:!0,rows:4,label:"Notes (optional)",placeholder:"Add any notes about your session...",variant:"outlined"})}),r.jsx(Te,{type:"submit",variant:"contained",fullWidth:!0,disabled:W||!U||!V,sx:{bgcolor:_(),"&:hover":{bgcolor:_(),filter:"brightness(0.9)"},py:1.5,fontWeight:600,mt:2},children:W?"Logging...":`Log ${M().replace("Log ","")}`}),!v()&&u&&r.jsx(Te,{variant:"outlined",fullWidth:!0,startIcon:r.jsx(Ec,{}),onClick:()=>l(!0),sx:{mt:1,py:1.5,fontWeight:600},children:"Assign to Day of Week"})]})})})})})]}),r.jsx(Hs,{open:h,autoHideDuration:3e3,onClose:()=>p(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(At,{severity:"success",onClose:()=>p(!1),children:g})}),r.jsx(yx,{open:a,onClose:()=>l(!1),onAssign:D,workoutData:u,currentSchedule:S})]})})};xx.propTypes={onNavigate:E.func};const oE=({onNavigate:e})=>r.jsx(L,{children:r.jsx(xx,{onNavigate:e,hideBackButton:!0})});oE.propTypes={onNavigate:E.func};const lE=({onNavigate:e,loading:t=!1,workoutType:s,selectedEquipment:a,equipmentOptions:l,onWorkoutTypeChange:u,onEquipmentChange:d,onStartWorkout:h,onCustomize:p})=>{const[g,y]=x.useState(0),v=(S,T)=>{y(T)},b=S=>{y(S)};return r.jsxs(L,{sx:{padding:{xs:2,sm:2,md:3},maxWidth:"1200px",margin:"0 auto",minHeight:"calc(100vh - 60px)",paddingBottom:{xs:"80px",md:"2rem"}},children:[r.jsx(L,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:r.jsxs(qc,{value:g,onChange:v,variant:"fullWidth",sx:{"& .MuiTab-root":{minHeight:64,fontSize:{xs:"0.875rem",sm:"1rem"},fontWeight:600}},children:[r.jsx(Fi,{icon:r.jsx(Jt,{}),label:"Workout",iconPosition:"start"}),r.jsx(Fi,{icon:r.jsx(fi,{}),label:"Cardio & Yoga",iconPosition:"start"}),r.jsx(Fi,{icon:r.jsx(_2,{}),label:"Activity",iconPosition:"start"})]})}),r.jsxs(L,{sx:{mt:2},children:[g===0&&r.jsx(rx,{onNavigate:e,loading:t,workoutType:s,selectedEquipment:a,equipmentOptions:l,onWorkoutTypeChange:u,onEquipmentChange:d,onStartWorkout:h,onCustomize:p,onTabChange:b}),g===1&&r.jsx(MD,{onNavigate:e}),g===2&&r.jsx(oE,{onNavigate:e})]})]})};lE.propTypes={onNavigate:E.func,loading:E.bool,workoutType:E.string,selectedEquipment:E.instanceOf(Set),equipmentOptions:E.array,onWorkoutTypeChange:E.func,onEquipmentChange:E.func,onStartWorkout:E.func,onCustomize:E.func};const aC=e=>({push:"Push",pull:"Pull",legs:"Legs",upper:"Upper Body",lower:"Lower Body",full:"Full Body",stretch:"Stretch",hiit:"HIIT",rest:"Rest",cardio:"Cardio",strength:"Strength",hypertrophy:"Hypertrophy",active_recovery:"Active Recovery"})[e]||e.charAt(0).toUpperCase()+e.slice(1),cE=({onStartWorkout:e,onNavigate:t})=>{const{weeklySchedule:s,currentWeek:a,deloadWeekActive:l,getWorkoutSuggestion:u}=Zi(),[d,h]=x.useState(null),[p,g]=x.useState([]),[y,v]=x.useState(!1);x.useState(()=>{(async()=>{const M=await ei();g(M)})()},[]);const b=[{name:"Sunday",abbrev:"SUN"},{name:"Monday",abbrev:"MON"},{name:"Tuesday",abbrev:"TUE"},{name:"Wednesday",abbrev:"WED"},{name:"Thursday",abbrev:"THU"},{name:"Friday",abbrev:"FRI"},{name:"Saturday",abbrev:"SAT"}],S=P=>{if(!P)return r.jsx(Jt,{});const M=P.toLowerCase();return M.includes("cardio")||M.includes("hiit")?r.jsx(fi,{}):M.includes("yoga")||M.includes("mobility")||M.includes("stretch")?r.jsx(Js,{}):M.includes("rest")?r.jsx(dh,{}):r.jsx(Jt,{})},T=P=>{if(!P)return"primary";const M=P.toLowerCase();return M.includes("cardio")||M.includes("hiit")?"error":M.includes("yoga")||M.includes("mobility")||M.includes("stretch")?"secondary":M.includes("rest")?"default":"primary"},k=P=>P?{upper:"Upper Body",lower:"Lower Body",full:"Full Body",push:"Push",pull:"Pull",legs:"Legs",cardio:"Cardio",hiit:"HIIT",yoga:"Yoga",mobility:"Mobility",stretch:"Stretching",rest:"Rest"}[P.toLowerCase()]||P:"Not assigned",w=P=>{h(P)},j=()=>{h(null)},D=()=>{if(d&&s[d]){const P=s[d],M=(P.sessionType||"").toLowerCase();if(M.includes("rest")){j(),v(!0);return}if(M.includes("cardio")||M.includes("hiit")||M.includes("yoga")||M.includes("mobility")||M.includes("stretch")){j(),t&&t("timer");return}e&&e(P)}j()},_=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date().getDay()];return r.jsxs(L,{sx:{width:"100%",maxWidth:800,mx:"auto",p:2},children:[y&&r.jsx(Hy,{onClose:()=>v(!1)}),r.jsxs(L,{sx:{mb:3,textAlign:"center"},children:[r.jsxs(I,{variant:"h5",fontWeight:700,gutterBottom:!0,children:["Week ",a," Schedule"]}),l&&r.jsx(ct,{label:"Deload Week - Recovery Focus",color:"warning",icon:r.jsx(I2,{}),sx:{mt:1}})]}),r.jsx(Oe,{spacing:2,children:b.map((P,M)=>{const R=s[P.name],N=P.name===_,W=R?null:u(P.name,p);return r.jsx(Ke.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:M*.05},children:r.jsx(Je,{sx:{borderRadius:2,border:N?2:1,borderColor:N?"primary.main":"divider",boxShadow:N?3:1,cursor:R?"pointer":"default",transition:"all 0.2s ease","&:hover":R?{transform:"translateY(-2px)",boxShadow:4}:{}},onClick:()=>R&&w(P.name),children:r.jsx(ot,{children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:2,flex:1},children:[r.jsxs(L,{sx:{minWidth:60,textAlign:"center"},children:[r.jsx(I,{variant:"overline",fontWeight:700,color:N?"primary.main":"text.secondary",children:P.abbrev}),N&&r.jsx(I,{variant:"caption",display:"block",color:"primary.main",children:"Today"})]}),r.jsx(L,{sx:{flex:1},children:R?r.jsxs(r.Fragment,{children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[S(R.sessionType),r.jsx(I,{variant:"body1",fontWeight:600,children:R.sessionName||k(R.sessionType)})]}),R.exercises&&R.exercises.length>0&&r.jsxs(I,{variant:"caption",color:"text.secondary",children:[R.exercises.length," exercises"]})]}):r.jsxs(L,{children:[r.jsx(I,{variant:"body2",color:"text.secondary",children:"No workout assigned"}),W&&r.jsxs(I,{variant:"caption",color:"info.main",children:["Suggestion: ",k(W.type||W.workoutType)]})]})}),R&&r.jsx(ct,{label:k(R.sessionType),color:T(R.sessionType),size:"small",variant:"outlined"})]}),R&&r.jsx(Ue,{color:"primary",sx:{ml:1},onClick:U=>{U.stopPropagation(),w(P.name)},children:r.jsx(Qs,{})})]})})})},P.name)})}),r.jsx(vn,{open:!!d,onClose:j,maxWidth:"sm",fullWidth:!0,children:d&&s[d]&&r.jsxs(r.Fragment,{children:[r.jsx(On,{children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[r.jsxs(I,{variant:"h6",children:[d," - ",s[d].sessionName||k(s[d].sessionType)]}),r.jsx(Ue,{onClick:j,size:"small",children:r.jsx(tl,{})})]})}),r.jsx(Sn,{children:s[d].exercises&&s[d].exercises.length>0?r.jsxs(r.Fragment,{children:[r.jsx(I,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Exercises in this workout:"}),r.jsx(Un,{dense:!0,children:s[d].exercises.map((P,M)=>r.jsxs(L,{children:[r.jsx(lt,{children:r.jsx(jt,{primary:P.name||P.exerciseName,secondary:P.muscleGroup||P.category||""})}),M<s[d].exercises.length-1&&r.jsx(dn,{})]},M))})]}):r.jsxs(I,{variant:"body2",color:"text.secondary",children:["This is a ",k(s[d].sessionType)," session.",(s[d].sessionType.toLowerCase().includes("cardio")||s[d].sessionType.toLowerCase().includes("yoga"))&&" Choose your specific workout when ready to start."]})}),r.jsxs(wn,{children:[r.jsx(Te,{onClick:j,color:"inherit",children:"Close"}),r.jsx(Te,{onClick:D,variant:"contained",startIcon:r.jsx(Qs,{}),children:"Start Workout"})]})]})})]})};cE.propTypes={onStartWorkout:E.func,onNavigate:E.func};const uE=x.memo(({todaysWorkout:e,nextWorkouts:t=[],lastWorkout:s,onQuickStart:a,onNavigate:l,loading:u=!1})=>{const[d,h]=x.useState("");x.useEffect(()=>{const b={weekday:"long",year:"numeric",month:"long",day:"numeric"};h(new Date().toLocaleDateString("en-US",b))},[]);const p=s&&s.date,y=(()=>{if(!p)return null;const b=new Date(s.date),T=Math.abs(new Date-b);return Math.ceil(T/U4.MILLISECONDS_PER_DAY)})(),v=[{title:"Workouts",icon:r.jsx(Jt,{fontSize:"large"}),description:"Start a workout",color:"primary",action:()=>l("selection")},{title:"Plans",icon:r.jsx(Ec,{fontSize:"large"}),description:"View weekly plan",color:"info",action:()=>l("plans")},{title:"HIIT",icon:r.jsx(Yc,{fontSize:"large"}),description:"High intensity training",color:"error",action:()=>l("hiit")},{title:"Stretching",icon:r.jsx(Js,{fontSize:"large"}),description:"Mobility & stretching",color:"secondary",action:()=>l("stretch")},{title:"Cardio",icon:r.jsx(fi,{fontSize:"large"}),description:"Track cardio activity",color:"warning",action:()=>l("cardio")}];return r.jsxs(L,{sx:{padding:{xs:"1rem",sm:"2rem",md:"3rem"},maxWidth:"1200px",margin:"0 auto",minHeight:"calc(100vh - 60px)"},children:[r.jsx(L,{sx:{mb:4,textAlign:"center"},children:r.jsx(I,{variant:"h5",sx:{fontWeight:600,color:"text.secondary",fontSize:{xs:"1rem",sm:"1.25rem"}},children:d})}),e&&r.jsx(Je,{sx:{mb:4,borderRadius:3,boxShadow:"0 4px 16px rgba(19, 70, 134, 0.12)",background:"linear-gradient(135deg, rgba(19, 70, 134, 0.05) 0%, rgba(237, 63, 39, 0.05) 100%)"},children:r.jsxs(ot,{sx:{p:3},children:[r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"start",mb:2},children:[r.jsxs(L,{children:[r.jsx(I,{variant:"overline",sx:{color:"primary.main",fontWeight:600,letterSpacing:1},children:"TODAY'S WORKOUT"}),r.jsxs(I,{variant:"h4",sx:{fontWeight:700,color:"text.primary",mt:1},children:[e.type!=="rest"?aC(e.type):"Rest Day",e.focus&&e.type!=="rest"&&r.jsx(ct,{label:e.focus,size:"small",sx:{ml:1,textTransform:"capitalize"}})]})]}),y!==null&&r.jsx(ct,{label:y===0?"Today":`${y}d ago`,size:"small",color:"primary",variant:"outlined"})]}),e.type!=="rest"?r.jsxs(r.Fragment,{children:[p&&r.jsxs(I,{variant:"body1",sx:{color:"text.secondary",mb:1},children:["Last session: ",PT(s.duration||0),s.exercises&&`  ${s.exercises.length} exercises`]}),e.estimatedDuration&&r.jsxs(I,{variant:"body1",sx:{color:"text.secondary",mb:2},children:["Estimated: ~",e.estimatedDuration," min"]}),r.jsx(Te,{variant:"contained",size:"large",startIcon:r.jsx(Qs,{}),onClick:a,disabled:u,sx:{mt:1},children:"START WORKOUT"})]}):r.jsx(I,{variant:"body1",sx:{color:"text.secondary"},children:"Recovery is key to growth. Take it easy today!"}),t.length>0&&r.jsxs(L,{sx:{mt:3,pt:3,borderTop:"1px solid",borderColor:"divider"},children:[r.jsx(I,{variant:"caption",sx:{color:"text.secondary",fontWeight:600,textTransform:"uppercase",letterSpacing:.5},children:"Coming Up:"}),r.jsx(Oe,{spacing:.5,sx:{mt:1},children:t.slice(0,2).map((b,S)=>b.type!=="rest"&&r.jsx(L,{sx:{display:"flex",alignItems:"center",pl:1,borderLeft:"2px solid",borderColor:"primary.main"},children:r.jsxs(I,{variant:"body2",sx:{color:"text.primary"},children:[r.jsxs("strong",{children:[b.day,":"]})," ",aC(b.type)]})},S))})]})]})}),r.jsx(L,{sx:{mb:4},children:r.jsxs(vr,{defaultExpanded:!1,sx:{borderRadius:2,"&:before":{display:"none"},boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[r.jsxs(Sr,{expandIcon:r.jsx(Aa,{}),sx:{"& .MuiAccordionSummary-content":{alignItems:"center",gap:1}},children:[r.jsx(Ec,{color:"primary"}),r.jsx(I,{variant:"h6",fontWeight:600,children:"Weekly Schedule"})]}),r.jsx(wr,{children:r.jsx(cE,{onStartWorkout:b=>{if(console.log("Start workout from schedule:",b),a){const S=(b.sessionType||"full").toLowerCase();a(S)}},onNavigate:l})})]})}),r.jsxs(L,{children:[r.jsx(I,{variant:"h5",sx:{fontWeight:700,color:"text.primary",mb:3},children:"Quick Access"}),r.jsx(nn,{container:!0,spacing:2,children:v.map((b,S)=>r.jsx(nn,{item:!0,xs:6,sm:4,md:2.4,children:r.jsx(Je,{sx:{height:"100%",cursor:"pointer",transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)"}},onClick:b.action,children:r.jsxs(ot,{sx:{textAlign:"center",p:3,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"150px"},children:[r.jsx(L,{sx:{color:`${b.color}.main`,mb:1.5},children:b.icon}),r.jsx(I,{variant:"h6",sx:{fontWeight:600,mb:.5,fontSize:{xs:"1rem",sm:"1.25rem"}},children:b.title}),r.jsx(I,{variant:"caption",sx:{color:"text.secondary",fontSize:{xs:"0.7rem",sm:"0.75rem"}},children:b.description})]})})},S))})]})]})});uE.displayName="TodayView";uE.propTypes={todaysWorkout:E.shape({day:E.string,type:E.string,focus:E.string,estimatedDuration:E.number,description:E.string}),nextWorkouts:E.arrayOf(E.shape({day:E.string,type:E.string,description:E.string})),lastWorkout:E.shape({date:E.string,duration:E.number,exercises:E.array}),onQuickStart:E.func.isRequired,onNavigate:E.func.isRequired,loading:E.bool};const Lh=({title:e,subtitle:t,icon:s,action:a})=>r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",py:1,px:2,borderBottom:"1px solid",borderColor:"divider",mb:2},children:[r.jsxs(L,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[s&&r.jsx("span",{style:{fontSize:"1.2rem"},children:s}),r.jsx(I,{variant:"h6",sx:{fontSize:"1.1rem",fontWeight:700},children:e})]}),t&&r.jsx(I,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.875rem"},children:t})]}),a&&a]});Lh.propTypes={title:E.string.isRequired,subtitle:E.string,icon:E.node,action:E.node};const bx=x.memo(({workoutType:e,selectedEquipment:t,equipmentOptions:s,onWorkoutTypeChange:a,onEquipmentChange:l,onStartWorkout:u,onCustomize:d,loading:h})=>{const[p,g]=x.useState([]),[y,v]=x.useState(!1),[b,S]=x.useState(null),[T,k]=x.useState(""),[w,j]=x.useState(null);x.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),Hi().then(g)},[]);const D=()=>{if(e){const V=t.has("all")?"all":Array.from(t);u(e,V)}},A=()=>{if(e&&d){const V=t.has("all")?"all":Array.from(t);d(e,V)}},_=async V=>{await wj(V);const z=await Hi();g(z)},P=V=>{S(V),k(V.name),v(!0)},M=async()=>{if(b&&T.trim()){await $R(b.id,T.trim());const V=await Hi();g(V),v(!1),S(null),k("")}},R=()=>{v(!1),S(null),k("")},N=V=>{a(V.type),l(V.equipment||"all");const z=V.equipment==="all"?"all":[V.equipment];u(V.type,z,V.exercises)},W=V=>{const z=new Set(t);V==="all"?(z.clear(),z.add("all")):(z.has("all")&&z.delete("all"),z.has(V)?z.delete(V):z.add(V),z.size===0&&z.add("all")),l(z)},U=()=>{if(t.has("all"))return"All Equipment";const V=Array.from(t);return V.length===0?"All Equipment":V.length===1?s.find(de=>de.toLowerCase()===V[0])||V[0]:`${V.length} selected`};return r.jsxs(L,{sx:{width:"100%",minHeight:"100vh"},children:[r.jsx(Lh,{title:"Workouts",icon:""}),r.jsxs(Ke.div,{className:"screen selection-screen",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"calc(100vh - 4rem)",padding:"1rem",paddingBottom:"max(2rem, calc(env(safe-area-inset-bottom) + 1rem))",overflow:"auto"},children:[h?r.jsx(L,{sx:{textAlign:"center"},children:r.jsx(I,{variant:"h5",sx:{mb:2},children:"Generating workout..."})}):r.jsx(L,{sx:{width:"100%",maxWidth:800},children:r.jsx(Je,{sx:{maxWidth:800,width:"100%",borderRadius:3,boxShadow:"0 8px 32px rgba(19, 70, 134, 0.12)"},children:r.jsxs(ot,{sx:{p:{xs:2,sm:4}},children:[r.jsx(L,{sx:{mb:3},children:r.jsxs(Oe,{direction:{xs:"column",sm:"row"},spacing:2,sx:{width:"100%"},children:[r.jsxs(Ft,{fullWidth:!0,children:[r.jsx(Mn,{id:"workout-type-label",children:"Workout Type"}),r.jsxs(Yt,{labelId:"workout-type-label",id:"workout-type-select",value:e||"full",label:"Workout Type",onChange:V=>a(V.target.value),children:[r.jsx(ze,{value:"full",children:"Full Body"}),r.jsx(ze,{value:"upper",children:"Upper Body"}),r.jsx(ze,{value:"lower",children:"Lower Body"}),r.jsx(ze,{value:"push",children:"Push"}),r.jsx(ze,{value:"pull",children:"Pull"}),r.jsx(ze,{value:"legs",children:"Legs"})]})]}),r.jsx(L,{sx:{width:"100%"},children:r.jsxs(vr,{sx:{boxShadow:"none",border:"1px solid rgba(0, 0, 0, 0.23)",borderRadius:"4px","&:before":{display:"none"},"&.Mui-expanded":{margin:0}},children:[r.jsx(Sr,{expandIcon:r.jsx(Aa,{}),sx:{minHeight:"56px","&.Mui-expanded":{minHeight:"56px"},"& .MuiAccordionSummary-content":{margin:"16px 0","&.Mui-expanded":{margin:"16px 0"}}},children:r.jsxs(L,{sx:{display:"flex",flexDirection:"column",width:"100%"},children:[r.jsx(I,{variant:"caption",sx:{color:"rgba(0, 0, 0, 0.6)",fontSize:"0.75rem",lineHeight:1,mb:.5},children:"Equipment"}),r.jsx(I,{sx:{color:"rgba(0, 0, 0, 0.87)",fontSize:"1rem"},children:U()})]})}),r.jsx(wr,{sx:{pt:0,pb:2},children:r.jsxs(L,{component:"div",role:"group","aria-label":"Equipment selection",children:[r.jsx(Vd,{control:r.jsx(vS,{checked:t.has("all"),onChange:()=>W("all")}),label:"All Equipment",sx:{mb:1,display:"flex"}}),s.map(V=>r.jsx(Vd,{control:r.jsx(vS,{checked:t.has(V.toLowerCase()),onChange:()=>W(V.toLowerCase())}),label:V,sx:{mb:1,display:"flex"}},V))]})})]})})]})}),p.length>0&&r.jsx(L,{sx:{mb:3},children:r.jsxs(vr,{sx:{boxShadow:"none","&:before":{display:"none"}},children:[r.jsx(Sr,{expandIcon:r.jsx(Aa,{}),children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(qi,{sx:{color:"warning.main"}}),r.jsxs(I,{variant:"h6",sx:{fontWeight:600,color:"text.primary",fontSize:{xs:"1rem",sm:"1.25rem"}},children:["Favorite Workouts (",p.length,")"]})]})}),r.jsx(wr,{children:r.jsx(Oe,{spacing:1.5,children:p.map(V=>r.jsx(Je,{sx:{border:"1px solid",borderColor:"divider",boxShadow:"none","&:hover":{boxShadow:"0 2px 8px rgba(19, 70, 134, 0.1)"}},children:r.jsxs(ot,{sx:{p:2,"&:last-child":{pb:2}},children:[r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"start",mb:1},children:[r.jsxs(L,{sx:{flex:1},children:[r.jsx(I,{variant:"body1",sx:{fontWeight:600,mb:.5},children:V.name}),r.jsxs(Oe,{direction:"row",spacing:1,sx:{mb:1},children:[r.jsx(ct,{label:V.type.charAt(0).toUpperCase()+V.type.slice(1),size:"small",sx:{fontSize:"0.7rem"}}),r.jsx(ct,{label:`${V.exercises.length} exercises`,size:"small",variant:"outlined",sx:{fontSize:"0.7rem"}})]})]}),r.jsxs(L,{sx:{display:"flex",gap:.5},children:[r.jsx(Ue,{size:"small",onClick:()=>P(V),sx:{color:"primary.main"},children:r.jsx(Yi,{fontSize:"small"})}),r.jsx(Ue,{size:"small",onClick:()=>_(V.id),sx:{color:"error.main"},children:r.jsx(Oa,{fontSize:"small"})})]})]}),r.jsxs(vr,{expanded:w===V.id,onChange:()=>j(w===V.id?null:V.id),sx:{boxShadow:"none","&:before":{display:"none"},bgcolor:"transparent"},children:[r.jsx(Sr,{expandIcon:r.jsx(Aa,{}),sx:{minHeight:"auto","& .MuiAccordionSummary-content":{margin:"8px 0"}},children:r.jsx(I,{variant:"caption",sx:{fontWeight:600,color:"primary.main"},children:"View Exercises"})}),r.jsx(wr,{sx:{pt:0},children:r.jsx(Un,{dense:!0,sx:{py:0},children:V.exercises.map((z,de)=>r.jsx(lt,{sx:{px:0},children:r.jsx(jt,{primary:z["Exercise Name"]||z.name||"Unknown Exercise",secondary:`${z.Equipment||z.equipment||"N/A"}  ${z["Primary Muscle"]||z.primaryMuscle||"N/A"}`,primaryTypographyProps:{variant:"body2",fontWeight:500},secondaryTypographyProps:{variant:"caption"}})},de))})})]}),r.jsx(Te,{size:"small",variant:"contained",onClick:()=>N(V),sx:{fontSize:"0.8rem",textTransform:"none",mt:1},fullWidth:!0,children:"Load Workout"})]})},V.id))})})]})}),r.jsxs(Oe,{direction:"row",spacing:2,sx:{width:"100%"},children:[r.jsx(Te,{variant:"outlined",size:"large",fullWidth:!0,disabled:!e,onClick:A,sx:{py:2,fontSize:"1.1rem",fontWeight:600,borderRadius:2,textTransform:"none",borderWidth:2,"&:hover":{borderWidth:2}},children:"Customize"}),r.jsx(Te,{variant:"contained",size:"large",fullWidth:!0,disabled:!e,onClick:D,sx:{py:2,fontSize:"1.1rem",fontWeight:600,borderRadius:2,textTransform:"none"},children:"Generate"})]})]})})}),r.jsxs(vn,{open:y,onClose:R,maxWidth:"sm",fullWidth:!0,children:[r.jsx(On,{children:"Edit Workout Name"}),r.jsx(Sn,{children:r.jsx(dt,{autoFocus:!0,margin:"dense",label:"Workout Name",type:"text",fullWidth:!0,variant:"outlined",value:T,onChange:V=>k(V.target.value),onKeyPress:V=>{V.key==="Enter"&&M()}})}),r.jsxs(wn,{children:[r.jsx(Te,{onClick:R,color:"inherit",children:"Cancel"}),r.jsx(Te,{onClick:M,variant:"contained",disabled:!T.trim(),children:"Save"})]})]})]})]})});bx.displayName="SelectionScreen";bx.propTypes={workoutType:E.string.isRequired,selectedEquipment:E.instanceOf(Set).isRequired,equipmentOptions:E.array.isRequired,onWorkoutTypeChange:E.func.isRequired,onEquipmentChange:E.func.isRequired,onStartWorkout:E.func.isRequired,onCustomize:E.func,onNavigate:E.func,loading:E.bool.isRequired};const wg=({type:e,workoutType:t,defaultDuration:s=5,onComplete:a,onSkip:l})=>{const[u,d]=x.useState("ready"),[h,p]=x.useState(s),[g,y]=x.useState(s*60),v=x.useRef(null),b=x.useRef(null),S=x.useRef(null);x.useEffect(()=>()=>{v.current&&clearInterval(v.current)},[]);const k=(()=>{if(e==="warmup"){const R="Recommended: 5-10 minutes of dynamic stretching",N={upper:"Focus on shoulder circles, arm swings, chest openers, and back rotations",lower:"Focus on leg swings, hip circles, knee lifts, and ankle rotations",full:"Focus on full body movement - jumping jacks, arm circles, leg swings, and torso twists"};return{main:R,specific:N[t]||N.full}}else{const R="Recommended: 5-10 minutes of static stretching",N={upper:"Hold stretches for 20-30 seconds - focus on shoulders, chest, back, and triceps",lower:"Hold stretches for 20-30 seconds - focus on quads, hamstrings, glutes, and calves",full:"Hold stretches for 20-30 seconds - focus on all major muscle groups you trained"};return{main:R,specific:N[t]||N.full}}})(),w=()=>{if(u==="ready"||u==="completed"){const R=h*60;y(R),d("running"),b.current=Date.now(),v.current=setInterval(()=>{const N=Math.floor((Date.now()-b.current)/1e3),W=R-N;W<=0?(clearInterval(v.current),y(0),d("completed"),zt.playBeep(880,300),setTimeout(()=>zt.playBeep(1046,300),350)):y(W)},1e3)}else if(u==="paused"){d("running");const R=Date.now()-S.current;b.current=b.current+R;const N=h*60;v.current=setInterval(()=>{const W=Math.floor((Date.now()-b.current)/1e3),U=N-W;U<=0?(clearInterval(v.current),y(0),d("completed"),zt.playBeep(880,300),setTimeout(()=>zt.playBeep(1046,300),350)):y(U)},1e3)}},j=()=>{u==="running"&&(d("paused"),S.current=Date.now(),v.current&&clearInterval(v.current))},D=()=>{v.current&&clearInterval(v.current),d("ready"),y(h*60)},A=()=>{v.current&&clearInterval(v.current),a()},_=()=>{v.current&&clearInterval(v.current),l()},P=R=>{const N=Math.floor(R/60),W=R%60;return`${N}:${W.toString().padStart(2,"0")}`},M=(h*60-g)/(h*60)*100;return r.jsx(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},style:{width:"100%",maxWidth:"600px",margin:"0 auto",padding:"0.5rem"},children:r.jsx(Je,{sx:{borderRadius:2,boxShadow:3,bgcolor:"background.paper"},children:r.jsxs(ot,{sx:{p:3},children:[r.jsxs(L,{sx:{textAlign:"center",mb:3},children:[r.jsx(L,{sx:{display:"flex",justifyContent:"center",mb:2},children:e==="warmup"?r.jsx(Jt,{sx:{fontSize:48,color:"warning.main"}}):r.jsx(Js,{sx:{fontSize:48,color:"info.main"}})}),r.jsx(I,{variant:"h5",sx:{fontWeight:600,mb:1},children:e==="warmup"?"Warm-Up Time":"Cool-Down Time"}),r.jsx(I,{variant:"body2",color:"text.secondary",sx:{mb:1},children:k.main}),r.jsx(I,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:k.specific})]}),u==="ready"&&r.jsxs(L,{sx:{mb:3},children:[r.jsx(I,{variant:"body2",color:"text.secondary",sx:{mb:1,textAlign:"center"},children:"Select Duration"}),r.jsx(Oe,{direction:"row",spacing:1,justifyContent:"center",children:[5,7,10].map(R=>r.jsx(ct,{label:`${R} min`,onClick:()=>{p(R),y(R*60)},color:h===R?"primary":"default",variant:h===R?"filled":"outlined",sx:{minWidth:70,cursor:"pointer"}},R))})]}),r.jsxs(L,{sx:{textAlign:"center",mb:3},children:[r.jsx(I,{variant:"h1",sx:{fontWeight:700,fontSize:{xs:"3rem",sm:"4rem"},color:u==="completed"?"success.main":"text.primary"},children:P(g)}),u==="completed"&&r.jsx(I,{variant:"body1",color:"success.main",sx:{mt:1,fontWeight:600},children:" Time Complete!"})]}),(u==="running"||u==="paused"||u==="completed")&&r.jsxs(L,{sx:{mb:3},children:[r.jsx($i,{variant:"determinate",value:M,sx:{height:10,borderRadius:5,bgcolor:"rgba(0, 0, 0, 0.1)","& .MuiLinearProgress-bar":{bgcolor:e==="warmup"?"warning.main":"info.main",borderRadius:5}}}),r.jsxs(I,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.5,textAlign:"center"},children:[Math.round(M),"% complete"]})]}),r.jsxs(Oe,{direction:"row",spacing:1,justifyContent:"center",sx:{mb:2},children:[(u==="ready"||u==="paused")&&r.jsx(Te,{variant:"contained",size:"large",startIcon:r.jsx(Qs,{}),onClick:w,sx:{minWidth:140},children:u==="paused"?"Resume":"Start Timer"}),u==="running"&&r.jsx(Te,{variant:"contained",size:"large",startIcon:r.jsx(Wg,{}),onClick:j,sx:{minWidth:140},children:"Pause"}),(u==="running"||u==="paused")&&r.jsx(Ue,{onClick:D,color:"primary",size:"large",sx:{border:"1px solid",borderColor:"primary.main"},children:r.jsx(W2,{})})]}),r.jsxs(Oe,{direction:"row",spacing:2,sx:{mt:3},children:[r.jsxs(Te,{variant:"outlined",fullWidth:!0,onClick:_,startIcon:r.jsx(fh,{}),children:["Skip ",e==="warmup"?"Warm-Up":"Cool-Down"]}),(u==="completed"||u==="running"||u==="paused")&&r.jsx(Te,{variant:"contained",fullWidth:!0,onClick:A,color:"success",children:"Mark Complete"})]})]})})})};wg.propTypes={type:E.oneOf(["warmup","cooldown"]).isRequired,workoutType:E.oneOf(["upper","lower","full"]).isRequired,defaultDuration:E.number,onComplete:E.func.isRequired,onSkip:E.func.isRequired};const a7=(e,t,s)=>{if(!e||!t||!s)return null;const a=t-s;if(a===0){const l=e+5;return{message:`Great job! Try ${l}lbs next set`,suggestedWeight:l,type:"success"}}if(a>=2){const l=e+10;return{message:`Excellent! You exceeded target by ${a} reps. Try ${l}lbs next set`,suggestedWeight:l,type:"excellent"}}if(a===1){const l=e+5;return{message:`Nice! Try ${l}lbs next set`,suggestedWeight:l,type:"good"}}return t<s?{message:`Keep going! Try ${e}lbs again to hit ${s} reps`,suggestedWeight:e,type:"maintain"}:null},r7=(e,t,s=3)=>{if(!e||!Array.isArray(e)||e.length<s||!t||t<=0)return!1;const a=t*e.length,l=e.reduce((d,h)=>d+(h.reps||0),0),u=a*.8;return l<=u},dE=({workoutPlan:e,onComplete:t,onExit:s,supersetConfig:a=[2,2,2,2],setsPerSuperset:l=3})=>{const[u,d]=x.useState(0),[h,p]=x.useState([]),[g,y]=x.useState(0),[v,b]=x.useState(null),[S,T]=x.useState(null),[k,w]=x.useState(!1),[j,D]=x.useState(!1),[A,_]=x.useState({}),[P,M]=x.useState(null),[R,N]=x.useState(!1),[W,U]=x.useState(""),[V,z]=x.useState(""),[de,F]=x.useState(new Set),[K,B]=x.useState({}),q=x.useRef(null),le=x.useRef(null),[he,J]=x.useState("warmup"),[ee,Z]=x.useState(!1),[ae,ce]=x.useState(!1),[se,oe]=x.useState(!1),[ke,X]=x.useState(!1),[ve,xe]=x.useState("full"),ge=x.useMemo(()=>{const Ce=[];let Me=0;for(const We of a){const Re=[];for(let Ge=0;Ge<We&&Me<e.length;Ge++)e[Me]&&Re.push(e[Me]),Me++;if(Re.length!==0)for(let Ge=1;Ge<=l;Ge++)for(const ut of Re)Ce.push({exercise:ut,setNumber:Ge})}return Ce},[e,a,l]);x.useEffect(()=>{const Ce=Bo(e[0]);xe(Ce);const Me=localStorage.getItem("goodlift_stretch_prefs");(Me?JSON.parse(Me):{showWarmup:!0}).showWarmup||(ce(!0),J("exercise"))},[e]),x.useEffect(()=>(q.current=Date.now(),le.current=setInterval(()=>{const Me=Math.floor((Date.now()-q.current)/1e3);y(Me)},1e3),(async()=>{const Me={},We=[...new Set(e.map(Re=>Re["Exercise Name"]))];await Promise.all(We.map(async Re=>{const[Ge,ut]=await Promise.all([zo(Re),Cr(Re)]);Me[Re]={weight:Ge??null,reps:ut??null}})),_(Me)})(),()=>{le.current&&clearInterval(le.current)}),[e]),x.useEffect(()=>{const Ce=ge[u];if(Ce?.exercise?.["Exercise Name"]){const Me=Ce.exercise["Exercise Name"],We=A[Me],Re=K[Me]??We?.weight??null;b(Re),T(We?.reps??null),U(Re??""),z(We?.reps??""),M(null),N(!1)}window.scrollTo({top:0,behavior:"smooth"})},[u,A,ge,K]);const Ee=ge[u],Le=Ee?.exercise?.["Exercise Name"],je=Ee?.exercise?.Equipment?.toLowerCase()==="bodyweight",qe=async Ce=>{const Me={};Ce.forEach(({exerciseName:We,setNumber:Re,weight:Ge,reps:ut})=>{Me[We]||(Me[We]=[]),Me[We].push({setNumber:Re,weight:Ge,reps:ut})});for(const[We,Re]of Object.entries(Me)){const Ge=A[We]||{weight:null,reps:null},ut=Ge.reps??0,st=Ge.weight,wt=Re.map(pt=>pt.reps).filter(pt=>typeof pt=="number"&&!isNaN(pt));if(wt.length===0)continue;const Ut=Math.min(...wt),on=wt.every(pt=>pt>=ut);if(wt.every(pt=>pt>ut)&&Ut>0&&await Kd(We,Ut),on){const pt=Re[Re.length-1].weight;typeof pt=="number"&&!isNaN(pt)&&pt>=0&&pt!==st&&await Bi(We,pt)}}},fe=()=>{Z(!0),J("exercise")},ie=()=>{ce(!0),J("exercise")},Ve=()=>{oe(!0),J("complete")},Pe=()=>{X(!0),J("complete")},Se=()=>{const Ce=Math.floor((Date.now()-q.current)/1e3);le.current&&clearInterval(le.current);const Me={date:new Date().toISOString(),type:e[0]?.["Primary Muscle"]||"unknown",duration:Ce,exercises:{},warmupCompleted:ee,warmupSkipped:ae,cooldownCompleted:se,cooldownSkipped:ke,totalDuration:Ce};h.forEach(We=>{const{exerciseName:Re,setNumber:Ge,weight:ut,reps:st}=We;Me.exercises[Re]||(Me.exercises[Re]={sets:[]}),Me.exercises[Re].sets.push({set:Ge,weight:ut,reps:st})}),t(Me)},Ie=async Ce=>{Ce.preventDefault();const Me=Ce.target.closest("form")||document.querySelector("form"),We=Me?.querySelector("#weight-select"),Re=Me?.querySelector("#reps-select");if(!We||!Re){console.error("Form inputs not found");return}const Ge=Math.max(0,parseFloat(We.value)||0),ut=parseInt(Re.value,10),st=ut>0?ut:0,wt=Ee.exercise["Exercise Name"],Ut=K[wt]??A[wt]?.weight;Ge!==Ut&&Ut!==null&&Ut!==void 0&&(F(pt=>new Set(pt).add(wt)),B(pt=>({...pt,[wt]:Ge})));const on={exerciseName:wt,setNumber:Ee.setNumber,weight:Ge,reps:st},Gn=[...h,on];if(p(Gn),S&&st>0&&!de.has(wt)){const pt=a7(Ge,st,S);pt&&(M(pt),N(!0),setTimeout(()=>N(!1),5e3))}if(u+1>=ge.length){await qe(Gn);const pt=localStorage.getItem("goodlift_stretch_prefs");(pt?JSON.parse(pt):{showCooldown:!0}).showCooldown?J("cooldown"):(X(!0),J("complete"))}else d(pt=>pt+1)},G=()=>{u>0&&(d(Ce=>Ce-1),p(Ce=>Ce.slice(0,-1)))},we=async()=>{if(window.confirm("Save this workout as partially complete? Your current progress will be saved.")){await qe(h);const Ce=Math.floor((Date.now()-q.current)/1e3);le.current&&clearInterval(le.current);const Me={date:new Date().toISOString(),type:e[0]?.["Primary Muscle"]||"unknown",duration:Ce,exercises:{},isPartial:!0};h.forEach(We=>{const{exerciseName:Re,setNumber:Ge,weight:ut,reps:st}=We;Me.exercises[Re]||(Me.exercises[Re]={sets:[]}),Me.exercises[Re].sets.push({set:Ge,weight:ut,reps:st})}),t(Me)}},Ae=()=>{window.confirm("Are you sure you want to exit? Your progress will not be saved.")&&(le.current&&clearInterval(le.current),s())},De=()=>{try{const Ce=Bo(e[0]);ey({name:`${Ce.charAt(0).toUpperCase()+Ce.slice(1)} Body Workout`,type:Ce,equipment:"all",exercises:e}),w(!0),D(!0)}catch(Ce){console.error("Error saving to favorites:",Ce),alert("Failed to save workout to favorites")}},Ne=Ce=>{const Me=parseFloat(W)||0,We=Math.max(0,Me+Ce);U(We.toFixed(1))},Fe=Ce=>{const Me=parseInt(V,10)||0,We=Math.max(0,Me+Ce);z(We.toString())},ft=()=>{P?.suggestedWeight&&(U(P.suggestedWeight.toString()),N(!1))},Ye=()=>{if(window.confirm("Skip all remaining sets of this exercise?")){let Ce=u+1;const Me=Ee.exercise["Exercise Name"];for(;Ce<ge.length&&ge[Ce].exercise["Exercise Name"]===Me;)Ce++;Ce>=ge.length?J("cooldown"):d(Ce)}},Xe=()=>{alert("Exercise swap feature coming soon! For now, you can skip this exercise and manually add a different one later.")};if(!Ee&&he==="exercise")return null;if(he==="warmup"){const Ce=localStorage.getItem("goodlift_stretch_prefs"),Me=Ce?JSON.parse(Ce):{defaultWarmupDuration:5};return r.jsxs("div",{className:"screen",style:{paddingBottom:"100px",padding:"0.5rem",maxWidth:"100vw",boxSizing:"border-box"},children:[r.jsx(L,{sx:{mb:1.5,px:{xs:.5,sm:0}},children:r.jsx(I,{variant:"h6",sx:{fontWeight:600,textAlign:"center",mb:1},children:"Warm-Up Phase"})}),r.jsx(wg,{type:"warmup",workoutType:ve,defaultDuration:Me.defaultWarmupDuration||5,onComplete:fe,onSkip:ie})]})}if(he==="cooldown"){const Ce=localStorage.getItem("goodlift_stretch_prefs"),Me=Ce?JSON.parse(Ce):{defaultCooldownDuration:5};return r.jsxs("div",{className:"screen",style:{paddingBottom:"100px",padding:"0.5rem",maxWidth:"100vw",boxSizing:"border-box"},children:[r.jsx(L,{sx:{mb:1.5,px:{xs:.5,sm:0}},children:r.jsx(I,{variant:"h6",sx:{fontWeight:600,textAlign:"center",mb:1},children:"Cool-Down Phase"})}),r.jsx(wg,{type:"cooldown",workoutType:ve,defaultDuration:Me.defaultCooldownDuration||5,onComplete:Ve,onSkip:Pe})]})}return he==="complete"?r.jsx("div",{className:"screen",style:{paddingBottom:"100px",padding:"2rem",maxWidth:"100vw",boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"60vh"},children:r.jsxs(Ke.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},style:{textAlign:"center"},children:[r.jsx(N2,{sx:{fontSize:80,color:"primary.main",mb:2}}),r.jsx(I,{variant:"h4",sx:{fontWeight:600,mb:2},children:"Workout Complete! "}),r.jsxs(I,{variant:"body1",color:"text.secondary",sx:{mb:3},children:["Great job! You've completed your workout",!ae&&!ke?" including warmup and cooldown phases":ae?ke?"":" including cooldown phase":" including warmup phase","."]}),r.jsx(Te,{variant:"contained",size:"large",onClick:Se,sx:{mt:2},children:"Finish Workout"})]})}):r.jsxs("div",{className:"screen",style:{paddingBottom:"100px",padding:"0.5rem",maxWidth:"100vw",boxSizing:"border-box"},children:[r.jsxs(L,{sx:{mb:1.5,px:{xs:.5,sm:0}},children:[r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:.5,gap:1},children:[r.jsx(I,{variant:"body1",sx:{fontWeight:600,fontSize:{xs:"0.9rem",sm:"1.25rem"}},children:MT(g)}),r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:{xs:.5,sm:1}},children:[r.jsx(Ue,{onClick:De,disabled:k,size:"small",sx:{color:k?"warning.main":"action.active","&:hover":{color:"warning.main"},p:{xs:.5,sm:1}},"aria-label":"Save to favorites",children:k?r.jsx(qi,{sx:{fontSize:{xs:20,sm:24}}}):r.jsx(AC,{sx:{fontSize:{xs:20,sm:24}}})}),r.jsxs(I,{variant:"body1",sx:{fontWeight:600,fontSize:{xs:"0.9rem",sm:"1.25rem"}},children:[u+1,"/",ge.length]})]})]}),r.jsx($i,{variant:"determinate",value:u/ge.length*100,sx:{height:{xs:6,sm:8},borderRadius:4,bgcolor:"rgba(138, 190, 185, 0.2)","& .MuiLinearProgress-bar":{bgcolor:"primary.main",borderRadius:4}}})]}),r.jsx("div",{className:"exercise-card-container",children:r.jsx(Xo,{mode:"wait",children:r.jsx(Ke.form,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},onSubmit:Ie,children:r.jsxs(Ke.div,{className:"exercise-card",initial:{scale:.95},animate:{scale:1},transition:{duration:.3},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1,mb:2},children:[r.jsx(I,{variant:"h3",component:"h2",sx:{fontWeight:700,fontSize:{xs:"1.75rem",sm:"2.5rem"},color:"primary.main",textAlign:"center"},children:Le}),r.jsx(Ue,{component:"a",href:`https://www.google.com/search?q=${encodeURIComponent(Le+" form")}`,target:"_blank",rel:"noopener noreferrer",sx:{color:"primary.main",minWidth:"44px",minHeight:"44px","&:hover":{backgroundColor:"rgba(19, 70, 134, 0.08)"}},"aria-label":`Search for ${Le} form guide`,children:r.jsx(L2,{sx:{fontSize:{xs:28,sm:36}}})})]}),r.jsx(L,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1,my:2},children:r.jsx(ct,{label:`Set ${Ee.setNumber} of ${l}`,color:"primary",sx:{fontWeight:600,fontSize:"1rem",minHeight:"44px",px:2}})}),(v!==null||S!==null)&&r.jsxs(Ke.p,{className:"prev-weight",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.2},children:["Target: ",v??""," lbs  ",S??""," reps"]}),r.jsx(Xo,{children:R&&P&&r.jsx(Ke.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:r.jsx(At,{severity:P.type==="excellent"?"success":"info",icon:r.jsx(Pa,{}),action:P.suggestedWeight!==parseFloat(W)&&r.jsx(Te,{color:"inherit",size:"small",onClick:ft,sx:{minHeight:"44px"},children:"Apply"}),sx:{mb:2,minHeight:"44px"},children:P.message})})}),r.jsxs("div",{className:"input-row",children:[r.jsxs("div",{className:"input-group",children:[r.jsxs("label",{htmlFor:"weight-select",children:["Weight (lbs)",je&&" (N/A)"]}),r.jsxs(L,{sx:{display:"flex",gap:1,alignItems:"center"},children:[r.jsx(Ue,{onClick:()=>Ne(-2.5),disabled:je,size:"large",sx:{bgcolor:je?"action.disabledBackground":"action.hover",minWidth:"44px",minHeight:"44px","&:hover":{bgcolor:je?"action.disabledBackground":"action.selected"}},children:r.jsx(Ra,{})}),r.jsx("input",{id:"weight-select",type:"tel",inputMode:"decimal",pattern:"[0-9]*([.,][0-9]+)?",step:"2.5",min:"0",max:"500",className:"exercise-input",value:W,onChange:Ce=>U(Ce.target.value),placeholder:"",disabled:je,"aria-label":"Weight in pounds",onFocus:Ce=>{Ce.target.select();const We=Ce.target.getBoundingClientRect().bottom,Ge=window.innerHeight*.55;We>Ge&&setTimeout(()=>{Ce.target.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{window.scrollBy({top:-80,behavior:"smooth"})},100)},300)},style:{width:"100%",padding:"12px",minHeight:"44px",borderRadius:"8px",border:"2px solid var(--color-border)",fontSize:"1.1rem",fontFamily:"var(--font-body)",backgroundColor:je?"var(--color-disabled)":"var(--color-surface)",color:je?"var(--color-text-disabled)":"var(--color-text)",cursor:je?"not-allowed":"text",opacity:je?.6:1}}),r.jsx(Ue,{onClick:()=>Ne(2.5),disabled:je,size:"large",sx:{bgcolor:je?"action.disabledBackground":"action.hover",minWidth:"44px",minHeight:"44px","&:hover":{bgcolor:je?"action.disabledBackground":"action.selected"}},children:r.jsx(Xs,{})})]})]}),r.jsxs("div",{className:"input-group",children:[r.jsx("label",{htmlFor:"reps-select",children:"Reps"}),r.jsxs(L,{sx:{display:"flex",gap:1,alignItems:"center"},children:[r.jsx(Ue,{onClick:()=>Fe(-1),size:"large",sx:{bgcolor:"action.hover",minWidth:"44px",minHeight:"44px","&:hover":{bgcolor:"action.selected"}},children:r.jsx(Ra,{})}),r.jsx("input",{id:"reps-select",type:"number",inputMode:"numeric",step:"1",min:"1",max:"20",className:"exercise-input",value:V,onChange:Ce=>z(Ce.target.value),placeholder:"","aria-label":"Repetitions",onFocus:Ce=>{Ce.target.select();const We=Ce.target.getBoundingClientRect().bottom,Ge=window.innerHeight*.55;We>Ge&&setTimeout(()=>{Ce.target.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{window.scrollBy({top:-80,behavior:"smooth"})},100)},300)},style:{width:"100%",padding:"12px",minHeight:"44px",borderRadius:"8px",border:"2px solid var(--color-border)",fontSize:"1.1rem",fontFamily:"var(--font-body)",backgroundColor:"var(--color-surface)",color:"var(--color-text)"}}),r.jsx(Ue,{onClick:()=>Fe(1),size:"large",sx:{bgcolor:"action.hover",minWidth:"44px",minHeight:"44px","&:hover":{bgcolor:"action.selected"}},children:r.jsx(Xs,{})})]})]})]}),r.jsxs(L,{sx:{display:"flex",gap:1,mt:2,mb:2},children:[r.jsx(Te,{variant:"outlined",size:"small",startIcon:r.jsx(fh,{}),onClick:Ye,sx:{flex:1,minHeight:"44px"},children:"Skip Exercise"}),r.jsx(Te,{variant:"outlined",size:"small",startIcon:r.jsx(z2,{}),onClick:Xe,sx:{flex:1,minHeight:"44px"},children:"Swap Exercise"})]}),r.jsxs("div",{className:"workout-nav-buttons",children:[u>0&&r.jsxs(Ke.button,{type:"button",className:"back-btn",onClick:G,whileHover:{scale:1.02},whileTap:{scale:.98},style:{minHeight:"44px"},children:[r.jsx(Ig,{sx:{fontSize:18,mr:.5}})," Back"]}),r.jsxs(Ke.button,{type:"submit",className:"next-btn",whileHover:{scale:1.02},whileTap:{scale:.98},style:{minHeight:"44px"},children:["Next ",r.jsx(V2,{sx:{fontSize:18,ml:.5}})]})]})]})},u)})}),r.jsxs("div",{className:"workout-controls",children:[r.jsxs(Ke.button,{className:"exit-workout-btn",onClick:Ae,whileHover:{scale:1.05},whileTap:{scale:.95},style:{background:"rgb(237, 63, 39)",marginBottom:"12px",color:"white",minHeight:"44px"},children:[r.jsx(B2,{sx:{fontSize:18,mr:.5}})," End Workout"]}),h.length>0&&r.jsx(Ke.button,{className:"partial-complete-btn",onClick:we,whileHover:{scale:1.05},whileTap:{scale:.95},style:{background:"rgb(254, 178, 26)",color:"rgb(19, 70, 134)",minHeight:"44px"},children:"End and Save"})]}),r.jsx(Hs,{open:j,autoHideDuration:3e3,onClose:()=>D(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(At,{severity:"success",onClose:()=>D(!1),children:"Workout saved to favorites!"})})]})};dE.propTypes={workoutPlan:E.array.isRequired,onComplete:E.func.isRequired,onExit:E.func.isRequired,supersetConfig:E.arrayOf(E.number),setsPerSuperset:E.number};const zh=({value:e,onChange:t,availableExercises:s,label:a="Exercise",placeholder:l="Type to search and swap exercise...",size:u="small",fullWidth:d=!0,disabled:h=!1,sx:p={}})=>{const g=y=>{if(!y)return s;const v=y.toLowerCase().split(" ").filter(b=>b.length>0);return s.filter(b=>{const S=[b["Exercise Name"],b["Primary Muscle"],b["Secondary Muscles"],b.Equipment,b["Movement Pattern"],b.Difficulty,b["Workout Type"]].join(" ").toLowerCase();return v.every(T=>S.includes(T))})};return r.jsx(jC,{fullWidth:d,size:u,options:s,value:e,onChange:t,disabled:h,getOptionLabel:y=>y["Exercise Name"]||y.name||"",filterOptions:(y,v)=>g(v.inputValue),isOptionEqualToValue:(y,v)=>(y["Exercise Name"]||y.name)===(v["Exercise Name"]||v.name),renderInput:y=>r.jsx(dt,{...y,label:a,placeholder:l}),renderOption:(y,v)=>{const{key:b,...S}=y;return r.jsx("li",{...S,children:r.jsxs(L,{children:[r.jsx(I,{variant:"body2",children:v["Exercise Name"]}),r.jsxs(I,{variant:"caption",color:"text.secondary",children:[v["Primary Muscle"],"  ",v.Equipment]})]})},b)},noOptionsText:"No exercises found. Try different search terms.",sx:p})};zh.propTypes={value:E.object,onChange:E.func.isRequired,availableExercises:E.array.isRequired,label:E.string,placeholder:E.string,size:E.string,fullWidth:E.bool,disabled:E.bool,sx:E.object};const vx=x.memo(({workout:e,workoutType:t,onStart:s,onCancel:a,onRandomizeExercise:l,isCustomizeMode:u=!1,supersetConfig:d=[2,2,2,2],setsPerSuperset:h=3})=>{const[p,g]=x.useState({}),[y,v]=x.useState(!0),[b,S]=x.useState(!1),[T,k]=x.useState(!1),[w,j]=x.useState({}),[D,A]=x.useState({open:!1,message:"",severity:"info"}),[_,P]=x.useState([]),[M,R]=x.useState(e),[N,W]=x.useState(h);x.useEffect(()=>{(async()=>{try{const Z=await(await fetch(Oh)).json();P(Z)}catch(ee){console.error("Error loading exercises:",ee),P([])}})()},[]),x.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),(async()=>{const ee={};if(u){R(e),g({}),v(!1);return}const Z=e.filter(ae=>ae!==null);for(const ae of Z){const ce=ae["Exercise Name"],[se,oe]=await Promise.all([zo(ce),Cr(ce)]);ee[ce]={weight:se??"",targetReps:oe??""}}g(ee),R(e),v(!1)})()},[e,u,d]),x.useEffect(()=>{const J=async()=>{const ee=Object.keys(p),ae=e.filter(ce=>ce!==null).filter(ce=>!ee.includes(ce["Exercise Name"]));if(ae.length>0){const ce={...p};for(const se of ae){const oe=se["Exercise Name"];if(!w[oe]){const[ke,X]=await Promise.all([zo(oe),Cr(oe)]);ce[oe]={weight:ke??"",targetReps:X??""}}}g(ce)}};!y&&Object.keys(p).length>0&&J()},[e,y]);const U=(J,ee)=>{if(ee===""||/^\d*\.?\d*$/.test(ee)){const Z=ee===""?"":parseFloat(ee);g(ae=>({...ae,[J]:{...ae[J],weight:Z}})),j(ae=>({...ae,[J]:{...ae[J],weightCustomized:!0}}))}},V=(J,ee)=>{if(ee===""||ee===null||ee===void 0)return;const Z=parseFloat(ee);if(!isNaN(Z)&&Z>0){const ae=Math.round(Z/2.5)*2.5;ae!==Z&&(g(ce=>({...ce,[J]:{...ce[J],weight:ae}})),A({open:!0,message:`Weight adjusted to ${ae} lbs (nearest 2.5 lb increment)`,severity:"info"}))}},z=(J,ee)=>{if(ee===""||/^\d+$/.test(ee)){const Z=ee===""?"":parseInt(ee,10);g(ae=>({...ae,[J]:{...ae[J],targetReps:Z}})),j(ae=>({...ae,[J]:{...ae[J],repsCustomized:!0}}))}},de=(J,ee)=>{if(ee===""||ee===null||ee===void 0)return;const Z=parseInt(ee,10);(isNaN(Z)||Z<1)&&g(ae=>({...ae,[J]:{...ae[J],targetReps:""}}))},F=x.useCallback((J,ee)=>{l&&l(J,ee)},[l]),K=x.useCallback((J,ee)=>{if(!ee)return;R(ae=>{const ce=[...ae];return ce[J]=ee,ce});const Z=ee["Exercise Name"];w[Z]||zo(Z).then(ae=>{Cr(Z).then(ce=>{g(se=>({...se,[Z]:{weight:ae??"",targetReps:ce??""}}))})})},[w]),B=async()=>{if(u&&M.some(ee=>ee===null)){A({open:!0,message:"Please select exercises for all slots before starting",severity:"warning"});return}for(const[J,ee]of Object.entries(p)){const Z=ee.weight===""?null:ee.weight,ae=ee.targetReps===""?null:ee.targetReps;await Bi(J,Z),await Kd(J,ae)}s(M,d,N)},q=()=>{try{const J=M.filter(ee=>ee!==null);ey({name:`${t.charAt(0).toUpperCase()+t.slice(1)} Body Workout`,type:t,exercises:J}),S(!0),k(!0)}catch(J){console.error("Error saving to favorites:",J)}},le=[];let he=0;for(const J of d){const ee=[];for(let Z=0;Z<J&&he<M.length;Z++)ee.push(M[he]),he++;ee.length>0&&le.push(ee)}return y?r.jsx(L,{sx:{textAlign:"center",py:8,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:r.jsx(Ke.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:r.jsxs(I,{variant:"h5",sx:{color:"text.secondary",fontWeight:500},children:["Loading",r.jsx(Ke.span,{initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:"..."})]})})}):r.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"screen",style:{maxWidth:"900px",margin:"0 auto",padding:"1rem",width:"100%",boxSizing:"border-box",overflowX:"hidden"},children:[r.jsxs(L,{sx:{mb:{xs:2,sm:4},textAlign:"center",position:"relative",px:{xs:.5,sm:0}},children:[r.jsx(Ue,{onClick:q,disabled:b,size:"small",sx:{position:"absolute",top:0,right:{xs:0,sm:0},color:b?"warning.main":"action.active",minWidth:"44px",minHeight:"44px","&:hover":{color:"warning.main"},p:{xs:.5,sm:1}},"aria-label":"Save to favorites",children:b?r.jsx(qi,{sx:{fontSize:{xs:24,sm:32}}}):r.jsx(SS,{sx:{fontSize:{xs:24,sm:32}}})}),r.jsx(Ke.div,{initial:{scale:.8},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},children:r.jsx(Jt,{sx:{fontSize:{xs:48,sm:60},color:"primary.main",mb:{xs:1,sm:2}}})}),r.jsx(I,{variant:"h3",component:"h1",gutterBottom:!0,sx:{fontWeight:700,color:"primary.main",fontSize:{xs:"1.5rem",sm:"3rem"}},children:u?"Customize Your Workout":`Your ${t.charAt(0).toUpperCase()+t.slice(1)} Body Workout`}),r.jsxs(I,{variant:"subtitle1",color:"text.secondary",sx:{mb:1,fontSize:{xs:"0.875rem",sm:"1rem"}},children:[le.length," Supersets  ",M.filter(J=>J!==null).length," Exercises  ",N," Sets Each"]}),r.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1,mb:1},children:[r.jsx(I,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Sets per superset:"}),r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:.5},children:[r.jsx(Ue,{size:"small",onClick:()=>W(J=>Math.max(1,J-1)),disabled:N<=1,sx:{minWidth:"32px",minHeight:"32px",bgcolor:"action.hover","&:hover":{bgcolor:"action.selected"}},children:r.jsx(Ra,{fontSize:"small"})}),r.jsx(I,{variant:"h6",sx:{fontWeight:700,color:"primary.main",minWidth:"32px",textAlign:"center",fontSize:{xs:"1rem",sm:"1.25rem"}},children:N}),r.jsx(Ue,{size:"small",onClick:()=>W(J=>Math.min(10,J+1)),disabled:N>=10,sx:{minWidth:"32px",minHeight:"32px",bgcolor:"action.hover","&:hover":{bgcolor:"action.selected"}},children:r.jsx(Xs,{fontSize:"small"})})]})]}),r.jsx(I,{variant:"body2",color:"primary.main",sx:{fontWeight:600,fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:u?"Select exercises and set your target weight and reps for each":"Set your starting target weight and target reps for each exercise"})]}),r.jsx(Oe,{spacing:{xs:2,sm:3},sx:{px:{xs:.5,sm:0}},children:le.map((J,ee)=>r.jsx(Ke.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*ee,duration:.4},children:r.jsx(Je,{sx:{background:"linear-gradient(135deg, rgba(138, 190, 185, 0.1), rgba(193, 120, 90, 0.1))",border:"2px solid",borderColor:"primary.main",borderRadius:3,transition:"all 0.3s ease",maxWidth:"100%",boxSizing:"border-box","&:hover":{transform:"translateY(-4px)",boxShadow:"0 12px 24px rgba(48, 86, 105, 0.2)"}},children:r.jsxs(ot,{sx:{p:{xs:1.5,sm:2},"&:last-child":{pb:{xs:1.5,sm:2}}},children:[r.jsx(I,{variant:"h6",gutterBottom:!0,sx:{color:"secondary.main",fontWeight:600,mb:1.5,display:"flex",alignItems:"center",gap:1},children:r.jsx(ct,{label:`Superset ${ee+1}`,size:"small",sx:{bgcolor:"secondary.main",color:"white",fontWeight:600}})}),r.jsx(Oe,{spacing:{xs:1,sm:1.5},children:J.map((Z,ae)=>{const ce=Z?Z["Exercise Name"]:null,se=ce?p[ce]||{weight:"",targetReps:""}:{weight:"",targetReps:""},oe=le.slice(0,ee).reduce((X,ve)=>X+ve.length,0)+ae,ke=String.fromCharCode(65+ae);return r.jsxs(L,{sx:{p:{xs:1,sm:1.5},bgcolor:"background.paper",borderRadius:2,transition:"all 0.2s ease"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"flex-start",gap:{xs:1,sm:1.5},mb:{xs:1,sm:1.5}},children:[r.jsx(I,{sx:{fontSize:{xs:"1.25rem",sm:"1.75rem"},color:"primary.main",fontWeight:700,width:{xs:"28px",sm:"36px"},textAlign:"center",flexShrink:0},children:ke}),r.jsx(L,{sx:{flex:1,minWidth:0},children:r.jsx(L,{sx:{mb:.5},children:r.jsx(zh,{value:Z,onChange:(X,ve)=>{ve&&K(oe,ve)},availableExercises:_,label:"Exercise",placeholder:u?"Type to search and select...":"Type to search and swap...",disabled:_.length===0})})})]}),Z&&r.jsxs(r.Fragment,{children:[r.jsxs(Oe,{direction:"row",spacing:{xs:1,sm:1.5},sx:{pl:{xs:3.5,sm:5.5},flexWrap:{xs:"wrap",sm:"nowrap"},mb:{xs:1,sm:1.5}},children:[r.jsx(dt,{type:"tel",inputMode:"decimal",value:se.weight===""?"":se.weight,onChange:X=>U(ce,X.target.value),onBlur:X=>V(ce,X.target.value),onFocus:X=>X.target.select(),placeholder:Z.Equipment?.toLowerCase()==="bodyweight"?"N/A":"Weight (lbs)",size:"small",disabled:Z.Equipment?.toLowerCase()==="bodyweight",inputProps:{min:0,max:500,step:2.5,pattern:"[0-9]*([.,][0-9]+)?","aria-label":`Target weight in pounds for ${ce}`},sx:{minWidth:{xs:100,sm:120},flex:{xs:"1 1 45%",sm:"none"},"& .MuiInputBase-input.Mui-disabled":{WebkitTextFillColor:"rgba(0, 0, 0, 0.38)",backgroundColor:"rgba(0, 0, 0, 0.04)"}}}),r.jsx(dt,{type:"tel",inputMode:"numeric",value:se.targetReps===""?"":se.targetReps,onChange:X=>z(ce,X.target.value),onBlur:X=>de(ce,X.target.value),onFocus:X=>X.target.select(),placeholder:"Reps",size:"small",inputProps:{min:1,max:20,step:1,pattern:"\\d*","aria-label":`Target repetitions for ${ce}`},sx:{minWidth:{xs:100,sm:120},flex:{xs:"1 1 45%",sm:"none"}}})]}),r.jsxs(L,{sx:{pl:{xs:3.5,sm:5.5},display:"flex",alignItems:"center",gap:1,flexWrap:"wrap"},children:[r.jsx(ct,{label:Z["Primary Muscle"],size:"small",variant:"outlined",sx:{borderColor:"primary.main",color:"primary.main",fontSize:{xs:"0.65rem",sm:"0.75rem"}}}),r.jsx(ct,{label:Z.Equipment,size:"small",variant:"outlined",sx:{borderColor:"text.secondary",color:"text.secondary",fontSize:{xs:"0.65rem",sm:"0.75rem"}}}),l&&!u&&r.jsx(Ue,{size:"small",onClick:X=>{X.stopPropagation(),F(Z,oe)},sx:{color:"primary.main",minWidth:"36px",minHeight:"36px","&:hover":{backgroundColor:"rgba(19, 70, 134, 0.08)"}},"aria-label":`Randomize ${ce}`,children:r.jsx(F2,{fontSize:"small"})})]})]})]},ae)})})]})})},ee))}),r.jsx(Ke.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:r.jsxs(Oe,{direction:"row",spacing:2,sx:{mt:{xs:3,sm:4},px:{xs:.5,sm:0}},justifyContent:"center",children:[r.jsx(Te,{variant:"contained",size:"large",onClick:a,sx:{borderRadius:2,minWidth:{xs:"60px",sm:"80px"},px:{xs:1,sm:2},py:1.5,fontSize:{xs:"1.2rem",sm:"1.5rem"},fontWeight:600,bgcolor:"rgb(237, 63, 39)",color:"white","&:hover":{bgcolor:"rgb(200, 50, 30)"}},children:""}),r.jsx(Te,{variant:"contained",size:"large",startIcon:b?r.jsx(qi,{}):r.jsx(SS,{}),onClick:q,disabled:b,sx:{borderRadius:2,flex:1,maxWidth:{xs:"130px",sm:"150px"},px:{xs:2,sm:3},py:1.5,fontSize:{xs:"0.9rem",sm:"1.1rem"},fontWeight:600,bgcolor:b?"rgb(76, 175, 80)":"rgb(254, 178, 26)",color:"white","&:hover":{bgcolor:b?"rgb(56, 142, 60)":"rgb(245, 158, 11)"},"&:disabled":{bgcolor:"rgb(76, 175, 80)",color:"white",opacity:.8}},children:b?"Saved!":"Save"}),r.jsx(Te,{variant:"contained",size:"large",startIcon:r.jsx(Qs,{}),onClick:B,sx:{borderRadius:2,flex:1,maxWidth:{xs:"130px",sm:"150px"},px:{xs:2,sm:3},py:1.5,fontSize:{xs:"0.9rem",sm:"1.1rem"},fontWeight:600,bgcolor:"rgb(19, 70, 134)",color:"white","&:hover":{bgcolor:"rgb(15, 56, 107)",transform:"translateY(-2px)",boxShadow:"0 8px 16px rgba(19, 70, 134, 0.3)"},transition:"all 0.3s ease"},children:"Begin"})]})}),r.jsx(Hs,{open:T,autoHideDuration:3e3,onClose:()=>k(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(At,{severity:"success",onClose:()=>k(!1),children:"Workout saved to favorites!"})}),r.jsx(Hs,{open:D.open,autoHideDuration:4e3,onClose:()=>A({...D,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(At,{severity:D.severity,onClose:()=>A({...D,open:!1}),children:D.message})})]})});vx.displayName="WorkoutPreview";vx.propTypes={workout:E.array.isRequired,workoutType:E.string.isRequired,onStart:E.func.isRequired,onCancel:E.func.isRequired,onRandomizeExercise:E.func,equipmentFilter:E.oneOfType([E.string,E.array]),isCustomizeMode:E.bool,supersetConfig:E.arrayOf(E.number),setsPerSuperset:E.number};const o7=(e=[])=>{if(!e||e.length===0)return{currentStreak:0,longestStreak:0};const t=[...e].sort((p,g)=>new Date(g.date)-new Date(p.date)),s=[...new Set(t.map(p=>{const g=new Date(p.date);return`${g.getFullYear()}-${String(g.getMonth()+1).padStart(2,"0")}-${String(g.getDate()).padStart(2,"0")}`}))],a=new Date;a.setHours(0,0,0,0);let l=0,u=0,d=0,h=new Date(a);for(let p=0;p<90;p++){const g=`${h.getFullYear()}-${String(h.getMonth()+1).padStart(2,"0")}-${String(h.getDate()).padStart(2,"0")}`;if(s.includes(g)){if(d++,l===0){const y=new Date(t[0].date);y.setHours(0,0,0,0),Math.floor((a-y)/(1e3*60*60*24))<=2&&(l=d)}u=Math.max(u,d)}else if(p>0&&d>0){const y=new Date(h);y.setDate(y.getDate()-1);const v=`${y.getFullYear()}-${String(y.getMonth()+1).padStart(2,"0")}-${String(y.getDate()).padStart(2,"0")}`;if(!s.includes(v)){if(l===0)break;d=0}}h.setDate(h.getDate()-1)}return{currentStreak:l,longestStreak:u}},hE=(e=[])=>{const t={};return e.forEach(s=>{s.exercises&&Object.entries(s.exercises).forEach(([a,l])=>{!l.sets||l.sets.length===0||l.sets.forEach(u=>{const d=u.weight||0,h=u.reps||0;if(d===0&&h===0)return;const p=d>0&&h>0?d*(1+h/30):0;(!t[a]||d>(t[a].maxWeight||0))&&(t[a]||(t[a]={}),d>(t[a].maxWeight||0)&&(t[a].maxWeight=d,t[a].maxWeightDate=s.date,t[a].maxWeightReps=h)),(!t[a]||h>(t[a].maxReps||0))&&(t[a]||(t[a]={}),h>(t[a].maxReps||0)&&(t[a].maxReps=h,t[a].maxRepsDate=s.date,t[a].maxRepsWeight=d)),(!t[a]||p>(t[a].estimatedOneRepMax||0))&&(t[a]||(t[a]={}),p>(t[a].estimatedOneRepMax||0)&&(t[a].estimatedOneRepMax=Math.round(p*10)/10,t[a].oneRepMaxDate=s.date))})})}),t},fE=(e,t={})=>{const s=[];if(!e||!e.exercises)return s;Object.entries(e.exercises).forEach(([l,u])=>{if(!u.sets||u.sets.length===0)return;const d=t[l]||{};u.sets.forEach(h=>{const p=h.weight||0,g=h.reps||0;if(p===0&&g===0)return;p>0&&p>(d.maxWeight||0)&&s.push({exerciseName:l,type:"weight",value:p,previousValue:d.maxWeight||0,reps:g}),g>0&&g>(d.maxReps||0)&&s.push({exerciseName:l,type:"reps",value:g,previousValue:d.maxReps||0,weight:p});const y=p>0&&g>0?p*(1+g/30):0;y>(d.estimatedOneRepMax||0)&&s.push({exerciseName:l,type:"oneRepMax",value:Math.round(y*10)/10,previousValue:d.estimatedOneRepMax||0})})});const a={};return s.forEach(l=>{const u=`${l.exerciseName}-${l.type}`;(!a[u]||l.value>a[u].value)&&(a[u]=l)}),Object.values(a)},pE=e=>[{days:7,badge:" Week Warrior",description:"7 day streak!"},{days:30,badge:" Monthly Master",description:"30 day streak!"},{days:90,badge:" Quarter Champion",description:"90 day streak!"},{days:180,badge:" Half Year Hero",description:"180 day streak!"},{days:365,badge:" Year Legend",description:"365 day streak!"}].filter(s=>e>=s.days),l7=Object.freeze(Object.defineProperty({__proto__:null,calculateStreak:o7,detectNewPRs:fE,getPersonalRecords:hE,getStreakMilestones:pE},Symbol.toStringTag,{value:"Module"})),mE=({open:e,onClose:t,prData:s})=>{if(!s)return null;const a=()=>{const{exerciseName:l,type:u,value:d,previousValue:h}=s;return u==="weight"?`New ${l} PR!  ${d} lbs (previous: ${h} lbs)`:u==="reps"?`New ${l} Rep PR!  ${d} reps (previous: ${h} reps)`:u==="oneRepMax"?`New ${l} 1RM!  ${d} lbs (previous: ${h} lbs)`:`New ${l} PR! `};return r.jsx(Hs,{open:e,autoHideDuration:4e3,onClose:t,anchorOrigin:{vertical:"top",horizontal:"center"},TransitionComponent:MC,children:r.jsx(At,{onClose:t,severity:"success",variant:"filled",sx:{width:"100%",fontSize:"1rem","& .MuiAlert-icon":{fontSize:"2rem"}},icon:r.jsx($o,{}),children:a()})})};mE.propTypes={open:E.bool.isRequired,onClose:E.func.isRequired,prData:E.shape({exerciseName:E.string.isRequired,type:E.string.isRequired,value:E.number.isRequired,previousValue:E.number})};E.bool.isRequired,E.func.isRequired,E.shape({days:E.number.isRequired,badge:E.string.isRequired,description:E.string.isRequired});E.bool.isRequired,E.func.isRequired,E.shape({workoutsCompleted:E.number,totalVolume:E.number,totalTime:E.number,prsAchieved:E.number,topExercises:E.arrayOf(E.shape({name:E.string,count:E.number})),adherence:E.number});E.array,E.array,E.object,E.func,E.func,E.func;const Sx=x.memo(({workoutData:e,workoutPlan:t,onFinish:s,onExportCSV:a})=>{const[l,u]=x.useState(!1),[d,h]=x.useState(!1),[p,g]=x.useState([]),[y,v]=x.useState(0),[b,S]=x.useState(!1),[T,k]=x.useState(!1),[w,j]=x.useState(""),{isAutoAssignWeek:D,assignWorkoutToDay:A,weeklySchedule:_}=Zi();x.useEffect(()=>{(async()=>{try{const W=await ei(),U=hE(W.slice(1)),V=fE(e,U);V.length>0&&g(V)}catch(W){console.error("Error checking for PRs:",W)}})()},[e]),x.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),x.useEffect(()=>{(async()=>{if(D()&&e&&t)try{const W=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date().getDay()],U=Bo(e),V={sessionType:U,sessionName:`${U.charAt(0).toUpperCase()+U.slice(1)} Body Workout`,exercises:t,date:new Date().toISOString()};await A(W,V),j(`Automatically assigned to ${W}`),k(!0)}catch(W){console.error("Error auto-assigning workout:",W)}})()},[D,e,t,A]);const P=()=>{try{if(!t||t.length===0){alert("Cannot save workout: No exercise data available");return}const N=Bo(e);ey({name:`${N.charAt(0).toUpperCase()+N.slice(1)} Body Workout`,type:N,equipment:"all",exercises:t}),u(!0),h(!0)}catch(N){console.error("Error saving to favorites:",N),alert("Failed to save workout to favorites")}},M=()=>{S(!0)},R=async(N,W)=>{try{const U=Bo(e),V={sessionType:U,sessionName:`${U.charAt(0).toUpperCase()+U.slice(1)} Body Workout`,exercises:t,date:new Date().toISOString()};await A(N,V),j(`Workout assigned to ${N}`),k(!0)}catch(U){console.error("Error assigning workout:",U),j("Failed to assign workout"),k(!0)}};return r.jsxs(Ke.div,{className:"screen completion-screen",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{padding:"1rem",maxWidth:"900px",margin:"0 auto"},children:[r.jsxs(Ke.div,{className:"completion-header",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,type:"spring",stiffness:200},children:[r.jsx(L,{sx:{position:"relative"},children:r.jsx(Ue,{onClick:P,disabled:l,sx:{position:"absolute",top:0,right:0,color:l?"warning.main":"white","&:hover":{color:"warning.main"}},"aria-label":"Save to favorites",children:l?r.jsx(qi,{sx:{fontSize:32}}):r.jsx(AC,{sx:{fontSize:32}})})}),r.jsx(Ke.div,{initial:{y:-20},animate:{y:[0,-10,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut"},children:r.jsx("img",{src:"/goodlift/dancing-icon.svg",alt:"Celebration",style:{width:"120px",height:"120px",marginBottom:"1rem"}})}),r.jsx("h1",{children:"Workout Complete!"}),r.jsxs("p",{className:"completion-time",children:["Total Time: ",r.jsx("strong",{children:MT(e.duration)})]})]}),r.jsxs("div",{className:"workout-summary-container",children:[r.jsx(I,{variant:"h4",component:"h2",sx:{fontWeight:700,mb:3,textAlign:"center",color:"text.primary"},children:"Workout Summary"}),r.jsx(Oe,{spacing:2,children:Object.entries(e.exercises).map(([N,W],U)=>r.jsx(Ke.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3+U*.1},children:r.jsx(Je,{sx:{borderRadius:3,transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 24px rgba(48, 86, 105, 0.15)"}},children:r.jsxs(ot,{children:[r.jsx(I,{variant:"h6",component:"h3",sx:{color:"primary.main",fontWeight:600,mb:2,pb:1,borderBottom:"2px solid",borderColor:"rgba(138, 190, 185, 0.2)"},children:N}),r.jsx(Oe,{spacing:1,children:W.sets.map((V,z)=>r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:1.5,bgcolor:"rgba(183, 229, 205, 0.3)",borderRadius:2,transition:"all 0.2s ease","&:hover":{bgcolor:"primary.main",color:"white","& .MuiChip-root":{bgcolor:"white",color:"primary.main"}}},children:[r.jsx(ct,{label:`Set ${V.set}`,size:"small",sx:{fontWeight:600,minWidth:60}}),r.jsxs(I,{sx:{fontWeight:600,fontSize:"1rem"},children:[V.weight," lbs  ",V.reps," reps"]})]},z))})]})})},N))})]}),r.jsx(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:r.jsxs(Oe,{direction:{xs:"column",sm:"row"},spacing:2,sx:{mt:4},children:[!D()&&r.jsx(Te,{variant:"outlined",size:"large",startIcon:r.jsx(Ec,{}),onClick:M,sx:{flex:1,borderRadius:2,py:1.5,fontSize:"1rem",fontWeight:600,borderColor:"info.main",color:"info.main","&:hover":{borderColor:"info.dark",bgcolor:"rgba(33, 150, 243, 0.1)"}},children:"Assign to Day"}),r.jsx(Te,{variant:"outlined",size:"large",startIcon:r.jsx(PC,{}),onClick:a,sx:{flex:1,borderRadius:2,py:1.5,fontSize:"1rem",fontWeight:600,borderColor:"secondary.main",color:"secondary.main","&:hover":{borderColor:"secondary.dark",bgcolor:"rgba(193, 120, 90, 0.1)"}},children:"Download CSV"}),r.jsx(Te,{variant:"contained",size:"large",startIcon:r.jsx(H2,{}),onClick:s,sx:{flex:1,borderRadius:2,py:1.5,fontSize:"1rem",fontWeight:600,bgcolor:"primary.main","&:hover":{bgcolor:"primary.dark"}},children:"Finish"})]})}),r.jsx(Hs,{open:d,autoHideDuration:3e3,onClose:()=>h(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(At,{severity:"success",onClose:()=>h(!1),children:"Workout saved to favorites!"})}),r.jsx(Hs,{open:T,autoHideDuration:3e3,onClose:()=>k(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(At,{severity:"success",onClose:()=>k(!1),children:w})}),r.jsx(yx,{open:b,onClose:()=>S(!1),onAssign:R,workoutData:e,currentSchedule:_}),p.length>0&&y<p.length&&r.jsx(mE,{open:!0,onClose:()=>v(N=>N+1),prData:p[y]})]})});Sx.displayName="CompletionScreen";Sx.propTypes={workoutData:E.object.isRequired,workoutPlan:E.array,onFinish:E.func.isRequired,onExportCSV:E.func.isRequired};const ri=[{id:"first-workout",name:"First Steps",description:"Complete your first workout",icon:"",tier:"bronze",condition:{type:"workoutCount",value:1}},{id:"dedicated-5",name:"Getting Started",description:"Complete 5 workouts",icon:"",tier:"bronze",condition:{type:"workoutCount",value:5}},{id:"dedicated-10",name:"Committed",description:"Complete 10 workouts",icon:"",tier:"silver",condition:{type:"workoutCount",value:10}},{id:"dedicated-25",name:"Athlete",description:"Complete 25 workouts",icon:"",tier:"silver",condition:{type:"workoutCount",value:25}},{id:"dedicated-50",name:"Beast Mode",description:"Complete 50 workouts",icon:"",tier:"gold",condition:{type:"workoutCount",value:50}},{id:"dedicated-100",name:"Centurion",description:"Complete 100 workouts",icon:"",tier:"gold",condition:{type:"workoutCount",value:100}},{id:"dedicated-150",name:"Elite Athlete",description:"Complete 150 workouts",icon:"",tier:"gold",condition:{type:"workoutCount",value:150}},{id:"dedicated-200",name:"Relentless",description:"Complete 200 workouts",icon:"",tier:"platinum",condition:{type:"workoutCount",value:200}},{id:"dedicated-250",name:"Iron Legend",description:"Complete 250 workouts",icon:"",tier:"platinum",condition:{type:"workoutCount",value:250}},{id:"dedicated-500",name:"Hall of Fame",description:"Complete 500 workouts",icon:"",tier:"platinum",condition:{type:"workoutCount",value:500}},{id:"streak-3",name:"Consistency",description:"Maintain a 3-day workout streak",icon:"",tier:"bronze",condition:{type:"streak",value:3}},{id:"streak-7",name:"Week Warrior",description:"Maintain a 7-day workout streak",icon:"",tier:"silver",condition:{type:"streak",value:7}},{id:"streak-14",name:"Fortnight Fighter",description:"Maintain a 14-day workout streak",icon:"",tier:"silver",condition:{type:"streak",value:14}},{id:"streak-30",name:"Monthly Master",description:"Maintain a 30-day workout streak",icon:"",tier:"gold",condition:{type:"streak",value:30}},{id:"streak-60",name:"Unbreakable",description:"Maintain a 60-day workout streak",icon:"",tier:"gold",condition:{type:"streak",value:60}},{id:"streak-100",name:"Iron Will",description:"Maintain a 100-day workout streak",icon:"",tier:"platinum",condition:{type:"streak",value:100}},{id:"first-pr",name:"New Heights",description:"Achieve your first personal record",icon:"",tier:"bronze",condition:{type:"prCount",value:1}},{id:"pr-5",name:"Record Breaker",description:"Achieve 5 personal records",icon:"",tier:"silver",condition:{type:"prCount",value:5}},{id:"pr-10",name:"Powerhouse",description:"Achieve 10 personal records",icon:"",tier:"gold",condition:{type:"prCount",value:10}},{id:"pr-25",name:"Peak Performance",description:"Achieve 25 personal records",icon:"",tier:"platinum",condition:{type:"prCount",value:25}},{id:"volume-10k",name:"Moving Iron",description:"Lift 10,000 lbs total volume",icon:"",tier:"bronze",condition:{type:"totalVolume",value:1e4}},{id:"volume-50k",name:"Heavy Lifter",description:"Lift 50,000 lbs total volume",icon:"",tier:"silver",condition:{type:"totalVolume",value:5e4}},{id:"volume-100k",name:"Tonnage Master",description:"Lift 100,000 lbs total volume",icon:"",tier:"gold",condition:{type:"totalVolume",value:1e5}},{id:"volume-250k",name:"Moving Mountains",description:"Lift 250,000 lbs total volume",icon:"",tier:"platinum",condition:{type:"totalVolume",value:25e4}},{id:"time-1h",name:"First Hour",description:"Complete 1 hour of total workout time",icon:"",tier:"bronze",condition:{type:"totalTime",value:3600}},{id:"time-10h",name:"Time Investment",description:"Complete 10 hours of total workout time",icon:"",tier:"silver",condition:{type:"totalTime",value:36e3}},{id:"time-50h",name:"Dedicated",description:"Complete 50 hours of total workout time",icon:"",tier:"gold",condition:{type:"totalTime",value:18e4}},{id:"time-100h",name:"Time Master",description:"Complete 100 hours of total workout time",icon:"",tier:"platinum",condition:{type:"totalTime",value:36e4}},{id:"early-bird",name:"Early Bird",description:"Complete a workout before 7 AM",icon:"",tier:"bronze",condition:{type:"special",value:"earlyMorning"}},{id:"morning-person",name:"Morning Person",description:"Complete 10 workouts in the morning (7 AM - 12 PM)",icon:"",tier:"silver",condition:{type:"special",value:"morningWorkouts",count:10}},{id:"afternoon-warrior",name:"Afternoon Warrior",description:"Complete 10 workouts in the afternoon (12 PM - 5 PM)",icon:"",tier:"silver",condition:{type:"special",value:"afternoonWorkouts",count:10}},{id:"evening-grinder",name:"Evening Grinder",description:"Complete 10 workouts in the evening (5 PM - 10 PM)",icon:"",tier:"silver",condition:{type:"special",value:"eveningWorkouts",count:10}},{id:"night-owl",name:"Night Owl",description:"Complete a workout after 10 PM",icon:"",tier:"bronze",condition:{type:"special",value:"lateNight"}},{id:"consecutive-3",name:"Back to Back",description:"Complete 3 consecutive workouts within an hour of each other",icon:"",tier:"bronze",condition:{type:"special",value:"consecutiveWorkouts",count:3}},{id:"consecutive-5",name:"Chain Reaction",description:"Complete 5 consecutive workouts within an hour of each other",icon:"",tier:"silver",condition:{type:"special",value:"consecutiveWorkouts",count:5}},{id:"consecutive-10",name:"Unstoppable",description:"Complete 10 consecutive workouts within an hour of each other",icon:"",tier:"gold",condition:{type:"special",value:"consecutiveWorkouts",count:10}},{id:"weekend-warrior",name:"Weekend Warrior",description:"Complete 10 weekend workouts",icon:"",tier:"silver",condition:{type:"special",value:"weekendWorkouts",count:10}},{id:"variety-seeker",name:"Variety Seeker",description:"Complete all workout types (Full Body, Upper, Lower, Push, Pull, Legs)",icon:"",tier:"gold",condition:{type:"special",value:"allWorkoutTypes"}},{id:"wellness-first",name:"Wellness Beginner",description:"Complete your first wellness task",icon:"",tier:"bronze",condition:{type:"wellnessTaskCount",value:1}},{id:"wellness-10",name:"Wellness Explorer",description:"Complete 10 wellness tasks",icon:"",tier:"bronze",condition:{type:"wellnessTaskCount",value:10}},{id:"wellness-25",name:"Wellness Enthusiast",description:"Complete 25 wellness tasks",icon:"",tier:"silver",condition:{type:"wellnessTaskCount",value:25}},{id:"wellness-50",name:"Wellness Champion",description:"Complete 50 wellness tasks",icon:"",tier:"gold",condition:{type:"wellnessTaskCount",value:50}},{id:"wellness-100",name:"Wellness Master",description:"Complete 100 wellness tasks",icon:"",tier:"platinum",condition:{type:"wellnessTaskCount",value:100}}],Vh={bronze:{color:"#CD7F32",gradient:"linear-gradient(135deg, #CD7F32 0%, #B87333 100%)",textColor:"#fff"},silver:{color:"#C0C0C0",gradient:"linear-gradient(135deg, #C0C0C0 0%, #A8A8A8 100%)",textColor:"#333"},gold:{color:"#FFD700",gradient:"linear-gradient(135deg, #FFD700 0%, #FFA500 100%)",textColor:"#333"},platinum:{color:"#E5E4E2",gradient:"linear-gradient(135deg, #E5E4E2 0%, #B0B0B0 100%)",textColor:"#333"}},jc=(e,t,s=[])=>{const{condition:a}=e;switch(a.type){case"workoutCount":return(t.totalWorkouts||0)>=a.value;case"streak":return(t.currentStreak||0)>=a.value;case"prCount":return(t.totalPRs||0)>=a.value;case"totalVolume":return(t.totalVolume||0)>=a.value;case"totalTime":return(t.totalTime||0)>=a.value;case"wellnessTaskCount":return(t.completedWellnessTasks||0)>=a.value;case"special":return c7(a,t,s);default:return!1}},c7=(e,t,s)=>{switch(e.value){case"earlyMorning":return s.some(a=>new Date(a.date).getHours()<7);case"morningWorkouts":return s.filter(l=>{const u=new Date(l.date).getHours();return u>=7&&u<12}).length>=(e.count||10);case"afternoonWorkouts":return s.filter(l=>{const u=new Date(l.date).getHours();return u>=12&&u<17}).length>=(e.count||10);case"eveningWorkouts":return s.filter(l=>{const u=new Date(l.date).getHours();return u>=17&&u<22}).length>=(e.count||10);case"lateNight":return s.some(a=>new Date(a.date).getHours()>=22);case"consecutiveWorkouts":{const a=[...s].sort((d,h)=>new Date(d.date)-new Date(h.date));let l=0,u=1;for(let d=1;d<a.length;d++){const h=new Date(a[d-1].date);(new Date(a[d].date)-h)/(1e3*60*60)<=1?(u++,l=Math.max(l,u)):u=1}return l>=(e.count||3)}case"weekendWorkouts":return s.filter(l=>{const u=new Date(l.date).getDay();return u===0||u===6}).length>=(e.count||10);case"allWorkoutTypes":{const a=["full","upper","lower","push","pull","legs"],l=new Set(s.map(u=>u.type?.toLowerCase()).filter(Boolean));return a.every(u=>l.has(u))}default:return!1}},Pd=(e,t,s=[])=>{const l=[...e].sort((p,g)=>p.condition.value-g.condition.value).find(p=>!jc(p,t,s));if(!l)return null;const{condition:u}=l;let d=0;switch(u.type){case"workoutCount":d=t.totalWorkouts||0;break;case"streak":d=t.currentStreak||0;break;case"prCount":d=t.totalPRs||0;break;case"totalVolume":d=t.totalVolume||0;break;case"totalTime":d=t.totalTime||0;break;default:d=0}const h=Math.min(d/u.value*100,100);return{achievement:l,current:d,target:u.value,progress:h}},u7=(e,t=[])=>ri.filter(s=>jc(s,e,t)),d7=(e,t,s=[])=>u7(e,t).filter(l=>!s.includes(l.id)),h7=e=>{const t={bronze:10,silver:25,gold:50,platinum:100};return e.reduce((s,a)=>s+(t[a.tier]||0),0)},f7=e=>{const s=Math.floor(e/100)+1,a=e%100,l=100-a;return{level:s,currentPoints:a,pointsToNext:l,totalPoints:e}},gE=({achievement:e,unlocked:t,onClick:s})=>{const a=Vh[e.tier];return r.jsx(Ke.div,{whileHover:{scale:t?1.05:1.02},whileTap:{scale:.98},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:r.jsx(Je,{onClick:s,sx:{height:"100%",cursor:"pointer",position:"relative",background:t?a.gradient:"linear-gradient(135deg, #424242 0%, #303030 100%)",color:t?a.textColor:"#888",transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:t?6:2}},children:r.jsxs(ot,{sx:{textAlign:"center",p:2},children:[!t&&r.jsx(L,{sx:{position:"absolute",top:8,right:8,color:"rgba(255, 255, 255, 0.5)"},children:r.jsx(RC,{fontSize:"small"})}),r.jsx(I,{variant:"h2",sx:{fontSize:"3rem",mb:1,filter:t?"none":"grayscale(100%)",opacity:t?1:.4},children:e.icon}),r.jsx(I,{variant:"subtitle1",sx:{fontWeight:700,mb:.5,fontSize:"0.95rem"},children:e.name}),r.jsx(ct,{label:e.tier.toUpperCase(),size:"small",sx:{fontSize:"0.65rem",height:20,fontWeight:600,bgcolor:t?"rgba(255, 255, 255, 0.3)":"rgba(255, 255, 255, 0.1)"}})]})})})};gE.propTypes={achievement:E.object.isRequired,unlocked:E.bool.isRequired,onClick:E.func.isRequired};const yE=({achievement:e,unlocked:t,onClose:s,onShare:a})=>{if(!e)return null;const l=Vh[e.tier];return r.jsxs(vn,{open:!!e,onClose:s,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:3}},children:[r.jsx(On,{sx:{textAlign:"center",pb:1},children:r.jsx(Ue,{onClick:s,sx:{position:"absolute",right:8,top:8},children:r.jsx(tl,{})})}),r.jsxs(Sn,{sx:{textAlign:"center",pt:0},children:[r.jsx(L,{sx:{width:120,height:120,borderRadius:"50%",background:t?l.gradient:"linear-gradient(135deg, #424242 0%, #303030 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",filter:t?"none":"grayscale(100%)",opacity:t?1:.6},children:r.jsx(I,{variant:"h1",sx:{fontSize:"4rem"},children:e.icon})}),!t&&r.jsx(ct,{icon:r.jsx(RC,{}),label:"LOCKED",color:"default",sx:{mb:2}}),t&&r.jsx(ct,{icon:r.jsx($o,{}),label:"UNLOCKED",color:"success",sx:{mb:2}}),r.jsx(I,{variant:"h5",sx:{fontWeight:700,mb:1},children:e.name}),r.jsx(ct,{label:e.tier.toUpperCase(),size:"small",sx:{mb:2,fontWeight:600,background:l.gradient,color:l.textColor}}),r.jsx(I,{variant:"body1",color:"text.secondary",sx:{mb:2},children:e.description}),r.jsx(L,{sx:{p:2,borderRadius:2,bgcolor:"action.hover"},children:r.jsx(I,{variant:"body2",color:"text.secondary",children:p7(e.condition)})})]}),r.jsxs(wn,{sx:{justifyContent:"center",pb:3,px:3},children:[t&&a&&r.jsx(Te,{variant:"contained",startIcon:r.jsx(_C,{}),onClick:()=>a(e),fullWidth:!0,children:"Share Achievement"}),!t&&r.jsx(Te,{variant:"outlined",onClick:s,fullWidth:!0,children:"Close"})]})]})};yE.propTypes={achievement:E.object,unlocked:E.bool,onClose:E.func.isRequired,onShare:E.func};const uc=({title:e,icon:t,progressInfo:s})=>{if(!s)return r.jsx(Je,{sx:{height:"100%"},children:r.jsx(ot,{children:r.jsxs(Oe,{spacing:1,children:[r.jsxs(Oe,{direction:"row",alignItems:"center",spacing:1,children:[t,r.jsx(I,{variant:"h6",sx:{fontWeight:600,fontSize:"1rem"},children:e})]}),r.jsx(I,{variant:"body2",color:"text.secondary",children:"All achievements unlocked! "})]})})});const{achievement:a,current:l,target:u,progress:d}=s;return r.jsx(Je,{sx:{height:"100%"},children:r.jsx(ot,{children:r.jsxs(Oe,{spacing:2,children:[r.jsxs(Oe,{direction:"row",alignItems:"center",spacing:1,children:[t,r.jsx(I,{variant:"h6",sx:{fontWeight:600,fontSize:"1rem"},children:e})]}),r.jsxs(L,{children:[r.jsxs(Oe,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:1},children:[r.jsx(I,{variant:"body2",sx:{fontWeight:600},children:a.name}),r.jsxs(I,{variant:"body2",color:"text.secondary",children:[rC(l,a.condition.type)," / ",rC(u,a.condition.type)]})]}),r.jsx($i,{variant:"determinate",value:d,sx:{height:8,borderRadius:4,bgcolor:"action.hover","& .MuiLinearProgress-bar":{background:Vh[a.tier].gradient,borderRadius:4}}}),r.jsxs(I,{variant:"caption",color:"text.secondary",sx:{mt:.5,display:"block"},children:[Math.round(d),"% complete"]})]})]})})})};uc.propTypes={title:E.string.isRequired,icon:E.element.isRequired,progressInfo:E.object};const xE=({userStats:e,workoutHistory:t=[]})=>{const[s,a]=x.useState(null),[l,u]=x.useState(!1),[d,h]=x.useState(0),p=ri.filter(M=>jc(M,e,t)),g=h7(p),y=f7(g),v={workout:ri.filter(M=>M.condition.type==="workoutCount"),streak:ri.filter(M=>M.condition.type==="streak"),pr:ri.filter(M=>M.condition.type==="prCount"),volume:ri.filter(M=>M.condition.type==="totalVolume"),time:ri.filter(M=>M.condition.type==="totalTime"),special:ri.filter(M=>M.condition.type==="special")},b=[{label:"All",key:"all"},{label:"Workouts",key:"workout"},{label:"Streaks",key:"streak"},{label:"PRs",key:"pr"},{label:"Volume",key:"volume"},{label:"Time",key:"time"},{label:"Special",key:"special"}],S=b[d].key,T=S==="all"?ri:v[S],k=Pd(v.workout,e,t),w=Pd(v.streak,e,t),j=Pd(v.pr,e,t),D=Pd(v.volume,e,t),A=M=>{a(M),u(jc(M,e,t))},_=async M=>{const R=`I just unlocked the "${M.name}" achievement in GoodLift! ${M.icon}

${M.description}`;if(navigator.share)try{await navigator.share({title:"GoodLift Achievement",text:R})}catch(N){N.name!=="AbortError"&&(console.error("Error sharing:",N),P(R))}else P(R)},P=M=>{navigator.clipboard.writeText(M).then(()=>{alert("Achievement text copied to clipboard!")})};return r.jsxs(L,{sx:{p:{xs:1,sm:2,md:3}},children:[r.jsxs(L,{sx:{mb:4,textAlign:"center"},children:[r.jsx(I,{variant:"h4",sx:{fontWeight:700,mb:1},children:"Achievements"}),r.jsxs(Oe,{direction:"row",spacing:2,justifyContent:"center",alignItems:"center",sx:{mb:2},children:[r.jsx(ct,{icon:r.jsx($o,{}),label:`Level ${y.level}`,color:"primary",sx:{fontSize:"1rem",fontWeight:600,height:36}}),r.jsx(ct,{label:`${p.length} / ${ri.length} Unlocked`,variant:"outlined",sx:{fontSize:"0.9rem",height:36}})]}),r.jsxs(L,{sx:{maxWidth:400,margin:"0 auto"},children:[r.jsxs(Oe,{direction:"row",justifyContent:"space-between",sx:{mb:1},children:[r.jsxs(I,{variant:"caption",color:"text.secondary",children:[y.currentPoints," / 100 points"]}),r.jsxs(I,{variant:"caption",color:"text.secondary",children:[y.pointsToNext," to Level ",y.level+1]})]}),r.jsx($i,{variant:"determinate",value:y.currentPoints/100*100,sx:{height:10,borderRadius:5,bgcolor:"action.hover","& .MuiLinearProgress-bar":{borderRadius:5}}})]})]}),r.jsxs(nn,{container:!0,spacing:{xs:1,sm:2},sx:{mb:4},children:[r.jsx(nn,{item:!0,xs:6,sm:6,md:3,children:r.jsx(uc,{title:"Workouts",icon:r.jsx(Jt,{color:"primary"}),progressInfo:k})}),r.jsx(nn,{item:!0,xs:6,sm:6,md:3,children:r.jsx(uc,{title:"Streak",icon:r.jsx(OC,{sx:{color:"#FF6B35"}}),progressInfo:w})}),r.jsx(nn,{item:!0,xs:6,sm:6,md:3,children:r.jsx(uc,{title:"Personal Records",icon:r.jsx(Pa,{color:"success"}),progressInfo:j})}),r.jsx(nn,{item:!0,xs:6,sm:6,md:3,children:r.jsx(uc,{title:"Volume",icon:r.jsx($o,{sx:{color:"#FFD700"}}),progressInfo:D})})]}),r.jsx(L,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:r.jsx(qc,{value:d,onChange:(M,R)=>h(R),variant:"scrollable",scrollButtons:"auto",children:b.map(M=>r.jsx(Fi,{label:M.label},M.key))})}),r.jsx(nn,{container:!0,spacing:{xs:1,sm:2},children:T.map(M=>{const R=jc(M,e,t);return r.jsx(nn,{item:!0,xs:6,sm:4,md:3,lg:2,children:r.jsx(gE,{achievement:M,unlocked:R,onClick:()=>A(M)})},M.id)})}),r.jsx(yE,{achievement:s,unlocked:l,onClose:()=>a(null),onShare:_})]})};xE.propTypes={userStats:E.shape({totalWorkouts:E.number,currentStreak:E.number,totalPRs:E.number,totalVolume:E.number,totalTime:E.number}).isRequired,workoutHistory:E.array};const p7=e=>{switch(e.type){case"workoutCount":return`Complete ${e.value} workout${e.value!==1?"s":""}`;case"streak":return`Maintain a ${e.value}-day workout streak`;case"prCount":return`Achieve ${e.value} personal record${e.value!==1?"s":""}`;case"totalVolume":return`Lift ${e.value.toLocaleString()} lbs total volume`;case"totalTime":{const t=Math.floor(e.value/3600);return`Complete ${t} hour${t!==1?"s":""} of total workout time`}case"special":return e.value;default:return""}},rC=(e,t)=>{switch(t){case"totalVolume":return`${e.toLocaleString()} lbs`;case"totalTime":{const s=Math.floor(e/3600),a=Math.floor(e%3600/60);return s>0?`${s}h ${a}m`:`${a}m`}default:return e}},wx=(e,t,s)=>!e||t===s?e:t==="lbs"&&s==="kg"?Math.round(e*.453592*10)/10:t==="kg"&&s==="lbs"?Math.round(e*2.20462*10)/10:e,bE=(e,t=30)=>{if(!e||e.length===0)return[];const s=new Date;return s.setDate(s.getDate()-t),e.filter(a=>new Date(a.date)>=s).sort((a,l)=>new Date(a.date)-new Date(l.date))},m7=(e,t=30)=>{if(!e||e.length<2)return{change:0,percentage:0,direction:"stable"};const s=bE(e,t);if(s.length<2)return{change:0,percentage:0,direction:"stable"};const a=s[0],l=s[s.length-1],u=wx(a.weight,a.unit,l.unit),h=l.weight-u,p=u!==0?h/u*100:0;let g="stable";return Math.abs(h)>.5&&(g=h>0?"up":"down"),{change:Math.round(h*10)/10,percentage:Math.round(p*10)/10,direction:g}},Od=(e,t="lbs")=>e?`${Math.round(e*10)/10} ${t}`:`0 ${t}`,g7=(e,t="lbs")=>{if(!e||isNaN(e))return{valid:!1,error:"Please enter a valid weight"};const s=parseFloat(e);if(s<=0)return{valid:!1,error:"Weight must be greater than 0"};const a=t==="lbs"?50:20,l=t==="lbs"?1e3:450;return s<a||s>l?{valid:!1,error:`Weight must be between ${a} and ${l} ${t}`}:{valid:!0}},y7=(e,t=30,s="lbs")=>{const a=bE(e,t);if(a.length===0)return{labels:[],data:[]};const l=a.map(d=>new Date(d.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})),u=a.map(d=>wx(d.weight,d.unit,s));return{labels:l,data:u}},x7=(e,t="lbs")=>{if(!e||e.length===0)return{min:0,max:0,average:0,current:0,entries:0};const s=e.map(p=>wx(p.weight,p.unit,t)),a=Math.min(...s),l=Math.max(...s),d=s.reduce((p,g)=>p+g,0)/s.length,h=s[s.length-1];return{min:Math.round(a*10)/10,max:Math.round(l*10)/10,average:Math.round(d*10)/10,current:Math.round(h*10)/10,entries:s.length}};WP.register(NP,LP,zP,VP,BP,FP,HP,UP);const vE=({weightHistory:e,currentWeight:t,currentUnit:s,onAddWeight:a})=>{const[l,u]=x.useState(""),[d,h]=x.useState(s||"lbs"),[p,g]=x.useState(null),[y,v]=x.useState(!1);x.useEffect(()=>{h(s||"lbs")},[s]);const b=()=>{g(null);const A=g7(l,d);if(!A.valid){g(A.error);return}a(parseFloat(l),d),u(""),v(!1)},S=m7(e,30),T=x7(e,d),k=y7(e,30,d),w={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:A=>`${A.parsed.y} ${d}`}}},scales:{y:{beginAtZero:!1,ticks:{callback:A=>`${A} ${d}`}}}},j={labels:k.labels,datasets:[{label:"Weight",data:k.data,borderColor:"rgb(25, 118, 210)",backgroundColor:"rgba(25, 118, 210, 0.1)",fill:!0,tension:.4}]},D=()=>S.direction==="up"?r.jsx(Pa,{color:"warning"}):S.direction==="down"?r.jsx(Mg,{color:"success"}):r.jsx(U2,{color:"info"});return r.jsx(Je,{sx:{borderRadius:2},children:r.jsxs(ot,{children:[r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[r.jsx(I,{variant:"h6",fontWeight:600,children:"Weight Tracking"}),r.jsx(Ue,{color:"primary",onClick:()=>v(!y),size:"small",children:r.jsx(Xs,{})})]}),t&&r.jsxs(L,{sx:{mb:3},children:[r.jsx(I,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Current Weight"}),r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:2},children:[r.jsx(I,{variant:"h4",fontWeight:700,children:Od(t,d)}),S.direction!=="stable"&&r.jsx(ct,{icon:D(),label:`${S.change>0?"+":""}${S.change} ${d}`,size:"small",color:S.direction==="up"?"warning":"success"})]}),r.jsx(I,{variant:"caption",color:"text.secondary",children:S.direction!=="stable"?`${Math.abs(S.percentage)}% ${S.direction==="up"?"increase":"decrease"} in last 30 days`:"No significant change in last 30 days"})]}),y&&r.jsxs(L,{sx:{mb:3,p:2,bgcolor:"action.hover",borderRadius:2},children:[r.jsx(I,{variant:"body2",fontWeight:600,gutterBottom:!0,children:"Add Weight Entry"}),p&&r.jsx(At,{severity:"error",sx:{mb:2},children:p}),r.jsxs(Oe,{direction:"row",spacing:2,alignItems:"flex-start",children:[r.jsx(dt,{label:"Weight",type:"number",value:l,onChange:A=>{u(A.target.value),g(null)},size:"small",sx:{flex:1},inputProps:{step:.1,min:0}}),r.jsxs(Ft,{size:"small",sx:{minWidth:80},children:[r.jsx(Mn,{children:"Unit"}),r.jsxs(Yt,{value:d,onChange:A=>h(A.target.value),label:"Unit",children:[r.jsx(ze,{value:"lbs",children:"lbs"}),r.jsx(ze,{value:"kg",children:"kg"})]})]}),r.jsx(Te,{variant:"contained",onClick:b,disabled:!l,size:"small",sx:{minWidth:80},children:"Add"})]})]}),k.data.length>0?r.jsxs(L,{sx:{height:250,mb:2},children:[r.jsx(I,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Last 30 Days"}),r.jsx(qP,{data:j,options:w})]}):r.jsx(At,{severity:"info",sx:{mb:2},children:"No weight history yet. Add your first weight entry to start tracking!"}),T.entries>0&&r.jsxs(L,{sx:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:2,pt:2,borderTop:1,borderColor:"divider"},children:[r.jsxs(L,{children:[r.jsx(I,{variant:"caption",color:"text.secondary",children:"Minimum"}),r.jsx(I,{variant:"body2",fontWeight:600,children:Od(T.min,d)})]}),r.jsxs(L,{children:[r.jsx(I,{variant:"caption",color:"text.secondary",children:"Average"}),r.jsx(I,{variant:"body2",fontWeight:600,children:Od(T.average,d)})]}),r.jsxs(L,{children:[r.jsx(I,{variant:"caption",color:"text.secondary",children:"Maximum"}),r.jsx(I,{variant:"body2",fontWeight:600,children:Od(T.max,d)})]})]})]})})};vE.propTypes={weightHistory:E.arrayOf(E.shape({weight:E.number.isRequired,unit:E.string.isRequired,date:E.string.isRequired})).isRequired,currentWeight:E.number,currentUnit:E.string,onAddWeight:E.func.isRequired};class b7{constructor(){this.maxPinnedExercises=10}getExerciseProgression(t,s,a="weight"){if(!t||!Array.isArray(t))return[];const l=[];return[...t].reverse().forEach(d=>{if(!d.exercises||!d.exercises[s])return;const p=d.exercises[s].sets||[];if(p.length===0)return;let g;a==="weight"?g=Math.max(...p.map(y=>y.weight||0)):a==="reps"&&(g=Math.max(...p.map(y=>y.reps||0))),g>0&&l.push({date:new Date(d.date),value:g,workout:d})}),l}getUniqueExercises(t){if(!t||!Array.isArray(t))return[];const s=new Set;return t.forEach(a=>{a.exercises&&Object.keys(a.exercises).forEach(l=>{s.add(l)})}),Array.from(s).sort()}formatProgressionForChart(t,s,a="weight"){if(!t||t.length===0)return{labels:[],datasets:[{label:s,data:[],fill:!0,backgroundColor:"rgba(19, 70, 134, 0.2)",borderColor:"rgb(19, 70, 134)",tension:.4,pointBackgroundColor:"rgb(19, 70, 134)",pointBorderColor:"#fff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}],minValue:0};const l=t.slice(-10),u=l.map((p,g)=>`Session ${g+1}`),d=l.map(p=>p.value);let h=0;if(a==="weight"&&d.length>0){const p=Math.min(...d);h=Math.max(0,p-5)}return{labels:u,datasets:[{label:s,data:d,fill:!0,backgroundColor:"rgba(19, 70, 134, 0.2)",borderColor:"rgb(19, 70, 134)",tension:.4,pointBackgroundColor:"rgb(19, 70, 134)",pointBorderColor:"#fff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}],minValue:h}}getPinnedExercises(){return ZR()}setPinnedExercises(t){if(!Array.isArray(t))throw new Error("Pinned exercises must be an array");const s=t.slice(0,this.maxPinnedExercises);JR(s)}addPinnedExercise(t,s="weight"){try{const a=this.getPinnedExercises();return a.some(l=>l.exerciseName===t)||a.length>=this.maxPinnedExercises?!1:(a.push({exerciseName:t,trackingMode:s}),this.setPinnedExercises(a),!0)}catch(a){return console.error("Error adding pinned exercise:",a),!1}}removePinnedExercise(t){try{const a=this.getPinnedExercises().filter(l=>l.exerciseName!==t);this.setPinnedExercises(a)}catch(s){throw console.error("Error removing pinned exercise:",s),s}}updatePinnedExerciseMode(t,s){try{const l=this.getPinnedExercises().map(u=>u.exerciseName===t?{...u,trackingMode:s}:u);this.setPinnedExercises(l)}catch(a){throw console.error("Error updating pinned exercise mode:",a),a}}isExercisePinned(t){return this.getPinnedExercises().some(a=>a.exerciseName===t)}getAvailableExercisesForPinning(t){const s=this.getUniqueExercises(t),a=this.getPinnedExercises(),l=new Set(a.map(u=>u.exerciseName));return s.filter(u=>!l.has(u))}calculateStats(t,s="all"){if(!t||!Array.isArray(t))return{workoutsThisWeek:0,totalVolume:0,currentStreak:0,avgDuration:0};const a=new Date,l=t.filter(v=>{const b=new Date(v.date);if(s==="week"){const S=new Date(a.getTime()-6048e5);return b>=S}else if(s==="month"){const S=new Date(a.getTime()-2592e6);return b>=S}return!0}),u=new Date(a.getTime()-10080*60*1e3),d=t.filter(v=>new Date(v.date)>=u).length;let h=0;l.forEach(v=>{v.exercises&&Object.values(v.exercises).forEach(b=>{b.sets&&Array.isArray(b.sets)&&b.sets.forEach(S=>{h+=(S.weight||0)*(S.reps||0)})})});const p=this.calculateStreak(t),g=l.reduce((v,b)=>v+(b.duration||0),0),y=l.length>0?Math.round(g/l.length/60):0;return{workoutsThisWeek:d,totalVolume:h,currentStreak:p,avgDuration:y}}calculateStreak(t){if(!t||t.length===0)return 0;const s=[...t].sort((u,d)=>new Date(d.date)-new Date(u.date));let a=0,l=new Date;l.setHours(0,0,0,0);for(const u of s){const d=new Date(u.date);d.setHours(0,0,0,0);const h=Math.floor((l-d)/(1e3*60*60*24));if(h===a)a++;else if(h>a)break}return a}getProgressionSummary(t,s,a="weight"){const l=this.getExerciseProgression(t,s,a);if(l.length===0)return{current:0,best:0,trend:"none",improvement:0};const u=l.map(y=>y.value),d=u[u.length-1],h=Math.max(...u);let p="stable";if(u.length>=4){const y=u.slice(-4,-1).reduce((v,b)=>v+b,0)/3;d>y*1.05?p="up":d<y*.95&&(p="down")}const g=u.length>=2?(d-u[0])/u[0]*100:0;return{current:d,best:h,trend:p,improvement:Math.round(g)}}}const Mo=new b7,SE=x.memo(({currentStreak:e=0,longestStreak:t=0})=>{const s=pE(e),a=s.length>0?s[s.length-1]:null;return r.jsx(Je,{sx:{borderRadius:3,boxShadow:"0 4px 16px rgba(19, 70, 134, 0.08)",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white"},children:r.jsx(ot,{sx:{p:2.5},children:r.jsxs(Oe,{spacing:2,children:[r.jsxs(L,{sx:{textAlign:"center"},children:[r.jsx(L,{sx:{fontSize:"3rem",mb:1},children:""}),r.jsx(I,{variant:"h3",sx:{fontWeight:700,mb:.5},children:e}),r.jsx(I,{variant:"body2",sx:{opacity:.9},children:"Day Streak"})]}),s.length>0&&r.jsxs(L,{children:[r.jsx(I,{variant:"caption",sx:{opacity:.8,display:"block",textAlign:"center",mb:1},children:"Milestones Achieved"}),r.jsx(Oe,{direction:"row",spacing:1,sx:{justifyContent:"center",flexWrap:"wrap",gap:1},children:s.map((l,u)=>r.jsx(Zn,{title:l.description,children:r.jsx(ct,{label:`${l.days} days`,size:"small",sx:{bgcolor:"rgba(255, 255, 255, 0.2)",color:"white",fontWeight:600,"&:hover":{bgcolor:"rgba(255, 255, 255, 0.3)"}},icon:r.jsx(L,{component:"span",sx:{fontSize:"1rem",ml:.5},children:l.badge.split(" ")[0]})})},u))})]}),a&&r.jsx(L,{sx:{p:1.5,borderRadius:2,bgcolor:"rgba(255, 255, 255, 0.15)",textAlign:"center"},children:r.jsx(I,{variant:"body2",sx:{opacity:.9},children:a.badge})}),t>e&&r.jsx(L,{sx:{textAlign:"center",pt:1,borderTop:"1px solid rgba(255, 255, 255, 0.2)"},children:r.jsxs(I,{variant:"caption",sx:{opacity:.8},children:["Personal Best: ",t," days"]})})]})})})});SE.displayName="StreakDisplay";SE.propTypes={currentStreak:E.number,longestStreak:E.number};const wE=x.memo(({adherence:e=0,completedWorkouts:t=0,plannedWorkouts:s=0})=>{const a=()=>e>=80?"success.main":e>=60?"warning.main":"error.main",l=()=>e>=80?"Excellent! ":e>=60?"Good progress! ":"Keep going! ";return r.jsx(Je,{sx:{borderRadius:3,boxShadow:"0 4px 16px rgba(19, 70, 134, 0.08)"},children:r.jsx(ot,{sx:{p:2.5},children:r.jsxs(Oe,{spacing:2,children:[r.jsxs(Oe,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(qo,{sx:{color:a()}}),r.jsx(I,{variant:"h6",sx:{fontWeight:600},children:"Adherence"})]}),r.jsxs(I,{variant:"h4",sx:{fontWeight:700,color:a()},children:[e,"%"]})]}),r.jsx(L,{children:r.jsx($i,{variant:"determinate",value:e,sx:{height:12,borderRadius:6,bgcolor:"action.hover","& .MuiLinearProgress-bar":{bgcolor:a(),borderRadius:6}}})}),r.jsxs(Oe,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[r.jsxs(I,{variant:"body2",color:"text.secondary",children:[t," of ",s," workouts completed"]}),r.jsx(I,{variant:"body2",sx:{fontWeight:600,color:a()},children:l()})]})]})})})});wE.displayName="AdherenceDisplay";wE.propTypes={adherence:E.number,completedWorkouts:E.number,plannedWorkouts:E.number};const CE=x.memo(({totalVolume:e=0,volumeChange:t=0})=>{const s=t>=0;return r.jsx(Je,{sx:{borderRadius:3,boxShadow:"0 4px 16px rgba(19, 70, 134, 0.08)"},children:r.jsx(ot,{sx:{p:2.5},children:r.jsxs(Oe,{spacing:2,children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(Pa,{sx:{color:"primary.main"}}),r.jsx(I,{variant:"h6",sx:{fontWeight:600},children:"Total Volume"})]}),r.jsxs(L,{children:[r.jsx(I,{variant:"h3",sx:{fontWeight:700,color:"primary.main"},children:e.toLocaleString()}),r.jsx(I,{variant:"body2",color:"text.secondary",children:"lbs lifted (last 30 days)"})]}),t!==0&&r.jsxs(L,{sx:{p:1.5,borderRadius:2,bgcolor:s?"success.light":"error.light",display:"flex",alignItems:"center",justifyContent:"center",gap:.5},children:[r.jsxs(I,{variant:"body2",sx:{fontWeight:600,color:s?"success.dark":"error.dark"},children:[s?"":""," ",Math.abs(t),"%"]}),r.jsx(I,{variant:"caption",sx:{color:s?"success.dark":"error.dark"},children:"vs. previous 30 days"})]})]})})})});CE.displayName="VolumeTrendDisplay";CE.propTypes={totalVolume:E.number,volumeChange:E.number};const jE=x.createContext({}),Cx=()=>x.useContext(jE),Do={displayName:"",email:"",avatar:null,currentWeight:null,weightHistory:[],bio:"",goals:"",memberSince:null,weightUnit:"lbs"},kE=({children:e})=>{const{currentUser:t,isGuest:s}=La(),[a,l]=x.useState(Do),[u,d]=x.useState({totalWorkouts:0,currentStreak:0,longestStreak:0,favoriteExercise:"",totalVolume:0,totalPRs:0,completedWellnessTasks:0}),[h,p]=x.useState(!0),g=x.useCallback(async()=>{try{const j=await ei(),D=j.length,A=Mo.calculateStreak(j);let _=0,P=0;const M=[...j].sort((F,K)=>new Date(F.date)-new Date(K.date));for(let F=0;F<M.length;F++)if(F===0)P=1;else{const K=new Date(M[F-1].date),B=new Date(M[F].date);Math.floor((B-K)/(1e3*60*60*24))===1?P++:(_=Math.max(_,P),P=1)}_=Math.max(_,P);const R={};j.forEach(F=>{F.exercises?.forEach(K=>{const B=K.name||K.exerciseName;B&&(R[B]=(R[B]||0)+1)})});const N=Object.entries(R).sort((F,K)=>K[1]-F[1])[0]?.[0]||"";let W=0;j.forEach(F=>{F.exercises?.forEach(K=>{K.sets?.forEach(B=>{B.weight&&B.reps&&(W+=B.weight*B.reps)})})});const U=localStorage.getItem("goodlift_total_prs")?parseInt(localStorage.getItem("goodlift_total_prs")):0,V=t?.uid?`wellness_completed_${t.uid}`:"wellness_completed_guest",z=localStorage.getItem(V),de=z?JSON.parse(z).length:0;return{totalWorkouts:D,currentStreak:A,longestStreak:_,favoriteExercise:N,totalVolume:W,totalPRs:U,completedWellnessTasks:de}}catch(j){return console.error("Error calculating stats:",j),{totalWorkouts:0,currentStreak:0,longestStreak:0,favoriteExercise:"",totalVolume:0,totalPRs:0,completedWellnessTasks:0}}},[t]);x.useEffect(()=>{t!==void 0&&(async()=>{p(!0);try{if(t&&!s){const D=await mi(t.uid);if(D?.profile)l({...Do,...D.profile,email:t.email});else{const A={...Do,displayName:t.displayName||"",email:t.email,memberSince:new Date().toISOString()};l(A),await Pn(t.uid,{profile:A})}if(D?.stats)d(D.stats);else{const A=await g();d(A)}}else{const D=localStorage.getItem("goodlift_user_profile");l(D?{...Do,...JSON.parse(D)}:{...Do,displayName:"Guest User",memberSince:new Date().toISOString()});const A=await g();d(A)}}catch(D){console.error("Error loading profile:",D),l(Do)}finally{p(!1)}})()},[t,s,g]);const y=x.useCallback(async j=>{try{l(j),t&&!s?await Pn(t.uid,{profile:j}):localStorage.setItem("goodlift_user_profile",JSON.stringify(j))}catch(D){throw console.error("Error saving profile:",D),D}},[t,s]),v=x.useCallback((j,D)=>{const A={...a,[j]:D};return y(A)},[a,y]),b=x.useCallback(async(j,D="lbs")=>{const A={weight:j,unit:D,date:new Date().toISOString()},_=[...a.weightHistory,A],P={...a,currentWeight:j,weightUnit:D,weightHistory:_};await y(P)},[a,y]),S=x.useCallback(()=>{if(!a.displayName)return"?";const j=a.displayName.trim().split(" ");return j.length===1?j[0].charAt(0).toUpperCase():(j[0].charAt(0)+j[j.length-1].charAt(0)).toUpperCase()},[a.displayName]),T=x.useCallback(()=>{let j=0,D=7;return a.displayName&&j++,a.avatar&&j++,a.currentWeight&&j++,a.bio&&j++,a.goals&&j++,a.weightHistory.length>0&&j++,a.email&&j++,Math.round(j/D*100)},[a]),k=x.useCallback(async()=>{const j=await g();d(j),t&&!s&&await Pn(t.uid,{stats:j})},[g,t,s]),w={profile:a,stats:u,loading:h,saveProfile:y,updateProfile:v,addWeightEntry:b,getInitials:S,getProfileCompletion:T,refreshStats:k};return r.jsx(jE.Provider,{value:w,children:e})};kE.propTypes={children:E.node.isRequired};const v7=(e=[])=>{if(!e||e.length===0)return{currentStreak:0,longestStreak:0};const t=[...e].sort((g,y)=>new Date(y.date)-new Date(g.date)),s=new Set(t.map(g=>{const y=new Date(g.date);return y.setHours(0,0,0,0),y.getTime()})),a=new Date;a.setHours(0,0,0,0);let l=0,u=0,d=0,h=new Date(a),p=0;for(let g=0;g<365;g++){const y=h.getTime();if(Math.floor((a.getTime()-h.getTime())/(1e3*60*60*24))%7===0&&g>0&&(p=0),s.has(y))d++,l===0&&g<2&&(l=d),u=Math.max(u,d);else if(p++,p>1){const b=new Date(h);if(b.setDate(b.getDate()-1),!s.has(b.getTime())&&g>0){if(l===0&&d>0)break;d=0,p=0}}h.setDate(h.getDate()-1)}return{currentStreak:l,longestStreak:u}},S7=(e=[],t=30)=>{const s=new Date;s.setDate(s.getDate()-t),s.setHours(0,0,0,0);const l=e.filter(p=>{const g=new Date(p.date);return g.setHours(0,0,0,0),g>=s}).length,u=t/7,d=Math.ceil(u*6);return d===0?0:Math.min(100,Math.round(l/d*100))},TE=()=>{const[e,t]=x.useState(!0),[s,a]=x.useState([]),[l,u]=x.useState([]),[d,h]=x.useState([]),[p,g]=x.useState(!1),[y,v]=x.useState(""),[b,S]=x.useState(0),[T,k]=x.useState(!1),[w,j]=x.useState("all"),[D,A]=x.useState(null),[_,P]=x.useState(null),{profile:M,addWeightEntry:R}=Cx(),[N,W]=x.useState({currentStreak:0,longestStreak:0}),[U,V]=x.useState(0),[z,de]=x.useState({}),[F,K]=x.useState({personalRecords:0,totalWorkouts:0,averageDuration:0,strengthSessions:0,cardioSessions:0,yogaSessions:0}),B=()=>{switch(w){case"7days":return 7;case"30days":return 30;case"3months":return 90;case"year":return 365;case"custom":return null;case"all":return null;default:return null}},q=()=>{const Z=B();if(w==="custom"&&D&&_){const ce=new Date(D);ce.setHours(0,0,0,0);const se=new Date(_);return se.setHours(23,59,59,999),s.filter(oe=>{const ke=new Date(oe.date);return ke>=ce&&ke<=se})}if(!Z)return s;const ae=new Date;return ae.setDate(ae.getDate()-Z),ae.setHours(0,0,0,0),s.filter(ce=>{const se=new Date(ce.date);return se.setHours(0,0,0,0),se>=ae})},le=Z=>{let ae=0,ce=0,se=0,oe=0;const ke={};Z.forEach(xe=>{xe.type==="strength"||xe.type==="full"||xe.type==="upper"||xe.type==="lower"||xe.type==="push"||xe.type==="pull"||xe.type==="legs"?ae++:xe.type==="cardio"||xe.cardioType?ce++:xe.type==="yoga"||xe.yogaType?se++:xe.exercises&&Object.keys(xe.exercises).length>0&&ae++;const ge=xe.duration||0;oe+=ge,xe.exercises&&Object.entries(xe.exercises).forEach(([Ee,Le])=>{!Le.sets||Le.sets.length===0||Le.sets.forEach(je=>{const qe=je.weight||0,fe=je.reps||0;qe===0&&fe===0||(!ke[Ee]||qe>ke[Ee].weight)&&(ke[Ee]={weight:qe,reps:fe,date:xe.date})})})});const X=Z.length,ve=X>0?Math.round(oe/X):0;return{personalRecords:Object.keys(ke).length,totalWorkouts:X,averageDuration:ve,strengthSessions:ae,cardioSessions:ce,yogaSessions:se}},he=async()=>{t(!0);try{const[Z,,ae]=await Promise.all([ei(),bh(),Kc()]);a(Z),de(ae);const ce=v7(Z);W(ce);const se=S7(Z,30);V(se);const oe=Mo.getPinnedExercises();u(oe);try{const ve=(await(await fetch(Oh)).json()).map(xe=>xe["Exercise Name"]).sort();h(ve)}catch(ke){console.error("Error loading exercises:",ke);const X=Mo.getUniqueExercises(Z);h(X)}}catch(Z){console.error("Error loading progress data:",Z)}finally{t(!1)}};x.useEffect(()=>{he()},[]),x.useEffect(()=>{if(s.length>0||w||D||_){const Z=q(),ae=le(Z);K(ae)}},[s,w,D,_]);const J=Z=>{Mo.removePinnedExercise(Z),u(l.filter(ae=>ae.exerciseName!==Z))},ee=Z=>{Mo.addPinnedExercise(Z,"weight")&&(u([...l,{exerciseName:Z,trackingMode:"weight"}]),g(!1),v(""))};return e?r.jsx(L,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:r.jsxs(I,{variant:"h5",color:"text.secondary",children:["Loading",r.jsx(Ke.span,{initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:"..."})]})}):r.jsxs(L,{sx:{width:"100%",minHeight:"100vh",overflowX:"hidden"},children:[r.jsx(Lh,{title:"Progress",subtitle:"Track your fitness journey"}),r.jsxs(L,{sx:{maxWidth:"1400px",margin:"0 auto",p:{xs:1,sm:2,md:3},pb:{xs:"80px",md:3},width:"100%",boxSizing:"border-box"},children:[r.jsx(L,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:r.jsxs(qc,{value:b,onChange:(Z,ae)=>S(ae),variant:"fullWidth",sx:{maxWidth:{xs:"100%",sm:600},margin:"0 auto"},children:[r.jsx(Fi,{icon:r.jsx(wS,{}),iconPosition:"start",label:"Statistics",sx:{minHeight:48}}),r.jsx(Fi,{icon:r.jsx($o,{}),iconPosition:"start",label:"Achievements",sx:{minHeight:48}})]})}),b===0&&r.jsxs(Oe,{spacing:3,children:[r.jsx(L,{sx:{display:"flex",justifyContent:"flex-end"},children:r.jsx(Te,{startIcon:r.jsx(Im,{}),onClick:()=>k(!0),variant:"outlined",size:"small",sx:{textTransform:"none",borderRadius:2},children:w==="all"?"All Time":w==="7days"?"7 Days":w==="30days"?"30 Days":w==="3months"?"3 Months":w==="year"?"Year":w==="custom"?"Custom":"Filter"})}),r.jsx(Je,{sx:{bgcolor:"background.paper",boxShadow:3,border:"2px solid #FF6B35"},children:r.jsx(ot,{sx:{p:2.5},children:r.jsxs(Oe,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:2},children:[r.jsx(OC,{sx:{fontSize:48,color:"#FF6B35"}}),r.jsxs(L,{children:[r.jsx(I,{variant:"h2",sx:{fontWeight:700,color:"#FF6B35",lineHeight:1},children:N.currentStreak}),r.jsx(I,{variant:"body1",color:"text.secondary",sx:{fontWeight:600},children:"Day Streak"})]})]}),r.jsxs(L,{sx:{textAlign:"right"},children:[r.jsx(I,{variant:"caption",color:"text.secondary",children:"Longest"}),r.jsx(I,{variant:"h5",sx:{fontWeight:700,color:"primary.main"},children:N.longestStreak})]})]})})}),r.jsx(Je,{sx:{bgcolor:"background.paper"},children:r.jsx(ot,{sx:{p:2},children:r.jsxs(Oe,{spacing:1.5,children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(wS,{sx:{color:"secondary.main"}}),r.jsx(I,{variant:"body1",sx:{fontWeight:600},children:"Adherence"})]}),r.jsxs(I,{variant:"h4",sx:{fontWeight:700,color:"secondary.main"},children:[U,"%"]})]}),r.jsx($i,{variant:"determinate",value:U,sx:{height:12,borderRadius:6,bgcolor:"action.hover","& .MuiLinearProgress-bar":{borderRadius:6,background:"linear-gradient(90deg, #4CAF50 0%, #8BC34A 100%)"}}}),r.jsx(I,{variant:"caption",color:"text.secondary",children:"Last 30 days  6 workouts/week target"})]})})}),s.length>0&&r.jsx(Je,{sx:{bgcolor:"background.paper"},children:r.jsxs(ot,{children:[r.jsxs(Oe,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[r.jsxs(I,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(Pa,{})," Progressive Overload"]}),l.length<10&&r.jsx(Te,{size:"small",startIcon:r.jsx(Xs,{}),onClick:()=>g(!0),sx:{color:"secondary.main"},children:"Track Exercise"})]}),l.length===0?r.jsxs(L,{sx:{textAlign:"center",py:4},children:[r.jsx(I,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Track your favorite exercises to see your progress over time"}),r.jsx(Te,{variant:"contained",startIcon:r.jsx(Xs,{}),onClick:()=>g(!0),children:"Add Exercise"})]}):r.jsx(Oe,{spacing:2,children:l.map(Z=>{const ae=Mo.getExerciseProgression(s,Z.exerciseName,"weight"),ce=ae.length>0?ae[0].value:0,se=ae.length>0?ae[ae.length-1].value:0,oe=se>ce?"up":se<ce?"down":"same";return r.jsxs(L,{sx:{p:2,borderRadius:2,border:"1px solid",borderColor:"divider",bgcolor:"background.default"},children:[r.jsxs(Oe,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",sx:{mb:1.5},children:[r.jsx(I,{variant:"body1",sx:{fontWeight:600,flex:1},children:Z.exerciseName}),r.jsx(Ue,{onClick:()=>J(Z.exerciseName),size:"small",sx:{color:"text.secondary"},children:r.jsx(tl,{sx:{fontSize:18}})})]}),ae.length>0?r.jsxs(Oe,{direction:"row",alignItems:"center",spacing:2,sx:{justifyContent:"center",py:1},children:[r.jsxs(L,{sx:{textAlign:"center"},children:[r.jsx(I,{variant:"caption",color:"text.secondary",children:"Starting"}),r.jsxs(I,{variant:"h5",sx:{fontWeight:700,color:"primary.main"},children:[ce," lbs"]})]}),r.jsxs(L,{sx:{display:"flex",alignItems:"center",px:2},children:[oe==="up"&&r.jsx(Pa,{sx:{fontSize:40,color:"success.main"}}),oe==="down"&&r.jsx(Mg,{sx:{fontSize:40,color:"error.main"}}),oe==="same"&&r.jsx(Ra,{sx:{fontSize:40,color:"text.secondary"}})]}),r.jsxs(L,{sx:{textAlign:"center"},children:[r.jsx(I,{variant:"caption",color:"text.secondary",children:"Current"}),r.jsxs(I,{variant:"h5",sx:{fontWeight:700,color:"secondary.main"},children:[se," lbs"]})]})]}):r.jsx(I,{variant:"caption",color:"text.secondary",sx:{display:"block",textAlign:"center",py:2},children:"No data available"})]},Z.exerciseName)})})]})}),r.jsx(Je,{sx:{bgcolor:"background.paper"},children:r.jsxs(ot,{sx:{p:3},children:[r.jsx(I,{variant:"h6",sx:{mb:3,fontWeight:600},children:"Workout Summary"}),r.jsxs(Oe,{spacing:2.5,children:[r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[r.jsx(Jt,{sx:{fontSize:28,color:"primary.main"}}),r.jsx(I,{variant:"body1",sx:{fontWeight:500},children:"Total Workouts"})]}),r.jsx(I,{variant:"h5",sx:{fontWeight:700,color:"primary.main"},children:F.totalWorkouts})]}),r.jsx(dn,{}),r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[r.jsx(Jt,{sx:{fontSize:28,color:"error.main"}}),r.jsx(I,{variant:"body1",sx:{fontWeight:500},children:"Total Strength"})]}),r.jsx(I,{variant:"h5",sx:{fontWeight:700,color:"error.main"},children:F.strengthSessions})]}),r.jsx(dn,{}),r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[r.jsx(fi,{sx:{fontSize:28,color:"success.main"}}),r.jsx(I,{variant:"body1",sx:{fontWeight:500},children:"Total Cardio"})]}),r.jsx(I,{variant:"h5",sx:{fontWeight:700,color:"success.main"},children:F.cardioSessions})]}),r.jsx(dn,{}),r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[r.jsx(Js,{sx:{fontSize:28,color:"secondary.main"}}),r.jsx(I,{variant:"body1",sx:{fontWeight:500},children:"Total Yoga"})]}),r.jsx(I,{variant:"h5",sx:{fontWeight:700,color:"secondary.main"},children:F.yogaSessions})]})]})]})}),r.jsx(vE,{weightHistory:M.weightHistory||[],currentWeight:M.currentWeight,currentUnit:M.weightUnit||"lbs",onAddWeight:R})]}),b===1&&r.jsx(xE,{userStats:z,workoutHistory:s}),r.jsxs(vn,{open:p,onClose:()=>{g(!1),v("")},maxWidth:"xs",fullWidth:!0,children:[r.jsx(On,{children:"Add Exercise to Track"}),r.jsxs(Sn,{children:[r.jsx(dt,{fullWidth:!0,placeholder:"Search exercises...",value:y,onChange:Z=>v(Z.target.value),variant:"outlined",size:"small",sx:{mb:2,mt:1}}),r.jsx(Un,{sx:{maxHeight:400,overflow:"auto"},children:d.filter(Z=>!l.some(ae=>ae.exerciseName===Z)).filter(Z=>Z.toLowerCase().includes(y.toLowerCase())).map(Z=>r.jsx(lt,{disablePadding:!0,children:r.jsx(Ni,{onClick:()=>ee(Z),children:r.jsx(jt,{primary:Z})})},Z))})]}),r.jsx(wn,{children:r.jsx(Te,{onClick:()=>{g(!1),v("")},children:"Cancel"})})]}),r.jsxs(vn,{open:T,onClose:()=>k(!1),maxWidth:"xs",fullWidth:!0,children:[r.jsx(On,{children:"Time Frame Filter"}),r.jsx(Sn,{children:r.jsxs(Oe,{spacing:2,sx:{mt:1},children:[r.jsxs(kC,{value:w,exclusive:!0,onChange:(Z,ae)=>{ae!==null&&j(ae)},orientation:"vertical",fullWidth:!0,children:[r.jsx(zi,{value:"all",children:"All Time"}),r.jsx(zi,{value:"7days",children:"Last 7 Days"}),r.jsx(zi,{value:"30days",children:"Last 30 Days"}),r.jsx(zi,{value:"3months",children:"Last 3 Months"}),r.jsx(zi,{value:"year",children:"Last Year"}),r.jsx(zi,{value:"custom",children:"Custom Range"})]}),w==="custom"&&r.jsx(Th,{dateAdapter:ax,children:r.jsxs(Oe,{spacing:2,children:[r.jsx(rh,{label:"Start Date",value:D,onChange:Z=>A(Z),slotProps:{textField:{fullWidth:!0}}}),r.jsx(rh,{label:"End Date",value:_,onChange:Z=>P(Z),slotProps:{textField:{fullWidth:!0}}})]})})]})}),r.jsxs(wn,{children:[r.jsx(Te,{onClick:()=>{j("all"),A(null),P(null)},children:"Clear Filters"}),r.jsx(Te,{onClick:()=>k(!1),variant:"contained",children:"Apply"})]})]})]})]})};TE.propTypes={};const w7=()=>{const[e,t]=x.useState(!0),[s,a]=x.useState(""),[l,u]=x.useState(""),[d,h]=x.useState(""),[p,g]=x.useState(!1),{login:y,signup:v}=La();return{isLogin:e,email:s,setEmail:a,password:l,setPassword:u,error:d,loading:p,handleSubmit:async T=>{if(T.preventDefault(),!s||!l){h("Please fill in all fields");return}if(l.length<6){h("Password must be at least 6 characters");return}try{h(""),g(!0),e?await y(s,l):await v(s,l)}catch(k){console.error("Auth error:",k.code||"Unknown error"),k.code==="auth/user-not-found"||k.code==="auth/wrong-password"?h("Invalid email or password"):k.code==="auth/email-already-in-use"?h("Email already in use"):k.code==="auth/invalid-email"?h("Invalid email address"):k.code==="auth/weak-password"?h("Password is too weak"):h(`Failed to ${e?"log in":"sign up"}. Please try again.`)}finally{g(!1)}},toggleMode:()=>{t(!e),h(""),a(""),u("")}}},C7=()=>{const{isLogin:e,email:t,setEmail:s,password:a,setPassword:l,error:u,loading:d,handleSubmit:h,toggleMode:p}=w7(),{continueAsGuest:g}=La();return r.jsx(L,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:y=>y.palette.background.default,p:2},children:r.jsx(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:r.jsx(Je,{sx:{maxWidth:440,width:"100%",borderRadius:4,boxShadow:"0 8px 32px rgba(19, 70, 134, 0.2)"},children:r.jsxs(ot,{sx:{p:4},children:[r.jsxs(L,{sx:{textAlign:"center",mb:4},children:[r.jsx(Ke.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},style:{marginBottom:"1rem"},children:r.jsx("img",{src:"/goodlift/goodlift-logo.svg",alt:"GoodLift",style:{height:"80px",width:"auto"}})}),r.jsx(Xo,{mode:"wait",children:r.jsxs(Ke.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.3},children:[r.jsx(I,{variant:"h5",sx:{fontWeight:600,mb:1},children:e?"Welcome Back":"Create Account"}),r.jsx(I,{variant:"body2",color:"text.secondary",children:e?"Log in to continue your fitness journey":"Sign up to start tracking your workouts"})]},e?"login":"signup")})]}),r.jsx(Xo,{mode:"wait",children:u&&r.jsx(Ke.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:r.jsx(At,{severity:"error",sx:{mb:3},children:u})})}),r.jsxs(L,{component:"form",onSubmit:h,children:[r.jsx(dt,{fullWidth:!0,label:"Email",type:"email",value:t,onChange:y=>s(y.target.value),disabled:d,required:!0,sx:{mb:2}}),r.jsx(dt,{fullWidth:!0,label:"Password",type:"password",value:a,onChange:y=>l(y.target.value),disabled:d,required:!0,sx:{mb:3}}),r.jsx(Ke.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:r.jsx(Te,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:d,sx:{py:1.5,fontSize:"1.1rem",fontWeight:600,bgcolor:"primary.main","&:hover":{bgcolor:"primary.dark"}},children:d?"Please wait...":e?"Log In":"Sign Up"})}),r.jsx(dn,{sx:{my:2},children:"OR"}),r.jsx(Ke.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:r.jsx(Te,{fullWidth:!0,variant:"outlined",size:"large",disabled:d,onClick:g,sx:{py:1.5,fontSize:"1.1rem",fontWeight:600,borderColor:"secondary.main",color:"secondary.main","&:hover":{borderColor:"secondary.dark",bgcolor:"rgba(237, 63, 39, 0.05)"}},children:"Continue as Guest"})}),r.jsx(L,{sx:{mt:3,pt:3,borderTop:"1px solid",borderColor:"divider",textAlign:"center"},children:r.jsxs(I,{variant:"body2",color:"text.secondary",children:[e?"Don't have an account? ":"Already have an account? ",r.jsx(Te,{onClick:p,disabled:d,sx:{color:"primary.main",fontWeight:600,textDecoration:"underline","&:hover":{bgcolor:"transparent",textDecoration:"underline"}},children:e?"Sign Up":"Log In"})]})})]})]})})})})},kc=[{name:"Neck Side Stretch",primaryMuscles:"Neck",secondaryMuscles:"Upper Back, Traps",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=v5I0J_6w6jw"},{name:"Neck Rotation",primaryMuscles:"Neck",secondaryMuscles:"Traps",type:"Dynamic",duration:60,youtubeLink:"https://www.youtube.com/watch?v=xfGKhRo5bpI"},{name:"Shoulder Cross-Body Stretch",primaryMuscles:"Delts, Rear Delts",secondaryMuscles:"Upper Back",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=b6H9SHC0H9Y"},{name:"Overhead Triceps Stretch",primaryMuscles:"Triceps",secondaryMuscles:"Delts, Lats",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=EQO_8NRkljo"},{name:"Arm Circles",primaryMuscles:"Delts",secondaryMuscles:"Upper Back, Chest",type:"Dynamic",duration:60,youtubeLink:"https://www.youtube.com/watch?v=Ue_PRcVBdm8"},{name:"Doorway Chest Stretch",primaryMuscles:"Chest",secondaryMuscles:"Front Delts",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=qGJABe9R2zQ"},{name:"Standing Chest Expansion",primaryMuscles:"Chest",secondaryMuscles:"Front Delts, Biceps",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=mvh5zHB-xkc"},{name:"Child's Pose",primaryMuscles:"Lower Back",secondaryMuscles:"Lats, Glutes",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=2MTIlxJ82vY",difficulty:"Beginner"},{name:"Cat-Cow Stretch",primaryMuscles:"Back, Core",secondaryMuscles:"Abs",type:"Dynamic",duration:60,youtubeLink:"https://www.youtube.com/watch?v=kqnua4rHVVA",difficulty:"Beginner"},{name:"Seated Spinal Twist",primaryMuscles:"Back, Obliques",secondaryMuscles:"Lower Back, Glutes",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=DGd7kJyPZjU",difficulty:"Beginner"},{name:"Hip Flexor Stretch (Lunge)",primaryMuscles:"Hip Flexors",secondaryMuscles:"Quads",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=hdW4IXXCzKE"},{name:"Pigeon Pose",primaryMuscles:"Glutes, Hip Flexors",secondaryMuscles:"Lower Back",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=0_zDd6kQ",difficulty:"Intermediate"},{name:"Figure 4 Stretch",primaryMuscles:"Glutes",secondaryMuscles:"Lower Back, Hip Flexors",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=JbyjNymZP8M"},{name:"Butterfly Stretch",primaryMuscles:"Inner Thighs, Groin",secondaryMuscles:"Hip Flexors",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=mJiSzM1X7m0"},{name:"Standing Quad Stretch",primaryMuscles:"Quads",secondaryMuscles:"Hip Flexors",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=kRHQDSuhYKE"},{name:"Lying Quad Stretch",primaryMuscles:"Quads",secondaryMuscles:"Hip Flexors",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=5Mn5g6W-BZk"},{name:"Standing Hamstring Stretch",primaryMuscles:"Hamstrings",secondaryMuscles:"Lower Back, Calves",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=BPmv-3EQk2c"},{name:"Seated Forward Fold",primaryMuscles:"Hamstrings, Lower Back",secondaryMuscles:"Calves",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=U21floGmwDs",difficulty:"Beginner"},{name:"Downward Dog",primaryMuscles:"Hamstrings, Calves",secondaryMuscles:"Back, Delts",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=gZJWYonQKxY",difficulty:"Beginner"},{name:"Wall Calf Stretch",primaryMuscles:"Calves",secondaryMuscles:"Hamstrings",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=hjCRc2jYKyY"},{name:"Standing Calf Raise Stretch",primaryMuscles:"Calves",secondaryMuscles:"",type:"Dynamic",duration:60,youtubeLink:"https://www.youtube.com/watch?v=V3E_fFrLZmE"},{name:"Cobra Stretch",primaryMuscles:"Abs",secondaryMuscles:"Hip Flexors, Chest",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=JDcdhTuycOI",difficulty:"Beginner"},{name:"Side Bend Stretch",primaryMuscles:"Obliques",secondaryMuscles:"Lats, Side Delts",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=y1bKLSIvR1A"},{name:"World's Greatest Stretch",primaryMuscles:"Hip Flexors, Hamstrings",secondaryMuscles:"Glutes, Back, Chest",type:"Dynamic",duration:60,youtubeLink:"https://www.youtube.com/watch?v=a25W3YHBXP4",difficulty:"Intermediate"},{name:"Thread the Needle",primaryMuscles:"Upper Back, Delts",secondaryMuscles:"Obliques, Lower Back",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=lVGgLfg3wQ8",difficulty:"Beginner"},{name:"Warrior I Pose",primaryMuscles:"Hip Flexors, Quads",secondaryMuscles:"Glutes, Core",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=VC4s_PmJBkA",difficulty:"Beginner"},{name:"Triangle Pose",primaryMuscles:"Hamstrings, Obliques",secondaryMuscles:"Inner Thighs, Back",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=2S-ozXfUL9g",difficulty:"Intermediate"},{name:"Happy Baby Pose",primaryMuscles:"Hip Flexors, Glutes",secondaryMuscles:"Lower Back, Inner Thighs",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=p28vdRmDuLg",difficulty:"Beginner"},{name:"Supine Spinal Twist",primaryMuscles:"Lower Back, Obliques",secondaryMuscles:"Glutes, Chest",type:"Static",duration:60,youtubeLink:"https://www.youtube.com/watch?v=DQBT3u-x7TE",difficulty:"Beginner"}],oC=e=>e.split(",").map(t=>t.trim()).filter(t=>t.length>0),Tc=e=>{const t=oC(e.primaryMuscles),s=oC(e.secondaryMuscles||"");return[...t,...s]},Om={NECK:["Neck","Traps"],SHOULDERS:["Delts","Front Delts","Rear Delts","Side Delts"],CHEST:["Chest","Upper Chest","Lower Chest"],BACK:["Back","Upper Back","Lower Back","Lats"],CORE:["Core","Abs","Obliques"],ARMS:["Biceps","Triceps","Forearms"],HIPS:["Hip Flexors","Glutes","Groin","Inner Thighs"],LEGS_UPPER:["Quads","Hamstrings"],LEGS_LOWER:["Calves"]},lC=(e,t)=>Tc(e).some(a=>t.some(l=>a.includes(l)||l.includes(a))),Cg=(e=10)=>{const t=[],s=new Set,a=Object.keys(Om);for(const l of a){if(t.length>=e)break;const u=Om[l],d=kc.filter(h=>lC(h,u)&&!t.includes(h));if(d.length>0){const h=Math.floor(Math.random()*d.length);t.push(d[h]),s.add(l)}}for(;t.length<e;){const l=a.filter(u=>!s.has(u));if(l.length>0){const u=l[Math.floor(Math.random()*l.length)],d=Om[u],h=kc.filter(p=>lC(p,d)&&!t.includes(p));if(h.length>0){const p=Math.floor(Math.random()*h.length);t.push(h[p]),s.add(u)}else s.add(u)}else{const u=kc.filter(h=>!t.includes(h));if(u.length===0)break;const d=Math.floor(Math.random()*u.length);t.push(u[d])}}return jg(t)},j7=(e,t=10)=>{if(!e||e.length===0)return Cg(t);const s=kc.filter(u=>{const d=Tc(u);return e.some(h=>d.some(p=>p.includes(h)||h.includes(p)))});if(s.length===0)return console.warn("No stretches found for specified muscles, using full body selection"),Cg(t);if(s.length<=t)return jg(s);const a=[],l=new Set;for(const u of e){if(a.length>=t)break;const d=s.filter(h=>a.includes(h)?!1:Tc(h).some(g=>g.includes(u)||u.includes(g)));if(d.length>0){const h=Math.floor(Math.random()*d.length);a.push(d[h]),Tc(d[h]).forEach(p=>l.add(p))}}for(;a.length<t;){const u=s.filter(h=>!a.includes(h));if(u.length===0)break;const d=Math.floor(Math.random()*u.length);a.push(u[d])}return jg(a)},jg=e=>{const t=[...e];for(let s=t.length-1;s>0;s--){const a=Math.floor(Math.random()*(s+1));[t[s],t[a]]=[t[a],t[s]]}return t},k7=()=>{const e=new Set;return kc.forEach(t=>{Tc(t).forEach(s=>e.add(s))}),Array.from(e).sort()},DE=({onStartStretchSession:e})=>{const[t,s]=x.useState(null),[a,l]=x.useState([]),u=k7(),d=()=>{s("full")},h=()=>{s("custom")},p=b=>{l(S=>S.includes(b)?S.filter(T=>T!==b):[...S,b])},g=()=>{t==="full"?e("full",[]):t==="custom"&&e("custom",a)},y=()=>{s(null),l([])},v=t==="custom"&&a.length===0;return r.jsx(L,{sx:{padding:{xs:"2rem 1rem",sm:"2rem",md:"3rem"},maxWidth:"1200px",margin:"0 auto",minHeight:"calc(100vh - 60px)"},children:r.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsx(I,{variant:"h3",sx:{fontFamily:"'Montserrat', sans-serif",fontWeight:800,color:"primary.main",marginBottom:"0.5rem",textAlign:"center"},children:"Stretching"}),r.jsx(I,{variant:"body1",sx:{color:"text.secondary",marginBottom:"2rem",textAlign:"center"},children:"Improve flexibility and recovery with guided stretches"}),!t&&r.jsx(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:r.jsxs(nn,{container:!0,spacing:3,sx:{marginTop:2},children:[r.jsx(nn,{item:!0,xs:12,md:6,children:r.jsx(Ke.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:r.jsx(Je,{onClick:d,sx:{cursor:"pointer",height:"100%",transition:"all 0.3s ease","&:hover":{boxShadow:6,borderColor:"primary.main"},border:"2px solid",borderColor:"divider"},children:r.jsxs(ot,{sx:{padding:4},children:[r.jsx(L,{sx:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:2},children:r.jsx(Jt,{sx:{fontSize:60,color:"primary.main"}})}),r.jsx(I,{variant:"h5",sx:{fontWeight:700,textAlign:"center",marginBottom:2,color:"primary.main"},children:"Full Body Stretch"}),r.jsx(I,{variant:"body2",sx:{textAlign:"center",marginBottom:2,color:"text.secondary"},children:"A balanced routine covering all major muscle groups for complete flexibility and recovery."}),r.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1,marginTop:2},children:[r.jsx(Wm,{sx:{color:"secondary.main"}}),r.jsx(I,{variant:"h6",sx:{fontWeight:600,color:"secondary.main"},children:"~10 minutes"})]})]})})})}),r.jsx(nn,{item:!0,xs:12,md:6,children:r.jsx(Ke.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:r.jsx(Je,{onClick:h,sx:{cursor:"pointer",height:"100%",transition:"all 0.3s ease","&:hover":{boxShadow:6,borderColor:"info.main"},border:"2px solid",borderColor:"divider"},children:r.jsxs(ot,{sx:{padding:4},children:[r.jsx(L,{sx:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:2},children:r.jsx(Jt,{sx:{fontSize:60,color:"info.main"}})}),r.jsx(I,{variant:"h5",sx:{fontWeight:700,textAlign:"center",marginBottom:2,color:"info.main"},children:"Custom Stretch"}),r.jsx(I,{variant:"body2",sx:{textAlign:"center",marginBottom:2,color:"text.secondary"},children:"Target specific muscle groups that need attention."}),r.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1,marginTop:2},children:[r.jsx(Wm,{sx:{color:"secondary.main"}}),r.jsx(I,{variant:"h6",sx:{fontWeight:600,color:"secondary.main"},children:"~10 minutes"})]})]})})})})]})}),t==="custom"&&r.jsx(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:r.jsxs(Je,{sx:{marginTop:3,padding:3},children:[r.jsx(I,{variant:"h5",sx:{fontWeight:700,marginBottom:2,textAlign:"center",color:"primary.main"},children:"Select Muscle Groups"}),r.jsx(I,{variant:"body2",sx:{marginBottom:3,textAlign:"center",color:"text.secondary"},children:"Choose one or more muscle groups to focus on"}),r.jsx(q2,{children:r.jsx(nn,{container:!0,spacing:2,children:u.map(b=>r.jsx(nn,{item:!0,xs:6,sm:4,md:3,children:r.jsx(Vd,{control:r.jsx(Y2,{checked:a.includes(b),onChange:()=>p(b),color:"primary"}),label:b})},b))})})]})}),t==="full"&&r.jsx(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:r.jsxs(Je,{sx:{marginTop:3,padding:3},children:[r.jsx(I,{variant:"h5",sx:{fontWeight:700,marginBottom:2,textAlign:"center",color:"primary.main"},children:"Full Body Stretch Session"}),r.jsxs(Oe,{spacing:1,sx:{marginTop:2},children:[r.jsxs(I,{variant:"body1",children:[r.jsx("strong",{children:"Duration:"})," ~10 minutes"]}),r.jsxs(I,{variant:"body1",children:[r.jsx("strong",{children:"Focus:"})," All major muscle groups"]}),r.jsxs(I,{variant:"body1",children:[r.jsx("strong",{children:"Stretches:"})," 10 carefully selected stretches"]})]})]})}),t&&r.jsxs(L,{sx:{marginTop:4,display:"flex",justifyContent:"center",gap:2},children:[r.jsx(Te,{variant:"outlined",size:"large",onClick:y,sx:{minWidth:"150px",padding:"12px 32px",fontSize:"1.1rem"},children:"Back"}),r.jsx(Te,{variant:"contained",size:"large",startIcon:r.jsx(Qs,{}),onClick:g,disabled:v,sx:{minWidth:"200px",padding:"12px 32px",fontSize:"1.1rem",fontWeight:600},children:"Start Session"})]})]})})};DE.propTypes={onStartStretchSession:E.func.isRequired};class T7{constructor(){this.isSupported="speechSynthesis"in window,this.isEnabled=this.loadTTSPreference(),this.currentUtterance=null}isTTSSupported(){return this.isSupported}loadTTSPreference(){try{const t=localStorage.getItem("ttsEnabled");return t===null?!0:t==="true"}catch{return!0}}saveTTSPreference(){try{localStorage.setItem("ttsEnabled",this.isEnabled.toString())}catch(t){console.warn("Could not save TTS preference",t)}}toggleTTS(){return this.isEnabled=!this.isEnabled,this.saveTTSPreference(),!this.isEnabled&&this.isSupported&&window.speechSynthesis.cancel(),this.isEnabled}setEnabled(t){this.isEnabled=t,this.saveTTSPreference(),!t&&this.isSupported&&window.speechSynthesis.cancel()}isEnabledState(){return this.isEnabled}speak(t,s={}){return new Promise((a,l)=>{if(!this.isSupported){console.warn("Speech Synthesis not supported in this browser"),l(new Error("Speech Synthesis not supported"));return}if(!this.isEnabled){a();return}window.speechSynthesis.cancel();const u=new SpeechSynthesisUtterance(t);u.rate=s.rate||1,u.pitch=s.pitch||1,u.volume=s.volume||1,u.lang=s.lang||"en-US";const d=window.speechSynthesis.getVoices();if(d.length>0){let h=d.find(p=>p.lang.startsWith("en")&&(p.name.toLowerCase().includes("female")||p.name.toLowerCase().includes("natural")||p.name.toLowerCase().includes("premium")||p.name.toLowerCase().includes("neural")));h||(h=d.find(p=>p.lang.startsWith("en")&&p.localService===!1)),h||(h=d.find(p=>p.lang.startsWith("en"))),h&&(u.voice=h)}u.onend=()=>{this.currentUtterance=null,a()},u.onerror=h=>{console.error("Speech synthesis error:",h),this.currentUtterance=null,l(h)},this.currentUtterance=u,window.speechSynthesis.speak(u)})}async announceExercise(t){try{await this.speak(t,{rate:.85,pitch:.95})}catch(s){console.warn("Could not announce exercise:",s)}}async announceMessage(t){try{await this.speak(t,{rate:1})}catch(s){console.warn("Could not announce message:",s)}}stop(){this.isSupported&&(window.speechSynthesis.cancel(),this.currentUtterance=null)}pause(){this.isSupported&&window.speechSynthesis.speaking&&window.speechSynthesis.pause()}resume(){this.isSupported&&window.speechSynthesis.paused&&window.speechSynthesis.resume()}isSpeaking(){return this.isSupported&&window.speechSynthesis.speaking}}const lc=new T7,EE=({stretches:e,onComplete:t,onExit:s})=>{const[a,l]=x.useState(0),[u,d]=x.useState(60),[h,p]=x.useState(!1),[g,y]=x.useState(lc.isEnabledState()),v=x.useRef(null),b=x.useRef(!1),S=e[a],T=(60-u)/60*100,k=(a*60+(60-u))/(e.length*60)*100;x.useEffect(()=>(mr.requestWakeLock(),()=>{mr.releaseWakeLock(),lc.stop()}),[]),x.useEffect(()=>{!b.current&&g&&(lc.announceExercise(S.name),b.current=!0)},[a,S.name,g]),x.useEffect(()=>(h?v.current&&clearInterval(v.current):v.current=setInterval(()=>{d(M=>M<=1?a<e.length-1?(l(R=>R+1),b.current=!1,zt.playTransitionBeep(),60):(clearInterval(v.current),zt.playCompletionFanfare(),setTimeout(()=>{t()},500),0):M-1)},1e3),()=>{v.current&&clearInterval(v.current)}),[h,a,e.length,t]);const w=()=>{p(M=>!M)},j=x.useCallback(()=>{a<e.length-1&&(l(M=>M+1),d(60),b.current=!1,zt.playTransitionBeep())},[a,e.length]),D=x.useCallback(()=>{a>0&&(l(M=>M-1),d(60),b.current=!1,zt.playTransitionBeep())},[a]),A=()=>{const M=lc.toggleTTS();y(M)},_=()=>{v.current&&clearInterval(v.current),lc.stop(),s()},P=M=>{const R=Math.floor(M/60),N=M%60;return`${R}:${N.toString().padStart(2,"0")}`};return r.jsxs(L,{sx:{padding:{xs:"0.5rem",sm:"1rem",md:"2rem"},maxWidth:"900px",margin:"0 auto",minHeight:"calc(100vh - 60px)",width:"100%",boxSizing:"border-box"},children:[r.jsxs(L,{sx:{marginBottom:3},children:[r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",marginBottom:1},children:[r.jsxs(I,{variant:"body2",sx:{fontWeight:600},children:["Stretch ",a+1," of ",e.length]}),r.jsxs(I,{variant:"body2",sx:{fontWeight:600},children:[Math.round(k),"% Complete"]})]}),r.jsx($i,{variant:"determinate",value:k,sx:{height:8,borderRadius:4,backgroundColor:"rgba(19, 70, 134, 0.1)","& .MuiLinearProgress-bar":{backgroundColor:"primary.main"}}})]}),r.jsx(Xo,{mode:"wait",children:r.jsx(Ke.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},children:r.jsx(Je,{sx:{background:"linear-gradient(135deg, rgba(19, 70, 134, 0.05) 0%, rgba(237, 63, 39, 0.05) 100%)",boxShadow:4},children:r.jsxs(ot,{sx:{padding:{xs:2,sm:3},width:"100%",boxSizing:"border-box"},children:[r.jsx(I,{variant:"h4",sx:{fontFamily:"'Montserrat', sans-serif",fontWeight:800,color:"primary.main",marginBottom:{xs:1,sm:2},textAlign:"center",fontSize:{xs:"1.5rem",sm:"2rem"}},children:S.name}),r.jsxs(L,{sx:{marginBottom:{xs:2,sm:3},textAlign:"center"},children:[r.jsx(I,{variant:"h1",sx:{fontFamily:"'Montserrat', sans-serif",fontWeight:800,color:h?"grey.500":"secondary.main",fontSize:{xs:"3rem",sm:"4rem",md:"5rem"},marginBottom:1,lineHeight:1},children:P(u)}),r.jsx($i,{variant:"determinate",value:T,sx:{height:{xs:8,sm:12},borderRadius:6,backgroundColor:"rgba(237, 63, 39, 0.1)","& .MuiLinearProgress-bar":{backgroundColor:"secondary.main"}}})]}),r.jsxs(L,{sx:{marginBottom:{xs:2,sm:3}},children:[r.jsx(I,{variant:"subtitle2",sx:{fontWeight:600,marginBottom:.5,color:"primary.main",fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Primary Muscles:"}),r.jsx(L,{sx:{display:"flex",flexWrap:"wrap",gap:.5,marginBottom:{xs:1,sm:2}},children:S.primaryMuscles.split(",").map((M,R)=>r.jsx(ct,{label:M.trim(),color:"primary",size:"medium"},R))}),S.secondaryMuscles&&r.jsxs(r.Fragment,{children:[r.jsx(I,{variant:"subtitle2",sx:{fontWeight:600,marginBottom:.5,color:"text.secondary",fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Secondary Muscles:"}),r.jsx(L,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:S.secondaryMuscles.split(",").map((M,R)=>{const N=M.trim();return N?r.jsx(ct,{label:N,variant:"outlined",size:"small"},R):null})})]})]}),S.youtubeLink&&r.jsx(Te,{variant:"outlined",startIcon:r.jsx(G2,{}),onClick:()=>window.open(S.youtubeLink,"_blank"),fullWidth:!0,sx:{marginBottom:{xs:2,sm:3},fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Watch Demonstration"}),r.jsxs(L,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:{xs:1,sm:2},marginBottom:{xs:1,sm:2},flexWrap:"wrap"},children:[r.jsx(Zn,{title:"Previous stretch",children:r.jsx("span",{children:r.jsx(Ue,{onClick:D,disabled:a===0,sx:{backgroundColor:"primary.main",color:"white","&:hover":{backgroundColor:"primary.dark"},"&:disabled":{backgroundColor:"grey.300",color:"grey.500"}},children:r.jsx(TC,{})})})}),r.jsx(Zn,{title:h?"Resume":"Pause",children:r.jsx(Ue,{onClick:w,sx:{backgroundColor:"secondary.main",color:"white",width:{xs:56,sm:64},height:{xs:56,sm:64},"&:hover":{backgroundColor:"secondary.dark"}},children:h?r.jsx(Qs,{sx:{fontSize:{xs:32,sm:40}}}):r.jsx(Wg,{sx:{fontSize:{xs:32,sm:40}}})})}),r.jsx(Zn,{title:"Next stretch",children:r.jsx("span",{children:r.jsx(Ue,{onClick:j,disabled:a===e.length-1,sx:{backgroundColor:"primary.main",color:"white","&:hover":{backgroundColor:"primary.dark"},"&:disabled":{backgroundColor:"grey.300",color:"grey.500"}},children:r.jsx(fh,{})})})})]}),r.jsxs(L,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:2},children:[r.jsx(Zn,{title:g?"Voice announcements on":"Voice announcements off",children:r.jsx(Ue,{onClick:A,color:g?"primary":"default",children:g?r.jsx(Pg,{}):r.jsx(bC,{})})}),r.jsx(Te,{variant:"outlined",color:"error",startIcon:r.jsx(DC,{}),onClick:_,sx:{minWidth:"120px"},children:"End Session"})]})]})})},a)})]})};EE.propTypes={stretches:E.arrayOf(E.shape({name:E.string.isRequired,primaryMuscles:E.string.isRequired,secondaryMuscles:E.string,youtubeLink:E.string})).isRequired,onComplete:E.func.isRequired,onExit:E.func.isRequired};const D7=()=>{const[e,t]=x.useState("selection"),[s,a]=x.useState([]),[l,u]=x.useState(""),[d,h]=x.useState(null),p=(b,S)=>{let T;b==="full"?T=Cg(10):T=j7(S,10),a(T),u(b),t("stretch-session")},g=async()=>{try{const b={id:`stretch_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,date:new Date().toISOString(),type:l,stretchesCompleted:s.length,stretches:s.map(S=>S.name),duration:s.length*60};await KR(b)}catch(b){console.error("Failed to save stretch session:",b)}h("stretch"),t("complete")},y=()=>{t("selection"),a([])},v=()=>{t("selection"),a([]),h(null)};return r.jsxs(r.Fragment,{children:[e==="selection"&&r.jsx(DE,{onStartStretchSession:p}),e==="stretch-session"&&s.length>0&&r.jsx(EE,{stretches:s,onComplete:g,onExit:y}),e==="complete"&&r.jsx(L,{sx:{padding:{xs:"2rem 1rem",sm:"2rem",md:"3rem"},maxWidth:"700px",margin:"0 auto",minHeight:"calc(100vh - 60px)",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(Ke.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},style:{width:"100%"},children:r.jsx(Je,{sx:{background:d==="stretch"?"linear-gradient(135deg, rgba(19, 70, 134, 0.05) 0%, rgba(76, 175, 80, 0.05) 100%)":"linear-gradient(135deg, rgba(19, 70, 134, 0.05) 0%, rgba(156, 39, 176, 0.05) 100%)",boxShadow:6},children:r.jsxs(ot,{sx:{padding:{xs:3,sm:5},textAlign:"center"},children:[r.jsx(Ke.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},children:r.jsx(qo,{sx:{fontSize:100,color:d==="stretch"?"success.main":"#9c27b0",marginBottom:2}})}),r.jsx(I,{variant:"h3",sx:{fontFamily:"'Montserrat', sans-serif",fontWeight:800,color:"primary.main",marginBottom:2},children:"Session Complete!"}),r.jsx(I,{variant:"h6",sx:{color:"text.secondary",marginBottom:3},children:d==="stretch"?"Great job! You've completed your stretch session.":"Great job! You've completed your mobility session."}),d==="stretch"&&r.jsxs(r.Fragment,{children:[r.jsxs(I,{variant:"body1",sx:{marginBottom:1},children:[s.length," stretches completed"]}),r.jsxs(I,{variant:"body1",sx:{marginBottom:4},children:["~",s.length," minutes of stretching"]})]}),r.jsx(Te,{variant:"contained",size:"large",onClick:v,sx:{minWidth:"200px",padding:"12px 32px",fontSize:"1.1rem",fontWeight:600},children:"Done"})]})})})})]})},E7={Chest:"Lats",Lats:"Chest",Quads:"Hamstrings",Hamstrings:"Quads",Biceps:"Triceps",Triceps:"Biceps",Shoulders:"Lats"},AE=()=>{const[e,t]=x.useState({}),[s,a]=x.useState([]),[l,u]=x.useState(!0),[d,h]=x.useState(null);x.useEffect(()=>{(async()=>{try{u(!0);const S=await fetch(Oh);if(!S.ok)throw new Error(`Failed to load exercises: ${S.status}`);const T=await S.json();a(T);const k=T.reduce((w,j)=>{const D=j["Primary Muscle"].split("(")[0].trim();return w[D]||(w[D]=[]),w[D].push(j),w},{});t(k),u(!1)}catch(S){console.error("Failed to load exercise data:",S),h(S.message),u(!1)}})()},[]);const p=x.useCallback((b,S,T=[],k="all")=>{let w=(e[b]||[]).filter(D=>!T.some(A=>A["Exercise Name"]===D["Exercise Name"]));if(k!=="all"){const D=Array.isArray(k)?k:[k];w=w.filter(A=>{const _=A.Equipment.toLowerCase();return D.some(P=>{const M=P.toLowerCase();return M==="cable machine"?_.includes("cable"):M==="dumbbells"?_.includes("dumbbell"):_.includes(M)})})}if(w.length<S)return console.warn(`Insufficient exercises for ${b}. Available: ${w.length}, Requested: ${S}`),w;const j=[...w];for(let D=j.length-1;D>0;D--){const A=Math.floor(Math.random()*(D+1));[j[D],j[A]]=[j[A],j[D]]}return j.slice(0,S)},[e]),g=x.useCallback((b,S="all",T=F4)=>{let k=[];switch(b){case"upper":{const w=Math.ceil(T*.375),j=Math.ceil(T*.375),D=Math.floor(T*.125),A=T-w-j-D;k.push(...p("Chest",w,k,S)),k.push(...p("Lats",j,k,S)),k.push(...p("Biceps",D,k,S)),k.push(...p("Triceps",A,k,S));break}case"lower":{const w=.375+Math.random()*.125,j=Math.ceil(T*w),D=Math.floor(T*.25)+Math.floor(Math.random()*2),A=T-j-D;k.push(...p("Quads",j,k,S)),k.push(...p("Hamstrings",D,k,S)),A>0&&k.push(...p("Core",A,k,S));break}case"full":{const w=Math.ceil(T*.25),j=Math.ceil(T*.25),D=Math.ceil(T*.25),A=Math.floor(T*.125)+Math.floor(Math.random()*2),_=T-w-j-D-A;k.push(...p("Chest",w,k,S)),k.push(...p("Lats",j,k,S)),k.push(...p("Quads",D,k,S)),k.push(...p("Hamstrings",A,k,S)),_>0&&k.push(...p("Core",_,k,S));break}case"push":{const w=Math.ceil(T*.375),j=Math.ceil(T*.375),D=T-w-j;k.push(...p("Chest",w,k,S)),k.push(...p("Delts",j,k,S)),k.push(...p("Triceps",D,k,S));break}case"pull":{const w=Math.ceil(T*.5),j=Math.ceil(T*.25),D=T-w-j;k.push(...p("Lats",w,k,S)),k.push(...p("Rear Delts",j,k,S)),k.push(...p("Biceps",D,k,S));break}case"legs":{const w=.375+Math.random()*.125,j=Math.ceil(T*w),D=Math.floor(T*.25)+Math.floor(Math.random()*2),A=T-j-D;k.push(...p("Quads",j,k,S)),k.push(...p("Hamstrings",D,k,S)),A>0&&k.push(...p("Core",A,k,S));break}case"core":k.push(...p("Core",T,k,S));break;default:console.warn(`Unknown workout type: ${b}`);break}for(;k.length<T&&k.length>0;){const w=Object.keys(e);if(w.length===0)break;const j=w[Math.floor(Math.random()*w.length)],D=p(j,1,k,S);if(D.length>0)k.push(D[0]);else break}return k.slice(0,T)},[e,p]),y=x.useCallback((b,S=[2,2,2,2])=>{const T=[],k=[...b];for(const w of S){if(k.length===0)break;const j=[];if(k.length>0){const D=k.shift();j.push(D);const A=D["Primary Muscle"].split("(")[0].trim(),_=E7[A];for(let P=1;P<w&&k.length>0;P++){let M=-1;P===1&&_&&(M=k.findIndex(N=>N["Primary Muscle"].includes(_))),M===-1&&(M=k.findIndex(N=>!j.some(W=>W["Primary Muscle"].includes(N["Primary Muscle"].split("(")[0].trim())))),M===-1&&(M=0);const R=k.splice(M,1)[0];j.push(R)}}T.push(...j)}return k.length>0&&T.push(...k),T},[]);return{generateWorkout:x.useCallback((b,S="all",T=[2,2,2,2])=>{if(Object.keys(e).length===0)return console.error("Exercise database is empty. Cannot generate workout."),[];const k=T.reduce((D,A)=>D+A,0),w=g(b,S,k);return y(w,T)},[e,g,y]),allExercises:s,exerciseDB:e,loading:l,error:d}},A7=()=>{const{allExercises:e,loading:t}=AE(),[s,a]=x.useState(""),[l,u]=x.useState("all"),[d,h]=x.useState("all"),[p,g]=x.useState("all"),[y,v]=x.useState(new Set),[b,S]=x.useState({}),[T,k]=x.useState({}),[w,j]=x.useState(!1);x.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),(async()=>{const U=new Set,V={},z={};await Promise.all(e.map(async de=>{const F=de["Exercise Name"];XR(F)&&U.add(F);const[K,B]=await Promise.all([zo(F),Cr(F)]);V[F]=K??"",z[F]=B??""})),v(U),S(V),k(z)})()},[e]);const D=x.useMemo(()=>{const W=new Set;return e.forEach(U=>{const V=U["Primary Muscle"].split("(")[0].trim();W.add(V)}),["all",...Array.from(W).sort()]},[e]),A=x.useMemo(()=>{const W=new Set;return e.forEach(U=>{W.add(U.Equipment)}),["all",...Array.from(W).sort()]},[e]),_=x.useMemo(()=>{const W=new Set;return e.forEach(U=>{W.add(U["Exercise Type"])}),["all",...Array.from(W).sort()]},[e]),P=x.useMemo(()=>e.filter(W=>{const U=s===""||W["Exercise Name"].toLowerCase().includes(s.toLowerCase())||W["Primary Muscle"].toLowerCase().includes(s.toLowerCase())||W.Equipment.toLowerCase().includes(s.toLowerCase()),V=W["Primary Muscle"].split("(")[0].trim(),z=l==="all"||V===l,de=d==="all"||W.Equipment===d,F=p==="all"||W["Exercise Type"]===p;return U&&z&&de&&F}),[e,s,l,d,p]),M=W=>{const U=QR(W);v(V=>{const z=new Set(V);return U?z.add(W):z.delete(W),z})},R=async(W,U)=>{if(U==="")S(V=>({...V,[W]:""})),await Bi(W,null);else{const V=Math.max(0,Number(U));S(z=>({...z,[W]:V})),await Bi(W,V)}},N=async(W,U)=>{if(U==="")k(V=>({...V,[W]:""})),await Kd(W,null);else{const V=Math.max(1,Number(U));k(z=>({...z,[W]:V})),await Kd(W,V)}};return t?r.jsx(L,{sx:{p:4,textAlign:"center"},children:r.jsx(I,{variant:"h5",color:"text.secondary",children:"Loading exercises..."})}):r.jsxs(L,{sx:{width:"100%",minHeight:"100vh"},children:[r.jsx(Lh,{title:"Exercise Database"}),r.jsx(Ke.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{padding:"1rem",maxWidth:"1400px",margin:"0 auto"},children:P.length>0||s||l!=="all"||d!=="all"||p!=="all"?r.jsxs(L,{children:[r.jsxs(dc,{sx:{position:"sticky",top:0,zIndex:10,borderRadius:"8px 8px 0 0",boxShadow:"0 2px 8px rgba(19, 70, 134, 0.08)"},children:[r.jsx(L,{sx:{p:1.5,borderBottom:"1px solid",borderColor:"divider",bgcolor:"background.paper"},children:r.jsxs(Oe,{direction:"row",spacing:1,alignItems:"center",children:[r.jsx(dt,{size:"small",placeholder:"Search exercises...",value:s,onChange:W=>a(W.target.value),InputProps:{startAdornment:r.jsx(Dc,{position:"start",children:r.jsx(CS,{fontSize:"small"})})},sx:{flex:1,"& .MuiOutlinedInput-root":{borderRadius:1,bgcolor:"background.default"},"& .MuiInputBase-input":{fontSize:"0.875rem"}}}),r.jsx(Zn,{title:w?"Hide filters":"Show filters",children:r.jsx(Ue,{onClick:()=>j(!w),sx:{bgcolor:w?"primary.main":"background.default",color:w?"white":"text.primary","&:hover":{bgcolor:w?"primary.dark":"action.hover"}},children:r.jsx(Im,{})})}),r.jsxs(I,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem",whiteSpace:"nowrap",minWidth:"fit-content"},children:[P.length," of ",e.length]})]})}),r.jsx(_m,{in:w,children:r.jsx(L,{sx:{p:1.5,pt:1,bgcolor:"background.paper"},children:r.jsxs(Oe,{direction:{xs:"column",sm:"row"},spacing:1,children:[r.jsxs(Ft,{size:"small",sx:{minWidth:{xs:"100%",sm:150}},children:[r.jsx(Mn,{children:"Muscle Group"}),r.jsxs(Yt,{value:l,onChange:W=>u(W.target.value),label:"Muscle Group",sx:{fontSize:"0.875rem",bgcolor:"background.default"},children:[r.jsx(ze,{value:"all",children:"All Muscles"}),D.filter(W=>W!=="all").map(W=>r.jsx(ze,{value:W,children:W},W))]})]}),r.jsxs(Ft,{size:"small",sx:{minWidth:{xs:"100%",sm:150}},children:[r.jsx(Mn,{children:"Equipment"}),r.jsxs(Yt,{value:d,onChange:W=>h(W.target.value),label:"Equipment",sx:{fontSize:"0.875rem",bgcolor:"background.default"},children:[r.jsx(ze,{value:"all",children:"All Equipment"}),A.filter(W=>W!=="all").map(W=>r.jsx(ze,{value:W,children:W},W))]})]}),r.jsxs(Ft,{size:"small",sx:{minWidth:{xs:"100%",sm:150}},children:[r.jsx(Mn,{children:"Exercise Type"}),r.jsxs(Yt,{value:p,onChange:W=>g(W.target.value),label:"Exercise Type",sx:{fontSize:"0.875rem",bgcolor:"background.default"},children:[r.jsx(ze,{value:"all",children:"All Types"}),_.filter(W=>W!=="all").map(W=>r.jsx(ze,{value:W,children:W},W))]})]})]})})})]}),r.jsx($2,{component:dc,sx:{borderRadius:"0 0 8px 8px",boxShadow:"0 2px 8px rgba(19, 70, 134, 0.08)",maxHeight:"calc(100vh - 250px)",overflow:"auto"},children:r.jsxs(K2,{stickyHeader:!0,size:"small",sx:{minWidth:{xs:300,sm:650}},children:[r.jsx(Q2,{children:r.jsxs(jS,{children:[r.jsx(Ws,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5},children:r.jsx(L,{sx:{display:"flex",alignItems:"center",gap:.5},children:r.jsx("span",{children:""})})}),r.jsx(Ws,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5},children:"Exercise Name"}),r.jsx(Ws,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5,display:{xs:"none",sm:"table-cell"}},children:"Type"}),r.jsx(Ws,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5,display:{xs:"none",md:"table-cell"}},children:"Equipment"}),r.jsx(Ws,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5,textAlign:"center"},children:"Target Weight (lbs)"}),r.jsx(Ws,{sx:{fontWeight:600,bgcolor:"primary.main",color:"white",py:1.5,textAlign:"center"},children:"Target Reps"})]})}),r.jsx(X2,{children:P.map((W,U)=>{const V=y.has(W["Exercise Name"]),z=W["Exercise Name"],de=b[z],F=T[z];return r.jsxs(jS,{sx:{"&:hover":{bgcolor:"rgba(138, 190, 185, 0.05)"},bgcolor:U%2===0?"background.paper":"rgba(0, 0, 0, 0.02)"},children:[r.jsx(Ws,{sx:{py:1},children:r.jsx(Zn,{title:V?"Remove from favorites":"Add to favorites",children:r.jsx(Ue,{size:"small",onClick:()=>M(z),sx:{color:V?"rgb(237, 63, 39)":"action.disabled",p:.5},children:V?r.jsx(Z2,{fontSize:"small"}):r.jsx(J2,{fontSize:"small"})})})}),r.jsx(Ws,{sx:{py:1},children:r.jsxs(L,{children:[r.jsx(I,{variant:"body2",sx:{fontWeight:600,fontSize:{xs:"0.75rem",sm:"0.875rem"},color:"primary.main"},children:z}),r.jsxs(I,{variant:"caption",color:"text.secondary",sx:{fontSize:{xs:"0.65rem",sm:"0.75rem"},display:{xs:"block",sm:"none"}},children:[W["Exercise Type"],"  ",W.Equipment]})]})}),r.jsx(Ws,{sx:{py:1,display:{xs:"none",sm:"table-cell"}},children:r.jsx(ct,{label:W["Exercise Type"],size:"small",variant:"outlined",sx:{fontSize:"0.7rem",height:22,borderColor:W["Exercise Type"]==="Compound"?"primary.main":"text.secondary",color:W["Exercise Type"]==="Compound"?"primary.main":"text.secondary"}})}),r.jsx(Ws,{sx:{py:1,display:{xs:"none",md:"table-cell"}},children:r.jsx(I,{variant:"body2",sx:{fontSize:"0.8rem"},children:W.Equipment})}),r.jsx(Ws,{sx:{py:1},children:r.jsx(dt,{type:"tel",inputMode:"decimal",size:"small",value:de===""?"":de,onChange:K=>R(z,K.target.value),onFocus:K=>K.target.select(),placeholder:"",inputProps:{min:0,step:5,pattern:"[0-9]*([.,][0-9]+)?","aria-label":`Target weight in pounds for ${z}`,style:{textAlign:"center",fontSize:"0.875rem",padding:"4px 8px"}},sx:{width:{xs:60,sm:70},"& .MuiOutlinedInput-root":{"& input":{textAlign:"center"}}}})}),r.jsx(Ws,{sx:{py:1},children:r.jsx(dt,{type:"tel",inputMode:"numeric",size:"small",value:F===""?"":F,onChange:K=>N(z,K.target.value),onFocus:K=>K.target.select(),placeholder:"",inputProps:{min:1,step:1,pattern:"\\d*","aria-label":`Target repetitions for ${z}`,style:{textAlign:"center",fontSize:"0.875rem",padding:"4px 8px"}},sx:{width:{xs:60,sm:70},"& .MuiOutlinedInput-root":{"& input":{textAlign:"center"}}}})})]},z)})})]})})]}):r.jsxs(dc,{sx:{borderRadius:2,boxShadow:"0 2px 8px rgba(19, 70, 134, 0.08)"},children:[r.jsxs(L,{sx:{p:2,borderBottom:"1px solid",borderColor:"divider"},children:[r.jsxs(Oe,{direction:"row",spacing:1,alignItems:"center",sx:{mb:w?2:0},children:[r.jsx(dt,{size:"small",placeholder:"Search exercises...",value:s,onChange:W=>a(W.target.value),InputProps:{startAdornment:r.jsx(Dc,{position:"start",children:r.jsx(CS,{fontSize:"small"})})},sx:{flex:1,"& .MuiOutlinedInput-root":{borderRadius:1,bgcolor:"background.default"},"& .MuiInputBase-input":{fontSize:"0.875rem"}}}),r.jsx(Zn,{title:w?"Hide filters":"Show filters",children:r.jsx(Ue,{onClick:()=>j(!w),sx:{bgcolor:w?"primary.main":"background.default",color:w?"white":"text.primary","&:hover":{bgcolor:w?"primary.dark":"action.hover"}},children:r.jsx(Im,{})})}),r.jsxs(I,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem",whiteSpace:"nowrap"},children:["0 of ",e.length]})]}),r.jsx(_m,{in:w,children:r.jsxs(Oe,{direction:{xs:"column",sm:"row"},spacing:1,children:[r.jsxs(Ft,{size:"small",sx:{minWidth:{xs:"100%",sm:150}},children:[r.jsx(Mn,{children:"Muscle Group"}),r.jsxs(Yt,{value:l,onChange:W=>u(W.target.value),label:"Muscle Group",sx:{fontSize:"0.875rem",bgcolor:"background.default"},children:[r.jsx(ze,{value:"all",children:"All Muscles"}),D.filter(W=>W!=="all").map(W=>r.jsx(ze,{value:W,children:W},W))]})]}),r.jsxs(Ft,{size:"small",sx:{minWidth:{xs:"100%",sm:150}},children:[r.jsx(Mn,{children:"Equipment"}),r.jsxs(Yt,{value:d,onChange:W=>h(W.target.value),label:"Equipment",sx:{fontSize:"0.875rem",bgcolor:"background.default"},children:[r.jsx(ze,{value:"all",children:"All Equipment"}),A.filter(W=>W!=="all").map(W=>r.jsx(ze,{value:W,children:W},W))]})]}),r.jsxs(Ft,{size:"small",sx:{minWidth:{xs:"100%",sm:150}},children:[r.jsx(Mn,{children:"Exercise Type"}),r.jsxs(Yt,{value:p,onChange:W=>g(W.target.value),label:"Exercise Type",sx:{fontSize:"0.875rem",bgcolor:"background.default"},children:[r.jsx(ze,{value:"all",children:"All Types"}),_.filter(W=>W!=="all").map(W=>r.jsx(ze,{value:W,children:W},W))]})]})]})})]}),r.jsxs(L,{sx:{textAlign:"center",py:8},children:[r.jsx(I,{variant:"h6",color:"text.secondary",children:"No exercises found"}),r.jsx(I,{variant:"body2",color:"text.secondary",children:"Try adjusting your search or filters"})]})]})})]})},ME=x.createContext(),PE=()=>{const e=x.useContext(ME);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e},OE=({children:e})=>{const[t,s]=x.useState(()=>{try{return localStorage.getItem("themeMode")==="light"?"light":"dark"}catch{return"dark"}});x.useEffect(()=>{try{localStorage.setItem("themeMode",t)}catch(d){console.warn("Could not save theme preference",d)}},[t]);const a=()=>{s(d=>d==="dark"?"light":"dark")},l=x.useMemo(()=>eP({palette:t==="dark"?{mode:"dark",primary:{main:"#1db584",light:"#2dd099",dark:"#18a071"},secondary:{main:"#ff8c00",light:"#ffa333",dark:"#cc7000"},background:{default:"#1e2939",paper:"#2a3647"},text:{primary:"#ffffff",secondary:"#a0a8b3"},success:{main:"#1db584"},warning:{main:"#ff8c00"},error:{main:"#ef5350"},info:{main:"#6b8a9d"}}:{mode:"light",primary:{main:"#18a071",light:"#1db584",dark:"#0f7a55"},secondary:{main:"#ff8c00",light:"#ffa333",dark:"#cc7000"},background:{default:"#f5f5f5",paper:"#ffffff"},text:{primary:"#1e2939",secondary:"#4a5568"},success:{main:"#18a071"},warning:{main:"#ff8c00"},error:{main:"#ef5350"},info:{main:"#6b8a9d"}},typography:{fontFamily:"'Poppins', sans-serif",h1:{fontFamily:"'Montserrat', sans-serif",fontWeight:800},h2:{fontFamily:"'Montserrat', sans-serif",fontWeight:800},h3:{fontFamily:"'Montserrat', sans-serif",fontWeight:700},h4:{fontFamily:"'Montserrat', sans-serif",fontWeight:700},h5:{fontFamily:"'Montserrat', sans-serif",fontWeight:700},h6:{fontFamily:"'Montserrat', sans-serif",fontWeight:700}},components:{MuiCard:{styleOverrides:{root:{backgroundImage:"none"}}},MuiPaper:{styleOverrides:{root:{backgroundImage:"none"}}},MuiButton:{styleOverrides:{containedPrimary:t==="dark"?{backgroundColor:"#1db584","&:hover":{backgroundColor:"#18a071"}}:{backgroundColor:"#18a071",color:"#ffffff","&:hover":{backgroundColor:"#0f7a55"}},containedSecondary:t==="dark"?{backgroundColor:"#ff8c00","&:hover":{backgroundColor:"#cc7000"}}:{backgroundColor:"#ff8c00",color:"#ffffff","&:hover":{backgroundColor:"#cc7000"}}}}}}),[t]),u={mode:t,toggleTheme:a,theme:l};return r.jsx(ME.Provider,{value:u,children:e})};OE.propTypes={children:E.node.isRequired};const RE=x.createContext({}),M7=()=>x.useContext(RE),Eo={units:"imperial",theme:"dark",notifications:!0,sounds:!0,warmupDuration:5,cooldownDuration:5,restTimerDefault:90,autoProgressionEnabled:!0,language:"en",pushNotificationsEnabled:!1,dailyWellnessTasksEnabled:!1,wellnessCategories:[],relationshipStatus:"All",morningNotificationTime:{hour:8,minute:0},followupNotificationTime:{hour:21,minute:0},enableFollowupNotifications:!0},_E=({children:e})=>{const{currentUser:t,isGuest:s}=La(),[a,l]=x.useState(Eo),[u,d]=x.useState(!0);x.useEffect(()=>{(async()=>{d(!0);try{if(t&&!s){const S=await mi(t.uid);S?.preferences?l({...Eo,...S.preferences}):l(Eo)}else{const S=localStorage.getItem("goodlift_preferences");l(S?{...Eo,...JSON.parse(S)}:Eo)}}catch(S){console.error("Error loading preferences:",S),l(Eo)}finally{d(!1)}})()},[t,s]);const h=x.useCallback(async b=>{try{l(b),t&&!s?await Pn(t.uid,{preferences:b}):localStorage.setItem("goodlift_preferences",JSON.stringify(b))}catch(S){console.error("Error saving preferences:",S)}},[t,s]),p=x.useCallback((b,S)=>{const T={...a,[b]:S};h(T)},[a,h]),g=x.useCallback((b,S)=>{if(!b)return 0;const T=a.units==="imperial"?"lbs":"kg";return S===T?b:S==="lbs"&&T==="kg"?Math.round(b*.453592*10)/10:S==="kg"&&T==="lbs"?Math.round(b*2.20462*10)/10:b},[a.units]),y=x.useCallback(()=>a.units==="imperial"?"lbs":"kg",[a.units]),v={preferences:a,loading:u,updatePreference:p,savePreferences:h,convertWeight:g,getDisplayUnit:y};return r.jsx(RE.Provider,{value:v,children:e})};_E.propTypes={children:E.node.isRequired};const P7=e=>!e||e.trim().length===0?{valid:!1,error:"Display name is required"}:e.trim().length<2?{valid:!1,error:"Display name must be at least 2 characters"}:e.trim().length>50?{valid:!1,error:"Display name must be less than 50 characters"}:/^[a-zA-Z0-9\s\-']+$/.test(e)?{valid:!0}:{valid:!1,error:"Display name contains invalid characters"},cC=(e,t=500)=>e?e.length>t?{valid:!1,error:`Text must be less than ${t} characters`}:{valid:!0}:{valid:!0},Rm=e=>e?e.replace(/<[^>]*>/g,"").trim().replace(/\s+/g," "):"",O7=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Unknown",R7=(e,t)=>{const s={profile:e,stats:t,exportedAt:new Date().toISOString()};return JSON.stringify(s,null,2)},_7=(e,t)=>{const s=R7(e,t),a=new Blob([s],{type:"application/json"}),l=URL.createObjectURL(a),u=document.createElement("a");u.href=l,u.download=`goodlift-profile-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(l)},IE=({open:e,onClose:t,onConfirm:s,resetInfo:a})=>{const[l,u]=x.useState(""),[d,h]=x.useState(!1),[p,g]=x.useState(null),y=l.toLowerCase()==="reset",v=async()=>{h(!0),g(null);try{await s(),u(""),t()}catch(S){g(S.message||"Failed to reset data. Please try again.")}finally{h(!1)}},b=()=>{d||(u(""),g(null),t())};return r.jsxs(vn,{open:e,onClose:b,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:2}},children:[r.jsx(On,{sx:{pb:1},children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(tP,{color:"warning"}),r.jsx(I,{variant:"h6",component:"span",children:"Reset Personal Data"})]})}),r.jsxs(Sn,{children:[r.jsxs(At,{severity:"warning",sx:{mb:2},children:["This action will delete your workout data and statistics. You will have"," ",r.jsx("strong",{children:"30 days"})," to recover your data if you change your mind."]}),r.jsxs(I,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,sx:{mt:2},children:[r.jsx(IC,{color:"error",sx:{verticalAlign:"middle",mr:.5}}),"The following will be deleted:"]}),r.jsxs(Un,{dense:!0,sx:{bgcolor:"background.paper",borderRadius:1,mb:2},children:[a.totalWorkouts>0&&r.jsxs(lt,{children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(Jt,{fontSize:"small"})}),r.jsx(jt,{primary:`${a.totalWorkouts} workout${a.totalWorkouts!==1?"s":""}`,secondary:"Complete workout history"})]}),a.totalHiitSessions>0&&r.jsxs(lt,{children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(Yc,{fontSize:"small"})}),r.jsx(jt,{primary:`${a.totalHiitSessions} HIIT session${a.totalHiitSessions!==1?"s":""}`})]}),a.totalCardioSessions>0&&r.jsxs(lt,{children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(fi,{fontSize:"small"})}),r.jsx(jt,{primary:`${a.totalCardioSessions} cardio session${a.totalCardioSessions!==1?"s":""}`})]}),a.totalStretchSessions>0&&r.jsxs(lt,{children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(Js,{fontSize:"small"})}),r.jsx(jt,{primary:`${a.totalStretchSessions} stretch session${a.totalStretchSessions!==1?"s":""}`})]}),a.totalPlans>0&&r.jsxs(lt,{children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(uh,{fontSize:"small"})}),r.jsx(jt,{primary:`${a.totalPlans} workout plan${a.totalPlans!==1?"s":""}`})]}),a.totalFavoriteWorkouts>0&&r.jsxs(lt,{children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(qi,{fontSize:"small"})}),r.jsx(jt,{primary:`${a.totalFavoriteWorkouts} favorite workout${a.totalFavoriteWorkouts!==1?"s":""}`})]}),a.totalPinnedExercises>0&&r.jsxs(lt,{children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(nP,{fontSize:"small"})}),r.jsx(jt,{primary:`${a.totalPinnedExercises} pinned exercise${a.totalPinnedExercises!==1?"s":""}`})]}),r.jsx(lt,{children:r.jsx(jt,{primary:"All statistics and achievements",secondary:"Streaks, PRs, total volume, etc."})}),r.jsx(lt,{children:r.jsx(jt,{primary:"Exercise weights and target reps",secondary:"Saved progress tracking data"})})]}),r.jsx(dn,{sx:{my:2}}),r.jsxs(I,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,children:[r.jsx(qo,{color:"success",sx:{verticalAlign:"middle",mr:.5}}),"The following will be preserved:"]}),r.jsxs(Un,{dense:!0,sx:{bgcolor:"background.paper",borderRadius:1,mb:2},children:[r.jsx(lt,{children:r.jsx(jt,{primary:"Login credentials and authentication"})}),r.jsx(lt,{children:r.jsx(jt,{primary:"Profile information (name, email, avatar)"})}),r.jsx(lt,{children:r.jsx(jt,{primary:"App preferences and settings"})})]}),r.jsx(At,{severity:"info",sx:{mb:2},children:'Your data will be backed up for 30 days. Use the "Recover Data" option to restore it within this period.'}),p&&r.jsx(At,{severity:"error",sx:{mb:2},children:p}),r.jsxs(L,{sx:{mt:2},children:[r.jsxs(I,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["To confirm, type ",r.jsx("strong",{children:"RESET"})," below:"]}),r.jsx(dt,{fullWidth:!0,size:"small",value:l,onChange:S=>u(S.target.value),placeholder:"Type RESET to confirm",disabled:d,autoComplete:"off",sx:{mt:1}})]})]}),r.jsxs(wn,{sx:{px:3,pb:2},children:[r.jsx(Te,{onClick:b,disabled:d,children:"Cancel"}),r.jsx(Te,{variant:"contained",color:"error",onClick:v,disabled:!y||d,startIcon:d?r.jsx(ph,{size:20}):null,children:d?"Resetting...":"Reset Data"})]})]})};IE.propTypes={open:E.bool.isRequired,onClose:E.func.isRequired,onConfirm:E.func.isRequired,resetInfo:E.shape({totalWorkouts:E.number.isRequired,totalHiitSessions:E.number.isRequired,totalCardioSessions:E.number.isRequired,totalStretchSessions:E.number.isRequired,totalPlans:E.number.isRequired,totalFavoriteWorkouts:E.number.isRequired,totalFavoriteExercises:E.number.isRequired,totalPinnedExercises:E.number.isRequired,hasData:E.bool.isRequired}).isRequired};const WE=({open:e,onClose:t,onRecover:s,backup:a})=>{const[l,u]=x.useState(!1),[d,h]=x.useState(null);if(!a)return null;const p=new Date(a.timestamp),g=new Date(a.expiresAt),y=Math.ceil((a.expiresAt-Date.now())/(1e3*60*60*24)),v=y<=7,b=(a.data.workoutHistory||[]).length,S=(a.data.hiitSessions||[]).length,T=(a.data.cardioSessions||[]).length,k=(a.data.stretchSessions||[]).length,w=(a.data.workoutPlans||[]).length,j=(a.data.favoriteWorkouts||[]).length,D=async()=>{u(!0),h(null);try{await s(),t()}catch(_){h(_.message||"Failed to recover data. Please try again.")}finally{u(!1)}},A=()=>{l||(h(null),t())};return r.jsxs(vn,{open:e,onClose:A,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:2}},children:[r.jsx(On,{sx:{pb:1},children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(Nm,{color:"primary"}),r.jsx(I,{variant:"h6",component:"span",children:"Recover Your Data"})]})}),r.jsxs(Sn,{children:[r.jsxs(At,{severity:v?"warning":"info",sx:{mb:2},icon:r.jsx(sP,{}),children:[r.jsxs(I,{variant:"body2",children:[r.jsx("strong",{children:"Backup created:"})," ",p.toLocaleString()]}),r.jsxs(I,{variant:"body2",children:[r.jsx("strong",{children:"Expires:"})," ",g.toLocaleDateString()," ",r.jsx(ct,{label:`${y} day${y!==1?"s":""} remaining`,size:"small",color:v?"warning":"default",sx:{ml:1}})]})]}),r.jsx(I,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,children:"Your backup contains:"}),r.jsxs(Un,{dense:!0,sx:{bgcolor:"background.paper",borderRadius:1,mb:2},children:[b>0&&r.jsxs(lt,{children:[r.jsx(Jt,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),r.jsx(jt,{primary:`${b} workout${b!==1?"s":""}`})]}),S>0&&r.jsxs(lt,{children:[r.jsx(Yc,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),r.jsx(jt,{primary:`${S} HIIT session${S!==1?"s":""}`})]}),T>0&&r.jsxs(lt,{children:[r.jsx(fi,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),r.jsx(jt,{primary:`${T} cardio session${T!==1?"s":""}`})]}),k>0&&r.jsxs(lt,{children:[r.jsx(Js,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),r.jsx(jt,{primary:`${k} stretch session${k!==1?"s":""}`})]}),w>0&&r.jsxs(lt,{children:[r.jsx(uh,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),r.jsx(jt,{primary:`${w} workout plan${w!==1?"s":""}`})]}),j>0&&r.jsxs(lt,{children:[r.jsx(qi,{fontSize:"small",sx:{mr:2,color:"text.secondary"}}),r.jsx(jt,{primary:`${j} favorite workout${j!==1?"s":""}`})]}),r.jsx(lt,{children:r.jsx(jt,{primary:"All statistics and achievements",secondary:"Including streaks, PRs, and total volume"})}),r.jsx(lt,{children:r.jsx(jt,{primary:"Exercise weights and target reps",secondary:"Your saved progress tracking data"})})]}),r.jsx(At,{severity:"warning",sx:{mb:2},children:r.jsxs(I,{variant:"body2",children:[r.jsx("strong",{children:"Warning:"})," Recovering this backup will replace your current data. Any workouts or progress you've logged since the reset will be lost."]})}),d&&r.jsx(At,{severity:"error",sx:{mb:2},children:d})]}),r.jsxs(wn,{sx:{px:3,pb:2},children:[r.jsx(Te,{onClick:A,disabled:l,children:"Cancel"}),r.jsx(Te,{variant:"contained",color:"primary",onClick:D,disabled:l,startIcon:l?r.jsx(ph,{size:20}):r.jsx(Nm,{}),children:l?"Recovering...":"Recover Data"})]})]})};WE.propTypes={open:E.bool.isRequired,onClose:E.func.isRequired,onRecover:E.func.isRequired,backup:E.shape({timestamp:E.number.isRequired,expiresAt:E.number.isRequired,data:E.object.isRequired})};const NE=({open:e,onClose:t,workout:s,dayOfWeek:a,onSave:l})=>{const[u,d]=x.useState(""),[h,p]=x.useState([]),[g,y]=x.useState([]),[v,b]=x.useState(!1);x.useEffect(()=>{(async()=>{try{const M=await(await fetch("/goodlift/data/exercises.json")).json();y(M)}catch(P){console.error("Error loading exercises:",P),y([])}})()},[]),x.useEffect(()=>{if(s){d(s.sessionName||"");const _=(s.exercises||[]).map((P,M)=>({...P,sets:P.sets?[...P.sets]:[{weight:0,reps:10},{weight:0,reps:10},{weight:0,reps:10}],name:P.name||P.exerciseName||P["Exercise Name"]||"Unknown Exercise",muscleGroup:P.muscleGroup||P.category||P["Muscle Group"]||"",supersetGroup:P.supersetGroup!==void 0?P.supersetGroup:(M%2===0,Math.floor(M/2))}));p(_)}},[s]);const S=_=>{if(!_)return;const P=h.length>0?Math.max(...h.map(R=>R.supersetGroup||0)):-1,M={id:`ex_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,name:_["Exercise Name"]||_.name,exerciseName:_["Exercise Name"]||_.name,muscleGroup:_["Muscle Group"]||_.category||"",category:_["Muscle Group"]||_.category||"",supersetGroup:P+1,sets:[{weight:0,reps:10},{weight:0,reps:10},{weight:0,reps:10}]};p([...h,M]),b(!0)},T=_=>{const P=h.filter((M,R)=>R!==_);p(P),b(!0)},k=(_,P)=>{const M=[...h];M[_]={...M[_],name:P,exerciseName:P},p(M),b(!0)},w=(_,P,M,R)=>{const N=[...h],W=N[_];W.sets[P]={...W.sets[P],[M]:parseFloat(R)||0},p(N),b(!0)},j=(_,P)=>{const M=[...h];M[_]={...M[_],supersetGroup:parseInt(P)},p(M),b(!0)},D=()=>{const _={...s,sessionName:u||s.sessionName,exercises:h,lastModified:new Date().toISOString()};l(_),b(!1)},A=()=>{v?window.confirm("You have unsaved changes. Are you sure you want to close?")&&t():t()};return r.jsxs(vn,{open:e,onClose:A,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{borderRadius:2,maxHeight:"90vh"}},children:[r.jsx(On,{children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[r.jsxs(L,{children:[r.jsx(I,{variant:"h6",fontWeight:700,children:"Edit Workout Details"}),r.jsxs(I,{variant:"caption",color:"text.secondary",children:[a," - Manage exercises, supersets, and set values"]})]}),r.jsx(Ue,{onClick:A,size:"small",children:r.jsx(tl,{})})]})}),r.jsx(Sn,{sx:{pb:1},children:r.jsxs(Oe,{spacing:3,children:[r.jsx(dt,{label:"Workout Name",value:u,onChange:_=>{d(_.target.value),b(!0)},fullWidth:!0,variant:"outlined",size:"small"}),r.jsx(At,{severity:"info",sx:{fontSize:"0.875rem"},children:"Add or remove exercises. Configure superset groups. Edit exercise names and modify weight/reps for existing sets. Changes are preserved without data loss."}),r.jsx(Je,{variant:"outlined",children:r.jsx(ot,{children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:2},children:[r.jsx(zh,{allExercises:g,onExerciseSelect:S,label:"Add Exercise",placeholder:"Search and add exercise..."}),r.jsx(ct,{icon:r.jsx(Xs,{}),label:`${h.length} exercises`,color:"primary",variant:"outlined"})]})})}),h.length===0?r.jsx(At,{severity:"warning",children:"No exercises in this workout. Add exercises above to get started."}):r.jsx(Oe,{spacing:2,children:h.map((_,P)=>r.jsxs(vr,{defaultExpanded:P===0,children:[r.jsx(Sr,{expandIcon:r.jsx(Aa,{}),sx:{"&:hover":{backgroundColor:"action.hover"}},children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1,flex:1},children:[r.jsx(iP,{sx:{color:"text.secondary"}}),r.jsx(Jt,{sx:{color:"primary.main"}}),r.jsxs(L,{sx:{flex:1},children:[r.jsx(I,{variant:"subtitle1",fontWeight:600,children:_.name}),r.jsxs(I,{variant:"caption",color:"text.secondary",children:[_.muscleGroup,"  ",_.sets?.length||0," sets"]})]}),r.jsx(Ue,{size:"small",color:"error",onClick:M=>{M.stopPropagation(),T(P)},children:r.jsx(Oa,{fontSize:"small"})})]})}),r.jsx(wr,{children:r.jsxs(Oe,{spacing:2,children:[r.jsx(L,{children:r.jsx(dt,{label:"Exercise Name",value:_.name,onChange:M=>k(P,M.target.value),fullWidth:!0,size:"small",InputProps:{endAdornment:r.jsx(Dc,{position:"end",children:r.jsx(Yi,{fontSize:"small"})})}})}),r.jsxs(L,{children:[r.jsxs(Ft,{fullWidth:!0,size:"small",children:[r.jsx(Mn,{children:"Superset Group"}),r.jsxs(Yt,{value:_.supersetGroup!==void 0?_.supersetGroup:0,label:"Superset Group",onChange:M=>j(P,M.target.value),children:[Array.from({length:h.length},(M,R)=>r.jsxs(ze,{value:R,children:["Group ",R+1,h.filter(N=>N.supersetGroup===R).length>1&&` (${h.filter(N=>N.supersetGroup===R).length} exercises)`]},R)),r.jsxs(ze,{value:h.length,children:["New Group ",h.length+1]})]})]}),r.jsx(I,{variant:"caption",color:"text.secondary",sx:{mt:.5,display:"block"},children:"Exercises in the same group will be performed as a superset"})]}),r.jsxs(L,{children:[r.jsx(I,{variant:"subtitle2",fontWeight:600,sx:{mb:1},children:"Sets"}),r.jsx(Un,{dense:!0,children:_.sets?.map((M,R)=>r.jsxs(L,{children:[r.jsxs(lt,{sx:{px:0,gap:1},children:[r.jsxs(I,{variant:"body2",sx:{minWidth:60,fontWeight:500},children:["Set ",R+1]}),r.jsx(dt,{label:"Weight",type:"number",value:M.weight,onChange:N=>w(P,R,"weight",N.target.value),size:"small",sx:{flex:1},InputProps:{endAdornment:r.jsx(Dc,{position:"end",children:"lbs"})}}),r.jsx(dt,{label:"Reps",type:"number",value:M.reps,onChange:N=>w(P,R,"reps",N.target.value),size:"small",sx:{flex:1}})]}),R<_.sets.length-1&&r.jsx(dn,{})]},R))})]})]})})]},_.id||P))})]})}),r.jsxs(wn,{sx:{px:3,pb:2,gap:1},children:[r.jsx(Te,{onClick:A,color:"inherit",children:"Cancel"}),r.jsx(Te,{onClick:D,variant:"contained",startIcon:r.jsx(gr,{}),disabled:!v,children:"Save Changes"})]})]})};NE.propTypes={open:E.bool.isRequired,onClose:E.func.isRequired,workout:E.object,dayOfWeek:E.string.isRequired,onSave:E.func.isRequired};const LE=({open:e,onClose:t})=>{const{weeklySchedule:s,currentWeek:a,assignWorkoutToDay:l}=Zi(),[u,d]=x.useState(null),[h,p]=x.useState(""),[g,y]=x.useState(!1),[v,b]=x.useState(!1),[S,T]=x.useState(null),k=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],w=[{value:"full",label:"Full Body"},{value:"upper",label:"Upper Body"},{value:"lower",label:"Lower Body"},{value:"push",label:"Push"},{value:"pull",label:"Pull"},{value:"legs",label:"Legs"},{value:"core",label:"Core"},{value:"cardio",label:"Cardio"},{value:"hiit",label:"HIIT"},{value:"yoga",label:"Yoga"},{value:"mobility",label:"Mobility"},{value:"stretch",label:"Stretching"},{value:"rest",label:"Rest Day"}],j=F=>{if(!F)return r.jsx(Jt,{});const K=F.toLowerCase();return K.includes("cardio")||K.includes("hiit")?r.jsx(fi,{}):K.includes("yoga")||K.includes("mobility")||K.includes("stretch")?r.jsx(Js,{}):K.includes("rest")?r.jsx(dh,{}):r.jsx(Jt,{})},D=F=>{if(!F)return"default";const K=F.toLowerCase();return K.includes("cardio")||K.includes("hiit")?"error":K.includes("yoga")||K.includes("mobility")||K.includes("stretch")?"secondary":K.includes("rest")?"default":"primary"},A=F=>{const K=w.find(B=>B.value===F?.toLowerCase());return K?K.label:F||"Not assigned"},_=F=>{d(F);const K=s[F];K?.sessionType?p(K.sessionType.toLowerCase()):p("")},P=()=>{d(null),p("")},M=async()=>{if(u&&h){const F={sessionType:h,sessionName:A(h),exercises:[],assignedDate:new Date().toISOString()};await l(u,F),y(!0),d(null),p("")}},R=async F=>{await l(F,null),y(!0)},N=F=>{T(F),b(!0)},W=()=>{b(!1),T(null)},U=async F=>{S&&(await l(S,F),y(!0),W())},V=()=>{g&&y(!1),d(null),p(""),t()},de=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date().getDay()];return r.jsxs(vn,{open:e,onClose:V,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{borderRadius:2}},children:[r.jsx(On,{children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[r.jsxs(L,{children:[r.jsx(I,{variant:"h6",fontWeight:700,children:"Edit Weekly Schedule"}),r.jsxs(I,{variant:"caption",color:"text.secondary",children:["Week ",a," - Customize your workout plan"]})]}),r.jsx(Ue,{onClick:V,size:"small",children:r.jsx(tl,{})})]})}),r.jsxs(Sn,{children:[r.jsx(At,{severity:"info",sx:{mb:3},children:"Assign or modify workouts for each day of the week. Changes are saved automatically."}),r.jsx(Oe,{spacing:2,children:k.map(F=>{const K=s[F],B=F===de,q=u===F;return r.jsx(Je,{sx:{border:B?2:1,borderColor:B?"primary.main":"divider",boxShadow:B?2:1},children:r.jsx(ot,{children:q?r.jsxs(L,{children:[r.jsxs(I,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,children:[F,B&&r.jsx(ct,{label:"Today",size:"small",color:"primary",sx:{ml:1}})]}),r.jsxs(L,{sx:{mt:2},children:[r.jsxs(Ft,{fullWidth:!0,size:"small",children:[r.jsx(Mn,{children:"Workout Type"}),r.jsx(Yt,{value:h,label:"Workout Type",onChange:le=>p(le.target.value),children:w.map(le=>r.jsx(ze,{value:le.value,children:le.label},le.value))})]}),r.jsxs(L,{sx:{mt:2,display:"flex",gap:1,justifyContent:"flex-end"},children:[r.jsx(Te,{size:"small",onClick:P,children:"Cancel"}),r.jsx(Te,{size:"small",variant:"contained",onClick:M,disabled:!h,children:"Save"})]})]})]}):r.jsxs(L,{sx:{display:"flex",alignItems:{xs:"flex-start",sm:"center"},justifyContent:"space-between",flexDirection:{xs:"column",sm:"row"},gap:{xs:1,sm:0}},children:[r.jsxs(L,{sx:{display:"flex",alignItems:{xs:"flex-start",sm:"center"},gap:2,flex:1,width:"100%",flexDirection:{xs:"column",sm:"row"}},children:[r.jsxs(L,{sx:{minWidth:{xs:"auto",sm:100},display:"flex",alignItems:"center",gap:1},children:[r.jsx(I,{variant:"subtitle1",fontWeight:600,children:F}),B&&r.jsx(ct,{label:"Today",size:"small",color:"primary"})]}),r.jsxs(L,{sx:{flex:1,display:"flex",alignItems:"center",justifyContent:"space-between",gap:1,width:"100%"},children:[r.jsx(L,{sx:{flex:1,minWidth:0},children:K?r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[j(K.sessionType),r.jsx(I,{variant:"body1",sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:K.sessionName||A(K.sessionType)}),K.fromFavorite&&r.jsx(qi,{sx:{fontSize:16,color:"warning.main",ml:.5}})]}):r.jsx(I,{variant:"body2",color:"text.secondary",children:"No workout assigned"})}),K&&r.jsx(ct,{label:A(K.sessionType),color:D(K.sessionType),size:"small",variant:"outlined",sx:{display:{xs:"none",sm:"flex"},flexShrink:0}})]})]}),r.jsxs(L,{sx:{display:"flex",gap:.5,flexShrink:0,alignSelf:{xs:"flex-end",sm:"center"},ml:{xs:0,sm:1}},children:[r.jsx(Ue,{size:"small",color:"primary",onClick:()=>_(F),title:"Edit workout type",children:r.jsx(Yi,{fontSize:"small"})}),K&&r.jsxs(r.Fragment,{children:[r.jsx(Ue,{size:"small",color:"secondary",onClick:()=>N(F),title:"Edit exercises, supersets, and set values",children:r.jsx(vC,{fontSize:"small"})}),r.jsx(Ue,{size:"small",color:"error",onClick:()=>R(F),title:"Clear workout",children:r.jsx(Oa,{fontSize:"small"})})]})]})]})})},F)})})]}),r.jsx(wn,{sx:{px:3,pb:2},children:r.jsx(Te,{onClick:V,variant:"contained",children:"Done"})}),S&&s[S]&&r.jsx(NE,{open:v,onClose:W,workout:s[S],dayOfWeek:S,onSave:U})]})};LE.propTypes={open:E.bool.isRequired,onClose:E.func.isRequired};const I7=["Communication","Mental Health","Learning","Volunteering","New Experiences","Physical","Nature","Personal Growth","Creativity","Seeking Connection","Media","Maintenance"],W7=JSON.parse(`{"daily":[{"id":"wellness_1","task":"Call or text a friend or family member","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_2","task":"Send a thoughtful message to someone you appreciate","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_3","task":"Compliment a friend, family member, or coworker","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_4","task":"Ask a close friend or family member how they're really doing","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_5","task":"Invite someone for coffee, lunch, or a casual hangout","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_6","task":"Check in with a neighbor or acquaintance","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_7","task":"Send an encouraging text to someone going through a challenge","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_8","task":"Reach out to someone you haven't talked to in a while","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_9","task":"Express appreciation to a family member or friend","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_10","task":"Join a group chat or online community around shared interests","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_11","task":"Smile and greet five people with genuine warmth","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_12","task":"Listen actively to someone without planning your response","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Mental Health"]},{"id":"wellness_13","task":"Share a personal update or story with someone you trust","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Mental Health"]},{"id":"wellness_14","task":"Invite family to a meal together","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_15","task":"Organize a group activity or outing via text or message","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_16","task":"Say hello to a coworker you don't usually interact with","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_17","task":"Text three people you care about just to say hello","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_35","task":"Update or refresh your online dating profile","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_36","task":"Browse dating apps with intention and genuine interest","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_37","task":"Send a thoughtful message to someone new on a dating app","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_38","task":"Write a genuine response to a match or connection","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Communication","Seeking Connection"]},{"id":"wellness_39","task":"Reflect on qualities you want in a partner and community","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_40","task":"Attend a social event where you might meet people","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Communication","Seeking Connection"]},{"id":"wellness_41","task":"Compliment or show interest in someone you're attracted to","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_42","task":"Work on your confidence and self-presentation","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Mental Health","Seeking Connection"]},{"id":"wellness_43","task":"Practice vulnerability in conversations with new people","timing":"Daily","relationshipStatus":"Single","holiday":null,"categories":["Mental Health","Seeking Connection"]},{"id":"wellness_53","task":"Send your partner a loving or appreciative message","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_54","task":"Give your partner a genuine compliment","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_55","task":"Ask your partner about their day and listen deeply","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Communication","Maintenance"]},{"id":"wellness_56","task":"Show physical affection (hug, kiss, hand-hold)","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_57","task":"Express gratitude for something your partner did","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_58","task":"Do a small act of kindness for your partner","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_59","task":"Make eye contact and be fully present with your partner","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Communication","Maintenance"]},{"id":"wellness_60","task":"Say 'I love you' or reaffirm your connection","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_61","task":"Cook a meal together or for your partner","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Communication","Maintenance"]},{"id":"wellness_62","task":"Share a laugh or funny moment together","timing":"Daily","relationshipStatus":"In a Relationship","holiday":null,"categories":["Communication","Maintenance"]},{"id":"wellness_73","task":"Practice gratitude - write down 3 things you're grateful for","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_74","task":"Meditate or practice mindfulness for 5-10 minutes","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_75","task":"Practice deep breathing exercises","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_76","task":"Write in your journal about your thoughts and feelings","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_77","task":"Practice positive affirmations or self-talk","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_78","task":"Give yourself permission to rest without guilt","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_79","task":"Practice self-compassion when facing a setback","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_80","task":"Identify one personal strength you possess","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_81","task":"Spend 5 minutes in quiet reflection or stillness","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_82","task":"Say something kind to yourself out loud","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_83","task":"Light a candle and create a calm environment","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_84","task":"Practice progressive muscle relaxation","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_85","task":"Set a meaningful intention for the day","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_86","task":"Acknowledge and accept your emotions without judgment","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_87","task":"Take a mental health check-in with yourself","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_88","task":"Limit news or negative content intake","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_89","task":"Practice forgiveness toward yourself","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_90","task":"Write down one thing that went well today","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_91","task":"Ground yourself using the 5 senses technique","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_92","task":"Take a warm shower or bath for comfort","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_103","task":"Read a chapter or section of a book","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_104","task":"Learn one new thing or skill","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning","Personal Growth"]},{"id":"wellness_105","task":"Listen to an educational podcast or audiobook","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning","Personal Growth"]},{"id":"wellness_106","task":"Practice a skill you're actively developing","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_107","task":"Reflect on a lesson or growth moment from today","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_108","task":"Work on a personal project or goal","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_109","task":"Practice a language for 15 minutes","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning","Personal Growth"]},{"id":"wellness_110","task":"Identify an area where you want to improve","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_111","task":"Set a small daily goal and work toward it","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_112","task":"Practice positive thinking about a challenge","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Personal Growth"]},{"id":"wellness_123","task":"Do 10 minutes of stretching or yoga","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_124","task":"Drink 8 glasses of water throughout the day","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_125","task":"Take a 10-minute walk","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_126","task":"Do light cardio or movement","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_127","task":"Practice good posture throughout the day","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_128","task":"Eat a nutritious meal or snack","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_129","task":"Get 7-9 hours of quality sleep","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_130","task":"Do 10 push-ups or bodyweight exercises","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_131","task":"Stretch your neck and shoulders","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_132","task":"Practice proper breathing techniques","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_143","task":"Take a 10-minute walk outside","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_144","task":"Notice and appreciate something in nature","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_145","task":"Open your window and breathe fresh air","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_146","task":"Water your plants or tend your garden","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_147","task":"Watch the sunrise or sunset","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_148","task":"Take a barefoot walk in grass or soil","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_149","task":"Listen to birds singing or nature sounds","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_150","task":"Take a photo of something beautiful in nature","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_151","task":"Identify a tree, flower, or plant near you","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_152","task":"Eat a meal outside if possible","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_163","task":"Draw, doodle, or sketch something","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_164","task":"Write poetry, lyrics, or creative writing","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_165","task":"Play a musical instrument","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_166","task":"Take creative or artistic photos","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_167","task":"Make or edit a short video","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_168","task":"Craft or make something by hand","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_169","task":"Paint or color something","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_170","task":"Create digital art or graphic design","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_171","task":"Write in a creative or expressive way","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_172","task":"Work on a creative side project","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_183","task":"Read an article on a topic of interest","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_184","task":"Watch an educational video","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_185","task":"Study a subject you're interested in","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_186","task":"Research something that fascinates you","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_187","task":"Take notes on something you learned","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_188","task":"Watch a documentary","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_189","task":"Read the news and stay informed","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_190","task":"Teach someone something you know","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Learning"]},{"id":"wellness_191","task":"Explore a new topic through research","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_192","task":"Listen to an educational podcast","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_203","task":"Help a friend or neighbor with a task","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_204","task":"Perform a random act of kindness","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_205","task":"Donate items to charity","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_206","task":"Offer emotional support to someone","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_207","task":"Give genuine compliments freely","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_208","task":"Help with household chores for someone","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_209","task":"Send a care package or thoughtful gift","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_210","task":"Offer your time or skills to someone","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_211","task":"Donate money to a cause you believe in","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_212","task":"Mentor or guide someone","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_223","task":"Try a new food or cuisine","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_224","task":"Take a different route to work or home","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_225","task":"Listen to a new genre of music","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_226","task":"Try a new recipe or cooking method","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_227","task":"Wear something you wouldn't normally wear","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_228","task":"Visit a new store or caf","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_229","task":"Try a new exercise or movement practice","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences","Physical"]},{"id":"wellness_230","task":"Try a new hairstyle or look","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_231","task":"Use a new app or technology tool","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_232","task":"Try a new hobby or craft","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["New Experiences","Creativity"]},{"id":"wellness_243","task":"Turn off notifications for social media","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_244","task":"Take a one-hour social media break","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_245","task":"Leave your phone in another room for 30 minutes","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_246","task":"Avoid checking email first thing in the morning","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_247","task":"Practice presence during meals without devices","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_248","task":"Limit screen time after 8 PM","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_249","task":"Read a physical book instead of scrolling","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Media"]},{"id":"wellness_250","task":"Unfollow accounts that trigger negative feelings","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_251","task":"Have a conversation without checking your phone","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Communication","Media"]},{"id":"wellness_252","task":"Watch a sunset without recording it","timing":"Daily","relationshipStatus":"All","holiday":null,"categories":["Media"]},{"id":"wellness_265","task":"Share gratitude and appreciation with family for Thanksgiving","timing":"Daily","relationshipStatus":"All","holiday":"Thanksgiving (2nd Monday October)","categories":["Communication","Mental Health"]}],"weekly":[{"id":"wellness_18","task":"Host a dinner, potluck, or casual meal gathering","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_19","task":"Organize a game night or board game gathering with friends","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_20","task":"Attend a local community event, meetup, or group gathering","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_21","task":"Host a book club, discussion, or movie watch party","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_22","task":"Plan a group outing (hike, picnic, movie, restaurant)","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_23","task":"Attend or volunteer at a community event or festival","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_24","task":"Visit a friend or family member in person","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_25","task":"Start or join a hobby club or group activity","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_26","task":"Participate in a group fitness class or sports activity","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Physical"]},{"id":"wellness_27","task":"Attend a cultural or social gathering","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_28","task":"Organize a skill-share or knowledge-sharing session with friends","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Learning"]},{"id":"wellness_29","task":"Host a phone or video call with distant friends or family","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_30","task":"Invite a friend to try a new restaurant or caf","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","New Experiences"]},{"id":"wellness_31","task":"Join a professional networking group or meetup","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_32","task":"Attend a workshop, class, or event with friends or family","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Learning"]},{"id":"wellness_33","task":"Create a community chat group or event planning forum","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_34","task":"Have a meaningful one-on-one conversation over coffee or meal","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication"]},{"id":"wellness_44","task":"Schedule or go on a first date","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_45","task":"Plan a follow-up date with someone you like","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_46","task":"Attend a speed dating, singles event, or mixer","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Communication","Seeking Connection"]},{"id":"wellness_47","task":"Join a social or hobby group where you can meet people","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Communication","Seeking Connection"]},{"id":"wellness_48","task":"Volunteer or attend a community event to expand your social circle","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Communication","Volunteering","Seeking Connection"]},{"id":"wellness_49","task":"Get feedback on your dating profile from a trusted friend","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Communication","Seeking Connection"]},{"id":"wellness_50","task":"Attend a party or social gathering with friends","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Communication","Seeking Connection"]},{"id":"wellness_51","task":"Go out to a venue where you might meet people naturally","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Seeking Connection"]},{"id":"wellness_52","task":"Join a group activity or class to meet people with similar interests","timing":"Weekly","relationshipStatus":"Single","holiday":null,"categories":["Communication","Seeking Connection"]},{"id":"wellness_63","task":"Schedule a dedicated date night with your partner","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_64","task":"Have a deep conversation about feelings and goals","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Communication","Maintenance"]},{"id":"wellness_65","task":"Try a new experience or activity together","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["New Experiences","Maintenance"]},{"id":"wellness_66","task":"Plan a weekend getaway or day trip","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_67","task":"Give each other a massage or quality physical time","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_68","task":"Celebrate each other's wins and accomplishments","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Communication","Maintenance"]},{"id":"wellness_69","task":"Watch a movie or show you both enjoy together","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_70","task":"Share a meal without distractions and connect","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Communication","Maintenance"]},{"id":"wellness_71","task":"Create a shared bucket list or future plans together","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_72","task":"Write a love letter or heartfelt note to your partner","timing":"Weekly","relationshipStatus":"In a Relationship","holiday":null,"categories":["Maintenance"]},{"id":"wellness_93","task":"Attend therapy or counseling session","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_94","task":"Practice yoga or tai chi","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Physical"]},{"id":"wellness_95","task":"Take a relaxing bath with essential oils or music","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_96","task":"Get a massage or practice self-massage","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_97","task":"Create an at-home spa day","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_98","task":"Organize and declutter your personal space","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_99","task":"Declutter a significant area of your home","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_100","task":"Reflect on the week and journal lessons learned","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_101","task":"Write letters to process difficult emotions","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_102","task":"Set healthy boundaries with demanding people","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health"]},{"id":"wellness_113","task":"Take an online course or class","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning","Personal Growth"]},{"id":"wellness_114","task":"Read a challenging or thought-provoking book","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning","Personal Growth"]},{"id":"wellness_115","task":"Attend a workshop, seminar, or webinar","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning","Personal Growth"]},{"id":"wellness_116","task":"Start learning a new skill or hobby","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning","New Experiences","Personal Growth"]},{"id":"wellness_117","task":"Create a vision board for your goals","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_118","task":"Review your goals and track progress","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_119","task":"Seek mentorship or advice from someone you admire","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Personal Growth"]},{"id":"wellness_120","task":"Practice public speaking or presentation skills","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Personal Growth"]},{"id":"wellness_121","task":"Join a professional or personal development group","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Personal Growth"]},{"id":"wellness_122","task":"Mentor someone or teach a skill to others","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Personal Growth"]},{"id":"wellness_133","task":"Do a HIIT or cardio workout","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_134","task":"Go for a run, bike ride, or swim","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_135","task":"Do a strength training session","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_136","task":"Attend a fitness class or gym session","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_137","task":"Meal prep for the week","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_138","task":"Practice a sport or recreational activity","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_139","task":"Do a flexibility or mobility workout","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_140","task":"Schedule a health checkup or dental visit","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical"]},{"id":"wellness_141","task":"Try a new wellness practice","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences","Physical"]},{"id":"wellness_142","task":"Do a longer nature walk or outdoor activity","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Physical","Nature"]},{"id":"wellness_153","task":"Go on a nature hike","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_154","task":"Visit a park or green space","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_155","task":"Go to a botanical garden or arboretum","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_156","task":"Volunteer for environmental conservation","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Volunteering","Nature"]},{"id":"wellness_157","task":"Spend time gardening or planting","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_158","task":"Go camping or spend the night outdoors","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_159","task":"Take a nature photography walk","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_160","task":"Go fishing, kayaking, or canoeing","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_161","task":"Explore a local nature trail or forest","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Nature"]},{"id":"wellness_162","task":"Join a naturalist or outdoor club","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Nature"]},{"id":"wellness_173","task":"Attend an art class or creative workshop","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning","Creativity"]},{"id":"wellness_174","task":"Visit an art gallery or museum","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_175","task":"Create a mixed media project","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_176","task":"Share your creative work with others","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Creativity"]},{"id":"wellness_177","task":"Collaborate on a creative project with someone","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Creativity"]},{"id":"wellness_178","task":"Attend a poetry reading or open mic night","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Creativity"]},{"id":"wellness_179","task":"Create handmade gifts for others","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_180","task":"Join a creative community or group","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Creativity"]},{"id":"wellness_181","task":"Explore a new creative medium","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences","Creativity"]},{"id":"wellness_182","task":"Attend a performance or show","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Creativity"]},{"id":"wellness_193","task":"Enroll in an online course","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_194","task":"Attend a lecture or webinar","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_195","task":"Join a discussion group or book club","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Learning"]},{"id":"wellness_196","task":"Visit the library and research","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_197","task":"Read multiple books or articles","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_198","task":"Create study notes or flashcards","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_199","task":"Interview an expert in a field","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Learning"]},{"id":"wellness_200","task":"Join a learning community online","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Learning"]},{"id":"wellness_201","task":"Complete a certification or training","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_202","task":"Attend a workshop in your field","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning"]},{"id":"wellness_213","task":"Volunteer at a local organization","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_214","task":"Volunteer at a food bank or soup kitchen","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_215","task":"Volunteer for environmental conservation","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Volunteering","Nature"]},{"id":"wellness_216","task":"Mentor a young person or colleague","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_217","task":"Volunteer at an animal rescue or shelter","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_218","task":"Participate in community cleanup","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_219","task":"Volunteer for a cause you care about","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Volunteering"]},{"id":"wellness_220","task":"Help organize a fundraiser or event","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_221","task":"Volunteer with vulnerable or senior populations","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_222","task":"Join a volunteer board or committee","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Volunteering"]},{"id":"wellness_233","task":"Take a class in something you've never done","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Learning","New Experiences"]},{"id":"wellness_234","task":"Try a new restaurant or food truck","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_235","task":"Explore a new neighborhood or area","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_236","task":"Attend an event in an unfamiliar genre","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_237","task":"Try a new sport or physical activity","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences","Physical"]},{"id":"wellness_238","task":"Visit a museum or gallery you've never been to","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_239","task":"Try a new form of art or creative expression","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences","Creativity"]},{"id":"wellness_240","task":"Go to an event or venue in a different part of town","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","New Experiences"]},{"id":"wellness_241","task":"Try something on your bucket list","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["New Experiences"]},{"id":"wellness_242","task":"Volunteer for a new type of cause","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Volunteering","New Experiences"]},{"id":"wellness_253","task":"Disable social media and streaming apps for a full day","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_254","task":"Have a phone-free meal with friends or family","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Media"]},{"id":"wellness_255","task":"Take a full digital detox day","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_256","task":"Create a 'no screens' bedroom policy this week","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_257","task":"Replace scrolling time with a meaningful hobby","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Creativity","Media"]},{"id":"wellness_258","task":"Organize a phone-free game night","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Media"]},{"id":"wellness_259","task":"Stop using your phone while commuting","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_260","task":"Remove social media apps you don't need","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Mental Health","Media"]},{"id":"wellness_261","task":"Create a designated screen-free evening time","timing":"Weekly","relationshipStatus":"All","holiday":null,"categories":["Communication","Media"]},{"id":"wellness_262","task":"Attend or host a Canada Day community celebration","timing":"Weekly","relationshipStatus":"All","holiday":"Canada Day (July 1)","categories":["Communication"]},{"id":"wellness_263","task":"Participate in Canada Day festivities with friends or family","timing":"Weekly","relationshipStatus":"All","holiday":"Canada Day (July 1)","categories":["Communication"]},{"id":"wellness_264","task":"Host or attend a Thanksgiving dinner gathering","timing":"Weekly","relationshipStatus":"All","holiday":"Thanksgiving (2nd Monday October)","categories":["Communication"]},{"id":"wellness_266","task":"Attend a Halloween social event or party with friends","timing":"Weekly","relationshipStatus":"All","holiday":"Halloween (October 31)","categories":["Communication","Seeking Connection"]},{"id":"wellness_267","task":"Send holiday cards to friends and family","timing":"Weekly","relationshipStatus":"All","holiday":"Christmas (December 25)","categories":["Communication"]},{"id":"wellness_268","task":"Volunteer at a shelter or food bank during Christmas","timing":"Weekly","relationshipStatus":"All","holiday":"Christmas (December 25)","categories":["Communication","Volunteering"]},{"id":"wellness_269","task":"Attend a New Year's Eve celebration with friends","timing":"Weekly","relationshipStatus":"All","holiday":"New Year's Eve (December 31)","categories":["Communication","Seeking Connection"]},{"id":"wellness_270","task":"Reflect on the past year and set new community goals","timing":"Weekly","relationshipStatus":"All","holiday":"New Year's Eve (December 31)","categories":["Communication","Personal Growth"]}],"holiday":[{"id":"wellness_262","task":"Attend or host a Canada Day community celebration","timing":"Weekly","relationshipStatus":"All","holiday":"Canada Day (July 1)","categories":["Communication"]},{"id":"wellness_263","task":"Participate in Canada Day festivities with friends or family","timing":"Weekly","relationshipStatus":"All","holiday":"Canada Day (July 1)","categories":["Communication"]},{"id":"wellness_264","task":"Host or attend a Thanksgiving dinner gathering","timing":"Weekly","relationshipStatus":"All","holiday":"Thanksgiving (2nd Monday October)","categories":["Communication"]},{"id":"wellness_265","task":"Share gratitude and appreciation with family for Thanksgiving","timing":"Daily","relationshipStatus":"All","holiday":"Thanksgiving (2nd Monday October)","categories":["Communication","Mental Health"]},{"id":"wellness_266","task":"Attend a Halloween social event or party with friends","timing":"Weekly","relationshipStatus":"All","holiday":"Halloween (October 31)","categories":["Communication","Seeking Connection"]},{"id":"wellness_267","task":"Send holiday cards to friends and family","timing":"Weekly","relationshipStatus":"All","holiday":"Christmas (December 25)","categories":["Communication"]},{"id":"wellness_268","task":"Volunteer at a shelter or food bank during Christmas","timing":"Weekly","relationshipStatus":"All","holiday":"Christmas (December 25)","categories":["Communication","Volunteering"]},{"id":"wellness_269","task":"Attend a New Year's Eve celebration with friends","timing":"Weekly","relationshipStatus":"All","holiday":"New Year's Eve (December 31)","categories":["Communication","Seeking Connection"]},{"id":"wellness_270","task":"Reflect on the past year and set new community goals","timing":"Weekly","relationshipStatus":"All","holiday":"New Year's Eve (December 31)","categories":["Communication","Personal Growth"]}]}`),zE={categories:I7,tasksByTiming:W7},N7=()=>zE.categories,L7=(e={})=>{const{enabledCategories:t=[],relationshipStatus:s="All"}=e,l=new Date().toISOString().split("T")[0].split("-").reduce((h,p)=>h+parseInt(p,10),0);let u=zE.tasksByTiming.daily.filter(h=>!(h.relationshipStatus!=="All"&&h.relationshipStatus!==s||t.length>0&&!h.categories.some(g=>t.includes(g))));if(u.length===0)return null;const d=l%u.length;return u[d]},z7="BE0ZQSJHIlmXfeA5ddjITNrqrS0TmGfGGQjBufmOlUKxRUtEwja2qHmTZ0pXHepJzGV2qcwH0gJ_D6ot6cWGB6w",V7=async()=>{try{return"Notification"in window?Gd?await Notification.requestPermission()==="granted":(console.warn("Firebase Messaging not supported in this browser"),!1):(console.warn("This browser does not support notifications"),!1)}catch(e){return console.error("Error requesting notification permission:",e),!1}},B7=async()=>{try{if(!Gd)return console.warn("[FCM] Firebase Messaging not available"),null;if(await Notification.requestPermission()!=="granted")return console.warn("[FCM] Notification permission not granted"),null;console.log("[FCM] Requesting FCM token with VAPID key...");const t=await RR(Gd,{vapidKey:z7});return t?(console.log("[FCM]  FCM token obtained successfully"),console.log("[FCM]  FCM Token:",t),console.log("[FCM]  Send this token to your backend to enable Firebase push notifications"),t):(console.warn("[FCM] No FCM token available. User may need to grant permission."),null)}catch(e){return console.error("[FCM] Error getting FCM token:",e),null}},F7=e=>{const{title:t,body:s,icon:a=`${window.location.origin}/goodlift-logo.svg`,tag:l="goodlift-notification",requireInteraction:u=!1}=e;if(!("Notification"in window)){console.warn("Notifications not supported");return}if(Notification.permission==="granted")try{new Notification(t,{body:s,icon:a,tag:l,requireInteraction:u})}catch(d){console.error("Error showing notification:",d)}},H7=(e,t=null)=>{let s=` Today's session: ${e}`;return t&&(s+=`
 Today's wellness task: ${t.task}`),{title:"Good Morning! ",body:s}},U7=e=>{const t=L7(e.wellness||{}),s=H7("Full Body Strength",t);F7({title:s.title,body:s.body})},jx="goodlift_data_backup",kx="goodlift_guest_data_backup",q7=30,Y7=q7*24*60*60*1e3,VE=()=>{const e={};return et()?(e.workoutHistory=Tt("workout_history")||[],e.userStats=Tt("user_stats")||null,e.exerciseWeights=Tt("exercise_weights")||{},e.exerciseTargetReps=Tt("exercise_target_reps")||{},e.hiitSessions=Tt("hiit_sessions")||[],e.cardioSessions=Tt("cardio_sessions")||[],e.stretchSessions=Tt("stretch_sessions")||[],e.workoutPlans=Tt("workout_plans")||[],e.activePlan=Tt("active_plan")||null,e.favoriteWorkouts=Tt("favorite_workouts")||[],e.favoriteExercises=Tt("favorite_exercises")||[],e.pinnedExercises=Tt("pinned_exercises")||[],e.unlockedAchievements=Tt("unlocked_achievements")||[],e.totalPRs=Tt("total_prs")||0,e.totalVolume=Tt("total_volume")||0):Object.entries({workoutHistory:"goodlift_workout_history",userStats:"goodlift_user_stats",exerciseWeights:"goodlift_exercise_weights",exerciseTargetReps:"goodlift_exercise_target_reps",hiitSessions:"goodlift_hiit_sessions",cardioSessions:"goodlift_cardio_sessions",stretchSessions:"goodlift_stretch_sessions",workoutPlans:"goodlift_workout_plans",activePlan:"goodlift_active_plan",favoriteWorkouts:"goodlift_favorite_workouts",favoriteExercises:"goodlift_favorite_exercises",pinnedExercises:"goodlift_pinned_exercises",unlockedAchievements:"goodlift_unlocked_achievements",totalPRs:"goodlift_total_prs",totalVolume:"goodlift_total_volume"}).forEach(([s,a])=>{try{const l=localStorage.getItem(a);l?e[s]=JSON.parse(l):e[s]=null}catch(l){console.error(`Error reading ${a}:`,l),e[s]=null}}),e},G7=()=>{et()?(yt("workout_history",[]),yt("user_stats",{totalWorkouts:0,totalTime:0,totalHiitTime:0,totalCardioTime:0,totalStretchTime:0,currentStreak:0,longestStreak:0,totalPRs:0,totalVolume:0}),yt("exercise_weights",{}),yt("exercise_target_reps",{}),yt("hiit_sessions",[]),yt("cardio_sessions",[]),yt("stretch_sessions",[]),yt("workout_plans",[]),yt("active_plan",null),yt("favorite_workouts",[]),yt("favorite_exercises",[]),yt("pinned_exercises",[]),yt("unlocked_achievements",[]),yt("total_prs",0),yt("total_volume",0)):["goodlift_workout_history","goodlift_user_stats","goodlift_exercise_weights","goodlift_exercise_target_reps","goodlift_hiit_sessions","goodlift_cardio_sessions","goodlift_stretch_sessions","goodlift_workout_plans","goodlift_active_plan","goodlift_favorite_workouts","goodlift_favorite_exercises","goodlift_pinned_exercises","goodlift_unlocked_achievements","goodlift_total_prs","goodlift_total_volume"].forEach(t=>{try{t==="goodlift_user_stats"?localStorage.setItem(t,JSON.stringify({totalWorkouts:0,totalTime:0,totalHiitTime:0,totalCardioTime:0,totalStretchTime:0,currentStreak:0,longestStreak:0,totalPRs:0,totalVolume:0})):t==="goodlift_exercise_weights"||t==="goodlift_exercise_target_reps"?localStorage.setItem(t,JSON.stringify({})):t==="goodlift_active_plan"?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify([]))}catch(s){console.error(`Error clearing ${t}:`,s)}})},$7=e=>{if(!e||!e.data)throw new Error("Invalid backup data");const{data:t}=e;if(et())Object.entries(t).forEach(([s,a])=>{a!=null&&yt(s.replace(/([A-Z])/g,"_$1").toLowerCase(),a)});else{const s={workoutHistory:"goodlift_workout_history",userStats:"goodlift_user_stats",exerciseWeights:"goodlift_exercise_weights",exerciseTargetReps:"goodlift_exercise_target_reps",hiitSessions:"goodlift_hiit_sessions",cardioSessions:"goodlift_cardio_sessions",stretchSessions:"goodlift_stretch_sessions",workoutPlans:"goodlift_workout_plans",activePlan:"goodlift_active_plan",favoriteWorkouts:"goodlift_favorite_workouts",favoriteExercises:"goodlift_favorite_exercises",pinnedExercises:"goodlift_pinned_exercises",unlockedAchievements:"goodlift_unlocked_achievements",totalPRs:"goodlift_total_prs",totalVolume:"goodlift_total_volume"};Object.entries(t).forEach(([a,l])=>{const u=s[a];if(u&&l!==null&&l!==void 0)try{localStorage.setItem(u,JSON.stringify(l))}catch(d){console.error(`Error restoring ${u}:`,d)}})}},K7=async()=>{try{const t={data:VE(),timestamp:Date.now(),expiresAt:Date.now()+Y7,version:1},s=et()?kx:jx;localStorage.setItem(s,JSON.stringify(t));const a=$c();if(a&&!et())try{await Pn(a,{dataBackup:t})}catch(l){console.error("Error saving backup to Firebase:",l)}return t}catch(e){throw console.error("Error creating backup:",e),e}},lh=async()=>{try{const e=$c();if(e&&!et())try{const l=await mi(e);if(l?.dataBackup)return l.dataBackup.expiresAt>Date.now()?l.dataBackup:(await kg(),null)}catch(l){console.error("Error loading backup from Firebase:",l)}const t=et()?kx:jx,s=localStorage.getItem(t);if(!s)return null;const a=JSON.parse(s);return a.expiresAt<=Date.now()?(await kg(),null):a}catch(e){return console.error("Error getting backup:",e),null}},kg=async()=>{try{const e=et()?kx:jx;localStorage.removeItem(e);const t=$c();if(t&&!et())try{await Pn(t,{dataBackup:null})}catch(s){console.error("Error deleting backup from Firebase:",s)}}catch(e){throw console.error("Error deleting backup:",e),e}},Q7=async()=>{try{const e=await K7();G7();const t=$c();if(t&&!et())try{await Pn(t,{workoutHistory:[],userStats:{totalWorkouts:0,totalTime:0,totalHiitTime:0,totalCardioTime:0,totalStretchTime:0,currentStreak:0,longestStreak:0,totalPRs:0,totalVolume:0},exerciseWeights:{},exerciseTargetReps:{},hiitSessions:[],cardioSessions:[],stretchSessions:[],workoutPlans:[],activePlanId:null})}catch(s){console.error("Error syncing reset to Firebase:",s)}return{success:!0,backup:e,message:"Data reset successfully. You have 30 days to recover your data."}}catch(e){return console.error("Error resetting user data:",e),{success:!1,message:"Failed to reset data. Please try again.",error:e}}},X7=async()=>{try{const e=await lh();if(!e)return{success:!1,message:"No backup found or backup has expired."};$7(e);const t=$c();if(t&&!et())try{await Pn(t,e.data)}catch(s){console.error("Error syncing recovered data to Firebase:",s)}return await kg(),{success:!0,message:"Data recovered successfully!"}}catch(e){return console.error("Error recovering user data:",e),{success:!1,message:"Failed to recover data. Please try again.",error:e}}},BE=async()=>{try{return await lh()===null}catch(e){return console.error("Error cleaning up expired backups:",e),!1}},Rd=()=>{const e=VE(),t=(e.workoutHistory||[]).length,s=(e.hiitSessions||[]).length,a=(e.cardioSessions||[]).length,l=(e.stretchSessions||[]).length,u=(e.workoutPlans||[]).length,d=(e.favoriteWorkouts||[]).length,h=(e.favoriteExercises||[]).length,p=(e.pinnedExercises||[]).length;return{totalWorkouts:t,totalHiitSessions:s,totalCardioSessions:a,totalStretchSessions:l,totalPlans:u,totalFavoriteWorkouts:d,totalFavoriteExercises:h,totalPinnedExercises:p,hasData:t>0||s>0||a>0||l>0||u>0||d>0}},FE=({onNavigate:e})=>{const{mode:t,toggleTheme:s}=PE(),{preferences:a,updatePreference:l}=M7(),{profile:u,stats:d}=Cx(),{isGuest:h}=La(),{resetWeekCycle:p}=Zi(),[g,y]=x.useState(()=>{try{const ie=localStorage.getItem("audioVolume");return ie?parseFloat(ie):.3}catch{return .3}}),[v,b]=x.useState(zt.isMutedState()),[S,T]=x.useState(!1),[k,w]=x.useState(!1),[j,D]=x.useState(!1),[A,_]=x.useState(!1),[P,M]=x.useState(null),[R,N]=x.useState(null),[W,U]=x.useState(!1),[V,z]=x.useState(""),[de,F]=x.useState("success"),[K]=x.useState(()=>N7()),[B,q]=x.useState(()=>{try{const ie=localStorage.getItem("goodlift_stretch_prefs");return ie?JSON.parse(ie):{showWarmup:!0,showCooldown:!0,defaultWarmupDuration:5,defaultCooldownDuration:5}}catch{return{showWarmup:!0,showCooldown:!0,defaultWarmupDuration:5,defaultCooldownDuration:5}}});x.useEffect(()=>{try{localStorage.setItem("audioVolume",g.toString())}catch(ie){console.warn("Could not save volume preference",ie)}},[g]),x.useEffect(()=>{try{localStorage.setItem("goodlift_stretch_prefs",JSON.stringify(B))}catch(ie){console.warn("Could not save stretch preferences",ie)}},[B]),x.useEffect(()=>{(async()=>{await BE();const Ve=await lh();M(Ve),N(Rd())})()},[]);const le=(ie,Ve)=>{y(Ve),Ve>0&&v&&(zt.setMuted(!1),b(!1)),Ve===0&&!v&&(zt.setMuted(!0),b(!0))},he=()=>{s(),v||zt.playTransitionBeep()},J=()=>{g>0&&!v&&zt.playBeep(800,200,g)},ee=(ie,Ve)=>{q(Pe=>({...Pe,[ie]:Ve}))},Z=()=>{_7(u,d)},ae=()=>{N(Rd()),T(!0)},ce=()=>{T(!1)},se=async()=>{const ie=await Q7();ie.success?(M(ie.backup),N(Rd()),z(ie.message),F("success"),U(!0),setTimeout(()=>{window.location.reload()},2e3)):(z(ie.message),F("error"),U(!0))},oe=async()=>{const ie=await lh();M(ie),w(!0)},ke=()=>{w(!1)},X=async()=>{const ie=await X7();ie.success?(M(null),N(Rd()),z(ie.message),F("success"),U(!0),setTimeout(()=>{window.location.reload()},2e3)):(z(ie.message),F("error"),U(!0))},ve=()=>{U(!1)},xe=ie=>{e&&e(ie)},ge=()=>{_(!0)},Ee=()=>{_(!1)},Le=async()=>{_(!1);try{await p(),z("Week cycle reset to Week 1. Automatic workout assignment re-enabled."),F("success"),U(!0)}catch(ie){console.error("Error resetting week cycle:",ie),z("Failed to reset week cycle"),F("error"),U(!0)}},je=async ie=>{ie?await V7()?(l("pushNotificationsEnabled",!0),z("Push notifications enabled!"),F("success"),U(!0)):(z("Permission denied. Please enable notifications in your browser settings."),F("error"),U(!0)):(l("pushNotificationsEnabled",!1),z("Push notifications disabled"),F("info"),U(!0))},qe=ie=>{const Ve=a.wellnessCategories||[],Pe=Ve.includes(ie)?Ve.filter(Se=>Se!==ie):[...Ve,ie];l("wellnessCategories",Pe)},fe=()=>{U7(a),z("Test notification sent!"),F("success"),U(!0)};return r.jsxs(L,{sx:{minHeight:"100vh",padding:{xs:1,sm:2,md:3,lg:4},paddingBottom:{xs:"80px",sm:3,md:4},background:ie=>ie.palette.background.default,overflowX:"hidden",width:"100%",boxSizing:"border-box"},children:[r.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsx(L,{sx:{display:"flex",justifyContent:"center",mb:2},children:r.jsx("img",{src:"/goodlift/goodlift-logo.svg",alt:"GoodLift",style:{height:"50px",width:"auto"}})}),r.jsx(I,{variant:"h4",sx:{mb:2,fontWeight:700,color:"text.primary"},children:"Settings"}),r.jsxs(Oe,{spacing:2,sx:{maxWidth:600},children:[r.jsx(Je,{sx:{borderRadius:2,boxShadow:3},children:r.jsxs(ot,{sx:{p:0},children:[r.jsx(I,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"User Profile"}),r.jsx(Un,{sx:{py:0},children:r.jsx(lt,{disablePadding:!0,children:r.jsxs(Ni,{onClick:()=>xe("profile"),sx:{py:1},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(aP,{sx:{color:"primary.main"}})}),r.jsx(jt,{primary:"Profile Information",primaryTypographyProps:{fontWeight:500}}),r.jsx(dr,{sx:{color:"text.secondary"}})]})})})]})}),r.jsx(Je,{sx:{borderRadius:2,boxShadow:3},children:r.jsxs(ot,{sx:{p:0},children:[r.jsx(I,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"Exercise Database"}),r.jsx(Un,{sx:{py:0},children:r.jsx(lt,{disablePadding:!0,children:r.jsxs(Ni,{onClick:()=>xe("exercise-list"),sx:{py:1},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(rP,{sx:{color:"primary.main"}})}),r.jsx(jt,{primary:"Browse Exercises",primaryTypographyProps:{fontWeight:500}}),r.jsx(dr,{sx:{color:"text.secondary"}})]})})})]})}),r.jsx(Je,{sx:{borderRadius:2,boxShadow:3},children:r.jsxs(ot,{sx:{p:0},children:[r.jsx(I,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"Workout Scheduling"}),r.jsxs(Un,{sx:{py:0},children:[r.jsx(lt,{disablePadding:!0,children:r.jsxs(Ni,{onClick:()=>xe("edit-weekly-schedule"),sx:{py:1},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(Yi,{sx:{color:"primary.main"}})}),r.jsx(jt,{primary:"Edit Weekly Schedule",primaryTypographyProps:{fontWeight:500}}),r.jsx(dr,{sx:{color:"text.secondary"}})]})}),r.jsx(dn,{component:"li"}),r.jsx(lt,{disablePadding:!0,children:r.jsxs(Ni,{onClick:ge,sx:{py:1},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(uh,{sx:{color:"primary.main"}})}),r.jsx(jt,{primary:"Reset Week Counter",primaryTypographyProps:{fontWeight:500}}),r.jsx(dr,{sx:{color:"text.secondary"}})]})})]})]})}),r.jsx(Je,{sx:{borderRadius:2,boxShadow:3},children:r.jsxs(ot,{sx:{p:0},children:[r.jsx(I,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"App Preferences"}),r.jsxs(Un,{sx:{py:0},children:[r.jsxs(lt,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",width:"100%",mb:.5},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(oP,{sx:{color:"primary.main"}})}),r.jsx(I,{variant:"body2",fontWeight:500,children:"Unit System"})]}),r.jsx(Ft,{size:"small",sx:{ml:5,minWidth:160},children:r.jsxs(Yt,{value:a.units,onChange:ie=>l("units",ie.target.value),children:[r.jsx(ze,{value:"imperial",children:"Imperial (lbs, in)"}),r.jsx(ze,{value:"metric",children:"Metric (kg, cm)"})]})})]}),r.jsx(dn,{component:"li"}),r.jsxs(lt,{sx:{py:1},children:[r.jsx(Bt,{sx:{minWidth:40},children:t==="dark"?r.jsx(lP,{sx:{color:"primary.main"}}):r.jsx(cP,{sx:{color:"primary.main"}})}),r.jsx(jt,{primary:"Theme",primaryTypographyProps:{fontWeight:500}}),r.jsx(ar,{checked:t==="light",onChange:he,color:"primary"})]}),r.jsx(dn,{component:"li"}),r.jsxs(lt,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",width:"100%",mb:.5},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(Pg,{sx:{color:"primary.main"}})}),r.jsx(I,{variant:"body2",fontWeight:500,children:"Sound Effects"})]}),r.jsx(L,{sx:{ml:5,width:"calc(100% - 40px)"},children:r.jsx(EC,{value:g,onChange:le,onChangeCommitted:J,min:0,max:1,step:.1,valueLabelDisplay:"auto",valueLabelFormat:ie=>`${Math.round(ie*100)}%`,sx:{width:180,"& .MuiSlider-thumb":{width:16,height:16},"& .MuiSlider-track":{height:4},"& .MuiSlider-rail":{height:4}}})})]}),r.jsx(dn,{component:"li"}),r.jsxs(lt,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(Js,{sx:{color:"primary.main"}})}),r.jsx(I,{variant:"body2",fontWeight:500,children:"Warmup Reminders"})]}),r.jsx(ar,{checked:B.showWarmup,onChange:ie=>ee("showWarmup",ie.target.checked),color:"primary"})]}),B.showWarmup&&r.jsx(Ft,{size:"small",sx:{ml:5,mt:.5,minWidth:160},children:r.jsxs(Yt,{value:B.defaultWarmupDuration,onChange:ie=>ee("defaultWarmupDuration",ie.target.value),children:[r.jsx(ze,{value:5,children:"5 minutes"}),r.jsx(ze,{value:7,children:"7 minutes"}),r.jsx(ze,{value:10,children:"10 minutes"})]})})]}),r.jsx(dn,{component:"li"}),r.jsxs(lt,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(Jt,{sx:{color:"primary.main"}})}),r.jsx(I,{variant:"body2",fontWeight:500,children:"Cooldown Reminders"})]}),r.jsx(ar,{checked:B.showCooldown,onChange:ie=>ee("showCooldown",ie.target.checked),color:"primary"})]}),B.showCooldown&&r.jsx(Ft,{size:"small",sx:{ml:5,mt:.5,minWidth:160},children:r.jsxs(Yt,{value:B.defaultCooldownDuration,onChange:ie=>ee("defaultCooldownDuration",ie.target.value),children:[r.jsx(ze,{value:5,children:"5 minutes"}),r.jsx(ze,{value:7,children:"7 minutes"}),r.jsx(ze,{value:10,children:"10 minutes"})]})})]})]})]})}),r.jsx(Je,{sx:{borderRadius:2,boxShadow:3},children:r.jsxs(ot,{sx:{p:0},children:[r.jsx(I,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"Wellness & Notifications"}),r.jsxs(Un,{sx:{py:0},children:[r.jsxs(lt,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(uP,{sx:{color:"primary.main"}})}),r.jsx(I,{variant:"body2",fontWeight:500,children:"Push Notifications"})]}),r.jsx(ar,{checked:a.pushNotificationsEnabled||!1,onChange:ie=>je(ie.target.checked),color:"primary"})]}),a.pushNotificationsEnabled&&r.jsx(L,{sx:{ml:5,mt:1,width:"calc(100% - 40px)"},children:r.jsx(Te,{size:"small",variant:"outlined",onClick:fe,sx:{fontSize:"0.75rem"},children:"Send Test Notification"})})]}),r.jsx(dn,{component:"li"}),r.jsx(lt,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(dP,{sx:{color:"primary.main"}})}),r.jsx(I,{variant:"body2",fontWeight:500,children:"Daily Wellness Tasks"})]}),r.jsx(ar,{checked:a.dailyWellnessTasksEnabled||!1,onChange:ie=>l("dailyWellnessTasksEnabled",ie.target.checked),color:"primary",disabled:!a.pushNotificationsEnabled})]})}),r.jsx(dn,{component:"li"}),a.dailyWellnessTasksEnabled&&r.jsxs(r.Fragment,{children:[r.jsxs(lt,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",width:"100%",mb:.5},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(hP,{sx:{color:"primary.main"}})}),r.jsx(I,{variant:"body2",fontWeight:500,children:"Relationship Status"})]}),r.jsx(Ft,{size:"small",sx:{ml:5,minWidth:160},children:r.jsxs(Yt,{value:a.relationshipStatus||"All",onChange:ie=>l("relationshipStatus",ie.target.value),children:[r.jsx(ze,{value:"All",children:"All"}),r.jsx(ze,{value:"Single",children:"Single"}),r.jsx(ze,{value:"In Relationship",children:"In Relationship"})]})})]}),r.jsx(dn,{component:"li"}),r.jsxs(lt,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",width:"100%",mb:1},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(fP,{sx:{color:"primary.main"}})}),r.jsx(I,{variant:"body2",fontWeight:500,children:"Wellness Categories"})]}),r.jsxs(L,{sx:{ml:5,width:"calc(100% - 40px)"},children:[r.jsx(I,{variant:"caption",color:"text.secondary",sx:{mb:1,display:"block"},children:"Select categories for personalized wellness tasks"}),r.jsx(Oe,{spacing:.5,children:K.map(ie=>r.jsx(Vd,{control:r.jsx(ar,{size:"small",checked:(a.wellnessCategories||[]).includes(ie),onChange:()=>qe(ie),color:"primary"}),label:r.jsx(I,{variant:"caption",children:ie}),sx:{m:0}},ie))})]})]}),r.jsx(dn,{component:"li"})]}),a.pushNotificationsEnabled&&r.jsxs(r.Fragment,{children:[r.jsxs(lt,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",width:"100%",mb:.5},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(Wm,{sx:{color:"primary.main"}})}),r.jsx(I,{variant:"body2",fontWeight:500,children:"Morning Notification Time"})]}),r.jsxs(L,{sx:{ml:5,display:"flex",gap:1},children:[r.jsx(Ft,{size:"small",sx:{minWidth:80},children:r.jsx(Yt,{value:a.morningNotificationTime?.hour||8,onChange:ie=>l("morningNotificationTime",{...a.morningNotificationTime,hour:ie.target.value}),children:Array.from({length:24},(ie,Ve)=>r.jsx(ze,{value:Ve,children:Ve.toString().padStart(2,"0")},Ve))})}),r.jsx(I,{variant:"body2",sx:{alignSelf:"center"},children:":"}),r.jsx(Ft,{size:"small",sx:{minWidth:80},children:r.jsx(Yt,{value:a.morningNotificationTime?.minute||0,onChange:ie=>l("morningNotificationTime",{...a.morningNotificationTime,minute:ie.target.value}),children:[0,15,30,45].map(ie=>r.jsx(ze,{value:ie,children:ie.toString().padStart(2,"0")},ie))})})]})]}),r.jsx(dn,{component:"li"}),r.jsxs(lt,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between",mb:1},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(Yc,{sx:{color:"primary.main"}})}),r.jsx(I,{variant:"body2",fontWeight:500,children:"Follow-up Notifications"})]}),r.jsx(ar,{checked:a.enableFollowupNotifications??!0,onChange:ie=>l("enableFollowupNotifications",ie.target.checked),color:"primary"})]}),a.enableFollowupNotifications&&r.jsxs(r.Fragment,{children:[r.jsx(I,{variant:"caption",color:"text.secondary",sx:{ml:5,mb:.5,display:"block"},children:"Daily tasks: 9 PM | Weekly tasks: Saturday morning"}),r.jsxs(L,{sx:{ml:5,display:"flex",gap:1,alignItems:"center"},children:[r.jsx(I,{variant:"caption",children:"Follow-up time:"}),r.jsx(Ft,{size:"small",sx:{minWidth:80},children:r.jsx(Yt,{value:a.followupNotificationTime?.hour||21,onChange:ie=>l("followupNotificationTime",{...a.followupNotificationTime,hour:ie.target.value}),children:Array.from({length:24},(ie,Ve)=>r.jsx(ze,{value:Ve,children:Ve.toString().padStart(2,"0")},Ve))})}),r.jsx(I,{variant:"body2",children:":"}),r.jsx(Ft,{size:"small",sx:{minWidth:80},children:r.jsx(Yt,{value:a.followupNotificationTime?.minute||0,onChange:ie=>l("followupNotificationTime",{...a.followupNotificationTime,minute:ie.target.value}),children:[0,15,30,45].map(ie=>r.jsx(ze,{value:ie,children:ie.toString().padStart(2,"0")},ie))})})]})]})]})]})]})]})}),r.jsx(Je,{sx:{borderRadius:2,boxShadow:3},children:r.jsxs(ot,{sx:{p:0},children:[r.jsx(I,{variant:"overline",sx:{px:2,pt:1.5,pb:.5,display:"block",fontWeight:700,color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.7rem"},children:"Data & Privacy"}),r.jsxs(Un,{sx:{py:0},children:[r.jsx(lt,{disablePadding:!0,children:r.jsxs(Ni,{onClick:Z,sx:{py:1},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(PC,{sx:{color:"primary.main"}})}),r.jsx(jt,{primary:"Export Data",primaryTypographyProps:{fontWeight:500}})]})}),r.jsx(dn,{component:"li"}),P&&r.jsxs(r.Fragment,{children:[r.jsx(lt,{disablePadding:!0,children:r.jsxs(Ni,{onClick:oe,sx:{py:1},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(Nm,{sx:{color:"success.main"}})}),r.jsx(jt,{primary:"Recover Data",primaryTypographyProps:{fontWeight:500}}),r.jsx(dr,{sx:{color:"text.secondary"}})]})}),r.jsx(dn,{component:"li"})]}),r.jsx(lt,{disablePadding:!0,children:r.jsxs(Ni,{onClick:ae,disabled:!R?.hasData,sx:{py:1},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(pP,{sx:{color:R?.hasData?"error.main":"text.disabled"}})}),r.jsx(jt,{primary:"Reset Personal Data",primaryTypographyProps:{fontWeight:500}}),r.jsx(dr,{sx:{color:"text.secondary"}})]})}),r.jsx(dn,{component:"li"}),r.jsxs(lt,{sx:{flexDirection:"column",alignItems:"flex-start",py:1.5},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",width:"100%",mb:.5},children:[r.jsx(Bt,{sx:{minWidth:40},children:r.jsx(mP,{sx:{color:"primary.main"}})}),r.jsx(I,{variant:"body2",fontWeight:500,children:"Privacy"})]}),r.jsx(L,{sx:{ml:5,width:"calc(100% - 40px)"},children:h?r.jsx(At,{severity:"info",sx:{py:.5,fontSize:"0.8rem"},children:"Create an account to access cloud sync and data privacy features"}):r.jsx(At,{severity:"success",sx:{py:.5,fontSize:"0.8rem"},children:"Your data is securely stored in Firebase and synced across your devices"})})]})]})]})}),r.jsx(L,{sx:{mt:2},children:r.jsx(I,{variant:"body2",color:"text.secondary",sx:{textAlign:"center"},children:"Your preferences are saved automatically"})})]})]}),R&&r.jsx(IE,{open:S,onClose:ce,onConfirm:se,resetInfo:R}),P&&r.jsx(WE,{open:k,onClose:ke,onRecover:X,backup:P}),r.jsx(LE,{open:j,onClose:()=>D(!1)}),r.jsxs(vn,{open:A,onClose:Ee,maxWidth:"xs",fullWidth:!0,children:[r.jsx(On,{children:"Reset Week Counter?"}),r.jsx(Sn,{children:r.jsx(_g,{children:"Are you sure you want to reset the week counter back to Week 1? This will re-enable automatic workout assignment."})}),r.jsxs(wn,{children:[r.jsx(Te,{onClick:Ee,color:"primary",children:"Cancel"}),r.jsx(Te,{onClick:Le,color:"primary",variant:"contained",children:"Continue"})]})]}),r.jsx(Hs,{open:W,autoHideDuration:6e3,onClose:ve,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(At,{onClose:ve,severity:de,sx:{width:"100%"},children:V})})]})};FE.propTypes={onNavigate:E.func};const HE=[{id:"preset-1",color:"#1976d2",label:"Blue"},{id:"preset-2",color:"#d32f2f",label:"Red"},{id:"preset-3",color:"#388e3c",label:"Green"},{id:"preset-4",color:"#f57c00",label:"Orange"},{id:"preset-5",color:"#7b1fa2",label:"Purple"},{id:"preset-6",color:"#0288d1",label:"Light Blue"},{id:"preset-7",color:"#c2185b",label:"Pink"},{id:"preset-8",color:"#00796b",label:"Teal"},{id:"preset-9",color:"#fbc02d",label:"Yellow"},{id:"preset-10",color:"#5d4037",label:"Brown"},{id:"preset-11",color:"#455a64",label:"Blue Grey"},{id:"preset-12",color:"#e64a19",label:"Deep Orange"},{id:"preset-13",color:"#512da8",label:"Deep Purple"},{id:"preset-14",color:"#00695c",label:"Dark Teal"},{id:"preset-15",color:"#303f9f",label:"Indigo"}],Z7=(e,t=200,s=200,a=.8)=>new Promise((l,u)=>{const d=new FileReader;d.onload=h=>{const p=new Image;p.onload=()=>{let g=p.width,y=p.height;g>y?g>t&&(y=Math.round(y*t/g),g=t):y>s&&(g=Math.round(g*s/y),y=s);const v=document.createElement("canvas");v.width=g,v.height=y,v.getContext("2d").drawImage(p,0,0,g,y),v.toBlob(S=>{S?l(S):u(new Error("Failed to compress image"))},"image/jpeg",a)},p.onerror=()=>{u(new Error("Failed to load image"))},p.src=h.target.result},d.onerror=()=>{u(new Error("Failed to read file"))},d.readAsDataURL(e)}),J7=e=>{const t=["image/jpeg","image/jpg","image/png","image/webp"];return e?t.includes(e.type)?e.size>5242880?{success:!1,error:"File is too large. Maximum size is 5MB."}:{success:!0}:{success:!1,error:"Invalid file type. Please upload a JPEG, PNG, or WebP image."}:{success:!1,error:"No file selected"}},e9=async(e,t)=>{try{const s=zC(),a=RP(s,`avatars/${e}/avatar.jpg`);return await _P(a,t),await IP(a)}catch(s){throw console.error("Error uploading avatar:",s),s}},t9=e=>e?e.startsWith("preset-"):!1,n9=e=>{const t=HE.find(s=>s.id===e);return t?t.color:null},uC=(e,t="#1976d2")=>({display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",backgroundColor:t,color:"#ffffff",fontWeight:700,fontSize:"2rem",textTransform:"uppercase"}),UE=({open:e,onClose:t,onSelect:s,currentAvatar:a,initials:l})=>{const{currentUser:u,isGuest:d}=La(),[h,p]=x.useState(a),[g,y]=x.useState(!1),[v,b]=x.useState(null),[S,T]=x.useState(0),k=(P,M)=>{T(M),b(null)},w=P=>{p(P),b(null)},j=async P=>{const M=P.target.files[0];if(!M)return;b(null);const R=J7(M);if(!R.success){b(R.error);return}if(d){b("Please sign in to upload custom avatars");return}try{y(!0);const N=await Z7(M,200,200,.8),W=await e9(u.uid,N);p(W),b(null)}catch(N){console.error("Error uploading avatar:",N),b("Failed to upload avatar. Please try again.")}finally{y(!1)}},D=()=>{h&&(s(h),t())},A=()=>{p(a),b(null),t()},_=P=>{const M=h===P.id;return r.jsx(nn,{item:!0,xs:4,sm:3,children:r.jsxs(L,{onClick:()=>w(P.id),sx:{cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:1,p:1,borderRadius:2,border:2,borderColor:M?"primary.main":"transparent",bgcolor:M?"action.selected":"transparent",transition:"all 0.2s","&:hover":{bgcolor:"action.hover"}},children:[r.jsx(fc,{sx:{width:60,height:60,bgcolor:P.color,fontSize:"1.5rem",fontWeight:700},children:l}),r.jsx(I,{variant:"caption",color:"text.secondary",children:P.label})]})},P.id)};return r.jsxs(vn,{open:e,onClose:A,maxWidth:"sm",fullWidth:!0,children:[r.jsx(On,{children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[r.jsx(I,{variant:"h6",children:"Choose Avatar"}),r.jsx(Ue,{onClick:A,size:"small",children:r.jsx(tl,{})})]})}),r.jsxs(Sn,{children:[r.jsxs(qc,{value:S,onChange:k,sx:{mb:2},children:[r.jsx(Fi,{label:"Preset Avatars"}),r.jsx(Fi,{label:"Upload Custom"})]}),v&&r.jsx(At,{severity:"error",sx:{mb:2},children:v}),S===0&&r.jsx(L,{sx:{mt:2},children:r.jsx(nn,{container:!0,spacing:2,children:HE.map(P=>_(P))})}),S===1&&r.jsx(L,{sx:{mt:2},children:d?r.jsx(At,{severity:"info",children:"Sign in to upload custom avatars"}):r.jsxs(r.Fragment,{children:[r.jsxs(Te,{variant:"outlined",component:"label",fullWidth:!0,startIcon:g?r.jsx(ph,{size:20}):r.jsx(Lm,{}),disabled:g,sx:{mb:2,minHeight:56},children:[g?"Uploading...":"Choose Image",r.jsx("input",{type:"file",hidden:!0,accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:j})]}),h&&!h.startsWith("preset-")&&r.jsxs(L,{sx:{textAlign:"center",mt:2},children:[r.jsx(I,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Preview:"}),r.jsx(fc,{src:h,sx:{width:100,height:100,mx:"auto",border:2,borderColor:"primary.main"}})]}),r.jsxs(At,{severity:"info",sx:{mt:2},children:["Image will be resized to 200x200px. Maximum file size: 5MB.",r.jsx("br",{}),"Supported formats: JPEG, PNG, WebP"]})]})})]}),r.jsxs(wn,{sx:{p:2,pt:0},children:[r.jsx(Te,{onClick:A,color:"inherit",children:"Cancel"}),r.jsx(Te,{onClick:D,variant:"contained",disabled:!h||g,children:"Save"})]})]})};UE.propTypes={open:E.bool.isRequired,onClose:E.func.isRequired,onSelect:E.func.isRequired,currentAvatar:E.string,initials:E.string.isRequired};const s9=()=>{const{profile:e,stats:t,loading:s,saveProfile:a,updateProfile:l,getInitials:u,getProfileCompletion:d}=Cx(),[h,p]=x.useState(!1),[g,y]=x.useState(!1),[v,b]=x.useState(e),[S,T]=x.useState({}),[k,w]=x.useState(null);x.useEffect(()=>{b(e)},[e]);const j=()=>{p(!0),T({}),w(null)},D=()=>{p(!1),b(e),T({}),w(null)},A=async()=>{const N={},W=P7(v.displayName);W.valid||(N.displayName=W.error);const U=cC(v.bio,500);U.valid||(N.bio=U.error);const V=cC(v.goals,500);if(V.valid||(N.goals=V.error),Object.keys(N).length>0){T(N);return}try{const z={...v,displayName:Rm(v.displayName),bio:Rm(v.bio),goals:Rm(v.goals)};await a(z),p(!1),w(null)}catch(z){console.error("Error saving profile:",z),w("Failed to save profile. Please try again.")}},_=(N,W)=>{b({...v,[N]:W}),S[N]&&T({...S,[N]:null})},P=async N=>{try{await l("avatar",N),b({...v,avatar:N})}catch(W){console.error("Error updating avatar:",W),w("Failed to update avatar. Please try again.")}},M=()=>{const N=u(),W=100;if(e.avatar)if(t9(e.avatar)){const U=n9(e.avatar);return r.jsx(fc,{sx:{width:W,height:W,...uC(N,U),fontSize:"2.5rem"},children:N})}else return r.jsx(fc,{src:e.avatar,sx:{width:W,height:W}});return r.jsx(fc,{sx:{width:W,height:W,...uC(),fontSize:"2.5rem"},children:N})},R=d();return s?r.jsx(L,{sx:{p:3},children:r.jsxs(I,{color:"text.secondary",children:["Loading profile",r.jsx(Ke.span,{initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:"..."})]})}):r.jsxs(L,{sx:{minHeight:"100vh",padding:{xs:2,sm:3,md:4},paddingBottom:{xs:"80px",sm:3,md:4},background:N=>N.palette.background.default},children:[r.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsx(I,{variant:"h4",sx:{mb:3,fontWeight:700,color:"text.primary"},children:"Profile"}),r.jsx(Je,{sx:{mb:3,borderRadius:2},children:r.jsxs(ot,{sx:{p:3},children:[r.jsxs(L,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:3,mb:3},children:[r.jsxs(L,{sx:{position:"relative",alignSelf:{xs:"center",sm:"flex-start"}},children:[M(),r.jsx(Ue,{onClick:()=>y(!0),size:"small",sx:{position:"absolute",bottom:0,right:0,bgcolor:"primary.main",color:"white","&:hover":{bgcolor:"primary.dark"}},children:r.jsx(gP,{fontSize:"small"})})]}),r.jsxs(L,{sx:{flex:1},children:[h?r.jsx(dt,{fullWidth:!0,label:"Display Name",value:v.displayName,onChange:N=>_("displayName",N.target.value),error:!!S.displayName,helperText:S.displayName,sx:{mb:2}}):r.jsx(I,{variant:"h5",fontWeight:700,gutterBottom:!0,children:e.displayName||"Unknown User"}),r.jsx(I,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:e.email}),r.jsxs(I,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Member since ",O7(e.memberSince)]}),r.jsxs(L,{sx:{mt:2},children:[r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[r.jsx(I,{variant:"body2",fontWeight:600,children:"Profile Completion"}),r.jsxs(I,{variant:"body2",fontWeight:600,children:[R,"%"]})]}),r.jsx($i,{variant:"determinate",value:R,sx:{height:8,borderRadius:4}})]})]}),r.jsx(L,{children:h?r.jsxs(Oe,{direction:"row",spacing:1,children:[r.jsx(Ue,{color:"primary",onClick:A,children:r.jsx(gr,{})}),r.jsx(Ue,{onClick:D,children:r.jsx(IC,{})})]}):r.jsx(Ue,{color:"primary",onClick:j,children:r.jsx(Yi,{})})})]}),k&&r.jsx(At,{severity:"error",sx:{mb:2},children:k}),r.jsxs(L,{sx:{mb:2},children:[r.jsx(I,{variant:"subtitle2",fontWeight:600,gutterBottom:!0,children:"Bio"}),h?r.jsx(dt,{fullWidth:!0,multiline:!0,rows:3,value:v.bio,onChange:N=>_("bio",N.target.value),error:!!S.bio,helperText:S.bio||`${v.bio.length}/500`,placeholder:"Tell us about yourself..."}):r.jsx(I,{variant:"body2",color:"text.secondary",children:e.bio||"No bio yet"})]}),r.jsxs(L,{children:[r.jsx(I,{variant:"subtitle2",fontWeight:600,gutterBottom:!0,children:"Fitness Goals"}),h?r.jsx(dt,{fullWidth:!0,multiline:!0,rows:3,value:v.goals,onChange:N=>_("goals",N.target.value),error:!!S.goals,helperText:S.goals||`${v.goals.length}/500`,placeholder:"What are your fitness goals?"}):r.jsx(I,{variant:"body2",color:"text.secondary",children:e.goals||"No goals set yet"})]})]})}),r.jsxs(nn,{container:!0,spacing:3,sx:{mb:3},children:[r.jsx(nn,{item:!0,xs:6,sm:4,children:r.jsx(Je,{children:r.jsxs(ot,{children:[r.jsx(I,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Total Workouts"}),r.jsx(I,{variant:"h4",fontWeight:700,children:t.totalWorkouts})]})})}),r.jsx(nn,{item:!0,xs:6,sm:4,children:r.jsx(Je,{children:r.jsxs(ot,{children:[r.jsx(I,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Current Streak"}),r.jsx(I,{variant:"h4",fontWeight:700,color:"warning.main",children:t.currentStreak}),r.jsx(I,{variant:"caption",color:"text.secondary",children:"days"})]})})}),r.jsx(nn,{item:!0,xs:6,sm:4,children:r.jsx(Je,{children:r.jsxs(ot,{children:[r.jsx(I,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Longest Streak"}),r.jsx(I,{variant:"h4",fontWeight:700,children:t.longestStreak}),r.jsx(I,{variant:"caption",color:"text.secondary",children:"days"})]})})}),r.jsx(nn,{item:!0,xs:6,sm:4,children:r.jsx(Je,{children:r.jsxs(ot,{children:[r.jsx(I,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Total PRs"}),r.jsx(I,{variant:"h4",fontWeight:700,color:"success.main",children:t.totalPRs})]})})}),r.jsx(nn,{item:!0,xs:6,sm:4,children:r.jsx(Je,{children:r.jsxs(ot,{children:[r.jsx(I,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Wellness Tasks"}),r.jsx(I,{variant:"h4",fontWeight:700,color:"secondary.main",children:t.completedWellnessTasks||0}),r.jsx(I,{variant:"caption",color:"text.secondary",children:"completed"})]})})}),r.jsx(nn,{item:!0,xs:12,sm:8,children:r.jsx(Je,{children:r.jsxs(ot,{children:[r.jsx(I,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Favorite Exercise"}),r.jsx(ct,{label:t.favoriteExercise||"No data yet",color:"primary",sx:{mt:1}})]})})})]})]}),r.jsx(UE,{open:g,onClose:()=>y(!1),onSelect:P,currentAvatar:e.avatar,initials:u()})]})},qE=({onNavigate:e})=>{const{weeklySchedule:t,assignWorkoutToDay:s}=Zi(),[a,l]=x.useState("Monday"),[u,d]=x.useState({}),[h,p]=x.useState({}),[g,y]=x.useState([]),[v,b]=x.useState({open:!1,message:"",severity:"info"}),[S,T]=x.useState(!1),[k,w]=x.useState(null),j=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];x.useEffect(()=>{(async()=>{try{const ke=await(await fetch(Oh)).json();y(ke)}catch(oe){console.error("Error loading exercises:",oe),y([])}})()},[]),x.useEffect(()=>{const se={};j.forEach(oe=>{t[oe]?se[oe]=JSON.parse(JSON.stringify(t[oe])):se[oe]=null}),d(se)},[t]);const D=se=>se?se.sessionType?.toLowerCase():null,A=se=>se?["full","upper","lower","push","pull","legs","core"].includes(se):!1,_=se=>se?["cardio","hiit","yoga","mobility","stretch"].includes(se):!1,P=se=>se==="rest",M=(se,oe)=>{h[a]?(w(oe),T(!0)):l(oe)},R=()=>{T(!1),k&&(l(k),w(null))},N=()=>{T(!1),w(null)},W=()=>{const se=u[a];if(!se||!A(D(se)))return;const oe=se.exercises||[],ke=oe.length>0?Math.max(...oe.map(ve=>ve.supersetGroup||0)):-1,X=[...oe,{id:`ex_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,name:null,exerciseName:null,supersetGroup:ke+1,sets:[{weight:0,reps:10},{weight:0,reps:10},{weight:0,reps:10}]},{id:`ex_${Date.now()+1}_${Math.random().toString(36).substring(2,9)}`,name:null,exerciseName:null,supersetGroup:ke+1,sets:[{weight:0,reps:10},{weight:0,reps:10},{weight:0,reps:10}]}];d(ve=>({...ve,[a]:{...se,exercises:X}})),p(ve=>({...ve,[a]:!0}))},U=se=>{const oe=u[a];if(!oe)return;const ke=oe.exercises.filter(X=>X.supersetGroup!==se);d(X=>({...X,[a]:{...oe,exercises:ke}})),p(X=>({...X,[a]:!0}))},V=se=>{const oe=u[a];if(!oe)return;const ke={id:`ex_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,name:null,exerciseName:null,supersetGroup:se,sets:[{weight:0,reps:10},{weight:0,reps:10},{weight:0,reps:10}]};d(X=>({...X,[a]:{...oe,exercises:[...oe.exercises,ke]}})),p(X=>({...X,[a]:!0}))},z=se=>{const oe=u[a];if(!oe)return;const ke=oe.exercises.filter(X=>X.id!==se);d(X=>({...X,[a]:{...oe,exercises:ke}})),p(X=>({...X,[a]:!0}))},de=x.useCallback(async(se,oe)=>{const ke=u[a];if(!ke||!oe)return;const X=ke.exercises.map(Le=>Le.id===se?{...Le,name:oe["Exercise Name"],exerciseName:oe["Exercise Name"],muscleGroup:oe["Primary Muscle"]||oe["Muscle Group"],equipment:oe.Equipment,category:oe["Primary Muscle"]||oe["Muscle Group"]}:Le),ve=oe["Exercise Name"],[xe,ge]=await Promise.all([zo(ve),Cr(ve)]),Ee=X.map(Le=>Le.id===se?{...Le,sets:Le.sets.map(je=>({weight:xe??je.weight,reps:ge??je.reps}))}:Le);d(Le=>({...Le,[a]:{...ke,exercises:Ee}})),p(Le=>({...Le,[a]:!0}))},[u,a]),F=(se,oe,ke,X)=>{const ve=u[a];if(!ve)return;const xe=ve.exercises.map(ge=>{if(ge.id===se){const Ee=[...ge.sets];return Ee[oe]={...Ee[oe],[ke]:parseFloat(X)||0},{...ge,sets:Ee}}return ge});d(ge=>({...ge,[a]:{...ve,exercises:xe}})),p(ge=>({...ge,[a]:!0}))},K=(se,oe)=>{const ke=u[a];ke&&(d(X=>({...X,[a]:{...ke,timerConfig:{...ke.timerConfig,[se]:oe}}})),p(X=>({...X,[a]:!0})))},B=async()=>{try{for(const se of j)h[se]&&await s(se,u[se]);p({}),b({open:!0,message:"All changes saved successfully!",severity:"success"})}catch(se){console.error("Error saving changes:",se),b({open:!0,message:"Failed to save changes. Please try again.",severity:"error"})}},q=()=>{const se={};j.forEach(oe=>{t[oe]?se[oe]=JSON.parse(JSON.stringify(t[oe])):se[oe]=null}),d(se),p({}),b({open:!0,message:"All changes discarded",severity:"info"})},le=se=>{if(!se||se.length===0)return[];const oe={};return se.forEach(ke=>{const X=ke.supersetGroup??0;oe[X]||(oe[X]=[]),oe[X].push(ke)}),Object.entries(oe).sort(([ke],[X])=>parseInt(ke)-parseInt(X))},he=u[a],J=D(he),ee=A(J),Z=_(J),ae=P(J),ce=Object.values(h).some(se=>se);return r.jsxs(L,{sx:{minHeight:"100vh",padding:{xs:2,sm:3},paddingBottom:{xs:"80px",sm:3},background:se=>se.palette.background.default},children:[r.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsxs(L,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[r.jsx(Ue,{onClick:()=>e?.("settings"),sx:{color:"primary.main"},children:r.jsx(Ig,{})}),r.jsxs(L,{sx:{flex:1},children:[r.jsx(I,{variant:"h4",sx:{fontWeight:700,color:"text.primary"},children:"Edit Weekly Schedule"}),r.jsx(I,{variant:"body2",color:"text.secondary",children:"Customize your workouts for each day of the week"})]}),ce&&r.jsx(ct,{label:"Unsaved Changes",color:"warning",size:"small",sx:{display:{xs:"none",sm:"flex"}}})]}),r.jsx(Je,{sx:{mb:3},children:r.jsx(qc,{value:a,onChange:M,variant:"scrollable",scrollButtons:"auto",sx:{borderBottom:1,borderColor:"divider","& .MuiTab-root":{minWidth:{xs:80,sm:100}}},children:j.map(se=>r.jsx(Fi,{value:se,label:r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:.5},children:[se.substring(0,3),h[se]&&r.jsx(L,{sx:{width:6,height:6,borderRadius:"50%",bgcolor:"warning.main"}})]})},se))})}),r.jsxs(L,{sx:{maxWidth:900,mx:"auto"},children:[!he&&r.jsxs(Je,{sx:{p:4,textAlign:"center"},children:[r.jsxs(I,{variant:"h6",color:"text.secondary",children:["No workout assigned for ",a]}),r.jsx(I,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Use the Week Editor to assign a workout type first"})]}),ae&&r.jsxs(Je,{sx:{p:6,textAlign:"center"},children:[r.jsx(dh,{sx:{fontSize:80,color:"text.secondary",mb:2}}),r.jsx(I,{variant:"h4",sx:{fontWeight:700,color:"text.primary"},children:"Rest Day"}),r.jsx(I,{variant:"body1",color:"text.secondary",sx:{mt:2},children:"Take a break and recover. Your body needs rest to grow stronger!"})]}),Z&&r.jsx(Je,{children:r.jsxs(ot,{children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[r.jsx(Yc,{sx:{fontSize:40,color:"primary.main"}}),r.jsxs(L,{children:[r.jsx(I,{variant:"h5",sx:{fontWeight:700},children:"Timer Configuration"}),r.jsxs(I,{variant:"body2",color:"text.secondary",children:["Set duration for your ",he.sessionName||J," session"]})]})]}),r.jsxs(Oe,{spacing:3,children:[r.jsxs(Ft,{fullWidth:!0,children:[r.jsx(Mn,{children:"Duration (minutes)"}),r.jsxs(Yt,{value:he.timerConfig?.duration||30,label:"Duration (minutes)",onChange:se=>K("duration",se.target.value),children:[r.jsx(ze,{value:15,children:"15 minutes"}),r.jsx(ze,{value:20,children:"20 minutes"}),r.jsx(ze,{value:30,children:"30 minutes"}),r.jsx(ze,{value:45,children:"45 minutes"}),r.jsx(ze,{value:60,children:"60 minutes"})]})]}),r.jsxs(Ft,{fullWidth:!0,children:[r.jsx(Mn,{children:"Intensity"}),r.jsxs(Yt,{value:he.timerConfig?.intensity||"moderate",label:"Intensity",onChange:se=>K("intensity",se.target.value),children:[r.jsx(ze,{value:"light",children:"Light"}),r.jsx(ze,{value:"moderate",children:"Moderate"}),r.jsx(ze,{value:"vigorous",children:"Vigorous"})]})]}),r.jsx(dt,{label:"Notes (optional)",multiline:!0,rows:3,value:he.timerConfig?.notes||"",onChange:se=>K("notes",se.target.value),placeholder:"Add any notes or goals for this session..."})]})]})}),ee&&r.jsxs(Oe,{spacing:3,children:[r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx(I,{variant:"h6",sx:{fontWeight:600},children:"Supersets"}),r.jsx(Te,{variant:"outlined",startIcon:r.jsx(Xs,{}),onClick:W,size:"small",children:"Add Superset"})]}),le(he.exercises).map(([se,oe],ke)=>r.jsx(Je,{sx:{borderLeft:3,borderColor:"primary.main"},children:r.jsxs(ot,{children:[r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[r.jsx(ct,{label:`Superset ${ke+1}`,color:"primary",size:"small"}),r.jsxs(L,{sx:{display:"flex",gap:1},children:[r.jsx(Ue,{size:"small",color:"primary",onClick:()=>V(parseInt(se)),title:"Add exercise to this superset",children:r.jsx(Xs,{fontSize:"small"})}),r.jsx(Ue,{size:"small",color:"error",onClick:()=>U(parseInt(se)),title:"Remove this superset",children:r.jsx(Oa,{fontSize:"small"})})]})]}),r.jsx(Oe,{spacing:2,children:oe.map((X,ve)=>r.jsxs(L,{children:[ve>0&&r.jsx(dn,{sx:{my:1}}),r.jsxs(L,{children:[r.jsxs(L,{sx:{display:"flex",alignItems:"flex-start",gap:2,mb:2},children:[r.jsx(I,{sx:{fontSize:"1.5rem",color:"primary.main",fontWeight:700,width:"32px",textAlign:"center",flexShrink:0},children:String.fromCharCode(65+ve)}),r.jsx(L,{sx:{flex:1},children:r.jsx(zh,{value:X.name?g.find(xe=>xe["Exercise Name"]===X.name):null,onChange:(xe,ge)=>de(X.id,ge),availableExercises:g,label:"Exercise",placeholder:"Select exercise...",disabled:g.length===0})}),r.jsx(Ue,{size:"small",color:"error",onClick:()=>z(X.id),sx:{mt:.5},children:r.jsx(Ra,{fontSize:"small"})})]}),X.name&&r.jsxs(L,{sx:{pl:5},children:[r.jsx(I,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"Sets"}),r.jsx(Oe,{spacing:1,children:X.sets?.map((xe,ge)=>r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsxs(I,{variant:"body2",sx:{minWidth:50,fontWeight:500},children:["Set ",ge+1]}),r.jsx(dt,{type:"number",label:"Weight (lbs)",value:xe.weight,onChange:Ee=>F(X.id,ge,"weight",Ee.target.value),size:"small",sx:{width:120},disabled:X.equipment?.toLowerCase()==="bodyweight"}),r.jsx(dt,{type:"number",label:"Reps",value:xe.reps,onChange:Ee=>F(X.id,ge,"reps",Ee.target.value),size:"small",sx:{width:100}})]},ge))})]})]})]},X.id))})]})},se)),(!he.exercises||he.exercises.length===0)&&r.jsx(Je,{sx:{p:4,textAlign:"center"},children:r.jsx(I,{variant:"body1",color:"text.secondary",children:'No exercises in this workout. Click "Add Superset" to get started.'})})]}),he&&!ae&&r.jsxs(L,{sx:{mt:4,display:"flex",gap:2,justifyContent:"center"},children:[r.jsx(Te,{variant:"outlined",onClick:q,disabled:!ce,children:"Discard Changes"}),r.jsx(Te,{variant:"contained",startIcon:r.jsx(gr,{}),onClick:B,disabled:!ce,children:"Save All Changes"})]})]})]}),r.jsxs(vn,{open:S,onClose:N,children:[r.jsx(On,{children:"Unsaved Changes"}),r.jsx(Sn,{children:r.jsxs(_g,{children:["You have unsaved changes for ",a,`. These changes will be kept when you switch days, but they won't be saved until you click "Save All Changes".`]})}),r.jsxs(wn,{children:[r.jsx(Te,{onClick:N,children:"Cancel"}),r.jsx(Te,{onClick:R,variant:"contained",children:"Continue"})]})]}),r.jsx(Hs,{open:v.open,autoHideDuration:6e3,onClose:()=>b({...v,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(At,{onClose:()=>b({...v,open:!1}),severity:v.severity,sx:{width:"100%"},children:v.message})})]})};qE.propTypes={onNavigate:E.func};const YE=({open:e,onClose:t,userId:s})=>{const[a,l]=x.useState(!1),[u,d]=x.useState(null),h=async()=>{if(!s){d("No user ID provided");return}l(!0),d(null);try{const g=yj(),y=[];g.workout_history&&g.workout_history.length>0&&y.push(Gc(s,g.workout_history)),g.user_stats&&y.push(xh(s,g.user_stats)),g.exercise_weights&&Object.keys(g.exercise_weights).length>0&&y.push(Gg(s,g.exercise_weights)),g.exercise_target_reps&&Object.keys(g.exercise_target_reps).length>0&&y.push($g(s,g.exercise_target_reps)),await Promise.all(y),HS(),l(!1),t(!0)}catch(g){console.error("Error migrating guest data:",g),d("Failed to migrate data. Please try again."),l(!1)}},p=()=>{HS(),t(!1)};return r.jsxs(vn,{open:e,onClose:a?void 0:()=>t(!1),maxWidth:"sm",fullWidth:!0,disableEscapeKeyDown:a,PaperProps:{sx:{borderRadius:2}},children:[r.jsx(On,{sx:{pb:1},children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(Lm,{sx:{color:"primary.main",fontSize:28}}),r.jsx(I,{variant:"h6",component:"span",sx:{fontWeight:600},children:"Save Your Guest Data?"})]})}),r.jsxs(Sn,{children:[r.jsx(I,{variant:"body1",sx:{mb:2},children:"You have workout data from your guest session. Would you like to transfer it to your new account?"}),r.jsx(I,{variant:"body2",sx:{color:"text.secondary"},children:"This will save your workout history, progress, and settings to the cloud."}),u&&r.jsx(I,{variant:"body2",sx:{color:"error.main",mt:2},children:u})]}),r.jsxs(wn,{sx:{p:2,pt:0},children:[r.jsx(Te,{onClick:p,disabled:a,variant:"text",sx:{color:"text.secondary"},children:"Skip"}),r.jsx(Te,{onClick:h,disabled:a,variant:"contained",startIcon:a?r.jsx(ph,{size:20,color:"inherit"}):r.jsx(Lm,{}),sx:{fontWeight:600},children:a?"Migrating...":"Save My Data"})]})]})};YE.propTypes={open:E.bool.isRequired,onClose:E.func.isRequired,userId:E.string};const GE=({color:e,delay:t,startX:s})=>{const a=["#FF6B6B","#4ECDC4","#FFD93D","#6BCB77","#4D96FF","#FF9F9F"],l=e||a[Math.floor(Math.random()*a.length)];return r.jsx(Ke.div,{initial:{top:-20,left:`${s}%`,rotate:0,scale:1},animate:{top:"110vh",left:`${s+(Math.random()*20-10)}%`,rotate:Math.random()*720-360,scale:[1,1.2,.8]},transition:{duration:3+Math.random()*2,delay:t,ease:"easeOut"},style:{position:"fixed",width:Math.random()*10+5+"px",height:Math.random()*10+5+"px",backgroundColor:l,borderRadius:Math.random()>.5?"50%":"0%",zIndex:9999,pointerEvents:"none"}})};GE.propTypes={color:E.string,delay:E.number,startX:E.number};const $E=({active:e=!1,duration:t=3e3,intensity:s=50})=>{const[a,l]=x.useState([]);return x.useEffect(()=>{if(e){const u=Array.from({length:s},(h,p)=>({id:`confetti-${Date.now()}-${p}`,startX:Math.random()*100,delay:Math.random()*.5}));l(u);const d=setTimeout(()=>{l([])},t);return()=>clearTimeout(d)}},[e,t,s]),r.jsx(L,{sx:{position:"fixed",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:9999},children:r.jsx(Xo,{children:a.map(u=>r.jsx(GE,{startX:u.startX,delay:u.delay},u.id))})})};$E.propTypes={active:E.bool,duration:E.number,intensity:E.number};const KE=({open:e,onClose:t,achievement:s,onShare:a})=>{const[l,u]=x.useState(!1);if(x.useEffect(()=>{if(e&&s){u(!0);const g=setTimeout(()=>{u(!1)},3e3);return()=>clearTimeout(g)}},[e,s]),!s)return null;const d=Vh[s.tier],h=async()=>{const g=`I just unlocked the "${s.name}" achievement in GoodLift! ${s.icon}

${s.description}`;if(navigator.share)try{await navigator.share({title:"GoodLift Achievement",text:g})}catch(y){y.name!=="AbortError"&&(console.error("Error sharing:",y),p(g))}else p(g);a&&a(s)},p=g=>{navigator.clipboard.writeText(g).then(()=>{alert("Achievement text copied to clipboard!")})};return r.jsxs(r.Fragment,{children:[r.jsx($E,{active:l}),r.jsxs(vn,{open:e,onClose:t,maxWidth:"sm",fullWidth:!0,TransitionComponent:MC,TransitionProps:{direction:"up"},PaperProps:{sx:{borderRadius:3,background:d.gradient,color:d.textColor,overflow:"visible"}},children:[r.jsxs(Sn,{sx:{textAlign:"center",py:4},children:[r.jsx(Ke.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:260,damping:20,delay:.1},children:r.jsx(L,{sx:{width:100,height:100,borderRadius:"50%",bgcolor:"rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px",border:"4px solid rgba(255, 255, 255, 0.3)"},children:r.jsx($o,{sx:{fontSize:"4rem",color:"rgba(255, 255, 255, 0.9)"}})})}),r.jsx(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:r.jsx(I,{variant:"h6",sx:{fontWeight:600,mb:2,opacity:.9,letterSpacing:"0.1em",textTransform:"uppercase"},children:"Achievement Unlocked!"})}),r.jsx(Ke.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15,delay:.5},children:r.jsx(I,{variant:"h1",sx:{fontSize:"5rem",mb:2},children:s.icon})}),r.jsx(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:r.jsx(I,{variant:"h4",sx:{fontWeight:700,mb:1},children:s.name})}),r.jsx(Ke.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.9},children:r.jsx(L,{sx:{display:"inline-block",px:2,py:.5,borderRadius:2,bgcolor:"rgba(255, 255, 255, 0.2)",mb:2},children:r.jsx(I,{variant:"caption",sx:{fontWeight:700,letterSpacing:"0.1em",textTransform:"uppercase"},children:s.tier})})}),r.jsx(Ke.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.1},children:r.jsx(I,{variant:"body1",sx:{opacity:.9,maxWidth:"80%",margin:"0 auto"},children:s.description})})]}),r.jsx(wn,{sx:{justifyContent:"center",pb:3,px:3},children:r.jsxs(Oe,{direction:{xs:"column",sm:"row"},spacing:2,sx:{width:"100%"},children:[r.jsx(Te,{variant:"contained",onClick:t,fullWidth:!0,sx:{bgcolor:"rgba(255, 255, 255, 0.9)",color:"primary.main","&:hover":{bgcolor:"rgba(255, 255, 255, 1)"}},children:"Awesome!"}),r.jsx(Te,{variant:"outlined",startIcon:r.jsx(_C,{}),onClick:h,fullWidth:!0,sx:{borderColor:"rgba(255, 255, 255, 0.5)",color:"rgba(255, 255, 255, 0.9)","&:hover":{borderColor:"rgba(255, 255, 255, 0.8)",bgcolor:"rgba(255, 255, 255, 0.1)"}},children:"Share"})]})})]})]})};KE.propTypes={open:E.bool.isRequired,onClose:E.func.isRequired,achievement:E.shape({id:E.string.isRequired,name:E.string.isRequired,description:E.string.isRequired,icon:E.string.isRequired,tier:E.string.isRequired}),onShare:E.func};const i9=()=>{const[e,t]=x.useState(new Set);return x.useEffect(()=>{const s=async()=>{const l=ty(),u=await Hi(),d=new Set;u.forEach(p=>{p.exercises&&Array.isArray(p.exercises)&&p.exercises.forEach(g=>{g&&g["Exercise Name"]&&d.add(g["Exercise Name"])})});const h=new Set([...l,...d]);t(h)};s();const a=setInterval(s,3e4);return()=>clearInterval(a)},[]),e},Ui="v1.0.0-simplify-data-structure",QE="goodlift_migration_version",a9=()=>{try{return et()?Tt("migration_version")===Ui:localStorage.getItem(QE)===Ui}catch(e){return console.error("Error checking migration status:",e),!1}},r9=()=>{try{et()?yt("migration_version",Ui):localStorage.setItem(QE,Ui),console.log(`Migration ${Ui} completed successfully`)}catch(e){console.error("Error marking migration as completed:",e)}},ws=e=>{try{if(et())return Tt(e);{const t=localStorage.getItem(`goodlift_${e}`);return t?JSON.parse(t):null}}catch(t){return console.error(`Error getting data for ${e}:`,t),null}},ou=(e,t)=>{try{et()?yt(e,t):localStorage.setItem(`goodlift_${e}`,JSON.stringify(t))}catch(s){console.error(`Error setting data for ${e}:`,s)}},Tx=e=>{try{et()?yt(e,null):localStorage.removeItem(`goodlift_${e}`)}catch(t){console.error(`Error removing data for ${e}:`,t)}},o9=()=>{console.log("Step 1: Migrating workout history...");const e=ws("workout_history");if(!e||!Array.isArray(e)||e.length===0){console.log("No workout history to migrate");return}let t=0;const s=e.map(a=>{let l=!1;const u={...a};if(u.date&&typeof u.date=="number")u.date=new Date(u.date).toISOString(),l=!0;else if(u.date&&typeof u.date=="string")try{const d=new Date(u.date);isNaN(d.getTime())||(u.date=d.toISOString(),l=!0)}catch{console.warn("Invalid date in workout:",u.date)}return(u.duration===void 0||u.duration===null)&&(u.duration=0,l=!0),!u.type&&u.exercises?.length>0&&(u.type="Workout",l=!0),l&&t++,u});t>0?(ou("workout_history",s),console.log(`Migrated ${t} workout entries`)):console.log("All workout entries already in correct format")},l9=()=>{console.log("Step 2: Archiving yoga sessions...");const e=ws("yoga_sessions");if(!e||Array.isArray(e)&&e.length===0){console.log("No yoga sessions to archive");return}const t={data:e,archivedAt:new Date().toISOString(),reason:"Yoga feature removed, replaced with stretching/mobility sessions"};ou("archived_yoga_sessions",t),Tx("yoga_sessions"),console.log(`Archived ${Array.isArray(e)?e.length:1} yoga session(s)`)},c9=()=>{console.log("Step 3: Archiving favorite workouts...");const e=ws("favorite_workouts");if(!e||Array.isArray(e)&&e.length===0){console.log("No favorite workouts to archive");return}const t={data:e,archivedAt:new Date().toISOString(),reason:"Favorite workouts replaced by workout plans feature"};ou("archived_favorite_workouts",t),Tx("favorite_workouts"),console.log(`Archived ${e.length} favorite workout(s)`)},u9=()=>{console.log("Step 4: Cleaning up user stats...");const e=ws("user_stats");if(!e){console.log("No user stats to clean up");return}let t=!1;"totalYogaTime"in e&&(delete e.totalYogaTime,t=!0,console.log("Removed totalYogaTime from user stats")),Object.entries({totalWorkouts:0,totalTime:0,totalHiitTime:0,totalCardioTime:0,totalStretchTime:0}).forEach(([a,l])=>{a in e||(e[a]=l,t=!0)}),t?(ou("user_stats",e),console.log("Updated user stats structure")):console.log("User stats already clean")},d9=()=>{console.log("Step 5: Validating session data..."),["hiit_sessions","cardio_sessions","stretch_sessions"].forEach(t=>{const s=ws(t);if(!s||!Array.isArray(s)||s.length===0){console.log(`No ${t} to validate`);return}let a=0;const l=s.map(u=>{let d=!1;const h={...u};return h.id||(h.id=`${Date.now()}-${Math.random().toString(36).substring(2,11)}`,d=!0),h.date||(h.date=Date.now(),d=!0),typeof h.date=="number"&&(h.date=new Date(h.date).toISOString(),d=!0),(h.duration===void 0||h.duration===null)&&(h.duration=0,d=!0),d&&a++,h});a>0&&(ou(t,l),console.log(`Validated ${a} ${t} entries`))})},h9=()=>{console.log("Step 6: Removing orphaned references...");const e=["yoga_settings","yoga_preferences","legacy_favorites"];let t=0;e.forEach(s=>{ws(s)!==null&&(Tx(s),t++,console.log(`Removed orphaned key: ${s}`))}),console.log(t===0?"No orphaned references found":`Removed ${t} orphaned reference(s)`)},f9=()=>{const e={version:Ui,timestamp:new Date().toISOString(),summary:{workoutHistory:ws("workout_history")?.length||0,hiitSessions:ws("hiit_sessions")?.length||0,cardioSessions:ws("cardio_sessions")?.length||0,stretchSessions:ws("stretch_sessions")?.length||0,workoutPlans:ws("workout_plans")?.length||0,archivedYoga:ws("archived_yoga_sessions")?.data?.length||0,archivedFavoriteWorkouts:ws("archived_favorite_workouts")?.data?.length||0}};return console.log("Migration Report:",e),e},p9=()=>{if(console.log("=== Starting Data Structure Simplification Migration ==="),console.log(`Version: ${Ui}`),a9())return console.log("Migration already completed, skipping..."),{status:"skipped",reason:"Migration already completed",version:Ui};try{o9(),l9(),c9(),u9(),d9(),h9(),r9();const e=f9();return console.log("=== Migration Completed Successfully ==="),{status:"success",...e}}catch(e){return console.error("Migration failed:",e),{status:"failed",error:e.message,version:Ui}}};function m9(){const[e,t]=x.useState("home"),[s,a]=x.useState([]),[l,u]=x.useState("full"),[d,h]=x.useState(new Set(["all"])),[p,g]=x.useState([]),[y,v]=x.useState(null),[b]=x.useState(!1),[S,T]=x.useState(!1),[k,w]=x.useState({open:!1,message:"",severity:"info"}),[j,D]=x.useState(!1),[A,_]=x.useState(!1),[P,M]=x.useState(null),[R,N]=x.useState(!1),[W,U]=x.useState(!1),[V,z]=x.useState([2,2,2,2]),[de,F]=x.useState(3),{currentUser:K,isGuest:B,hasGuestData:q}=La(),{generateWorkout:le,allExercises:he,exerciseDB:J}=AE(),ee=i9();x.useEffect(()=>{(async()=>{try{console.log("Running data structure migration...");const Se=p9();Se.status==="success"?console.log("Migration completed:",Se):Se.status==="skipped"?console.log("Migration skipped:",Se.reason):console.error("Migration failed:",Se)}catch(Se){console.error("Error running migration:",Se)}})()},[]),x.useEffect(()=>{(async()=>{try{await BE()}catch(Se){console.error("Error cleaning up expired backups:",Se)}})()},[]),x.useEffect(()=>{D(B?HR():!1)},[B]),x.useEffect(()=>{K&&!B&&q&&_(!0)},[K,B,q]);const Z=async Pe=>{if(_(!1),Pe||$d(),K&&K.uid)try{await bj(K.uid)}catch(Se){console.error("Error loading user data after migration:",Se)}},ae=()=>{UR(),D(!1)};x.useEffect(()=>{const Pe=()=>{if(window.visualViewport){const Ie=window.visualViewport;document.documentElement.style.setProperty("--viewport-height",`${Ie.height}px`)}},Se=()=>{setTimeout(()=>{window.scrollTo(0,0),Pe()},100)};return window.addEventListener("resize",Pe),window.addEventListener("orientationchange",Se),window.visualViewport&&window.visualViewport.addEventListener("resize",Pe),Pe(),()=>{window.removeEventListener("resize",Pe),window.removeEventListener("orientationchange",Se),window.visualViewport&&window.visualViewport.removeEventListener("resize",Pe)}},[]),x.useEffect(()=>{if(he.length>0){const Pe=new Set;he.forEach(Se=>{const Ie=Se.Equipment;Ie.includes("Cable")?Pe.add("Cable Machine"):Ie.includes("Dumbbell")?Pe.add("Dumbbells"):Pe.add(Ie)}),g(Array.from(Pe).sort())}},[he]);const ce=Pe=>{t(Pe)},se=Pe=>{u(Pe)},oe=Pe=>{if(Pe instanceof Set)h(Pe);else{const Se=new Set;Se.add(Pe),h(Se)}},ke=(Pe,Se,Ie=null,G=[2,2,2,2])=>{z(G);const we=Ie||le(Pe,Se,G);a(we),u(Pe),U(!1),T(!0),t("preview")},X=(Pe,Se,Ie=[2,2,2,2])=>{u(Pe),z(Ie);const G=Ie.reduce((Ae,De)=>Ae+De,0),we=Array(G).fill(null);a(we),U(!0),T(!0),t("preview")},ve=(Pe,Se,Ie)=>{Pe&&a(Pe),Se&&z(Se),Ie!==void 0&&F(Ie),T(!1),U(!1),t("workout")},xe=()=>{T(!1),U(!1),t("home")},ge=x.useCallback((Pe,Se)=>{if(!J||Object.keys(J).length===0){console.error("Exercise database not available"),w({open:!0,message:"Exercise database not loaded",severity:"error"});return}const Ie=Pe["Primary Muscle"],G=Pe["Exercise Type"],we=Pe["Exercise Name"],Ae=J[Ie]||[];let De=0;const Ne=3;let Fe=null;for(;De<Ne&&!Fe;){De++;let Ye=Ae;const Xe=Array.from(d);Xe.includes("all")||(Ye=Ae.filter(Re=>{const Ge=Re.Equipment;return Xe.some(ut=>ut==="Cable Machine"?Ge.includes("Cable"):ut==="Dumbbells"?Ge.includes("Dumbbell"):Ge.includes(ut))})),Ye=Ye.filter(Re=>Re["Exercise Type"]===G);const Ce=s.map(Re=>Re["Exercise Name"]);let Me=Ye.filter(Re=>Re["Exercise Name"]!==we&&!Ce.includes(Re["Exercise Name"]));if(Me.length===0&&(Me=Ye.filter(Re=>Re["Exercise Name"]!==we)),Me.length===0)continue;const We=[...Me];Me.forEach(Re=>{ee.has(Re["Exercise Name"])&&We.push(Re)}),Fe=We[Math.floor(Math.random()*We.length)]}if(!Fe){w({open:!0,message:"No alternative exercises available",severity:"warning"});return}const ft=[...s];ft[Se]=Fe,a(ft)},[J,s,d,ee]),Ee=x.useCallback((Pe,Se)=>{if(Se?.toLowerCase().includes("bodyweight")||Se?.toLowerCase().includes("body weight"))return 0;const Ie=Se.includes("Dumbbell")||Se.includes("Kettlebell"),G=Se?.toLowerCase().includes("barbell");return Ed.UPPER_BODY.includes(Pe)?G?Ta.UPPER_BODY.BARBELL:Ta.UPPER_BODY.DUMBBELL:Ed.LOWER_BODY.includes(Pe)?G?Ta.LOWER_BODY.BARBELL:Ie?Ta.LOWER_BODY.DUMBBELL:5:2.5},[]),Le=x.useCallback((Pe,Se)=>{if(Se?.toLowerCase().includes("bodyweight")||Se?.toLowerCase().includes("body weight"))return 0;const Ie=Se.includes("Dumbbell")||Se.includes("Kettlebell"),G=Se?.toLowerCase().includes("barbell");return Ed.UPPER_BODY.includes(Pe)?G?Ta.UPPER_BODY.BARBELL:Ta.UPPER_BODY.DUMBBELL:Ed.LOWER_BODY.includes(Pe)?G?Ta.LOWER_BODY.BARBELL:Ie?Ta.LOWER_BODY.DUMBBELL:5:2.5},[]),je=x.useCallback(async Pe=>{const Se=[],Ie=[];let G=0;for(const[De,Ne]of Object.entries(Pe.exercises)){const Fe=Ne.sets[Ne.sets.length-1];for(const ft of Ne.sets)ft.weight>0&&ft.reps>0&&(G+=ft.weight*ft.reps);if(Fe?.weight>0){const ft=await Cr(De);if(Ne.sets.every(Xe=>Xe.reps>=ft)&&Ne.sets.length>=M1){const Xe=s.find(Ce=>Ce["Exercise Name"]===De);if(Xe){const Ce=Xe["Primary Muscle"].split("(")[0].trim(),Me=Ee(Ce,Xe.Equipment);if(Me>0){const We=Fe.weight+Me;await Bi(De,We),Se.push({exercise:De,oldWeight:Fe.weight,newWeight:We,increase:Me}),await n_()}}}else if(r7(Ne.sets,ft,M1)){const Ce=s.find(Me=>Me["Exercise Name"]===De);if(Ce){const Me=Ce["Primary Muscle"].split("(")[0].trim(),We=Le(Me,Ce.Equipment);if(We>0&&Fe.weight>We){const Re=Fe.weight-We;await Bi(De,Re),Ie.push({exercise:De,oldWeight:Fe.weight,newWeight:Re,decrease:We})}else await Bi(De,Fe.weight)}else await Bi(De,Fe.weight)}else await Bi(De,Fe.weight)}}if(G>0&&await s_(G),Se.length>0){const De=Se.map(Ne=>`${Ne.exercise}: ${Ne.oldWeight}  ${Ne.newWeight} lbs (+${Ne.increase} lbs)`);w({open:!0,message:` Progressive Overload! You hit your target reps!

${De.join(`
`)}`,severity:"success"})}else if(Ie.length>0){const De=Ie.map(Ne=>`${Ne.exercise}: ${Ne.oldWeight}  ${Ne.newWeight} lbs (-${Ne.decrease} lbs)`);w({open:!0,message:` Weight adjusted for next session. Keep pushing!

${De.join(`
`)}`,severity:"info"})}const we={...Pe,type:l};await Zg(we);const Ae=await Kc();Ae.totalWorkouts+=1,Ae.totalTime+=Pe.duration,await Jg(Ae);try{const De=await Cj(),Ne=await ei(),Fe=d7(Ae,Ne,De);if(Fe.length>0){for(const ft of Fe)await t_(ft.id);M(Fe[0]),N(!0)}}catch(De){console.error("Error checking achievements:",De)}v(we),t("completion")},[l,s,Ee,Le]),qe=()=>{t("home")},fe=()=>{t("home")},ie=()=>{if(!y)return;let Se="data:text/csv;charset=utf-8,"+["Date","WorkoutType","Duration","Exercise","Set","Weight","Reps"].join(",")+`
`;for(const we in y.exercises)y.exercises[we].sets.forEach(De=>{const Ne=[new Date(y.date).toLocaleString(),y.type,y.duration,we,De.set,De.weight,De.reps];Se+=Ne.join(",")+`
`});const Ie=encodeURI(Se),G=document.createElement("a");G.setAttribute("href",Ie),G.setAttribute("download",`GoodLift_Workout_${new Date(y.date).toISOString().split("T")[0]}.csv`),document.body.appendChild(G),G.click(),document.body.removeChild(G)},{theme:Ve}=PE();return K?r.jsxs(kS,{theme:Ve,children:[r.jsx(TS,{}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[r.jsx(Qj,{onNavigate:ce}),r.jsxs("div",{id:"app",style:{flex:1,marginTop:"60px",paddingBottom:"80px"},children:[e==="home"&&r.jsx(lE,{onNavigate:ce,loading:b,workoutType:l,selectedEquipment:d,equipmentOptions:p,onWorkoutTypeChange:se,onEquipmentChange:oe,onStartWorkout:ke,onCustomize:X}),e==="selection"&&r.jsx(bx,{workoutType:l,selectedEquipment:d,equipmentOptions:p,onWorkoutTypeChange:se,onEquipmentChange:oe,onStartWorkout:ke,onCustomize:X,loading:b}),e==="preview"&&S&&r.jsx(vx,{workout:s,workoutType:l,onStart:ve,onCancel:xe,onRandomizeExercise:ge,equipmentFilter:Array.from(d),isCustomizeMode:W,supersetConfig:V,setsPerSuperset:de}),e==="workout"&&s.length>0&&r.jsx(dE,{workoutPlan:s,onComplete:je,onExit:qe,supersetConfig:V,setsPerSuperset:de}),e==="completion"&&y&&r.jsx(Sx,{workoutData:y,workoutPlan:s,onFinish:fe,onExportCSV:ie}),e==="progress"&&r.jsx(TE,{onNavigate:ce,onStartWorkout:ke}),(e==="cardio"||e==="hiit"||e==="timer")&&r.jsx(ox,{onNavigate:ce}),e==="log-activity"&&r.jsx(xx,{onNavigate:ce}),(e==="stretch"||e==="mobility")&&r.jsx(D7,{}),e==="exercise-list"&&r.jsx(A7,{}),e==="settings"&&r.jsx(FE,{onNavigate:ce}),e==="profile"&&r.jsx(s9,{}),e==="edit-weekly-schedule"&&r.jsx(qE,{onNavigate:ce})]}),r.jsx(By,{currentScreen:e,onNavigate:ce}),r.jsx(YE,{open:A,onClose:Z,userId:K?.uid}),r.jsx(KE,{open:R,onClose:()=>{N(!1),M(null)},achievement:P}),r.jsx(Hs,{open:j,anchorOrigin:{vertical:"bottom",horizontal:"center"},sx:{bottom:{xs:80,sm:24}},children:r.jsx(At,{severity:"info",onClose:ae,action:r.jsx(Te,{color:"inherit",size:"small",onClick:()=>t("progress"),sx:{fontWeight:600},children:"Sign Up"}),sx:{width:"100%",maxWidth:"600px","& .MuiAlert-message":{fontSize:"0.95rem",fontWeight:500}},children:"You're in guest mode. Sign up to save your data permanently!"})}),r.jsx(Hs,{open:k.open,autoHideDuration:8e3,onClose:()=>w({...k,open:!1}),anchorOrigin:{vertical:"top",horizontal:"center"},children:r.jsx(At,{onClose:()=>w({...k,open:!1}),severity:k.severity,sx:{whiteSpace:"pre-line","& .MuiAlert-message":{fontSize:"1rem",fontWeight:500}},children:k.message})})]})]}):r.jsxs(kS,{theme:Ve,children:[r.jsx(TS,{}),r.jsx(C7,{})]})}function g9(){return r.jsx(OE,{children:r.jsx(m9,{})})}var Bh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},y9={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},x9=class{#e=y9;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},Tg=new x9;function b9(e){setTimeout(e,0)}var Fh=typeof window>"u"||"Deno"in globalThis;function Ks(){}function v9(e,t){return typeof e=="function"?e(t):e}function S9(e){return typeof e=="number"&&e>=0&&e!==1/0}function w9(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Dg(e,t){return typeof e=="function"?e(t):e}function C9(e,t){return typeof e=="function"?e(t):e}function dC(e,t){const{type:s="all",exact:a,fetchStatus:l,predicate:u,queryKey:d,stale:h}=e;if(d){if(a){if(t.queryHash!==Dx(d,t.options))return!1}else if(!Uc(t.queryKey,d))return!1}if(s!=="all"){const p=t.isActive();if(s==="active"&&!p||s==="inactive"&&p)return!1}return!(typeof h=="boolean"&&t.isStale()!==h||l&&l!==t.state.fetchStatus||u&&!u(t))}function hC(e,t){const{exact:s,status:a,predicate:l,mutationKey:u}=e;if(u){if(!t.options.mutationKey)return!1;if(s){if(Hc(t.options.mutationKey)!==Hc(u))return!1}else if(!Uc(t.options.mutationKey,u))return!1}return!(a&&t.state.status!==a||l&&!l(t))}function Dx(e,t){return(t?.queryKeyHashFn||Hc)(e)}function Hc(e){return JSON.stringify(e,(t,s)=>Eg(s)?Object.keys(s).sort().reduce((a,l)=>(a[l]=s[l],a),{}):s)}function Uc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>Uc(e[s],t[s])):!1}var j9=Object.prototype.hasOwnProperty;function XE(e,t){if(e===t)return e;const s=fC(e)&&fC(t);if(!s&&!(Eg(e)&&Eg(t)))return t;const l=(s?e:Object.keys(e)).length,u=s?t:Object.keys(t),d=u.length,h=s?new Array(d):{};let p=0;for(let g=0;g<d;g++){const y=s?g:u[g],v=e[y],b=t[y];if(v===b){h[y]=v,(s?g<l:j9.call(e,y))&&p++;continue}if(v===null||b===null||typeof v!="object"||typeof b!="object"){h[y]=b;continue}const S=XE(v,b);h[y]=S,S===v&&p++}return l===d&&p===l?e:h}function fC(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Eg(e){if(!pC(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!pC(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function pC(e){return Object.prototype.toString.call(e)==="[object Object]"}function k9(e){return new Promise(t=>{Tg.setTimeout(t,e)})}function T9(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?XE(e,t):t}function D9(e,t,s=0){const a=[...e,t];return s&&a.length>s?a.slice(1):a}function E9(e,t,s=0){const a=[t,...e];return s&&a.length>s?a.slice(0,-1):a}var Ex=Symbol();function ZE(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Ex?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var A9=class extends Bh{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Fh&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},JE=new A9;function M9(){let e,t;const s=new Promise((l,u)=>{e=l,t=u});s.status="pending",s.catch(()=>{});function a(l){Object.assign(s,l),delete s.resolve,delete s.reject}return s.resolve=l=>{a({status:"fulfilled",value:l}),e(l)},s.reject=l=>{a({status:"rejected",reason:l}),t(l)},s}var P9=b9;function O9(){let e=[],t=0,s=h=>{h()},a=h=>{h()},l=P9;const u=h=>{t?e.push(h):l(()=>{s(h)})},d=()=>{const h=e;e=[],h.length&&l(()=>{a(()=>{h.forEach(p=>{s(p)})})})};return{batch:h=>{let p;t++;try{p=h()}finally{t--,t||d()}return p},batchCalls:h=>(...p)=>{u(()=>{h(...p)})},schedule:u,setNotifyFunction:h=>{s=h},setBatchNotifyFunction:h=>{a=h},setScheduler:h=>{l=h}}}var Xn=O9(),R9=class extends Bh{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Fh&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},ch=new R9;function _9(e){return Math.min(1e3*2**e,3e4)}function eA(e){return(e??"online")==="online"?ch.isOnline():!0}var Ag=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function tA(e){let t=!1,s=0,a;const l=M9(),u=()=>l.status!=="pending",d=k=>{if(!u()){const w=new Ag(k);b(w),e.onCancel?.(w)}},h=()=>{t=!0},p=()=>{t=!1},g=()=>JE.isFocused()&&(e.networkMode==="always"||ch.isOnline())&&e.canRun(),y=()=>eA(e.networkMode)&&e.canRun(),v=k=>{u()||(a?.(),l.resolve(k))},b=k=>{u()||(a?.(),l.reject(k))},S=()=>new Promise(k=>{a=w=>{(u()||g())&&k(w)},e.onPause?.()}).then(()=>{a=void 0,u()||e.onContinue?.()}),T=()=>{if(u())return;let k;const w=s===0?e.initialPromise:void 0;try{k=w??e.fn()}catch(j){k=Promise.reject(j)}Promise.resolve(k).then(v).catch(j=>{if(u())return;const D=e.retry??(Fh?0:3),A=e.retryDelay??_9,_=typeof A=="function"?A(s,j):A,P=D===!0||typeof D=="number"&&s<D||typeof D=="function"&&D(s,j);if(t||!P){b(j);return}s++,e.onFail?.(s,j),k9(_).then(()=>g()?void 0:S()).then(()=>{t?b(j):T()})})};return{promise:l,status:()=>l.status,cancel:d,continue:()=>(a?.(),l),cancelRetry:h,continueRetry:p,canStart:y,start:()=>(y()?T():S().then(T),l)}}var nA=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),S9(this.gcTime)&&(this.#e=Tg.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Fh?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Tg.clearTimeout(this.#e),this.#e=void 0)}},I9=class extends nA{#e;#t;#n;#i;#s;#r;#o;constructor(e){super(),this.#o=!1,this.#r=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=gC(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){if(this.options={...this.#r,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=gC(this.options);t.data!==void 0&&(this.setState(mC(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const s=T9(this.state.data,e,this.options);return this.#a({data:s,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),s}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#s?.promise;return this.#s?.cancel(e),t?t.then(Ks).catch(Ks):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>C9(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ex||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Dg(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!w9(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#o=!0,s.signal)})},l=()=>{const h=ZE(this.options,t),g=(()=>{const y={client:this.#i,queryKey:this.queryKey,meta:this.meta};return a(y),y})();return this.#o=!1,this.options.persister?this.options.persister(h,g,this):h(g)},d=(()=>{const h={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:l};return a(h),h})();this.options.behavior?.onFetch(d,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#a({type:"fetch",meta:d.fetchOptions?.meta}),this.#s=tA({initialPromise:t?.initialPromise,fn:d.fetchFn,onCancel:h=>{h instanceof Ag&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(h,p)=>{this.#a({type:"failed",failureCount:h,error:p})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0});try{const h=await this.#s.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof Ag){if(h.silent)return this.#s.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#a({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#a(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...W9(s.data,this.options),fetchMeta:e.meta??null};case"success":const a={...s,...mC(e.data,e.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?a:void 0,a;case"error":const l=e.error;return{...s,error:l,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),Xn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function W9(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:eA(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function mC(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function gC(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,a=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}function yC(e){return{onFetch:(t,s)=>{const a=t.options,l=t.fetchOptions?.meta?.fetchMore?.direction,u=t.state.data?.pages||[],d=t.state.data?.pageParams||[];let h={pages:[],pageParams:[]},p=0;const g=async()=>{let y=!1;const v=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},b=ZE(t.options,t.fetchOptions),S=async(T,k,w)=>{if(y)return Promise.reject();if(k==null&&T.pages.length)return Promise.resolve(T);const D=(()=>{const M={client:t.client,queryKey:t.queryKey,pageParam:k,direction:w?"backward":"forward",meta:t.options.meta};return v(M),M})(),A=await b(D),{maxPages:_}=t.options,P=w?E9:D9;return{pages:P(T.pages,A,_),pageParams:P(T.pageParams,k,_)}};if(l&&u.length){const T=l==="backward",k=T?N9:xC,w={pages:u,pageParams:d},j=k(a,w);h=await S(w,j,T)}else{const T=e??u.length;do{const k=p===0?d[0]??a.initialPageParam:xC(a,h);if(p>0&&k==null)break;h=await S(h,k),p++}while(p<T)}return h};t.options.persister?t.fetchFn=()=>t.options.persister?.(g,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s):t.fetchFn=g}}}function xC(e,{pages:t,pageParams:s}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,s[a],s):void 0}function N9(e,{pages:t,pageParams:s}){return t.length>0?e.getPreviousPageParam?.(t[0],t,s[0],s):void 0}var L9=class extends nA{#e;#t;#n;#i;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||z9(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#s({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=tA({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(u,d)=>{this.#s({type:"failed",failureCount:u,error:d})},onPause:()=>{this.#s({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const a=this.state.status==="pending",l=!this.#i.canStart();try{if(a)t();else{this.#s({type:"pending",variables:e,isPaused:l}),await this.#n.config.onMutate?.(e,this,s);const d=await this.options.onMutate?.(e,s);d!==this.state.context&&this.#s({type:"pending",context:d,variables:e,isPaused:l})}const u=await this.#i.start();return await this.#n.config.onSuccess?.(u,e,this.state.context,this,s),await this.options.onSuccess?.(u,e,this.state.context,s),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(u,null,e,this.state.context,s),this.#s({type:"success",data:u}),u}catch(u){try{throw await this.#n.config.onError?.(u,e,this.state.context,this,s),await this.options.onError?.(u,e,this.state.context,s),await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(void 0,u,e,this.state.context,s),u}finally{this.#s({type:"error",error:u})}}finally{this.#n.runNext(this)}}#s(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Xn.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function z9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var V9=class extends Bh{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,s){const a=new L9({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:s});return this.add(a),a}add(e){this.#e.add(e);const t=_d(e);if(typeof t=="string"){const s=this.#t.get(t);s?s.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=_d(e);if(typeof t=="string"){const s=this.#t.get(t);if(s)if(s.length>1){const a=s.indexOf(e);a!==-1&&s.splice(a,1)}else s[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=_d(e);if(typeof t=="string"){const a=this.#t.get(t)?.find(l=>l.state.status==="pending");return!a||a===e}else return!0}runNext(e){const t=_d(e);return typeof t=="string"?this.#t.get(t)?.find(a=>a!==e&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Xn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(s=>hC(t,s))}findAll(e={}){return this.getAll().filter(t=>hC(e,t))}notify(e){Xn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Xn.batch(()=>Promise.all(e.map(t=>t.continue().catch(Ks))))}};function _d(e){return e.options.scope?.id}var B9=class extends Bh{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,s){const a=t.queryKey,l=t.queryHash??Dx(a,t);let u=this.get(l);return u||(u=new I9({client:e,queryKey:a,queryHash:l,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(a)}),this.add(u)),u}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Xn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>dC(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>dC(e,s)):t}notify(e){Xn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Xn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Xn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},F9=class{#e;#t;#n;#i;#s;#r;#o;#a;constructor(e={}){this.#e=e.queryCache||new B9,this.#t=e.mutationCache||new V9,this.#n=e.defaultOptions||{},this.#i=new Map,this.#s=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#o=JE.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=ch.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=this.#e.build(this,t),a=s.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Dg(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:s})=>{const a=s.data;return[t,a]})}setQueryData(e,t,s){const a=this.defaultQueryOptions({queryKey:e}),u=this.#e.get(a.queryHash)?.state.data,d=v9(t,u);if(d!==void 0)return this.#e.build(this,a).setData(d,{...s,manual:!0})}setQueriesData(e,t,s){return Xn.batch(()=>this.#e.findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,s)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Xn.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=this.#e;return Xn.batch(()=>(s.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},a=Xn.batch(()=>this.#e.findAll(e).map(l=>l.cancel(s)));return Promise.all(a).then(Ks).catch(Ks)}invalidateQueries(e,t={}){return Xn.batch(()=>(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},a=Xn.batch(()=>this.#e.findAll(e).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let u=l.fetch(void 0,s);return s.throwOnError||(u=u.catch(Ks)),l.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(a).then(Ks)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=this.#e.build(this,t);return s.isStaleByTime(Dg(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ks).catch(Ks)}fetchInfiniteQuery(e){return e.behavior=yC(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ks).catch(Ks)}ensureInfiniteQueryData(e){return e.behavior=yC(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ch.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#i.set(Hc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#i.values()],s={};return t.forEach(a=>{Uc(e,a.queryKey)&&Object.assign(s,a.defaultOptions)}),s}setMutationDefaults(e,t){this.#s.set(Hc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#s.values()],s={};return t.forEach(a=>{Uc(e,a.mutationKey)&&Object.assign(s,a.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Dx(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ex&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},H9=x.createContext(void 0),U9=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(H9.Provider,{value:e,children:t}));function q9(e){const t="=".repeat((4-e.length%4)%4),s=(e+t).replace(/-/g,"+").replace(/_/g,"/"),a=window.atob(s),l=new Uint8Array(a.length);for(let u=0;u<a.length;++u)l[u]=a.charCodeAt(u);return l}async function Y9(e){try{if(!("serviceWorker"in navigator))return console.warn("[Push Notifications] Service workers are not supported in this browser"),null;if(!("PushManager"in window))return console.warn("[Push Notifications] Push notifications are not supported in this browser"),null;if(console.log("[Push Notifications] Requesting notification permission..."),await Notification.requestPermission()!=="granted")return console.warn("[Push Notifications] Notification permission denied by user"),null;console.log("[Push Notifications] Notification permission granted"),console.log("[Push Notifications] Waiting for service worker to be ready...");const s=await navigator.serviceWorker.ready;console.log("[Push Notifications] Service worker is ready");const a=q9(e);console.log("[Push Notifications] Subscribing to push notifications...");const l=await s.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:a});return console.log("[Push Notifications]  Successfully subscribed to push notifications!"),console.log("[Push Notifications]  Subscription object:"),console.log(JSON.stringify(l,null,2)),console.log(`
[Push Notifications]  To enable push notifications:`),console.log("1. Send this subscription object to your backend server"),console.log("2. Store it in your database associated with this user"),console.log("3. Use it to send push notifications via web-push library or similar"),console.log(`
Example backend code (Node.js with web-push):`),console.log('const webpush = require("web-push");'),console.log('webpush.sendNotification(subscription, "Your notification message");'),l}catch(t){return console.error("[Push Notifications]  Error subscribing to push notifications:",t),console.error("[Push Notifications] Error details:",t.message),null}}async function G9(){try{return!("serviceWorker"in navigator)||!("PushManager"in window)?null:await(await navigator.serviceWorker.ready).pushManager.getSubscription()}catch(e){return console.error("[Push Notifications] Error checking existing subscription:",e),null}}const $9="BE0ZQSJHIlmXfeA5ddjITNrqrS0TmGfGGQjBufmOlUKxRUtEwja2qHmTZ0pXHepJzGV2qcwH0gJ_D6ot6cWGB6w";async function K9(){try{console.log("[Push Init] Initializing push notification subscription..."),console.log("[Push Init] Setting up both Firebase Cloud Messaging and native Web Push API"),console.log("[Push Init] Step 1: Getting Firebase Cloud Messaging token..."),await B7()?(console.log("[Push Init]  Firebase Cloud Messaging initialized"),console.log("[Push Init] You can use this FCM token to send notifications via Firebase Admin SDK")):console.log("[Push Init]  Firebase Cloud Messaging not available (may not be supported in this browser)"),console.log("[Push Init] Step 2: Setting up native Web Push API subscription...");const t=await G9();if(t)console.log("[Push Init]  Native Web Push: Already subscribed"),console.log("[Push Init] Existing subscription:",JSON.stringify(t,null,2));else{console.log("[Push Init] Native Web Push: No existing subscription, creating new subscription...");const s=await Y9($9);console.log(s?"[Push Init]  Native Web Push: Subscription created successfully":"[Push Init]  Native Web Push: Subscription not created (user may have denied permission)")}console.log(`
[Push Init] `),console.log("[Push Init]  Push notification setup complete!"),console.log("[Push Init] "),console.log("[Push Init] You now have two ways to send push notifications:"),console.log("[Push Init] 1  Firebase Cloud Messaging (FCM):"),console.log("[Push Init]     - Use the FCM token logged above"),console.log("[Push Init]     - Send via Firebase Admin SDK or FCM REST API"),console.log("[Push Init]     - Background messages handled by firebase-messaging-sw.js"),console.log("[Push Init] 2  Native Web Push API:"),console.log("[Push Init]     - Use the subscription object logged above"),console.log("[Push Init]     - Send via web-push library or any Web Push service"),console.log("[Push Init]     - Push events handled by service-worker.js"),console.log(`[Push Init] 
`)}catch(e){console.error("[Push Init] Error initializing push notifications:",e)}}const Q9=new F9;"serviceWorker"in navigator&&"PushManager"in window&&window.addEventListener("load",()=>{K9()});XP.createRoot(document.getElementById("root")).render(r.jsx(Ma.StrictMode,{children:r.jsx(U9,{client:Q9,children:r.jsx(Dj,{children:r.jsx(_E,{children:r.jsx(kE,{children:r.jsx(Kj,{children:r.jsx(g9,{})})})})})})}))});export default X9();
